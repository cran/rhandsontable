<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Jonathan Owen" />

<meta name="date" content="2016-03-11" />

<title>rhandsontable Introduction</title>

<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEltcGxlbWVudCBhIHZhZ3VlIGZhY3NpbWlsaWUgb2YgalF1ZXJ5J3MgZGF0YSBtZXRob2QKICBmdW5jdGlvbiBlbGVtZW50RGF0YShlbCwgbmFtZSwgdmFsdWUpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDIpIHsKICAgICAgcmV0dXJuIGVsWyJodG1sd2lkZ2V0X2RhdGFfIiArIG5hbWVdOwogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDMpIHsKICAgICAgZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV0gPSB2YWx1ZTsKICAgICAgcmV0dXJuIGVsOwogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIGZvciBlbGVtZW50RGF0YTogIiArCiAgICAgICAgYXJndW1lbnRzLmxlbmd0aCk7CiAgICB9CiAgfQoKICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM0NDYxNzAvZXNjYXBlLXN0cmluZy1mb3ItdXNlLWluLWphdmFzY3JpcHQtcmVnZXgKICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyKSB7CiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcLVxbXF1cL1x7XH1cKFwpXCpcK1w/XC5cXFxeXCRcfF0vZywgIlxcJCYiKTsKICB9CgogIGZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBjbGFzc05hbWUpIHsKICAgIHZhciByZSA9IG5ldyBSZWdFeHAoIlxcYiIgKyBlc2NhcGVSZWdFeHAoY2xhc3NOYW1lKSArICJcXGIiKTsKICAgIHJldHVybiByZS50ZXN0KGVsLmNsYXNzTmFtZSk7CiAgfQoKICAvLyBlbGVtZW50cyAtIGFycmF5IChvciBhcnJheS1saWtlIG9iamVjdCkgb2YgSFRNTCBlbGVtZW50cwogIC8vIGNsYXNzTmFtZSAtIGNsYXNzIG5hbWUgdG8gdGVzdCBmb3IKICAvLyBpbmNsdWRlIC0gaWYgdHJ1ZSwgb25seSByZXR1cm4gZWxlbWVudHMgd2l0aCBnaXZlbiBjbGFzc05hbWU7CiAgLy8gICBpZiBmYWxzZSwgb25seSByZXR1cm4gZWxlbWVudHMgKndpdGhvdXQqIGdpdmVuIGNsYXNzTmFtZQogIGZ1bmN0aW9uIGZpbHRlckJ5Q2xhc3MoZWxlbWVudHMsIGNsYXNzTmFtZSwgaW5jbHVkZSkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGhhc0NsYXNzKGVsZW1lbnRzW2ldLCBjbGFzc05hbWUpID09IGluY2x1ZGUpCiAgICAgICAgcmVzdWx0cy5wdXNoKGVsZW1lbnRzW2ldKTsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH0KCiAgZnVuY3Rpb24gb24ob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmouYWRkRXZlbnRMaXN0ZW5lcikgewogICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZ1bmMsIGZhbHNlKTsKICAgIH0gZWxzZSBpZiAob2JqLmF0dGFjaEV2ZW50KSB7CiAgICAgIG9iai5hdHRhY2hFdmVudChldmVudE5hbWUsIGZ1bmMpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gb2ZmKG9iaiwgZXZlbnROYW1lLCBmdW5jKSB7CiAgICBpZiAob2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIpCiAgICAgIG9iai5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgZWxzZSBpZiAob2JqLmRldGFjaEV2ZW50KSB7CiAgICAgIG9iai5kZXRhY2hFdmVudChldmVudE5hbWUsIGZ1bmMpOwogICAgfQogIH0KCiAgLy8gVHJhbnNsYXRlIGFycmF5IG9mIHZhbHVlcyB0byB0b3AvcmlnaHQvYm90dG9tL2xlZnQsIGFzIHVzdWFsIHdpdGgKICAvLyB0aGUgInBhZGRpbmciIENTUyBwcm9wZXJ0eQogIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy9wYWRkaW5nCiAgZnVuY3Rpb24gdW5wYWNrUGFkZGluZyh2YWx1ZSkgewogICAgaWYgKHR5cGVvZih2YWx1ZSkgPT09ICJudW1iZXIiKQogICAgICB2YWx1ZSA9IFt2YWx1ZV07CiAgICBpZiAodmFsdWUubGVuZ3RoID09PSAxKSB7CiAgICAgIHJldHVybiB7dG9wOiB2YWx1ZVswXSwgcmlnaHQ6IHZhbHVlWzBdLCBib3R0b206IHZhbHVlWzBdLCBsZWZ0OiB2YWx1ZVswXX07CiAgICB9CiAgICBpZiAodmFsdWUubGVuZ3RoID09PSAyKSB7CiAgICAgIHJldHVybiB7dG9wOiB2YWx1ZVswXSwgcmlnaHQ6IHZhbHVlWzFdLCBib3R0b206IHZhbHVlWzBdLCBsZWZ0OiB2YWx1ZVsxXX07CiAgICB9CiAgICBpZiAodmFsdWUubGVuZ3RoID09PSAzKSB7CiAgICAgIHJldHVybiB7dG9wOiB2YWx1ZVswXSwgcmlnaHQ6IHZhbHVlWzFdLCBib3R0b206IHZhbHVlWzJdLCBsZWZ0OiB2YWx1ZVsxXX07CiAgICB9CiAgICBpZiAodmFsdWUubGVuZ3RoID09PSA0KSB7CiAgICAgIHJldHVybiB7dG9wOiB2YWx1ZVswXSwgcmlnaHQ6IHZhbHVlWzFdLCBib3R0b206IHZhbHVlWzJdLCBsZWZ0OiB2YWx1ZVszXX07CiAgICB9CiAgfQoKICAvLyBDb252ZXJ0IGFuIHVucGFja2VkIHBhZGRpbmcgb2JqZWN0IHRvIGEgQ1NTIHZhbHVlCiAgZnVuY3Rpb24gcGFkZGluZ1RvQ3NzKHBhZGRpbmdPYmopIHsKICAgIHJldHVybiBwYWRkaW5nT2JqLnRvcCArICJweCAiICsgcGFkZGluZ09iai5yaWdodCArICJweCAiICsgcGFkZGluZ09iai5ib3R0b20gKyAicHggIiArIHBhZGRpbmdPYmoubGVmdCArICJweCI7CiAgfQoKICAvLyBNYWtlcyBhIG51bWJlciBzdWl0YWJsZSBmb3IgQ1NTCiAgZnVuY3Rpb24gcHgoeCkgewogICAgaWYgKHR5cGVvZih4KSA9PT0gIm51bWJlciIpCiAgICAgIHJldHVybiB4ICsgInB4IjsKICAgIGVsc2UKICAgICAgcmV0dXJuIHg7CiAgfQoKICAvLyBSZXRyaWV2ZXMgcnVudGltZSB3aWRnZXQgc2l6aW5nIGluZm9ybWF0aW9uIGZvciBhbiBlbGVtZW50LgogIC8vIFRoZSByZXR1cm4gdmFsdWUgaXMgZWl0aGVyIG51bGwsIG9yIGFuIG9iamVjdCB3aXRoIGZpbGwsIHBhZGRpbmcsCiAgLy8gZGVmYXVsdFdpZHRoLCBkZWZhdWx0SGVpZ2h0IGZpZWxkcy4KICBmdW5jdGlvbiBzaXppbmdQb2xpY3koZWwpIHsKICAgIHZhciBzaXppbmdFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtkYXRhLWZvcj0nIiArIGVsLmlkICsgIiddW3R5cGU9J2FwcGxpY2F0aW9uL2h0bWx3aWRnZXQtc2l6aW5nJ10iKTsKICAgIGlmICghc2l6aW5nRWwpCiAgICAgIHJldHVybiBudWxsOwogICAgdmFyIHNwID0gSlNPTi5wYXJzZShzaXppbmdFbC50ZXh0Q29udGVudCB8fCBzaXppbmdFbC50ZXh0IHx8ICJ7fSIpOwogICAgaWYgKHZpZXdlck1vZGUpIHsKICAgICAgcmV0dXJuIHNwLnZpZXdlcjsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBzcC5icm93c2VyOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdFNpemluZyhlbCkgewogICAgdmFyIHNpemluZyA9IHNpemluZ1BvbGljeShlbCk7CiAgICBpZiAoIXNpemluZykKICAgICAgcmV0dXJuOwoKICAgIHZhciBjZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaHRtbHdpZGdldF9jb250YWluZXIiKTsKICAgIGlmICghY2VsKQogICAgICByZXR1cm47CgogICAgaWYgKHR5cGVvZihzaXppbmcucGFkZGluZykgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gIjAiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmcgPSBwYWRkaW5nVG9Dc3ModW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZykpOwogICAgfQoKICAgIGlmIChzaXppbmcuZmlsbCkgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIGlmIChjZWwpIHsKICAgICAgICBjZWwuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgICAgIHZhciBwYWQgPSB1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKTsKICAgICAgICBjZWwuc3R5bGUudG9wID0gcGFkLnRvcCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLnJpZ2h0ID0gcGFkLnJpZ2h0ICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUuYm90dG9tID0gcGFkLmJvdHRvbSArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmxlZnQgPSBwYWQubGVmdCArICJweCI7CiAgICAgICAgZWwuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldEhlaWdodDsgfQogICAgICB9OwoKICAgIH0gZWxzZSB7CiAgICAgIGVsLnN0eWxlLndpZHRoID0gcHgoc2l6aW5nLndpZHRoKTsKICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gcHgoc2l6aW5nLmhlaWdodCk7CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGVsLm9mZnNldFdpZHRoOyB9LAogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKICAgIH0KICB9CgogIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb25zIGZvciBtZXRob2RzCiAgdmFyIGRlZmF1bHRzID0gewogICAgZmluZDogZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgcmV0dXJuIHF1ZXJ5U2VsZWN0b3JBbGwoc2NvcGUsICIuIiArIHRoaXMubmFtZSk7CiAgICB9LAogICAgcmVuZGVyRXJyb3I6IGZ1bmN0aW9uKGVsLCBlcnIpIHsKICAgICAgdmFyICRlbCA9ICQoZWwpOwoKICAgICAgdGhpcy5jbGVhckVycm9yKGVsKTsKCiAgICAgIC8vIEFkZCBhbGwgdGhlc2UgZXJyb3IgY2xhc3NlcywgYXMgU2hpbnkgZG9lcwogICAgICB2YXIgZXJyQ2xhc3MgPSAic2hpbnktb3V0cHV0LWVycm9yIjsKICAgICAgaWYgKGVyci50eXBlICE9PSBudWxsKSB7CiAgICAgICAgLy8gdXNlIHRoZSBjbGFzc2VzIG9mIHRoZSBlcnJvciBjb25kaXRpb24gYXMgQ1NTIGNsYXNzIG5hbWVzCiAgICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgIiArICQubWFwKGFzQXJyYXkoZXJyLnR5cGUpLCBmdW5jdGlvbih0eXBlKSB7CiAgICAgICAgICByZXR1cm4gZXJyQ2xhc3MgKyAiLSIgKyB0eXBlOwogICAgICAgIH0pLmpvaW4oIiAiKTsKICAgICAgfQogICAgICBlcnJDbGFzcyA9IGVyckNsYXNzICsgIiBodG1sd2lkZ2V0cy1lcnJvciI7CgogICAgICAvLyBJcyBlbCBpbmxpbmUgb3IgYmxvY2s/IElmIGlubGluZSBvciBpbmxpbmUtYmxvY2ssIGp1c3QgZGlzcGxheTpub25lIGl0CiAgICAgIC8vIGFuZCBhZGQgYW4gaW5saW5lIGVycm9yLgogICAgICB2YXIgZGlzcGxheSA9ICRlbC5jc3MoImRpc3BsYXkiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgZGlzcGxheSk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICAkZWwuaGlkZSgpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvclNwYW4gPSAkKCI8c3Bhbj4iKS5hZGRDbGFzcyhlcnJDbGFzcyk7CiAgICAgICAgICBlcnJvclNwYW4udGV4dChlcnIubWVzc2FnZSk7CiAgICAgICAgICAkZWwuYWZ0ZXIoZXJyb3JTcGFuKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gImJsb2NrIikgewogICAgICAgIC8vIElmIGJsb2NrLCBhZGQgYW4gZXJyb3IganVzdCBhZnRlciB0aGUgZWwsIHNldCB2aXNpYmlsaXR5Om5vbmUgb24gdGhlCiAgICAgICAgLy8gZWwsIGFuZCBwb3NpdGlvbiB0aGUgZXJyb3IgdG8gYmUgb24gdG9wIG9mIHRoZSBlbC4KICAgICAgICAvLyBNYXJrIGl0IHdpdGggYSB1bmlxdWUgSUQgYW5kIENTUyBjbGFzcyBzbyB3ZSBjYW4gcmVtb3ZlIGl0IGxhdGVyLgogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgewogICAgICAgICAgdmFyIGVycm9yRGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcyhlcnJDbGFzcykuY3NzKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpCiAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgIC8vIHNldHRpbmcgd2lkdGggY2FuIHB1c2ggb3V0IHRoZSBwYWdlIHNpemUsIGZvcmNpbmcgb3RoZXJ3aXNlCiAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHNjcm9sbGJhcnMgdG8gYXBwZWFyIGFuZCBtYWtpbmcgaXQgaW1wb3NzaWJsZSBmb3IKICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgdG8gc2hyaW5rOyBzbyB1c2UgbWF4LXdpZHRoIGluc3RlYWQKICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIGVycm9yRGl2LnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yRGl2KTsKCiAgICAgICAgICAvLyBSZWFsbHkgZHVtYiB3YXkgdG8ga2VlcCB0aGUgc2l6ZS9wb3NpdGlvbiBvZiB0aGUgZXJyb3IgaW4gc3luYyB3aXRoCiAgICAgICAgICAvLyB0aGUgcGFyZW50IGVsZW1lbnQgYXMgdGhlIHdpbmRvdyBpcyByZXNpemVkIG9yIHdoYXRldmVyLgogICAgICAgICAgdmFyIGludElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICghZXJyb3JEaXZbMF0ucGFyZW50RWxlbWVudCkgewogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50SWQpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvckRpdgogICAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkKICAgICAgICAgICAgICAuY3NzKCJtYXhXaWR0aCIsIGVsLm9mZnNldFdpZHRoKQogICAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNsZWFyRXJyb3I6IGZ1bmN0aW9uKGVsKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgbnVsbCk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICBpZiAoZGlzcGxheSkKICAgICAgICAgICRlbC5jc3MoImRpc3BsYXkiLCBkaXNwbGF5KTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpewogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaW5oZXJpdCIpOwogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7CiAgICAgIH0KICAgIH0sCiAgICBzaXppbmc6IHt9CiAgfTsKCiAgLy8gQ2FsbGVkIGJ5IHdpZGdldCBiaW5kaW5ncyB0byByZWdpc3RlciBhIG5ldyB0eXBlIG9mIHdpZGdldC4gVGhlIGRlZmluaXRpb24KICAvLyBvYmplY3QgY2FuIGNvbnRhaW4gdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOgogIC8vIC0gbmFtZSAocmVxdWlyZWQpIC0gQSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgYmluZGluZyBuYW1lLCB3aGljaCB3aWxsIGJlCiAgLy8gICB1c2VkIGJ5IGRlZmF1bHQgYXMgdGhlIENTUyBjbGFzc25hbWUgdG8gbG9vayBmb3IuCiAgLy8gLSBpbml0aWFsaXplIChvcHRpb25hbCkgLSBBIGZ1bmN0aW9uKGVsKSB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICB3aWRnZXQgZWxlbWVudDsgaWYgYSB2YWx1ZSBpcyByZXR1cm5lZCwgaXQgd2lsbCBiZSBwYXNzZWQgYXMgdGhlIHRoaXJkCiAgLy8gICB2YWx1ZSB0byByZW5kZXJWYWx1ZS4KICAvLyAtIHJlbmRlclZhbHVlIChyZXF1aXJlZCkgLSBBIGZ1bmN0aW9uKGVsLCBkYXRhLCBpbml0VmFsdWUpIHRoYXQgd2lsbCBiZQogIC8vICAgY2FsbGVkIHdpdGggZGF0YS4gU3RhdGljIGNvbnRleHRzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgb25jZSBwZXIKICAvLyAgIGVsZW1lbnQ7IFNoaW55IGFwcHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBwZXIKICAvLyAgIGVsZW1lbnQsIGFzIHRoZSBkYXRhIGNoYW5nZXMuCiAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldCA9IGZ1bmN0aW9uKGRlZmluaXRpb24pIHsKICAgIGlmICghZGVmaW5pdGlvbi5uYW1lKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIG5hbWUiKTsKICAgIH0KICAgIGlmICghZGVmaW5pdGlvbi50eXBlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHR5cGUiKTsKICAgIH0KICAgIC8vIEN1cnJlbnRseSB3ZSBvbmx5IHN1cHBvcnQgb3V0cHV0IHdpZGdldHMKICAgIGlmIChkZWZpbml0aW9uLnR5cGUgIT09ICJvdXRwdXQiKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIHdpZGdldCB0eXBlICciICsgZGVmaW5pdGlvbi50eXBlICsgIiciKTsKICAgIH0KICAgIC8vIFRPRE86IFZlcmlmeSB0aGF0IC5uYW1lIGlzIGEgdmFsaWQgQ1NTIGNsYXNzbmFtZQogICAgaWYgKCFkZWZpbml0aW9uLnJlbmRlclZhbHVlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHJlbmRlclZhbHVlIGZ1bmN0aW9uIik7CiAgICB9CgogICAgLy8gRm9yIHN0YXRpYyByZW5kZXJpbmcgKG5vbi1TaGlueSksIHVzZSBhIHNpbXBsZSB3aWRnZXQgcmVnaXN0cmF0aW9uCiAgICAvLyBzY2hlbWUuIFdlIGFsc28gdXNlIHRoaXMgc2NoZW1lIGZvciBTaGlueSBhcHBzL2RvY3VtZW50cyB0aGF0IGFsc28KICAgIC8vIGNvbnRhaW4gc3RhdGljIHdpZGdldHMuCiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzIHx8IFtdOwogICAgLy8gTWVyZ2UgZGVmYXVsdHMgaW50byB0aGUgZGVmaW5pdGlvbjsgZG9uJ3QgbXV0YXRlIHRoZSBvcmlnaW5hbCBkZWZpbml0aW9uLgogICAgdmFyIHN0YXRpY0JpbmRpbmcgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsKICAgIG92ZXJyaWRlTWV0aG9kKHN0YXRpY0JpbmRpbmcsICJmaW5kIiwgZnVuY3Rpb24oc3VwZXJmdW5jKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkgewogICAgICAgIHZhciByZXN1bHRzID0gc3VwZXJmdW5jKHNjb3BlKTsKICAgICAgICAvLyBGaWx0ZXIgb3V0IFNoaW55IG91dHB1dHMsIHdlIG9ubHkgd2FudCB0aGUgc3RhdGljIGtpbmQKICAgICAgICByZXR1cm4gZmlsdGVyQnlDbGFzcyhyZXN1bHRzLCAiaHRtbC13aWRnZXQtb3V0cHV0IiwgZmFsc2UpOwogICAgICB9OwogICAgfSk7CiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cy5wdXNoKHN0YXRpY0JpbmRpbmcpOwoKICAgIGlmIChzaGlueU1vZGUpIHsKICAgICAgLy8gU2hpbnkgaXMgcnVubmluZy4gUmVnaXN0ZXIgdGhlIGRlZmluaXRpb24gYXMgYW4gb3V0cHV0IGJpbmRpbmcuCgogICAgICAvLyBNZXJnZSBkZWZhdWx0cyBpbnRvIHRoZSBkZWZpbml0aW9uOyBkb24ndCBtdXRhdGUgdGhlIG9yaWdpbmFsIGRlZmluaXRpb24uCiAgICAgIC8vIFRoZSBiYXNlIG9iamVjdCBpcyBhIFNoaW55IG91dHB1dCBiaW5kaW5nIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZSwKICAgICAgLy8gb3IgYW4gZW1wdHkgb2JqZWN0IGlmIHdlJ3JlIG5vdC4KICAgICAgdmFyIHNoaW55QmluZGluZyA9IGV4dGVuZChuZXcgU2hpbnkuT3V0cHV0QmluZGluZygpLCBkZWZhdWx0cywgZGVmaW5pdGlvbik7CgogICAgICAvLyBXcmFwIHJlbmRlclZhbHVlIHRvIGhhbmRsZSBpbml0aWFsaXphdGlvbiwgd2hpY2ggdW5mb3J0dW5hdGVseSBpc24ndAogICAgICAvLyBzdXBwb3J0ZWQgbmF0aXZlbHkgYnkgU2hpbnkgYXQgdGhlIHRpbWUgb2YgdGhpcyB3cml0aW5nLgoKICAgICAgLy8gTkI6IHNoaW55QmluZGluZy5pbml0aWFsaXplIG1heSBiZSB1bmRlZmluZWQsIGFzIGl0J3Mgb3B0aW9uYWwuCgogICAgICAvLyBSZW5hbWUgaW5pdGlhbGl6ZSB0byBtYWtlIHN1cmUgaXQgaXNuJ3QgY2FsbGVkIGJ5IGEgZnV0dXJlIHZlcnNpb24KICAgICAgLy8gb2YgU2hpbnkgdGhhdCBkb2VzIHN1cHBvcnQgaW5pdGlhbGl6ZSBkaXJlY3RseS4KICAgICAgc2hpbnlCaW5kaW5nLl9odG1sd2lkZ2V0c19pbml0aWFsaXplID0gc2hpbnlCaW5kaW5nLmluaXRpYWxpemU7CiAgICAgIGRlbGV0ZSBzaGlueUJpbmRpbmcuaW5pdGlhbGl6ZTsKCiAgICAgIG92ZXJyaWRlTWV0aG9kKHNoaW55QmluZGluZywgImZpbmQiLCBmdW5jdGlvbihzdXBlcmZ1bmMpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUpIHsKCiAgICAgICAgICB2YXIgcmVzdWx0cyA9IHN1cGVyZnVuYyhzY29wZSk7CgogICAgICAgICAgLy8gT25seSByZXR1cm4gZWxlbWVudHMgdGhhdCBhcmUgU2hpbnkgb3V0cHV0cywgbm90IHN0YXRpYyBvbmVzCiAgICAgICAgICB2YXIgZHluYW1pY1Jlc3VsdHMgPSByZXN1bHRzLmZpbHRlcigiLmh0bWwtd2lkZ2V0LW91dHB1dCIpOwoKICAgICAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB3aGF0ZXZlciBjYXVzZWQgU2hpbnkgdG8gdGhpbmsgdGhlcmUgbWlnaHQgYmUKICAgICAgICAgIC8vIG5ldyBkeW5hbWljIG91dHB1dHMsIGFsc28gY2F1c2VkIHRoZXJlIHRvIGJlIG5ldyBzdGF0aWMgb3V0cHV0cy4KICAgICAgICAgIC8vIFNpbmNlIHRoZXJlIG1pZ2h0IGJlIGxvdHMgb2YgZGlmZmVyZW50IGh0bWx3aWRnZXRzIGJpbmRpbmdzLCB3ZQogICAgICAgICAgLy8gc2NoZWR1bGUgZXhlY3V0aW9uIGZvciBsYXRlci0tbm8gbmVlZCB0byBzdGF0aWNSZW5kZXIgbXVsdGlwbGUKICAgICAgICAgIC8vIHRpbWVzLgogICAgICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoICE9PSBkeW5hbWljUmVzdWx0cy5sZW5ndGgpCiAgICAgICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyKCk7CgogICAgICAgICAgcmV0dXJuIGR5bmFtaWNSZXN1bHRzOwogICAgICAgIH07CiAgICAgIH0pOwoKICAgICAgb3ZlcnJpZGVNZXRob2Qoc2hpbnlCaW5kaW5nLCAicmVuZGVyVmFsdWUiLCBmdW5jdGlvbihzdXBlcmZ1bmMpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24oZWwsIGRhdGEpIHsKICAgICAgICAgIC8vIFJlc29sdmUgc3RyaW5ncyBtYXJrZWQgYXMgamF2YXNjcmlwdCBsaXRlcmFscyB0byBvYmplY3RzCiAgICAgICAgICBpZiAoIShkYXRhLmV2YWxzIGluc3RhbmNlb2YgQXJyYXkpKSBkYXRhLmV2YWxzID0gW2RhdGEuZXZhbHNdOwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGRhdGEuZXZhbHMgJiYgaSA8IGRhdGEuZXZhbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyKGRhdGEueCwgZGF0YS5ldmFsc1tpXSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIXRoaXMucmVuZGVyT25OdWxsVmFsdWUpIHsKICAgICAgICAgICAgaWYgKGRhdGEueCA9PT0gbnVsbCkgewogICAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIjsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZWwuc3R5bGUudmlzaWJpbGl0eSA9ICJpbmhlcml0IjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKCFlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIikpIHsKICAgICAgICAgICAgaW5pdFNpemluZyhlbCk7CgogICAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIiwgdHJ1ZSk7CiAgICAgICAgICAgIGlmICh0aGlzLl9odG1sd2lkZ2V0c19pbml0aWFsaXplKSB7CiAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX2h0bWx3aWRnZXRzX2luaXRpYWxpemUoZWwsIGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICAgICAgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgcmVzdWx0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgU2hpbnkucmVuZGVyRGVwZW5kZW5jaWVzKGRhdGEuZGVwcyk7CiAgICAgICAgICBzdXBlcmZ1bmMoZWwsIGRhdGEueCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICB9OwogICAgICB9KTsKCiAgICAgIG92ZXJyaWRlTWV0aG9kKHNoaW55QmluZGluZywgInJlc2l6ZSIsIGZ1bmN0aW9uKHN1cGVyZnVuYykgewogICAgICAgIHJldHVybiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCkgewogICAgICAgICAgLy8gU2hpbnkgY2FuIGNhbGwgcmVzaXplIGJlZm9yZSBpbml0aWFsaXplL3JlbmRlclZhbHVlIGhhdmUgYmVlbgogICAgICAgICAgLy8gY2FsbGVkLCB3aGljaCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIHdpZGdldHMuCiAgICAgICAgICBpZiAoZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICAgIHN1cGVyZnVuYyhlbCwgd2lkdGgsIGhlaWdodCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9KTsKCiAgICAgIFNoaW55Lm91dHB1dEJpbmRpbmdzLnJlZ2lzdGVyKHNoaW55QmluZGluZywgc2hpbnlCaW5kaW5nLm5hbWUpOwogICAgfQogIH07CgogIHZhciBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBudWxsOwogIGZ1bmN0aW9uIHNjaGVkdWxlU3RhdGljUmVuZGVyKCkgewogICAgaWYgKCFzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQpIHsKICAgICAgc2NoZWR1bGVTdGF0aWNSZW5kZXJUaW1lcklkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBudWxsOwogICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsKICAgICAgfSwgMSk7CiAgICB9CiAgfQoKICAvLyBSZW5kZXIgc3RhdGljIHdpZGdldHMgYWZ0ZXIgdGhlIGRvY3VtZW50IGZpbmlzaGVzIGxvYWRpbmcKICAvLyBTdGF0aWNhbGx5IHJlbmRlciBhbGwgZWxlbWVudHMgdGhhdCBhcmUgb2YgdGhpcyB3aWRnZXQncyBjbGFzcwogIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgIHZhciBiaW5kaW5ncyA9IHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzIHx8IFtdOwogICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24oYmluZGluZykgewogICAgICB2YXIgbWF0Y2hlcyA9IGJpbmRpbmcuZmluZChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpOwogICAgICBmb3JFYWNoKG1hdGNoZXMsIGZ1bmN0aW9uKGVsKSB7CiAgICAgICAgdmFyIHNpemVPYmogPSBpbml0U2l6aW5nKGVsLCBiaW5kaW5nKTsKCiAgICAgICAgaWYgKGhhc0NsYXNzKGVsLCAiaHRtbC13aWRnZXQtc3RhdGljLWJvdW5kIikpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lICsgIiBodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiOwoKICAgICAgICB2YXIgaW5pdFJlc3VsdDsKICAgICAgICBpZiAoYmluZGluZy5pbml0aWFsaXplKSB7CiAgICAgICAgICBpbml0UmVzdWx0ID0gYmluZGluZy5pbml0aWFsaXplKGVsLAogICAgICAgICAgICBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgIHNpemVPYmogPyBzaXplT2JqLmdldEhlaWdodCgpIDogZWwub2Zmc2V0SGVpZ2h0CiAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgaWYgKGJpbmRpbmcucmVzaXplKSB7CiAgICAgICAgICB2YXIgbGFzdFNpemUgPSB7fTsKICAgICAgICAgIHZhciByZXNpemVIYW5kbGVyID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgICB2YXIgc2l6ZSA9IHsKICAgICAgICAgICAgICB3OiBzaXplT2JqID8gc2l6ZU9iai5nZXRXaWR0aCgpIDogZWwub2Zmc2V0V2lkdGgsCiAgICAgICAgICAgICAgaDogc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHNpemUudyA9PT0gMCAmJiBzaXplLmggPT09IDApCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSBsYXN0U2l6ZS53ICYmIHNpemUuaCA9PT0gbGFzdFNpemUuaCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGxhc3RTaXplID0gc2l6ZTsKICAgICAgICAgICAgYmluZGluZy5yZXNpemUoZWwsIHNpemUudywgc2l6ZS5oLCBpbml0UmVzdWx0KTsKICAgICAgICAgIH07CgogICAgICAgICAgb24od2luZG93LCAicmVzaXplIiwgcmVzaXplSGFuZGxlcik7CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIGNhc2VzIHdoZXJlIHdlJ3JlIHJ1bm5pbmcgaW4gYSBTaGlueQogICAgICAgICAgLy8gYXBwLCBidXQgdGhlIHdpZGdldCBpdHNlbGYgaXMgbm90IGEgU2hpbnkgb3V0cHV0LCBidXQKICAgICAgICAgIC8vIHJhdGhlciBhIHNpbXBsZSBzdGF0aWMgd2lkZ2V0LiBPbmUgZXhhbXBsZSBvZiB0aGlzIGlzCiAgICAgICAgICAvLyBhbiBybWFya2Rvd24gZG9jdW1lbnQgdGhhdCBoYXMgcnVudGltZTpzaGlueSBhbmQgd2lkZ2V0CiAgICAgICAgICAvLyB0aGF0IGlzbid0IGluIGEgcmVuZGVyIGZ1bmN0aW9uLiBTaGlueSBvbmx5IGtub3dzIHRvCiAgICAgICAgICAvLyBjYWxsIHJlc2l6ZSBoYW5kbGVycyBmb3IgU2hpbnkgb3V0cHV0cywgbm90IGZvciBzdGF0aWMKICAgICAgICAgIC8vIHdpZGdldHMsIHNvIHdlIGRvIGl0IG91cnNlbHZlcy4KICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5KSB7CiAgICAgICAgICAgIHdpbmRvdy5qUXVlcnkoZG9jdW1lbnQpLm9uKCJzaG93biIsIHJlc2l6ZUhhbmRsZXIpOwogICAgICAgICAgICB3aW5kb3cualF1ZXJ5KGRvY3VtZW50KS5vbigiaGlkZGVuIiwgcmVzaXplSGFuZGxlcik7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gVGhpcyBpcyBuZWVkZWQgZm9yIHRoZSBzcGVjaWZpYyBjYXNlIG9mIGlvc2xpZGVzLCB3aGljaAogICAgICAgICAgLy8gZmxpcHMgc2xpZGVzIGJldHdlZW4gZGlzcGxheTpub25lIGFuZCBkaXNwbGF5OmJsb2NrLgogICAgICAgICAgLy8gSWRlYWxseSB3ZSB3b3VsZCBub3QgaGF2ZSB0byBoYXZlIGlvc2xpZGUtc3BlY2lmaWMgY29kZQogICAgICAgICAgLy8gaGVyZSwgYnV0IHJhdGhlciBoYXZlIGlvc2xpZGVzIHJhaXNlIGEgZ2VuZXJpYyBldmVudCwKICAgICAgICAgIC8vIGJ1dCB0aGUgcm1hcmtkb3duIHBhY2thZ2UganVzdCB3ZW50IHRvIENSQU4gc28gdGhlCiAgICAgICAgICAvLyB3aW5kb3cgdG8gZ2V0dGluZyB0aGF0IGZpeGVkIG1heSBiZSBsb25nLgogICAgICAgICAgaWYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgICAgICAgIC8vIEl0J3MgT0sgdG8gbGltaXQgdGhpcyB0byB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcgogICAgICAgICAgICAvLyBicm93c2VycyBiZWNhdXNlIGlvc2xpZGVzIGl0c2VsZiBvbmx5IHN1cHBvcnRzCiAgICAgICAgICAgIC8vIHN1Y2ggYnJvd3NlcnMuCiAgICAgICAgICAgIG9uKGRvY3VtZW50LCAic2xpZGVlbnRlciIsIHJlc2l6ZUhhbmRsZXIpOwogICAgICAgICAgICBvbihkb2N1bWVudCwgInNsaWRlbGVhdmUiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBzY3JpcHREYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vanNvbiddIik7CiAgICAgICAgaWYgKHNjcmlwdERhdGEpIHsKICAgICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShzY3JpcHREYXRhLnRleHRDb250ZW50IHx8IHNjcmlwdERhdGEudGV4dCk7CiAgICAgICAgICAvLyBSZXNvbHZlIHN0cmluZ3MgbWFya2VkIGFzIGphdmFzY3JpcHQgbGl0ZXJhbHMgdG8gb2JqZWN0cwogICAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBkYXRhLmV2YWxzICYmIGsgPCBkYXRhLmV2YWxzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlcihkYXRhLngsIGRhdGEuZXZhbHNba10pOwogICAgICAgICAgfQogICAgICAgICAgYmluZGluZy5yZW5kZXJWYWx1ZShlbCwgZGF0YS54LCBpbml0UmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICAvLyBXYWl0IHVudGlsIGFmdGVyIHRoZSBkb2N1bWVudCBoYXMgbG9hZGVkIHRvIHJlbmRlciB0aGUgd2lkZ2V0cy4KICBpZiAoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikgewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGZ1bmN0aW9uKCkgewogICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgYXJndW1lbnRzLmNhbGxlZSwgZmFsc2UpOwogICAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7CiAgICB9LCBmYWxzZSk7CiAgfSBlbHNlIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCkgewogICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIGZ1bmN0aW9uKCkgewogICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gImNvbXBsZXRlIikgewogICAgICAgIGRvY3VtZW50LmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCBhcmd1bWVudHMuY2FsbGVlKTsKICAgICAgICB3aW5kb3cuSFRNTFdpZGdldHMuc3RhdGljUmVuZGVyKCk7CiAgICAgIH0KICAgIH0pOwogIH0KCgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRBdHRhY2htZW50VXJsID0gZnVuY3Rpb24oZGVwbmFtZSwga2V5KSB7CiAgICAvLyBJZiBubyBrZXksIGRlZmF1bHQgdG8gdGhlIGZpcnN0IGl0ZW0KICAgIGlmICh0eXBlb2Yoa2V5KSA9PT0gInVuZGVmaW5lZCIpCiAgICAgIGtleSA9IDE7CgogICAgdmFyIGxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkZXBuYW1lICsgIi0iICsga2V5ICsgIi1hdHRhY2htZW50Iik7CiAgICBpZiAoIWxpbmspIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJBdHRhY2htZW50ICIgKyBkZXBuYW1lICsgIi8iICsga2V5ICsgIiBub3QgZm91bmQgaW4gZG9jdW1lbnQiKTsKICAgIH0KICAgIHJldHVybiBsaW5rLmdldEF0dHJpYnV0ZSgiaHJlZiIpOwogIH07CgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5kYXRhZnJhbWVUb0QzID0gZnVuY3Rpb24oZGYpIHsKICAgIHZhciBuYW1lcyA9IFtdOwogICAgdmFyIGxlbmd0aDsKICAgIGZvciAodmFyIG5hbWUgaW4gZGYpIHsKICAgICAgICBpZiAoZGYuaGFzT3duUHJvcGVydHkobmFtZSkpCiAgICAgICAgICAgIG5hbWVzLnB1c2gobmFtZSk7CiAgICAgICAgaWYgKHR5cGVvZihkZltuYW1lXSkgIT09ICJvYmplY3QiIHx8IHR5cGVvZihkZltuYW1lXS5sZW5ndGgpID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkFsbCBmaWVsZHMgbXVzdCBiZSBhcnJheXMiKTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihsZW5ndGgpICE9PSAidW5kZWZpbmVkIiAmJiBsZW5ndGggIT09IGRmW25hbWVdLmxlbmd0aCkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIkFsbCBmaWVsZHMgbXVzdCBiZSBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIik7CiAgICAgICAgfQogICAgICAgIGxlbmd0aCA9IGRmW25hbWVdLmxlbmd0aDsKICAgIH0KICAgIHZhciByZXN1bHRzID0gW107CiAgICB2YXIgaXRlbTsKICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IGxlbmd0aDsgcm93KyspIHsKICAgICAgICBpdGVtID0ge307CiAgICAgICAgZm9yICh2YXIgY29sID0gMDsgY29sIDwgbmFtZXMubGVuZ3RoOyBjb2wrKykgewogICAgICAgICAgICBpdGVtW25hbWVzW2NvbF1dID0gZGZbbmFtZXNbY29sXV1bcm93XTsKICAgICAgICB9CiAgICAgICAgcmVzdWx0cy5wdXNoKGl0ZW0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgd2luZG93LkhUTUxXaWRnZXRzLnRyYW5zcG9zZUFycmF5MkQgPSBmdW5jdGlvbihhcnJheSkgewogICAgICBpZiAoYXJyYXkubGVuZ3RoID09PSAwKSByZXR1cm4gYXJyYXk7CiAgICAgIHZhciBuZXdBcnJheSA9IGFycmF5WzBdLm1hcChmdW5jdGlvbihjb2wsIGkpIHsKICAgICAgICAgIHJldHVybiBhcnJheS5tYXAoZnVuY3Rpb24ocm93KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJvd1tpXQogICAgICAgICAgfSkKICAgICAgfSk7CiAgICAgIHJldHVybiBuZXdBcnJheTsKICB9OwogIC8vIFNwbGl0IHZhbHVlIGF0IHNwbGl0Q2hhciwgYnV0IGFsbG93IHNwbGl0Q2hhciB0byBiZSBlc2NhcGVkCiAgLy8gdXNpbmcgZXNjYXBlQ2hhci4gQW55IG90aGVyIGNoYXJhY3RlcnMgZXNjYXBlZCBieSBlc2NhcGVDaGFyCiAgLy8gd2lsbCBiZSBpbmNsdWRlZCBhcyB1c3VhbCAoaW5jbHVkaW5nIGVzY2FwZUNoYXIgaXRzZWxmKS4KICBmdW5jdGlvbiBzcGxpdFdpdGhFc2NhcGUodmFsdWUsIHNwbGl0Q2hhciwgZXNjYXBlQ2hhcikgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHZhciBlc2NhcGVNb2RlID0gZmFsc2U7CiAgICB2YXIgY3VycmVudFJlc3VsdCA9ICIiOwogICAgZm9yICh2YXIgcG9zID0gMDsgcG9zIDwgdmFsdWUubGVuZ3RoOyBwb3MrKykgewogICAgICBpZiAoIWVzY2FwZU1vZGUpIHsKICAgICAgICBpZiAodmFsdWVbcG9zXSA9PT0gc3BsaXRDaGFyKSB7CiAgICAgICAgICByZXN1bHRzLnB1c2goY3VycmVudFJlc3VsdCk7CiAgICAgICAgICBjdXJyZW50UmVzdWx0ID0gIiI7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVtwb3NdID09PSBlc2NhcGVDaGFyKSB7CiAgICAgICAgICBlc2NhcGVNb2RlID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3VycmVudFJlc3VsdCArPSB2YWx1ZVtwb3NdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjdXJyZW50UmVzdWx0ICs9IHZhbHVlW3Bvc107CiAgICAgICAgZXNjYXBlTW9kZSA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgICBpZiAoY3VycmVudFJlc3VsdCAhPT0gIiIpIHsKICAgICAgcmVzdWx0cy5wdXNoKGN1cnJlbnRSZXN1bHQpOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQogIC8vIEZ1bmN0aW9uIGF1dGhvcmVkIGJ5IFlpaHVpL0pKIEFsbGFpcmUKICB3aW5kb3cuSFRNTFdpZGdldHMuZXZhbHVhdGVTdHJpbmdNZW1iZXIgPSBmdW5jdGlvbihvLCBtZW1iZXIpIHsKICAgIHZhciBwYXJ0cyA9IHNwbGl0V2l0aEVzY2FwZShtZW1iZXIsICcuJywgJ1xcJyk7CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICB2YXIgcGFydCA9IHBhcnRzW2ldOwogICAgICAvLyBwYXJ0IG1heSBiZSBhIGNoYXJhY3RlciBvciAnbnVtZXJpYycgbWVtYmVyIG5hbWUKICAgICAgaWYgKG8gIT09IG51bGwgJiYgdHlwZW9mIG8gPT09ICJvYmplY3QiICYmIHBhcnQgaW4gbykgewogICAgICAgIGlmIChpID09IChsIC0gMSkpIHsgLy8gaWYgd2UgYXJlIGF0IHRoZSBlbmQgb2YgdGhlIGxpbmUgdGhlbiBldmFsdWxhdGUKICAgICAgICAgIGlmICh0eXBlb2Ygb1twYXJ0XSA9PT0gInN0cmluZyIpCiAgICAgICAgICAgIG9bcGFydF0gPSBldmFsKCIoIiArIG9bcGFydF0gKyAiKSIpOwogICAgICAgIH0gZWxzZSB7IC8vIG90aGVyd2lzZSBjb250aW51ZSB0byBuZXh0IGVtYmVkZGVkIG9iamVjdAogICAgICAgICAgbyA9IG9bcGFydF07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKfSkoKTsKCg=="></script>
<link href="data:text/css;charset=utf-8,%40charset%20%22UTF%2D8%22%3B%2Ehandsontable%7Bposition%3Arelative%7D%2Ehandsontable%20%2Ehide%7Bdisplay%3Anone%7D%2Ehandsontable%20%2Erelative%7Bposition%3Arelative%7D%2Ehandsontable%2EhtAutoSize%7Bvisibility%3Ahidden%3Bleft%3A%2D99000px%3Bposition%3Aabsolute%3Btop%3A%2D99000px%7D%2Ehandsontable%20%2EwtHider%7Bwidth%3A0%7D%2Ehandsontable%20%2EwtSpreader%7Bposition%3Arelative%3Bwidth%3A0%3Bheight%3Aauto%7D%2Ehandsontable%20table%2C%2Ehandsontable%20tbody%2C%2Ehandsontable%20thead%2C%2Ehandsontable%20td%2C%2Ehandsontable%20th%2C%2Ehandsontable%20input%2C%2Ehandsontable%20textarea%2C%2Ehandsontable%20div%7Bbox%2Dsizing%3Acontent%2Dbox%3B%2Dwebkit%2Dbox%2Dsizing%3Acontent%2Dbox%3B%2Dmoz%2Dbox%2Dsizing%3Acontent%2Dbox%7D%2Ehandsontable%20input%2C%2Ehandsontable%20textarea%7Bmin%2Dheight%3Ainitial%7D%2Ehandsontable%20table%2EhtCore%7Bborder%2Dcollapse%3Aseparate%3Bborder%2Dspacing%3A0%3Bmargin%3A0%3Bborder%2Dwidth%3A0%3Btable%2Dlayout%3Afixed%3Bwidth%3A0%3Boutline%2Dwidth%3A0%3Bmax%2Dwidth%3Anone%3Bmax%2Dheight%3Anone%7D%2Ehandsontable%20col%7Bwidth%3A50px%7D%2Ehandsontable%20col%2ErowHeader%7Bwidth%3A50px%7D%2Ehandsontable%20th%2C%2Ehandsontable%20td%7Bborder%2Dtop%2Dwidth%3A0%3Bborder%2Dleft%2Dwidth%3A0%3Bborder%2Dright%3A1px%20solid%20%23CCC%3Bborder%2Dbottom%3A1px%20solid%20%23CCC%3Bheight%3A22px%3Bempty%2Dcells%3Ashow%3Bline%2Dheight%3A21px%3Bpadding%3A0%204px%200%204px%3Bbackground%2Dcolor%3A%23FFF%3Bvertical%2Dalign%3Atop%3Boverflow%3Ahidden%3Boutline%2Dwidth%3A0%3Bwhite%2Dspace%3Apre%2Dline%7D%2Ehandsontable%20td%2EhtInvalid%7Bbackground%2Dcolor%3A%23ff4c42%21important%7D%2Ehandsontable%20td%2EhtNoWrap%7Bwhite%2Dspace%3Anowrap%7D%2Ehandsontable%20th%3Alast%2Dchild%7Bborder%2Dright%3A1px%20solid%20%23CCC%3Bborder%2Dbottom%3A1px%20solid%20%23CCC%7D%2Ehandsontable%20tr%3Afirst%2Dchild%20th%2EhtNoFrame%2C%2Ehandsontable%20th%3Afirst%2Dchild%2EhtNoFrame%2C%2Ehandsontable%20th%2EhtNoFrame%7Bborder%2Dleft%2Dwidth%3A0%3Bbackground%2Dcolor%3Awhite%3Bborder%2Dcolor%3A%23FFF%7D%2Ehandsontable%20th%3Afirst%2Dchild%2C%2Ehandsontable%20td%3Afirst%2Dof%2Dtype%2C%2Ehandsontable%20%2EhtNoFrame%2Bth%2C%2Ehandsontable%20%2EhtNoFrame%2Btd%7Bborder%2Dleft%3A1px%20solid%20%23CCC%7D%2Ehandsontable%2EhtRowHeaders%20thead%20tr%20th%3Anth%2Dchild%282%29%7Bborder%2Dleft%3A1px%20solid%20%23CCC%7D%2Ehandsontable%20tr%3Afirst%2Dchild%20th%2C%2Ehandsontable%20tr%3Afirst%2Dchild%20td%7Bborder%2Dtop%3A1px%20solid%20%23CCC%7D%2Eht%5Fmaster%3Anot%28%2EinnerBorderLeft%29%20%7E%20%2Ehandsontable%20tbody%20tr%20th%2C%2Eht%5Fmaster%3Anot%28%2EinnerBorderLeft%29%20%7E%20%2Ehandsontable%3Anot%28%2Eht%5Fclone%5Ftop%29%20thead%20tr%20th%3Afirst%2Dchild%7Bborder%2Dright%2Dwidth%3A0%7D%2Eht%5Fmaster%3Anot%28%2EinnerBorderTop%29%20thead%20tr%3Alast%2Dchild%20th%2C%2Eht%5Fmaster%3Anot%28%2EinnerBorderTop%29%20%7E%20%2Ehandsontable%20thead%20tr%3Alast%2Dchild%20th%2C%2Eht%5Fmaster%3Anot%28%2EinnerBorderTop%29%20thead%20tr%2ElastChild%20th%2C%2Eht%5Fmaster%3Anot%28%2EinnerBorderTop%29%20%7E%20%2Ehandsontable%20thead%20tr%2ElastChild%20th%7Bborder%2Dbottom%2Dwidth%3A0%7D%2Ehandsontable%20th%7Bbackground%2Dcolor%3A%23EEE%3Bcolor%3A%23222%3Btext%2Dalign%3Acenter%3Bfont%2Dweight%3Anormal%3Bwhite%2Dspace%3Anowrap%7D%2Ehandsontable%20thead%20th%7Bpadding%3A0%7D%2Ehandsontable%20th%2Eactive%7Bbackground%2Dcolor%3A%23CCC%7D%2Ehandsontable%20thead%20th%20%2Erelative%7Bpadding%3A2px%204px%7D%2Ehandsontable%20%2EmanualColumnMover%7Bposition%3Afixed%3Bleft%3A0%3Btop%3A0%3Bbackground%2Dcolor%3Atransparent%3Bwidth%3A5px%3Bheight%3A25px%3Bz%2Dindex%3A999%3Bcursor%3Amove%7D%2Ehandsontable%20%2EmanualRowMover%7Bposition%3Afixed%3Bleft%3A%2D4px%3Btop%3A0%3Bbackground%2Dcolor%3Atransparent%3Bheight%3A5px%3Bwidth%3A50px%3Bz%2Dindex%3A999%3Bcursor%3Amove%7D%2Ehandsontable%20%2EmanualColumnMoverGuide%2C%2Ehandsontable%20%2EmanualRowMoverGuide%7Bposition%3Afixed%3Bleft%3A0%3Btop%3A0%3Bbackground%2Dcolor%3A%23CCC%3Bwidth%3A25px%3Bheight%3A25px%3Bopacity%3A%2E7%3Bdisplay%3Anone%7D%2Ehandsontable%20%2EmanualColumnMoverGuide%2Eactive%2C%2Ehandsontable%20%2EmanualRowMoverGuide%2Eactive%7Bdisplay%3Ablock%7D%2Ehandsontable%20%2EmanualColumnMover%3Ahover%2C%2Ehandsontable%20%2EmanualColumnMover%2Eactive%2C%2Ehandsontable%20%2EmanualRowMover%3Ahover%2C%2Ehandsontable%20%2EmanualRowMover%2Eactive%7Bbackground%2Dcolor%3A%2388F%7D%2Ehandsontable%20%2EmanualColumnResizer%7Bposition%3Afixed%3Btop%3A0%3Bcursor%3Acol%2Dresize%3Bz%2Dindex%3A110%3Bwidth%3A5px%3Bheight%3A25px%7D%2Ehandsontable%20%2EmanualRowResizer%7Bposition%3Afixed%3Bleft%3A0%3Bcursor%3Arow%2Dresize%3Bz%2Dindex%3A110%3Bheight%3A5px%3Bwidth%3A50px%7D%2Ehandsontable%20%2EmanualColumnResizer%3Ahover%2C%2Ehandsontable%20%2EmanualColumnResizer%2Eactive%2C%2Ehandsontable%20%2EmanualRowResizer%3Ahover%2C%2Ehandsontable%20%2EmanualRowResizer%2Eactive%7Bbackground%2Dcolor%3A%23AAB%7D%2Ehandsontable%20%2EmanualColumnResizerGuide%7Bposition%3Afixed%3Bright%3A0%3Btop%3A0%3Bbackground%2Dcolor%3A%23AAB%3Bdisplay%3Anone%3Bwidth%3A0%3Bborder%2Dright%3A1px%20dashed%20%23777%3Bmargin%2Dleft%3A5px%7D%2Ehandsontable%20%2EmanualRowResizerGuide%7Bposition%3Afixed%3Bleft%3A0%3Bbottom%3A0%3Bbackground%2Dcolor%3A%23AAB%3Bdisplay%3Anone%3Bheight%3A0%3Bborder%2Dbottom%3A1px%20dashed%20%23777%3Bmargin%2Dtop%3A5px%7D%2Ehandsontable%20%2EmanualColumnResizerGuide%2Eactive%2C%2Ehandsontable%20%2EmanualRowResizerGuide%2Eactive%7Bdisplay%3Ablock%7D%2Ehandsontable%20%2EcolumnSorting%7Bposition%3Arelative%7D%2Ehandsontable%20%2EcolumnSorting%3Ahover%7Btext%2Ddecoration%3Aunderline%3Bcursor%3Apointer%7D%2Ehandsontable%20%2EcolumnSorting%2Eascending%3A%3Aafter%7Bcontent%3A%27%5C25B2%27%3Bcolor%3A%235f5f5f%3Bposition%3Aabsolute%3Bright%3A%2D15px%7D%2Ehandsontable%20%2EcolumnSorting%2Edescending%3A%3Aafter%7Bcontent%3A%27%5C25BC%27%3Bcolor%3A%235f5f5f%3Bposition%3Aabsolute%3Bright%3A%2D15px%7D%2Ehandsontable%20th%2EbeforeHiddenColumn%7Bposition%3Arelative%7D%2Ehandsontable%20th%2EbeforeHiddenColumn%3A%3Aafter%2C%2Ehandsontable%20th%2EafterHiddenColumn%3A%3Abefore%7Bcontent%3A%27%5C25C0%27%3Bcolor%3A%23bbb%3Bposition%3Aabsolute%3Bright%3A1px%3Btop%3A2px%3Bfont%2Dsize%3A5pt%7D%2Ehandsontable%20th%2EafterHiddenColumn%7Bposition%3Arelative%7D%2Ehandsontable%20th%2EafterHiddenColumn%3A%3Abefore%7Bleft%3A1px%3Btop%3A2px%3Bright%3Aauto%3Bcontent%3A%27%5C25B6%27%7D%2Ehandsontable%20td%2EafterHiddenColumn%2EfirstVisible%7Bborder%2Dleft%3A1px%20solid%20%23CCC%7D%2Ehandsontable%20thead%20th%2EhiddenHeader%7Bdisplay%3Anone%7D%2Ehandsontable%20%2EwtBorder%7Bposition%3Aabsolute%3Bfont%2Dsize%3A0%7D%2Ehandsontable%20%2EwtBorder%2Ehidden%7Bdisplay%3Anone%21important%7D%2Ehandsontable%20td%2Earea%7Bbackground%3A%2Dmoz%2Dlinear%2Dgradient%28top%2Crgba%28181%2C209%2C255%2C0%2E34%29%200%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3Bbackground%3A%2Dwebkit%2Dgradient%28linear%2Cleft%20top%2Cleft%20bottom%2Ccolor%2Dstop%280%25%2Crgba%28181%2C209%2C255%2C0%2E34%29%29%2Ccolor%2Dstop%28100%25%2Crgba%28181%2C209%2C255%2C0%2E34%29%29%29%3Bbackground%3A%2Dwebkit%2Dlinear%2Dgradient%28top%2Crgba%28181%2C209%2C255%2C0%2E34%29%200%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3Bbackground%3A%2Do%2Dlinear%2Dgradient%28top%2Crgba%28181%2C209%2C255%2C0%2E34%29%200%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3Bbackground%3A%2Dms%2Dlinear%2Dgradient%28top%2Crgba%28181%2C209%2C255%2C0%2E34%29%200%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3Bbackground%3Alinear%2Dgradient%28to%20bottom%2Crgba%28181%2C209%2C255%2C0%2E34%29%200%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3Bfilter%3Aprogid%3ADXImageTransform%2EMicrosoft%2Egradient%28startColorstr%3D%27%2357b5d1ff%27%2CendColorstr%3D%27%2357b5d1ff%27%2CGradientType%3D0%29%3Bbackground%2Dcolor%3A%23fff%7D%2Ehandsontable%20%2EwtBorder%2Ecorner%7Bfont%2Dsize%3A0%3Bcursor%3Acrosshair%7D%2Ehandsontable%20%2EhtBorder%2EhtFillBorder%7Bbackground%3Ared%3Bwidth%3A1px%3Bheight%3A1px%7D%2EhandsontableInput%7Bborder%3A0%3Boutline%2Dwidth%3A0%3Bmargin%3A0%3Bpadding%3A1px%205px%200%205px%3Bfont%2Dfamily%3Ainherit%3Bline%2Dheight%3A21px%3Bfont%2Dsize%3Ainherit%3Bbox%2Dshadow%3A0%200%200%202px%20%235292f7%20inset%3Bresize%3Anone%3Bdisplay%3Ainline%2Dblock%3Bcolor%3A%23000%3Bborder%2Dradius%3A0%3Bbackground%2Dcolor%3A%23FFF%7D%2EhandsontableInputHolder%7Bposition%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bz%2Dindex%3A100%7D%2EhtSelectEditor%7B%2Dwebkit%2Dappearance%3Amenulist%2Dbutton%21important%3Bposition%3Aabsolute%3Bwidth%3Aauto%7D%2Ehandsontable%20%2EhtDimmed%7Bcolor%3A%23777%7D%2Ehandsontable%20%2EhtSubmenu%7Bposition%3Arelative%7D%2Ehandsontable%20%2EhtSubmenu%20%3Aafter%7Bcontent%3A%27%E2%96%B6%27%3Bcolor%3A%23777%3Bposition%3Aabsolute%3Bright%3A5px%7D%2Ehandsontable%20%2EhtLeft%7Btext%2Dalign%3Aleft%7D%2Ehandsontable%20%2EhtCenter%7Btext%2Dalign%3Acenter%7D%2Ehandsontable%20%2EhtRight%7Btext%2Dalign%3Aright%7D%2Ehandsontable%20%2EhtJustify%7Btext%2Dalign%3Ajustify%7D%2Ehandsontable%20%2EhtTop%7Bvertical%2Dalign%3Atop%7D%2Ehandsontable%20%2EhtMiddle%7Bvertical%2Dalign%3Amiddle%7D%2Ehandsontable%20%2EhtBottom%7Bvertical%2Dalign%3Abottom%7D%2Ehandsontable%20%2EhtPlaceholder%7Bcolor%3A%23999%7D%2Ehandsontable%20%2EhtAutocompleteArrow%7Bfloat%3Aright%3Bfont%2Dsize%3A10px%3Bcolor%3A%23EEE%3Bcursor%3Adefault%3Bwidth%3A16px%3Btext%2Dalign%3Acenter%7D%2Ehandsontable%20td%20%2EhtAutocompleteArrow%3Ahover%7Bcolor%3A%23777%7D%2Ehandsontable%20td%2Earea%20%2EhtAutocompleteArrow%7Bcolor%3A%23d3d3d3%7D%2Ehandsontable%20%2EhtCheckboxRendererInput%2EnoValue%7Bopacity%3A%2E5%7D%2Ehandsontable%20%2EhtCheckboxRendererLabel%7Bcursor%3Apointer%3Bdisplay%3Ainline%2Dblock%3Bwidth%3A100%25%7D%2Ehandsontable%20%2EhtNumeric%7Btext%2Dalign%3Aright%7D%2EhtCommentCell%7Bposition%3Arelative%7D%2EhtCommentCell%3Aafter%7Bcontent%3A%27%27%3Bposition%3Aabsolute%3Btop%3A0%3Bright%3A0%3Bborder%2Dleft%3A6px%20solid%20transparent%3Bborder%2Dtop%3A6px%20solid%20red%7D%40%2Dwebkit%2Dkeyframes%20opacity%2Dhide%7Bfrom%7Bopacity%3A1%7Dto%7Bopacity%3A0%7D%7D%40keyframes%20opacity%2Dhide%7Bfrom%7Bopacity%3A1%7Dto%7Bopacity%3A0%7D%7D%40%2Dwebkit%2Dkeyframes%20opacity%2Dshow%7Bfrom%7Bopacity%3A0%7Dto%7Bopacity%3A1%7D%7D%40keyframes%20opacity%2Dshow%7Bfrom%7Bopacity%3A0%7Dto%7Bopacity%3A1%7D%7D%2Ehandsontable%20%2Ehandsontable%2Eht%5Fclone%5Ftop%20%2EwtHider%7Bpadding%3A0%200%205px%200%7D%2Ehandsontable%20%2EautocompleteEditor%2Ehandsontable%7Bpadding%2Dright%3A17px%7D%2Ehandsontable%20%2EautocompleteEditor%2Ehandsontable%2EhtMacScroll%7Bpadding%2Dright%3A15px%7D%2Ehandsontable%2Elistbox%7Bmargin%3A0%7D%2Ehandsontable%2Elistbox%20%2Eht%5Fmaster%20table%7Bborder%3A1px%20solid%20%23ccc%3Bborder%2Dcollapse%3Aseparate%3Bbackground%3Awhite%7D%2Ehandsontable%2Elistbox%20th%2C%2Ehandsontable%2Elistbox%20tr%3Afirst%2Dchild%20th%2C%2Ehandsontable%2Elistbox%20tr%3Alast%2Dchild%20th%2C%2Ehandsontable%2Elistbox%20tr%3Afirst%2Dchild%20td%2C%2Ehandsontable%2Elistbox%20td%7Bborder%2Dcolor%3Atransparent%7D%2Ehandsontable%2Elistbox%20th%2C%2Ehandsontable%2Elistbox%20td%7Bwhite%2Dspace%3Anowrap%3Btext%2Doverflow%3Aellipsis%7D%2Ehandsontable%2Elistbox%20td%2EhtDimmed%7Bcursor%3Adefault%3Bcolor%3Ainherit%3Bfont%2Dstyle%3Ainherit%7D%2Ehandsontable%2Elistbox%20%2EwtBorder%7Bvisibility%3Ahidden%7D%2Ehandsontable%2Elistbox%20tr%20td%2Ecurrent%2C%2Ehandsontable%2Elistbox%20tr%3Ahover%20td%7Bbackground%3A%23eee%7D%2Eht%5Fclone%5Ftop%7Bz%2Dindex%3A101%7D%2Eht%5Fclone%5Fleft%7Bz%2Dindex%3A102%7D%2Eht%5Fclone%5Ftop%5Fleft%5Fcorner%2C%2Eht%5Fclone%5Fbottom%5Fleft%5Fcorner%7Bz%2Dindex%3A103%7D%2Eht%5Fclone%5Fdebug%7Bz%2Dindex%3A103%7D%2Ehandsontable%20td%2EhtSearchResult%7Bbackground%3A%23fcedd9%3Bcolor%3A%23583707%7D%2EhtBordered%7Bborder%2Dwidth%3A1px%7D%2EhtBordered%2EhtTopBorderSolid%7Bborder%2Dtop%2Dstyle%3Asolid%3Bborder%2Dtop%2Dcolor%3A%23000%7D%2EhtBordered%2EhtRightBorderSolid%7Bborder%2Dright%2Dstyle%3Asolid%3Bborder%2Dright%2Dcolor%3A%23000%7D%2EhtBordered%2EhtBottomBorderSolid%7Bborder%2Dbottom%2Dstyle%3Asolid%3Bborder%2Dbottom%2Dcolor%3A%23000%7D%2EhtBordered%2EhtLeftBorderSolid%7Bborder%2Dleft%2Dstyle%3Asolid%3Bborder%2Dleft%2Dcolor%3A%23000%7D%2EhtCommentTextArea%7B%2Dmoz%2Dbox%2Dshadow%3A1px%201px%202px%20%23bbb%3B%2Dwebkit%2Dbox%2Dshadow%3A1px%201px%202px%20%23bbb%3Bbackground%2Dcolor%3A%23fffacd%3Bborder%3A1px%20solid%20%23999%3Bbox%2Dshadow%3A1px%201px%202px%20%23bbb%3Bfont%2Dfamily%3A%27Arial%27%7D%2Ehandsontable%20tbody%20tr%20th%3Anth%2Dlast%2Dchild%282%29%7Bborder%2Dright%3A1px%20solid%20%23CCC%7D%2Ehandsontable%20thead%20tr%3Anth%2Dlast%2Dchild%282%29%20th%2EhtGroupIndicatorContainer%7Bborder%2Dbottom%3A1px%20solid%20%23CCC%3Bpadding%2Dbottom%3A5px%7D%2Eht%5Fclone%5Ftop%5Fleft%5Fcorner%20thead%20tr%20th%3Anth%2Dlast%2Dchild%282%29%7Bborder%2Dright%3A1px%20solid%20%23CCC%7D%2EhtCollapseButton%7Bwidth%3A10px%3Bheight%3A10px%3Bline%2Dheight%3A10px%3Btext%2Dalign%3Acenter%3Bborder%2Dradius%3A5px%3Bborder%3A1px%20solid%20%23f3f3f3%3B%2Dwebkit%2Dbox%2Dshadow%3A1px%201px%203px%20rgba%280%2C0%2C0%2C0%2E4%29%3Bbox%2Dshadow%3A1px%201px%203px%20rgba%280%2C0%2C0%2C0%2E4%29%3Bcursor%3Apointer%3Bmargin%2Dbottom%3A3px%3Bposition%3Arelative%7D%2EhtCollapseButton%3Aafter%7Bcontent%3A%22%22%3Bheight%3A300%25%3Bwidth%3A1px%3Bdisplay%3Ablock%3Bbackground%3A%23ccc%3Bmargin%2Dleft%3A4px%3Bposition%3Aabsolute%3Bbottom%3A10px%7Dthead%20%2EhtCollapseButton%7Bright%3A5px%3Bposition%3Aabsolute%3Btop%3A5px%3Bbackground%3A%23fff%7Dthead%20%2EhtCollapseButton%3Aafter%7Bheight%3A1px%3Bwidth%3A700%25%3Bright%3A10px%3Btop%3A4px%7D%2Ehandsontable%20tr%20th%20%2EhtExpandButton%7Bposition%3Aabsolute%3Bwidth%3A10px%3Bheight%3A10px%3Bline%2Dheight%3A10px%3Btext%2Dalign%3Acenter%3Bborder%2Dradius%3A5px%3Bborder%3A1px%20solid%20%23f3f3f3%3B%2Dwebkit%2Dbox%2Dshadow%3A1px%201px%203px%20rgba%280%2C0%2C0%2C0%2E4%29%3Bbox%2Dshadow%3A1px%201px%203px%20rgba%280%2C0%2C0%2C0%2E4%29%3Bcursor%3Apointer%3Btop%3A0%3Bdisplay%3Anone%7D%2Ehandsontable%20thead%20tr%20th%20%2EhtExpandButton%7Btop%3A5px%7D%2Ehandsontable%20tr%20th%20%2EhtExpandButton%2Eclickable%7Bdisplay%3Ablock%7D%2EcollapsibleIndicator%7Bposition%3Aabsolute%3Btop%3A50%25%3Btransform%3Atranslate%280%25%2C%2D50%25%29%3Bright%3A5px%3Bborder%3A1px%20solid%20%23a6a6a6%3Bline%2Dheight%3A10px%3Bcolor%3A%23222%3Bborder%2Dradius%3A10px%3Bfont%2Dsize%3A10px%3Bwidth%3A10px%3Bheight%3A10px%3Bcursor%3Apointer%3B%2Dwebkit%2Dbox%2Dshadow%3A0%200%200%206px%20rgba%28238%2C238%2C238%2C1%29%3B%2Dmoz%2Dbox%2Dshadow%3A0%200%200%206px%20rgba%28238%2C238%2C238%2C1%29%3Bbox%2Dshadow%3A0%200%200%206px%20rgba%28238%2C238%2C238%2C1%29%3Bbackground%3A%23eee%7D%2Ehandsontable%20col%2Ehidden%7Bwidth%3A0%21important%7D%2Ehandsontable%20table%20tr%20th%2ElightRightBorder%7Bborder%2Dright%3A1px%20solid%20%23e6e6e6%7D%2Ehandsontable%20tr%2Ehidden%2C%2Ehandsontable%20tr%2Ehidden%20td%2C%2Ehandsontable%20tr%2Ehidden%20th%7Bdisplay%3Anone%7D%2Eht%5Fmaster%2C%2Eht%5Fclone%5Fleft%2C%2Eht%5Fclone%5Ftop%2C%2Eht%5Fclone%5Fbottom%7Boverflow%3Ahidden%7D%2Eht%5Fmaster%20%2EwtHolder%7Boverflow%3Aauto%7D%2Eht%5Fclone%5Fleft%20%2EwtHolder%7Boverflow%2Dx%3Ahidden%3Boverflow%2Dy%3Aauto%7D%2Eht%5Fclone%5Ftop%20%2EwtHolder%2C%2Eht%5Fclone%5Fbottom%20%2EwtHolder%7Boverflow%2Dx%3Aauto%3Boverflow%2Dy%3Ahidden%7D%2EwtDebugHidden%7Bdisplay%3Anone%7D%2EwtDebugVisible%7Bdisplay%3Ablock%3B%2Dwebkit%2Danimation%2Dduration%3A%2E5s%3B%2Dwebkit%2Danimation%2Dname%3AwtFadeInFromNone%3Banimation%2Dduration%3A%2E5s%3Banimation%2Dname%3AwtFadeInFromNone%7D%40keyframes%20wtFadeInFromNone%7B0%25%7Bdisplay%3Anone%3Bopacity%3A0%7D1%25%7Bdisplay%3Ablock%3Bopacity%3A0%7D100%25%7Bdisplay%3Ablock%3Bopacity%3A1%7D%7D%40%2Dwebkit%2Dkeyframes%20wtFadeInFromNone%7B0%25%7Bdisplay%3Anone%3Bopacity%3A0%7D1%25%7Bdisplay%3Ablock%3Bopacity%3A0%7D100%25%7Bdisplay%3Ablock%3Bopacity%3A1%7D%7D%2Ehandsontable%2Emobile%2C%2Ehandsontable%2Emobile%20%2EwtHolder%7B%2Dwebkit%2Dtouch%2Dcallout%3Anone%3B%2Dwebkit%2Duser%2Dselect%3Anone%3B%2Dkhtml%2Duser%2Dselect%3Anone%3B%2Dmoz%2Duser%2Dselect%3Anone%3B%2Dms%2Duser%2Dselect%3Anone%3Buser%2Dselect%3Anone%3B%2Dwebkit%2Dtap%2Dhighlight%2Dcolor%3Argba%280%2C0%2C0%2C0%29%3B%2Dwebkit%2Doverflow%2Dscrolling%3Atouch%7D%2EhtMobileEditorContainer%7Bdisplay%3Anone%3Bposition%3Aabsolute%3Btop%3A0%3Bwidth%3A70%25%3Bheight%3A54pt%3Bbackground%3A%23f8f8f8%3Bborder%2Dradius%3A20px%3Bborder%3A1px%20solid%20%23ebebeb%3Bz%2Dindex%3A999%3Bbox%2Dsizing%3Aborder%2Dbox%3B%2Dwebkit%2Dbox%2Dsizing%3Aborder%2Dbox%3B%2Dwebkit%2Dtext%2Dsize%2Dadjust%3Anone%7D%2EtopLeftSelectionHandle%3Anot%28%2Eht%5Fmaster%20%2EtopLeftSelectionHandle%29%2C%2EtopLeftSelectionHandle%2DHitArea%3Anot%28%2Eht%5Fmaster%20%2EtopLeftSelectionHandle%2DHitArea%29%7Bz%2Dindex%3A9999%7D%2EtopLeftSelectionHandle%2C%2EtopLeftSelectionHandle%2DHitArea%2C%2EbottomRightSelectionHandle%2C%2EbottomRightSelectionHandle%2DHitArea%7Bleft%3A%2D10000px%3Btop%3A%2D10000px%7D%2EhtMobileEditorContainer%2Eactive%7Bdisplay%3Ablock%7D%2EhtMobileEditorContainer%20%2Einputs%7Bposition%3Aabsolute%3Bright%3A210pt%3Bbottom%3A10pt%3Btop%3A10pt%3Bleft%3A14px%3Bheight%3A34pt%7D%2EhtMobileEditorContainer%20%2Einputs%20textarea%7Bfont%2Dsize%3A13pt%3Bborder%3A1px%20solid%20%23a1a1a1%3B%2Dwebkit%2Dappearance%3Anone%3B%2Dwebkit%2Dbox%2Dshadow%3Anone%3B%2Dmoz%2Dbox%2Dshadow%3Anone%3Bbox%2Dshadow%3Anone%3Bposition%3Aabsolute%3Bleft%3A14px%3Bright%3A14px%3Btop%3A0%3Bbottom%3A0%3Bpadding%3A7pt%7D%2EhtMobileEditorContainer%20%2EcellPointer%7Bposition%3Aabsolute%3Btop%3A%2D13pt%3Bheight%3A0%3Bwidth%3A0%3Bleft%3A30px%3Bborder%2Dleft%3A13pt%20solid%20transparent%3Bborder%2Dright%3A13pt%20solid%20transparent%3Bborder%2Dbottom%3A13pt%20solid%20%23ebebeb%7D%2EhtMobileEditorContainer%20%2EcellPointer%2Ehidden%7Bdisplay%3Anone%7D%2EhtMobileEditorContainer%20%2EcellPointer%3Abefore%7Bcontent%3A%27%27%3Bdisplay%3Ablock%3Bposition%3Aabsolute%3Btop%3A2px%3Bheight%3A0%3Bwidth%3A0%3Bleft%3A%2D13pt%3Bborder%2Dleft%3A13pt%20solid%20transparent%3Bborder%2Dright%3A13pt%20solid%20transparent%3Bborder%2Dbottom%3A13pt%20solid%20%23f8f8f8%7D%2EhtMobileEditorContainer%20%2EmoveHandle%7Bposition%3Aabsolute%3Btop%3A10pt%3Bleft%3A5px%3Bwidth%3A30px%3Bbottom%3A0%3Bcursor%3Amove%3Bz%2Dindex%3A9999%7D%2EhtMobileEditorContainer%20%2EmoveHandle%3Aafter%7Bcontent%3A%22%2E%2E%5Ca%2E%2E%5Ca%2E%2E%5Ca%2E%2E%22%3Bwhite%2Dspace%3Apre%3Bline%2Dheight%3A10px%3Bfont%2Dsize%3A20pt%3Bdisplay%3Ainline%2Dblock%3Bmargin%2Dtop%3A%2D8px%3Bcolor%3A%23ebebeb%7D%2EhtMobileEditorContainer%20%2EpositionControls%7Bwidth%3A205pt%3Bposition%3Aabsolute%3Bright%3A5pt%3Btop%3A0%3Bbottom%3A0%7D%2EhtMobileEditorContainer%20%2EpositionControls%3Ediv%7Bwidth%3A50pt%3Bheight%3A100%25%3Bfloat%3Aleft%7D%2EhtMobileEditorContainer%20%2EpositionControls%3Ediv%3Aafter%7Bcontent%3A%22%20%22%3Bdisplay%3Ablock%3Bwidth%3A15pt%3Bheight%3A15pt%3Btext%2Dalign%3Acenter%3Bline%2Dheight%3A50pt%7D%2EhtMobileEditorContainer%20%2EleftButton%3Aafter%2C%2EhtMobileEditorContainer%20%2ErightButton%3Aafter%2C%2EhtMobileEditorContainer%20%2EupButton%3Aafter%2C%2EhtMobileEditorContainer%20%2EdownButton%3Aafter%7Btransform%2Dorigin%3A5pt%205pt%3B%2Dwebkit%2Dtransform%2Dorigin%3A5pt%205pt%3Bmargin%3A21pt%200%200%2021pt%7D%2EhtMobileEditorContainer%20%2EleftButton%3Aafter%7Bborder%2Dtop%3A2px%20solid%20%23288ffe%3Bborder%2Dleft%3A2px%20solid%20%23288ffe%3B%2Dwebkit%2Dtransform%3Arotate%28%2D45deg%29%7D%2EhtMobileEditorContainer%20%2EleftButton%3Aactive%3Aafter%7Bborder%2Dcolor%3A%23cfcfcf%7D%2EhtMobileEditorContainer%20%2ErightButton%3Aafter%7Bborder%2Dtop%3A2px%20solid%20%23288ffe%3Bborder%2Dleft%3A2px%20solid%20%23288ffe%3B%2Dwebkit%2Dtransform%3Arotate%28135deg%29%7D%2EhtMobileEditorContainer%20%2ErightButton%3Aactive%3Aafter%7Bborder%2Dcolor%3A%23cfcfcf%7D%2EhtMobileEditorContainer%20%2EupButton%3Aafter%7Bborder%2Dtop%3A2px%20solid%20%23288ffe%3Bborder%2Dleft%3A2px%20solid%20%23288ffe%3B%2Dwebkit%2Dtransform%3Arotate%2845deg%29%7D%2EhtMobileEditorContainer%20%2EupButton%3Aactive%3Aafter%7Bborder%2Dcolor%3A%23cfcfcf%7D%2EhtMobileEditorContainer%20%2EdownButton%3Aafter%7Bborder%2Dtop%3A2px%20solid%20%23288ffe%3Bborder%2Dleft%3A2px%20solid%20%23288ffe%3B%2Dwebkit%2Dtransform%3Arotate%28225deg%29%7D%2EhtMobileEditorContainer%20%2EdownButton%3Aactive%3Aafter%7Bborder%2Dcolor%3A%23cfcfcf%7D%2Ehandsontable%2Ehide%2Dtween%7B%2Dwebkit%2Danimation%3Aopacity%2Dhide%20%2E3s%3Banimation%3Aopacity%2Dhide%20%2E3s%3Banimation%2Dfill%2Dmode%3Aforwards%3B%2Dwebkit%2Danimation%2Dfill%2Dmode%3Aforwards%7D%2Ehandsontable%2Eshow%2Dtween%7B%2Dwebkit%2Danimation%3Aopacity%2Dshow%20%2E3s%3Banimation%3Aopacity%2Dshow%20%2E3s%3Banimation%2Dfill%2Dmode%3Aforwards%3B%2Dwebkit%2Danimation%2Dfill%2Dmode%3Aforwards%7D%2EhtContextMenu%7Bdisplay%3Anone%3Bposition%3Aabsolute%3Bz%2Dindex%3A1060%7D%2EhtContextMenu%20%2Eht%5Fclone%5Ftop%2C%2EhtContextMenu%20%2Eht%5Fclone%5Fleft%2C%2EhtContextMenu%20%2Eht%5Fclone%5Fcorner%2C%2EhtContextMenu%20%2Eht%5Fclone%5Fdebug%7Bdisplay%3Anone%7D%2EhtContextMenu%20table%2EhtCore%7Bborder%3A1px%20solid%20%23bbb%3Bborder%2Dbottom%2Dwidth%3A2px%3Bborder%2Dright%2Dwidth%3A2px%7D%2EhtContextMenu%20%2EwtBorder%7Bvisibility%3Ahidden%7D%2EhtContextMenu%20table%20tbody%20tr%20td%7Bbackground%3Awhite%3Bborder%2Dwidth%3A0%3Bpadding%3A4px%206px%200%206px%3Bcursor%3Apointer%3Boverflow%3Ahidden%3Bwhite%2Dspace%3Anowrap%3Btext%2Doverflow%3Aellipsis%7D%2EhtContextMenu%20table%20tbody%20tr%20td%3Afirst%2Dchild%7Bborder%3A0%7D%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtDimmed%7Bfont%2Dstyle%3Anormal%3Bcolor%3A%23323232%7D%2EhtContextMenu%20table%20tbody%20tr%20td%2Ecurrent%2C%2EhtContextMenu%20table%20tbody%20tr%20td%2Ezeroclipboard%2Dis%2Dhover%7Bbackground%3A%23e9e9e9%7D%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtSeparator%7Bborder%2Dtop%3A1px%20solid%20%23bbb%3Bheight%3A0%3Bpadding%3A0%3Bcursor%3Adefault%7D%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtDisabled%7Bcolor%3A%23999%7D%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtDisabled%3Ahover%7Bbackground%3A%23fff%3Bcolor%3A%23999%3Bcursor%3Adefault%7D%2EhtContextMenu%20table%20tbody%20tr%2EhtHidden%7Bdisplay%3Anone%7D%2EhtContextMenu%20table%20tbody%20tr%20td%20%2EhtItemWrapper%7Bmargin%2Dleft%3A10px%3Bmargin%2Dright%3A6px%7D%2EhtContextMenu%20table%20tbody%20tr%20td%20div%20span%2Eselected%7Bmargin%2Dtop%3A%2D2px%3Bposition%3Aabsolute%3Bleft%3A4px%7D%2EhtContextMenu%20%2Eht%5Fmaster%20%2EwtHolder%7Boverflow%3Ahidden%7D%2Epika%2Dsingle%7Bz%2Dindex%3A9999%3Bdisplay%3Ablock%3Bposition%3Arelative%3Bcolor%3A%23333%3Bbackground%3A%23fff%3Bborder%3A1px%20solid%20%23ccc%3Bborder%2Dbottom%2Dcolor%3A%23bbb%3Bfont%2Dfamily%3A%22Helvetica%20Neue%22%2CHelvetica%2CArial%2Csans%2Dserif%7D%2Epika%2Dsingle%3Abefore%2C%2Epika%2Dsingle%3Aafter%7Bcontent%3A%22%20%22%3Bdisplay%3Atable%7D%2Epika%2Dsingle%3Aafter%7Bclear%3Aboth%7D%2Epika%2Dsingle%7B%2Azoom%3A1%7D%2Epika%2Dsingle%2Eis%2Dhidden%7Bdisplay%3Anone%7D%2Epika%2Dsingle%2Eis%2Dbound%7Bposition%3Aabsolute%3Bbox%2Dshadow%3A0%205px%2015px%20%2D5px%20rgba%280%2C0%2C0%2C%2E5%29%7D%2Epika%2Dlendar%7Bfloat%3Aleft%3Bwidth%3A240px%3Bmargin%3A8px%7D%2Epika%2Dtitle%7Bposition%3Arelative%3Btext%2Dalign%3Acenter%7D%2Epika%2Dlabel%7Bdisplay%3Ainline%2Dblock%3B%2Adisplay%3Ainline%3Bposition%3Arelative%3Bz%2Dindex%3A9999%3Boverflow%3Ahidden%3Bmargin%3A0%3Bpadding%3A5px%203px%3Bfont%2Dsize%3A14px%3Bline%2Dheight%3A20px%3Bfont%2Dweight%3Abold%3Bbackground%2Dcolor%3A%23fff%7D%2Epika%2Dtitle%20select%7Bcursor%3Apointer%3Bposition%3Aabsolute%3Bz%2Dindex%3A9998%3Bmargin%3A0%3Bleft%3A0%3Btop%3A5px%3Bfilter%3Aalpha%28opacity%3D0%29%3Bopacity%3A0%7D%2Epika%2Dprev%2C%2Epika%2Dnext%7Bdisplay%3Ablock%3Bcursor%3Apointer%3Bposition%3Arelative%3Boutline%3A0%3Bborder%3A0%3Bpadding%3A0%3Bwidth%3A20px%3Bheight%3A30px%3Btext%2Dindent%3A20px%3Bwhite%2Dspace%3Anowrap%3Boverflow%3Ahidden%3Bbackground%2Dcolor%3Atransparent%3Bbackground%2Dposition%3Acenter%20center%3Bbackground%2Drepeat%3Ano%2Drepeat%3Bbackground%2Dsize%3A75%25%2075%25%3Bopacity%3A%2E5%3B%2Aposition%3Aabsolute%3B%2Atop%3A0%7D%2Epika%2Dprev%3Ahover%2C%2Epika%2Dnext%3Ahover%7Bopacity%3A1%7D%2Epika%2Dprev%2C%2Eis%2Drtl%20%2Epika%2Dnext%7Bfloat%3Aleft%3Bbackground%2Dimage%3Aurl%28%27data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj%2BOD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8%2BAqBIl6kKgHiXqQqAeJepBo%2Fz38J%2FU0uAHlaBkBl9I4GwAAAABJRU5ErkJggg%3D%3D%27%29%3B%2Aleft%3A0%7D%2Epika%2Dnext%2C%2Eis%2Drtl%20%2Epika%2Dprev%7Bfloat%3Aright%3Bbackground%2Dimage%3Aurl%28%27data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO%2BBJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII%3D%27%29%3B%2Aright%3A0%7D%2Epika%2Dprev%2Eis%2Ddisabled%2C%2Epika%2Dnext%2Eis%2Ddisabled%7Bcursor%3Adefault%3Bopacity%3A%2E2%7D%2Epika%2Dselect%7Bdisplay%3Ainline%2Dblock%3B%2Adisplay%3Ainline%7D%2Epika%2Dtable%7Bwidth%3A100%25%3Bborder%2Dcollapse%3Acollapse%3Bborder%2Dspacing%3A0%3Bborder%3A0%7D%2Epika%2Dtable%20th%2C%2Epika%2Dtable%20td%7Bwidth%3A14%2E285714285714286%25%3Bpadding%3A0%7D%2Epika%2Dtable%20th%7Bcolor%3A%23999%3Bfont%2Dsize%3A12px%3Bline%2Dheight%3A25px%3Bfont%2Dweight%3Abold%3Btext%2Dalign%3Acenter%7D%2Epika%2Dbutton%7Bcursor%3Apointer%3Bdisplay%3Ablock%3Bbox%2Dsizing%3Aborder%2Dbox%3B%2Dmoz%2Dbox%2Dsizing%3Aborder%2Dbox%3Boutline%3A0%3Bborder%3A0%3Bmargin%3A0%3Bwidth%3A100%25%3Bpadding%3A5px%3Bcolor%3A%23666%3Bfont%2Dsize%3A12px%3Bline%2Dheight%3A15px%3Btext%2Dalign%3Aright%3Bbackground%3A%23f5f5f5%7D%2Epika%2Dweek%7Bfont%2Dsize%3A11px%3Bcolor%3A%23999%7D%2Eis%2Dtoday%20%2Epika%2Dbutton%7Bcolor%3A%233af%3Bfont%2Dweight%3Abold%7D%2Eis%2Dselected%20%2Epika%2Dbutton%7Bcolor%3A%23fff%3Bfont%2Dweight%3Abold%3Bbackground%3A%233af%3Bbox%2Dshadow%3Ainset%200%201px%203px%20%23178fe5%3Bborder%2Dradius%3A3px%7D%2Eis%2Dinrange%20%2Epika%2Dbutton%7Bbackground%3A%23d5e9f7%7D%2Eis%2Dstartrange%20%2Epika%2Dbutton%7Bcolor%3A%23fff%3Bbackground%3A%236cb31d%3Bbox%2Dshadow%3Anone%3Bborder%2Dradius%3A3px%7D%2Eis%2Dendrange%20%2Epika%2Dbutton%7Bcolor%3A%23fff%3Bbackground%3A%233af%3Bbox%2Dshadow%3Anone%3Bborder%2Dradius%3A3px%7D%2Eis%2Ddisabled%20%2Epika%2Dbutton%7Bpointer%2Devents%3Anone%3Bcursor%3Adefault%3Bcolor%3A%23999%3Bopacity%3A%2E3%7D%2Epika%2Dbutton%3Ahover%7Bcolor%3A%23fff%3Bbackground%3A%23ff8000%3Bbox%2Dshadow%3Anone%3Bborder%2Dradius%3A3px%7D%2Epika%2Dtable%20abbr%7Bborder%2Dbottom%3A0%3Bcursor%3Ahelp%7D" rel="stylesheet" />
<script src="data:application/x-javascript;base64,LyohCihUaGUgTUlUIExpY2Vuc2UpCgpDb3B5cmlnaHQgKGMpIDIwMTItMjAxNCBNYXJjaW4gV2FycGVjaG93c2tpCkNvcHlyaWdodCAoYykgMjAxNSBIYW5kc29uY29kZSBzcC4geiBvLm8uIDxoZWxsb0BoYW5kc29uY29kZS5uZXQ+CgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcKYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlCidTb2Z0d2FyZScpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcKd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLApkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8KcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvCnRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlCmluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICdBUyBJUycsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsCkVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRgpNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuCklOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZCkNMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsClRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFClNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgoKKi8KIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LkhhbmRzb250YWJsZT1lKCl9fShmdW5jdGlvbigpe3ZhciBlO3JldHVybiBmdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uIG8oZSx0LG4pe2Z1bmN0aW9uIHIoYSxsKXtpZighdFthXSl7aWYoIWVbYV0pe3ZhciB1PSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFsJiZ1KXJldHVybiB1KGEsITApO2lmKGkpcmV0dXJuIGkoYSwhMCk7aWYoc1thXSYmInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3dbc1thXV0pcmV0dXJuIHdpbmRvd1tzW2FdXTt2YXIgYz1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIithKyInIik7dGhyb3cgYy5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixjfXZhciBkPXRbYV09e2V4cG9ydHM6e319O2VbYV1bMF0uY2FsbChkLmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIG49ZVthXVsxXVt0XTtyZXR1cm4gcihuP246dCl9LGQsZC5leHBvcnRzLG8sZSx0LG4pfXJldHVybiB0W2FdLmV4cG9ydHN9Zm9yKHZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9SlNPTi5wYXJzZSgneyJ6ZXJvY2xpcGJvYXJkIjoiWmVyb0NsaXBib2FyZCIsIm1vbWVudCI6Im1vbWVudCIsInBpa2FkYXkiOiJQaWthZGF5In0nKXx8e30sYT0wO2E8bi5sZW5ndGg7YSsrKXIoblthXSk7cmV0dXJuIHJ9KGUsdCxuKSxmdW5jdGlvbigpe3JldHVybiBIYW5kc29udGFibGV9fSh7MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt3aW5kb3cualF1ZXJ5JiYhZnVuY3Rpb24oZSx0LG4pe3QuZm4uaGFuZHNvbnRhYmxlPWZ1bmN0aW9uKGUpe3ZhciB0LG8scixpLHMsYT10aGlzLmZpcnN0KCksbD1hLmRhdGEoImhhbmRzb250YWJsZSIpO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gcz1lfHx7fSxsP2wudXBkYXRlU2V0dGluZ3Mocyk6KGw9bmV3IG4uQ29yZShhWzBdLHMpLGEuZGF0YSgiaGFuZHNvbnRhYmxlIixsKSxsLmluaXQoKSksYTtpZihyPVtdLGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodD0xLG89YXJndW1lbnRzLmxlbmd0aDtvPnQ7dCsrKXIucHVzaChhcmd1bWVudHNbdF0pO2lmKGwpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgbFtlXSl0aHJvdyBuZXcgRXJyb3IoIkhhbmRzb250YWJsZSBkbyBub3QgcHJvdmlkZSBhY3Rpb246ICIrZSk7aT1sW2VdLmFwcGx5KGwsciksImRlc3Ryb3kiPT09ZSYmYS5yZW1vdmVEYXRhKCl9cmV0dXJuIGl9fSh3aW5kb3csalF1ZXJ5LEhhbmRzb250YWJsZSl9LHt9XSwyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1dhbGtvbnRhYmxlQm9yZGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGEsbD0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KSx1PWwuZ2V0Q29tcHV0ZWRTdHlsZSxjPWwuZ2V0VHJpbW1pbmdDb250YWluZXIsZD1sLmlubmVyV2lkdGgsaD1sLmlubmVySGVpZ2h0LGY9bC5vZmZzZXQscD1sLm91dGVySGVpZ2h0LGc9bC5vdXRlcldpZHRoLG09KHI9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbix2PShpPWUoImV2ZW50TWFuYWdlciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuRXZlbnRNYW5hZ2VyLHc9KHM9ZSgiY2VsbC9jb29yZHMiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLldhbGtvbnRhYmxlQ2VsbENvb3Jkcyx5PSgoYT1lKCJvdmVybGF5L19iYXNlLmpzIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5XYWxrb250YWJsZU92ZXJsYXksZnVuY3Rpb24oZSx0KXt0JiYodGhpcy5ldmVudE1hbmFnZXI9bmV3IHYoZSksdGhpcy5pbnN0YW5jZT1lLHRoaXMud290PWUsdGhpcy5zZXR0aW5ncz10LHRoaXMubW91c2VEb3duPSExLHRoaXMubWFpbj1udWxsLHRoaXMudG9wPW51bGwsdGhpcy5sZWZ0PW51bGwsdGhpcy5ib3R0b209bnVsbCx0aGlzLnJpZ2h0PW51bGwsdGhpcy50b3BTdHlsZT1udWxsLHRoaXMubGVmdFN0eWxlPW51bGwsdGhpcy5ib3R0b21TdHlsZT1udWxsLHRoaXMucmlnaHRTdHlsZT1udWxsLHRoaXMuY29ybmVyRGVmYXVsdFN0eWxlPXt3aWR0aDoiNXB4IixoZWlnaHQ6IjVweCIsYm9yZGVyV2lkdGg6IjJweCIsYm9yZGVyU3R5bGU6InNvbGlkIixib3JkZXJDb2xvcjoiI0ZGRiJ9LHRoaXMuY29ybmVyPW51bGwsdGhpcy5jb3JuZXJTdHlsZT1udWxsLHRoaXMuY3JlYXRlQm9yZGVycyh0KSx0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCkpfSk7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKHkse3JlZ2lzdGVyTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LmJvZHksIm1vdXNlZG93biIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbk1vdXNlRG93bigpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudC5ib2R5LCJtb3VzZXVwIixmdW5jdGlvbigpe3JldHVybiBlLm9uTW91c2VVcCgpfSk7Zm9yKHZhciB0PXRoaXMsbj1mdW5jdGlvbihuLG8pe3QuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodC5tYWluLmNoaWxkTm9kZXNbbl0sIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VFbnRlcih0LGUubWFpbi5jaGlsZE5vZGVzW25dKX0pfSxvPTAscj10aGlzLm1haW4uY2hpbGROb2Rlcy5sZW5ndGg7cj5vO28rKyluKG8scil9LG9uTW91c2VEb3duOmZ1bmN0aW9uKCl7dGhpcy5tb3VzZURvd249ITB9LG9uTW91c2VVcDpmdW5jdGlvbigpe3RoaXMubW91c2VEb3duPSExfSxvbk1vdXNlRW50ZXI6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3JldHVybiBlLmNsaWVudFk8TWF0aC5mbG9vcihpLnRvcCk/ITA6ZS5jbGllbnRZPk1hdGguY2VpbChpLnRvcCtpLmhlaWdodCk/ITA6ZS5jbGllbnRYPE1hdGguZmxvb3IoaS5sZWZ0KT8hMDplLmNsaWVudFg+TWF0aC5jZWlsKGkubGVmdCtpLndpZHRoKT8hMDp2b2lkIDB9ZnVuY3Rpb24gbyhlKXtuKGUpJiYoci5ldmVudE1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihkb2N1bWVudC5ib2R5LCJtb3VzZW1vdmUiLG8pLHQuc3R5bGUuZGlzcGxheT0iYmxvY2siKX1pZih0aGlzLm1vdXNlRG93biYmdGhpcy53b3QuZ2V0U2V0dGluZygiaGlkZUJvcmRlck9uTW91c2VEb3duT3ZlciIpKXtlLnByZXZlbnREZWZhdWx0KCksbShlKTt2YXIgcj10aGlzLGk9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQuYm9keSwibW91c2Vtb3ZlIixvKX19LGNyZWF0ZUJvcmRlcnM6ZnVuY3Rpb24oZSl7dGhpcy5tYWluPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3ZhciB0PVsidG9wIiwibGVmdCIsImJvdHRvbSIsInJpZ2h0IiwiY29ybmVyIl0sbj10aGlzLm1haW4uc3R5bGU7bi5wb3NpdGlvbj0iYWJzb2x1dGUiLG4udG9wPTAsbi5sZWZ0PTA7Zm9yKHZhciBvPTA7NT5vO28rKyl7dmFyIHI9dFtvXSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2kuY2xhc3NOYW1lPSJ3dEJvcmRlciAiKyh0aGlzLnNldHRpbmdzLmNsYXNzTmFtZXx8IiIpLHRoaXMuc2V0dGluZ3Nbcl0mJnRoaXMuc2V0dGluZ3Nbcl0uaGlkZSYmKGkuY2xhc3NOYW1lKz0iIGhpZGRlbiIpLG49aS5zdHlsZSxuLmJhY2tncm91bmRDb2xvcj10aGlzLnNldHRpbmdzW3JdJiZ0aGlzLnNldHRpbmdzW3JdLmNvbG9yP3RoaXMuc2V0dGluZ3Nbcl0uY29sb3I6ZS5ib3JkZXIuY29sb3Isbi5oZWlnaHQ9dGhpcy5zZXR0aW5nc1tyXSYmdGhpcy5zZXR0aW5nc1tyXS53aWR0aD90aGlzLnNldHRpbmdzW3JdLndpZHRoKyJweCI6ZS5ib3JkZXIud2lkdGgrInB4IixuLndpZHRoPXRoaXMuc2V0dGluZ3Nbcl0mJnRoaXMuc2V0dGluZ3Nbcl0ud2lkdGg/dGhpcy5zZXR0aW5nc1tyXS53aWR0aCsicHgiOmUuYm9yZGVyLndpZHRoKyJweCIsdGhpcy5tYWluLmFwcGVuZENoaWxkKGkpfXRoaXMudG9wPXRoaXMubWFpbi5jaGlsZE5vZGVzWzBdLHRoaXMubGVmdD10aGlzLm1haW4uY2hpbGROb2Rlc1sxXSx0aGlzLmJvdHRvbT10aGlzLm1haW4uY2hpbGROb2Rlc1syXSx0aGlzLnJpZ2h0PXRoaXMubWFpbi5jaGlsZE5vZGVzWzNdLHRoaXMudG9wU3R5bGU9dGhpcy50b3Auc3R5bGUsdGhpcy5sZWZ0U3R5bGU9dGhpcy5sZWZ0LnN0eWxlLHRoaXMuYm90dG9tU3R5bGU9dGhpcy5ib3R0b20uc3R5bGUsdGhpcy5yaWdodFN0eWxlPXRoaXMucmlnaHQuc3R5bGUsdGhpcy5jb3JuZXI9dGhpcy5tYWluLmNoaWxkTm9kZXNbNF0sdGhpcy5jb3JuZXIuY2xhc3NOYW1lKz0iIGNvcm5lciIsdGhpcy5jb3JuZXJTdHlsZT10aGlzLmNvcm5lci5zdHlsZSx0aGlzLmNvcm5lclN0eWxlLndpZHRoPXRoaXMuY29ybmVyRGVmYXVsdFN0eWxlLndpZHRoLHRoaXMuY29ybmVyU3R5bGUuaGVpZ2h0PXRoaXMuY29ybmVyRGVmYXVsdFN0eWxlLmhlaWdodCx0aGlzLmNvcm5lclN0eWxlLmJvcmRlcj1bdGhpcy5jb3JuZXJEZWZhdWx0U3R5bGUuYm9yZGVyV2lkdGgsdGhpcy5jb3JuZXJEZWZhdWx0U3R5bGUuYm9yZGVyU3R5bGUsdGhpcy5jb3JuZXJEZWZhdWx0U3R5bGUuYm9yZGVyQ29sb3JdLmpvaW4oIiAiKSxIYW5kc29udGFibGUubW9iaWxlQnJvd3NlciYmdGhpcy5jcmVhdGVNdWx0aXBsZVNlbGVjdG9ySGFuZGxlcygpLHRoaXMuZGlzYXBwZWFyKCksdGhpcy53b3Qud3RUYWJsZS5ib3JkZXJzSG9sZGVyfHwodGhpcy53b3Qud3RUYWJsZS5ib3JkZXJzSG9sZGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMud290Lnd0VGFibGUuYm9yZGVyc0hvbGRlci5jbGFzc05hbWU9Imh0Qm9yZGVycyIsdGhpcy53b3Qud3RUYWJsZS5zcHJlYWRlci5hcHBlbmRDaGlsZCh0aGlzLndvdC53dFRhYmxlLmJvcmRlcnNIb2xkZXIpKSx0aGlzLndvdC53dFRhYmxlLmJvcmRlcnNIb2xkZXIuaW5zZXJ0QmVmb3JlKHRoaXMubWFpbix0aGlzLndvdC53dFRhYmxlLmJvcmRlcnNIb2xkZXIuZmlyc3RDaGlsZCl9LGNyZWF0ZU11bHRpcGxlU2VsZWN0b3JIYW5kbGVzOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3Rpb25IYW5kbGVzPXt0b3BMZWZ0OmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLHRvcExlZnRIaXRBcmVhOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLGJvdHRvbVJpZ2h0OmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLGJvdHRvbVJpZ2h0SGl0QXJlYTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKX07dmFyIGU9MTAsdD00MDt0aGlzLnNlbGVjdGlvbkhhbmRsZXMudG9wTGVmdC5jbGFzc05hbWU9InRvcExlZnRTZWxlY3Rpb25IYW5kbGUiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy50b3BMZWZ0SGl0QXJlYS5jbGFzc05hbWU9InRvcExlZnRTZWxlY3Rpb25IYW5kbGUtSGl0QXJlYSIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLmJvdHRvbVJpZ2h0LmNsYXNzTmFtZT0iYm90dG9tUmlnaHRTZWxlY3Rpb25IYW5kbGUiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5ib3R0b21SaWdodEhpdEFyZWEuY2xhc3NOYW1lPSJib3R0b21SaWdodFNlbGVjdGlvbkhhbmRsZS1IaXRBcmVhIix0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzPXt0b3BMZWZ0OnRoaXMuc2VsZWN0aW9uSGFuZGxlcy50b3BMZWZ0LnN0eWxlLHRvcExlZnRIaXRBcmVhOnRoaXMuc2VsZWN0aW9uSGFuZGxlcy50b3BMZWZ0SGl0QXJlYS5zdHlsZSxib3R0b21SaWdodDp0aGlzLnNlbGVjdGlvbkhhbmRsZXMuYm90dG9tUmlnaHQuc3R5bGUsYm90dG9tUmlnaHRIaXRBcmVhOnRoaXMuc2VsZWN0aW9uSGFuZGxlcy5ib3R0b21SaWdodEhpdEFyZWEuc3R5bGV9O3ZhciBuPXtwb3NpdGlvbjoiYWJzb2x1dGUiLGhlaWdodDp0KyJweCIsd2lkdGg6dCsicHgiLCJib3JkZXItcmFkaXVzIjpwYXJzZUludCh0LzEuNSwxMCkrInB4In07Zm9yKHZhciBvIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShvKSYmKHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMuYm90dG9tUmlnaHRIaXRBcmVhW29dPW5bb10sdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0SGl0QXJlYVtvXT1uW29dKTt2YXIgcj17cG9zaXRpb246ImFic29sdXRlIixoZWlnaHQ6ZSsicHgiLHdpZHRoOmUrInB4IiwiYm9yZGVyLXJhZGl1cyI6cGFyc2VJbnQoZS8xLjUsMTApKyJweCIsYmFja2dyb3VuZDoiI0Y1RjVGRiIsYm9yZGVyOiIxcHggc29saWQgIzQyODVjOCJ9O2Zvcih2YXIgaSBpbiByKXIuaGFzT3duUHJvcGVydHkoaSkmJih0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLmJvdHRvbVJpZ2h0W2ldPXJbaV0sdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0W2ldPXJbaV0pO3RoaXMubWFpbi5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdGlvbkhhbmRsZXMudG9wTGVmdCksdGhpcy5tYWluLmFwcGVuZENoaWxkKHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5ib3R0b21SaWdodCksdGhpcy5tYWluLmFwcGVuZENoaWxkKHRoaXMuc2VsZWN0aW9uSGFuZGxlcy50b3BMZWZ0SGl0QXJlYSksdGhpcy5tYWluLmFwcGVuZENoaWxkKHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5ib3R0b21SaWdodEhpdEFyZWEpfSxpc1BhcnRSYW5nZTpmdW5jdGlvbihlLHQpe3JldHVybiF0aGlzLndvdC5zZWxlY3Rpb25zLmFyZWEuY2VsbFJhbmdlfHxlPT10aGlzLndvdC5zZWxlY3Rpb25zLmFyZWEuY2VsbFJhbmdlLnRvLnJvdyYmdD09dGhpcy53b3Quc2VsZWN0aW9ucy5hcmVhLmNlbGxSYW5nZS50by5jb2w/ITE6ITB9LHVwZGF0ZU11bHRpcGxlU2VsZWN0aW9uSGFuZGxlc1Bvc2l0aW9uOmZ1bmN0aW9uKGUsdCxuLG8scixpKXt2YXIgcz1wYXJzZUludCh0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLnRvcExlZnQud2lkdGgsMTApLGE9cGFyc2VJbnQodGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0SGl0QXJlYS53aWR0aCwxMCk7dGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0LnRvcD1wYXJzZUludChuLXMsMTApKyJweCIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0LmxlZnQ9cGFyc2VJbnQoby1zLDEwKSsicHgiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMudG9wTGVmdEhpdEFyZWEudG9wPXBhcnNlSW50KG4tYS80KjMsMTApKyJweCIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0SGl0QXJlYS5sZWZ0PXBhcnNlSW50KG8tYS80KjMsMTApKyJweCIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy5ib3R0b21SaWdodC50b3A9cGFyc2VJbnQobitpLDEwKSsicHgiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMuYm90dG9tUmlnaHQubGVmdD1wYXJzZUludChvK3IsMTApKyJweCIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy5ib3R0b21SaWdodEhpdEFyZWEudG9wPXBhcnNlSW50KG4raS1hLzQsMTApKyJweCIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy5ib3R0b21SaWdodEhpdEFyZWEubGVmdD1wYXJzZUludChvK3ItYS80LDEwKSsicHgiLHRoaXMuc2V0dGluZ3MuYm9yZGVyLm11bHRpcGxlU2VsZWN0aW9uSGFuZGxlc1Zpc2libGUmJnRoaXMuc2V0dGluZ3MuYm9yZGVyLm11bHRpcGxlU2VsZWN0aW9uSGFuZGxlc1Zpc2libGUoKT8odGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0LmRpc3BsYXk9ImJsb2NrIix0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLnRvcExlZnRIaXRBcmVhLmRpc3BsYXk9ImJsb2NrIix0aGlzLmlzUGFydFJhbmdlKGUsdCk/KHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMuYm90dG9tUmlnaHQuZGlzcGxheT0ibm9uZSIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy5ib3R0b21SaWdodEhpdEFyZWEuZGlzcGxheT0ibm9uZSIpOih0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLmJvdHRvbVJpZ2h0LmRpc3BsYXk9ImJsb2NrIix0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLmJvdHRvbVJpZ2h0SGl0QXJlYS5kaXNwbGF5PSJibG9jayIpKToodGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0LmRpc3BsYXk9Im5vbmUiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMuYm90dG9tUmlnaHQuZGlzcGxheT0ibm9uZSIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0SGl0QXJlYS5kaXNwbGF5PSJub25lIix0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLmJvdHRvbVJpZ2h0SGl0QXJlYS5kaXNwbGF5PSJub25lIiksZT09dGhpcy53b3Qud3RTZXR0aW5ncy5nZXRTZXR0aW5nKCJmaXhlZFJvd3NUb3AiKXx8dD09dGhpcy53b3Qud3RTZXR0aW5ncy5nZXRTZXR0aW5nKCJmaXhlZENvbHVtbnNMZWZ0Iik/KHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMudG9wTGVmdC56SW5kZXg9Ijk5OTkiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMudG9wTGVmdEhpdEFyZWEuekluZGV4PSI5OTk5Iik6KHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMudG9wTGVmdC56SW5kZXg9IiIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0SGl0QXJlYS56SW5kZXg9IiIpfSxhcHBlYXI6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZGlzYWJsZWQpe3ZhciB0LG4sbyxyLGkscyxhLGwsbSx2LHksYixDLFIsXyxTLEUsVCxNO009dGhpcy53b3Qud3RUYWJsZS5nZXRSZW5kZXJlZFJvd3NDb3VudCgpO2Zvcih2YXIgTz0wO00+TztPKyspe3ZhciBrPXRoaXMud290Lnd0VGFibGUucm93RmlsdGVyLnJlbmRlcmVkVG9Tb3VyY2UoTyk7aWYoaz49ZVswXSYmazw9ZVsyXSl7Qz1rO2JyZWFrfX1mb3IodmFyIEg9TS0xO0g+PTA7SC0tKXt2YXIgRD10aGlzLndvdC53dFRhYmxlLnJvd0ZpbHRlci5yZW5kZXJlZFRvU291cmNlKEgpO2lmKEQ+PWVbMF0mJkQ8PWVbMl0pe189RDticmVha319TT10aGlzLndvdC53dFRhYmxlLmdldFJlbmRlcmVkQ29sdW1uc0NvdW50KCk7Zm9yKHZhciB4PTA7TT54O3grKyl7dmFyIEE9dGhpcy53b3Qud3RUYWJsZS5jb2x1bW5GaWx0ZXIucmVuZGVyZWRUb1NvdXJjZSh4KTtpZihBPj1lWzFdJiZBPD1lWzNdKXtSPUE7YnJlYWt9fWZvcih2YXIgUD1NLTE7UD49MDtQLS0pe3ZhciBOPXRoaXMud290Lnd0VGFibGUuY29sdW1uRmlsdGVyLnJlbmRlcmVkVG9Tb3VyY2UoUCk7aWYoTj49ZVsxXSYmTjw9ZVszXSl7Uz1OO2JyZWFrfX1pZih2b2lkIDA9PT1DfHx2b2lkIDA9PT1SKXJldHVybiB2b2lkIHRoaXMuZGlzYXBwZWFyKCk7dD1DIT09X3x8UiE9PVMsbj10aGlzLndvdC53dFRhYmxlLmdldENlbGwobmV3IHcoQyxSKSksbz10P3RoaXMud290Lnd0VGFibGUuZ2V0Q2VsbChuZXcgdyhfLFMpKTpuLHI9ZihuKSxpPXQ/ZihvKTpyLHM9Zih0aGlzLndvdC53dFRhYmxlLlRBQkxFKSxsPXIudG9wLHk9aS50b3ArcChvKS1sLHY9ci5sZWZ0LGI9aS5sZWZ0K2cobyktdixhPWwtcy50b3AtMSxtPXYtcy5sZWZ0LTE7dmFyIEw9dShuKTtwYXJzZUludChMLmJvcmRlclRvcFdpZHRoLDEwKT4wJiYoYSs9MSx5PXk+MD95LTE6MCkscGFyc2VJbnQoTC5ib3JkZXJMZWZ0V2lkdGgsMTApPjAmJihtKz0xLGI9Yj4wP2ItMTowKSx0aGlzLnRvcFN0eWxlLnRvcD1hKyJweCIsdGhpcy50b3BTdHlsZS5sZWZ0PW0rInB4Iix0aGlzLnRvcFN0eWxlLndpZHRoPWIrInB4Iix0aGlzLnRvcFN0eWxlLmRpc3BsYXk9ImJsb2NrIix0aGlzLmxlZnRTdHlsZS50b3A9YSsicHgiLHRoaXMubGVmdFN0eWxlLmxlZnQ9bSsicHgiLHRoaXMubGVmdFN0eWxlLmhlaWdodD15KyJweCIsdGhpcy5sZWZ0U3R5bGUuZGlzcGxheT0iYmxvY2siO3ZhciBXPU1hdGguZmxvb3IodGhpcy5zZXR0aW5ncy5ib3JkZXIud2lkdGgvMik7dGhpcy5ib3R0b21TdHlsZS50b3A9YSt5LVcrInB4Iix0aGlzLmJvdHRvbVN0eWxlLmxlZnQ9bSsicHgiLHRoaXMuYm90dG9tU3R5bGUud2lkdGg9YisicHgiLHRoaXMuYm90dG9tU3R5bGUuZGlzcGxheT0iYmxvY2siLHRoaXMucmlnaHRTdHlsZS50b3A9YSsicHgiLHRoaXMucmlnaHRTdHlsZS5sZWZ0PW0rYi1XKyJweCIsdGhpcy5yaWdodFN0eWxlLmhlaWdodD15KzErInB4Iix0aGlzLnJpZ2h0U3R5bGUuZGlzcGxheT0iYmxvY2siLEhhbmRzb250YWJsZS5tb2JpbGVCcm93c2VyfHwhdGhpcy5oYXNTZXR0aW5nKHRoaXMuc2V0dGluZ3MuYm9yZGVyLmNvcm5lclZpc2libGUpfHx0aGlzLmlzUGFydFJhbmdlKF8sUyk/dGhpcy5jb3JuZXJTdHlsZS5kaXNwbGF5PSJub25lIjoodGhpcy5jb3JuZXJTdHlsZS50b3A9YSt5LTQrInB4Iix0aGlzLmNvcm5lclN0eWxlLmxlZnQ9bStiLTQrInB4Iix0aGlzLmNvcm5lclN0eWxlLmJvcmRlclJpZ2h0V2lkdGg9dGhpcy5jb3JuZXJEZWZhdWx0U3R5bGUuYm9yZGVyV2lkdGgsdGhpcy5jb3JuZXJTdHlsZS53aWR0aD10aGlzLmNvcm5lckRlZmF1bHRTdHlsZS53aWR0aCx0aGlzLmNvcm5lclN0eWxlLmRpc3BsYXk9ImJsb2NrIixFPWModGhpcy53b3Qud3RUYWJsZS5UQUJMRSksUz09PXRoaXMud290LmdldFNldHRpbmcoInRvdGFsQ29sdW1ucyIpLTEmJihUPW8ub2Zmc2V0TGVmdCtnKG8pPj1kKEUpLFQmJih0aGlzLmNvcm5lclN0eWxlLmxlZnQ9TWF0aC5mbG9vcihtK2ItMy1wYXJzZUludCh0aGlzLmNvcm5lckRlZmF1bHRTdHlsZS53aWR0aCkvMikrInB4Iix0aGlzLmNvcm5lclN0eWxlLmJvcmRlclJpZ2h0V2lkdGg9MCkpLF89PT10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKS0xJiYoVD1vLm9mZnNldFRvcCtwKG8pPj1oKEUpLFQmJih0aGlzLmNvcm5lclN0eWxlLnRvcD1NYXRoLmZsb29yKGEreS0zLXBhcnNlSW50KHRoaXMuY29ybmVyRGVmYXVsdFN0eWxlLmhlaWdodCkvMikrInB4Iix0aGlzLmNvcm5lclN0eWxlLmJvcmRlckJvdHRvbVdpZHRoPTApKSksSGFuZHNvbnRhYmxlLm1vYmlsZUJyb3dzZXImJnRoaXMudXBkYXRlTXVsdGlwbGVTZWxlY3Rpb25IYW5kbGVzUG9zaXRpb24oQyxSLGEsbSxiLHkpfX0sZGlzYXBwZWFyOmZ1bmN0aW9uKCl7dGhpcy50b3BTdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLmxlZnRTdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLmJvdHRvbVN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMucmlnaHRTdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLmNvcm5lclN0eWxlLmRpc3BsYXk9Im5vbmUiLEhhbmRzb250YWJsZS5tb2JpbGVCcm93c2VyJiYodGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0LmRpc3BsYXk9Im5vbmUiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMuYm90dG9tUmlnaHQuZGlzcGxheT0ibm9uZSIpfSxoYXNTZXR0aW5nOmZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2UoKTohIWV9fSx7fSksd2luZG93LldhbGtvbnRhYmxlQm9yZGVyPXl9LHsiY2VsbC9jb29yZHMiOjUsZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSwiaGVscGVycy9kb20vZXZlbnQiOjQ2LCJvdmVybGF5L19iYXNlLmpzIjoxMX1dLDM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVWaWV3cG9ydENvbHVtbnNDYWxjdWxhdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvPW5ldyBXZWFrTWFwLHI9ZnVuY3Rpb24oZSx0LG4scixpLHMsYSl7dmFyIGw9dm9pZCAwIT09YXJndW1lbnRzWzddP2FyZ3VtZW50c1s3XTpmdW5jdGlvbihlKXtyZXR1cm4gZX07by5zZXQodGhpcyx7dmlld3BvcnRXaWR0aDplLHNjcm9sbE9mZnNldDp0LHRvdGFsQ29sdW1uczpuLGNvbHVtbldpZHRoRm46cixvdmVycmlkZUZuOmksb25seUZ1bGx5VmlzaWJsZTpzLHN0cmV0Y2hpbmdDb2x1bW5XaWR0aEZuOmx9KSx0aGlzLmNvdW50PTAsdGhpcy5zdGFydENvbHVtbj1udWxsLHRoaXMuZW5kQ29sdW1uPW51bGwsdGhpcy5zdGFydFBvc2l0aW9uPW51bGwsdGhpcy5zdHJldGNoQWxsUmF0aW89MCx0aGlzLnN0cmV0Y2hMYXN0V2lkdGg9MCx0aGlzLnN0cmV0Y2g9YSx0aGlzLnRvdGFsVGFyZ2V0V2lkdGg9MCx0aGlzLm5lZWRWZXJpZnlMYXN0Q29sdW1uV2lkdGg9ITAsdGhpcy5zdHJldGNoQWxsQ29sdW1uc1dpZHRoPVtdLHRoaXMuY2FsY3VsYXRlKCl9LGk9cjskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3Mocix7Y2FsY3VsYXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MCxuPSEwLHI9W10saT1vLmdldCh0aGlzKSxzPWkub25seUZ1bGx5VmlzaWJsZSxhPWkub3ZlcnJpZGVGbixsPWkuc2Nyb2xsT2Zmc2V0LHU9aS50b3RhbENvbHVtbnMsYz1pLnZpZXdwb3J0V2lkdGgsZD0wO3U+ZDtkKyspaWYoZT10aGlzLl9nZXRDb2x1bW5XaWR0aChkKSxsPj10JiYhcyYmKHRoaXMuc3RhcnRDb2x1bW49ZCksdD49bCYmbCtjPj10K2UmJihudWxsPT10aGlzLnN0YXJ0Q29sdW1uJiYodGhpcy5zdGFydENvbHVtbj1kKSx0aGlzLmVuZENvbHVtbj1kKSxyLnB1c2godCksdCs9ZSxzfHwodGhpcy5lbmRDb2x1bW49ZCksdD49bCtjKXtuPSExO2JyZWFrfWlmKHRoaXMuZW5kQ29sdW1uPT09dS0xJiZuKWZvcih0aGlzLnN0YXJ0Q29sdW1uPXRoaXMuZW5kQ29sdW1uO3RoaXMuc3RhcnRDb2x1bW4+MDspe3ZhciBoPXJbdGhpcy5lbmRDb2x1bW5dK2Utclt0aGlzLnN0YXJ0Q29sdW1uLTFdO2lmKChjPj1ofHwhcykmJnRoaXMuc3RhcnRDb2x1bW4tLSxoPmMpYnJlYWt9bnVsbCE9PXRoaXMuc3RhcnRDb2x1bW4mJmEmJmEodGhpcyksdGhpcy5zdGFydFBvc2l0aW9uPXJbdGhpcy5zdGFydENvbHVtbl0sdm9pZCAwPT10aGlzLnN0YXJ0UG9zaXRpb24mJih0aGlzLnN0YXJ0UG9zaXRpb249bnVsbCksbnVsbCE9PXRoaXMuc3RhcnRDb2x1bW4mJih0aGlzLmNvdW50PXRoaXMuZW5kQ29sdW1uLXRoaXMuc3RhcnRDb2x1bW4rMSl9LHJlZnJlc2hTdHJldGNoaW5nOmZ1bmN0aW9uKGUpe2lmKCJub25lIiE9PXRoaXMuc3RyZXRjaCl7dGhpcy50b3RhbFRhcmdldFdpZHRoPWU7Zm9yKHZhciB0PW8uZ2V0KHRoaXMpLG49dC50b3RhbENvbHVtbnMscj0wLGk9MDtuPmk7aSsrKXt2YXIgcz10aGlzLl9nZXRDb2x1bW5XaWR0aChpKSxhPXQuc3RyZXRjaGluZ0NvbHVtbldpZHRoRm4odm9pZCAwLGkpOyJudW1iZXIiPT10eXBlb2YgYT9lLT1hOnIrPXN9dmFyIGw9ZS1yO2lmKCJhbGwiPT09dGhpcy5zdHJldGNoJiZsPjApdGhpcy5zdHJldGNoQWxsUmF0aW89ZS9yLHRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aD1bXSx0aGlzLm5lZWRWZXJpZnlMYXN0Q29sdW1uV2lkdGg9ITA7ZWxzZSBpZigibGFzdCI9PT10aGlzLnN0cmV0Y2gmJmUhPT0xLzApe3ZhciB1PXRoaXMuX2dldENvbHVtbldpZHRoKG4tMSksYz1sK3U7dGhpcy5zdHJldGNoTGFzdFdpZHRoPWM+PTA/Yzp1fX19LGdldFN0cmV0Y2hlZENvbHVtbldpZHRoOmZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbDtyZXR1cm4iYWxsIj09PXRoaXMuc3RyZXRjaCYmMCE9PXRoaXMuc3RyZXRjaEFsbFJhdGlvP249dGhpcy5fZ2V0U3RyZXRjaGVkQWxsQ29sdW1uV2lkdGgoZSx0KToibGFzdCI9PT10aGlzLnN0cmV0Y2gmJjAhPT10aGlzLnN0cmV0Y2hMYXN0V2lkdGgmJihuPXRoaXMuX2dldFN0cmV0Y2hlZExhc3RDb2x1bW5XaWR0aChlKSksbn0sX2dldFN0cmV0Y2hlZEFsbENvbHVtbldpZHRoOmZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPW8uZ2V0KHRoaXMpLGk9ci50b3RhbENvbHVtbnM7aWYoIXRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aFtlXSl7dmFyIHM9TWF0aC5yb3VuZCh0KnRoaXMuc3RyZXRjaEFsbFJhdGlvKSxhPXIuc3RyZXRjaGluZ0NvbHVtbldpZHRoRm4ocyxlKTt2b2lkIDA9PT1hP3RoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aFtlXT1zOnRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aFtlXT1pc05hTihhKT90aGlzLl9nZXRDb2x1bW5XaWR0aChlKTphfWlmKHRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aC5sZW5ndGg9PT1pJiZ0aGlzLm5lZWRWZXJpZnlMYXN0Q29sdW1uV2lkdGgpe3RoaXMubmVlZFZlcmlmeUxhc3RDb2x1bW5XaWR0aD0hMTtmb3IodmFyIGw9MDtsPHRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aC5sZW5ndGg7bCsrKW4rPXRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aFtsXTtuIT09dGhpcy50b3RhbFRhcmdldFdpZHRoJiYodGhpcy5zdHJldGNoQWxsQ29sdW1uc1dpZHRoW3RoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aC5sZW5ndGgtMV0rPXRoaXMudG90YWxUYXJnZXRXaWR0aC1uKX1yZXR1cm4gdGhpcy5zdHJldGNoQWxsQ29sdW1uc1dpZHRoW2VdfSxfZ2V0U3RyZXRjaGVkTGFzdENvbHVtbldpZHRoOmZ1bmN0aW9uKGUpe3ZhciB0PW8uZ2V0KHRoaXMpLG49dC50b3RhbENvbHVtbnM7cmV0dXJuIGU9PT1uLTE/dGhpcy5zdHJldGNoTGFzdFdpZHRoOm51bGx9LF9nZXRDb2x1bW5XaWR0aDpmdW5jdGlvbihlKXt2YXIgdD1vLmdldCh0aGlzKS5jb2x1bW5XaWR0aEZuKGUpO3JldHVybiB2b2lkIDA9PT10JiYodD1pLkRFRkFVTFRfV0lEVEgpLHR9fSx7Z2V0IERFRkFVTFRfV0lEVEgoKXtyZXR1cm4gNTB9fSksd2luZG93LldhbGtvbnRhYmxlVmlld3BvcnRDb2x1bW5zQ2FsY3VsYXRvcj1yfSx7fV0sNDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZVZpZXdwb3J0Um93c0NhbGN1bGF0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG89bmV3IFdlYWtNYXAscj1mdW5jdGlvbihlLHQsbixyLGkscyxhKXtvLnNldCh0aGlzLHt2aWV3cG9ydEhlaWdodDplLHNjcm9sbE9mZnNldDp0LHRvdGFsUm93czpuLHJvd0hlaWdodEZuOnIsb3ZlcnJpZGVGbjppLG9ubHlGdWxseVZpc2libGU6cyxob3Jpem9udGFsU2Nyb2xsYmFySGVpZ2h0OmF9KSx0aGlzLmNvdW50PTAsdGhpcy5zdGFydFJvdz1udWxsLHRoaXMuZW5kUm93PW51bGwsdGhpcy5zdGFydFBvc2l0aW9uPW51bGwsdGhpcy5jYWxjdWxhdGUoKX0saT1yOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhyLHtjYWxjdWxhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PSEwLG49W10scj1vLmdldCh0aGlzKSxzPXIub25seUZ1bGx5VmlzaWJsZSxhPXIub3ZlcnJpZGVGbixsPXIucm93SGVpZ2h0Rm4sdT1yLnNjcm9sbE9mZnNldCxjPXIudG90YWxSb3dzLGQ9ci52aWV3cG9ydEhlaWdodCxoPXIuaG9yaXpvbnRhbFNjcm9sbGJhckhlaWdodHx8MCxmPTA7Yz5mO2YrKyl7dmFyIHA9bChmKTtpZih2b2lkIDA9PT1wJiYocD1pLkRFRkFVTFRfSEVJR0hUKSx1Pj1lJiYhcyYmKHRoaXMuc3RhcnRSb3c9ZiksZT49dSYmdStkLWg+PWUrcCYmKG51bGw9PT10aGlzLnN0YXJ0Um93JiYodGhpcy5zdGFydFJvdz1mKSx0aGlzLmVuZFJvdz1mKSxuLnB1c2goZSksZSs9cCxzfHwodGhpcy5lbmRSb3c9ZiksZT49dStkLWgpe3Q9ITE7YnJlYWt9fWlmKHRoaXMuZW5kUm93PT09Yy0xJiZ0KWZvcih0aGlzLnN0YXJ0Um93PXRoaXMuZW5kUm93O3RoaXMuc3RhcnRSb3c+MDspe3ZhciBnPW5bdGhpcy5lbmRSb3ddK3Atblt0aGlzLnN0YXJ0Um93LTFdO2lmKChkLWg+PWd8fCFzKSYmdGhpcy5zdGFydFJvdy0tLGc+PWQtaClicmVha31udWxsIT09dGhpcy5zdGFydFJvdyYmYSYmYSh0aGlzKSx0aGlzLnN0YXJ0UG9zaXRpb249blt0aGlzLnN0YXJ0Um93XSx2b2lkIDA9PXRoaXMuc3RhcnRQb3NpdGlvbiYmKHRoaXMuc3RhcnRQb3NpdGlvbj1udWxsKSxudWxsIT09dGhpcy5zdGFydFJvdyYmKHRoaXMuY291bnQ9dGhpcy5lbmRSb3ctdGhpcy5zdGFydFJvdysxKX19LHtnZXQgREVGQVVMVF9IRUlHSFQoKXtyZXR1cm4gMjN9fSksd2luZG93LldhbGtvbnRhYmxlVmlld3BvcnRSb3dzQ2FsY3VsYXRvcj1yfSx7fV0sNTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZUNlbGxDb29yZHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG89ZnVuY3Rpb24oZSx0KXsidW5kZWZpbmVkIiE9dHlwZW9mIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgdD8odGhpcy5yb3c9ZSx0aGlzLmNvbD10KToodGhpcy5yb3c9bnVsbCx0aGlzLmNvbD1udWxsKX07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKG8se2lzVmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm93PDB8fHRoaXMuY29sPDA/ITE6dGhpcy5yb3c+PWUuZ2V0U2V0dGluZygidG90YWxSb3dzIil8fHRoaXMuY29sPj1lLmdldFNldHRpbmcoInRvdGFsQ29sdW1ucyIpPyExOiEwfSxpc0VxdWFsOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09dGhpcz8hMDp0aGlzLnJvdz09PWUucm93JiZ0aGlzLmNvbD09PWUuY29sfSxpc1NvdXRoRWFzdE9mOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvdz49ZS5yb3cmJnRoaXMuY29sPj1lLmNvbH0saXNOb3J0aFdlc3RPZjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yb3c8PWUucm93JiZ0aGlzLmNvbDw9ZS5jb2x9LGlzU291dGhXZXN0T2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm93Pj1lLnJvdyYmdGhpcy5jb2w8PWUuY29sfSxpc05vcnRoRWFzdE9mOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvdzw9ZS5yb3cmJnRoaXMuY29sPj1lLmNvbH19LHt9KSx3aW5kb3cuV2Fsa29udGFibGVDZWxsQ29vcmRzPW99LHt9XSw2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1dhbGtvbnRhYmxlQ2VsbFJhbmdlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHI9KG89ZSgiY2VsbC9jb29yZHMiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLldhbGtvbnRhYmxlQ2VsbENvb3JkcyxpPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmhpZ2hsaWdodD1lLHRoaXMuZnJvbT10LHRoaXMudG89bn0scz1pOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhpLHtpc1ZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZyb20uaXNWYWxpZChlKSYmdGhpcy50by5pc1ZhbGlkKGUpfSxpc1NpbmdsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZyb20ucm93PT09dGhpcy50by5yb3cmJnRoaXMuZnJvbS5jb2w9PT10aGlzLnRvLmNvbH0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMuZnJvbS5yb3csdGhpcy50by5yb3cpLU1hdGgubWluKHRoaXMuZnJvbS5yb3csdGhpcy50by5yb3cpKzF9LGdldFdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMuZnJvbS5jb2wsdGhpcy50by5jb2wpLU1hdGgubWluKHRoaXMuZnJvbS5jb2wsdGhpcy50by5jb2wpKzF9LGluY2x1ZGVzOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0VG9wTGVmdENvcm5lcigpLG49dGhpcy5nZXRCb3R0b21SaWdodENvcm5lcigpO3JldHVybiBlLnJvdzwwJiYoZS5yb3c9MCksZS5jb2w8MCYmKGUuY29sPTApLHQucm93PD1lLnJvdyYmbi5yb3c+PWUucm93JiZ0LmNvbDw9ZS5jb2wmJm4uY29sPj1lLmNvbH0saW5jbHVkZXNSYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pbmNsdWRlcyhlLmdldFRvcExlZnRDb3JuZXIoKSkmJnRoaXMuaW5jbHVkZXMoZS5nZXRCb3R0b21SaWdodENvcm5lcigpKX0saXNFcXVhbDpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5taW4odGhpcy5mcm9tLnJvdyx0aGlzLnRvLnJvdyk9PU1hdGgubWluKGUuZnJvbS5yb3csZS50by5yb3cpJiZNYXRoLm1heCh0aGlzLmZyb20ucm93LHRoaXMudG8ucm93KT09TWF0aC5tYXgoZS5mcm9tLnJvdyxlLnRvLnJvdykmJk1hdGgubWluKHRoaXMuZnJvbS5jb2wsdGhpcy50by5jb2wpPT1NYXRoLm1pbihlLmZyb20uY29sLGUudG8uY29sKSYmTWF0aC5tYXgodGhpcy5mcm9tLmNvbCx0aGlzLnRvLmNvbCk9PU1hdGgubWF4KGUuZnJvbS5jb2wsZS50by5jb2wpfSxvdmVybGFwczpmdW5jdGlvbihlKXtyZXR1cm4gZS5pc1NvdXRoRWFzdE9mKHRoaXMuZ2V0VG9wTGVmdENvcm5lcigpKSYmZS5pc05vcnRoV2VzdE9mKHRoaXMuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSl9LGlzU291dGhFYXN0T2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0VG9wTGVmdENvcm5lcigpLmlzU291dGhFYXN0T2YoZSl8fHRoaXMuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKS5pc1NvdXRoRWFzdE9mKGUpfSxpc05vcnRoV2VzdE9mOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldFRvcExlZnRDb3JuZXIoKS5pc05vcnRoV2VzdE9mKGUpfHx0aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCkuaXNOb3J0aFdlc3RPZihlKX0sZXhwYW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0VG9wTGVmdENvcm5lcigpLG49dGhpcy5nZXRCb3R0b21SaWdodENvcm5lcigpO3JldHVybiBlLnJvdzx0LnJvd3x8ZS5jb2w8dC5jb2x8fGUucm93Pm4ucm93fHxlLmNvbD5uLmNvbD8odGhpcy5mcm9tPW5ldyByKE1hdGgubWluKHQucm93LGUucm93KSxNYXRoLm1pbih0LmNvbCxlLmNvbCkpLHRoaXMudG89bmV3IHIoTWF0aC5tYXgobi5yb3csZS5yb3cpLE1hdGgubWF4KG4uY29sLGUuY29sKSksITApOiExfSxleHBhbmRCeVJhbmdlOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaW5jbHVkZXNSYW5nZShlKXx8IXRoaXMub3ZlcmxhcHMoZSkpcmV0dXJuITE7dmFyIHQ9dGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCksbj10aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCksbz0odGhpcy5nZXRUb3BSaWdodENvcm5lcigpLHRoaXMuZ2V0Qm90dG9tTGVmdENvcm5lcigpLGUuZ2V0VG9wTGVmdENvcm5lcigpKSxpPWUuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSxhPU1hdGgubWluKHQucm93LG8ucm93KSxsPU1hdGgubWluKHQuY29sLG8uY29sKSx1PU1hdGgubWF4KG4ucm93LGkucm93KSxjPU1hdGgubWF4KG4uY29sLGkuY29sKSxkPW5ldyByKGEsbCksaD1uZXcgcih1LGMpLGY9bmV3IHMoZCxkLGgpLmlzQ29ybmVyKHRoaXMuZnJvbSxlKSxwPWUuaXNFcXVhbChuZXcgcyhkLGQsaCkpO3JldHVybiBmJiYhcCYmKHRoaXMuZnJvbS5jb2w+ZC5jb2wmJihkLmNvbD1jLGguY29sPWwpLHRoaXMuZnJvbS5yb3c+ZC5yb3cmJihkLnJvdz11LGgucm93PWEpKSx0aGlzLmZyb209ZCx0aGlzLnRvPWgsITB9LGdldERpcmVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZyb20uaXNOb3J0aFdlc3RPZih0aGlzLnRvKT8iTlctU0UiOnRoaXMuZnJvbS5pc05vcnRoRWFzdE9mKHRoaXMudG8pPyJORS1TVyI6dGhpcy5mcm9tLmlzU291dGhFYXN0T2YodGhpcy50byk/IlNFLU5XIjp0aGlzLmZyb20uaXNTb3V0aFdlc3RPZih0aGlzLnRvKT8iU1ctTkUiOnZvaWQgMH0sc2V0RGlyZWN0aW9uOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIk5XLVNFIjp0aGlzLmZyb209dGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCksdGhpcy50bz10aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCk7YnJlYWs7Y2FzZSJORS1TVyI6dGhpcy5mcm9tPXRoaXMuZ2V0VG9wUmlnaHRDb3JuZXIoKSx0aGlzLnRvPXRoaXMuZ2V0Qm90dG9tTGVmdENvcm5lcigpO2JyZWFrO2Nhc2UiU0UtTlciOnRoaXMuZnJvbT10aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCksdGhpcy50bz10aGlzLmdldFRvcExlZnRDb3JuZXIoKTticmVhaztjYXNlIlNXLU5FIjp0aGlzLmZyb209dGhpcy5nZXRCb3R0b21MZWZ0Q29ybmVyKCksdGhpcy50bz10aGlzLmdldFRvcFJpZ2h0Q29ybmVyKCl9fSxnZXRUb3BMZWZ0Q29ybmVyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKE1hdGgubWluKHRoaXMuZnJvbS5yb3csdGhpcy50by5yb3cpLE1hdGgubWluKHRoaXMuZnJvbS5jb2wsdGhpcy50by5jb2wpKX0sZ2V0Qm90dG9tUmlnaHRDb3JuZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIoTWF0aC5tYXgodGhpcy5mcm9tLnJvdyx0aGlzLnRvLnJvdyksTWF0aC5tYXgodGhpcy5mcm9tLmNvbCx0aGlzLnRvLmNvbCkpfSxnZXRUb3BSaWdodENvcm5lcjpmdW5jdGlvbigpe3JldHVybiBuZXcgcihNYXRoLm1pbih0aGlzLmZyb20ucm93LHRoaXMudG8ucm93KSxNYXRoLm1heCh0aGlzLmZyb20uY29sLHRoaXMudG8uY29sKSl9LGdldEJvdHRvbUxlZnRDb3JuZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIoTWF0aC5tYXgodGhpcy5mcm9tLnJvdyx0aGlzLnRvLnJvdyksTWF0aC5taW4odGhpcy5mcm9tLmNvbCx0aGlzLnRvLmNvbCkpfSxpc0Nvcm5lcjpmdW5jdGlvbihlLHQpe3JldHVybiB0JiZ0LmluY2x1ZGVzKGUpJiYodGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCkuaXNFcXVhbChuZXcgcih0LmZyb20ucm93LHQuZnJvbS5jb2wpKXx8dGhpcy5nZXRUb3BSaWdodENvcm5lcigpLmlzRXF1YWwobmV3IHIodC5mcm9tLnJvdyx0LnRvLmNvbCkpfHx0aGlzLmdldEJvdHRvbUxlZnRDb3JuZXIoKS5pc0VxdWFsKG5ldyByKHQudG8ucm93LHQuZnJvbS5jb2wpKXx8dGhpcy5nZXRCb3R0b21SaWdodENvcm5lcigpLmlzRXF1YWwobmV3IHIodC50by5yb3csdC50by5jb2wpKSk/ITA6ZS5pc0VxdWFsKHRoaXMuZ2V0VG9wTGVmdENvcm5lcigpKXx8ZS5pc0VxdWFsKHRoaXMuZ2V0VG9wUmlnaHRDb3JuZXIoKSl8fGUuaXNFcXVhbCh0aGlzLmdldEJvdHRvbUxlZnRDb3JuZXIoKSl8fGUuaXNFcXVhbCh0aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCkpfSxnZXRPcHBvc2l0ZUNvcm5lcjpmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHIpKXJldHVybiExO2lmKHQmJnQuaW5jbHVkZXMoZSkpe2lmKHRoaXMuZ2V0VG9wTGVmdENvcm5lcigpLmlzRXF1YWwobmV3IHIodC5mcm9tLnJvdyx0LmZyb20uY29sKSkpcmV0dXJuIHRoaXMuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKTtpZih0aGlzLmdldFRvcFJpZ2h0Q29ybmVyKCkuaXNFcXVhbChuZXcgcih0LmZyb20ucm93LHQudG8uY29sKSkpcmV0dXJuIHRoaXMuZ2V0Qm90dG9tTGVmdENvcm5lcigpO2lmKHRoaXMuZ2V0Qm90dG9tTGVmdENvcm5lcigpLmlzRXF1YWwobmV3IHIodC50by5yb3csdC5mcm9tLmNvbCkpKXJldHVybiB0aGlzLmdldFRvcFJpZ2h0Q29ybmVyKCk7aWYodGhpcy5nZXRCb3R0b21SaWdodENvcm5lcigpLmlzRXF1YWwobmV3IHIodC50by5yb3csdC50by5jb2wpKSlyZXR1cm4gdGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCl9cmV0dXJuIGUuaXNFcXVhbCh0aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCkpP3RoaXMuZ2V0VG9wTGVmdENvcm5lcigpOmUuaXNFcXVhbCh0aGlzLmdldFRvcExlZnRDb3JuZXIoKSk/dGhpcy5nZXRCb3R0b21SaWdodENvcm5lcigpOmUuaXNFcXVhbCh0aGlzLmdldFRvcFJpZ2h0Q29ybmVyKCkpP3RoaXMuZ2V0Qm90dG9tTGVmdENvcm5lcigpOmUuaXNFcXVhbCh0aGlzLmdldEJvdHRvbUxlZnRDb3JuZXIoKSk/dGhpcy5nZXRUb3BSaWdodENvcm5lcigpOnZvaWQgMH0sZ2V0Qm9yZGVyc1NoYXJlZFdpdGg6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuaW5jbHVkZXNSYW5nZShlKSlyZXR1cm5bXTt2YXIgdD17dG9wOk1hdGgubWluKHRoaXMuZnJvbS5yb3csdGhpcy50by5yb3cpLGJvdHRvbTpNYXRoLm1heCh0aGlzLmZyb20ucm93LHRoaXMudG8ucm93KSxsZWZ0Ok1hdGgubWluKHRoaXMuZnJvbS5jb2wsdGhpcy50by5jb2wpLHJpZ2h0Ok1hdGgubWF4KHRoaXMuZnJvbS5jb2wsdGhpcy50by5jb2wpfSxuPXt0b3A6TWF0aC5taW4oZS5mcm9tLnJvdyxlLnRvLnJvdyksYm90dG9tOk1hdGgubWF4KGUuZnJvbS5yb3csZS50by5yb3cpLGxlZnQ6TWF0aC5taW4oZS5mcm9tLmNvbCxlLnRvLmNvbCkscmlnaHQ6TWF0aC5tYXgoZS5mcm9tLmNvbCxlLnRvLmNvbCl9LG89W107cmV0dXJuIHQudG9wPT1uLnRvcCYmby5wdXNoKCJ0b3AiKSx0LnJpZ2h0PT1uLnJpZ2h0JiZvLnB1c2goInJpZ2h0IiksdC5ib3R0b209PW4uYm90dG9tJiZvLnB1c2goImJvdHRvbSIpLHQubGVmdD09bi5sZWZ0JiZvLnB1c2goImxlZnQiKSxvfSxnZXRJbm5lcjpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmdldFRvcExlZnRDb3JuZXIoKSx0PXRoaXMuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSxuPVtdLG89ZS5yb3c7bzw9dC5yb3c7bysrKWZvcih2YXIgaT1lLmNvbDtpPD10LmNvbDtpKyspdGhpcy5mcm9tLnJvdz09PW8mJnRoaXMuZnJvbS5jb2w9PT1pfHx0aGlzLnRvLnJvdz09PW8mJnRoaXMudG8uY29sPT09aXx8bi5wdXNoKG5ldyByKG8saSkpO3JldHVybiBufSxnZXRBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCksdD10aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCksbj1bXSxvPWUucm93O288PXQucm93O28rKylmb3IodmFyIGk9ZS5jb2w7aTw9dC5jb2w7aSsrKWUucm93PT09byYmZS5jb2w9PT1pP24ucHVzaChlKTp0LnJvdz09PW8mJnQuY29sPT09aT9uLnB1c2godCk6bi5wdXNoKG5ldyByKG8saSkpO3JldHVybiBufSxmb3JBbGw6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZ2V0VG9wTGVmdENvcm5lcigpLG49dGhpcy5nZXRCb3R0b21SaWdodENvcm5lcigpLG89dC5yb3c7bzw9bi5yb3c7bysrKWZvcih2YXIgcj10LmNvbDtyPD1uLmNvbDtyKyspe3ZhciBpPWUobyxyKTtpZihpPT09ITEpcmV0dXJufX19LHt9KSx3aW5kb3cuV2Fsa29udGFibGVDZWxsUmFuZ2U9aX0seyJjZWxsL2Nvb3JkcyI6NX1dLDc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGU6e2dldDpmdW5jdGlvbigpe3JldHVybiB4fX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsYSxsLHUsYyxkLGgsZixwLGcsbSx2PShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLHc9di5hZGRDbGFzcyx5PXYuZmFzdElubmVyVGV4dCxiPXYuaXNWaXNpYmxlLEM9di5yZW1vdmVDbGFzcyxSPShyPWUoImhlbHBlcnMvb2JqZWN0IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5vYmplY3RFYWNoLF89KGk9ZSgiaGVscGVycy9zdHJpbmciKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLFM9Xy50b1VwcGVyQ2FzZUZpcnN0LEU9Xy5yYW5kb21TdHJpbmcsVD0ocz1lKCJldmVudCIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuV2Fsa29udGFibGVFdmVudCxNPShhPWUoIm92ZXJsYXlzIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5XYWxrb250YWJsZU92ZXJsYXlzLE89KGw9ZSgic2Nyb2xsIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5XYWxrb250YWJsZVNjcm9sbCxrPSh1PWUoInNldHRpbmdzIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5XYWxrb250YWJsZVNldHRpbmdzLEg9KGM9ZSgidGFibGUiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y30pLldhbGtvbnRhYmxlVGFibGUsRD0oZD1lKCJ2aWV3cG9ydCIpLGQmJmQuX19lc01vZHVsZSYmZHx8eyJkZWZhdWx0IjpkfSkuV2Fsa29udGFibGVWaWV3cG9ydCx4PSgoaD1lKCJvdmVybGF5L19iYXNlLmpzIiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KS5XYWxrb250YWJsZU92ZXJsYXksKGY9ZSgib3ZlcmxheS90b3AuanMiKSxmJiZmLl9fZXNNb2R1bGUmJmZ8fHsiZGVmYXVsdCI6Zn0pLldhbGtvbnRhYmxlVG9wT3ZlcmxheSwocD1lKCJvdmVybGF5L2xlZnQuanMiKSxwJiZwLl9fZXNNb2R1bGUmJnB8fHsiZGVmYXVsdCI6cH0pLldhbGtvbnRhYmxlTGVmdE92ZXJsYXksKGc9ZSgib3ZlcmxheS9kZWJ1Zy5qcyIpLGcmJmcuX19lc01vZHVsZSYmZ3x8eyJkZWZhdWx0IjpnfSkuV2Fsa29udGFibGVEZWJ1Z092ZXJsYXksKG09ZSgib3ZlcmxheS90b3BMZWZ0Q29ybmVyLmpzIiksbSYmbS5fX2VzTW9kdWxlJiZtfHx7ImRlZmF1bHQiOm19KS5XYWxrb250YWJsZVRvcExlZnRDb3JuZXJPdmVybGF5LGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2lmKHRoaXMuZ3VpZD0id3RfIitFKCksZS5jbG9uZVNvdXJjZT8odGhpcy5jbG9uZVNvdXJjZT1lLmNsb25lU291cmNlLHRoaXMuY2xvbmVPdmVybGF5PWUuY2xvbmVPdmVybGF5LHRoaXMud3RTZXR0aW5ncz1lLmNsb25lU291cmNlLnd0U2V0dGluZ3MsdGhpcy53dFRhYmxlPW5ldyBIKHRoaXMsZS50YWJsZSxlLnd0Um9vdEVsZW1lbnQpLHRoaXMud3RTY3JvbGw9bmV3IE8odGhpcyksdGhpcy53dFZpZXdwb3J0PWUuY2xvbmVTb3VyY2Uud3RWaWV3cG9ydCx0aGlzLnd0RXZlbnQ9bmV3IFQodGhpcyksdGhpcy5zZWxlY3Rpb25zPXRoaXMuY2xvbmVTb3VyY2Uuc2VsZWN0aW9ucyk6KHRoaXMud3RTZXR0aW5ncz1uZXcgayh0aGlzLGUpLHRoaXMud3RUYWJsZT1uZXcgSCh0aGlzLGUudGFibGUpLHRoaXMud3RTY3JvbGw9bmV3IE8odGhpcyksdGhpcy53dFZpZXdwb3J0PW5ldyBEKHRoaXMpLHRoaXMud3RFdmVudD1uZXcgVCh0aGlzKSx0aGlzLnNlbGVjdGlvbnM9dGhpcy5nZXRTZXR0aW5nKCJzZWxlY3Rpb25zIiksdGhpcy53dE92ZXJsYXlzPW5ldyBNKHRoaXMpLHRoaXMuZXhwb3J0U2V0dGluZ3NBc0NsYXNzTmFtZXMoKSksdGhpcy53dFRhYmxlLlRIRUFELmNoaWxkTm9kZXMubGVuZ3RoJiZ0aGlzLnd0VGFibGUuVEhFQUQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzLmxlbmd0aCl7Zm9yKHZhciBuPTAsbz10aGlzLnd0VGFibGUuVEhFQUQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzLmxlbmd0aDtvPm47bisrKXQucHVzaCh0aGlzLnd0VGFibGUuVEhFQUQuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzW25dLmlubmVySFRNTCk7dGhpcy5nZXRTZXR0aW5nKCJjb2x1bW5IZWFkZXJzIikubGVuZ3RofHx0aGlzLnVwZGF0ZSgiY29sdW1uSGVhZGVycyIsW2Z1bmN0aW9uKGUsbil7eShuLHRbZV0pfV0pfXRoaXMuZHJhd249ITEsdGhpcy5kcmF3SW50ZXJydXB0ZWQ9ITF9KTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoeCx7ZHJhdzpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ITE7cmV0dXJuIHRoaXMuZHJhd0ludGVycnVwdGVkPSExLGV8fGIodGhpcy53dFRhYmxlLlRBQkxFKT90aGlzLnd0VGFibGUuZHJhdyhlKTp0aGlzLmRyYXdJbnRlcnJ1cHRlZD0hMCx0aGlzfSxnZXRDZWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ITE7aWYoIXQpcmV0dXJuIHRoaXMud3RUYWJsZS5nZXRDZWxsKGUpO3ZhciBuPXRoaXMud3RTZXR0aW5ncy5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKSxvPXRoaXMud3RTZXR0aW5ncy5nZXRTZXR0aW5nKCJmaXhlZFJvd3NUb3AiKSxyPXRoaXMud3RTZXR0aW5ncy5nZXRTZXR0aW5nKCJmaXhlZFJvd3NCb3R0b20iKSxpPXRoaXMud3RTZXR0aW5ncy5nZXRTZXR0aW5nKCJmaXhlZENvbHVtbnNMZWZ0Iik7aWYoZS5yb3c8byYmZS5jb2w8aSlyZXR1cm4gdGhpcy53dE92ZXJsYXlzLnRvcExlZnRDb3JuZXJPdmVybGF5LmNsb25lLnd0VGFibGUuZ2V0Q2VsbChlKTtpZihlLnJvdzxvKXJldHVybiB0aGlzLnd0T3ZlcmxheXMudG9wT3ZlcmxheS5jbG9uZS53dFRhYmxlLmdldENlbGwoZSk7aWYoZS5jb2w8aSYmZS5yb3c+PW4tcil7aWYodGhpcy53dE92ZXJsYXlzLmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5LmNsb25lKXJldHVybiB0aGlzLnd0T3ZlcmxheXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKGUpfWVsc2V7aWYoZS5jb2w8aSlyZXR1cm4gdGhpcy53dE92ZXJsYXlzLmxlZnRPdmVybGF5LmNsb25lLnd0VGFibGUuZ2V0Q2VsbChlKTtpZihlLnJvdzxuJiZlLnJvdz5uLXImJnRoaXMud3RPdmVybGF5cy5ib3R0b21PdmVybGF5LmNsb25lKXJldHVybiB0aGlzLnd0T3ZlcmxheXMuYm90dG9tT3ZlcmxheS5jbG9uZS53dFRhYmxlLmdldENlbGwoZSl9cmV0dXJuIHRoaXMud3RUYWJsZS5nZXRDZWxsKGUpfSx1cGRhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy53dFNldHRpbmdzLnVwZGF0ZShlLHQpfSxzY3JvbGxWZXJ0aWNhbDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy53dE92ZXJsYXlzLnRvcE92ZXJsYXkuc2Nyb2xsVG8oZSksdGhpcy5nZXRTZXR0aW5nKCJvblNjcm9sbFZlcnRpY2FsbHkiKSx0aGlzfSxzY3JvbGxIb3Jpem9udGFsOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnd0T3ZlcmxheXMubGVmdE92ZXJsYXkuc2Nyb2xsVG8oZSksdGhpcy5nZXRTZXR0aW5nKCJvblNjcm9sbEhvcml6b250YWxseSIpLHRoaXN9LHNjcm9sbFZpZXdwb3J0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnd0U2Nyb2xsLnNjcm9sbFZpZXdwb3J0KGUpLHRoaXN9LGdldFZpZXdwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMud3RUYWJsZS5nZXRGaXJzdFZpc2libGVSb3coKSx0aGlzLnd0VGFibGUuZ2V0Rmlyc3RWaXNpYmxlQ29sdW1uKCksdGhpcy53dFRhYmxlLmdldExhc3RWaXNpYmxlUm93KCksdGhpcy53dFRhYmxlLmdldExhc3RWaXNpYmxlQ29sdW1uKCldfSxnZXRPdmVybGF5TmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lT3ZlcmxheT90aGlzLmNsb25lT3ZlcmxheS50eXBlOiJtYXN0ZXIifSxpc092ZXJsYXlOYW1lOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lT3ZlcmxheT90aGlzLmNsb25lT3ZlcmxheS50eXBlPT09ZTohMX0sZXhwb3J0U2V0dGluZ3NBc0NsYXNzTmFtZXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3Jvd0hlYWRlcnM6WyJhcnJheSJdLGNvbHVtbkhlYWRlcnM6WyJhcnJheSJdfSxuPVtdLG89W107Uih0LGZ1bmN0aW9uKHQscil7dC5pbmRleE9mKCJhcnJheSIpPi0xJiZlLmdldFNldHRpbmcocikubGVuZ3RoJiZvLnB1c2goImh0IitTKHIpKSxuLnB1c2goImh0IitTKHIpKX0pLEModGhpcy53dFRhYmxlLnd0Um9vdEVsZW1lbnQucGFyZW50Tm9kZSxuKSx3KHRoaXMud3RUYWJsZS53dFJvb3RFbGVtZW50LnBhcmVudE5vZGUsbyl9LGdldFNldHRpbmc6ZnVuY3Rpb24oZSx0LG4sbyxyKXtyZXR1cm4gdGhpcy53dFNldHRpbmdzLmdldFNldHRpbmcoZSx0LG4sbyxyKX0saGFzU2V0dGluZzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy53dFNldHRpbmdzLmhhcyhlKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMud3RPdmVybGF5cy5kZXN0cm95KCksdGhpcy53dEV2ZW50LmRlc3Ryb3koKX19LHt9KSx3aW5kb3cuV2Fsa29udGFibGU9eH0se2V2ZW50OjgsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LCJoZWxwZXJzL29iamVjdCI6NTAsImhlbHBlcnMvc3RyaW5nIjo1Miwib3ZlcmxheS9fYmFzZS5qcyI6MTEsIm92ZXJsYXkvZGVidWcuanMiOjEyLCJvdmVybGF5L2xlZnQuanMiOjEzLCJvdmVybGF5L3RvcC5qcyI6MTQsIm92ZXJsYXkvdG9wTGVmdENvcm5lci5qcyI6MTUsb3ZlcmxheXM6MTYsc2Nyb2xsOjE3LHNldHRpbmdzOjE5LHRhYmxlOjIwLHZpZXdwb3J0OjIyfV0sODpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3ZhciB0PXRoaXMsbj1jKGUpO3RoaXMuaW5zdGFuY2U9ZTt2YXIgbz1bbnVsbCxudWxsXTt0aGlzLmRibENsaWNrVGltZW91dD1bbnVsbCxudWxsXTt2YXIgcixpPWZ1bmN0aW9uKGUpe3ZhciBuPXQucGFyZW50Q2VsbChlLnJlYWxUYXJnZXQpO2woZS5yZWFsVGFyZ2V0LCJjb3JuZXIiKT90Lmluc3RhbmNlLmdldFNldHRpbmcoIm9uQ2VsbENvcm5lck1vdXNlRG93biIsZSxlLnJlYWxUYXJnZXQpOm4uVEQmJnQuaW5zdGFuY2UuaGFzU2V0dGluZygib25DZWxsTW91c2VEb3duIikmJnQuaW5zdGFuY2UuZ2V0U2V0dGluZygib25DZWxsTW91c2VEb3duIixlLG4uY29vcmRzLG4uVEQsdC5pbnN0YW5jZSksMiE9PWUuYnV0dG9uJiZuLlREJiYob1swXT1uLlRELGNsZWFyVGltZW91dCh0LmRibENsaWNrVGltZW91dFswXSksdC5kYmxDbGlja1RpbWVvdXRbMF09c2V0VGltZW91dChmdW5jdGlvbigpe29bMF09bnVsbH0sMWUzKSl9LHM9ZnVuY3Rpb24oZSl7dC5pbnN0YW5jZS50b3VjaE1vdmluZz0hMH0sZD1mdW5jdGlvbihlKXtuLmFkZEV2ZW50TGlzdGVuZXIodGhpcywidG91Y2htb3ZlIixzKSx0LmNoZWNrSWZUb3VjaE1vdmU9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0Lmluc3RhbmNlLnRvdWNoTW92aW5nPT09ITA/KHQuaW5zdGFuY2UudG91Y2hNb3Zpbmc9dm9pZCAwLHZvaWQgbi5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLHMsITEpKTp2b2lkIGkoZSl9LDMwKX0saD1mdW5jdGlvbihlKXt2YXIgbixvLHI7dC5pbnN0YW5jZS5oYXNTZXR0aW5nKCJvbkNlbGxNb3VzZU92ZXIiKSYmKG49dC5pbnN0YW5jZS53dFRhYmxlLlRBQkxFLG89YShlLnJlYWxUYXJnZXQsWyJURCIsIlRIIl0sbikscj10Lmluc3RhbmNlLmNsb25lU291cmNlfHx0Lmluc3RhbmNlLG8mJm8hPT1yLmxhc3RNb3VzZU92ZXImJnUobyxuKSYmKHIubGFzdE1vdXNlT3Zlcj1vLHQuaW5zdGFuY2UuZ2V0U2V0dGluZygib25DZWxsTW91c2VPdmVyIixlLHQuaW5zdGFuY2Uud3RUYWJsZS5nZXRDb29yZHMobyksbyx0Lmluc3RhbmNlKSkpfSxmPWZ1bmN0aW9uKGUpe2lmKDIhPT1lLmJ1dHRvbil7dmFyIG49dC5wYXJlbnRDZWxsKGUucmVhbFRhcmdldCk7bi5URD09PW9bMF0mJm4uVEQ9PT1vWzFdPyhsKGUucmVhbFRhcmdldCwiY29ybmVyIik/dC5pbnN0YW5jZS5nZXRTZXR0aW5nKCJvbkNlbGxDb3JuZXJEYmxDbGljayIsZSxuLmNvb3JkcyxuLlRELHQuaW5zdGFuY2UpOnQuaW5zdGFuY2UuZ2V0U2V0dGluZygib25DZWxsRGJsQ2xpY2siLGUsbi5jb29yZHMsbi5URCx0Lmluc3RhbmNlKSxvWzBdPW51bGwsb1sxXT1udWxsKTpuLlREPT09b1swXSYmKG9bMV09bi5URCxjbGVhclRpbWVvdXQodC5kYmxDbGlja1RpbWVvdXRbMV0pLHQuZGJsQ2xpY2tUaW1lb3V0WzFdPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtvWzFdPW51bGx9LDUwMCkpfX0scD1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQociksZS5wcmV2ZW50RGVmYXVsdCgpLGYoZSl9O2lmKG4uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmluc3RhbmNlLnd0VGFibGUuaG9sZGVyLCJtb3VzZWRvd24iLGkpLG4uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmluc3RhbmNlLnd0VGFibGUuVEFCTEUsIm1vdXNlb3ZlciIsaCksbi5hZGRFdmVudExpc3RlbmVyKHRoaXMuaW5zdGFuY2Uud3RUYWJsZS5ob2xkZXIsIm1vdXNldXAiLGYpLHRoaXMuaW5zdGFuY2Uud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZS5wYXJlbnROb2RlJiZIYW5kc29udGFibGUubW9iaWxlQnJvd3NlciYmIXQuaW5zdGFuY2Uud3RUYWJsZS5pc1dvcmtpbmdPbkNsb25lKCkpe3ZhciBnPSIuIit0aGlzLmluc3RhbmNlLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUuY2xhc3NOYW1lLnNwbGl0KCIgIikuam9pbigiLiIpO24uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmluc3RhbmNlLnd0VGFibGUuaG9sZGVyLCJ0b3VjaHN0YXJ0IixmdW5jdGlvbihlKXt0Lmluc3RhbmNlLnRvdWNoQXBwbGllZD0hMCx1KGUudGFyZ2V0LGcpJiZkLmNhbGwoZS50YXJnZXQsZSl9KSxuLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5pbnN0YW5jZS53dFRhYmxlLmhvbGRlciwidG91Y2hlbmQiLGZ1bmN0aW9uKGUpe3QuaW5zdGFuY2UudG91Y2hBcHBsaWVkPSExLHUoZS50YXJnZXQsZykmJnAuY2FsbChlLnRhcmdldCxlKX0pLHQuaW5zdGFuY2UubW9tZW50dW1TY3JvbGxpbmd8fCh0Lmluc3RhbmNlLm1vbWVudHVtU2Nyb2xsaW5nPXt9KSxuLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5pbnN0YW5jZS53dFRhYmxlLmhvbGRlciwic2Nyb2xsIixmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQodC5pbnN0YW5jZS5tb21lbnR1bVNjcm9sbGluZy5fdGltZW91dCksdC5pbnN0YW5jZS5tb21lbnR1bVNjcm9sbGluZy5vbmdvaW5nfHx0Lmluc3RhbmNlLmdldFNldHRpbmcoIm9uQmVmb3JlVG91Y2hTY3JvbGwiKSx0Lmluc3RhbmNlLm1vbWVudHVtU2Nyb2xsaW5nLm9uZ29pbmc9ITAsdC5pbnN0YW5jZS5tb21lbnR1bVNjcm9sbGluZy5fdGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5pbnN0YW5jZS50b3VjaEFwcGxpZWR8fCh0Lmluc3RhbmNlLm1vbWVudHVtU2Nyb2xsaW5nLm9uZ29pbmc9ITEsdC5pbnN0YW5jZS5nZXRTZXR0aW5nKCJvbkFmdGVyTW9tZW50dW1TY3JvbGwiKSl9LDIwMCl9KX1uLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCJyZXNpemUiLGZ1bmN0aW9uKCl7Im5vbmUiIT09dC5pbnN0YW5jZS5nZXRTZXR0aW5nKCJzdHJldGNoSCIpJiZ0Lmluc3RhbmNlLmRyYXcoKX0pLHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmRibENsaWNrVGltZW91dFswXSksY2xlYXJUaW1lb3V0KHRoaXMuZGJsQ2xpY2tUaW1lb3V0WzFdKSxuLmRlc3Ryb3koKX19T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVFdmVudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHM9KHI9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksYT1zLmNsb3Nlc3QsbD1zLmhhc0NsYXNzLHU9cy5pc0NoaWxkT2YsYz0oaT1lKCJldmVudE1hbmFnZXIiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmV2ZW50TWFuYWdlcjtvLnByb3RvdHlwZS5wYXJlbnRDZWxsPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49dGhpcy5pbnN0YW5jZS53dFRhYmxlLlRBQkxFLG89YShlLFsiVEQiLCJUSCJdLG4pO3JldHVybiBvJiZ1KG8sbik/KHQuY29vcmRzPXRoaXMuaW5zdGFuY2Uud3RUYWJsZS5nZXRDb29yZHMobyksdC5URD1vKTpsKGUsInd0Qm9yZGVyIikmJmwoZSwiY3VycmVudCIpPyh0LmNvb3Jkcz10aGlzLmluc3RhbmNlLnNlbGVjdGlvbnMuY3VycmVudC5jZWxsUmFuZ2UuaGlnaGxpZ2h0LHQuVEQ9dGhpcy5pbnN0YW5jZS53dFRhYmxlLmdldENlbGwodC5jb29yZHMpKTpsKGUsInd0Qm9yZGVyIikmJmwoZSwiYXJlYSIpJiZ0aGlzLmluc3RhbmNlLnNlbGVjdGlvbnMuYXJlYS5jZWxsUmFuZ2UmJih0LmNvb3Jkcz10aGlzLmluc3RhbmNlLnNlbGVjdGlvbnMuYXJlYS5jZWxsUmFuZ2UudG8sdC5URD10aGlzLmluc3RhbmNlLnd0VGFibGUuZ2V0Q2VsbCh0LmNvb3JkcykpLHR9LHdpbmRvdy5XYWxrb250YWJsZUV2ZW50PW99LHtldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1fV0sOTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZUNvbHVtbkZpbHRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbz1mdW5jdGlvbihlLHQsbil7dGhpcy5vZmZzZXQ9ZSx0aGlzLnRvdGFsPXQsdGhpcy5jb3VudFRIPW59OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhvLHtvZmZzZXR0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUrdGhpcy5vZmZzZXR9LHVuT2Zmc2V0dGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLXRoaXMub2Zmc2V0fSxyZW5kZXJlZFRvU291cmNlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9mZnNldHRlZChlKX0sc291cmNlVG9SZW5kZXJlZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51bk9mZnNldHRlZChlKX0sb2Zmc2V0dGVkVEg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUtdGhpcy5jb3VudFRIfSx1bk9mZnNldHRlZFRIOmZ1bmN0aW9uKGUpe3JldHVybiBlK3RoaXMuY291bnRUSH0sdmlzaWJsZVJvd0hlYWRlZENvbHVtblRvU291cmNlQ29sdW1uOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlbmRlcmVkVG9Tb3VyY2UodGhpcy5vZmZzZXR0ZWRUSChlKSl9LApzb3VyY2VDb2x1bW5Ub1Zpc2libGVSb3dIZWFkZWRDb2x1bW46ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudW5PZmZzZXR0ZWRUSCh0aGlzLnNvdXJjZVRvUmVuZGVyZWQoZSkpfX0se30pLHdpbmRvdy5XYWxrb250YWJsZUNvbHVtbkZpbHRlcj1vfSx7fV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVSb3dGaWx0ZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG89ZnVuY3Rpb24oZSx0LG4pe3RoaXMub2Zmc2V0PWUsdGhpcy50b3RhbD10LHRoaXMuY291bnRUSD1ufTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3Mobyx7b2Zmc2V0dGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlK3RoaXMub2Zmc2V0fSx1bk9mZnNldHRlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS10aGlzLm9mZnNldH0scmVuZGVyZWRUb1NvdXJjZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vZmZzZXR0ZWQoZSl9LHNvdXJjZVRvUmVuZGVyZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudW5PZmZzZXR0ZWQoZSl9LG9mZnNldHRlZFRIOmZ1bmN0aW9uKGUpe3JldHVybiBlLXRoaXMuY291bnRUSH0sdW5PZmZzZXR0ZWRUSDpmdW5jdGlvbihlKXtyZXR1cm4gZSt0aGlzLmNvdW50VEh9LHZpc2libGVDb2xIZWFkZWRSb3dUb1NvdXJjZVJvdzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZW5kZXJlZFRvU291cmNlKHRoaXMub2Zmc2V0dGVkVEgoZSkpfSxzb3VyY2VSb3dUb1Zpc2libGVDb2xIZWFkZWRSb3c6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudW5PZmZzZXR0ZWRUSCh0aGlzLnNvdXJjZVRvUmVuZGVyZWQoZSkpfX0se30pLHdpbmRvdy5XYWxrb250YWJsZVJvd0ZpbHRlcj1vfSx7fV0sMTE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVPdmVybGF5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaH19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzPShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLGE9cy5nZXRTY3JvbGxhYmxlRWxlbWVudCxsPXMuZ2V0VHJpbW1pbmdDb250YWluZXIsdT0ocj1lKCJoZWxwZXJzL29iamVjdCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuZGVmaW5lR2V0dGVyLGM9KGk9ZSgiZXZlbnRNYW5hZ2VyIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5ldmVudE1hbmFnZXIsZD17fSxoPWZ1bmN0aW9uKGUpe3UodGhpcywid290IixlLHt3cml0YWJsZTohMX0pLHRoaXMuaW5zdGFuY2U9dGhpcy53b3QsdGhpcy50eXBlPSIiLHRoaXMubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQ9bnVsbCx0aGlzLlRBQkxFPXRoaXMud290Lnd0VGFibGUuVEFCTEUsdGhpcy5oaWRlcj10aGlzLndvdC53dFRhYmxlLmhpZGVyLHRoaXMuc3ByZWFkZXI9dGhpcy53b3Qud3RUYWJsZS5zcHJlYWRlcix0aGlzLmhvbGRlcj10aGlzLndvdC53dFRhYmxlLmhvbGRlcix0aGlzLnd0Um9vdEVsZW1lbnQ9dGhpcy53b3Qud3RUYWJsZS53dFJvb3RFbGVtZW50LHRoaXMudHJpbW1pbmdDb250YWluZXI9bCh0aGlzLmhpZGVyLnBhcmVudE5vZGUucGFyZW50Tm9kZSksdGhpcy5uZWVkRnVsbFJlbmRlcj10aGlzLnNob3VsZEJlUmVuZGVyZWQoKSx0aGlzLmFyZUVsZW1lbnRTaXplc0FkanVzdGVkPSExfSxmPWg7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGgse3Nob3VsZEJlUmVuZGVyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbWFrZUNsb25lOmZ1bmN0aW9uKGUpe2lmKC0xPT09Zi5DTE9ORV9UWVBFUy5pbmRleE9mKGUpKXRocm93IG5ldyBFcnJvcignQ2xvbmUgdHlwZSAiJytlKyciIGlzIG5vdCBzdXBwb3J0ZWQuJyk7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJUQUJMRSIpO3QuY2xhc3NOYW1lPSJodF9jbG9uZV8iK2UrIiBoYW5kc29udGFibGUiLHQuc3R5bGUucG9zaXRpb249ImFic29sdXRlIix0LnN0eWxlLnRvcD0wLHQuc3R5bGUubGVmdD0wLHQuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsbi5jbGFzc05hbWU9dGhpcy53b3Qud3RUYWJsZS5UQUJMRS5jbGFzc05hbWUsdC5hcHBlbmRDaGlsZChuKSx0aGlzLnR5cGU9ZSx0aGlzLndvdC53dFRhYmxlLnd0Um9vdEVsZW1lbnQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0KTt2YXIgbz10aGlzLndvdC5nZXRTZXR0aW5nKCJwcmV2ZW50T3ZlcmZsb3ciKTtyZXR1cm4gbz09PSEwfHwiaG9yaXpvbnRhbCI9PT1vJiZ0aGlzLnR5cGU9PT1mLkNMT05FX1RPUHx8InZlcnRpY2FsIj09PW8mJnRoaXMudHlwZT09PWYuQ0xPTkVfTEVGVD90aGlzLm1haW5UYWJsZVNjcm9sbGFibGVFbGVtZW50PXdpbmRvdzp0aGlzLm1haW5UYWJsZVNjcm9sbGFibGVFbGVtZW50PWEodGhpcy53b3Qud3RUYWJsZS5UQUJMRSksbmV3IFdhbGtvbnRhYmxlKHtjbG9uZVNvdXJjZTp0aGlzLndvdCxjbG9uZU92ZXJsYXk6dGhpcyx0YWJsZTpufSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiExLHQ9dGhpcy5zaG91bGRCZVJlbmRlcmVkKCk7dGhpcy5jbG9uZSYmKHRoaXMubmVlZEZ1bGxSZW5kZXJ8fHQpJiZ0aGlzLmNsb25lLmRyYXcoZSksdGhpcy5uZWVkRnVsbFJlbmRlcj10fSxkZXN0cm95OmZ1bmN0aW9uKCl7Yyh0aGlzLmNsb25lKS5kZXN0cm95KCl9fSx7Z2V0IENMT05FX1RPUCgpe3JldHVybiJ0b3AifSxnZXQgQ0xPTkVfQk9UVE9NKCl7cmV0dXJuImJvdHRvbSJ9LGdldCBDTE9ORV9MRUZUKCl7cmV0dXJuImxlZnQifSxnZXQgQ0xPTkVfVE9QX0xFRlRfQ09STkVSKCl7cmV0dXJuInRvcF9sZWZ0X2Nvcm5lciJ9LGdldCBDTE9ORV9CT1RUT01fTEVGVF9DT1JORVIoKXtyZXR1cm4iYm90dG9tX2xlZnRfY29ybmVyIn0sZ2V0IENMT05FX0RFQlVHKCl7cmV0dXJuImRlYnVnIn0sZ2V0IENMT05FX1RZUEVTKCl7cmV0dXJuW2YuQ0xPTkVfVE9QLGYuQ0xPTkVfQk9UVE9NLGYuQ0xPTkVfTEVGVCxmLkNMT05FX1RPUF9MRUZUX0NPUk5FUixmLkNMT05FX0JPVFRPTV9MRUZUX0NPUk5FUixmLkNMT05FX0RFQlVHXX0scmVnaXN0ZXJPdmVybGF5OmZ1bmN0aW9uKGUsdCl7aWYoLTE9PT1mLkNMT05FX1RZUEVTLmluZGV4T2YoZSkpdGhyb3cgbmV3IEVycm9yKCJVbnN1cHBvcnRlZCBvdmVybGF5ICgiK2UrIikuIik7ZFtlXT10fSxjcmVhdGVPdmVybGF5OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBkW2VdKHQpfSxpc092ZXJsYXlUeXBlT2Y6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmZFt0XT9lIGluc3RhbmNlb2YgZFt0XTohMX19KSx3aW5kb3cuV2Fsa29udGFibGVPdmVybGF5PWh9LHtldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LCJoZWxwZXJzL29iamVjdCI6NTB9XSwxMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZURlYnVnT3ZlcmxheTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGk9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkuYWRkQ2xhc3Mscz0ocj1lKCJfYmFzZSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuV2Fsa29udGFibGVPdmVybGF5LGE9ZnVuY3Rpb24oZSl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IobCkuY2FsbCh0aGlzLGUpLHRoaXMuY2xvbmU9dGhpcy5tYWtlQ2xvbmUocy5DTE9ORV9ERUJVRyksdGhpcy5jbG9uZS53dFRhYmxlLmhvbGRlci5zdHlsZS5vcGFjaXR5PS40LHRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIuc3R5bGUudGV4dFNoYWRvdz0iMCAwIDJweCAjZmYwMDAwIixpKHRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSwid3REZWJ1Z1Zpc2libGUiKX0sbD1hOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhhLHt9LHt9LHMpLHdpbmRvdy5XYWxrb250YWJsZURlYnVnT3ZlcmxheT1hLHMucmVnaXN0ZXJPdmVybGF5KHMuQ0xPTkVfREVCVUcsYSl9LHtfYmFzZToxMSwiaGVscGVycy9kb20vZWxlbWVudCI6NDV9XSwxMzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZUxlZnRPdmVybGF5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaT0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KSxzPWkuYWRkQ2xhc3MsYT1pLmdldFNjcm9sbGJhcldpZHRoLGw9aS5nZXRTY3JvbGxMZWZ0LHU9aS5nZXRXaW5kb3dTY3JvbGxUb3AsYz1pLmhhc0NsYXNzLGQ9aS5vdXRlcldpZHRoLGg9aS5pbm5lckhlaWdodCxmPWkucmVtb3ZlQ2xhc3MscD1pLnNldE92ZXJsYXlQb3NpdGlvbixnPShyPWUoIl9iYXNlIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5XYWxrb250YWJsZU92ZXJsYXksbT1mdW5jdGlvbihlKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3Rvcih2KS5jYWxsKHRoaXMsZSksdGhpcy5jbG9uZT10aGlzLm1ha2VDbG9uZShnLkNMT05FX0xFRlQpfSx2PW07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKG0se3Nob3VsZEJlUmVuZGVyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRDb2x1bW5zTGVmdCIpfHx0aGlzLndvdC5nZXRTZXR0aW5nKCJyb3dIZWFkZXJzIikubGVuZ3RoPyEwOiExfSxyZXNldEZpeGVkUG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzLm5lZWRGdWxsUmVuZGVyJiZ0aGlzLndvdC53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKXt2YXIgZT10aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUsdD0wLG49dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93Iik7aWYodGhpcy50cmltbWluZ0NvbnRhaW5lciE9PXdpbmRvd3x8biYmImhvcml6b250YWwiPT09bil0PXRoaXMuZ2V0U2Nyb2xsUG9zaXRpb24oKTtlbHNle3ZhciBvLHIsaT10aGlzLndvdC53dFRhYmxlLmhpZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9TWF0aC5jZWlsKGkubGVmdCksYT1NYXRoLmNlaWwoaS5yaWdodCk7cj10aGlzLndvdC53dFRhYmxlLmhpZGVyLnN0eWxlLnRvcCxyPSIiPT09cj8wOnIsbz0wPnMmJmEtZS5vZmZzZXRXaWR0aD4wPy1zOjAsdD1vLG8rPSJweCIscChlLG8scil9dGhpcy5hZGp1c3RIZWFkZXJCb3JkZXJzUG9zaXRpb24odCksdGhpcy5hZGp1c3RFbGVtZW50c1NpemUoKX19LHNldFNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKGUpe3RoaXMubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQ9PT13aW5kb3c/d2luZG93LnNjcm9sbFRvKGUsdSgpKTp0aGlzLm1haW5UYWJsZVNjcm9sbGFibGVFbGVtZW50LnNjcm9sbExlZnQ9ZX0sb25TY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLndvdC5nZXRTZXR0aW5nKCJvblNjcm9sbFZlcnRpY2FsbHkiKX0sc3VtQ2VsbFNpemVzOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAsbz10aGlzLndvdC53dFNldHRpbmdzLmRlZmF1bHRDb2x1bW5XaWR0aDt0PmU7KW4rPXRoaXMud290Lnd0VGFibGUuZ2V0U3RyZXRjaGVkQ29sdW1uV2lkdGgoZSl8fG8sZSsrO3JldHVybiBufSxhZGp1c3RFbGVtZW50c1NpemU6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiExOyh0aGlzLm5lZWRGdWxsUmVuZGVyfHxlKSYmKHRoaXMuYWRqdXN0Um9vdEVsZW1lbnRTaXplKCksdGhpcy5hZGp1c3RSb290Q2hpbGRyZW5TaXplKCksZXx8KHRoaXMuYXJlRWxlbWVudFNpemVzQWRqdXN0ZWQ9ITApKX0sYWRqdXN0Um9vdEVsZW1lbnRTaXplOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLndvdC53dFRhYmxlLmhvbGRlcixuPXQuY2xpZW50SGVpZ2h0PT09dC5vZmZzZXRIZWlnaHQ/MDphKCksbz10aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUscj1vLnN0eWxlLGk9dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93Iik7aWYodGhpcy50cmltbWluZ0NvbnRhaW5lciE9PXdpbmRvd3x8InZlcnRpY2FsIj09PWkpe3ZhciBzPXRoaXMud290Lnd0Vmlld3BvcnQuZ2V0V29ya3NwYWNlSGVpZ2h0KCktbjtzPU1hdGgubWluKHMsaCh0aGlzLndvdC53dFRhYmxlLnd0Um9vdEVsZW1lbnQpKSxyLmhlaWdodD1zKyJweCJ9dGhpcy5jbG9uZS53dFRhYmxlLmhvbGRlci5zdHlsZS5oZWlnaHQ9ci5oZWlnaHQsZT1kKHRoaXMuY2xvbmUud3RUYWJsZS5UQUJMRSksci53aWR0aD0oMD09PWU/ZTplKzQpKyJweCJ9LGFkanVzdFJvb3RDaGlsZHJlblNpemU6ZnVuY3Rpb24oKXt2YXIgZT1hKCk7dGhpcy5jbG9uZS53dFRhYmxlLmhpZGVyLnN0eWxlLmhlaWdodD10aGlzLmhpZGVyLnN0eWxlLmhlaWdodCx0aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnN0eWxlLmhlaWdodD10aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUuc3R5bGUuaGVpZ2h0LDA9PT1lJiYoZT0zMCksdGhpcy5jbG9uZS53dFRhYmxlLmhvbGRlci5zdHlsZS53aWR0aD1wYXJzZUludCh0aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUuc3R5bGUud2lkdGgsMTApK2UrInB4In0sYXBwbHlUb0RPTTpmdW5jdGlvbigpe3ZhciBlPXRoaXMud290LmdldFNldHRpbmcoInRvdGFsQ29sdW1ucyIpO2lmKHRoaXMuYXJlRWxlbWVudFNpemVzQWRqdXN0ZWR8fHRoaXMuYWRqdXN0RWxlbWVudHNTaXplKCksIm51bWJlciI9PXR5cGVvZiB0aGlzLndvdC53dFZpZXdwb3J0LmNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yLnN0YXJ0UG9zaXRpb24pdGhpcy5zcHJlYWRlci5zdHlsZS5sZWZ0PXRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRQb3NpdGlvbisicHgiO2Vsc2V7aWYoMCE9PWUpdGhyb3cgbmV3IEVycm9yKCJJbmNvcnJlY3QgdmFsdWUgb2YgdGhlIGNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yIik7dGhpcy5zcHJlYWRlci5zdHlsZS5sZWZ0PSIwIn10aGlzLnNwcmVhZGVyLnN0eWxlLnJpZ2h0PSIiLHRoaXMubmVlZEZ1bGxSZW5kZXImJnRoaXMuc3luY092ZXJsYXlPZmZzZXQoKX0sc3luY092ZXJsYXlPZmZzZXQ6ZnVuY3Rpb24oKXsibnVtYmVyIj09dHlwZW9mIHRoaXMud290Lnd0Vmlld3BvcnQucm93c1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRQb3NpdGlvbj90aGlzLmNsb25lLnd0VGFibGUuc3ByZWFkZXIuc3R5bGUudG9wPXRoaXMud290Lnd0Vmlld3BvcnQucm93c1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRQb3NpdGlvbisicHgiOnRoaXMuY2xvbmUud3RUYWJsZS5zcHJlYWRlci5zdHlsZS50b3A9IiJ9LHNjcm9sbFRvOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5nZXRUYWJsZVBhcmVudE9mZnNldCgpLG89dGhpcy53b3QuY2xvbmVTb3VyY2U/dGhpcy53b3QuY2xvbmVTb3VyY2U6dGhpcy53b3Qscj1vLnd0VGFibGUuaG9sZGVyLGk9MDt0JiZyLm9mZnNldFdpZHRoIT09ci5jbGllbnRXaWR0aCYmKGk9YSgpKSx0PyhuKz10aGlzLnN1bUNlbGxTaXplcygwLGUrMSksbi09dGhpcy53b3Qud3RWaWV3cG9ydC5nZXRWaWV3cG9ydFdpZHRoKCkpOm4rPXRoaXMuc3VtQ2VsbFNpemVzKHRoaXMud290LmdldFNldHRpbmcoImZpeGVkQ29sdW1uc0xlZnQiKSxlKSxuKz1pLHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24obil9LGdldFRhYmxlUGFyZW50T2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93IiksdD0wO3JldHVybiBlfHx0aGlzLnRyaW1taW5nQ29udGFpbmVyIT09d2luZG93fHwodD10aGlzLndvdC53dFRhYmxlLmhvbGRlck9mZnNldC5sZWZ0KSx0fSxnZXRTY3JvbGxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBsKHRoaXMubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQpfSxhZGp1c3RIZWFkZXJCb3JkZXJzUG9zaXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy53b3Qud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSxuPXRoaXMud290LmdldFNldHRpbmcoInJvd0hlYWRlcnMiKSxvPXRoaXMud290LmdldFNldHRpbmcoImZpeGVkQ29sdW1uc0xlZnQiKTtpZihvJiYhbi5sZW5ndGgpcyh0LCJpbm5lckJvcmRlckxlZnQiKTtlbHNlIGlmKCFvJiZuLmxlbmd0aCl7dmFyIHI9Yyh0LCJpbm5lckJvcmRlckxlZnQiKTtlP3ModCwiaW5uZXJCb3JkZXJMZWZ0Iik6Zih0LCJpbm5lckJvcmRlckxlZnQiKSwoIXImJmV8fHImJiFlKSYmdGhpcy53b3Qud3RPdmVybGF5cy5hZGp1c3RFbGVtZW50c1NpemUoKX19fSx7fSxnKSx3aW5kb3cuV2Fsa29udGFibGVMZWZ0T3ZlcmxheT1tLGcucmVnaXN0ZXJPdmVybGF5KGcuQ0xPTkVfTEVGVCxtKX0se19iYXNlOjExLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NX1dLDE0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1dhbGtvbnRhYmxlVG9wT3ZlcmxheTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG19fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGk9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkscz1pLmFkZENsYXNzLGE9aS5nZXRTY3JvbGxiYXJXaWR0aCxsPWkuZ2V0U2Nyb2xsVG9wLHU9aS5nZXRXaW5kb3dTY3JvbGxMZWZ0LGM9aS5oYXNDbGFzcyxkPWkub3V0ZXJIZWlnaHQsaD1pLmlubmVyV2lkdGgsZj1pLnJlbW92ZUNsYXNzLHA9aS5zZXRPdmVybGF5UG9zaXRpb24sZz0ocj1lKCJfYmFzZSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuV2Fsa29udGFibGVPdmVybGF5LG09ZnVuY3Rpb24oZSl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IodikuY2FsbCh0aGlzLGUpLHRoaXMuY2xvbmU9dGhpcy5tYWtlQ2xvbmUoZy5DTE9ORV9UT1ApfSx2PW07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKG0se3Nob3VsZEJlUmVuZGVyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRSb3dzVG9wIil8fHRoaXMud290LmdldFNldHRpbmcoImNvbHVtbkhlYWRlcnMiKS5sZW5ndGg/ITA6ITF9LHJlc2V0Rml4ZWRQb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXMubmVlZEZ1bGxSZW5kZXImJnRoaXMud290Lnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpe3ZhciBlPXRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSx0PTAsbj10aGlzLndvdC5nZXRTZXR0aW5nKCJwcmV2ZW50T3ZlcmZsb3ciKTtpZih0aGlzLnRyaW1taW5nQ29udGFpbmVyIT09d2luZG93fHxuJiYidmVydGljYWwiPT09bil0PXRoaXMuZ2V0U2Nyb2xsUG9zaXRpb24oKTtlbHNle3ZhciBvLHIsaT10aGlzLndvdC53dFRhYmxlLmhpZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9TWF0aC5jZWlsKGkudG9wKSxhPU1hdGguY2VpbChpLmJvdHRvbSk7bz10aGlzLndvdC53dFRhYmxlLmhpZGVyLnN0eWxlLmxlZnQsbz0iIj09PW8/MDpvLHI9MD5zJiZhLWUub2Zmc2V0SGVpZ2h0PjA/LXM6MCx0PXIscis9InB4IixwKGUsbyxyKX10aGlzLmFkanVzdEhlYWRlckJvcmRlcnNQb3NpdGlvbih0KSx0aGlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpfX0sc2V0U2Nyb2xsUG9zaXRpb246ZnVuY3Rpb24oZSl7dGhpcy5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudD09PXdpbmRvdz93aW5kb3cuc2Nyb2xsVG8odSgpLGUpOnRoaXMubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQuc2Nyb2xsVG9wPWV9LG9uU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy53b3QuZ2V0U2V0dGluZygib25TY3JvbGxIb3Jpem9udGFsbHkiKX0sc3VtQ2VsbFNpemVzOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAsbz10aGlzLndvdC53dFNldHRpbmdzLnNldHRpbmdzLmRlZmF1bHRSb3dIZWlnaHQ7dD5lOyl7dmFyIHI9dGhpcy53b3Qud3RUYWJsZS5nZXRSb3dIZWlnaHQoZSk7bis9dm9pZCAwPT09cj9vOnIsZSsrfXJldHVybiBufSxhZGp1c3RFbGVtZW50c1NpemU6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiExOyh0aGlzLm5lZWRGdWxsUmVuZGVyfHxlKSYmKHRoaXMuYWRqdXN0Um9vdEVsZW1lbnRTaXplKCksdGhpcy5hZGp1c3RSb290Q2hpbGRyZW5TaXplKCksZXx8KHRoaXMuYXJlRWxlbWVudFNpemVzQWRqdXN0ZWQ9ITApKX0sYWRqdXN0Um9vdEVsZW1lbnRTaXplOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLndvdC53dFRhYmxlLmhvbGRlcixuPXQuY2xpZW50V2lkdGg9PT10Lm9mZnNldFdpZHRoPzA6YSgpLG89dGhpcy5jbG9uZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlLHI9by5zdHlsZSxpPXRoaXMud290LmdldFNldHRpbmcoInByZXZlbnRPdmVyZmxvdyIpO2lmKHRoaXMudHJpbW1pbmdDb250YWluZXIhPT13aW5kb3d8fCJob3Jpem9udGFsIj09PWkpe3ZhciBzPXRoaXMud290Lnd0Vmlld3BvcnQuZ2V0V29ya3NwYWNlV2lkdGgoKS1uO3M9TWF0aC5taW4ocyxoKHRoaXMud290Lnd0VGFibGUud3RSb290RWxlbWVudCkpLHIud2lkdGg9cysicHgifXRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIuc3R5bGUud2lkdGg9ci53aWR0aCxlPWQodGhpcy5jbG9uZS53dFRhYmxlLlRBQkxFKSxyLmhlaWdodD0oMD09PWU/ZTplKzQpKyJweCJ9LGFkanVzdFJvb3RDaGlsZHJlblNpemU6ZnVuY3Rpb24oKXt2YXIgZT1hKCk7dGhpcy5jbG9uZS53dFRhYmxlLmhpZGVyLnN0eWxlLndpZHRoPXRoaXMuaGlkZXIuc3R5bGUud2lkdGgsdGhpcy5jbG9uZS53dFRhYmxlLmhvbGRlci5zdHlsZS53aWR0aD10aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUuc3R5bGUud2lkdGgsMD09PWUmJihlPTMwKSx0aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnN0eWxlLmhlaWdodD1wYXJzZUludCh0aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUuc3R5bGUuaGVpZ2h0LDEwKStlKyJweCJ9LGFwcGx5VG9ET006ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKTtpZih0aGlzLmFyZUVsZW1lbnRTaXplc0FkanVzdGVkfHx0aGlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpLCJudW1iZXIiPT10eXBlb2YgdGhpcy53b3Qud3RWaWV3cG9ydC5yb3dzUmVuZGVyQ2FsY3VsYXRvci5zdGFydFBvc2l0aW9uKXRoaXMuc3ByZWFkZXIuc3R5bGUudG9wPXRoaXMud290Lnd0Vmlld3BvcnQucm93c1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRQb3NpdGlvbisicHgiO2Vsc2V7aWYoMCE9PWUpdGhyb3cgbmV3IEVycm9yKCJJbmNvcnJlY3QgdmFsdWUgb2YgdGhlIHJvd3NSZW5kZXJDYWxjdWxhdG9yIik7dGhpcy5zcHJlYWRlci5zdHlsZS50b3A9IjAifXRoaXMuc3ByZWFkZXIuc3R5bGUuYm90dG9tPSIiLHRoaXMubmVlZEZ1bGxSZW5kZXImJnRoaXMuc3luY092ZXJsYXlPZmZzZXQoKX0sc3luY092ZXJsYXlPZmZzZXQ6ZnVuY3Rpb24oKXsibnVtYmVyIj09dHlwZW9mIHRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRQb3NpdGlvbj90aGlzLmNsb25lLnd0VGFibGUuc3ByZWFkZXIuc3R5bGUubGVmdD10aGlzLndvdC53dFZpZXdwb3J0LmNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yLnN0YXJ0UG9zaXRpb24rInB4Ijp0aGlzLmNsb25lLnd0VGFibGUuc3ByZWFkZXIuc3R5bGUubGVmdD0iIn0sc2Nyb2xsVG86ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldFRhYmxlUGFyZW50T2Zmc2V0KCksbz10aGlzLndvdC5jbG9uZVNvdXJjZT90aGlzLndvdC5jbG9uZVNvdXJjZTp0aGlzLndvdCxyPW8ud3RUYWJsZS5ob2xkZXIsaT0wO2lmKHQmJnIub2Zmc2V0SGVpZ2h0IT09ci5jbGllbnRIZWlnaHQmJihpPWEoKSksdCl7dmFyIHM9dGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRSb3dzQm90dG9tIiksbD0odGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRSb3dzVG9wIiksdGhpcy53b3QuZ2V0U2V0dGluZygidG90YWxSb3dzIikpO24rPXRoaXMuc3VtQ2VsbFNpemVzKDAsZSsxKSxuLT10aGlzLndvdC53dFZpZXdwb3J0LmdldFZpZXdwb3J0SGVpZ2h0KCktdGhpcy5zdW1DZWxsU2l6ZXMobC1zLGwpLG4rPTF9ZWxzZSBuKz10aGlzLnN1bUNlbGxTaXplcyh0aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NUb3AiKSxlKTtuKz1pLHRoaXMuc2V0U2Nyb2xsUG9zaXRpb24obil9LGdldFRhYmxlUGFyZW50T2Zmc2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQ9PT13aW5kb3c/dGhpcy53b3Qud3RUYWJsZS5ob2xkZXJPZmZzZXQudG9wOjB9LGdldFNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGwodGhpcy5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudCl9LGFkanVzdEhlYWRlckJvcmRlcnNQb3NpdGlvbjpmdW5jdGlvbihlKXtpZigwPT09dGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRSb3dzVG9wIikmJnRoaXMud290LmdldFNldHRpbmcoImNvbHVtbkhlYWRlcnMiKS5sZW5ndGg+MCl7dmFyIHQ9dGhpcy53b3Qud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSxuPWModCwiaW5uZXJCb3JkZXJUb3AiKTtlfHwwPT09dGhpcy53b3QuZ2V0U2V0dGluZygidG90YWxSb3dzIik/cyh0LCJpbm5lckJvcmRlclRvcCIpOmYodCwiaW5uZXJCb3JkZXJUb3AiKSwoIW4mJmV8fG4mJiFlKSYmdGhpcy53b3Qud3RPdmVybGF5cy5hZGp1c3RFbGVtZW50c1NpemUoKX1pZigwPT09dGhpcy53b3QuZ2V0U2V0dGluZygicm93SGVhZGVycyIpLmxlbmd0aCl7dmFyIG89dGhpcy5jbG9uZS53dFRhYmxlLlRIRUFELnF1ZXJ5U2VsZWN0b3JBbGwoInRoOm50aC1vZi10eXBlKDIpIik7aWYobylmb3IodmFyIHI9MDtyPG8ubGVuZ3RoO3IrKylvW3JdLnN0eWxlWyJib3JkZXItbGVmdC13aWR0aCJdPTB9fX0se30sZyksd2luZG93LldhbGtvbnRhYmxlVG9wT3ZlcmxheT1tLGcucmVnaXN0ZXJPdmVybGF5KGcuQ0xPTkVfVE9QLG0pfSx7X2Jhc2U6MTEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1fV0sMTU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVUb3BMZWZ0Q29ybmVyT3ZlcmxheTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGN9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGk9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkscz1pLm91dGVySGVpZ2h0LGE9aS5vdXRlcldpZHRoLGw9aS5zZXRPdmVybGF5UG9zaXRpb24sdT0ocj1lKCJfYmFzZSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuV2Fsa29udGFibGVPdmVybGF5LGM9ZnVuY3Rpb24oZSl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoZCkuY2FsbCh0aGlzLGUpLHRoaXMuY2xvbmU9dGhpcy5tYWtlQ2xvbmUodS5DTE9ORV9UT1BfTEVGVF9DT1JORVIpfSxkPWM7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGMse3Nob3VsZEJlUmVuZGVyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRSb3dzVG9wIil8fHRoaXMud290LmdldFNldHRpbmcoImNvbHVtbkhlYWRlcnMiKS5sZW5ndGgpJiYodGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRDb2x1bW5zTGVmdCIpfHx0aGlzLndvdC5nZXRTZXR0aW5nKCJyb3dIZWFkZXJzIikubGVuZ3RoKT8hMDohMX0scmVzZXRGaXhlZFBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpcy53b3Qud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSl7dmFyIGU9dGhpcy5jbG9uZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlLHQ9cyh0aGlzLmNsb25lLnd0VGFibGUuVEFCTEUpLG49YSh0aGlzLmNsb25lLnd0VGFibGUuVEFCTEUpLG89dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93Iik7aWYodGhpcy50cmltbWluZ0NvbnRhaW5lcj09PXdpbmRvdyl7dmFyIHI9dGhpcy53b3Qud3RUYWJsZS5oaWRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPU1hdGguY2VpbChyLnRvcCksdT1NYXRoLmNlaWwoci5sZWZ0KSxjPU1hdGguY2VpbChyLmJvdHRvbSksZD1NYXRoLmNlaWwoci5yaWdodCksaD0iMCIsZj0iMCI7byYmInZlcnRpY2FsIiE9PW98fDA+dSYmZC1lLm9mZnNldFdpZHRoPjAmJihoPS11KyJweCIpLG8mJiJob3Jpem9udGFsIiE9PW98fDA+aSYmYy1lLm9mZnNldEhlaWdodD4wJiYoZj0taSsicHgiKSxsKGUsaCxmKX1lLnN0eWxlLmhlaWdodD0oMD09PXQ/dDp0KzQpKyJweCIsZS5zdHlsZS53aWR0aD0oMD09PW4/bjpuKzQpKyJweCJ9fX0se30sdSksd2luZG93LldhbGtvbnRhYmxlVG9wTGVmdENvcm5lck92ZXJsYXk9Yyx1LnJlZ2lzdGVyT3ZlcmxheSh1LkNMT05FX1RPUF9MRUZUX0NPUk5FUixjKX0se19iYXNlOjExLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NX1dLDE2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1dhbGtvbnRhYmxlT3ZlcmxheXM6e2dldDpmdW5jdGlvbigpe3JldHVybiBmfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHM9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSksYT1zLmdldFNjcm9sbGFibGVFbGVtZW50LGw9cy5nZXRTY3JvbGxiYXJXaWR0aCx1PXMuZ2V0U2Nyb2xsTGVmdCxjPXMuZ2V0U2Nyb2xsVG9wLGQ9KHI9ZSgiaGVscGVycy91bmljb2RlIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5pc0tleSxoPShpPWUoImV2ZW50TWFuYWdlciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuRXZlbnRNYW5hZ2VyLGY9ZnVuY3Rpb24oZSl7dGhpcy53b3Q9ZSx0aGlzLmluc3RhbmNlPXRoaXMud290LHRoaXMuZXZlbnRNYW5hZ2VyPW5ldyBoKHRoaXMud290KSx0aGlzLndvdC51cGRhdGUoInNjcm9sbGJhcldpZHRoIixsKCkpLHRoaXMud290LnVwZGF0ZSgic2Nyb2xsYmFySGVpZ2h0IixsKCkpLHRoaXMuc2Nyb2xsYWJsZUVsZW1lbnQ9YSh0aGlzLndvdC53dFRhYmxlLlRBQkxFKSx0aGlzLnRvcE92ZXJsYXk9V2Fsa29udGFibGVPdmVybGF5LmNyZWF0ZU92ZXJsYXkoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX1RPUCx0aGlzLndvdCksInVuZGVmaW5lZCI9PXR5cGVvZiBXYWxrb250YWJsZUJvdHRvbU92ZXJsYXk/dGhpcy5ib3R0b21PdmVybGF5PXtuZWVkRnVsbFJlbmRlcjohMX06dGhpcy5ib3R0b21PdmVybGF5PVdhbGtvbnRhYmxlT3ZlcmxheS5jcmVhdGVPdmVybGF5KFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9CT1RUT00sdGhpcy53b3QpLHRoaXMubGVmdE92ZXJsYXk9V2Fsa29udGFibGVPdmVybGF5LmNyZWF0ZU92ZXJsYXkoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0xFRlQsdGhpcy53b3QpLHRoaXMudG9wT3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmdGhpcy5sZWZ0T3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmKHRoaXMudG9wTGVmdENvcm5lck92ZXJsYXk9V2Fsa29udGFibGVPdmVybGF5LmNyZWF0ZU92ZXJsYXkoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX1RPUF9MRUZUX0NPUk5FUix0aGlzLndvdCkpLHRoaXMuYm90dG9tT3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmdGhpcy5sZWZ0T3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmInVuZGVmaW5lZCIhPXR5cGVvZiBXYWxrb250YWJsZUJvdHRvbUxlZnRDb3JuZXJPdmVybGF5P3RoaXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXk9V2Fsa29udGFibGVPdmVybGF5LmNyZWF0ZU92ZXJsYXkoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0JPVFRPTV9MRUZUX0NPUk5FUix0aGlzLndvdCk6dGhpcy5ib3R0b21MZWZ0Q29ybmVyT3ZlcmxheT17bmVlZEZ1bGxSZW5kZXI6ITF9LHRoaXMud290LmdldFNldHRpbmcoImRlYnVnIikmJih0aGlzLmRlYnVnPVdhbGtvbnRhYmxlT3ZlcmxheS5jcmVhdGVPdmVybGF5KFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9ERUJVRyx0aGlzLndvdCkpLHRoaXMuZGVzdHJveWVkPSExLHRoaXMua2V5UHJlc3NlZD0hMSx0aGlzLnNwcmVhZGVyTGFzdFNpemU9e3dpZHRoOm51bGwsaGVpZ2h0Om51bGx9LHRoaXMub3ZlcmxheVNjcm9sbFBvc2l0aW9ucz17bWFzdGVyOnt0b3A6MCxsZWZ0OjB9LHRvcDp7dG9wOm51bGwsbGVmdDowfSxib3R0b206e3RvcDpudWxsLGxlZnQ6MH0sbGVmdDp7dG9wOjAsbGVmdDpudWxsfX0sdGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzPXttYXN0ZXI6e3RvcDowLGxlZnQ6MH0sdG9wOntsZWZ0OjB9LGJvdHRvbTp7bGVmdDowfSxsZWZ0Ont0b3A6MH19LHRoaXMudmVydGljYWxTY3JvbGxpbmc9ITEsdGhpcy5ob3Jpem9udGFsU2Nyb2xsaW5nPSExLHRoaXMuZGVsZWdhdGVkU2Nyb2xsQ2FsbGJhY2s9ITEsdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpfTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoZix7cmVmcmVzaEFsbDpmdW5jdGlvbigpe2lmKHRoaXMud290LmRyYXduKXtpZighdGhpcy53b3Qud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSlyZXR1cm4gdm9pZCB0aGlzLmRlc3Ryb3koKTt0aGlzLndvdC5kcmF3KCEwKSx0aGlzLnZlcnRpY2FsU2Nyb2xsaW5nJiZ0aGlzLmxlZnRPdmVybGF5Lm9uU2Nyb2xsKCksdGhpcy5ob3Jpem9udGFsU2Nyb2xsaW5nJiZ0aGlzLnRvcE92ZXJsYXkub25TY3JvbGwoKSx0aGlzLnZlcnRpY2FsU2Nyb2xsaW5nPSExLHRoaXMuaG9yaXpvbnRhbFNjcm9sbGluZz0hMX19LHJlZ2lzdGVyTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwia2V5ZG93biIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25LZXlEb3duKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsImtleXVwIixmdW5jdGlvbigpe3JldHVybiBlLm9uS2V5VXAoKX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsInZpc2liaWxpdHljaGFuZ2UiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25LZXlVcCgpfSk7dmFyIHQ9dGhpcy50b3BPdmVybGF5Lm1haW5UYWJsZVNjcm9sbGFibGVFbGVtZW50LG49dGhpcy5sZWZ0T3ZlcmxheS5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudDt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHQsInNjcm9sbCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25UYWJsZVNjcm9sbCh0KX0pLHQhPT1uJiZ0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKG4sInNjcm9sbCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25UYWJsZVNjcm9sbCh0KX0pLHRoaXMudG9wT3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmKHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy50b3BPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLCJzY3JvbGwiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uVGFibGVTY3JvbGwodCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMudG9wT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlciwid2hlZWwiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uVGFibGVTY3JvbGwodCl9KSksdGhpcy5ib3R0b21PdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiYodGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmJvdHRvbU92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIsInNjcm9sbCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25UYWJsZVNjcm9sbCh0KX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ib3R0b21PdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLCJ3aGVlbCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25UYWJsZVNjcm9sbCh0KX0pKSx0aGlzLmxlZnRPdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiYodGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmxlZnRPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLCJzY3JvbGwiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uVGFibGVTY3JvbGwodCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMubGVmdE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIsIndoZWVsIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vblRhYmxlU2Nyb2xsKHQpfSkpLHRoaXMudG9wT3ZlcmxheS50cmltbWluZ0NvbnRhaW5lciE9PXdpbmRvdyYmdGhpcy5sZWZ0T3ZlcmxheS50cmltbWluZ0NvbnRhaW5lciE9PXdpbmRvdyYmdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIndoZWVsIixmdW5jdGlvbih0KXt2YXIgbixvPXQud2hlZWxEZWx0YVl8fHQuZGVsdGFZLHI9dC53aGVlbERlbHRhWHx8dC5kZWx0YVg7ZS50b3BPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLmNvbnRhaW5zKHQucmVhbFRhcmdldCk/bj0idG9wIjplLmJvdHRvbU92ZXJsYXkuY2xvbmUmJmUuYm90dG9tT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5jb250YWlucyh0LnJlYWxUYXJnZXQpP249ImJvdHRvbSI6ZS5sZWZ0T3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5jb250YWlucyh0LnJlYWxUYXJnZXQpJiYobj0ibGVmdCIpLCJ0b3AiPT1uJiYwIT09bz90LnByZXZlbnREZWZhdWx0KCk6ImxlZnQiPT1uJiYwIT09cj90LnByZXZlbnREZWZhdWx0KCk6ImJvdHRvbSI9PW4mJjAhPT1vJiZ0LnByZXZlbnREZWZhdWx0KCl9KX0sb25UYWJsZVNjcm9sbDpmdW5jdGlvbihlKXtpZighSGFuZHNvbnRhYmxlLm1vYmlsZUJyb3dzZXIpe3ZhciB0PXRoaXMubGVmdE92ZXJsYXkubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQsbj10aGlzLnRvcE92ZXJsYXkubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQsbz1lLnRhcmdldDt0aGlzLmtleVByZXNzZWQmJihuIT09d2luZG93JiZvIT09d2luZG93JiYhZS50YXJnZXQuY29udGFpbnMobil8fHQhPT13aW5kb3cmJm8hPT13aW5kb3cmJiFlLnRhcmdldC5jb250YWlucyh0KSl8fCgic2Nyb2xsIj09PWUudHlwZT90aGlzLnN5bmNTY3JvbGxQb3NpdGlvbnMoZSk6dGhpcy50cmFuc2xhdGVNb3VzZVdoZWVsVG9TY3JvbGwoZSkpfX0sb25LZXlEb3duOmZ1bmN0aW9uKGUpe3RoaXMua2V5UHJlc3NlZD1kKGUua2V5Q29kZSwiQVJST1dfVVB8QVJST1dfUklHSFR8QVJST1dfRE9XTnxBUlJPV19MRUZUIil9LG9uS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLmtleVByZXNzZWQ9ITF9LHRyYW5zbGF0ZU1vdXNlV2hlZWxUb1Njcm9sbDpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMudG9wT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlcixvPXRoaXMuYm90dG9tT3ZlcmxheS5jbG9uZT90aGlzLmJvdHRvbU92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXI6bnVsbCxyPXRoaXMubGVmdE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIsaT17dHlwZToid2hlZWwifSxzPWUudGFyZ2V0LGE9ZS53aGVlbERlbHRhWXx8LTEqZS5kZWx0YVksbD1lLndoZWVsRGVsdGFYfHwtMSplLmRlbHRhWDtmb3IoMT09PWUuZGVsdGFNb2RlJiYoYT0xMjAqYSxsPTEyMCpsKTtzIT1kb2N1bWVudCYmbnVsbCE9czspe2lmKHMuY2xhc3NOYW1lLmluZGV4T2YoInd0SG9sZGVyIik+LTEpe3Q9czticmVha31zPXMucGFyZW50Tm9kZX1yZXR1cm4gaS50YXJnZXQ9dCx0PT1uP3RoaXMuc3luY1Njcm9sbFBvc2l0aW9ucyhpLC0uMiphKTp0PT1vP3RoaXMuc3luY1Njcm9sbFBvc2l0aW9ucyhpLC0uMiphKTp0PT1yJiZ0aGlzLnN5bmNTY3JvbGxQb3NpdGlvbnMoaSwtLjIqbCksITF9LHN5bmNTY3JvbGxQb3NpdGlvbnM6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsO2lmKCF0aGlzLmRlc3Ryb3llZCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5zeW5jU2Nyb2xsV2l0aE1hc3RlcigpO3ZhciBuLG8scixpPXRoaXMubGVmdE92ZXJsYXkubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQscz10aGlzLnRvcE92ZXJsYXkubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQsYT1lLnRhcmdldCxsPTAsZD0hMSxoPSExLGY9dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93Iik7dGhpcy50b3BPdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiYobj10aGlzLnRvcE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIpLHRoaXMuYm90dG9tT3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmKHI9dGhpcy5ib3R0b21PdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyKSx0aGlzLmxlZnRPdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiYobz10aGlzLmxlZnRPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyKSxhPT09ZG9jdW1lbnQmJihhPXdpbmRvdyksYT09PWl8fGE9PT1zPyhsPXUoZj90aGlzLnNjcm9sbGFibGVFbGVtZW50OmEpLHRoaXMuaG9yaXpvbnRhbFNjcm9sbGluZz0hMCx0aGlzLm92ZXJsYXlTY3JvbGxQb3NpdGlvbnMubWFzdGVyLmxlZnQ9bCxkPSEwLHRoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy5tYXN0ZXIubGVmdD4wP3RoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy5tYXN0ZXIubGVmdC0tOihuJiZuLnNjcm9sbExlZnQhPT1sJiYobnVsbD09dCYmdGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLnRvcC5sZWZ0Kyssbi5zY3JvbGxMZWZ0PWwsaD1pIT09d2luZG93KSxyJiZyLnNjcm9sbExlZnQhPT1sJiYobnVsbD09dCYmdGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLmJvdHRvbS5sZWZ0Kyssci5zY3JvbGxMZWZ0PWwsaD1pIT09d2luZG93KSksbD1jKGEpLHRoaXMudmVydGljYWxTY3JvbGxpbmc9ITAsdGhpcy5vdmVybGF5U2Nyb2xsUG9zaXRpb25zLm1hc3Rlci50b3A9bCxkPSEwLHRoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy5tYXN0ZXIudG9wPjA/dGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLm1hc3Rlci50b3AtLTpvJiZvLnNjcm9sbFRvcCE9PWwmJihudWxsPT10JiZ0aGlzLnBlbmRpbmdTY3JvbGxDYWxsYmFja3MubGVmdC50b3ArKyxvLnNjcm9sbFRvcD1sLGg9cyE9PXdpbmRvdykpOmE9PT1yPyhsPXUoYSksdGhpcy5ob3Jpem9udGFsU2Nyb2xsaW5nPSEwLHRoaXMub3ZlcmxheVNjcm9sbFBvc2l0aW9ucy5ib3R0b20ubGVmdD1sLGQ9ITAsdGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLmJvdHRvbS5sZWZ0PjA/dGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLmJvdHRvbS5sZWZ0LS06KG51bGw9PXQmJnRoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy5tYXN0ZXIubGVmdCsrLGkuc2Nyb2xsTGVmdD1sLG4mJm4uc2Nyb2xsTGVmdCE9PWwmJihudWxsPT10JiZ0aGlzLnBlbmRpbmdTY3JvbGxDYWxsYmFja3MudG9wLmxlZnQrKyxuLnNjcm9sbExlZnQ9bCxoPXMhPT13aW5kb3cpKSxudWxsIT09dCYmKGQ9ITAscy5zY3JvbGxUb3ArPXQpKTphPT09bj8obD11KGEpLHRoaXMuaG9yaXpvbnRhbFNjcm9sbGluZz0hMCx0aGlzLm92ZXJsYXlTY3JvbGxQb3NpdGlvbnMudG9wLmxlZnQ9bCxkPSEwLHRoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy50b3AubGVmdD4wP3RoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy50b3AubGVmdC0tOihudWxsPT10JiZ0aGlzLnBlbmRpbmdTY3JvbGxDYWxsYmFja3MubWFzdGVyLmxlZnQrKyxpLnNjcm9sbExlZnQ9bCksbnVsbCE9PXQmJihkPSEwLHMuc2Nyb2xsVG9wKz10KSxyJiZyLnNjcm9sbExlZnQhPT1sJiYobnVsbD09dCYmdGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLmJvdHRvbS5sZWZ0Kyssci5zY3JvbGxMZWZ0PWwsaD1zIT09d2luZG93KSk6YT09PW8mJihsPWMoYSksdGhpcy5vdmVybGF5U2Nyb2xsUG9zaXRpb25zLmxlZnQudG9wIT09bCYmKHRoaXMudmVydGljYWxTY3JvbGxpbmc9ITAsdGhpcy5vdmVybGF5U2Nyb2xsUG9zaXRpb25zLmxlZnQudG9wPWwsZD0hMCx0aGlzLnBlbmRpbmdTY3JvbGxDYWxsYmFja3MubGVmdC50b3A+MD90aGlzLnBlbmRpbmdTY3JvbGxDYWxsYmFja3MubGVmdC50b3AtLToobnVsbD09dCYmdGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLm1hc3Rlci50b3ArKyxzLnNjcm9sbFRvcD1sKSksbnVsbCE9PXQmJihkPSEwLHMuc2Nyb2xsTGVmdCs9dCkpLCF0aGlzLmtleVByZXNzZWQmJmQmJiJzY3JvbGwiPT09ZS50eXBlJiYodGhpcy5kZWxlZ2F0ZWRTY3JvbGxDYWxsYmFjaz90aGlzLmRlbGVnYXRlZFNjcm9sbENhbGxiYWNrPSExOnRoaXMucmVmcmVzaEFsbCgpLGgmJih0aGlzLmRlbGVnYXRlZFNjcm9sbENhbGxiYWNrPSEwKSl9fSxzeW5jU2Nyb2xsV2l0aE1hc3RlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMudG9wT3ZlcmxheS5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudDt0aGlzLnRvcE92ZXJsYXkubmVlZEZ1bGxSZW5kZXImJih0aGlzLnRvcE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIuc2Nyb2xsTGVmdD1lLnNjcm9sbExlZnQpLHRoaXMubGVmdE92ZXJsYXkubmVlZEZ1bGxSZW5kZXImJih0aGlzLmxlZnRPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnNjcm9sbFRvcD1lLnNjcm9sbFRvcCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50TWFuYWdlci5kZXN0cm95KCksdGhpcy50b3BPdmVybGF5LmRlc3Ryb3koKSx0aGlzLmJvdHRvbU92ZXJsYXkuY2xvbmUmJnRoaXMuYm90dG9tT3ZlcmxheS5kZXN0cm95KCksdGhpcy5sZWZ0T3ZlcmxheS5kZXN0cm95KCksdGhpcy50b3BMZWZ0Q29ybmVyT3ZlcmxheSYmdGhpcy50b3BMZWZ0Q29ybmVyT3ZlcmxheS5kZXN0cm95KCksdGhpcy5ib3R0b21MZWZ0Q29ybmVyT3ZlcmxheSYmdGhpcy5ib3R0b21MZWZ0Q29ybmVyT3ZlcmxheS5jbG9uZSYmdGhpcy5ib3R0b21MZWZ0Q29ybmVyT3ZlcmxheS5kZXN0cm95KCksdGhpcy5kZWJ1ZyYmdGhpcy5kZWJ1Zy5kZXN0cm95KCksdGhpcy5kZXN0cm95ZWQ9ITB9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiExO2lmKHRoaXMudG9wT3ZlcmxheS5hcmVFbGVtZW50U2l6ZXNBZGp1c3RlZCYmdGhpcy5sZWZ0T3ZlcmxheS5hcmVFbGVtZW50U2l6ZXNBZGp1c3RlZCl7dmFyIHQ9dGhpcy53b3Qud3RUYWJsZS53dFJvb3RFbGVtZW50LnBhcmVudE5vZGV8fHRoaXMud290Lnd0VGFibGUud3RSb290RWxlbWVudCxuPXQuY2xpZW50V2lkdGgsbz10LmNsaWVudEhlaWdodDsobiE9PXRoaXMuc3ByZWFkZXJMYXN0U2l6ZS53aWR0aHx8byE9PXRoaXMuc3ByZWFkZXJMYXN0U2l6ZS5oZWlnaHQpJiYodGhpcy5zcHJlYWRlckxhc3RTaXplLndpZHRoPW4sdGhpcy5zcHJlYWRlckxhc3RTaXplLmhlaWdodD1vLHRoaXMuYWRqdXN0RWxlbWVudHNTaXplKCkpfXRoaXMuYm90dG9tT3ZlcmxheS5jbG9uZSYmdGhpcy5ib3R0b21PdmVybGF5LnJlZnJlc2goZSksdGhpcy5sZWZ0T3ZlcmxheS5yZWZyZXNoKGUpLHRoaXMudG9wT3ZlcmxheS5yZWZyZXNoKGUpLHRoaXMudG9wTGVmdENvcm5lck92ZXJsYXkmJnRoaXMudG9wTGVmdENvcm5lck92ZXJsYXkucmVmcmVzaChlKSx0aGlzLmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5JiZ0aGlzLmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5LmNsb25lJiZ0aGlzLmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5LnJlZnJlc2goZSksdGhpcy5kZWJ1ZyYmdGhpcy5kZWJ1Zy5yZWZyZXNoKGUpfSxhZGp1c3RFbGVtZW50c1NpemU6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiExLHQ9dGhpcy53b3QuZ2V0U2V0dGluZygidG90YWxDb2x1bW5zIiksbj10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKSxvPXRoaXMud290Lnd0Vmlld3BvcnQuZ2V0Um93SGVhZGVyV2lkdGgoKSxyPXRoaXMud290Lnd0Vmlld3BvcnQuZ2V0Q29sdW1uSGVhZGVySGVpZ2h0KCksaT10aGlzLndvdC53dFRhYmxlLmhpZGVyLnN0eWxlO2kud2lkdGg9byt0aGlzLmxlZnRPdmVybGF5LnN1bUNlbGxTaXplcygwLHQpKyJweCIsaS5oZWlnaHQ9cit0aGlzLnRvcE92ZXJsYXkuc3VtQ2VsbFNpemVzKDAsbikrMSsicHgiLHRoaXMudG9wT3ZlcmxheS5hZGp1c3RFbGVtZW50c1NpemUoZSksdGhpcy5sZWZ0T3ZlcmxheS5hZGp1c3RFbGVtZW50c1NpemUoZSksdGhpcy5ib3R0b21PdmVybGF5LmNsb25lJiZ0aGlzLmJvdHRvbU92ZXJsYXkuYWRqdXN0RWxlbWVudHNTaXplKGUpfSxhcHBseVRvRE9NOmZ1bmN0aW9uKCl7dGhpcy50b3BPdmVybGF5LmFyZUVsZW1lbnRTaXplc0FkanVzdGVkJiZ0aGlzLmxlZnRPdmVybGF5LmFyZUVsZW1lbnRTaXplc0FkanVzdGVkfHx0aGlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpLHRoaXMudG9wT3ZlcmxheS5hcHBseVRvRE9NKCksdGhpcy5ib3R0b21PdmVybGF5LmNsb25lJiZ0aGlzLmJvdHRvbU92ZXJsYXkuYXBwbHlUb0RPTSgpLHRoaXMubGVmdE92ZXJsYXkuYXBwbHlUb0RPTSgpfX0se30pLHdpbmRvdy5XYWxrb250YWJsZU92ZXJsYXlzPWZ9LHtldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LCJoZWxwZXJzL3VuaWNvZGUiOjUzfV0sMTc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVTY3JvbGw6e2dldDpmdW5jdGlvbigpe3JldHVybiBwfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpPShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLHM9aS5pbm5lckhlaWdodCxhPWkuaW5uZXJXaWR0aCxsPWkuZ2V0U2Nyb2xsTGVmdCx1PWkuZ2V0U2Nyb2xsVG9wLGM9aS5vZmZzZXQsZD0ocj1lKCJoZWxwZXJzL251bWJlciIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksaD1kLnJhbmdlRWFjaCxmPWQucmFuZ2VFYWNoUmV2ZXJzZSxwPWZ1bmN0aW9uKGUpe3RoaXMud290PWUsdGhpcy5pbnN0YW5jZT1lfTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MocCx7c2Nyb2xsVmlld3BvcnQ6ZnVuY3Rpb24oZSl7aWYodGhpcy53b3QuZHJhd24pe3ZhciB0PXRoaXMuX2dldFZhcmlhYmxlcygpLG49dC50b3BPdmVybGF5LG89dC5sZWZ0T3ZlcmxheSxyPXQudG90YWxSb3dzLGk9dC50b3RhbENvbHVtbnMscz10LmZpeGVkUm93c1RvcCxhPXQuZml4ZWRSb3dzQm90dG9tLGw9dC5maXhlZENvbHVtbnNMZWZ0O2lmKGUucm93PDB8fGUucm93PnItMSl0aHJvdyBuZXcgRXJyb3IoInJvdyAiK2Uucm93KyIgZG9lcyBub3QgZXhpc3QiKTtpZihlLmNvbDwwfHxlLmNvbD5pLTEpdGhyb3cgbmV3IEVycm9yKCJjb2x1bW4gIitlLmNvbCsiIGRvZXMgbm90IGV4aXN0Iik7ZS5yb3c+PXMmJmUucm93PHRoaXMuZ2V0Rmlyc3RWaXNpYmxlUm93KCk/bi5zY3JvbGxUbyhlLnJvdyk6ZS5yb3c+dGhpcy5nZXRMYXN0VmlzaWJsZVJvdygpJiZlLnJvdzxyLWEmJm4uc2Nyb2xsVG8oZS5yb3csITApLGUuY29sPj1sJiZlLmNvbDx0aGlzLmdldEZpcnN0VmlzaWJsZUNvbHVtbigpP28uc2Nyb2xsVG8oZS5jb2wpOmUuY29sPnRoaXMuZ2V0TGFzdFZpc2libGVDb2x1bW4oKSYmby5zY3JvbGxUbyhlLmNvbCwhMCl9fSxnZXRGaXJzdFZpc2libGVSb3c6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXRWYXJpYWJsZXMoKSx0PWUudG9wT3ZlcmxheSxuPWUud3RUYWJsZSxvPWUud3RWaWV3cG9ydCxyPWUudG90YWxSb3dzLGk9ZS5maXhlZFJvd3NUb3AsYT1uLmdldEZpcnN0VmlzaWJsZVJvdygpO2lmKHQubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQ9PT13aW5kb3cpe3ZhciBsPWMobi53dFJvb3RFbGVtZW50KSxkPXMobi5oaWRlciksaD1zKHdpbmRvdykscD11KHdpbmRvdyk7aWYobC50b3ArZC1oPD1wKXt2YXIgZz1vLmdldENvbHVtbkhlYWRlckhlaWdodCgpO2crPXQuc3VtQ2VsbFNpemVzKDAsaSksZihyLDEsZnVuY3Rpb24oZSl7cmV0dXJuIGcrPXQuc3VtQ2VsbFNpemVzKGUtMSxlKSxsLnRvcCtkLWc8PXA/KGE9ZSwhMSk6dm9pZCAwfSl9fXJldHVybiBhfSxnZXRMYXN0VmlzaWJsZVJvdzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldFZhcmlhYmxlcygpLHQ9ZS50b3BPdmVybGF5LG49ZS53dFRhYmxlLG89ZS53dFZpZXdwb3J0LHI9ZS50b3RhbFJvd3MsaT1uLmdldExhc3RWaXNpYmxlUm93KCk7aWYodC5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudD09PXdpbmRvdyl7dmFyIGE9YyhuLnd0Um9vdEVsZW1lbnQpLGw9cyh3aW5kb3cpLGQ9dSh3aW5kb3cpO2lmKGEudG9wPmQpe3ZhciBmPW8uZ2V0Q29sdW1uSGVhZGVySGVpZ2h0KCk7aCgxLHIsZnVuY3Rpb24oZSl7cmV0dXJuIGYrPXQuc3VtQ2VsbFNpemVzKGUtMSxlKSxhLnRvcCtmLWQ+PWw/KGk9ZS0yLCExKTp2b2lkIDB9KX19cmV0dXJuIGl9LGdldEZpcnN0VmlzaWJsZUNvbHVtbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldFZhcmlhYmxlcygpLHQ9ZS5sZWZ0T3ZlcmxheSxuPWUud3RUYWJsZSxvPWUud3RWaWV3cG9ydCxyPWUudG90YWxDb2x1bW5zLGk9KGUuZml4ZWRDb2x1bW5zTGVmdCxuLmdldEZpcnN0VmlzaWJsZUNvbHVtbigpKTtpZih0Lm1haW5UYWJsZVNjcm9sbGFibGVFbGVtZW50PT09d2luZG93KXt2YXIgcz1jKG4ud3RSb290RWxlbWVudCksdT1hKG4uaGlkZXIpLGQ9YSh3aW5kb3cpLGg9bCh3aW5kb3cpO2lmKHMubGVmdCt1LWQ8PWgpe3ZhciBwPW8uZ2V0Um93SGVhZGVyV2lkdGgoKTtmKHIsMSxmdW5jdGlvbihlKXtyZXR1cm4gcCs9dC5zdW1DZWxsU2l6ZXMoZS0xLGUpLHMubGVmdCt1LXA8PWg/KGk9ZSwhMSk6dm9pZCAwfSl9fXJldHVybiBpfSxnZXRMYXN0VmlzaWJsZUNvbHVtbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldFZhcmlhYmxlcygpLHQ9ZS5sZWZ0T3ZlcmxheSxuPWUud3RUYWJsZSxvPWUud3RWaWV3cG9ydCxyPWUudG90YWxDb2x1bW5zLGk9bi5nZXRMYXN0VmlzaWJsZUNvbHVtbigpO2lmKHQubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQ9PT13aW5kb3cpe3ZhciBzPWMobi53dFJvb3RFbGVtZW50KSx1PWEod2luZG93KSxkPWwod2luZG93KTtpZihzLmxlZnQ+ZCl7dmFyIGY9by5nZXRSb3dIZWFkZXJXaWR0aCgpO2goMSxyLGZ1bmN0aW9uKGUpe3JldHVybiBmKz10LnN1bUNlbGxTaXplcyhlLTEsZSkscy5sZWZ0K2YtZD49dT8oaT1lLTIsITEpOnZvaWQgMH0pfX1yZXR1cm4gaX0sX2dldFZhcmlhYmxlczpmdW5jdGlvbigpe3ZhciBlPXRoaXMud290LHQ9ZS53dE92ZXJsYXlzLnRvcE92ZXJsYXksbj1lLnd0T3ZlcmxheXMubGVmdE92ZXJsYXksbz1lLnd0VGFibGUscj1lLnd0Vmlld3BvcnQsaT1lLmdldFNldHRpbmcoInRvdGFsUm93cyIpLHM9ZS5nZXRTZXR0aW5nKCJ0b3RhbENvbHVtbnMiKSxhPWUuZ2V0U2V0dGluZygiZml4ZWRSb3dzVG9wIiksbD1lLmdldFNldHRpbmcoImZpeGVkUm93c0JvdHRvbSIpLHU9ZS5nZXRTZXR0aW5nKCJmaXhlZENvbHVtbnNMZWZ0Iik7cmV0dXJue3RvcE92ZXJsYXk6dCxsZWZ0T3ZlcmxheTpuLHd0VGFibGU6byx3dFZpZXdwb3J0OnIsdG90YWxSb3dzOmksdG90YWxDb2x1bW5zOnMsZml4ZWRSb3dzVG9wOmEsZml4ZWRSb3dzQm90dG9tOmwsZml4ZWRDb2x1bW5zTGVmdDp1fX19LHt9KSx3aW5kb3cuV2Fsa29udGFibGVTY3JvbGw9cH0seyJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSwiaGVscGVycy9udW1iZXIiOjQ5fV0sMTg6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVTZWxlY3Rpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBkfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsYT0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KS5hZGRDbGFzcyxsPShyPWUoImJvcmRlciIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuV2Fsa29udGFibGVCb3JkZXIsdT0oaT1lKCJjZWxsL2Nvb3JkcyIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuV2Fsa29udGFibGVDZWxsQ29vcmRzLGM9KHM9ZSgiY2VsbC9yYW5nZSIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuV2Fsa29udGFibGVDZWxsUmFuZ2UsZD1mdW5jdGlvbihlLHQpe3RoaXMuc2V0dGluZ3M9ZSx0aGlzLmNlbGxSYW5nZT10fHxudWxsLHRoaXMuaW5zdGFuY2VCb3JkZXJzPXt9fTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoZCx7Z2V0Qm9yZGVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluc3RhbmNlQm9yZGVyc1tlLmd1aWRdP3RoaXMuaW5zdGFuY2VCb3JkZXJzW2UuZ3VpZF06dm9pZCh0aGlzLmluc3RhbmNlQm9yZGVyc1tlLmd1aWRdPW5ldyBsKGUsdGhpcy5zZXR0aW5ncykpfSxpc0VtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLmNlbGxSYW5nZX0sYWRkOmZ1bmN0aW9uKGUpe3RoaXMuaXNFbXB0eSgpP3RoaXMuY2VsbFJhbmdlPW5ldyBjKGUsZSxlKTp0aGlzLmNlbGxSYW5nZS5leHBhbmQoZSl9LHJlcGxhY2U6ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5pc0VtcHR5KCkpe2lmKHRoaXMuY2VsbFJhbmdlLmZyb20uaXNFcXVhbChlKSlyZXR1cm4gdGhpcy5jZWxsUmFuZ2UuZnJvbT10LCEwO2lmKHRoaXMuY2VsbFJhbmdlLnRvLmlzRXF1YWwoZSkpcmV0dXJuIHRoaXMuY2VsbFJhbmdlLnRvPXQsITB9cmV0dXJuITF9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5jZWxsUmFuZ2U9bnVsbH0sZ2V0Q29ybmVyczpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY2VsbFJhbmdlLmdldFRvcExlZnRDb3JuZXIoKSx0PXRoaXMuY2VsbFJhbmdlLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCk7cmV0dXJuW2Uucm93LGUuY29sLHQucm93LHQuY29sXX0sYWRkQ2xhc3NBdENvb3JkczpmdW5jdGlvbihlLHQsbixvKXt2YXIgcj1lLnd0VGFibGUuZ2V0Q2VsbChuZXcgdSh0LG4pKTsib2JqZWN0Ij09dHlwZW9mIHImJmEocixvKX0sZHJhdzpmdW5jdGlvbihlKXtpZih0aGlzLmlzRW1wdHkoKSl7aWYodGhpcy5zZXR0aW5ncy5ib3JkZXIpe3ZhciB0PXRoaXMuZ2V0Qm9yZGVyKGUpO3QmJnQuZGlzYXBwZWFyKCl9fWVsc2V7Zm9yKHZhciBuLG8scixpPWUud3RUYWJsZS5nZXRSZW5kZXJlZFJvd3NDb3VudCgpLHM9ZS53dFRhYmxlLmdldFJlbmRlcmVkQ29sdW1uc0NvdW50KCksbD10aGlzLmdldENvcm5lcnMoKSx1PTA7cz51O3UrKylvPWUud3RUYWJsZS5jb2x1bW5GaWx0ZXIucmVuZGVyZWRUb1NvdXJjZSh1KSxvPj1sWzFdJiZvPD1sWzNdJiYocj1lLnd0VGFibGUuZ2V0Q29sdW1uSGVhZGVyKG8pLHImJnRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0Q29sdW1uQ2xhc3NOYW1lJiZhKHIsdGhpcy5zZXR0aW5ncy5oaWdobGlnaHRDb2x1bW5DbGFzc05hbWUpKTtmb3IodmFyIGM9MDtpPmM7YysrKXtuPWUud3RUYWJsZS5yb3dGaWx0ZXIucmVuZGVyZWRUb1NvdXJjZShjKSxuPj1sWzBdJiZuPD1sWzJdJiYocj1lLnd0VGFibGUuZ2V0Um93SGVhZGVyKG4pLHImJnRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0Um93Q2xhc3NOYW1lJiZhKHIsdGhpcy5zZXR0aW5ncy5oaWdobGlnaHRSb3dDbGFzc05hbWUpKTtmb3IodmFyIGQ9MDtzPmQ7ZCsrKW89ZS53dFRhYmxlLmNvbHVtbkZpbHRlci5yZW5kZXJlZFRvU291cmNlKGQpLG4+PWxbMF0mJm48PWxbMl0mJm8+PWxbMV0mJm88PWxbM10/dGhpcy5zZXR0aW5ncy5jbGFzc05hbWUmJnRoaXMuYWRkQ2xhc3NBdENvb3JkcyhlLG4sbyx0aGlzLnNldHRpbmdzLmNsYXNzTmFtZSk6bj49bFswXSYmbjw9bFsyXT90aGlzLnNldHRpbmdzLmhpZ2hsaWdodFJvd0NsYXNzTmFtZSYmdGhpcy5hZGRDbGFzc0F0Q29vcmRzKGUsbixvLHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0Um93Q2xhc3NOYW1lKTpvPj1sWzFdJiZvPD1sWzNdJiZ0aGlzLnNldHRpbmdzLmhpZ2hsaWdodENvbHVtbkNsYXNzTmFtZSYmdGhpcy5hZGRDbGFzc0F0Q29vcmRzKGUsbixvLHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0Q29sdW1uQ2xhc3NOYW1lKX1pZihlLmdldFNldHRpbmcoIm9uQmVmb3JlRHJhd0JvcmRlcnMiLGwsdGhpcy5zZXR0aW5ncy5jbGFzc05hbWUpLHRoaXMuc2V0dGluZ3MuYm9yZGVyKXt2YXIgaD10aGlzLmdldEJvcmRlcihlKTtoJiZoLmFwcGVhcihsKX19fX0se30pLHdpbmRvdy5XYWxrb250YWJsZVNlbGVjdGlvbj1kfSx7Ym9yZGVyOjIsImNlbGwvY29vcmRzIjo1LCJjZWxsL3JhbmdlIjo2LCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NX1dLDE5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1dhbGtvbnRhYmxlU2V0dGluZ3M6e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scj0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KS5mYXN0SW5uZXJUZXh0LGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3RoaXMud290PWUsdGhpcy5pbnN0YW5jZT1lLHRoaXMuZGVmYXVsdHM9e3RhYmxlOnZvaWQgMCxkZWJ1ZzohMSxleHRlcm5hbFJvd0NhbGN1bGF0b3I6ITEsc3RyZXRjaEg6Im5vbmUiLGN1cnJlbnRSb3dDbGFzc05hbWU6bnVsbCxjdXJyZW50Q29sdW1uQ2xhc3NOYW1lOm51bGwscHJldmVudE92ZXJmbG93OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGRhdGE6dm9pZCAwLGZpeGVkQ29sdW1uc0xlZnQ6MCxmaXhlZFJvd3NUb3A6MCxmaXhlZFJvd3NCb3R0b206MCxtaW5TcGFyZVJvd3M6MCxyb3dIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuW119LGNvbHVtbkhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdG90YWxSb3dzOnZvaWQgMCx0b3RhbENvbHVtbnM6dm9pZCAwLGNlbGxSZW5kZXJlcjpmdW5jdGlvbihlLHQsbyl7dmFyIGk9bi5nZXRTZXR0aW5nKCJkYXRhIixlLHQpO3Iobyx2b2lkIDA9PT1pfHxudWxsPT09aT8iIjppKX0sY29sdW1uV2lkdGg6ZnVuY3Rpb24oZSl7fSxyb3dIZWlnaHQ6ZnVuY3Rpb24oZSl7fSxkZWZhdWx0Um93SGVpZ2h0OjIzLGRlZmF1bHRDb2x1bW5XaWR0aDo1MCxzZWxlY3Rpb25zOm51bGwsaGlkZUJvcmRlck9uTW91c2VEb3duT3ZlcjohMSx2aWV3cG9ydFJvd0NhbGN1bGF0b3JPdmVycmlkZTpudWxsLHZpZXdwb3J0Q29sdW1uQ2FsY3VsYXRvck92ZXJyaWRlOm51bGwsb25DZWxsTW91c2VEb3duOm51bGwsb25DZWxsTW91c2VPdmVyOm51bGwsb25DZWxsRGJsQ2xpY2s6bnVsbCxvbkNlbGxDb3JuZXJNb3VzZURvd246bnVsbCxvbkNlbGxDb3JuZXJEYmxDbGljazpudWxsLGJlZm9yZURyYXc6bnVsbCxvbkRyYXc6bnVsbCxvbkJlZm9yZURyYXdCb3JkZXJzOm51bGwsb25TY3JvbGxWZXJ0aWNhbGx5Om51bGwsb25TY3JvbGxIb3Jpem9udGFsbHk6bnVsbCxvbkJlZm9yZVRvdWNoU2Nyb2xsOm51bGwsb25BZnRlck1vbWVudHVtU2Nyb2xsOm51bGwsb25CZWZvcmVTdHJldGNoaW5nQ29sdW1uV2lkdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHNjcm9sbGJhcldpZHRoOjEwLHNjcm9sbGJhckhlaWdodDoxMCxyZW5kZXJBbGxSb3dzOiExLGdyb3VwczohMSxyb3dIZWFkZXJXaWR0aDpudWxsLGNvbHVtbkhlYWRlckhlaWdodDpudWxsfSx0aGlzLnNldHRpbmdzPXt9O2Zvcih2YXIgbyBpbiB0aGlzLmRlZmF1bHRzKWlmKHRoaXMuZGVmYXVsdHMuaGFzT3duUHJvcGVydHkobykpaWYodm9pZCAwIT09dFtvXSl0aGlzLnNldHRpbmdzW29dPXRbb107ZWxzZXtpZih2b2lkIDA9PT10aGlzLmRlZmF1bHRzW29dKXRocm93IG5ldyBFcnJvcignQSByZXF1aXJlZCBzZXR0aW5nICInK28rJyIgd2FzIG5vdCBwcm92aWRlZCcpO3RoaXMuc2V0dGluZ3Nbb109dGhpcy5kZWZhdWx0c1tvXX19OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhpLHt1cGRhdGU6ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10KWZvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0aGlzLnNldHRpbmdzW25dPWVbbl0pO2Vsc2UgdGhpcy5zZXR0aW5nc1tlXT10O3JldHVybiB0aGlzLndvdH0sZ2V0U2V0dGluZzpmdW5jdGlvbihlLHQsbixvLHIpewpyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5zZXR0aW5nc1tlXT90aGlzLnNldHRpbmdzW2VdKHQsbixvLHIpOnZvaWQgMCE9PXQmJkFycmF5LmlzQXJyYXkodGhpcy5zZXR0aW5nc1tlXSk/dGhpcy5zZXR0aW5nc1tlXVt0XTp0aGlzLnNldHRpbmdzW2VdfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF0aGlzLnNldHRpbmdzW2VdfX0se30pLHdpbmRvdy5XYWxrb250YWJsZVNldHRpbmdzPWl9LHsiaGVscGVycy9kb20vZWxlbWVudCI6NDV9XSwyMDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZVRhYmxlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gX319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGEsbCx1PShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLGM9dS5nZXRTdHlsZSxkPXUuZ2V0VHJpbW1pbmdDb250YWluZXIsaD11Lmhhc0NsYXNzLGY9dS5pbmRleCxwPXUub2Zmc2V0LGc9dS5yZW1vdmVDbGFzcyxtPXUucmVtb3ZlVGV4dE5vZGVzLHY9dS5vdmVybGF5Q29udGFpbnNFbGVtZW50LHc9dS5jbG9zZXN0LHk9KHI9ZSgiY2VsbC9jb29yZHMiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLldhbGtvbnRhYmxlQ2VsbENvb3JkcyxiPSgoaT1lKCJjZWxsL3JhbmdlIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5XYWxrb250YWJsZUNlbGxSYW5nZSwocz1lKCJmaWx0ZXIvY29sdW1uIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5XYWxrb250YWJsZUNvbHVtbkZpbHRlciksQz0oYT1lKCJmaWx0ZXIvcm93IiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5XYWxrb250YWJsZVJvd0ZpbHRlcixSPShsPWUoInRhYmxlUmVuZGVyZXIiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLldhbGtvbnRhYmxlVGFibGVSZW5kZXJlcixfPWZ1bmN0aW9uKGUsdCl7dGhpcy53b3Q9ZSx0aGlzLmluc3RhbmNlPXRoaXMud290LHRoaXMuVEFCTEU9dCx0aGlzLlRCT0RZPW51bGwsdGhpcy5USEVBRD1udWxsLHRoaXMuQ09MR1JPVVA9bnVsbCx0aGlzLnRhYmxlT2Zmc2V0PTAsdGhpcy5ob2xkZXJPZmZzZXQ9MCxtKHRoaXMuVEFCTEUpLHRoaXMuc3ByZWFkZXI9dGhpcy5jcmVhdGVTcHJlYWRlcih0aGlzLlRBQkxFKSx0aGlzLmhpZGVyPXRoaXMuY3JlYXRlSGlkZXIodGhpcy5zcHJlYWRlciksdGhpcy5ob2xkZXI9dGhpcy5jcmVhdGVIb2xkZXIodGhpcy5oaWRlciksdGhpcy53dFJvb3RFbGVtZW50PXRoaXMuaG9sZGVyLnBhcmVudE5vZGUsdGhpcy5hbGlnbk92ZXJsYXlzV2l0aFRyaW1taW5nQ29udGFpbmVyKCksdGhpcy5maXhUYWJsZURvbVRyZWUoKSx0aGlzLmNvbGdyb3VwQ2hpbGRyZW5MZW5ndGg9dGhpcy5DT0xHUk9VUC5jaGlsZE5vZGVzLmxlbmd0aCx0aGlzLnRoZWFkQ2hpbGRyZW5MZW5ndGg9dGhpcy5USEVBRC5maXJzdENoaWxkP3RoaXMuVEhFQUQuZmlyc3RDaGlsZC5jaGlsZE5vZGVzLmxlbmd0aDowLHRoaXMudGJvZHlDaGlsZHJlbkxlbmd0aD10aGlzLlRCT0RZLmNoaWxkTm9kZXMubGVuZ3RoLHRoaXMucm93RmlsdGVyPW51bGwsdGhpcy5jb2x1bW5GaWx0ZXI9bnVsbH07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKF8se2ZpeFRhYmxlRG9tVHJlZTpmdW5jdGlvbigpe3RoaXMuVEJPRFk9dGhpcy5UQUJMRS5xdWVyeVNlbGVjdG9yKCJ0Ym9keSIpLHRoaXMuVEJPRFl8fCh0aGlzLlRCT0RZPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IiksdGhpcy5UQUJMRS5hcHBlbmRDaGlsZCh0aGlzLlRCT0RZKSksdGhpcy5USEVBRD10aGlzLlRBQkxFLnF1ZXJ5U2VsZWN0b3IoInRoZWFkIiksdGhpcy5USEVBRHx8KHRoaXMuVEhFQUQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGhlYWQiKSx0aGlzLlRBQkxFLmluc2VydEJlZm9yZSh0aGlzLlRIRUFELHRoaXMuVEJPRFkpKSx0aGlzLkNPTEdST1VQPXRoaXMuVEFCTEUucXVlcnlTZWxlY3RvcigiY29sZ3JvdXAiKSx0aGlzLkNPTEdST1VQfHwodGhpcy5DT0xHUk9VUD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjb2xncm91cCIpLHRoaXMuVEFCTEUuaW5zZXJ0QmVmb3JlKHRoaXMuQ09MR1JPVVAsdGhpcy5USEVBRCkpLHRoaXMud290LmdldFNldHRpbmcoImNvbHVtbkhlYWRlcnMiKS5sZW5ndGgmJiF0aGlzLlRIRUFELmNoaWxkTm9kZXMubGVuZ3RoJiZ0aGlzLlRIRUFELmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlRSIikpfSxjcmVhdGVTcHJlYWRlcjpmdW5jdGlvbihlKXt2YXIgdCxuPWUucGFyZW50Tm9kZTtyZXR1cm4gbiYmMT09PW4ubm9kZVR5cGUmJmgobiwid3RIb2xkZXIiKXx8KHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdC5jbGFzc05hbWU9Ind0U3ByZWFkZXIiLG4mJm4uaW5zZXJ0QmVmb3JlKHQsZSksdC5hcHBlbmRDaGlsZChlKSksdC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiLHR9LGNyZWF0ZUhpZGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5wYXJlbnROb2RlO3JldHVybiBuJiYxPT09bi5ub2RlVHlwZSYmaChuLCJ3dEhvbGRlciIpfHwodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0LmNsYXNzTmFtZT0id3RIaWRlciIsbiYmbi5pbnNlcnRCZWZvcmUodCxlKSx0LmFwcGVuZENoaWxkKGUpKSx0fSxjcmVhdGVIb2xkZXI6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnBhcmVudE5vZGU7cmV0dXJuIG4mJjE9PT1uLm5vZGVUeXBlJiZoKG4sInd0SG9sZGVyIil8fCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIix0LmNsYXNzTmFtZT0id3RIb2xkZXIiLG4mJm4uaW5zZXJ0QmVmb3JlKHQsZSksdGhpcy5pc1dvcmtpbmdPbkNsb25lKCl8fCh0LnBhcmVudE5vZGUuY2xhc3NOYW1lKz0iaHRfbWFzdGVyIGhhbmRzb250YWJsZSIpLHQuYXBwZW5kQ2hpbGQoZSkpLHR9LGFsaWduT3ZlcmxheXNXaXRoVHJpbW1pbmdDb250YWluZXI6ZnVuY3Rpb24oKXt2YXIgZT1kKHRoaXMud3RSb290RWxlbWVudCk7aWYoIXRoaXMuaXNXb3JraW5nT25DbG9uZSgpKWlmKHRoaXMuaG9sZGVyLnBhcmVudE5vZGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIixlPT09d2luZG93KXt2YXIgdD10aGlzLndvdC5nZXRTZXR0aW5nKCJwcmV2ZW50T3ZlcmZsb3ciKTt0fHwodGhpcy5ob2xkZXIuc3R5bGUub3ZlcmZsb3c9InZpc2libGUiLHRoaXMud3RSb290RWxlbWVudC5zdHlsZS5vdmVyZmxvdz0idmlzaWJsZSIpfWVsc2UgdGhpcy5ob2xkZXIuc3R5bGUud2lkdGg9YyhlLCJ3aWR0aCIpLHRoaXMuaG9sZGVyLnN0eWxlLmhlaWdodD1jKGUsImhlaWdodCIpLHRoaXMuaG9sZGVyLnN0eWxlLm92ZXJmbG93PSIifSxpc1dvcmtpbmdPbkNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLndvdC5jbG9uZVNvdXJjZX0sZHJhdzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmluc3RhbmNlLmdldFNldHRpbmcoInRvdGFsUm93cyIpO2lmKHRoaXMuaXNXb3JraW5nT25DbG9uZSgpfHwodGhpcy5ob2xkZXJPZmZzZXQ9cCh0aGlzLmhvbGRlciksZT10aGlzLndvdC53dFZpZXdwb3J0LmNyZWF0ZVJlbmRlckNhbGN1bGF0b3JzKGUpKSxlKXRoaXMuaXNXb3JraW5nT25DbG9uZSgpfHx0aGlzLndvdC53dFZpZXdwb3J0LmNyZWF0ZVZpc2libGVDYWxjdWxhdG9ycygpLHRoaXMud290Lnd0T3ZlcmxheXMmJnRoaXMud290Lnd0T3ZlcmxheXMucmVmcmVzaCghMCk7ZWxzZXt0aGlzLmlzV29ya2luZ09uQ2xvbmUoKT90aGlzLnRhYmxlT2Zmc2V0PXRoaXMud290LmNsb25lU291cmNlLnd0VGFibGUudGFibGVPZmZzZXQ6dGhpcy50YWJsZU9mZnNldD1wKHRoaXMuVEFCTEUpO3ZhciBuO249V2Fsa29udGFibGVPdmVybGF5LmlzT3ZlcmxheVR5cGVPZih0aGlzLndvdC5jbG9uZU92ZXJsYXksV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0RFQlVHKXx8V2Fsa29udGFibGVPdmVybGF5LmlzT3ZlcmxheVR5cGVPZih0aGlzLndvdC5jbG9uZU92ZXJsYXksV2Fsa29udGFibGVPdmVybGF5LkNMT05FX1RPUCl8fFdhbGtvbnRhYmxlT3ZlcmxheS5pc092ZXJsYXlUeXBlT2YodGhpcy53b3QuY2xvbmVPdmVybGF5LFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9UT1BfTEVGVF9DT1JORVIpPzA6V2Fsa29udGFibGVPdmVybGF5LmlzT3ZlcmxheVR5cGVPZih0aGlzLmluc3RhbmNlLmNsb25lT3ZlcmxheSxXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfQk9UVE9NKXx8V2Fsa29udGFibGVPdmVybGF5LmlzT3ZlcmxheVR5cGVPZih0aGlzLmluc3RhbmNlLmNsb25lT3ZlcmxheSxXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfQk9UVE9NX0xFRlRfQ09STkVSKT9NYXRoLm1heCh0LXRoaXMud290LmdldFNldHRpbmcoImZpeGVkUm93c0JvdHRvbSIpLDApOnRoaXMud290Lnd0Vmlld3BvcnQucm93c1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRSb3c7dmFyIG87bz1XYWxrb250YWJsZU92ZXJsYXkuaXNPdmVybGF5VHlwZU9mKHRoaXMud290LmNsb25lT3ZlcmxheSxXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfREVCVUcpfHxXYWxrb250YWJsZU92ZXJsYXkuaXNPdmVybGF5VHlwZU9mKHRoaXMud290LmNsb25lT3ZlcmxheSxXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfTEVGVCl8fFdhbGtvbnRhYmxlT3ZlcmxheS5pc092ZXJsYXlUeXBlT2YodGhpcy53b3QuY2xvbmVPdmVybGF5LFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9UT1BfTEVGVF9DT1JORVIpfHxXYWxrb250YWJsZU92ZXJsYXkuaXNPdmVybGF5VHlwZU9mKHRoaXMud290LmNsb25lT3ZlcmxheSxXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfQk9UVE9NX0xFRlRfQ09STkVSKT8wOnRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRDb2x1bW4sdGhpcy5yb3dGaWx0ZXI9bmV3IEMobix0LHRoaXMud290LmdldFNldHRpbmcoImNvbHVtbkhlYWRlcnMiKS5sZW5ndGgpLHRoaXMuY29sdW1uRmlsdGVyPW5ldyBiKG8sdGhpcy53b3QuZ2V0U2V0dGluZygidG90YWxDb2x1bW5zIiksdGhpcy53b3QuZ2V0U2V0dGluZygicm93SGVhZGVycyIpLmxlbmd0aCksdGhpcy5fZG9EcmF3KCksdGhpcy5hbGlnbk92ZXJsYXlzV2l0aFRyaW1taW5nQ29udGFpbmVyKCl9cmV0dXJuIHRoaXMucmVmcmVzaFNlbGVjdGlvbnMoZSksdGhpcy5pc1dvcmtpbmdPbkNsb25lKCl8fCh0aGlzLndvdC53dE92ZXJsYXlzLnRvcE92ZXJsYXkucmVzZXRGaXhlZFBvc2l0aW9uKCksdGhpcy53b3Qud3RPdmVybGF5cy5ib3R0b21PdmVybGF5LmNsb25lJiZ0aGlzLndvdC53dE92ZXJsYXlzLmJvdHRvbU92ZXJsYXkucmVzZXRGaXhlZFBvc2l0aW9uKCksdGhpcy53b3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5yZXNldEZpeGVkUG9zaXRpb24oKSx0aGlzLndvdC53dE92ZXJsYXlzLnRvcExlZnRDb3JuZXJPdmVybGF5JiZ0aGlzLndvdC53dE92ZXJsYXlzLnRvcExlZnRDb3JuZXJPdmVybGF5LnJlc2V0Rml4ZWRQb3NpdGlvbigpLHRoaXMuaW5zdGFuY2Uud3RPdmVybGF5cy5ib3R0b21MZWZ0Q29ybmVyT3ZlcmxheSYmdGhpcy5pbnN0YW5jZS53dE92ZXJsYXlzLmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5LmNsb25lJiZ0aGlzLndvdC53dE92ZXJsYXlzLmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5LnJlc2V0Rml4ZWRQb3NpdGlvbigpKSx0aGlzLndvdC5kcmF3bj0hMCx0aGlzfSxfZG9EcmF3OmZ1bmN0aW9uKCl7dmFyIGU9bmV3IFIodGhpcyk7ZS5yZW5kZXIoKX0scmVtb3ZlQ2xhc3NGcm9tQ2VsbHM6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuVEFCTEUucXVlcnlTZWxlY3RvckFsbCgiLiIrZSksbj0wLG89dC5sZW5ndGg7bz5uO24rKylnKHRbbl0sZSl9LHJlZnJlc2hTZWxlY3Rpb25zOmZ1bmN0aW9uKGUpe2lmKHRoaXMud290LnNlbGVjdGlvbnMpe3ZhciB0PXRoaXMud290LnNlbGVjdGlvbnMubGVuZ3RoO2lmKGUpZm9yKHZhciBuPTA7dD5uO24rKyl0aGlzLndvdC5zZWxlY3Rpb25zW25dLnNldHRpbmdzLmNsYXNzTmFtZSYmdGhpcy5yZW1vdmVDbGFzc0Zyb21DZWxscyh0aGlzLndvdC5zZWxlY3Rpb25zW25dLnNldHRpbmdzLmNsYXNzTmFtZSksdGhpcy53b3Quc2VsZWN0aW9uc1tuXS5zZXR0aW5ncy5oaWdobGlnaHRSb3dDbGFzc05hbWUmJnRoaXMucmVtb3ZlQ2xhc3NGcm9tQ2VsbHModGhpcy53b3Quc2VsZWN0aW9uc1tuXS5zZXR0aW5ncy5oaWdobGlnaHRSb3dDbGFzc05hbWUpLHRoaXMud290LnNlbGVjdGlvbnNbbl0uc2V0dGluZ3MuaGlnaGxpZ2h0Q29sdW1uQ2xhc3NOYW1lJiZ0aGlzLnJlbW92ZUNsYXNzRnJvbUNlbGxzKHRoaXMud290LnNlbGVjdGlvbnNbbl0uc2V0dGluZ3MuaGlnaGxpZ2h0Q29sdW1uQ2xhc3NOYW1lKTtmb3IodmFyIG89MDt0Pm87bysrKXRoaXMud290LnNlbGVjdGlvbnNbb10uZHJhdyh0aGlzLndvdCxlKX19LGdldENlbGw6ZnVuY3Rpb24oZSl7aWYodGhpcy5pc1Jvd0JlZm9yZVJlbmRlcmVkUm93cyhlLnJvdykpcmV0dXJuLTE7aWYodGhpcy5pc1Jvd0FmdGVyUmVuZGVyZWRSb3dzKGUucm93KSlyZXR1cm4tMjt2YXIgdD10aGlzLlRCT0RZLmNoaWxkTm9kZXNbdGhpcy5yb3dGaWx0ZXIuc291cmNlVG9SZW5kZXJlZChlLnJvdyldO3JldHVybiB0P3QuY2hpbGROb2Rlc1t0aGlzLmNvbHVtbkZpbHRlci5zb3VyY2VDb2x1bW5Ub1Zpc2libGVSb3dIZWFkZWRDb2x1bW4oZS5jb2wpXTp2b2lkIDB9LGdldENvbHVtbkhlYWRlcjpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAsbj10aGlzLlRIRUFELmNoaWxkTm9kZXNbdF07cmV0dXJuIG4/bi5jaGlsZE5vZGVzW3RoaXMuY29sdW1uRmlsdGVyLnNvdXJjZUNvbHVtblRvVmlzaWJsZVJvd0hlYWRlZENvbHVtbihlKV06dm9pZCAwfSxnZXRSb3dIZWFkZXI6ZnVuY3Rpb24oZSl7aWYoMD09PXRoaXMuY29sdW1uRmlsdGVyLnNvdXJjZUNvbHVtblRvVmlzaWJsZVJvd0hlYWRlZENvbHVtbigwKSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLlRCT0RZLmNoaWxkTm9kZXNbdGhpcy5yb3dGaWx0ZXIuc291cmNlVG9SZW5kZXJlZChlKV07cmV0dXJuIHQ/dC5jaGlsZE5vZGVzWzBdOnZvaWQgMH0sZ2V0Q29vcmRzOmZ1bmN0aW9uKGUpeyJURCIhPT1lLm5vZGVOYW1lJiYiVEgiIT09ZS5ub2RlTmFtZSYmKGU9dyhlLFsiVEQiLCJUSCJdKSk7dmFyIHQ9ZS5wYXJlbnROb2RlLG49dC5wYXJlbnROb2RlLG89Zih0KSxyPWUuY2VsbEluZGV4O3JldHVybiB2KFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9UT1BfTEVGVF9DT1JORVIsZSl8fHYoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX1RPUCxlKT8iVEhFQUQiPT09bi5ub2RlTmFtZSYmKG8tPW4uY2hpbGROb2Rlcy5sZW5ndGgpOm89bj09PXRoaXMuVEhFQUQ/dGhpcy5yb3dGaWx0ZXIudmlzaWJsZUNvbEhlYWRlZFJvd1RvU291cmNlUm93KG8pOnRoaXMucm93RmlsdGVyLnJlbmRlcmVkVG9Tb3VyY2Uobykscj12KFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9UT1BfTEVGVF9DT1JORVIsZSl8fHYoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0xFRlQsZSk/dGhpcy5jb2x1bW5GaWx0ZXIub2Zmc2V0dGVkVEgocik6dGhpcy5jb2x1bW5GaWx0ZXIudmlzaWJsZVJvd0hlYWRlZENvbHVtblRvU291cmNlQ29sdW1uKHIpLG5ldyB5KG8scil9LGdldFRyRm9yUm93OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlRCT0RZLmNoaWxkTm9kZXNbdGhpcy5yb3dGaWx0ZXIuc291cmNlVG9SZW5kZXJlZChlKV19LGdldEZpcnN0UmVuZGVyZWRSb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3Qud3RWaWV3cG9ydC5yb3dzUmVuZGVyQ2FsY3VsYXRvci5zdGFydFJvd30sZ2V0Rmlyc3RWaXNpYmxlUm93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud290Lnd0Vmlld3BvcnQucm93c1Zpc2libGVDYWxjdWxhdG9yLnN0YXJ0Um93fSxnZXRGaXJzdFJlbmRlcmVkQ29sdW1uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRDb2x1bW59LGdldEZpcnN0VmlzaWJsZUNvbHVtbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvdC53dFZpZXdwb3J0LmNvbHVtbnNWaXNpYmxlQ2FsY3VsYXRvci5zdGFydENvbHVtbn0sZ2V0TGFzdFJlbmRlcmVkUm93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud290Lnd0Vmlld3BvcnQucm93c1JlbmRlckNhbGN1bGF0b3IuZW5kUm93fSxnZXRMYXN0VmlzaWJsZVJvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvdC53dFZpZXdwb3J0LnJvd3NWaXNpYmxlQ2FsY3VsYXRvci5lbmRSb3d9LGdldExhc3RSZW5kZXJlZENvbHVtbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvdC53dFZpZXdwb3J0LmNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yLmVuZENvbHVtbn0sZ2V0TGFzdFZpc2libGVDb2x1bW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3Qud3RWaWV3cG9ydC5jb2x1bW5zVmlzaWJsZUNhbGN1bGF0b3IuZW5kQ29sdW1ufSxpc1Jvd0JlZm9yZVJlbmRlcmVkUm93czpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yb3dGaWx0ZXIuc291cmNlVG9SZW5kZXJlZChlKTwwJiZlPj0wfSxpc1Jvd0FmdGVyVmlld3BvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm93RmlsdGVyLnNvdXJjZVRvUmVuZGVyZWQoZSk+dGhpcy5nZXRMYXN0VmlzaWJsZVJvdygpfSxpc1Jvd0FmdGVyUmVuZGVyZWRSb3dzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvd0ZpbHRlci5zb3VyY2VUb1JlbmRlcmVkKGUpPnRoaXMuZ2V0TGFzdFJlbmRlcmVkUm93KCl9LGlzQ29sdW1uQmVmb3JlVmlld3BvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29sdW1uRmlsdGVyLnNvdXJjZVRvUmVuZGVyZWQoZSk8MCYmZT49MH0saXNDb2x1bW5BZnRlclZpZXdwb3J0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbHVtbkZpbHRlci5zb3VyY2VUb1JlbmRlcmVkKGUpPnRoaXMuZ2V0TGFzdFZpc2libGVDb2x1bW4oKX0saXNMYXN0Um93RnVsbHlWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0TGFzdFZpc2libGVSb3coKT09PXRoaXMuZ2V0TGFzdFJlbmRlcmVkUm93KCl9LGlzTGFzdENvbHVtbkZ1bGx5VmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExhc3RWaXNpYmxlQ29sdW1uKCk9PT10aGlzLmdldExhc3RSZW5kZXJlZENvbHVtbigpfSxnZXRSZW5kZXJlZENvbHVtbnNDb3VudDpmdW5jdGlvbigpe3ZhciBlPXRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3IuY291bnQsdD10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbENvbHVtbnMiKTtpZih0aGlzLndvdC5pc092ZXJsYXlOYW1lKFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9ERUJVRykpZT10O2Vsc2UgaWYodGhpcy53b3QuaXNPdmVybGF5TmFtZShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfTEVGVCl8fHRoaXMud290LmlzT3ZlcmxheU5hbWUoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX1RPUF9MRUZUX0NPUk5FUil8fHRoaXMud290LmlzT3ZlcmxheU5hbWUoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0JPVFRPTV9MRUZUX0NPUk5FUikpcmV0dXJuIE1hdGgubWluKHRoaXMud290LmdldFNldHRpbmcoImZpeGVkQ29sdW1uc0xlZnQiKSx0KTtyZXR1cm4gZX0sZ2V0UmVuZGVyZWRSb3dzQ291bnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndvdC53dFZpZXdwb3J0LnJvd3NSZW5kZXJDYWxjdWxhdG9yLmNvdW50LHQ9dGhpcy53b3QuZ2V0U2V0dGluZygidG90YWxSb3dzIik7cmV0dXJuIHRoaXMud290LmlzT3ZlcmxheU5hbWUoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0RFQlVHKT9lPXQ6dGhpcy53b3QuaXNPdmVybGF5TmFtZShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfVE9QKXx8dGhpcy53b3QuaXNPdmVybGF5TmFtZShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfVE9QX0xFRlRfQ09STkVSKT9lPU1hdGgubWluKHRoaXMud290LmdldFNldHRpbmcoImZpeGVkUm93c1RvcCIpLHQpOih0aGlzLndvdC5pc092ZXJsYXlOYW1lKFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9CT1RUT00pfHx0aGlzLndvdC5pc092ZXJsYXlOYW1lKFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9CT1RUT01fTEVGVF9DT1JORVIpKSYmKGU9TWF0aC5taW4odGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRSb3dzQm90dG9tIiksdCkpLGV9LGdldFZpc2libGVSb3dzQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3Qud3RWaWV3cG9ydC5yb3dzVmlzaWJsZUNhbGN1bGF0b3IuY291bnR9LGFsbFJvd3NJblZpZXdwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud290LmdldFNldHRpbmcoInRvdGFsUm93cyIpPT10aGlzLmdldFZpc2libGVSb3dzQ291bnQoKX0sZ2V0Um93SGVpZ2h0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMud290Lnd0U2V0dGluZ3Muc2V0dGluZ3Mucm93SGVpZ2h0KGUpLG49dGhpcy53b3Qud3RWaWV3cG9ydC5vdmVyc2l6ZWRSb3dzW2VdO3JldHVybiB2b2lkIDAhPT1uJiYodD12b2lkIDA9PT10P246TWF0aC5tYXgodCxuKSksdH0sZ2V0Q29sdW1uSGVhZGVySGVpZ2h0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMud290Lnd0U2V0dGluZ3Muc2V0dGluZ3MuZGVmYXVsdFJvd0hlaWdodCxuPXRoaXMud290Lnd0Vmlld3BvcnQub3ZlcnNpemVkQ29sdW1uSGVhZGVyc1tlXTtyZXR1cm4gdm9pZCAwIT09biYmKHQ9dD9NYXRoLm1heCh0LG4pOm4pLHR9LGdldFZpc2libGVDb2x1bW5zQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3Qud3RWaWV3cG9ydC5jb2x1bW5zVmlzaWJsZUNhbGN1bGF0b3IuY291bnR9LGFsbENvbHVtbnNJblZpZXdwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud290LmdldFNldHRpbmcoInRvdGFsQ29sdW1ucyIpPT10aGlzLmdldFZpc2libGVDb2x1bW5zQ291bnQoKX0sZ2V0Q29sdW1uV2lkdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy53b3Qud3RTZXR0aW5ncy5zZXR0aW5ncy5jb2x1bW5XaWR0aDtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdD90PXQoZSk6Im9iamVjdCI9PXR5cGVvZiB0JiYodD10W2VdKSx0fHx0aGlzLndvdC53dFNldHRpbmdzLnNldHRpbmdzLmRlZmF1bHRDb2x1bW5XaWR0aH0sZ2V0U3RyZXRjaGVkQ29sdW1uV2lkdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRDb2x1bW5XaWR0aChlKSxuPW51bGw9PXQ/dGhpcy5pbnN0YW5jZS53dFNldHRpbmdzLnNldHRpbmdzLmRlZmF1bHRDb2x1bW5XaWR0aDp0LG89dGhpcy53b3Qud3RWaWV3cG9ydC5jb2x1bW5zUmVuZGVyQ2FsY3VsYXRvcjtpZihvKXt2YXIgcj1vLmdldFN0cmV0Y2hlZENvbHVtbldpZHRoKGUsbik7ciYmKG49cil9cmV0dXJuIG59fSx7fSksd2luZG93LldhbGtvbnRhYmxlVGFibGU9X30seyJjZWxsL2Nvb3JkcyI6NSwiY2VsbC9yYW5nZSI6NiwiZmlsdGVyL2NvbHVtbiI6OSwiZmlsdGVyL3JvdyI6MTAsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LHRhYmxlUmVuZGVyZXI6MjF9XSwyMTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEgiKTtyZXR1cm4gdC5pbnNlcnRCZWZvcmUobixlKSx0LnJlbW92ZUNoaWxkKGUpLG59ZnVuY3Rpb24gcihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlREIik7cmV0dXJuIHQuaW5zZXJ0QmVmb3JlKG4sZSksdC5yZW1vdmVDaGlsZChlKSxufU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1dhbGtvbnRhYmxlVGFibGVSZW5kZXJlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgaSxzPShpPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLGE9cy5hZGRDbGFzcyxsPXMuZW1wdHksdT1zLmdldFNjcm9sbGJhcldpZHRoLGM9cy5oYXNDbGFzcyxkPXMuaW5uZXJIZWlnaHQsaD1zLm91dGVyV2lkdGgsZj1mdW5jdGlvbihlKXt0aGlzLnd0VGFibGU9ZSx0aGlzLndvdD1lLmluc3RhbmNlLHRoaXMuaW5zdGFuY2U9ZS5pbnN0YW5jZSx0aGlzLnJvd0ZpbHRlcj1lLnJvd0ZpbHRlcix0aGlzLmNvbHVtbkZpbHRlcj1lLmNvbHVtbkZpbHRlcix0aGlzLlRBQkxFPWUuVEFCTEUsdGhpcy5USEVBRD1lLlRIRUFELHRoaXMuVEJPRFk9ZS5UQk9EWSx0aGlzLkNPTEdST1VQPWUuQ09MR1JPVVAsdGhpcy5yb3dIZWFkZXJzPVtdLHRoaXMucm93SGVhZGVyQ291bnQ9MCx0aGlzLmNvbHVtbkhlYWRlcnM9W10sdGhpcy5jb2x1bW5IZWFkZXJDb3VudD0wLHRoaXMuZml4ZWRSb3dzVG9wPTAsdGhpcy5maXhlZFJvd3NCb3R0b209MH07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGYse3JlbmRlcjpmdW5jdGlvbigpe3RoaXMud3RUYWJsZS5pc1dvcmtpbmdPbkNsb25lKCl8fHRoaXMud290LmdldFNldHRpbmcoImJlZm9yZURyYXciLCEwKSx0aGlzLnJvd0hlYWRlcnM9dGhpcy53b3QuZ2V0U2V0dGluZygicm93SGVhZGVycyIpLHRoaXMucm93SGVhZGVyQ291bnQ9dGhpcy5yb3dIZWFkZXJzLmxlbmd0aCx0aGlzLmZpeGVkUm93c1RvcD10aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NUb3AiKSx0aGlzLmZpeGVkUm93c0JvdHRvbT10aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NCb3R0b20iKSx0aGlzLmNvbHVtbkhlYWRlcnM9dGhpcy53b3QuZ2V0U2V0dGluZygiY29sdW1uSGVhZGVycyIpLHRoaXMuY29sdW1uSGVhZGVyQ291bnQ9dGhpcy5jb2x1bW5IZWFkZXJzLmxlbmd0aDt2YXIgZSx0PXRoaXMud3RUYWJsZS5nZXRSZW5kZXJlZENvbHVtbnNDb3VudCgpLG49dGhpcy53dFRhYmxlLmdldFJlbmRlcmVkUm93c0NvdW50KCksbz10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbENvbHVtbnMiKSxyPXRoaXMud290LmdldFNldHRpbmcoInRvdGFsUm93cyIpLGk9ITE7aWYoKFdhbGtvbnRhYmxlT3ZlcmxheS5pc092ZXJsYXlUeXBlT2YodGhpcy53b3QuY2xvbmVPdmVybGF5LFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9CT1RUT00pfHxXYWxrb250YWJsZU92ZXJsYXkuaXNPdmVybGF5VHlwZU9mKHRoaXMud290LmNsb25lT3ZlcmxheSxXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfQk9UVE9NX0xFRlRfQ09STkVSKSkmJih0aGlzLmNvbHVtbkhlYWRlcnM9W10sdGhpcy5jb2x1bW5IZWFkZXJDb3VudD0wKSxvPjAmJih0aGlzLmFkanVzdEF2YWlsYWJsZU5vZGVzKCksaT0hMCx0aGlzLnJlbmRlckNvbHVtbkhlYWRlcnMoKSx0aGlzLnJlbmRlclJvd3MocixuLHQpLHRoaXMud3RUYWJsZS5pc1dvcmtpbmdPbkNsb25lKCl8fChlPXRoaXMud290Lnd0Vmlld3BvcnQuZ2V0V29ya3NwYWNlV2lkdGgoKSx0aGlzLndvdC53dFZpZXdwb3J0LmNvbnRhaW5lcldpZHRoPW51bGwpLHRoaXMuYWRqdXN0Q29sdW1uSGVhZGVySGVpZ2h0cygpLHRoaXMuYWRqdXN0Q29sdW1uV2lkdGhzKHQpLHRoaXMubWFya092ZXJzaXplZENvbHVtbnMoKSksaXx8dGhpcy5hZGp1c3RBdmFpbGFibGVOb2RlcygpLHRoaXMucmVtb3ZlUmVkdW5kYW50Um93cyhuKSwoIXRoaXMud3RUYWJsZS5pc1dvcmtpbmdPbkNsb25lKCl8fHRoaXMud290LmlzT3ZlcmxheU5hbWUoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0JPVFRPTSkpJiZ0aGlzLm1hcmtPdmVyc2l6ZWRSb3dzKCksdGhpcy53dFRhYmxlLmlzV29ya2luZ09uQ2xvbmUoKSl0aGlzLndvdC5pc092ZXJsYXlOYW1lKFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9CT1RUT00pJiZ0aGlzLndvdC5jbG9uZVNvdXJjZS53dE92ZXJsYXlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpO2Vsc2V7dGhpcy53b3Qud3RWaWV3cG9ydC5jcmVhdGVWaXNpYmxlQ2FsY3VsYXRvcnMoKSx0aGlzLndvdC53dE92ZXJsYXlzLnJlZnJlc2goITEpO3ZhciBzPWgodGhpcy53dFRhYmxlLmhpZGVyKSxhPWgodGhpcy53dFRhYmxlLlRBQkxFKTtpZigwIT09cyYmYSE9PXMmJnRoaXMuYWRqdXN0Q29sdW1uV2lkdGhzKHQpLHRoaXMud290Lnd0T3ZlcmxheXMuYXBwbHlUb0RPTSgpLGUhPT10aGlzLndvdC53dFZpZXdwb3J0LmdldFdvcmtzcGFjZVdpZHRoKCkpe3RoaXMud290Lnd0Vmlld3BvcnQuY29udGFpbmVyV2lkdGg9bnVsbDt2YXIgbD10aGlzLnd0VGFibGUuZ2V0Rmlyc3RSZW5kZXJlZENvbHVtbigpLHU9dGhpcy53dFRhYmxlLmdldExhc3RSZW5kZXJlZENvbHVtbigpLGM9dGhpcy53b3QuZ2V0U2V0dGluZygicm93SGVhZGVyV2lkdGgiKTtpZihudWxsIT1jKWZvcih2YXIgZD0wO2Q8dGhpcy5yb3dIZWFkZXJDb3VudDtkKyspdGhpcy5DT0xHUk9VUC5jaGlsZE5vZGVzW2RdLnN0eWxlLndpZHRoPShpc05hTihjKT9jW2RdOmMpKyJweCI7Zm9yKHZhciBmPWw7dT5mO2YrKyl7dmFyIHA9dGhpcy53dFRhYmxlLmdldFN0cmV0Y2hlZENvbHVtbldpZHRoKGYpLGc9dGhpcy5jb2x1bW5GaWx0ZXIuc291cmNlVG9SZW5kZXJlZChmKTt0aGlzLkNPTEdST1VQLmNoaWxkTm9kZXNbZyt0aGlzLnJvd0hlYWRlckNvdW50XS5zdHlsZS53aWR0aD1wKyJweCJ9fXRoaXMud290LmdldFNldHRpbmcoIm9uRHJhdyIsITApfX0scmVtb3ZlUmVkdW5kYW50Um93czpmdW5jdGlvbihlKXtmb3IoO3RoaXMud3RUYWJsZS50Ym9keUNoaWxkcmVuTGVuZ3RoPmU7KXRoaXMuVEJPRFkucmVtb3ZlQ2hpbGQodGhpcy5UQk9EWS5sYXN0Q2hpbGQpLHRoaXMud3RUYWJsZS50Ym9keUNoaWxkcmVuTGVuZ3RoLS19LHJlbmRlclJvd3M6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgbyxyLGk9MCxzPXRoaXMucm93RmlsdGVyLnJlbmRlcmVkVG9Tb3VyY2UoaSksYT10aGlzLnd0VGFibGUuaXNXb3JraW5nT25DbG9uZSgpO2U+cyYmcz49MCYmKGk+MWUzJiZjb25zb2xlLmVycm9yKCJTZWN1cml0eSBicmFrZTogVG9vIG11Y2ggVFJzLiBQbGVhc2UgZGVmaW5lIGhlaWdodCBmb3IgeW91ciB0YWJsZSwgd2hpY2ggd2lsbCBlbmZvcmNlIHNjcm9sbGJhcnMuIiksdm9pZCAwPT09dHx8aSE9PXQpOyl7aWYocj10aGlzLmdldE9yQ3JlYXRlVHJGb3JSb3coaSxyKSx0aGlzLnJlbmRlclJvd0hlYWRlcnMocyxyKSx0aGlzLmFkanVzdENvbHVtbnMocixuK3RoaXMucm93SGVhZGVyQ291bnQpLG89dGhpcy5yZW5kZXJDZWxscyhzLHIsbiksKCFhfHx0aGlzLndvdC5pc092ZXJsYXlOYW1lKFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9CT1RUT00pKSYmdGhpcy5yZXNldE92ZXJzaXplZFJvdyhzKSxyLmZpcnN0Q2hpbGQpe3ZhciBsPXRoaXMud290Lnd0VGFibGUuZ2V0Um93SGVpZ2h0KHMpO2w/KGwtLSxyLmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0PWwrInB4Iik6ci5maXJzdENoaWxkLnN0eWxlLmhlaWdodD0iIn1pKysscz10aGlzLnJvd0ZpbHRlci5yZW5kZXJlZFRvU291cmNlKGkpfX0scmVzZXRPdmVyc2l6ZWRSb3c6ZnVuY3Rpb24oZSl7dGhpcy53b3QuZ2V0U2V0dGluZygiZXh0ZXJuYWxSb3dDYWxjdWxhdG9yIil8fHRoaXMud290Lnd0Vmlld3BvcnQub3ZlcnNpemVkUm93cyYmdGhpcy53b3Qud3RWaWV3cG9ydC5vdmVyc2l6ZWRSb3dzW2VdJiYodGhpcy53b3Qud3RWaWV3cG9ydC5vdmVyc2l6ZWRSb3dzW2VdPXZvaWQgMCl9LG1hcmtPdmVyc2l6ZWRSb3dzOmZ1bmN0aW9uKCl7aWYoIXRoaXMud290LmdldFNldHRpbmcoImV4dGVybmFsUm93Q2FsY3VsYXRvciIpKXt2YXIgZSx0LG4sbyxyLGk9dGhpcy5pbnN0YW5jZS53dFRhYmxlLlRCT0RZLmNoaWxkTm9kZXMubGVuZ3RoLHM9aSp0aGlzLmluc3RhbmNlLnd0U2V0dGluZ3Muc2V0dGluZ3MuZGVmYXVsdFJvd0hlaWdodCxhPWQodGhpcy5pbnN0YW5jZS53dFRhYmxlLlRCT0RZKS0xO3RoaXMuaW5zdGFuY2UuZ2V0U2V0dGluZygidG90YWxSb3dzIik7aWYocyE9PWF8fHRoaXMuaW5zdGFuY2UuZ2V0U2V0dGluZygiZml4ZWRSb3dzQm90dG9tIikpZm9yKDtpOylpLS0sbj10aGlzLmluc3RhbmNlLnd0VGFibGUucm93RmlsdGVyLnJlbmRlcmVkVG9Tb3VyY2UoaSksZT10aGlzLmluc3RhbmNlLnd0VGFibGUuZ2V0Um93SGVpZ2h0KG4pLG89dGhpcy5pbnN0YW5jZS53dFRhYmxlLmdldFRyRm9yUm93KG4pLHI9by5xdWVyeVNlbGVjdG9yKCJ0aCIpLHQ9cj9kKHIpOmQobyktMSwoIWUmJnRoaXMuaW5zdGFuY2Uud3RTZXR0aW5ncy5zZXR0aW5ncy5kZWZhdWx0Um93SGVpZ2h0PHR8fHQ+ZSkmJih0aGlzLmluc3RhbmNlLnd0Vmlld3BvcnQub3ZlcnNpemVkUm93c1tuXT0rK3QpfX0sbWFya092ZXJzaXplZENvbHVtbnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndvdC5nZXRPdmVybGF5TmFtZSgpO2lmKHRoaXMuY29sdW1uSGVhZGVyQ291bnQmJiF0aGlzLndvdC53dFZpZXdwb3J0LmlzTWFya2VkT3ZlcnNpemVkQ29sdW1uW2VdJiYhdGhpcy53dFRhYmxlLmlzV29ya2luZ09uQ2xvbmUoKSl7Zm9yKHZhciB0PXRoaXMud3RUYWJsZS5nZXRSZW5kZXJlZENvbHVtbnNDb3VudCgpLG49MDtuPHRoaXMuY29sdW1uSGVhZGVyQ291bnQ7bisrKWZvcih2YXIgbz0tMSp0aGlzLnJvd0hlYWRlckNvdW50O3Q+bztvKyspdGhpcy5tYXJrSWZPdmVyc2l6ZWRDb2x1bW5IZWFkZXIobyk7dGhpcy53b3Qud3RWaWV3cG9ydC5pc01hcmtlZE92ZXJzaXplZENvbHVtbltlXT0hMH19LGFkanVzdENvbHVtbkhlYWRlckhlaWdodHM6ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy53b3QuZ2V0U2V0dGluZygiY29sdW1uSGVhZGVycyIpLHQ9dGhpcy53b3Qud3RUYWJsZS5USEVBRC5jaGlsZE5vZGVzLG49dGhpcy53b3Qud3RWaWV3cG9ydC5vdmVyc2l6ZWRDb2x1bW5IZWFkZXJzLG89MCxyPWUubGVuZ3RoO3I+bztvKyspaWYobltvXSl7aWYoMD09PXRbb10uY2hpbGROb2Rlcy5sZW5ndGgpcmV0dXJuO3Rbb10uY2hpbGROb2Rlc1swXS5zdHlsZS5oZWlnaHQ9bltvXSsicHgifX0sbWFya0lmT3ZlcnNpemVkQ29sdW1uSGVhZGVyOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLG8scj10aGlzLndvdC53dFRhYmxlLmNvbHVtbkZpbHRlci5yZW5kZXJlZFRvU291cmNlKGUpLGk9dGhpcy5jb2x1bW5IZWFkZXJDb3VudCxzPXRoaXMud290Lnd0U2V0dGluZ3Muc2V0dGluZ3MuZGVmYXVsdFJvd0hlaWdodCxhPXRoaXMud290LmdldFNldHRpbmcoImNvbHVtbkhlYWRlckhlaWdodCIpfHxbXTtpOylpLS0sdD10aGlzLndvdC53dFRhYmxlLmdldENvbHVtbkhlYWRlckhlaWdodChpKSxuPXRoaXMud290Lnd0VGFibGUuZ2V0Q29sdW1uSGVhZGVyKHIsaSksbiYmKG89ZChuKSwoIXQmJm8+c3x8bz50KSYmKHRoaXMud290Lnd0Vmlld3BvcnQub3ZlcnNpemVkQ29sdW1uSGVhZGVyc1tpXT1vKSx0aGlzLndvdC53dFZpZXdwb3J0Lm92ZXJzaXplZENvbHVtbkhlYWRlcnNbaV08KGFbaV18fGEpJiYodGhpcy53b3Qud3RWaWV3cG9ydC5vdmVyc2l6ZWRDb2x1bW5IZWFkZXJzW2ldPWFbaV18fGEpKX0scmVuZGVyQ2VsbHM6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgbyxpLHM9MDtuPnM7cysrKWk9dGhpcy5jb2x1bW5GaWx0ZXIucmVuZGVyZWRUb1NvdXJjZShzKSxvPTA9PT1zP3QuY2hpbGROb2Rlc1t0aGlzLmNvbHVtbkZpbHRlci5zb3VyY2VDb2x1bW5Ub1Zpc2libGVSb3dIZWFkZWRDb2x1bW4oaSldOm8ubmV4dFNpYmxpbmcsIlRIIj09by5ub2RlTmFtZSYmKG89cihvLHQpKSxjKG8sImhpZGUiKXx8KG8uY2xhc3NOYW1lPSIiKSxvLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSx0aGlzLndvdC53dFNldHRpbmdzLnNldHRpbmdzLmNlbGxSZW5kZXJlcihlLGksbyk7cmV0dXJuIG99LGFkanVzdENvbHVtbldpZHRoczpmdW5jdGlvbihlKXt2YXIgdD0wLG49dGhpcy53b3QuY2xvbmVTb3VyY2U/dGhpcy53b3QuY2xvbmVTb3VyY2U6dGhpcy53b3Qsbz1uLnd0VGFibGUuaG9sZGVyO28ub2Zmc2V0SGVpZ2h0PG8uc2Nyb2xsSGVpZ2h0JiYodD11KCkpLHRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3IucmVmcmVzaFN0cmV0Y2hpbmcodGhpcy53b3Qud3RWaWV3cG9ydC5nZXRWaWV3cG9ydFdpZHRoKCktdCk7dmFyIHI9dGhpcy53b3QuZ2V0U2V0dGluZygicm93SGVhZGVyV2lkdGgiKTtpZihudWxsIT1yKWZvcih2YXIgaT0wO2k8dGhpcy5yb3dIZWFkZXJDb3VudDtpKyspdGhpcy5DT0xHUk9VUC5jaGlsZE5vZGVzW2ldLnN0eWxlLndpZHRoPShpc05hTihyKT9yW2ldOnIpKyJweCI7Zm9yKHZhciBzPTA7ZT5zO3MrKyl7dmFyIGE9dGhpcy53dFRhYmxlLmdldFN0cmV0Y2hlZENvbHVtbldpZHRoKHRoaXMuY29sdW1uRmlsdGVyLnJlbmRlcmVkVG9Tb3VyY2UocykpO3RoaXMuQ09MR1JPVVAuY2hpbGROb2Rlc1tzK3RoaXMucm93SGVhZGVyQ291bnRdLnN0eWxlLndpZHRoPWErInB4In19LGFwcGVuZFRvVGJvZHk6ZnVuY3Rpb24oZSl7dGhpcy5UQk9EWS5hcHBlbmRDaGlsZChlKSx0aGlzLnd0VGFibGUudGJvZHlDaGlsZHJlbkxlbmd0aCsrfSxnZXRPckNyZWF0ZVRyRm9yUm93OmZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIGU+PXRoaXMud3RUYWJsZS50Ym9keUNoaWxkcmVuTGVuZ3RoPyhuPXRoaXMuY3JlYXRlUm93KCksdGhpcy5hcHBlbmRUb1Rib2R5KG4pKTpuPTA9PT1lP3RoaXMuVEJPRFkuZmlyc3RDaGlsZDp0Lm5leHRTaWJsaW5nLG4uY2xhc3NOYW1lJiZuLnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3MiKSxufSxjcmVhdGVSb3c6ZnVuY3Rpb24oKXtmb3IodmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVFIiKSx0PTA7dDx0aGlzLnJvd0hlYWRlckNvdW50O3QrKyllLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlRIIikpO3JldHVybiBlfSxyZW5kZXJSb3dIZWFkZXI6ZnVuY3Rpb24oZSx0LG4pe24uY2xhc3NOYW1lPSIiLG4ucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLHRoaXMucm93SGVhZGVyc1t0XShlLG4sdCl9LHJlbmRlclJvd0hlYWRlcnM6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5maXJzdENoaWxkLHI9MDtyPHRoaXMucm93SGVhZGVyQ291bnQ7cisrKW4/IlREIj09bi5ub2RlTmFtZSYmKG49byhuLHQpKToobj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJUSCIpLHQuYXBwZW5kQ2hpbGQobikpLHRoaXMucmVuZGVyUm93SGVhZGVyKGUscixuKSxuPW4ubmV4dFNpYmxpbmd9LGFkanVzdEF2YWlsYWJsZU5vZGVzOmZ1bmN0aW9uKCl7dGhpcy5hZGp1c3RDb2xHcm91cHMoKSx0aGlzLmFkanVzdFRoZWFkKCl9LHJlbmRlckNvbHVtbkhlYWRlcnM6ZnVuY3Rpb24oKXt0aGlzLndvdC5nZXRPdmVybGF5TmFtZSgpO2lmKHRoaXMuY29sdW1uSGVhZGVyQ291bnQpZm9yKHZhciBlPXRoaXMud3RUYWJsZS5nZXRSZW5kZXJlZENvbHVtbnNDb3VudCgpLHQ9MDt0PHRoaXMuY29sdW1uSGVhZGVyQ291bnQ7dCsrKWZvcih2YXIgbj10aGlzLmdldFRyRm9yQ29sdW1uSGVhZGVycyh0KSxvPS0xKnRoaXMucm93SGVhZGVyQ291bnQ7ZT5vO28rKyl7dmFyIHI9dGhpcy5jb2x1bW5GaWx0ZXIucmVuZGVyZWRUb1NvdXJjZShvKTt0aGlzLnJlbmRlckNvbHVtbkhlYWRlcih0LHIsbi5jaGlsZE5vZGVzW28rdGhpcy5yb3dIZWFkZXJDb3VudF0pfX0sYWRqdXN0Q29sR3JvdXBzOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMud3RUYWJsZS5nZXRSZW5kZXJlZENvbHVtbnNDb3VudCgpO3RoaXMud3RUYWJsZS5jb2xncm91cENoaWxkcmVuTGVuZ3RoPGUrdGhpcy5yb3dIZWFkZXJDb3VudDspdGhpcy5DT0xHUk9VUC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJDT0wiKSksdGhpcy53dFRhYmxlLmNvbGdyb3VwQ2hpbGRyZW5MZW5ndGgrKztmb3IoO3RoaXMud3RUYWJsZS5jb2xncm91cENoaWxkcmVuTGVuZ3RoPmUrdGhpcy5yb3dIZWFkZXJDb3VudDspdGhpcy5DT0xHUk9VUC5yZW1vdmVDaGlsZCh0aGlzLkNPTEdST1VQLmxhc3RDaGlsZCksdGhpcy53dFRhYmxlLmNvbGdyb3VwQ2hpbGRyZW5MZW5ndGgtLTt0aGlzLnJvd0hlYWRlckNvdW50JiZhKHRoaXMuQ09MR1JPVVAuY2hpbGROb2Rlc1swXSwicm93SGVhZGVyIil9LGFkanVzdFRoZWFkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy53dFRhYmxlLmdldFJlbmRlcmVkQ29sdW1uc0NvdW50KCksdD10aGlzLlRIRUFELmZpcnN0Q2hpbGQ7aWYodGhpcy5jb2x1bW5IZWFkZXJzLmxlbmd0aCl7Zm9yKHZhciBuPTAsbz10aGlzLmNvbHVtbkhlYWRlcnMubGVuZ3RoO28+bjtuKyspe2Zvcih0PXRoaXMuVEhFQUQuY2hpbGROb2Rlc1tuXSx0fHwodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJUUiIpLHRoaXMuVEhFQUQuYXBwZW5kQ2hpbGQodCkpLHRoaXMudGhlYWRDaGlsZHJlbkxlbmd0aD10LmNoaWxkTm9kZXMubGVuZ3RoO3RoaXMudGhlYWRDaGlsZHJlbkxlbmd0aDxlK3RoaXMucm93SGVhZGVyQ291bnQ7KXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEgiKSksdGhpcy50aGVhZENoaWxkcmVuTGVuZ3RoKys7Zm9yKDt0aGlzLnRoZWFkQ2hpbGRyZW5MZW5ndGg+ZSt0aGlzLnJvd0hlYWRlckNvdW50Oyl0LnJlbW92ZUNoaWxkKHQubGFzdENoaWxkKSx0aGlzLnRoZWFkQ2hpbGRyZW5MZW5ndGgtLX12YXIgcj10aGlzLlRIRUFELmNoaWxkTm9kZXMubGVuZ3RoO2lmKHI+dGhpcy5jb2x1bW5IZWFkZXJzLmxlbmd0aClmb3IodmFyIGk9dGhpcy5jb2x1bW5IZWFkZXJzLmxlbmd0aDtyPmk7aSsrKXRoaXMuVEhFQUQucmVtb3ZlQ2hpbGQodGhpcy5USEVBRC5sYXN0Q2hpbGQpfWVsc2UgdCYmbCh0KX0sZ2V0VHJGb3JDb2x1bW5IZWFkZXJzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlRIRUFELmNoaWxkTm9kZXNbZV19LHJlbmRlckNvbHVtbkhlYWRlcjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG4uY2xhc3NOYW1lPSIiLG4ucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLHRoaXMuY29sdW1uSGVhZGVyc1tlXSh0LG4sZSl9LGFkanVzdENvbHVtbnM6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5jaGlsZE5vZGVzLmxlbmd0aDt0Pm47KXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJURCIpO2UuYXBwZW5kQ2hpbGQobyksbisrfWZvcig7bj50OyllLnJlbW92ZUNoaWxkKGUubGFzdENoaWxkKSxuLS19LHJlbW92ZVJlZHVuZGFudENvbHVtbnM6ZnVuY3Rpb24oZSl7Zm9yKDt0aGlzLnd0VGFibGUudGJvZHlDaGlsZHJlbkxlbmd0aD5lOyl0aGlzLlRCT0RZLnJlbW92ZUNoaWxkKHRoaXMuVEJPRFkubGFzdENoaWxkKSx0aGlzLnd0VGFibGUudGJvZHlDaGlsZHJlbkxlbmd0aC0tfX0se30pLHdpbmRvdy5XYWxrb250YWJsZVRhYmxlUmVuZGVyZXI9Zn0seyJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NX1dLDIyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1dhbGtvbnRhYmxlVmlld3BvcnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBtfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsYT0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KSxsPWEuZ2V0U2Nyb2xsYmFyV2lkdGgsdT0oYS5nZXRTY3JvbGxUb3AsYS5nZXRTdHlsZSksYz1hLm9mZnNldCxkPWEub3V0ZXJIZWlnaHQsaD1hLm91dGVyV2lkdGgsZj0ocj1lKCJldmVudE1hbmFnZXIiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLkV2ZW50TWFuYWdlcixwPShpPWUoImNhbGN1bGF0b3Ivdmlld3BvcnRDb2x1bW5zIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5XYWxrb250YWJsZVZpZXdwb3J0Q29sdW1uc0NhbGN1bGF0b3IsZz0ocz1lKCJjYWxjdWxhdG9yL3ZpZXdwb3J0Um93cyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuV2Fsa29udGFibGVWaWV3cG9ydFJvd3NDYWxjdWxhdG9yLG09ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLndvdD1lLHRoaXMuaW5zdGFuY2U9dGhpcy53b3QsdGhpcy5vdmVyc2l6ZWRSb3dzPVtdLHRoaXMub3ZlcnNpemVkQ29sdW1uSGVhZGVycz1bXSx0aGlzLmlzTWFya2VkT3ZlcnNpemVkQ29sdW1uPXt9LHRoaXMuY2xpZW50SGVpZ2h0PTAsdGhpcy5jb250YWluZXJXaWR0aD1OYU4sdGhpcy5yb3dIZWFkZXJXaWR0aD1OYU4sdGhpcy5yb3dzVmlzaWJsZUNhbGN1bGF0b3I9bnVsbCx0aGlzLmNvbHVtbnNWaXNpYmxlQ2FsY3VsYXRvcj1udWxsLHRoaXMuZXZlbnRNYW5hZ2VyPW5ldyBmKHRoaXMud290KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHdpbmRvdywicmVzaXplIixmdW5jdGlvbigpe3QuY2xpZW50SGVpZ2h0PXQuZ2V0V29ya3NwYWNlSGVpZ2h0KCl9KX07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKG0se2dldFdvcmtzcGFjZUhlaWdodDpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5pbnN0YW5jZS53dE92ZXJsYXlzLnRvcE92ZXJsYXkudHJpbW1pbmdDb250YWluZXIsbj0wO3JldHVybiB0PT09d2luZG93P249ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDooZT1kKHQpLG49ZT4wJiZ0LmNsaWVudEhlaWdodD4wP3QuY2xpZW50SGVpZ2h0OjEvMCksbn0sZ2V0V29ya3NwYWNlV2lkdGg6ZnVuY3Rpb24oKXt2YXIgZSx0LG49dGhpcy53b3QuZ2V0U2V0dGluZygidG90YWxDb2x1bW5zIiksbz10aGlzLmluc3RhbmNlLnd0T3ZlcmxheXMubGVmdE92ZXJsYXkudHJpbW1pbmdDb250YWluZXIscj10aGlzLndvdC5nZXRTZXR0aW5nKCJzdHJldGNoSCIpLGk9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoLHM9dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93Iik7cmV0dXJuIHM/aCh0aGlzLmluc3RhbmNlLnd0VGFibGUud3RSb290RWxlbWVudCk6KGU9SGFuZHNvbnRhYmxlLmZyZWV6ZU92ZXJsYXlzP01hdGgubWluKGktdGhpcy5nZXRXb3Jrc3BhY2VPZmZzZXQoKS5sZWZ0LGkpOk1hdGgubWluKHRoaXMuZ2V0Q29udGFpbmVyRmlsbFdpZHRoKCksaS10aGlzLmdldFdvcmtzcGFjZU9mZnNldCgpLmxlZnQsaSksbz09PXdpbmRvdyYmbj4wJiZ0aGlzLnN1bUNvbHVtbldpZHRocygwLG4tMSk+ZT9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg6byE9PXdpbmRvdyYmKHQ9dSh0aGlzLmluc3RhbmNlLnd0T3ZlcmxheXMubGVmdE92ZXJsYXkudHJpbW1pbmdDb250YWluZXIsIm92ZXJmbG93IiksInNjcm9sbCI9PXR8fCJoaWRkZW4iPT10fHwiYXV0byI9PXQpP01hdGgubWF4KGUsby5jbGllbnRXaWR0aCk6Im5vbmUiIT09ciYmcj9lOk1hdGgubWF4KGUsaCh0aGlzLmluc3RhbmNlLnd0VGFibGUuVEFCTEUpKSl9LGhhc1ZlcnRpY2FsU2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0V29ya3NwYWNlQWN0dWFsSGVpZ2h0KCk+dGhpcy5nZXRXb3Jrc3BhY2VIZWlnaHQoKX0saGFzSG9yaXpvbnRhbFNjcm9sbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFdvcmtzcGFjZUFjdHVhbFdpZHRoKCk+dGhpcy5nZXRXb3Jrc3BhY2VXaWR0aCgpfSxzdW1Db2x1bW5XaWR0aHM6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDt0PmU7KW4rPXRoaXMud290Lnd0VGFibGUuZ2V0Q29sdW1uV2lkdGgoZSksZSsrO3JldHVybiBufSxnZXRDb250YWluZXJGaWxsV2lkdGg6ZnVuY3Rpb24oKXtpZih0aGlzLmNvbnRhaW5lcldpZHRoKXJldHVybiB0aGlzLmNvbnRhaW5lcldpZHRoO3ZhciBlLHQsbj10aGlzLmluc3RhbmNlLnd0VGFibGUuaG9sZGVyO3JldHVybiB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQuc3R5bGUud2lkdGg9IjEwMCUiLHQuc3R5bGUuaGVpZ2h0PSIxcHgiLG4uYXBwZW5kQ2hpbGQodCksZT10Lm9mZnNldFdpZHRoLHRoaXMuY29udGFpbmVyV2lkdGg9ZSxuLnJlbW92ZUNoaWxkKHQpLGV9LGdldFdvcmtzcGFjZU9mZnNldDpmdW5jdGlvbigpe3JldHVybiBjKHRoaXMud290Lnd0VGFibGUuVEFCTEUpfSxnZXRXb3Jrc3BhY2VBY3R1YWxIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZCh0aGlzLndvdC53dFRhYmxlLlRBQkxFKX0sZ2V0V29ya3NwYWNlQWN0dWFsV2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLndvdC53dFRhYmxlLlRBQkxFKXx8aCh0aGlzLndvdC53dFRhYmxlLlRCT0RZKXx8aCh0aGlzLndvdC53dFRhYmxlLlRIRUFEKX0sZ2V0Q29sdW1uSGVhZGVySGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGlzTmFOKHRoaXMuY29sdW1uSGVhZGVySGVpZ2h0KSYmKHRoaXMuY29sdW1uSGVhZGVySGVpZ2h0PWQodGhpcy53b3Qud3RUYWJsZS5USEVBRCkpLHRoaXMuY29sdW1uSGVhZGVySGVpZ2h0fSxnZXRWaWV3cG9ydEhlaWdodDpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5nZXRXb3Jrc3BhY2VIZWlnaHQoKTtyZXR1cm4gdD09PTEvMD90OihlPXRoaXMuZ2V0Q29sdW1uSGVhZGVySGVpZ2h0KCksZT4wJiYodC09ZSksdCl9LGdldFJvd0hlYWRlcldpZHRoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5nKCJyb3dIZWFkZXJXaWR0aCIpLHQ9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5nKCJyb3dIZWFkZXJzIik7aWYoZSl7dGhpcy5yb3dIZWFkZXJXaWR0aD0wO2Zvcih2YXIgbj0wLG89dC5sZW5ndGg7bz5uO24rKyl0aGlzLnJvd0hlYWRlcldpZHRoKz1lW25dfHxlfWlmKHRoaXMud290LmNsb25lU291cmNlKXJldHVybiB0aGlzLndvdC5jbG9uZVNvdXJjZS53dFZpZXdwb3J0LmdldFJvd0hlYWRlcldpZHRoKCk7aWYoaXNOYU4odGhpcy5yb3dIZWFkZXJXaWR0aCkpaWYodC5sZW5ndGgpe3ZhciByPXRoaXMuaW5zdGFuY2Uud3RUYWJsZS5UQUJMRS5xdWVyeVNlbGVjdG9yKCJUSCIpO3RoaXMucm93SGVhZGVyV2lkdGg9MDtmb3IodmFyIGk9MCxzPXQubGVuZ3RoO3M+aTtpKyspcj8odGhpcy5yb3dIZWFkZXJXaWR0aCs9aChyKSxyPXIubmV4dFNpYmxpbmcpOnRoaXMucm93SGVhZGVyV2lkdGgrPTUwfWVsc2UgdGhpcy5yb3dIZWFkZXJXaWR0aD0wO3JldHVybiB0aGlzLnJvd0hlYWRlcldpZHRofSxnZXRWaWV3cG9ydFdpZHRoOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmdldFdvcmtzcGFjZVdpZHRoKCk7cmV0dXJuIHQ9PT0xLzA/dDooZT10aGlzLmdldFJvd0hlYWRlcldpZHRoKCksZT4wP3QtZTp0KX0sY3JlYXRlUm93c0NhbGN1bGF0b3I6ZnVuY3Rpb24oKXt2YXIgZSx0LG4sbyxyLGkscyxhPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ITEsdT10aGlzO3JldHVybiB0aGlzLnJvd0hlYWRlcldpZHRoPU5hTixlPXRoaXMud290Lnd0U2V0dGluZ3Muc2V0dGluZ3MucmVuZGVyQWxsUm93cz8xLzA6dGhpcy5nZXRWaWV3cG9ydEhlaWdodCgpLHQ9dGhpcy53b3Qud3RPdmVybGF5cy50b3BPdmVybGF5LmdldFNjcm9sbFBvc2l0aW9uKCktdGhpcy53b3Qud3RPdmVybGF5cy50b3BPdmVybGF5LmdldFRhYmxlUGFyZW50T2Zmc2V0KCksMD50JiYodD0wKSxuPXRoaXMud290LmdldFNldHRpbmcoImZpeGVkUm93c1RvcCIpLHI9dGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRSb3dzQm90dG9tIikscz10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKSxuJiYoaT10aGlzLndvdC53dE92ZXJsYXlzLnRvcE92ZXJsYXkuc3VtQ2VsbFNpemVzKDAsbiksdCs9aSxlLT1pKSxyJiZ0aGlzLndvdC53dE92ZXJsYXlzLmJvdHRvbU92ZXJsYXkuY2xvbmUmJihpPXRoaXMud290Lnd0T3ZlcmxheXMuYm90dG9tT3ZlcmxheS5zdW1DZWxsU2l6ZXMocy1yLHMpLGUtPWkpLG89dGhpcy53b3Qud3RUYWJsZS5ob2xkZXIuY2xpZW50SGVpZ2h0PT09dGhpcy53b3Qud3RUYWJsZS5ob2xkZXIub2Zmc2V0SGVpZ2h0PzA6bCgpLG5ldyBnKGUsdCx0aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKSxmdW5jdGlvbihlKXtyZXR1cm4gdS53b3Qud3RUYWJsZS5nZXRSb3dIZWlnaHQoZSl9LGE/bnVsbDp0aGlzLndvdC53dFNldHRpbmdzLnNldHRpbmdzLnZpZXdwb3J0Um93Q2FsY3VsYXRvck92ZXJyaWRlLGEsbyl9LGNyZWF0ZUNvbHVtbnNDYWxjdWxhdG9yOmZ1bmN0aW9uKCl7dmFyIGUsdCxuPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ITEsbz10aGlzLHI9dGhpcy5nZXRWaWV3cG9ydFdpZHRoKCk7aWYodGhpcy5jb2x1bW5IZWFkZXJIZWlnaHQ9TmFOLGU9dGhpcy53b3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5nZXRTY3JvbGxQb3NpdGlvbigpLXRoaXMud290Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkuZ2V0VGFibGVQYXJlbnRPZmZzZXQoKSwwPmUmJihlPTApLHQ9dGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRDb2x1bW5zTGVmdCIpKXt2YXIgaT10aGlzLndvdC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LnN1bUNlbGxTaXplcygwLHQpO2UrPWksci09aX1yZXR1cm4gdGhpcy53b3Qud3RUYWJsZS5ob2xkZXIuY2xpZW50V2lkdGghPT10aGlzLndvdC53dFRhYmxlLmhvbGRlci5vZmZzZXRXaWR0aCYmKHItPWwoKSksbmV3IHAocixlLHRoaXMud290LmdldFNldHRpbmcoInRvdGFsQ29sdW1ucyIpLGZ1bmN0aW9uKGUpe3JldHVybiBvLndvdC53dFRhYmxlLmdldENvbHVtbldpZHRoKGUpfSxuP251bGw6dGhpcy53b3Qud3RTZXR0aW5ncy5zZXR0aW5ncy52aWV3cG9ydENvbHVtbkNhbGN1bGF0b3JPdmVycmlkZSxuLHRoaXMud290LmdldFNldHRpbmcoInN0cmV0Y2hIIiksZnVuY3Rpb24oZSx0KXtyZXR1cm4gby53b3QuZ2V0U2V0dGluZygib25CZWZvcmVTdHJldGNoaW5nQ29sdW1uV2lkdGgiLGUsdCl9KX0sY3JlYXRlUmVuZGVyQ2FsY3VsYXRvcnM6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiExO2lmKGUpe3ZhciB0PXRoaXMuY3JlYXRlUm93c0NhbGN1bGF0b3IoITApLG49dGhpcy5jcmVhdGVDb2x1bW5zQ2FsY3VsYXRvcighMCk7dGhpcy5hcmVBbGxQcm9wb3NlZFZpc2libGVSb3dzQWxyZWFkeVJlbmRlcmVkKHQpJiZ0aGlzLmFyZUFsbFByb3Bvc2VkVmlzaWJsZUNvbHVtbnNBbHJlYWR5UmVuZGVyZWQobil8fChlPSExKX1yZXR1cm4gZXx8KHRoaXMucm93c1JlbmRlckNhbGN1bGF0b3I9dGhpcy5jcmVhdGVSb3dzQ2FsY3VsYXRvcigpLHRoaXMuY29sdW1uc1JlbmRlckNhbGN1bGF0b3I9dGhpcy5jcmVhdGVDb2x1bW5zQ2FsY3VsYXRvcigpKSx0aGlzLnJvd3NWaXNpYmxlQ2FsY3VsYXRvcj1udWxsLHRoaXMuY29sdW1uc1Zpc2libGVDYWxjdWxhdG9yPW51bGwsZX0sY3JlYXRlVmlzaWJsZUNhbGN1bGF0b3JzOmZ1bmN0aW9uKCl7dGhpcy5yb3dzVmlzaWJsZUNhbGN1bGF0b3I9dGhpcy5jcmVhdGVSb3dzQ2FsY3VsYXRvcighMCksdGhpcy5jb2x1bW5zVmlzaWJsZUNhbGN1bGF0b3I9dGhpcy5jcmVhdGVDb2x1bW5zQ2FsY3VsYXRvcighMCl9LGFyZUFsbFByb3Bvc2VkVmlzaWJsZVJvd3NBbHJlYWR5UmVuZGVyZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm93c1Zpc2libGVDYWxjdWxhdG9yP2Uuc3RhcnRSb3c8dGhpcy5yb3dzUmVuZGVyQ2FsY3VsYXRvci5zdGFydFJvd3x8ZS5zdGFydFJvdz09PXRoaXMucm93c1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRSb3cmJmUuc3RhcnRSb3c+MD8hMTplLmVuZFJvdz50aGlzLnJvd3NSZW5kZXJDYWxjdWxhdG9yLmVuZFJvd3x8ZS5lbmRSb3c9PT10aGlzLnJvd3NSZW5kZXJDYWxjdWxhdG9yLmVuZFJvdyYmZS5lbmRSb3c8dGhpcy53b3QuZ2V0U2V0dGluZygidG90YWxSb3dzIiktMT8hMTohMDohMX0sYXJlQWxsUHJvcG9zZWRWaXNpYmxlQ29sdW1uc0FscmVhZHlSZW5kZXJlZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb2x1bW5zVmlzaWJsZUNhbGN1bGF0b3I/ZS5zdGFydENvbHVtbjx0aGlzLmNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yLnN0YXJ0Q29sdW1ufHxlLnN0YXJ0Q29sdW1uPT09dGhpcy5jb2x1bW5zUmVuZGVyQ2FsY3VsYXRvci5zdGFydENvbHVtbiYmZS5zdGFydENvbHVtbj4wPyExOmUuZW5kQ29sdW1uPnRoaXMuY29sdW1uc1JlbmRlckNhbGN1bGF0b3IuZW5kQ29sdW1ufHxlLmVuZENvbHVtbj09PXRoaXMuY29sdW1uc1JlbmRlckNhbGN1bGF0b3IuZW5kQ29sdW1uJiZlLmVuZENvbHVtbjx0aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbENvbHVtbnMiKS0xPyExOiEwOiExfX0se30pLHdpbmRvdy5XYWxrb250YWJsZVZpZXdwb3J0PW19LHsiY2FsY3VsYXRvci92aWV3cG9ydENvbHVtbnMiOjMsImNhbGN1bGF0b3Ivdmlld3BvcnRSb3dzIjo0LGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9kb20vZWxlbWVudCI6NDV9XSwyMzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxyLGkscyxhLGwsdSxjLGQsaCxmLHAsZyxtLHYsdyx5LGIsQyxSO3dpbmRvdy5IYW5kc29udGFibGU9ZnVuY3Rpb24gVihlLHQpe3ZhciBuPW5ldyBWLkNvcmUoZSx0fHx7fSk7cmV0dXJuIG4uaW5pdCgpLG59LG89ZSgic2hpbXMvY2xhc3NlcyIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSxyPWUoImVzNmNvbGxlY3Rpb25zIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9O3ZhciBfPShpPWUoInBsdWdpbkhvb2tzIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5Ib29rcztIYW5kc29udGFibGUuaG9va3N8fChIYW5kc29udGFibGUuaG9va3M9bmV3IF8pLHM9ZSgiY29yZSIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSxhPWUoInJlbmRlcmVycy9fY2VsbERlY29yYXRvciIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSxsPWUoImNlbGxUeXBlcyIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSx1PWUoInBsdWdpbnMvanF1ZXJ5SGFuZHNvbnRhYmxlIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9O3ZhciBTPShjPWUoImhlbHBlcnMvYXJyYXkiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y30pLEU9KGQ9ZSgiaGVscGVycy9icm93c2VyIiksZCYmZC5fX2VzTW9kdWxlJiZkfHx7ImRlZmF1bHQiOmR9KSxUPShoPWUoImhlbHBlcnMvZGF0YSIpLGgmJmguX19lc01vZHVsZSYmaHx8eyJkZWZhdWx0IjpofSksTT0oZj1lKCJoZWxwZXJzL2Z1bmN0aW9uIiksZiYmZi5fX2VzTW9kdWxlJiZmfHx7ImRlZmF1bHQiOmZ9KSxPPShwPWUoImhlbHBlcnMvbWl4ZWQiKSxwJiZwLl9fZXNNb2R1bGUmJnB8fHsiZGVmYXVsdCI6cH0pLGs9KGc9ZSgiaGVscGVycy9udW1iZXIiKSxnJiZnLl9fZXNNb2R1bGUmJmd8fHsiZGVmYXVsdCI6Z30pLEg9KG09ZSgiaGVscGVycy9vYmplY3QiKSxtJiZtLl9fZXNNb2R1bGUmJm18fHsiZGVmYXVsdCI6bX0pLEQ9KHY9ZSgiaGVscGVycy9zZXR0aW5nIiksdiYmdi5fX2VzTW9kdWxlJiZ2fHx7ImRlZmF1bHQiOnZ9KSx4PSh3PWUoImhlbHBlcnMvc3RyaW5nIiksdyYmdy5fX2VzTW9kdWxlJiZ3fHx7ImRlZmF1bHQiOnd9KSxBPSh5PWUoImhlbHBlcnMvdW5pY29kZSIpLHkmJnkuX19lc01vZHVsZSYmeXx8eyJkZWZhdWx0Ijp5fSksUD0oYj1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksYiYmYi5fX2VzTW9kdWxlJiZifHx7ImRlZmF1bHQiOmJ9KSxOPShDPWUoImhlbHBlcnMvZG9tL2V2ZW50IiksQyYmQy5fX2VzTW9kdWxlJiZDfHx7ImRlZmF1bHQiOkN9KSxMPVtTLEUsVCxNLE8sayxILEQseCxBXSxXPVtQLE5dO0hhbmRzb250YWJsZS5idWlsZERhdGU9IkZyaSBGZWIgMTkgMjAxNiAxMjozODoyNiBHTVQrMDEwMCAoQ0VUKSIsSGFuZHNvbnRhYmxlLnBhY2thZ2VOYW1lPSJoYW5kc29udGFibGUiLEhhbmRzb250YWJsZS52ZXJzaW9uPSIwLjIzLjAiO3ZhciBJPSJAQGJhc2VWZXJzaW9uIjsvXkBALy50ZXN0KEkpfHwoSGFuZHNvbnRhYmxlLmJhc2VWZXJzaW9uPUkpLEhhbmRzb250YWJsZS5wbHVnaW5zPXt9O3ZhciBqPShSPWUoInBsdWdpbnMiKSxSJiZSLl9fZXNNb2R1bGUmJlJ8fHsiZGVmYXVsdCI6Un0pLnJlZ2lzdGVyUGx1Z2luO0hhbmRzb250YWJsZS5wbHVnaW5zLnJlZ2lzdGVyUGx1Z2luPWosSGFuZHNvbnRhYmxlLmhlbHBlcj17fSxIYW5kc29udGFibGUuZG9tPXt9LEhhbmRzb250YWJsZS5Eb209SGFuZHNvbnRhYmxlLmRvbSxTLmFycmF5RWFjaChMLGZ1bmN0aW9uKGUpe1MuYXJyYXlFYWNoKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLGZ1bmN0aW9uKHQpeyJfIiE9PXQuY2hhckF0KDApJiYoSGFuZHNvbnRhYmxlLmhlbHBlclt0XT1lW3RdKX0pfSksUy5hcnJheUVhY2goVyxmdW5jdGlvbihlKXtTLmFycmF5RWFjaChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxmdW5jdGlvbih0KXsiXyIhPT10LmNoYXJBdCgwKSYmKEhhbmRzb250YWJsZS5kb21bdF09ZVt0XSl9KX0pfSx7Y2VsbFR5cGVzOjI0LGNvcmU6MjUsZXM2Y29sbGVjdGlvbnM6ImVzNmNvbGxlY3Rpb25zIiwiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvYnJvd3NlciI6NDMsImhlbHBlcnMvZGF0YSI6NDQsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LCJoZWxwZXJzL2RvbS9ldmVudCI6NDYsImhlbHBlcnMvZnVuY3Rpb24iOjQ3LCJoZWxwZXJzL21peGVkIjo0OCwiaGVscGVycy9udW1iZXIiOjQ5LCJoZWxwZXJzL29iamVjdCI6NTAsImhlbHBlcnMvc2V0dGluZyI6NTEsImhlbHBlcnMvc3RyaW5nIjo1MiwiaGVscGVycy91bmljb2RlIjo1MyxwbHVnaW5Ib29rczo1NixwbHVnaW5zOjU3LCJwbHVnaW5zL2pxdWVyeUhhbmRzb250YWJsZSI6MSwicmVuZGVyZXJzL19jZWxsRGVjb3JhdG9yIjo5MSwic2hpbXMvY2xhc3NlcyI6OTh9XSwyNDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxyLGkscyxhLGwsdSxjLGQsaCxmLHAsZyxtLHYsdyx5LGIsQyxSLF8sUyxFPShvPWUoImhlbHBlcnMvYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkuaXNNb2JpbGVCcm93c2VyLFQ9KHI9ZSgiZWRpdG9ycyIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuZ2V0RWRpdG9yQ29uc3RydWN0b3IsTT0oaT1lKCJyZW5kZXJlcnMiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmdldFJlbmRlcmVyOyhzPWUoImVkaXRvcnMvYXV0b2NvbXBsZXRlRWRpdG9yIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5BdXRvY29tcGxldGVFZGl0b3IsKGE9ZSgiZWRpdG9ycy9jaGVja2JveEVkaXRvciIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuQ2hlY2tib3hFZGl0b3IsKGw9ZSgiZWRpdG9ycy9kYXRlRWRpdG9yIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5EYXRlRWRpdG9yLCh1PWUoImVkaXRvcnMvZHJvcGRvd25FZGl0b3IiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLkRyb3Bkb3duRWRpdG9yLChjPWUoImVkaXRvcnMvaGFuZHNvbnRhYmxlRWRpdG9yIiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KS5IYW5kc29udGFibGVFZGl0b3IsKGQ9ZSgiZWRpdG9ycy9tb2JpbGVUZXh0RWRpdG9yIiksZCYmZC5fX2VzTW9kdWxlJiZkfHx7ImRlZmF1bHQiOmR9KS5Nb2JpbGVUZXh0RWRpdG9yLChoPWUoImVkaXRvcnMvbnVtZXJpY0VkaXRvciIpLGgmJmguX19lc01vZHVsZSYmaHx8eyJkZWZhdWx0IjpofSkuTnVtZXJpY0VkaXRvciwoZj1lKCJlZGl0b3JzL3Bhc3N3b3JkRWRpdG9yIiksZiYmZi5fX2VzTW9kdWxlJiZmfHx7ImRlZmF1bHQiOmZ9KS5QYXNzd29yZEVkaXRvciwocD1lKCJlZGl0b3JzL3NlbGVjdEVkaXRvciIpLHAmJnAuX19lc01vZHVsZSYmcHx8eyJkZWZhdWx0IjpwfSkuU2VsZWN0RWRpdG9yLChnPWUoImVkaXRvcnMvdGV4dEVkaXRvciIpLGcmJmcuX19lc01vZHVsZSYmZ3x8eyJkZWZhdWx0IjpnfSkuVGV4dEVkaXRvciwobT1lKCJyZW5kZXJlcnMvYXV0b2NvbXBsZXRlUmVuZGVyZXIiKSxtJiZtLl9fZXNNb2R1bGUmJm18fHsiZGVmYXVsdCI6bX0pLkF1dG9jb21wbGV0ZVJlbmRlcmVyLCh2PWUoInJlbmRlcmVycy9jaGVja2JveFJlbmRlcmVyIiksdiYmdi5fX2VzTW9kdWxlJiZ2fHx7ImRlZmF1bHQiOnZ9KS5DaGVja2JveFJlbmRlcmVyLCh3PWUoInJlbmRlcmVycy9odG1sUmVuZGVyZXIiKSx3JiZ3Ll9fZXNNb2R1bGUmJnd8fHsiZGVmYXVsdCI6d30pLkh0bWxSZW5kZXJlciwoeT1lKCJyZW5kZXJlcnMvbnVtZXJpY1JlbmRlcmVyIikseSYmeS5fX2VzTW9kdWxlJiZ5fHx7ImRlZmF1bHQiOnl9KS5OdW1lcmljUmVuZGVyZXIsKGI9ZSgicmVuZGVyZXJzL3Bhc3N3b3JkUmVuZGVyZXIiKSxiJiZiLl9fZXNNb2R1bGUmJmJ8fHsiZGVmYXVsdCI6Yn0pLlBhc3N3b3JkUmVuZGVyZXIsKEM9ZSgicmVuZGVyZXJzL3RleHRSZW5kZXJlciIpLApDJiZDLl9fZXNNb2R1bGUmJkN8fHsiZGVmYXVsdCI6Q30pLlRleHRSZW5kZXJlciwoUj1lKCJ2YWxpZGF0b3JzL2F1dG9jb21wbGV0ZVZhbGlkYXRvciIpLFImJlIuX19lc01vZHVsZSYmUnx8eyJkZWZhdWx0IjpSfSkuQXV0b2NvbXBsZXRlVmFsaWRhdG9yLChfPWUoInZhbGlkYXRvcnMvZGF0ZVZhbGlkYXRvciIpLF8mJl8uX19lc01vZHVsZSYmX3x8eyJkZWZhdWx0IjpffSkuRGF0ZVZhbGlkYXRvciwoUz1lKCJ2YWxpZGF0b3JzL251bWVyaWNWYWxpZGF0b3IiKSxTJiZTLl9fZXNNb2R1bGUmJlN8fHsiZGVmYXVsdCI6U30pLk51bWVyaWNWYWxpZGF0b3I7SGFuZHNvbnRhYmxlLm1vYmlsZUJyb3dzZXI9RSgpLEhhbmRzb250YWJsZS5BdXRvY29tcGxldGVDZWxsPXtlZGl0b3I6VCgiYXV0b2NvbXBsZXRlIikscmVuZGVyZXI6TSgiYXV0b2NvbXBsZXRlIiksdmFsaWRhdG9yOkhhbmRzb250YWJsZS5BdXRvY29tcGxldGVWYWxpZGF0b3J9LEhhbmRzb250YWJsZS5DaGVja2JveENlbGw9e2VkaXRvcjpUKCJjaGVja2JveCIpLHJlbmRlcmVyOk0oImNoZWNrYm94Iil9LEhhbmRzb250YWJsZS5UZXh0Q2VsbD17ZWRpdG9yOlQoSGFuZHNvbnRhYmxlLm1vYmlsZUJyb3dzZXI/Im1vYmlsZSI6InRleHQiKSxyZW5kZXJlcjpNKCJ0ZXh0Iil9LEhhbmRzb250YWJsZS5OdW1lcmljQ2VsbD17ZWRpdG9yOlQoIm51bWVyaWMiKSxyZW5kZXJlcjpNKCJudW1lcmljIiksdmFsaWRhdG9yOkhhbmRzb250YWJsZS5OdW1lcmljVmFsaWRhdG9yLGRhdGFUeXBlOiJudW1iZXIifSxIYW5kc29udGFibGUuRGF0ZUNlbGw9e2VkaXRvcjpUKCJkYXRlIiksdmFsaWRhdG9yOkhhbmRzb250YWJsZS5EYXRlVmFsaWRhdG9yLHJlbmRlcmVyOk0oImF1dG9jb21wbGV0ZSIpfSxIYW5kc29udGFibGUuSGFuZHNvbnRhYmxlQ2VsbD17ZWRpdG9yOlQoImhhbmRzb250YWJsZSIpLHJlbmRlcmVyOk0oImF1dG9jb21wbGV0ZSIpfSxIYW5kc29udGFibGUuUGFzc3dvcmRDZWxsPXtlZGl0b3I6VCgicGFzc3dvcmQiKSxyZW5kZXJlcjpNKCJwYXNzd29yZCIpLGNvcHlhYmxlOiExfSxIYW5kc29udGFibGUuRHJvcGRvd25DZWxsPXtlZGl0b3I6VCgiZHJvcGRvd24iKSxyZW5kZXJlcjpNKCJhdXRvY29tcGxldGUiKSx2YWxpZGF0b3I6SGFuZHNvbnRhYmxlLkF1dG9jb21wbGV0ZVZhbGlkYXRvcn0sSGFuZHNvbnRhYmxlLmNlbGxUeXBlcz17dGV4dDpIYW5kc29udGFibGUuVGV4dENlbGwsZGF0ZTpIYW5kc29udGFibGUuRGF0ZUNlbGwsbnVtZXJpYzpIYW5kc29udGFibGUuTnVtZXJpY0NlbGwsY2hlY2tib3g6SGFuZHNvbnRhYmxlLkNoZWNrYm94Q2VsbCxhdXRvY29tcGxldGU6SGFuZHNvbnRhYmxlLkF1dG9jb21wbGV0ZUNlbGwsaGFuZHNvbnRhYmxlOkhhbmRzb250YWJsZS5IYW5kc29udGFibGVDZWxsLHBhc3N3b3JkOkhhbmRzb250YWJsZS5QYXNzd29yZENlbGwsZHJvcGRvd246SGFuZHNvbnRhYmxlLkRyb3Bkb3duQ2VsbH0sSGFuZHNvbnRhYmxlLmNlbGxMb29rdXA9e3ZhbGlkYXRvcjp7bnVtZXJpYzpIYW5kc29udGFibGUuTnVtZXJpY1ZhbGlkYXRvcixhdXRvY29tcGxldGU6SGFuZHNvbnRhYmxlLkF1dG9jb21wbGV0ZVZhbGlkYXRvcn19fSx7ZWRpdG9yczoyOSwiZWRpdG9ycy9hdXRvY29tcGxldGVFZGl0b3IiOjMxLCJlZGl0b3JzL2NoZWNrYm94RWRpdG9yIjozMiwiZWRpdG9ycy9kYXRlRWRpdG9yIjozMywiZWRpdG9ycy9kcm9wZG93bkVkaXRvciI6MzQsImVkaXRvcnMvaGFuZHNvbnRhYmxlRWRpdG9yIjozNSwiZWRpdG9ycy9tb2JpbGVUZXh0RWRpdG9yIjozNiwiZWRpdG9ycy9udW1lcmljRWRpdG9yIjozNywiZWRpdG9ycy9wYXNzd29yZEVkaXRvciI6MzgsImVkaXRvcnMvc2VsZWN0RWRpdG9yIjozOSwiZWRpdG9ycy90ZXh0RWRpdG9yIjo0MCwiaGVscGVycy9icm93c2VyIjo0MyxyZW5kZXJlcnM6OTAsInJlbmRlcmVycy9hdXRvY29tcGxldGVSZW5kZXJlciI6OTIsInJlbmRlcmVycy9jaGVja2JveFJlbmRlcmVyIjo5MywicmVuZGVyZXJzL2h0bWxSZW5kZXJlciI6OTQsInJlbmRlcmVycy9udW1lcmljUmVuZGVyZXIiOjk1LCJyZW5kZXJlcnMvcGFzc3dvcmRSZW5kZXJlciI6OTYsInJlbmRlcmVycy90ZXh0UmVuZGVyZXIiOjk3LCJ2YWxpZGF0b3JzL2F1dG9jb21wbGV0ZVZhbGlkYXRvciI6MTAyLCJ2YWxpZGF0b3JzL2RhdGVWYWxpZGF0b3IiOjEwMywidmFsaWRhdG9ycy9udW1lcmljVmFsaWRhdG9yIjoxMDR9XSwyNTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxyLGkscyxhLGwsdSxjLGQsaCxmLHAsZyxtLHYsdyx5LGIsQyxSPShvPWUoIm51bWVyYWwiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sXz0ocj1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSxTPV8uYWRkQ2xhc3MsRT1fLmVtcHR5LFQ9Xy5pc0NoaWxkT2ZXZWJDb21wb25lbnRUYWJsZSxNPV8ucmVtb3ZlQ2xhc3MsTz0oaT1lKCJoZWxwZXJzL3NldHRpbmciKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmNvbHVtbkZhY3Rvcnksaz0ocz1lKCJkYXRhTWFwIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5EYXRhTWFwLEg9KGE9ZSgiZWRpdG9yTWFuYWdlciIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuRWRpdG9yTWFuYWdlcixEPShsPWUoImV2ZW50TWFuYWdlciIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuZXZlbnRNYW5hZ2VyLHg9KHU9ZSgiaGVscGVycy9vYmplY3QiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLEE9eC5leHRlbmQsUD14LmR1Y2tTY2hlbWEsTj14LmlzT2JqZWN0RXF1YWxzLEw9eC5kZWVwQ2xvbmUsVz0oYz1lKCJoZWxwZXJzL2FycmF5IiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KSxJPVcuYXJyYXlGbGF0dGVuLGo9Vy5hcnJheU1hcCxWPShkPWUoInBsdWdpbnMiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLmdldFBsdWdpbixCPShoPWUoInJlbmRlcmVycyIpLGgmJmguX19lc01vZHVsZSYmaHx8eyJkZWZhdWx0IjpofSkuZ2V0UmVuZGVyZXIsRj0oZj1lKCJoZWxwZXJzL3N0cmluZyIpLGYmJmYuX19lc01vZHVsZSYmZnx8eyJkZWZhdWx0IjpmfSkucmFuZG9tU3RyaW5nLHo9KHA9ZSgiaGVscGVycy9udW1iZXIiKSxwJiZwLl9fZXNNb2R1bGUmJnB8fHsiZGVmYXVsdCI6cH0pLnJhbmdlRWFjaCxZPShnPWUoInRhYmxlVmlldyIpLGcmJmcuX19lc01vZHVsZSYmZ3x8eyJkZWZhdWx0IjpnfSkuVGFibGVWaWV3LFU9KG09ZSgiZGF0YVNvdXJjZSIpLG0mJm0uX19lc01vZHVsZSYmbXx8eyJkZWZhdWx0IjptfSkuRGF0YVNvdXJjZSxHPSh2PWUoImhlbHBlcnMvZGF0YSIpLHYmJnYuX19lc01vZHVsZSYmdnx8eyJkZWZhdWx0Ijp2fSksJD1HLnRyYW5zbGF0ZVJvd3NUb0NvbHVtbnMsSz1HLmNlbGxNZXRob2RMb29rdXBGYWN0b3J5LFg9Ry5zcHJlYWRzaGVldENvbHVtbkxhYmVsLHE9KHc9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIiksdyYmdy5fX2VzTW9kdWxlJiZ3fHx7ImRlZmF1bHQiOnd9KS5XYWxrb250YWJsZUNlbGxDb29yZHMsWj0oeT1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9yYW5nZSIpLHkmJnkuX19lc01vZHVsZSYmeXx8eyJkZWZhdWx0Ijp5fSkuV2Fsa29udGFibGVDZWxsUmFuZ2UsSj0oKGI9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL3NlbGVjdGlvbiIpLGImJmIuX19lc01vZHVsZSYmYnx8eyJkZWZhdWx0IjpifSkuV2Fsa29udGFibGVTZWxlY3Rpb24sKEM9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NhbGN1bGF0b3Ivdmlld3BvcnRDb2x1bW5zIiksQyYmQy5fX2VzTW9kdWxlJiZDfHx7ImRlZmF1bHQiOkN9KS5XYWxrb250YWJsZVZpZXdwb3J0Q29sdW1uc0NhbGN1bGF0b3IpO0hhbmRzb250YWJsZS5hY3RpdmVHdWlkPW51bGwsSGFuZHNvbnRhYmxlLkNvcmU9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7dmFyIGU9ITE7cmV0dXJue3ZhbGlkYXRvcnNJblF1ZXVlOjAsdmFsaWQ6ITAsYWRkVmFsaWRhdG9yVG9RdWV1ZTpmdW5jdGlvbigpe3RoaXMudmFsaWRhdG9yc0luUXVldWUrKyxlPSExfSxyZW1vdmVWYWxpZGF0b3JGb3JtUXVldWU6ZnVuY3Rpb24oKXt0aGlzLnZhbGlkYXRvcnNJblF1ZXVlPXRoaXMudmFsaWRhdG9yc0luUXVldWUtMTwwPzA6dGhpcy52YWxpZGF0b3JzSW5RdWV1ZS0xLHRoaXMuY2hlY2tJZlF1ZXVlSXNFbXB0eSgpfSxvblF1ZXVlRW1wdHk6ZnVuY3Rpb24oZSl7fSxjaGVja0lmUXVldWVJc0VtcHR5OmZ1bmN0aW9uKCl7MD09dGhpcy52YWxpZGF0b3JzSW5RdWV1ZSYmMD09ZSYmKGU9ITAsdGhpcy5vblF1ZXVlRW1wdHkodGhpcy52YWxpZCkpfX19ZnVuY3Rpb24gbyhlLHQsbyl7ZnVuY3Rpb24gcigpe3ZhciBuO2UubGVuZ3RoJiYobj1IYW5kc29udGFibGUuaG9va3MucnVuKG0sImJlZm9yZUNoYW5nZSIsZSx0KSwiZnVuY3Rpb24iPT10eXBlb2Ygbj9jb25zb2xlLndhcm4oIllvdXIgYmVmb3JlQ2hhbmdlIGNhbGxiYWNrIHJldHVybnMgYSBmdW5jdGlvbi4gSXQncyBub3Qgc3VwcG9ydGVkIHNpbmNlIEhhbmRzb250YWJsZSAwLjEyLjEgKGFuZCB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gd2lsbCBub3QgYmUgZXhlY3V0ZWQpLiIpOm49PT0hMSYmZS5zcGxpY2UoMCxlLmxlbmd0aCkpLG8oKX12YXIgaT1uZXcgbjtpLm9uUXVldWVFbXB0eT1yO2Zvcih2YXIgcz1lLmxlbmd0aC0xO3M+PTA7cy0tKWlmKG51bGw9PT1lW3NdKWUuc3BsaWNlKHMsMSk7ZWxzZXt2YXIgYT1lW3NdWzBdLGw9ZC5wcm9wVG9Db2woZVtzXVsxXSksdT1tLnJ1bkhvb2tzKCJtb2RpZnlDb2wiLGwpLGM9bS5nZXRDZWxsTWV0YShhLHUpO2lmKCJudW1lcmljIj09PWMudHlwZSYmInN0cmluZyI9PXR5cGVvZiBlW3NdWzNdJiZlW3NdWzNdLmxlbmd0aD4wJiYoL14tP1tcZFxzXSooXC58XCwpP1xkKiQvLnRlc3QoZVtzXVszXSl8fGMuZm9ybWF0KSl7dmFyIGg9ZVtzXVszXS5sZW5ndGg7InVuZGVmaW5lZCI9PXR5cGVvZiBjLmxhbmd1YWdlP1IubGFuZ3VhZ2UoImVuIik6ZVtzXVszXS5pbmRleE9mKCIuIik9PT1oLTMmJi0xPT09ZVtzXVszXS5pbmRleE9mKCIsIik/Ui5sYW5ndWFnZSgiZW4iKTpSLmxhbmd1YWdlKGMubGFuZ3VhZ2UpLFIudmFsaWRhdGUoZVtzXVszXSkmJihlW3NdWzNdPVIoKS51bmZvcm1hdChlW3NdWzNdKSl9bS5nZXRDZWxsVmFsaWRhdG9yKGMpJiYoaS5hZGRWYWxpZGF0b3JUb1F1ZXVlKCksbS52YWxpZGF0ZUNlbGwoZVtzXVszXSxjLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKCJib29sZWFuIiE9dHlwZW9mIG8pdGhyb3cgbmV3IEVycm9yKCJWYWxpZGF0aW9uIGVycm9yOiByZXN1bHQgaXMgbm90IGJvb2xlYW4iKTtvPT09ITEmJm4uYWxsb3dJbnZhbGlkPT09ITEmJihlLnNwbGljZSh0LDEpLG4udmFsaWQ9ITAsLS10KSxpLnJlbW92ZVZhbGlkYXRvckZvcm1RdWV1ZSgpfX0ocyxjKSx0KSl9aS5jaGVja0lmUXVldWVJc0VtcHR5KCl9ZnVuY3Rpb24gcihlLHQpe3ZhciBuPWUubGVuZ3RoLTE7aWYoISgwPm4pKXtmb3IoO24+PTA7bi0tKWlmKG51bGwhPT1lW25dKXtpZihudWxsIT1lW25dWzJdfHxudWxsIT1lW25dWzNdKXtpZihjLnNldHRpbmdzLmFsbG93SW5zZXJ0Um93KWZvcig7ZVtuXVswXT5tLmNvdW50Um93cygpLTE7KWQuY3JlYXRlUm93KCk7aWYoImFycmF5Ij09PW0uZGF0YVR5cGUmJmMuc2V0dGluZ3MuYWxsb3dJbnNlcnRDb2x1bW4pZm9yKDtkLnByb3BUb0NvbChlW25dWzFdKT5tLmNvdW50Q29scygpLTE7KWQuY3JlYXRlQ29sKCk7ZC5zZXQoZVtuXVswXSxlW25dWzFdLGVbbl1bM10pfX1lbHNlIGUuc3BsaWNlKG4sMSk7bS5mb3JjZUZ1bGxSZW5kZXI9ITAsZi5hZGp1c3RSb3dzQW5kQ29scygpLEhhbmRzb250YWJsZS5ob29rcy5ydW4obSwiYmVmb3JlQ2hhbmdlUmVuZGVyIixlLHQpLHAucmVmcmVzaEJvcmRlcnMobnVsbCwhMCksbS52aWV3Lnd0Lnd0T3ZlcmxheXMuYWRqdXN0RWxlbWVudHNTaXplKCksSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihtLCJhZnRlckNoYW5nZSIsZSx0fHwiZWRpdCIpfX1mdW5jdGlvbiBpKGUsdCxuKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/ZTpbW2UsdCxuXV19ZnVuY3Rpb24gcyhlKXtpZihlLmhhc093blByb3BlcnR5KCJ0eXBlIikpe3ZhciB0LG49e307aWYoIm9iamVjdCI9PXR5cGVvZiBlLnR5cGUpdD1lLnR5cGU7ZWxzZSBpZigic3RyaW5nIj09dHlwZW9mIGUudHlwZSYmKHQ9SGFuZHNvbnRhYmxlLmNlbGxUeXBlc1tlLnR5cGVdLHZvaWQgMD09PXQpKXRocm93IG5ldyBFcnJvcignWW91IGRlY2xhcmVkIGNlbGwgdHlwZSAiJytlLnR5cGUrJyIgYXMgYSBzdHJpbmcgdGhhdCBpcyBub3QgbWFwcGVkIHRvIGEga25vd24gb2JqZWN0LiBDZWxsIHR5cGUgbXVzdCBiZSBhbiBvYmplY3Qgb3IgYSBzdHJpbmcgbWFwcGVkIHRvIGFuIG9iamVjdCBpbiBIYW5kc29udGFibGUuY2VsbFR5cGVzJyk7Zm9yKHZhciBvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmIWUuaGFzT3duUHJvcGVydHkobykmJihuW29dPXRbb10pO3JldHVybiBufX1mdW5jdGlvbiBhKGUpe3JldHVybiBIYW5kc29udGFibGUuaG9va3MucnVuKG0sIm1vZGlmeVJvdyIsZSl9ZnVuY3Rpb24gbChlKXtyZXR1cm4gSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihtLCJtb2RpZnlDb2wiLGUpfWZ1bmN0aW9uIHUoKXt0aHJvdyBuZXcgRXJyb3IoIlRoaXMgbWV0aG9kIGNhbm5vdCBiZSBjYWxsZWQgYmVjYXVzZSB0aGlzIEhhbmRzb250YWJsZSBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWQiKX12YXIgYyxkLGgsZixwLGcsbT10aGlzLHY9ZnVuY3Rpb24oKXt9LHc9RChtKTtBKHYucHJvdG90eXBlLFEucHJvdG90eXBlKSxBKHYucHJvdG90eXBlLHQpLEEodi5wcm90b3R5cGUscyh0KSksdGhpcy5yb290RWxlbWVudD1lLHRoaXMuaXNIb3RUYWJsZUVudj1UKHRoaXMucm9vdEVsZW1lbnQpLEhhbmRzb250YWJsZS5ldmVudE1hbmFnZXIuaXNIb3RUYWJsZUVudj10aGlzLmlzSG90VGFibGVFbnYsdGhpcy5jb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdGhpcy5yZW5kZXJDYWxsPSExLGUuaW5zZXJ0QmVmb3JlKHRoaXMuY29udGFpbmVyLGUuZmlyc3RDaGlsZCksdGhpcy5ndWlkPSJodF8iK0YoKSxoPW5ldyBVKG0pLHRoaXMucm9vdEVsZW1lbnQuaWQmJiJodF8iIT09dGhpcy5yb290RWxlbWVudC5pZC5zdWJzdHJpbmcoMCwzKXx8KHRoaXMucm9vdEVsZW1lbnQuaWQ9dGhpcy5ndWlkKSxjPXtjZWxsU2V0dGluZ3M6W10sY29sdW1uU2V0dGluZ3M6W10sY29sdW1uc1NldHRpbmdDb25mbGljdHM6WyJkYXRhIiwid2lkdGgiXSxzZXR0aW5nczpuZXcgdixzZWxSYW5nZTpudWxsLGlzUG9wdWxhdGVkOm51bGwsc2Nyb2xsYWJsZTpudWxsLGZpcnN0UnVuOiEwfSxmPXthbHRlcjpmdW5jdGlvbihlLHQsbixvLHIpe2Z1bmN0aW9uIGkoZSx0LG4sbyl7dmFyIHI9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4iYXJyYXkiPT09bz9lPVtdOiJvYmplY3QiPT09byYmKGU9e30pLGV9LGk9aihuZXcgQXJyYXkobiksZnVuY3Rpb24oKXtyZXR1cm4gcigpfSk7aS51bnNoaWZ0KHQsMCksZS5zcGxpY2UuYXBwbHkoZSxpKX12YXIgcztzd2l0Y2gobj1ufHwxLGUpe2Nhc2UiaW5zZXJ0X3JvdyI6aWYobS5nZXRTZXR0aW5ncygpLm1heFJvd3M9PT1tLmNvdW50U291cmNlUm93cygpKXJldHVybjtzPWQuY3JlYXRlUm93KHQsbiksaShjLmNlbGxTZXR0aW5ncyx0LG4sImFycmF5IikscyYmKHAuaXNTZWxlY3RlZCgpJiZjLnNlbFJhbmdlLmZyb20ucm93Pj10PyhjLnNlbFJhbmdlLmZyb20ucm93PWMuc2VsUmFuZ2UuZnJvbS5yb3crcyxwLnRyYW5zZm9ybUVuZChzLDApKTpwLnJlZnJlc2hCb3JkZXJzKCkpO2JyZWFrO2Nhc2UiaW5zZXJ0X2NvbCI6cz1kLmNyZWF0ZUNvbCh0LG4pO2Zvcih2YXIgYT0wLGw9bS5jb3VudFNvdXJjZVJvd3MoKTtsPmE7YSsrKWMuY2VsbFNldHRpbmdzW2FdJiZpKGMuY2VsbFNldHRpbmdzW2FdLHQsbik7aWYocyl7aWYoQXJyYXkuaXNBcnJheShtLmdldFNldHRpbmdzKCkuY29sSGVhZGVycykpe3ZhciB1PVt0LDBdO3UubGVuZ3RoKz1zLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkobS5nZXRTZXR0aW5ncygpLmNvbEhlYWRlcnMsdSl9cC5pc1NlbGVjdGVkKCkmJmMuc2VsUmFuZ2UuZnJvbS5jb2w+PXQ/KGMuc2VsUmFuZ2UuZnJvbS5jb2w9Yy5zZWxSYW5nZS5mcm9tLmNvbCtzLHAudHJhbnNmb3JtRW5kKDAscykpOnAucmVmcmVzaEJvcmRlcnMoKX1icmVhaztjYXNlInJlbW92ZV9yb3ciOmQucmVtb3ZlUm93KHQsbiksYy5jZWxsU2V0dGluZ3Muc3BsaWNlKHQsbik7dmFyIGg9bS5jb3VudFJvd3MoKSxnPW0uZ2V0U2V0dGluZ3MoKS5maXhlZFJvd3NUb3A7Zz49dCsxJiYobS5nZXRTZXR0aW5ncygpLmZpeGVkUm93c1RvcC09TWF0aC5taW4obixnLXQpKTt2YXIgdj1tLmdldFNldHRpbmdzKCkuZml4ZWRSb3dzQm90dG9tO3YmJnQ+PWgtdiYmKG0uZ2V0U2V0dGluZ3MoKS5maXhlZFJvd3NCb3R0b20tPU1hdGgubWluKG4sdikpLGYuYWRqdXN0Um93c0FuZENvbHMoKSxwLnJlZnJlc2hCb3JkZXJzKCk7YnJlYWs7Y2FzZSJyZW1vdmVfY29sIjpkLnJlbW92ZUNvbCh0LG4pO2Zvcih2YXIgdz0wLHk9bS5jb3VudFNvdXJjZVJvd3MoKTt5Pnc7dysrKWMuY2VsbFNldHRpbmdzW3ddJiZjLmNlbGxTZXR0aW5nc1t3XS5zcGxpY2UodCxuKTt2YXIgYj1tLmdldFNldHRpbmdzKCkuZml4ZWRDb2x1bW5zTGVmdDtiPj10KzEmJihtLmdldFNldHRpbmdzKCkuZml4ZWRDb2x1bW5zTGVmdC09TWF0aC5taW4obixiLXQpKSxBcnJheS5pc0FycmF5KG0uZ2V0U2V0dGluZ3MoKS5jb2xIZWFkZXJzKSYmKCJ1bmRlZmluZWQiPT10eXBlb2YgdCYmKHQ9LTEpLG0uZ2V0U2V0dGluZ3MoKS5jb2xIZWFkZXJzLnNwbGljZSh0LG4pKSxmLmFkanVzdFJvd3NBbmRDb2xzKCkscC5yZWZyZXNoQm9yZGVycygpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBzdWNoIGFjdGlvbiAiJytlKyciJyl9cnx8Zi5hZGp1c3RSb3dzQW5kQ29scygpfSxhZGp1c3RSb3dzQW5kQ29sczpmdW5jdGlvbigpe2lmKGMuc2V0dGluZ3MubWluUm93cyl7dmFyIGU9bS5jb3VudFJvd3MoKTtpZihlPGMuc2V0dGluZ3MubWluUm93cylmb3IodmFyIHQ9MCxuPWMuc2V0dGluZ3MubWluUm93cztuLWU+dDt0KyspZC5jcmVhdGVSb3cobS5jb3VudFJvd3MoKSwxLCEwKX1pZihjLnNldHRpbmdzLm1pblNwYXJlUm93cyl7dmFyIG89bS5jb3VudEVtcHR5Um93cyghMCk7aWYobzxjLnNldHRpbmdzLm1pblNwYXJlUm93cylmb3IoO288Yy5zZXR0aW5ncy5taW5TcGFyZVJvd3MmJm0uY291bnRSb3dzKCk8Yy5zZXR0aW5ncy5tYXhSb3dzO28rKylkLmNyZWF0ZVJvdyhtLmNvdW50Um93cygpLDEsITApfXZhciByO2lmKChjLnNldHRpbmdzLm1pbkNvbHN8fGMuc2V0dGluZ3MubWluU3BhcmVDb2xzKSYmKHI9bS5jb3VudEVtcHR5Q29scyghMCkpLGMuc2V0dGluZ3MubWluQ29scyYmIWMuc2V0dGluZ3MuY29sdW1ucyYmbS5jb3VudENvbHMoKTxjLnNldHRpbmdzLm1pbkNvbHMpZm9yKDttLmNvdW50Q29scygpPGMuc2V0dGluZ3MubWluQ29scztyKyspZC5jcmVhdGVDb2wobS5jb3VudENvbHMoKSwxLCEwKTtpZihjLnNldHRpbmdzLm1pblNwYXJlQ29scyYmIWMuc2V0dGluZ3MuY29sdW1ucyYmImFycmF5Ij09PW0uZGF0YVR5cGUmJnI8Yy5zZXR0aW5ncy5taW5TcGFyZUNvbHMpZm9yKDtyPGMuc2V0dGluZ3MubWluU3BhcmVDb2xzJiZtLmNvdW50Q29scygpPGMuc2V0dGluZ3MubWF4Q29scztyKyspZC5jcmVhdGVDb2wobS5jb3VudENvbHMoKSwxLCEwKTt2YXIgaT1tLmNvdW50Um93cygpLHM9bS5jb3VudENvbHMoKTtpZigoMD09PWl8fDA9PT1zKSYmcC5kZXNlbGVjdCgpLHAuaXNTZWxlY3RlZCgpKXt2YXIgYT0hMSxsPWMuc2VsUmFuZ2UuZnJvbS5yb3csdT1jLnNlbFJhbmdlLmZyb20uY29sLGg9Yy5zZWxSYW5nZS50by5yb3csZj1jLnNlbFJhbmdlLnRvLmNvbDtsPmktMT8obD1pLTEsYT0hMCxoPmwmJihoPWwpKTpoPmktMSYmKGg9aS0xLGE9ITAsbD5oJiYobD1oKSksdT5zLTE/KHU9cy0xLGE9ITAsZj51JiYoZj11KSk6Zj5zLTEmJihmPXMtMSxhPSEwLHU+ZiYmKHU9ZikpLGEmJm0uc2VsZWN0Q2VsbChsLHUsaCxmKX1tLnZpZXcmJm0udmlldy53dC53dE92ZXJsYXlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpfSxwb3B1bGF0ZUZyb21BcnJheTpmdW5jdGlvbihlLHQsbixvLHIsaSxzKXt2YXIgYSxsLHUsZCxoPVtdLGY9e307aWYobD10Lmxlbmd0aCwwPT09bClyZXR1cm4hMTt2YXIgcCxnLHYsdzsoe3JvdzpudWxsPT09bj9udWxsOm4ucm93LGNvbDpudWxsPT09bj9udWxsOm4uY29sfSk7c3dpdGNoKHIpe2Nhc2Uic2hpZnRfZG93biI6Zm9yKHA9bj9uLmNvbC1lLmNvbCsxOjAsZz1uP24ucm93LWUucm93KzE6MCx0PSQodCksdT0wLGQ9dC5sZW5ndGgsdj1NYXRoLm1heChkLHApO3Y+dTt1KyspaWYoZD51KXtmb3IoYT0wLGw9dFt1XS5sZW5ndGg7Zy1sPmE7YSsrKXRbdV0ucHVzaCh0W3VdW2ElbF0pO3RbdV0udW5zaGlmdChlLmNvbCt1LGUucm93LDApLG0uc3BsaWNlQ29sLmFwcGx5KG0sdFt1XSl9ZWxzZSB0W3UlZF1bMF09ZS5jb2wrdSxtLnNwbGljZUNvbC5hcHBseShtLHRbdSVkXSk7YnJlYWs7Y2FzZSJzaGlmdF9yaWdodCI6Zm9yKHA9bj9uLmNvbC1lLmNvbCsxOjAsZz1uP24ucm93LWUucm93KzE6MCxhPTAsbD10Lmxlbmd0aCx3PU1hdGgubWF4KGwsZyk7dz5hO2ErKylpZihsPmEpe2Zvcih1PTAsZD10W2FdLmxlbmd0aDtwLWQ+dTt1KyspdFthXS5wdXNoKHRbYV1bdSVkXSk7dFthXS51bnNoaWZ0KGUucm93K2EsZS5jb2wsMCksbS5zcGxpY2VSb3cuYXBwbHkobSx0W2FdKX1lbHNlIHRbYSVsXVswXT1lLnJvdythLG0uc3BsaWNlUm93LmFwcGx5KG0sdFthJWxdKTticmVhaztjYXNlIm92ZXJ3cml0ZSI6ZGVmYXVsdDpmLnJvdz1lLnJvdyxmLmNvbD1lLmNvbDt2YXIgeSxiPXtyb3c6biYmZT9uLnJvdy1lLnJvdysxOjEsY29sOm4mJmU/bi5jb2wtZS5jb2wrMToxfSxDPTAsUj0wLF89ITAsUz1mdW5jdGlvbihlKXt2YXIgbj12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbz10W2UldC5sZW5ndGhdO3JldHVybiBudWxsIT09bj9vW24lby5sZW5ndGhdOm99LEU9dC5sZW5ndGgsVD1uP24ucm93LWUucm93KzE6MDtmb3IobD1uP1Q6TWF0aC5tYXgoRSxUKSxhPTA7bD5hJiYhKG4mJmYucm93Pm4ucm93JiZUPkV8fCFjLnNldHRpbmdzLmFsbG93SW5zZXJ0Um93JiZmLnJvdz5tLmNvdW50Um93cygpLTF8fGYucm93Pj1jLnNldHRpbmdzLm1heFJvd3MpO2ErKyl7dmFyIE09YS1DLE89UyhNKS5sZW5ndGgsaz1uP24uY29sLWUuY29sKzE6MDtpZihkPW4/azpNYXRoLm1heChPLGspLGYuY29sPWUuY29sLHk9bS5nZXRDZWxsTWV0YShmLnJvdyxmLmNvbCksInBhc3RlIiE9PW8mJiJhdXRvZmlsbCIhPT1vfHwheS5za2lwUm93T25QYXN0ZSl7Zm9yKFI9MCx1PTA7ZD51JiYhKG4mJmYuY29sPm4uY29sJiZrPk98fCFjLnNldHRpbmdzLmFsbG93SW5zZXJ0Q29sdW1uJiZmLmNvbD5tLmNvdW50Q29scygpLTF8fGYuY29sPj1jLnNldHRpbmdzLm1heENvbHMpO3UrKylpZih5PW0uZ2V0Q2VsbE1ldGEoZi5yb3csZi5jb2wpLCJwYXN0ZSIhPT1vJiYiYXV0b2ZpbGwiIT09b3x8IXkuc2tpcENvbHVtbk9uUGFzdGUpaWYoeS5yZWFkT25seSlmLmNvbCsrO2Vsc2V7dmFyIEg9dS1SLEQ9UyhNLEgpLHg9bS5nZXREYXRhQXRDZWxsKGYucm93LGYuY29sKSxBPXtyb3c6TSxjb2w6SH07aWYoImF1dG9maWxsIj09PW8pe3ZhciBXPW0ucnVuSG9va3MoImJlZm9yZUF1dG9maWxsSW5zaWRlUG9wdWxhdGUiLEEsaSx0LHMse30sYik7VyYmKEQ9InVuZGVmaW5lZCI9PXR5cGVvZiBXLnZhbHVlP0Q6Vy52YWx1ZSl9aWYobnVsbCE9PUQmJiJvYmplY3QiPT10eXBlb2YgRClpZihudWxsPT09eHx8Im9iamVjdCIhPXR5cGVvZiB4KV89ITE7ZWxzZXt2YXIgST1QKHhbMF18fHgpLGo9UChEWzBdfHxEKTtOKEksaik/RD1MKEQpOl89ITF9ZWxzZSBudWxsIT09eCYmIm9iamVjdCI9PXR5cGVvZiB4JiYoXz0hMSk7XyYmaC5wdXNoKFtmLnJvdyxmLmNvbCxEXSksXz0hMCxmLmNvbCsrfWVsc2UgUisrLGYuY29sKyssZCsrO2Yucm93Kyt9ZWxzZSBDKyssZi5yb3crKyxsKyt9bS5zZXREYXRhQXRDZWxsKGgsbnVsbCxudWxsLG98fCJwb3B1bGF0ZUZyb21BcnJheSIpfX19LHRoaXMuc2VsZWN0aW9uPXA9e2luUHJvZ3Jlc3M6ITEsc2VsZWN0ZWRIZWFkZXI6e2NvbHM6ITEscm93czohMX0sc2V0U2VsZWN0ZWRIZWFkZXJzOmZ1bmN0aW9uKGUsdCl7bS5zZWxlY3Rpb24uc2VsZWN0ZWRIZWFkZXIucm93cz1lLG0uc2VsZWN0aW9uLnNlbGVjdGVkSGVhZGVyLmNvbHM9dH0sYmVnaW46ZnVuY3Rpb24oKXttLnNlbGVjdGlvbi5pblByb2dyZXNzPSEwfSxmaW5pc2g6ZnVuY3Rpb24oKXt2YXIgZT1tLmdldFNlbGVjdGVkKCk7SGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihtLCJhZnRlclNlbGVjdGlvbkVuZCIsZVswXSxlWzFdLGVbMl0sZVszXSksSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihtLCJhZnRlclNlbGVjdGlvbkVuZEJ5UHJvcCIsZVswXSxtLmNvbFRvUHJvcChlWzFdKSxlWzJdLG0uY29sVG9Qcm9wKGVbM10pKSxtLnNlbGVjdGlvbi5pblByb2dyZXNzPSExfSxpc0luUHJvZ3Jlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gbS5zZWxlY3Rpb24uaW5Qcm9ncmVzc30sc2V0UmFuZ2VTdGFydDpmdW5jdGlvbihlLHQpe0hhbmRzb250YWJsZS5ob29rcy5ydW4obSwiYmVmb3JlU2V0UmFuZ2VTdGFydCIsZSksYy5zZWxSYW5nZT1uZXcgWihlLGUsZSkscC5zZXRSYW5nZUVuZChlLG51bGwsdCl9LHNldFJhbmdlRW5kOmZ1bmN0aW9uKGUsdCxuKXtpZihudWxsIT09Yy5zZWxSYW5nZSl7dmFyIG8scj0hMSxpPSEwLHM9bS52aWV3Lnd0Lnd0VGFibGUuZ2V0Rmlyc3RWaXNpYmxlUm93KCksYT1tLnZpZXcud3Qud3RUYWJsZS5nZXRGaXJzdFZpc2libGVDb2x1bW4oKSxsPXtyb3c6bnVsbCxjb2w6bnVsbH07SGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihtLCJiZWZvcmVTZXRSYW5nZUVuZCIsZSksbS5zZWxlY3Rpb24uYmVnaW4oKSxsLnJvdz1lLnJvdzwwP3M6ZS5yb3csbC5jb2w9ZS5jb2w8MD9hOmUuY29sLGMuc2VsUmFuZ2UudG89bmV3IHEobC5yb3csbC5jb2wpLGMuc2V0dGluZ3MubXVsdGlTZWxlY3R8fChjLnNlbFJhbmdlLmZyb209ZSksbS52aWV3Lnd0LnNlbGVjdGlvbnMuY3VycmVudC5jbGVhcigpLG89bS5nZXRDZWxsTWV0YShjLnNlbFJhbmdlLmhpZ2hsaWdodC5yb3csYy5zZWxSYW5nZS5oaWdobGlnaHQuY29sKS5kaXNhYmxlVmlzdWFsU2VsZWN0aW9uLCJzdHJpbmciPT10eXBlb2YgbyYmKG89W29dKSwobz09PSExfHxBcnJheS5pc0FycmF5KG8pJiYtMT09PW8uaW5kZXhPZigiY3VycmVudCIpKSYmbS52aWV3Lnd0LnNlbGVjdGlvbnMuY3VycmVudC5hZGQoYy5zZWxSYW5nZS5oaWdobGlnaHQpLG0udmlldy53dC5zZWxlY3Rpb25zLmFyZWEuY2xlYXIoKSwobz09PSExfHxBcnJheS5pc0FycmF5KG8pJiYtMT09PW8uaW5kZXhPZigiYXJlYSIpKSYmcC5pc011bHRpcGxlKCkmJihtLnZpZXcud3Quc2VsZWN0aW9ucy5hcmVhLmFkZChjLnNlbFJhbmdlLmZyb20pLG0udmlldy53dC5zZWxlY3Rpb25zLmFyZWEuYWRkKGMuc2VsUmFuZ2UudG8pKSwoYy5zZXR0aW5ncy5jdXJyZW50Um93Q2xhc3NOYW1lfHxjLnNldHRpbmdzLmN1cnJlbnRDb2xDbGFzc05hbWUpJiYobS52aWV3Lnd0LnNlbGVjdGlvbnMuaGlnaGxpZ2h0LmNsZWFyKCksbS52aWV3Lnd0LnNlbGVjdGlvbnMuaGlnaGxpZ2h0LmFkZChjLnNlbFJhbmdlLmZyb20pLG0udmlldy53dC5zZWxlY3Rpb25zLmhpZ2hsaWdodC5hZGQoYy5zZWxSYW5nZS50bykpLEhhbmRzb250YWJsZS5ob29rcy5ydW4obSwiYWZ0ZXJTZWxlY3Rpb24iLGMuc2VsUmFuZ2UuZnJvbS5yb3csYy5zZWxSYW5nZS5mcm9tLmNvbCxjLnNlbFJhbmdlLnRvLnJvdyxjLnNlbFJhbmdlLnRvLmNvbCksSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihtLCJhZnRlclNlbGVjdGlvbkJ5UHJvcCIsYy5zZWxSYW5nZS5mcm9tLnJvdyxkLmNvbFRvUHJvcChjLnNlbFJhbmdlLmZyb20uY29sKSxjLnNlbFJhbmdlLnRvLnJvdyxkLmNvbFRvUHJvcChjLnNlbFJhbmdlLnRvLmNvbCkpLCgwPT09Yy5zZWxSYW5nZS5mcm9tLnJvdyYmYy5zZWxSYW5nZS50by5yb3c9PT1tLmNvdW50Um93cygpLTEmJm0uY291bnRSb3dzKCk+MXx8MD09PWMuc2VsUmFuZ2UuZnJvbS5jb2wmJmMuc2VsUmFuZ2UudG8uY29sPT09bS5jb3VudENvbHMoKS0xJiZtLmNvdW50Q29scygpPjEpJiYocj0hMCksKGUucm93PDB8fGUuY29sPDApJiYoaT0hMSksdCE9PSExJiYhciYmaSYmKGMuc2VsUmFuZ2UuZnJvbSYmIXAuaXNNdWx0aXBsZSgpP20udmlldy5zY3JvbGxWaWV3cG9ydChjLnNlbFJhbmdlLmZyb20pOm0udmlldy5zY3JvbGxWaWV3cG9ydChlKSkscC5yZWZyZXNoQm9yZGVycyhudWxsLG4pfX0scmVmcmVzaEJvcmRlcnM6ZnVuY3Rpb24oZSx0KXt0fHxnLmRlc3Ryb3lFZGl0b3IoZSksbS52aWV3LnJlbmRlcigpLHAuaXNTZWxlY3RlZCgpJiYhdCYmZy5wcmVwYXJlRWRpdG9yKCl9LGlzTXVsdGlwbGU6ZnVuY3Rpb24oKXt2YXIgZT0hKGMuc2VsUmFuZ2UudG8uY29sPT09Yy5zZWxSYW5nZS5mcm9tLmNvbCYmYy5zZWxSYW5nZS50by5yb3c9PT1jLnNlbFJhbmdlLmZyb20ucm93KSx0PUhhbmRzb250YWJsZS5ob29rcy5ydW4obSwiYWZ0ZXJJc011bHRpcGxlU2VsZWN0aW9uIixlKTtyZXR1cm4gZT90OnZvaWQgMH0sdHJhbnNmb3JtU3RhcnQ6ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIHIsaSxzLGEsbD1uZXcgcShlLHQpLHU9MCxkPTA7bS5ydW5Ib29rcygibW9kaWZ5VHJhbnNmb3JtU3RhcnQiLGwpLHI9bS5jb3VudFJvd3MoKSxpPW0uY291bnRDb2xzKCksYT1tLmdldFNldHRpbmdzKCkuZml4ZWRSb3dzQm90dG9tLGMuc2VsUmFuZ2UuaGlnaGxpZ2h0LnJvdytlPnItMT9uJiZjLnNldHRpbmdzLm1pblNwYXJlUm93cz4wJiYhKGEmJmMuc2VsUmFuZ2UuaGlnaGxpZ2h0LnJvdz49ci1hLTEpPyhtLmFsdGVyKCJpbnNlcnRfcm93IixyKSxyPW0uY291bnRSb3dzKCkpOmMuc2V0dGluZ3MuYXV0b1dyYXBDb2wmJihsLnJvdz0xLXIsbC5jb2w9Yy5zZWxSYW5nZS5oaWdobGlnaHQuY29sK2wuY29sPT1pLTE/MS1pOjEpOmMuc2V0dGluZ3MuYXV0b1dyYXBDb2wmJmMuc2VsUmFuZ2UuaGlnaGxpZ2h0LnJvdytsLnJvdzwwJiZjLnNlbFJhbmdlLmhpZ2hsaWdodC5jb2wrbC5jb2w+PTAmJihsLnJvdz1yLTEsbC5jb2w9Yy5zZWxSYW5nZS5oaWdobGlnaHQuY29sK2wuY29sPT0wP2ktMTotMSksYy5zZWxSYW5nZS5oaWdobGlnaHQuY29sK2wuY29sPmktMT9uJiZjLnNldHRpbmdzLm1pblNwYXJlQ29scz4wPyhtLmFsdGVyKCJpbnNlcnRfY29sIixpKSxpPW0uY291bnRDb2xzKCkpOmMuc2V0dGluZ3MuYXV0b1dyYXBSb3cmJihsLnJvdz1jLnNlbFJhbmdlLmhpZ2hsaWdodC5yb3crbC5yb3c9PXItMT8xLXI6MSxsLmNvbD0xLWkpOmMuc2V0dGluZ3MuYXV0b1dyYXBSb3cmJmMuc2VsUmFuZ2UuaGlnaGxpZ2h0LmNvbCtsLmNvbDwwJiZjLnNlbFJhbmdlLmhpZ2hsaWdodC5yb3crbC5yb3c+PTAmJihsLnJvdz1jLnNlbFJhbmdlLmhpZ2hsaWdodC5yb3crbC5yb3c9PTA/ci0xOi0xLGwuY29sPWktMSkscz1uZXcgcShjLnNlbFJhbmdlLmhpZ2hsaWdodC5yb3crbC5yb3csYy5zZWxSYW5nZS5oaWdobGlnaHQuY29sK2wuY29sKSxzLnJvdzwwPyh1PS0xLHMucm93PTApOnMucm93PjAmJnMucm93Pj1yJiYodT0xLHMucm93PXItMSkscy5jb2w8MD8oZD0tMSxzLmNvbD0wKTpzLmNvbD4wJiZzLmNvbD49aSYmKGQ9MSxzLmNvbD1pLTEpLG0ucnVuSG9va3MoImFmdGVyTW9kaWZ5VHJhbnNmb3JtU3RhcnQiLHMsdSxkKSxwLnNldFJhbmdlU3RhcnQocyxvKX0sdHJhbnNmb3JtRW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG4sbyxyLGk9bmV3IHEoZSx0KSxzPTAsYT0wO20ucnVuSG9va3MoIm1vZGlmeVRyYW5zZm9ybUVuZCIsaSksbj1tLmNvdW50Um93cygpLG89bS5jb3VudENvbHMoKSxyPW5ldyBxKGMuc2VsUmFuZ2UudG8ucm93K2kucm93LGMuc2VsUmFuZ2UudG8uY29sK2kuY29sKSxyLnJvdzwwPyhzPS0xLHIucm93PTApOnIucm93PjAmJnIucm93Pj1uJiYocz0xLHIucm93PW4tMSksci5jb2w8MD8oYT0tMSxyLmNvbD0wKTpyLmNvbD4wJiZyLmNvbD49byYmKGE9MSxyLmNvbD1vLTEpLG0ucnVuSG9va3MoImFmdGVyTW9kaWZ5VHJhbnNmb3JtRW5kIixyLHMsYSkscC5zZXRSYW5nZUVuZChyLCEwKX0saXNTZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiBudWxsIT09Yy5zZWxSYW5nZX0saW5JblNlbGVjdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gcC5pc1NlbGVjdGVkKCk/Yy5zZWxSYW5nZS5pbmNsdWRlcyhlKTohMX0sZGVzZWxlY3Q6ZnVuY3Rpb24oKXtwLmlzU2VsZWN0ZWQoKSYmKG0uc2VsZWN0aW9uLmluUHJvZ3Jlc3M9ITEsYy5zZWxSYW5nZT1udWxsLG0udmlldy53dC5zZWxlY3Rpb25zLmN1cnJlbnQuY2xlYXIoKSxtLnZpZXcud3Quc2VsZWN0aW9ucy5hcmVhLmNsZWFyKCksKGMuc2V0dGluZ3MuY3VycmVudFJvd0NsYXNzTmFtZXx8Yy5zZXR0aW5ncy5jdXJyZW50Q29sQ2xhc3NOYW1lKSYmbS52aWV3Lnd0LnNlbGVjdGlvbnMuaGlnaGxpZ2h0LmNsZWFyKCksZy5kZXN0cm95RWRpdG9yKCkscC5yZWZyZXNoQm9yZGVycygpLEhhbmRzb250YWJsZS5ob29rcy5ydW4obSwiYWZ0ZXJEZXNlbGVjdCIpKX0sc2VsZWN0QWxsOmZ1bmN0aW9uKCl7Yy5zZXR0aW5ncy5tdWx0aVNlbGVjdCYmKHAuc2V0UmFuZ2VTdGFydChuZXcgcSgwLDApKSxwLnNldFJhbmdlRW5kKG5ldyBxKG0uY291bnRSb3dzKCktMSxtLmNvdW50Q29scygpLTEpLCExKSl9LGVtcHR5OmZ1bmN0aW9uKCl7aWYocC5pc1NlbGVjdGVkKCkpe3ZhciBlLHQsbj1jLnNlbFJhbmdlLmdldFRvcExlZnRDb3JuZXIoKSxvPWMuc2VsUmFuZ2UuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSxyPVtdO2ZvcihlPW4ucm93O2U8PW8ucm93O2UrKylmb3IodD1uLmNvbDt0PD1vLmNvbDt0KyspbS5nZXRDZWxsTWV0YShlLHQpLnJlYWRPbmx5fHxyLnB1c2goW2UsdCwiIl0pO20uc2V0RGF0YUF0Q2VsbChyKX19fSx0aGlzLmluaXQ9ZnVuY3Rpb24oKXtoLnNldERhdGEoYy5zZXR0aW5ncy5kYXRhKSxIYW5kc29udGFibGUuaG9va3MucnVuKG0sImJlZm9yZUluaXQiKSxIYW5kc29udGFibGUubW9iaWxlQnJvd3NlciYmUyhtLnJvb3RFbGVtZW50LCJtb2JpbGUiKSx0aGlzLnVwZGF0ZVNldHRpbmdzKGMuc2V0dGluZ3MsITApLHRoaXMudmlldz1uZXcgWSh0aGlzKSxnPW5ldyBIKG0sYyxwLGQpLHRoaXMuZm9yY2VGdWxsUmVuZGVyPSEwLEhhbmRzb250YWJsZS5ob29rcy5ydW4obSwiaW5pdCIpLHRoaXMudmlldy5yZW5kZXIoKSwib2JqZWN0Ij09dHlwZW9mIGMuZmlyc3RSdW4mJihIYW5kc29udGFibGUuaG9va3MucnVuKG0sImFmdGVyQ2hhbmdlIixjLmZpcnN0UnVuWzBdLGMuZmlyc3RSdW5bMV0pLGMuZmlyc3RSdW49ITEpLEhhbmRzb250YWJsZS5ob29rcy5ydW4obSwiYWZ0ZXJJbml0Iil9LHRoaXMudmFsaWRhdGVDZWxsPWZ1bmN0aW9uKGUsdCxuLG8pe2Z1bmN0aW9uIHIoZSl7dmFyIG89dC52aXN1YWxDb2wscj10LnZpc3VhbFJvdyxpPW0uZ2V0Q2VsbChyLG8sITApO2kmJm0udmlldy53dC53dFNldHRpbmdzLnNldHRpbmdzLmNlbGxSZW5kZXJlcihyLG8saSksbihlKX12YXIgaT1tLmdldENlbGxWYWxpZGF0b3IodCk7IltvYmplY3QgUmVnRXhwXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaSkmJihpPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe24oZS50ZXN0KHQpKX19KGkpKSwiZnVuY3Rpb24iPT10eXBlb2YgaT8oZT1IYW5kc29udGFibGUuaG9va3MucnVuKG0sImJlZm9yZVZhbGlkYXRlIixlLHQudmlzdWFsUm93LHQucHJvcCxvKSxtLl9yZWdpc3RlclRpbWVvdXQoc2V0VGltZW91dChmdW5jdGlvbigpe2kuY2FsbCh0LGUsZnVuY3Rpb24obil7bj1IYW5kc29udGFibGUuaG9va3MucnVuKG0sImFmdGVyVmFsaWRhdGUiLG4sZSx0LnZpc3VhbFJvdyx0LnByb3AsbyksdC52YWxpZD1uLHIobiksSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihtLCJwb3N0QWZ0ZXJWYWxpZGF0ZSIsbixlLHQudmlzdWFsUm93LHQucHJvcCxvKX0pfSwwKSkpOih0LnZhbGlkPSEwLHIodC52YWxpZCkpfSx0aGlzLnNldERhdGFBdENlbGw9ZnVuY3Rpb24oZSx0LG4scyl7dmFyIGEsbCx1LGM9aShlLHQsbiksaD1bXTtmb3IoYT0wLGw9Yy5sZW5ndGg7bD5hO2ErKyl7aWYoIm9iamVjdCIhPXR5cGVvZiBjW2FdKXRocm93IG5ldyBFcnJvcigiTWV0aG9kIGBzZXREYXRhQXRDZWxsYCBhY2NlcHRzIHJvdyBudW1iZXIgb3IgY2hhbmdlcyBhcnJheSBvZiBhcnJheXMgYXMgaXRzIGZpcnN0IHBhcmFtZXRlciIpO2lmKCJudW1iZXIiIT10eXBlb2YgY1thXVsxXSl0aHJvdyBuZXcgRXJyb3IoIk1ldGhvZCBgc2V0RGF0YUF0Q2VsbGAgYWNjZXB0cyByb3cgYW5kIGNvbHVtbiBudW1iZXIgYXMgaXRzIHBhcmFtZXRlcnMuIElmIHlvdSB3YW50IHRvIHVzZSBvYmplY3QgcHJvcGVydHkgbmFtZSwgdXNlIG1ldGhvZCBgc2V0RGF0YUF0Um93UHJvcGAiKTt1PWQuY29sVG9Qcm9wKGNbYV1bMV0pLGgucHVzaChbY1thXVswXSx1LGQuZ2V0KGNbYV1bMF0sdSksY1thXVsyXV0pfXN8fCJvYmplY3QiIT10eXBlb2YgZXx8KHM9dCksbyhoLHMsZnVuY3Rpb24oKXtyKGgscyl9KX0sdGhpcy5zZXREYXRhQXRSb3dQcm9wPWZ1bmN0aW9uKGUsdCxuLHMpe3ZhciBhLGwsdT1pKGUsdCxuKSxjPVtdO2ZvcihhPTAsbD11Lmxlbmd0aDtsPmE7YSsrKWMucHVzaChbdVthXVswXSx1W2FdWzFdLGQuZ2V0KHVbYV1bMF0sdVthXVsxXSksdVthXVsyXV0pO3N8fCJvYmplY3QiIT10eXBlb2YgZXx8KHM9dCksbyhjLHMsZnVuY3Rpb24oKXtyKGMscyl9KX0sdGhpcy5saXN0ZW49ZnVuY3Rpb24oKXtIYW5kc29udGFibGUuYWN0aXZlR3VpZD1tLmd1aWR9LHRoaXMudW5saXN0ZW49ZnVuY3Rpb24oKXtIYW5kc29udGFibGUuYWN0aXZlR3VpZD1udWxsfSx0aGlzLmlzTGlzdGVuaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEhhbmRzb250YWJsZS5hY3RpdmVHdWlkPT09bS5ndWlkfSx0aGlzLmRlc3Ryb3lFZGl0b3I9ZnVuY3Rpb24oZSl7cC5yZWZyZXNoQm9yZGVycyhlKX0sdGhpcy5wb3B1bGF0ZUZyb21BcnJheT1mdW5jdGlvbihlLHQsbixvLHIsaSxzLGEsbCl7dmFyIHU7aWYoIm9iamVjdCIhPXR5cGVvZiBufHwib2JqZWN0IiE9dHlwZW9mIG5bMF0pdGhyb3cgbmV3IEVycm9yKCJwb3B1bGF0ZUZyb21BcnJheSBwYXJhbWV0ZXIgYGlucHV0YCBtdXN0IGJlIGFuIGFycmF5IG9mIGFycmF5cyIpO3JldHVybiB1PSJudW1iZXIiPT10eXBlb2Ygbz9uZXcgcShvLHIpOm51bGwsZi5wb3B1bGF0ZUZyb21BcnJheShuZXcgcShlLHQpLG4sdSxpLHMsYSxsKX0sdGhpcy5zcGxpY2VDb2w9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBkLnNwbGljZUNvbC5hcHBseShkLGFyZ3VtZW50cyl9LHRoaXMuc3BsaWNlUm93PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZC5zcGxpY2VSb3cuYXBwbHkoZCxhcmd1bWVudHMpfSx0aGlzLmdldFNlbGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHAuaXNTZWxlY3RlZCgpP1tjLnNlbFJhbmdlLmZyb20ucm93LGMuc2VsUmFuZ2UuZnJvbS5jb2wsYy5zZWxSYW5nZS50by5yb3csYy5zZWxSYW5nZS50by5jb2xdOnZvaWQgMH0sdGhpcy5nZXRTZWxlY3RlZFJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHAuaXNTZWxlY3RlZCgpP2Muc2VsUmFuZ2U6dm9pZCAwfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe20udmlldyYmKG0ucmVuZGVyQ2FsbD0hMCxtLmZvcmNlRnVsbFJlbmRlcj0hMCxwLnJlZnJlc2hCb3JkZXJzKG51bGwsITApKX0sdGhpcy5sb2FkRGF0YT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7Yy5jZWxsU2V0dGluZ3MubGVuZ3RoPTB9aWYoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT09ZSllLnB1c2gmJmUuc3BsaWNlfHwoZT1bZV0pO2Vsc2V7aWYobnVsbCE9PWUpdGhyb3cgbmV3IEVycm9yKCJsb2FkRGF0YSBvbmx5IGFjY2VwdHMgYXJyYXkgb2Ygb2JqZWN0cyBvciBhcnJheSBvZiBhcnJheXMgKCIrdHlwZW9mIGUrIiBnaXZlbikiKTtlPVtdO2Zvcih2YXIgbixvPTAscj1jLnNldHRpbmdzLnN0YXJ0Um93cztyPm87bysrKXtuPVtdO2Zvcih2YXIgaT0wLHM9Yy5zZXR0aW5ncy5zdGFydENvbHM7cz5pO2krKyluLnB1c2gobnVsbCk7ZS5wdXNoKG4pfX1jLmlzUG9wdWxhdGVkPSExLHYucHJvdG90eXBlLmRhdGE9ZSxBcnJheS5pc0FycmF5KGMuc2V0dGluZ3MuZGF0YVNjaGVtYSl8fEFycmF5LmlzQXJyYXkoZVswXSk/bS5kYXRhVHlwZT0iYXJyYXkiOiJmdW5jdGlvbiI9PXR5cGVvZiBjLnNldHRpbmdzLmRhdGFTY2hlbWE/bS5kYXRhVHlwZT0iZnVuY3Rpb24iOm0uZGF0YVR5cGU9Im9iamVjdCIsZD1uZXcgayhtLGMsdiksaC5kYXRhPWUsaC5kYXRhVHlwZT1tLmRhdGFUeXBlLGguY29sVG9Qcm9wPWQuY29sVG9Qcm9wLmJpbmQoZCksaC5wcm9wVG9Db2w9ZC5wcm9wVG9Db2wuYmluZChkKSx0KCksZi5hZGp1c3RSb3dzQW5kQ29scygpLEhhbmRzb250YWJsZS5ob29rcy5ydW4obSwiYWZ0ZXJMb2FkRGF0YSIsYy5maXJzdFJ1biksYy5maXJzdFJ1bj9jLmZpcnN0UnVuPVtudWxsLCJsb2FkRGF0YSJdOihIYW5kc29udGFibGUuaG9va3MucnVuKG0sImFmdGVyQ2hhbmdlIixudWxsLCJsb2FkRGF0YSIpLG0ucmVuZGVyKCkpLGMuaXNQb3B1bGF0ZWQ9ITB9LHRoaXMuZ2V0RGF0YT1mdW5jdGlvbihlLHQsbixvKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/ZC5nZXRBbGwoKTpkLmdldFJhbmdlKG5ldyBxKGUsdCksbmV3IHEobixvKSxkLkRFU1RJTkFUSU9OX1JFTkRFUkVSKX0sdGhpcy5nZXRDb3B5YWJsZVRleHQ9ZnVuY3Rpb24oZSx0LG4sbyl7cmV0dXJuIGQuZ2V0Q29weWFibGVUZXh0KG5ldyBxKGUsdCksbmV3IHEobixvKSl9LHRoaXMuZ2V0Q29weWFibGVEYXRhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGQuZ2V0Q29weWFibGUoZSxkLmNvbFRvUHJvcCh0KSl9LHRoaXMuZ2V0U2NoZW1hPWZ1bmN0aW9uKCl7cmV0dXJuIGQuZ2V0U2NoZW1hKCl9LHRoaXMudXBkYXRlU2V0dGluZ3M9ZnVuY3Rpb24oZSx0KXt2YXIgbixvO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZS5yb3dzKXRocm93IG5ldyBFcnJvcignInJvd3MiIHNldHRpbmcgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gZG8geW91IG1lYW4gc3RhcnRSb3dzLCBtaW5Sb3dzIG9yIG1heFJvd3M/Jyk7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBlLmNvbHMpdGhyb3cgbmV3IEVycm9yKCciY29scyIgc2V0dGluZyBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBkbyB5b3UgbWVhbiBzdGFydENvbHMsIG1pbkNvbHMgb3IgbWF4Q29scz8nKTtmb3IobiBpbiBlKSJkYXRhIiE9PW4mJihIYW5kc29udGFibGUuaG9va3MuZ2V0UmVnaXN0ZXJlZCgpLmluZGV4T2Yobik+LTE/KCJmdW5jdGlvbiI9PXR5cGVvZiBlW25dfHxBcnJheS5pc0FycmF5KGVbbl0pKSYmbS5hZGRIb29rKG4sZVtuXSk6IXQmJmUuaGFzT3duUHJvcGVydHkobikmJih2LnByb3RvdHlwZVtuXT1lW25dKSk7aWYodm9pZCAwPT09ZS5kYXRhJiZ2b2lkIDA9PT1jLnNldHRpbmdzLmRhdGE/bS5sb2FkRGF0YShudWxsKTp2b2lkIDAhPT1lLmRhdGE/bS5sb2FkRGF0YShlLmRhdGEpOnZvaWQgMCE9PWUuY29sdW1ucyYmZC5jcmVhdGVNYXAoKSxvPW0uY291bnRDb2xzKCksKHZvaWQgMCE9PWUuY2VsbHx8dm9pZCAwIT09ZS5jZWxsc3x8dm9pZCAwIT09ZS5jb2x1bW5zKSYmKGMuY2VsbFNldHRpbmdzLmxlbmd0aD0wKSxvPjApe3ZhciByLGk7Zm9yKG49MDtvPm47bisrKWMuY29sdW1uU2V0dGluZ3Nbbl09Tyh2LGMuY29sdW1uc1NldHRpbmdDb25mbGljdHMpLHI9Yy5jb2x1bW5TZXR0aW5nc1tuXS5wcm90b3R5cGUsdi5wcm90b3R5cGUuY29sdW1ucyYmKGk9di5wcm90b3R5cGUuY29sdW1uc1tuXSxBKHIsaSksQShyLHMoaSkpKX1pZigidW5kZWZpbmVkIiE9dHlwZW9mIGUuY2VsbClmb3IobiBpbiBlLmNlbGwpaWYoZS5jZWxsLmhhc093blByb3BlcnR5KG4pKXt2YXIgYT1lLmNlbGxbbl07bS5zZXRDZWxsTWV0YU9iamVjdChhLnJvdyxhLmNvbCxhKX1pZihIYW5kc29udGFibGUuaG9va3MucnVuKG0sImFmdGVyQ2VsbE1ldGFSZXNldCIpLCJ1bmRlZmluZWQiIT10eXBlb2YgZS5jbGFzc05hbWUmJih2LnByb3RvdHlwZS5jbGFzc05hbWUmJk0obS5yb290RWxlbWVudCx2LnByb3RvdHlwZS5jbGFzc05hbWUpLGUuY2xhc3NOYW1lJiZTKG0ucm9vdEVsZW1lbnQsZS5jbGFzc05hbWUpKSwidW5kZWZpbmVkIiE9dHlwZW9mIGUuaGVpZ2h0KXt2YXIgbD1lLmhlaWdodDsiZnVuY3Rpb24iPT10eXBlb2YgbCYmKGw9bCgpKSxtLnJvb3RFbGVtZW50LnN0eWxlLmhlaWdodD1sKyJweCJ9aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBlLndpZHRoKXt2YXIgdT1lLndpZHRoOyJmdW5jdGlvbiI9PXR5cGVvZiB1JiYodT11KCkpLG0ucm9vdEVsZW1lbnQuc3R5bGUud2lkdGg9dSsicHgifWwmJihtLnJvb3RFbGVtZW50LnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iKSx0fHxIYW5kc29udGFibGUuaG9va3MucnVuKG0sImFmdGVyVXBkYXRlU2V0dGluZ3MiKSxmLmFkanVzdFJvd3NBbmRDb2xzKCksbS52aWV3JiYhYy5maXJzdFJ1biYmKG0uZm9yY2VGdWxsUmVuZGVyPSEwLHAucmVmcmVzaEJvcmRlcnMobnVsbCwhMCkpfSx0aGlzLmdldFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGU9bS5nZXRTZWxlY3RlZCgpO2lmKHYucHJvdG90eXBlLmdldFZhbHVlKXtpZigiZnVuY3Rpb24iPT10eXBlb2Ygdi5wcm90b3R5cGUuZ2V0VmFsdWUpcmV0dXJuIHYucHJvdG90eXBlLmdldFZhbHVlLmNhbGwobSk7aWYoZSlyZXR1cm4gbS5nZXREYXRhKClbZVswXV1bdi5wcm90b3R5cGUuZ2V0VmFsdWVdfWVsc2UgaWYoZSlyZXR1cm4gbS5nZXREYXRhQXRDZWxsKGVbMF0sZVsxXSl9LHRoaXMuZ2V0U2V0dGluZ3M9ZnVuY3Rpb24oKXtyZXR1cm4gYy5zZXR0aW5nc30sdGhpcy5jbGVhcj1mdW5jdGlvbigpe3Auc2VsZWN0QWxsKCkscC5lbXB0eSgpfSx0aGlzLmFsdGVyPWZ1bmN0aW9uKGUsdCxuLG8scil7Zi5hbHRlcihlLHQsbixvLHIpfSx0aGlzLmdldENlbGw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBtLnZpZXcuZ2V0Q2VsbEF0Q29vcmRzKG5ldyBxKGUsdCksbil9LHRoaXMuZ2V0Q29vcmRzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnZpZXcud3Qud3RUYWJsZS5nZXRDb29yZHMuY2FsbCh0aGlzLnZpZXcud3Qud3RUYWJsZSxlKX0sdGhpcy5jb2xUb1Byb3A9ZnVuY3Rpb24oZSl7cmV0dXJuIGQuY29sVG9Qcm9wKGUpfSx0aGlzLnByb3BUb0NvbD1mdW5jdGlvbihlKXtyZXR1cm4gZC5wcm9wVG9Db2woZSl9LHRoaXMuZ2V0RGF0YUF0Q2VsbD1mdW5jdGlvbihlLHQpe3JldHVybiBkLmdldChlLGQuY29sVG9Qcm9wKHQpKX0sdGhpcy5nZXREYXRhQXRSb3dQcm9wPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGQuZ2V0KGUsdCl9LHRoaXMuZ2V0RGF0YUF0Q29sPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiB0LmNvbmNhdC5hcHBseSh0LGQuZ2V0UmFuZ2UobmV3IHEoMCxlKSxuZXcgcShjLnNldHRpbmdzLmRhdGEubGVuZ3RoLTEsZSksZC5ERVNUSU5BVElPTl9SRU5ERVJFUikpfSx0aGlzLmdldERhdGFBdFByb3A9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtyZXR1cm4gdD1kLmdldFJhbmdlKG5ldyBxKDAsZC5wcm9wVG9Db2woZSkpLG5ldyBxKGMuc2V0dGluZ3MuZGF0YS5sZW5ndGgtMSxkLnByb3BUb0NvbChlKSksZC5ERVNUSU5BVElPTl9SRU5ERVJFUiksbi5jb25jYXQuYXBwbHkobix0KX0sdGhpcy5nZXRTb3VyY2VEYXRhPWZ1bmN0aW9uKGUsdCxuLG8pe3ZhciByO3JldHVybiByPXZvaWQgMD09PWU/aC5nZXREYXRhKCk6aC5nZXRCeVJhbmdlKG5ldyBxKGUsdCksbmV3IHEobixvKSl9LHRoaXMuZ2V0U291cmNlRGF0YUF0Q29sPWZ1bmN0aW9uKGUpe3JldHVybiBoLmdldEF0Q29sdW1uKGUpfSx0aGlzLmdldFNvdXJjZURhdGFBdFJvdz1mdW5jdGlvbihlKXtyZXR1cm4gaC5nZXRBdFJvdyhlKX0sdGhpcy5nZXRTb3VyY2VEYXRhQXRDZWxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGguZ2V0QXRDZWxsKGUsdCl9LHRoaXMuZ2V0RGF0YUF0Um93PWZ1bmN0aW9uKGUpe3ZhciB0PWQuZ2V0UmFuZ2UobmV3IHEoZSwwKSxuZXcgcShlLHRoaXMuY291bnRDb2xzKCktMSksZC5ERVNUSU5BVElPTl9SRU5ERVJFUik7cmV0dXJuIHRbMF19LHRoaXMuZ2V0RGF0YVR5cGU9ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIHI9dGhpcyxpPW51bGwscz1udWxsO3ZvaWQgMD09PWUmJihlPTAsbj10aGlzLmNvdW50Um93cygpLHQ9MCxvPXRoaXMuY291bnRDb2xzKCkpLHZvaWQgMD09PW4mJihuPWUpLHZvaWQgMD09PW8mJihvPXQpO3ZhciBhPSJtaXhlZCI7cmV0dXJuIHooTWF0aC5taW4oZSxuKSxNYXRoLm1heChlLG4pLGZ1bmN0aW9uKGUpe3ZhciBuPSEwO3JldHVybiB6KE1hdGgubWluKHQsbyksTWF0aC5tYXgodCxvKSxmdW5jdGlvbih0KXt2YXIgbz1yLmdldENlbGxNZXRhKGUsdCk7cmV0dXJuIHM9by50eXBlLGk/bj1pPT09czppPXMsbn0pLGE9bj9zOiJtaXhlZCIsbn0pLGF9LHRoaXMucmVtb3ZlQ2VsbE1ldGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPW0uZ2V0Q2VsbE1ldGEoZSx0KTt2b2lkIDAhPW9bbl0mJmRlbGV0ZSBjLmNlbGxTZXR0aW5nc1tlXVt0XVtuXX0sdGhpcy5zZXRDZWxsTWV0YU9iamVjdD1mdW5jdGlvbihlLHQsbil7aWYoIm9iamVjdCI9PXR5cGVvZiBuKWZvcih2YXIgbyBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkobykpe3ZhciByPW5bb107dGhpcy5zZXRDZWxsTWV0YShlLHQsbyxyKX19LHRoaXMuc2V0Q2VsbE1ldGE9ZnVuY3Rpb24oZSx0LG4sbyl7Yy5jZWxsU2V0dGluZ3NbZV18fChjLmNlbGxTZXR0aW5nc1tlXT1bXSksYy5jZWxsU2V0dGluZ3NbZV1bdF18fChjLmNlbGxTZXR0aW5nc1tlXVt0XT1uZXcgYy5jb2x1bW5TZXR0aW5nc1t0XSksYy5jZWxsU2V0dGluZ3NbZV1bdF1bbl09byxIYW5kc29udGFibGUuaG9va3MucnVuKG0sImFmdGVyU2V0Q2VsbE1ldGEiLGUsdCxuLG8pfSx0aGlzLmdldENlbGxzTWV0YT1mdW5jdGlvbigpe3JldHVybiBJKGMuY2VsbFNldHRpbmdzKX0sdGhpcy5nZXRDZWxsTWV0YT1mdW5jdGlvbihlLHQpe3ZhciBuLG89ZC5jb2xUb1Byb3AodCkscj1lLGk9dDtpZihlPWEoZSksdD1sKHQpLGMuY29sdW1uU2V0dGluZ3NbdF18fChjLmNvbHVtblNldHRpbmdzW3RdPU8odixjLmNvbHVtbnNTZXR0aW5nQ29uZmxpY3RzKSksYy5jZWxsU2V0dGluZ3NbZV18fChjLmNlbGxTZXR0aW5nc1tlXT1bXSksYy5jZWxsU2V0dGluZ3NbZV1bdF18fChjLmNlbGxTZXR0aW5nc1tlXVt0XT1uZXcgYy5jb2x1bW5TZXR0aW5nc1t0XSksbj1jLmNlbGxTZXR0aW5nc1tlXVt0XSxuLnJvdz1lLG4uY29sPXQsbi52aXN1YWxSb3c9cixuLnZpc3VhbENvbD1pLG4ucHJvcD1vLG4uaW5zdGFuY2U9bSxIYW5kc29udGFibGUuaG9va3MucnVuKG0sImJlZm9yZUdldENlbGxNZXRhIixlLHQsbiksQShuLHMobikpLG4uY2VsbHMpe3ZhciB1PW4uY2VsbHMuY2FsbChuLGUsdCxvKTt1JiYoQShuLHUpLEEobixzKHUpKSl9cmV0dXJuIEhhbmRzb250YWJsZS5ob29rcy5ydW4obSwiYWZ0ZXJHZXRDZWxsTWV0YSIsZSx0LG4pLG59LHRoaXMuaXNDb2x1bW5Nb2RpZmljYXRpb25BbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuISgib2JqZWN0Ij09PW0uZGF0YVR5cGV8fG0uZ2V0U2V0dGluZ3MoKS5jb2x1bW5zKX07dmFyIHk9SygicmVuZGVyZXIiKTt0aGlzLmdldENlbGxSZW5kZXJlcj1mdW5jdGlvbihlLHQpe3ZhciBuPXkuY2FsbCh0aGlzLGUsdCk7cmV0dXJuIEIobil9LHRoaXMuZ2V0Q2VsbEVkaXRvcj1LKCJlZGl0b3IiKSx0aGlzLmdldENlbGxWYWxpZGF0b3I9SygidmFsaWRhdG9yIiksdGhpcy52YWxpZGF0ZUNlbGxzPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBuO2UmJih0Lm9uUXVldWVFbXB0eT1lKTtmb3IodmFyIG89bS5jb3VudFJvd3MoKS0xO28+PTA7KXtmb3IodmFyIHI9bS5jb3VudENvbHMoKS0xO3I+PTA7KXQuYWRkVmFsaWRhdG9yVG9RdWV1ZSgpLG0udmFsaWRhdGVDZWxsKG0uZ2V0RGF0YUF0Q2VsbChvLHIpLG0uZ2V0Q2VsbE1ldGEobyxyKSxmdW5jdGlvbihlKXtpZigiYm9vbGVhbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiVmFsaWRhdGlvbiBlcnJvcjogcmVzdWx0IGlzIG5vdCBib29sZWFuIik7ZT09PSExJiYodC52YWxpZD0hMSksdC5yZW1vdmVWYWxpZGF0b3JGb3JtUXVldWUoKX0sInZhbGlkYXRlQ2VsbHMiKSxyLS07by0tfXQuY2hlY2tJZlF1ZXVlSXNFbXB0eSgpfSx0aGlzLmdldFJvd0hlYWRlcj1mdW5jdGlvbihlKXt2YXIgdD1jLnNldHRpbmdzLnJvd0hlYWRlcnM7cmV0dXJuIHZvaWQgMCE9PWUmJihlPUhhbmRzb250YWJsZS5ob29rcy5ydW4obSwibW9kaWZ5Um93SGVhZGVyIixlKSksdm9pZCAwPT09ZT8odD1bXSx6KG0uY291bnRSb3dzKCktMSxmdW5jdGlvbihlKXt0LnB1c2gobS5nZXRSb3dIZWFkZXIoZSkpfSkpOkFycmF5LmlzQXJyYXkodCkmJnZvaWQgMCE9PXRbZV0/dD10W2VdOiJmdW5jdGlvbiI9PXR5cGVvZiB0P3Q9dChlKTp0JiYic3RyaW5nIiE9dHlwZW9mIHQmJiJudW1iZXIiIT10eXBlb2YgdCYmKHQ9ZSsxKSx0fSx0aGlzLmhhc1Jvd0hlYWRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4hIWMuc2V0dGluZ3Mucm93SGVhZGVyc30sdGhpcy5oYXNDb2xIZWFkZXJzPWZ1bmN0aW9uKCl7aWYodm9pZCAwIT09Yy5zZXR0aW5ncy5jb2xIZWFkZXJzJiZudWxsIT09Yy5zZXR0aW5ncy5jb2xIZWFkZXJzKXJldHVybiEhYy5zZXR0aW5ncy5jb2xIZWFkZXJzO2Zvcih2YXIgZT0wLHQ9bS5jb3VudENvbHMoKTt0PmU7ZSsrKWlmKG0uZ2V0Q29sSGVhZGVyKGUpKXJldHVybiEwO3JldHVybiExfSx0aGlzLmdldENvbEhlYWRlcj1mdW5jdGlvbihlKXtpZihlPUhhbmRzb250YWJsZS5ob29rcy5ydW4obSwibW9kaWZ5Q29sSGVhZGVyIixlKSx2b2lkIDA9PT1lKXtmb3IodmFyIHQ9W10sbj0wLG89bS5jb3VudENvbHMoKTtvPm47bisrKXQucHVzaChtLmdldENvbEhlYWRlcihuKSk7cmV0dXJuIHR9dmFyIHI9ZTtyZXR1cm4gZT1IYW5kc29udGFibGUuaG9va3MucnVuKG0sIm1vZGlmeUNvbCIsZSksYy5zZXR0aW5ncy5jb2x1bW5zJiZjLnNldHRpbmdzLmNvbHVtbnNbZV0mJmMuc2V0dGluZ3MuY29sdW1uc1tlXS50aXRsZT9jLnNldHRpbmdzLmNvbHVtbnNbZV0udGl0bGU6QXJyYXkuaXNBcnJheShjLnNldHRpbmdzLmNvbEhlYWRlcnMpJiZ2b2lkIDAhPT1jLnNldHRpbmdzLmNvbEhlYWRlcnNbZV0/Yy5zZXR0aW5ncy5jb2xIZWFkZXJzW2VdOiJmdW5jdGlvbiI9PXR5cGVvZiBjLnNldHRpbmdzLmNvbEhlYWRlcnM/Yy5zZXR0aW5ncy5jb2xIZWFkZXJzKGUpOmMuc2V0dGluZ3MuY29sSGVhZGVycyYmInN0cmluZyIhPXR5cGVvZiBjLnNldHRpbmdzLmNvbEhlYWRlcnMmJiJudW1iZXIiIT10eXBlb2YgYy5zZXR0aW5ncy5jb2xIZWFkZXJzP1gocik6Yy5zZXR0aW5ncy5jb2xIZWFkZXJzfSx0aGlzLl9nZXRDb2xXaWR0aEZyb21TZXR0aW5ncz1mdW5jdGlvbihlKXt2YXIgdD1tLmdldENlbGxNZXRhKDAsZSksbj10LndpZHRoO2lmKCh2b2lkIDA9PT1ufHxuPT09Yy5zZXR0aW5ncy53aWR0aCkmJihuPXQuY29sV2lkdGhzKSx2b2lkIDAhPT1uJiZudWxsIT09bil7c3dpdGNoKHR5cGVvZiBuKXtjYXNlIm9iamVjdCI6bj1uW2VdO2JyZWFrO2Nhc2UiZnVuY3Rpb24iOm49bihlKX0ic3RyaW5nIj09dHlwZW9mIG4mJihuPXBhcnNlSW50KG4sMTApKX1yZXR1cm4gbn0sdGhpcy5nZXRDb2xXaWR0aD1mdW5jdGlvbihlKXt2YXIgdD1tLl9nZXRDb2xXaWR0aEZyb21TZXR0aW5ncyhlKTtyZXR1cm4gdD1IYW5kc29udGFibGUuaG9va3MucnVuKG0sIm1vZGlmeUNvbFdpZHRoIix0LGUpLHZvaWQgMD09PXQmJih0PUouREVGQVVMVF9XSURUSCksdH0sdGhpcy5fZ2V0Um93SGVpZ2h0RnJvbVNldHRpbmdzPWZ1bmN0aW9uKGUpe3ZhciB0PWMuc2V0dGluZ3Mucm93SGVpZ2h0cztpZih2b2lkIDAhPT10JiZudWxsIT09dCl7c3dpdGNoKHR5cGVvZiB0KXtjYXNlIm9iamVjdCI6dD10W2VdO2JyZWFrO2Nhc2UiZnVuY3Rpb24iOnQ9dChlKX0ic3RyaW5nIj09dHlwZW9mIHQmJih0PXBhcnNlSW50KHQsMTApKX1yZXR1cm4gdH0sdGhpcy5nZXRSb3dIZWlnaHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bS5fZ2V0Um93SGVpZ2h0RnJvbVNldHRpbmdzKGUpO3JldHVybiB0PUhhbmRzb250YWJsZS5ob29rcy5ydW4obSwibW9kaWZ5Um93SGVpZ2h0Iix0LGUpfSx0aGlzLmNvdW50U291cmNlUm93cz1mdW5jdGlvbigpe3JldHVybiBtLmdldFNvdXJjZURhdGEoKT9tLmdldFNvdXJjZURhdGEoKS5sZW5ndGg6MH0sdGhpcy5jb3VudFJvd3M9ZnVuY3Rpb24oKXtyZXR1cm4gZC5nZXRMZW5ndGgoKX0sdGhpcy5jb3VudENvbHM9ZnVuY3Rpb24oKXtyZXR1cm4ib2JqZWN0Ij09PW0uZGF0YVR5cGV8fCJmdW5jdGlvbiI9PT1tLmRhdGFUeXBlP2Muc2V0dGluZ3MuY29sdW1ucyYmYy5zZXR0aW5ncy5jb2x1bW5zLmxlbmd0aD9jLnNldHRpbmdzLmNvbHVtbnMubGVuZ3RoOmQuY29sVG9Qcm9wQ2FjaGUubGVuZ3RoOiJhcnJheSI9PT1tLmRhdGFUeXBlP2Muc2V0dGluZ3MuY29sdW1ucyYmYy5zZXR0aW5ncy5jb2x1bW5zLmxlbmd0aD9jLnNldHRpbmdzLmNvbHVtbnMubGVuZ3RoOmMuc2V0dGluZ3MuZGF0YSYmYy5zZXR0aW5ncy5kYXRhWzBdJiZjLnNldHRpbmdzLmRhdGFbMF0ubGVuZ3RoP2Muc2V0dGluZ3MuZGF0YVswXS5sZW5ndGg6MDp2b2lkIDB9LHRoaXMuZ2V0Q29sc3Bhbk9mZnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPTA7aWYobS5jb2xzcGFuQXJyYXkpe2Zvcih2YXIgbz0wO2U+bztvKyspbis9bS5jb2xzcGFuQXJyYXlbdF1bb10tMXx8MDtyZXR1cm4gbn1mb3IodmFyIG49MCxyPW0udmlldy53dC53dFRhYmxlLlRIRUFELmNoaWxkTm9kZXMubGVuZ3RoLXQtMSxpPW0udmlldy53dC53dFRhYmxlLlRIRUFELnF1ZXJ5U2VsZWN0b3IoInRyOm50aC1jaGlsZCgiK3BhcnNlSW50KHIrMSwxMCkrIikiKSxzPW0udmlldy53dC53dFNldHRpbmdzLnNldHRpbmdzLnJvd0hlYWRlcnMoKS5sZW5ndGgsbz1zO3MrZT5vO28rKylpLmNoaWxkTm9kZXNbb10uaGFzQXR0cmlidXRlKCJjb2xzcGFuIikmJihuKz1wYXJzZUludChpLmNoaWxkTm9kZXNbb10uZ2V0QXR0cmlidXRlKCJjb2xzcGFuIiksMTApLTEpO3JldHVybiBufSx0aGlzLmdldEhlYWRlckNvbHNwYW49ZnVuY3Rpb24oZSx0KXt2YXIgbj1tLnZpZXcud3Qud3RUYWJsZS5USEVBRC5jaGlsZE5vZGVzLmxlbmd0aC10LTEsbz1tLnZpZXcud3Qud3RTZXR0aW5ncy5zZXR0aW5ncy5yb3dIZWFkZXJzKCkubGVuZ3RoLHI9bS52aWV3Lnd0Lnd0VGFibGUuVEhFQUQucXVlcnlTZWxlY3RvcigidHI6bnRoLWNoaWxkKCIrcGFyc2VJbnQobisxLDEwKSsiKSIpLGk9bytlLW0udmlldy53dC53dFZpZXdwb3J0LmNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yLnN0YXJ0Q29sdW1uO3JldHVybiByLmNoaWxkTm9kZXNbaV0uaGFzQXR0cmlidXRlKCJjb2xzcGFuIik/cGFyc2VJbnQoci5jaGlsZE5vZGVzW2ldLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLDEwKTowfSx0aGlzLnJvd09mZnNldD1mdW5jdGlvbigpe3JldHVybiBtLnZpZXcud3Qud3RUYWJsZS5nZXRGaXJzdFJlbmRlcmVkUm93KCl9LHRoaXMuY29sT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG0udmlldy53dC53dFRhYmxlLmdldEZpcnN0UmVuZGVyZWRDb2x1bW4oKX0sdGhpcy5jb3VudFJlbmRlcmVkUm93cz1mdW5jdGlvbigpe3JldHVybiBtLnZpZXcud3QuZHJhd24/bS52aWV3Lnd0Lnd0VGFibGUuZ2V0UmVuZGVyZWRSb3dzQ291bnQoKTotMX0sdGhpcy5jb3VudFZpc2libGVSb3dzPWZ1bmN0aW9uKCl7cmV0dXJuIG0udmlldy53dC5kcmF3bj9tLnZpZXcud3Qud3RUYWJsZS5nZXRWaXNpYmxlUm93c0NvdW50KCk6LTF9LHRoaXMuY291bnRSZW5kZXJlZENvbHM9ZnVuY3Rpb24oKXtyZXR1cm4gbS52aWV3Lnd0LmRyYXduP20udmlldy53dC53dFRhYmxlLmdldFJlbmRlcmVkQ29sdW1uc0NvdW50KCk6LTF9LHRoaXMuY291bnRWaXNpYmxlQ29scz1mdW5jdGlvbigpe3JldHVybiBtLnZpZXcud3QuZHJhd24/bS52aWV3Lnd0Lnd0VGFibGUuZ2V0VmlzaWJsZUNvbHVtbnNDb3VudCgpOi0xfSx0aGlzLmNvdW50RW1wdHlSb3dzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPW0uY291bnRSb3dzKCktMSxvPTA7bj49MDspe2lmKHQ9SGFuZHNvbnRhYmxlLmhvb2tzLnJ1bih0aGlzLCJtb2RpZnlSb3ciLG4pLG0uaXNFbXB0eVJvdyh0KSlvKys7ZWxzZSBpZihlKWJyZWFrO24tLX1yZXR1cm4gb30sdGhpcy5jb3VudEVtcHR5Q29scz1mdW5jdGlvbihlKXtpZihtLmNvdW50Um93cygpPDEpcmV0dXJuIDA7Zm9yKHZhciB0PW0uY291bnRDb2xzKCktMSxuPTA7dD49MDspe2lmKG0uaXNFbXB0eUNvbCh0KSluKys7ZWxzZSBpZihlKWJyZWFrO3QtLX1yZXR1cm4gbn0sdGhpcy5pc0VtcHR5Um93PWZ1bmN0aW9uKGUpe3JldHVybiBjLnNldHRpbmdzLmlzRW1wdHlSb3cuY2FsbChtLGUpfSx0aGlzLmlzRW1wdHlDb2w9ZnVuY3Rpb24oZSl7cmV0dXJuIGMuc2V0dGluZ3MuaXNFbXB0eUNvbC5jYWxsKG0sZSl9LHRoaXMuc2VsZWN0Q2VsbD1mdW5jdGlvbihlLHQsbixvLHIsaSl7dmFyIHM7aWYoaT0idW5kZWZpbmVkIj09dHlwZW9mIGl8fGk9PT0hMCwibnVtYmVyIiE9dHlwZW9mIGV8fDA+ZXx8ZT49bS5jb3VudFJvd3MoKSlyZXR1cm4hMTtpZigibnVtYmVyIiE9dHlwZW9mIHR8fDA+dHx8dD49bS5jb3VudENvbHMoKSlyZXR1cm4hMTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIG4pe2lmKCJudW1iZXIiIT10eXBlb2Ygbnx8MD5ufHxuPj1tLmNvdW50Um93cygpKXJldHVybiExO2lmKCJudW1iZXIiIT10eXBlb2Ygb3x8MD5vfHxvPj1tLmNvdW50Q29scygpKXJldHVybiExfXJldHVybiBzPW5ldyBxKGUsdCksYy5zZWxSYW5nZT1uZXcgWihzLHMscyksaSYmbS5saXN0ZW4oKSwidW5kZWZpbmVkIj09dHlwZW9mIG4/cC5zZXRSYW5nZUVuZChjLnNlbFJhbmdlLmZyb20scik6cC5zZXRSYW5nZUVuZChuZXcgcShuLG8pLHIpLG0uc2VsZWN0aW9uLmZpbmlzaCgpLCEwfSx0aGlzLnNlbGVjdENlbGxCeVByb3A9ZnVuY3Rpb24oZSx0LG4sbyxyKXtyZXR1cm4gYXJndW1lbnRzWzFdPWQucHJvcFRvQ29sKGFyZ3VtZW50c1sxXSksInVuZGVmaW5lZCIhPXR5cGVvZiBhcmd1bWVudHNbM10mJihhcmd1bWVudHNbM109ZC5wcm9wVG9Db2woYXJndW1lbnRzWzNdKSksbS5zZWxlY3RDZWxsLmFwcGx5KG0sYXJndW1lbnRzKX0sdGhpcy5kZXNlbGVjdENlbGw9ZnVuY3Rpb24oKXtwLmRlc2VsZWN0KCl9LHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe20uX2NsZWFyVGltZW91dHMoKSxtLnZpZXcmJm0udmlldy5kZXN0cm95KCksaCYmaC5kZXN0cm95KCksaD1udWxsLEUobS5yb290RWxlbWVudCksdy5kZXN0cm95KCksSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihtLCJhZnRlckRlc3Ryb3kiKSxIYW5kc29udGFibGUuaG9va3MuZGVzdHJveShtKTtmb3IodmFyIGUgaW4gbSltLmhhc093blByb3BlcnR5KGUpJiYoImZ1bmN0aW9uIj09dHlwZW9mIG1bZV0/bVtlXT11OiJndWlkIiE9PWUmJihtW2VdPW51bGwpKTtjPW51bGwsZD1udWxsLGY9bnVsbCxwPW51bGwsZz1udWxsLG09bnVsbCx2PW51bGx9LHRoaXMuZ2V0QWN0aXZlRWRpdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIGcuZ2V0QWN0aXZlRWRpdG9yKCl9LHRoaXMuZ2V0UGx1Z2luPWZ1bmN0aW9uKGUpe3JldHVybiBWKHRoaXMsZSl9LHRoaXMuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbX0sdGhpcy5hZGRIb29rPWZ1bmN0aW9uKGUsdCl7SGFuZHNvbnRhYmxlLmhvb2tzLmFkZChlLHQsbSl9LHRoaXMuaGFzSG9vaz1mdW5jdGlvbihlKXtyZXR1cm4gSGFuZHNvbnRhYmxlLmhvb2tzLmhhcyhlLG0pfSx0aGlzLmFkZEhvb2tPbmNlPWZ1bmN0aW9uKGUsdCl7CkhhbmRzb250YWJsZS5ob29rcy5vbmNlKGUsdCxtKX0sdGhpcy5yZW1vdmVIb29rPWZ1bmN0aW9uKGUsdCl7SGFuZHNvbnRhYmxlLmhvb2tzLnJlbW92ZShlLHQsbSl9LHRoaXMucnVuSG9va3M9ZnVuY3Rpb24oZSx0LG4sbyxyLGkscyl7cmV0dXJuIEhhbmRzb250YWJsZS5ob29rcy5ydW4obSxlLHQsbixvLHIsaSxzKX0sdGhpcy50aW1lb3V0cz1bXSx0aGlzLl9yZWdpc3RlclRpbWVvdXQ9ZnVuY3Rpb24oZSl7dGhpcy50aW1lb3V0cy5wdXNoKGUpfSx0aGlzLl9jbGVhclRpbWVvdXRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD10aGlzLnRpbWVvdXRzLmxlbmd0aDt0PmU7ZSsrKWNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRzW2VdKX0sdGhpcy52ZXJzaW9uPUhhbmRzb250YWJsZS52ZXJzaW9uLEhhbmRzb250YWJsZS5ob29rcy5ydW4obSwiY29uc3RydWN0Iil9O3ZhciBRPWZ1bmN0aW9uKCl7fTtRLnByb3RvdHlwZT17ZGF0YTp2b2lkIDAsZGF0YVNjaGVtYTp2b2lkIDAsd2lkdGg6dm9pZCAwLGhlaWdodDp2b2lkIDAsc3RhcnRSb3dzOjUsc3RhcnRDb2xzOjUscm93SGVhZGVyczp2b2lkIDAsY29sSGVhZGVyczpudWxsLGNvbFdpZHRoczp2b2lkIDAscm93SGVpZ2h0czp2b2lkIDAsY29sdW1uczp2b2lkIDAsY2VsbHM6dm9pZCAwLGNlbGw6W10sY29tbWVudHM6ITEsY3VzdG9tQm9yZGVyczohMSxtaW5Sb3dzOjAsbWluQ29sczowLG1heFJvd3M6MS8wLG1heENvbHM6MS8wLG1pblNwYXJlUm93czowLG1pblNwYXJlQ29sczowLGFsbG93SW5zZXJ0Um93OiEwLGFsbG93SW5zZXJ0Q29sdW1uOiEwLGFsbG93UmVtb3ZlUm93OiEwLGFsbG93UmVtb3ZlQ29sdW1uOiEwLG11bHRpU2VsZWN0OiEwLGZpbGxIYW5kbGU6ITAsZml4ZWRSb3dzVG9wOjAsZml4ZWRSb3dzQm90dG9tOjAsZml4ZWRDb2x1bW5zTGVmdDowLG91dHNpZGVDbGlja0Rlc2VsZWN0czohMCxlbnRlckJlZ2luc0VkaXRpbmc6ITAsZW50ZXJNb3Zlczp7cm93OjEsY29sOjB9LHRhYk1vdmVzOntyb3c6MCxjb2w6MX0sYXV0b1dyYXBSb3c6ITEsYXV0b1dyYXBDb2w6ITEsY29weVJvd3NMaW1pdDoxZTMsY29weUNvbHNMaW1pdDoxZTMscGFzdGVNb2RlOiJvdmVyd3JpdGUiLHBlcnNpc3RlbnRTdGF0ZTp2b2lkIDAsY3VycmVudFJvd0NsYXNzTmFtZTp2b2lkIDAsY3VycmVudENvbENsYXNzTmFtZTp2b2lkIDAsY2xhc3NOYW1lOnZvaWQgMCx0YWJsZUNsYXNzTmFtZTp2b2lkIDAsc3RyZXRjaEg6Im5vbmUiLGlzRW1wdHlSb3c6ZnVuY3Rpb24oZSl7dmFyIHQsbixvLHI7Zm9yKHQ9MCxuPXRoaXMuY291bnRDb2xzKCk7bj50O3QrKylpZihvPXRoaXMuZ2V0RGF0YUF0Q2VsbChlLHQpLCIiIT09byYmbnVsbCE9PW8mJiJ1bmRlZmluZWQiIT10eXBlb2YgbylyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIG8/KHI9dGhpcy5nZXRDZWxsTWV0YShlLHQpLE4odGhpcy5nZXRTY2hlbWEoKVtyLnByb3BdLG8pKTohMTtyZXR1cm4hMH0saXNFbXB0eUNvbDpmdW5jdGlvbihlKXt2YXIgdCxuLG87Zm9yKHQ9MCxuPXRoaXMuY291bnRSb3dzKCk7bj50O3QrKylpZihvPXRoaXMuZ2V0RGF0YUF0Q2VsbCh0LGUpLCIiIT09byYmbnVsbCE9PW8mJiJ1bmRlZmluZWQiIT10eXBlb2YgbylyZXR1cm4hMTtyZXR1cm4hMH0sb2JzZXJ2ZURPTVZpc2liaWxpdHk6ITAsYWxsb3dJbnZhbGlkOiEwLGFsbG93RW1wdHk6ITAsaW52YWxpZENlbGxDbGFzc05hbWU6Imh0SW52YWxpZCIscGxhY2Vob2xkZXI6ITEscGxhY2Vob2xkZXJDZWxsQ2xhc3NOYW1lOiJodFBsYWNlaG9sZGVyIixyZWFkT25seUNlbGxDbGFzc05hbWU6Imh0RGltbWVkIixyZW5kZXJlcjp2b2lkIDAsY29tbWVudGVkQ2VsbENsYXNzTmFtZToiaHRDb21tZW50Q2VsbCIsZnJhZ21lbnRTZWxlY3Rpb246ITEscmVhZE9ubHk6ITEsc2tpcENvbHVtbk9uUGFzdGU6ITEsc2VhcmNoOiExLHR5cGU6InRleHQiLGNvcHlhYmxlOiEwLGVkaXRvcjp2b2lkIDAsYXV0b0NvbXBsZXRlOnZvaWQgMCx2aXNpYmxlUm93czoxMCx0cmltRHJvcGRvd246ITAsZGVidWc6ITEsd29yZFdyYXA6ITAsbm9Xb3JkV3JhcENsYXNzTmFtZToiaHROb1dyYXAiLGNvbnRleHRNZW51OnZvaWQgMCxjb250ZXh0TWVudUNvcHlQYXN0ZTp2b2lkIDAsY29weVBhc3RlOnZvaWQgMCx1bmRvOnZvaWQgMCxjb2x1bW5Tb3J0aW5nOnZvaWQgMCxtYW51YWxDb2x1bW5Nb3ZlOnZvaWQgMCxtYW51YWxDb2x1bW5SZXNpemU6dm9pZCAwLG1hbnVhbFJvd01vdmU6dm9pZCAwLG1hbnVhbFJvd1Jlc2l6ZTp2b2lkIDAsbWVyZ2VDZWxsczohMSx2aWV3cG9ydFJvd1JlbmRlcmluZ09mZnNldDoiYXV0byIsdmlld3BvcnRDb2x1bW5SZW5kZXJpbmdPZmZzZXQ6ImF1dG8iLHZhbGlkYXRvcjp2b2lkIDAsZGlzYWJsZVZpc3VhbFNlbGVjdGlvbjohMSxzb3J0SW5kaWNhdG9yOnZvaWQgMCxtYW51YWxDb2x1bW5GcmVlemU6dm9pZCAwLHRyaW1XaGl0ZXNwYWNlOiEwLHNldHRpbmdzOnZvaWQgMCxzb3VyY2U6dm9pZCAwLHRpdGxlOnZvaWQgMCxjaGVja2VkVGVtcGxhdGU6dm9pZCAwLHVuY2hlY2tlZFRlbXBsYXRlOnZvaWQgMCxsYWJlbDp2b2lkIDAsZm9ybWF0OnZvaWQgMCxsYW5ndWFnZTp2b2lkIDAsc2VsZWN0T3B0aW9uczp2b2lkIDAsYXV0b0NvbHVtblNpemU6dm9pZCAwLGF1dG9Sb3dTaXplOnZvaWQgMCxkYXRlRm9ybWF0OnZvaWQgMCxjb3JyZWN0Rm9ybWF0OiExLGRlZmF1bHREYXRlOnZvaWQgMCxzdHJpY3Q6dm9pZCAwLHJlbmRlckFsbFJvd3M6dm9pZCAwLHByZXZlbnRPdmVyZmxvdzohMSxiaW5kUm93c1dpdGhIZWFkZXJzOnZvaWQgMCxjb2xsYXBzaWJsZUNvbHVtbnM6dm9pZCAwLGNvbHVtblN1bW1hcnk6dm9pZCAwLGRyb3Bkb3duTWVudTp2b2lkIDAsZmlsdGVyczp2b2lkIDAsZ2FudHRDaGFydDp2b2lkIDAsaGVhZGVyVG9vbHRpcHM6dm9pZCAwLGhpZGRlbkNvbHVtbnM6dm9pZCAwLGhpZGRlblJvd3M6dm9pZCAwLG5lc3RlZEhlYWRlcnM6dm9pZCAwLHRyaW1Sb3dzOnZvaWQgMCxyb3dIZWFkZXJXaWR0aDp2b2lkIDAsY29sdW1uSGVhZGVySGVpZ2h0OnZvaWQgMCxvYnNlcnZlQ2hhbmdlczp2b2lkIDB9LEhhbmRzb250YWJsZS5EZWZhdWx0U2V0dGluZ3M9UX0seyIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2FsY3VsYXRvci92aWV3cG9ydENvbHVtbnMiOjMsIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyI6NSwiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvcmFuZ2UiOjYsIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9zZWxlY3Rpb24iOjE4LGRhdGFNYXA6MjYsZGF0YVNvdXJjZToyNyxlZGl0b3JNYW5hZ2VyOjI4LGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvZGF0YSI6NDQsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LCJoZWxwZXJzL251bWJlciI6NDksImhlbHBlcnMvb2JqZWN0Ijo1MCwiaGVscGVycy9zZXR0aW5nIjo1MSwiaGVscGVycy9zdHJpbmciOjUyLG51bWVyYWw6Im51bWVyYWwiLHBsdWdpbnM6NTcscmVuZGVyZXJzOjkwLHRhYmxlVmlldzo5OX1dLDI2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0LG4pe3RoaXMuaW5zdGFuY2U9ZSx0aGlzLnByaXY9dCx0aGlzLkdyaWRTZXR0aW5ncz1uLHRoaXMuZGF0YVNvdXJjZT10aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkuZGF0YSx0aGlzLmRhdGFTb3VyY2VbMF0/dGhpcy5kdWNrU2NoZW1hPXRoaXMucmVjdXJzaXZlRHVja1NjaGVtYSh0aGlzLmRhdGFTb3VyY2VbMF0pOnRoaXMuZHVja1NjaGVtYT17fSx0aGlzLmNyZWF0ZU1hcCgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0RhdGFNYXA6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaSxzLGEsbCx1LGMsZD0ocj1lKCJTaGVldENsaXAiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0saD0oaT1lKCJoZWxwZXJzL2RhdGEiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmNlbGxNZXRob2RMb29rdXBGYWN0b3J5LGY9KHM9ZSgiaGVscGVycy9zZXR0aW5nIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5jb2x1bW5GYWN0b3J5LHA9KGE9ZSgiaGVscGVycy9vYmplY3QiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLGc9cC5kdWNrU2NoZW1hLG09cC5kZWVwRXh0ZW5kLHY9KGw9ZSgiaGVscGVycy9hcnJheSIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSksdz12LmV4dGVuZEFycmF5LHk9di50bzJkQXJyYXksYj0odT1lKCJoZWxwZXJzL251bWJlciIpLHUmJnUuX19lc01vZHVsZSYmdXx8eyJkZWZhdWx0Ijp1fSkucmFuZ2VFYWNoLEM9KGM9ZSgibXVsdGlNYXAiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y30pLk11bHRpTWFwO28ucHJvdG90eXBlLkRFU1RJTkFUSU9OX1JFTkRFUkVSPTEsby5wcm90b3R5cGUuREVTVElOQVRJT05fQ0xJUEJPQVJEX0dFTkVSQVRPUj0yLG8ucHJvdG90eXBlLnJlY3Vyc2l2ZUR1Y2tTY2hlbWE9ZnVuY3Rpb24oZSl7cmV0dXJuIGcoZSl9LG8ucHJvdG90eXBlLnJlY3Vyc2l2ZUR1Y2tDb2x1bW5zPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbyxyO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgdCYmKHQ9MCxuPSIiKSwib2JqZWN0Ij09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpKWZvcihyIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKG51bGw9PT1lW3JdPyhvPW4rcix0aGlzLmNvbFRvUHJvcENhY2hlLnB1c2gobyksdGhpcy5wcm9wVG9Db2xDYWNoZS5zZXQobyx0KSx0KyspOnQ9dGhpcy5yZWN1cnNpdmVEdWNrQ29sdW1ucyhlW3JdLHQscisiLiIpKTtyZXR1cm4gdH0sby5wcm90b3R5cGUuY3JlYXRlTWFwPWZ1bmN0aW9uKCl7dmFyIGUsdCxuPXRoaXMuZ2V0U2NoZW1hKCk7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcigidHJ5aW5nIHRvIGNyZWF0ZSBgY29sdW1uc2AgZGVmaW5pdGlvbiBidXQgeW91IGRpZG50JyBwcm92aWRlIGBzY2hlbWFgIG5vciBgZGF0YWAiKTt0aGlzLmNvbFRvUHJvcENhY2hlPVtdLHRoaXMucHJvcFRvQ29sQ2FjaGU9bmV3IEM7dmFyIG89dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLmNvbHVtbnM7aWYobylmb3IoZT0wLHQ9by5sZW5ndGg7dD5lO2UrKykidW5kZWZpbmVkIiE9dHlwZW9mIG9bZV0uZGF0YSYmKHRoaXMuY29sVG9Qcm9wQ2FjaGVbZV09b1tlXS5kYXRhLHRoaXMucHJvcFRvQ29sQ2FjaGUuc2V0KG9bZV0uZGF0YSxlKSk7ZWxzZSB0aGlzLnJlY3Vyc2l2ZUR1Y2tDb2x1bW5zKG4pfSxvLnByb3RvdHlwZS5jb2xUb1Byb3A9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9SGFuZHNvbnRhYmxlLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJtb2RpZnlDb2wiLGUpLHRoaXMuY29sVG9Qcm9wQ2FjaGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5jb2xUb1Byb3BDYWNoZVtlXT90aGlzLmNvbFRvUHJvcENhY2hlW2VdOmV9LG8ucHJvdG90eXBlLnByb3BUb0NvbD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD0idW5kZWZpbmVkIj09dHlwZW9mIHRoaXMucHJvcFRvQ29sQ2FjaGUuZ2V0KGUpP2U6dGhpcy5wcm9wVG9Db2xDYWNoZS5nZXQoZSksdD1IYW5kc29udGFibGUuaG9va3MucnVuKHRoaXMuaW5zdGFuY2UsIm1vZGlmeUNvbCIsdCl9LG8ucHJvdG90eXBlLmdldFNjaGVtYT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaW5zdGFuY2UuZ2V0U2V0dGluZ3MoKS5kYXRhU2NoZW1hO3JldHVybiBlPyJmdW5jdGlvbiI9PXR5cGVvZiBlP2UoKTplOnRoaXMuZHVja1NjaGVtYX0sby5wcm90b3R5cGUuY3JlYXRlUm93PWZ1bmN0aW9uKGUsdCxuKXt2YXIgbyxyLGk9dGhpcy5pbnN0YW5jZS5jb3VudENvbHMoKSxzPTA7dHx8KHQ9MSksKCJudW1iZXIiIT10eXBlb2YgZXx8ZT49dGhpcy5pbnN0YW5jZS5jb3VudFNvdXJjZVJvd3MoKSkmJihlPXRoaXMuaW5zdGFuY2UuY291bnRTb3VyY2VSb3dzKCkpLHI9ZTtmb3IodmFyIGE9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLm1heFJvd3M7dD5zJiZ0aGlzLmluc3RhbmNlLmNvdW50U291cmNlUm93cygpPGE7KXtpZigiYXJyYXkiPT09dGhpcy5pbnN0YW5jZS5kYXRhVHlwZSl7bz1bXTtmb3IodmFyIGw9MDtpPmw7bCsrKW8ucHVzaChudWxsKX1lbHNlImZ1bmN0aW9uIj09PXRoaXMuaW5zdGFuY2UuZGF0YVR5cGU/bz10aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkuZGF0YVNjaGVtYShlKToobz17fSxtKG8sdGhpcy5nZXRTY2hlbWEoKSkpO2U9PT10aGlzLmluc3RhbmNlLmNvdW50U291cmNlUm93cygpP3RoaXMuZGF0YVNvdXJjZS5wdXNoKG8pOnRoaXMuZGF0YVNvdXJjZS5zcGxpY2UoZSwwLG8pLHMrKyxyKyt9cmV0dXJuIEhhbmRzb250YWJsZS5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwiYWZ0ZXJDcmVhdGVSb3ciLGUscyxuKSx0aGlzLmluc3RhbmNlLmZvcmNlRnVsbFJlbmRlcj0hMCxzfSxvLnByb3RvdHlwZS5jcmVhdGVDb2w9ZnVuY3Rpb24oZSx0LG4pe2lmKCF0aGlzLmluc3RhbmNlLmlzQ29sdW1uTW9kaWZpY2F0aW9uQWxsb3dlZCgpKXRocm93IG5ldyBFcnJvcigiQ2Fubm90IGNyZWF0ZSBuZXcgY29sdW1uLiBXaGVuIGRhdGEgc291cmNlIGluIGFuIG9iamVjdCwgeW91IGNhbiBvbmx5IGhhdmUgYXMgbXVjaCBjb2x1bW5zIGFzIGRlZmluZWQgaW4gZmlyc3QgZGF0YSByb3csIGRhdGEgc2NoZW1hIG9yIGluIHRoZSAnY29sdW1ucycgc2V0dGluZy5JZiB5b3Ugd2FudCB0byBiZSBhYmxlIHRvIGFkZCBuZXcgY29sdW1ucywgeW91IGhhdmUgdG8gdXNlIGFycmF5IGRhdGFzb3VyY2UuIik7dmFyIG8scixpPXRoaXMuaW5zdGFuY2UuY291bnRTb3VyY2VSb3dzKCkscz10aGlzLmRhdGFTb3VyY2UsYT0wO3R8fCh0PTEpLHI9ZTtmb3IodmFyIGw9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLm1heENvbHM7dD5hJiZ0aGlzLmluc3RhbmNlLmNvdW50Q29scygpPGw7KXtpZihvPWYodGhpcy5HcmlkU2V0dGluZ3MsdGhpcy5wcml2LmNvbHVtbnNTZXR0aW5nQ29uZmxpY3RzKSwibnVtYmVyIiE9dHlwZW9mIGV8fGU+PXRoaXMuaW5zdGFuY2UuY291bnRDb2xzKCkpe2Zvcih2YXIgdT0wO2k+dTt1KyspInVuZGVmaW5lZCI9PXR5cGVvZiBzW3VdJiYoc1t1XT1bXSksc1t1XS5wdXNoKG51bGwpO3RoaXMucHJpdi5jb2x1bW5TZXR0aW5ncy5wdXNoKG8pfWVsc2V7Zm9yKHZhciB1PTA7aT51O3UrKylzW3VdLnNwbGljZShyLDAsbnVsbCk7dGhpcy5wcml2LmNvbHVtblNldHRpbmdzLnNwbGljZShyLDAsbyl9YSsrLHIrK31yZXR1cm4gSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJhZnRlckNyZWF0ZUNvbCIsZSxhLG4pLHRoaXMuaW5zdGFuY2UuZm9yY2VGdWxsUmVuZGVyPSEwLGF9LG8ucHJvdG90eXBlLnJlbW92ZVJvdz1mdW5jdGlvbihlLHQpe3R8fCh0PTEpLCJudW1iZXIiIT10eXBlb2YgZSYmKGU9LXQpLGU9KHRoaXMuaW5zdGFuY2UuY291bnRTb3VyY2VSb3dzKCkrZSkldGhpcy5pbnN0YW5jZS5jb3VudFNvdXJjZVJvd3MoKTt2YXIgbj10aGlzLnBoeXNpY2FsUm93c1RvTG9naWNhbChlLHQpLG89SGFuZHNvbnRhYmxlLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJiZWZvcmVSZW1vdmVSb3ciLGUsdCxuKTtpZihvIT09ITEpe3ZhciByPXRoaXMuZGF0YVNvdXJjZSxpPXIuZmlsdGVyKGZ1bmN0aW9uKGUsdCl7cmV0dXJuLTE9PW4uaW5kZXhPZih0KX0pO3IubGVuZ3RoPTAsQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkocixpKSxIYW5kc29udGFibGUuaG9va3MucnVuKHRoaXMuaW5zdGFuY2UsImFmdGVyUmVtb3ZlUm93IixlLHQsbiksdGhpcy5pbnN0YW5jZS5mb3JjZUZ1bGxSZW5kZXI9ITB9fSxvLnByb3RvdHlwZS5yZW1vdmVDb2w9ZnVuY3Rpb24oZSx0KXtpZigib2JqZWN0Ij09PXRoaXMuaW5zdGFuY2UuZGF0YVR5cGV8fHRoaXMuaW5zdGFuY2UuZ2V0U2V0dGluZ3MoKS5jb2x1bW5zKXRocm93IG5ldyBFcnJvcigiY2Fubm90IHJlbW92ZSBjb2x1bW4gd2l0aCBvYmplY3QgZGF0YSBzb3VyY2Ugb3IgY29sdW1ucyBvcHRpb24gc3BlY2lmaWVkIik7dHx8KHQ9MSksIm51bWJlciIhPXR5cGVvZiBlJiYoZT0tdCksZT0odGhpcy5pbnN0YW5jZS5jb3VudENvbHMoKStlKSV0aGlzLmluc3RhbmNlLmNvdW50Q29scygpO3ZhciBuPUhhbmRzb250YWJsZS5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwiYmVmb3JlUmVtb3ZlQ29sIixlLHQpO2lmKG4hPT0hMSl7Zm9yKHZhciBvPXRoaXMuZGF0YVNvdXJjZSxyPTAsaT10aGlzLmluc3RhbmNlLmNvdW50U291cmNlUm93cygpO2k+cjtyKyspb1tyXS5zcGxpY2UoZSx0KTt0aGlzLnByaXYuY29sdW1uU2V0dGluZ3Muc3BsaWNlKGUsdCksSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJhZnRlclJlbW92ZUNvbCIsZSx0KSx0aGlzLmluc3RhbmNlLmZvcmNlRnVsbFJlbmRlcj0hMH19LG8ucHJvdG90eXBlLnNwbGljZUNvbD1mdW5jdGlvbihlLHQsbil7dmFyIG89NDw9YXJndW1lbnRzLmxlbmd0aD9bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKTpbXSxyPXRoaXMuaW5zdGFuY2UuZ2V0RGF0YUF0Q29sKGUpLGk9ci5zbGljZSh0LHQrbikscz1yLnNsaWNlKHQrbik7dyhvLHMpO2Zvcih2YXIgYT0wO24+YTspby5wdXNoKG51bGwpLGErKztyZXR1cm4geShvKSx0aGlzLmluc3RhbmNlLnBvcHVsYXRlRnJvbUFycmF5KHQsZSxvLG51bGwsbnVsbCwic3BsaWNlQ29sIiksaX0sby5wcm90b3R5cGUuc3BsaWNlUm93PWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz00PD1hcmd1bWVudHMubGVuZ3RoP1tdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDMpOltdLHI9dGhpcy5pbnN0YW5jZS5nZXRTb3VyY2VEYXRhQXRSb3coZSksaT1yLnNsaWNlKHQsdCtuKSxzPXIuc2xpY2UodCtuKTt3KG8scyk7Zm9yKHZhciBhPTA7bj5hOylvLnB1c2gobnVsbCksYSsrO3JldHVybiB0aGlzLmluc3RhbmNlLnBvcHVsYXRlRnJvbUFycmF5KGUsdCxbb10sbnVsbCxudWxsLCJzcGxpY2VSb3ciKSxpfSxvLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSx0KXtlPUhhbmRzb250YWJsZS5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwibW9kaWZ5Um93IixlKTt2YXIgbj10aGlzLmRhdGFTb3VyY2VbZV07aWYobiYmbi5oYXNPd25Qcm9wZXJ0eSYmbi5oYXNPd25Qcm9wZXJ0eSh0KSlyZXR1cm4gblt0XTtpZigic3RyaW5nIj09dHlwZW9mIHQmJnQuaW5kZXhPZigiLiIpPi0xKXt2YXIgbz10LnNwbGl0KCIuIikscj1uO2lmKCFyKXJldHVybiBudWxsO2Zvcih2YXIgaT0wLHM9by5sZW5ndGg7cz5pO2krKylpZihyPXJbb1tpXV0sInVuZGVmaW5lZCI9PXR5cGVvZiByKXJldHVybiBudWxsO3JldHVybiByfXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0P3QodGhpcy5kYXRhU291cmNlLnNsaWNlKGUsZSsxKVswXSk6bnVsbH07dmFyIFI9aCgiY29weWFibGUiLCExKTtvLnByb3RvdHlwZS5nZXRDb3B5YWJsZT1mdW5jdGlvbihlLHQpe3JldHVybiBSLmNhbGwodGhpcy5pbnN0YW5jZSxlLHRoaXMucHJvcFRvQ29sKHQpKT90aGlzLmdldChlLHQpOiIifSxvLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LG4sbyl7ZT1IYW5kc29udGFibGUuaG9va3MucnVuKHRoaXMuaW5zdGFuY2UsIm1vZGlmeVJvdyIsZSxvfHwiZGF0YW1hcEdldCIpO3ZhciByPXRoaXMuZGF0YVNvdXJjZVtlXTtpZihyJiZyLmhhc093blByb3BlcnR5JiZyLmhhc093blByb3BlcnR5KHQpKXJbdF09bjtlbHNlIGlmKCJzdHJpbmciPT10eXBlb2YgdCYmdC5pbmRleE9mKCIuIik+LTEpe2Zvcih2YXIgaT10LnNwbGl0KCIuIikscz1yLGE9MCxsPWkubGVuZ3RoLTE7bD5hO2ErKykidW5kZWZpbmVkIj09dHlwZW9mIHNbaVthXV0mJihzW2lbYV1dPXt9KSxzPXNbaVthXV07c1tpW2FdXT1ufWVsc2UiZnVuY3Rpb24iPT10eXBlb2YgdD90KHRoaXMuZGF0YVNvdXJjZS5zbGljZShlLGUrMSlbMF0sbik6clt0XT1ufSxvLnByb3RvdHlwZS5waHlzaWNhbFJvd3NUb0xvZ2ljYWw9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4sbz10aGlzLmluc3RhbmNlLmNvdW50U291cmNlUm93cygpLHI9KG8rZSklbyxpPVtdLHM9dDtvPnImJnM7KW49SGFuZHNvbnRhYmxlLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJtb2RpZnlSb3ciLHIpLGkucHVzaChuKSxzLS0scisrO3JldHVybiBpfSxvLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5pbnN0YW5jZS5jb3VudFNvdXJjZVJvd3MoKTtlKyspZm9yKHZhciB0PTA7dDx0aGlzLmluc3RhbmNlLmNvdW50Q29scygpO3QrKyl0aGlzLnNldChlLHRoaXMuY29sVG9Qcm9wKHQpLCIiKX0sby5wcm90b3R5cGUuZ2V0TGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuaW5zdGFuY2UuY291bnRTb3VyY2VSb3dzKCk7cmV0dXJuIEhhbmRzb250YWJsZS5ob29rcy5oYXMoIm1vZGlmeVJvdyIsdGhpcy5pbnN0YW5jZSkmJmIodGhpcy5pbnN0YW5jZS5jb3VudFNvdXJjZVJvd3MoKS0xLGZ1bmN0aW9uKG4pe249SGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihlLmluc3RhbmNlLCJtb2RpZnlSb3ciLG4pLG51bGw9PT1uJiZ0LS19KSx0fSxvLnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24oKXt2YXIgZT17cm93OjAsY29sOjB9LHQ9e3JvdzpNYXRoLm1heCh0aGlzLmluc3RhbmNlLmNvdW50U291cmNlUm93cygpLTEsMCksY29sOk1hdGgubWF4KHRoaXMuaW5zdGFuY2UuY291bnRDb2xzKCktMSwwKX07cmV0dXJuIGUucm93LXQucm93IT09MHx8dGhpcy5pbnN0YW5jZS5jb3VudFNvdXJjZVJvd3MoKT90aGlzLmdldFJhbmdlKGUsdCxvLnByb3RvdHlwZS5ERVNUSU5BVElPTl9SRU5ERVJFUik6W119LG8ucHJvdG90eXBlLmdldFJhbmdlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbyxyLGkscyxhLGw9W10sdT1uPT09dGhpcy5ERVNUSU5BVElPTl9DTElQQk9BUkRfR0VORVJBVE9SP3RoaXMuZ2V0Q29weWFibGU6dGhpcy5nZXQ7Zm9yKHI9TWF0aC5tYXgoZS5yb3csdC5yb3cpLHM9TWF0aC5tYXgoZS5jb2wsdC5jb2wpLG89TWF0aC5taW4oZS5yb3csdC5yb3cpO3I+PW87bysrKXthPVtdO3ZhciBjPUhhbmRzb250YWJsZS5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwibW9kaWZ5Um93IixvKTtmb3IoaT1NYXRoLm1pbihlLmNvbCx0LmNvbCk7cz49aTtpKyspe2lmKG51bGw9PT1jKWJyZWFrO2EucHVzaCh1LmNhbGwodGhpcyxvLHRoaXMuY29sVG9Qcm9wKGkpKSl9bnVsbCE9PWMmJmwucHVzaChhKX1yZXR1cm4gbH0sby5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbihlLHQpe3JldHVybiBkLnN0cmluZ2lmeSh0aGlzLmdldFJhbmdlKGUsdCx0aGlzLkRFU1RJTkFUSU9OX1JFTkRFUkVSKSl9LG8ucHJvdG90eXBlLmdldENvcHlhYmxlVGV4dD1mdW5jdGlvbihlLHQpe3JldHVybiBkLnN0cmluZ2lmeSh0aGlzLmdldFJhbmdlKGUsdCx0aGlzLkRFU1RJTkFUSU9OX0NMSVBCT0FSRF9HRU5FUkFUT1IpKX0sSGFuZHNvbnRhYmxlLkRhdGFNYXA9b30se1NoZWV0Q2xpcDoiU2hlZXRDbGlwIiwiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvZGF0YSI6NDQsImhlbHBlcnMvbnVtYmVyIjo0OSwiaGVscGVycy9vYmplY3QiOjUwLCJoZWxwZXJzL3NldHRpbmciOjUxLG11bHRpTWFwOjU1fV0sMjc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7RGF0YVNvdXJjZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxhLGw9KChvPWUoImhlbHBlcnMvZGF0YSIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkuY2VsbE1ldGhvZExvb2t1cEZhY3RvcnksKHI9ZSgiaGVscGVycy9zZXR0aW5nIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5jb2x1bW5GYWN0b3J5LGk9ZSgiaGVscGVycy9vYmplY3QiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLHU9KGwuZHVja1NjaGVtYSxsLmRlZXBFeHRlbmQsbC5nZXRQcm9wZXJ0eSksYz0ocz1lKCJoZWxwZXJzL2FycmF5IikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KSxkPShjLmV4dGVuZEFycmF5LGMuYXJyYXlFYWNoKSxoPShhPWUoImhlbHBlcnMvbnVtYmVyIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5yYW5nZUVhY2gsZj1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdO3RoaXMuaG90PWUsdGhpcy5kYXRhPXQsdGhpcy5kYXRhVHlwZT0iYXJyYXkiLHRoaXMuY29sVG9Qcm9wPWZ1bmN0aW9uKCl7fSx0aGlzLnByb3BUb0NvbD1mdW5jdGlvbigpe319OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhmLHtnZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YX0sc2V0RGF0YTpmdW5jdGlvbihlKXt0aGlzLmRhdGE9ZX0sZ2V0QXRDb2x1bW46ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPVtdO3JldHVybiBkKHRoaXMuZGF0YSxmdW5jdGlvbihvKXt2YXIgcj10LmNvbFRvUHJvcChlKTtvPSJzdHJpbmciPT10eXBlb2Ygcj91KG8scik6b1tyXSxuLnB1c2gobyl9KSxufSxnZXRBdFJvdzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kYXRhW2VdfSxnZXRBdENlbGw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5kYXRhW2VdW3RoaXMuY29sVG9Qcm9wKHQpXX0sZ2V0QnlSYW5nZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMsbz1NYXRoLm1pbihlLnJvdyx0LnJvdykscj1NYXRoLm1pbihlLmNvbCx0LmNvbCksaT1NYXRoLm1heChlLnJvdyx0LnJvdykscz1NYXRoLm1heChlLmNvbCx0LmNvbCksYT1bXTtyZXR1cm4gaChvLGksZnVuY3Rpb24oZSl7dmFyIHQsbz1uLmdldEF0Um93KGUpOyJhcnJheSI9PT1uLmRhdGFUeXBlP3Q9by5zbGljZShyLHMpOiJvYmplY3QiPT09bi5kYXRhVHlwZSYmKHQ9e30saChyLHMsZnVuY3Rpb24oZSl7dmFyIHI9bi5jb2xUb1Byb3AoZSk7dFtyXT1vW3JdfSkpLGEucHVzaCh0KX0pLGF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRhdGE9bnVsbCx0aGlzLmhvdD1udWxsfX0se30pfSx7ImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RhdGEiOjQ0LCJoZWxwZXJzL251bWJlciI6NDksImhlbHBlcnMvb2JqZWN0Ijo1MCwiaGVscGVycy9zZXR0aW5nIjo1MX1dLDI4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0LG4pe2Z1bmN0aW9uIG8oZSl7dmFyIG89ImZ1bmN0aW9uIj09dHlwZW9mIHQuc2V0dGluZ3MuZW50ZXJNb3Zlcz90LnNldHRpbmdzLmVudGVyTW92ZXMoZXZlbnQpOnQuc2V0dGluZ3MuZW50ZXJNb3ZlcztlP24udHJhbnNmb3JtU3RhcnQoLW8ucm93LC1vLmNvbCk6bi50cmFuc2Zvcm1TdGFydChvLnJvdyxvLmNvbCwhMCl9ZnVuY3Rpb24gcihlKXtlP24udHJhbnNmb3JtRW5kKC0xLDApOm4udHJhbnNmb3JtU3RhcnQoLTEsMCl9ZnVuY3Rpb24gaShlKXtlP24udHJhbnNmb3JtRW5kKDEsMCk6bi50cmFuc2Zvcm1TdGFydCgxLDApfWZ1bmN0aW9uIHMoZSl7ZT9uLnRyYW5zZm9ybUVuZCgwLDEpOm4udHJhbnNmb3JtU3RhcnQoMCwxKX1mdW5jdGlvbiBhKGUpe2U/bi50cmFuc2Zvcm1FbmQoMCwtMSk6bi50cmFuc2Zvcm1TdGFydCgwLC0xKX1mdW5jdGlvbiBsKGwpe3ZhciBjLHA7aWYoZS5pc0xpc3RlbmluZygpJiYoSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihlLCJiZWZvcmVLZXlEb3duIixsKSwhQyYmIXYobCkmJih0Lmxhc3RLZXlDb2RlPWwua2V5Q29kZSxuLmlzU2VsZWN0ZWQoKSkpKXtpZihjPShsLmN0cmxLZXl8fGwubWV0YUtleSkmJiFsLmFsdEtleSx5JiYheS5pc1dhaXRpbmcoKSYmIShoKGwua2V5Q29kZSl8fGYobC5rZXlDb2RlKXx8Y3x8Yi5pc0VkaXRvck9wZW5lZCgpKSlyZXR1cm4gdm9pZCBiLm9wZW5FZGl0b3IoIiIsbCk7c3dpdGNoKHA9bC5zaGlmdEtleT9uLnNldFJhbmdlRW5kOm4uc2V0UmFuZ2VTdGFydCxsLmtleUNvZGUpe2Nhc2UgZC5BOiFiLmlzRWRpdG9yT3BlbmVkKCkmJmMmJihuLnNlbGVjdEFsbCgpLGwucHJldmVudERlZmF1bHQoKSxnKGwpKTticmVhaztjYXNlIGQuQVJST1dfVVA6Yi5pc0VkaXRvck9wZW5lZCgpJiYheS5pc1dhaXRpbmcoKSYmYi5jbG9zZUVkaXRvckFuZFNhdmVDaGFuZ2VzKGMpLHIobC5zaGlmdEtleSksbC5wcmV2ZW50RGVmYXVsdCgpLGcobCk7YnJlYWs7Y2FzZSBkLkFSUk9XX0RPV046Yi5pc0VkaXRvck9wZW5lZCgpJiYheS5pc1dhaXRpbmcoKSYmYi5jbG9zZUVkaXRvckFuZFNhdmVDaGFuZ2VzKGMpLGkobC5zaGlmdEtleSksbC5wcmV2ZW50RGVmYXVsdCgpLGcobCk7YnJlYWs7Y2FzZSBkLkFSUk9XX1JJR0hUOmIuaXNFZGl0b3JPcGVuZWQoKSYmIXkuaXNXYWl0aW5nKCkmJmIuY2xvc2VFZGl0b3JBbmRTYXZlQ2hhbmdlcyhjKSxzKGwuc2hpZnRLZXkpLGwucHJldmVudERlZmF1bHQoKSxnKGwpO2JyZWFrO2Nhc2UgZC5BUlJPV19MRUZUOmIuaXNFZGl0b3JPcGVuZWQoKSYmIXkuaXNXYWl0aW5nKCkmJmIuY2xvc2VFZGl0b3JBbmRTYXZlQ2hhbmdlcyhjKSxhKGwuc2hpZnRLZXkpLGwucHJldmVudERlZmF1bHQoKSxnKGwpO2JyZWFrO2Nhc2UgZC5UQUI6dmFyIHc9ImZ1bmN0aW9uIj09dHlwZW9mIHQuc2V0dGluZ3MudGFiTW92ZXM/dC5zZXR0aW5ncy50YWJNb3ZlcyhsKTp0LnNldHRpbmdzLnRhYk1vdmVzO2wuc2hpZnRLZXk/bi50cmFuc2Zvcm1TdGFydCgtdy5yb3csLXcuY29sKTpuLnRyYW5zZm9ybVN0YXJ0KHcucm93LHcuY29sLCEwKSxsLnByZXZlbnREZWZhdWx0KCksZyhsKTticmVhaztjYXNlIGQuQkFDS1NQQUNFOmNhc2UgZC5ERUxFVEU6bi5lbXB0eShsKSxiLnByZXBhcmVFZGl0b3IoKSxsLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBkLkYyOmIub3BlbkVkaXRvcihudWxsLGwpLHkmJnkuZW5hYmxlRnVsbEVkaXRNb2RlKCksbC5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO2Nhc2UgZC5FTlRFUjpiLmlzRWRpdG9yT3BlbmVkKCk/KHkmJnkuc3RhdGUhPT1IYW5kc29udGFibGUuRWRpdG9yU3RhdGUuV0FJVElORyYmYi5jbG9zZUVkaXRvckFuZFNhdmVDaGFuZ2VzKGMpLG8obC5zaGlmdEtleSkpOmUuZ2V0U2V0dGluZ3MoKS5lbnRlckJlZ2luc0VkaXRpbmc/KGIub3BlbkVkaXRvcihudWxsLGwpLHkmJnkuZW5hYmxlRnVsbEVkaXRNb2RlKCkpOm8obC5zaGlmdEtleSksbC5wcmV2ZW50RGVmYXVsdCgpLG0obCk7YnJlYWs7Y2FzZSBkLkVTQ0FQRTpiLmlzRWRpdG9yT3BlbmVkKCkmJmIuY2xvc2VFZGl0b3JBbmRSZXN0b3JlT3JpZ2luYWxWYWx1ZShjKSxsLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBkLkhPTUU6cChsLmN0cmxLZXl8fGwubWV0YUtleT9uZXcgdSgwLHQuc2VsUmFuZ2UuZnJvbS5jb2wpOm5ldyB1KHQuc2VsUmFuZ2UuZnJvbS5yb3csMCkpLGwucHJldmVudERlZmF1bHQoKSxnKGwpO2JyZWFrO2Nhc2UgZC5FTkQ6cChsLmN0cmxLZXl8fGwubWV0YUtleT9uZXcgdShlLmNvdW50Um93cygpLTEsdC5zZWxSYW5nZS5mcm9tLmNvbCk6bmV3IHUodC5zZWxSYW5nZS5mcm9tLnJvdyxlLmNvdW50Q29scygpLTEpKSxsLnByZXZlbnREZWZhdWx0KCksZyhsKTticmVhaztjYXNlIGQuUEFHRV9VUDpuLnRyYW5zZm9ybVN0YXJ0KC1lLmNvdW50VmlzaWJsZVJvd3MoKSwwKSxsLnByZXZlbnREZWZhdWx0KCksZyhsKTticmVhaztjYXNlIGQuUEFHRV9ET1dOOm4udHJhbnNmb3JtU3RhcnQoZS5jb3VudFZpc2libGVSb3dzKCksMCksbC5wcmV2ZW50RGVmYXVsdCgpLGcobCl9fX1mdW5jdGlvbiBjKCl7ZnVuY3Rpb24gdChlLHQsbil7IlREIj09bi5ub2RlTmFtZSYmKGIub3BlbkVkaXRvcigpLHkmJnkuZW5hYmxlRnVsbEVkaXRNb2RlKCkpfWUuYWRkSG9vaygiYWZ0ZXJEb2N1bWVudEtleURvd24iLGwpLHAuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsImtleWRvd24iLGZ1bmN0aW9uKHQpe2UucnVuSG9va3MoImFmdGVyRG9jdW1lbnRLZXlEb3duIix0KX0pLGUudmlldy53dC51cGRhdGUoIm9uQ2VsbERibENsaWNrIix0KSxlLmFkZEhvb2soImFmdGVyRGVzdHJveSIsZnVuY3Rpb24oKXtDPSEwfSl9dmFyIHAseSxiPXRoaXMsQz0hMTtwPXcoZSksdGhpcy5kZXN0cm95RWRpdG9yPWZ1bmN0aW9uKGUpe3RoaXMuY2xvc2VFZGl0b3IoZSl9LHRoaXMuZ2V0QWN0aXZlRWRpdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHl9LHRoaXMucHJlcGFyZUVkaXRvcj1mdW5jdGlvbigpe3ZhciBuLG8scixpLHMsYSxsO3JldHVybiB5JiZ5LmlzV2FpdGluZygpP3ZvaWQgdGhpcy5jbG9zZUVkaXRvcighMSwhMSxmdW5jdGlvbihlKXtlJiZiLnByZXBhcmVFZGl0b3IoKX0pOihuPXQuc2VsUmFuZ2UuaGlnaGxpZ2h0LnJvdyxvPXQuc2VsUmFuZ2UuaGlnaGxpZ2h0LmNvbCxyPWUuY29sVG9Qcm9wKG8pLGk9ZS5nZXRDZWxsKG4sbykscz1lLmdldERhdGFBdENlbGwobixvKSxhPWUuZ2V0Q2VsbE1ldGEobixvKSxsPWUuZ2V0Q2VsbEVkaXRvcihhKSx2b2lkKGw/KHk9SGFuZHNvbnRhYmxlLmVkaXRvcnMuZ2V0RWRpdG9yKGwsZSkseS5wcmVwYXJlKG4sbyxyLGkscyxhKSk6eT12b2lkIDApKX0sdGhpcy5pc0VkaXRvck9wZW5lZD1mdW5jdGlvbigpe3JldHVybiB5JiZ5LmlzT3BlbmVkKCl9LHRoaXMub3BlbkVkaXRvcj1mdW5jdGlvbihlLHQpe3kmJiF5LmNlbGxQcm9wZXJ0aWVzLnJlYWRPbmx5P3kuYmVnaW5FZGl0aW5nKGUsdCk6eSYmeS5jZWxsUHJvcGVydGllcy5yZWFkT25seSYmdCYmdC5rZXlDb2RlPT09ZC5FTlRFUiYmbygpfSx0aGlzLmNsb3NlRWRpdG9yPWZ1bmN0aW9uKGUsdCxuKXt5P3kuZmluaXNoRWRpdGluZyhlLHQsbik6biYmbighMSl9LHRoaXMuY2xvc2VFZGl0b3JBbmRTYXZlQ2hhbmdlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9zZUVkaXRvcighMSxlKX0sdGhpcy5jbG9zZUVkaXRvckFuZFJlc3RvcmVPcmlnaW5hbFZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb3NlRWRpdG9yKCEwLGUpfSxjKCl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7RWRpdG9yTWFuYWdlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHMsYSxsLHU9KHI9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5XYWxrb250YWJsZUNlbGxDb29yZHMsYz0oaT1lKCJoZWxwZXJzL3VuaWNvZGUiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLGQ9Yy5LRVlfQ09ERVMsaD1jLmlzTWV0YUtleSxmPWMuaXNDdHJsS2V5LHA9KHM9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLGc9cC5zdG9wUHJvcGFnYXRpb24sbT1wLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbix2PXAuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQsdz0oKGE9ZSgiZWRpdG9ycyIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuZ2V0RWRpdG9yLChsPWUoImV2ZW50TWFuYWdlciIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuZXZlbnRNYW5hZ2VyKTtIYW5kc29udGFibGUuRWRpdG9yTWFuYWdlcj1vfSx7IjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyI6NSxlZGl0b3JzOjI5LGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9kb20vZXZlbnQiOjQ2LCJoZWxwZXJzL3VuaWNvZGUiOjUzfV0sMjk6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXt2YXIgdCxuO249e30sdD1lLHRoaXMuZ2V0Q29uc3RydWN0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sdGhpcy5nZXRJbnN0YW5jZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5ndWlkIGluIG58fChuW2UuZ3VpZF09bmV3IHQoZSkpLG5bZS5ndWlkXX19ZnVuY3Rpb24gcihlLHQpe3ZhciBuPW5ldyBvKHQpOyJzdHJpbmciPT10eXBlb2YgZSYmKGNbZV09bixIYW5kc29udGFibGUuZWRpdG9yc1t1KGUpKyJFZGl0b3IiXT10KSxkLnNldCh0LG4pfWZ1bmN0aW9uIGkoZSx0KXt2YXIgbjtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSlkLmdldChlKXx8cihudWxsLGUpLG49ZC5nZXQoZSk7ZWxzZXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgRXJyb3IoJ09ubHkgc3RyaW5ncyBhbmQgZnVuY3Rpb25zIGNhbiBiZSBwYXNzZWQgYXMgImVkaXRvciIgcGFyYW1ldGVyICcpO249Y1tlXX1pZighbil0aHJvdyBFcnJvcignTm8gZWRpdG9yIHJlZ2lzdGVyZWQgdW5kZXIgbmFtZSAiJytlKyciJyk7cmV0dXJuIG4uZ2V0SW5zdGFuY2UodCl9ZnVuY3Rpb24gcyhlKXt2YXIgdDtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgRXJyb3IoJ09ubHkgc3RyaW5ncyBhbmQgZnVuY3Rpb25zIGNhbiBiZSBwYXNzZWQgYXMgImVkaXRvciIgcGFyYW1ldGVyICcpO2lmKHQ9Y1tlXSwhdCl0aHJvdyBFcnJvcignTm8gZWRpdG9yIHJlZ2lzdGVyZWQgdW5kZXIgbmFtZSAiJytlKyciJyk7cmV0dXJuIHQuZ2V0Q29uc3RydWN0b3IoKX1mdW5jdGlvbiBhKGUpe3JldHVybiBjW2VdPyEwOiExfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se3JlZ2lzdGVyRWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LGdldEVkaXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSxoYXNFZGl0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBhfX0sZ2V0RWRpdG9yQ29uc3RydWN0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGwsdT0obD1lKCJoZWxwZXJzL3N0cmluZyIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkudG9VcHBlckNhc2VGaXJzdCxjPXt9LGQ9bmV3IFdlYWtNYXA7SGFuZHNvbnRhYmxlLmVkaXRvcnM9SGFuZHNvbnRhYmxlLmVkaXRvcnN8fHt9LEhhbmRzb250YWJsZS5lZGl0b3JzLnJlZ2lzdGVyRWRpdG9yPXIsSGFuZHNvbnRhYmxlLmVkaXRvcnMuZ2V0RWRpdG9yPWl9LHsiaGVscGVycy9zdHJpbmciOjUyfV0sMzA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXt0aGlzLmluc3RhbmNlPWUsdGhpcy5zdGF0ZT1IYW5kc29udGFibGUuRWRpdG9yU3RhdGUuVklSR0lOLHRoaXMuX29wZW5lZD0hMSx0aGlzLl9mdWxsRWRpdE1vZGU9ITEsdGhpcy5fY2xvc2VDYWxsYmFjaz1udWxsLHRoaXMuaW5pdCgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0Jhc2VFZGl0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaSxzPShyPWUoImhlbHBlcnMvbWl4ZWQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLnN0cmluZ2lmeSxhPShpPWUoIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuV2Fsa29udGFibGVDZWxsQ29vcmRzO0hhbmRzb250YWJsZS5lZGl0b3JzPUhhbmRzb250YWJsZS5lZGl0b3JzfHx7fSxIYW5kc29udGFibGUuZWRpdG9ycy5CYXNlRWRpdG9yPW8sSGFuZHNvbnRhYmxlLkVkaXRvclN0YXRlPXtWSVJHSU46IlNUQVRFX1ZJUkdJTiIsRURJVElORzoiU1RBVEVfRURJVElORyIsV0FJVElORzoiU1RBVEVfV0FJVElORyIsRklOSVNIRUQ6IlNUQVRFX0ZJTklTSEVEIn0sby5wcm90b3R5cGUuX2ZpcmVDYWxsYmFja3M9ZnVuY3Rpb24oZSl7dGhpcy5fY2xvc2VDYWxsYmFjayYmKHRoaXMuX2Nsb3NlQ2FsbGJhY2soZSksdGhpcy5fY2xvc2VDYWxsYmFjaz1udWxsKX0sby5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiRWRpdG9yIGdldFZhbHVlKCkgbWV0aG9kIHVuaW1wbGVtZW50ZWQiKX0sby5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSl7dGhyb3cgRXJyb3IoIkVkaXRvciBzZXRWYWx1ZSgpIG1ldGhvZCB1bmltcGxlbWVudGVkIil9LG8ucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiRWRpdG9yIG9wZW4oKSBtZXRob2QgdW5pbXBsZW1lbnRlZCIpfSxvLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3Rocm93IEVycm9yKCJFZGl0b3IgY2xvc2UoKSBtZXRob2QgdW5pbXBsZW1lbnRlZCIpfSxvLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKGUsdCxuLG8scixpKXt0aGlzLlREPW8sdGhpcy5yb3c9ZSx0aGlzLmNvbD10LHRoaXMucHJvcD1uLHRoaXMub3JpZ2luYWxWYWx1ZT1yLHRoaXMuY2VsbFByb3BlcnRpZXM9aSx0aGlzLmluc3RhbmNlLnZpZXcuaXNNb3VzZURvd24oKSYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PWRvY3VtZW50LmJvZHk/ZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk6ZG9jdW1lbnQuYWN0aXZlRWxlbWVudHx8ZG9jdW1lbnQuYm9keS5mb2N1cygpLHRoaXMuc3RhdGU9SGFuZHNvbnRhYmxlLkVkaXRvclN0YXRlLlZJUkdJTn0sby5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe24uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHQoZSx0KXtmdW5jdGlvbiBuKCl7fXJldHVybiBuLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgbixlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGV9dmFyIG49dGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdChlLG4pfSxvLnByb3RvdHlwZS5zYXZlVmFsdWU9ZnVuY3Rpb24oZSx0KXt2YXIgbixvO3Q/KG49dGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZCgpLG5bMF0+blsyXSYmKG89blswXSxuWzBdPW5bMl0sblsyXT1vKSxuWzFdPm5bM10mJihvPW5bMV0sblsxXT1uWzNdLG5bM109byksdGhpcy5pbnN0YW5jZS5wb3B1bGF0ZUZyb21BcnJheShuWzBdLG5bMV0sZSxuWzJdLG5bM10sImVkaXQiKSk6dGhpcy5pbnN0YW5jZS5wb3B1bGF0ZUZyb21BcnJheSh0aGlzLnJvdyx0aGlzLmNvbCxlLG51bGwsbnVsbCwiZWRpdCIpfSxvLnByb3RvdHlwZS5iZWdpbkVkaXRpbmc9ZnVuY3Rpb24oZSx0KXt0aGlzLnN0YXRlPT1IYW5kc29udGFibGUuRWRpdG9yU3RhdGUuVklSR0lOJiYodGhpcy5pbnN0YW5jZS52aWV3LnNjcm9sbFZpZXdwb3J0KG5ldyBhKHRoaXMucm93LHRoaXMuY29sKSksdGhpcy5pbnN0YW5jZS52aWV3LnJlbmRlcigpLHRoaXMuc3RhdGU9SGFuZHNvbnRhYmxlLkVkaXRvclN0YXRlLkVESVRJTkcsZT0ic3RyaW5nIj09dHlwZW9mIGU/ZTp0aGlzLm9yaWdpbmFsVmFsdWUsdGhpcy5zZXRWYWx1ZShzKGUpKSx0aGlzLm9wZW4odCksdGhpcy5fb3BlbmVkPSEwLHRoaXMuZm9jdXMoKSx0aGlzLmluc3RhbmNlLnZpZXcucmVuZGVyKCkpfSxvLnByb3RvdHlwZS5maW5pc2hFZGl0aW5nPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbyxyPXRoaXM7aWYobil7dmFyIGk9dGhpcy5fY2xvc2VDYWxsYmFjazt0aGlzLl9jbG9zZUNhbGxiYWNrPWZ1bmN0aW9uKGUpe2kmJmkoZSksbihlKX19aWYoIXRoaXMuaXNXYWl0aW5nKCkpe2lmKHRoaXMuc3RhdGU9PUhhbmRzb250YWJsZS5FZGl0b3JTdGF0ZS5WSVJHSU4pcmV0dXJuIHZvaWQgdGhpcy5pbnN0YW5jZS5fcmVnaXN0ZXJUaW1lb3V0KHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9maXJlQ2FsbGJhY2tzKCEwKX0sMCkpO2lmKHRoaXMuc3RhdGU9PUhhbmRzb250YWJsZS5FZGl0b3JTdGF0ZS5FRElUSU5HKXtpZihlKXJldHVybiB0aGlzLmNhbmNlbENoYW5nZXMoKSx2b2lkIHRoaXMuaW5zdGFuY2Uudmlldy5yZW5kZXIoKTt2YXIgcz10aGlzLmdldFZhbHVlKCk7bz10aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkudHJpbVdoaXRlc3BhY2U/W1sic3RyaW5nIj09dHlwZW9mIHM/U3RyaW5nLnByb3RvdHlwZS50cmltLmNhbGwoc3x8IiIpOnNdXTpbW3NdXSx0aGlzLnN0YXRlPUhhbmRzb250YWJsZS5FZGl0b3JTdGF0ZS5XQUlUSU5HLHRoaXMuc2F2ZVZhbHVlKG8sdCksdGhpcy5pbnN0YW5jZS5nZXRDZWxsVmFsaWRhdG9yKHRoaXMuY2VsbFByb3BlcnRpZXMpP3RoaXMuaW5zdGFuY2UuYWRkSG9va09uY2UoInBvc3RBZnRlclZhbGlkYXRlIixmdW5jdGlvbihlKXtyLnN0YXRlPUhhbmRzb250YWJsZS5FZGl0b3JTdGF0ZS5GSU5JU0hFRCxyLmRpc2NhcmRFZGl0b3IoZSl9KToodGhpcy5zdGF0ZT1IYW5kc29udGFibGUuRWRpdG9yU3RhdGUuRklOSVNIRUQsdGhpcy5kaXNjYXJkRWRpdG9yKCEwKSl9fX0sby5wcm90b3R5cGUuY2FuY2VsQ2hhbmdlcz1mdW5jdGlvbigpe3RoaXMuc3RhdGU9SGFuZHNvbnRhYmxlLkVkaXRvclN0YXRlLkZJTklTSEVELHRoaXMuZGlzY2FyZEVkaXRvcigpfSxvLnByb3RvdHlwZS5kaXNjYXJkRWRpdG9yPWZ1bmN0aW9uKGUpe3RoaXMuc3RhdGU9PT1IYW5kc29udGFibGUuRWRpdG9yU3RhdGUuRklOSVNIRUQmJihlPT09ITEmJnRoaXMuY2VsbFByb3BlcnRpZXMuYWxsb3dJbnZhbGlkIT09ITA/KHRoaXMuaW5zdGFuY2Uuc2VsZWN0Q2VsbCh0aGlzLnJvdyx0aGlzLmNvbCksdGhpcy5mb2N1cygpLHRoaXMuc3RhdGU9SGFuZHNvbnRhYmxlLkVkaXRvclN0YXRlLkVESVRJTkcsdGhpcy5fZmlyZUNhbGxiYWNrcyghMSkpOih0aGlzLmNsb3NlKCksdGhpcy5fb3BlbmVkPSExLHRoaXMuX2Z1bGxFZGl0TW9kZT0hMSx0aGlzLnN0YXRlPUhhbmRzb250YWJsZS5FZGl0b3JTdGF0ZS5WSVJHSU4sdGhpcy5fZmlyZUNhbGxiYWNrcyghMCkpKX0sby5wcm90b3R5cGUuZW5hYmxlRnVsbEVkaXRNb2RlPWZ1bmN0aW9uKCl7dGhpcy5fZnVsbEVkaXRNb2RlPSEwfSxvLnByb3RvdHlwZS5pc0luRnVsbEVkaXRNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bGxFZGl0TW9kZX0sby5wcm90b3R5cGUuaXNPcGVuZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3BlbmVkfSxvLnByb3RvdHlwZS5pc1dhaXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZT09PUhhbmRzb250YWJsZS5FZGl0b3JTdGF0ZS5XQUlUSU5HfSxvLnByb3RvdHlwZS5jaGVja0VkaXRvclNlY3Rpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmNvdW50Um93cygpLHQ9IiI7cmV0dXJuIHRoaXMucm93PHRoaXMuaW5zdGFuY2UuZ2V0U2V0dGluZ3MoKS5maXhlZFJvd3NUb3A/dD10aGlzLmNvbDx0aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkuZml4ZWRDb2x1bW5zTGVmdD8idG9wLWxlZnQtY29ybmVyIjoidG9wIjp0aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkuZml4ZWRSb3dzQm90dG9tJiZ0aGlzLnJvdz49ZS10aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkuZml4ZWRSb3dzQm90dG9tP3Q9dGhpcy5jb2w8dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLmZpeGVkQ29sdW1uc0xlZnQ/ImJvdHRvbS1sZWZ0LWNvcm5lciI6ImJvdHRvbSI6dGhpcy5jb2w8dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLmZpeGVkQ29sdW1uc0xlZnQmJih0PSJsZWZ0IiksdH19LHsiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIjo1LCJoZWxwZXJzL21peGVkIjo0OH1dLDMxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7VD0hMTt2YXIgdD10aGlzLmdldEFjdGl2ZUVkaXRvcigpO2lmKGgoZS5rZXlDb2RlKXx8ZS5rZXlDb2RlPT09ZC5CQUNLU1BBQ0V8fGUua2V5Q29kZT09PWQuREVMRVRFfHxlLmtleUNvZGU9PT1kLklOU0VSVCl7dmFyIG49MDtpZihlLmtleUNvZGU9PT1kLkMmJihlLmN0cmxLZXl8fGUubWV0YUtleSkpcmV0dXJuO3QuaXNPcGVuZWQoKXx8KG4rPTEwKSx0Lmh0RWRpdG9yJiZ0Lmluc3RhbmNlLl9yZWdpc3RlclRpbWVvdXQoc2V0VGltZW91dChmdW5jdGlvbigpe3QucXVlcnlDaG9pY2VzKHQuVEVYVEFSRUEudmFsdWUpLFQ9ITB9LG4pKX19T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7QXV0b2NvbXBsZXRlRWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGkscyxhLGwsdSxjPShyPWUoImhlbHBlcnMvdW5pY29kZSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksZD1jLktFWV9DT0RFUyxoPWMuaXNQcmludGFibGVDaGFyLGY9KGk9ZSgiaGVscGVycy9taXhlZCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuc3RyaW5naWZ5LHA9KHM9ZSgiaGVscGVycy9hcnJheSIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkucGl2b3QsZz0oYT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KSxtPWcuYWRkQ2xhc3Msdj1nLmdldENhcmV0UG9zaXRpb24sdz1nLmdldFNjcm9sbGJhcldpZHRoLHk9Zy5nZXRTZWxlY3Rpb25FbmRQb3NpdGlvbixiPWcub3V0ZXJXaWR0aCxDPWcuc2V0Q2FyZXRQb3NpdGlvbixSPShsPWUoImVkaXRvcnMiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLF89KFIuZ2V0RWRpdG9yQ29uc3RydWN0b3IsUi5yZWdpc3RlckVkaXRvciksUz0odT1lKCJoYW5kc29udGFibGVFZGl0b3IiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLkhhbmRzb250YWJsZUVkaXRvcixFPVMucHJvdG90eXBlLmV4dGVuZCgpO0UucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtTLnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLnF1ZXJ5PW51bGwsdGhpcy5jaG9pY2VzPVtdfSxFLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe1MucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxtKHRoaXMuaHRDb250YWluZXIsImF1dG9jb21wbGV0ZUVkaXRvciIpLG0odGhpcy5odENvbnRhaW5lciwtMT09PXdpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0uaW5kZXhPZigiTWFjIik/IiI6Imh0TWFjU2Nyb2xsIil9O3ZhciBUPSExO0UucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24oKXt0aGlzLmluc3RhbmNlLmFkZEhvb2soImJlZm9yZUtleURvd24iLG8pLFMucHJvdG90eXBlLnByZXBhcmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxFLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dGhpcy5URVhUQVJFQV9QQVJFTlQuc3R5bGUub3ZlcmZsb3c9ImF1dG8iLFMucHJvdG90eXBlLm9wZW4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuVEVYVEFSRUFfUEFSRU5ULnN0eWxlLm92ZXJmbG93PSIiO3ZhciBlPXRoaXMuaHRFZGl0b3IuZ2V0SW5zdGFuY2UoKSx0PXRoaXMsbj12b2lkIDA9PT10aGlzLmNlbGxQcm9wZXJ0aWVzLnRyaW1Ecm9wZG93bj8hMDp0aGlzLmNlbGxQcm9wZXJ0aWVzLnRyaW1Ecm9wZG93bjt0aGlzLlRFWFRBUkVBLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiLHRoaXMuZm9jdXMoKSxlLnVwZGF0ZVNldHRpbmdzKHtjb2xXaWR0aHM6bj9bYih0aGlzLlRFWFRBUkVBKS0yXTp2b2lkIDAsd2lkdGg6bj9iKHRoaXMuVEVYVEFSRUEpK3coKSsyOnZvaWQgMCxhZnRlclJlbmRlcmVyOmZ1bmN0aW9uKGUsbixvLHIsaSl7dmFyIHMsYSxsPXRoaXMuZ2V0Q2VsbE1ldGEobixvKS5maWx0ZXJpbmdDYXNlU2Vuc2l0aXZlPT09ITAsaT1mKGkpO2kmJihzPWw/aS5pbmRleE9mKHRoaXMucXVlcnkpOmkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHQucXVlcnkudG9Mb3dlckNhc2UoKSksLTEhPXMmJihhPWkuc3Vic3RyKHMsdC5xdWVyeS5sZW5ndGgpLGUuaW5uZXJIVE1MPWkucmVwbGFjZShhLCI8c3Ryb25nPiIrYSsiPC9zdHJvbmc+IikpKX0sYXV0b0NvbHVtblNpemU6ITAsbW9kaWZ5Q29sV2lkdGg6ZnVuY3Rpb24oZSx0KXt2YXIgbz10aGlzLmdldFBsdWdpbigiYXV0b0NvbHVtblNpemUiKS53aWR0aHM7cmV0dXJuIG9bdF0mJihlPW9bdF0pLG4/ZTplKzE1fX0pLHRoaXMuaHRFZGl0b3Iudmlldy53dC53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlLnN0eWxlWyJwYWRkaW5nLXJpZ2h0Il09dygpKzIrInB4IixUJiYoVD0hMSksdC5pbnN0YW5jZS5fcmVnaXN0ZXJUaW1lb3V0KHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnF1ZXJ5Q2hvaWNlcyh0LlRFWFRBUkVBLnZhbHVlKX0sMCkpfSxFLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe1MucHJvdG90eXBlLmNsb3NlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sRS5wcm90b3R5cGUucXVlcnlDaG9pY2VzPWZ1bmN0aW9uKGUpe2lmKHRoaXMucXVlcnk9ZSwiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5jZWxsUHJvcGVydGllcy5zb3VyY2Upe3ZhciB0PXRoaXM7dGhpcy5jZWxsUHJvcGVydGllcy5zb3VyY2UoZSxmdW5jdGlvbihlKXt0LnVwZGF0ZUNob2ljZXNMaXN0KGUpfSl9ZWxzZSBpZihBcnJheS5pc0FycmF5KHRoaXMuY2VsbFByb3BlcnRpZXMuc291cmNlKSl7dmFyIG47aWYoZSYmdGhpcy5jZWxsUHJvcGVydGllcy5maWx0ZXIhPT0hMSl7dmFyIG89dGhpcy5jZWxsUHJvcGVydGllcy5maWx0ZXJpbmdDYXNlU2Vuc2l0aXZlPT09ITAscj1lLnRvTG93ZXJDYXNlKCk7bj10aGlzLmNlbGxQcm9wZXJ0aWVzLnNvdXJjZS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIG8/LTEhPXQuaW5kZXhPZihlKTotMSE9dC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yocil9KX1lbHNlIG49dGhpcy5jZWxsUHJvcGVydGllcy5zb3VyY2U7dGhpcy51cGRhdGVDaG9pY2VzTGlzdChuKX1lbHNlIHRoaXMudXBkYXRlQ2hvaWNlc0xpc3QoW10pfSxFLnByb3RvdHlwZS51cGRhdGVDaG9pY2VzTGlzdD1mdW5jdGlvbihlKXt2YXIgdCxuPXYodGhpcy5URVhUQVJFQSksbz15KHRoaXMuVEVYVEFSRUEpLHI9RS5zb3J0QnlSZWxldmFuY2UodGhpcy5nZXRWYWx1ZSgpLGUsdGhpcy5jZWxsUHJvcGVydGllcy5maWx0ZXJpbmdDYXNlU2Vuc2l0aXZlKTtpZigwPT10aGlzLmNlbGxQcm9wZXJ0aWVzLmZpbHRlcil0PXJbMF07ZWxzZXtmb3IodmFyIGk9W10scz0wLGE9ci5sZW5ndGg7YT5zO3MrKylpLnB1c2goZVtyW3NdXSk7dD0wLGU9aX10aGlzLmNob2ljZXM9ZSx0aGlzLmh0RWRpdG9yLmxvYWREYXRhKHAoW2VdKSksdGhpcy51cGRhdGVEcm9wZG93bkhlaWdodCgpLHRoaXMuY2VsbFByb3BlcnRpZXMuc3RyaWN0PT09ITAmJnRoaXMuaGlnaGxpZ2h0QmVzdE1hdGNoaW5nQ2hvaWNlKHQpLHRoaXMuaW5zdGFuY2UubGlzdGVuKCksdGhpcy5URVhUQVJFQS5mb2N1cygpLEModGhpcy5URVhUQVJFQSxuLG49PW8/dm9pZCAwOm8pfSxFLnByb3RvdHlwZS51cGRhdGVEcm9wZG93bkhlaWdodD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaHRFZGl0b3IuZ2V0Q29sV2lkdGgoMCkrdygpKzIsdD12b2lkIDA9PT10aGlzLmNlbGxQcm9wZXJ0aWVzLnRyaW1Ecm9wZG93bj8hMDp0aGlzLmNlbGxQcm9wZXJ0aWVzLnRyaW1Ecm9wZG93bjt0aGlzLmh0RWRpdG9yLnVwZGF0ZVNldHRpbmdzKHtoZWlnaHQ6dGhpcy5nZXREcm9wZG93bkhlaWdodCgpLHdpZHRoOnQ/dm9pZCAwOmV9KSx0aGlzLmh0RWRpdG9yLnZpZXcud3Qud3RUYWJsZS5hbGlnbk92ZXJsYXlzV2l0aFRyaW1taW5nQ29udGFpbmVyKCl9LEUucHJvdG90eXBlLmZpbmlzaEVkaXRpbmc9ZnVuY3Rpb24oZSl7ZXx8dGhpcy5pbnN0YW5jZS5yZW1vdmVIb29rKCJiZWZvcmVLZXlEb3duIixvKSxTLnByb3RvdHlwZS5maW5pc2hFZGl0aW5nLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sRS5wcm90b3R5cGUuaGlnaGxpZ2h0QmVzdE1hdGNoaW5nQ2hvaWNlPWZ1bmN0aW9uKGUpeyJudW1iZXIiPT10eXBlb2YgZT90aGlzLmh0RWRpdG9yLnNlbGVjdENlbGwoZSwwKTp0aGlzLmh0RWRpdG9yLmRlc2VsZWN0Q2VsbCgpfSxFLnNvcnRCeVJlbGV2YW5jZT1mdW5jdGlvbihlLHQsbil7dmFyIG8scixpLHMsYSxsPVtdLHU9ZS5sZW5ndGgsYz1bXTtpZigwPT09dSl7Zm9yKHM9MCxhPXQubGVuZ3RoO2E+cztzKyspYy5wdXNoKHMpO3JldHVybiBjfWZvcihzPTAsYT10Lmxlbmd0aDthPnM7cysrKW89Zih0W3NdKSxyPW4/by5pbmRleE9mKGUpOm8udG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSksLTEhPXImJihpPW8ubGVuZ3RoLXItdSxsLnB1c2goe2Jhc2VJbmRleDpzLGluZGV4OnIsY2hhcnNMZWZ0OmksdmFsdWU6b30pKTtmb3IobC5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuLTE9PT10LmluZGV4Py0xOi0xPT09ZS5pbmRleD8xOmUuaW5kZXg8dC5pbmRleD8tMTp0LmluZGV4PGUuaW5kZXg/MTplLmluZGV4PT09dC5pbmRleD9lLmNoYXJzTGVmdDx0LmNoYXJzTGVmdD8tMTplLmNoYXJzTGVmdD50LmNoYXJzTGVmdD8xOjA6dm9pZCAwfSkscz0wLGE9bC5sZW5ndGg7YT5zO3MrKyljLnB1c2gobFtzXS5iYXNlSW5kZXgpO3JldHVybiBjfSxFLnByb3RvdHlwZS5nZXREcm9wZG93bkhlaWdodD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaHRFZGl0b3IuZ2V0SW5zdGFuY2UoKS5nZXRSb3dIZWlnaHQoMCl8fDIzLHQ9dGhpcy5jZWxsUHJvcGVydGllcy52aXNpYmxlUm93cztyZXR1cm4gdGhpcy5jaG9pY2VzLmxlbmd0aD49dD90KmU6dGhpcy5jaG9pY2VzLmxlbmd0aCplKzh9LEUucHJvdG90eXBlLmFsbG93S2V5RXZlbnRQcm9wYWdhdGlvbj1mdW5jdGlvbihlKXt2YXIgdD17cm93OnRoaXMuaHRFZGl0b3IuZ2V0U2VsZWN0ZWRSYW5nZSgpP3RoaXMuaHRFZGl0b3IuZ2V0U2VsZWN0ZWRSYW5nZSgpLmZyb20ucm93Oi0xfSxuPSExO3JldHVybiBlPT09ZC5BUlJPV19ET1dOJiZ0LnJvdzx0aGlzLmh0RWRpdG9yLmNvdW50Um93cygpLTEmJihuPSEwKSxlPT09ZC5BUlJPV19VUCYmdC5yb3c+LTEmJihuPSEwKSxufSxfKCJhdXRvY29tcGxldGUiLEUpfSx7ZWRpdG9yczoyOSxoYW5kc29udGFibGVFZGl0b3I6MzUsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSwiaGVscGVycy9taXhlZCI6NDgsImhlbHBlcnMvdW5pY29kZSI6NTN9XSwzMjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtDaGVja2JveEVkaXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscz0obz1lKCJlZGl0b3JzIiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KS5yZWdpc3RlckVkaXRvcixhPShyPWUoIl9iYXNlRWRpdG9yIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5CYXNlRWRpdG9yLGw9KGk9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuaGFzQ2xhc3MsdT1mdW5jdGlvbigpeyR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKGMpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYz11OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyh1LHtiZWdpbkVkaXRpbmc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLlRELnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W3R5cGU9ImNoZWNrYm94Il0nKTtsKGUsImh0QmFkVmFsdWUiKXx8ZS5jbGljaygpfSxmaW5pc2hFZGl0aW5nOmZ1bmN0aW9uKCl7fSxpbml0OmZ1bmN0aW9uKCl7fSxvcGVuOmZ1bmN0aW9uKCl7fSxjbG9zZTpmdW5jdGlvbigpe30sZ2V0VmFsdWU6ZnVuY3Rpb24oKXt9LHNldFZhbHVlOmZ1bmN0aW9uKCl7fSxmb2N1czpmdW5jdGlvbigpe319LHt9LGEpLHMoImNoZWNrYm94Iix1KX0se19iYXNlRWRpdG9yOjMwLGVkaXRvcnM6MjksImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1fV0sMzM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7RGF0ZUVkaXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFN9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxhLGwsdSxjLGQsaD0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KSxmPWguYWRkQ2xhc3MscD1oLm91dGVySGVpZ2h0LGc9KHI9ZSgiaGVscGVycy9vYmplY3QiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLmRlZXBFeHRlbmQsbT0oaT1lKCJldmVudE1hbmFnZXIiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLkV2ZW50TWFuYWdlcix2PShzPWUoImVkaXRvcnMiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLHc9KHYuZ2V0RWRpdG9yLHYucmVnaXN0ZXJFZGl0b3IpLHk9KGE9ZSgiaGVscGVycy91bmljb2RlIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5pc01ldGFLZXksYj0obD1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuc3RvcFByb3BhZ2F0aW9uLEM9KHU9ZSgidGV4dEVkaXRvciIpLHUmJnUuX19lc01vZHVsZSYmdXx8eyJkZWZhdWx0Ijp1fSkuVGV4dEVkaXRvcixSPShjPWUoIm1vbWVudCIpLGMmJmMuX19lc01vZHVsZSYmY3x8eyJkZWZhdWx0IjpjfSlbImRlZmF1bHQiXSxfPShkPWUoInBpa2FkYXkiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pWyJkZWZhdWx0Il07SGFuZHNvbnRhYmxlLmVkaXRvcnM9SGFuZHNvbnRhYmxlLmVkaXRvcnN8fHt9LEhhbmRzb250YWJsZS5lZGl0b3JzLkRhdGVFZGl0b3I9Uzt2YXIgUz1mdW5jdGlvbihlKXt0aGlzLiRkYXRlUGlja2VyPW51bGwsdGhpcy5kYXRlUGlja2VyPW51bGwsdGhpcy5kYXRlUGlja2VyU3R5bGU9bnVsbCx0aGlzLmRlZmF1bHREYXRlRm9ybWF0PSJERC9NTS9ZWVlZIix0aGlzLmlzQ2VsbEVkaXRlZD0hMSx0aGlzLnBhcmVudERlc3Ryb3llZD0hMSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3RvcihFKS5jYWxsKHRoaXMsZSl9LEU9UzskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoUyx7aW5pdDpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIFIpdGhyb3cgbmV3IEVycm9yKCJZb3UgbmVlZCB0byBpbmNsdWRlIG1vbWVudC5qcyB0byB5b3VyIHByb2plY3QuIik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIF8pdGhyb3cgbmV3IEVycm9yKCJZb3UgbmVlZCB0byBpbmNsdWRlIFBpa2FkYXkgdG8geW91ciBwcm9qZWN0LiIpOyR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLEUucHJvdG90eXBlLCJpbml0IikuY2FsbCh0aGlzKSx0aGlzLmluc3RhbmNlLmFkZEhvb2soImFmdGVyRGVzdHJveSIsZnVuY3Rpb24oKXtlLnBhcmVudERlc3Ryb3llZD0hMCxlLmRlc3Ryb3lFbGVtZW50cygpfSl9LGNyZWF0ZUVsZW1lbnRzOmZ1bmN0aW9uKCl7JHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsRS5wcm90b3R5cGUsImNyZWF0ZUVsZW1lbnRzIikuY2FsbCh0aGlzKSx0aGlzLmRhdGVQaWNrZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdGhpcy5kYXRlUGlja2VyU3R5bGU9dGhpcy5kYXRlUGlja2VyLnN0eWxlLHRoaXMuZGF0ZVBpY2tlclN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy5kYXRlUGlja2VyU3R5bGUudG9wPTAsdGhpcy5kYXRlUGlja2VyU3R5bGUubGVmdD0wLHRoaXMuZGF0ZVBpY2tlclN0eWxlLnpJbmRleD05OTk5LGYodGhpcy5kYXRlUGlja2VyLCJodERhdGVwaWNrZXJIb2xkZXIiKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZGF0ZVBpY2tlciksdGhpcy4kZGF0ZVBpY2tlcj1uZXcgXyh0aGlzLmdldERhdGVQaWNrZXJDb25maWcoKSk7dmFyIGU9bmV3IG0odGhpcyk7ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuZGF0ZVBpY2tlciwibW91c2Vkb3duIixmdW5jdGlvbihlKXtyZXR1cm4gYihlKX0pLHRoaXMuaGlkZURhdGVwaWNrZXIoKX0sZGVzdHJveUVsZW1lbnRzOmZ1bmN0aW9uKCl7dGhpcy4kZGF0ZVBpY2tlci5kZXN0cm95KCl9LHByZXBhcmU6ZnVuY3Rpb24oZSx0LG4sbyxyLGkpe3RoaXMuX29wZW5lZD0hMSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxFLnByb3RvdHlwZSwicHJlcGFyZSIpLmNhbGwodGhpcyxlLHQsbixvLHIsaSl9LG9wZW46ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7JHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsRS5wcm90b3R5cGUsIm9wZW4iKS5jYWxsKHRoaXMpLHRoaXMuc2hvd0RhdGVwaWNrZXIoZSl9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9vcGVuZWQ9ITEsdGhpcy5pbnN0YW5jZS5fcmVnaXN0ZXJUaW1lb3V0KHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmluc3RhbmNlLnNlbGVjdGlvbi5yZWZyZXNoQm9yZGVycygpOwp9LDApKSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxFLnByb3RvdHlwZSwiY2xvc2UiKS5jYWxsKHRoaXMpfSxmaW5pc2hFZGl0aW5nOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTohMSx0PXZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ITE7aWYoZSl7dmFyIG49dGhpcy5vcmlnaW5hbFZhbHVlO3ZvaWQgMCE9PW4mJnRoaXMuc2V0VmFsdWUobil9dGhpcy5oaWRlRGF0ZXBpY2tlcigpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLEUucHJvdG90eXBlLCJmaW5pc2hFZGl0aW5nIikuY2FsbCh0aGlzLGUsdCl9LHNob3dEYXRlcGlja2VyOmZ1bmN0aW9uKGUpe3RoaXMuJGRhdGVQaWNrZXIuY29uZmlnKHRoaXMuZ2V0RGF0ZVBpY2tlckNvbmZpZygpKTt2YXIgdCxuPXRoaXMuVEQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz10aGlzLmNlbGxQcm9wZXJ0aWVzLmRhdGVGb3JtYXR8fHRoaXMuZGVmYXVsdERhdGVGb3JtYXQscj10aGlzLiRkYXRlUGlja2VyLmNvbmZpZygpLGk9dGhpcy5pbnN0YW5jZS52aWV3LmlzTW91c2VEb3duKCkscz1lP3koZS5rZXlDb2RlKTohMTt0aGlzLmRhdGVQaWNrZXJTdHlsZS50b3A9d2luZG93LnBhZ2VZT2Zmc2V0K24udG9wK3AodGhpcy5URCkrInB4Iix0aGlzLmRhdGVQaWNrZXJTdHlsZS5sZWZ0PXdpbmRvdy5wYWdlWE9mZnNldCtuLmxlZnQrInB4Iix0aGlzLiRkYXRlUGlja2VyLl9vbklucHV0Rm9jdXM9ZnVuY3Rpb24oKXt9LHIuZm9ybWF0PW8sdGhpcy5vcmlnaW5hbFZhbHVlPyh0PXRoaXMub3JpZ2luYWxWYWx1ZSxSKHQsbywhMCkuaXNWYWxpZCgpJiZ0aGlzLiRkYXRlUGlja2VyLnNldE1vbWVudChSKHQsbyksITApLHN8fGl8fHRoaXMuc2V0VmFsdWUoIiIpKTp0aGlzLmNlbGxQcm9wZXJ0aWVzLmRlZmF1bHREYXRlPyh0PXRoaXMuY2VsbFByb3BlcnRpZXMuZGVmYXVsdERhdGUsci5kZWZhdWx0RGF0ZT10LFIodCxvLCEwKS5pc1ZhbGlkKCkmJnRoaXMuJGRhdGVQaWNrZXIuc2V0TW9tZW50KFIodCxvKSwhMCksc3x8aXx8dGhpcy5zZXRWYWx1ZSgiIikpOnRoaXMuJGRhdGVQaWNrZXIuZ290b1RvZGF5KCksdGhpcy5kYXRlUGlja2VyU3R5bGUuZGlzcGxheT0iYmxvY2siLHRoaXMuJGRhdGVQaWNrZXIuc2hvdygpfSxoaWRlRGF0ZXBpY2tlcjpmdW5jdGlvbigpe3RoaXMuZGF0ZVBpY2tlclN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuJGRhdGVQaWNrZXIuaGlkZSgpfSxnZXREYXRlUGlja2VyQ29uZmlnOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuVEVYVEFSRUEsbj17fTt0aGlzLmNlbGxQcm9wZXJ0aWVzJiZ0aGlzLmNlbGxQcm9wZXJ0aWVzLmRhdGVQaWNrZXJDb25maWcmJmcobix0aGlzLmNlbGxQcm9wZXJ0aWVzLmRhdGVQaWNrZXJDb25maWcpO3ZhciBvPW4ub25TZWxlY3Qscj1uLm9uQ2xvc2U7cmV0dXJuIG4uZmllbGQ9dCxuLnRyaWdnZXI9dCxuLmNvbnRhaW5lcj10aGlzLmRhdGVQaWNrZXIsbi5ib3VuZD0hMSxuLmZvcm1hdD1uLmZvcm1hdHx8dGhpcy5kZWZhdWx0RGF0ZUZvcm1hdCxuLnJlcG9zaXRpb249bi5yZXBvc2l0aW9ufHwhMSxuLm9uU2VsZWN0PWZ1bmN0aW9uKHQpe2lzTmFOKHQuZ2V0VGltZSgpKXx8KHQ9Uih0KS5mb3JtYXQoZS5jZWxsUHJvcGVydGllcy5kYXRlRm9ybWF0fHxlLmRlZmF1bHREYXRlRm9ybWF0KSksZS5zZXRWYWx1ZSh0KSxlLmhpZGVEYXRlcGlja2VyKCksbyYmbygpfSxuLm9uQ2xvc2U9ZnVuY3Rpb24oKXtlLnBhcmVudERlc3Ryb3llZHx8ZS5maW5pc2hFZGl0aW5nKCExKSxyJiZyKCl9LG59fSx7fSxDKSx3KCJkYXRlIixTKX0se2VkaXRvcnM6MjksZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSwiaGVscGVycy9kb20vZXZlbnQiOjQ2LCJoZWxwZXJzL29iamVjdCI6NTAsImhlbHBlcnMvdW5pY29kZSI6NTMsbW9tZW50OiJtb21lbnQiLHBpa2FkYXk6InBpa2FkYXkiLHRleHRFZGl0b3I6NDB9XSwzNDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtEcm9wZG93bkVkaXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGk9KG89ZSgiZWRpdG9ycyIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkscz0oaS5nZXRFZGl0b3IsaS5yZWdpc3RlckVkaXRvciksYT0ocj1lKCJhdXRvY29tcGxldGVFZGl0b3IiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLkF1dG9jb21wbGV0ZUVkaXRvcixsPWZ1bmN0aW9uKCl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IodSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1PWw7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGwse3ByZXBhcmU6ZnVuY3Rpb24oZSx0LG4sbyxyLGkpeyR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLHUucHJvdG90eXBlLCJwcmVwYXJlIikuY2FsbCh0aGlzLGUsdCxuLG8scixpKSx0aGlzLmNlbGxQcm9wZXJ0aWVzLmZpbHRlcj0hMSx0aGlzLmNlbGxQcm9wZXJ0aWVzLnN0cmljdD0hMH19LHt9LGEpLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImJlZm9yZVZhbGlkYXRlIixmdW5jdGlvbihlLHQsbixvKXt2YXIgcj10aGlzLmdldENlbGxNZXRhKHQsbik7ci5lZGl0b3I9PT1IYW5kc29udGFibGUuZWRpdG9ycy5Ecm9wZG93bkVkaXRvciYmdm9pZCAwPT09ci5zdHJpY3QmJihyLmZpbHRlcj0hMSxyLnN0cmljdD0hMCl9KSxzKCJkcm9wZG93biIsbCl9LHthdXRvY29tcGxldGVFZGl0b3I6MzEsZWRpdG9yczoyOX1dLDM1OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0hhbmRzb250YWJsZUVkaXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHd9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxhLGwsdT0obz1lKCJoZWxwZXJzL3VuaWNvZGUiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLktFWV9DT0RFUyxjPShyPWUoImhlbHBlcnMvb2JqZWN0IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5leHRlbmQsZD0oaT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5zZXRDYXJldFBvc2l0aW9uLGg9KHM9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLGY9aC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24scD1oLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkLGc9KGE9ZSgiZWRpdG9ycyIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSksbT0oZy5nZXRFZGl0b3IsZy5yZWdpc3RlckVkaXRvciksdj0obD1lKCJ0ZXh0RWRpdG9yIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5UZXh0RWRpdG9yLHc9di5wcm90b3R5cGUuZXh0ZW5kKCk7dy5wcm90b3R5cGUuY3JlYXRlRWxlbWVudHM9ZnVuY3Rpb24oKXt2LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIik7ZS5jbGFzc05hbWU9ImhhbmRzb250YWJsZUVkaXRvciIsdGhpcy5URVhUQVJFQV9QQVJFTlQuYXBwZW5kQ2hpbGQoZSksdGhpcy5odENvbnRhaW5lcj1lLHRoaXMuYXNzaWduSG9va3MoKX0sdy5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbihlLHQsbixvLHIsaSl7di5wcm90b3R5cGUucHJlcGFyZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHM9dGhpcyxhPXtzdGFydFJvd3M6MCxzdGFydENvbHM6MCxtaW5Sb3dzOjAsbWluQ29sczowLGNsYXNzTmFtZToibGlzdGJveCIsY29weVBhc3RlOiExLGF1dG9Db2x1bW5TaXplOiExLGF1dG9Sb3dTaXplOiExLHJlYWRPbmx5OiEwLGZpbGxIYW5kbGU6ITEsYWZ0ZXJPbkNlbGxNb3VzZURvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFZhbHVlKCk7dm9pZCAwIT09ZSYmcy5zZXRWYWx1ZShlKSxzLmluc3RhbmNlLmRlc3Ryb3lFZGl0b3IoKX19O3RoaXMuY2VsbFByb3BlcnRpZXMuaGFuZHNvbnRhYmxlJiZjKGEsaS5oYW5kc29udGFibGUpLHRoaXMuaHRPcHRpb25zPWF9O3ZhciB5PWZ1bmN0aW9uKGUpe2lmKCFwKGUpKXt2YXIgdCxuPXRoaXMuZ2V0QWN0aXZlRWRpdG9yKCksbz1uLmh0RWRpdG9yLmdldEluc3RhbmNlKCk7aWYoZS5rZXlDb2RlPT11LkFSUk9XX0RPV04paWYoby5nZXRTZWxlY3RlZCgpKXt2YXIgcj1vLmdldFNlbGVjdGVkKClbMF0saT1vLmNvdW50Um93cygpLTE7dD1NYXRoLm1pbihpLHIrMSl9ZWxzZSB0PTA7ZWxzZSBpZihlLmtleUNvZGU9PXUuQVJST1dfVVAmJm8uZ2V0U2VsZWN0ZWQoKSl7dmFyIHI9by5nZXRTZWxlY3RlZCgpWzBdO3Q9ci0xfXZvaWQgMCE9PXQmJigwPnQ/by5kZXNlbGVjdENlbGwoKTpvLnNlbGVjdENlbGwodCwwKSxvLmdldERhdGEoKS5sZW5ndGgmJihlLnByZXZlbnREZWZhdWx0KCksZihlKSxuLmluc3RhbmNlLmxpc3RlbigpLG4uVEVYVEFSRUEuZm9jdXMoKSkpfX07dy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3RoaXMuaW5zdGFuY2UuYWRkSG9vaygiYmVmb3JlS2V5RG93biIseSksdi5wcm90b3R5cGUub3Blbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5odEVkaXRvciYmdGhpcy5odEVkaXRvci5kZXN0cm95KCksdGhpcy5odEVkaXRvcj1uZXcgSGFuZHNvbnRhYmxlKHRoaXMuaHRDb250YWluZXIsdGhpcy5odE9wdGlvbnMpLHRoaXMuY2VsbFByb3BlcnRpZXMuc3RyaWN0Pyh0aGlzLmh0RWRpdG9yLnNlbGVjdENlbGwoMCwwKSx0aGlzLlRFWFRBUkVBLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpOih0aGlzLmh0RWRpdG9yLmRlc2VsZWN0Q2VsbCgpLHRoaXMuVEVYVEFSRUEuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIpLGQodGhpcy5URVhUQVJFQSwwLHRoaXMuVEVYVEFSRUEudmFsdWUubGVuZ3RoKX0sdy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmluc3RhbmNlLnJlbW92ZUhvb2soImJlZm9yZUtleURvd24iLHkpLHRoaXMuaW5zdGFuY2UubGlzdGVuKCksdi5wcm90b3R5cGUuY2xvc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx3LnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMuaW5zdGFuY2UubGlzdGVuKCksdi5wcm90b3R5cGUuZm9jdXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx3LnByb3RvdHlwZS5iZWdpbkVkaXRpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLm9uQmVnaW5FZGl0aW5nO3QmJnQoKT09PSExfHx2LnByb3RvdHlwZS5iZWdpbkVkaXRpbmcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx3LnByb3RvdHlwZS5maW5pc2hFZGl0aW5nPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5odEVkaXRvciYmdGhpcy5odEVkaXRvci5pc0xpc3RlbmluZygpJiZ0aGlzLmluc3RhbmNlLmxpc3RlbigpLHRoaXMuaHRFZGl0b3ImJnRoaXMuaHRFZGl0b3IuZ2V0U2VsZWN0ZWQoKSl7dmFyIG49dGhpcy5odEVkaXRvci5nZXRJbnN0YW5jZSgpLmdldFZhbHVlKCk7dm9pZCAwIT09biYmdGhpcy5zZXRWYWx1ZShuKX1yZXR1cm4gdi5wcm90b3R5cGUuZmluaXNoRWRpdGluZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHcucHJvdG90eXBlLmFzc2lnbkhvb2tzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmluc3RhbmNlLmFkZEhvb2soImFmdGVyRGVzdHJveSIsZnVuY3Rpb24oKXtlLmh0RWRpdG9yJiZlLmh0RWRpdG9yLmRlc3Ryb3koKX0pfSxtKCJoYW5kc29udGFibGUiLHcpfSx7ZWRpdG9yczoyOSwiaGVscGVycy9kb20vZWxlbWVudCI6NDUsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NiwiaGVscGVycy9vYmplY3QiOjUwLCJoZWxwZXJzL3VuaWNvZGUiOjUzLHRleHRFZGl0b3I6NDB9XSwzNjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtNb2JpbGVUZXh0RWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGEsbCx1PShvPWUoImhlbHBlcnMvdW5pY29kZSIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkuS0VZX0NPREVTLGM9KHI9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGQ9Yy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24saD1jLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkLGY9KGk9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkscD1mLmFkZENsYXNzLGc9Zi5nZXRTY3JvbGxMZWZ0LG09Zi5nZXRTY3JvbGxUb3Asdj1mLmhhc0NsYXNzLHc9Zi5pc0NoaWxkT2YseT1mLm9mZnNldCxiPWYub3V0ZXJIZWlnaHQsQz1mLm91dGVyV2lkdGgsUj1mLnJlbW92ZUNsYXNzLF89Zi5zZXRDYXJldFBvc2l0aW9uLFM9KHM9ZSgiZWRpdG9ycyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksRT0oUy5nZXRFZGl0b3IsUy5yZWdpc3RlckVkaXRvciksVD0oYT1lKCJfYmFzZUVkaXRvciIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuQmFzZUVkaXRvcixNPShsPWUoImV2ZW50TWFuYWdlciIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuZXZlbnRNYW5hZ2VyLE89VC5wcm90b3R5cGUuZXh0ZW5kKCksaz17fSxIPWZ1bmN0aW9uKCl7dGhpcy5jb250cm9scz17fSx0aGlzLmNvbnRyb2xzLmxlZnRCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdGhpcy5jb250cm9scy5sZWZ0QnV0dG9uLmNsYXNzTmFtZT0ibGVmdEJ1dHRvbiIsdGhpcy5jb250cm9scy5yaWdodEJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmNvbnRyb2xzLnJpZ2h0QnV0dG9uLmNsYXNzTmFtZT0icmlnaHRCdXR0b24iLHRoaXMuY29udHJvbHMudXBCdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdGhpcy5jb250cm9scy51cEJ1dHRvbi5jbGFzc05hbWU9InVwQnV0dG9uIix0aGlzLmNvbnRyb2xzLmRvd25CdXR0b249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdGhpcy5jb250cm9scy5kb3duQnV0dG9uLmNsYXNzTmFtZT0iZG93bkJ1dHRvbiI7Zm9yKHZhciBlIGluIHRoaXMuY29udHJvbHMpdGhpcy5jb250cm9scy5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5wb3NpdGlvbkNvbnRyb2xzLmFwcGVuZENoaWxkKHRoaXMuY29udHJvbHNbZV0pfTtPLnByb3RvdHlwZS52YWx1ZUNoYW5nZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0VmFsdWUhPXRoaXMuZ2V0VmFsdWUoKX0sTy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5ldmVudE1hbmFnZXI9TSh0aGlzLmluc3RhbmNlKSx0aGlzLmNyZWF0ZUVsZW1lbnRzKCksdGhpcy5iaW5kRXZlbnRzKCksdGhpcy5pbnN0YW5jZS5hZGRIb29rKCJhZnRlckRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZS5kZXN0cm95KCl9KX0sTy5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5URVhUQVJFQS52YWx1ZX0sTy5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oZSl7dGhpcy5pbml0VmFsdWU9ZSx0aGlzLlRFWFRBUkVBLnZhbHVlPWV9LE8ucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5lZGl0b3JDb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdGhpcy5lZGl0b3JDb250YWluZXIuY2xhc3NOYW1lPSJodE1vYmlsZUVkaXRvckNvbnRhaW5lciIsdGhpcy5jZWxsUG9pbnRlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmNlbGxQb2ludGVyLmNsYXNzTmFtZT0iY2VsbFBvaW50ZXIiLHRoaXMubW92ZUhhbmRsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLm1vdmVIYW5kbGUuY2xhc3NOYW1lPSJtb3ZlSGFuZGxlIix0aGlzLmlucHV0UGFuZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmlucHV0UGFuZS5jbGFzc05hbWU9ImlucHV0cyIsdGhpcy5wb3NpdGlvbkNvbnRyb2xzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLHRoaXMucG9zaXRpb25Db250cm9scy5jbGFzc05hbWU9InBvc2l0aW9uQ29udHJvbHMiLHRoaXMuVEVYVEFSRUE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEVYVEFSRUEiKSxwKHRoaXMuVEVYVEFSRUEsImhhbmRzb250YWJsZUlucHV0IiksdGhpcy5pbnB1dFBhbmUuYXBwZW5kQ2hpbGQodGhpcy5URVhUQVJFQSksdGhpcy5lZGl0b3JDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jZWxsUG9pbnRlciksdGhpcy5lZGl0b3JDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5tb3ZlSGFuZGxlKSx0aGlzLmVkaXRvckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmlucHV0UGFuZSksdGhpcy5lZGl0b3JDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5wb3NpdGlvbkNvbnRyb2xzKSxILmNhbGwodGhpcyksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmVkaXRvckNvbnRhaW5lcil9LE8ucHJvdG90eXBlLm9uQmVmb3JlS2V5RG93bj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dC5nZXRBY3RpdmVFZGl0b3IoKTtpZihlLnRhcmdldD09PW4uVEVYVEFSRUEmJiFoKGUpKXN3aXRjaChlLmtleUNvZGUpe2Nhc2UgdS5FTlRFUjpuLmNsb3NlKCksZS5wcmV2ZW50RGVmYXVsdCgpO2JyZWFrO2Nhc2UgdS5CQUNLU1BBQ0U6ZChlKX19LE8ucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt0aGlzLmluc3RhbmNlLmFkZEhvb2soImJlZm9yZUtleURvd24iLHRoaXMub25CZWZvcmVLZXlEb3duKSxwKHRoaXMuZWRpdG9yQ29udGFpbmVyLCJhY3RpdmUiKSxSKHRoaXMuY2VsbFBvaW50ZXIsImhpZGRlbiIpLHRoaXMudXBkYXRlRWRpdG9yUG9zaXRpb24oKX0sTy5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXt0aGlzLlRFWFRBUkVBLmZvY3VzKCksXyh0aGlzLlRFWFRBUkVBLHRoaXMuVEVYVEFSRUEudmFsdWUubGVuZ3RoKX0sTy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLlRFWFRBUkVBLmJsdXIoKSx0aGlzLmluc3RhbmNlLnJlbW92ZUhvb2soImJlZm9yZUtleURvd24iLHRoaXMub25CZWZvcmVLZXlEb3duKSxSKHRoaXMuZWRpdG9yQ29udGFpbmVyLCJhY3RpdmUiKX0sTy5wcm90b3R5cGUuc2Nyb2xsVG9WaWV3PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZFJhbmdlKCkuaGlnaGxpZ2h0O3RoaXMuaW5zdGFuY2Uudmlldy5zY3JvbGxWaWV3cG9ydChlKX0sTy5wcm90b3R5cGUuaGlkZUNlbGxQb2ludGVyPWZ1bmN0aW9uKCl7dih0aGlzLmNlbGxQb2ludGVyLCJoaWRkZW4iKXx8cCh0aGlzLmNlbGxQb2ludGVyLCJoaWRkZW4iKX0sTy5wcm90b3R5cGUudXBkYXRlRWRpdG9yUG9zaXRpb249ZnVuY3Rpb24oZSx0KXtpZihlJiZ0KWU9cGFyc2VJbnQoZSwxMCksdD1wYXJzZUludCh0LDEwKSx0aGlzLmVkaXRvckNvbnRhaW5lci5zdHlsZS50b3A9dCsicHgiLHRoaXMuZWRpdG9yQ29udGFpbmVyLnN0eWxlLmxlZnQ9ZSsicHgiO2Vsc2V7dmFyIG49dGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZCgpLG89dGhpcy5pbnN0YW5jZS5nZXRDZWxsKG5bMF0sblsxXSk7aWYoay5jZWxsUG9pbnRlcnx8KGsuY2VsbFBvaW50ZXI9e2hlaWdodDpiKHRoaXMuY2VsbFBvaW50ZXIpLHdpZHRoOkModGhpcy5jZWxsUG9pbnRlcil9KSxrLmVkaXRvckNvbnRhaW5lcnx8KGsuZWRpdG9yQ29udGFpbmVyPXt3aWR0aDpDKHRoaXMuZWRpdG9yQ29udGFpbmVyKX0pLHZvaWQgMCE9PW8pe3ZhciByPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LnRyaW1taW5nQ29udGFpbmVyPT13aW5kb3c/MDpnKHRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LmhvbGRlciksaT10aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy50b3BPdmVybGF5LnRyaW1taW5nQ29udGFpbmVyPT13aW5kb3c/MDptKHRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLnRvcE92ZXJsYXkuaG9sZGVyKSxzPXkobyksYT1DKG8pLGw9e3g6cix5Oml9O3RoaXMuZWRpdG9yQ29udGFpbmVyLnN0eWxlLnRvcD1wYXJzZUludChzLnRvcCtiKG8pLWwueStrLmNlbGxQb2ludGVyLmhlaWdodCwxMCkrInB4Iix0aGlzLmVkaXRvckNvbnRhaW5lci5zdHlsZS5sZWZ0PXBhcnNlSW50KHdpbmRvdy5pbm5lcldpZHRoLzItay5lZGl0b3JDb250YWluZXIud2lkdGgvMiwxMCkrInB4IixzLmxlZnQrYS8yPnBhcnNlSW50KHRoaXMuZWRpdG9yQ29udGFpbmVyLnN0eWxlLmxlZnQsMTApK2suZWRpdG9yQ29udGFpbmVyLndpZHRoP3RoaXMuZWRpdG9yQ29udGFpbmVyLnN0eWxlLmxlZnQ9d2luZG93LmlubmVyV2lkdGgtay5lZGl0b3JDb250YWluZXIud2lkdGgrInB4IjpzLmxlZnQrYS8yPHBhcnNlSW50KHRoaXMuZWRpdG9yQ29udGFpbmVyLnN0eWxlLmxlZnQsMTApKzIwJiYodGhpcy5lZGl0b3JDb250YWluZXIuc3R5bGUubGVmdD0iMHB4IiksdGhpcy5jZWxsUG9pbnRlci5zdHlsZS5sZWZ0PXBhcnNlSW50KHMubGVmdC1rLmNlbGxQb2ludGVyLndpZHRoLzIteSh0aGlzLmVkaXRvckNvbnRhaW5lcikubGVmdCthLzItbC54LDEwKSsicHgifX19LE8ucHJvdG90eXBlLnVwZGF0ZUVkaXRvckRhdGE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldFNlbGVjdGVkKCksdD10aGlzLmluc3RhbmNlLmdldERhdGFBdENlbGwoZVswXSxlWzFdKTt0aGlzLnJvdz1lWzBdLHRoaXMuY29sPWVbMV0sdGhpcy5zZXRWYWx1ZSh0KSx0aGlzLnVwZGF0ZUVkaXRvclBvc2l0aW9uKCl9LE8ucHJvdG90eXBlLnByZXBhcmVBbmRTYXZlPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMudmFsdWVDaGFuZ2VkKCk/KGU9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLnRyaW1XaGl0ZXNwYWNlP1tbU3RyaW5nLnByb3RvdHlwZS50cmltLmNhbGwodGhpcy5nZXRWYWx1ZSgpKV1dOltbdGhpcy5nZXRWYWx1ZSgpXV0sdm9pZCB0aGlzLnNhdmVWYWx1ZShlKSk6ITB9LE8ucHJvdG90eXBlLmJpbmRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5jb250cm9scy5sZWZ0QnV0dG9uLCJ0b3VjaGVuZCIsZnVuY3Rpb24odCl7ZS5wcmVwYXJlQW5kU2F2ZSgpLGUuaW5zdGFuY2Uuc2VsZWN0aW9uLnRyYW5zZm9ybVN0YXJ0KDAsLTEsbnVsbCwhMCksZS51cGRhdGVFZGl0b3JEYXRhKCksdC5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmNvbnRyb2xzLnJpZ2h0QnV0dG9uLCJ0b3VjaGVuZCIsZnVuY3Rpb24odCl7ZS5wcmVwYXJlQW5kU2F2ZSgpLGUuaW5zdGFuY2Uuc2VsZWN0aW9uLnRyYW5zZm9ybVN0YXJ0KDAsMSxudWxsLCEwKSxlLnVwZGF0ZUVkaXRvckRhdGEoKSx0LnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuY29udHJvbHMudXBCdXR0b24sInRvdWNoZW5kIixmdW5jdGlvbih0KXtlLnByZXBhcmVBbmRTYXZlKCksZS5pbnN0YW5jZS5zZWxlY3Rpb24udHJhbnNmb3JtU3RhcnQoLTEsMCxudWxsLCEwKSxlLnVwZGF0ZUVkaXRvckRhdGEoKSx0LnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuY29udHJvbHMuZG93bkJ1dHRvbiwidG91Y2hlbmQiLGZ1bmN0aW9uKHQpe2UucHJlcGFyZUFuZFNhdmUoKSxlLmluc3RhbmNlLnNlbGVjdGlvbi50cmFuc2Zvcm1TdGFydCgxLDAsbnVsbCwhMCksZS51cGRhdGVFZGl0b3JEYXRhKCksdC5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLm1vdmVIYW5kbGUsInRvdWNoc3RhcnQiLGZ1bmN0aW9uKHQpe2lmKDE9PXQudG91Y2hlcy5sZW5ndGgpe3ZhciBuPXQudG91Y2hlc1swXSxvPXt4OmUuZWRpdG9yQ29udGFpbmVyLm9mZnNldExlZnQseTplLmVkaXRvckNvbnRhaW5lci5vZmZzZXRUb3B9LHI9e3g6bi5wYWdlWC1vLngseTpuLnBhZ2VZLW8ueX07ZS5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLCJ0b3VjaG1vdmUiLGZ1bmN0aW9uKHQpe3ZhciBuPXQudG91Y2hlc1swXTtlLnVwZGF0ZUVkaXRvclBvc2l0aW9uKG4ucGFnZVgtci54LG4ucGFnZVktci55KSxlLmhpZGVDZWxsUG9pbnRlcigpLHQucHJldmVudERlZmF1bHQoKX0pfX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQuYm9keSwidG91Y2hlbmQiLGZ1bmN0aW9uKHQpe3codC50YXJnZXQsZS5lZGl0b3JDb250YWluZXIpfHx3KHQudGFyZ2V0LGUuaW5zdGFuY2Uucm9vdEVsZW1lbnQpfHxlLmNsb3NlKCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LmhvbGRlciwic2Nyb2xsIixmdW5jdGlvbih0KXtlLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS50cmltbWluZ0NvbnRhaW5lciE9d2luZG93JiZlLmhpZGVDZWxsUG9pbnRlcigpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy50b3BPdmVybGF5LmhvbGRlciwic2Nyb2xsIixmdW5jdGlvbih0KXtlLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy50b3BPdmVybGF5LnRyaW1taW5nQ29udGFpbmVyIT13aW5kb3cmJmUuaGlkZUNlbGxQb2ludGVyKCl9KX0sTy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZXZlbnRNYW5hZ2VyLmNsZWFyKCksdGhpcy5lZGl0b3JDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVkaXRvckNvbnRhaW5lcil9LEUoIm1vYmlsZSIsTyl9LHtfYmFzZUVkaXRvcjozMCxlZGl0b3JzOjI5LGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9kb20vZWxlbWVudCI6NDUsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NiwiaGVscGVycy91bmljb2RlIjo1M31dLDM3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se051bWVyaWNFZGl0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHM9KG89ZSgibnVtZXJhbCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxhPShyPWUoImVkaXRvcnMiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGw9KGEuZ2V0RWRpdG9yLGEucmVnaXN0ZXJFZGl0b3IpLHU9KGk9ZSgidGV4dEVkaXRvciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuVGV4dEVkaXRvcixjPWZ1bmN0aW9uKCl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoZCkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkPWM7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGMse2JlZ2luRWRpdGluZzpmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIGUmJnRoaXMub3JpZ2luYWxWYWx1ZSl7InVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzLmNlbGxQcm9wZXJ0aWVzLmxhbmd1YWdlJiZzLmxhbmd1YWdlKHRoaXMuY2VsbFByb3BlcnRpZXMubGFuZ3VhZ2UpO3ZhciB0PXMubGFuZ3VhZ2VEYXRhKCkuZGVsaW1pdGVycy5kZWNpbWFsO2U9KCIiK3RoaXMub3JpZ2luYWxWYWx1ZSkucmVwbGFjZSgiLiIsdCl9JHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsZC5wcm90b3R5cGUsImJlZ2luRWRpdGluZyIpLmNhbGwodGhpcyxlKX19LHt9LHUpLGwoIm51bWVyaWMiLGMpfSx7ZWRpdG9yczoyOSxudW1lcmFsOiJudW1lcmFsIix0ZXh0RWRpdG9yOjQwfV0sMzg6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7UGFzc3dvcmRFZGl0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHM9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkuZW1wdHksYT0ocj1lKCJlZGl0b3JzIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSxsPShhLmdldEVkaXRvcixhLnJlZ2lzdGVyRWRpdG9yKSx1PShpPWUoInRleHRFZGl0b3IiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLlRleHRFZGl0b3IsYz1mdW5jdGlvbigpeyR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKGQpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZD1jOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhjLHtjcmVhdGVFbGVtZW50czpmdW5jdGlvbigpeyR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGQucHJvdG90eXBlLCJjcmVhdGVFbGVtZW50cyIpLmNhbGwodGhpcyksdGhpcy5URVhUQVJFQT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLHRoaXMuVEVYVEFSRUEuc2V0QXR0cmlidXRlKCJ0eXBlIiwicGFzc3dvcmQiKSx0aGlzLlRFWFRBUkVBLmNsYXNzTmFtZT0iaGFuZHNvbnRhYmxlSW5wdXQiLHRoaXMudGV4dGFyZWFTdHlsZT10aGlzLlRFWFRBUkVBLnN0eWxlLHRoaXMudGV4dGFyZWFTdHlsZS53aWR0aD0wLHRoaXMudGV4dGFyZWFTdHlsZS5oZWlnaHQ9MCxzKHRoaXMuVEVYVEFSRUFfUEFSRU5UKSx0aGlzLlRFWFRBUkVBX1BBUkVOVC5hcHBlbmRDaGlsZCh0aGlzLlRFWFRBUkVBKX19LHt9LHUpLGwoInBhc3N3b3JkIixjKX0se2VkaXRvcnM6MjksImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LHRleHRFZGl0b3I6NDB9XSwzOTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtTZWxlY3RFZGl0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBTfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsYSxsPShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLHU9bC5hZGRDbGFzcyxjPWwuZW1wdHksZD1sLmZhc3RJbm5lckhUTUwsaD1sLmdldENvbXB1dGVkU3R5bGUsZj1sLmdldENzc1RyYW5zZm9ybSxwPWwuZ2V0U2Nyb2xsYWJsZUVsZW1lbnQsZz1sLm9mZnNldCxtPWwub3V0ZXJIZWlnaHQsdj1sLm91dGVyV2lkdGgsdz1sLnJlc2V0Q3NzVHJhbnNmb3JtLHk9KHI9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbixiPShpPWUoImhlbHBlcnMvdW5pY29kZSIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuS0VZX0NPREVTLEM9KHM9ZSgiZWRpdG9ycyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksUj0oQy5nZXRFZGl0b3IsQy5yZWdpc3RlckVkaXRvciksXz0oYT1lKCJfYmFzZUVkaXRvciIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuQmFzZUVkaXRvcixTPV8ucHJvdG90eXBlLmV4dGVuZCgpO1MucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJTRUxFQ1QiKSx1KHRoaXMuc2VsZWN0LCJodFNlbGVjdEVkaXRvciIpLHRoaXMuc2VsZWN0LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuaW5zdGFuY2Uucm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5zZWxlY3QpLHRoaXMucmVnaXN0ZXJIb29rcygpfSxTLnByb3RvdHlwZS5yZWdpc3Rlckhvb2tzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmluc3RhbmNlLmFkZEhvb2soImFmdGVyU2Nyb2xsSG9yaXpvbnRhbGx5IixmdW5jdGlvbigpe3JldHVybiBlLnJlZnJlc2hEaW1lbnNpb25zKCl9KSx0aGlzLmluc3RhbmNlLmFkZEhvb2soImFmdGVyU2Nyb2xsVmVydGljYWxseSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWZyZXNoRGltZW5zaW9ucygpfSksdGhpcy5pbnN0YW5jZS5hZGRIb29rKCJhZnRlckNvbHVtblJlc2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWZyZXNoRGltZW5zaW9ucygpfSksdGhpcy5pbnN0YW5jZS5hZGRIb29rKCJhZnRlclJvd1Jlc2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWZyZXNoRGltZW5zaW9ucygpfSl9LFMucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24oKXtfLnByb3RvdHlwZS5wcmVwYXJlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZSx0PXRoaXMuY2VsbFByb3BlcnRpZXMuc2VsZWN0T3B0aW9ucztlPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3RoaXMucHJlcGFyZU9wdGlvbnModCh0aGlzLnJvdyx0aGlzLmNvbCx0aGlzLnByb3ApKTp0aGlzLnByZXBhcmVPcHRpb25zKHQpLGModGhpcy5zZWxlY3QpO2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIk9QVElPTiIpO28udmFsdWU9bixkKG8sZVtuXSksdGhpcy5zZWxlY3QuYXBwZW5kQ2hpbGQobyl9fSxTLnByb3RvdHlwZS5wcmVwYXJlT3B0aW9ucz1mdW5jdGlvbihlKXt2YXIgdD17fTtpZihBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgbj0wLG89ZS5sZW5ndGg7bz5uO24rKyl0W2Vbbl1dPWVbbl07ZWxzZSJvYmplY3QiPT10eXBlb2YgZSYmKHQ9ZSk7cmV0dXJuIHR9LFMucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LnZhbHVlfSxTLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdC52YWx1ZT1lfTt2YXIgRT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dC5nZXRBY3RpdmVFZGl0b3IoKTtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIGIuQVJST1dfVVA6dmFyIG89bi5zZWxlY3Quc2VsZWN0ZWRJbmRleC0xO28+PTAmJihuLnNlbGVjdFtvXS5zZWxlY3RlZD0hMCkseShlKSxlLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBiLkFSUk9XX0RPV046dmFyIHI9bi5zZWxlY3Quc2VsZWN0ZWRJbmRleCsxO3I8PW4uc2VsZWN0Lmxlbmd0aC0xJiYobi5zZWxlY3Rbcl0uc2VsZWN0ZWQ9ITApLHkoZSksZS5wcmV2ZW50RGVmYXVsdCgpfX07Uy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3RoaXMuX29wZW5lZD0hMCx0aGlzLnJlZnJlc2hEaW1lbnNpb25zKCksdGhpcy5zZWxlY3Quc3R5bGUuZGlzcGxheT0iIix0aGlzLmluc3RhbmNlLmFkZEhvb2soImJlZm9yZUtleURvd24iLEUpfSxTLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX29wZW5lZD0hMSx0aGlzLnNlbGVjdC5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLmluc3RhbmNlLnJlbW92ZUhvb2soImJlZm9yZUtleURvd24iLEUpfSxTLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMuc2VsZWN0LmZvY3VzKCl9LFMucHJvdG90eXBlLnJlZnJlc2hEaW1lbnNpb25zPWZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZT09PUhhbmRzb250YWJsZS5FZGl0b3JTdGF0ZS5FRElUSU5HKXtpZih0aGlzLlREPXRoaXMuZ2V0RWRpdGVkQ2VsbCgpLCF0aGlzLlREKXJldHVybiB2b2lkIHRoaXMuY2xvc2UoKTt2YXIgZSx0PXYodGhpcy5URCkrMSxuPW0odGhpcy5URCkrMSxvPWcodGhpcy5URCkscj1nKHRoaXMuaW5zdGFuY2Uucm9vdEVsZW1lbnQpLGk9cCh0aGlzLlREKSxzPW8udG9wLXIudG9wLTEtKGkuc2Nyb2xsVG9wfHwwKSxhPW8ubGVmdC1yLmxlZnQtMS0oaS5zY3JvbGxMZWZ0fHwwKSxsPXRoaXMuY2hlY2tFZGl0b3JTZWN0aW9uKCksdT10aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCk7dS5yb3dIZWFkZXJzPzE6MCx1LmNvbEhlYWRlcnM/MTowO3N3aXRjaChsKXtjYXNlInRvcCI6ZT1mKHRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLnRvcE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSk7YnJlYWs7Y2FzZSJsZWZ0IjplPWYodGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSk7YnJlYWs7Y2FzZSJ0b3AtbGVmdC1jb3JuZXIiOmU9Zih0aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy50b3BMZWZ0Q29ybmVyT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKTticmVhaztjYXNlImJvdHRvbS1sZWZ0LWNvcm5lciI6ZT1mKHRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpO2JyZWFrO2Nhc2UiYm90dG9tIjplPWYodGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMuYm90dG9tT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKX0wPT09dGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZCgpWzBdJiYocys9MSksMD09PXRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWQoKVsxXSYmKGErPTEpO3ZhciBjPXRoaXMuc2VsZWN0LnN0eWxlO2UmJi0xIT1lP2NbZVswXV09ZVsxXTp3KHRoaXMuc2VsZWN0KTt2YXIgZD1oKHRoaXMuVEQpO3BhcnNlSW50KGQuYm9yZGVyVG9wV2lkdGgsMTApPjAmJihuLT0xKSxwYXJzZUludChkLmJvcmRlckxlZnRXaWR0aCwxMCk+MCYmKHQtPTEpLGMuaGVpZ2h0PW4rInB4IixjLm1pbldpZHRoPXQrInB4IixjLnRvcD1zKyJweCIsYy5sZWZ0PWErInB4IixjLm1hcmdpbj0iMHB4In19LFMucHJvdG90eXBlLmdldEVkaXRlZENlbGw9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuY2hlY2tFZGl0b3JTZWN0aW9uKCk7c3dpdGNoKHQpe2Nhc2UidG9wIjplPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLnRvcE92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKHtyb3c6dGhpcy5yb3csY29sOnRoaXMuY29sfSksdGhpcy5zZWxlY3Quc3R5bGUuekluZGV4PTEwMTticmVhaztjYXNlImNvcm5lciI6ZT10aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy50b3BMZWZ0Q29ybmVyT3ZlcmxheS5jbG9uZS53dFRhYmxlLmdldENlbGwoe3Jvdzp0aGlzLnJvdyxjb2w6dGhpcy5jb2x9KSx0aGlzLnNlbGVjdC5zdHlsZS56SW5kZXg9MTAzO2JyZWFrO2Nhc2UibGVmdCI6ZT10aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5jbG9uZS53dFRhYmxlLmdldENlbGwoe3Jvdzp0aGlzLnJvdyxjb2w6dGhpcy5jb2x9KSx0aGlzLnNlbGVjdC5zdHlsZS56SW5kZXg9MTAyO2JyZWFrO2RlZmF1bHQ6ZT10aGlzLmluc3RhbmNlLmdldENlbGwodGhpcy5yb3csdGhpcy5jb2wpLHRoaXMuc2VsZWN0LnN0eWxlLnpJbmRleD0iIn1yZXR1cm4tMSE9ZSYmLTIhPWU/ZTp2b2lkIDB9LFIoInNlbGVjdCIsUyl9LHtfYmFzZUVkaXRvcjozMCxlZGl0b3JzOjI5LCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSwiaGVscGVycy9kb20vZXZlbnQiOjQ2LCJoZWxwZXJzL3VuaWNvZGUiOjUzfV0sNDA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7VGV4dEVkaXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEF9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxhLGwsdSxjPShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLGQ9Yy5hZGRDbGFzcyxoPWMuZ2V0Q2FyZXRQb3NpdGlvbixmPWMuZ2V0Q29tcHV0ZWRTdHlsZSxwPWMuZ2V0Q3NzVHJhbnNmb3JtLGc9Yy5nZXRTY3JvbGxhYmxlRWxlbWVudCxtPWMuZ2V0U2Nyb2xsYmFyV2lkdGgsdj1jLmlubmVyV2lkdGgsdz1jLm9mZnNldCx5PWMucmVzZXRDc3NUcmFuc2Zvcm0sYj1jLnNldENhcmV0UG9zaXRpb24sQz1jLmhhc1ZlcnRpY2FsU2Nyb2xsYmFyLFI9Yy5oYXNIb3Jpem9udGFsU2Nyb2xsYmFyLF89KHI9ZSgiYXV0b1Jlc2l6ZSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSlbImRlZmF1bHQiXSxTPShpPWUoIl9iYXNlRWRpdG9yIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5CYXNlRWRpdG9yLEU9KHM9ZSgiZXZlbnRNYW5hZ2VyIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5ldmVudE1hbmFnZXIsVD0oYT1lKCJlZGl0b3JzIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KSxNPShULmdldEVkaXRvcixULnJlZ2lzdGVyRWRpdG9yKSxPPShsPWUoImhlbHBlcnMvdW5pY29kZSIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuS0VZX0NPREVTLGs9KHU9ZSgiaGVscGVycy9kb20vZXZlbnQiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLEg9ay5zdG9wUHJvcGFnYXRpb24sRD1rLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbix4PWsuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQsQT1TLnByb3RvdHlwZS5leHRlbmQoKTtBLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmNyZWF0ZUVsZW1lbnRzKCksdGhpcy5ldmVudE1hbmFnZXI9RSh0aGlzKSx0aGlzLmJpbmRFdmVudHMoKSx0aGlzLmF1dG9SZXNpemU9XygpLHRoaXMuaW5zdGFuY2UuYWRkSG9vaygiYWZ0ZXJEZXN0cm95IixmdW5jdGlvbigpe2UuZGVzdHJveSgpfSl9LEEucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVEVYVEFSRUEudmFsdWV9LEEucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUpe3RoaXMuVEVYVEFSRUEudmFsdWU9ZX07dmFyIFA9ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLG89bi5nZXRBY3RpdmVFZGl0b3IoKTtpZih0PShlLmN0cmxLZXl8fGUubWV0YUtleSkmJiFlLmFsdEtleSxlLnRhcmdldD09PW8uVEVYVEFSRUEmJiF4KGUpKXtpZigxNz09PWUua2V5Q29kZXx8MjI0PT09ZS5rZXlDb2RlfHw5MT09PWUua2V5Q29kZXx8OTM9PT1lLmtleUNvZGUpcmV0dXJuIHZvaWQgRChlKTtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIE8uQVJST1dfUklHSFQ6by5pc0luRnVsbEVkaXRNb2RlKCkmJighby5pc1dhaXRpbmcoKSYmIW8uYWxsb3dLZXlFdmVudFByb3BhZ2F0aW9ufHwhby5pc1dhaXRpbmcoKSYmby5hbGxvd0tleUV2ZW50UHJvcGFnYXRpb24mJiFvLmFsbG93S2V5RXZlbnRQcm9wYWdhdGlvbihlLmtleUNvZGUpKSYmRChlKTticmVhaztjYXNlIE8uQVJST1dfTEVGVDpvLmlzSW5GdWxsRWRpdE1vZGUoKSYmKCFvLmlzV2FpdGluZygpJiYhby5hbGxvd0tleUV2ZW50UHJvcGFnYXRpb258fCFvLmlzV2FpdGluZygpJiZvLmFsbG93S2V5RXZlbnRQcm9wYWdhdGlvbiYmIW8uYWxsb3dLZXlFdmVudFByb3BhZ2F0aW9uKGUua2V5Q29kZSkpJiZEKGUpO2JyZWFrO2Nhc2UgTy5BUlJPV19VUDpjYXNlIE8uQVJST1dfRE9XTjpvLmlzSW5GdWxsRWRpdE1vZGUoKSYmKCFvLmlzV2FpdGluZygpJiYhby5hbGxvd0tleUV2ZW50UHJvcGFnYXRpb258fCFvLmlzV2FpdGluZygpJiZvLmFsbG93S2V5RXZlbnRQcm9wYWdhdGlvbiYmIW8uYWxsb3dLZXlFdmVudFByb3BhZ2F0aW9uKGUua2V5Q29kZSkpJiZEKGUpO2JyZWFrO2Nhc2UgTy5FTlRFUjp2YXIgcj1vLmluc3RhbmNlLmdldFNlbGVjdGVkKCksaT0hKHJbMF09PT1yWzJdJiZyWzFdPT09clszXSk7aWYodCYmIWl8fGUuYWx0S2V5KXtpZihvLmlzT3BlbmVkKCkpe3ZhciBzPWgoby5URVhUQVJFQSksYT1vLmdldFZhbHVlKCksbD1hLnNsaWNlKDAscykrIlxuIithLnNsaWNlKHMpO28uc2V0VmFsdWUobCksYihvLlRFWFRBUkVBLHMrMSl9ZWxzZSBvLmJlZ2luRWRpdGluZyhvLm9yaWdpbmFsVmFsdWUrIlxuIik7RChlKX1lLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBPLkE6Y2FzZSBPLlg6Y2FzZSBPLkM6Y2FzZSBPLlY6dCYmRChlKTticmVhaztjYXNlIE8uQkFDS1NQQUNFOmNhc2UgTy5ERUxFVEU6Y2FzZSBPLkhPTUU6Y2FzZSBPLkVORDpEKGUpfS0xPT09W08uQVJST1dfVVAsTy5BUlJPV19SSUdIVCxPLkFSUk9XX0RPV04sTy5BUlJPV19MRUZUXS5pbmRleE9mKGUua2V5Q29kZSkmJm8uYXV0b1Jlc2l6ZS5yZXNpemUoU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpKX19O0EucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hEaW1lbnNpb25zKCksdGhpcy5pbnN0YW5jZS5hZGRIb29rKCJiZWZvcmVLZXlEb3duIixQKX0sQS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSl7dGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuYXV0b1Jlc2l6ZS51bk9ic2VydmUoKSxkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09dGhpcy5URVhUQVJFQSYmdGhpcy5pbnN0YW5jZS5saXN0ZW4oKSx0aGlzLmluc3RhbmNlLnJlbW92ZUhvb2soImJlZm9yZUtleURvd24iLFApfSxBLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMuVEVYVEFSRUEuZm9jdXMoKSxiKHRoaXMuVEVYVEFSRUEsdGhpcy5URVhUQVJFQS52YWx1ZS5sZW5ndGgpfSxBLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3RoaXMuVEVYVEFSRUE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEVYVEFSRUEiKSxkKHRoaXMuVEVYVEFSRUEsImhhbmRzb250YWJsZUlucHV0IiksdGhpcy50ZXh0YXJlYVN0eWxlPXRoaXMuVEVYVEFSRUEuc3R5bGUsdGhpcy50ZXh0YXJlYVN0eWxlLndpZHRoPTAsdGhpcy50ZXh0YXJlYVN0eWxlLmhlaWdodD0wLHRoaXMuVEVYVEFSRUFfUEFSRU5UPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLGQodGhpcy5URVhUQVJFQV9QQVJFTlQsImhhbmRzb250YWJsZUlucHV0SG9sZGVyIiksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlPXRoaXMuVEVYVEFSRUFfUEFSRU5ULnN0eWxlLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS50b3A9MCx0aGlzLnRleHRhcmVhUGFyZW50U3R5bGUubGVmdD0wLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLlRFWFRBUkVBX1BBUkVOVC5hcHBlbmRDaGlsZCh0aGlzLlRFWFRBUkVBKSx0aGlzLmluc3RhbmNlLnJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuVEVYVEFSRUFfUEFSRU5UKTt2YXIgZT10aGlzO3RoaXMuaW5zdGFuY2UuX3JlZ2lzdGVyVGltZW91dChzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5yZWZyZXNoRGltZW5zaW9ucygpfSwwKSl9LEEucHJvdG90eXBlLmdldEVkaXRlZENlbGw9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuY2hlY2tFZGl0b3JTZWN0aW9uKCk7c3dpdGNoKHQpe2Nhc2UidG9wIjplPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLnRvcE92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKHtyb3c6dGhpcy5yb3csY29sOnRoaXMuY29sfSksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLnpJbmRleD0xMDE7YnJlYWs7Y2FzZSJ0b3AtbGVmdC1jb3JuZXIiOmU9dGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMudG9wTGVmdENvcm5lck92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKHtyb3c6dGhpcy5yb3csY29sOnRoaXMuY29sfSksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLnpJbmRleD0xMDM7YnJlYWs7Y2FzZSJib3R0b20tbGVmdC1jb3JuZXIiOmU9dGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKHtyb3c6dGhpcy5yb3csY29sOnRoaXMuY29sfSksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLnpJbmRleD0xMDM7YnJlYWs7Y2FzZSJsZWZ0IjplPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LmNsb25lLnd0VGFibGUuZ2V0Q2VsbCh7cm93OnRoaXMucm93LGNvbDp0aGlzLmNvbH0pLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS56SW5kZXg9MTAyO2JyZWFrO2Nhc2UiYm90dG9tIjplPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmJvdHRvbU92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKHtyb3c6dGhpcy5yb3csY29sOnRoaXMuY29sfSksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLnpJbmRleD0xMDI7YnJlYWs7ZGVmYXVsdDplPXRoaXMuaW5zdGFuY2UuZ2V0Q2VsbCh0aGlzLnJvdyx0aGlzLmNvbCksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLnpJbmRleD0iIn1yZXR1cm4tMSE9ZSYmLTIhPWU/ZTp2b2lkIDB9LEEucHJvdG90eXBlLnJlZnJlc2hEaW1lbnNpb25zPWZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZT09PUhhbmRzb250YWJsZS5FZGl0b3JTdGF0ZS5FRElUSU5HKXtpZih0aGlzLlREPXRoaXMuZ2V0RWRpdGVkQ2VsbCgpLCF0aGlzLlREKXJldHVybiB2b2lkIHRoaXMuY2xvc2UoITApO3ZhciBlLHQ9dyh0aGlzLlREKSxuPXcodGhpcy5pbnN0YW5jZS5yb290RWxlbWVudCksbz1nKHRoaXMuVEQpLHI9dGhpcy5pbnN0YW5jZS5jb3VudFJvd3MoKSxpPXQudG9wLW4udG9wLTEtKG8uc2Nyb2xsVG9wfHwwKSxzPXQubGVmdC1uLmxlZnQtMS0oby5zY3JvbGxMZWZ0fHwwKSxhPXRoaXMuaW5zdGFuY2UuZ2V0U2V0dGluZ3MoKSxsPSh0aGlzLmluc3RhbmNlLmhhc1Jvd0hlYWRlcnMoKSx0aGlzLmluc3RhbmNlLmhhc0NvbEhlYWRlcnMoKSksdT10aGlzLmNoZWNrRWRpdG9yU2VjdGlvbigpLGM9dGhpcy5URC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7c3dpdGNoKHUpe2Nhc2UidG9wIjplPXAodGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMudG9wT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKTticmVhaztjYXNlImxlZnQiOmU9cCh0aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKTticmVhaztjYXNlInRvcC1sZWZ0LWNvcm5lciI6ZT1wKHRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLnRvcExlZnRDb3JuZXJPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpO2JyZWFrO2Nhc2UiYm90dG9tLWxlZnQtY29ybmVyIjplPXAodGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSk7YnJlYWs7Y2FzZSJib3R0b20iOmU9cCh0aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy5ib3R0b21PdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpfShsJiYwPT09dGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZCgpWzBdfHxhLmZpeGVkUm93c0JvdHRvbSYmdGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZCgpWzBdPT09ci1hLmZpeGVkUm93c0JvdHRvbSkmJihpKz0xKSwwPT09dGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZCgpWzFdJiYocys9MSksZSYmLTEhPWU/dGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlW2VbMF1dPWVbMV06eSh0aGlzLnRleHRhcmVhUGFyZW50U3R5bGUpLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS50b3A9aSsicHgiLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS5sZWZ0PXMrInB4Ijt2YXIgZD10aGlzLmluc3RhbmNlLnZpZXcud3Qud3RWaWV3cG9ydC5yb3dzUmVuZGVyQ2FsY3VsYXRvci5zdGFydFBvc2l0aW9uLGg9dGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRQb3NpdGlvbixiPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LmdldFNjcm9sbFBvc2l0aW9uKCksXz10aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy50b3BPdmVybGF5LmdldFNjcm9sbFBvc2l0aW9uKCksUz1tKCksRT10aGlzLlRELm9mZnNldFRvcCtkLV8sVD10aGlzLlRELm9mZnNldExlZnQraC1iLE09dih0aGlzLlREKS04LE89QyhvKT9TOjAsaz1SKG8pP1M6MCxIPXRoaXMuaW5zdGFuY2Uudmlldy5tYXhpbXVtVmlzaWJsZUVsZW1lbnRXaWR0aChUKS05LU8sRD10aGlzLlRELnNjcm9sbEhlaWdodCsxLHg9TWF0aC5tYXgodGhpcy5pbnN0YW5jZS52aWV3Lm1heGltdW1WaXNpYmxlRWxlbWVudEhlaWdodChFKS1rLDIzKSxBPWYodGhpcy5URCk7dGhpcy5URVhUQVJFQS5zdHlsZS5mb250U2l6ZT1BLmZvbnRTaXplLHRoaXMuVEVYVEFSRUEuc3R5bGUuZm9udEZhbWlseT1BLmZvbnRGYW1pbHksdGhpcy5URVhUQVJFQS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiIsdGhpcy5URVhUQVJFQS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Yz9jOmYodGhpcy5URVhUQVJFQSkuYmFja2dyb3VuZENvbG9yLHRoaXMuYXV0b1Jlc2l6ZS5pbml0KHRoaXMuVEVYVEFSRUEse21pbkhlaWdodDpNYXRoLm1pbihELHgpLG1heEhlaWdodDp4LG1pbldpZHRoOk1hdGgubWluKE0sSCksbWF4V2lkdGg6SH0sITApLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS5kaXNwbGF5PSJibG9jayJ9fSxBLnByb3RvdHlwZS5iaW5kRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuVEVYVEFSRUEsImN1dCIsZnVuY3Rpb24oZSl7SChlKX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5URVhUQVJFQSwicGFzdGUiLGZ1bmN0aW9uKGUpe0goZSl9KSx0aGlzLmluc3RhbmNlLmFkZEhvb2soImFmdGVyU2Nyb2xsSG9yaXpvbnRhbGx5IixmdW5jdGlvbigpe2UucmVmcmVzaERpbWVuc2lvbnMoKX0pLHRoaXMuaW5zdGFuY2UuYWRkSG9vaygiYWZ0ZXJTY3JvbGxWZXJ0aWNhbGx5IixmdW5jdGlvbigpe2UucmVmcmVzaERpbWVuc2lvbnMoKX0pLHRoaXMuaW5zdGFuY2UuYWRkSG9vaygiYWZ0ZXJDb2x1bW5SZXNpemUiLGZ1bmN0aW9uKCl7ZS5yZWZyZXNoRGltZW5zaW9ucygpLGUuZm9jdXMoKX0pLHRoaXMuaW5zdGFuY2UuYWRkSG9vaygiYWZ0ZXJSb3dSZXNpemUiLGZ1bmN0aW9uKCl7ZS5yZWZyZXNoRGltZW5zaW9ucygpLGUuZm9jdXMoKX0pLHRoaXMuaW5zdGFuY2UuYWRkSG9vaygiYWZ0ZXJEZXN0cm95IixmdW5jdGlvbigpe2UuZXZlbnRNYW5hZ2VyLmRlc3Ryb3koKX0pfSxBLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5ldmVudE1hbmFnZXIuZGVzdHJveSgpfSxNKCJ0ZXh0IixBKX0se19iYXNlRWRpdG9yOjMwLGF1dG9SZXNpemU6ImF1dG9SZXNpemUiLGVkaXRvcnM6MjksZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSwiaGVscGVycy9kb20vZXZlbnQiOjQ2LCJoZWxwZXJzL3VuaWNvZGUiOjUzfV0sNDE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlLHQpe3ZhciBuLG8scixpLHMsYSxsPSJIT1QtVEFCTEUiO2lmKHQuaXNUYXJnZXRXZWJDb21wb25lbnQ9ITEsdC5yZWFsVGFyZ2V0PXQudGFyZ2V0LGE9dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24sdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXthLmFwcGx5KHRoaXMpLGgodGhpcyl9LCFIYW5kc29udGFibGUuZXZlbnRNYW5hZ2VyLmlzSG90VGFibGVFbnYpcmV0dXJuIHQ7Zm9yKHQ9dSh0KSxzPXQucGF0aD90LnBhdGgubGVuZ3RoOjA7cy0tOyl7aWYodC5wYXRoW3NdLm5vZGVOYW1lPT09bCluPSEwO2Vsc2UgaWYobiYmdC5wYXRoW3NdLnNoYWRvd1Jvb3Qpe2k9dC5wYXRoW3NdO2JyZWFrfTAhPT1zfHxpfHwoaT10LnBhdGhbc10pfXJldHVybiBpfHwoaT10LnRhcmdldCksdC5pc1RhcmdldFdlYkNvbXBvbmVudD0hMCxkKCk/dC5yZWFsVGFyZ2V0PXQuc3JjRWxlbWVudHx8dC50b0VsZW1lbnQ6KGUgaW5zdGFuY2VvZiBIYW5kc29udGFibGUuQ29yZXx8ZSBpbnN0YW5jZW9mIFdhbGtvbnRhYmxlKSYmKGUgaW5zdGFuY2VvZiBIYW5kc29udGFibGUuQ29yZT9vPWUudmlldz9lLnZpZXcud3Qud3RUYWJsZS5UQUJMRTpudWxsOmUgaW5zdGFuY2VvZiBXYWxrb250YWJsZSYmKG89ZS53dFRhYmxlLlRBQkxFLnBhcmVudE5vZGUucGFyZW50Tm9kZSkscj1jKHQudGFyZ2V0LFtsXSxvKSxyP3QucmVhbFRhcmdldD1vLnF1ZXJ5U2VsZWN0b3IobCl8fHQudGFyZ2V0OnQucmVhbFRhcmdldD10LnRhcmdldCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiB1KGkpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLHR9ZnVuY3Rpb24gcihlKXtyZXR1cm4gbmV3IGYoZSl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7RXZlbnRNYW5hZ2VyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZn19LGV2ZW50TWFuYWdlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgaSxzLGEsbD0oaT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSx1PWwucG9seW1lcldyYXAsYz1sLmNsb3Nlc3QsZD0ocz1lKCJoZWxwZXJzL2Jyb3dzZXIiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLmlzV2ViQ29tcG9uZW50U3VwcG9ydGVkTmF0aXZlbHksaD0oYT1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLGY9ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7dGhpcy5jb250ZXh0PWV8fHRoaXMsdGhpcy5jb250ZXh0LmV2ZW50TGlzdGVuZXJzfHwodGhpcy5jb250ZXh0LmV2ZW50TGlzdGVuZXJzPVtdKX07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGYse2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7dm9pZCAwPT1lLnRhcmdldCYmdm9pZCAwIT1lLnNyY0VsZW1lbnQmJihlLmRlZmluZVBvcGVydHk/ZS5kZWZpbmVQb3BlcnR5KCJ0YXJnZXQiLHt2YWx1ZTplLnNyY0VsZW1lbnR9KTplLnRhcmdldD1lLnNyY0VsZW1lbnQpLHZvaWQgMD09ZS5wcmV2ZW50RGVmYXVsdCYmKGUuZGVmaW5lUG9wZXJ0eT9lLmRlZmluZVBvcGVydHkoInByZXZlbnREZWZhdWx0Iix7dmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJldHVyblZhbHVlPSExfX0pOmUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0aGlzLnJldHVyblZhbHVlPSExfSksZT1vKHMsZSksbi5jYWxsKHRoaXMsZSl9dmFyIGk9dGhpcyxzPXRoaXMuY29udGV4dDtyZXR1cm4gdGhpcy5jb250ZXh0LmV2ZW50TGlzdGVuZXJzLnB1c2goe2VsZW1lbnQ6ZSxldmVudDp0LGNhbGxiYWNrOm4sY2FsbGJhY2tQcm94eTpyfSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKHQsciwhMSk6ZS5hdHRhY2hFdmVudCgib24iK3QsciksSGFuZHNvbnRhYmxlLmNvdW50RXZlbnRNYW5hZ2VyTGlzdGVuZXJzKyssZnVuY3Rpb24oKXtpLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LG4pfX0scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciBvLHI9dGhpcy5jb250ZXh0LmV2ZW50TGlzdGVuZXJzLmxlbmd0aDtyLS07KWlmKG89dGhpcy5jb250ZXh0LmV2ZW50TGlzdGVuZXJzW3JdLG8uZXZlbnQ9PXQmJm8uZWxlbWVudD09ZSl7aWYobiYmbiE9by5jYWxsYmFjayljb250aW51ZTt0aGlzLmNvbnRleHQuZXZlbnRMaXN0ZW5lcnMuc3BsaWNlKHIsMSksby5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXI/by5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoby5ldmVudCxvLmNhbGxiYWNrUHJveHksITEpOm8uZWxlbWVudC5kZXRhY2hFdmVudCgib24iK28uZXZlbnQsby5jYWxsYmFja1Byb3h5KSxIYW5kc29udGFibGUuY291bnRFdmVudE1hbmFnZXJMaXN0ZW5lcnMtLX19LGNsZWFyRXZlbnRzOmZ1bmN0aW9uKCl7aWYodGhpcy5jb250ZXh0KWZvcih2YXIgZT10aGlzLmNvbnRleHQuZXZlbnRMaXN0ZW5lcnMubGVuZ3RoO2UtLTspe3ZhciB0PXRoaXMuY29udGV4dC5ldmVudExpc3RlbmVyc1tlXTt0JiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodC5lbGVtZW50LHQuZXZlbnQsdC5jYWxsYmFjayl9fSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuY2xlYXJFdmVudHMoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2xlYXJFdmVudHMoKSx0aGlzLmNvbnRleHQ9bnVsbH0sZmlyZUV2ZW50OmZ1bmN0aW9uKGUsdCl7dmFyIG4sbz17YnViYmxlczohMCxjYW5jZWxhYmxlOiJtb3VzZW1vdmUiIT09dCx2aWV3OndpbmRvdyxkZXRhaWw6MCxzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MSxjbGllbnRZOjEsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0OnZvaWQgMH07ZG9jdW1lbnQuY3JlYXRlRXZlbnQ/KG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnRzIiksbi5pbml0TW91c2VFdmVudCh0LG8uYnViYmxlcyxvLmNhbmNlbGFibGUsby52aWV3LG8uZGV0YWlsLG8uc2NyZWVuWCxvLnNjcmVlblksby5jbGllbnRYLG8uY2xpZW50WSxvLmN0cmxLZXksby5hbHRLZXksby5zaGlmdEtleSxvLm1ldGFLZXksby5idXR0b24sby5yZWxhdGVkVGFyZ2V0fHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUpKTpuPWRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCksZS5kaXNwYXRjaEV2ZW50P2UuZGlzcGF0Y2hFdmVudChuKTplLmZpcmVFdmVudCgib24iK3Qsbil9fSx7fSksd2luZG93LkhhbmRzb250YWJsZT13aW5kb3cuSGFuZHNvbnRhYmxlfHx7fSxIYW5kc29udGFibGUuY291bnRFdmVudE1hbmFnZXJMaXN0ZW5lcnM9MCxIYW5kc29udGFibGUuZXZlbnRNYW5hZ2VyPXJ9LHsiaGVscGVycy9icm93c2VyIjo0MywiaGVscGVycy9kb20vZWxlbWVudCI6NDUsImhlbHBlcnMvZG9tL2V2ZW50Ijo0Nn1dLDQyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7Zm9yKHZhciB0PTAsbj1lLmxlbmd0aDtuPnQ7KWVbdF09W2VbdF1dLHQrK31mdW5jdGlvbiByKGUsdCl7Zm9yKHZhciBuPTAsbz10Lmxlbmd0aDtvPm47KWUucHVzaCh0W25dKSxuKyt9ZnVuY3Rpb24gaShlKXt2YXIgdD1bXTtpZighZXx8MD09PWUubGVuZ3RofHwhZVswXXx8MD09PWVbMF0ubGVuZ3RoKXJldHVybiB0O2Zvcih2YXIgbj1lLmxlbmd0aCxvPWVbMF0ubGVuZ3RoLHI9MDtuPnI7cisrKWZvcih2YXIgaT0wO28+aTtpKyspdFtpXXx8KHRbaV09W10pLHRbaV1bcl09ZVtyXVtpXTtyZXR1cm4gdH1mdW5jdGlvbiBzKGUsdCxuLG8pe3ZhciByPS0xLGk9ZS5sZW5ndGg7Zm9yKG8mJmkmJihuPWVbKytyXSk7KytyPGk7KW49dChuLGVbcl0scixlKTtyZXR1cm4gbn1mdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciBuPS0xLG89ZS5sZW5ndGgscj0tMSxpPVtdOysrbjxvOyl7dmFyIHM9ZVtuXTt0KHMsbixlKSYmKGlbKytyXT1zKX1yZXR1cm4gaX1mdW5jdGlvbiBsKGUsdCl7Zm9yKHZhciBuPS0xLG89ZS5sZW5ndGgscj0tMSxpPVtdOysrbjxvOyl7dmFyIHM9ZVtuXTtpWysrcl09dChzLG4sZSl9cmV0dXJuIGl9ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgbj0tMSxvPWUubGVuZ3RoOysrbjxvJiZ0KGVbbl0sbixlKSE9PSExOyk7cmV0dXJuIGV9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gcyhlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdH0sMCl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gcyhlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+dD9lOnR9LEFycmF5LmlzQXJyYXkoZSk/ZVswXTp2b2lkIDApfWZ1bmN0aW9uIGgoZSl7cmV0dXJuIHMoZSxmdW5jdGlvbihlLHQpe3JldHVybiB0PmU/ZTp0fSxBcnJheS5pc0FycmF5KGUpP2VbMF06dm9pZCAwKX1mdW5jdGlvbiBmKGUpe3JldHVybiBlLmxlbmd0aD9jKGUpL2UubGVuZ3RoOjB9ZnVuY3Rpb24gcChlKXtyZXR1cm4gcyhlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KEFycmF5LmlzQXJyYXkodCk/cCh0KTp0KX0sW10pfWZ1bmN0aW9uIGcoZSl7dmFyIHQ9W107cmV0dXJuIHUoZSxmdW5jdGlvbihlKXstMT09PXQuaW5kZXhPZihlKSYmdC5wdXNoKGUpfSksdH1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHt0bzJkQXJyYXk6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sZXh0ZW5kQXJyYXk6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0scGl2b3Q6e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0sYXJyYXlSZWR1Y2U6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0sYXJyYXlGaWx0ZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBhOwp9fSxhcnJheU1hcDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9fSxhcnJheUVhY2g6e2dldDpmdW5jdGlvbigpe3JldHVybiB1fX0sYXJyYXlTdW06e2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0sYXJyYXlNYXg6e2dldDpmdW5jdGlvbigpe3JldHVybiBkfX0sYXJyYXlNaW46e2dldDpmdW5jdGlvbigpe3JldHVybiBofX0sYXJyYXlBdmc6e2dldDpmdW5jdGlvbigpe3JldHVybiBmfX0sYXJyYXlGbGF0dGVuOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcH19LGFycmF5VW5pcXVlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pfSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbygpe3JldHVybiBmfWZ1bmN0aW9uIHIoKXtyZXR1cm4gcH1mdW5jdGlvbiBpKCl7cmV0dXJuIGd9ZnVuY3Rpb24gcygpe3JldHVybiBtfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGV8fChlPW5hdmlnYXRvci51c2VyQWdlbnQpLC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChlKX1mdW5jdGlvbiBsKCl7cmV0dXJuIm9udG91Y2hzdGFydCJpbiB3aW5kb3d9ZnVuY3Rpb24gdSgpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlLmNyZWF0ZVNoYWRvd1Jvb3QmJmUuY3JlYXRlU2hhZG93Um9vdC50b1N0cmluZygpLm1hdGNoKC9cW25hdGl2ZSBjb2RlXF0vKT8hMDohMX1mdW5jdGlvbiBjKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEFCTEUiKTtlLnN0eWxlLmJvcmRlclNwYWNpbmc9MCxlLnN0eWxlLmJvcmRlcldpZHRoPTAsZS5zdHlsZS5wYWRkaW5nPTA7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEJPRFkiKTtlLmFwcGVuZENoaWxkKHQpLHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVFIiKSksdC5maXJzdENoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlREIikpLHQuZmlyc3RDaGlsZC5maXJzdENoaWxkLmlubmVySFRNTD0iPHRyPjx0ZD50PGJyPnQ8L3RkPjwvdHI+Ijt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJDQVBUSU9OIik7bi5pbm5lckhUTUw9ImM8YnI+Yzxicj5jPGJyPmMiLG4uc3R5bGUucGFkZGluZz0wLG4uc3R5bGUubWFyZ2luPTAsZS5pbnNlcnRCZWZvcmUobix0KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpLGg9ZS5vZmZzZXRIZWlnaHQ8MiplLmxhc3RDaGlsZC5vZmZzZXRIZWlnaHQsZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlKX1mdW5jdGlvbiBkKCl7cmV0dXJuIHZvaWQgMD09PWgmJmMoKSxofU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se2lzSUU4OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LGlzSUU5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LGlzU2FmYXJpOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LGlzQ2hyb21lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc319LGlzTW9iaWxlQnJvd3Nlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9fSxpc1RvdWNoU3VwcG9ydGVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbH19LGlzV2ViQ29tcG9uZW50U3VwcG9ydGVkTmF0aXZlbHk6e2dldDpmdW5jdGlvbigpe3JldHVybiB1fX0saGFzQ2FwdGlvblByb2JsZW06e2dldDpmdW5jdGlvbigpe3JldHVybiBkfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGgsZj0hZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoInRlc3QiKS50ZXh0Q29udGVudCxwPSEhZG9jdW1lbnQuZG9jdW1lbnRNb2RlLGc9L1NhZmFyaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmL0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpLG09L0Nocm9tZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmL0dvb2dsZS8udGVzdChuYXZpZ2F0b3IudmVuZG9yKX0se31dLDQ0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7Zm9yKHZhciB0LG49ZSsxLG89IiI7bj4wOyl0PShuLTEpJTI2LG89U3RyaW5nLmZyb21DaGFyQ29kZSg2NSt0KStvLG49cGFyc2VJbnQoKG4tdCkvMjYsMTApO3JldHVybiBvfWZ1bmN0aW9uIHIoZSx0KXtlPSJudW1iZXIiPT10eXBlb2YgZT9lOjEwMCx0PSJudW1iZXIiPT10eXBlb2YgdD90OjQ7dmFyIG4scixpPVtdO2ZvcihuPTA7ZT5uO24rKyl7dmFyIHM9W107Zm9yKHI9MDt0PnI7cisrKXMucHVzaChvKHIpKyhuKzEpKTtpLnB1c2gocyl9cmV0dXJuIGl9ZnVuY3Rpb24gaShlLHQpe2U9Im51bWJlciI9PXR5cGVvZiBlP2U6MTAwLHQ9Im51bWJlciI9PXR5cGVvZiB0P3Q6NDt2YXIgbixyLGk9W107Zm9yKG49MDtlPm47bisrKXt2YXIgcz17fTtmb3Iocj0wO3Q+cjtyKyspc1sicHJvcCIrcl09byhyKSsobisxKTtpLnB1c2gocyl9cmV0dXJuIGl9ZnVuY3Rpb24gcyhlLHQpe2Zvcih2YXIgbixvPVtdLHI9MDtlPnI7cisrKXtuPVtdO2Zvcih2YXIgaT0wO3Q+aTtpKyspbi5wdXNoKCIiKTtvLnB1c2gobil9cmV0dXJuIG99ZnVuY3Rpb24gYShlKXt2YXIgdCxuLG8scixpPVtdLHM9MDtmb3IodD0wLG49ZS5sZW5ndGg7bj50O3QrKylmb3Iobz0wLHI9ZVt0XS5sZW5ndGg7cj5vO28rKylvPT1zJiYoaS5wdXNoKFtdKSxzKyspLGlbb10ucHVzaChlW3RdW29dKTtyZXR1cm4gaX1mdW5jdGlvbiBsKGUsdCl7ZnVuY3Rpb24gbihlKXt2YXIgdD1IYW5kc29udGFibGUuY2VsbFR5cGVzW2VdO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoJ1lvdSBkZWNsYXJlZCBjZWxsIHR5cGUgIicrZSsnIiBhcyBhIHN0cmluZyB0aGF0IGlzIG5vdCBtYXBwZWQgdG8gYSBrbm93biBvYmplY3QuIENlbGwgdHlwZSBtdXN0IGJlIGFuIG9iamVjdCBvciBhIHN0cmluZyBtYXBwZWQgdG8gYW4gb2JqZWN0IGluIEhhbmRzb250YWJsZS5jZWxsVHlwZXMnKTtyZXR1cm4gdH1yZXR1cm4gdD0idW5kZWZpbmVkIj09dHlwZW9mIHQ/ITA6dCxmdW5jdGlvbihvLHIpe3JldHVybiBmdW5jdGlvbiBpKG8pe2lmKG8pe2lmKG8uaGFzT3duUHJvcGVydHkoZSkmJnZvaWQgMCE9PW9bZV0pcmV0dXJuIG9bZV07aWYoby5oYXNPd25Qcm9wZXJ0eSgidHlwZSIpJiZvLnR5cGUpe3ZhciByO2lmKCJzdHJpbmciIT10eXBlb2Ygby50eXBlKXRocm93IG5ldyBFcnJvcigiQ2VsbCB0eXBlIG11c3QgYmUgYSBzdHJpbmcgIik7aWYocj1uKG8udHlwZSksci5oYXNPd25Qcm9wZXJ0eShlKSlyZXR1cm4gcltlXTtpZih0KXJldHVybn1yZXR1cm4gaShjKG8pKX19KCJudW1iZXIiPT10eXBlb2Ygbz90aGlzLmdldENlbGxNZXRhKG8scik6byl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se3NwcmVhZHNoZWV0Q29sdW1uTGFiZWw6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sY3JlYXRlU3ByZWFkc2hlZXREYXRhOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LGNyZWF0ZVNwcmVhZHNoZWV0T2JqZWN0RGF0YTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSxjcmVhdGVFbXB0eVNwcmVhZHNoZWV0RGF0YTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9fSx0cmFuc2xhdGVSb3dzVG9Db2x1bW5zOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19LGNlbGxNZXRob2RMb29rdXBGYWN0b3J5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbH19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciB1LGM9KHU9ZSgib2JqZWN0IiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5nZXRQcm90b3R5cGVPZn0se29iamVjdDo1MH1dLDQ1OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0LG4pe2Zvcig7bnVsbCE9ZSYmZSE9PW47KXtpZihlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJih0LmluZGV4T2YoZS5ub2RlTmFtZSk+LTF8fHQuaW5kZXhPZihlKT4tMSkpcmV0dXJuIGU7ZT1lLmhvc3QmJmUubm9kZVR5cGU9PT1Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREU/ZS5ob3N0OmUucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH1mdW5jdGlvbiByKGUsdCl7dmFyIG49ZS5wYXJlbnROb2RlLG89W107Zm9yKCJzdHJpbmciPT10eXBlb2YgdD9vPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodCksMCk6by5wdXNoKHQpO251bGwhPW47KXtpZihvLmluZGV4T2Yobik+LTEpcmV0dXJuITA7bj1uLnBhcmVudE5vZGV9cmV0dXJuITF9ZnVuY3Rpb24gaShlKXtmdW5jdGlvbiB0KGUpe3JldHVybiBlLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUmJmUubm9kZU5hbWU9PT1vLnRvVXBwZXJDYXNlKCl9dmFyIG4sbz0iaG90LXRhYmxlIixyPSExO2ZvcihuPXMoZSk7bnVsbCE9bjspe2lmKHQobikpe3I9ITA7YnJlYWt9aWYobi5ob3N0JiZuLm5vZGVUeXBlPT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKXtpZihyPXQobi5ob3N0KSlicmVhaztuPW4uaG9zdH1uPW4ucGFyZW50Tm9kZX1yZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgUG9seW1lciYmImZ1bmN0aW9uIj09dHlwZW9mIHdyYXA/d3JhcChlKTplfWZ1bmN0aW9uIGEoZSl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBQb2x5bWVyJiYiZnVuY3Rpb24iPT10eXBlb2YgdW53cmFwP3Vud3JhcChlKTplfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9MDtpZihlLnByZXZpb3VzU2libGluZylmb3IoO2U9ZS5wcmV2aW91c1NpYmxpbmc7KSsrdDtyZXR1cm4gdH1mdW5jdGlvbiB1KGUsdCl7dmFyIG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmh0X2Nsb25lXyIrZSk7cmV0dXJuIG4/bi5jb250YWlucyh0KTpudWxsfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9MCxuPVtdO2lmKCFlfHwhZS5sZW5ndGgpcmV0dXJuIG47Zm9yKDtlW3RdOyluLnB1c2goZVt0XSksdCsrO3JldHVybiBufWZ1bmN0aW9uIGQoZSx0KXtyZXR1cm4gcShlLHQpfWZ1bmN0aW9uIGgoZSx0KXtyZXR1cm4gWihlLHQpfWZ1bmN0aW9uIGYoZSx0KXtyZXR1cm4gSihlLHQpfWZ1bmN0aW9uIHAoZSx0KXtpZigzPT09ZS5ub2RlVHlwZSl0LnJlbW92ZUNoaWxkKGUpO2Vsc2UgaWYoWyJUQUJMRSIsIlRIRUFEIiwiVEJPRFkiLCJURk9PVCIsIlRSIl0uaW5kZXhPZihlLm5vZGVOYW1lKT4tMSlmb3IodmFyIG49ZS5jaGlsZE5vZGVzLG89bi5sZW5ndGgtMTtvPj0wO28tLSlwKG5bb10sZSl9ZnVuY3Rpb24gZyhlKXtmb3IodmFyIHQ7dD1lLmxhc3RDaGlsZDspZS5yZW1vdmVDaGlsZCh0KX1mdW5jdGlvbiBtKGUsdCl7bGUudGVzdCh0KT9lLmlubmVySFRNTD10OnYoZSx0KX1mdW5jdGlvbiB2KGUsdCl7dmFyIG49ZS5maXJzdENoaWxkO24mJjM9PT1uLm5vZGVUeXBlJiZudWxsPT09bi5uZXh0U2libGluZz91ZT9uLnRleHRDb250ZW50PXQ6bi5kYXRhPXQ6KGcoZSksZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0KSkpfWZ1bmN0aW9uIHcoZSl7Zm9yKHZhciB0PWU7YSh0KSE9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDspe2lmKG51bGw9PT10KXJldHVybiExO2lmKHQubm9kZVR5cGU9PT1Ob2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUpe2lmKHQuaG9zdCl7aWYodC5ob3N0LmltcGwpcmV0dXJuIHcodC5ob3N0LmltcGwpO2lmKHQuaG9zdClyZXR1cm4gdyh0Lmhvc3QpO3Rocm93IG5ldyBFcnJvcigiTG9zdCBpbiBXZWIgQ29tcG9uZW50cyB3b3JsZCIpfXJldHVybiExfWlmKCJub25lIj09PXQuc3R5bGUuZGlzcGxheSlyZXR1cm4hMTt0PXQucGFyZW50Tm9kZX1yZXR1cm4hMH1mdW5jdGlvbiB5KGUpe3ZhciB0LG4sbyxyLGk7aWYocj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsb2UoKSYmZS5maXJzdENoaWxkJiYiQ0FQVElPTiI9PT1lLmZpcnN0Q2hpbGQubm9kZU5hbWUpcmV0dXJuIGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx7dG9wOmkudG9wKyh3aW5kb3cucGFnZVlPZmZzZXR8fHIuc2Nyb2xsVG9wKS0oci5jbGllbnRUb3B8fDApLGxlZnQ6aS5sZWZ0Kyh3aW5kb3cucGFnZVhPZmZzZXR8fHIuc2Nyb2xsTGVmdCktKHIuY2xpZW50TGVmdHx8MCl9O2Zvcih0PWUub2Zmc2V0TGVmdCxuPWUub2Zmc2V0VG9wLG89ZTsoZT1lLm9mZnNldFBhcmVudCkmJmUhPT1kb2N1bWVudC5ib2R5Oyl0Kz1lLm9mZnNldExlZnQsbis9ZS5vZmZzZXRUb3Asbz1lO3JldHVybiBvJiYiZml4ZWQiPT09by5zdHlsZS5wb3NpdGlvbiYmKHQrPXdpbmRvdy5wYWdlWE9mZnNldHx8ci5zY3JvbGxMZWZ0LG4rPXdpbmRvdy5wYWdlWU9mZnNldHx8ci5zY3JvbGxUb3ApLHtsZWZ0OnQsdG9wOm59fWZ1bmN0aW9uIGIoKXt2YXIgZT13aW5kb3cuc2Nyb2xsWTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCksZX1mdW5jdGlvbiBDKCl7dmFyIGU9d2luZG93LnNjcm9sbFg7cmV0dXJuIHZvaWQgMD09PWUmJihlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KSxlfWZ1bmN0aW9uIFIoZSl7cmV0dXJuIGU9PT13aW5kb3c/YigpOmUuc2Nyb2xsVG9wfWZ1bmN0aW9uIF8oZSl7cmV0dXJuIGU9PT13aW5kb3c/QygpOmUuc2Nyb2xsTGVmdH1mdW5jdGlvbiBTKGUpe2Zvcih2YXIgdCxuLG8scj1lLnBhcmVudE5vZGUsaT1bImF1dG8iLCJzY3JvbGwiXSxzPSIiLGE9IiIsbD0iIix1PSIiO3ImJnIuc3R5bGUmJmRvY3VtZW50LmJvZHkhPT1yOyl7aWYodD1yLnN0eWxlLm92ZXJmbG93LG49ci5zdHlsZS5vdmVyZmxvd1gsbz1yLnN0eWxlLm92ZXJmbG93WSwic2Nyb2xsIj09dHx8InNjcm9sbCI9PW58fCJzY3JvbGwiPT1vKXJldHVybiByO2lmKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlJiYocz13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShyKSxhPXMuZ2V0UHJvcGVydHlWYWx1ZSgib3ZlcmZsb3ciKSxsPXMuZ2V0UHJvcGVydHlWYWx1ZSgib3ZlcmZsb3cteSIpLHU9cy5nZXRQcm9wZXJ0eVZhbHVlKCJvdmVyZmxvdy14IiksInNjcm9sbCI9PT1hfHwic2Nyb2xsIj09PXV8fCJzY3JvbGwiPT09bCkpcmV0dXJuIHI7aWYoci5jbGllbnRIZWlnaHQ8PXIuc2Nyb2xsSGVpZ2h0JiYoLTEhPT1pLmluZGV4T2Yobyl8fC0xIT09aS5pbmRleE9mKHQpfHwtMSE9PWkuaW5kZXhPZihhKXx8LTEhPT1pLmluZGV4T2YobCkpKXJldHVybiByO2lmKHIuY2xpZW50V2lkdGg8PXIuc2Nyb2xsV2lkdGgmJigtMSE9PWkuaW5kZXhPZihuKXx8LTEhPT1pLmluZGV4T2YodCl8fC0xIT09aS5pbmRleE9mKGEpfHwtMSE9PWkuaW5kZXhPZih1KSkpcmV0dXJuIHI7cj1yLnBhcmVudE5vZGV9cmV0dXJuIHdpbmRvd31mdW5jdGlvbiBFKGUpe2Zvcih2YXIgdD1lLnBhcmVudE5vZGU7dCYmdC5zdHlsZSYmZG9jdW1lbnQuYm9keSE9PXQ7KXtpZigidmlzaWJsZSIhPT10LnN0eWxlLm92ZXJmbG93JiYiIiE9PXQuc3R5bGUub3ZlcmZsb3cpcmV0dXJuIHQ7aWYod2luZG93LmdldENvbXB1dGVkU3R5bGUpe3ZhciBuPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHQpO2lmKCJ2aXNpYmxlIiE9PW4uZ2V0UHJvcGVydHlWYWx1ZSgib3ZlcmZsb3ciKSYmIiIhPT1uLmdldFByb3BlcnR5VmFsdWUoIm92ZXJmbG93IikpcmV0dXJuIHR9dD10LnBhcmVudE5vZGV9cmV0dXJuIHdpbmRvd31mdW5jdGlvbiBUKGUsdCl7aWYoZSl7aWYoZSE9PXdpbmRvdyl7dmFyIG4sbz1lLnN0eWxlW3RdO3JldHVybiIiIT09byYmdm9pZCAwIT09bz9vOihuPU0oZSksIiIhPT1uW3RdJiZ2b2lkIDAhPT1uW3RdP25bdF06dm9pZCAwKX1pZigid2lkdGgiPT09dClyZXR1cm4gd2luZG93LmlubmVyV2lkdGgrInB4IjtpZigiaGVpZ2h0Ij09PXQpcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodCsicHgifX1mdW5jdGlvbiBNKGUpe3JldHVybiBlLmN1cnJlbnRTdHlsZXx8ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlKX1mdW5jdGlvbiBPKGUpe3JldHVybiBlLm9mZnNldFdpZHRofWZ1bmN0aW9uIGsoZSl7cmV0dXJuIG9lKCkmJmUuZmlyc3RDaGlsZCYmIkNBUFRJT04iPT09ZS5maXJzdENoaWxkLm5vZGVOYW1lP2Uub2Zmc2V0SGVpZ2h0K2UuZmlyc3RDaGlsZC5vZmZzZXRIZWlnaHQ6ZS5vZmZzZXRIZWlnaHR9ZnVuY3Rpb24gSChlKXtyZXR1cm4gZS5jbGllbnRIZWlnaHR8fGUuaW5uZXJIZWlnaHR9ZnVuY3Rpb24gRChlKXtyZXR1cm4gZS5jbGllbnRXaWR0aHx8ZS5pbm5lcldpZHRofWZ1bmN0aW9uIHgoZSx0LG4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4sITEpOmUuYXR0YWNoRXZlbnQoIm9uIit0LG4pfWZ1bmN0aW9uIEEoZSx0LG4pe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4sITEpOmUuZGV0YWNoRXZlbnQoIm9uIit0LG4pfWZ1bmN0aW9uIFAoZSl7aWYoZS5zZWxlY3Rpb25TdGFydClyZXR1cm4gZS5zZWxlY3Rpb25TdGFydDtpZihkb2N1bWVudC5zZWxlY3Rpb24pe2UuZm9jdXMoKTt2YXIgdD1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtpZihudWxsPT10KXJldHVybiAwO3ZhciBuPWUuY3JlYXRlVGV4dFJhbmdlKCksbz1uLmR1cGxpY2F0ZSgpO3JldHVybiBuLm1vdmVUb0Jvb2ttYXJrKHQuZ2V0Qm9va21hcmsoKSksby5zZXRFbmRQb2ludCgiRW5kVG9TdGFydCIsbiksby50ZXh0Lmxlbmd0aH1yZXR1cm4gMH1mdW5jdGlvbiBOKGUpe2lmKGUuc2VsZWN0aW9uRW5kKXJldHVybiBlLnNlbGVjdGlvbkVuZDtpZihkb2N1bWVudC5zZWxlY3Rpb24pe3ZhciB0PWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO2lmKG51bGw9PXQpcmV0dXJuIDA7dmFyIG49ZS5jcmVhdGVUZXh0UmFuZ2UoKTtyZXR1cm4gbi50ZXh0LmluZGV4T2YodC50ZXh0KSt0LnRleHQubGVuZ3RofX1mdW5jdGlvbiBMKCl7dmFyIGU9IiI7cmV0dXJuIHdpbmRvdy5nZXRTZWxlY3Rpb24/ZT13aW5kb3cuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKTpkb2N1bWVudC5zZWxlY3Rpb24mJiJDb250cm9sIiE9PWRvY3VtZW50LnNlbGVjdGlvbi50eXBlJiYoZT1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS50ZXh0KSxlfWZ1bmN0aW9uIFcoZSx0LG4pe2lmKHZvaWQgMD09PW4mJihuPXQpLGUuc2V0U2VsZWN0aW9uUmFuZ2Upe2UuZm9jdXMoKTt0cnl7ZS5zZXRTZWxlY3Rpb25SYW5nZSh0LG4pfWNhdGNoKG8pe3ZhciByPWUucGFyZW50Tm9kZSxpPXIuc3R5bGUuZGlzcGxheTtyLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixlLnNldFNlbGVjdGlvblJhbmdlKHQsbiksci5zdHlsZS5kaXNwbGF5PWl9fWVsc2UgaWYoZS5jcmVhdGVUZXh0UmFuZ2Upe3ZhciBzPWUuY3JlYXRlVGV4dFJhbmdlKCk7cy5jb2xsYXBzZSghMCkscy5tb3ZlRW5kKCJjaGFyYWN0ZXIiLG4pLHMubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLHQpLHMuc2VsZWN0KCl9fWZ1bmN0aW9uIEkoKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7ZS5zdHlsZS53aWR0aD0iMTAwJSIsZS5zdHlsZS5oZWlnaHQ9IjIwMHB4Ijt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdC5zdHlsZS50b3A9IjBweCIsdC5zdHlsZS5sZWZ0PSIwcHgiLHQuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIix0LnN0eWxlLndpZHRoPSIyMDBweCIsdC5zdHlsZS5oZWlnaHQ9IjE1MHB4Iix0LnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLHQuYXBwZW5kQ2hpbGQoZSksKGRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQodCk7dmFyIG49ZS5vZmZzZXRXaWR0aDt0LnN0eWxlLm92ZXJmbG93PSJzY3JvbGwiO3ZhciBvPWUub2Zmc2V0V2lkdGg7cmV0dXJuIG49PW8mJihvPXQuY2xpZW50V2lkdGgpLChkb2N1bWVudC5ib2R5fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLnJlbW92ZUNoaWxkKHQpLG4tb31mdW5jdGlvbiBqKCl7cmV0dXJuIHZvaWQgMD09PWFlJiYoYWU9SSgpKSxhZX1mdW5jdGlvbiBWKGUpe3JldHVybiBlLm9mZnNldFdpZHRoIT09ZS5jbGllbnRXaWR0aH1mdW5jdGlvbiBCKGUpe3JldHVybiBlLm9mZnNldEhlaWdodCE9PWUuY2xpZW50SGVpZ2h0fWZ1bmN0aW9uIEYoZSx0LG4pe2VlKCl8fHRlKCk/KGUuc3R5bGUudG9wPW4sZS5zdHlsZS5sZWZ0PXQpOm5lKCk/ZS5zdHlsZVsiLXdlYmtpdC10cmFuc2Zvcm0iXT0idHJhbnNsYXRlM2QoIit0KyIsIituKyIsMCkiOmUuc3R5bGUudHJhbnNmb3JtPSJ0cmFuc2xhdGUzZCgiK3QrIiwiK24rIiwwKSJ9ZnVuY3Rpb24geihlKXt2YXIgdDtyZXR1cm4gZS5zdHlsZS50cmFuc2Zvcm0mJiIiIT09KHQ9ZS5zdHlsZS50cmFuc2Zvcm0pP1sidHJhbnNmb3JtIix0XTplLnN0eWxlWyItd2Via2l0LXRyYW5zZm9ybSJdJiYiIiE9PSh0PWUuc3R5bGVbIi13ZWJraXQtdHJhbnNmb3JtIl0pP1siLXdlYmtpdC10cmFuc2Zvcm0iLHRdOi0xfWZ1bmN0aW9uIFkoZSl7ZS50cmFuc2Zvcm0mJiIiIT09ZS50cmFuc2Zvcm0/ZS50cmFuc2Zvcm09IiI6ZVsiLXdlYmtpdC10cmFuc2Zvcm0iXSYmIiIhPT1lWyItd2Via2l0LXRyYW5zZm9ybSJdJiYoZVsiLXdlYmtpdC10cmFuc2Zvcm0iXT0iIil9ZnVuY3Rpb24gVShlKXt2YXIgdD1bIklOUFVUIiwiU0VMRUNUIiwiVEVYVEFSRUEiXTtyZXR1cm4gZSYmKHQuaW5kZXhPZihlLm5vZGVOYW1lKT4tMXx8InRydWUiPT09ZS5jb250ZW50RWRpdGFibGUpfWZ1bmN0aW9uIEcoZSl7cmV0dXJuIFUoZSkmJi0xPT1lLmNsYXNzTmFtZS5pbmRleE9mKCJoYW5kc29udGFibGVJbnB1dCIpJiYtMT09ZS5jbGFzc05hbWUuaW5kZXhPZigiY29weVBhc3RlIil9ZnVuY3Rpb24gJChlKXtyZXR1cm4gaGUuY2FsbCh3aW5kb3csZSl9ZnVuY3Rpb24gSyhlKXtmZS5jYWxsKHdpbmRvdyxlKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtjbG9zZXN0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LGlzQ2hpbGRPZjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxpc0NoaWxkT2ZXZWJDb21wb25lbnRUYWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSxwb2x5bWVyV3JhcDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9fSxwb2x5bWVyVW53cmFwOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19LGluZGV4OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbH19LG92ZXJsYXlDb250YWluc0VsZW1lbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB1fX0saGFzQ2xhc3M6e2dldDpmdW5jdGlvbigpe3JldHVybiBkfX0sYWRkQ2xhc3M6e2dldDpmdW5jdGlvbigpe3JldHVybiBofX0scmVtb3ZlQ2xhc3M6e2dldDpmdW5jdGlvbigpe3JldHVybiBmfX0scmVtb3ZlVGV4dE5vZGVzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcH19LGVtcHR5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ319LEhUTUxfQ0hBUkFDVEVSUzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGxlfX0sZmFzdElubmVySFRNTDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG19fSxmYXN0SW5uZXJUZXh0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdn19LGlzVmlzaWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHd9fSxvZmZzZXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB5fX0sZ2V0V2luZG93U2Nyb2xsVG9wOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn19LGdldFdpbmRvd1Njcm9sbExlZnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBDfX0sZ2V0U2Nyb2xsVG9wOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUn19LGdldFNjcm9sbExlZnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBffX0sZ2V0U2Nyb2xsYWJsZUVsZW1lbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBTfX0sZ2V0VHJpbW1pbmdDb250YWluZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBFfX0sZ2V0U3R5bGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBUfX0sZ2V0Q29tcHV0ZWRTdHlsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE19fSxvdXRlcldpZHRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT319LG91dGVySGVpZ2h0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ga319LGlubmVySGVpZ2h0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSH19LGlubmVyV2lkdGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBEfX0sYWRkRXZlbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB4fX0scmVtb3ZlRXZlbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBBfX0sZ2V0Q2FyZXRQb3NpdGlvbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFB9fSxnZXRTZWxlY3Rpb25FbmRQb3NpdGlvbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE59fSxnZXRTZWxlY3Rpb25UZXh0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTH19LHNldENhcmV0UG9zaXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBXfX0sZ2V0U2Nyb2xsYmFyV2lkdGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBqfX0saGFzVmVydGljYWxTY3JvbGxiYXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBWfX0saGFzSG9yaXpvbnRhbFNjcm9sbGJhcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJ9fSxzZXRPdmVybGF5UG9zaXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBGfX0sZ2V0Q3NzVHJhbnNmb3JtOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gen19LHJlc2V0Q3NzVHJhbnNmb3JtOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gWX19LGlzSW5wdXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBVfX0saXNPdXRzaWRlSW5wdXQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBHfX0scmVxdWVzdEFuaW1hdGlvbkZyYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gJH19LGNhbmNlbEFuaW1hdGlvbkZyYW1lOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gS319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBYLHEsWixKLFE9KFg9ZSgiLi4vYnJvd3NlciIpLFgmJlguX19lc01vZHVsZSYmWHx8eyJkZWZhdWx0IjpYfSksZWU9US5pc0lFOCx0ZT1RLmlzSUU5LG5lPVEuaXNTYWZhcmksb2U9US5oYXNDYXB0aW9uUHJvYmxlbSxyZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0PyEwOiExO2lmKHJlKXt2YXIgaWU9ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZS5jbGFzc0xpc3QuYWRkKCJ0ZXN0IiwidGVzdDIiKSxlLmNsYXNzTGlzdC5jb250YWlucygidGVzdDIiKX0oKTtxPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIiI9PT10PyExOmUuY2xhc3NMaXN0LmNvbnRhaW5zKHQpfSxaPWZ1bmN0aW9uKGUsdCl7dmFyIG49MDtpZigic3RyaW5nIj09dHlwZW9mIHQmJih0PXQuc3BsaXQoIiAiKSksdD1jKHQpLGllKWUuY2xhc3NMaXN0LmFkZC5hcHBseShlLmNsYXNzTGlzdCx0KTtlbHNlIGZvcig7dCYmdFtuXTspZS5jbGFzc0xpc3QuYWRkKHRbbl0pLG4rK30sSj1mdW5jdGlvbihlLHQpe3ZhciBuPTA7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD10LnNwbGl0KCIgIikpLHQ9Yyh0KSxpZSllLmNsYXNzTGlzdC5yZW1vdmUuYXBwbHkoZS5jbGFzc0xpc3QsdCk7ZWxzZSBmb3IoO3QmJnRbbl07KWUuY2xhc3NMaXN0LnJlbW92ZSh0W25dKSxuKyt9fWVsc2V7dmFyIHNlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUmVnRXhwKCIoXFxzfF4pIitlKyIoXFxzfCQpIil9O3E9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jbGFzc05hbWUubWF0Y2goc2UodCkpPyEwOiExfSxaPWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxvPWUuY2xhc3NOYW1lO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dC5zcGxpdCgiICIpKSwiIj09PW8pbz10LmpvaW4oIiAiKTtlbHNlIGZvcig7dCYmdFtuXTspc2UodFtuXSkudGVzdChvKXx8KG8rPSIgIit0W25dKSxuKys7ZS5jbGFzc05hbWU9b30sSj1mdW5jdGlvbihlLHQpe3ZhciBuPTAsbz1lLmNsYXNzTmFtZTtmb3IoInN0cmluZyI9PXR5cGVvZiB0JiYodD10LnNwbGl0KCIgIikpO3QmJnRbbl07KW89by5yZXBsYWNlKHNlKHRbbl0pLCIgIikudHJpbSgpLG4rKztlLmNsYXNzTmFtZSE9PW8mJihlLmNsYXNzTmFtZT1vKX19Zm9yKHZhciBhZSxsZT0vKDwoLiopPnwmKC4qKTspLyx1ZT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgidGVzdCIpLnRleHRDb250ZW50PyEwOiExLGNlPTAsZGU9WyJtcyIsIm1veiIsIndlYmtpdCIsIm8iXSxoZT13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLGZlPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSxwZT0wO3BlPGRlLmxlbmd0aCYmIWhlOysrcGUpaGU9d2luZG93W2RlW3BlXSsiUmVxdWVzdEFuaW1hdGlvbkZyYW1lIl0sZmU9d2luZG93W2RlW3BlXSsiQ2FuY2VsQW5pbWF0aW9uRnJhbWUiXXx8d2luZG93W2RlW3BlXSsiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIl07aGV8fChoZT1mdW5jdGlvbihlKXt2YXIgdD0obmV3IERhdGUpLmdldFRpbWUoKSxuPU1hdGgubWF4KDAsMTYtKHQtY2UpKSxvPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSh0K24pfSxuKTtyZXR1cm4gY2U9dCtuLG99KSxmZXx8KGZlPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChlKX0pfSx7Ii4uL2Jyb3dzZXIiOjQzfV0sNDY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25FbmFibGVkPSExLGUuY2FuY2VsQnViYmxlPSEwfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvbkVuYWJsZWQ9PT0hMX1mdW5jdGlvbiBpKGUpeyJmdW5jdGlvbiI9PXR5cGVvZiBlLnN0b3BQcm9wYWdhdGlvbj9lLnN0b3BQcm9wYWdhdGlvbigpOmUuY2FuY2VsQnViYmxlPSEwfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGUucGFnZVg/ZS5wYWdlWDplLmNsaWVudFgrZCgpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGUucGFnZVk/ZS5wYWdlWTplLmNsaWVudFkrYygpfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se3N0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxzdG9wUHJvcGFnYXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0scGFnZVg6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0scGFnZVk6e2dldDpmdW5jdGlvbigpe3JldHVybiBhfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGwsdT0obD1lKCJlbGVtZW50IiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KSxjPXUuZ2V0V2luZG93U2Nyb2xsVG9wLGQ9dS5nZXRXaW5kb3dTY3JvbGxMZWZ0fSx7ZWxlbWVudDo0NX1dLDQ3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHIoZSl7ZnVuY3Rpb24gdCgpe3ZhciB0PXRoaXMscz1hcmd1bWVudHMsYT1EYXRlLm5vdygpLGw9ITE7ci5sYXN0Q2FsbFRocm90dGxlZD0hMCxvfHwobz1hLGw9ITApO3ZhciB1PW4tKGEtbyk7cmV0dXJuIGw/KHIubGFzdENhbGxUaHJvdHRsZWQ9ITEsZS5hcHBseSh0aGlzLHMpKTooaSYmY2xlYXJUaW1lb3V0KGkpLGk9c2V0VGltZW91dChmdW5jdGlvbigpe3IubGFzdENhbGxUaHJvdHRsZWQ9ITEsZS5hcHBseSh0LHMpLG89MCxpPXZvaWQgMH0sdSkpLHJ9dmFyIG49dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToyMDAsbz0wLHI9e2xhc3RDYWxsVGhyb3R0bGVkOiEwfSxpPW51bGw7cmV0dXJuIHR9ZnVuY3Rpb24gaShlKXtmdW5jdGlvbiB0KCl7YT1pfWZ1bmN0aW9uIG4oKXtyZXR1cm4gYT8oYS0tLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKTpzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbz12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjIwMCxpPXZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MTAscz1yKGUsbyksYT1pO3JldHVybiBuLmNsZWFySGl0cz10LG59ZnVuY3Rpb24gcyhlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9dGhpcyxpPWFyZ3VtZW50cztyZXR1cm4gciYmY2xlYXJUaW1lb3V0KHIpLHI9c2V0VGltZW91dChmdW5jdGlvbigpe249ZS5hcHBseSh0LGkpfSxvKSxufXZhciBuLG89dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToyMDAscj1udWxsO3JldHVybiB0fWZ1bmN0aW9uIGEoKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIG49ZSxvPW5bMF0scj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuLDEpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBoKHIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdChlKX0sby5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBsKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgbj1bXSxvPTA7bzxhcmd1bWVudHMubGVuZ3RoO28rKyluW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4gZS5hcHBseSh0aGlzLHQuY29uY2F0KG4pKX19ZnVuY3Rpb24gdShlKXtmdW5jdGlvbiB0KG8pe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgcj1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ldPWFyZ3VtZW50c1tpXTt2YXIgcyxhPW8uY29uY2F0KHIpO3JldHVybiBzPWEubGVuZ3RoPj1uP2UuYXBwbHkodGhpcyxhKTp0KGEpfX12YXIgbj1lLmxlbmd0aDtyZXR1cm4gdChbXSl9ZnVuY3Rpb24gYyhlKXtmdW5jdGlvbiB0KG8pe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgcj1bXSxpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ldPWFyZ3VtZW50c1tpXTt2YXIgcyxhPW8uY29uY2F0KHIucmV2ZXJzZSgpKTtyZXR1cm4gcz1hLmxlbmd0aD49bj9lLmFwcGx5KHRoaXMsYSk6dChhKX19dmFyIG49ZS5sZW5ndGg7cmV0dXJuIHQoW10pfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se3Byb3h5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LHRocm90dGxlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LHRocm90dGxlQWZ0ZXJIaXRzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LGRlYm91bmNlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc319LHBpcGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBhfX0scGFydGlhbDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9fSxjdXJyeTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV9fSxjdXJyeVJpZ2h0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBkLGg9KGQ9ZSgiYXJyYXkiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLmFycmF5UmVkdWNlfSx7YXJyYXk6NDJ9XSw0ODpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3N3aXRjaCh0eXBlb2YgZSl7Y2FzZSJzdHJpbmciOmNhc2UibnVtYmVyIjpyZXR1cm4gZSsiIjtjYXNlIm9iamVjdCI6cmV0dXJuIG51bGw9PT1lPyIiOmUudG9TdHJpbmcoKTtjYXNlInVuZGVmaW5lZCI6cmV0dXJuIiI7ZGVmYXVsdDpyZXR1cm4gZS50b1N0cmluZygpfX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtzdHJpbmdpZnk6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSl9LHt9XSw0OTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybiJudW1iZXIiPT10PyFpc05hTihlKSYmaXNGaW5pdGUoZSk6InN0cmluZyI9PXQ/ZS5sZW5ndGg/MT09ZS5sZW5ndGg/L1xkLy50ZXN0KGUpOi9eXHMqWystXT9ccyooPzooPzpcZCsoPzpcLlxkKyk/KD86ZVsrLV0/XGQrKT8pfCg/OjB4W2EtZlxkXSspKVxzKiQvaS50ZXN0KGUpOiExOiJvYmplY3QiPT10PyEoIWV8fCJudW1iZXIiIT10eXBlb2YgZS52YWx1ZU9mKCl8fGUgaW5zdGFuY2VvZiBEYXRlKTohMX1mdW5jdGlvbiByKGUsdCxuKXt2YXIgbz0tMTtmb3IoImZ1bmN0aW9uIj09dHlwZW9mIHQ/KG49dCx0PWUpOm89ZS0xOysrbzw9dCYmbihvKSE9PSExOyk7fWZ1bmN0aW9uIGkoZSx0LG4pe3ZhciBvPWUrMTtmb3IoImZ1bmN0aW9uIj09dHlwZW9mIHQmJihuPXQsdD0wKTstLW8+PXQmJm4obykhPT0hMTspO31mdW5jdGlvbiBzKGUsdCl7cmV0dXJuIHQ9cGFyc2VJbnQodC50b1N0cmluZygpLnJlcGxhY2UoIiUiLCIiKSwxMCksdD1wYXJzZUludChlKnQvMTAwKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtpc051bWVyaWM6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0scmFuZ2VFYWNoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LHJhbmdlRWFjaFJldmVyc2U6e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0sdmFsdWVBY2NvcmRpbmdQZXJjZW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pfSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXt2YXIgdDtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT90PVtdOih0PXt9LHAoZSxmdW5jdGlvbihlLG4pe2UmJiJvYmplY3QiPT10eXBlb2YgZSYmIUFycmF5LmlzQXJyYXkoZSk/dFtuXT1vKGUpOkFycmF5LmlzQXJyYXkoZSk/ZS5sZW5ndGgmJiJvYmplY3QiPT10eXBlb2YgZVswXSYmIUFycmF5LmlzQXJyYXkoZVswXSk/dFtuXT1bbyhlWzBdKV06dFtuXT1bXTp0W25dPW51bGx9KSksdH1mdW5jdGlvbiByKGUsdCl7cmV0dXJuIHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQsZS5wcm90b3R5cGU9bmV3IHQsZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gcCh0LGZ1bmN0aW9uKHQsbil7ZVtuXT10fSksZX1mdW5jdGlvbiBzKGUsdCl7cCh0LGZ1bmN0aW9uKG4sbyl7dFtvXSYmIm9iamVjdCI9PXR5cGVvZiB0W29dPyhlW29dfHwoQXJyYXkuaXNBcnJheSh0W29dKT9lW29dPVtdOiJbb2JqZWN0IERhdGVdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0W29dKT9lW29dPXRbb106ZVtvXT17fSkscyhlW29dLHRbb10pKTplW29dPXRbb119KX1mdW5jdGlvbiBhKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKTplfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9e307cmV0dXJuIHAoZSxmdW5jdGlvbihlLG4pe3Rbbl09ZX0pLHR9ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZS5NSVhJTlN8fChlLk1JWElOUz1bXSksdih0LGZ1bmN0aW9uKHQpe2UuTUlYSU5TLnB1c2godC5NSVhJTl9OQU1FKSxwKHQsZnVuY3Rpb24odCxuKXtpZih2b2lkIDAhPT1lLnByb3RvdHlwZVtuXSl0aHJvdyBuZXcgRXJyb3IoIk1peGluIGNvbmZsaWN0LiBQcm9wZXJ0eSAnIituKyInIGFscmVhZHkgZXhpc3QgYW5kIGNhbm5vdCBiZSBvdmVyd3JpdHRlbi4iKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgdCllLnByb3RvdHlwZVtuXT10O2Vsc2V7dmFyIG89ZnVuY3Rpb24oZSx0KXtlPSJfIitlO3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybihBcnJheS5pc0FycmF5KGUpfHxkKGUpKSYmKGU9YShlKSksZX07cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXRoaXNbZV0mJih0aGlzW2VdPW4odCkpLHRoaXNbZV19fSxyPWZ1bmN0aW9uKGUpe3JldHVybiBlPSJfIitlLGZ1bmN0aW9uKHQpe3RoaXNbZV09dH19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxuLHtnZXQ6byhuLHQpLHNldDpyKG4pLGNvbmZpZ3VyYWJsZTohMH0pfX0pfSksZX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpPT09SlNPTi5zdHJpbmdpZnkodCl9ZnVuY3Rpb24gZChlKXtyZXR1cm4iW29iamVjdCBPYmplY3RdIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIGgoZSl7dmFyIHQ7aWYoIm9iamVjdCI9PXR5cGVvZiBlLl9fcHJvdG9fXyl0PWUuX19wcm90b19fO2Vsc2V7dmFyIG4sbz1lLmNvbnN0cnVjdG9yOyJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiYobj1vLGRlbGV0ZSBlLmNvbnN0cnVjdG9yJiYobz1lLmNvbnN0cnVjdG9yLGUuY29uc3RydWN0b3I9bikpLHQ9bz9vLnByb3RvdHlwZTpudWxsfXJldHVybiB0fWZ1bmN0aW9uIGYoZSx0LG4sbyl7by52YWx1ZT1uLG8ud3JpdGFibGU9by53cml0YWJsZSE9PSExLG8uZW51bWVyYWJsZT1vLmVudW1lcmFibGUhPT0hMSxvLmNvbmZpZ3VyYWJsZT1vLmNvbmZpZ3VyYWJsZSE9PSExLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsbyl9ZnVuY3Rpb24gcChlLHQpe2Zvcih2YXIgbiBpbiBlKWlmKCghZS5oYXNPd25Qcm9wZXJ0eXx8ZS5oYXNPd25Qcm9wZXJ0eSYmZS5oYXNPd25Qcm9wZXJ0eShuKSkmJnQoZVtuXSxuLGUpPT09ITEpYnJlYWs7cmV0dXJuIGV9ZnVuY3Rpb24gZyhlLHQpe3ZhciBuPXQuc3BsaXQoIi4iKSxvPWU7cmV0dXJuIHAobixmdW5jdGlvbihlKXtyZXR1cm4gbz1vW2VdLHZvaWQgMD09PW8/KG89dm9pZCAwLCExKTp2b2lkIDB9KSxvfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se2R1Y2tTY2hlbWE6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0saW5oZXJpdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxleHRlbmQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0sZGVlcEV4dGVuZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9fSxkZWVwQ2xvbmU6e2dldDpmdW5jdGlvbigpe3JldHVybiBhfX0sY2xvbmU6e2dldDpmdW5jdGlvbigpe3JldHVybiBsfX0sbWl4aW46e2dldDpmdW5jdGlvbigpe3JldHVybiB1fX0saXNPYmplY3RFcXVhbHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0saXNPYmplY3Q6e2dldDpmdW5jdGlvbigpe3JldHVybiBkfX0sZ2V0UHJvdG90eXBlT2Y6e2dldDpmdW5jdGlvbigpe3JldHVybiBofX0sZGVmaW5lR2V0dGVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZn19LG9iamVjdEVhY2g6e2dldDpmdW5jdGlvbigpe3JldHVybiBwfX0sZ2V0UHJvcGVydHk6e2dldDpmdW5jdGlvbigpe3JldHVybiBnfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG0sdj0obT1lKCJhcnJheSIpLG0mJm0uX19lc01vZHVsZSYmbXx8eyJkZWZhdWx0IjptfSkuYXJyYXlFYWNofSx7YXJyYXk6NDJ9XSw1MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCl7ZnVuY3Rpb24gbigpe31pKG4sZSk7Zm9yKHZhciBvPTAscj10Lmxlbmd0aDtyPm87bysrKW4ucHJvdG90eXBlW3Rbb11dPXZvaWQgMDtyZXR1cm4gbn1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtjb2x1bW5GYWN0b3J5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGk9KHI9ZSgib2JqZWN0IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5pbmhlcml0fSx7b2JqZWN0OjUwfV0sNTI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZVswXS50b1VwcGVyQ2FzZSgpK2Uuc3Vic3RyKDEpfWZ1bmN0aW9uIHIoZSx0KXt2YXIgbj0hMDtyZXR1cm4gcCh0Lmxlbmd0aC0xLGZ1bmN0aW9uKG8pe3JldHVybiBlLmNoYXJBdChvKSE9PXQuY2hhckF0KG8pPyhuPSExLCExKTp2b2lkIDB9KSxufWZ1bmN0aW9uIGkoZSx0KXt2YXIgbj0hMCxvPXQubGVuZ3RoLTEscj1lLmxlbmd0aC0xO3JldHVybiBwKG8sZnVuY3Rpb24oaSl7dmFyIHM9ci1pLGE9by1pO3JldHVybiBlLmNoYXJBdChzKSE9PXQuY2hhckF0KGEpPyhuPSExLCExKTp2b2lkIDB9KSxufWZ1bmN0aW9uIHMoKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07Zm9yKHZhciBuPVtdLG89ZS5sZW5ndGg7by0tOyl7dmFyIHI9ZihlW29dKS50b0xvd2VyQ2FzZSgpOy0xPT09bi5pbmRleE9mKHIpJiZuLnB1c2gocil9cmV0dXJuIDE9PT1uLmxlbmd0aH1mdW5jdGlvbiBhKCl7ZnVuY3Rpb24gZSgpe3JldHVybiBNYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfXJldHVybiBlKCkrZSgpK2UoKStlKCl9ZnVuY3Rpb24gbChlKXtyZXR1cm4vXihbMC05XVswLTldP1wlJCl8KF4xMDBcJSQpLy50ZXN0KGUpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4oZSsiIikucmVwbGFjZSgvKD86XFwpP1xbKFteXFtcXV0rKV0vZyxmdW5jdGlvbihlLG4pe3JldHVybiJcXCI9PT1lLmNoYXJBdCgwKT9lLnN1YnN0cigxLGUubGVuZ3RoLTEpOnZvaWQgMD09PXRbbl0/IiI6dFtuXX0pfWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj12b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiIgIjtpZihlKz0iIixlLmxlbmd0aD49dClyZXR1cm4gZTtuPVN0cmluZyhuKTt2YXIgbz1uLmxlbmd0aDtvfHwobj0iICIpO3ZhciByPXQtZS5sZW5ndGgsaT1NYXRoLmNlaWwoci9uLmxlbmd0aCkscz0iIjtyZXR1cm4gcChpLGZ1bmN0aW9uKGUpe3MrPW59KSxzPXMuc2xpY2UoMCxyKSxzK2V9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7dG9VcHBlckNhc2VGaXJzdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxzdGFydHNXaXRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LGVuZHNXaXRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LGVxdWFsc0lnbm9yZUNhc2U6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0scmFuZG9tU3RyaW5nOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19LGlzUGVyY2VudFZhbHVlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbH19LHN1YnN0aXR1dGU6e2dldDpmdW5jdGlvbigpe3JldHVybiB1fX0scGFkU3RhcnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGQsaCxmPShkPWUoIm1peGVkIiksZCYmZC5fX2VzTW9kdWxlJiZkfHx7ImRlZmF1bHQiOmR9KS5zdHJpbmdpZnkscD0oaD1lKCJudW1iZXIiKSxoJiZoLl9fZXNNb2R1bGUmJmh8fHsiZGVmYXVsdCI6aH0pLnJhbmdlRWFjaH0se21peGVkOjQ4LG51bWJlcjo0OX1dLDUzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIDMyPT1lfHxlPj00OCYmNTc+PWV8fGU+PTk2JiYxMTE+PWV8fGU+PTE4NiYmMTkyPj1lfHxlPj0yMTkmJjIyMj49ZXx8ZT49MjI2fHxlPj02NSYmOTA+PWV9ZnVuY3Rpb24gcihlKXt2YXIgdD1bdS5BUlJPV19ET1dOLHUuQVJST1dfVVAsdS5BUlJPV19MRUZULHUuQVJST1dfUklHSFQsdS5IT01FLHUuRU5ELHUuREVMRVRFLHUuQkFDS1NQQUNFLHUuRjEsdS5GMix1LkYzLHUuRjQsdS5GNSx1LkY2LHUuRjcsdS5GOCx1LkY5LHUuRjEwLHUuRjExLHUuRjEyLHUuVEFCLHUuUEFHRV9ET1dOLHUuUEFHRV9VUCx1LkVOVEVSLHUuRVNDQVBFLHUuU0hJRlQsdS5DQVBTX0xPQ0ssdS5BTFRdO3JldHVybi0xIT09dC5pbmRleE9mKGUpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuLTEhPT1bdS5DT05UUk9MX0xFRlQsMjI0LHUuQ09NTUFORF9MRUZULHUuQ09NTUFORF9SSUdIVF0uaW5kZXhPZihlKX1mdW5jdGlvbiBzKGUsdCl7dmFyIG49dC5zcGxpdCgifCIpLG89ITE7cmV0dXJuIGwobixmdW5jdGlvbih0KXtyZXR1cm4gZT09PXVbdF0/KG89ITAsITEpOnZvaWQgMH0pLG99T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7S0VZX0NPREVTOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19LGlzUHJpbnRhYmxlQ2hhcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxpc01ldGFLZXk6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0saXNDdHJsS2V5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LGlzS2V5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBhLGw9KGE9ZSgiYXJyYXkiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLmFycmF5RWFjaCx1PXtNT1VTRV9MRUZUOjEsTU9VU0VfUklHSFQ6MyxNT1VTRV9NSURETEU6MixCQUNLU1BBQ0U6OCxDT01NQToxODgsSU5TRVJUOjQ1LERFTEVURTo0NixFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LENPTlRST0xfTEVGVDo5MSxDT01NQU5EX0xFRlQ6MTcsQ09NTUFORF9SSUdIVDo5MyxBTFQ6MTgsSE9NRTozNixQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFNQQUNFOjMyLFNISUZUOjE2LENBUFNfTE9DSzoyMCxUQUI6OSxBUlJPV19SSUdIVDozOSxBUlJPV19MRUZUOjM3LEFSUk9XX1VQOjM4LEFSUk9XX0RPV046NDAsRjE6MTEyLEYyOjExMyxGMzoxMTQsRjQ6MTE1LEY1OjExNixGNjoxMTcsRjc6MTE4LEY4OjExOSxGOToxMjAsRjEwOjEyMSxGMTE6MTIyLEYxMjoxMjMsQTo2NSxYOjg4LEM6NjcsVjo4Nn19LHthcnJheTo0Mn1dLDU0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se2xvY2FsSG9va3M6e2dldDpmdW5jdGlvbigpe3JldHVybiBsfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpPShvPWUoImhlbHBlcnMvYXJyYXkiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLmFycmF5RWFjaCxzPShyPWUoImhlbHBlcnMvb2JqZWN0IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5kZWZpbmVHZXR0ZXIsYT0ibG9jYWxIb29rcyIsbD17X2xvY2FsSG9va3M6T2JqZWN0LmNyZWF0ZShudWxsKSxhZGRMb2NhbEhvb2s6ZnVuY3Rpb24oZSx0KXt0aGlzLl9sb2NhbEhvb2tzW2VdfHwodGhpcy5fbG9jYWxIb29rc1tlXT1bXSksdGhpcy5fbG9jYWxIb29rc1tlXS5wdXNoKHQpfSxydW5Mb2NhbEhvb2tzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3ZhciBvPXRoaXM7dGhpcy5fbG9jYWxIb29rc1tlXSYmaSh0aGlzLl9sb2NhbEhvb2tzW2VdLGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGx5KG8sdCl9KX0sY2xlYXJMb2NhbEhvb2tzOmZ1bmN0aW9uKCl7dGhpcy5fbG9jYWxIb29rcz17fX19O3MobCwiTUlYSU5fTkFNRSIsYSx7d3JpdGFibGU6ITEsZW51bWVyYWJsZTohMX0pLEhhbmRzb250YWJsZS51dGlscz1IYW5kc29udGFibGUudXRpbHN8fHt9LEhhbmRzb250YWJsZS51dGlscy5sb2NhbEhvb2tzPWx9LHsiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvb2JqZWN0Ijo1MH1dLDU1OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oKXtmdW5jdGlvbiBlKGUpe3JldHVybiBudWxsIT09ZSYmIW4oZSkmJigic3RyaW5nIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZSl9ZnVuY3Rpb24gdChlKXtyZXR1cm4gbnVsbCE9PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKX1mdW5jdGlvbiBuKGUpe3JldHVybiBlIT09ZX12YXIgbz17YXJyYXlNYXA6W10sd2Vha01hcDpuZXcgV2Vha01hcH07cmV0dXJue2dldDpmdW5jdGlvbihuKXtyZXR1cm4gZShuKT9vLmFycmF5TWFwW25dOnQobik/by53ZWFrTWFwLmdldChuKTp2b2lkIDB9LHNldDpmdW5jdGlvbihuLHIpe2lmKGUobikpby5hcnJheU1hcFtuXT1yO2Vsc2V7aWYoIXQobikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGtleSB0eXBlIik7by53ZWFrTWFwLnNldChuLHIpfX0sImRlbGV0ZSI6ZnVuY3Rpb24obil7ZShuKT9kZWxldGUgby5hcnJheU1hcFtuXTp0KG4pJiZvLndlYWtNYXBbImRlbGV0ZSJdKG4pfX19T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7TXVsdGlNYXA6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSksd2luZG93Lk11bHRpTWFwPW99LHt9XSw1NjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtIb29rczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGk9WyJhZnRlckNlbGxNZXRhUmVzZXQiLCJhZnRlckNoYW5nZSIsImFmdGVyQ2hhbmdlc09ic2VydmVkIiwiYWZ0ZXJDb250ZXh0TWVudURlZmF1bHRPcHRpb25zIiwiYWZ0ZXJDb250ZXh0TWVudUhpZGUiLCJhZnRlckNvbnRleHRNZW51U2hvdyIsImFmdGVyQ29weUxpbWl0IiwiYWZ0ZXJDcmVhdGVDb2wiLCJhZnRlckNyZWF0ZVJvdyIsImFmdGVyRGVzZWxlY3QiLCJhZnRlckRlc3Ryb3kiLCJhZnRlckRvY3VtZW50S2V5RG93biIsImFmdGVyR2V0Q2VsbE1ldGEiLCJhZnRlckdldENvbEhlYWRlciIsImFmdGVyR2V0Um93SGVhZGVyIiwiYWZ0ZXJJbml0IiwiYWZ0ZXJMb2FkRGF0YSIsImFmdGVyTW9tZW50dW1TY3JvbGwiLCJhZnRlck9uQ2VsbENvcm5lck1vdXNlRG93biIsImFmdGVyT25DZWxsTW91c2VEb3duIiwiYWZ0ZXJPbkNlbGxNb3VzZU92ZXIiLCJhZnRlclJlbW92ZUNvbCIsImFmdGVyUmVtb3ZlUm93IiwiYWZ0ZXJSZW5kZXIiLCJhZnRlclJlbmRlcmVyIiwiYWZ0ZXJTY3JvbGxIb3Jpem9udGFsbHkiLCJhZnRlclNjcm9sbFZlcnRpY2FsbHkiLCJhZnRlclNlbGVjdGlvbiIsImFmdGVyU2VsZWN0aW9uQnlQcm9wIiwiYWZ0ZXJTZWxlY3Rpb25FbmQiLCJhZnRlclNlbGVjdGlvbkVuZEJ5UHJvcCIsImFmdGVyU2V0Q2VsbE1ldGEiLCJhZnRlclVwZGF0ZVNldHRpbmdzIiwiYWZ0ZXJWYWxpZGF0ZSIsImJlZm9yZUF1dG9maWxsIiwiYmVmb3JlQ2VsbEFsaWdubWVudCIsImJlZm9yZUNoYW5nZSIsImJlZm9yZUNoYW5nZVJlbmRlciIsImJlZm9yZURyYXdCb3JkZXJzIiwiYmVmb3JlR2V0Q2VsbE1ldGEiLCJiZWZvcmVJbml0IiwiYmVmb3JlSW5pdFdhbGtvbnRhYmxlIiwiYmVmb3JlS2V5RG93biIsImJlZm9yZU9uQ2VsbE1vdXNlRG93biIsImJlZm9yZVJlbW92ZUNvbCIsImJlZm9yZVJlbW92ZVJvdyIsImJlZm9yZVJlbmRlciIsImJlZm9yZVNldFJhbmdlRW5kIiwiYmVmb3JlVG91Y2hTY3JvbGwiLCJiZWZvcmVWYWxpZGF0ZSIsImNvbnN0cnVjdCIsImluaXQiLCJtb2RpZnlDb2wiLCJtb2RpZnlDb2xIZWFkZXIiLCJtb2RpZnlDb2xXaWR0aCIsIm1vZGlmeVJvdyIsIm1vZGlmeVJvd0hlYWRlciIsIm1vZGlmeVJvd0hlaWdodCIsInBlcnNpc3RlbnRTdGF0ZUxvYWQiLCJwZXJzaXN0ZW50U3RhdGVSZXNldCIsInBlcnNpc3RlbnRTdGF0ZVNhdmUiLCJiZWZvcmVDb2x1bW5Tb3J0IiwiYWZ0ZXJDb2x1bW5Tb3J0IiwiYWZ0ZXJBdXRvZmlsbEFwcGx5VmFsdWVzIiwibW9kaWZ5Q29weWFibGVSYW5nZSIsImJlZm9yZUNvbHVtbk1vdmUiLCJhZnRlckNvbHVtbk1vdmUiLCJiZWZvcmVSb3dNb3ZlIiwiYWZ0ZXJSb3dNb3ZlIiwiYmVmb3JlQ29sdW1uUmVzaXplIiwiYWZ0ZXJDb2x1bW5SZXNpemUiLCJiZWZvcmVSb3dSZXNpemUiLCJhZnRlclJvd1Jlc2l6ZSIsImFmdGVyR2V0Q29sdW1uSGVhZGVyUmVuZGVyZXJzIiwiYWZ0ZXJHZXRSb3dIZWFkZXJSZW5kZXJlcnMiLCJiZWZvcmVTdHJldGNoaW5nQ29sdW1uV2lkdGgiXSxzPShvPWUoImhlbHBlcnMvYXJyYXkiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLmFycmF5RWFjaCxhPShyPWUoImhlbHBlcnMvb2JqZWN0IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5vYmplY3RFYWNoLGw9ZnVuY3Rpb24oKXt0aGlzLmdsb2JhbEJ1Y2tldD10aGlzLmNyZWF0ZUVtcHR5QnVja2V0KCl9OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhsLHtjcmVhdGVFbXB0eUJ1Y2tldDpmdW5jdGlvbigpe3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIHMoaSxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XT1bXX0pLGV9LGdldEJ1Y2tldDpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtyZXR1cm4gZT8oZS5wbHVnaW5Ib29rQnVja2V0fHwoZS5wbHVnaW5Ib29rQnVja2V0PXRoaXMuY3JlYXRlRW1wdHlCdWNrZXQoKSksZS5wbHVnaW5Ib29rQnVja2V0KTp0aGlzLmdsb2JhbEJ1Y2tldH0sYWRkOmZ1bmN0aW9uKGUsdCl7dmFyIG49dm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsLG89dGhpcztpZihBcnJheS5pc0FycmF5KHQpKXModCxmdW5jdGlvbih0KXtyZXR1cm4gby5hZGQoZSx0LG4pfSk7ZWxzZXt2YXIgcj10aGlzLmdldEJ1Y2tldChuKTsidW5kZWZpbmVkIj09dHlwZW9mIHJbZV0mJih0aGlzLnJlZ2lzdGVyKGUpLHJbZV09W10pLHQuc2tpcD0hMSwtMT09PXJbZV0uaW5kZXhPZih0KSYmcltlXS5wdXNoKHQpfXJldHVybiB0aGlzfSxvbmNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsLG89dGhpcztBcnJheS5pc0FycmF5KHQpP3ModCxmdW5jdGlvbih0KXtyZXR1cm4gby5vbmNlKGUsdCxuKX0pOih0LnJ1bk9uY2U9ITAsdGhpcy5hZGQoZSx0LG4pKX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsLG89dGhpcy5nZXRCdWNrZXQobik7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBvW2VdJiZvW2VdLmluZGV4T2YodCk+PTA/KHQuc2tpcD0hMCwhMCk6ITF9LGhhczpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGwsbj10aGlzLmdldEJ1Y2tldCh0KTtyZXR1cm4gdm9pZCAwIT09bltlXSYmbltlXS5sZW5ndGg/ITA6ITF9LHJ1bjpmdW5jdGlvbihlLHQsbixvLHIsaSxzLGEpe3ZhciBsPXRoaXMuZ2xvYmFsQnVja2V0W3RdLHU9LTEsYz1sP2wubGVuZ3RoOjA7aWYoYylmb3IoOysrdTxjOylpZihsW3VdJiYhbFt1XS5za2lwKXt2YXIgZD1sW3VdLmNhbGwoZSxuLG8scixpLHMsYSk7dm9pZCAwIT09ZCYmKG49ZCksbFt1XSYmbFt1XS5ydW5PbmNlJiZ0aGlzLnJlbW92ZSh0LGxbdV0pfXZhciBoPXRoaXMuZ2V0QnVja2V0KGUpW3RdLGY9LTEscD1oP2gubGVuZ3RoOjA7aWYocClmb3IoOysrZjxwOylpZihoW2ZdJiYhaFtmXS5za2lwKXt2YXIgZz1oW2ZdLmNhbGwoZSxuLG8scixpLHMsYSk7dm9pZCAwIT09ZyYmKG49ZyksaFtmXSYmaFtmXS5ydW5PbmNlJiZ0aGlzLnJlbW92ZSh0LGhbZl0sZSl9cmV0dXJuIG59LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7YSh0aGlzLmdldEJ1Y2tldChlKSxmdW5jdGlvbihlLHQsbil7cmV0dXJuIG5bdF0ubGVuZ3RoPTB9KX0scmVnaXN0ZXI6ZnVuY3Rpb24oZSl7dGhpcy5pc1JlZ2lzdGVyZWQoZSl8fGkucHVzaChlKX0sZGVyZWdpc3RlcjpmdW5jdGlvbihlKXt0aGlzLmlzUmVnaXN0ZXJlZChlKSYmaS5zcGxpY2UoaS5pbmRleE9mKGUpLDEpfSxpc1JlZ2lzdGVyZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkuaW5kZXhPZihlKT49MH0sZ2V0UmVnaXN0ZXJlZDpmdW5jdGlvbigpe3JldHVybiBpfX0se30pLEhhbmRzb250YWJsZS51dGlscz1IYW5kc29udGFibGUudXRpbHN8fHt9LEhhbmRzb250YWJsZS51dGlscy5Ib29rcz1sfSx7ImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL29iamVjdCI6NTB9XSw1NzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCl7ZT1jKGUpLEhhbmRzb250YWJsZS5wbHVnaW5zW2VdPXQsSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiY29uc3RydWN0IixmdW5jdGlvbigpe3ZhciBuO2QuaGFzKHRoaXMpfHxkLnNldCh0aGlzLHt9KSxuPWQuZ2V0KHRoaXMpLG5bZV18fChuW2VdPW5ldyB0KHRoaXMpKX0pLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVyRGVzdHJveSIsZnVuY3Rpb24oKXtpZihkLmhhcyh0aGlzKSl7dmFyIGU9ZC5nZXQodGhpcyk7dShlLGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlc3Ryb3koKX0pLGRbImRlbGV0ZSJdKHRoaXMpfX0pfWZ1bmN0aW9uIHIoZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIHQpdGhyb3cgRXJyb3IoJ09ubHkgc3RyaW5ncyBjYW4gYmUgcGFzc2VkIGFzICJwbHVnaW4iIHBhcmFtZXRlcicpO3ZhciBuPWModCk7aWYoZC5oYXMoZSkmJmQuZ2V0KGUpW25dKXJldHVybiBkLmdldChlKVtuXX1mdW5jdGlvbiBpKGUpe3JldHVybiBkLmhhcyhlKT9PYmplY3Qua2V5cyhkLmdldChlKSk6W119ZnVuY3Rpb24gcyhlLHQpe3ZhciBuPW51bGw7cmV0dXJuIGQuaGFzKGUpJiZ1KGQuZ2V0KGUpLGZ1bmN0aW9uKGUsbyl7ZT09PXQmJihuPW8pfSksbn1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtyZWdpc3RlclBsdWdpbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxnZXRQbHVnaW46e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0sZ2V0UmVnaXN0cmVkUGx1Z2luTmFtZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0sZ2V0UGx1Z2luTmFtZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgYSxsLHU9KGE9ZSgiaGVscGVycy9vYmplY3QiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLm9iamVjdEVhY2gsYz0obD1lKCJoZWxwZXJzL3N0cmluZyIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkudG9VcHBlckNhc2VGaXJzdCxkPW5ldyBXZWFrTWFwfSx7ImhlbHBlcnMvb2JqZWN0Ijo1MCwiaGVscGVycy9zdHJpbmciOjUyfV0sNTg6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7ImRlZmF1bHQiOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzPShvPWUoImhlbHBlcnMvb2JqZWN0IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KSxhPXMuZGVmaW5lR2V0dGVyLGw9cy5vYmplY3RFYWNoLHU9KHI9ZSgiaGVscGVycy9hcnJheSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuYXJyYXlFYWNoLGM9KGk9ZSgicGx1Z2lucyIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSksZD1jLmdldFJlZ2lzdHJlZFBsdWdpbk5hbWVzLGg9Yy5nZXRQbHVnaW5OYW1lLGY9bmV3IFdlYWtNYXAscD1udWxsLGc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczthKHRoaXMsImhvdCIsZSx7d3JpdGFibGU6ITF9KSxmLnNldCh0aGlzLHtob29rczp7fX0pLHA9bnVsbCx0aGlzLnBsdWdpbk5hbWU9bnVsbCx0aGlzLnBsdWdpbnNJbml0aWFsaXplZENhbGxiYWNrcz1bXSx0aGlzLmlzUGx1Z2luc1JlYWR5PSExLHRoaXMuZW5hYmxlZD0hMSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuaG90LmFkZEhvb2soImFmdGVyUGx1Z2luc0luaXRpYWxpemVkIixmdW5jdGlvbigpe3JldHVybiB0Lm9uQWZ0ZXJQbHVnaW5zSW5pdGlhbGl6ZWQoKX0pLHRoaXMuaG90LmFkZEhvb2soImFmdGVyVXBkYXRlU2V0dGluZ3MiLGZ1bmN0aW9uKCl7cmV0dXJuIHQub25VcGRhdGVTZXR0aW5ncygpfSksdGhpcy5ob3QuYWRkSG9vaygiYmVmb3JlSW5pdCIsZnVuY3Rpb24oKXtyZXR1cm4gdC5pbml0KCl9KX07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGcse2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnBsdWdpbk5hbWU9aCh0aGlzLmhvdCx0aGlzKSx0aGlzLmlzRW5hYmxlZCYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5lbmFibGVQbHVnaW4oKSxwfHwocD1kKHRoaXMuaG90KSkscC5pbmRleE9mKHRoaXMucGx1Z2luTmFtZSk+PTAmJnAuc3BsaWNlKHAuaW5kZXhPZih0aGlzLnBsdWdpbk5hbWUpLDEpLHAubGVuZ3RofHx0aGlzLmhvdC5ydW5Ib29rcygiYWZ0ZXJQbHVnaW5zSW5pdGlhbGl6ZWQiKSx0aGlzLmluaXRpYWxpemVkPSEwfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITB9LGRpc2FibGVQbHVnaW46ZnVuY3Rpb24oKXt0aGlzLmV2ZW50TWFuYWdlciYmdGhpcy5ldmVudE1hbmFnZXIuY2xlYXIoKSx0aGlzLmNsZWFySG9va3MoKSx0aGlzLmVuYWJsZWQ9ITF9LGFkZEhvb2s6ZnVuY3Rpb24oZSx0KXt2YXIgbj1mLmdldCh0aGlzKS5ob29rc1tlXT1mLmdldCh0aGlzKS5ob29rc1tlXXx8W107dGhpcy5ob3QuYWRkSG9vayhlLHQpLG4ucHVzaCh0KSxmLmdldCh0aGlzKS5ob29rc1tlXT1ufSxyZW1vdmVIb29rczpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3UoZi5nZXQodGhpcykuaG9va3NbZV18fFtdLGZ1bmN0aW9uKG4pe3QuaG90LnJlbW92ZUhvb2soZSxuKTsKfSl9LGNsZWFySG9va3M6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9Zi5nZXQodGhpcykuaG9va3M7bCh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUucmVtb3ZlSG9va3Mobil9KSx0Lmxlbmd0aD0wfSxjYWxsT25QbHVnaW5zUmVhZHk6ZnVuY3Rpb24oZSl7dGhpcy5pc1BsdWdpbnNSZWFkeT9lKCk6dGhpcy5wbHVnaW5zSW5pdGlhbGl6ZWRDYWxsYmFja3MucHVzaChlKX0sb25BZnRlclBsdWdpbnNJbml0aWFsaXplZDpmdW5jdGlvbigpe3UodGhpcy5wbHVnaW5zSW5pdGlhbGl6ZWRDYWxsYmFja3MsZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0pLHRoaXMucGx1Z2luc0luaXRpYWxpemVkQ2FsbGJhY2tzLmxlbmd0aD0wLHRoaXMuaXNQbHVnaW5zUmVhZHk9ITB9LG9uVXBkYXRlU2V0dGluZ3M6ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCYmKHRoaXMuZW5hYmxlZCYmIXRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZGlzYWJsZVBsdWdpbigpLCF0aGlzLmVuYWJsZWQmJnRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZW5hYmxlUGx1Z2luKCksdGhpcy5lbmFibGVkJiZ0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLnVwZGF0ZVBsdWdpbigpKX0sdXBkYXRlUGx1Z2luOmZ1bmN0aW9uKCl7fSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlciYmdGhpcy5ldmVudE1hbmFnZXIuZGVzdHJveSgpLHRoaXMuY2xlYXJIb29rcygpLGwodGhpcyxmdW5jdGlvbih0LG4peyJob3QiIT09biYmKGVbbl09bnVsbCl9KSxkZWxldGUgdGhpcy5ob3R9fSx7fSk7dmFyIG09ZztIYW5kc29udGFibGUucGx1Z2lucy5CYXNlUGx1Z2luPWd9LHsiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvb2JqZWN0Ijo1MCxwbHVnaW5zOjU3fV0sNTk6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7QXV0b0NvbHVtblNpemU6e2dldDpmdW5jdGlvbigpe3JldHVybiBEfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsYSxsLHUsYyxkLGgsZj0obz1lKCJfYmFzZSIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxwPShyPWUoImhlbHBlcnMvYXJyYXkiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGc9cC5hcnJheUVhY2gsbT1wLmFycmF5RmlsdGVyLHY9KGk9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSksdz12LmNhbmNlbEFuaW1hdGlvbkZyYW1lLHk9di5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsYj12LmlzVmlzaWJsZSxDPShzPWUoInV0aWxzL2dob3N0VGFibGUiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLkdob3N0VGFibGUsUj0oYT1lKCJoZWxwZXJzL29iamVjdCIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSksXz1SLmlzT2JqZWN0LFM9KFIub2JqZWN0RWFjaCxsPWUoImhlbHBlcnMvbnVtYmVyIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KSxFPVMudmFsdWVBY2NvcmRpbmdQZXJjZW50LFQ9Uy5yYW5nZUVhY2gsTT0odT1lKCJwbHVnaW5zIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5yZWdpc3RlclBsdWdpbixPPShjPWUoInV0aWxzL3NhbXBsZXNHZW5lcmF0b3IiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y30pLlNhbXBsZXNHZW5lcmF0b3Isaz0oZD1lKCJoZWxwZXJzL3N0cmluZyIpLGQmJmQuX19lc01vZHVsZSYmZHx8eyJkZWZhdWx0IjpkfSkuaXNQZXJjZW50VmFsdWUsSD0oaD1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2FsY3VsYXRvci92aWV3cG9ydENvbHVtbnMiKSxoJiZoLl9fZXNNb2R1bGUmJmh8fHsiZGVmYXVsdCI6aH0pLldhbGtvbnRhYmxlVmlld3BvcnRDb2x1bW5zQ2FsY3VsYXRvcixEPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoeCkuY2FsbCh0aGlzLGUpLHRoaXMud2lkdGhzPVtdLHRoaXMuZ2hvc3RUYWJsZT1uZXcgQyh0aGlzLmhvdCksdGhpcy5zYW1wbGVzR2VuZXJhdG9yPW5ldyBPKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuaG90LmdldERhdGFBdENlbGwoZSxuKX0pLHRoaXMuZmlyc3RDYWxjdWxhdGlvbj0hMCx0aGlzLmluUHJvZ3Jlc3M9ITEsdGhpcy5hZGRIb29rKCJiZWZvcmVDb2x1bW5SZXNpemUiLGZ1bmN0aW9uKGUsbixvKXtyZXR1cm4gdC5vbkJlZm9yZUNvbHVtblJlc2l6ZShlLG4sbyl9KX0seD1EOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhELHtpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5hdXRvQ29sdW1uU2l6ZSE9PSExJiYhdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5jb2xXaWR0aHN9LGVuYWJsZVBsdWdpbjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMuZW5hYmxlZCl7dmFyIHQ9dGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5hdXRvQ29sdW1uU2l6ZSxuPXQmJnQuaGFzT3duUHJvcGVydHkoInNhbXBsaW5nUmF0aW8iKT90aGlzLmhvdC5nZXRTZXR0aW5ncygpLmF1dG9Db2x1bW5TaXplLnNhbXBsaW5nUmF0aW86dm9pZCAwO24mJiFpc05hTihuKSYmKHRoaXMuc2FtcGxlc0dlbmVyYXRvci5jdXN0b21TYW1wbGVDb3VudD1wYXJzZUludChuLDEwKSksdGhpcy5hZGRIb29rKCJhZnRlckxvYWREYXRhIixmdW5jdGlvbigpe3JldHVybiBlLm9uQWZ0ZXJMb2FkRGF0YSgpfSksdGhpcy5hZGRIb29rKCJiZWZvcmVDaGFuZ2UiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uQmVmb3JlQ2hhbmdlKHQpfSksdGhpcy5hZGRIb29rKCJiZWZvcmVSZW5kZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uQmVmb3JlUmVuZGVyKHQpfSksdGhpcy5hZGRIb29rKCJtb2RpZnlDb2xXaWR0aCIsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRDb2x1bW5XaWR0aChuLHQpfSksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMseC5wcm90b3R5cGUsImVuYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9fSxkaXNhYmxlUGx1Z2luOmZ1bmN0aW9uKCl7JHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMseC5wcm90b3R5cGUsImRpc2FibGVQbHVnaW4iKS5jYWxsKHRoaXMpfSxjYWxjdWxhdGVDb2x1bW5zV2lkdGg6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOntmcm9tOjAsdG86dGhpcy5ob3QuY291bnRDb2xzKCktMX0sdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOntmcm9tOjAsdG86dGhpcy5ob3QuY291bnRSb3dzKCktMX0sbj12b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiExLG89dGhpczsibnVtYmVyIj09dHlwZW9mIGUmJihlPXtmcm9tOmUsdG86ZX0pLCJudW1iZXIiPT10eXBlb2YgdCYmKHQ9e2Zyb206dCx0bzp0fSksVChlLmZyb20sZS50byxmdW5jdGlvbihlKXtpZihufHx2b2lkIDA9PT1vLndpZHRoc1tlXSYmIW8uaG90Ll9nZXRDb2xXaWR0aEZyb21TZXR0aW5ncyhlKSl7dmFyIHI9by5zYW1wbGVzR2VuZXJhdG9yLmdlbmVyYXRlQ29sdW1uU2FtcGxlcyhlLHQpO3IuZm9yRWFjaChmdW5jdGlvbihlLHQpe3JldHVybiBvLmdob3N0VGFibGUuYWRkQ29sdW1uKHQsZSl9KX19KSx0aGlzLmdob3N0VGFibGUuY29sdW1ucy5sZW5ndGgmJih0aGlzLmdob3N0VGFibGUuZ2V0V2lkdGhzKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8ud2lkdGhzW2VdPXR9KSx0aGlzLmdob3N0VGFibGUuY2xlYW4oKSl9LGNhbGN1bGF0ZUFsbENvbHVtbnNXaWR0aDpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2Zyb206MCx0bzp0aGlzLmhvdC5jb3VudFJvd3MoKS0xfSx0PXRoaXMsbj0wLG89dGhpcy5ob3QuY291bnRDb2xzKCktMSxyPW51bGw7dGhpcy5pblByb2dyZXNzPSEwO3ZhciBpPWZ1bmN0aW9uKCl7cmV0dXJuIHQuaG90Pyh0LmNhbGN1bGF0ZUNvbHVtbnNXaWR0aCh7ZnJvbTpuLHRvOk1hdGgubWluKG4reC5DQUxDVUxBVElPTl9TVEVQLG8pfSxlKSxuPW4reC5DQUxDVUxBVElPTl9TVEVQKzEsdm9pZChvPm4/cj15KGkpOih3KHIpLHQuaW5Qcm9ncmVzcz0hMSx0LmhvdC52aWV3Lnd0Lnd0T3ZlcmxheXMuYWRqdXN0RWxlbWVudHNTaXplKCEwKSx0LmhvdC52aWV3Lnd0Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkubmVlZEZ1bGxSZW5kZXImJnQuaG90LnZpZXcud3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5jbG9uZS5kcmF3KCkpKSk6KHcociksdm9pZCh0LmluUHJvZ3Jlc3M9ITEpKX07dGhpcy5maXJzdENhbGN1bGF0aW9uJiZ0aGlzLmdldFN5bmNDYWxjdWxhdGlvbkxpbWl0KCkmJih0aGlzLmNhbGN1bGF0ZUNvbHVtbnNXaWR0aCh7ZnJvbTowLHRvOnRoaXMuZ2V0U3luY0NhbGN1bGF0aW9uTGltaXQoKX0sZSksdGhpcy5maXJzdENhbGN1bGF0aW9uPSExLG49dGhpcy5nZXRTeW5jQ2FsY3VsYXRpb25MaW1pdCgpKzEpLG8+bj9pKCk6dGhpcy5pblByb2dyZXNzPSExfSxyZWNhbGN1bGF0ZUFsbENvbHVtbnNXaWR0aDpmdW5jdGlvbigpe3RoaXMuaG90LnZpZXcmJmIodGhpcy5ob3Qudmlldy53dC53dFRhYmxlLlRBQkxFKSYmKHRoaXMuY2xlYXJDYWNoZSgpLHRoaXMuY2FsY3VsYXRlQWxsQ29sdW1uc1dpZHRoKCkpfSxnZXRTeW5jQ2FsY3VsYXRpb25MaW1pdDpmdW5jdGlvbigpe3ZhciBlPXguU1lOQ19DQUxDVUxBVElPTl9MSU1JVCx0PXRoaXMuaG90LmNvdW50Q29scygpLTE7cmV0dXJuIF8odGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5hdXRvQ29sdW1uU2l6ZSkmJihlPXRoaXMuaG90LmdldFNldHRpbmdzKCkuYXV0b0NvbHVtblNpemUuc3luY0xpbWl0LGsoZSk/ZT1FKHQsZSk6ZT4+PTApLE1hdGgubWluKGUsdCl9LGdldENvbHVtbldpZHRoOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50c1sxXSxuPXZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06ITAsbz10O3JldHVybiB2b2lkIDA9PT1vJiYobz10aGlzLndpZHRoc1tlXSxuJiYibnVtYmVyIj09dHlwZW9mIG8mJihvPU1hdGgubWF4KG8sSC5ERUZBVUxUX1dJRFRIKSkpLG99LGdldEZpcnN0VmlzaWJsZUNvbHVtbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LnZpZXcud3Q7cmV0dXJuIGUud3RWaWV3cG9ydC5jb2x1bW5zVmlzaWJsZUNhbGN1bGF0b3I/ZS53dFRhYmxlLmdldEZpcnN0VmlzaWJsZUNvbHVtbigpOmUud3RWaWV3cG9ydC5jb2x1bW5zUmVuZGVyQ2FsY3VsYXRvcj9lLnd0VGFibGUuZ2V0Rmlyc3RSZW5kZXJlZENvbHVtbigpOi0xfSxnZXRMYXN0VmlzaWJsZUNvbHVtbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LnZpZXcud3Q7cmV0dXJuIGUud3RWaWV3cG9ydC5jb2x1bW5zVmlzaWJsZUNhbGN1bGF0b3I/ZS53dFRhYmxlLmdldExhc3RWaXNpYmxlQ29sdW1uKCk6ZS53dFZpZXdwb3J0LmNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yP2Uud3RUYWJsZS5nZXRMYXN0UmVuZGVyZWRDb2x1bW4oKTotMX0sY2xlYXJDYWNoZTpmdW5jdGlvbigpe3RoaXMud2lkdGhzLmxlbmd0aD0wfSxpc05lZWRSZWNhbGN1bGF0ZTpmdW5jdGlvbigpe3JldHVybiBtKHRoaXMud2lkdGhzLGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lfSkubGVuZ3RoPyEwOiExfSxvbkJlZm9yZVJlbmRlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LnJlbmRlckNhbGwsdD10aGlzLmhvdC5jb3VudFJvd3MoKTt0JiYodGhpcy5jYWxjdWxhdGVDb2x1bW5zV2lkdGgoe2Zyb206dGhpcy5nZXRGaXJzdFZpc2libGVDb2x1bW4oKSx0bzp0aGlzLmdldExhc3RWaXNpYmxlQ29sdW1uKCl9LHZvaWQgMCxlKSx0aGlzLmlzTmVlZFJlY2FsY3VsYXRlKCkmJiF0aGlzLmluUHJvZ3Jlc3MmJnRoaXMuY2FsY3VsYXRlQWxsQ29sdW1uc1dpZHRoKCkpfSxvbkFmdGVyTG9hZERhdGE6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaG90LnZpZXc/dGhpcy5yZWNhbGN1bGF0ZUFsbENvbHVtbnNXaWR0aCgpOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmhvdCYmZS5yZWNhbGN1bGF0ZUFsbENvbHVtbnNXaWR0aCgpfSwwKX0sb25CZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztnKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQud2lkdGhzW3QuaG90LnByb3BUb0NvbChlWzFdKV09dm9pZCAwfSl9LG9uQmVmb3JlQ29sdW1uUmVzaXplOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiYmKHRoaXMuY2FsY3VsYXRlQ29sdW1uc1dpZHRoKGUsdm9pZCAwLCEwKSx0PXRoaXMuZ2V0Q29sdW1uV2lkdGgoZSx2b2lkIDAsITEpKSx0fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5naG9zdFRhYmxlLmNsZWFuKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMseC5wcm90b3R5cGUsImRlc3Ryb3kiKS5jYWxsKHRoaXMpfX0se2dldCBDQUxDVUxBVElPTl9TVEVQKCl7cmV0dXJuIDUwfSxnZXQgU1lOQ19DQUxDVUxBVElPTl9MSU1JVCgpe3JldHVybiA1MH19LGYpLE0oImF1dG9Db2x1bW5TaXplIixEKX0seyIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2FsY3VsYXRvci92aWV3cG9ydENvbHVtbnMiOjMsX2Jhc2U6NTgsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSwiaGVscGVycy9udW1iZXIiOjQ5LCJoZWxwZXJzL29iamVjdCI6NTAsImhlbHBlcnMvc3RyaW5nIjo1MixwbHVnaW5zOjU3LCJ1dGlscy9naG9zdFRhYmxlIjoxMDAsInV0aWxzL3NhbXBsZXNHZW5lcmF0b3IiOjEwMX1dLDYwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0F1dG9Sb3dTaXplOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGEsbCx1LGMsZCxoPShvPWUoIl9iYXNlIiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KVsiZGVmYXVsdCJdLGY9KHI9ZSgiaGVscGVycy9hcnJheSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkscD0oZi5hcnJheUVhY2gsZi5hcnJheUZpbHRlciksZz0oaT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSxtPWcuY2FuY2VsQW5pbWF0aW9uRnJhbWUsdj1nLnJlcXVlc3RBbmltYXRpb25GcmFtZSx3PWcuaXNWaXNpYmxlLHk9KHM9ZSgidXRpbHMvZ2hvc3RUYWJsZSIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuR2hvc3RUYWJsZSxiPShhPWUoImhlbHBlcnMvb2JqZWN0IiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KSxDPWIuaXNPYmplY3QsUj0oYi5vYmplY3RFYWNoLGw9ZSgiaGVscGVycy9udW1iZXIiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLF89Ui52YWx1ZUFjY29yZGluZ1BlcmNlbnQsUz1SLnJhbmdlRWFjaCxFPSh1PWUoInBsdWdpbnMiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLnJlZ2lzdGVyUGx1Z2luLFQ9KGM9ZSgidXRpbHMvc2FtcGxlc0dlbmVyYXRvciIpLGMmJmMuX19lc01vZHVsZSYmY3x8eyJkZWZhdWx0IjpjfSkuU2FtcGxlc0dlbmVyYXRvcixNPShkPWUoImhlbHBlcnMvc3RyaW5nIiksZCYmZC5fX2VzTW9kdWxlJiZkfHx7ImRlZmF1bHQiOmR9KS5pc1BlcmNlbnRWYWx1ZSxPPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoaykuY2FsbCh0aGlzLGUpLHRoaXMuaGVpZ2h0cz1bXSx0aGlzLmdob3N0VGFibGU9bmV3IHkodGhpcy5ob3QpLHRoaXMuc2FtcGxlc0dlbmVyYXRvcj1uZXcgVChmdW5jdGlvbihlLG4pe3JldHVybiB0LmhvdC5nZXREYXRhQXRDZWxsKGUsbil9KSx0aGlzLmZpcnN0Q2FsY3VsYXRpb249ITAsdGhpcy5pblByb2dyZXNzPSExLHRoaXMuYWRkSG9vaygiYmVmb3JlUm93UmVzaXplIixmdW5jdGlvbihlLG4sbyl7cmV0dXJuIHQub25CZWZvcmVSb3dSZXNpemUoZSxuLG8pfSl9LGs9TzskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoTyx7aXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG90LmdldFNldHRpbmdzKCkuYXV0b1Jvd1NpemU9PT0hMHx8Qyh0aGlzLmhvdC5nZXRTZXR0aW5ncygpLmF1dG9Sb3dTaXplKX0sZW5hYmxlUGx1Z2luOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5lbmFibGVkKXt2YXIgdD10aGlzLmhvdC5nZXRTZXR0aW5ncygpLmF1dG9Sb3dTaXplLG49dCYmdC5oYXNPd25Qcm9wZXJ0eSgic2FtcGxpbmdSYXRpbyIpP3RoaXMuaG90LmdldFNldHRpbmdzKCkuYXV0b1Jvd1NpemUuc2FtcGxpbmdSYXRpbzp2b2lkIDA7biYmIWlzTmFOKG4pJiYodGhpcy5zYW1wbGVzR2VuZXJhdG9yLmN1c3RvbVNhbXBsZUNvdW50PXBhcnNlSW50KG4sMTApKSx0aGlzLmFkZEhvb2soImFmdGVyTG9hZERhdGEiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlckxvYWREYXRhKCl9KSx0aGlzLmFkZEhvb2soImJlZm9yZUNoYW5nZSIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25CZWZvcmVDaGFuZ2UodCl9KSx0aGlzLmFkZEhvb2soImJlZm9yZUNvbHVtbk1vdmUiLGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVjYWxjdWxhdGVBbGxSb3dzSGVpZ2h0KCl9KSx0aGlzLmFkZEhvb2soImJlZm9yZUNvbHVtblJlc2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWNhbGN1bGF0ZUFsbFJvd3NIZWlnaHQoKX0pLHRoaXMuYWRkSG9vaygiYmVmb3JlQ29sdW1uU29ydCIsZnVuY3Rpb24oKXtyZXR1cm4gZS5jbGVhckNhY2hlKCl9KSx0aGlzLmFkZEhvb2soImJlZm9yZVJlbmRlciIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25CZWZvcmVSZW5kZXIodCl9KSx0aGlzLmFkZEhvb2soImJlZm9yZVJvd01vdmUiLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUub25CZWZvcmVSb3dNb3ZlKHQsbil9KSx0aGlzLmFkZEhvb2soIm1vZGlmeVJvd0hlaWdodCIsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRSb3dIZWlnaHQobix0KX0pLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGsucHJvdG90eXBlLCJlbmFibGVQbHVnaW4iKS5jYWxsKHRoaXMpfX0sZGlzYWJsZVBsdWdpbjpmdW5jdGlvbigpeyR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGsucHJvdG90eXBlLCJkaXNhYmxlUGx1Z2luIikuY2FsbCh0aGlzKX0sY2FsY3VsYXRlUm93c0hlaWdodDpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2Zyb206MCx0bzp0aGlzLmhvdC5jb3VudFJvd3MoKS0xfSx0PXZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e2Zyb206MCx0bzp0aGlzLmhvdC5jb3VudENvbHMoKS0xfSxuPXZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06ITEsbz10aGlzOyJudW1iZXIiPT10eXBlb2YgZSYmKGU9e2Zyb206ZSx0bzplfSksIm51bWJlciI9PXR5cGVvZiB0JiYodD17ZnJvbTp0LHRvOnR9KSxTKGUuZnJvbSxlLnRvLGZ1bmN0aW9uKGUpe2lmKG58fHZvaWQgMD09PW8uaGVpZ2h0c1tlXSl7dmFyIHI9by5zYW1wbGVzR2VuZXJhdG9yLmdlbmVyYXRlUm93U2FtcGxlcyhlLHQpO3IuZm9yRWFjaChmdW5jdGlvbihlLHQpe3JldHVybiBvLmdob3N0VGFibGUuYWRkUm93KHQsZSl9KX19KSx0aGlzLmdob3N0VGFibGUucm93cy5sZW5ndGgmJih0aGlzLmdob3N0VGFibGUuZ2V0SGVpZ2h0cyhmdW5jdGlvbihlLHQpe3JldHVybiBvLmhlaWdodHNbZV09dH0pLHRoaXMuZ2hvc3RUYWJsZS5jbGVhbigpKX0sY2FsY3VsYXRlQWxsUm93c0hlaWdodDpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2Zyb206MCx0bzp0aGlzLmhvdC5jb3VudENvbHMoKS0xfSx0PXRoaXMsbj0wLG89dGhpcy5ob3QuY291bnRSb3dzKCktMSxyPW51bGw7dGhpcy5pblByb2dyZXNzPSEwO3ZhciBpPWZ1bmN0aW9uKCl7cmV0dXJuIHQuaG90Pyh0LmNhbGN1bGF0ZVJvd3NIZWlnaHQoe2Zyb206bix0bzpNYXRoLm1pbihuK2suQ0FMQ1VMQVRJT05fU1RFUCxvKX0sZSksbj1uK2suQ0FMQ1VMQVRJT05fU1RFUCsxLHZvaWQobz5uP3I9dihpKToobShyKSx0LmluUHJvZ3Jlc3M9ITEsdC5ob3Qudmlldy53dC53dE92ZXJsYXlzLmFkanVzdEVsZW1lbnRzU2l6ZSghMCksdC5ob3Qudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiZ0LmhvdC52aWV3Lnd0Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkuY2xvbmUuZHJhdygpKSkpOihtKHIpLHZvaWQodC5pblByb2dyZXNzPSExKSl9O3RoaXMuZmlyc3RDYWxjdWxhdGlvbiYmdGhpcy5nZXRTeW5jQ2FsY3VsYXRpb25MaW1pdCgpJiYodGhpcy5jYWxjdWxhdGVSb3dzSGVpZ2h0KHtmcm9tOjAsdG86dGhpcy5nZXRTeW5jQ2FsY3VsYXRpb25MaW1pdCgpfSxlKSx0aGlzLmZpcnN0Q2FsY3VsYXRpb249ITEsbj10aGlzLmdldFN5bmNDYWxjdWxhdGlvbkxpbWl0KCkrMSksbz5uP2koKTp0aGlzLmluUHJvZ3Jlc3M9ITF9LHJlY2FsY3VsYXRlQWxsUm93c0hlaWdodDpmdW5jdGlvbigpe3codGhpcy5ob3Qudmlldy53dC53dFRhYmxlLlRBQkxFKSYmKHRoaXMuY2xlYXJDYWNoZSgpLHRoaXMuY2FsY3VsYXRlQWxsUm93c0hlaWdodCgpKX0sZ2V0U3luY0NhbGN1bGF0aW9uTGltaXQ6ZnVuY3Rpb24oKXt2YXIgZT1rLlNZTkNfQ0FMQ1VMQVRJT05fTElNSVQsdD10aGlzLmhvdC5jb3VudFJvd3MoKS0xO3JldHVybiBDKHRoaXMuaG90LmdldFNldHRpbmdzKCkuYXV0b1Jvd1NpemUpJiYoZT10aGlzLmhvdC5nZXRTZXR0aW5ncygpLmF1dG9Sb3dTaXplLnN5bmNMaW1pdCxNKGUpP2U9Xyh0LGUpOmU+Pj0wKSxNYXRoLm1pbihlLHQpfSxnZXRSb3dIZWlnaHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzWzFdLG49dDtyZXR1cm4gdm9pZCAwIT09dGhpcy5oZWlnaHRzW2VdJiZ0aGlzLmhlaWdodHNbZV0+KHR8fDApJiYobj10aGlzLmhlaWdodHNbZV0pLG59LGdldEZpcnN0VmlzaWJsZVJvdzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LnZpZXcud3Q7cmV0dXJuIGUud3RWaWV3cG9ydC5yb3dzVmlzaWJsZUNhbGN1bGF0b3I/ZS53dFRhYmxlLmdldEZpcnN0VmlzaWJsZVJvdygpOmUud3RWaWV3cG9ydC5yb3dzUmVuZGVyQ2FsY3VsYXRvcj9lLnd0VGFibGUuZ2V0Rmlyc3RSZW5kZXJlZFJvdygpOi0xfSxnZXRMYXN0VmlzaWJsZVJvdzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LnZpZXcud3Q7cmV0dXJuIGUud3RWaWV3cG9ydC5yb3dzVmlzaWJsZUNhbGN1bGF0b3I/ZS53dFRhYmxlLmdldExhc3RWaXNpYmxlUm93KCk6ZS53dFZpZXdwb3J0LnJvd3NSZW5kZXJDYWxjdWxhdG9yP2Uud3RUYWJsZS5nZXRMYXN0UmVuZGVyZWRSb3coKTotMX0sY2xlYXJDYWNoZTpmdW5jdGlvbigpe3RoaXMuaGVpZ2h0cy5sZW5ndGg9MH0sY2xlYXJDYWNoZUJ5UmFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsibnVtYmVyIj09dHlwZW9mIGUmJihlPXtmcm9tOmUsdG86ZX0pLFMoTWF0aC5taW4oZS5mcm9tLGUudG8pLE1hdGgubWF4KGUuZnJvbSxlLnRvKSxmdW5jdGlvbihlKXtyZXR1cm4gdC5oZWlnaHRzW2VdPXZvaWQgMH0pfSxpc05lZWRSZWNhbGN1bGF0ZTpmdW5jdGlvbigpe3JldHVybiBwKHRoaXMuaGVpZ2h0cyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZX0pLmxlbmd0aD8hMDohMX0sb25CZWZvcmVSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvdC5yZW5kZXJDYWxsO3RoaXMuY2FsY3VsYXRlUm93c0hlaWdodCh7ZnJvbTp0aGlzLmdldEZpcnN0VmlzaWJsZVJvdygpLHRvOnRoaXMuZ2V0TGFzdFZpc2libGVSb3coKX0sdm9pZCAwLGUpO3ZhciB0PXRoaXMuaG90LmdldFNldHRpbmdzKCkuZml4ZWRSb3dzQm90dG9tO2lmKHQpe3ZhciBuPXRoaXMuaG90LmNvdW50Um93cygpLTE7dGhpcy5jYWxjdWxhdGVSb3dzSGVpZ2h0KHtmcm9tOm4tdCx0bzpufSl9dGhpcy5pc05lZWRSZWNhbGN1bGF0ZSgpJiYhdGhpcy5pblByb2dyZXNzJiZ0aGlzLmNhbGN1bGF0ZUFsbFJvd3NIZWlnaHQoKX0sb25CZWZvcmVSb3dNb3ZlOmZ1bmN0aW9uKGUsdCl7dGhpcy5jbGVhckNhY2hlQnlSYW5nZSh7ZnJvbTplLHRvOnR9KSx0aGlzLmNhbGN1bGF0ZUFsbFJvd3NIZWlnaHQoKX0sb25CZWZvcmVSb3dSZXNpemU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuJiYodGhpcy5jYWxjdWxhdGVSb3dzSGVpZ2h0KGUsdm9pZCAwLCEwKSx0PXRoaXMuZ2V0Um93SGVpZ2h0KGUpKSx0fSxvbkFmdGVyTG9hZERhdGE6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaG90LnZpZXc/dGhpcy5yZWNhbGN1bGF0ZUFsbFJvd3NIZWlnaHQoKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5ob3QmJmUucmVjYWxjdWxhdGVBbGxSb3dzSGVpZ2h0KCl9LDApfSxvbkJlZm9yZUNoYW5nZTpmdW5jdGlvbihlKXt2YXIgdD1udWxsOzE9PT1lLmxlbmd0aD90PWVbMF1bMF06ZS5sZW5ndGg+MSYmKHQ9e2Zyb206ZVswXVswXSx0bzplW2UubGVuZ3RoLTFdWzBdfSksbnVsbCE9PXQmJnRoaXMuY2xlYXJDYWNoZUJ5UmFuZ2UodCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmdob3N0VGFibGUuY2xlYW4oKSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxrLnByb3RvdHlwZSwiZGVzdHJveSIpLmNhbGwodGhpcyl9fSx7Z2V0IENBTENVTEFUSU9OX1NURVAoKXtyZXR1cm4gNTB9LGdldCBTWU5DX0NBTENVTEFUSU9OX0xJTUlUKCl7cmV0dXJuIDUwMH19LGgpLEUoImF1dG9Sb3dTaXplIixPKX0se19iYXNlOjU4LCJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9kb20vZWxlbWVudCI6NDUsImhlbHBlcnMvbnVtYmVyIjo0OSwiaGVscGVycy9vYmplY3QiOjUwLCJoZWxwZXJzL3N0cmluZyI6NTIscGx1Z2luczo1NywidXRpbHMvZ2hvc3RUYWJsZSI6MTAwLCJ1dGlscy9zYW1wbGVzR2VuZXJhdG9yIjoxMDF9XSw2MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCxuLG8pe3ZhciByLGkscyxhLGwsdT1uLmxlbmd0aCxjPW4/blswXS5sZW5ndGg6MCxkPVtdLGg9W107aWYocj10LnJvdy1lLnJvdyxpPXQuY29sLWUuY29sLC0xIT09WyJkb3duIiwidXAiXS5pbmRleE9mKG8pKXtmb3IodmFyIGY9MDtpPj1mO2YrKylzPXBhcnNlSW50KG5bMF1bZl0sMTApLGE9cGFyc2VJbnQoblt1LTFdW2ZdLDEwKSxsPSgiZG93biI9PT1vP2EtczpzLWEpLyh1LTEpfHwwLGgucHVzaChsKTtkLnB1c2goaCl9aWYoLTEhPT1bInJpZ2h0IiwibGVmdCJdLmluZGV4T2YobykpZm9yKHZhciBwPTA7cj49cDtwKyspcz1wYXJzZUludChuW3BdWzBdLDEwKSxhPXBhcnNlSW50KG5bcF1bYy0xXSwxMCksbD0oInJpZ2h0Ij09PW8/YS1zOnMtYSkvKGMtMSl8fDAsaD1bXSxoLnB1c2gobCksZC5wdXNoKGgpO3JldHVybiBkfWZ1bmN0aW9uIHIoZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5hdXRvZmlsbD92b2lkKGUuYXV0b2ZpbGwuaGFuZGxlJiZlLmF1dG9maWxsLmhhbmRsZS5pc0RyYWdnZWQmJihlLmF1dG9maWxsLmhhbmRsZS5pc0RyYWdnZWQ+MSYmZS5hdXRvZmlsbC5hcHBseSgpLGUuYXV0b2ZpbGwuaGFuZGxlLmlzRHJhZ2dlZD0wLGE9ITEpKTohMH1mdW5jdGlvbiBuKGUpe3ZhciB0LG47cmV0dXJuIHMuaW5zdGFuY2UuYXV0b2ZpbGw/KHQ9ZChzLmluc3RhbmNlLnRhYmxlKS50b3AtKHdpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkraChzLmluc3RhbmNlLnRhYmxlKSxuPWQocy5pbnN0YW5jZS50YWJsZSkubGVmdC0od2luZG93LnBhZ2VYT2Zmc2V0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkrZihzLmluc3RhbmNlLnRhYmxlKSxzLmFkZGluZ1N0YXJ0ZWQ9PT0hMSYmcy5pbnN0YW5jZS5hdXRvZmlsbC5oYW5kbGUuaXNEcmFnZ2VkPjAmJmUuY2xpZW50WT50JiZlLmNsaWVudFg8PW4/KHMuaW5zdGFuY2UubW91c2VEcmFnT3V0c2lkZT0hMCxzLmFkZGluZ1N0YXJ0ZWQ9ITApOnMuaW5zdGFuY2UubW91c2VEcmFnT3V0c2lkZT0hMSx2b2lkKHMuaW5zdGFuY2UubW91c2VEcmFnT3V0c2lkZSYmbSgiYXV0b0luc2VydFJvdyIpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cy5hZGRpbmdTdGFydGVkPSExLHMuaW5zdGFuY2UuYWx0ZXIoImluc2VydF9yb3ciKX0sMjAwKSkpOiExfXZhciBvLHIsaSxzPXRoaXMsYT0hMTt0aGlzLmluc3RhbmNlPWUsdGhpcy5hZGRpbmdTdGFydGVkPSExLGk9cChlKSxpLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNldXAiLHQpLGkuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwibW91c2Vtb3ZlIixuKSxvPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dFNldHRpbmdzLnNldHRpbmdzLm9uQ2VsbENvcm5lck1vdXNlRG93bix0aGlzLmluc3RhbmNlLnZpZXcud3Qud3RTZXR0aW5ncy5zZXR0aW5ncy5vbkNlbGxDb3JuZXJNb3VzZURvd249ZnVuY3Rpb24odCl7ZS5hdXRvZmlsbC5oYW5kbGUuaXNEcmFnZ2VkPTEsYT0hMCxvKHQpfSxyPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dFNldHRpbmdzLnNldHRpbmdzLm9uQ2VsbE1vdXNlT3Zlcix0aGlzLmluc3RhbmNlLnZpZXcud3Qud3RTZXR0aW5ncy5zZXR0aW5ncy5vbkNlbGxNb3VzZU92ZXI9ZnVuY3Rpb24odCxuLG8saSl7ZS5hdXRvZmlsbCYmYSYmIWUudmlldy5pc01vdXNlRG93bigpJiZlLmF1dG9maWxsLmhhbmRsZSYmZS5hdXRvZmlsbC5oYW5kbGUuaXNEcmFnZ2VkJiYoZS5hdXRvZmlsbC5oYW5kbGUuaXNEcmFnZ2VkKyssZS5hdXRvZmlsbC5zaG93Qm9yZGVyKG4pLGUuYXV0b2ZpbGwuY2hlY2tJZk5ld1Jvd05lZWRlZCgpKSxyKHQsbixvLGkpfSx0aGlzLmluc3RhbmNlLnZpZXcud3Qud3RTZXR0aW5ncy5zZXR0aW5ncy5vbkNlbGxDb3JuZXJEYmxDbGljaz1mdW5jdGlvbigpe2UuYXV0b2ZpbGwuc2VsZWN0QWRqYWNlbnQoKX19ZnVuY3Rpb24gaShlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG47cmV0dXJuImRpcmVjdGlvbiI9PT10P249InN0cmluZyI9PXR5cGVvZiBlP2U6Im9iamVjdCI9PXR5cGVvZiBlJiZ2b2lkIDAhPT1lW3RdP2VbdF06ITA6ImF1dG9JbnNlcnRSb3ciPT09dD9uPSJvYmplY3QiPT10eXBlb2YgZSYmdm9pZCAwIT09ZVt0XT9lW3RdOiEwOiJmaWxsSGFuZGxlIj09PXQmJihuPWU/ITA6ITEpLG59fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0F1dG9maWxsOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBzLGEsbCx1LGM9KHM9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksZD1jLm9mZnNldCxoPWMub3V0ZXJIZWlnaHQsZj1jLm91dGVyV2lkdGgscD0oYT1lKCJldmVudE1hbmFnZXIiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLmV2ZW50TWFuYWdlcixnPSgobD1lKCJwbHVnaW5zIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5yZWdpc3RlclBsdWdpbiwodT1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9jb29yZHMiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLldhbGtvbnRhYmxlQ2VsbENvb3Jkcyk7ci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuaGFuZGxlPXt9fSxyLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuZGlzYWJsZWQ9ITB9LHIucHJvdG90eXBlLnNlbGVjdEFkamFjZW50PWZ1bmN0aW9uKCl7dmFyIGUsdCxuLG8scjtlPXRoaXMuaW5zdGFuY2Uuc2VsZWN0aW9uLmlzTXVsdGlwbGUoKT90aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5hcmVhLmdldENvcm5lcnMoKTp0aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5jdXJyZW50LmdldENvcm5lcnMoKSx0PXRoaXMuaW5zdGFuY2UuZ2V0RGF0YSgpO2U6Zm9yKG49ZVsyXSsxO248dGhpcy5pbnN0YW5jZS5jb3VudFJvd3MoKTtuKyspe2ZvcihyPWVbMV07cjw9ZVszXTtyKyspaWYodFtuXVtyXSlicmVhayBlOyh0W25dW2VbMV0tMV18fHRbbl1bZVszXSsxXSkmJihvPW4pfW8mJih0aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5maWxsLmNsZWFyKCksdGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuZmlsbC5hZGQobmV3IGcoZVswXSxlWzFdKSksdGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuZmlsbC5hZGQobmV3IGcobyxlWzNdKSksdGhpcy5hcHBseSgpKX0sci5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpLHMsYSxsO3RoaXMuaGFuZGxlLmlzRHJhZ2dlZD0wLHRoaXMuaW5zdGFuY2Uudmlldy53dC5zZWxlY3Rpb25zLmZpbGwuaXNFbXB0eSgpfHwoZT10aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5maWxsLmdldENvcm5lcnMoKSx0aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5maWxsLmNsZWFyKCksdD10aGlzLmluc3RhbmNlLnNlbGVjdGlvbi5pc011bHRpcGxlKCk/dGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuYXJlYS5nZXRDb3JuZXJzKCk6dGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuY3VycmVudC5nZXRDb3JuZXJzKCksSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJhZnRlckF1dG9maWxsQXBwbHlWYWx1ZXMiLHQsZSksZVswXT09PXRbMF0mJmVbMV08dFsxXT8ocz0ibGVmdCIsbj1uZXcgZyhlWzBdLGVbMV0pLHI9bmV3IGcoZVsyXSx0WzFdLTEpKTplWzBdPT09dFswXSYmZVszXT50WzNdPyhzPSJyaWdodCIsbj1uZXcgZyhlWzBdLHRbM10rMSkscj1uZXcgZyhlWzJdLGVbM10pKTplWzBdPHRbMF0mJmVbMV09PT10WzFdPyhzPSJ1cCIsbj1uZXcgZyhlWzBdLGVbMV0pLHI9bmV3IGcodFswXS0xLGVbM10pKTplWzJdPnRbMl0mJmVbMV09PT10WzFdJiYocz0iZG93biIsbj1uZXcgZyh0WzJdKzEsZVsxXSkscj1uZXcgZyhlWzJdLGVbM10pKSxuJiZuLnJvdz4tMSYmbi5jb2w+LTE/KGw9e2Zyb206dGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZFJhbmdlKCkuZnJvbSx0bzp0aGlzLmluc3RhbmNlLmdldFNlbGVjdGVkUmFuZ2UoKS50b30saT10aGlzLmluc3RhbmNlLmdldERhdGEobC5mcm9tLnJvdyxsLmZyb20uY29sLGwudG8ucm93LGwudG8uY29sKSxhPW8obixyLGkscyksSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJiZWZvcmVBdXRvZmlsbCIsbixyLGkpLHRoaXMuaW5zdGFuY2UucG9wdWxhdGVGcm9tQXJyYXkobi5yb3csbi5jb2wsaSxyLnJvdyxyLmNvbCwiYXV0b2ZpbGwiLG51bGwscyxhKSx0aGlzLmluc3RhbmNlLnNlbGVjdGlvbi5zZXRSYW5nZVN0YXJ0KG5ldyBnKGVbMF0sZVsxXSkpLHRoaXMuaW5zdGFuY2Uuc2VsZWN0aW9uLnNldFJhbmdlRW5kKG5ldyBnKGVbMl0sZVszXSkpKTp0aGlzLmluc3RhbmNlLnNlbGVjdGlvbi5yZWZyZXNoQm9yZGVycygpKX0sci5wcm90b3R5cGUuc2hvd0JvcmRlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmluc3RhbmNlLmdldFNlbGVjdGVkUmFuZ2UoKS5nZXRUb3BMZWZ0Q29ybmVyKCksbj10aGlzLmluc3RhbmNlLmdldFNlbGVjdGVkUmFuZ2UoKS5nZXRCb3R0b21SaWdodENvcm5lcigpO2lmKCJob3Jpem9udGFsIiE9PW0oImRpcmVjdGlvbiIpJiYobi5yb3c8ZS5yb3d8fHQucm93PmUucm93KSllPW5ldyBnKGUucm93LG4uY29sKTtlbHNle2lmKCJ2ZXJ0aWNhbCI9PT1tKCJkaXJlY3Rpb24iKSlyZXR1cm47ZT1uZXcgZyhuLnJvdyxlLmNvbCl9dGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuZmlsbC5jbGVhcigpLHRoaXMuaW5zdGFuY2Uudmlldy53dC5zZWxlY3Rpb25zLmZpbGwuYWRkKHRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRSYW5nZSgpLmZyb20pLHRoaXMuaW5zdGFuY2Uudmlldy53dC5zZWxlY3Rpb25zLmZpbGwuYWRkKHRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRSYW5nZSgpLnRvKSx0aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5maWxsLmFkZChlKSx0aGlzLmluc3RhbmNlLnZpZXcucmVuZGVyKCl9LHIucHJvdG90eXBlLmNoZWNrSWZOZXdSb3dOZWVkZWQ9ZnVuY3Rpb24oKXt2YXIgZSx0LG49dGhpcy5pbnN0YW5jZS5jb3VudFJvd3MoKSxvPXRoaXM7dGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuZmlsbC5jZWxsUmFuZ2UmJnRoaXMuYWRkaW5nU3RhcnRlZD09PSExJiZtKCJhdXRvSW5zZXJ0Um93IikmJih0PXRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWQoKSxlPXRoaXMuaW5zdGFuY2Uudmlldy53dC5zZWxlY3Rpb25zLmZpbGwuZ2V0Q29ybmVycygpLHRbMl08bi0xJiZlWzJdPT09bi0xJiYodGhpcy5hZGRpbmdTdGFydGVkPSEwLHRoaXMuaW5zdGFuY2UuX3JlZ2lzdGVyVGltZW91dChzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5pbnN0YW5jZS5hbHRlcigiaW5zZXJ0X3JvdyIpLG8uYWRkaW5nU3RhcnRlZD0hMX0sMjAwKSkpKX0sSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYWZ0ZXJJbml0IixmdW5jdGlvbigpe3ZhciBlPW5ldyByKHRoaXMpO209aSh0aGlzLmdldFNldHRpbmdzKCkuZmlsbEhhbmRsZSksdm9pZCAwIT09bSgiZmlsbEhhbmRsZSIpJiYoZS5oYW5kbGUmJm0oImZpbGxIYW5kbGUiKT09PSExP2UuZGlzYWJsZSgpOmUuaGFuZGxlfHxtKCJmaWxsSGFuZGxlIik9PT0hMXx8KHRoaXMuYXV0b2ZpbGw9ZSx0aGlzLmF1dG9maWxsLmluaXQoKSkpfSk7dmFyIG07SGFuZHNvbnRhYmxlLkF1dG9maWxsPXJ9LHsiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIjo1LGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9kb20vZWxlbWVudCI6NDUscGx1Z2luczo1N31dLDYyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0NvbHVtblNvcnRpbmc6e2dldDpmdW5jdGlvbigpe3JldHVybiBifX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsYSxsPShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLHU9bC5hZGRDbGFzcyxjPWwuY2xvc2VzdCxkPWwuaGFzQ2xhc3MsaD1sLmluZGV4LGY9bC5yZW1vdmVDbGFzcyxwPShyPWUoImhlbHBlcnMvYXJyYXkiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGc9KHAuYXJyYXlFYWNoLHAuYXJyYXlNYXApLG09cC5hcnJheVJlZHVjZSx2PShpPWUoImV2ZW50TWFuYWdlciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuZXZlbnRNYW5hZ2VyLHc9KHM9ZSgiX2Jhc2UiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pWyJkZWZhdWx0Il0seT0oYT1lKCJwbHVnaW5zIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5yZWdpc3RlclBsdWdpbjtIYW5kc29udGFibGUuaG9va3MucmVnaXN0ZXIoImJlZm9yZUNvbHVtblNvcnQiKSxIYW5kc29udGFibGUuaG9va3MucmVnaXN0ZXIoImFmdGVyQ29sdW1uU29ydCIpO3ZhciBiPWZ1bmN0aW9uKGUpeyR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKEMpLmNhbGwodGhpcyxlKSx0aGlzLnNvcnRJbmRpY2F0b3JzPVtdLHRoaXMubGFzdFNvcnRlZENvbHVtbj1udWxsfSxDPWI7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGIse2lzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5jb2x1bW5Tb3J0aW5nfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLmVuYWJsZWQpe3ZhciB0PXRoaXM7dGhpcy5ob3Quc29ydEluZGV4PVtdLHRoaXMuaG90LnNvcnQ9ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiB0LnNvcnRCeUNvbHVtbi5hcHBseSh0LGUpfSwidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuaG90LmdldFNldHRpbmdzKCkub2JzZXJ2ZUNoYW5nZXMmJnRoaXMuZW5hYmxlT2JzZXJ2ZUNoYW5nZXNQbHVnaW4oKSx0aGlzLmJpbmRDb2x1bW5Tb3J0aW5nQWZ0ZXJDbGljaygpLHRoaXMuYWRkSG9vaygiYWZ0ZXJUcmltUm93IixmdW5jdGlvbih0KXtyZXR1cm4gZS5zb3J0KCl9KSx0aGlzLmFkZEhvb2soImFmdGVyVW50cmltUm93IixmdW5jdGlvbih0KXtyZXR1cm4gZS5zb3J0KCl9KSx0aGlzLmFkZEhvb2soIm1vZGlmeVJvdyIsZnVuY3Rpb24odCl7cmV0dXJuIGUudHJhbnNsYXRlUm93KHQpfSksdGhpcy5hZGRIb29rKCJhZnRlclVwZGF0ZVNldHRpbmdzIixmdW5jdGlvbigpe3JldHVybiBlLm9uQWZ0ZXJVcGRhdGVTZXR0aW5ncygpfSksdGhpcy5hZGRIb29rKCJhZnRlckdldENvbEhlYWRlciIsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRDb2xIZWFkZXIodCxuKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJDcmVhdGVSb3ciLGZ1bmN0aW9uKCl7dC5hZnRlckNyZWF0ZVJvdy5hcHBseSh0LGFyZ3VtZW50cyl9KSx0aGlzLmFkZEhvb2soImFmdGVyUmVtb3ZlUm93IixmdW5jdGlvbigpe3QuYWZ0ZXJSZW1vdmVSb3cuYXBwbHkodCxhcmd1bWVudHMpfSksdGhpcy5hZGRIb29rKCJhZnRlckluaXQiLGZ1bmN0aW9uKCl7cmV0dXJuIGUuc29ydEJ5U2V0dGluZ3MoKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJMb2FkRGF0YSIsZnVuY3Rpb24oKXtlLmhvdC5zb3J0SW5kZXg9W10sZS5ob3QudmlldyYmZS5zb3J0QnlTZXR0aW5ncygpfSksdGhpcy5ob3QudmlldyYmdGhpcy5zb3J0QnlTZXR0aW5ncygpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLEMucHJvdG90eXBlLCJlbmFibGVQbHVnaW4iKS5jYWxsKHRoaXMpfX0sZGlzYWJsZVBsdWdpbjpmdW5jdGlvbigpe3RoaXMuaG90LnNvcnQ9dm9pZCAwLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLEMucHJvdG90eXBlLCJkaXNhYmxlUGx1Z2luIikuY2FsbCh0aGlzKX0sb25BZnRlclVwZGF0ZVNldHRpbmdzOmZ1bmN0aW9uKCl7dGhpcy5zb3J0QnlTZXR0aW5ncygpfSxzb3J0QnlTZXR0aW5nczpmdW5jdGlvbigpe3ZhciBlLHQsbj10aGlzLmhvdC5nZXRTZXR0aW5ncygpLmNvbHVtblNvcnRpbmcsbz10aGlzLmxvYWRTb3J0aW5nU3RhdGUoKTsidW5kZWZpbmVkIj09dHlwZW9mIG8/KGU9bi5jb2x1bW4sdD1uLnNvcnRPcmRlcik6KGU9by5zb3J0Q29sdW1uLHQ9by5zb3J0T3JkZXIpLCJudW1iZXIiPT10eXBlb2YgZSYmKHRoaXMubGFzdFNvcnRlZENvbHVtbj1lLHRoaXMuc29ydEJ5Q29sdW1uKGUsdCkpfSxzZXRTb3J0aW5nQ29sdW1uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBlPyh0aGlzLmhvdC5zb3J0Q29sdW1uPXZvaWQgMCx2b2lkKHRoaXMuaG90LnNvcnRPcmRlcj12b2lkIDApKToodGhpcy5ob3Quc29ydENvbHVtbj09PWUmJiJ1bmRlZmluZWQiPT10eXBlb2YgdD90aGlzLmhvdC5zb3J0T3JkZXI9PT0hMT90aGlzLmhvdC5zb3J0T3JkZXI9dm9pZCAwOnRoaXMuaG90LnNvcnRPcmRlcj0hdGhpcy5ob3Quc29ydE9yZGVyOnRoaXMuaG90LnNvcnRPcmRlcj0idW5kZWZpbmVkIj09dHlwZW9mIHQ/ITA6dCx2b2lkKHRoaXMuaG90LnNvcnRDb2x1bW49ZSkpfSxzb3J0QnlDb2x1bW46ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnNldFNvcnRpbmdDb2x1bW4oZSx0KSwidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuaG90LnNvcnRDb2x1bW4pe3ZhciBuPUhhbmRzb250YWJsZS5ob29rcy5ydW4odGhpcy5ob3QsImJlZm9yZUNvbHVtblNvcnQiLHRoaXMuaG90LnNvcnRDb2x1bW4sdGhpcy5ob3Quc29ydE9yZGVyKTtuIT09ITEmJnRoaXMuc29ydCgpLHRoaXMudXBkYXRlT3JkZXJDbGFzcygpLHRoaXMudXBkYXRlU29ydEluZGljYXRvcigpLHRoaXMuaG90LnJlbmRlcigpLHRoaXMuc2F2ZVNvcnRpbmdTdGF0ZSgpLEhhbmRzb250YWJsZS5ob29rcy5ydW4odGhpcy5ob3QsImFmdGVyQ29sdW1uU29ydCIsdGhpcy5ob3Quc29ydENvbHVtbix0aGlzLmhvdC5zb3J0T3JkZXIpfX0sc2F2ZVNvcnRpbmdTdGF0ZTpmdW5jdGlvbigpe3ZhciBlPXt9OyJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5ob3Quc29ydENvbHVtbiYmKGUuc29ydENvbHVtbj10aGlzLmhvdC5zb3J0Q29sdW1uKSwidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuaG90LnNvcnRPcmRlciYmKGUuc29ydE9yZGVyPXRoaXMuaG90LnNvcnRPcmRlciksKGUuaGFzT3duUHJvcGVydHkoInNvcnRDb2x1bW4iKXx8ZS5oYXNPd25Qcm9wZXJ0eSgic29ydE9yZGVyIikpJiZIYW5kc29udGFibGUuaG9va3MucnVuKHRoaXMuaG90LCJwZXJzaXN0ZW50U3RhdGVTYXZlIiwiY29sdW1uU29ydGluZyIsZSl9LGxvYWRTb3J0aW5nU3RhdGU6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bih0aGlzLmhvdCwicGVyc2lzdGVudFN0YXRlTG9hZCIsImNvbHVtblNvcnRpbmciLGUpLGUudmFsdWV9LHVwZGF0ZU9yZGVyQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLmhvdC5zb3J0T3JkZXI9PT0hMD9lPSJhc2NlbmRpbmciOnRoaXMuaG90LnNvcnRPcmRlcj09PSExJiYoZT0iZGVzY2VuZGluZyIpLHRoaXMuc29ydE9yZGVyQ2xhc3M9ZX0sYmluZENvbHVtblNvcnRpbmdBZnRlckNsaWNrOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXIuaG90LnZpZXcuVEJPRFkucXVlcnlTZWxlY3RvcigidHIiKSx0PTE7cmV0dXJuIGUmJih0PWUucXVlcnlTZWxlY3RvckFsbCgidGgiKS5sZW5ndGgpLHR9ZnVuY3Rpb24gdCh0KXt2YXIgbj1jKHQsIlRIIik7cmV0dXJuIHIuaG90LnZpZXcud3Qud3RUYWJsZS5nZXRGaXJzdFJlbmRlcmVkQ29sdW1uKCkraChuKS1lKCl9dmFyIG49dGhpcztpZighdGhpcy5iaW5kZWRTb3J0RXZlbnQpe3ZhciBvPXYodGhpcy5ob3QpLHI9dGhpczt0aGlzLmJpbmRlZFNvcnRFdmVudD0hMCxvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ob3Qucm9vdEVsZW1lbnQsImNsaWNrIixmdW5jdGlvbihlKXtpZihkKGUudGFyZ2V0LCJjb2x1bW5Tb3J0aW5nIikpe3ZhciBvPXQoZS50YXJnZXQpO28hPT1uLmxhc3RTb3J0ZWRDb2x1bW4mJihuLmhvdC5zb3J0T3JkZXI9ITApLG4ubGFzdFNvcnRlZENvbHVtbj1vLG4uc29ydEJ5Q29sdW1uKG8pfX0pfX0sZW5hYmxlT2JzZXJ2ZUNoYW5nZXNQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaG90Ll9yZWdpc3RlclRpbWVvdXQoc2V0VGltZW91dChmdW5jdGlvbigpe2UuaG90LnVwZGF0ZVNldHRpbmdzKHtvYnNlcnZlQ2hhbmdlczohMH0pfSwwKSl9LGRlZmF1bHRTb3J0OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiJzdHJpbmciPT10eXBlb2YgdFsxXSYmKHRbMV09dFsxXS50b0xvd2VyQ2FzZSgpKSwic3RyaW5nIj09dHlwZW9mIG5bMV0mJihuWzFdPW5bMV0udG9Mb3dlckNhc2UoKSksdFsxXT09PW5bMV0/MDpudWxsPT09dFsxXXx8IiI9PT10WzFdPzE6bnVsbD09PW5bMV18fCIiPT09blsxXT8tMTppc05hTih0WzFdKSYmIWlzTmFOKG5bMV0pP2U/MTotMTohaXNOYU4odFsxXSkmJmlzTmFOKG5bMV0pP2U/LTE6MTp0WzFdPG5bMV0/ZT8tMToxOnRbMV0+blsxXT9lPzE6LTE6MH19LGRhdGVTb3J0OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe2lmKHRbMV09PT1uWzFdKXJldHVybiAwO2lmKG51bGw9PT10WzFdfHwiIj09PXRbMV0pcmV0dXJuIDE7aWYobnVsbD09PW5bMV18fCIiPT09blsxXSlyZXR1cm4tMTt2YXIgbz1uZXcgRGF0ZSh0WzFdKSxyPW5ldyBEYXRlKG5bMV0pO3JldHVybiByPm8/ZT8tMToxOm8+cj9lPzE6LTE6MH19LHNvcnQ6ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuaG90LnNvcnRPcmRlcilyZXR1cm4gdm9pZCh0aGlzLmhvdC5zb3J0SW5kZXgubGVuZ3RoPTApO3ZhciBlLHQ7dGhpcy5ob3Quc29ydGluZ0VuYWJsZWQ9ITEsdGhpcy5ob3Quc29ydEluZGV4Lmxlbmd0aD0wO2Zvcih2YXIgbj0wLG89dGhpcy5ob3QuY291bnRSb3dzKCktdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5taW5TcGFyZVJvd3M7bz5uO24rKyl0aGlzLmhvdC5zb3J0SW5kZXgucHVzaChbbix0aGlzLmhvdC5nZXREYXRhQXRDZWxsKG4sdGhpcy5ob3Quc29ydENvbHVtbildKTtzd2l0Y2goZT10aGlzLmhvdC5nZXRDZWxsTWV0YSgwLHRoaXMuaG90LnNvcnRDb2x1bW4pLGUudHlwZSl7Y2FzZSJkYXRlIjp0PXRoaXMuZGF0ZVNvcnQ7YnJlYWs7ZGVmYXVsdDp0PXRoaXMuZGVmYXVsdFNvcnR9dGhpcy5ob3Quc29ydEluZGV4LnNvcnQodCh0aGlzLmhvdC5zb3J0T3JkZXIpKTtmb3IodmFyIHI9dGhpcy5ob3Quc29ydEluZGV4Lmxlbmd0aDtyPHRoaXMuaG90LmNvdW50Um93cygpO3IrKyl0aGlzLmhvdC5zb3J0SW5kZXgucHVzaChbcix0aGlzLmhvdC5nZXREYXRhQXRDZWxsKHIsdGhpcy5ob3Quc29ydENvbHVtbildKTt0aGlzLmhvdC5zb3J0aW5nRW5hYmxlZD0hMH0sdXBkYXRlU29ydEluZGljYXRvcjpmdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5ob3Quc29ydE9yZGVyKXt2YXIgZT10aGlzLmhvdC5nZXRDZWxsTWV0YSgwLHRoaXMuaG90LnNvcnRDb2x1bW4pO3RoaXMuc29ydEluZGljYXRvcnNbdGhpcy5ob3Quc29ydENvbHVtbl09ZS5zb3J0SW5kaWNhdG9yfX0sdHJhbnNsYXRlUm93OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhvdC5zb3J0aW5nRW5hYmxlZCYmInVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzLmhvdC5zb3J0T3JkZXImJnRoaXMuaG90LnNvcnRJbmRleCYmdGhpcy5ob3Quc29ydEluZGV4Lmxlbmd0aCYmdGhpcy5ob3Quc29ydEluZGV4W2VdP3RoaXMuaG90LnNvcnRJbmRleFtlXVswXTplfSx1bnRyYW5zbGF0ZVJvdzpmdW5jdGlvbihlKXtpZih0aGlzLmhvdC5zb3J0aW5nRW5hYmxlZCYmdGhpcy5ob3Quc29ydEluZGV4JiZ0aGlzLmhvdC5zb3J0SW5kZXgubGVuZ3RoKWZvcih2YXIgdD0wO3Q8dGhpcy5ob3Quc29ydEluZGV4Lmxlbmd0aDt0KyspaWYodGhpcy5ob3Quc29ydEluZGV4W3RdWzBdPT1lKXJldHVybiB0fSxnZXRDb2xIZWFkZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnF1ZXJ5U2VsZWN0b3IoIi5jb2xIZWFkZXIiKSxvPSh0LmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLHQucGFyZW50Tm9kZS5wYXJlbnROb2RlLmNoaWxkTm9kZXMpLHI9QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChvLHQucGFyZW50Tm9kZSk7ci09by5sZW5ndGgsbiYmKHRoaXMuaG90LmdldFNldHRpbmdzKCkuY29sdW1uU29ydGluZyYmZT49MCYmLTE9PT1yJiZ1KG4sImNvbHVtblNvcnRpbmciKSxmKG4sImRlc2NlbmRpbmciKSxmKG4sImFzY2VuZGluZyIpLHRoaXMuc29ydEluZGljYXRvcnNbZV0mJmU9PT10aGlzLmhvdC5zb3J0Q29sdW1uJiYoImFzY2VuZGluZyI9PT10aGlzLnNvcnRPcmRlckNsYXNzP3UobiwiYXNjZW5kaW5nIik6ImRlc2NlbmRpbmciPT09dGhpcy5zb3J0T3JkZXJDbGFzcyYmdShuLCJkZXNjZW5kaW5nIikpKX0saXNTb3J0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuaG90LnNvcnRDb2x1bW59LGFmdGVyQ3JlYXRlUm93OmZ1bmN0aW9uKGUsdCl7aWYodGhpcy5pc1NvcnRlZCgpKXtmb3IodmFyIG49MDtuPHRoaXMuaG90LnNvcnRJbmRleC5sZW5ndGg7bisrKXRoaXMuaG90LnNvcnRJbmRleFtuXVswXT49ZSYmKHRoaXMuaG90LnNvcnRJbmRleFtuXVswXSs9dCk7Zm9yKHZhciBuPTA7dD5uO24rKyl0aGlzLmhvdC5zb3J0SW5kZXguc3BsaWNlKGUrbiwwLFtlK24sdGhpcy5ob3QuZ2V0U291cmNlRGF0YSgpW2Urbl1bdGhpcy5ob3Quc29ydENvbHVtbit0aGlzLmhvdC5jb2xPZmZzZXQoKV1dKTt0aGlzLnNhdmVTb3J0aW5nU3RhdGUoKX19LGFmdGVyUmVtb3ZlUm93OmZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gbShvLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGU+biYmdCsrLHR9LDApfWlmKHRoaXMuaXNTb3J0ZWQoKSl7dmFyIG89dGhpcy5ob3Quc29ydEluZGV4LnNwbGljZShlLHQpO289ZyhvLGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdfSksdGhpcy5ob3Quc29ydEluZGV4PWcodGhpcy5ob3Quc29ydEluZGV4LGZ1bmN0aW9uKGUsdCl7dmFyIG89bihlWzBdKTtyZXR1cm4gbyYmKGVbMF0tPW8pLGV9KSx0aGlzLnNhdmVTb3J0aW5nU3RhdGUoKX19fSx7fSx3KSx5KCJjb2x1bW5Tb3J0aW5nIixiKX0se19iYXNlOjU4LGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LHBsdWdpbnM6NTd9XSw2MzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtDb21tZW50RWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHI9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkuYWRkQ2xhc3MsaT1mdW5jdGlvbigpe3RoaXMuZWRpdG9yPXRoaXMuY3JlYXRlRWRpdG9yKCksdGhpcy5lZGl0b3JTdHlsZT10aGlzLmVkaXRvci5zdHlsZSx0aGlzLmVkaXRvclN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy5lZGl0b3JTdHlsZS56SW5kZXg9MTAwLHRoaXMuaGlkZSgpfSxzPWk7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGkse3NldFBvc2l0aW9uOmZ1bmN0aW9uKGUsdCl7dGhpcy5lZGl0b3JTdHlsZS5sZWZ0PWUrInB4Iix0aGlzLmVkaXRvclN0eWxlLnRvcD10KyJweCJ9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvclN0eWxlLmRpc3BsYXk9ImJsb2NrIn0saGlkZTpmdW5jdGlvbigpe3RoaXMuZWRpdG9yU3R5bGUuZGlzcGxheT0ibm9uZSJ9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiJibG9jayI9PT10aGlzLmVkaXRvclN0eWxlLmRpc3BsYXl9LHNldFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToiIjtlPWV8fCIiLHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkudmFsdWU9ZX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS52YWx1ZX0saXNGb2N1c2VkOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT10aGlzLmdldElucHV0RWxlbWVudCgpfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZm9jdXMoKX0sY3JlYXRlRWRpdG9yOmZ1bmN0aW9uKCl7dmFyIGUsdCxuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi4iK3MuQ0xBU1NfRURJVE9SX0NPTlRBSU5FUik7cmV0dXJuIG58fChuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHIobixzLkNMQVNTX0VESVRPUl9DT05UQUlORVIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobikpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikscihlLHMuQ0xBU1NfRURJVE9SKSx0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIikscih0LHMuQ0xBU1NfSU5QVVQpLGUuYXBwZW5kQ2hpbGQodCksbi5hcHBlbmRDaGlsZChlKSxlfSxnZXRJbnB1dEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IucXVlcnlTZWxlY3RvcigiLiIrcy5DTEFTU19JTlBVVCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWRpdG9yKSx0aGlzLmVkaXRvcj1udWxsLHRoaXMuZWRpdG9yU3R5bGU9bnVsbH19LHtnZXQgQ0xBU1NfRURJVE9SX0NPTlRBSU5FUigpe3JldHVybiJodENvbW1lbnRzQ29udGFpbmVyIn0sZ2V0IENMQVNTX0VESVRPUigpe3JldHVybiJodENvbW1lbnRzIn0sZ2V0IENMQVNTX0lOUFVUKCl7cmV0dXJuImh0Q29tbWVudFRleHRBcmVhIn0sZ2V0IENMQVNTX0NFTEwoKXtyZXR1cm4iaHRDb21tZW50Q2VsbCJ9fSl9LHsiaGVscGVycy9kb20vZWxlbWVudCI6NDV9XSw2NDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtDb21tZW50czp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFJ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxhLGwsdT0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KSxjPXUuYWRkQ2xhc3MsZD11LmNsb3Nlc3QsaD11LmdldFdpbmRvd1Njcm9sbExlZnQsZj11LmdldFdpbmRvd1Njcm9sbFRvcCxwPXUuaGFzQ2xhc3MsZz11Lm9mZnNldCxtPShyPWUoImV2ZW50TWFuYWdlciIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuRXZlbnRNYW5hZ2VyLHY9KGk9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5XYWxrb250YWJsZUNlbGxDb29yZHMsdz0ocz1lKCJwbHVnaW5zIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KSx5PXcucmVnaXN0ZXJQbHVnaW4sYj0ody5nZXRQbHVnaW4sKGE9ZSgiX2Jhc2UiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pWyJkZWZhdWx0Il0pLEM9KGw9ZSgiY29tbWVudEVkaXRvciIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuQ29tbWVudEVkaXRvcixSPWZ1bmN0aW9uKGUpeyR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKF8pLmNhbGwodGhpcyxlKSx0aGlzLmVkaXRvcj1udWxsLHRoaXMuZXZlbnRNYW5hZ2VyPW51bGwsdGhpcy5yYW5nZT17fSx0aGlzLm1vdXNlRG93bj0hMSx0aGlzLmNvbnRleHRNZW51RXZlbnQ9ITEsdGhpcy50aW1lcj1udWxsfSxfPVI7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKFIse2lzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdC5nZXRTZXR0aW5ncygpLmNvbW1lbnRzfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZW5hYmxlZHx8KHRoaXMuZWRpdG9yfHwodGhpcy5lZGl0b3I9bmV3IEMpLHRoaXMuZXZlbnRNYW5hZ2VyfHwodGhpcy5ldmVudE1hbmFnZXI9bmV3IG0odGhpcykpLHRoaXMuYWRkSG9vaygiYWZ0ZXJDb250ZXh0TWVudURlZmF1bHRPcHRpb25zIixmdW5jdGlvbih0KXtyZXR1cm4gZS5hZGRUb0NvbnRleHRNZW51KHQpfSksdGhpcy5hZGRIb29rKCJhZnRlclJlbmRlcmVyIixmdW5jdGlvbih0LG4sbyxyLGkscyl7cmV0dXJuIGUub25BZnRlclJlbmRlcmVyKHQscyl9KSx0aGlzLmFkZEhvb2soImFmdGVyU2Nyb2xsSG9yaXpvbnRhbGx5IixmdW5jdGlvbigpe3JldHVybiBlLnJlZnJlc2hFZGl0b3JQb3NpdGlvbigpfSksdGhpcy5hZGRIb29rKCJhZnRlclNjcm9sbFZlcnRpY2FsbHkiLGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVmcmVzaEVkaXRvclBvc2l0aW9uKCl9KSx0aGlzLmFkZEhvb2soImFmdGVyQ29sdW1uUmVzaXplIixmdW5jdGlvbigpe3JldHVybiBlLnJlZnJlc2hFZGl0b3JQb3NpdGlvbigpfSksdGhpcy5hZGRIb29rKCJhZnRlclJvd1Jlc2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWZyZXNoRWRpdG9yUG9zaXRpb24oKX0pLHRoaXMucmVnaXN0ZXJMaXN0ZW5lcnMoKSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxfLnByb3RvdHlwZSwiZW5hYmxlUGx1Z2luIikuY2FsbCh0aGlzKSl9LGRpc2FibGVQbHVnaW46ZnVuY3Rpb24oKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxfLnByb3RvdHlwZSwiZGlzYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9LHJlZ2lzdGVyTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZW92ZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VPdmVyKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwibW91c2Vkb3duIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlRG93bih0KX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNlbW92ZSIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb3VzZU1vdmUodCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZXVwIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlVXAodCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuZWRpdG9yLmdldElucHV0RWxlbWVudCgpLCJibHVyIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbkVkaXRvckJsdXIodCl9KX0sc2V0UmFuZ2U6ZnVuY3Rpb24oZSl7dGhpcy5yYW5nZT1lfSxjbGVhclJhbmdlOmZ1bmN0aW9uKCl7dGhpcy5yYW5nZT17fX0sdGFyZ2V0SXNDZWxsV2l0aENvbW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHAoZS50YXJnZXQsImh0Q29tbWVudENlbGwiKSYmZChlLnRhcmdldCxbdGhpcy5ob3Qucm9vdEVsZW1lbnRdKT8hMDohMX0sdGFyZ2V0SXNDb21tZW50VGV4dEFyZWE6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yLmdldElucHV0RWxlbWVudCgpPT09ZS50YXJnZXR9LHNhdmVDb21tZW50OmZ1bmN0aW9uKCl7aWYoIXRoaXMucmFuZ2UuZnJvbSl0aHJvdyBuZXcgRXJyb3IoJ0JlZm9yZSB1c2luZyB0aGlzIG1ldGhvZCwgZmlyc3Qgc2V0IGNlbGwgcmFuZ2UgKGhvdC5nZXRQbHVnaW4oImNvbW1lbnQiKS5zZXRSYW5nZSgpKScpO3ZhciBlPXRoaXMuZWRpdG9yLmdldFZhbHVlKCksdD10aGlzLnJhbmdlLmZyb20ucm93LG49dGhpcy5yYW5nZS5mcm9tLmNvbDt0aGlzLmhvdC5zZXRDZWxsTWV0YSh0LG4sImNvbW1lbnQiLGUpLHRoaXMuaG90LnJlbmRlcigpfSxzYXZlQ29tbWVudEF0Q2VsbDpmdW5jdGlvbihlLHQpe3RoaXMuc2V0UmFuZ2Uoe2Zyb206bmV3IHYoZSx0KX0pLHRoaXMuc2F2ZUNvbW1lbnQoKX0scmVtb3ZlQ29tbWVudDpmdW5jdGlvbigpe2lmKCF0aGlzLnJhbmdlLmZyb20pdGhyb3cgbmV3IEVycm9yKCdCZWZvcmUgdXNpbmcgdGhpcyBtZXRob2QsIGZpcnN0IHNldCBjZWxsIHJhbmdlIChob3QuZ2V0UGx1Z2luKCJjb21tZW50Iikuc2V0UmFuZ2UoKSknKTt0aGlzLmhvdC5yZW1vdmVDZWxsTWV0YSh0aGlzLnJhbmdlLmZyb20ucm93LHRoaXMucmFuZ2UuZnJvbS5jb2wsImNvbW1lbnQiKSx0aGlzLmhvdC5yZW5kZXIoKSx0aGlzLmhpZGUoKX0scmVtb3ZlQ29tbWVudEF0Q2VsbDpmdW5jdGlvbihlLHQpe3RoaXMuc2V0UmFuZ2Uoe2Zyb206bmV3IHYoZSx0KX0pLHRoaXMucmVtb3ZlQ29tbWVudCgpfSxzaG93OmZ1bmN0aW9uKCl7aWYoIXRoaXMucmFuZ2UuZnJvbSl0aHJvdyBuZXcgRXJyb3IoJ0JlZm9yZSB1c2luZyB0aGlzIG1ldGhvZCwgZmlyc3Qgc2V0IGNlbGwgcmFuZ2UgKGhvdC5nZXRQbHVnaW4oImNvbW1lbnQiKS5zZXRSYW5nZSgpKScpO3ZhciBlPXRoaXMuaG90LmdldENlbGxNZXRhKHRoaXMucmFuZ2UuZnJvbS5yb3csdGhpcy5yYW5nZS5mcm9tLmNvbCk7cmV0dXJuIHRoaXMucmVmcmVzaEVkaXRvclBvc2l0aW9uKCEwKSx0aGlzLmVkaXRvci5zZXRWYWx1ZShlLmNvbW1lbnR8fCIiKSx0aGlzLmVkaXRvci5zaG93KCksITB9LHNob3dBdENlbGw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zZXRSYW5nZSh7ZnJvbTpuZXcgdihlLHQpfSksdGhpcy5zaG93KCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5oaWRlKCl9LHJlZnJlc2hFZGl0b3JQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ITE7aWYoZXx8dGhpcy5yYW5nZS5mcm9tJiZ0aGlzLmVkaXRvci5pc1Zpc2libGUoKSl7dmFyIHQ9dGhpcy5ob3Qudmlldy53dC53dFRhYmxlLmdldENlbGwodGhpcy5yYW5nZS5mcm9tKSxuPWcodCksbz10aGlzLmhvdC5nZXRDb2xXaWR0aCh0aGlzLnJhbmdlLmZyb20uY29sKSxyPW4udG9wLGk9bi5sZWZ0LHM9MCxhPTA7dGhpcy5ob3Qudmlldy53dC53dFZpZXdwb3J0Lmhhc1ZlcnRpY2FsU2Nyb2xsKCkmJihyLT10aGlzLmhvdC52aWV3Lnd0Lnd0T3ZlcmxheXMudG9wT3ZlcmxheS5nZXRTY3JvbGxQb3NpdGlvbigpLHM9MjApLHRoaXMuaG90LnZpZXcud3Qud3RWaWV3cG9ydC5oYXNIb3Jpem9udGFsU2Nyb2xsKCkmJihpLT10aGlzLmhvdC52aWV3Lnd0Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkuZ2V0U2Nyb2xsUG9zaXRpb24oKSxhPTIwKTt2YXIgbD1pK28sdT1yLGM9dGhpcy5ob3Qudmlldy53dC53dFRhYmxlLmhvbGRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxkPXtsZWZ0OmMubGVmdCtoKCkrYSxyaWdodDpjLnJpZ2h0K2goKS0xNSwKdG9wOmMudG9wK2YoKStzLGJvdHRvbTpjLmJvdHRvbStmKCl9O2w8PWQubGVmdHx8bD5kLnJpZ2h0fHx1PD1kLnRvcHx8dT5kLmJvdHRvbT90aGlzLmhpZGUoKTp0aGlzLmVkaXRvci5zZXRQb3NpdGlvbihsLHUpfX0sb25Nb3VzZURvd246ZnVuY3Rpb24oZSl7dGhpcy5tb3VzZURvd249ITAsdGhpcy5ob3QudmlldyYmdGhpcy5ob3Qudmlldy53dCYmKHRoaXMuY29udGV4dE1lbnVFdmVudHx8dGhpcy50YXJnZXRJc0NvbW1lbnRUZXh0QXJlYShlKXx8dGhpcy50YXJnZXRJc0NlbGxXaXRoQ29tbWVudChlKXx8dGhpcy5oaWRlKCksdGhpcy5jb250ZXh0TWVudUV2ZW50PSExKX0sb25Nb3VzZU92ZXI6ZnVuY3Rpb24oZSl7aWYoIXRoaXMubW91c2VEb3duJiYhdGhpcy5lZGl0b3IuaXNGb2N1c2VkKCkpaWYodGhpcy50YXJnZXRJc0NlbGxXaXRoQ29tbWVudChlKSl7dmFyIHQ9dGhpcy5ob3Qudmlldy53dC53dFRhYmxlLmdldENvb3JkcyhlLnRhcmdldCksbj17ZnJvbTpuZXcgdih0LnJvdyx0LmNvbCl9O3RoaXMuc2V0UmFuZ2UobiksdGhpcy5zaG93KCl9ZWxzZSB0aGlzLnRhcmdldElzQ29tbWVudFRleHRBcmVhKGUpfHx0aGlzLmVkaXRvci5pc0ZvY3VzZWQoKXx8dGhpcy5oaWRlKCl9LG9uTW91c2VNb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy50YXJnZXRJc0NvbW1lbnRUZXh0QXJlYShlKSYmKHRoaXMubW91c2VEb3duPSEwLGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSx0aGlzLnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Lm1vdXNlRG93bj0hMX0sMjAwKSl9LG9uTW91c2VVcDpmdW5jdGlvbihlKXt0aGlzLm1vdXNlRG93bj0hMX0sb25BZnRlclJlbmRlcmVyOmZ1bmN0aW9uKGUsdCl7dC5jb21tZW50JiZjKGUsdC5jb21tZW50ZWRDZWxsQ2xhc3NOYW1lKX0sb25FZGl0b3JCbHVyOmZ1bmN0aW9uKGUpe3RoaXMuc2F2ZUNvbW1lbnQoKX0sY2hlY2tTZWxlY3Rpb25Db21tZW50c0NvbnNpc3RlbmN5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3QuZ2V0U2VsZWN0ZWRSYW5nZSgpO2lmKCFlKXJldHVybiExO3ZhciB0PSExLG49ZS5mcm9tO3JldHVybiB0aGlzLmhvdC5nZXRDZWxsTWV0YShuLnJvdyxuLmNvbCkuY29tbWVudCYmKHQ9ITApLHR9LG9uQ29udGV4dE1lbnVBZGRDb21tZW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuaG90LmdldFNlbGVjdGVkUmFuZ2UoKTt0aGlzLmNvbnRleHRNZW51RXZlbnQ9ITAsdGhpcy5zZXRSYW5nZSh7ZnJvbTp0LmZyb219KSx0aGlzLnNob3coKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5ob3QmJihlLmhvdC5kZXNlbGVjdENlbGwoKSxlLmVkaXRvci5mb2N1cygpKX0sMTApfSxvbkNvbnRleHRNZW51UmVtb3ZlQ29tbWVudDpmdW5jdGlvbihlLHQpe3RoaXMuY29udGV4dE1lbnVFdmVudD0hMCx0aGlzLnJlbW92ZUNvbW1lbnRBdENlbGwodC5zdGFydC5yb3csdC5zdGFydC5jb2wpfSxhZGRUb0NvbnRleHRNZW51OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS5pdGVtcy5wdXNoKEhhbmRzb250YWJsZS5wbHVnaW5zLkNvbnRleHRNZW51LlNFUEFSQVRPUix7a2V5OiJjb21tZW50c0FkZEVkaXQiLG5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdC5jaGVja1NlbGVjdGlvbkNvbW1lbnRzQ29uc2lzdGVuY3koKT8iRWRpdCBDb21tZW50IjoiQWRkIENvbW1lbnQifSxjYWxsYmFjazpmdW5jdGlvbigpe3JldHVybiB0Lm9uQ29udGV4dE1lbnVBZGRDb21tZW50KCl9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VsZWN0ZWQoKT8hMTohMH19LHtrZXk6ImNvbW1lbnRzUmVtb3ZlIixuYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIkRlbGV0ZSBDb21tZW50In0sY2FsbGJhY2s6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdC5vbkNvbnRleHRNZW51UmVtb3ZlQ29tbWVudChlLG4pfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiF0LmNoZWNrU2VsZWN0aW9uQ29tbWVudHNDb25zaXN0ZW5jeSgpfX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lZGl0b3ImJnRoaXMuZWRpdG9yLmRlc3Ryb3koKSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxfLnByb3RvdHlwZSwiZGVzdHJveSIpLmNhbGwodGhpcyl9fSx7fSxiKSx5KCJjb21tZW50cyIsUil9LHsiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIjo1LF9iYXNlOjU4LGNvbW1lbnRFZGl0b3I6NjMsZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSxwbHVnaW5zOjU3fV0sNjU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlLHQpe3ZhciBuO3JldHVybiBpKHQsZnVuY3Rpb24odCl7dmFyIG89dC5rZXk/dC5rZXkuc3BsaXQoIjoiKTpudWxsO3JldHVybiBBcnJheS5pc0FycmF5KG8pJiZvWzFdPT09ZT8obj10LCExKTp2b2lkIDB9KSxufU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0NvbW1hbmRFeGVjdXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpPShyPWUoImhlbHBlcnMvYXJyYXkiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLmFycmF5RWFjaCxzPWZ1bmN0aW9uKGUpe3RoaXMuaG90PWUsdGhpcy5jb21tYW5kcz17fSx0aGlzLmNvbW1vbkNhbGxiYWNrPW51bGx9OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhzLHtyZWdpc3RlckNvbW1hbmQ6ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbW1hbmRzW2VdPXR9LHNldENvbW1vbkNhbGxiYWNrOmZ1bmN0aW9uKGUpe3RoaXMuY29tbW9uQ2FsbGJhY2s9ZX0sZXhlY3V0ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTt2YXIgcj10aGlzLHM9ZS5zcGxpdCgiOiIpO2U9c1swXTt2YXIgYT0yPT09cy5sZW5ndGg/c1sxXTpudWxsLGw9dGhpcy5jb21tYW5kc1tlXTtpZighbCl0aHJvdyBuZXcgRXJyb3IoIk1lbnUgY29tbWFuZCAnIitlKyInIG5vdCBleGlzdHMuIik7aWYoYSYmbC5zdWJtZW51JiYobD1vKGEsbC5zdWJtZW51Lml0ZW1zKSksbC5kaXNhYmxlZCE9PSEwJiYoImZ1bmN0aW9uIiE9dHlwZW9mIGwuZGlzYWJsZWR8fGwuZGlzYWJsZWQuY2FsbCh0aGlzLmhvdCkhPT0hMCkmJiFsLmhhc093blByb3BlcnR5KCJzdWJtZW51Iikpe3ZhciB1PVtdOyJmdW5jdGlvbiI9PXR5cGVvZiBsLmNhbGxiYWNrJiZ1LnB1c2gobC5jYWxsYmFjayksImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuY29tbW9uQ2FsbGJhY2smJnUucHVzaCh0aGlzLmNvbW1vbkNhbGxiYWNrKSx0LnVuc2hpZnQocy5qb2luKCI6IikpLGkodSxmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBseShyLmhvdCx0KX0pfX19LHt9KX0seyJoZWxwZXJzL2FycmF5Ijo0Mn1dLDY2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0NvbnRleHRNZW51OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGEsbCx1LGMsZCxoLGEsZixwPShvPWUoIl9iYXNlIiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KVsiZGVmYXVsdCJdLGc9KHI9ZSgiaGVscGVycy9hcnJheSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuYXJyYXlFYWNoLG09KGk9ZSgiY29tbWFuZEV4ZWN1dG9yIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5Db21tYW5kRXhlY3V0b3Isdj0ocz1lKCJldmVudE1hbmFnZXIiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLkV2ZW50TWFuYWdlcix3PShhPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLmhhc0NsYXNzLHk9KGw9ZSgiaXRlbXNGYWN0b3J5IiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5JdGVtc0ZhY3RvcnksYj0odT1lKCJtZW51IiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5NZW51LEM9KGM9ZSgiaGVscGVycy9vYmplY3QiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y30pLFI9KEMub2JqZWN0RWFjaCxDLm1peGluLChkPWUoInBsdWdpbnMiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLnJlZ2lzdGVyUGx1Z2luKSxfPShoPWUoImhlbHBlcnMvZG9tL2V2ZW50IiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KSxTPV8uc3RvcFByb3BhZ2F0aW9uLEU9Xy5wYWdlWCxUPV8ucGFnZVksTT0oYT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KSxPPU0uZ2V0V2luZG93U2Nyb2xsTGVmdCxrPU0uZ2V0V2luZG93U2Nyb2xsVG9wLEg9KGY9ZSgicHJlZGVmaW5lZEl0ZW1zIiksZiYmZi5fX2VzTW9kdWxlJiZmfHx7ImRlZmF1bHQiOmZ9KSxEPUguUk9XX0FCT1ZFLHg9SC5ST1dfQkVMT1csQT1ILkNPTFVNTl9MRUZULFA9SC5DT0xVTU5fUklHSFQsTj1ILlJFTU9WRV9ST1csTD1ILlJFTU9WRV9DT0xVTU4sVz1ILlVORE8sST1ILlJFRE8saj1ILlJFQURfT05MWSxWPUguQUxJR05NRU5ULEI9SC5TRVBBUkFUT1IsRj0oSC5wcmVkZWZpbmVkSXRlbXMsZnVuY3Rpb24oZSl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoeikuY2FsbCh0aGlzLGUpLHRoaXMuZXZlbnRNYW5hZ2VyPW5ldyB2KHRoaXMpLHRoaXMuY29tbWFuZEV4ZWN1dG9yPW5ldyBtKHRoaXMuaG90KSx0aGlzLml0ZW1zRmFjdG9yeT1udWxsLHRoaXMubWVudT1udWxsfSksej1GOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhGLHtpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5jb250ZXh0TWVudX0sZW5hYmxlUGx1Z2luOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5lbmFibGVkKXt0aGlzLml0ZW1zRmFjdG9yeT1uZXcgeSh0aGlzLmhvdCx6LkRFRkFVTFRfSVRFTVMpO3ZhciB0PXRoaXMuaG90LmdldFNldHRpbmdzKCkuY29udGV4dE1lbnUsbj17aXRlbXM6dGhpcy5pdGVtc0ZhY3RvcnkuZ2V0VmlzaWJsZUl0ZW1zKHQpfTt0aGlzLnJlZ2lzdGVyRXZlbnRzKCksImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGJhY2smJnRoaXMuY29tbWFuZEV4ZWN1dG9yLnNldENvbW1vbkNhbGxiYWNrKHQuY2FsbGJhY2spLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLHoucHJvdG90eXBlLCJlbmFibGVQbHVnaW4iKS5jYWxsKHRoaXMpLHRoaXMuY2FsbE9uUGx1Z2luc1JlYWR5KGZ1bmN0aW9uKCl7ZS5ob3QucnVuSG9va3MoImFmdGVyQ29udGV4dE1lbnVEZWZhdWx0T3B0aW9ucyIsbiksZS5pdGVtc0ZhY3Rvcnkuc2V0UHJlZGVmaW5lZEl0ZW1zKG4uaXRlbXMpO3ZhciBvPWUuaXRlbXNGYWN0b3J5LmdldFZpc2libGVJdGVtcyh0KTtlLm1lbnU9bmV3IGIoZS5ob3Qse2NsYXNzTmFtZToiaHRDb250ZXh0TWVudSIsa2VlcEluVmlld3BvcnQ6ITB9KSxlLm1lbnUuc2V0TWVudUl0ZW1zKG8pLGUubWVudS5hZGRMb2NhbEhvb2soImFmdGVyT3BlbiIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbk1lbnVBZnRlck9wZW4oKX0pLGUubWVudS5hZGRMb2NhbEhvb2soImFmdGVyQ2xvc2UiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25NZW51QWZ0ZXJDbG9zZSgpfSksZS5tZW51LmFkZExvY2FsSG9vaygiZXhlY3V0ZUNvbW1hbmQiLGZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiBlLmV4ZWN1dGVDb21tYW5kLmFwcGx5KGUsdCl9KSxnKG8sZnVuY3Rpb24odCl7cmV0dXJuIGUuY29tbWFuZEV4ZWN1dG9yLnJlZ2lzdGVyQ29tbWFuZCh0LmtleSx0KX0pfSl9fSx1cGRhdGVQbHVnaW46ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVQbHVnaW4oKSx0aGlzLmVuYWJsZVBsdWdpbigpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLHoucHJvdG90eXBlLCJ1cGRhdGVQbHVnaW4iKS5jYWxsKHRoaXMpfSxkaXNhYmxlUGx1Z2luOmZ1bmN0aW9uKCl7dGhpcy5jbG9zZSgpLHRoaXMubWVudSYmKHRoaXMubWVudS5kZXN0cm95KCksdGhpcy5tZW51PW51bGwpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLHoucHJvdG90eXBlLCJkaXNhYmxlUGx1Z2luIikuY2FsbCh0aGlzKX0scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ob3Qucm9vdEVsZW1lbnQsImNvbnRleHRtZW51IixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbkNvbnRleHRNZW51KHQpfSl9LG9wZW46ZnVuY3Rpb24oZSl7dGhpcy5tZW51JiYodGhpcy5tZW51Lm9wZW4oKSx0aGlzLm1lbnUuc2V0UG9zaXRpb24oe3RvcDpwYXJzZUludChUKGUpLDEwKS1rKCksbGVmdDpwYXJzZUludChFKGUpLDEwKS1PKCl9KSx0aGlzLm1lbnUuaG90TWVudS5pc0hvdFRhYmxlRW52PXRoaXMuaG90LmlzSG90VGFibGVFbnYsSGFuZHNvbnRhYmxlLmV2ZW50TWFuYWdlci5pc0hvdFRhYmxlRW52PXRoaXMuaG90LmlzSG90VGFibGVFbnYpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMubWVudSYmdGhpcy5tZW51LmNsb3NlKCl9LGV4ZWN1dGVDb21tYW5kOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3RoaXMuY29tbWFuZEV4ZWN1dG9yLmV4ZWN1dGUuYXBwbHkodGhpcy5jb21tYW5kRXhlY3V0b3IsZSl9LG9uQ29udGV4dE1lbnU6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4iVEQiPT09ZS5ub2RlTmFtZXx8IlREIj09PWUucGFyZW50Tm9kZS5ub2RlTmFtZX12YXIgbj10aGlzLmhvdC5nZXRTZXR0aW5ncygpLG89bi5yb3dIZWFkZXJzLHI9bi5jb2xIZWFkZXJzLGk9ZS5yZWFsVGFyZ2V0O2lmKHRoaXMuY2xvc2UoKSxlLnByZXZlbnREZWZhdWx0KCksUyhlKSxvfHxyKXtpZihvJiZyKXt2YXIgcz1pLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgiLmNvcm5lckhlYWRlciIpLmxlbmd0aD4wO2lmKHMpcmV0dXJufX1lbHNlIGlmKCEodChpKXx8dyhpLCJjdXJyZW50IikmJncoaSwid3RCb3JkZXIiKSkpcmV0dXJuO3RoaXMub3BlbihlKX0sb25NZW51QWZ0ZXJPcGVuOmZ1bmN0aW9uKCl7dGhpcy5ob3QucnVuSG9va3MoImFmdGVyQ29udGV4dE1lbnVTaG93Iix0aGlzKX0sb25NZW51QWZ0ZXJDbG9zZTpmdW5jdGlvbigpe3RoaXMuaG90Lmxpc3RlbigpLHRoaXMuaG90LnJ1bkhvb2tzKCJhZnRlckNvbnRleHRNZW51SGlkZSIsdGhpcyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCksdGhpcy5tZW51JiZ0aGlzLm1lbnUuZGVzdHJveSgpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLHoucHJvdG90eXBlLCJkZXN0cm95IikuY2FsbCh0aGlzKX19LHtnZXQgREVGQVVMVF9JVEVNUygpe3JldHVybltELHgsQixBLFAsQixOLEwsQixXLEksQixqLEIsVl19fSxwKSxGLlNFUEFSQVRPUj17bmFtZTpCfSxIYW5kc29udGFibGUuaG9va3MucmVnaXN0ZXIoImFmdGVyQ29udGV4dE1lbnVEZWZhdWx0T3B0aW9ucyIpLEhhbmRzb250YWJsZS5ob29rcy5yZWdpc3RlcigiYWZ0ZXJDb250ZXh0TWVudVNob3ciKSxIYW5kc29udGFibGUuaG9va3MucmVnaXN0ZXIoImFmdGVyQ29udGV4dE1lbnVIaWRlIiksSGFuZHNvbnRhYmxlLmhvb2tzLnJlZ2lzdGVyKCJhZnRlckNvbnRleHRNZW51RXhlY3V0ZSIpLFIoImNvbnRleHRNZW51IixGKX0se19iYXNlOjU4LGNvbW1hbmRFeGVjdXRvcjo2NSxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSwiaGVscGVycy9kb20vZXZlbnQiOjQ2LCJoZWxwZXJzL29iamVjdCI6NTAsaXRlbXNGYWN0b3J5OjY4LG1lbnU6NjkscGx1Z2luczo1NyxwcmVkZWZpbmVkSXRlbXM6NzB9XSw2NzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtDdXJzb3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBkfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpPShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLHM9aS5nZXRXaW5kb3dTY3JvbGxMZWZ0LGE9aS5nZXRXaW5kb3dTY3JvbGxUb3AsbD0ocj1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksdT1sLnBhZ2VYLGM9bC5wYWdlWSxkPWZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxyLGksbCxkPWEoKSxoPXMoKTt0aGlzLnR5cGU9dGhpcy5nZXRTb3VyY2VUeXBlKGUpLCJsaXRlcmFsIj09PXRoaXMudHlwZT8odD1wYXJzZUludChlLnRvcCwxMCksbz1wYXJzZUludChlLmxlZnQsMTApLGk9ZS5oZWlnaHR8fDAsbD1lLndpZHRofHwwLG49dCxyPW8sdCs9ZCxvKz1oKToiZXZlbnQiPT09dGhpcy50eXBlJiYodD1wYXJzZUludChjKGUpLDEwKSxvPXBhcnNlSW50KHUoZSksMTApLGk9ZS50YXJnZXQuY2xpZW50SGVpZ2h0LGw9ZS50YXJnZXQuY2xpZW50V2lkdGgsbj10LWQscj1vLWgpLHRoaXMudG9wPXQsdGhpcy50b3BSZWxhdGl2ZT1uLHRoaXMubGVmdD1vLHRoaXMubGVmdFJlbGF0aXZlPXIsdGhpcy5zY3JvbGxUb3A9ZCx0aGlzLnNjcm9sbExlZnQ9aCx0aGlzLmNlbGxIZWlnaHQ9aSx0aGlzLmNlbGxXaWR0aD1sfTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoZCx7Z2V0U291cmNlVHlwZTpmdW5jdGlvbihlKXt2YXIgdD0ibGl0ZXJhbCI7cmV0dXJuIGUgaW5zdGFuY2VvZiBFdmVudCYmKHQ9ImV2ZW50IiksdH0sZml0c0Fib3ZlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRvcFJlbGF0aXZlPj1lLm9mZnNldEhlaWdodH0sZml0c0JlbG93OmZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06d2luZG93LmlubmVySGVpZ2h0O3JldHVybiB0aGlzLnRvcFJlbGF0aXZlK2Uub2Zmc2V0SGVpZ2h0PD10fSxmaXRzT25SaWdodDpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOndpbmRvdy5pbm5lcldpZHRoO3JldHVybiB0aGlzLmxlZnRSZWxhdGl2ZSt0aGlzLmNlbGxXaWR0aCtlLm9mZnNldFdpZHRoPD10fSxmaXRzT25MZWZ0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxlZnRSZWxhdGl2ZT49ZS5vZmZzZXRXaWR0aH19LHt9KSxIYW5kc29udGFibGUucGx1Z2lucy51dGlscz1IYW5kc29udGFibGUucGx1Z2lucy51dGlsc3x8e30sSGFuZHNvbnRhYmxlLnBsdWdpbnMudXRpbHMuQ3Vyc29yPWR9LHsiaGVscGVycy9kb20vZWxlbWVudCI6NDUsImhlbHBlcnMvZG9tL2V2ZW50Ijo0Nn1dLDY4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGwsdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLG49dm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxvPVtdO3JldHVybiBlJiZlLml0ZW1zP2U9ZS5pdGVtczpBcnJheS5pc0FycmF5KGUpfHwoZT10KSx1KGUpP2woZSxmdW5jdGlvbihlLHQpe3ZhciByPW5bInN0cmluZyI9PXR5cGVvZiBlP2U6dF07cnx8KHI9ZSksdShlKT9jKHIsZSk6InN0cmluZyI9PXR5cGVvZiByJiYocj17bmFtZTpyfSksdm9pZCAwPT09ci5rZXkmJihyLmtleT10KSxvLnB1c2gocil9KTpkKGUsZnVuY3Rpb24oZSx0KXt2YXIgcj1uW2VdOyFyJiZwLmluZGV4T2YoZSk+PTB8fChyfHwocj17bmFtZTplLGtleTp0KyIifSksdShlKSYmYyhyLGUpLHZvaWQgMD09PXIua2V5JiYoci5rZXk9dCksby5wdXNoKHIpKX0pLG9bMF0ubmFtZT09PWYmJm8uc2hpZnQoKSxvfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0l0ZW1zRmFjdG9yeTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG19fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHMsYT0ocj1lKCJoZWxwZXJzL29iamVjdCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksbD1hLm9iamVjdEVhY2gsdT1hLmlzT2JqZWN0LGM9YS5leHRlbmQsZD0oaT1lKCJoZWxwZXJzL2FycmF5IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5hcnJheUVhY2gsaD0ocz1lKCJwcmVkZWZpbmVkSXRlbXMiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLGY9aC5TRVBBUkFUT1IscD1oLklURU1TLGc9aC5wcmVkZWZpbmVkSXRlbXMsbT1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7dGhpcy5ob3Q9ZSx0aGlzLnByZWRlZmluZWRJdGVtcz1nKCksdGhpcy5kZWZhdWx0T3JkZXJQYXR0ZXJuPXR9OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhtLHtzZXRQcmVkZWZpbmVkSXRlbXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXt9O3RoaXMuZGVmYXVsdE9yZGVyUGF0dGVybi5sZW5ndGg9MCxsKGUsZnVuY3Rpb24oZSxvKXt2YXIgcj0iIjtlLm5hbWU9PT1mPyhuW2ZdPWUscj1mKTppc05hTihwYXJzZUludChvLDEwKSk/KGUua2V5PXZvaWQgMD09PWUua2V5P286ZS5rZXksbltvXT1lLHI9ZS5rZXkpOihuW2Uua2V5XT1lLHI9ZS5rZXkpLHQuZGVmYXVsdE9yZGVyUGF0dGVybi5wdXNoKHIpfSksdGhpcy5wcmVkZWZpbmVkSXRlbXM9bn0sZ2V0VmlzaWJsZUl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsLHQ9dGhpcyxuPXt9O3JldHVybiBsKHRoaXMucHJlZGVmaW5lZEl0ZW1zLGZ1bmN0aW9uKGUsbyl7KCFlLmhpZGRlbnx8ZS5oaWRkZW4mJiFlLmhpZGRlbi5hcHBseSh0LmhvdCkpJiYobltvXT1lKX0pLG8oZSx0aGlzLmRlZmF1bHRPcmRlclBhdHRlcm4sbil9LGdldEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO3JldHVybiBvKGUsdGhpcy5kZWZhdWx0T3JkZXJQYXR0ZXJuLHRoaXMucHJlZGVmaW5lZEl0ZW1zKX19LHt9KX0seyJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9vYmplY3QiOjUwLHByZWRlZmluZWRJdGVtczo3MH1dLDY5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se01lbnU6e2dldDpmdW5jdGlvbigpe3JldHVybiBCfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsYSxsLHUsYyxkLGgsZixwPShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLGc9cC5hZGRDbGFzcyxtPXAuZW1wdHksdj1wLmZhc3RJbm5lckhUTUwsdz0ocC5nZXRDb21wdXRlZFN0eWxlLHAuZ2V0U2Nyb2xsYmFyV2lkdGgpLHk9KHAuZ2V0V2luZG93U2Nyb2xsTGVmdCxwLmdldFdpbmRvd1Njcm9sbFRvcCxwLmhhc0NsYXNzLHAuaXNDaGlsZE9mKSxiPXAucmVtb3ZlQ2xhc3MsQz0ocj1lKCJoZWxwZXJzL2FycmF5IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSxSPUMuYXJyYXlFYWNoLF89Qy5hcnJheVJlZHVjZSxTPShpPWUoImN1cnNvciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuQ3Vyc29yLEU9KHM9ZSgiZXZlbnRNYW5hZ2VyIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5FdmVudE1hbmFnZXIsVD0oYT1lKCJoZWxwZXJzL29iamVjdCIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSksTT0oVC5leHRlbmQsVC5pc09iamVjdCxULm9iamVjdEVhY2gsVC5taXhpbiksTz0obD1lKCJoZWxwZXJzL2Z1bmN0aW9uIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5kZWJvdW5jZSxrPSh1PWUoInV0aWxzIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KSxIPWsuaXNTZXBhcmF0b3IsRD1rLmlzRGlzYWJsZWQseD1rLmlzU2VsZWN0aW9uRGlzYWJsZWQsQT1rLmhhc1N1Yk1lbnUsUD1rLm5vcm1hbGl6ZVNlbGVjdGlvbixOPShjPWUoImhlbHBlcnMvdW5pY29kZSIpLGMmJmMuX19lc01vZHVsZSYmY3x8eyJkZWZhdWx0IjpjfSkuS0VZX0NPREVTLEw9KGQ9ZSgibWl4aW5zL2xvY2FsSG9va3MiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLmxvY2FsSG9va3MsVz0oaD1lKCJwcmVkZWZpbmVkSXRlbXMiKSxoJiZoLl9fZXNNb2R1bGUmJmh8fHsiZGVmYXVsdCI6aH0pLEk9Vy5TRVBBUkFUT1Isaj0oVy5wcmVkZWZpbmVkSXRlbXMsZj1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLGYmJmYuX19lc01vZHVsZSYmZnx8eyJkZWZhdWx0IjpmfSksVj0oai5zdG9wUHJvcGFnYXRpb24sai5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pLEI9KGoucGFnZVgsai5wYWdlWSxmdW5jdGlvbihlLHQpe3RoaXMuaG90PWUsdGhpcy5vcHRpb25zPXR8fHtwYXJlbnQ6bnVsbCxuYW1lOm51bGwsY2xhc3NOYW1lOiIiLGtlZXBJblZpZXdwb3J0OiEwLHN0YW5kYWxvbmU6ITF9LHRoaXMuZXZlbnRNYW5hZ2VyPW5ldyBFKHRoaXMpLHRoaXMuY29udGFpbmVyPXRoaXMuY3JlYXRlQ29udGFpbmVyKHRoaXMub3B0aW9ucy5uYW1lKSx0aGlzLmhvdE1lbnU9bnVsbCx0aGlzLmhvdFN1Yk1lbnVzPXt9LHRoaXMucGFyZW50TWVudT10aGlzLm9wdGlvbnMucGFyZW50fHxudWxsLHRoaXMubWVudUl0ZW1zPW51bGwsdGhpcy5vcmlnT3V0c2lkZUNsaWNrRGVzZWxlY3RzPW51bGwsdGhpcy5vZmZzZXQ9e2Fib3ZlOjAsYmVsb3c6MCxsZWZ0OjAscmlnaHQ6MH0sdGhpcy5fYWZ0ZXJTY3JvbGxDYWxsYmFjaz1udWxsLHRoaXMucmVnaXN0ZXJFdmVudHMoKX0pLEY9QjskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoQix7cmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCJtb3VzZWRvd24iLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uRG9jdW1lbnRNb3VzZURvd24odCl9KX0sc2V0TWVudUl0ZW1zOmZ1bmN0aW9uKGUpe3RoaXMubWVudUl0ZW1zPWV9LHNldE9mZnNldDpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7dGhpcy5vZmZzZXRbZV09dH0saXNTdWJNZW51OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLnBhcmVudE1lbnV9LG9wZW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSx0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PSJibG9jayI7dmFyIHQ9TyhmdW5jdGlvbih0KXtyZXR1cm4gZS5vcGVuU3ViTWVudSh0KX0sMzAwKSxuPXtkYXRhOnRoaXMubWVudUl0ZW1zLGNvbEhlYWRlcnM6ITEsY29sV2lkdGhzOlsyMDBdLGF1dG9Sb3dTaXplOiExLHJlYWRPbmx5OiEwLGNvcHlQYXN0ZTohMSxjb2x1bW5zOlt7ZGF0YToibmFtZSIscmVuZGVyZXI6ZnVuY3Rpb24odCxuLG8scixpLHMpe3JldHVybiBlLm1lbnVJdGVtUmVuZGVyZXIodCxuLG8scixpLHMpfX1dLHJlbmRlckFsbFJvd3M6ITAsZnJhZ21lbnRTZWxlY3Rpb246ImNlbGwiLGJlZm9yZUtleURvd246ZnVuY3Rpb24odCl7cmV0dXJuIGUub25CZWZvcmVLZXlEb3duKHQpfSxhZnRlck9uQ2VsbE1vdXNlT3ZlcjpmdW5jdGlvbihuLG8scil7ZS5pc0FsbFN1Yk1lbnVzQ2xvc2VkKCk/dChvLnJvdyk6ZS5vcGVuU3ViTWVudShvLnJvdyl9fTt0aGlzLm9yaWdPdXRzaWRlQ2xpY2tEZXNlbGVjdHM9dGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5vdXRzaWRlQ2xpY2tEZXNlbGVjdHMsdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5vdXRzaWRlQ2xpY2tEZXNlbGVjdHM9ITEsdGhpcy5ob3RNZW51PW5ldyBIYW5kc29udGFibGUuQ29yZSh0aGlzLmNvbnRhaW5lcixuKSx0aGlzLmhvdE1lbnUuYWRkSG9vaygiYWZ0ZXJJbml0IixmdW5jdGlvbigpe3JldHVybiBlLm9uQWZ0ZXJJbml0KCl9KSx0aGlzLmhvdE1lbnUuaW5pdCgpLHRoaXMuaG90TWVudS5saXN0ZW4oKSx0aGlzLmJsb2NrTWFpblRhYmxlQ2FsbGJhY2tzKCksdGhpcy5ydW5Mb2NhbEhvb2tzKCJhZnRlck9wZW4iKX0sY2xvc2U6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiExO3RoaXMuaXNPcGVuZWQoKSYmKGUmJnRoaXMucGFyZW50TWVudT90aGlzLnBhcmVudE1lbnUuY2xvc2UoKToodGhpcy5jbG9zZUFsbFN1Yk1lbnVzKCksdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5yZWxlYXNlTWFpblRhYmxlQ2FsbGJhY2tzKCksdGhpcy5ob3RNZW51LmRlc3Ryb3koKSx0aGlzLmhvdE1lbnU9bnVsbCx0aGlzLmhvdC5nZXRTZXR0aW5ncygpLm91dHNpZGVDbGlja0Rlc2VsZWN0cz10aGlzLm9yaWdPdXRzaWRlQ2xpY2tEZXNlbGVjdHMsdGhpcy5ydW5Mb2NhbEhvb2tzKCJhZnRlckNsb3NlIikpKX0sb3BlblN1Yk1lbnU6ZnVuY3Rpb24oZSl7aWYodGhpcy5ob3RNZW51KXt2YXIgdD10aGlzLmhvdE1lbnUuZ2V0Q2VsbChlLDApO2lmKHRoaXMuY2xvc2VBbGxTdWJNZW51cygpLCF0fHwhQSh0KSlyZXR1cm4hMTt2YXIgbj10aGlzLmhvdE1lbnUuZ2V0U291cmNlRGF0YUF0Um93KGUpLG89bmV3IEYodGhpcy5ob3Qse3BhcmVudDp0aGlzLG5hbWU6bi5uYW1lLGNsYXNzTmFtZTp0aGlzLm9wdGlvbnMuY2xhc3NOYW1lLGtlZXBJblZpZXdwb3J0OiEwfSk7cmV0dXJuIG8uc2V0TWVudUl0ZW1zKG4uc3VibWVudS5pdGVtcyksby5vcGVuKCksby5zZXRQb3NpdGlvbih0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSx0aGlzLmhvdFN1Yk1lbnVzW24ua2V5XT1vLG99fSxjbG9zZVN1Yk1lbnU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ob3RNZW51LmdldFNvdXJjZURhdGFBdFJvdyhlKSxuPXRoaXMuaG90U3ViTWVudXNbdC5rZXldO24mJihuLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5ob3RTdWJNZW51c1t0LmtleV0pfSxjbG9zZUFsbFN1Yk1lbnVzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztSKHRoaXMuaG90TWVudS5nZXREYXRhKCksZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5jbG9zZVN1Yk1lbnUobil9KX0saXNBbGxTdWJNZW51c0Nsb3NlZDpmdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5ob3RTdWJNZW51cykubGVuZ3RofSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jbGVhckxvY2FsSG9va3MoKSx0aGlzLmNsb3NlKCksdGhpcy5wYXJlbnRNZW51PW51bGwsdGhpcy5ldmVudE1hbmFnZXIuZGVzdHJveSgpfSxpc09wZW5lZDpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5ob3RNZW51fSxleGVjdXRlQ29tbWFuZDpmdW5jdGlvbihlKXtpZih0aGlzLmlzT3BlbmVkKCkmJnRoaXMuaG90TWVudS5nZXRTZWxlY3RlZCgpKXt2YXIgdD10aGlzLmhvdE1lbnUuZ2V0U291cmNlRGF0YUF0Um93KHRoaXMuaG90TWVudS5nZXRTZWxlY3RlZCgpWzBdKTtpZih0aGlzLnJ1bkxvY2FsSG9va3MoInNlbGVjdCIsdCxlKSx0LmlzQ29tbWFuZCE9PSExJiZ0Lm5hbWUhPT1JKXt2YXIgbj10aGlzLmhvdC5nZXRTZWxlY3RlZFJhbmdlKCksbz1uP1Aobik6e307dGhpcy5ydW5Mb2NhbEhvb2tzKCJleGVjdXRlQ29tbWFuZCIsdC5rZXksbyxlKSx0aGlzLmlzU3ViTWVudSgpJiZ0aGlzLnBhcmVudE1lbnUucnVuTG9jYWxIb29rcygiZXhlY3V0ZUNvbW1hbmQiLHQua2V5LG8sZSksdC5kaXNhYmxlZD09PSEwfHwiZnVuY3Rpb24iPT10eXBlb2YgdC5kaXNhYmxlZCYmdC5kaXNhYmxlZC5jYWxsKHRoaXMuaG90KT09PSEwfHx0LnN1Ym1lbnV8fHRoaXMuY2xvc2UoITApfX19LHNldFBvc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBTKGUpO3RoaXMub3B0aW9ucy5rZWVwSW5WaWV3cG9ydD8odC5maXRzQmVsb3codGhpcy5jb250YWluZXIpP3RoaXMuc2V0UG9zaXRpb25CZWxvd0N1cnNvcih0KTp0LmZpdHNBYm92ZSh0aGlzLmNvbnRhaW5lcik/dGhpcy5zZXRQb3NpdGlvbkFib3ZlQ3Vyc29yKHQpOnRoaXMuc2V0UG9zaXRpb25CZWxvd0N1cnNvcih0KSx0LmZpdHNPblJpZ2h0KHRoaXMuY29udGFpbmVyKT90aGlzLnNldFBvc2l0aW9uT25SaWdodE9mQ3Vyc29yKHQpOnRoaXMuc2V0UG9zaXRpb25PbkxlZnRPZkN1cnNvcih0KSk6KHRoaXMuc2V0UG9zaXRpb25CZWxvd0N1cnNvcih0KSx0aGlzLnNldFBvc2l0aW9uT25SaWdodE9mQ3Vyc29yKHQpKX0sc2V0UG9zaXRpb25BYm92ZUN1cnNvcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9mZnNldC5hYm92ZStlLnRvcC10aGlzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7dGhpcy5pc1N1Yk1lbnUoKSYmKHQ9ZS50b3ArZS5jZWxsSGVpZ2h0LXRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCszKSx0aGlzLmNvbnRhaW5lci5zdHlsZS50b3A9dCsicHgifSxzZXRQb3NpdGlvbkJlbG93Q3Vyc29yOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub2Zmc2V0LmJlbG93K2UudG9wO3RoaXMuaXNTdWJNZW51KCkmJih0PWUudG9wLTEpLHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcD10KyJweCJ9LHNldFBvc2l0aW9uT25SaWdodE9mQ3Vyc29yOmZ1bmN0aW9uKGUpe3ZhciB0O3Q9dGhpcy5pc1N1Yk1lbnUoKT8xK2UubGVmdCtlLmNlbGxXaWR0aDp0aGlzLm9mZnNldC5yaWdodCsxK2UubGVmdCx0aGlzLmNvbnRhaW5lci5zdHlsZS5sZWZ0PXQrInB4In0sc2V0UG9zaXRpb25PbkxlZnRPZkN1cnNvcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9mZnNldC5sZWZ0K2UubGVmdC10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCt3KCkrNDt0aGlzLmNvbnRhaW5lci5zdHlsZS5sZWZ0PXQrInB4In0sc2VsZWN0Rmlyc3RDZWxsOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3RNZW51LmdldENlbGwoMCwwKTtIKGUpfHxEKGUpfHx4KGUpP3RoaXMuc2VsZWN0TmV4dENlbGwoMCwwKTp0aGlzLmhvdE1lbnUuc2VsZWN0Q2VsbCgwLDApfSxzZWxlY3RMYXN0Q2VsbDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90TWVudS5jb3VudFJvd3MoKS0xLHQ9dGhpcy5ob3RNZW51LmdldENlbGwoZSwwKTtIKHQpfHxEKHQpfHx4KHQpP3RoaXMuc2VsZWN0UHJldkNlbGwoZSwwKTp0aGlzLmhvdE1lbnUuc2VsZWN0Q2VsbChlLDApfSxzZWxlY3ROZXh0Q2VsbDpmdW5jdGlvbihlLHQpe3ZhciBuPWUrMSxvPW48dGhpcy5ob3RNZW51LmNvdW50Um93cygpP3RoaXMuaG90TWVudS5nZXRDZWxsKG4sdCk6bnVsbDtvJiYoSChvKXx8RChvKXx8eChvKT90aGlzLnNlbGVjdE5leHRDZWxsKG4sdCk6dGhpcy5ob3RNZW51LnNlbGVjdENlbGwobix0KSl9LHNlbGVjdFByZXZDZWxsOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS0xLG89bj49MD90aGlzLmhvdE1lbnUuZ2V0Q2VsbChuLHQpOm51bGw7byYmKEgobyl8fEQobyl8fHgobyk/dGhpcy5zZWxlY3RQcmV2Q2VsbChuLHQpOnRoaXMuaG90TWVudS5zZWxlY3RDZWxsKG4sdCkpfSxtZW51SXRlbVJlbmRlcmVyOmZ1bmN0aW9uKGUsdCxuLG8scixpKXt2YXIgcz10aGlzLGE9ZS5nZXRTb3VyY2VEYXRhQXRSb3cobiksbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx1PWZ1bmN0aW9uKGUpe3JldHVybiBlLmhhc093blByb3BlcnR5KCJzdWJtZW51Iil9LGM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBSZWdFeHAoSSwiaSIpLnRlc3QoZS5uYW1lKX0sZD1mdW5jdGlvbihlKXtyZXR1cm4gZS5kaXNhYmxlZD09PSEwfHwiZnVuY3Rpb24iPT10eXBlb2YgZS5kaXNhYmxlZCYmZS5kaXNhYmxlZC5jYWxsKHMuaG90KT09PSEwfSxoPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlLmhpZGRlbiYmZS5oaWRkZW4uY2FsbChzLmhvdCk9PT0hMH0sZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5kaXNhYmxlU2VsZWN0aW9ufSxwPWgoYSk7ImZ1bmN0aW9uIj09dHlwZW9mIGkmJihpPWkuY2FsbCh0aGlzLmhvdCkpLG0odCksZyhsLCJodEl0ZW1XcmFwcGVyIiksdC5hcHBlbmRDaGlsZChsKSxjKGEpP2codCwiaHRTZXBhcmF0b3IiKTpwfHwiZnVuY3Rpb24iIT10eXBlb2YgYS5yZW5kZXJlcj92KGwsaSk6KGcodCwiaHRDdXN0b21NZW51UmVuZGVyZXIiKSx0LmFwcGVuZENoaWxkKGEucmVuZGVyZXIoZSxsLG4sbyxyLGkpKSkscD90LnBhcmVudE5vZGUmJmcodC5wYXJlbnROb2RlLCJodEhpZGRlbiIpOmQoYSk/KGcodCwiaHREaXNhYmxlZCIpLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodCwibW91c2VlbnRlciIsZnVuY3Rpb24oKXtyZXR1cm4gZS5kZXNlbGVjdENlbGwoKX0pKTpmKGEpPyhnKHQsImh0U2VsZWN0aW9uRGlzYWJsZWQiKSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHQsIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVzZWxlY3RDZWxsKCl9KSk6dShhKT8oZyh0LCJodFN1Ym1lbnUiKSxmKGEpP3RoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodCwibW91c2VlbnRlciIsZnVuY3Rpb24oKXtyZXR1cm4gZS5kZXNlbGVjdENlbGwoKX0pOnRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodCwibW91c2VlbnRlciIsZnVuY3Rpb24oKXtyZXR1cm4gZS5zZWxlY3RDZWxsKG4sbyx2b2lkIDAsdm9pZCAwLHZvaWQgMCwhMSl9KSk6KGIodCwiaHRTdWJtZW51IiksYih0LCJodERpc2FibGVkIiksZihhKT90aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHQsIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVzZWxlY3RDZWxsKCl9KTp0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHQsIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2VsZWN0Q2VsbChuLG8sdm9pZCAwLHZvaWQgMCx2b2lkIDAsITEpfSkpfSxjcmVhdGVDb250YWluZXI6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7ZSYmKGU9ZS5yZXBsYWNlKC8gL2csIl8iKSxlPXRoaXMub3B0aW9ucy5jbGFzc05hbWUrIlN1Yl8iK2UpO3ZhciB0O3JldHVybiB0PWU/ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLiIrdGhpcy5vcHRpb25zLmNsYXNzTmFtZSsiLiIrZSk6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLiIrdGhpcy5vcHRpb25zLmNsYXNzTmFtZSksdHx8KHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZyh0LCJodE1lbnUgIit0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKSxlJiZnKHQsZSksZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5hcHBlbmRDaGlsZCh0KSksdH0sYmxvY2tNYWluVGFibGVDYWxsYmFja3M6ZnVuY3Rpb24oKXt0aGlzLl9hZnRlclNjcm9sbENhbGxiYWNrPWZ1bmN0aW9uKCl7fSx0aGlzLmhvdC5hZGRIb29rKCJhZnRlclNjcm9sbFZlcnRpY2FsbHkiLHRoaXMuX2FmdGVyU2Nyb2xsQ2FsbGJhY2spLHRoaXMuaG90LmFkZEhvb2soImFmdGVyU2Nyb2xsSG9yaXpvbnRhbGx5Iix0aGlzLl9hZnRlclNjcm9sbENhbGxiYWNrKX0scmVsZWFzZU1haW5UYWJsZUNhbGxiYWNrczpmdW5jdGlvbigpe3RoaXMuX2FmdGVyU2Nyb2xsQ2FsbGJhY2smJih0aGlzLmhvdC5yZW1vdmVIb29rKCJhZnRlclNjcm9sbFZlcnRpY2FsbHkiLHRoaXMuX2FmdGVyU2Nyb2xsQ2FsbGJhY2spLHRoaXMuaG90LnJlbW92ZUhvb2soImFmdGVyU2Nyb2xsSG9yaXpvbnRhbGx5Iix0aGlzLl9hZnRlclNjcm9sbENhbGxiYWNrKSx0aGlzLl9hZnRlclNjcm9sbENhbGxiYWNrPW51bGwpfSxvbkJlZm9yZUtleURvd246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ob3RNZW51LmdldFNlbGVjdGVkKCksbj0hMTtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIE4uRVNDQVBFOnRoaXMuY2xvc2UoKSxuPSEwO2JyZWFrO2Nhc2UgTi5FTlRFUjp0JiYodGhpcy5ob3RNZW51LmdldFNvdXJjZURhdGFBdFJvdyh0WzBdKS5zdWJtZW51P249ITA6KHRoaXMuZXhlY3V0ZUNvbW1hbmQoZSksdGhpcy5jbG9zZSghMCkpKTticmVhaztjYXNlIE4uQVJST1dfRE9XTjp0P3RoaXMuc2VsZWN0TmV4dENlbGwodFswXSx0WzFdKTp0aGlzLnNlbGVjdEZpcnN0Q2VsbCgpLG49ITA7YnJlYWs7Y2FzZSBOLkFSUk9XX1VQOnQ/dGhpcy5zZWxlY3RQcmV2Q2VsbCh0WzBdLHRbMV0pOnRoaXMuc2VsZWN0TGFzdENlbGwoKSxuPSEwO2JyZWFrO2Nhc2UgTi5BUlJPV19SSUdIVDppZih0KXt2YXIgbz10aGlzLm9wZW5TdWJNZW51KHRbMF0pO28mJm8uc2VsZWN0Rmlyc3RDZWxsKCl9bj0hMDticmVhaztjYXNlIE4uQVJST1dfTEVGVDp0JiZ0aGlzLmlzU3ViTWVudSgpJiYodGhpcy5jbG9zZSgpLHRoaXMucGFyZW50TWVudSYmdGhpcy5wYXJlbnRNZW51LmhvdE1lbnUubGlzdGVuKCksbj0hMCl9biYmKGUucHJldmVudERlZmF1bHQoKSxWKGUpKX0sb25BZnRlckluaXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvdE1lbnUuZ2V0U2V0dGluZ3MoKS5kYXRhLHQ9dGhpcy5ob3RNZW51LnZpZXcud3Qud3RUYWJsZS5oaWRlci5zdHlsZSxuPXRoaXMuaG90TWVudS52aWV3Lnd0Lnd0VGFibGUuaG9sZGVyLnN0eWxlLG89cGFyc2VJbnQodC53aWR0aCwxMCkscj1fKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsodC5uYW1lPT09ST8xOjI2KX0sMCk7bi53aWR0aD1vKzIyKyJweCIsbi5oZWlnaHQ9cis0KyJweCJ9LG9uRG9jdW1lbnRNb3VzZURvd246ZnVuY3Rpb24oZSl7dGhpcy5pc09wZW5lZCgpJiYodGhpcy5jb250YWluZXImJnkoZS50YXJnZXQsdGhpcy5jb250YWluZXIpJiZ0aGlzLmV4ZWN1dGVDb21tYW5kKGUpLHRoaXMub3B0aW9ucy5zdGFuZGFsb25lJiZ0aGlzLmhvdE1lbnUmJiF5KGUudGFyZ2V0LHRoaXMuaG90TWVudS5yb290RWxlbWVudCk/dGhpcy5jbG9zZSghMCk6KHRoaXMuaXNBbGxTdWJNZW51c0Nsb3NlZCgpfHx0aGlzLmlzU3ViTWVudSgpKSYmIXkoZS50YXJnZXQsIi5odE1lbnUiKSYmeShlLnRhcmdldCxkb2N1bWVudCkmJnRoaXMuY2xvc2UoITApKX19LHt9KSxNKEIsTCl9LHtjdXJzb3I6NjcsZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9kb20vZWxlbWVudCI6NDUsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NiwiaGVscGVycy9mdW5jdGlvbiI6NDcsImhlbHBlcnMvb2JqZWN0Ijo1MCwiaGVscGVycy91bmljb2RlIjo1MywibWl4aW5zL2xvY2FsSG9va3MiOjU0LHByZWRlZmluZWRJdGVtczo3MCx1dGlsczo3MX1dLDcwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oKXt2YXIgZT17fTtyZXR1cm4gYyhELGZ1bmN0aW9uKHQsbil7cmV0dXJuIGVbbl09ZCh0KX0pLGV9ZnVuY3Rpb24gcihlLHQpey0xPT09SC5pbmRleE9mKGUpJiYoRFtlXT10KX12YXIgaTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtST1dfQUJPVkU6e2dldDpmdW5jdGlvbigpe3JldHVybiB3fX0sUk9XX0JFTE9XOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geX19LENPTFVNTl9MRUZUOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn19LENPTFVNTl9SSUdIVDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEN9fSxDTEVBUl9DT0xVTU46e2dldDpmdW5jdGlvbigpe3JldHVybiBSfX0sUkVNT1ZFX1JPVzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF99fSxSRU1PVkVfQ09MVU1OOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU319LFVORE86e2dldDpmdW5jdGlvbigpe3JldHVybiBFfX0sUkVETzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFR9fSxSRUFEX09OTFk6e2dldDpmdW5jdGlvbigpe3JldHVybiBNfX0sQUxJR05NRU5UOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT319LFNFUEFSQVRPUjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGt9fSxJVEVNUzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEh9fSxwcmVkZWZpbmVkSXRlbXM6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sYWRkSXRlbTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcyxhLGwsdT0ocz1lKCJoZWxwZXJzL29iamVjdCIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksYz11Lm9iamVjdEVhY2gsZD11LmNsb25lLGg9KChhPWUoImhlbHBlcnMvbnVtYmVyIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5yYW5nZUVhY2gsbD1lKCJ1dGlscyIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSksZj1oLmFsaWduLHA9aC5nZXRBbGlnbm1lbnRDbGFzc2VzLGc9aC5nZXRWYWxpZFNlbGVjdGlvbixtPWguY2hlY2tTZWxlY3Rpb25Db25zaXN0ZW5jeSx2PWgubWFya0xhYmVsQXNTZWxlY3RlZCx3PSJyb3dfYWJvdmUiLHk9InJvd19iZWxvdyIsYj0iY29sX2xlZnQiLEM9ImNvbF9yaWdodCIsUj0iY2xlYXJfY29sdW1uIixfPSJyZW1vdmVfcm93IixTPSJyZW1vdmVfY29sIixFPSJ1bmRvIixUPSJyZWRvIixNPSJtYWtlX3JlYWRfb25seSIsTz0iYWxpZ25tZW50IixrPSItLS0tLS0tLS0iLEg9W3cseSxiLEMsUixfLFMsRSxULE0sTyxrXSxEPShpPXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLGsse3ZhbHVlOntuYW1lOmt9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksdyx7dmFsdWU6e2tleTp3LG5hbWU6Ikluc2VydCByb3cgYWJvdmUiLGNhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7dGhpcy5hbHRlcigiaW5zZXJ0X3JvdyIsdC5zdGFydC5yb3cpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3ZhciBlPWcodGhpcyk7aWYoIWV8fHRoaXMuY291bnRSb3dzKCk+PXRoaXMuZ2V0U2V0dGluZ3MoKS5tYXhSb3dzKXJldHVybiEwO3ZhciB0PXRoaXMuY291bnRSb3dzKCksbj1bMCxlWzFdLHQtMSxlWzFdXTtyZXR1cm4gbi5qb2luKCIsIik9PT1lLmpvaW4oIiwiKSYmdD4xfSxoaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5nZXRTZXR0aW5ncygpLmFsbG93SW5zZXJ0Um93fX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSx5LHt2YWx1ZTp7a2V5OnksbmFtZToiSW5zZXJ0IHJvdyBiZWxvdyIsY2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXt0aGlzLmFsdGVyKCJpbnNlcnRfcm93Iix0LmVuZC5yb3crMSl9LGRpc2FibGVkOmZ1bmN0aW9uKCl7dmFyIGU9Zyh0aGlzKTtpZighZXx8dGhpcy5jb3VudFJvd3MoKT49dGhpcy5nZXRTZXR0aW5ncygpLm1heFJvd3MpcmV0dXJuITA7dmFyIHQ9dGhpcy5jb3VudFJvd3MoKSxuPVswLGVbMV0sdC0xLGVbMV1dO3JldHVybiBuLmpvaW4oIiwiKT09PWUuam9pbigiLCIpJiZ0PjF9LGhpZGRlbjpmdW5jdGlvbigpe3JldHVybiF0aGlzLmdldFNldHRpbmdzKCkuYWxsb3dJbnNlcnRSb3d9fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLGIse3ZhbHVlOntrZXk6YixuYW1lOiJJbnNlcnQgY29sdW1uIG9uIHRoZSBsZWZ0IixjYWxsYmFjazpmdW5jdGlvbihlLHQpe3RoaXMuYWx0ZXIoImluc2VydF9jb2wiLHQuc3RhcnQuY29sKX0sZGlzYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgZT1nKHRoaXMpO2lmKCFlKXJldHVybiEwO2lmKCF0aGlzLmlzQ29sdW1uTW9kaWZpY2F0aW9uQWxsb3dlZCgpKXJldHVybiEwO3ZhciB0PVtlWzBdLDAsZVswXSx0aGlzLmNvdW50Q29scygpLTFdLG49dC5qb2luKCIsIik9PWUuam9pbigiLCIpO3JldHVybiBlWzFdPDB8fHRoaXMuY291bnRDb2xzKCk+PXRoaXMuZ2V0U2V0dGluZ3MoKS5tYXhDb2xzfHxufSxoaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5nZXRTZXR0aW5ncygpLmFsbG93SW5zZXJ0Q29sdW1ufX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxDLHt2YWx1ZTp7a2V5OkMsbmFtZToiSW5zZXJ0IGNvbHVtbiBvbiB0aGUgcmlnaHQiLGNhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7dGhpcy5hbHRlcigiaW5zZXJ0X2NvbCIsdC5lbmQuY29sKzEpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3ZhciBlPWcodGhpcyk7aWYoIWUpcmV0dXJuITA7aWYoIXRoaXMuaXNDb2x1bW5Nb2RpZmljYXRpb25BbGxvd2VkKCkpcmV0dXJuITA7dmFyIHQ9W2VbMF0sMCxlWzBdLHRoaXMuY291bnRDb2xzKCktMV0sbj10LmpvaW4oIiwiKT09ZS5qb2luKCIsIik7cmV0dXJuIGVbMV08MHx8dGhpcy5jb3VudENvbHMoKT49dGhpcy5nZXRTZXR0aW5ncygpLm1heENvbHN8fG59LGhpZGRlbjpmdW5jdGlvbigpe3JldHVybiF0aGlzLmdldFNldHRpbmdzKCkuYWxsb3dJbnNlcnRDb2x1bW59fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFIse3ZhbHVlOntrZXk6UixuYW1lOiJDbGVhciBjb2x1bW4iLGNhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5zdGFydC5jb2w7dGhpcy5jb3VudFJvd3MoKSYmdGhpcy5wb3B1bGF0ZUZyb21BcnJheSgwLG4sW1tudWxsXV0sTWF0aC5tYXgodC5zdGFydC5yb3csdC5lbmQucm93KSxuKX0sZGlzYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgZT1nKHRoaXMpO2lmKCFlKXJldHVybiEwO3ZhciB0PVtlWzBdLDAsZVswXSx0aGlzLmNvdW50Q29scygpLTFdLG49dC5qb2luKCIsIik9PWUuam9pbigiLCIpO3JldHVybiBlWzFdPDB8fHRoaXMuY291bnRDb2xzKCk+PXRoaXMuZ2V0U2V0dGluZ3MoKS5tYXhDb2xzfHxufX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxfLHt2YWx1ZTp7a2V5Ol8sbmFtZToiUmVtb3ZlIHJvdyIsY2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmVuZC5yb3ctdC5zdGFydC5yb3crMTt0aGlzLmFsdGVyKCJyZW1vdmVfcm93Iix0LnN0YXJ0LnJvdyxuKX0sZGlzYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgZT1nKHRoaXMpO2lmKCFlKXJldHVybiEwO3ZhciB0PVswLGVbMV0sdGhpcy5jb3VudFJvd3MoKS0xLGVbMV1dO3JldHVybiB0LmpvaW4oIiwiKT09PWUuam9pbigiLCIpfSxoaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5nZXRTZXR0aW5ncygpLmFsbG93UmVtb3ZlUm93fX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxTLHt2YWx1ZTp7a2V5OlMsbmFtZToiUmVtb3ZlIGNvbHVtbiIsY2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmVuZC5jb2wtdC5zdGFydC5jb2wrMTt0aGlzLmFsdGVyKCJyZW1vdmVfY29sIix0LnN0YXJ0LmNvbCxuKX0sZGlzYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgZT1nKHRoaXMpO2lmKCFlKXJldHVybiEwO2lmKCF0aGlzLmlzQ29sdW1uTW9kaWZpY2F0aW9uQWxsb3dlZCgpKXJldHVybiEwO3ZhciB0PVtlWzBdLDAsZVswXSx0aGlzLmNvdW50Q29scygpLTFdLG49dC5qb2luKCIsIik9PWUuam9pbigiLCIpO3JldHVybiBlWzFdPDB8fG59LGhpZGRlbjpmdW5jdGlvbigpe3JldHVybiF0aGlzLmdldFNldHRpbmdzKCkuYWxsb3dSZW1vdmVDb2x1bW59fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLEUse3ZhbHVlOntrZXk6RSxuYW1lOiJVbmRvIixjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMudW5kbygpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuZG9SZWRvJiYhdGhpcy51bmRvUmVkby5pc1VuZG9BdmFpbGFibGUoKX19LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksVCx7dmFsdWU6e2tleTpULG5hbWU6IlJlZG8iLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5yZWRvKCl9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5kb1JlZG8mJiF0aGlzLnVuZG9SZWRvLmlzUmVkb0F2YWlsYWJsZSgpfX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxNLHt2YWx1ZTp7a2V5Ok0sbmFtZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0iUmVhZCBvbmx5IixuPW0odGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRDZWxsTWV0YSh0LG4pLnJlYWRPbmx5fSk7cmV0dXJuIG4mJih0PXYodCkpLHR9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLG49bSh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKS5yZWFkT25seX0pO3QuZm9yQWxsKGZ1bmN0aW9uKHQsbyl7ZS5nZXRDZWxsTWV0YSh0LG8pLnJlYWRPbmx5PW4/ITE6ITB9KSx0aGlzLnJlbmRlcigpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKT8hMTohMH19LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksTyx7dmFsdWU6e2tleTpPLG5hbWU6IkFsaWdubWVudCIsZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZWxlY3RlZFJhbmdlKCk/ITE6ITB9LHN1Ym1lbnU6e2l0ZW1zOlt7a2V5Ok8rIjpsZWZ0IixuYW1lOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSJMZWZ0IixuPW0odGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksZnVuY3Rpb24odCxuKXt2YXIgbz1lLmdldENlbGxNZXRhKHQsbikuY2xhc3NOYW1lO3JldHVybiBvJiYtMSE9PW8uaW5kZXhPZigiaHRMZWZ0Iik/ITA6dm9pZCAwfSk7cmV0dXJuIG4mJih0PXYodCkpLHR9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLG49cCh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKS5jbGFzc05hbWV9KSxvPSJob3Jpem9udGFsIixyPSJodExlZnQiO3RoaXMucnVuSG9va3MoImJlZm9yZUNlbGxBbGlnbm1lbnQiLG4sdCxvLHIpLGYodCxvLHIsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRDZWxsTWV0YSh0LG4pfSksdGhpcy5yZW5kZXIoKX0sZGlzYWJsZWQ6ITF9LHtrZXk6TysiOmNlbnRlciIsbmFtZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0iQ2VudGVyIixuPW0odGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksZnVuY3Rpb24odCxuKXt2YXIgbz1lLmdldENlbGxNZXRhKHQsbikuY2xhc3NOYW1lO3JldHVybiBvJiYtMSE9PW8uaW5kZXhPZigiaHRDZW50ZXIiKT8hMDp2b2lkIDB9KTtyZXR1cm4gbiYmKHQ9dih0KSksdH0sY2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksbj1wKHQsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRDZWxsTWV0YSh0LG4pLmNsYXNzTmFtZX0pLG89Imhvcml6b250YWwiLHI9Imh0Q2VudGVyIjt0aGlzLnJ1bkhvb2tzKCJiZWZvcmVDZWxsQWxpZ25tZW50IixuLHQsbyxyKSxmKHQsbyxyLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKX0pLHRoaXMucmVuZGVyKCl9LGRpc2FibGVkOiExfSx7a2V5Ok8rIjpyaWdodCIsbmFtZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0iUmlnaHQiLG49bSh0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxmdW5jdGlvbih0LG4pe3ZhciBvPWUuZ2V0Q2VsbE1ldGEodCxuKS5jbGFzc05hbWU7cmV0dXJuIG8mJi0xIT09by5pbmRleE9mKCJodFJpZ2h0Iik/ITA6dm9pZCAwfSk7cmV0dXJuIG4mJih0PXYodCkpLHR9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLG49cCh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKS5jbGFzc05hbWV9KSxvPSJob3Jpem9udGFsIixyPSJodFJpZ2h0Ijt0aGlzLnJ1bkhvb2tzKCJiZWZvcmVDZWxsQWxpZ25tZW50IixuLHQsbyxyKSxmKHQsbyxyLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKX0pLHRoaXMucmVuZGVyKCl9LGRpc2FibGVkOiExfSx7a2V5Ok8rIjpqdXN0aWZ5IixuYW1lOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSJKdXN0aWZ5IixuPW0odGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksZnVuY3Rpb24odCxuKXt2YXIgbz1lLmdldENlbGxNZXRhKHQsbikuY2xhc3NOYW1lO3JldHVybiBvJiYtMSE9PW8uaW5kZXhPZigiaHRKdXN0aWZ5Iik/ITA6dm9pZCAwfSk7cmV0dXJuIG4mJih0PXYodCkpLHR9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLG49cCh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKS5jbGFzc05hbWV9KSxvPSJob3Jpem9udGFsIixyPSJodEp1c3RpZnkiO3RoaXMucnVuSG9va3MoImJlZm9yZUNlbGxBbGlnbm1lbnQiLG4sdCxvLHIpLGYodCxvLHIsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRDZWxsTWV0YSh0LG4pfSksdGhpcy5yZW5kZXIoKX0sZGlzYWJsZWQ6ITF9LHtuYW1lOmt9LHtrZXk6TysiOnRvcCIsbmFtZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0iVG9wIixuPW0odGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksZnVuY3Rpb24odCxuKXt2YXIgbz1lLmdldENlbGxNZXRhKHQsbikuY2xhc3NOYW1lO3JldHVybiBvJiYtMSE9PW8uaW5kZXhPZigiaHRUb3AiKT8hMDp2b2lkIDB9KTtyZXR1cm4gbiYmKHQ9dih0KSksdH0sY2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksbj1wKHQsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRDZWxsTWV0YSh0LG4pLmNsYXNzTmFtZX0pLG89InZlcnRpY2FsIixyPSJodFRvcCI7dGhpcy5ydW5Ib29rcygiYmVmb3JlQ2VsbEFsaWdubWVudCIsbix0LG8sciksZih0LG8scixmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldENlbGxNZXRhKHQsbil9KSx0aGlzLnJlbmRlcigpfSxkaXNhYmxlZDohMX0se2tleTpPKyI6bWlkZGxlIixuYW1lOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSJNaWRkbGUiLG49bSh0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxmdW5jdGlvbih0LG4pe3ZhciBvPWUuZ2V0Q2VsbE1ldGEodCxuKS5jbGFzc05hbWU7cmV0dXJuIG8mJi0xIT09by5pbmRleE9mKCJodE1pZGRsZSIpPyEwOnZvaWQgMH0pO3JldHVybiBuJiYodD12KHQpKSx0fSxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxuPXAodCxmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldENlbGxNZXRhKHQsbikuY2xhc3NOYW1lfSksbz0idmVydGljYWwiLHI9Imh0TWlkZGxlIjt0aGlzLnJ1bkhvb2tzKCJiZWZvcmVDZWxsQWxpZ25tZW50IixuLHQsbyxyKSxmKHQsbyxyLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKX0pLHRoaXMucmVuZGVyKCl9LGRpc2FibGVkOiExfSx7a2V5Ok8rIjpib3R0b20iLG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9IkJvdHRvbSIsbj1tKHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLGZ1bmN0aW9uKHQsbil7dmFyIG89ZS5nZXRDZWxsTWV0YSh0LG4pLmNsYXNzTmFtZTtyZXR1cm4gbyYmLTEhPT1vLmluZGV4T2YoImh0Qm90dG9tIik/ITA6dm9pZCAwfSk7cmV0dXJuIG4mJih0PXYodCkpLHR9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLG49cCh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKS5jbGFzc05hbWV9KSxvPSJ2ZXJ0aWNhbCIscj0iaHRCb3R0b20iO3RoaXMucnVuSG9va3MoImJlZm9yZUNlbGxBbGlnbm1lbnQiLG4sdCxvLHIpLGYodCxvLHIsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRDZWxsTWV0YSh0LG4pfSksdGhpcy5yZW5kZXIoKX0sZGlzYWJsZWQ6ITF9XX19LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksaSl9LHsiaGVscGVycy9udW1iZXIiOjQ5LCJoZWxwZXJzL29iamVjdCI6NTAsdXRpbHM6NzF9XSw3MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybntzdGFydDplLmdldFRvcExlZnRDb3JuZXIoKSxlbmQ6ZS5nZXRCb3R0b21SaWdodENvcm5lcigpfX1mdW5jdGlvbiByKGUpe3JldHVybiB2KGUsImh0U2VwYXJhdG9yIil9ZnVuY3Rpb24gaShlKXtyZXR1cm4gdihlLCJodFN1Ym1lbnUiKX1mdW5jdGlvbiBzKGUpe3JldHVybiB2KGUsImh0RGlzYWJsZWQiKX1mdW5jdGlvbiBhKGUpe3JldHVybiB2KGUsImh0U2VsZWN0aW9uRGlzYWJsZWQiKX1mdW5jdGlvbiBsKGUpe3ZhciB0PWUuZ2V0U2VsZWN0ZWQoKTtyZXR1cm4gdD90WzBdPDA/bnVsbDp0Om51bGx9ZnVuY3Rpb24gdShlLHQpe3JldHVybi0xIT1lLmluZGV4T2YodCk/ZTooZT1lLnJlcGxhY2UoImh0VG9wIiwiIikucmVwbGFjZSgiaHRNaWRkbGUiLCIiKS5yZXBsYWNlKCJodEJvdHRvbSIsIiIpLnJlcGxhY2UoIiAgIiwiIiksZSs9IiAiK3QpfWZ1bmN0aW9uIGMoZSx0KXtyZXR1cm4tMSE9ZS5pbmRleE9mKHQpP2U6KGU9ZS5yZXBsYWNlKCJodExlZnQiLCIiKS5yZXBsYWNlKCJodENlbnRlciIsIiIpLnJlcGxhY2UoImh0UmlnaHQiLCIiKS5yZXBsYWNlKCJodEp1c3RpZnkiLCIiKS5yZXBsYWNlKCIgICIsIiIpLGUrPSIgIit0KX1mdW5jdGlvbiBkKGUsdCl7Zm9yKHZhciBuPXt9LG89ZS5mcm9tLnJvdztvPD1lLnRvLnJvdztvKyspZm9yKHZhciByPWUuZnJvbS5jb2w7cjw9ZS50by5jb2w7cisrKW5bb118fChuW29dPVtdKSxuW29dW3JdPXQobyxyKTtyZXR1cm4gbn1mdW5jdGlvbiBoKGUsdCxuLG8pe2lmKGUuZnJvbS5yb3c9PWUudG8ucm93JiZlLmZyb20uY29sPT1lLnRvLmNvbClmKGUuZnJvbS5yb3csZS5mcm9tLmNvbCx0LG4sbyk7ZWxzZSBmb3IodmFyIHI9ZS5mcm9tLnJvdztyPD1lLnRvLnJvdztyKyspZm9yKHZhciBpPWUuZnJvbS5jb2w7aTw9ZS50by5jb2w7aSsrKWYocixpLHQsbixvKX1mdW5jdGlvbiBmKGUsdCxuLG8scil7dmFyIGk9cihlLHQpLHM9bztpLmNsYXNzTmFtZSYmKHM9InZlcnRpY2FsIj09PW4/dShpLmNsYXNzTmFtZSxvKTpjKGkuY2xhc3NOYW1lLG8pKSxpLmNsYXNzTmFtZT1zfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj0hMTtyZXR1cm4gZSYmZS5mb3JBbGwoZnVuY3Rpb24oZSxvKXtyZXR1cm4gdChlLG8pPyhuPSEwLCExKTp2b2lkIDB9KSxufWZ1bmN0aW9uIGcoZSl7cmV0dXJuJzxzcGFuIGNsYXNzPSJzZWxlY3RlZCI+JytTdHJpbmcuZnJvbUNoYXJDb2RlKDEwMDAzKSsiPC9zcGFuPiIrZX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtub3JtYWxpemVTZWxlY3Rpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0saXNTZXBhcmF0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0saGFzU3ViTWVudTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSxpc0Rpc2FibGVkOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc319LGlzU2VsZWN0aW9uRGlzYWJsZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBhfX0sZ2V0VmFsaWRTZWxlY3Rpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBsfX0scHJlcGFyZVZlcnRpY2FsQWxpZ25DbGFzczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV9fSxwcmVwYXJlSG9yaXpvbnRhbEFsaWduQ2xhc3M6e2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0sZ2V0QWxpZ25tZW50Q2xhc3Nlczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGR9fSxhbGlnbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGh9fSxjaGVja1NlbGVjdGlvbkNvbnNpc3RlbmN5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcH19LG1hcmtMYWJlbEFzU2VsZWN0ZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBnfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG0sdj0obT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbSYmbS5fX2VzTW9kdWxlJiZtfHx7ImRlZmF1bHQiOm19KS5oYXNDbGFzc30seyJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NX1dLDcyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0NvbnRleHRNZW51Q29weVBhc3RlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGEsbCx1PShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLnJlbW92ZUNsYXNzLGM9KHI9ZSgiaGVscGVycy9hcnJheSIpLApyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLmFycmF5RWFjaCxkPShpPWUoImV2ZW50TWFuYWdlciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuRXZlbnRNYW5hZ2VyLGg9KHM9ZSgicGx1Z2lucyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkucmVnaXN0ZXJQbHVnaW4sZj0oYT1lKCJfYmFzZSIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSlbImRlZmF1bHQiXSxwPShsPWUoInplcm9jbGlwYm9hcmQiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pWyJkZWZhdWx0Il0sZz1mdW5jdGlvbihlKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3RvcihtKS5jYWxsKHRoaXMsZSksdGhpcy5ldmVudE1hbmFnZXI9bmV3IGQodGhpcyksdGhpcy5zd2ZQYXRoPW51bGwsdGhpcy5vdXRzaWRlQ2xpY2tEZXNlbGVjdHNDYWNoZT1udWxsfSxtPWc7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGcse2lzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdC5nZXRTZXR0aW5ncygpLmNvbnRleHRNZW51Q29weVBhc3RlfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLmVuYWJsZWQpeyJvYmplY3QiPT10eXBlb2YgdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5jb250ZXh0TWVudUNvcHlQYXN0ZSYmKHRoaXMuc3dmUGF0aD10aGlzLmhvdC5nZXRTZXR0aW5ncygpLmNvbnRleHRNZW51Q29weVBhc3RlLnN3ZlBhdGgpLCJ1bmRlZmluZWQiPT10eXBlb2YgcCYmY29uc29sZS5lcnJvcigiVG8gYmUgYWJsZSB0byB1c2UgdGhlIENvcHkvUGFzdGUgZmVhdHVyZSBmcm9tIHRoZSBjb250ZXh0IG1lbnUsIHlvdSBuZWVkIHRvIG1hbnVhbGx5IGluY2x1ZGUgWmVyb0NsaXBib2FyZC5qcyBmaWxlIHRvIHlvdXIgd2Vic2l0ZS4iKTt0cnl7bmV3IEFjdGl2ZVhPYmplY3QoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoIil9Y2F0Y2godCl7InVuZGVmaW5lZCI9PXR5cGVvZiBuYXZpZ2F0b3IubWltZVR5cGVzWyJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCJdJiZjb25zb2xlLmVycm9yKCJUbyBiZSBhYmxlIHRvIHVzZSB0aGUgQ29weS9QYXN0ZSBmZWF0dXJlIGZyb20gdGhlIGNvbnRleHQgbWVudSwgeW91ciBicm93c2VyIG5lZWRzIHRvIGhhdmUgRmxhc2ggUGx1Z2luIGluc3RhbGxlZC4iKX10aGlzLnN3ZlBhdGgmJnAuY29uZmlnKHtzd2ZQYXRoOnRoaXMuc3dmUGF0aH0pLHRoaXMuaG90LmFkZEhvb2soImFmdGVyQ29udGV4dE1lbnVTaG93IixmdW5jdGlvbigpe3JldHVybiBlLm9uQWZ0ZXJDb250ZXh0TWVudVNob3coKX0pLHRoaXMuaG90LmFkZEhvb2soImFmdGVyQ29udGV4dE1lbnVEZWZhdWx0T3B0aW9ucyIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25BZnRlckNvbnRleHRNZW51RGVmYXVsdE9wdGlvbnModCl9KSx0aGlzLnJlZ2lzdGVyRXZlbnRzKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsbS5wcm90b3R5cGUsImVuYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9fSxkaXNhYmxlUGx1Z2luOmZ1bmN0aW9uKCl7JHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsbS5wcm90b3R5cGUsImRpc2FibGVQbHVnaW4iKS5jYWxsKHRoaXMpfSxyZWdpc3RlckV2ZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwibW91c2VlbnRlciIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZW1vdmVDdXJyZW50Q2xhc3MoKX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVtb3ZlWmVyb0NsaXBib2FyZENsYXNzKCl9KX0sZ2V0Q29weVZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG90LmNvcHlQYXN0ZS5zZXRDb3B5YWJsZVRleHQoKSx0aGlzLmhvdC5jb3B5UGFzdGUuY29weVBhc3RlSW5zdGFuY2UuZWxUZXh0YXJlYS52YWx1ZX0sb25BZnRlckNvbnRleHRNZW51RGVmYXVsdE9wdGlvbnM6ZnVuY3Rpb24oZSl7ZS5pdGVtcy51bnNoaWZ0KHtrZXk6ImNvcHkiLG5hbWU6IkNvcHkifSx7a2V5OiJwYXN0ZSIsbmFtZToiUGFzdGUiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5jb3B5UGFzdGUudHJpZ2dlclBhc3RlKCl9fSxIYW5kc29udGFibGUucGx1Z2lucy5Db250ZXh0TWVudS5TRVBBUkFUT1IpfSxvbkFmdGVyQ29udGV4dE1lbnVTaG93OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuaG90LmdldFBsdWdpbigiY29udGV4dE1lbnUiKSxuPXQubWVudS5ob3RNZW51LmdldFNvdXJjZURhdGEoKTtjKG4sZnVuY3Rpb24obixvKXtpZigiY29weSI9PT1uLmtleSl7dmFyIHI9bmV3IHAodC5tZW51LmhvdE1lbnUuZ2V0Q2VsbChvLDApKTtyZXR1cm4gci5vZmYoKSxyLm9uKCJjb3B5IixmdW5jdGlvbih0KXt2YXIgbj10LmNsaXBib2FyZERhdGE7bi5zZXREYXRhKCJ0ZXh0L3BsYWluIixlLmdldENvcHlWYWx1ZSgpKSxlLmhvdC5nZXRTZXR0aW5ncygpLm91dHNpZGVDbGlja0Rlc2VsZWN0cz1lLm91dHNpZGVDbGlja0Rlc2VsZWN0c0NhY2hlfSksITF9fSl9LHJlbW92ZUN1cnJlbnRDbGFzczpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LmdldFBsdWdpbigiY29udGV4dE1lbnUiKTtpZihlLm1lbnUuaXNPcGVuZWQoKSl7dmFyIHQ9ZS5tZW51LmhvdE1lbnUucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvcigidGQuY3VycmVudCIpO3QmJnUodCwiY3VycmVudCIpfXRoaXMub3V0c2lkZUNsaWNrRGVzZWxlY3RzQ2FjaGU9dGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5vdXRzaWRlQ2xpY2tEZXNlbGVjdHMsdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5vdXRzaWRlQ2xpY2tEZXNlbGVjdHM9ITF9LHJlbW92ZVplcm9DbGlwYm9hcmRDbGFzczpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LmdldFBsdWdpbigiY29udGV4dE1lbnUiKTtpZihlLm1lbnUuaXNPcGVuZWQoKSl7dmFyIHQ9ZS5tZW51LmhvdE1lbnUucm9vdEVsZW1lbnQucXVlcnlTZWxlY3RvcigidGQuemVyb2NsaXBib2FyZC1pcy1ob3ZlciIpO3QmJnUodCwiemVyb2NsaXBib2FyZC1pcy1ob3ZlciIpfXRoaXMuaG90LmdldFNldHRpbmdzKCkub3V0c2lkZUNsaWNrRGVzZWxlY3RzPXRoaXMub3V0c2lkZUNsaWNrRGVzZWxlY3RzQ2FjaGV9fSx7fSxmKSxoKCJjb250ZXh0TWVudUNvcHlQYXN0ZSIsZyl9LHtfYmFzZTo1OCxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSxwbHVnaW5zOjU3LHplcm9jbGlwYm9hcmQ6Inplcm9jbGlwYm9hcmQifV0sNzM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtmdW5jdGlvbiB0KCl7ZS5pc0xpc3RlbmluZygpJiZlLnNlbGVjdGlvbi5lbXB0eSgpfWZ1bmN0aW9uIG4odCl7dmFyIG4sbyxyLGkscyxhLGwsdSxjLGQ7aWYoZS5pc0xpc3RlbmluZygpJiZlLnNlbGVjdGlvbi5pc1NlbGVjdGVkKCkpe249dCxvPXYucGFyc2Uobikscj1lLmdldFNlbGVjdGVkKCksaT1uZXcgTyhyWzBdLHJbMV0pLHM9bmV3IE8oclsyXSxyWzNdKSxhPW5ldyBrKGksaSxzKSxsPWEuZ2V0VG9wTGVmdENvcm5lcigpLHU9YS5nZXRCb3R0b21SaWdodENvcm5lcigpLGM9bCxkPW5ldyBPKE1hdGgubWF4KHUucm93LG8ubGVuZ3RoLTErbC5yb3cpLE1hdGgubWF4KHUuY29sLG9bMF0ubGVuZ3RoLTErbC5jb2wpKTt2YXIgaD1zLnJvdy1pLnJvdz49by5sZW5ndGgtMSxmPXMuY29sLWkuY29sPj1vWzBdLmxlbmd0aC0xO2UuYWRkSG9va09uY2UoImFmdGVyQ2hhbmdlIixmdW5jdGlvbih0LG4pe3ZhciBvPXQ/dC5sZW5ndGg6MDtpZihvKXt2YXIgcj17cm93OjAsY29sOjB9LGk9LTE7Qyh0LGZ1bmN0aW9uKGUsbil7dmFyIHM9bz5uKzE/dFtuKzFdOm51bGw7cyYmKGh8fChyLnJvdz1yLnJvdytNYXRoLm1heChzWzBdLWVbMF0tMSwwKSksIWYmJmVbMV0+aSYmKGk9ZVsxXSxyLmNvbD1yLmNvbCtNYXRoLm1heChzWzFdLWVbMV0tMSwwKSkpfSksZS5zZWxlY3RDZWxsKGMucm93LGMuY29sLGQucm93K3Iucm93LGQuY29sK3IuY29sKX19KSxlLnBvcHVsYXRlRnJvbUFycmF5KGMucm93LGMuY29sLG8sZC5yb3csZC5jb2wsInBhc3RlIixlLmdldFNldHRpbmdzKCkucGFzdGVNb2RlKX19ZnVuY3Rpb24gbyh0KXtpZihlLmdldFNlbGVjdGVkKCkmJiEoZS5nZXRBY3RpdmVFZGl0b3IoKSYmZS5nZXRBY3RpdmVFZGl0b3IoKS5pc09wZW5lZCgpfHxFKHQpKSl7aWYoYih0LmtleUNvZGUpKXtpZihlLmdldFNldHRpbmdzKCkuZnJhZ21lbnRTZWxlY3Rpb24mJlQoKSlyZXR1cm47cmV0dXJuIHIuc2V0Q29weWFibGVUZXh0KCksdm9pZCBTKHQpfXZhciBuPSh0LmN0cmxLZXl8fHQubWV0YUtleSkmJiF0LmFsdEtleTt0LmtleUNvZGU9PXkuQSYmbiYmZS5fcmVnaXN0ZXJUaW1lb3V0KHNldFRpbWVvdXQoTShyLnNldENvcHlhYmxlVGV4dCxyKSwwKSl9fXZhciByPXRoaXM7dGhpcy5jb3B5UGFzdGVJbnN0YW5jZT1tKCksdGhpcy5jb3B5UGFzdGVJbnN0YW5jZS5vbkN1dCh0KSx0aGlzLmNvcHlQYXN0ZUluc3RhbmNlLm9uUGFzdGUobiksdGhpcy5vblBhc3RlPW4sZS5hZGRIb29rKCJiZWZvcmVLZXlEb3duIixvKSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNvcHlQYXN0ZUluc3RhbmNlJiYodGhpcy5jb3B5UGFzdGVJbnN0YW5jZS5yZW1vdmVDYWxsYmFjayh0KSx0aGlzLmNvcHlQYXN0ZUluc3RhbmNlLnJlbW92ZUNhbGxiYWNrKG4pLHRoaXMuY29weVBhc3RlSW5zdGFuY2UuZGVzdHJveSgpLHRoaXMuY29weVBhc3RlSW5zdGFuY2U9bnVsbCksZS5yZW1vdmVIb29rKCJiZWZvcmVLZXlEb3duIixvKX0sZS5hZGRIb29rKCJhZnRlckRlc3Ryb3kiLE0odGhpcy5kZXN0cm95LHRoaXMpKSx0aGlzLnRyaWdnZXJQYXN0ZT1NKHRoaXMuY29weVBhc3RlSW5zdGFuY2UudHJpZ2dlclBhc3RlLHRoaXMuY29weVBhc3RlSW5zdGFuY2UpLHRoaXMudHJpZ2dlckN1dD1NKHRoaXMuY29weVBhc3RlSW5zdGFuY2UudHJpZ2dlckN1dCx0aGlzLmNvcHlQYXN0ZUluc3RhbmNlKSx0aGlzLnNldENvcHlhYmxlVGV4dD1mdW5jdGlvbigpe3ZhciB0PWUuZ2V0U2V0dGluZ3MoKSxuPXQuY29weVJvd3NMaW1pdCxvPXQuY29weUNvbHNMaW1pdCxyPWUuZ2V0U2VsZWN0ZWRSYW5nZSgpLGk9ci5nZXRUb3BMZWZ0Q29ybmVyKCkscz1yLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCksYT1pLnJvdyxsPWkuY29sLHU9cy5yb3csYz1zLmNvbCxkPU1hdGgubWluKHUsYStuLTEpLGg9TWF0aC5taW4oYyxsK28tMSksZj1bXTtmLnB1c2goe3N0YXJ0Um93OmEsc3RhcnRDb2w6bCxlbmRSb3c6ZCxlbmRDb2w6aH0pLGY9SGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihlLCJtb2RpZnlDb3B5YWJsZVJhbmdlIixmKTt2YXIgcD10aGlzLmdldFJhbmdlZENvcHlhYmxlRGF0YShmKTtlLmNvcHlQYXN0ZS5jb3B5UGFzdGVJbnN0YW5jZS5jb3B5YWJsZShwKSwodSE9PWR8fGMhPT1oKSYmSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihlLCJhZnRlckNvcHlMaW1pdCIsdS1hKzEsYy1sKzEsbixvKX0sdGhpcy5nZXRSYW5nZWRDb3B5YWJsZURhdGE9ZnVuY3Rpb24odCl7dmFyIG49W10sbz1bXSxyPVtdO3JldHVybiBDKHQsZnVuY3Rpb24oZSl7UihlLnN0YXJ0Um93LGUuZW5kUm93LGZ1bmN0aW9uKGUpey0xPT09by5pbmRleE9mKGUpJiZvLnB1c2goZSl9KSxSKGUuc3RhcnRDb2wsZS5lbmRDb2wsZnVuY3Rpb24oZSl7LTE9PT1yLmluZGV4T2YoZSkmJnIucHVzaChlKX0pfSksQyhvLGZ1bmN0aW9uKHQpe3ZhciBvPVtdO0MocixmdW5jdGlvbihuKXtvLnB1c2goZS5nZXRDb3B5YWJsZURhdGEodCxuKSl9KSxuLnB1c2gobyl9KSx2LnN0cmluZ2lmeShuKX19ZnVuY3Rpb24gcigpe3ZhciBlPXRoaXMsdD1lLmdldFNldHRpbmdzKCkuY29weVBhc3RlIT09ITE7dCYmIWUuY29weVBhc3RlP2UuY29weVBhc3RlPW5ldyBvKGUpOiF0JiZlLmNvcHlQYXN0ZSYmKGUuY29weVBhc3RlLmRlc3Ryb3koKSxlLmNvcHlQYXN0ZT1udWxsKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtDb3B5UGFzdGVQbHVnaW46e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGkscyxhLGwsdSxjLGQsaCxmLHAsZyxtPShpPWUoImNvcHlQYXN0ZSIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSlbImRlZmF1bHQiXSx2PShzPWUoIlNoZWV0Q2xpcCIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSlbImRlZmF1bHQiXSx3PShhPWUoImhlbHBlcnMvdW5pY29kZSIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkseT13LktFWV9DT0RFUyxiPXcuaXNDdHJsS2V5LEM9KGw9ZSgiaGVscGVycy9hcnJheSIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuYXJyYXlFYWNoLFI9KHU9ZSgiaGVscGVycy9udW1iZXIiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLnJhbmdlRWFjaCxfPShjPWUoImhlbHBlcnMvZG9tL2V2ZW50IiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KSxTPV8uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLEU9Xy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCxUPShkPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLmdldFNlbGVjdGlvblRleHQsTT0oaD1lKCJoZWxwZXJzL2Z1bmN0aW9uIiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KS5wcm94eSxPPSgoZj1lKCJwbHVnaW5zIiksZiYmZi5fX2VzTW9kdWxlJiZmfHx7ImRlZmF1bHQiOmZ9KS5yZWdpc3RlclBsdWdpbiwocD1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9jb29yZHMiKSxwJiZwLl9fZXNNb2R1bGUmJnB8fHsiZGVmYXVsdCI6cH0pLldhbGtvbnRhYmxlQ2VsbENvb3Jkcyksaz0oZz1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9yYW5nZSIpLGcmJmcuX19lc01vZHVsZSYmZ3x8eyJkZWZhdWx0IjpnfSkuV2Fsa29udGFibGVDZWxsUmFuZ2U7SGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYWZ0ZXJJbml0IixyKSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlclVwZGF0ZVNldHRpbmdzIixyKSxIYW5kc29udGFibGUuaG9va3MucmVnaXN0ZXIoImFmdGVyQ29weUxpbWl0IiksSGFuZHNvbnRhYmxlLmhvb2tzLnJlZ2lzdGVyKCJtb2RpZnlDb3B5YWJsZVJhbmdlIil9LHsiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIjo1LCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9yYW5nZSI6NixTaGVldENsaXA6IlNoZWV0Q2xpcCIsY29weVBhc3RlOiJjb3B5UGFzdGUiLCJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9kb20vZWxlbWVudCI6NDUsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NiwiaGVscGVycy9mdW5jdGlvbiI6NDcsImhlbHBlcnMvbnVtYmVyIjo0OSwiaGVscGVycy91bmljb2RlIjo1MyxwbHVnaW5zOjU3fV0sNzQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbygpe312YXIgcixpLHMsYSxsPSgocj1lKCJwbHVnaW5zIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5yZWdpc3RlclBsdWdpbiwoaT1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9yYW5nZSIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuV2Fsa29udGFibGVDZWxsUmFuZ2UpLHU9KHM9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL3NlbGVjdGlvbiIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuV2Fsa29udGFibGVTZWxlY3Rpb24sYz1mdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlJiZlPT09ITA/ITA6Im9iamVjdCI9PXR5cGVvZiBlJiZlLmxlbmd0aD4wPyEwOiExfSxkPWZ1bmN0aW9uKCl7Yyh0aGlzLmdldFNldHRpbmdzKCkuY3VzdG9tQm9yZGVycykmJih0aGlzLmN1c3RvbUJvcmRlcnN8fChhPXRoaXMsdGhpcy5jdXN0b21Cb3JkZXJzPW5ldyBvKSl9LGg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxhLnZpZXcud3Quc2VsZWN0aW9ucy5sZW5ndGg7dCsrKWlmKGEudmlldy53dC5zZWxlY3Rpb25zW3RdLnNldHRpbmdzLmNsYXNzTmFtZT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sZj1mdW5jdGlvbihlKXt2YXIgdD17cm93OmUucm93LGNvbDplLmNvbH0sbj1uZXcgdShlLG5ldyBsKHQsdCx0KSksbz1oKGUuY2xhc3NOYW1lKTtvPj0wP2Eudmlldy53dC5zZWxlY3Rpb25zW29dPW46YS52aWV3Lnd0LnNlbGVjdGlvbnMucHVzaChuKX0scD1mdW5jdGlvbihlLHQsbil7dmFyIG89YihlLHQpO289QyhvLG4pLHRoaXMuc2V0Q2VsbE1ldGEoZSx0LCJib3JkZXJzIixvKSxmKG8pfSxnPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnJhbmdlLG49dC5mcm9tLnJvdztuPD10LnRvLnJvdztuKyspZm9yKHZhciBvPXQuZnJvbS5jb2w7bzw9dC50by5jb2w7bysrKXt2YXIgcj1iKG4sbyksaT0wO249PXQuZnJvbS5yb3cmJihpKyssZS5oYXNPd25Qcm9wZXJ0eSgidG9wIikmJihyLnRvcD1lLnRvcCkpLG49PXQudG8ucm93JiYoaSsrLGUuaGFzT3duUHJvcGVydHkoImJvdHRvbSIpJiYoci5ib3R0b209ZS5ib3R0b20pKSxvPT10LmZyb20uY29sJiYoaSsrLGUuaGFzT3duUHJvcGVydHkoImxlZnQiKSYmKHIubGVmdD1lLmxlZnQpKSxvPT10LnRvLmNvbCYmKGkrKyxlLmhhc093blByb3BlcnR5KCJyaWdodCIpJiYoci5yaWdodD1lLnJpZ2h0KSksaT4wJiYodGhpcy5zZXRDZWxsTWV0YShuLG8sImJvcmRlcnMiLHIpLGYocikpfX0sbT1mdW5jdGlvbihlLHQpe3JldHVybiJib3JkZXJfcm93IitlKyJjb2wiK3R9LHY9ZnVuY3Rpb24oKXtyZXR1cm57d2lkdGg6MSxjb2xvcjoiIzAwMCJ9fSx3PWZ1bmN0aW9uKCl7cmV0dXJue2hpZGU6ITB9fSx5PWZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOjEsY29sb3I6IiMwMDAiLGNvcm5lclZpc2libGU6ITF9fSxiPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2NsYXNzTmFtZTptKGUsdCksYm9yZGVyOnkoKSxyb3c6ZSxjb2w6dCx0b3A6dygpLHJpZ2h0OncoKSxib3R0b206dygpLGxlZnQ6dygpfX0sQz1mdW5jdGlvbihlLHQpe3JldHVybiB0Lmhhc093blByb3BlcnR5KCJib3JkZXIiKSYmKGUuYm9yZGVyPXQuYm9yZGVyKSx0Lmhhc093blByb3BlcnR5KCJ0b3AiKSYmKGUudG9wPXQudG9wKSx0Lmhhc093blByb3BlcnR5KCJyaWdodCIpJiYoZS5yaWdodD10LnJpZ2h0KSx0Lmhhc093blByb3BlcnR5KCJib3R0b20iKSYmKGUuYm90dG9tPXQuYm90dG9tKSx0Lmhhc093blByb3BlcnR5KCJsZWZ0IikmJihlLmxlZnQ9dC5sZWZ0KSxlfSxSPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuIitlKSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXSYmIlREIiE9dFtuXS5ub2RlTmFtZSl7dmFyIG89dFtuXS5wYXJlbnROb2RlO28ucGFyZW50Tm9kZSYmby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pfX0sXz1mdW5jdGlvbihlLHQpe3ZhciBuPW0oZSx0KTtSKG4pLHRoaXMucmVtb3ZlQ2VsbE1ldGEoZSx0LCJib3JkZXJzIil9LFM9ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIHI9dGhpcy5nZXRDZWxsTWV0YShlLHQpLmJvcmRlcnM7ciYmdm9pZCAwIT1yLmJvcmRlcnx8KHI9YihlLHQpKSxvP3Jbbl09dygpOnJbbl09digpLHRoaXMuc2V0Q2VsbE1ldGEoZSx0LCJib3JkZXJzIixyKTt2YXIgaT1tKGUsdCk7UihpKSxmKHIpLHRoaXMucmVuZGVyKCl9LEU9ZnVuY3Rpb24oZSx0LG4pe2lmKGUuZnJvbS5yb3c9PWUudG8ucm93JiZlLmZyb20uY29sPT1lLnRvLmNvbCkibm9Cb3JkZXJzIj09dD9fLmNhbGwodGhpcyxlLmZyb20ucm93LGUuZnJvbS5jb2wpOlMuY2FsbCh0aGlzLGUuZnJvbS5yb3csZS5mcm9tLmNvbCx0LG4pO2Vsc2Ugc3dpdGNoKHQpe2Nhc2Uibm9Cb3JkZXJzIjpmb3IodmFyIG89ZS5mcm9tLmNvbDtvPD1lLnRvLmNvbDtvKyspZm9yKHZhciByPWUuZnJvbS5yb3c7cjw9ZS50by5yb3c7cisrKV8uY2FsbCh0aGlzLHIsbyk7YnJlYWs7Y2FzZSJ0b3AiOmZvcih2YXIgaT1lLmZyb20uY29sO2k8PWUudG8uY29sO2krKylTLmNhbGwodGhpcyxlLmZyb20ucm93LGksdCxuKTticmVhaztjYXNlInJpZ2h0Ijpmb3IodmFyIHM9ZS5mcm9tLnJvdztzPD1lLnRvLnJvdztzKyspUy5jYWxsKHRoaXMscyxlLnRvLmNvbCx0KTticmVhaztjYXNlImJvdHRvbSI6Zm9yKHZhciBhPWUuZnJvbS5jb2w7YTw9ZS50by5jb2w7YSsrKVMuY2FsbCh0aGlzLGUudG8ucm93LGEsdCk7YnJlYWs7Y2FzZSJsZWZ0Ijpmb3IodmFyIGw9ZS5mcm9tLnJvdztsPD1lLnRvLnJvdztsKyspUy5jYWxsKHRoaXMsbCxlLmZyb20uY29sLHQpfX0sVD1mdW5jdGlvbihlLHQpe3ZhciBuPSExO3JldHVybiBlLmdldFNlbGVjdGVkUmFuZ2UoKS5mb3JBbGwoZnVuY3Rpb24obyxyKXt2YXIgaT1lLmdldENlbGxNZXRhKG8scikuYm9yZGVycztpZihpKXtpZighdClyZXR1cm4gbj0hMCwhMTtpZighaVt0XS5oYXNPd25Qcm9wZXJ0eSgiaGlkZSIpKXJldHVybiBuPSEwLCExfX0pLG59LE09ZnVuY3Rpb24oZSl7cmV0dXJuJzxzcGFuIGNsYXNzPSJzZWxlY3RlZCI+JytTdHJpbmcuZnJvbUNoYXJDb2RlKDEwMDAzKSsiPC9zcGFuPiIrZX0sTz1mdW5jdGlvbihlKXt0aGlzLmdldFNldHRpbmdzKCkuY3VzdG9tQm9yZGVycyYmKGUuaXRlbXMucHVzaChIYW5kc29udGFibGUucGx1Z2lucy5Db250ZXh0TWVudS5TRVBBUkFUT1IpLGUuaXRlbXMucHVzaCh7a2V5OiJib3JkZXJzIixuYW1lOiJCb3JkZXJzIixzdWJtZW51OntpdGVtczpbe2tleToiYm9yZGVyczp0b3AiLG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT0iVG9wIix0PVQodGhpcywidG9wIik7cmV0dXJuIHQmJihlPU0oZSkpLGV9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9VCh0aGlzLCJ0b3AiKTtFLmNhbGwodGhpcyx0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSwidG9wIixlKX0sZGlzYWJsZWQ6ITF9LHtrZXk6ImJvcmRlcnM6cmlnaHQiLG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT0iUmlnaHQiLHQ9VCh0aGlzLCJyaWdodCIpO3JldHVybiB0JiYoZT1NKGUpKSxlfSxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPVQodGhpcywicmlnaHQiKTtFLmNhbGwodGhpcyx0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSwicmlnaHQiLGUpfSxkaXNhYmxlZDohMX0se2tleToiYm9yZGVyczpib3R0b20iLG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT0iQm90dG9tIix0PVQodGhpcywiYm90dG9tIik7cmV0dXJuIHQmJihlPU0oZSkpLGV9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9VCh0aGlzLCJib3R0b20iKTtFLmNhbGwodGhpcyx0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSwiYm90dG9tIixlKX0sZGlzYWJsZWQ6ITF9LHtrZXk6ImJvcmRlcnM6bGVmdCIsbmFtZTpmdW5jdGlvbigpe3ZhciBlPSJMZWZ0Iix0PVQodGhpcywibGVmdCIpO3JldHVybiB0JiYoZT1NKGUpKSxlfSxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPVQodGhpcywibGVmdCIpO0UuY2FsbCh0aGlzLHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLCJsZWZ0IixlKX0sZGlzYWJsZWQ6ITF9LHtrZXk6ImJvcmRlcnM6bm9fYm9yZGVycyIsbmFtZToiUmVtb3ZlIGJvcmRlcihzKSIsY2FsbGJhY2s6ZnVuY3Rpb24oKXtFLmNhbGwodGhpcyx0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSwibm9Cb3JkZXJzIil9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIVQodGhpcyl9fV19fSkpfTtIYW5kc29udGFibGUuaG9va3MuYWRkKCJiZWZvcmVJbml0IixkKSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlckNvbnRleHRNZW51RGVmYXVsdE9wdGlvbnMiLE8pLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVySW5pdCIsZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldFNldHRpbmdzKCkuY3VzdG9tQm9yZGVycztpZihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdLnJhbmdlP2cuY2FsbCh0aGlzLGVbdF0pOnAuY2FsbCh0aGlzLGVbdF0ucm93LGVbdF0uY29sLGVbdF0pO3RoaXMucmVuZGVyKCksdGhpcy52aWV3Lnd0LmRyYXcoITApfX0pLEhhbmRzb250YWJsZS5DdXN0b21Cb3JkZXJzPW99LHsiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvcmFuZ2UiOjYsIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9zZWxlY3Rpb24iOjE4LHBsdWdpbnM6NTd9XSw3NTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKCl7dGhpcy5ib3VuZGFyaWVzPW51bGwsdGhpcy5jYWxsYmFjaz1udWxsfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0RyYWdUb1Njcm9sbDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHM9KHI9ZSgiZXZlbnRNYW5hZ2VyIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5ldmVudE1hbmFnZXI7KGk9ZSgicGx1Z2lucyIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkucmVnaXN0ZXJQbHVnaW47SGFuZHNvbnRhYmxlLnBsdWdpbnMuRHJhZ1RvU2Nyb2xsPW8sby5wcm90b3R5cGUuc2V0Qm91bmRhcmllcz1mdW5jdGlvbihlKXt0aGlzLmJvdW5kYXJpZXM9ZX0sby5wcm90b3R5cGUuc2V0Q2FsbGJhY2s9ZnVuY3Rpb24oZSl7dGhpcy5jYWxsYmFjaz1lfSxvLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbihlLHQpe3ZhciBuPTAsbz0wO3Q8dGhpcy5ib3VuZGFyaWVzLnRvcD9vPXQtdGhpcy5ib3VuZGFyaWVzLnRvcDp0PnRoaXMuYm91bmRhcmllcy5ib3R0b20mJihvPXQtdGhpcy5ib3VuZGFyaWVzLmJvdHRvbSksZTx0aGlzLmJvdW5kYXJpZXMubGVmdD9uPWUtdGhpcy5ib3VuZGFyaWVzLmxlZnQ6ZT50aGlzLmJvdW5kYXJpZXMucmlnaHQmJihuPWUtdGhpcy5ib3VuZGFyaWVzLnJpZ2h0KSx0aGlzLmNhbGxiYWNrKG4sbyl9O3ZhciBhLGw9ZnVuY3Rpb24oZSl7ZS5kcmFnVG9TY3JvbGxMaXN0ZW5pbmc9ITE7dmFyIHQ9ZS52aWV3Lnd0Lnd0VGFibGUuaG9sZGVyO2E9bmV3IG8sdCE9PXdpbmRvdyYmKGEuc2V0Qm91bmRhcmllcyh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxhLnNldENhbGxiYWNrKGZ1bmN0aW9uKGUsbil7MD5lP3Quc2Nyb2xsTGVmdC09NTA6ZT4wJiYodC5zY3JvbGxMZWZ0Kz01MCksMD5uP3Quc2Nyb2xsVG9wLT0yMDpuPjAmJih0LnNjcm9sbFRvcCs9MjApfSksZS5kcmFnVG9TY3JvbGxMaXN0ZW5pbmc9ITApfTtIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlckluaXQiLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXModGhpcyk7dC5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZXVwIixmdW5jdGlvbigpe2UuZHJhZ1RvU2Nyb2xsTGlzdGVuaW5nPSExfSksdC5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe2UuZHJhZ1RvU2Nyb2xsTGlzdGVuaW5nJiZhLmNoZWNrKHQuY2xpZW50WCx0LmNsaWVudFkpfSl9KSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlckRlc3Ryb3kiLGZ1bmN0aW9uKCl7cyh0aGlzKS5jbGVhcigpfSksSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYWZ0ZXJPbkNlbGxNb3VzZURvd24iLGZ1bmN0aW9uKCl7bCh0aGlzKX0pLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVyT25DZWxsQ29ybmVyTW91c2VEb3duIixmdW5jdGlvbigpe2wodGhpcyl9KSxIYW5kc29udGFibGUucGx1Z2lucy5EcmFnVG9TY3JvbGw9b30se2V2ZW50TWFuYWdlcjo0MSxwbHVnaW5zOjU3fV0sNzY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7TWFudWFsQ29sdW1uRnJlZXplOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaT0obz1lKCJfYmFzZSIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxzPShyPWUoInBsdWdpbnMiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLnJlZ2lzdGVyUGx1Z2luLGE9ZnVuY3Rpb24oZSl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IobCkuY2FsbCh0aGlzLGUpfSxsPWE7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGEse2lzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5tYW51YWxDb2x1bW5GcmVlemV9LGVuYWJsZVBsdWdpbjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5lbmFibGVkfHwodGhpcy5hZGRIb29rKCJtb2RpZnlDb2wiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW9kaWZ5Q29sKHQpfSksdGhpcy5hZGRIb29rKCJhZnRlckNvbnRleHRNZW51RGVmYXVsdE9wdGlvbnMiLGZ1bmN0aW9uKHQpe3JldHVybiBlLmFkZENvbnRleHRNZW51RW50cnkodCl9KSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxsLnByb3RvdHlwZSwiZW5hYmxlUGx1Z2luIikuY2FsbCh0aGlzKSl9LGRpc2FibGVQbHVnaW46ZnVuY3Rpb24oKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxsLnByb3RvdHlwZSwiZGlzYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9LGluaXQ6ZnVuY3Rpb24oKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxsLnByb3RvdHlwZSwiaW5pdCIpLmNhbGwodGhpcyksInVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLmhvdC5tYW51YWxDb2x1bW5Qb3NpdGlvbnNQbHVnaW5Vc2FnZXM/dGhpcy5ob3QubWFudWFsQ29sdW1uUG9zaXRpb25zUGx1Z2luVXNhZ2VzPVsibWFudWFsQ29sdW1uRnJlZXplIl06dGhpcy5ob3QubWFudWFsQ29sdW1uUG9zaXRpb25zUGx1Z2luVXNhZ2VzLnB1c2goIm1hbnVhbENvbHVtbkZyZWV6ZSIpLHRoaXMuZml4ZWRDb2x1bW5zQ291bnQ9dGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5maXhlZENvbHVtbnNMZWZ0fSxvbk1vZGlmeUNvbDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ob3QubWFudWFsQ29sdW1uUG9zaXRpb25zUGx1Z2luVXNhZ2VzLmxlbmd0aD4xP2U6dGhpcy5nZXRNb2RpZmllZENvbHVtbkluZGV4KGUpfSxnZXRNb2RpZmllZENvbHVtbkluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmhvdC5tYW51YWxDb2x1bW5Qb3NpdGlvbnNbZV19LGFkZENvbnRleHRNZW51RW50cnk6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLml0ZW1zLnB1c2goSGFuZHNvbnRhYmxlLnBsdWdpbnMuQ29udGV4dE1lbnUuU0VQQVJBVE9SLHtrZXk6ImZyZWV6ZV9jb2x1bW4iLG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT10LmhvdC5nZXRTZWxlY3RlZCgpWzFdO3JldHVybiBlPnQuZml4ZWRDb2x1bW5zQ291bnQtMT8iRnJlZXplIHRoaXMgY29sdW1uIjoiVW5mcmVlemUgdGhpcyBjb2x1bW4ifSxkaXNhYmxlZDpmdW5jdGlvbigpe3ZhciBlPXQuaG90LmdldFNlbGVjdGVkKCk7cmV0dXJuIGVbMV0hPT1lWzNdfSxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPXQuaG90LmdldFNlbGVjdGVkKClbMV07ZT50LmZpeGVkQ29sdW1uc0NvdW50LTE/dC5mcmVlemVDb2x1bW4oZSk6dC51bmZyZWV6ZUNvbHVtbihlKX19KX0sZnJlZXplQ29sdW1uOmZ1bmN0aW9uKGUpe2lmKCEoZTw9dGhpcy5maXhlZENvbHVtbnNDb3VudC0xKSl7dmFyIHQ9dGhpcy5nZXRNb2RpZmllZENvbHVtbkluZGV4KGUpfHxlO3RoaXMuY2hlY2tQb3NpdGlvbkRhdGEodCksdGhpcy5tb2RpZnlDb2x1bW5PcmRlcih0LGUsbnVsbCwiZnJlZXplIiksdGhpcy5hZGRGaXhlZENvbHVtbigpLHRoaXMuaG90LnZpZXcud3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5yZWZyZXNoKCksdGhpcy5ob3Qudmlldy53dC53dE92ZXJsYXlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpfX0sdW5mcmVlemVDb2x1bW46ZnVuY3Rpb24oZSl7aWYoIShlPnRoaXMuZml4ZWRDb2x1bW5zQ291bnQtMSkpe3ZhciB0PXRoaXMuZ2V0QmVzdENvbHVtblJldHVyblBvc2l0aW9uKGUpLG49dGhpcy5nZXRNb2RpZmllZENvbHVtbkluZGV4KGUpfHxlO3RoaXMuY2hlY2tQb3NpdGlvbkRhdGEobiksdGhpcy5tb2RpZnlDb2x1bW5PcmRlcihuLGUsdCwidW5mcmVlemUiKSx0aGlzLnJlbW92ZUZpeGVkQ29sdW1uKCksdGhpcy5ob3Qudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LnJlZnJlc2goKSx0aGlzLmhvdC52aWV3Lnd0Lnd0T3ZlcmxheXMuYWRqdXN0RWxlbWVudHNTaXplKCl9fSxhZGRGaXhlZENvbHVtbjpmdW5jdGlvbigpe3RoaXMuaG90LnVwZGF0ZVNldHRpbmdzKHtmaXhlZENvbHVtbnNMZWZ0OnRoaXMuZml4ZWRDb2x1bW5zQ291bnQrMX0pLHRoaXMuZml4ZWRDb2x1bW5zQ291bnQrK30scmVtb3ZlRml4ZWRDb2x1bW46ZnVuY3Rpb24oKXt0aGlzLmhvdC51cGRhdGVTZXR0aW5ncyh7Zml4ZWRDb2x1bW5zTGVmdDp0aGlzLmZpeGVkQ29sdW1uc0NvdW50LTF9KSx0aGlzLmZpeGVkQ29sdW1uc0NvdW50LS19LGNoZWNrUG9zaXRpb25EYXRhOmZ1bmN0aW9uKGUpe3RoaXMuaG90Lm1hbnVhbENvbHVtblBvc2l0aW9ucyYmMCE9PXRoaXMuaG90Lm1hbnVhbENvbHVtblBvc2l0aW9ucy5sZW5ndGh8fHRoaXMuaG90Lm1hbnVhbENvbHVtblBvc2l0aW9uc3x8KHRoaXMuaG90Lm1hbnVhbENvbHVtblBvc2l0aW9ucz1bXSksZT90aGlzLmhvdC5tYW51YWxDb2x1bW5Qb3NpdGlvbnNbZV18fHRoaXMuY3JlYXRlUG9zaXRpb25EYXRhKGUrMSk6dGhpcy5jcmVhdGVQb3NpdGlvbkRhdGEodGhpcy5ob3QuY291bnRDb2xzKCkpfSxjcmVhdGVQb3NpdGlvbkRhdGE6ZnVuY3Rpb24oZSl7aWYodGhpcy5ob3QubWFudWFsQ29sdW1uUG9zaXRpb25zLmxlbmd0aDxlKWZvcih2YXIgdD10aGlzLmhvdC5tYW51YWxDb2x1bW5Qb3NpdGlvbnMubGVuZ3RoO2U+dDt0KyspdGhpcy5ob3QubWFudWFsQ29sdW1uUG9zaXRpb25zW3RdPXR9LG1vZGlmeUNvbHVtbk9yZGVyOmZ1bmN0aW9uKGUsdCxuLG8pe251bGw9PW4mJihuPWUpLCJmcmVlemUiPT09bz90aGlzLmhvdC5tYW51YWxDb2x1bW5Qb3NpdGlvbnMuc3BsaWNlKHRoaXMuZml4ZWRDb2x1bW5zQ291bnQsMCx0aGlzLmhvdC5tYW51YWxDb2x1bW5Qb3NpdGlvbnMuc3BsaWNlKHQsMSlbMF0pOiJ1bmZyZWV6ZSI9PT1vJiZ0aGlzLmhvdC5tYW51YWxDb2x1bW5Qb3NpdGlvbnMuc3BsaWNlKG4sMCx0aGlzLmhvdC5tYW51YWxDb2x1bW5Qb3NpdGlvbnMuc3BsaWNlKHQsMSlbMF0pfSxnZXRCZXN0Q29sdW1uUmV0dXJuUG9zaXRpb246ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuZml4ZWRDb2x1bW5zQ291bnQsbj10aGlzLmdldE1vZGlmaWVkQ29sdW1uSW5kZXgodCksbz10aGlzLmdldE1vZGlmaWVkQ29sdW1uSW5kZXgoZSk7bz5uOyl0Kyssbj10aGlzLmdldE1vZGlmaWVkQ29sdW1uSW5kZXgodCk7cmV0dXJuIHQtMX19LHt9LGkpLHMoIm1hbnVhbENvbHVtbkZyZWV6ZSIsYSl9LHtfYmFzZTo1OCxwbHVnaW5zOjU3fV0sNzc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbygpe2Z1bmN0aW9uIGUoZSl7Zz10aGlzLG09ZTt2YXIgdD10aGlzLnZpZXcud3Qud3RUYWJsZS5nZXRDb29yZHMoZSkuY29sO2lmKHQ+PTApe2Y9dDt2YXIgbj1tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2w9bi5sZWZ0LHYuc3R5bGUudG9wPW4udG9wKyJweCIsdi5zdHlsZS5sZWZ0PWwrInB4IixnLnJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHYpfX1mdW5jdGlvbiB0KGUsdCl7dmFyIG49ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPTY7dD4wP3Yuc3R5bGUubGVmdD1uLmxlZnQrbi53aWR0aC1vKyJweCI6di5zdHlsZS5sZWZ0PW4ubGVmdCsicHgifWZ1bmN0aW9uIG4oKXt2YXIgZT10aGlzO3UodiwiYWN0aXZlIiksdSh3LCJhY3RpdmUiKTt2YXIgdD1tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3cuc3R5bGUud2lkdGg9dC53aWR0aCsicHgiLHcuc3R5bGUuaGVpZ2h0PWUudmlldy5tYXhpbXVtVmlzaWJsZUVsZW1lbnRIZWlnaHQoMCkrInB4Iix3LnN0eWxlLnRvcD12LnN0eWxlLnRvcCx3LnN0eWxlLmxlZnQ9bCsicHgiLGUucm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodyl9ZnVuY3Rpb24gbyhlKXt3LnN0eWxlLmxlZnQ9bCtlKyJweCJ9ZnVuY3Rpb24gcigpe2QodiwiYWN0aXZlIiksZCh3LCJhY3RpdmUiKX12YXIgaSxzLGEsbCxmLGcsbSx2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIikseT1oKHRoaXMpO3YuY2xhc3NOYW1lPSJtYW51YWxDb2x1bW5Nb3ZlciIsdy5jbGFzc05hbWU9Im1hbnVhbENvbHVtbk1vdmVyR3VpZGUiO3ZhciBiPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztIYW5kc29udGFibGUuaG9va3MucnVuKGUsInBlcnNpc3RlbnRTdGF0ZVNhdmUiLCJtYW51YWxDb2x1bW5Qb3NpdGlvbnMiLGUubWFudWFsQ29sdW1uUG9zaXRpb25zKX0sQz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17fTtyZXR1cm4gSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihlLCJwZXJzaXN0ZW50U3RhdGVMb2FkIiwibWFudWFsQ29sdW1uUG9zaXRpb25zIix0KSx0LnZhbHVlfSxSPWZ1bmN0aW9uKGUpe2lmKGUhPXRoaXMucm9vdEVsZW1lbnQpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4iVEhFQUQiPT09dC50YWdOYW1lPyEwOlIuY2FsbCh0aGlzLHQpfXJldHVybiExfSxfPWZ1bmN0aW9uKGUpe3JldHVybiJUQUJMRSIhPWUudGFnTmFtZT8iVEgiPT1lLnRhZ05hbWU/ZTpfKGUucGFyZW50Tm9kZSk6bnVsbH0sUz1mdW5jdGlvbigpe3ZhciBsLHU9dGhpczt5LmFkZEV2ZW50TGlzdGVuZXIodS5yb290RWxlbWVudCwibW91c2VvdmVyIixmdW5jdGlvbihuKXtpZihSLmNhbGwodSxuLnRhcmdldCkpe3ZhciBvPV8obi50YXJnZXQpO2lmKG8paWYobCl7dmFyIHI9dS52aWV3Lnd0Lnd0VGFibGUuZ2V0Q29vcmRzKG8pLmNvbDtyPj0wJiYocz1yLHQobi50YXJnZXQscy1pKSl9ZWxzZSBlLmNhbGwodSxvKX19KSx5LmFkZEV2ZW50TGlzdGVuZXIodS5yb290RWxlbWVudCwibW91c2Vkb3duIixmdW5jdGlvbihlKXtjKGUudGFyZ2V0LCJtYW51YWxDb2x1bW5Nb3ZlciIpJiYoYT1wKGUpLG4uY2FsbCh1KSxsPXUsaT1mLHM9Zil9KSx5LmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCJtb3VzZW1vdmUiLGZ1bmN0aW9uKGUpe2wmJm8ocChlKS1hKX0pLHkuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIm1vdXNldXAiLGZ1bmN0aW9uKHQpe2wmJihyKCksbD0hMSxUKHUubWFudWFsQ29sdW1uUG9zaXRpb25zLHUuY291bnRDb2xzKCkpLHUubWFudWFsQ29sdW1uUG9zaXRpb25zLnNwbGljZShzLDAsdS5tYW51YWxDb2x1bW5Qb3NpdGlvbnMuc3BsaWNlKGksMSlbMF0pLEhhbmRzb250YWJsZS5ob29rcy5ydW4odSwiYmVmb3JlQ29sdW1uTW92ZSIsaSxzKSx1LmZvcmNlRnVsbFJlbmRlcj0hMCx1LnZpZXcucmVuZGVyKCksYi5jYWxsKHUpLEhhbmRzb250YWJsZS5ob29rcy5ydW4odSwiYWZ0ZXJDb2x1bW5Nb3ZlIixpLHMpLGUuY2FsbCh1LG0pKX0pLHUuYWRkSG9vaygiYWZ0ZXJEZXN0cm95IixFKX0sRT1mdW5jdGlvbigpe3kuY2xlYXIoKX0sVD1mdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoPHQpZm9yKHZhciBuPWUubGVuZ3RoO3Q+bjtuKyspZVtuXT1ufTt0aGlzLmJlZm9yZUluaXQ9ZnVuY3Rpb24oKXt0aGlzLm1hbnVhbENvbHVtblBvc2l0aW9ucz1bXX0sdGhpcy5pbml0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj0hIXRoaXMuZ2V0U2V0dGluZ3MoKS5tYW51YWxDb2x1bW5Nb3ZlO2lmKG4pe3ZhciBvPXRoaXMuZ2V0U2V0dGluZ3MoKS5tYW51YWxDb2x1bW5Nb3ZlLHI9Qy5jYWxsKHQpOyJ1bmRlZmluZWQiIT10eXBlb2Ygcj90aGlzLm1hbnVhbENvbHVtblBvc2l0aW9ucz1yOkFycmF5LmlzQXJyYXkobyk/dGhpcy5tYW51YWxDb2x1bW5Qb3NpdGlvbnM9bzpvJiZ2b2lkIDAhPT10aGlzLm1hbnVhbENvbHVtblBvc2l0aW9uc3x8KHRoaXMubWFudWFsQ29sdW1uUG9zaXRpb25zPVtdKSwoImFmdGVySW5pdCI9PT1lfHwiYWZ0ZXJVcGRhdGVTZXR0aW5ncyI9PT1lJiYwPT09eS5jb250ZXh0LmV2ZW50TGlzdGVuZXJzLmxlbmd0aCkmJigidW5kZWZpbmVkIj09dHlwZW9mIHQubWFudWFsQ29sdW1uUG9zaXRpb25zUGx1Z2luVXNhZ2VzP3QubWFudWFsQ29sdW1uUG9zaXRpb25zUGx1Z2luVXNhZ2VzPVsibWFudWFsQ29sdW1uTW92ZSJdOnQubWFudWFsQ29sdW1uUG9zaXRpb25zUGx1Z2luVXNhZ2VzLnB1c2goIm1hbnVhbENvbHVtbk1vdmUiKSxFLmNhbGwodGhpcyksUy5jYWxsKHRoaXMpLHRoaXMubWFudWFsQ29sdW1uUG9zaXRpb25zJiZ0aGlzLm1hbnVhbENvbHVtblBvc2l0aW9ucy5sZW5ndGg+MCYmKHRoaXMuZm9yY2VGdWxsUmVuZGVyPSEwLHRoaXMucmVuZGVyKCkpKX1lbHNle3ZhciBpPXQubWFudWFsQ29sdW1uUG9zaXRpb25zUGx1Z2luVXNhZ2VzP3QubWFudWFsQ29sdW1uUG9zaXRpb25zUGx1Z2luVXNhZ2VzLmluZGV4T2YoIm1hbnVhbENvbHVtbk1vdmUiKTotMTtpPi0xJiYoRS5jYWxsKHRoaXMpLHRoaXMubWFudWFsQ29sdW1uUG9zaXRpb25zPVtdLHQubWFudWFsQ29sdW1uUG9zaXRpb25zUGx1Z2luVXNhZ2VzW2ldPXZvaWQgMCl9fSx0aGlzLm1vZGlmeUNvbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRTZXR0aW5ncygpLm1hbnVhbENvbHVtbk1vdmU/KCJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy5tYW51YWxDb2x1bW5Qb3NpdGlvbnNbZV0mJlQodGhpcy5tYW51YWxDb2x1bW5Qb3NpdGlvbnMsZSsxKSx0aGlzLm1hbnVhbENvbHVtblBvc2l0aW9uc1tlXSk6ZX0sdGhpcy5hZnRlclJlbW92ZUNvbD1mdW5jdGlvbihlLHQpe2lmKHRoaXMuZ2V0U2V0dGluZ3MoKS5tYW51YWxDb2x1bW5Nb3ZlKXt2YXIgbixvPXRoaXMubWFudWFsQ29sdW1uUG9zaXRpb25zO249by5zcGxpY2UoZSx0KSxvPW8ubWFwKGZ1bmN0aW9uKGUpe3ZhciB0LG89ZTtmb3IodD0wO3Q8bi5sZW5ndGg7dCsrKWU+blt0XSYmby0tO3JldHVybiBvfSksdGhpcy5tYW51YWxDb2x1bW5Qb3NpdGlvbnM9b319LHRoaXMuYWZ0ZXJDcmVhdGVDb2w9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmdldFNldHRpbmdzKCkubWFudWFsQ29sdW1uTW92ZSl7dmFyIG49dGhpcy5tYW51YWxDb2x1bW5Qb3NpdGlvbnM7aWYobi5sZW5ndGgpe2Zvcih2YXIgbz1bXSxyPTA7dD5yO3IrKylvLnB1c2goZStyKTtlPj1uLmxlbmd0aD9uLmNvbmNhdChvKToobj1uLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbj49ZT9uK3Q6bn0pLG4uc3BsaWNlLmFwcGx5KG4sW2UsMF0uY29uY2F0KG8pKSksdGhpcy5tYW51YWxDb2x1bW5Qb3NpdGlvbnM9bn19fX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtNYW51YWxDb2x1bW5Nb3ZlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGkscyxhLGw9KHI9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksdT1sLmFkZENsYXNzLGM9bC5oYXNDbGFzcyxkPWwucmVtb3ZlQ2xhc3MsaD0oaT1lKCJldmVudE1hbmFnZXIiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmV2ZW50TWFuYWdlcixmPShzPWUoImhlbHBlcnMvZG9tL2V2ZW50IikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KSxwPWYucGFnZVgsZz0oZi5wYWdlWSwoYT1lKCJwbHVnaW5zIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5yZWdpc3RlclBsdWdpbixuZXcgbyk7SGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYmVmb3JlSW5pdCIsZy5iZWZvcmVJbml0KSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlckluaXQiLGZ1bmN0aW9uKCl7Zy5pbml0LmNhbGwodGhpcywiYWZ0ZXJJbml0Iil9KSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlclVwZGF0ZVNldHRpbmdzIixmdW5jdGlvbigpe2cuaW5pdC5jYWxsKHRoaXMsImFmdGVyVXBkYXRlU2V0dGluZ3MiKX0pLEhhbmRzb250YWJsZS5ob29rcy5hZGQoIm1vZGlmeUNvbCIsZy5tb2RpZnlDb2wpLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVyUmVtb3ZlQ29sIixnLmFmdGVyUmVtb3ZlQ29sKSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlckNyZWF0ZUNvbCIsZy5hZnRlckNyZWF0ZUNvbCksSGFuZHNvbnRhYmxlLmhvb2tzLnJlZ2lzdGVyKCJiZWZvcmVDb2x1bW5Nb3ZlIiksSGFuZHNvbnRhYmxlLmhvb2tzLnJlZ2lzdGVyKCJhZnRlckNvbHVtbk1vdmUiKX0se2V2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9kb20vZWxlbWVudCI6NDUsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NixwbHVnaW5zOjU3fV0sNzg6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7TWFudWFsQ29sdW1uUmVzaXplOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGEsbD0obz1lKCJfYmFzZS5qcyIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSx1PShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGM9dS5hZGRDbGFzcyxkPXUuaGFzQ2xhc3MsaD11LnJlbW92ZUNsYXNzLGY9KGk9ZSgiZXZlbnRNYW5hZ2VyIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5ldmVudE1hbmFnZXIscD0ocz1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksZz1wLnBhZ2VYLG09KHAucGFnZVksKGE9ZSgicGx1Z2lucyIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkucmVnaXN0ZXJQbHVnaW4pLHY9ZnVuY3Rpb24oZSl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IodykuY2FsbCh0aGlzLGUpLHRoaXMuY3VycmVudFRIPW51bGwsdGhpcy5jdXJyZW50Q29sPW51bGwsdGhpcy5jdXJyZW50V2lkdGg9bnVsbCx0aGlzLm5ld1NpemU9bnVsbCx0aGlzLnN0YXJ0WT1udWxsLHRoaXMuc3RhcnRXaWR0aD1udWxsLHRoaXMuc3RhcnRPZmZzZXQ9bnVsbCx0aGlzLmhhbmRsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmd1aWRlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLHRoaXMuZXZlbnRNYW5hZ2VyPWYodGhpcyksdGhpcy5wcmVzc2VkPW51bGwsdGhpcy5kYmxjbGljaz0wLHRoaXMuYXV0b3Jlc2l6ZVRpbWVvdXQ9bnVsbCx0aGlzLm1hbnVhbENvbHVtbldpZHRocz1bXSxjKHRoaXMuaGFuZGxlLCJtYW51YWxDb2x1bW5SZXNpemVyIiksYyh0aGlzLmd1aWRlLCJtYW51YWxDb2x1bW5SZXNpemVyR3VpZGUiKX0sdz12OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyh2LHtpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5tYW51YWxDb2x1bW5SZXNpemV9LGVuYWJsZVBsdWdpbjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMuZW5hYmxlZCl7dGhpcy5tYW51YWxDb2x1bW5XaWR0aHM9W107dmFyIHQ9dGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5tYW51YWxDb2x1bW5SZXNpemUsbj10aGlzLmxvYWRNYW51YWxDb2x1bW5XaWR0aHMoKTt0aGlzLmFkZEhvb2soIm1vZGlmeUNvbFdpZHRoIixmdW5jdGlvbih0LG4pe3JldHVybiBlLm9uTW9kaWZ5Q29sV2lkdGgodCxuKX0pLHRoaXMuYWRkSG9vaygiYmVmb3JlU3RyZXRjaGluZ0NvbHVtbldpZHRoIixmdW5jdGlvbih0LG4pe3JldHVybiBlLm9uQmVmb3JlU3RyZXRjaGluZ0NvbHVtbldpZHRoKHQsbil9KSwidW5kZWZpbmVkIiE9dHlwZW9mIG4/dGhpcy5tYW51YWxDb2x1bW5XaWR0aHM9bjpBcnJheS5pc0FycmF5KHQpP3RoaXMubWFudWFsQ29sdW1uV2lkdGhzPXQ6dGhpcy5tYW51YWxDb2x1bW5XaWR0aHM9W10sSGFuZHNvbnRhYmxlLmhvb2tzLnJlZ2lzdGVyKCJiZWZvcmVDb2x1bW5SZXNpemUiKSxIYW5kc29udGFibGUuaG9va3MucmVnaXN0ZXIoImFmdGVyQ29sdW1uUmVzaXplIiksdGhpcy5iaW5kRXZlbnRzKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsdy5wcm90b3R5cGUsImVuYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9fSx1cGRhdGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvdC5nZXRTZXR0aW5ncygpLm1hbnVhbENvbHVtblJlc2l6ZTtBcnJheS5pc0FycmF5KGUpP3RoaXMubWFudWFsQ29sdW1uV2lkdGhzPWU6ZXx8KHRoaXMubWFudWFsQ29sdW1uV2lkdGhzPVtdKX0sZGlzYWJsZVBsdWdpbjpmdW5jdGlvbigpeyR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLHcucHJvdG90eXBlLCJkaXNhYmxlUGx1Z2luIikuY2FsbCh0aGlzKX0sc2F2ZU1hbnVhbENvbHVtbldpZHRoczpmdW5jdGlvbigpe3RoaXMuaG90LnJ1bkhvb2tzKCJwZXJzaXN0ZW50U3RhdGVTYXZlIiwibWFudWFsQ29sdW1uV2lkdGhzIix0aGlzLm1hbnVhbENvbHVtbldpZHRocyl9LGxvYWRNYW51YWxDb2x1bW5XaWR0aHM6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdGhpcy5ob3QucnVuSG9va3MoInBlcnNpc3RlbnRTdGF0ZUxvYWQiLCJtYW51YWxDb2x1bW5XaWR0aHMiLGUpLGUudmFsdWV9LHNldHVwSGFuZGxlUG9zaXRpb246ZnVuY3Rpb24oZSl7dGhpcy5jdXJyZW50VEg9ZTt2YXIgdD10aGlzLmhvdC52aWV3Lnd0Lnd0VGFibGUuZ2V0Q29vcmRzKGUpLmNvbDtpZih0Pj0wKXt2YXIgbj10aGlzLmN1cnJlbnRUSC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLmN1cnJlbnRDb2w9dCx0aGlzLnN0YXJ0T2Zmc2V0PW4ubGVmdC02LHRoaXMuc3RhcnRXaWR0aD1wYXJzZUludChuLndpZHRoLDEwKSx0aGlzLmhhbmRsZS5zdHlsZS50b3A9bi50b3ArInB4Iix0aGlzLmhhbmRsZS5zdHlsZS5sZWZ0PXRoaXMuc3RhcnRPZmZzZXQrdGhpcy5zdGFydFdpZHRoKyJweCIsdGhpcy5ob3Qucm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5oYW5kbGUpfX0scmVmcmVzaEhhbmRsZVBvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuc3R5bGUubGVmdD10aGlzLnN0YXJ0T2Zmc2V0K3RoaXMuY3VycmVudFdpZHRoKyJweCJ9LHNldHVwR3VpZGVQb3NpdGlvbjpmdW5jdGlvbigpe2ModGhpcy5oYW5kbGUsImFjdGl2ZSIpLGModGhpcy5ndWlkZSwiYWN0aXZlIiksdGhpcy5ndWlkZS5zdHlsZS50b3A9dGhpcy5oYW5kbGUuc3R5bGUudG9wLHRoaXMuZ3VpZGUuc3R5bGUubGVmdD10aGlzLmhhbmRsZS5zdHlsZS5sZWZ0LHRoaXMuZ3VpZGUuc3R5bGUuaGVpZ2h0PXRoaXMuaG90LnZpZXcubWF4aW11bVZpc2libGVFbGVtZW50SGVpZ2h0KDApKyJweCIsdGhpcy5ob3Qucm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5ndWlkZSl9LHJlZnJlc2hHdWlkZVBvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy5ndWlkZS5zdHlsZS5sZWZ0PXRoaXMuaGFuZGxlLnN0eWxlLmxlZnR9LGhpZGVIYW5kbGVBbmRHdWlkZTpmdW5jdGlvbigpe2godGhpcy5oYW5kbGUsImFjdGl2ZSIpLGgodGhpcy5ndWlkZSwiYWN0aXZlIil9LGNoZWNrSWZDb2x1bW5IZWFkZXI6ZnVuY3Rpb24oZSl7aWYoZSE9dGhpcy5ob3Qucm9vdEVsZW1lbnQpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4iVEhFQUQiPT09dC50YWdOYW1lPyEwOnRoaXMuY2hlY2tJZkNvbHVtbkhlYWRlcih0KX1yZXR1cm4hMX0sZ2V0VEhGcm9tVGFyZ2V0RWxlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4iVEFCTEUiIT1lLnRhZ05hbWU/IlRIIj09ZS50YWdOYW1lP2U6dGhpcy5nZXRUSEZyb21UYXJnZXRFbGVtZW50KGUucGFyZW50Tm9kZSk6bnVsbH0sb25Nb3VzZU92ZXI6ZnVuY3Rpb24oZSl7aWYodGhpcy5jaGVja0lmQ29sdW1uSGVhZGVyKGUudGFyZ2V0KSl7dmFyIHQ9dGhpcy5nZXRUSEZyb21UYXJnZXRFbGVtZW50KGUudGFyZ2V0KTtpZighdClyZXR1cm47dmFyIG49dC5nZXRBdHRyaWJ1dGUoImNvbHNwYW4iKTshdHx8bnVsbCE9PW4mJjEhPT1ufHx0aGlzLnByZXNzZWR8fHRoaXMuc2V0dXBIYW5kbGVQb3NpdGlvbih0KX19LGFmdGVyTW91c2VEb3duVGltZW91dDpmdW5jdGlvbigpe2lmKHRoaXMuZGJsY2xpY2s+PTIpe3ZhciBlPXRoaXMuaG90LnJ1bkhvb2tzKCJiZWZvcmVDb2x1bW5SZXNpemUiLHRoaXMuY3VycmVudENvbCx0aGlzLm5ld1NpemUsITApO3ZvaWQgMCE9PWUmJih0aGlzLm5ld1NpemU9ZSksImFsbCI9PT10aGlzLmhvdC5nZXRTZXR0aW5ncygpLnN0cmV0Y2hIP3RoaXMuY2xlYXJNYW51YWxTaXplKHRoaXMuY3VycmVudENvbCk6dGhpcy5zZXRNYW51YWxTaXplKHRoaXMuY3VycmVudENvbCx0aGlzLm5ld1NpemUpLHRoaXMuaG90LmZvcmNlRnVsbFJlbmRlcj0hMCx0aGlzLmhvdC52aWV3LnJlbmRlcigpLHRoaXMuaG90LnZpZXcud3Qud3RPdmVybGF5cy5hZGp1c3RFbGVtZW50c1NpemUoITApLHRoaXMuaG90LnJ1bkhvb2tzKCJhZnRlckNvbHVtblJlc2l6ZSIsdGhpcy5jdXJyZW50Q29sLHRoaXMubmV3U2l6ZSwhMCl9dGhpcy5kYmxjbGljaz0wLHRoaXMuYXV0b3Jlc2l6ZVRpbWVvdXQ9bnVsbH0sb25Nb3VzZURvd246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztkKGUudGFyZ2V0LCJtYW51YWxDb2x1bW5SZXNpemVyIikmJih0aGlzLnNldHVwR3VpZGVQb3NpdGlvbigpLHRoaXMucHJlc3NlZD10aGlzLmhvdCxudWxsPT09dGhpcy5hdXRvcmVzaXplVGltZW91dCYmKHRoaXMuYXV0b3Jlc2l6ZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0LmFmdGVyTW91c2VEb3duVGltZW91dCgpfSw1MDApLHRoaXMuaG90Ll9yZWdpc3RlclRpbWVvdXQodGhpcy5hdXRvcmVzaXplVGltZW91dCkpLHRoaXMuZGJsY2xpY2srKyx0aGlzLnN0YXJ0WD1nKGUpLHRoaXMubmV3U2l6ZT10aGlzLnN0YXJ0V2lkdGgpfSxvbk1vdXNlTW92ZTpmdW5jdGlvbihlKXt0aGlzLnByZXNzZWQmJih0aGlzLmN1cnJlbnRXaWR0aD10aGlzLnN0YXJ0V2lkdGgrKGcoZSktdGhpcy5zdGFydFgpLHRoaXMubmV3U2l6ZT10aGlzLnNldE1hbnVhbFNpemUodGhpcy5jdXJyZW50Q29sLHRoaXMuY3VycmVudFdpZHRoKSx0aGlzLnJlZnJlc2hIYW5kbGVQb3NpdGlvbigpLHRoaXMucmVmcmVzaEd1aWRlUG9zaXRpb24oKSl9LG9uTW91c2VVcDpmdW5jdGlvbihlKXt0aGlzLnByZXNzZWQmJih0aGlzLmhpZGVIYW5kbGVBbmRHdWlkZSgpLHRoaXMucHJlc3NlZD0hMSx0aGlzLm5ld1NpemUhPXRoaXMuc3RhcnRXaWR0aCYmKHRoaXMuaG90LnJ1bkhvb2tzKCJiZWZvcmVDb2x1bW5SZXNpemUiLHRoaXMuY3VycmVudENvbCx0aGlzLm5ld1NpemUpLHRoaXMuaG90LmZvcmNlRnVsbFJlbmRlcj0hMCx0aGlzLmhvdC52aWV3LnJlbmRlcigpLHRoaXMuaG90LnZpZXcud3Qud3RPdmVybGF5cy5hZGp1c3RFbGVtZW50c1NpemUoITApLHRoaXMuc2F2ZU1hbnVhbENvbHVtbldpZHRocygpLHRoaXMuaG90LnJ1bkhvb2tzKCJhZnRlckNvbHVtblJlc2l6ZSIsdGhpcy5jdXJyZW50Q29sLHRoaXMubmV3U2l6ZSkpLHRoaXMuc2V0dXBIYW5kbGVQb3NpdGlvbih0aGlzLmN1cnJlbnRUSCkpfSxiaW5kRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuaG90LnJvb3RFbGVtZW50LCJtb3VzZW92ZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VPdmVyKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmhvdC5yb290RWxlbWVudCwibW91c2Vkb3duIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlRG93bih0KX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VNb3ZlKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIm1vdXNldXAiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VVcCh0KX0pfSxzZXRNYW51YWxTaXplOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9TWF0aC5tYXgodCwyMCksZT10aGlzLmhvdC5ydW5Ib29rcygibW9kaWZ5Q29sIixlKSx0aGlzLm1hbnVhbENvbHVtbldpZHRoc1tlXT10LHR9LGNsZWFyTWFudWFsU2l6ZTpmdW5jdGlvbihlKXtlPXRoaXMuaG90LnJ1bkhvb2tzKCJtb2RpZnlDb2wiLGUpLHRoaXMubWFudWFsQ29sdW1uV2lkdGhzW2VdPXZvaWQgMH0sb25Nb2RpZnlDb2xXaWR0aDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuYWJsZWQmJih0PXRoaXMuaG90LnJ1bkhvb2tzKCJtb2RpZnlDb2wiLHQpLHRoaXMuaG90LmdldFNldHRpbmdzKCkubWFudWFsQ29sdW1uUmVzaXplJiZ0aGlzLm1hbnVhbENvbHVtbldpZHRoc1t0XSk/dGhpcy5tYW51YWxDb2x1bW5XaWR0aHNbdF06ZX0sb25CZWZvcmVTdHJldGNoaW5nQ29sdW1uV2lkdGg6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLm1hbnVhbENvbHVtbldpZHRoc1t0XTtyZXR1cm4gdm9pZCAwPT09biYmKG49ZSksbn19LHt9LGwpLG0oIm1hbnVhbENvbHVtblJlc2l6ZSIsdil9LHsiX2Jhc2UuanMiOjU4LGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9kb20vZWxlbWVudCI6NDUsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NixwbHVnaW5zOjU3fV0sNzk6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbygpe2Z1bmN0aW9uIGUoZSl7dmFyIHQ9dGhpcztnPWU7dmFyIG49dGhpcy52aWV3Lnd0Lnd0VGFibGUuZ2V0Q29vcmRzKGUpLnJvdztpZihuPj0wKXtmPW47dmFyIG89Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtsPW8udG9wLG0uc3R5bGUudG9wPWwrInB4IixtLnN0eWxlLmxlZnQ9by5sZWZ0KyJweCIsdC5yb290RWxlbWVudC5hcHBlbmRDaGlsZChtKX19ZnVuY3Rpb24gdChlLHQpe3ZhciBuPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz02O3Q+MD9tLnN0eWxlLnRvcD1uLnRvcCtuLmhlaWdodC1vKyJweCI6bS5zdHlsZS50b3A9bi50b3ArInB4In1mdW5jdGlvbiBuKCl7dmFyIGU9dGhpczt1KG0sImFjdGl2ZSIpLHUodiwiYWN0aXZlIik7dmFyIHQ9Zy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2LnN0eWxlLndpZHRoPWUudmlldy5tYXhpbXVtVmlzaWJsZUVsZW1lbnRXaWR0aCgwKSsicHgiLHYuc3R5bGUuaGVpZ2h0PXQuaGVpZ2h0KyJweCIsdi5zdHlsZS50b3A9bCsicHgiLHYuc3R5bGUubGVmdD1tLnN0eWxlLmxlZnQsZS5yb290RWxlbWVudC5hcHBlbmRDaGlsZCh2KX1mdW5jdGlvbiBvKGUpe3Yuc3R5bGUudG9wPWwrZSsicHgifWZ1bmN0aW9uIHIoKXtkKG0sImFjdGl2ZSIpLGQodiwiYWN0aXZlIil9dmFyIGkscyxhLGwsZixnLG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx3PWgodGhpcyk7bS5jbGFzc05hbWU9Im1hbnVhbFJvd01vdmVyIix2LmNsYXNzTmFtZT0ibWFudWFsUm93TW92ZXJHdWlkZSI7dmFyIHk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO0hhbmRzb250YWJsZS5ob29rcy5ydW4oZSwicGVyc2lzdGVudFN0YXRlU2F2ZSIsIm1hbnVhbFJvd1Bvc2l0aW9ucyIsZS5tYW51YWxSb3dQb3NpdGlvbnMpfSxiPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXt9O3JldHVybiBIYW5kc29udGFibGUuaG9va3MucnVuKGUsInBlcnNpc3RlbnRTdGF0ZUxvYWQiLCJtYW51YWxSb3dQb3NpdGlvbnMiLHQpLHQudmFsdWV9LEM9ZnVuY3Rpb24oZSl7aWYoZSE9dGhpcy5yb290RWxlbWVudCl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiJUQk9EWSI9PXQudGFnTmFtZT8hMDpDLmNhbGwodGhpcyx0KX1yZXR1cm4hMX0sUj1mdW5jdGlvbihlKXtyZXR1cm4iVEFCTEUiIT1lLnRhZ05hbWU/IlRIIj09ZS50YWdOYW1lP2U6UihlLnBhcmVudE5vZGUpOm51bGx9LF89ZnVuY3Rpb24oKXt2YXIgbCx1PXRoaXM7dy5hZGRFdmVudExpc3RlbmVyKHUucm9vdEVsZW1lbnQsIm1vdXNlb3ZlciIsZnVuY3Rpb24obil7aWYoQy5jYWxsKHUsbi50YXJnZXQpKXt2YXIgbz1SKG4udGFyZ2V0KTtvJiYobD8ocz11LnZpZXcud3Qud3RUYWJsZS5nZXRDb29yZHMobykucm93LHQobyxzLWkpKTplLmNhbGwodSxvKSl9fSksdy5hZGRFdmVudExpc3RlbmVyKHUucm9vdEVsZW1lbnQsIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7YyhlLnRhcmdldCwibWFudWFsUm93TW92ZXIiKSYmKGE9cChlKSxuLmNhbGwodSksbD11LGk9ZixzPWYpfSksdy5hZGRFdmVudExpc3RlbmVyKHdpbmRvdywibW91c2Vtb3ZlIixmdW5jdGlvbihlKXtsJiZvKHAoZSktYSl9KSx3LmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCJtb3VzZXVwIixmdW5jdGlvbih0KXtsJiYocigpLGw9ITEsRSh1Lm1hbnVhbFJvd1Bvc2l0aW9ucyx1LmNvdW50Um93cygpKSx1Lm1hbnVhbFJvd1Bvc2l0aW9ucy5zcGxpY2UocywwLHUubWFudWFsUm93UG9zaXRpb25zLnNwbGljZShpLDEpWzBdKSxIYW5kc29udGFibGUuaG9va3MucnVuKHUsImJlZm9yZVJvd01vdmUiLGkscyksdS5mb3JjZUZ1bGxSZW5kZXI9ITAsdS52aWV3LnJlbmRlcigpLHkuY2FsbCh1KSxIYW5kc29udGFibGUuaG9va3MucnVuKHUsImFmdGVyUm93TW92ZSIsaSxzKSxlLmNhbGwodSxnKSl9KSx1LmFkZEhvb2soImFmdGVyRGVzdHJveSIsUyl9LFM9ZnVuY3Rpb24oKXt3LmNsZWFyKCl9LEU9ZnVuY3Rpb24oZSx0KXtpZihlLmxlbmd0aDx0KWZvcih2YXIgbj1lLmxlbmd0aDt0Pm47bisrKWVbbl09bn07dGhpcy5iZWZvcmVJbml0PWZ1bmN0aW9uKCl7dGhpcy5tYW51YWxSb3dQb3NpdGlvbnM9W119LHRoaXMuaW5pdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ISF0LmdldFNldHRpbmdzKCkubWFudWFsUm93TW92ZTtpZihuKXt2YXIgbz10LmdldFNldHRpbmdzKCkubWFudWFsUm93TW92ZSxyPWIuY2FsbCh0KTsidW5kZWZpbmVkIj09dHlwZW9mIHQubWFudWFsUm93UG9zaXRpb25zUGx1Z2luVXNhZ2VzP3QubWFudWFsUm93UG9zaXRpb25zUGx1Z2luVXNhZ2VzPVsibWFudWFsQ29sdW1uTW92ZSJdOnQubWFudWFsUm93UG9zaXRpb25zUGx1Z2luVXNhZ2VzLnB1c2goIm1hbnVhbENvbHVtbk1vdmUiKSwidW5kZWZpbmVkIiE9dHlwZW9mIHI/dGhpcy5tYW51YWxSb3dQb3NpdGlvbnM9cjpBcnJheS5pc0FycmF5KG8pP3RoaXMubWFudWFsUm93UG9zaXRpb25zPW86byYmdm9pZCAwIT09dGhpcy5tYW51YWxSb3dQb3NpdGlvbnN8fCh0aGlzLm1hbnVhbFJvd1Bvc2l0aW9ucz1bXSksKCJhZnRlckluaXQiPT09ZXx8ImFmdGVyVXBkYXRlU2V0dGluZ3MiPT09ZSYmMD09PXcuY29udGV4dC5ldmVudExpc3RlbmVycy5sZW5ndGgpJiYoUy5jYWxsKHRoaXMpLF8uY2FsbCh0aGlzKSx0aGlzLm1hbnVhbFJvd1Bvc2l0aW9ucyYmdGhpcy5tYW51YWxSb3dQb3NpdGlvbnMubGVuZ3RoPjAmJih0LmZvcmNlRnVsbFJlbmRlcj0hMCx0LnJlbmRlcigpKSl9ZWxzZXt2YXIgaT10Lm1hbnVhbFJvd1Bvc2l0aW9uc1BsdWdpblVzYWdlcz90Lm1hbnVhbFJvd1Bvc2l0aW9uc1BsdWdpblVzYWdlcy5pbmRleE9mKCJtYW51YWxDb2x1bW5Nb3ZlIik6LTE7aT4tMSYmKFMuY2FsbCh0aGlzKSx0Lm1hbnVhbFJvd1Bvc2l0aW9ucz1bXSx0Lm1hbnVhbFJvd1Bvc2l0aW9uc1BsdWdpblVzYWdlc1tpXT12b2lkIDApfX0sdGhpcy5tb2RpZnlSb3c9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gdC5nZXRTZXR0aW5ncygpLm1hbnVhbFJvd01vdmU/KCJ1bmRlZmluZWQiPT10eXBlb2YgdC5tYW51YWxSb3dQb3NpdGlvbnNbZV0mJkUodGhpcy5tYW51YWxSb3dQb3NpdGlvbnMsZSsxKSx0Lm1hbnVhbFJvd1Bvc2l0aW9uc1tlXSk6ZX19T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7TWFudWFsUm93TW92ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHMsYSxsPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLHU9bC5hZGRDbGFzcyxjPWwuaGFzQ2xhc3MsZD1sLnJlbW92ZUNsYXNzLGg9KGk9ZSgiZXZlbnRNYW5hZ2VyIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5ldmVudE1hbmFnZXIsZj0ocz1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkscD0oZi5wYWdlWCxmLnBhZ2VZKSxnPSgoYT1lKCJwbHVnaW5zIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5yZWdpc3RlclBsdWdpbixuZXcgbyk7SGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYmVmb3JlSW5pdCIsZy5iZWZvcmVJbml0KSwKSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYWZ0ZXJJbml0IixmdW5jdGlvbigpe2cuaW5pdC5jYWxsKHRoaXMsImFmdGVySW5pdCIpfSksSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYWZ0ZXJVcGRhdGVTZXR0aW5ncyIsZnVuY3Rpb24oKXtnLmluaXQuY2FsbCh0aGlzLCJhZnRlclVwZGF0ZVNldHRpbmdzIil9KSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJtb2RpZnlSb3ciLGcubW9kaWZ5Um93KSxIYW5kc29udGFibGUuaG9va3MucmVnaXN0ZXIoImJlZm9yZVJvd01vdmUiKSxIYW5kc29udGFibGUuaG9va3MucmVnaXN0ZXIoImFmdGVyUm93TW92ZSIpfSx7ZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSwiaGVscGVycy9kb20vZXZlbnQiOjQ2LHBsdWdpbnM6NTd9XSw4MDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtNYW51YWxSb3dSZXNpemU6e2dldDpmdW5jdGlvbigpe3JldHVybiB2fX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsYSxsPShvPWUoIl9iYXNlLmpzIiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KVsiZGVmYXVsdCJdLHU9KHI9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksYz11LmFkZENsYXNzLGQ9dS5oYXNDbGFzcyxoPXUucmVtb3ZlQ2xhc3MsZj0oaT1lKCJldmVudE1hbmFnZXIiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmV2ZW50TWFuYWdlcixwPShzPWUoImhlbHBlcnMvZG9tL2V2ZW50IikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KSxnPShwLnBhZ2VYLHAucGFnZVkpLG09KGE9ZSgicGx1Z2lucyIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkucmVnaXN0ZXJQbHVnaW4sdj1mdW5jdGlvbihlKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3Rvcih3KS5jYWxsKHRoaXMsZSksdGhpcy5jdXJyZW50VEg9bnVsbCx0aGlzLmN1cnJlbnRSb3c9bnVsbCx0aGlzLmN1cnJlbnRIZWlnaHQ9bnVsbCx0aGlzLm5ld1NpemU9bnVsbCx0aGlzLnN0YXJ0WT1udWxsLHRoaXMuc3RhcnRIZWlnaHQ9bnVsbCx0aGlzLnN0YXJ0T2Zmc2V0PW51bGwsdGhpcy5oYW5kbGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdGhpcy5ndWlkZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmV2ZW50TWFuYWdlcj1mKHRoaXMpLHRoaXMucHJlc3NlZD1udWxsLHRoaXMuZGJsY2xpY2s9MCx0aGlzLmF1dG9yZXNpemVUaW1lb3V0PW51bGwsdGhpcy5tYW51YWxSb3dIZWlnaHRzPVtdLGModGhpcy5oYW5kbGUsIm1hbnVhbFJvd1Jlc2l6ZXIiKSxjKHRoaXMuZ3VpZGUsIm1hbnVhbFJvd1Jlc2l6ZXJHdWlkZSIpfSx3PXY7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKHYse2lzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdC5nZXRTZXR0aW5ncygpLm1hbnVhbFJvd1Jlc2l6ZX0sZW5hYmxlUGx1Z2luOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZighdGhpcy5lbmFibGVkKXt0aGlzLm1hbnVhbFJvd0hlaWdodHM9W107dmFyIHQ9dGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5tYW51YWxSb3dSZXNpemUsbj10aGlzLmxvYWRNYW51YWxSb3dIZWlnaHRzKCk7InVuZGVmaW5lZCIhPXR5cGVvZiBuP3RoaXMubWFudWFsUm93SGVpZ2h0cz1uOkFycmF5LmlzQXJyYXkodCk/dGhpcy5tYW51YWxSb3dIZWlnaHRzPXQ6dGhpcy5tYW51YWxSb3dIZWlnaHRzPVtdLHRoaXMuYWRkSG9vaygibW9kaWZ5Um93SGVpZ2h0IixmdW5jdGlvbih0LG4pe3JldHVybiBlLm9uTW9kaWZ5Um93SGVpZ2h0KHQsbil9KSxIYW5kc29udGFibGUuaG9va3MucmVnaXN0ZXIoImJlZm9yZVJvd1Jlc2l6ZSIpLEhhbmRzb250YWJsZS5ob29rcy5yZWdpc3RlcigiYWZ0ZXJSb3dSZXNpemUiKSx0aGlzLmJpbmRFdmVudHMoKSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyx3LnByb3RvdHlwZSwiZW5hYmxlUGx1Z2luIikuY2FsbCh0aGlzKX19LHVwZGF0ZVBsdWdpbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LmdldFNldHRpbmdzKCkubWFudWFsUm93UmVzaXplO0FycmF5LmlzQXJyYXkoZSk/dGhpcy5tYW51YWxSb3dIZWlnaHRzPWU6ZXx8KHRoaXMubWFudWFsUm93SGVpZ2h0cz1bXSl9LGRpc2FibGVQbHVnaW46ZnVuY3Rpb24oKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyx3LnByb3RvdHlwZSwiZGlzYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9LHNhdmVNYW51YWxSb3dIZWlnaHRzOmZ1bmN0aW9uKCl7dGhpcy5ob3QucnVuSG9va3MoInBlcnNpc3RlbnRTdGF0ZVNhdmUiLCJtYW51YWxSb3dIZWlnaHRzIix0aGlzLm1hbnVhbFJvd0hlaWdodHMpfSxsb2FkTWFudWFsUm93SGVpZ2h0czpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB0aGlzLmhvdC5ydW5Ib29rcygicGVyc2lzdGVudFN0YXRlTG9hZCIsIm1hbnVhbFJvd0hlaWdodHMiLGUpLGUudmFsdWV9LHNldHVwSGFuZGxlUG9zaXRpb246ZnVuY3Rpb24oZSl7dGhpcy5jdXJyZW50VEg9ZTt2YXIgdD10aGlzLmhvdC52aWV3Lnd0Lnd0VGFibGUuZ2V0Q29vcmRzKGUpLnJvdztpZih0Pj0wKXt2YXIgbj10aGlzLmN1cnJlbnRUSC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLmN1cnJlbnRSb3c9dCx0aGlzLnN0YXJ0T2Zmc2V0PW4udG9wLTYsdGhpcy5zdGFydEhlaWdodD1wYXJzZUludChuLmhlaWdodCwxMCksdGhpcy5oYW5kbGUuc3R5bGUubGVmdD1uLmxlZnQrInB4Iix0aGlzLmhhbmRsZS5zdHlsZS50b3A9dGhpcy5zdGFydE9mZnNldCt0aGlzLnN0YXJ0SGVpZ2h0KyJweCIsdGhpcy5ob3Qucm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5oYW5kbGUpfX0scmVmcmVzaEhhbmRsZVBvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuc3R5bGUudG9wPXRoaXMuc3RhcnRPZmZzZXQrdGhpcy5jdXJyZW50SGVpZ2h0KyJweCJ9LHNldHVwR3VpZGVQb3NpdGlvbjpmdW5jdGlvbigpe2ModGhpcy5oYW5kbGUsImFjdGl2ZSIpLGModGhpcy5ndWlkZSwiYWN0aXZlIiksdGhpcy5ndWlkZS5zdHlsZS50b3A9dGhpcy5oYW5kbGUuc3R5bGUudG9wLHRoaXMuZ3VpZGUuc3R5bGUubGVmdD10aGlzLmhhbmRsZS5zdHlsZS5sZWZ0LHRoaXMuZ3VpZGUuc3R5bGUud2lkdGg9dGhpcy5ob3Qudmlldy5tYXhpbXVtVmlzaWJsZUVsZW1lbnRXaWR0aCgwKSsicHgiLHRoaXMuaG90LnJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZ3VpZGUpfSxyZWZyZXNoR3VpZGVQb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMuZ3VpZGUuc3R5bGUudG9wPXRoaXMuaGFuZGxlLnN0eWxlLnRvcH0saGlkZUhhbmRsZUFuZEd1aWRlOmZ1bmN0aW9uKCl7aCh0aGlzLmhhbmRsZSwiYWN0aXZlIiksaCh0aGlzLmd1aWRlLCJhY3RpdmUiKX0sY2hlY2tJZlJvd0hlYWRlcjpmdW5jdGlvbihlKXtpZihlIT10aGlzLmhvdC5yb290RWxlbWVudCl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiJUQk9EWSI9PT10LnRhZ05hbWU/ITA6dGhpcy5jaGVja0lmUm93SGVhZGVyKHQpfXJldHVybiExfSxnZXRUSEZyb21UYXJnZXRFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiJUQUJMRSIhPWUudGFnTmFtZT8iVEgiPT1lLnRhZ05hbWU/ZTp0aGlzLmdldFRIRnJvbVRhcmdldEVsZW1lbnQoZS5wYXJlbnROb2RlKTpudWxsfSxvbk1vdXNlT3ZlcjpmdW5jdGlvbihlKXtpZih0aGlzLmNoZWNrSWZSb3dIZWFkZXIoZS50YXJnZXQpKXt2YXIgdD10aGlzLmdldFRIRnJvbVRhcmdldEVsZW1lbnQoZS50YXJnZXQpO3QmJih0aGlzLnByZXNzZWR8fHRoaXMuc2V0dXBIYW5kbGVQb3NpdGlvbih0KSl9fSxhZnRlck1vdXNlRG93blRpbWVvdXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmRibGNsaWNrPj0yKXt2YXIgZT10aGlzLmhvdC5ydW5Ib29rcygiYmVmb3JlUm93UmVzaXplIix0aGlzLmN1cnJlbnRSb3csdGhpcy5uZXdTaXplLCEwKTt2b2lkIDAhPT1lJiYodGhpcy5uZXdTaXplPWUpLHRoaXMuc2V0TWFudWFsU2l6ZSh0aGlzLmN1cnJlbnRSb3csdGhpcy5uZXdTaXplKSx0aGlzLmhvdC5mb3JjZUZ1bGxSZW5kZXI9ITAsdGhpcy5ob3Qudmlldy5yZW5kZXIoKSx0aGlzLmhvdC52aWV3Lnd0Lnd0T3ZlcmxheXMuYWRqdXN0RWxlbWVudHNTaXplKCEwKSx0aGlzLmhvdC5ydW5Ib29rcygiYWZ0ZXJSb3dSZXNpemUiLHRoaXMuY3VycmVudFJvdyx0aGlzLm5ld1NpemUsITApfXRoaXMuZGJsY2xpY2s9MCx0aGlzLmF1dG9yZXNpemVUaW1lb3V0PW51bGx9LG9uTW91c2VEb3duOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZChlLnRhcmdldCwibWFudWFsUm93UmVzaXplciIpJiYodGhpcy5zZXR1cEd1aWRlUG9zaXRpb24oKSx0aGlzLnByZXNzZWQ9dGhpcy5ob3QsbnVsbD09dGhpcy5hdXRvcmVzaXplVGltZW91dCYmKHRoaXMuYXV0b3Jlc2l6ZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0LmFmdGVyTW91c2VEb3duVGltZW91dCgpfSw1MDApLHRoaXMuaG90Ll9yZWdpc3RlclRpbWVvdXQodGhpcy5hdXRvcmVzaXplVGltZW91dCkpLHRoaXMuZGJsY2xpY2srKyx0aGlzLnN0YXJ0WT1nKGUpLHRoaXMubmV3U2l6ZT10aGlzLnN0YXJ0SGVpZ2h0KX0sb25Nb3VzZU1vdmU6ZnVuY3Rpb24oZSl7dGhpcy5wcmVzc2VkJiYodGhpcy5jdXJyZW50SGVpZ2h0PXRoaXMuc3RhcnRIZWlnaHQrKGcoZSktdGhpcy5zdGFydFkpLHRoaXMubmV3U2l6ZT10aGlzLnNldE1hbnVhbFNpemUodGhpcy5jdXJyZW50Um93LHRoaXMuY3VycmVudEhlaWdodCksdGhpcy5yZWZyZXNoSGFuZGxlUG9zaXRpb24oKSx0aGlzLnJlZnJlc2hHdWlkZVBvc2l0aW9uKCkpfSxvbk1vdXNlVXA6ZnVuY3Rpb24oZSl7dGhpcy5wcmVzc2VkJiYodGhpcy5oaWRlSGFuZGxlQW5kR3VpZGUoKSx0aGlzLnByZXNzZWQ9ITEsdGhpcy5uZXdTaXplIT10aGlzLnN0YXJ0SGVpZ2h0JiYodGhpcy5ob3QucnVuSG9va3MoImJlZm9yZVJvd1Jlc2l6ZSIsdGhpcy5jdXJyZW50Um93LHRoaXMubmV3U2l6ZSksdGhpcy5ob3QuZm9yY2VGdWxsUmVuZGVyPSEwLHRoaXMuaG90LnZpZXcucmVuZGVyKCksdGhpcy5ob3Qudmlldy53dC53dE92ZXJsYXlzLmFkanVzdEVsZW1lbnRzU2l6ZSghMCksdGhpcy5zYXZlTWFudWFsUm93SGVpZ2h0cygpLHRoaXMuaG90LnJ1bkhvb2tzKCJhZnRlclJvd1Jlc2l6ZSIsdGhpcy5jdXJyZW50Um93LHRoaXMubmV3U2l6ZSkpLHRoaXMuc2V0dXBIYW5kbGVQb3NpdGlvbih0aGlzLmN1cnJlbnRUSCkpfSxiaW5kRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuaG90LnJvb3RFbGVtZW50LCJtb3VzZW92ZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VPdmVyKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmhvdC5yb290RWxlbWVudCwibW91c2Vkb3duIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlRG93bih0KX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VNb3ZlKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIm1vdXNldXAiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VVcCh0KX0pfSxzZXRNYW51YWxTaXplOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9dGhpcy5ob3QucnVuSG9va3MoIm1vZGlmeVJvdyIsZSksdGhpcy5tYW51YWxSb3dIZWlnaHRzW2VdPXQsdH0sb25Nb2RpZnlSb3dIZWlnaHQ6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmVuYWJsZWQpe3ZhciBuPXRoaXMuaG90LmdldFBsdWdpbigiYXV0b1Jvd1NpemUiKSxvPW4/bi5oZWlnaHRzW3RdOm51bGw7dD10aGlzLmhvdC5ydW5Ib29rcygibW9kaWZ5Um93Iix0KTt2YXIgcj10aGlzLm1hbnVhbFJvd0hlaWdodHNbdF07aWYodm9pZCAwIT09ciYmKHI9PT1vfHxyPihlfHwwKSkpcmV0dXJuIHJ9cmV0dXJuIGV9fSx7fSxsKSxtKCJtYW51YWxSb3dSZXNpemUiLHYpfSx7Il9iYXNlLmpzIjo1OCxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LCJoZWxwZXJzL2RvbS9ldmVudCI6NDYscGx1Z2luczo1N31dLDgxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oKXt2YXIgZT1bXTtyZXR1cm4gZS5nZXRJbmZvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAsbz10aGlzLmxlbmd0aDtvPm47bisrKWlmKHRoaXNbbl0ucm93PD1lJiZ0aGlzW25dLnJvdyt0aGlzW25dLnJvd3NwYW4tMT49ZSYmdGhpc1tuXS5jb2w8PXQmJnRoaXNbbl0uY29sK3RoaXNbbl0uY29sc3Bhbi0xPj10KXJldHVybiB0aGlzW25dfSxlLnNldEluZm89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj10aGlzLmxlbmd0aDtuPnQ7dCsrKWlmKHRoaXNbdF0ucm93PT09ZS5yb3cmJnRoaXNbdF0uY29sPT09ZS5jb2wpcmV0dXJuIHZvaWQodGhpc1t0XT1lKTt0aGlzLnB1c2goZSl9LGUucmVtb3ZlSW5mbz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLG89dGhpcy5sZW5ndGg7bz5uO24rKylpZih0aGlzW25dLnJvdz09PWUmJnRoaXNbbl0uY29sPT09dCl7dGhpcy5zcGxpY2UobiwxKTticmVha319LGV9ZnVuY3Rpb24gcihlKXtpZih0aGlzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbj1uZXcgbyxBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgdD0wLG49ZS5sZW5ndGg7bj50O3QrKyl0aGlzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5zZXRJbmZvKGVbdF0pfWZ1bmN0aW9uIGkoZSx0KXt2YXIgbj10aGlzLmdldFNldHRpbmdzKCkubWVyZ2VDZWxscztpZihuJiYhdGhpcy5zZWxlY3Rpb24uaXNNdWx0aXBsZSgpKXt2YXIgbz10aGlzLm1lcmdlQ2VsbHMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmdldEluZm8oZVswXSxlWzFdKTtvJiYoZVswXT1vLnJvdyxlWzFdPW8uY29sLGVbMl09by5yb3crby5yb3dzcGFuLTEsZVszXT1vLmNvbCtvLmNvbHNwYW4tMSl9fWZ1bmN0aW9uIHMoZSx0KXt0aGlzLm1lcmdlQ2VsbHMmJnRoaXMubWVyZ2VDZWxscy5zaGlmdENvbGxlY3Rpb24oInJpZ2h0IixlLHQpfWZ1bmN0aW9uIGEoZSx0KXt0aGlzLm1lcmdlQ2VsbHMmJnRoaXMubWVyZ2VDZWxscy5zaGlmdENvbGxlY3Rpb24oImxlZnQiLGUsdCl9ZnVuY3Rpb24gbChlLHQpe3RoaXMubWVyZ2VDZWxscyYmdGhpcy5tZXJnZUNlbGxzLnNoaWZ0Q29sbGVjdGlvbigiZG93biIsZSx0KX1mdW5jdGlvbiB1KGUsdCl7dGhpcy5tZXJnZUNlbGxzJiZ0aGlzLm1lcmdlQ2VsbHMuc2hpZnRDb2xsZWN0aW9uKCJ1cCIsZSx0KX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtNZXJnZUNlbGxzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBjLGQsaCxmLHAsZz0oKGM9ZSgicGx1Z2lucyIpLGMmJmMuX19lc01vZHVsZSYmY3x8eyJkZWZhdWx0IjpjfSkucmVnaXN0ZXJQbHVnaW4sKGQ9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiksbT0oaD1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9jb29yZHMiKSxoJiZoLl9fZXNNb2R1bGUmJmh8fHsiZGVmYXVsdCI6aH0pLldhbGtvbnRhYmxlQ2VsbENvb3Jkcyx2PShmPWUoIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL3JhbmdlIiksZiYmZi5fX2VzTW9kdWxlJiZmfHx7ImRlZmF1bHQiOmZ9KS5XYWxrb250YWJsZUNlbGxSYW5nZSx3PShwPWUoIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy90YWJsZSIpLHAmJnAuX19lc01vZHVsZSYmcHx8eyJkZWZhdWx0IjpwfSkuV2Fsa29udGFibGVUYWJsZTtyLnByb3RvdHlwZS5jYW5NZXJnZVJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiFlLmlzU2luZ2xlKCl9LHIucHJvdG90eXBlLm1lcmdlUmFuZ2U9ZnVuY3Rpb24oZSl7aWYodGhpcy5jYW5NZXJnZVJhbmdlKGUpKXt2YXIgdD1lLmdldFRvcExlZnRDb3JuZXIoKSxuPWUuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSxvPXt9O28ucm93PXQucm93LG8uY29sPXQuY29sLG8ucm93c3Bhbj1uLnJvdy10LnJvdysxLG8uY29sc3Bhbj1uLmNvbC10LmNvbCsxLHRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLnNldEluZm8obyl9fSxyLnByb3RvdHlwZS5tZXJnZU9yVW5tZXJnZVNlbGVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5nZXRJbmZvKGUuZnJvbS5yb3csZS5mcm9tLmNvbCk7dD90aGlzLnVubWVyZ2VTZWxlY3Rpb24oZS5mcm9tKTp0aGlzLm1lcmdlU2VsZWN0aW9uKGUpfSxyLnByb3RvdHlwZS5tZXJnZVNlbGVjdGlvbj1mdW5jdGlvbihlKXt0aGlzLm1lcmdlUmFuZ2UoZSl9LHIucHJvdG90eXBlLnVubWVyZ2VTZWxlY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24uZ2V0SW5mbyhlLnJvdyxlLmNvbCk7dGhpcy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24ucmVtb3ZlSW5mbyh0LnJvdyx0LmNvbCl9LHIucHJvdG90eXBlLmFwcGx5U3BhblByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmdldEluZm8odCxuKTtvP28ucm93PT09dCYmby5jb2w9PT1uPyhlLnNldEF0dHJpYnV0ZSgicm93c3BhbiIsby5yb3dzcGFuKSxlLnNldEF0dHJpYnV0ZSgiY29sc3BhbiIsby5jb2xzcGFuKSk6KGUucmVtb3ZlQXR0cmlidXRlKCJyb3dzcGFuIiksZS5yZW1vdmVBdHRyaWJ1dGUoImNvbHNwYW4iKSxlLnN0eWxlLmRpc3BsYXk9Im5vbmUiKTooZS5yZW1vdmVBdHRyaWJ1dGUoInJvd3NwYW4iKSxlLnJlbW92ZUF0dHJpYnV0ZSgiY29sc3BhbiIpKX0sci5wcm90b3R5cGUubW9kaWZ5VHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1mdW5jdGlvbihlLHQpe3JldHVybiB0LnJvdz49ZS5yb3cmJnQucm93PD1lLnJvdytlLnJvd3NwYW4tMT8hMDohMX0scj1mdW5jdGlvbihlLHQpe3JldHVybiB0LmNvbD49ZS5jb2wmJnQuY29sPD1lLmNvbCtlLmNvbHNwYW4tMT8hMDohMX0saT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IG0odC50by5yb3crZS5yb3csdC50by5jb2wrZS5jb2wpfSxzPXtyb3c6bi5yb3csY29sOm4uY29sfTtpZigibW9kaWZ5VHJhbnNmb3JtU3RhcnQiPT1lKXt0aGlzLmxhc3REZXNpcmVkQ29vcmRzfHwodGhpcy5sYXN0RGVzaXJlZENvb3Jkcz1uZXcgbShudWxsLG51bGwpKTtmb3IodmFyIGEsbD1uZXcgbSh0LmhpZ2hsaWdodC5yb3csdC5oaWdobGlnaHQuY29sKSx1PXRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmdldEluZm8obC5yb3csbC5jb2wpLGM9MCxkPXRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmxlbmd0aDtkPmM7YysrKXt2YXIgaD10aGlzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbltjXTtpZihoPW5ldyBtKGgucm93K2gucm93c3Bhbi0xLGguY29sK2guY29sc3Bhbi0xKSx0LmluY2x1ZGVzKGgpKXthPSEwO2JyZWFrfX1pZih1KXt2YXIgZj1uZXcgbSh1LnJvdyx1LmNvbCkscD1uZXcgbSh1LnJvdyt1LnJvd3NwYW4tMSx1LmNvbCt1LmNvbHNwYW4tMSksZz1uZXcgdihmLGYscCk7Zy5pbmNsdWRlcyh0aGlzLmxhc3REZXNpcmVkQ29vcmRzKXx8KHRoaXMubGFzdERlc2lyZWRDb29yZHM9bmV3IG0obnVsbCxudWxsKSkscy5yb3c9dGhpcy5sYXN0RGVzaXJlZENvb3Jkcy5yb3c/dGhpcy5sYXN0RGVzaXJlZENvb3Jkcy5yb3ctbC5yb3c6cy5yb3cscy5jb2w9dGhpcy5sYXN0RGVzaXJlZENvb3Jkcy5jb2w/dGhpcy5sYXN0RGVzaXJlZENvb3Jkcy5jb2wtbC5jb2w6cy5jb2wsbi5yb3c+MD9zLnJvdz11LnJvdyt1LnJvd3NwYW4tMS1sLnJvdytuLnJvdzpuLnJvdzwwJiYocy5yb3c9bC5yb3ctdS5yb3crbi5yb3cpLG4uY29sPjA/cy5jb2w9dS5jb2wrdS5jb2xzcGFuLTEtbC5jb2wrbi5jb2w6bi5jb2w8MCYmKHMuY29sPWwuY29sLXUuY29sK24uY29sKX12YXIgdz1uZXcgbSh0LmhpZ2hsaWdodC5yb3crcy5yb3csdC5oaWdobGlnaHQuY29sK3MuY29sKSx5PXRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmdldEluZm8ody5yb3csdy5jb2wpO3kmJih0aGlzLmxhc3REZXNpcmVkQ29vcmRzPXcscz17cm93Onkucm93LWwucm93LGNvbDp5LmNvbC1sLmNvbH0pfWVsc2UgaWYoIm1vZGlmeVRyYW5zZm9ybUVuZCI9PWUpZm9yKHZhciBjPTAsZD10aGlzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5sZW5ndGg7ZD5jO2MrKyl7dmFyIGI9dGhpcy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb25bY10sZj1uZXcgbShiLnJvdyxiLmNvbCkscD1uZXcgbShiLnJvdytiLnJvd3NwYW4tMSxiLmNvbCtiLmNvbHNwYW4tMSksQz1uZXcgdihmLGYscCksUj10LmdldEJvcmRlcnNTaGFyZWRXaXRoKEMpO2lmKEMuaXNFcXVhbCh0KSl0LnNldERpcmVjdGlvbigiTlctU0UiKTtlbHNlIGlmKFIubGVuZ3RoPjApe3ZhciBfPXQuaGlnaGxpZ2h0LmlzRXF1YWwoQy5mcm9tKTtSLmluZGV4T2YoInRvcCIpPi0xP3QudG8uaXNTb3V0aEVhc3RPZihDLmZyb20pJiZfP3Quc2V0RGlyZWN0aW9uKCJOVy1TRSIpOnQudG8uaXNTb3V0aFdlc3RPZihDLmZyb20pJiZfJiZ0LnNldERpcmVjdGlvbigiTkUtU1ciKTpSLmluZGV4T2YoImJvdHRvbSIpPi0xJiYodC50by5pc05vcnRoRWFzdE9mKEMuZnJvbSkmJl8/dC5zZXREaXJlY3Rpb24oIlNXLU5FIik6dC50by5pc05vcnRoV2VzdE9mKEMuZnJvbSkmJl8mJnQuc2V0RGlyZWN0aW9uKCJTRS1OVyIpKX12YXIgdz1pKHMpLFM9byhiLHcpLEU9cihiLHcpO3QuaW5jbHVkZXNSYW5nZShDKSYmKEMuaW5jbHVkZXModyl8fFN8fEUpJiYoUyYmKHMucm93PDA/cy5yb3ctPWIucm93c3Bhbi0xOnMucm93PjAmJihzLnJvdys9Yi5yb3dzcGFuLTEpKSxFJiYocy5jb2w8MD9zLmNvbC09Yi5jb2xzcGFuLTE6cy5jb2w+MCYmKHMuY29sKz1iLmNvbHNwYW4tMSkpKX0wIT09cy5yb3cmJihuLnJvdz1zLnJvdyksMCE9PXMuY29sJiYobi5jb2w9cy5jb2wpfSxyLnByb3RvdHlwZS5zaGlmdENvbGxlY3Rpb249ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPVswLDBdO3N3aXRjaChlKXtjYXNlInJpZ2h0IjpvWzBdKz0xO2JyZWFrO2Nhc2UibGVmdCI6b1swXS09MTticmVhaztjYXNlImRvd24iOm9bMV0rPTE7YnJlYWs7Y2FzZSJ1cCI6b1sxXS09MX1mb3IodmFyIHI9MDtyPHRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmxlbmd0aDtyKyspe3ZhciBpPXRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uW3JdOyJyaWdodCI9PT1lfHwibGVmdCI9PT1lP3Q8PWkuY29sJiYoaS5jb2wrPW9bMF0pOnQ8PWkucm93JiYoaS5yb3crPW9bMV0pfX07dmFyIHk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5nZXRTZXR0aW5ncygpLm1lcmdlQ2VsbHM7dCYmKGUubWVyZ2VDZWxsc3x8KGUubWVyZ2VDZWxscz1uZXcgcih0KSkpfSxiPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLm1lcmdlQ2VsbHMmJihlLnZpZXcud3Qud3RUYWJsZS5nZXRDZWxsPWZ1bmN0aW9uKHQpe2lmKGUuZ2V0U2V0dGluZ3MoKS5tZXJnZUNlbGxzKXt2YXIgbj1lLm1lcmdlQ2VsbHMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmdldEluZm8odC5yb3csdC5jb2wpO24mJih0PW4pfXJldHVybiB3LnByb3RvdHlwZS5nZXRDZWxsLmNhbGwodGhpcyx0KX0pfSxDPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuZ2V0U2V0dGluZ3MoKS5tZXJnZUNlbGxzO2lmKHQpaWYoZS5tZXJnZUNlbGxzKXtpZihlLm1lcmdlQ2VsbHMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uPW5ldyBvLEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBuPTAsaT10Lmxlbmd0aDtpPm47bisrKWUubWVyZ2VDZWxscy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24uc2V0SW5mbyh0W25dKX1lbHNlIGUubWVyZ2VDZWxscz1uZXcgcih0KTtlbHNlIGUubWVyZ2VDZWxscyYmKGUubWVyZ2VDZWxscy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb249bmV3IG8pfSxSPWZ1bmN0aW9uKGUpe2lmKHRoaXMubWVyZ2VDZWxscyl7dmFyIHQ9KGUuY3RybEtleXx8ZS5tZXRhS2V5KSYmIWUuYWx0S2V5O3QmJjc3PT09ZS5rZXlDb2RlJiYodGhpcy5tZXJnZUNlbGxzLm1lcmdlT3JVbm1lcmdlU2VsZWN0aW9uKHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpKSx0aGlzLnJlbmRlcigpLGcoZSkpfX0sXz1mdW5jdGlvbihlKXt0aGlzLmdldFNldHRpbmdzKCkubWVyZ2VDZWxscyYmKGUuaXRlbXMucHVzaChIYW5kc29udGFibGUucGx1Z2lucy5Db250ZXh0TWVudS5TRVBBUkFUT1IpLGUuaXRlbXMucHVzaCh7a2V5OiJtZXJnZUNlbGxzIixuYW1lOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZWxlY3RlZCgpLHQ9dGhpcy5tZXJnZUNlbGxzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5nZXRJbmZvKGVbMF0sZVsxXSk7cmV0dXJuIHQ/IlVubWVyZ2UgY2VsbHMiOiJNZXJnZSBjZWxscyJ9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5tZXJnZUNlbGxzLm1lcmdlT3JVbm1lcmdlU2VsZWN0aW9uKHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpKSx0aGlzLnJlbmRlcigpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiExfX0pKX0sUz1mdW5jdGlvbihlLHQsbixvLHIsaSl7dGhpcy5tZXJnZUNlbGxzJiZ0aGlzLm1lcmdlQ2VsbHMuYXBwbHlTcGFuUHJvcGVydGllcyhlLHQsbil9LEU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2V0U2V0dGluZ3MoKS5tZXJnZUNlbGxzO2lmKG4pe3ZhciBvPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpO2lmKHRoaXMubWVyZ2VDZWxscy5tb2RpZnlUcmFuc2Zvcm0oZSxvLHQpLCJtb2RpZnlUcmFuc2Zvcm1FbmQiPT09ZSl7dmFyIHI9dGhpcy5jb3VudFJvd3MoKSxpPXRoaXMuY291bnRDb2xzKCk7by5mcm9tLnJvdzwwP28uZnJvbS5yb3c9MDpvLmZyb20ucm93PjAmJm8uZnJvbS5yb3c+PXImJihvLmZyb20ucm93PW8uZnJvbS0xKSxvLmZyb20uY29sPDA/by5mcm9tLmNvbD0wOm8uZnJvbS5jb2w+MCYmby5mcm9tLmNvbD49aSYmKG8uZnJvbS5jb2w9aS0xKX19fX0sVD1mdW5jdGlvbihlKXt0aGlzLmxhc3REZXNpcmVkQ29vcmRzPW51bGw7dmFyIHQ9dGhpcy5nZXRTZXR0aW5ncygpLm1lcmdlQ2VsbHM7aWYodCl7dmFyIG49dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCk7bi5oaWdobGlnaHQ9bmV3IG0obi5oaWdobGlnaHQucm93LG4uaGlnaGxpZ2h0LmNvbCksbi50bz1lO3ZhciBvPSExO2Rve289ITE7Zm9yKHZhciByPTAsaT10aGlzLm1lcmdlQ2VsbHMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmxlbmd0aDtpPnI7cisrKXt2YXIgcz10aGlzLm1lcmdlQ2VsbHMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uW3JdLGE9bmV3IG0ocy5yb3cscy5jb2wpLGw9bmV3IG0ocy5yb3crcy5yb3dzcGFuLTEscy5jb2wrcy5jb2xzcGFuLTEpLHU9bmV3IHYoYSxhLGwpO24uZXhwYW5kQnlSYW5nZSh1KSYmKGUucm93PW4udG8ucm93LGUuY29sPW4udG8uY29sLG89ITApfX13aGlsZShvKX19LE09ZnVuY3Rpb24oZSx0KXtpZih0JiYiYXJlYSI9PXQpe3ZhciBuPXRoaXMuZ2V0U2V0dGluZ3MoKS5tZXJnZUNlbGxzO2lmKG4pZm9yKHZhciBvPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLHI9bmV3IHYoby5mcm9tLG8uZnJvbSxvLmZyb20pLGk9bmV3IHYoby50byxvLnRvLG8udG8pLHM9MCxhPXRoaXMubWVyZ2VDZWxscy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24ubGVuZ3RoO2E+cztzKyspe3ZhciBsPXRoaXMubWVyZ2VDZWxscy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb25bc10sdT1uZXcgbShsLnJvdyxsLmNvbCksYz1uZXcgbShsLnJvdytsLnJvd3NwYW4tMSxsLmNvbCtsLmNvbHNwYW4tMSksZD1uZXcgdih1LHUsYyk7ci5leHBhbmRCeVJhbmdlKGQpJiYoZVswXT1yLmZyb20ucm93LGVbMV09ci5mcm9tLmNvbCksaS5leHBhbmRCeVJhbmdlKGQpJiYoZVsyXT1pLmZyb20ucm93LGVbM109aS5mcm9tLmNvbCl9fX0sTz1mdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcy5nZXRTZXR0aW5ncygpLm1lcmdlQ2VsbHM7aWYobyl7dmFyIHI9dGhpcy5tZXJnZUNlbGxzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5nZXRJbmZvKGUsdCk7IXJ8fHIucm93PT1lJiZyLmNvbD09dHx8KG4uY29weWFibGU9ITEpfX0saz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFNldHRpbmdzKCkubWVyZ2VDZWxscztpZih0KWZvcih2YXIgbixvPXRoaXMuY291bnRDb2xzKCkscj0wO28+cjtyKyspe2lmKG49dGhpcy5tZXJnZUNlbGxzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5nZXRJbmZvKGUuc3RhcnRSb3csciksbiYmbi5yb3c8ZS5zdGFydFJvdylyZXR1cm4gZS5zdGFydFJvdz1uLnJvdyxrLmNhbGwodGhpcyxlKTtpZihuPXRoaXMubWVyZ2VDZWxscy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24uZ2V0SW5mbyhlLmVuZFJvdyxyKSl7dmFyIGk9bi5yb3crbi5yb3dzcGFuLTE7aWYoaT5lLmVuZFJvdylyZXR1cm4gZS5lbmRSb3c9aSxrLmNhbGwodGhpcyxlKX19fSxIPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0U2V0dGluZ3MoKS5tZXJnZUNlbGxzO2lmKHQpZm9yKHZhciBuLG89dGhpcy5jb3VudFJvd3MoKSxyPTA7bz5yO3IrKyl7aWYobj10aGlzLm1lcmdlQ2VsbHMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmdldEluZm8ocixlLnN0YXJ0Q29sdW1uKSxuJiZuLmNvbDxlLnN0YXJ0Q29sdW1uKXJldHVybiBlLnN0YXJ0Q29sdW1uPW4uY29sLEguY2FsbCh0aGlzLGUpO2lmKG49dGhpcy5tZXJnZUNlbGxzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5nZXRJbmZvKHIsZS5lbmRDb2x1bW4pKXt2YXIgaT1uLmNvbCtuLmNvbHNwYW4tMTtpZihpPmUuZW5kQ29sdW1uKXJldHVybiBlLmVuZENvbHVtbj1pLEguY2FsbCh0aGlzLGUpfX19LEQ9ZnVuY3Rpb24oZSl7aWYoZSYmdGhpcy5tZXJnZUNlbGxzKXt2YXIgdD10aGlzLm1lcmdlQ2VsbHMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLG49dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCk7Zm9yKHZhciBvIGluIHQpaWYobi5oaWdobGlnaHQucm93PT10W29dLnJvdyYmbi5oaWdobGlnaHQuY29sPT10W29dLmNvbCYmbi50by5yb3c9PXRbb10ucm93K3Rbb10ucm93c3Bhbi0xJiZuLnRvLmNvbD09dFtvXS5jb2wrdFtvXS5jb2xzcGFuLTEpcmV0dXJuITF9cmV0dXJuIGV9O0hhbmRzb250YWJsZS5ob29rcy5hZGQoImJlZm9yZUluaXQiLHkpLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVySW5pdCIsYiksSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYWZ0ZXJVcGRhdGVTZXR0aW5ncyIsQyksSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYmVmb3JlS2V5RG93biIsUiksSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgibW9kaWZ5VHJhbnNmb3JtU3RhcnQiLEUoIm1vZGlmeVRyYW5zZm9ybVN0YXJ0IikpLEhhbmRzb250YWJsZS5ob29rcy5hZGQoIm1vZGlmeVRyYW5zZm9ybUVuZCIsRSgibW9kaWZ5VHJhbnNmb3JtRW5kIikpLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImJlZm9yZVNldFJhbmdlRW5kIixUKSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJiZWZvcmVEcmF3Qm9yZGVycyIsTSksSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYWZ0ZXJJc011bHRpcGxlU2VsZWN0aW9uIixEKSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlclJlbmRlcmVyIixTKSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlckNvbnRleHRNZW51RGVmYXVsdE9wdGlvbnMiLF8pLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVyR2V0Q2VsbE1ldGEiLE8pLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVyVmlld3BvcnRSb3dDYWxjdWxhdG9yT3ZlcnJpZGUiLGspLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVyVmlld3BvcnRDb2x1bW5DYWxjdWxhdG9yT3ZlcnJpZGUiLEgpLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVyQXV0b2ZpbGxBcHBseVZhbHVlcyIsaSksSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYWZ0ZXJDcmVhdGVDb2wiLHMpLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVyUmVtb3ZlQ29sIixhKSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlckNyZWF0ZVJvdyIsbCksSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYWZ0ZXJSZW1vdmVSb3ciLHUpLEhhbmRzb250YWJsZS5NZXJnZUNlbGxzPXJ9LHsiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIjo1LCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9yYW5nZSI6NiwiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL3RhYmxlIjoyMCwiaGVscGVycy9kb20vZXZlbnQiOjQ2LHBsdWdpbnM6NTd9XSw4MjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtNdWx0aXBsZVNlbGVjdGlvbkhhbmRsZXM6e2dldDpmdW5jdGlvbigpe3JldHVybiBwfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsYT0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KSxsPWEuZ2V0V2luZG93U2Nyb2xsVG9wLHU9YS5oYXNDbGFzcyxjPWEuZ2V0V2luZG93U2Nyb2xsTGVmdCxkPShyPWUoIl9iYXNlIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KVsiZGVmYXVsdCJdLGg9KGk9ZSgiZXZlbnRNYW5hZ2VyIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5FdmVudE1hbmFnZXIsZj0ocz1lKCJwbHVnaW5zIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5yZWdpc3RlclBsdWdpbixwPWZ1bmN0aW9uKGUpeyR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKGcpLmNhbGwodGhpcyxlKSx0aGlzLmRyYWdnZWQ9W10sdGhpcy5ldmVudE1hbmFnZXI9bnVsbCx0aGlzLmxhc3RTZXRDZWxsPW51bGx9LGc9cDskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MocCx7aXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIEhhbmRzb250YWJsZS5tb2JpbGVCcm93c2VyfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWR8fCh0aGlzLmV2ZW50TWFuYWdlcnx8KHRoaXMuZXZlbnRNYW5hZ2VyPW5ldyBoKHRoaXMpKSx0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsZy5wcm90b3R5cGUsImVuYWJsZVBsdWdpbiIpLmNhbGwodGhpcykpfSxyZWdpc3Rlckxpc3RlbmVyczpmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7aWYoMT09PXQuZHJhZ2dlZC5sZW5ndGgpcmV0dXJuIHQuZHJhZ2dlZC5zcGxpY2UoMCx0LmRyYWdnZWQubGVuZ3RoKSwhMDt2YXIgbj10LmRyYWdnZWQuaW5kZXhPZihlKTtyZXR1cm4tMT09bj8hMTp2b2lkKDA9PT1uP3QuZHJhZ2dlZD10LmRyYWdnZWQuc2xpY2UoMCwxKToxPT1uJiYodC5kcmFnZ2VkPXQuZHJhZ2dlZC5zbGljZSgtMSkpKX12YXIgdD10aGlzO3RoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ob3Qucm9vdEVsZW1lbnQsInRvdWNoc3RhcnQiLGZ1bmN0aW9uKGUpe3ZhciBuO3JldHVybiB1KGUudGFyZ2V0LCJ0b3BMZWZ0U2VsZWN0aW9uSGFuZGxlLUhpdEFyZWEiKT8obj10LmhvdC5nZXRTZWxlY3RlZFJhbmdlKCksdC5kcmFnZ2VkLnB1c2goInRvcExlZnQiKSx0LnRvdWNoU3RhcnRSYW5nZT17d2lkdGg6bi5nZXRXaWR0aCgpLGhlaWdodDpuLmdldEhlaWdodCgpLGRpcmVjdGlvbjpuLmdldERpcmVjdGlvbigpfSxlLnByZXZlbnREZWZhdWx0KCksITEpOnUoZS50YXJnZXQsImJvdHRvbVJpZ2h0U2VsZWN0aW9uSGFuZGxlLUhpdEFyZWEiKT8obj10LmhvdC5nZXRTZWxlY3RlZFJhbmdlKCksdC5kcmFnZ2VkLnB1c2goImJvdHRvbVJpZ2h0IiksdC50b3VjaFN0YXJ0UmFuZ2U9e3dpZHRoOm4uZ2V0V2lkdGgoKSxoZWlnaHQ6bi5nZXRIZWlnaHQoKSxkaXJlY3Rpb246bi5nZXREaXJlY3Rpb24oKX0sZS5wcmV2ZW50RGVmYXVsdCgpLCExKTp2b2lkIDB9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuaG90LnJvb3RFbGVtZW50LCJ0b3VjaGVuZCIsZnVuY3Rpb24obil7cmV0dXJuIHUobi50YXJnZXQsInRvcExlZnRTZWxlY3Rpb25IYW5kbGUtSGl0QXJlYSIpPyhlLmNhbGwodCwidG9wTGVmdCIpLHQudG91Y2hTdGFydFJhbmdlPXZvaWQgMCxuLnByZXZlbnREZWZhdWx0KCksITEpOnUobi50YXJnZXQsImJvdHRvbVJpZ2h0U2VsZWN0aW9uSGFuZGxlLUhpdEFyZWEiKT8oZS5jYWxsKHQsImJvdHRvbVJpZ2h0IiksdC50b3VjaFN0YXJ0UmFuZ2U9dm9pZCAwLG4ucHJldmVudERlZmF1bHQoKSwhMSk6dm9pZCAwfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmhvdC5yb290RWxlbWVudCwidG91Y2htb3ZlIixmdW5jdGlvbihlKXt2YXIgbixvLHIsaSxzLGEsdSxkPWwoKSxoPWMoKTswIT09dC5kcmFnZ2VkLmxlbmd0aCYmKG49ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChlLnRvdWNoZXNbMF0uc2NyZWVuWC1oLGUudG91Y2hlc1swXS5zY3JlZW5ZLWQpLG4mJm4hPT10Lmxhc3RTZXRDZWxsJiYoKCJURCI9PW4ubm9kZU5hbWV8fCJUSCI9PW4ubm9kZU5hbWUpJiYobz10LmhvdC5nZXRDb29yZHMobiksLTE9PW8uY29sJiYoby5jb2w9MCkscj10LmhvdC5nZXRTZWxlY3RlZFJhbmdlKCksaT1yLmdldFdpZHRoKCkscz1yLmdldEhlaWdodCgpLGE9ci5nZXREaXJlY3Rpb24oKSwxPT1pJiYxPT1zJiZ0LmhvdC5zZWxlY3Rpb24uc2V0UmFuZ2VFbmQobyksdT10LmdldEN1cnJlbnRSYW5nZUNvb3JkcyhyLG8sdC50b3VjaFN0YXJ0UmFuZ2UuZGlyZWN0aW9uLGEsdC5kcmFnZ2VkWzBdKSxudWxsIT09dS5zdGFydCYmdC5ob3Quc2VsZWN0aW9uLnNldFJhbmdlU3RhcnQodS5zdGFydCksdC5ob3Quc2VsZWN0aW9uLnNldFJhbmdlRW5kKHUuZW5kKSx0Lmxhc3RTZXRDZWxsPW4pLGUucHJldmVudERlZmF1bHQoKSkpfSl9LGdldEN1cnJlbnRSYW5nZUNvb3JkczpmdW5jdGlvbihlLHQsbixvLHIpe3ZhciBpPWUuZ2V0VG9wTGVmdENvcm5lcigpLHM9ZS5nZXRCb3R0b21SaWdodENvcm5lcigpLGE9ZS5nZXRCb3R0b21MZWZ0Q29ybmVyKCksbD1lLmdldFRvcFJpZ2h0Q29ybmVyKCksdT17c3RhcnQ6bnVsbCxlbmQ6bnVsbH07c3dpdGNoKG4pe2Nhc2UiTkUtU1ciOnN3aXRjaChvKXtjYXNlIk5FLVNXIjpjYXNlIk5XLVNFIjp1PSJ0b3BMZWZ0Ij09cj97c3RhcnQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3Jkcyh0LnJvdyxlLmhpZ2hsaWdodC5jb2wpLGVuZDpuZXcgV2Fsa29udGFibGVDZWxsQ29vcmRzKGEucm93LHQuY29sKX06e3N0YXJ0Om5ldyBXYWxrb250YWJsZUNlbGxDb29yZHMoZS5oaWdobGlnaHQucm93LHQuY29sKSxlbmQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3Jkcyh0LnJvdyxpLmNvbCl9O2JyZWFrO2Nhc2UiU0UtTlciOiJib3R0b21SaWdodCI9PXImJih1PXtzdGFydDpuZXcgV2Fsa29udGFibGVDZWxsQ29vcmRzKHMucm93LHQuY29sKSxlbmQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3Jkcyh0LnJvdyxpLmNvbCl9KX1icmVhaztjYXNlIk5XLVNFIjpzd2l0Y2gobyl7Y2FzZSJORS1TVyI6InRvcExlZnQiPT1yP3U9e3N0YXJ0OnQsZW5kOmF9OnUuZW5kPXQ7YnJlYWs7Y2FzZSJOVy1TRSI6InRvcExlZnQiPT1yP3U9e3N0YXJ0OnQsZW5kOnN9OnUuZW5kPXQ7YnJlYWs7Y2FzZSJTRS1OVyI6InRvcExlZnQiPT1yP3U9e3N0YXJ0OnQsZW5kOml9OnUuZW5kPXQ7YnJlYWs7Y2FzZSJTVy1ORSI6InRvcExlZnQiPT1yP3U9e3N0YXJ0OnQsZW5kOmx9OnUuZW5kPXR9YnJlYWs7Y2FzZSJTVy1ORSI6c3dpdGNoKG8pe2Nhc2UiTlctU0UiOnU9ImJvdHRvbVJpZ2h0Ij09cj97c3RhcnQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3Jkcyh0LnJvdyxpLmNvbCksZW5kOm5ldyBXYWxrb250YWJsZUNlbGxDb29yZHMoYS5yb3csdC5jb2wpfTp7c3RhcnQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3JkcyhpLnJvdyx0LmNvbCksZW5kOm5ldyBXYWxrb250YWJsZUNlbGxDb29yZHModC5yb3cscy5jb2wpfTticmVhaztjYXNlIlNXLU5FIjp1PSJ0b3BMZWZ0Ij09cj97c3RhcnQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3JkcyhlLmhpZ2hsaWdodC5yb3csdC5jb2wpLGVuZDpuZXcgV2Fsa29udGFibGVDZWxsQ29vcmRzKHQucm93LHMuY29sKX06e3N0YXJ0Om5ldyBXYWxrb250YWJsZUNlbGxDb29yZHModC5yb3csaS5jb2wpLGVuZDpuZXcgV2Fsa29udGFibGVDZWxsQ29vcmRzKGkucm93LHQuY29sKX07YnJlYWs7Y2FzZSJTRS1OVyI6ImJvdHRvbVJpZ2h0Ij09cj91PXtzdGFydDpuZXcgV2Fsa29udGFibGVDZWxsQ29vcmRzKHQucm93LGwuY29sKSxlbmQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3JkcyhpLnJvdyx0LmNvbCl9OiJ0b3BMZWZ0Ij09ciYmKHU9e3N0YXJ0OmEsZW5kOnR9KX1icmVhaztjYXNlIlNFLU5XIjpzd2l0Y2gobyl7Y2FzZSJOVy1TRSI6Y2FzZSJORS1TVyI6Y2FzZSJTVy1ORSI6InRvcExlZnQiPT1yJiYodS5lbmQ9dCk7YnJlYWs7Y2FzZSJTRS1OVyI6InRvcExlZnQiPT1yP3UuZW5kPXQ6dT17c3RhcnQ6dCxlbmQ6aX19fXJldHVybiB1fSxpc0RyYWdnZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmFnZ2VkLmxlbmd0aD4wfX0se30sZCksZigibXVsdGlwbGVTZWxlY3Rpb25IYW5kbGVzIixwKX0se19iYXNlOjU4LGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9kb20vZWxlbWVudCI6NDUscGx1Z2luczo1N31dLDgzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0RhdGFPYnNlcnZlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGR9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxhPShvPWUoImpzb25wYXRjaCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxsPShyPWUoIi4uLy4uL21peGlucy9sb2NhbEhvb2tzIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5sb2NhbEhvb2tzLHU9KGk9ZSgiLi4vLi4vaGVscGVycy9vYmplY3QiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLm1peGluLGM9KHM9ZSgidXRpbHMiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLmNsZWFuUGF0Y2hlcyxkPWZ1bmN0aW9uKGUpe3RoaXMub2JzZXJ2ZWREYXRhPW51bGwsdGhpcy5vYnNlcnZlcj1udWxsLHRoaXMucGF1c2VkPSExLHRoaXMuc2V0T2JzZXJ2ZWREYXRhKGUpfTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoZCx7c2V0T2JzZXJ2ZWREYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5vYnNlcnZlciYmYS51bm9ic2VydmUodGhpcy5vYnNlcnZlZERhdGEsdGhpcy5vYnNlcnZlciksdGhpcy5vYnNlcnZlZERhdGE9ZSx0aGlzLm9ic2VydmVyPWEub2JzZXJ2ZSh0aGlzLm9ic2VydmVkRGF0YSxmdW5jdGlvbihlKXtyZXR1cm4gdC5vbkNoYW5nZShlKX0pfSxpc1BhdXNlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdXNlZH0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMH0scmVzdW1lOmZ1bmN0aW9uKCl7dGhpcy5wYXVzZWQ9ITF9LG9uQ2hhbmdlOmZ1bmN0aW9uKGUpe3RoaXMucnVuTG9jYWxIb29rcygiY2hhbmdlIixjKGUpKX0sZGVzdHJveTpmdW5jdGlvbigpe2EudW5vYnNlcnZlKHRoaXMub2JzZXJ2ZWREYXRhLHRoaXMub2JzZXJ2ZXIpLHRoaXMub2JzZXJ2ZWREYXRhPW51bGwsdGhpcy5vYnNlcnZlcj1udWxsfX0se30pLHUoZCxsKX0seyIuLi8uLi9oZWxwZXJzL29iamVjdCI6NTAsIi4uLy4uL21peGlucy9sb2NhbEhvb2tzIjo1NCxqc29ucGF0Y2g6Impzb25wYXRjaCIsdXRpbHM6ODV9XSw4NDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtPYnNlcnZlQ2hhbmdlczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGh9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxhLGw9KG89ZSgiX2Jhc2UiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sdT0oKHI9ZSgianNvbnBhdGNoIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KVsiZGVmYXVsdCJdLChpPWUoImRhdGFPYnNlcnZlciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuRGF0YU9ic2VydmVyKSxjPShzPWUoImhlbHBlcnMvYXJyYXkiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLmFycmF5RWFjaCxkPShhPWUoInBsdWdpbnMiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLnJlZ2lzdGVyUGx1Z2luO0hhbmRzb250YWJsZS5ob29rcy5yZWdpc3RlcigiYWZ0ZXJDaGFuZ2VzT2JzZXJ2ZWQiKTt2YXIgaD1mdW5jdGlvbihlKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3RvcihmKS5jYWxsKHRoaXMsZSksdGhpcy5vYnNlcnZlcj1udWxsfSxmPWg7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGgse2lzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdC5nZXRTZXR0aW5ncygpLm9ic2VydmVDaGFuZ2VzfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZW5hYmxlZHx8KHRoaXMub2JzZXJ2ZXJ8fCh0aGlzLm9ic2VydmVyPW5ldyB1KHRoaXMuaG90LmdldFNvdXJjZURhdGEoKSksdGhpcy5fZXhwb3NlUHVibGljQXBpKCkpLHRoaXMub2JzZXJ2ZXIuYWRkTG9jYWxIb29rKCJjaGFuZ2UiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uRGF0YUNoYW5nZSh0KX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJDcmVhdGVSb3ciLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlclRhYmxlQWx0ZXIoKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJSZW1vdmVSb3ciLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlclRhYmxlQWx0ZXIoKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJDcmVhdGVDb2wiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlclRhYmxlQWx0ZXIoKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJSZW1vdmVDb2wiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlclRhYmxlQWx0ZXIoKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJDaGFuZ2UiLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUub25BZnRlclRhYmxlQWx0ZXIobil9KSx0aGlzLmFkZEhvb2soImFmdGVyTG9hZERhdGEiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uQWZ0ZXJMb2FkRGF0YSh0KX0pLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGYucHJvdG90eXBlLCJlbmFibGVQbHVnaW4iKS5jYWxsKHRoaXMpKX0sZGlzYWJsZVBsdWdpbjpmdW5jdGlvbigpe3RoaXMub2JzZXJ2ZXImJih0aGlzLm9ic2VydmVyLmRlc3Ryb3koKSx0aGlzLm9ic2VydmVyPW51bGwsdGhpcy5fZGVsZXRlUHVibGljQXBpKCkpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGYucHJvdG90eXBlLCJkaXNhYmxlUGx1Z2luIikuY2FsbCh0aGlzKX0sb25EYXRhQ2hhbmdlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXRoaXMub2JzZXJ2ZXIuaXNQYXVzZWQoKSl7dmFyIG49e2FkZDpmdW5jdGlvbihlKXtpc05hTihlLmNvbCk/dC5ob3QucnVuSG9va3MoImFmdGVyQ3JlYXRlUm93IixlLnJvdyk6dC5ob3QucnVuSG9va3MoImFmdGVyQ3JlYXRlQ29sIixlLmNvbCl9LHJlbW92ZTpmdW5jdGlvbihlKXtpc05hTihlLmNvbCk/dC5ob3QucnVuSG9va3MoImFmdGVyUmVtb3ZlUm93IixlLnJvdywxKTp0LmhvdC5ydW5Ib29rcygiYWZ0ZXJSZW1vdmVDb2wiLGUuY29sLDEpfSxyZXBsYWNlOmZ1bmN0aW9uKGUpe3QuaG90LnJ1bkhvb2tzKCJhZnRlckNoYW5nZSIsW2Uucm93LGUuY29sLG51bGwsZS52YWx1ZV0sImV4dGVybmFsIil9fTtjKGUsZnVuY3Rpb24oZSl7bltlLm9wXSYmbltlLm9wXShlKX0pLHRoaXMuaG90LnJlbmRlcigpfXRoaXMuaG90LnJ1bkhvb2tzKCJhZnRlckNoYW5nZXNPYnNlcnZlZCIpfSxvbkFmdGVyVGFibGVBbHRlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzOyJsb2FkRGF0YSIhPT1lJiYodGhpcy5vYnNlcnZlci5wYXVzZSgpLHRoaXMuaG90LmFkZEhvb2tPbmNlKCJhZnRlckNoYW5nZXNPYnNlcnZlZCIsZnVuY3Rpb24oKXtyZXR1cm4gdC5vYnNlcnZlci5yZXN1bWUoKX0pKX0sb25BZnRlckxvYWREYXRhOmZ1bmN0aW9uKGUpe2V8fHRoaXMub2JzZXJ2ZXIuc2V0T2JzZXJ2ZWREYXRhKHRoaXMuaG90LmdldFNvdXJjZURhdGEoKSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmVyJiYodGhpcy5vYnNlcnZlci5kZXN0cm95KCksdGhpcy5fZGVsZXRlUHVibGljQXBpKCkpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGYucHJvdG90eXBlLCJkZXN0cm95IikuY2FsbCh0aGlzKX0sX2V4cG9zZVB1YmxpY0FwaTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmhvdDt0LnBhdXNlT2JzZXJ2aW5nQ2hhbmdlcz1mdW5jdGlvbigpe3JldHVybiBlLm9ic2VydmVyLnBhdXNlKCl9LHQucmVzdW1lT2JzZXJ2aW5nQ2hhbmdlcz1mdW5jdGlvbigpe3JldHVybiBlLm9ic2VydmVyLnJlc3VtZSgpfSx0LmlzUGF1c2VkT2JzZXJ2aW5nQ2hhbmdlcz1mdW5jdGlvbigpe3JldHVybiBlLm9ic2VydmVyLmlzUGF1c2VkKCl9fSxfZGVsZXRlUHVibGljQXBpOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3Q7ZGVsZXRlIGUucGF1c2VPYnNlcnZpbmdDaGFuZ2VzLGRlbGV0ZSBlLnJlc3VtZU9ic2VydmluZ0NoYW5nZXMsZGVsZXRlIGUuaXNQYXVzZWRPYnNlcnZpbmdDaGFuZ2VzfX0se30sbCksZCgib2JzZXJ2ZUNoYW5nZXMiLGgpfSx7X2Jhc2U6NTgsZGF0YU9ic2VydmVyOjgzLCJoZWxwZXJzL2FycmF5Ijo0Mixqc29ucGF0Y2g6Impzb25wYXRjaCIscGx1Z2luczo1N31dLDg1OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7dmFyIHQ9W107cmV0dXJuIGU9YShlLGZ1bmN0aW9uKGUpe3JldHVybi9bXC9dbGVuZ3RoL2dpLnRlc3QoZS5wYXRoKT8hMTpyKGUucGF0aCk/ITA6ITF9KSxlPWwoZSxmdW5jdGlvbihlKXt2YXIgdD1yKGUucGF0aCk7cmV0dXJuIGUucm93PXQucm93LGUuY29sPXQuY29sLGV9KSxlPWEoZSxmdW5jdGlvbihlKXtpZigtMSE9PVsiYWRkIiwicmVtb3ZlIl0uaW5kZXhPZihlLm9wKSYmIWlzTmFOKGUuY29sKSl7aWYoLTEhPT10LmluZGV4T2YoZS5jb2wpKXJldHVybiExO3QucHVzaChlLmNvbCl9cmV0dXJuITB9KSx0Lmxlbmd0aD0wLGV9ZnVuY3Rpb24gcihlKXt2YXIgdD1lLm1hdGNoKC9eXC8oXGQrKVwvPyguKik/JC8pO2lmKCF0KXJldHVybiBudWxsO3ZhciBuPXQsbz1uWzFdLHI9blsyXTtyZXR1cm57cm93OnBhcnNlSW50KG8sMTApLGNvbDovXlxkKiQvLnRlc3Qocik/cGFyc2VJbnQociwxMCk6cn19T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7Y2xlYW5QYXRjaGVzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LHBhcnNlUGF0aDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgaSxzPShpPWUoIi4uLy4uL2hlbHBlcnMvYXJyYXkiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLGE9cy5hcnJheUZpbHRlcixsPXMuYXJyYXlNYXB9LHsiLi4vLi4vaGVscGVycy9hcnJheSI6NDJ9XSw4NjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3ZhciB0LG49ZnVuY3Rpb24oKXt3aW5kb3cubG9jYWxTdG9yYWdlW2UrIl9fcGVyc2lzdGVudFN0YXRlS2V5cyJdPUpTT04uc3RyaW5naWZ5KHQpfSxvPWZ1bmN0aW9uKCl7dmFyIG49d2luZG93LmxvY2FsU3RvcmFnZVtlKyJfX3BlcnNpc3RlbnRTdGF0ZUtleXMiXSxvPSJzdHJpbmciPT10eXBlb2Ygbj9KU09OLnBhcnNlKG4pOnZvaWQgMDt0PW8/bzpbXX0scj1mdW5jdGlvbigpe3Q9W10sbigpfTtvKCksdGhpcy5zYXZlVmFsdWU9ZnVuY3Rpb24obyxyKXt3aW5kb3cubG9jYWxTdG9yYWdlW2UrIl8iK29dPUpTT04uc3RyaW5naWZ5KHIpLC0xPT10LmluZGV4T2YobykmJih0LnB1c2gobyksbigpKX0sdGhpcy5sb2FkVmFsdWU9ZnVuY3Rpb24odCxuKXt0PSJ1bmRlZmluZWQiPT10eXBlb2YgdD9uOnQ7dmFyIG89d2luZG93LmxvY2FsU3RvcmFnZVtlKyJfIit0XTtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIG8/dm9pZCAwOkpTT04ucGFyc2Uobyl9LHRoaXMucmVzZXQ9ZnVuY3Rpb24odCl7d2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGUrIl8iK3QpfSx0aGlzLnJlc2V0QWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGUrIl8iK3Rbbl0pO3IoKX19ZnVuY3Rpb24gcigpe2Z1bmN0aW9uIGUoKXt2YXIgZT10aGlzO2Zvcih2YXIgdCBpbiByKXIuaGFzT3duUHJvcGVydHkodCkmJmUuYWRkSG9vayh0LHJbdF0pfWZ1bmN0aW9uIHQoKXt2YXIgZT10aGlzO2Zvcih2YXIgdCBpbiByKXIuaGFzT3duUHJvcGVydHkodCkmJmUucmVtb3ZlSG9vayh0LHJbdF0pfXZhciBuPXRoaXM7dGhpcy5pbml0PWZ1bmN0aW9uKCl7dmFyIHI9dGhpcyxpPXIuZ2V0U2V0dGluZ3MoKS5wZXJzaXN0ZW50U3RhdGU7cmV0dXJuIG4uZW5hYmxlZD0hIWksbi5lbmFibGVkPyhyLnN0b3JhZ2V8fChyLnN0b3JhZ2U9bmV3IG8oci5yb290RWxlbWVudC5pZCkpLHIucmVzZXRTdGF0ZT1uLnJlc2V0VmFsdWUsdm9pZCBlLmNhbGwocikpOnZvaWQgdC5jYWxsKHIpfSx0aGlzLnNhdmVWYWx1ZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7bi5zdG9yYWdlLnNhdmVWYWx1ZShlLHQpfSx0aGlzLmxvYWRWYWx1ZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dC52YWx1ZT1uLnN0b3JhZ2UubG9hZFZhbHVlKGUpfSx0aGlzLnJlc2V0VmFsdWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsidW5kZWZpbmVkIj09dHlwZW9mIGU/dC5zdG9yYWdlLnJlc2V0QWxsKCk6dC5zdG9yYWdlLnJlc2V0KGUpfTt2YXIgcj17cGVyc2lzdGVudFN0YXRlU2F2ZTpuLnNhdmVWYWx1ZSxwZXJzaXN0ZW50U3RhdGVMb2FkOm4ubG9hZFZhbHVlLHBlcnNpc3RlbnRTdGF0ZVJlc2V0Om4ucmVzZXRWYWx1ZX07Zm9yKHZhciBpIGluIHIpci5oYXNPd25Qcm9wZXJ0eShpKSYmSGFuZHNvbnRhYmxlLmhvb2tzLnJlZ2lzdGVyKGkpfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0hhbmRzb250YWJsZVBlcnNpc3RlbnRTdGF0ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgaSxzPSgoaT1lKCJwbHVnaW5zIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5yZWdpc3RlclBsdWdpbixuZXcgcik7SGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYmVmb3JlSW5pdCIscy5pbml0KSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlclVwZGF0ZVNldHRpbmdzIixzLmluaXQpfSx7cGx1Z2luczo1N31dLDg3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oKXt2YXIgZT10aGlzLHQ9ISFlLmdldFNldHRpbmdzKCkuc2VhcmNoO3Q/ZS5zZWFyY2g9bmV3IEhhbmRzb250YWJsZS5TZWFyY2goZSk6ZGVsZXRlIGUuc2VhcmNofXZhciByLGkscz0ocj1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSxhPXMuYWRkQ2xhc3MsbD1zLnJlbW92ZUNsYXNzLHU9KGk9ZSgicmVuZGVyZXJzIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSxjPXUucmVnaXN0ZXJSZW5kZXJlcixkPXUuZ2V0UmVuZGVyZXI7SGFuZHNvbnRhYmxlLlNlYXJjaD1mdW5jdGlvbihlKXt0aGlzLnF1ZXJ5PWZ1bmN0aW9uKHQsbixvKXt2YXIgcj1lLmNvdW50Um93cygpLGk9ZS5jb3VudENvbHMoKSxzPVtdO258fChuPUhhbmRzb250YWJsZS5TZWFyY2guZ2xvYmFsLmdldERlZmF1bHRDYWxsYmFjaygpKSxvfHwobz1IYW5kc29udGFibGUuU2VhcmNoLmdsb2JhbC5nZXREZWZhdWx0UXVlcnlNZXRob2QoKSk7Zm9yKHZhciBhPTA7cj5hO2ErKylmb3IodmFyIGw9MDtpPmw7bCsrKXt2YXIgdT1lLmdldERhdGFBdENlbGwoYSxsKSxjPWUuZ2V0Q2VsbE1ldGEoYSxsKSxkPWMuc2VhcmNoLmNhbGxiYWNrfHxuLGg9Yy5zZWFyY2gucXVlcnlNZXRob2R8fG8sZj1oKHQsdSk7aWYoZil7dmFyIHA9e3JvdzphLGNvbDpsLGRhdGE6dX07cy5wdXNoKHApfWQmJmQoZSxhLGwsdSxmKX1yZXR1cm4gc319LEhhbmRzb250YWJsZS5TZWFyY2guREVGQVVMVF9DQUxMQkFDSz1mdW5jdGlvbihlLHQsbixvLHIpe2UuZ2V0Q2VsbE1ldGEodCxuKS5pc1NlYXJjaFJlc3VsdD1yfSxIYW5kc29udGFibGUuU2VhcmNoLkRFRkFVTFRfUVVFUllfTUVUSE9EPWZ1bmN0aW9uKGUsdCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBlJiZudWxsIT1lJiZlLnRvTG93ZXJDYXNlJiYwIT09ZS5sZW5ndGg/InVuZGVmaW5lZCI9PXR5cGVvZiB0fHxudWxsPT10PyExOi0xIT10LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSk6ITF9LEhhbmRzb250YWJsZS5TZWFyY2guREVGQVVMVF9TRUFSQ0hfUkVTVUxUX0NMQVNTPSJodFNlYXJjaFJlc3VsdCIsSGFuZHNvbnRhYmxlLlNlYXJjaC5nbG9iYWw9ZnVuY3Rpb24oKXt2YXIgZT1IYW5kc29udGFibGUuU2VhcmNoLkRFRkFVTFRfQ0FMTEJBQ0ssdD1IYW5kc29udGFibGUuU2VhcmNoLkRFRkFVTFRfUVVFUllfTUVUSE9ELG49SGFuZHNvbnRhYmxlLlNlYXJjaC5ERUZBVUxUX1NFQVJDSF9SRVNVTFRfQ0xBU1M7cmV0dXJue2dldERlZmF1bHRDYWxsYmFjazpmdW5jdGlvbigpe3JldHVybiBlfSxzZXREZWZhdWx0Q2FsbGJhY2s6ZnVuY3Rpb24odCl7ZT10fSxnZXREZWZhdWx0UXVlcnlNZXRob2Q6ZnVuY3Rpb24oKXtyZXR1cm4gdH0sc2V0RGVmYXVsdFF1ZXJ5TWV0aG9kOmZ1bmN0aW9uKGUpe3Q9ZX0sZ2V0RGVmYXVsdFNlYXJjaFJlc3VsdENsYXNzOmZ1bmN0aW9uKCl7cmV0dXJuIG59LHNldERlZmF1bHRTZWFyY2hSZXN1bHRDbGFzczpmdW5jdGlvbihlKXtuPWV9fX0oKSxIYW5kc29udGFibGUuU2VhcmNoQ2VsbERlY29yYXRvcj1mdW5jdGlvbihlLHQsbixvLHIsaSxzKXt2YXIgdT1udWxsIT09cy5zZWFyY2gmJiJvYmplY3QiPT10eXBlb2Ygcy5zZWFyY2gmJnMuc2VhcmNoLnNlYXJjaFJlc3VsdENsYXNzfHxIYW5kc29udGFibGUuU2VhcmNoLmdsb2JhbC5nZXREZWZhdWx0U2VhcmNoUmVzdWx0Q2xhc3MoKTtzLmlzU2VhcmNoUmVzdWx0P2EodCx1KTpsKHQsdSl9O3ZhciBoPWQoImJhc2UiKTtjKCJiYXNlIixmdW5jdGlvbihlLHQsbixvLHIsaSxzKXtoLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxIYW5kc29udGFibGUuU2VhcmNoQ2VsbERlY29yYXRvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxIYW5kc29udGFibGUuaG9va3MuYWRkKCJhZnRlckluaXQiLG8pLEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVyVXBkYXRlU2V0dGluZ3MiLG8pfSx7ImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LHJlbmRlcmVyczo5MH1dLDg4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1RvdWNoU2Nyb2xsOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZH19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzPShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLGE9cy5hZGRDbGFzcyxsPXMucmVtb3ZlQ2xhc3MsdT0ocj1lKCJfYmFzZSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSlbImRlZmF1bHQiXSxjPShpPWUoInBsdWdpbnMiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLnJlZ2lzdGVyUGx1Z2luLGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3RvcihoKS5jYWxsKHRoaXMsZSksdGhpcy5ob3QuYWRkSG9vaygiYWZ0ZXJJbml0IixmdW5jdGlvbigpe3JldHVybiB0LmFmdGVySW5pdCgpfSksdGhpcy5ob3QuYWRkSG9vaygiYWZ0ZXJVcGRhdGVTZXR0aW5ncyIsZnVuY3Rpb24oKXtyZXR1cm4gdC5vbkFmdGVyVXBkYXRlU2V0dGluZ3MoKX0pLHRoaXMuc2Nyb2xsYmFycz1bXSx0aGlzLmNsb25lcz1bXX0saD1kOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhkLHthZnRlckluaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZ2lzdGVyRXZlbnRzKCksdGhpcy5vbkFmdGVyVXBkYXRlU2V0dGluZ3MoKX0sb25BZnRlclVwZGF0ZVNldHRpbmdzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmhvdC5hZGRIb29rT25jZSgiYWZ0ZXJSZW5kZXIiLGZ1bmN0aW9uKCl7dmFyIHQ9ZS5ob3Qudmlldy53dC53dE92ZXJsYXlzO2Uuc2Nyb2xsYmFycz1bXSxlLnNjcm9sbGJhcnMucHVzaCh0LnRvcE92ZXJsYXkpLHQuYm90dG9tT3ZlcmxheS5jbG9uZSYmZS5zY3JvbGxiYXJzLnB1c2godC5ib3R0b21PdmVybGF5KSxlLnNjcm9sbGJhcnMucHVzaCh0LmxlZnRPdmVybGF5KSx0LnRvcExlZnRDb3JuZXJPdmVybGF5JiZlLnNjcm9sbGJhcnMucHVzaCh0LnRvcExlZnRDb3JuZXJPdmVybGF5KSx0LmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5JiZ0LmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5LmNsb25lJiZlLnNjcm9sbGJhcnMucHVzaCh0LmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5KSxlLmNsb25lcz1bXSx0LnRvcE92ZXJsYXkubmVlZEZ1bGxSZW5kZXImJmUuY2xvbmVzLnB1c2godC50b3BPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpLHQuYm90dG9tT3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmZS5jbG9uZXMucHVzaCh0LmJvdHRvbU92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSksdC5sZWZ0T3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmZS5jbG9uZXMucHVzaCh0LmxlZnRPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpLHQudG9wTGVmdENvcm5lck92ZXJsYXkmJmUuY2xvbmVzLnB1c2godC50b3BMZWZ0Q29ybmVyT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKSx0LmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5JiZ0LmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5LmNsb25lJiZlLmNsb25lcy5wdXNoKHQuYm90dG9tTGVmdENvcm5lck92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSl9KX0scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaG90LmFkZEhvb2soImJlZm9yZVRvdWNoU2Nyb2xsIixmdW5jdGlvbigpe3JldHVybiBlLm9uQmVmb3JlVG91Y2hTY3JvbGwoKX0pLHRoaXMuaG90LmFkZEhvb2soImFmdGVyTW9tZW50dW1TY3JvbGwiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlck1vbWVudHVtU2Nyb2xsKCl9KX0sb25CZWZvcmVUb3VjaFNjcm9sbDpmdW5jdGlvbigpe0hhbmRzb250YWJsZS5mcmVlemVPdmVybGF5cz0hMDtmb3IodmFyIGU9MCx0PXRoaXMuY2xvbmVzLmxlbmd0aDt0PmU7ZSsrKWEodGhpcy5jbG9uZXNbZV0sImhpZGUtdHdlZW4iKX0sb25BZnRlck1vbWVudHVtU2Nyb2xsOmZ1bmN0aW9uKCl7SGFuZHNvbnRhYmxlLmZyZWV6ZU92ZXJsYXlzPSExO2Zvcih2YXIgZT10aGlzLHQ9MCxuPXRoaXMuY2xvbmVzLmxlbmd0aDtuPnQ7dCsrKWwodGhpcy5jbG9uZXNbdF0sImhpZGUtdHdlZW4iKTtmb3IodmFyIG89MCxyPXRoaXMuY2xvbmVzLmxlbmd0aDtyPm87bysrKWEodGhpcy5jbG9uZXNbb10sInNob3ctdHdlZW4iKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsbj1lLmNsb25lcy5sZW5ndGg7bj50O3QrKylsKGUuY2xvbmVzW3RdLCJzaG93LXR3ZWVuIil9LDQwMCk7Zm9yKHZhciBpPTAscz10aGlzLnNjcm9sbGJhcnMubGVuZ3RoO3M+aTtpKyspdGhpcy5zY3JvbGxiYXJzW2ldLnJlZnJlc2goKSx0aGlzLnNjcm9sbGJhcnNbaV0ucmVzZXRGaXhlZFBvc2l0aW9uKCk7dGhpcy5ob3Qudmlldy53dC53dE92ZXJsYXlzLnN5bmNTY3JvbGxXaXRoTWFzdGVyKCl9fSx7fSx1KSxjKCJ0b3VjaFNjcm9sbCIsZCl9LHtfYmFzZTo1OCwiaGVscGVycy9kb20vZWxlbWVudCI6NDUscGx1Z2luczo1N31dLDg5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oKXt2YXIgZT10aGlzLHQ9InVuZGVmaW5lZCI9PXR5cGVvZiBlLmdldFNldHRpbmdzKCkudW5kb3x8ZS5nZXRTZXR0aW5ncygpLnVuZG87CnQ/ZS51bmRvUmVkb3x8KGUudW5kb1JlZG89bmV3IEhhbmRzb250YWJsZS5VbmRvUmVkbyhlKSxzKGUpLGUuYWRkSG9vaygiYmVmb3JlS2V5RG93biIsciksZS5hZGRIb29rKCJhZnRlckNoYW5nZSIsaSkpOmUudW5kb1JlZG8mJihkZWxldGUgZS51bmRvUmVkbyxhKGUpLGUucmVtb3ZlSG9vaygiYmVmb3JlS2V5RG93biIsciksZS5yZW1vdmVIb29rKCJhZnRlckNoYW5nZSIsaSkpfWZ1bmN0aW9uIHIoZSl7dmFyIHQ9dGhpcyxuPShlLmN0cmxLZXl8fGUubWV0YUtleSkmJiFlLmFsdEtleTtuJiYoODk9PT1lLmtleUNvZGV8fGUuc2hpZnRLZXkmJjkwPT09ZS5rZXlDb2RlPyh0LnVuZG9SZWRvLnJlZG8oKSxmKGUpKTo5MD09PWUua2V5Q29kZSYmKHQudW5kb1JlZG8udW5kbygpLGYoZSkpKX1mdW5jdGlvbiBpKGUsdCl7dmFyIG49dGhpcztyZXR1cm4ibG9hZERhdGEiPT10P24udW5kb1JlZG8uY2xlYXIoKTp2b2lkIDB9ZnVuY3Rpb24gcyhlKXtlLnVuZG89ZnVuY3Rpb24oKXtyZXR1cm4gZS51bmRvUmVkby51bmRvKCl9LGUucmVkbz1mdW5jdGlvbigpe3JldHVybiBlLnVuZG9SZWRvLnJlZG8oKX0sZS5pc1VuZG9BdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS51bmRvUmVkby5pc1VuZG9BdmFpbGFibGUoKX0sZS5pc1JlZG9BdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS51bmRvUmVkby5pc1JlZG9BdmFpbGFibGUoKX0sZS5jbGVhclVuZG89ZnVuY3Rpb24oKXtyZXR1cm4gZS51bmRvUmVkby5jbGVhcigpfX1mdW5jdGlvbiBhKGUpe2RlbGV0ZSBlLnVuZG8sZGVsZXRlIGUucmVkbyxkZWxldGUgZS5pc1VuZG9BdmFpbGFibGUsZGVsZXRlIGUuaXNSZWRvQXZhaWxhYmxlLGRlbGV0ZSBlLmNsZWFyVW5kb312YXIgbCx1LGM9KGw9ZSgiaGVscGVycy9vYmplY3QiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLGQ9Yy5pbmhlcml0LGg9Yy5kZWVwQ2xvbmUsZj0odT1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLHUmJnUuX19lc01vZHVsZSYmdXx8eyJkZWZhdWx0Ijp1fSkuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO0hhbmRzb250YWJsZS5VbmRvUmVkbz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuaW5zdGFuY2U9ZSx0aGlzLmRvbmVBY3Rpb25zPVtdLHRoaXMudW5kb25lQWN0aW9ucz1bXSx0aGlzLmlnbm9yZU5ld0FjdGlvbnM9ITEsZS5hZGRIb29rKCJhZnRlckNoYW5nZSIsZnVuY3Rpb24oZSxuKXtpZihlKXt2YXIgbz1uZXcgSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkNoYW5nZUFjdGlvbihlKTt0LmRvbmUobyl9fSksZS5hZGRIb29rKCJhZnRlckNyZWF0ZVJvdyIsZnVuY3Rpb24oZSxuLG8pe2lmKCFvKXt2YXIgcj1uZXcgSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkNyZWF0ZVJvd0FjdGlvbihlLG4pO3QuZG9uZShyKX19KSxlLmFkZEhvb2soImJlZm9yZVJlbW92ZVJvdyIsZnVuY3Rpb24oZSxuKXt2YXIgbz10Lmluc3RhbmNlLmdldFNvdXJjZURhdGEoKTtlPShvLmxlbmd0aCtlKSVvLmxlbmd0aDt2YXIgcj1vLnNsaWNlKGUsZStuKSxpPW5ldyBIYW5kc29udGFibGUuVW5kb1JlZG8uUmVtb3ZlUm93QWN0aW9uKGUscik7dC5kb25lKGkpfSksZS5hZGRIb29rKCJhZnRlckNyZWF0ZUNvbCIsZnVuY3Rpb24oZSxuLG8pe2lmKCFvKXt2YXIgcj1uZXcgSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkNyZWF0ZUNvbHVtbkFjdGlvbihlLG4pO3QuZG9uZShyKX19KSxlLmFkZEhvb2soImJlZm9yZVJlbW92ZUNvbCIsZnVuY3Rpb24obixvKXt2YXIgcj10Lmluc3RhbmNlLmdldFNvdXJjZURhdGEoKTtuPSh0Lmluc3RhbmNlLmNvdW50Q29scygpK24pJXQuaW5zdGFuY2UuY291bnRDb2xzKCk7Zm9yKHZhciBpPVtdLHM9MCxhPXIubGVuZ3RoO2E+cztzKyspaVtzXT1yW3NdLnNsaWNlKG4sbitvKTt2YXIgbDtBcnJheS5pc0FycmF5KGUuZ2V0U2V0dGluZ3MoKS5jb2xIZWFkZXJzKSYmKGw9ZS5nZXRTZXR0aW5ncygpLmNvbEhlYWRlcnMuc2xpY2UobixuK2kubGVuZ3RoKSk7dmFyIHU9bmV3IEhhbmRzb250YWJsZS5VbmRvUmVkby5SZW1vdmVDb2x1bW5BY3Rpb24obixpLGwpO3QuZG9uZSh1KX0pLGUuYWRkSG9vaygiYmVmb3JlQ2VsbEFsaWdubWVudCIsZnVuY3Rpb24oZSxuLG8scil7dmFyIGk9bmV3IEhhbmRzb250YWJsZS5VbmRvUmVkby5DZWxsQWxpZ25tZW50QWN0aW9uKGUsbixvLHIpO3QuZG9uZShpKX0pfSxIYW5kc29udGFibGUuVW5kb1JlZG8ucHJvdG90eXBlLmRvbmU9ZnVuY3Rpb24oZSl7dGhpcy5pZ25vcmVOZXdBY3Rpb25zfHwodGhpcy5kb25lQWN0aW9ucy5wdXNoKGUpLHRoaXMudW5kb25lQWN0aW9ucy5sZW5ndGg9MCl9LEhhbmRzb250YWJsZS5VbmRvUmVkby5wcm90b3R5cGUudW5kbz1mdW5jdGlvbigpe2lmKHRoaXMuaXNVbmRvQXZhaWxhYmxlKCkpe3ZhciBlPXRoaXMuZG9uZUFjdGlvbnMucG9wKCk7dGhpcy5pZ25vcmVOZXdBY3Rpb25zPSEwO3ZhciB0PXRoaXM7ZS51bmRvKHRoaXMuaW5zdGFuY2UsZnVuY3Rpb24oKXt0Lmlnbm9yZU5ld0FjdGlvbnM9ITEsdC51bmRvbmVBY3Rpb25zLnB1c2goZSl9KX19LEhhbmRzb250YWJsZS5VbmRvUmVkby5wcm90b3R5cGUucmVkbz1mdW5jdGlvbigpe2lmKHRoaXMuaXNSZWRvQXZhaWxhYmxlKCkpe3ZhciBlPXRoaXMudW5kb25lQWN0aW9ucy5wb3AoKTt0aGlzLmlnbm9yZU5ld0FjdGlvbnM9ITA7dmFyIHQ9dGhpcztlLnJlZG8odGhpcy5pbnN0YW5jZSxmdW5jdGlvbigpe3QuaWdub3JlTmV3QWN0aW9ucz0hMSx0LmRvbmVBY3Rpb25zLnB1c2goZSl9KX19LEhhbmRzb250YWJsZS5VbmRvUmVkby5wcm90b3R5cGUuaXNVbmRvQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9uZUFjdGlvbnMubGVuZ3RoPjB9LEhhbmRzb250YWJsZS5VbmRvUmVkby5wcm90b3R5cGUuaXNSZWRvQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5kb25lQWN0aW9ucy5sZW5ndGg+MH0sSGFuZHNvbnRhYmxlLlVuZG9SZWRvLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuZG9uZUFjdGlvbnMubGVuZ3RoPTAsdGhpcy51bmRvbmVBY3Rpb25zLmxlbmd0aD0wfSxIYW5kc29udGFibGUuVW5kb1JlZG8uQWN0aW9uPWZ1bmN0aW9uKCl7fSxIYW5kc29udGFibGUuVW5kb1JlZG8uQWN0aW9uLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKCl7fSxIYW5kc29udGFibGUuVW5kb1JlZG8uQWN0aW9uLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKCl7fSxIYW5kc29udGFibGUuVW5kb1JlZG8uQ2hhbmdlQWN0aW9uPWZ1bmN0aW9uKGUpe3RoaXMuY2hhbmdlcz1lfSxkKEhhbmRzb250YWJsZS5VbmRvUmVkby5DaGFuZ2VBY3Rpb24sSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkFjdGlvbiksSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkNoYW5nZUFjdGlvbi5wcm90b3R5cGUudW5kbz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1oKHRoaXMuY2hhbmdlcyksbz1lLmNvdW50RW1wdHlSb3dzKCEwKSxyPWUuY291bnRFbXB0eUNvbHMoITApLGk9MCxzPW4ubGVuZ3RoO3M+aTtpKyspbltpXS5zcGxpY2UoMywxKTtlLmFkZEhvb2tPbmNlKCJhZnRlckNoYW5nZSIsdCksZS5zZXREYXRhQXRSb3dQcm9wKG4sbnVsbCxudWxsLCJ1bmRvIik7Zm9yKHZhciBpPTAscz1uLmxlbmd0aDtzPmk7aSsrKWUuZ2V0U2V0dGluZ3MoKS5taW5TcGFyZVJvd3MmJm5baV1bMF0rMStlLmdldFNldHRpbmdzKCkubWluU3BhcmVSb3dzPT09ZS5jb3VudFJvd3MoKSYmbz09ZS5nZXRTZXR0aW5ncygpLm1pblNwYXJlUm93cyYmKGUuYWx0ZXIoInJlbW92ZV9yb3ciLHBhcnNlSW50KG5baV1bMF0rMSwxMCksZS5nZXRTZXR0aW5ncygpLm1pblNwYXJlUm93cyksZS51bmRvUmVkby5kb25lQWN0aW9ucy5wb3AoKSksZS5nZXRTZXR0aW5ncygpLm1pblNwYXJlQ29scyYmbltpXVsxXSsxK2UuZ2V0U2V0dGluZ3MoKS5taW5TcGFyZUNvbHM9PT1lLmNvdW50Q29scygpJiZyPT1lLmdldFNldHRpbmdzKCkubWluU3BhcmVDb2xzJiYoZS5hbHRlcigicmVtb3ZlX2NvbCIscGFyc2VJbnQobltpXVsxXSsxLDEwKSxlLmdldFNldHRpbmdzKCkubWluU3BhcmVDb2xzKSxlLnVuZG9SZWRvLmRvbmVBY3Rpb25zLnBvcCgpKX0sSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkNoYW5nZUFjdGlvbi5wcm90b3R5cGUucmVkbz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1oKHRoaXMuY2hhbmdlcyksbz0wLHI9bi5sZW5ndGg7cj5vO28rKyluW29dLnNwbGljZSgyLDEpO2UuYWRkSG9va09uY2UoImFmdGVyQ2hhbmdlIix0KSxlLnNldERhdGFBdFJvd1Byb3AobixudWxsLG51bGwsInJlZG8iKX0sSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkNyZWF0ZVJvd0FjdGlvbj1mdW5jdGlvbihlLHQpe3RoaXMuaW5kZXg9ZSx0aGlzLmFtb3VudD10fSxkKEhhbmRzb250YWJsZS5VbmRvUmVkby5DcmVhdGVSb3dBY3Rpb24sSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkFjdGlvbiksSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkNyZWF0ZVJvd0FjdGlvbi5wcm90b3R5cGUudW5kbz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuY291bnRSb3dzKCksbz1lLmdldFNldHRpbmdzKCkubWluU3BhcmVSb3dzO3RoaXMuaW5kZXg+PW4mJnRoaXMuaW5kZXgtbzxuJiYodGhpcy5pbmRleC09byksZS5hZGRIb29rT25jZSgiYWZ0ZXJSZW1vdmVSb3ciLHQpLGUuYWx0ZXIoInJlbW92ZV9yb3ciLHRoaXMuaW5kZXgsdGhpcy5hbW91bnQpfSxIYW5kc29udGFibGUuVW5kb1JlZG8uQ3JlYXRlUm93QWN0aW9uLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKGUsdCl7ZS5hZGRIb29rT25jZSgiYWZ0ZXJDcmVhdGVSb3ciLHQpLGUuYWx0ZXIoImluc2VydF9yb3ciLHRoaXMuaW5kZXgrMSx0aGlzLmFtb3VudCl9LEhhbmRzb250YWJsZS5VbmRvUmVkby5SZW1vdmVSb3dBY3Rpb249ZnVuY3Rpb24oZSx0KXt0aGlzLmluZGV4PWUsdGhpcy5kYXRhPXR9LGQoSGFuZHNvbnRhYmxlLlVuZG9SZWRvLlJlbW92ZVJvd0FjdGlvbixIYW5kc29udGFibGUuVW5kb1JlZG8uQWN0aW9uKSxIYW5kc29udGFibGUuVW5kb1JlZG8uUmVtb3ZlUm93QWN0aW9uLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKGUsdCl7dmFyIG49W3RoaXMuaW5kZXgsMF07QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobix0aGlzLmRhdGEpLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoZS5nZXRTb3VyY2VEYXRhKCksbiksZS5hZGRIb29rT25jZSgiYWZ0ZXJSZW5kZXIiLHQpLGUucmVuZGVyKCl9LEhhbmRzb250YWJsZS5VbmRvUmVkby5SZW1vdmVSb3dBY3Rpb24ucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oZSx0KXtlLmFkZEhvb2tPbmNlKCJhZnRlclJlbW92ZVJvdyIsdCksZS5hbHRlcigicmVtb3ZlX3JvdyIsdGhpcy5pbmRleCx0aGlzLmRhdGEubGVuZ3RoKX0sSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkNyZWF0ZUNvbHVtbkFjdGlvbj1mdW5jdGlvbihlLHQpe3RoaXMuaW5kZXg9ZSx0aGlzLmFtb3VudD10fSxkKEhhbmRzb250YWJsZS5VbmRvUmVkby5DcmVhdGVDb2x1bW5BY3Rpb24sSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkFjdGlvbiksSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkNyZWF0ZUNvbHVtbkFjdGlvbi5wcm90b3R5cGUudW5kbz1mdW5jdGlvbihlLHQpe2UuYWRkSG9va09uY2UoImFmdGVyUmVtb3ZlQ29sIix0KSxlLmFsdGVyKCJyZW1vdmVfY29sIix0aGlzLmluZGV4LHRoaXMuYW1vdW50KX0sSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkNyZWF0ZUNvbHVtbkFjdGlvbi5wcm90b3R5cGUucmVkbz1mdW5jdGlvbihlLHQpe2UuYWRkSG9va09uY2UoImFmdGVyQ3JlYXRlQ29sIix0KSxlLmFsdGVyKCJpbnNlcnRfY29sIix0aGlzLmluZGV4KzEsdGhpcy5hbW91bnQpfSxIYW5kc29udGFibGUuVW5kb1JlZG8uQ2VsbEFsaWdubWVudEFjdGlvbj1mdW5jdGlvbihlLHQsbixvKXt0aGlzLnN0YXRlQmVmb3JlPWUsdGhpcy5yYW5nZT10LHRoaXMudHlwZT1uLHRoaXMuYWxpZ25tZW50PW99LEhhbmRzb250YWJsZS5VbmRvUmVkby5DZWxsQWxpZ25tZW50QWN0aW9uLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKGUsdCl7aWYoZS5nZXRQbHVnaW4oImNvbnRleHRNZW51IikuaXNFbmFibGVkKCkpe2Zvcih2YXIgbj10aGlzLnJhbmdlLmZyb20ucm93O248PXRoaXMucmFuZ2UudG8ucm93O24rKylmb3IodmFyIG89dGhpcy5yYW5nZS5mcm9tLmNvbDtvPD10aGlzLnJhbmdlLnRvLmNvbDtvKyspZS5zZXRDZWxsTWV0YShuLG8sImNsYXNzTmFtZSIsdGhpcy5zdGF0ZUJlZm9yZVtuXVtvXXx8IiBodExlZnQiKTtlLmFkZEhvb2tPbmNlKCJhZnRlclJlbmRlciIsdCksZS5yZW5kZXIoKX19LEhhbmRzb250YWJsZS5VbmRvUmVkby5DZWxsQWxpZ25tZW50QWN0aW9uLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKGUsdCl7ZS5nZXRQbHVnaW4oImNvbnRleHRNZW51IikuaXNFbmFibGVkKCkmJihlLnNlbGVjdENlbGwodGhpcy5yYW5nZS5mcm9tLnJvdyx0aGlzLnJhbmdlLmZyb20uY29sLHRoaXMucmFuZ2UudG8ucm93LHRoaXMucmFuZ2UudG8uY29sKSxlLmdldFBsdWdpbigiY29udGV4dE1lbnUiKS5leGVjdXRlQ29tbWFuZCgiYWxpZ25tZW50OiIrdGhpcy5hbGlnbm1lbnQucmVwbGFjZSgiaHQiLCIiKS50b0xvd2VyQ2FzZSgpKSxlLmFkZEhvb2tPbmNlKCJhZnRlclJlbmRlciIsdCksZS5yZW5kZXIoKSl9LEhhbmRzb250YWJsZS5VbmRvUmVkby5SZW1vdmVDb2x1bW5BY3Rpb249ZnVuY3Rpb24oZSx0LG4pe3RoaXMuaW5kZXg9ZSx0aGlzLmRhdGE9dCx0aGlzLmFtb3VudD10aGlzLmRhdGFbMF0ubGVuZ3RoLHRoaXMuaGVhZGVycz1ufSxkKEhhbmRzb250YWJsZS5VbmRvUmVkby5SZW1vdmVDb2x1bW5BY3Rpb24sSGFuZHNvbnRhYmxlLlVuZG9SZWRvLkFjdGlvbiksSGFuZHNvbnRhYmxlLlVuZG9SZWRvLlJlbW92ZUNvbHVtbkFjdGlvbi5wcm90b3R5cGUudW5kbz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbixvLHI9MCxpPWUuZ2V0U291cmNlRGF0YSgpLmxlbmd0aDtpPnI7cisrKW49ZS5nZXRTb3VyY2VEYXRhQXRSb3cociksbz1bdGhpcy5pbmRleCwwXSxBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShvLHRoaXMuZGF0YVtyXSksQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShuLG8pOyJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5oZWFkZXJzJiYobz1bdGhpcy5pbmRleCwwXSxBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShvLHRoaXMuaGVhZGVycyksQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShlLmdldFNldHRpbmdzKCkuY29sSGVhZGVycyxvKSksZS5hZGRIb29rT25jZSgiYWZ0ZXJSZW5kZXIiLHQpLGUucmVuZGVyKCl9LEhhbmRzb250YWJsZS5VbmRvUmVkby5SZW1vdmVDb2x1bW5BY3Rpb24ucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oZSx0KXtlLmFkZEhvb2tPbmNlKCJhZnRlclJlbW92ZUNvbCIsdCksZS5hbHRlcigicmVtb3ZlX2NvbCIsdGhpcy5pbmRleCx0aGlzLmFtb3VudCl9LEhhbmRzb250YWJsZS5ob29rcy5hZGQoImFmdGVySW5pdCIsbyksSGFuZHNvbnRhYmxlLmhvb2tzLmFkZCgiYWZ0ZXJVcGRhdGVTZXR0aW5ncyIsbyl9LHsiaGVscGVycy9kb20vZXZlbnQiOjQ2LCJoZWxwZXJzL29iamVjdCI6NTB9XSw5MDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCl7dmFyIG47bFtlXT10LG49YShlKSsiUmVuZGVyZXIiLEhhbmRzb250YWJsZS5yZW5kZXJlcnNbbl09dCxIYW5kc29udGFibGVbbl09dH1mdW5jdGlvbiByKGUpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlKXJldHVybiBlO2lmKCJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBFcnJvcignT25seSBzdHJpbmdzIGFuZCBmdW5jdGlvbnMgY2FuIGJlIHBhc3NlZCBhcyAicmVuZGVyZXIiIHBhcmFtZXRlcicpO2lmKCEoZSBpbiBsKSl0aHJvdyBFcnJvcignTm8gZWRpdG9yIHJlZ2lzdGVyZWQgdW5kZXIgbmFtZSAiJytlKyciJyk7cmV0dXJuIGxbZV19ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSBpbiBsfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se3JlZ2lzdGVyUmVuZGVyZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sZ2V0UmVuZGVyZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0saGFzUmVuZGVyZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHMsYT0ocz1lKCJoZWxwZXJzL3N0cmluZyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkudG9VcHBlckNhc2VGaXJzdCxsPXt9O0hhbmRzb250YWJsZS5yZW5kZXJlcnM9SGFuZHNvbnRhYmxlLnJlbmRlcmVyc3x8e30sSGFuZHNvbnRhYmxlLnJlbmRlcmVycy5yZWdpc3RlclJlbmRlcmVyPW8sSGFuZHNvbnRhYmxlLnJlbmRlcmVycy5nZXRSZW5kZXJlcj1yfSx7ImhlbHBlcnMvc3RyaW5nIjo1Mn1dLDkxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0LG4sbyxyLGkscyl7cy5jbGFzc05hbWUmJih0LmNsYXNzTmFtZT90LmNsYXNzTmFtZT10LmNsYXNzTmFtZSsiICIrcy5jbGFzc05hbWU6dC5jbGFzc05hbWU9cy5jbGFzc05hbWUpLHMucmVhZE9ubHkmJmEodCxzLnJlYWRPbmx5Q2VsbENsYXNzTmFtZSkscy52YWxpZD09PSExJiZzLmludmFsaWRDZWxsQ2xhc3NOYW1lP2EodCxzLmludmFsaWRDZWxsQ2xhc3NOYW1lKTpsKHQscy5pbnZhbGlkQ2VsbENsYXNzTmFtZSkscy53b3JkV3JhcD09PSExJiZzLm5vV29yZFdyYXBDbGFzc05hbWUmJmEodCxzLm5vV29yZFdyYXBDbGFzc05hbWUpLCFpJiZzLnBsYWNlaG9sZGVyJiZhKHQscy5wbGFjZWhvbGRlckNlbGxDbGFzc05hbWUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se2NlbGxEZWNvcmF0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaSxzPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGE9cy5hZGRDbGFzcyxsPXMucmVtb3ZlQ2xhc3MsdT0oaT1lKCJyZW5kZXJlcnMiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLnJlZ2lzdGVyUmVuZGVyZXI7dSgiYmFzZSIsbyksSGFuZHNvbnRhYmxlLnJlbmRlcmVycy5jZWxsRGVjb3JhdG9yPW99LHsiaGVscGVycy9kb20vZWxlbWVudCI6NDUscmVuZGVyZXJzOjkwfV0sOTI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlLHQsbixvLHIsaSxzKXt2YXIgYT0obS5jbG9uZU5vZGUoITApLHYuY2xvbmVOb2RlKCEwKSk7aWYoZigidGV4dCIpKGUsdCxuLG8scixpLHMpLHQuYXBwZW5kQ2hpbGQoYSksdSh0LCJodEF1dG9jb21wbGV0ZSIpLHQuZmlyc3RDaGlsZHx8dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcuZnJvbUNoYXJDb2RlKDE2MCkpKSwhZS5hY0Fycm93TGlzdGVuZXIpe3ZhciBsPWQoZSk7ZS5hY0Fycm93TGlzdGVuZXI9ZnVuY3Rpb24ocil7YyhyLnRhcmdldCwiaHRBdXRvY29tcGxldGVBcnJvdyIpJiZlLnZpZXcud3QuZ2V0U2V0dGluZygib25DZWxsRGJsQ2xpY2siLG51bGwsbmV3IGcobixvKSx0KX0sbC5hZGRFdmVudExpc3RlbmVyKGUucm9vdEVsZW1lbnQsIm1vdXNlZG93biIsZS5hY0Fycm93TGlzdGVuZXIpLGUuYWRkSG9va09uY2UoImFmdGVyRGVzdHJveSIsZnVuY3Rpb24oKXtsLmRlc3Ryb3koKX0pfX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHthdXRvY29tcGxldGVSZW5kZXJlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHMsYSxsPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLHU9bC5hZGRDbGFzcyxjPWwuaGFzQ2xhc3MsZD0obC5lbXB0eSwoaT1lKCJldmVudE1hbmFnZXIiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmV2ZW50TWFuYWdlciksaD0ocz1lKCJyZW5kZXJlcnMiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLGY9aC5nZXRSZW5kZXJlcixwPWgucmVnaXN0ZXJSZW5kZXJlcixnPShhPWUoIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuV2Fsa29udGFibGVDZWxsQ29vcmRzLG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIik7bS5jbGFzc05hbWU9Imh0QXV0b2NvbXBsZXRlV3JhcHBlciI7dmFyIHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIik7di5jbGFzc05hbWU9Imh0QXV0b2NvbXBsZXRlQXJyb3ciLHYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU3RyaW5nLmZyb21DaGFyQ29kZSg5NjYwKSkpO3AoImF1dG9jb21wbGV0ZSIsbyl9LHsiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIjo1LGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9kb20vZWxlbWVudCI6NDUscmVuZGVyZXJzOjkwfV0sOTM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlLHQsbixvLGEsbCx1KXtmdW5jdGlvbiBjKGUpe3ZhciB0PVtDLlNQQUNFLEMuRU5URVIsQy5ERUxFVEUsQy5CQUNLU1BBQ0VdOy0xPT09dC5pbmRleE9mKGUua2V5Q29kZSl8fEUoZSl8fGYoZnVuY3Rpb24oKXtTKGUpLGUucHJldmVudERlZmF1bHQoKX0pLChlLmtleUNvZGU9PUMuU1BBQ0V8fGUua2V5Q29kZT09Qy5FTlRFUikmJmQoKSwoZS5rZXlDb2RlPT1DLkRFTEVURXx8ZS5rZXlDb2RlPT1DLkJBQ0tTUEFDRSkmJmQoITEpfWZ1bmN0aW9uIGQoKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7ZihmdW5jdGlvbih0KXtmb3IodmFyIG49MCxvPXQubGVuZ3RoO28+bjtuKyspe2lmKG0odFtuXSxNKSYmbnVsbD09PWUpcmV0dXJuO2godFtuXSxlKX19KX1mdW5jdGlvbiBoKGUpe3ZhciB0PXZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDtudWxsPT09dD9lLmNoZWNrZWQ9IWUuY2hlY2tlZDplLmNoZWNrZWQ9dCx5LmZpcmVFdmVudChlLCJjaGFuZ2UiKX1mdW5jdGlvbiBmKHQpe2Zvcih2YXIgbj1lLmdldFNlbGVjdGVkUmFuZ2UoKSxvPW4uZ2V0VG9wTGVmdENvcm5lcigpLHI9bi5nZXRCb3R0b21SaWdodENvcm5lcigpLGk9by5yb3c7aTw9ci5yb3c7aSsrKWZvcih2YXIgcz1vLmNvbDtzPD1yLmNvbDtzKyspe3ZhciBhPWUuZ2V0Q2VsbChpLHMpLGw9ZS5nZXRDZWxsTWV0YShpLHMpLHU9YS5xdWVyeVNlbGVjdG9yQWxsKCJpbnB1dFt0eXBlPWNoZWNrYm94XSIpO3UubGVuZ3RoPjAmJiFsLnJlYWRPbmx5JiZ0KHUpfX12YXIgeT1uZXcgdyhlKSxiPXIoKSxSPXUubGFiZWwsTz0hMTtpZigidW5kZWZpbmVkIj09dHlwZW9mIHUuY2hlY2tlZFRlbXBsYXRlJiYodS5jaGVja2VkVGVtcGxhdGU9ITApLCJ1bmRlZmluZWQiPT10eXBlb2YgdS51bmNoZWNrZWRUZW1wbGF0ZSYmKHUudW5jaGVja2VkVGVtcGxhdGU9ITEpLHAodCksbD09PXUuY2hlY2tlZFRlbXBsYXRlfHx2KGwsdS5jaGVja2VkVGVtcGxhdGUpP2IuY2hlY2tlZD0hMDpsPT09dS51bmNoZWNrZWRUZW1wbGF0ZXx8dihsLHUudW5jaGVja2VkVGVtcGxhdGUpP2IuY2hlY2tlZD0hMTpudWxsPT09bD9nKGIsIm5vVmFsdWUiKTooYi5zdHlsZS5kaXNwbGF5PSJub25lIixnKGIsTSksTz0hMCksIU8mJlIpe3ZhciBrPSIiO1IudmFsdWU/az0iZnVuY3Rpb24iPT10eXBlb2YgUi52YWx1ZT9SLnZhbHVlLmNhbGwodGhpcyxuLG8sYSxsKTpSLnZhbHVlOlIucHJvcGVydHkmJihrPWUuZ2V0RGF0YUF0Um93UHJvcChuLFIucHJvcGVydHkpKTt2YXIgSD1pKGspOyJiZWZvcmUiPT09Ui5wb3NpdGlvbj9ILmFwcGVuZENoaWxkKGIpOkguaW5zZXJ0QmVmb3JlKGIsSC5maXJzdENoaWxkKSxiPUh9dC5hcHBlbmRDaGlsZChiKSxPJiZ0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIjYmFkLXZhbHVlIyIpKSx1LnJlYWRPbmx5P3kuYWRkRXZlbnRMaXN0ZW5lcihiLCJjbGljayIscyk6KHkuYWRkRXZlbnRMaXN0ZW5lcihiLCJtb3VzZWRvd24iLF8pLHkuYWRkRXZlbnRMaXN0ZW5lcihiLCJtb3VzZXVwIixfKSx5LmFkZEV2ZW50TGlzdGVuZXIoYiwiY2hhbmdlIixmdW5jdGlvbih0KXtlLnNldERhdGFBdFJvd1Byb3AobixhLHQudGFyZ2V0LmNoZWNrZWQ/dS5jaGVja2VkVGVtcGxhdGU6dS51bmNoZWNrZWRUZW1wbGF0ZSl9KSksVC5oYXMoZSl8fChULnNldChlLCEwKSxlLmFkZEhvb2soImJlZm9yZUtleURvd24iLGMpKX1mdW5jdGlvbiByKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtyZXR1cm4gZS5jbGFzc05hbWU9Imh0Q2hlY2tib3hSZW5kZXJlcklucHV0IixlLnR5cGU9ImNoZWNrYm94IixlLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIiksZS5jbG9uZU5vZGUoITEpfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGFiZWwiKTtyZXR1cm4gdC5jbGFzc05hbWU9Imh0Q2hlY2tib3hSZW5kZXJlckxhYmVsIix0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpKSx0LmNsb25lTm9kZSghMCl9ZnVuY3Rpb24gcyhlKXtlLnByZXZlbnREZWZhdWx0KCl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7Y2hlY2tib3hSZW5kZXJlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgYSxsLHUsYyxkLGgsZj0oYT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KSxwPWYuZW1wdHksZz1mLmFkZENsYXNzLG09Zi5oYXNDbGFzcyx2PShsPWUoImhlbHBlcnMvc3RyaW5nIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5lcXVhbHNJZ25vcmVDYXNlLHc9KHU9ZSgiZXZlbnRNYW5hZ2VyIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5FdmVudE1hbmFnZXIseT0oYz1lKCJyZW5kZXJlcnMiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y30pLGI9KHkuZ2V0UmVuZGVyZXIseS5yZWdpc3RlclJlbmRlcmVyKSxDPShkPWUoImhlbHBlcnMvdW5pY29kZSIpLGQmJmQuX19lc01vZHVsZSYmZHx8eyJkZWZhdWx0IjpkfSkuS0VZX0NPREVTLFI9KGg9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxoJiZoLl9fZXNNb2R1bGUmJmh8fHsiZGVmYXVsdCI6aH0pLF89Ui5zdG9wUHJvcGFnYXRpb24sUz1SLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbixFPVIuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQsVD1uZXcgV2Vha01hcCxNPSJodEJhZFZhbHVlIjtiKCJjaGVja2JveCIsbyl9LHtldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LCJoZWxwZXJzL2RvbS9ldmVudCI6NDYsImhlbHBlcnMvc3RyaW5nIjo1MiwiaGVscGVycy91bmljb2RlIjo1MyxyZW5kZXJlcnM6OTB9XSw5NDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCxuLG8scixpLGEpe2woImJhc2UiKS5hcHBseSh0aGlzLGFyZ3VtZW50cyksKG51bGw9PT1pfHx2b2lkIDA9PT1pKSYmKGk9IiIpLHModCxpKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtodG1sUmVuZGVyZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaSxzPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLmZhc3RJbm5lckhUTUwsYT0oaT1lKCJyZW5kZXJlcnMiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLGw9YS5nZXRSZW5kZXJlcix1PWEucmVnaXN0ZXJSZW5kZXJlcjt1KCJodG1sIixvKX0seyJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSxyZW5kZXJlcnM6OTB9XSw5NTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCxuLG8scixpLHMpe2YoaSkmJigidW5kZWZpbmVkIiE9dHlwZW9mIHMubGFuZ3VhZ2UmJmwubGFuZ3VhZ2Uocy5sYW5ndWFnZSksaT1sKGkpLmZvcm1hdChzLmZvcm1hdHx8IjAiKSx1KHQsImh0TnVtZXJpYyIpKSxkKCJ0ZXh0IikoZSx0LG4sbyxyLGkscyl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7bnVtZXJpY1JlbmRlcmVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGkscyxhLGw9KHI9ZSgibnVtZXJhbCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSlbImRlZmF1bHQiXSx1PShpPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmFkZENsYXNzLGM9KHM9ZSgicmVuZGVyZXJzIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KSxkPWMuZ2V0UmVuZGVyZXIsaD1jLnJlZ2lzdGVyUmVuZGVyZXIsZj0oYT1lKCJoZWxwZXJzL251bWJlciIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuaXNOdW1lcmljO2goIm51bWVyaWMiLG8pfSx7ImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LCJoZWxwZXJzL251bWJlciI6NDksbnVtZXJhbDoibnVtZXJhbCIscmVuZGVyZXJzOjkwfV0sOTY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlLHQsbixvLHIsaSxhKXtsKCJ0ZXh0IikuYXBwbHkodGhpcyxhcmd1bWVudHMpLGk9dC5pbm5lckhUTUw7dmFyIHUsYz1hLmhhc2hMZW5ndGh8fGkubGVuZ3RoLGQ9YS5oYXNoU3ltYm9sfHwiKiI7Zm9yKHU9IiI7dS5zcGxpdChkKS5sZW5ndGgtMTxjO3UrPWQpO3ModCx1KX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtwYXNzd29yZFJlbmRlcmVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGkscz0ocj1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5mYXN0SW5uZXJIVE1MLGE9KGk9ZSgicmVuZGVyZXJzIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSxsPWEuZ2V0UmVuZGVyZXIsdT1hLnJlZ2lzdGVyUmVuZGVyZXI7dSgicGFzc3dvcmQiLG8pfSx7ImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LHJlbmRlcmVyczo5MH1dLDk3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0LG4sbyxyLGkscyl7aCgiYmFzZSIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSwhaSYmcy5wbGFjZWhvbGRlciYmKGk9cy5wbGFjZWhvbGRlcik7dmFyIGE9YyhpKTtpZihlLmdldFNldHRpbmdzKCkudHJpbVdoaXRlc3BhY2V8fChhPWEucmVwbGFjZSgvIC9nLFN0cmluZy5mcm9tQ2hhckNvZGUoMTYwKSkpLHMucmVuZGVyZXJUZW1wbGF0ZSl7bCh0KTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJURU1QTEFURSIpO2Quc2V0QXR0cmlidXRlKCJiaW5kIiwie3t9fSIpLGQuaW5uZXJIVE1MPXMucmVuZGVyZXJUZW1wbGF0ZSxIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKGQpLGQubW9kZWw9ZS5nZXRTb3VyY2VEYXRhQXRSb3cobiksdC5hcHBlbmRDaGlsZChkKX1lbHNlIHUodCxhKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHt0ZXh0UmVuZGVyZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaSxzLGE9KHI9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksbD1hLmVtcHR5LHU9YS5mYXN0SW5uZXJUZXh0LGM9KGk9ZSgiaGVscGVycy9taXhlZCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuc3RyaW5naWZ5LGQ9KHM9ZSgicmVuZGVyZXJzIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KSxoPWQuZ2V0UmVuZGVyZXIsZj1kLnJlZ2lzdGVyUmVuZGVyZXI7ZigidGV4dCIsbyl9LHsiaGVscGVycy9kb20vZWxlbWVudCI6NDUsImhlbHBlcnMvbWl4ZWQiOjQ4LHJlbmRlcmVyczo5MH1dLDk4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiOyFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3JldHVybntjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTplLHdyaXRhYmxlOiEwfX1mdW5jdGlvbiBuKCl7cmV0dXJuIl9fJCIrTWF0aC5mbG9vcigxZTkqTWF0aC5yYW5kb20oKSkrIiQiKyArK1krIiRfXyJ9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gWFtlXX1mdW5jdGlvbiByKCl7dmFyIGU9bigpO3JldHVybiBYW2VdPSEwLGV9ZnVuY3Rpb24gaShlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGUmJmUgaW5zdGFuY2VvZiBsfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGkoZSk/InN5bWJvbCI6dHlwZW9mIGV9ZnVuY3Rpb24gYShlKXt2YXIgdD1uZXcgbChlKTtpZighKHRoaXMgaW5zdGFuY2VvZiBhKSlyZXR1cm4gdDt0aHJvdyBuZXcgVHlwZUVycm9yKCJTeW1ib2wgY2Fubm90IGJlIG5ldydlZCIpfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9bigpO1AodGhpcywkLHt2YWx1ZTp0aGlzfSksUCh0aGlzLFUse3ZhbHVlOnR9KSxQKHRoaXMsRyx7dmFsdWU6ZX0pLGModGhpcyksS1t0XT10aGlzfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZVtxXTtyZXR1cm4gdCYmdC5zZWxmPT09ZT90OkYoZSk/KEouaGFzaC52YWx1ZT1RKyssSi5zZWxmLnZhbHVlPWUsWi52YWx1ZT14KG51bGwsSiksUChlLHEsWiksWi52YWx1ZSk6dm9pZCAwfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIHUoZSksTi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gdShlKSxWLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBoKGUpe3JldHVybiB1KGUpLEIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIEtbZV18fFhbZV19ZnVuY3Rpb24gcChlKXtyZXR1cm4gaShlKT9lW1VdOmV9ZnVuY3Rpb24gZyhlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7bisrKWYoZVtuXSl8fHQucHVzaChlW25dKTtyZXR1cm4gdH1mdW5jdGlvbiBtKGUpe3JldHVybiBnKFcoZSkpfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGcoSShlKSl9ZnVuY3Rpb24gdyhlKXtmb3IodmFyIHQ9W10sbj1XKGUpLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIHI9S1tuW29dXTtyJiZ0LnB1c2gocil9cmV0dXJuIHR9ZnVuY3Rpb24geShlLHQpe3JldHVybiBMKGUscCh0KSl9ZnVuY3Rpb24gYihlKXtyZXR1cm4gai5jYWxsKHRoaXMscChlKSl9ZnVuY3Rpb24gQyh0KXtyZXR1cm4gZS50cmFjZXVyJiZlLnRyYWNldXIub3B0aW9uc1t0XX1mdW5jdGlvbiBSKGUsdCxuKXtyZXR1cm4gaSh0KSYmKHQ9dFtVXSksUChlLHQsbiksZX1mdW5jdGlvbiBfKGUpe1AoZSwiZGVmaW5lUHJvcGVydHkiLHt2YWx1ZTpSfSksUChlLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIix7dmFsdWU6bX0pLFAoZSwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIix7dmFsdWU6eX0pLFAoZS5wcm90b3R5cGUsImhhc093blByb3BlcnR5Iix7dmFsdWU6Yn0pLFAoZSwiZnJlZXplIix7dmFsdWU6Y30pLFAoZSwicHJldmVudEV4dGVuc2lvbnMiLHt2YWx1ZTpkfSksUChlLCJzZWFsIix7dmFsdWU6aH0pLFAoZSwia2V5cyIse3ZhbHVlOnZ9KX1mdW5jdGlvbiBTKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZm9yKHZhciBuPVcoYXJndW1lbnRzW3RdKSxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciByPW5bb107ZihyKXx8IWZ1bmN0aW9uKHQsbil7UChlLG4se2dldDpmdW5jdGlvbigpe3JldHVybiB0W25dfSxlbnVtZXJhYmxlOiEwfSl9KGFyZ3VtZW50c1t0XSxuW29dKX1yZXR1cm4gZX1mdW5jdGlvbiBFKGUpe3JldHVybiBudWxsIT1lJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSl9ZnVuY3Rpb24gVChlKXtpZihudWxsPT1lKXRocm93IEQoKTtyZXR1cm4gSChlKX1mdW5jdGlvbiBNKGUpe2lmKG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiVmFsdWUgY2Fubm90IGJlIGNvbnZlcnRlZCB0byBhbiBPYmplY3QiKTtyZXR1cm4gZX1mdW5jdGlvbiBPKGUsdCl7ZS5TeW1ib2x8fChlLlN5bWJvbD10LE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM9dyksZS5TeW1ib2wuaXRlcmF0b3J8fChlLlN5bWJvbC5pdGVyYXRvcj10KCJTeW1ib2wuaXRlcmF0b3IiKSl9ZnVuY3Rpb24gayhlKXtPKGUsYSksZS5SZWZsZWN0PWUuUmVmbGVjdHx8e30sZS5SZWZsZWN0Lmdsb2JhbD1lLlJlZmxlY3QuZ2xvYmFsfHxlLF8oZS5PYmplY3QpfWlmKCFlLiR0cmFjZXVyUnVudGltZSl7dmFyIEg9T2JqZWN0LEQ9VHlwZUVycm9yLHg9SC5jcmVhdGUsQT1ILmRlZmluZVByb3BlcnRpZXMsUD1ILmRlZmluZVByb3BlcnR5LE49SC5mcmVlemUsTD1ILmdldE93blByb3BlcnR5RGVzY3JpcHRvcixXPUguZ2V0T3duUHJvcGVydHlOYW1lcyxJPUgua2V5cyxqPUgucHJvdG90eXBlLmhhc093blByb3BlcnR5LFY9T2JqZWN0LnByZXZlbnRFeHRlbnNpb25zLEI9T2JqZWN0LnNlYWwsRj1PYmplY3QuaXNFeHRlbnNpYmxlLHo9dCxZPTAsVT1uKCksRz1uKCksJD1uKCksSz14KG51bGwpLFg9eChudWxsKTtQKGEucHJvdG90eXBlLCJjb25zdHJ1Y3RvciIsdChhKSksUChhLnByb3RvdHlwZSwidG9TdHJpbmciLHooZnVuY3Rpb24oKXt2YXIgZT10aGlzWyRdO2lmKCFDKCJzeW1ib2xzIikpcmV0dXJuIGVbVV07aWYoIWUpdGhyb3cgVHlwZUVycm9yKCJDb252ZXJzaW9uIGZyb20gc3ltYm9sIHRvIHN0cmluZyIpO3ZhciB0PWVbR107cmV0dXJuIHZvaWQgMD09PXQmJih0PSIiKSwiU3ltYm9sKCIrdCsiKSJ9KSksUChhLnByb3RvdHlwZSwidmFsdWVPZiIseihmdW5jdGlvbigpe3ZhciBlPXRoaXNbJF07aWYoIWUpdGhyb3cgVHlwZUVycm9yKCJDb252ZXJzaW9uIGZyb20gc3ltYm9sIHRvIHN0cmluZyIpO3JldHVybiBDKCJzeW1ib2xzIik/ZTplW1VdfSkpLFAobC5wcm90b3R5cGUsImNvbnN0cnVjdG9yIix0KGEpKSxQKGwucHJvdG90eXBlLCJ0b1N0cmluZyIse3ZhbHVlOmEucHJvdG90eXBlLnRvU3RyaW5nLGVudW1lcmFibGU6ITF9KSxQKGwucHJvdG90eXBlLCJ2YWx1ZU9mIix7dmFsdWU6YS5wcm90b3R5cGUudmFsdWVPZixlbnVtZXJhYmxlOiExfSk7dmFyIHE9cigpLFo9e3ZhbHVlOnZvaWQgMH0sSj17aGFzaDp7dmFsdWU6dm9pZCAwfSxzZWxmOnt2YWx1ZTp2b2lkIDB9fSxRPTA7YyhsLnByb3RvdHlwZSksayhlKSxlLiR0cmFjZXVyUnVudGltZT17Y2hlY2tPYmplY3RDb2VyY2libGU6TSxjcmVhdGVQcml2YXRlTmFtZTpyLGRlZmluZVByb3BlcnRpZXM6QSxkZWZpbmVQcm9wZXJ0eTpQLGV4cG9ydFN0YXI6UyxnZXRPd25IYXNoT2JqZWN0OnUsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOkwsZ2V0T3duUHJvcGVydHlOYW1lczpXLGlzT2JqZWN0OkUsaXNQcml2YXRlTmFtZTpvLGlzU3ltYm9sU3RyaW5nOmYsa2V5czpJLHNldHVwR2xvYmFsczprLHRvT2JqZWN0OlQsdG9Qcm9wZXJ0eTpwLCJ0eXBlb2YiOnN9fX0od2luZG93KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtmb3IodmFyIGUsbj1bXSxvPTAscj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBpPSR0cmFjZXVyUnVudGltZS5jaGVja09iamVjdENvZXJjaWJsZShhcmd1bWVudHNbcl0pO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBpW3QoU3ltYm9sLml0ZXJhdG9yKV0pdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IHNwcmVhZCBub24taXRlcmFibGUgb2JqZWN0LiIpO2Zvcih2YXIgcz1pW3QoU3ltYm9sLml0ZXJhdG9yKV0oKTshKGU9cy5uZXh0KCkpLmRvbmU7KW5bbysrXT1lLnZhbHVlfXJldHVybiBufXZhciB0PSR0cmFjZXVyUnVudGltZS50b1Byb3BlcnR5OyR0cmFjZXVyUnVudGltZS5zcHJlYWQ9ZX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt2YXIgbj1nKGUpO2Rve3ZhciBvPXAobix0KTtpZihvKXJldHVybiBvO249ZyhuKX13aGlsZShuKX1mdW5jdGlvbiB0KGUpe3JldHVybiBlLl9fcHJvdG9fX31mdW5jdGlvbiBuKGUsdCxuLHIpe3JldHVybiBvKGUsdCxuKS5hcHBseShlLHIpfWZ1bmN0aW9uIG8odCxuLG8pe3ZhciByPWUobixvKTtyZXR1cm4gcj9yLmdldD9yLmdldC5jYWxsKHQpOnIudmFsdWU6dm9pZCAwfWZ1bmN0aW9uIHIodCxuLG8scil7dmFyIGk9ZShuLG8pO2lmKGkmJmkuc2V0KXJldHVybiBpLnNldC5jYWxsKHQscikscjt0aHJvdyBjKCJzdXBlciBoYXMgbm8gc2V0dGVyICciK28rIicuIil9ZnVuY3Rpb24gaShlKXtmb3IodmFyIHQ9e30sbj13KGUpLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIHI9bltvXTt0W3JdPXAoZSxyKX1mb3IodmFyIGk9eShlKSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBzPWlbb107dFttKHMpXT1wKGUsbShzKSl9cmV0dXJuIHR9ZnVuY3Rpb24gcyhlLHQsbixvKXtyZXR1cm4gZih0LCJjb25zdHJ1Y3RvciIse3ZhbHVlOmUsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9KSxhcmd1bWVudHMubGVuZ3RoPjM/KCJmdW5jdGlvbiI9PXR5cGVvZiBvJiYoZS5fX3Byb3RvX189byksZS5wcm90b3R5cGU9ZChhKG8pLGkodCkpKTplLnByb3RvdHlwZT10LGYoZSwicHJvdG90eXBlIix7Y29uZmlndXJhYmxlOiExLHdyaXRhYmxlOiExfSksaChlLGkobikpfWZ1bmN0aW9uIGEoZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpe3ZhciB0PWUucHJvdG90eXBlO2lmKHUodCk9PT10fHxudWxsPT09dClyZXR1cm4gZS5wcm90b3R5cGU7dGhyb3cgbmV3IGMoInN1cGVyIHByb3RvdHlwZSBtdXN0IGJlIGFuIE9iamVjdCBvciBudWxsIil9aWYobnVsbD09PWUpcmV0dXJuIG51bGw7dGhyb3cgbmV3IGMoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgZSsiLiIpfWZ1bmN0aW9uIGwoZSx0LG8pe251bGwhPT1nKHQpJiZuKGUsdCwiY29uc3RydWN0b3IiLG8pfXZhciB1PU9iamVjdCxjPVR5cGVFcnJvcixkPXUuY3JlYXRlLGg9JHRyYWNldXJSdW50aW1lLmRlZmluZVByb3BlcnRpZXMsZj0kdHJhY2V1clJ1bnRpbWUuZGVmaW5lUHJvcGVydHkscD0kdHJhY2V1clJ1bnRpbWUuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLGc9T2JqZWN0LmdldFByb3RvdHlwZU9mLG09JHRyYWNldXJSdW50aW1lLnRvUHJvcGVydHksdj1PYmplY3Qsdz12LmdldE93blByb3BlcnR5TmFtZXMseT12LmdldE93blByb3BlcnR5U3ltYm9sczskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3M9cywkdHJhY2V1clJ1bnRpbWUuZGVmYXVsdFN1cGVyQ2FsbD1sLCR0cmFjZXVyUnVudGltZS5zdXBlckNhbGw9biwkdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3Rvcj10LCR0cmFjZXVyUnVudGltZS5zdXBlckdldD1vLCR0cmFjZXVyUnVudGltZS5zdXBlclNldD1yfSgpfSx7fV0sOTk6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXt2YXIgdD10aGlzLG49dGhpczt0aGlzLmV2ZW50TWFuYWdlcj1iKGUpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLnNldHRpbmdzPWUuZ2V0U2V0dGluZ3MoKSx0aGlzLnNlbGVjdGlvbk1vdXNlRG93bj0hMTt2YXIgbz1lLnJvb3RFbGVtZW50LmdldEF0dHJpYnV0ZSgic3R5bGUiKTtvJiZlLnJvb3RFbGVtZW50LnNldEF0dHJpYnV0ZSgiZGF0YS1vcmlnaW5hbHN0eWxlIixvKSxkKGUucm9vdEVsZW1lbnQsImhhbmRzb250YWJsZSIpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlRBQkxFIik7ZChyLCJodENvcmUiKSxlLmdldFNldHRpbmdzKCkudGFibGVDbGFzc05hbWUmJmQocixlLmdldFNldHRpbmdzKCkudGFibGVDbGFzc05hbWUpLHRoaXMuVEhFQUQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEhFQUQiKSxyLmFwcGVuZENoaWxkKHRoaXMuVEhFQUQpLHRoaXMuVEJPRFk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEJPRFkiKSxyLmFwcGVuZENoaWxkKHRoaXMuVEJPRFkpLGUudGFibGU9cixlLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUocixlLmNvbnRhaW5lci5maXJzdENoaWxkKSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGUucm9vdEVsZW1lbnQsIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3Rpb25Nb3VzZURvd249ITAsbi5pc1RleHRTZWxlY3Rpb25BbGxvd2VkKGUudGFyZ2V0KXx8KHMoKSxlLnByZXZlbnREZWZhdWx0KCksd2luZG93LmZvY3VzKCkpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihlLnJvb3RFbGVtZW50LCJtb3VzZXVwIixmdW5jdGlvbihlKXt0aGlzLnNlbGVjdGlvbk1vdXNlRG93bj0hMX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZS5yb290RWxlbWVudCwibW91c2Vtb3ZlIixmdW5jdGlvbihlKXt0aGlzLnNlbGVjdGlvbk1vdXNlRG93biYmIW4uaXNUZXh0U2VsZWN0aW9uQWxsb3dlZChlLnRhcmdldCkmJihzKCksZS5wcmV2ZW50RGVmYXVsdCgpKX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCJrZXl1cCIsZnVuY3Rpb24odCl7ZS5zZWxlY3Rpb24uaXNJblByb2dyZXNzKCkmJiF0LnNoaWZ0S2V5JiZlLnNlbGVjdGlvbi5maW5pc2goKX0pO3ZhciBpO3RoaXMuaXNNb3VzZURvd249ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIm1vdXNldXAiLGZ1bmN0aW9uKHQpe2Uuc2VsZWN0aW9uLmlzSW5Qcm9ncmVzcygpJiYxPT09dC53aGljaCYmZS5zZWxlY3Rpb24uZmluaXNoKCksaT0hMSx5KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpJiZlLnVubGlzdGVuKCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwibW91c2Vkb3duIixmdW5jdGlvbih0KXt2YXIgbz10LnRhcmdldCxyPXQueHx8dC5jbGllbnRYLHM9dC55fHx0LmNsaWVudFk7aWYoIWkmJmUucm9vdEVsZW1lbnQpe2lmKG89PT1lLnZpZXcud3Qud3RUYWJsZS5ob2xkZXIpe3ZhciBhPWcoKTtpZihkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHIrYSxzKSE9PWUudmlldy53dC53dFRhYmxlLmhvbGRlcnx8ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChyLHMrYSkhPT1lLnZpZXcud3Qud3RUYWJsZS5ob2xkZXIpcmV0dXJufWVsc2UgZm9yKDtvIT09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Oyl7aWYobnVsbD09PW8pe2lmKHQuaXNUYXJnZXRXZWJDb21wb25lbnQpYnJlYWs7cmV0dXJufWlmKG89PT1lLnJvb3RFbGVtZW50KXJldHVybjtvPW8ucGFyZW50Tm9kZX1uLnNldHRpbmdzLm91dHNpZGVDbGlja0Rlc2VsZWN0cz9lLmRlc2VsZWN0Q2VsbCgpOmUuZGVzdHJveUVkaXRvcigpfX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIociwic2VsZWN0c3RhcnQiLGZ1bmN0aW9uKGUpe24uc2V0dGluZ3MuZnJhZ21lbnRTZWxlY3Rpb258fHcoZS50YXJnZXQpfHxlLnByZXZlbnREZWZhdWx0KCl9KTt2YXIgcz1mdW5jdGlvbigpe3dpbmRvdy5nZXRTZWxlY3Rpb24/d2luZG93LmdldFNlbGVjdGlvbigpLmVtcHR5P3dpbmRvdy5nZXRTZWxlY3Rpb24oKS5lbXB0eSgpOndpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMmJndpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTpkb2N1bWVudC5zZWxlY3Rpb24mJmRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpfSxhPVtuZXcgRSh7Y2xhc3NOYW1lOiJjdXJyZW50Iixib3JkZXI6e3dpZHRoOjIsY29sb3I6IiM1MjkyRjciLGNvcm5lclZpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXR0aW5ncy5maWxsSGFuZGxlJiYhbi5pc0NlbGxFZGl0ZWQoKSYmIWUuc2VsZWN0aW9uLmlzTXVsdGlwbGUoKX0sbXVsdGlwbGVTZWxlY3Rpb25IYW5kbGVzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiFuLmlzQ2VsbEVkaXRlZCgpJiYhZS5zZWxlY3Rpb24uaXNNdWx0aXBsZSgpfX19KSxuZXcgRSh7Y2xhc3NOYW1lOiJhcmVhIixib3JkZXI6e3dpZHRoOjEsY29sb3I6IiM4OUFGRjkiLGNvcm5lclZpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXR0aW5ncy5maWxsSGFuZGxlJiYhbi5pc0NlbGxFZGl0ZWQoKSYmZS5zZWxlY3Rpb24uaXNNdWx0aXBsZSgpfSxtdWx0aXBsZVNlbGVjdGlvbkhhbmRsZXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIW4uaXNDZWxsRWRpdGVkKCkmJmUuc2VsZWN0aW9uLmlzTXVsdGlwbGUoKX19fSksbmV3IEUoe2NsYXNzTmFtZToiaGlnaGxpZ2h0IixoaWdobGlnaHRSb3dDbGFzc05hbWU6bi5zZXR0aW5ncy5jdXJyZW50Um93Q2xhc3NOYW1lLGhpZ2hsaWdodENvbHVtbkNsYXNzTmFtZTpuLnNldHRpbmdzLmN1cnJlbnRDb2xDbGFzc05hbWV9KSxuZXcgRSh7Y2xhc3NOYW1lOiJmaWxsIixib3JkZXI6e3dpZHRoOjEsY29sb3I6InJlZCJ9fSldO2EuY3VycmVudD1hWzBdLGEuYXJlYT1hWzFdLGEuaGlnaGxpZ2h0PWFbMl0sYS5maWxsPWFbM107dmFyIGw9e2RlYnVnOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2V0dGluZ3MuZGVidWd9LGV4dGVybmFsUm93Q2FsY3VsYXRvcjp0aGlzLmluc3RhbmNlLmdldFBsdWdpbigiYXV0b1Jvd1NpemUiKSYmdGhpcy5pbnN0YW5jZS5nZXRQbHVnaW4oImF1dG9Sb3dTaXplIikuaXNFbmFibGVkKCksdGFibGU6cixwcmV2ZW50T3ZlcmZsb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdC5zZXR0aW5ncy5wcmV2ZW50T3ZlcmZsb3d9LHN0cmV0Y2hIOnRoaXMuc2V0dGluZ3Muc3RyZXRjaEgsZGF0YTplLmdldERhdGFBdENlbGwsdG90YWxSb3dzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuY291bnRSb3dzKCl9LHRvdGFsQ29sdW1uczpmdW5jdGlvbigpe3JldHVybiBlLmNvdW50Q29scygpfSxmaXhlZENvbHVtbnNMZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2V0dGluZ3MuZml4ZWRDb2x1bW5zTGVmdH0sZml4ZWRSb3dzVG9wOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2V0dGluZ3MuZml4ZWRSb3dzVG9wfSxmaXhlZFJvd3NCb3R0b206ZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXR0aW5ncy5maXhlZFJvd3NCb3R0b219LG1pblNwYXJlUm93czpmdW5jdGlvbigpe3JldHVybiBuLnNldHRpbmdzLm1pblNwYXJlUm93c30scmVuZGVyQWxsUm93czpuLnNldHRpbmdzLnJlbmRlckFsbFJvd3Mscm93SGVhZGVyczpmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiBlLmhhc1Jvd0hlYWRlcnMoKSYmdC5wdXNoKGZ1bmN0aW9uKGUsdCl7bi5hcHBlbmRSb3dIZWFkZXIoZSx0KX0pLEhhbmRzb250YWJsZS5ob29rcy5ydW4oZSwiYWZ0ZXJHZXRSb3dIZWFkZXJSZW5kZXJlcnMiLHQpLHR9LGNvbHVtbkhlYWRlcnM6ZnVuY3Rpb24oKXt2YXIgdD1bXTtyZXR1cm4gZS5oYXNDb2xIZWFkZXJzKCkmJnQucHVzaChmdW5jdGlvbihlLHQpe24uYXBwZW5kQ29sSGVhZGVyKGUsdCl9KSxIYW5kc29udGFibGUuaG9va3MucnVuKGUsImFmdGVyR2V0Q29sdW1uSGVhZGVyUmVuZGVyZXJzIix0KSx0fSxjb2x1bW5XaWR0aDplLmdldENvbFdpZHRoLHJvd0hlaWdodDplLmdldFJvd0hlaWdodCxjZWxsUmVuZGVyZXI6ZnVuY3Rpb24oZSx0LG8pe3ZhciByPW4uaW5zdGFuY2UuY29sVG9Qcm9wKHQpLGk9bi5pbnN0YW5jZS5nZXRDZWxsTWV0YShlLHQpLHM9bi5pbnN0YW5jZS5nZXRDZWxsUmVuZGVyZXIoaSksYT1uLmluc3RhbmNlLmdldERhdGFBdFJvd1Byb3AoZSxyKTtzKG4uaW5zdGFuY2UsbyxlLHQscixhLGkpLEhhbmRzb250YWJsZS5ob29rcy5ydW4obi5pbnN0YW5jZSwiYWZ0ZXJSZW5kZXJlciIsbyxlLHQscixhLGkpfSxzZWxlY3Rpb25zOmEsaGlkZUJvcmRlck9uTW91c2VEb3duT3ZlcjpmdW5jdGlvbigpe3JldHVybiBuLnNldHRpbmdzLmZyYWdtZW50U2VsZWN0aW9ufSxvbkNlbGxNb3VzZURvd246ZnVuY3Rpb24odCxvLHIscyl7dmFyIGEsbCx1PXIucGFyZW50Tm9kZSxjPXUucGFyZW50Tm9kZTtpZihlLmxpc3RlbigpLG4uYWN0aXZlV3Q9cyxpPSEwLEhhbmRzb250YWJsZS5ob29rcy5ydW4oZSwiYmVmb3JlT25DZWxsTW91c2VEb3duIix0LG8sciksZS5zZWxlY3Rpb24uc2V0U2VsZWN0ZWRIZWFkZXJzKCExLCExKSwhXyh0KSl7aWYoMj09PXQuYnV0dG9uJiZlLnNlbGVjdGlvbi5pbkluU2VsZWN0aW9uKG8pKTtlbHNlIHQuc2hpZnRLZXk/by5yb3c+PTAmJm8uY29sPj0wJiZlLnNlbGVjdGlvbi5zZXRSYW5nZUVuZChvKTooby5yb3c8MHx8by5jb2w8MCkmJihvLnJvdz49MHx8by5jb2w+PTApPyhvLnJvdzwwJiYoYT1jLmNoaWxkTm9kZXMubGVuZ3RoLUFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYy5jaGlsZE5vZGVzLHUpLTEsbD1lLmdldEhlYWRlckNvbHNwYW4oby5jb2wsYSksZS5zZWxlY3Rpb24uc2V0U2VsZWN0ZWRIZWFkZXJzKCExLCEwKSxlLnNlbGVjdENlbGwoMCxvLmNvbCxlLmNvdW50Um93cygpLTEsby5jb2wrTWF0aC5tYXgoMCxsLTEpKSksby5jb2w8MCYmKGUuc2VsZWN0aW9uLnNldFNlbGVjdGVkSGVhZGVycyghMCwhMSksZS5zZWxlY3RDZWxsKG8ucm93LDAsby5yb3csZS5jb3VudENvbHMoKS0xKSkpOihvLnJvdz1vLnJvdzwwPzA6by5yb3csby5jb2w9by5jb2w8MD8wOm8uY29sLGUuc2VsZWN0aW9uLnNldFJhbmdlU3RhcnQobykpO0hhbmRzb250YWJsZS5ob29rcy5ydW4oZSwiYWZ0ZXJPbkNlbGxNb3VzZURvd24iLHQsbyxyKSxuLmFjdGl2ZVd0PW4ud3R9fSxvbkNlbGxNb3VzZU92ZXI6ZnVuY3Rpb24odCxvLHIscyl7bi5hY3RpdmVXdD1zLG8ucm93Pj0wJiZvLmNvbD49MD9pJiZlLnNlbGVjdGlvbi5zZXRSYW5nZUVuZChvKTppJiYoby5yb3c8MCYmKGUuc2VsZWN0aW9uLnNlbGVjdGVkSGVhZGVyLmNvbHM/KGUuc2VsZWN0aW9uLnNldFJhbmdlRW5kKG5ldyBTKGUuY291bnRSb3dzKCktMSxvLmNvbCkpLGUuc2VsZWN0aW9uLnNldFNlbGVjdGVkSGVhZGVycyghMSwhMCkpOmUuc2VsZWN0aW9uLnNldFJhbmdlRW5kKG5ldyBTKG8ucm93LG8uY29sKSkpLG8uY29sPDAmJihlLnNlbGVjdGlvbi5zZWxlY3RlZEhlYWRlci5yb3dzPyhlLnNlbGVjdGlvbi5zZXRSYW5nZUVuZChuZXcgUyhvLnJvdyxlLmNvdW50Q29scygpLTEpKSxlLnNlbGVjdGlvbi5zZXRTZWxlY3RlZEhlYWRlcnMoITAsITEpKTplLnNlbGVjdGlvbi5zZXRSYW5nZUVuZChuZXcgUyhvLnJvdyxvLmNvbCkpKSksSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bihlLCJhZnRlck9uQ2VsbE1vdXNlT3ZlciIsdCxvLHIpLG4uYWN0aXZlV3Q9bi53dH0sb25DZWxsQ29ybmVyTW91c2VEb3duOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxIYW5kc29udGFibGUuaG9va3MucnVuKGUsImFmdGVyT25DZWxsQ29ybmVyTW91c2VEb3duIix0KX0sYmVmb3JlRHJhdzpmdW5jdGlvbihlKXtuLmJlZm9yZVJlbmRlcihlKX0sb25EcmF3OmZ1bmN0aW9uKGUpe24ub25EcmF3KGUpfSxvblNjcm9sbFZlcnRpY2FsbHk6ZnVuY3Rpb24oKXtlLnJ1bkhvb2tzKCJhZnRlclNjcm9sbFZlcnRpY2FsbHkiKX0sb25TY3JvbGxIb3Jpem9udGFsbHk6ZnVuY3Rpb24oKXtlLnJ1bkhvb2tzKCJhZnRlclNjcm9sbEhvcml6b250YWxseSIpfSxvbkJlZm9yZURyYXdCb3JkZXJzOmZ1bmN0aW9uKHQsbil7ZS5ydW5Ib29rcygiYmVmb3JlRHJhd0JvcmRlcnMiLHQsbil9LG9uQmVmb3JlVG91Y2hTY3JvbGw6ZnVuY3Rpb24oKXtlLnJ1bkhvb2tzKCJiZWZvcmVUb3VjaFNjcm9sbCIpfSxvbkFmdGVyTW9tZW50dW1TY3JvbGw6ZnVuY3Rpb24oKXtlLnJ1bkhvb2tzKCJhZnRlck1vbWVudHVtU2Nyb2xsIil9LG9uQmVmb3JlU3RyZXRjaGluZ0NvbHVtbldpZHRoOmZ1bmN0aW9uKHQsbil7cmV0dXJuIGUucnVuSG9va3MoImJlZm9yZVN0cmV0Y2hpbmdDb2x1bW5XaWR0aCIsdCxuKX0sdmlld3BvcnRSb3dDYWxjdWxhdG9yT3ZlcnJpZGU6ZnVuY3Rpb24odCl7dmFyIG89ZS5jb3VudFJvd3MoKSxyPW4uc2V0dGluZ3Mudmlld3BvcnRSb3dSZW5kZXJpbmdPZmZzZXQ7aWYoImF1dG8iPT09ciYmbi5zZXR0aW5ncy5maXhlZFJvd3NUb3AmJihyPTEwKSwibnVtYmVyIj09dHlwZW9mIHImJih0LnN0YXJ0Um93PU1hdGgubWF4KHQuc3RhcnRSb3ctciwwKSx0LmVuZFJvdz1NYXRoLm1pbih0LmVuZFJvdytyLG8tMSkpLCJhdXRvIj09PXIpe3ZhciBpPXQuc3RhcnRSb3crdC5lbmRSb3ctdC5zdGFydFJvdyxzPU1hdGguY2VpbChpL28qMTIpO3Quc3RhcnRSb3c9TWF0aC5tYXgodC5zdGFydFJvdy1zLDApLHQuZW5kUm93PU1hdGgubWluKHQuZW5kUm93K3Msby0xKX1lLnJ1bkhvb2tzKCJhZnRlclZpZXdwb3J0Um93Q2FsY3VsYXRvck92ZXJyaWRlIix0KX0sdmlld3BvcnRDb2x1bW5DYWxjdWxhdG9yT3ZlcnJpZGU6ZnVuY3Rpb24odCl7dmFyIG89ZS5jb3VudENvbHMoKSxyPW4uc2V0dGluZ3Mudmlld3BvcnRDb2x1bW5SZW5kZXJpbmdPZmZzZXQ7aWYoImF1dG8iPT09ciYmbi5zZXR0aW5ncy5maXhlZENvbHVtbnNMZWZ0JiYocj0xMCksIm51bWJlciI9PXR5cGVvZiByJiYodC5zdGFydENvbHVtbj1NYXRoLm1heCh0LnN0YXJ0Q29sdW1uLXIsMCksdC5lbmRDb2x1bW49TWF0aC5taW4odC5lbmRDb2x1bW4rcixvLTEpKSwiYXV0byI9PT1yKXt2YXIgaT10LnN0YXJ0Q29sdW1uK3QuZW5kQ29sdW1uLXQuc3RhcnRDb2x1bW4scz1NYXRoLmNlaWwoaS9vKjEyKTt0LnN0YXJ0Um93PU1hdGgubWF4KHQuc3RhcnRDb2x1bW4tcywwKSx0LmVuZENvbHVtbj1NYXRoLm1pbih0LmVuZENvbHVtbitzLG8tMSl9ZS5ydW5Ib29rcygiYWZ0ZXJWaWV3cG9ydENvbHVtbkNhbGN1bGF0b3JPdmVycmlkZSIsdCl9LHJvd0hlYWRlcldpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2V0dGluZ3Mucm93SGVhZGVyV2lkdGh9LGNvbHVtbkhlYWRlckhlaWdodDpmdW5jdGlvbigpe3JldHVybiBuLnNldHRpbmdzLmNvbHVtbkhlYWRlckhlaWdodH19O0hhbmRzb250YWJsZS5ob29rcy5ydW4oZSwiYmVmb3JlSW5pdFdhbGtvbnRhYmxlIixsKSx0aGlzLnd0PW5ldyBUKGwpLHRoaXMuYWN0aXZlV3Q9dGhpcy53dCx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKG4ud3Qud3RUYWJsZS5zcHJlYWRlciwibW91c2Vkb3duIixmdW5jdGlvbihlKXtlLnRhcmdldD09PW4ud3Qud3RUYWJsZS5zcHJlYWRlciYmMz09PWUud2hpY2gmJlIoZSl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKG4ud3Qud3RUYWJsZS5zcHJlYWRlciwiY29udGV4dG1lbnUiLGZ1bmN0aW9uKGUpe2UudGFyZ2V0PT09bi53dC53dFRhYmxlLnNwcmVhZGVyJiYzPT09ZS53aGljaCYmUihlKX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCJjbGljayIsZnVuY3Rpb24oKXtuLnNldHRpbmdzLm9ic2VydmVET01WaXNpYmlsaXR5JiZuLnd0LmRyYXdJbnRlcnJ1cHRlZCYmKG4uaW5zdGFuY2UuZm9yY2VGdWxsUmVuZGVyPSEwLG4ucmVuZGVyKCkpfSl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7VGFibGVWaWV3OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGkscyxhLGwsdSxjPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGQ9Yy5hZGRDbGFzcyxoPWMuZW1wdHksZj1jLmZhc3RJbm5lckhUTUwscD1jLmZhc3RJbm5lclRleHQsZz1jLmdldFNjcm9sbGJhcldpZHRoLG09Yy5oYXNDbGFzcyx2PWMuaXNDaGlsZE9mLHc9Yy5pc0lucHV0LHk9Yy5pc091dHNpZGVJbnB1dCxiPShpPWUoImV2ZW50TWFuYWdlciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuZXZlbnRNYW5hZ2VyLEM9KHM9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLFI9Qy5zdG9wUHJvcGFnYXRpb24sXz1DLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkLFM9KGE9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5XYWxrb250YWJsZUNlbGxDb29yZHMsRT0obD1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvc2VsZWN0aW9uIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5XYWxrb250YWJsZVNlbGVjdGlvbixUPSh1PWUoIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jb3JlIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5XYWxrb250YWJsZTtIYW5kc29udGFibGUuVGFibGVWaWV3PW8sby5wcm90b3R5cGUuaXNUZXh0U2VsZWN0aW9uQWxsb3dlZD1mdW5jdGlvbihlKXtpZih3KGUpKXJldHVybiEwO3ZhciB0PXYoZSx0aGlzLmluc3RhbmNlLnZpZXcud3Qud3RUYWJsZS5zcHJlYWRlcik7cmV0dXJuIHRoaXMuc2V0dGluZ3MuZnJhZ21lbnRTZWxlY3Rpb249PT0hMCYmdD8hMDoiY2VsbCI9PT10aGlzLnNldHRpbmdzLmZyYWdtZW50U2VsZWN0aW9uJiZ0aGlzLmlzU2VsZWN0ZWRPbmx5Q2VsbCgpJiZ0PyEwOiExfSxvLnByb3RvdHlwZS5pc1NlbGVjdGVkT25seUNlbGw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldFNlbGVjdGVkKCl8fFtdLHQ9ZVswXSxuPWVbMV0sbz1lWzJdLHI9ZVszXTtyZXR1cm4gdm9pZCAwIT09dCYmdD09PW8mJm49PT1yfSxvLnByb3RvdHlwZS5pc0NlbGxFZGl0ZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldEFjdGl2ZUVkaXRvcigpO3JldHVybiBlJiZlLmlzT3BlbmVkKCl9LG8ucHJvdG90eXBlLmJlZm9yZVJlbmRlcj1mdW5jdGlvbihlKXtlJiZIYW5kc29udGFibGUuaG9va3MucnVuKHRoaXMuaW5zdGFuY2UsImJlZm9yZVJlbmRlciIsdGhpcy5pbnN0YW5jZS5mb3JjZUZ1bGxSZW5kZXIpfSxvLnByb3RvdHlwZS5vbkRyYXc9ZnVuY3Rpb24oZSl7ZSYmSGFuZHNvbnRhYmxlLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJhZnRlclJlbmRlciIsdGhpcy5pbnN0YW5jZS5mb3JjZUZ1bGxSZW5kZXIpfSxvLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oKXt0aGlzLnd0LmRyYXcoIXRoaXMuaW5zdGFuY2UuZm9yY2VGdWxsUmVuZGVyKSx0aGlzLmluc3RhbmNlLmZvcmNlRnVsbFJlbmRlcj0hMSx0aGlzLmluc3RhbmNlLnJlbmRlckNhbGw9ITF9LG8ucHJvdG90eXBlLmdldENlbGxBdENvb3Jkcz1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMud3QuZ2V0Q2VsbChlLHQpO3JldHVybiAwPm4/bnVsbDpufSxvLnByb3RvdHlwZS5zY3JvbGxWaWV3cG9ydD1mdW5jdGlvbihlKXt0aGlzLnd0LnNjcm9sbFZpZXdwb3J0KGUpfSxvLnByb3RvdHlwZS5hcHBlbmRSb3dIZWFkZXI9ZnVuY3Rpb24oZSx0KXtpZih0LmZpcnN0Q2hpbGQpe3ZhciBuPXQuZmlyc3RDaGlsZDtpZighbShuLCJyZWxhdGl2ZSIpKXJldHVybiBoKHQpLHZvaWQgdGhpcy5hcHBlbmRSb3dIZWFkZXIoZSx0KTt0aGlzLnVwZGF0ZUNlbGxIZWFkZXIobi5xdWVyeVNlbGVjdG9yKCIucm93SGVhZGVyIiksZSx0aGlzLmluc3RhbmNlLmdldFJvd0hlYWRlcil9ZWxzZXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtvLmNsYXNzTmFtZT0icmVsYXRpdmUiLHIuY2xhc3NOYW1lPSJyb3dIZWFkZXIiLHRoaXMudXBkYXRlQ2VsbEhlYWRlcihyLGUsdGhpcy5pbnN0YW5jZS5nZXRSb3dIZWFkZXIpLG8uYXBwZW5kQ2hpbGQociksdC5hcHBlbmRDaGlsZChvKX1IYW5kc29udGFibGUuaG9va3MucnVuKHRoaXMuaW5zdGFuY2UsImFmdGVyR2V0Um93SGVhZGVyIixlLHQpfSxvLnByb3RvdHlwZS5hcHBlbmRDb2xIZWFkZXI9ZnVuY3Rpb24oZSx0KXtpZih0LmZpcnN0Q2hpbGQpe3ZhciBuPXQuZmlyc3RDaGlsZDttKG4sInJlbGF0aXZlIik/dGhpcy51cGRhdGVDZWxsSGVhZGVyKG4ucXVlcnlTZWxlY3RvcigiLmNvbEhlYWRlciIpLGUsdGhpcy5pbnN0YW5jZS5nZXRDb2xIZWFkZXIpOihoKHQpLHRoaXMuYXBwZW5kQ29sSGVhZGVyKGUsdCkpfWVsc2V7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iikscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7by5jbGFzc05hbWU9InJlbGF0aXZlIixyLmNsYXNzTmFtZT0iY29sSGVhZGVyIix0aGlzLnVwZGF0ZUNlbGxIZWFkZXIocixlLHRoaXMuaW5zdGFuY2UuZ2V0Q29sSGVhZGVyKSxvLmFwcGVuZENoaWxkKHIpLHQuYXBwZW5kQ2hpbGQobyl9SGFuZHNvbnRhYmxlLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJhZnRlckdldENvbEhlYWRlciIsZSx0KTsKfSxvLnByb3RvdHlwZS51cGRhdGVDZWxsSGVhZGVyPWZ1bmN0aW9uKGUsdCxuKXt0Pi0xP2YoZSxuKHQpKToocChlLFN0cmluZy5mcm9tQ2hhckNvZGUoMTYwKSksZChlLCJjb3JuZXJIZWFkZXIiKSl9LG8ucHJvdG90eXBlLm1heGltdW1WaXNpYmxlRWxlbWVudFdpZHRoPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMud3Qud3RWaWV3cG9ydC5nZXRXb3Jrc3BhY2VXaWR0aCgpLG49dC1lO3JldHVybiBuPjA/bjowfSxvLnByb3RvdHlwZS5tYXhpbXVtVmlzaWJsZUVsZW1lbnRIZWlnaHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy53dC53dFZpZXdwb3J0LmdldFdvcmtzcGFjZUhlaWdodCgpLG49dC1lO3JldHVybiBuPjA/bjowfSxvLnByb3RvdHlwZS5tYWluVmlld0lzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud3Q9PT10aGlzLmFjdGl2ZVd0fSxvLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy53dC5kZXN0cm95KCksdGhpcy5ldmVudE1hbmFnZXIuZGVzdHJveSgpfX0seyIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9jb29yZHMiOjUsIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jb3JlIjo3LCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvc2VsZWN0aW9uIjoxOCxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LCJoZWxwZXJzL2RvbS9ldmVudCI6NDZ9XSwxMDA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7R2hvc3RUYWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxhLGw9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSksdT1sLmFkZENsYXNzLGM9bC5vdXRlckhlaWdodCxkPWwub3V0ZXJXaWR0aCxoPShyPWUoImhlbHBlcnMvYXJyYXkiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLmFycmF5RWFjaCxmPSgoaT1lKCJoZWxwZXJzL29iamVjdCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkub2JqZWN0RWFjaCwocz1lKCJoZWxwZXJzL251bWJlciIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkucmFuZ2VFYWNoLChhPWUoImhlbHBlcnMvbWl4ZWQiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLnN0cmluZ2lmeSxmdW5jdGlvbihlKXt0aGlzLmhvdD1lLHRoaXMuY29udGFpbmVyPW51bGwsdGhpcy5pbmplY3RlZD0hMSx0aGlzLnJvd3M9W10sdGhpcy5jb2x1bW5zPVtdLHRoaXMuc2FtcGxlcz1udWxsfSk7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGYse2FkZFJvdzpmdW5jdGlvbihlLHQpe2lmKHRoaXMuY29sdW1ucy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJEb2Vzbid0IHN1cHBvcnQgbXVsdGktZGltZW5zaW9uYWwgdGFibGUiKTt0aGlzLnJvd3MubGVuZ3RofHwodGhpcy5jb250YWluZXI9dGhpcy5jcmVhdGVDb250YWluZXIodGhpcy5ob3Qucm9vdEVsZW1lbnQuY2xhc3NOYW1lKSk7dmFyIG49e3JvdzplfTt0aGlzLnJvd3MucHVzaChuKSx0aGlzLnNhbXBsZXM9dCx0aGlzLnRhYmxlPXRoaXMuY3JlYXRlVGFibGUodGhpcy5ob3QudGFibGUuY2xhc3NOYW1lKSx0aGlzLnRhYmxlLmNvbEdyb3VwLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlQ29sR3JvdXBzQ29sKCkpLHRoaXMudGFibGUudHIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVSb3coZSkpLHRoaXMuY29udGFpbmVyLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlLmZyYWdtZW50KSxuLnRhYmxlPXRoaXMudGFibGUudGFibGV9LGFkZENvbHVtbjpmdW5jdGlvbihlLHQpe2lmKHRoaXMucm93cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJEb2Vzbid0IHN1cHBvcnQgbXVsdGktZGltZW5zaW9uYWwgdGFibGUiKTt0aGlzLmNvbHVtbnMubGVuZ3RofHwodGhpcy5jb250YWluZXI9dGhpcy5jcmVhdGVDb250YWluZXIodGhpcy5ob3Qucm9vdEVsZW1lbnQuY2xhc3NOYW1lKSk7dmFyIG49e2NvbDplfTt0aGlzLmNvbHVtbnMucHVzaChuKSx0aGlzLnNhbXBsZXM9dCx0aGlzLnRhYmxlPXRoaXMuY3JlYXRlVGFibGUodGhpcy5ob3QudGFibGUuY2xhc3NOYW1lKSxudWxsIT09dGhpcy5ob3QuZ2V0Q29sSGVhZGVyKGUpJiZ0aGlzLmhvdC52aWV3LmFwcGVuZENvbEhlYWRlcihlLHRoaXMudGFibGUudGgpLHRoaXMudGFibGUudEJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVDb2woZSkpLHRoaXMuY29udGFpbmVyLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlLmZyYWdtZW50KSxuLnRhYmxlPXRoaXMudGFibGUudGFibGV9LGdldEhlaWdodHM6ZnVuY3Rpb24oZSl7dGhpcy5pbmplY3RlZHx8dGhpcy5pbmplY3RUYWJsZSgpLGgodGhpcy5yb3dzLGZ1bmN0aW9uKHQpe2UodC5yb3csYyh0LnRhYmxlKS0xKX0pfSxnZXRXaWR0aHM6ZnVuY3Rpb24oZSl7dGhpcy5pbmplY3RlZHx8dGhpcy5pbmplY3RUYWJsZSgpLGgodGhpcy5jb2x1bW5zLGZ1bmN0aW9uKHQpe2UodC5jb2wsZCh0LnRhYmxlKSl9KX0sY3JlYXRlQ29sR3JvdXBzQ29sOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWRvY3VtZW50LG49dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIG4uYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVDb2xFbGVtZW50KC0xKSksdGhpcy5zYW1wbGVzLmZvckVhY2goZnVuY3Rpb24odCl7aCh0LnN0cmluZ3MsZnVuY3Rpb24odCl7bi5hcHBlbmRDaGlsZChlLmNyZWF0ZUNvbEVsZW1lbnQodC5jb2wpKX0pfSksbn0sY3JlYXRlUm93OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1kb2N1bWVudCxvPW4uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHI9bi5jcmVhdGVFbGVtZW50KCJ0aCIpO3JldHVybiBudWxsIT09dGhpcy5ob3QuZ2V0Um93SGVhZGVyKGUpJiZ0aGlzLmhvdC52aWV3LmFwcGVuZFJvd0hlYWRlcihlLHIpLG8uYXBwZW5kQ2hpbGQociksdGhpcy5zYW1wbGVzLmZvckVhY2goZnVuY3Rpb24ocil7aChyLnN0cmluZ3MsZnVuY3Rpb24ocil7dmFyIGk9ci5jb2wscz10LmhvdC5nZXRDZWxsTWV0YShlLGkpO3MuY29sPWkscy5yb3c9ZTt2YXIgYT10LmhvdC5nZXRDZWxsUmVuZGVyZXIocyksbD1uLmNyZWF0ZUVsZW1lbnQoInRkIik7YSh0LmhvdCxsLGUsaSx0LmhvdC5jb2xUb1Byb3AoaSksci52YWx1ZSxzKSxvLmFwcGVuZENoaWxkKGwpfSl9KSxvfSxjcmVhdGVDb2w6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWRvY3VtZW50LG89bi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIHRoaXMuc2FtcGxlcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe2goci5zdHJpbmdzLGZ1bmN0aW9uKHIpe3ZhciBpPXIucm93LHM9dC5ob3QuZ2V0Q2VsbE1ldGEoaSxlKTtzLmNvbD1lLHMucm93PWk7dmFyIGE9dC5ob3QuZ2V0Q2VsbFJlbmRlcmVyKHMpLGw9bi5jcmVhdGVFbGVtZW50KCJ0ZCIpLHU9bi5jcmVhdGVFbGVtZW50KCJ0ciIpO2EodC5ob3QsbCxpLGUsdC5ob3QuY29sVG9Qcm9wKGUpLHIudmFsdWUscyksdS5hcHBlbmRDaGlsZChsKSxvLmFwcGVuZENoaWxkKHUpfSl9KSxvfSxjbGVhbjpmdW5jdGlvbigpe3RoaXMucm93cy5sZW5ndGg9MCx0aGlzLmNvbHVtbnMubGVuZ3RoPTAsdGhpcy5zYW1wbGVzJiZ0aGlzLnNhbXBsZXMuY2xlYXIoKSx0aGlzLnNhbXBsZXM9bnVsbCx0aGlzLnJlbW92ZVRhYmxlKCl9LGluamVjdFRhYmxlOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO3RoaXMuaW5qZWN0ZWR8fCgoZXx8dGhpcy5ob3Qucm9vdEVsZW1lbnQpLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyLmZyYWdtZW50KSx0aGlzLmluamVjdGVkPSEwKX0scmVtb3ZlVGFibGU6ZnVuY3Rpb24oKXt0aGlzLmluamVjdGVkJiZ0aGlzLmNvbnRhaW5lci5jb250YWluZXIucGFyZW50Tm9kZSYmKHRoaXMuY29udGFpbmVyLmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyLmNvbnRhaW5lciksdGhpcy5jb250YWluZXI9bnVsbCx0aGlzLmluamVjdGVkPSExKX0sY3JlYXRlQ29sRWxlbWVudDpmdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudCxuPXQuY3JlYXRlRWxlbWVudCgiY29sIik7cmV0dXJuIG4uc3R5bGUud2lkdGg9dGhpcy5ob3Qudmlldy53dC53dFRhYmxlLmdldFN0cmV0Y2hlZENvbHVtbldpZHRoKGUpKyJweCIsbn0sY3JlYXRlVGFibGU6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiIiLHQ9ZG9jdW1lbnQsbj10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxvPXQuY3JlYXRlRWxlbWVudCgidGFibGUiKSxyPXQuY3JlYXRlRWxlbWVudCgidGhlYWQiKSxpPXQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSxzPXQuY3JlYXRlRWxlbWVudCgiY29sZ3JvdXAiKSxhPXQuY3JlYXRlRWxlbWVudCgidHIiKSxsPXQuY3JlYXRlRWxlbWVudCgidGgiKTtyZXR1cm4gdGhpcy5pc1ZlcnRpY2FsKCkmJm8uYXBwZW5kQ2hpbGQocyksdGhpcy5pc0hvcml6b250YWwoKSYmKGEuYXBwZW5kQ2hpbGQobCksci5hcHBlbmRDaGlsZChhKSxvLnN0eWxlLnRhYmxlTGF5b3V0PSJhdXRvIixvLnN0eWxlLndpZHRoPSJhdXRvIiksby5hcHBlbmRDaGlsZChyKSx0aGlzLmlzVmVydGljYWwoKSYmaS5hcHBlbmRDaGlsZChhKSxvLmFwcGVuZENoaWxkKGkpLHUobyxlKSxuLmFwcGVuZENoaWxkKG8pLHtmcmFnbWVudDpuLHRhYmxlOm8sdEhlYWQ6cix0Qm9keTppLGNvbEdyb3VwOnMsdHI6YSx0aDpsfX0sY3JlYXRlQ29udGFpbmVyOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToiIix0PWRvY3VtZW50LG49dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbz10LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlPSJodEdob3N0VGFibGUgaHRBdXRvU2l6ZSAiK2UudHJpbSgpLHUobyxlKSxuLmFwcGVuZENoaWxkKG8pLHtmcmFnbWVudDpuLGNvbnRhaW5lcjpvfX0saXNWZXJ0aWNhbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJvd3MubGVuZ3RoJiYhdGhpcy5jb2x1bW5zLmxlbmd0aD8hMDohMX0saXNIb3Jpem9udGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sdW1ucy5sZW5ndGgmJiF0aGlzLnJvd3MubGVuZ3RoPyEwOiExfX0se30pLEhhbmRzb250YWJsZS51dGlscz1IYW5kc29udGFibGUudXRpbHN8fHt9LEhhbmRzb250YWJsZS51dGlscy5HaG9zdFRhYmxlPWZ9LHsiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ1LCJoZWxwZXJzL21peGVkIjo0OCwiaGVscGVycy9udW1iZXIiOjQ5LCJoZWxwZXJzL29iamVjdCI6NTB9XSwxMDE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIG87T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7U2FtcGxlc0dlbmVyYXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHB9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHMsYSxsLHU9KHI9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksYz0odS5hZGRDbGFzcyx1Lm91dGVySGVpZ2h0LHUub3V0ZXJXaWR0aCwoaT1lKCJoZWxwZXJzL2FycmF5IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5hcnJheUVhY2gscz1lKCJoZWxwZXJzL29iamVjdCIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksZD0oYy5vYmplY3RFYWNoLGMuaXNPYmplY3QpLGg9KGE9ZSgiaGVscGVycy9udW1iZXIiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLnJhbmdlRWFjaCxmPShsPWUoImhlbHBlcnMvbWl4ZWQiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLnN0cmluZ2lmeSxwPWZ1bmN0aW9uKGUpe3RoaXMuc2FtcGxlcz1udWxsLHRoaXMuZGF0YUZhY3Rvcnk9ZSx0aGlzLmN1c3RvbVNhbXBsZUNvdW50PW51bGx9LGc9cDskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MocCwobz17fSxPYmplY3QuZGVmaW5lUHJvcGVydHkobywiZ2V0U2FtcGxlQ291bnQiLHt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1c3RvbVNhbXBsZUNvdW50P3RoaXMuY3VzdG9tU2FtcGxlQ291bnQ6Zy5TQU1QTEVfQ09VTlR9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sImdlbmVyYXRlUm93U2FtcGxlcyIse3ZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVTYW1wbGVzKCJyb3ciLHQsZSl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sImdlbmVyYXRlQ29sdW1uU2FtcGxlcyIse3ZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVTYW1wbGVzKCJjb2wiLHQsZSl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sImdlbmVyYXRlU2FtcGxlcyIse3ZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz10aGlzLHI9bmV3IE1hcDtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIG4mJihuPXtmcm9tOm4sdG86bn0pLGgobi5mcm9tLG4udG8sZnVuY3Rpb24obil7dmFyIGk9by5nZW5lcmF0ZVNhbXBsZShlLHQsbik7ci5zZXQobixpKX0pLHJ9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sImdlbmVyYXRlU2FtcGxlIix7dmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvLHI9dGhpcyxpPW5ldyBNYXAscz1bXTtyZXR1cm4gaCh0LmZyb20sdC50byxmdW5jdGlvbih0KXt2YXIgYSxsO2lmKCJyb3ciPT09ZSlsPXIuZGF0YUZhY3Rvcnkobix0KTtlbHNle2lmKCJjb2wiIT09ZSl0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIHNhbXBsZSB0eXBlIik7bD1yLmRhdGFGYWN0b3J5KHQsbil9bz1kKGwpP09iamVjdC5rZXlzKGwpLmxlbmd0aDpBcnJheS5pc0FycmF5KGwpP2wubGVuZ3RoOmYobCkubGVuZ3RoLGkuaGFzKG8pfHxpLnNldChvLHtuZWVkZWQ6ci5nZXRTYW1wbGVDb3VudCgpLHN0cmluZ3M6W119KTt2YXIgdT1pLmdldChvKTtpZih1Lm5lZWRlZCl7dmFyIGM9cy5pbmRleE9mKGwpPi0xO2lmKCFjKXt2YXIgaD0icm93Ij09PWU/ImNvbCI6InJvdyI7dS5zdHJpbmdzLnB1c2goKGE9e30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInZhbHVlIix7dmFsdWU6bCxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGgse3ZhbHVlOnQsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KSxhKSkscy5wdXNoKGwpLHUubmVlZGVkLS19fX0pLGl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksbykse2dldCBTQU1QTEVfQ09VTlQoKXtyZXR1cm4gM319KSxIYW5kc29udGFibGUudXRpbHM9SGFuZHNvbnRhYmxlLnV0aWxzfHx7fSxIYW5kc29udGFibGUudXRpbHMuU2FtcGxlc0dlbmVyYXRvcj1wfSx7ImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NSwiaGVscGVycy9taXhlZCI6NDgsImhlbHBlcnMvbnVtYmVyIjo0OSwiaGVscGVycy9vYmplY3QiOjUwfV0sMTAyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0KXt2YXIgbj1lLG89InN0cmluZyI9PXR5cGVvZiBuP24udG9Mb3dlckNhc2UoKTpudWxsO3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHI9ITEscz0wLGE9ZS5sZW5ndGg7YT5zO3MrKyl7aWYobj09PWVbc10pe3I9ITA7YnJlYWt9aWYobz09PWkoZVtzXSkudG9Mb3dlckNhc2UoKSl7cj0hMDticmVha319dChyKX19dmFyIHIsaT0ocj1lKCJoZWxwZXJzL21peGVkIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5zdHJpbmdpZnk7SGFuZHNvbnRhYmxlLkF1dG9jb21wbGV0ZVZhbGlkYXRvcj1mdW5jdGlvbihlLHQpe3RoaXMuc3RyaWN0JiZ0aGlzLnNvdXJjZT8iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5zb3VyY2U/dGhpcy5zb3VyY2UoZSxvKGUsdCkpOm8oZSx0KSh0aGlzLnNvdXJjZSk6dCghMCl9fSx7ImhlbHBlcnMvbWl4ZWQiOjQ4fV0sMTAzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBvLHIsaT0obz1lKCJtb21lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0scz0ocj1lKCJlZGl0b3JzIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5nZXRFZGl0b3I7SGFuZHNvbnRhYmxlLkRhdGVWYWxpZGF0b3I9ZnVuY3Rpb24oZSx0KXt2YXIgbj0hMCxvPXMoImRhdGUiLHRoaXMuaW5zdGFuY2UpO251bGw9PWUmJihlPSIiKTt2YXIgcj1pKG5ldyBEYXRlKGUpKS5pc1ZhbGlkKCksbD1pKGUsdGhpcy5kYXRlRm9ybWF0fHxvLmRlZmF1bHREYXRlRm9ybWF0LCEwKS5pc1ZhbGlkKCk7aWYodGhpcy5hbGxvd0VtcHR5JiYiIj09PWUmJihyPSEwLGw9ITApLHJ8fChuPSExKSwhciYmbCYmKG49ITApLHImJiFsKWlmKHRoaXMuY29ycmVjdEZvcm1hdD09PSEwKXt2YXIgdT1hKGUsdGhpcy5kYXRlRm9ybWF0KTt0aGlzLmluc3RhbmNlLnNldERhdGFBdENlbGwodGhpcy5yb3csdGhpcy5jb2wsdSwiZGF0ZVZhbGlkYXRvciIpLG49ITB9ZWxzZSBuPSExO3Qobil9O3ZhciBhPWZ1bmN0aW9uKGUsdCl7dmFyIG49aShuZXcgRGF0ZShlKSksbz1uLmZvcm1hdCgiWVlZWSIpLHI9aSgpLmZvcm1hdCgiWVlZWSIpO3JldHVybiBvLnN1YnN0cigwLDIpIT09ci5zdWJzdHIoMCwyKT9lLm1hdGNoKG5ldyBSZWdFeHAobykpfHxuLnllYXIoby5yZXBsYWNlKG8uc3Vic3RyKDAsMiksci5zdWJzdHIoMCwyKSkpOm8ubGVuZ3RoPjQmJm4ueWVhcigobi55ZWFyKCkrIiIpLnN1YnN0cigwLDQpKSxuLmZvcm1hdCh0KX19LHtlZGl0b3JzOjI5LG1vbWVudDoibW9tZW50In1dLDEwNDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtIYW5kc29udGFibGUuTnVtZXJpY1ZhbGlkYXRvcj1mdW5jdGlvbihlLHQpe251bGw9PWUmJihlPSIiKSx0KHRoaXMuYWxsb3dFbXB0eSYmIiI9PT1lPyEwOiIiPT09ZT8hMTovXi0/XGQqKFwufFwsKT9cZCokLy50ZXN0KGUpKX19LHt9XSxTaGVldENsaXA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGUuc3BsaXQoJyInKS5sZW5ndGgtMX12YXIgbz17cGFyc2U6ZnVuY3Rpb24oZSl7dmFyIG4sbyxyLGkscyxhLGwsdT1bXSxjPTA7Zm9yKHI9ZS5zcGxpdCgiXG4iKSxyLmxlbmd0aD4xJiYiIj09PXJbci5sZW5ndGgtMV0mJnIucG9wKCksbj0wLG89ci5sZW5ndGg7bz5uO24rPTEpe2ZvcihyW25dPXJbbl0uc3BsaXQoIgkiKSxpPTAscz1yW25dLmxlbmd0aDtzPmk7aSs9MSl1W2NdfHwodVtjXT1bXSksYSYmMD09PWk/KGw9dVtjXS5sZW5ndGgtMSx1W2NdW2xdPXVbY11bbF0rIlxuIityW25dWzBdLGEmJjEmdChyW25dWzBdKSYmKGE9ITEsdVtjXVtsXT11W2NdW2xdLnN1YnN0cmluZygwLHVbY11bbF0ubGVuZ3RoLTEpLnJlcGxhY2UoLyIiL2csJyInKSkpOmk9PT1zLTEmJjA9PT1yW25dW2ldLmluZGV4T2YoJyInKSYmMSZ0KHJbbl1baV0pPyh1W2NdLnB1c2gocltuXVtpXS5zdWJzdHJpbmcoMSkucmVwbGFjZSgvIiIvZywnIicpKSxhPSEwKToodVtjXS5wdXNoKHJbbl1baV0ucmVwbGFjZSgvIiIvZywnIicpKSxhPSExKTthfHwoYys9MSl9cmV0dXJuIHV9LHN0cmluZ2lmeTpmdW5jdGlvbihlKXt2YXIgdCxuLG8scixpLHM9IiI7Zm9yKHQ9MCxuPWUubGVuZ3RoO24+dDt0Kz0xKXtmb3Iocj1lW3RdLmxlbmd0aCxvPTA7cj5vO28rPTEpbz4wJiYocys9IgkiKSxpPWVbdF1bb10scys9InN0cmluZyI9PXR5cGVvZiBpP2kuaW5kZXhPZigiXG4iKT4tMT8nIicraS5yZXBsYWNlKC8iL2csJyIiJykrJyInOmk6bnVsbD09PWl8fHZvaWQgMD09PWk/IiI6aTtzKz0iXG4ifXJldHVybiBzfX07InVuZGVmaW5lZCIhPXR5cGVvZiBuPyhuLnBhcnNlPW8ucGFyc2Usbi5zdHJpbmdpZnk9by5zdHJpbmdpZnkpOmUuU2hlZXRDbGlwPW99KHdpbmRvdyl9LHt9XSxhdXRvUmVzaXplOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oKXt2YXIgZSx0PXttaW5IZWlnaHQ6MjAwLG1heEhlaWdodDozMDAsbWluV2lkdGg6MTAwLG1heFdpZHRoOjMwMH0sbj1kb2N1bWVudC5ib2R5LG89ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiU1BBTiIpLGk9ZnVuY3Rpb24oZSx0LG4pe3dpbmRvdy5hdHRhY2hFdmVudD9lLmF0dGFjaEV2ZW50KCJvbiIrdCxuKTplLmFkZEV2ZW50TGlzdGVuZXIodCxuLCExKX0scz1mdW5jdGlvbihlLHQsbil7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXI/ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbiwhMSk6ZS5kZXRhY2hFdmVudCgib24iK3Qsbil9LGE9ZnVuY3Rpb24oaSl7dmFyIHMsYTtpPy9eW2EtekEtWiBcLixcXFwvXHwwLTldJC8udGVzdChpKXx8KGk9Ii4iKTppPSIiLHZvaWQgMCE9PW8udGV4dENvbnRlbnQ/by50ZXh0Q29udGVudD1lLnZhbHVlK2k6by5kYXRhPWUudmFsdWUraSxyLnN0eWxlLmZvbnRTaXplPUhhbmRzb250YWJsZS5Eb20uZ2V0Q29tcHV0ZWRTdHlsZShlKS5mb250U2l6ZSxyLnN0eWxlLmZvbnRGYW1pbHk9SGFuZHNvbnRhYmxlLkRvbS5nZXRDb21wdXRlZFN0eWxlKGUpLmZvbnRGYW1pbHksci5zdHlsZS53aGl0ZVNwYWNlPSJwcmUiLG4uYXBwZW5kQ2hpbGQocikscz1yLmNsaWVudFdpZHRoKzIsbi5yZW1vdmVDaGlsZChyKSxlLnN0eWxlLmhlaWdodD10Lm1pbkhlaWdodCsicHgiLHQubWluV2lkdGg+cz9lLnN0eWxlLndpZHRoPXQubWluV2lkdGgrInB4IjpzPnQubWF4V2lkdGg/ZS5zdHlsZS53aWR0aD10Lm1heFdpZHRoKyJweCI6ZS5zdHlsZS53aWR0aD1zKyJweCIsYT1lLnNjcm9sbEhlaWdodD9lLnNjcm9sbEhlaWdodC0xOjAsdC5taW5IZWlnaHQ+YT9lLnN0eWxlLmhlaWdodD10Lm1pbkhlaWdodCsicHgiOnQubWF4SGVpZ2h0PGE/KGUuc3R5bGUuaGVpZ2h0PXQubWF4SGVpZ2h0KyJweCIsZS5zdHlsZS5vdmVyZmxvd1k9InZpc2libGUiKTplLnN0eWxlLmhlaWdodD1hKyJweCJ9LGw9ZnVuY3Rpb24oKXt3aW5kb3cuc2V0VGltZW91dChhLDApfSx1PWZ1bmN0aW9uKG4pe2lmKG4mJm4ubWluSGVpZ2h0KWlmKCJpbmhlcml0Ij09bi5taW5IZWlnaHQpdC5taW5IZWlnaHQ9ZS5jbGllbnRIZWlnaHQ7ZWxzZXt2YXIgaT1wYXJzZUludChuLm1pbkhlaWdodCk7aXNOYU4oaSl8fCh0Lm1pbkhlaWdodD1pKX1pZihuJiZuLm1heEhlaWdodClpZigiaW5oZXJpdCI9PW4ubWF4SGVpZ2h0KXQubWF4SGVpZ2h0PWUuY2xpZW50SGVpZ2h0O2Vsc2V7dmFyIHM9cGFyc2VJbnQobi5tYXhIZWlnaHQpO2lzTmFOKHMpfHwodC5tYXhIZWlnaHQ9cyl9aWYobiYmbi5taW5XaWR0aClpZigiaW5oZXJpdCI9PW4ubWluV2lkdGgpdC5taW5XaWR0aD1lLmNsaWVudFdpZHRoO2Vsc2V7dmFyIGE9cGFyc2VJbnQobi5taW5XaWR0aCk7aXNOYU4oYSl8fCh0Lm1pbldpZHRoPWEpfWlmKG4mJm4ubWF4V2lkdGgpaWYoImluaGVyaXQiPT1uLm1heFdpZHRoKXQubWF4V2lkdGg9ZS5jbGllbnRXaWR0aDtlbHNle3ZhciBsPXBhcnNlSW50KG4ubWF4V2lkdGgpO2lzTmFOKGwpfHwodC5tYXhXaWR0aD1sKX1yLmZpcnN0Q2hpbGR8fChyLmNsYXNzTmFtZT0iYXV0b1Jlc2l6ZSIsci5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siLHIuYXBwZW5kQ2hpbGQobykpfSxjPWZ1bmN0aW9uKG4sbyxyKXtlPW4sdShvKSwiVEVYVEFSRUEiPT1lLm5vZGVOYW1lJiYoZS5zdHlsZS5yZXNpemU9Im5vbmUiLGUuc3R5bGUub3ZlcmZsb3dZPSIiLGUuc3R5bGUuaGVpZ2h0PXQubWluSGVpZ2h0KyJweCIsZS5zdHlsZS5taW5XaWR0aD10Lm1pbldpZHRoKyJweCIsZS5zdHlsZS5tYXhXaWR0aD10Lm1heFdpZHRoKyJweCIsZS5zdHlsZS5vdmVyZmxvd1k9ImhpZGRlbiIpLHImJihpKGUsImNoYW5nZSIsYSksaShlLCJjdXQiLGwpLGkoZSwicGFzdGUiLGwpLGkoZSwiZHJvcCIsbCksaShlLCJrZXlkb3duIixsKSksYSgpfTtyZXR1cm57aW5pdDpmdW5jdGlvbihlLHQsbil7YyhlLHQsbil9LHVuT2JzZXJ2ZTpmdW5jdGlvbigpe3MoZSwiY2hhbmdlIixhKSxzKGUsImN1dCIsbCkscyhlLCJwYXN0ZSIsbCkscyhlLCJkcm9wIixsKSxzKGUsImtleWRvd24iLGwpfSxyZXNpemU6YX19InVuZGVmaW5lZCIhPXR5cGVvZiBuJiYodC5leHBvcnRzPW8pfSx7fV0sY29weVBhc3RlOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oKXtyZXR1cm4gaT9pLmhhc0JlZW5EZXN0cm95ZWQoKSYmaS5pbml0KCk6aT1uZXcgcixpLnJlZkNvdW50ZXIrKyxpfWZ1bmN0aW9uIHIoKXt0aGlzLnJlZkNvdW50ZXI9MCx0aGlzLmluaXQoKX12YXIgaTsidW5kZWZpbmVkIiE9dHlwZW9mIG4mJih0LmV4cG9ydHM9byksci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBlLHQ7dGhpcy5jb3B5Q2FsbGJhY2tzPVtdLHRoaXMuY3V0Q2FsbGJhY2tzPVtdLHRoaXMucGFzdGVDYWxsYmFja3M9W10sdD1kb2N1bWVudC5ib2R5LGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJDb3B5UGFzdGVEaXYiKT8odGhpcy5lbERpdj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiQ29weVBhc3RlRGl2IiksdGhpcy5lbFRleHRhcmVhPXRoaXMuZWxEaXYuZmlyc3RDaGlsZCk6KHRoaXMuZWxEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5lbERpdi5pZD0iQ29weVBhc3RlRGl2IixlPXRoaXMuZWxEaXYuc3R5bGUsZS5wb3NpdGlvbj0iZml4ZWQiLGUudG9wPSItMTAwMDBweCIsZS5sZWZ0PSItMTAwMDBweCIsdC5hcHBlbmRDaGlsZCh0aGlzLmVsRGl2KSx0aGlzLmVsVGV4dGFyZWE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKSx0aGlzLmVsVGV4dGFyZWEuY2xhc3NOYW1lPSJjb3B5UGFzdGUiLHRoaXMuZWxUZXh0YXJlYS5vbnBhc3RlPWZ1bmN0aW9uKGUpe3ZhciB0LG47IldlYmtpdEFwcGVhcmFuY2UiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlJiYodD1lLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgiVGV4dCIpLC0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTYWZhcmkiKSYmLTE9PT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkNocm9tZSIpJiYobj10LnNwbGl0KCJcbiIpLCIiPT09bltuLmxlbmd0aC0xXSYmbi5wb3AoKSx0PW4uam9pbigiXG4iKSksdGhpcy52YWx1ZT10LGUucHJldmVudERlZmF1bHQoKSl9LGU9dGhpcy5lbFRleHRhcmVhLnN0eWxlLGUud2lkdGg9IjEwMDAwcHgiLGUuaGVpZ2h0PSIxMDAwMHB4IixlLm92ZXJmbG93PSJoaWRkZW4iLHRoaXMuZWxEaXYuYXBwZW5kQ2hpbGQodGhpcy5lbFRleHRhcmVhKSwidW5kZWZpbmVkIiE9dHlwZW9mIGUub3BhY2l0eSYmKGUub3BhY2l0eT0wKSksdGhpcy5vbktleURvd25SZWY9dGhpcy5vbktleURvd24uYmluZCh0aGlzKSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsdGhpcy5vbktleURvd25SZWYsITEpfSxyLnByb3RvdHlwZS5vbktleURvd249ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7cmV0dXJuIGUuc2hhZG93Um9vdCYmZS5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQmJihlPWUuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50KSxbIklOUFVUIiwiU0VMRUNUIiwiVEVYVEFSRUEiXS5pbmRleE9mKGUubm9kZU5hbWUpPi0xfHwidHJ1ZSI9PT1lLmNvbnRlbnRFZGl0YWJsZX12YXIgbj10aGlzLG89ITE7aWYoZS5tZXRhS2V5P289ITA6ZS5jdHJsS2V5JiYtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTWFjIikmJihvPSEwKSxvKXtpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50IT09dGhpcy5lbFRleHRhcmVhJiYoIiIhPT10aGlzLmdldFNlbGVjdGlvblRleHQoKXx8dCgpKSlyZXR1cm47dGhpcy5zZWxlY3ROb2RlVGV4dCh0aGlzLmVsVGV4dGFyZWEpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtkb2N1bWVudC5hY3RpdmVFbGVtZW50IT09bi5lbFRleHRhcmVhJiZuLnNlbGVjdE5vZGVUZXh0KG4uZWxUZXh0YXJlYSl9LDApfSFvfHw2NyE9PWUua2V5Q29kZSYmODYhPT1lLmtleUNvZGUmJjg4IT09ZS5rZXlDb2RlfHwoODg9PT1lLmtleUNvZGU/c2V0VGltZW91dChmdW5jdGlvbigpe24udHJpZ2dlckN1dChlKX0sMCk6ODY9PT1lLmtleUNvZGUmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnRyaWdnZXJQYXN0ZShlKX0sMCkpfSxyLnByb3RvdHlwZS5zZWxlY3ROb2RlVGV4dD1mdW5jdGlvbihlKXtlJiZlLnNlbGVjdCgpfSxyLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25UZXh0PWZ1bmN0aW9uKCl7dmFyIGU9IiI7cmV0dXJuIHdpbmRvdy5nZXRTZWxlY3Rpb24/ZT13aW5kb3cuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKTpkb2N1bWVudC5zZWxlY3Rpb24mJiJDb250cm9sIiE9PWRvY3VtZW50LnNlbGVjdGlvbi50eXBlJiYoZT1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS50ZXh0KSxlfSxyLnByb3RvdHlwZS5jb3B5YWJsZT1mdW5jdGlvbihlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUmJnZvaWQgMD09PWUudG9TdHJpbmcpdGhyb3cgbmV3IEVycm9yKCJjb3B5YWJsZSByZXF1aXJlcyBzdHJpbmcgcGFyYW1ldGVyIik7dGhpcy5lbFRleHRhcmVhLnZhbHVlPWUsdGhpcy5zZWxlY3ROb2RlVGV4dCh0aGlzLmVsVGV4dGFyZWEpfSxyLnByb3RvdHlwZS5vbkN1dD1mdW5jdGlvbihlKXt0aGlzLmN1dENhbGxiYWNrcy5wdXNoKGUpfSxyLnByb3RvdHlwZS5vblBhc3RlPWZ1bmN0aW9uKGUpe3RoaXMucGFzdGVDYWxsYmFja3MucHVzaChlKX0sci5wcm90b3R5cGUucmVtb3ZlQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7dmFyIHQsbjtmb3IodD0wLG49dGhpcy5jb3B5Q2FsbGJhY2tzLmxlbmd0aDtuPnQ7dCsrKWlmKHRoaXMuY29weUNhbGxiYWNrc1t0XT09PWUpcmV0dXJuIHRoaXMuY29weUNhbGxiYWNrcy5zcGxpY2UodCwxKSwhMDtmb3IodD0wLG49dGhpcy5jdXRDYWxsYmFja3MubGVuZ3RoO24+dDt0KyspaWYodGhpcy5jdXRDYWxsYmFja3NbdF09PT1lKXJldHVybiB0aGlzLmN1dENhbGxiYWNrcy5zcGxpY2UodCwxKSwhMDtmb3IodD0wLG49dGhpcy5wYXN0ZUNhbGxiYWNrcy5sZW5ndGg7bj50O3QrKylpZih0aGlzLnBhc3RlQ2FsbGJhY2tzW3RdPT09ZSlyZXR1cm4gdGhpcy5wYXN0ZUNhbGxiYWNrcy5zcGxpY2UodCwxKSwhMDtyZXR1cm4hMX0sci5wcm90b3R5cGUudHJpZ2dlckN1dD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuY3V0Q2FsbGJhY2tzJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBuPTAsbz10LmN1dENhbGxiYWNrcy5sZW5ndGg7bz5uO24rKyl0LmN1dENhbGxiYWNrc1tuXShlKX0sNTApfSxyLnByb3RvdHlwZS50cmlnZ2VyUGFzdGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO24ucGFzdGVDYWxsYmFja3MmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IodmFyIG89dHx8bi5lbFRleHRhcmVhLnZhbHVlLHI9MCxpPW4ucGFzdGVDYWxsYmFja3MubGVuZ3RoO2k+cjtyKyspbi5wYXN0ZUNhbGxiYWNrc1tyXShvLGUpfSw1MCl9LHIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmhhc0JlZW5EZXN0cm95ZWQoKXx8MCE9PS0tdGhpcy5yZWZDb3VudGVyfHwodGhpcy5lbERpdiYmdGhpcy5lbERpdi5wYXJlbnROb2RlJiYodGhpcy5lbERpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWxEaXYpLHRoaXMuZWxEaXY9bnVsbCx0aGlzLmVsVGV4dGFyZWE9bnVsbCksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMub25LZXlEb3duUmVmKSx0aGlzLm9uS2V5RG93blJlZj1udWxsKX0sci5wcm90b3R5cGUuaGFzQmVlbkRlc3Ryb3llZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLnJlZkNvdW50ZXJ9fSx7fV0sZXM2Y29sbGVjdGlvbnM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXtmdW5jdGlvbiBvKGUpe3JldHVybiB0aGlzJiZ0aGlzLmNvbnN0cnVjdG9yPT09bz8odGhpcy5fa2V5cz1bXSx0aGlzLl92YWx1ZXM9W10sdGhpcy5faXRwPVtdLHRoaXMub2JqZWN0T25seT10LHZvaWQoZSYmbi5jYWxsKHRoaXMsZSkpKTpuZXcgbyhlKX1yZXR1cm4gdHx8eShlLCJzaXplIix7Z2V0Om19KSxlLmNvbnN0cnVjdG9yPW8sby5wcm90b3R5cGU9ZSxvfWZ1bmN0aW9uIG4oZSl7dGhpcy5hZGQ/ZS5mb3JFYWNoKHRoaXMuYWRkLHRoaXMpOmUuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnNldChlWzBdLGVbMV0pfSx0aGlzKX1mdW5jdGlvbiBvKGUpe3JldHVybiB0aGlzLmhhcyhlKSYmKHRoaXMuX2tleXMuc3BsaWNlKHcsMSksdGhpcy5fdmFsdWVzLnNwbGljZSh3LDEpLHRoaXMuX2l0cC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3c8ZVswXSYmZVswXS0tfSkpLHc+LTF9ZnVuY3Rpb24gcihlKXtyZXR1cm4gdGhpcy5oYXMoZSk/dGhpcy5fdmFsdWVzW3ddOnZvaWQgMH1mdW5jdGlvbiBpKGUsdCl7aWYodGhpcy5vYmplY3RPbmx5JiZ0IT09T2JqZWN0KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgdmFsdWUgdXNlZCBhcyB3ZWFrIGNvbGxlY3Rpb24ga2V5Iik7aWYodCE9dHx8MD09PXQpZm9yKHc9ZS5sZW5ndGg7dy0tJiYhYihlW3ddLHQpOyk7ZWxzZSB3PWUuaW5kZXhPZih0KTtyZXR1cm4gdz4tMX1mdW5jdGlvbiBzKGUpe3JldHVybiBpLmNhbGwodGhpcyx0aGlzLl92YWx1ZXMsZSl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gaS5jYWxsKHRoaXMsdGhpcy5fa2V5cyxlKX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIHRoaXMuaGFzKGUpP3RoaXMuX3ZhbHVlc1t3XT10OnRoaXMuX3ZhbHVlc1t0aGlzLl9rZXlzLnB1c2goZSktMV09dCx0aGlzfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIHRoaXMuaGFzKGUpfHx0aGlzLl92YWx1ZXMucHVzaChlKSx0aGlzfWZ1bmN0aW9uIGMoKXt0aGlzLl92YWx1ZXMubGVuZ3RoPTB9ZnVuY3Rpb24gZCgpe3JldHVybiBnKHRoaXMuX2l0cCx0aGlzLl9rZXlzKX1mdW5jdGlvbiBoKCl7cmV0dXJuIGcodGhpcy5faXRwLHRoaXMuX3ZhbHVlcyl9ZnVuY3Rpb24gZigpe3JldHVybiBnKHRoaXMuX2l0cCx0aGlzLl9rZXlzLHRoaXMuX3ZhbHVlcyl9ZnVuY3Rpb24gcCgpe3JldHVybiBnKHRoaXMuX2l0cCx0aGlzLl92YWx1ZXMsdGhpcy5fdmFsdWVzKX1mdW5jdGlvbiBnKGUsdCxuKXt2YXIgbz1bMF0scj0hMTtyZXR1cm4gZS5wdXNoKG8pLHtuZXh0OmZ1bmN0aW9uKCl7dmFyIGkscz1vWzBdO3JldHVybiFyJiZzPHQubGVuZ3RoPyhpPW4/W3Rbc10sbltzXV06dFtzXSxvWzBdKyspOihyPSEwLGUuc3BsaWNlKGUuaW5kZXhPZihvKSwxKSkse2RvbmU6cix2YWx1ZTppfX19fWZ1bmN0aW9uIG0oKXtyZXR1cm4gdGhpcy5fdmFsdWVzLmxlbmd0aH1mdW5jdGlvbiB2KGUsdCl7Zm9yKHZhciBuPXRoaXMuZW50cmllcygpOzspe3ZhciBvPW4ubmV4dCgpO2lmKG8uZG9uZSlicmVhaztlLmNhbGwodCxvLnZhbHVlWzFdLG8udmFsdWVbMF0sdGhpcyl9fXZhciB3LHk9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaXNOYU4oZSk/aXNOYU4odCk6ZT09PXR9OyJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmKGUuV2Vha01hcD10KHsiZGVsZXRlIjpvLGNsZWFyOmMsZ2V0OnIsaGFzOmEsc2V0Omx9LCEwKSksInVuZGVmaW5lZCI9PXR5cGVvZiBNYXAmJihlLk1hcD10KHsiZGVsZXRlIjpvLGhhczphLGdldDpyLHNldDpsLGtleXM6ZCx2YWx1ZXM6aCxlbnRyaWVzOmYsZm9yRWFjaDp2LGNsZWFyOmN9KSksInVuZGVmaW5lZCI9PXR5cGVvZiBTZXQmJihlLlNldD10KHtoYXM6cyxhZGQ6dSwiZGVsZXRlIjpvLGNsZWFyOmMsa2V5czpoLHZhbHVlczpoLGVudHJpZXM6cCxmb3JFYWNoOnZ9KSksInVuZGVmaW5lZCI9PXR5cGVvZiBXZWFrU2V0JiYoZS5XZWFrU2V0PXQoeyJkZWxldGUiOm8sYWRkOnUsY2xlYXI6YyxoYXM6c30sITApKX0oInVuZGVmaW5lZCIhPXR5cGVvZiBuJiYidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6d2luZG93KX0se31dLGpzb25wYXRjaDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbzshZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4tMT09PWUuaW5kZXhPZigiLyIpJiYtMT09PWUuaW5kZXhPZigifiIpP2U6ZS5yZXBsYWNlKC9+L2csIn4wIikucmVwbGFjZSgvXC8vZywifjEiKX1mdW5jdGlvbiBuKGUsbyl7dmFyIHI7Zm9yKHZhciBpIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShpKSl7aWYoZVtpXT09PW8pcmV0dXJuIHQoaSkrIi8iO2lmKCJvYmplY3QiPT10eXBlb2YgZVtpXSYmKHI9bihlW2ldLG8pLCIiIT1yKSlyZXR1cm4gdChpKSsiLyIrcn1yZXR1cm4iIn1mdW5jdGlvbiBvKGUsdCl7aWYoZT09PXQpcmV0dXJuIi8iO3ZhciBvPW4oZSx0KTtpZigiIj09PW8pdGhyb3cgbmV3IEVycm9yKCJPYmplY3Qgbm90IGZvdW5kIGluIHJvb3QiKTtyZXR1cm4iLyIrb31mdW5jdGlvbiByKGUpe2Zvcih2YXIgdD0wLG49dy5sZW5ndGg7bj50O3QrKylpZih3W3RdLm9iaj09PWUpcmV0dXJuIHdbdF19ZnVuY3Rpb24gaShlKXtmb3IodmFyIHQ9MCxuPXcubGVuZ3RoO24+dDt0Kyspd1t0XT09PWUmJncuc3BsaWNlKHQsMSl9ZnVuY3Rpb24gcyhlLHQpe2Zvcih2YXIgbj0wLG89ZS5vYnNlcnZlcnMubGVuZ3RoO28+bjtuKyspaWYoZS5vYnNlcnZlcnNbbl0uY2FsbGJhY2s9PT10KXJldHVybiBlLm9ic2VydmVyc1tuXS5vYnNlcnZlcn1mdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciBuPTAsbz1lLm9ic2VydmVycy5sZW5ndGg7bz5uO24rKylpZihlLm9ic2VydmVyc1tuXS5vYnNlcnZlcj09PXQpcmV0dXJuIGUub2JzZXJ2ZXJzLnNwbGljZShuLDEpLHZvaWQoZS5vYnNlcnZlcnMubGVuZ3RofHxpKGUpKX1mdW5jdGlvbiBsKGUsdCl7aCh0KSxPYmplY3Qub2JzZXJ2ZT9kKHQsZSk6Y2xlYXJUaW1lb3V0KHQubmV4dCk7dmFyIG49cihlKTthKG4sdCl9ZnVuY3Rpb24gdShlLHQpe3ZhciBuLGk9W10sYT1lLGw9cihlKTtpZihsP249cyhsLHQpOihsPW5ldyB5KGUpLHcucHVzaChsKSksbilyZXR1cm4gbjtpZihPYmplY3Qub2JzZXJ2ZSluPWZ1bmN0aW9uKHIpe2QobixlKSxjKG4sZSk7Zm9yKHZhciBzPTAsbD1yLmxlbmd0aDtsPnM7KXtpZigoImxlbmd0aCIhPT1yW3NdLm5hbWV8fCFSKHJbc10ub2JqZWN0KSkmJiJfX0phc21pbmVfYmVlbl9oZXJlX2JlZm9yZV9fIiE9PXJbc10ubmFtZSl7dmFyIHU9cltzXS50eXBlO3N3aXRjaCh1KXtjYXNlIm5ldyI6dT0iYWRkIjticmVhaztjYXNlImRlbGV0ZWQiOnU9ImRlbGV0ZSI7YnJlYWs7Y2FzZSJ1cGRhdGVkIjp1PSJ1cGRhdGUifXZbdV0uY2FsbChyW3NdLGksbyhhLHJbc10ub2JqZWN0KSl9cysrfWkmJnQmJnQoaSksbi5wYXRjaGVzPWksaT1bXX07ZWxzZSBpZihuPXt9LGwudmFsdWU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSksdCl7bi5jYWxsYmFjaz10LG4ubmV4dD1udWxsO3ZhciB1PXRoaXMuaW50ZXJ2YWxzfHxbMTAwLDFlMywxZTQsNmU0XSxmPTAscD1mdW5jdGlvbigpe2gobil9LGc9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQobi5uZXh0KSxuLm5leHQ9c2V0VGltZW91dChmdW5jdGlvbigpe3AoKSxmPTAsbi5uZXh0PXNldFRpbWVvdXQobSx1W2YrK10pfSwwKX0sbT1mdW5jdGlvbigpe3AoKSxmPT11Lmxlbmd0aCYmKGY9dS5sZW5ndGgtMSksbi5uZXh0PXNldFRpbWVvdXQobSx1W2YrK10pfTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyPyh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIixnKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsZyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLGcpKTood2luZG93LmF0dGFjaEV2ZW50KCJvbm1vdXNlZG93biIsZyksd2luZG93LmF0dGFjaEV2ZW50KCJvbm1vdXNldXAiLGcpLHdpbmRvdy5hdHRhY2hFdmVudCgib25rZXlkb3duIixnKSkpLG4ubmV4dD1zZXRUaW1lb3V0KG0sdVtmKytdKX1yZXR1cm4gbi5wYXRjaGVzPWksbi5vYmplY3Q9ZSxsLm9ic2VydmVycy5wdXNoKG5ldyBiKHQsbikpLGMobixlKX1mdW5jdGlvbiBjKGUsdCl7aWYoT2JqZWN0Lm9ic2VydmUpe09iamVjdC5vYnNlcnZlKHQsZSk7Zm9yKHZhciBuIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIG89dFtuXTtvJiYib2JqZWN0Ij09dHlwZW9mIG8mJmMoZSxvKX19cmV0dXJuIGV9ZnVuY3Rpb24gZChlLHQpe2lmKE9iamVjdC5vYnNlcnZlKXtPYmplY3QudW5vYnNlcnZlKHQsZSk7Zm9yKHZhciBuIGluIHQpaWYodC5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIG89dFtuXTtvJiYib2JqZWN0Ij09dHlwZW9mIG8mJmQoZSxvKX19cmV0dXJuIGV9ZnVuY3Rpb24gaChlKXtpZihPYmplY3Qub2JzZXJ2ZSlPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoZSk7ZWxzZXtmb3IodmFyIHQsbj0wLG89dy5sZW5ndGg7bz5uO24rKylpZih3W25dLm9iaj09PWUub2JqZWN0KXt0PXdbbl07YnJlYWt9dCYmZih0LnZhbHVlLGUub2JqZWN0LGUucGF0Y2hlcywiIil9dmFyIHI9ZS5wYXRjaGVzO3JldHVybiByLmxlbmd0aD4wJiYoZS5wYXRjaGVzPVtdLGUuY2FsbGJhY2smJmUuY2FsbGJhY2socikpLHJ9ZnVuY3Rpb24gZihlLG4sbyxyKXtmb3IodmFyIGk9QyhuKSxzPUMoZSksYT0hMSxsPSExLHU9cy5sZW5ndGgtMTt1Pj0wO3UtLSl7dmFyIGM9c1t1XSxkPWVbY107aWYobi5oYXNPd25Qcm9wZXJ0eShjKSl7dmFyIGg9bltjXTtkIGluc3RhbmNlb2YgT2JqZWN0P2YoZCxoLG8scisiLyIrdChjKSk6ZCE9aCYmKGE9ITAsby5wdXNoKHtvcDoicmVwbGFjZSIscGF0aDpyKyIvIit0KGMpLHZhbHVlOmh9KSxlW2NdPWgpfWVsc2Ugby5wdXNoKHtvcDoicmVtb3ZlIixwYXRoOnIrIi8iK3QoYyl9KSxkZWxldGUgZVtjXSxsPSEwfWlmKGx8fGkubGVuZ3RoIT1zLmxlbmd0aClmb3IodmFyIHU9MDt1PGkubGVuZ3RoO3UrKyl7dmFyIGM9aVt1XTtlLmhhc093blByb3BlcnR5KGMpfHwoby5wdXNoKHtvcDoiYWRkIixwYXRoOnIrIi8iK3QoYyksdmFsdWU6bltjXX0pLGVbY109SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuW2NdKSkpfX1mdW5jdGlvbiBwKGUsdCl7Zm9yKHZhciBuLG89ITEscj0wLGk9dC5sZW5ndGg7aT5yOyl7bj10W3JdO2Zvcih2YXIgcz1uLnBhdGguc3BsaXQoIi8iKSxhPWUsbD0xLHU9cy5sZW5ndGg7OylpZihSKGEpKXt2YXIgYz1wYXJzZUludChzW2xdLDEwKTtpZihsKyssbD49dSl7bz1tW24ub3BdLmNhbGwobixhLGMsZSk7YnJlYWt9YT1hW2NdfWVsc2V7dmFyIGQ9c1tsXTtpZigtMSE9ZC5pbmRleE9mKCJ+IikmJihkPWQucmVwbGFjZSgvfjEvZywiLyIpLnJlcGxhY2UoL34wL2csIn4iKSksbCsrLGw+PXUpe289Z1tuLm9wXS5jYWxsKG4sYSxkLGUpO2JyZWFrfWE9YVtkXX1yKyt9cmV0dXJuIG99dmFyIGc9e2FkZDpmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPXRoaXMudmFsdWUsITB9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3JldHVybiBkZWxldGUgZVt0XSwhMH0scmVwbGFjZTpmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPXRoaXMudmFsdWUsITB9LG1vdmU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXtvcDoiX2dldCIscGF0aDp0aGlzLmZyb219O3JldHVybiBwKG4sW29dKSxwKG4sW3tvcDoicmVtb3ZlIixwYXRoOnRoaXMuZnJvbX1dKSxwKG4sW3tvcDoiYWRkIixwYXRoOnRoaXMucGF0aCx2YWx1ZTpvLnZhbHVlfV0pLCEwfSxjb3B5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz17b3A6Il9nZXQiLHBhdGg6dGhpcy5mcm9tfTtyZXR1cm4gcChuLFtvXSkscChuLFt7b3A6ImFkZCIscGF0aDp0aGlzLnBhdGgsdmFsdWU6by52YWx1ZX1dKSwhMH0sdGVzdDpmdW5jdGlvbihlLHQpe3JldHVybiBKU09OLnN0cmluZ2lmeShlW3RdKT09PUpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUpfSxfZ2V0OmZ1bmN0aW9uKGUsdCl7dGhpcy52YWx1ZT1lW3RdfX0sbT17YWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3BsaWNlKHQsMCx0aGlzLnZhbHVlKSwhMH0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3BsaWNlKHQsMSksITB9LHJlcGxhY2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT10aGlzLnZhbHVlLCEwfSxtb3ZlOmcubW92ZSxjb3B5OmcuY29weSx0ZXN0OmcudGVzdCxfZ2V0OmcuX2dldH0sdj17YWRkOmZ1bmN0aW9uKGUsbil7dmFyIG89e29wOiJhZGQiLHBhdGg6bit0KHRoaXMubmFtZSksdmFsdWU6dGhpcy5vYmplY3RbdGhpcy5uYW1lXX07ZS5wdXNoKG8pfSwiZGVsZXRlIjpmdW5jdGlvbihlLG4pe3ZhciBvPXtvcDoicmVtb3ZlIixwYXRoOm4rdCh0aGlzLm5hbWUpfTtlLnB1c2gobyl9LHVwZGF0ZTpmdW5jdGlvbihlLG4pe3ZhciBvPXtvcDoicmVwbGFjZSIscGF0aDpuK3QodGhpcy5uYW1lKSx2YWx1ZTp0aGlzLm9iamVjdFt0aGlzLm5hbWVdfTtlLnB1c2gobyl9fSx3PVtdO2UuaW50ZXJ2YWxzO3ZhciB5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm9ic2VydmVycz1bXSx0aGlzLm9iaj1lfXJldHVybiBlfSgpLGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5jYWxsYmFjaz1lLHRoaXMub2JzZXJ2ZXI9dH1yZXR1cm4gZX0oKTtlLnVub2JzZXJ2ZT1sLGUub2JzZXJ2ZT11LGUuZ2VuZXJhdGU9aDt2YXIgQztDPU9iamVjdC5rZXlzP09iamVjdC5rZXlzOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJnQucHVzaChuKTtyZXR1cm4gdH07dmFyIFI7Uj1BcnJheS5pc0FycmF5P0FycmF5LmlzQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucHVzaCYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aH0sZS5hcHBseT1wfShvfHwobz17fSkpLCJ1bmRlZmluZWQiIT10eXBlb2YgbiYmKG4uYXBwbHk9by5hcHBseSxuLm9ic2VydmU9by5vYnNlcnZlLG4udW5vYnNlcnZlPW8udW5vYnNlcnZlLG4uZ2VuZXJhdGU9by5nZW5lcmF0ZSl9LHt9XSxtb21lbnQ6W2Z1bmN0aW9uKHQsbixvKXshZnVuY3Rpb24odCxyKXsib2JqZWN0Ij09dHlwZW9mIG8mJiJ1bmRlZmluZWQiIT10eXBlb2Ygbj9uLmV4cG9ydHM9cigpOiJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFtZD9lKHIpOnQubW9tZW50PXIoKX0odGhpcyxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBlKCl7cmV0dXJuIFhuLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBvKGUpe1huPWV9ZnVuY3Rpb24gcihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBEYXRlfHwiW29iamVjdCBEYXRlXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gcyhlLHQpe3ZhciBuLG89W107Zm9yKG49MDtuPGUubGVuZ3RoOysrbilvLnB1c2godChlW25dLG4pKTtyZXR1cm4gb31mdW5jdGlvbiBhKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIG4gaW4gdClhKHQsbikmJihlW25dPXRbbl0pO3JldHVybiBhKHQsInRvU3RyaW5nIikmJihlLnRvU3RyaW5nPXQudG9TdHJpbmcpLGEodCwidmFsdWVPZiIpJiYoZS52YWx1ZU9mPXQudmFsdWVPZiksZX1mdW5jdGlvbiB1KGUsdCxuLG8pe3JldHVybiBEZShlLHQsbixvLCEwKS51dGMoKX1mdW5jdGlvbiBjKCl7cmV0dXJue2VtcHR5OiExLHVudXNlZFRva2VuczpbXSx1bnVzZWRJbnB1dDpbXSxvdmVyZmxvdzotMixjaGFyc0xlZnRPdmVyOjAsbnVsbElucHV0OiExLGludmFsaWRNb250aDpudWxsLGludmFsaWRGb3JtYXQ6ITEsdXNlckludmFsaWRhdGVkOiExLGlzbzohMX19ZnVuY3Rpb24gZChlKXtyZXR1cm4gbnVsbD09ZS5fcGYmJihlLl9wZj1jKCkpLGUuX3BmfWZ1bmN0aW9uIGgoZSl7aWYobnVsbD09ZS5faXNWYWxpZCl7dmFyIHQ9ZChlKTtlLl9pc1ZhbGlkPSEoaXNOYU4oZS5fZC5nZXRUaW1lKCkpfHwhKHQub3ZlcmZsb3c8MCl8fHQuZW1wdHl8fHQuaW52YWxpZE1vbnRofHx0LmludmFsaWRXZWVrZGF5fHx0Lm51bGxJbnB1dHx8dC5pbnZhbGlkRm9ybWF0fHx0LnVzZXJJbnZhbGlkYXRlZCksZS5fc3RyaWN0JiYoZS5faXNWYWxpZD1lLl9pc1ZhbGlkJiYwPT09dC5jaGFyc0xlZnRPdmVyJiYwPT09dC51bnVzZWRUb2tlbnMubGVuZ3RoJiZ2b2lkIDA9PT10LmJpZ0hvdXIpfXJldHVybiBlLl9pc1ZhbGlkfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9dShOYU4pO3JldHVybiBudWxsIT1lP2woZCh0KSxlKTpkKHQpLnVzZXJJbnZhbGlkYXRlZD0hMCx0fWZ1bmN0aW9uIHAoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZnVuY3Rpb24gZyhlLHQpe3ZhciBuLG8scjtpZihwKHQuX2lzQU1vbWVudE9iamVjdCl8fChlLl9pc0FNb21lbnRPYmplY3Q9dC5faXNBTW9tZW50T2JqZWN0KSxwKHQuX2kpfHwoZS5faT10Ll9pKSxwKHQuX2YpfHwoZS5fZj10Ll9mKSxwKHQuX2wpfHwoZS5fbD10Ll9sKSxwKHQuX3N0cmljdCl8fChlLl9zdHJpY3Q9dC5fc3RyaWN0KSxwKHQuX3R6bSl8fChlLl90em09dC5fdHptKSxwKHQuX2lzVVRDKXx8KGUuX2lzVVRDPXQuX2lzVVRDKSxwKHQuX29mZnNldCl8fChlLl9vZmZzZXQ9dC5fb2Zmc2V0KSxwKHQuX3BmKXx8KGUuX3BmPWQodCkpLHAodC5fbG9jYWxlKXx8KGUuX2xvY2FsZT10Ll9sb2NhbGUpLFpuLmxlbmd0aD4wKWZvcihuIGluIFpuKW89Wm5bbl0scj10W29dLHAocil8fChlW29dPXIpO3JldHVybiBlfWZ1bmN0aW9uIG0odCl7Zyh0aGlzLHQpLHRoaXMuX2Q9bmV3IERhdGUobnVsbCE9dC5fZD90Ll9kLmdldFRpbWUoKTpOYU4pLEpuPT09ITEmJihKbj0hMCxlLnVwZGF0ZU9mZnNldCh0aGlzKSxKbj0hMSl9ZnVuY3Rpb24gdihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIG18fG51bGwhPWUmJm51bGwhPWUuX2lzQU1vbWVudE9iamVjdH1mdW5jdGlvbiB3KGUpe3JldHVybiAwPmU/TWF0aC5jZWlsKGUpOk1hdGguZmxvb3IoZSl9ZnVuY3Rpb24geShlKXt2YXIgdD0rZSxuPTA7cmV0dXJuIDAhPT10JiZpc0Zpbml0ZSh0KSYmKG49dyh0KSksbn1mdW5jdGlvbiBiKGUsdCxuKXt2YXIgbyxyPU1hdGgubWluKGUubGVuZ3RoLHQubGVuZ3RoKSxpPU1hdGguYWJzKGUubGVuZ3RoLXQubGVuZ3RoKSxzPTA7Zm9yKG89MDtyPm87bysrKShuJiZlW29dIT09dFtvXXx8IW4mJnkoZVtvXSkhPT15KHRbb10pKSYmcysrO3JldHVybiBzK2l9ZnVuY3Rpb24gQygpe31mdW5jdGlvbiBSKGUpe3JldHVybiBlP2UudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCJfIiwiLSIpOmV9ZnVuY3Rpb24gXyhlKXtmb3IodmFyIHQsbixvLHIsaT0wO2k8ZS5sZW5ndGg7KXtmb3Iocj1SKGVbaV0pLnNwbGl0KCItIiksdD1yLmxlbmd0aCxuPVIoZVtpKzFdKSxuPW4/bi5zcGxpdCgiLSIpOm51bGw7dD4wOyl7aWYobz1TKHIuc2xpY2UoMCx0KS5qb2luKCItIikpKXJldHVybiBvO2lmKG4mJm4ubGVuZ3RoPj10JiZiKHIsbiwhMCk+PXQtMSlicmVhazt0LS19aSsrfXJldHVybiBudWxsfWZ1bmN0aW9uIFMoZSl7dmFyIG89bnVsbDtpZighUW5bZV0mJiJ1bmRlZmluZWQiIT10eXBlb2YgbiYmbiYmbi5leHBvcnRzKXRyeXtvPXFuLl9hYmJyLHQoIi4vbG9jYWxlLyIrZSksRShvKX1jYXRjaChyKXt9cmV0dXJuIFFuW2VdfWZ1bmN0aW9uIEUoZSx0KXt2YXIgbjtyZXR1cm4gZSYmKG49cCh0KT9NKGUpOlQoZSx0KSxuJiYocW49bikpLHFuLl9hYmJyfWZ1bmN0aW9uIFQoZSx0KXtyZXR1cm4gbnVsbCE9PXQ/KHQuYWJicj1lLFFuW2VdPVFuW2VdfHxuZXcgQyxRbltlXS5zZXQodCksRShlKSxRbltlXSk6KGRlbGV0ZSBRbltlXSxudWxsKX1mdW5jdGlvbiBNKGUpe3ZhciB0O2lmKGUmJmUuX2xvY2FsZSYmZS5fbG9jYWxlLl9hYmJyJiYoZT1lLl9sb2NhbGUuX2FiYnIpLCFlKXJldHVybiBxbjtpZighcihlKSl7aWYodD1TKGUpKXJldHVybiB0O2U9W2VdfXJldHVybiBfKGUpfWZ1bmN0aW9uIE8oZSx0KXt2YXIgbj1lLnRvTG93ZXJDYXNlKCk7ZW9bbl09ZW9bbisicyJdPWVvW3RdPWV9ZnVuY3Rpb24gayhlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/ZW9bZV18fGVvW2UudG9Mb3dlckNhc2UoKV06dm9pZCAwfWZ1bmN0aW9uIEgoZSl7dmFyIHQsbixvPXt9O2ZvcihuIGluIGUpYShlLG4pJiYodD1rKG4pLHQmJihvW3RdPWVbbl0pKTtyZXR1cm4gb31mdW5jdGlvbiBEKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRnVuY3Rpb258fCJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24geCh0LG4pe3JldHVybiBmdW5jdGlvbihvKXtyZXR1cm4gbnVsbCE9bz8oUCh0aGlzLHQsbyksZS51cGRhdGVPZmZzZXQodGhpcyxuKSx0aGlzKTpBKHRoaXMsdCl9fWZ1bmN0aW9uIEEoZSx0KXtyZXR1cm4gZS5pc1ZhbGlkKCk/ZS5fZFsiZ2V0IisoZS5faXNVVEM/IlVUQyI6IiIpK3RdKCk6TmFOfWZ1bmN0aW9uIFAoZSx0LG4pe2UuaXNWYWxpZCgpJiZlLl9kWyJzZXQiKyhlLl9pc1VUQz8iVVRDIjoiIikrdF0obil9ZnVuY3Rpb24gTihlLHQpe3ZhciBuO2lmKCJvYmplY3QiPT10eXBlb2YgZSlmb3IobiBpbiBlKXRoaXMuc2V0KG4sZVtuXSk7ZWxzZSBpZihlPWsoZSksRCh0aGlzW2VdKSlyZXR1cm4gdGhpc1tlXSh0KTtyZXR1cm4gdGhpc31mdW5jdGlvbiBMKGUsdCxuKXt2YXIgbz0iIitNYXRoLmFicyhlKSxyPXQtby5sZW5ndGgsaT1lPj0wO3JldHVybihpP24/IisiOiIiOiItIikrTWF0aC5wb3coMTAsTWF0aC5tYXgoMCxyKSkudG9TdHJpbmcoKS5zdWJzdHIoMSkrb31mdW5jdGlvbiBXKGUsdCxuLG8pe3ZhciByPW87InN0cmluZyI9PXR5cGVvZiBvJiYocj1mdW5jdGlvbigpe3JldHVybiB0aGlzW29dKCl9KSxlJiYocm9bZV09ciksdCYmKHJvW3RbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIEwoci5hcHBseSh0aGlzLGFyZ3VtZW50cyksdFsxXSx0WzJdKX0pLG4mJihyb1tuXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5vcmRpbmFsKHIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUpfSl9ZnVuY3Rpb24gSShlKXtyZXR1cm4gZS5tYXRjaCgvXFtbXHNcU10vKT9lLnJlcGxhY2UoL15cW3xcXSQvZywiIik6ZS5yZXBsYWNlKC9cXC9nLCIiKX1mdW5jdGlvbiBqKGUpe3ZhciB0LG4sbz1lLm1hdGNoKHRvKTtmb3IodD0wLG49by5sZW5ndGg7bj50O3QrKylyb1tvW3RdXT9vW3RdPXJvW29bdF1dOm9bdF09SShvW3RdKTtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIGk9IiI7Zm9yKHQ9MDtuPnQ7dCsrKWkrPW9bdF1pbnN0YW5jZW9mIEZ1bmN0aW9uP29bdF0uY2FsbChyLGUpOm9bdF07cmV0dXJuIGl9fWZ1bmN0aW9uIFYoZSx0KXtyZXR1cm4gZS5pc1ZhbGlkKCk/KHQ9Qih0LGUubG9jYWxlRGF0YSgpKSxvb1t0XT1vb1t0XXx8aih0KSxvb1t0XShlKSk6ZS5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKX1mdW5jdGlvbiBCKGUsdCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gdC5sb25nRGF0ZUZvcm1hdChlKXx8ZX12YXIgbz01O2Zvcihuby5sYXN0SW5kZXg9MDtvPj0wJiZuby50ZXN0KGUpOyllPWUucmVwbGFjZShubyxuKSxuby5sYXN0SW5kZXg9MCxvLT0xO3JldHVybiBlfWZ1bmN0aW9uIEYoZSx0LG4pe19vW2VdPUQodCk/dDpmdW5jdGlvbihlLG8pe3JldHVybiBlJiZuP246dH19ZnVuY3Rpb24geihlLHQpe3JldHVybiBhKF9vLGUpP19vW2VdKHQuX3N0cmljdCx0Ll9sb2NhbGUpOm5ldyBSZWdFeHAoWShlKSl9ZnVuY3Rpb24gWShlKXtyZXR1cm4gVShlLnJlcGxhY2UoIlxcIiwiIikucmVwbGFjZSgvXFwoXFspfFxcKFxdKXxcWyhbXlxdXFtdKilcXXxcXCguKS9nLGZ1bmN0aW9uKGUsdCxuLG8scil7cmV0dXJuIHR8fG58fG98fHJ9KSl9ZnVuY3Rpb24gVShlKXtyZXR1cm4gZS5yZXBsYWNlKC9bLVwvXFxeJCorPy4oKXxbXF17fV0vZywiXFwkJiIpfWZ1bmN0aW9uIEcoZSx0KXt2YXIgbixvPXQ7Zm9yKCJzdHJpbmciPT10eXBlb2YgZSYmKGU9W2VdKSwibnVtYmVyIj09dHlwZW9mIHQmJihvPWZ1bmN0aW9uKGUsbil7blt0XT15KGUpfSksbj0wO248ZS5sZW5ndGg7bisrKVNvW2Vbbl1dPW99ZnVuY3Rpb24gJChlLHQpe0coZSxmdW5jdGlvbihlLG4sbyxyKXtvLl93PW8uX3d8fHt9LHQoZSxvLl93LG8scil9KX1mdW5jdGlvbiBLKGUsdCxuKXtudWxsIT10JiZhKFNvLGUpJiZTb1tlXSh0LG4uX2EsbixlKX1mdW5jdGlvbiBYKGUsdCl7cmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKGUsdCsxLDApKS5nZXRVVENEYXRlKCl9ZnVuY3Rpb24gcShlLHQpe3JldHVybiByKHRoaXMuX21vbnRocyk/dGhpcy5fbW9udGhzW2UubW9udGgoKV06dGhpcy5fbW9udGhzW1BvLnRlc3QodCk/ImZvcm1hdCI6InN0YW5kYWxvbmUiXVtlLm1vbnRoKCldfWZ1bmN0aW9uIFooZSx0KXtyZXR1cm4gcih0aGlzLl9tb250aHNTaG9ydCk/dGhpcy5fbW9udGhzU2hvcnRbZS5tb250aCgpXTp0aGlzLl9tb250aHNTaG9ydFtQby50ZXN0KHQpPyJmb3JtYXQiOiJzdGFuZGFsb25lIl1bZS5tb250aCgpXX1mdW5jdGlvbiBKKGUsdCxuKXt2YXIgbyxyLGk7Zm9yKHRoaXMuX21vbnRoc1BhcnNlfHwodGhpcy5fbW9udGhzUGFyc2U9W10sdGhpcy5fbG9uZ01vbnRoc1BhcnNlPVtdLHRoaXMuX3Nob3J0TW9udGhzUGFyc2U9W10pLG89MDsxMj5vO28rKyl7aWYocj11KFsyZTMsb10pLG4mJiF0aGlzLl9sb25nTW9udGhzUGFyc2Vbb10mJih0aGlzLl9sb25nTW9udGhzUGFyc2Vbb109bmV3IFJlZ0V4cCgiXiIrdGhpcy5tb250aHMociwiIikucmVwbGFjZSgiLiIsIiIpKyIkIiwiaSIpLHRoaXMuX3Nob3J0TW9udGhzUGFyc2Vbb109bmV3IFJlZ0V4cCgiXiIrdGhpcy5tb250aHNTaG9ydChyLCIiKS5yZXBsYWNlKCIuIiwiIikrIiQiLCJpIikpLG58fHRoaXMuX21vbnRoc1BhcnNlW29dfHwoaT0iXiIrdGhpcy5tb250aHMociwiIikrInxeIit0aGlzLm1vbnRoc1Nob3J0KHIsIiIpLHRoaXMuX21vbnRoc1BhcnNlW29dPW5ldyBSZWdFeHAoaS5yZXBsYWNlKCIuIiwiIiksImkiKSksbiYmIk1NTU0iPT09dCYmdGhpcy5fbG9uZ01vbnRoc1BhcnNlW29dLnRlc3QoZSkpcmV0dXJuIG87aWYobiYmIk1NTSI9PT10JiZ0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW29dLnRlc3QoZSkpcmV0dXJuIG87aWYoIW4mJnRoaXMuX21vbnRoc1BhcnNlW29dLnRlc3QoZSkpcmV0dXJuIG99fWZ1bmN0aW9uIFEoZSx0KXt2YXIgbjtyZXR1cm4gZS5pc1ZhbGlkKCk/InN0cmluZyI9PXR5cGVvZiB0JiYodD1lLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh0KSwibnVtYmVyIiE9dHlwZW9mIHQpP2U6KG49TWF0aC5taW4oZS5kYXRlKCksWChlLnllYXIoKSx0KSksZS5fZFsic2V0IisoZS5faXNVVEM/IlVUQyI6IiIpKyJNb250aCJdKHQsbiksZSk6ZX1mdW5jdGlvbiBlZSh0KXtyZXR1cm4gbnVsbCE9dD8oUSh0aGlzLHQpLGUudXBkYXRlT2Zmc2V0KHRoaXMsITApLHRoaXMpOkEodGhpcywiTW9udGgiKX1mdW5jdGlvbiB0ZSgpe3JldHVybiBYKHRoaXMueWVhcigpLHRoaXMubW9udGgoKSl9ZnVuY3Rpb24gbmUoZSl7cmV0dXJuIHRoaXMuX21vbnRoc1BhcnNlRXhhY3Q/KGEodGhpcywiX21vbnRoc1JlZ2V4Iil8fHJlLmNhbGwodGhpcyksZT90aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4OnRoaXMuX21vbnRoc1Nob3J0UmVnZXgpOnRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXgmJmU/dGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleDp0aGlzLl9tb250aHNTaG9ydFJlZ2V4fWZ1bmN0aW9uIG9lKGUpe3JldHVybiB0aGlzLl9tb250aHNQYXJzZUV4YWN0PyhhKHRoaXMsIl9tb250aHNSZWdleCIpfHxyZS5jYWxsKHRoaXMpLGU/dGhpcy5fbW9udGhzU3RyaWN0UmVnZXg6dGhpcy5fbW9udGhzUmVnZXgpOnRoaXMuX21vbnRoc1N0cmljdFJlZ2V4JiZlP3RoaXMuX21vbnRoc1N0cmljdFJlZ2V4OnRoaXMuX21vbnRoc1JlZ2V4fWZ1bmN0aW9uIHJlKCl7ZnVuY3Rpb24gZShlLHQpe3JldHVybiB0Lmxlbmd0aC1lLmxlbmd0aH12YXIgdCxuLG89W10scj1bXSxpPVtdO2Zvcih0PTA7MTI+dDt0Kyspbj11KFsyZTMsdF0pLG8ucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG4sIiIpKSxyLnB1c2godGhpcy5tb250aHMobiwiIikpLGkucHVzaCh0aGlzLm1vbnRocyhuLCIiKSksaS5wdXNoKHRoaXMubW9udGhzU2hvcnQobiwiIikpO2ZvcihvLnNvcnQoZSksci5zb3J0KGUpLGkuc29ydChlKSx0PTA7MTI+dDt0Kyspb1t0XT1VKG9bdF0pLHJbdF09VShyW3RdKSxpW3RdPVUoaVt0XSk7dGhpcy5fbW9udGhzUmVnZXg9bmV3IFJlZ0V4cCgiXigiK2kuam9pbigifCIpKyIpIiwiaSIpLHRoaXMuX21vbnRoc1Nob3J0UmVnZXg9dGhpcy5fbW9udGhzUmVnZXgsdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg9bmV3IFJlZ0V4cCgiXigiK3Iuam9pbigifCIpKyIpJCIsImkiKSx0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4PW5ldyBSZWdFeHAoIl4oIitvLmpvaW4oInwiKSsiKSQiLCJpIil9ZnVuY3Rpb24gaWUoZSl7dmFyIHQsbj1lLl9hO3JldHVybiBuJiYtMj09PWQoZSkub3ZlcmZsb3cmJih0PW5bVG9dPDB8fG5bVG9dPjExP1RvOm5bTW9dPDF8fG5bTW9dPlgobltFb10sbltUb10pP01vOm5bT29dPDB8fG5bT29dPjI0fHwyND09PW5bT29dJiYoMCE9PW5ba29dfHwwIT09bltIb118fDAhPT1uW0RvXSk/T286bltrb108MHx8bltrb10+NTk/a286bltIb108MHx8bltIb10+NTk/SG86bltEb108MHx8bltEb10+OTk5P0RvOi0xLGQoZSkuX292ZXJmbG93RGF5T2ZZZWFyJiYoRW8+dHx8dD5NbykmJih0PU1vKSxkKGUpLl9vdmVyZmxvd1dlZWtzJiYtMT09PXQmJih0PXhvKSxkKGUpLl9vdmVyZmxvd1dlZWtkYXkmJi0xPT09dCYmKHQ9QW8pLGQoZSkub3ZlcmZsb3c9dCksZX1mdW5jdGlvbiBzZSh0KXtlLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncz09PSExJiYidW5kZWZpbmVkIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKCJEZXByZWNhdGlvbiB3YXJuaW5nOiAiK3QpfWZ1bmN0aW9uIGFlKGUsdCl7dmFyIG49ITA7cmV0dXJuIGwoZnVuY3Rpb24oKXtyZXR1cm4gbiYmKHNlKGUrIlxuQXJndW1lbnRzOiAiK0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbigiLCAiKSsiXG4iKyhuZXcgRXJyb3IpLnN0YWNrKSxuPSExKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdCl9ZnVuY3Rpb24gbGUoZSx0KXtqb1tlXXx8KHNlKHQpLGpvW2VdPSEwKX1mdW5jdGlvbiB1ZShlKXt2YXIgdCxuLG8scixpLHMsYT1lLl9pLGw9Vm8uZXhlYyhhKXx8Qm8uZXhlYyhhKTtpZihsKXtmb3IoZChlKS5pc289ITAsdD0wLG49em8ubGVuZ3RoO24+dDt0KyspaWYoem9bdF1bMV0uZXhlYyhsWzFdKSl7cj16b1t0XVswXSxvPXpvW3RdWzJdIT09ITE7YnJlYWt9aWYobnVsbD09cilyZXR1cm4gdm9pZChlLl9pc1ZhbGlkPSExKTtpZihsWzNdKXtmb3IodD0wLG49WW8ubGVuZ3RoO24+dDt0KyspaWYoWW9bdF1bMV0uZXhlYyhsWzNdKSl7aT0obFsyXXx8IiAiKStZb1t0XVswXTticmVha31pZihudWxsPT1pKXJldHVybiB2b2lkKGUuX2lzVmFsaWQ9ITEpfWlmKCFvJiZudWxsIT1pKXJldHVybiB2b2lkKGUuX2lzVmFsaWQ9ITEpO2lmKGxbNF0pe2lmKCFGby5leGVjKGxbNF0pKXJldHVybiB2b2lkKGUuX2lzVmFsaWQ9ITEpO3M9IloifWUuX2Y9cisoaXx8IiIpKyhzfHwiIiksU2UoZSl9ZWxzZSBlLl9pc1ZhbGlkPSExfWZ1bmN0aW9uIGNlKHQpe3ZhciBuPVVvLmV4ZWModC5faSk7cmV0dXJuIG51bGwhPT1uP3ZvaWQodC5fZD1uZXcgRGF0ZSgrblsxXSkpOih1ZSh0KSx2b2lkKHQuX2lzVmFsaWQ9PT0hMSYmKGRlbGV0ZSB0Ll9pc1ZhbGlkLGUuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sodCkpKSl9ZnVuY3Rpb24gZGUoZSx0LG4sbyxyLGkscyl7dmFyIGE9bmV3IERhdGUoZSx0LG4sbyxyLGkscyk7cmV0dXJuIDEwMD5lJiZlPj0wJiZpc0Zpbml0ZShhLmdldEZ1bGxZZWFyKCkpJiZhLnNldEZ1bGxZZWFyKGUpLAphfWZ1bmN0aW9uIGhlKGUpe3ZhciB0PW5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsYXJndW1lbnRzKSk7cmV0dXJuIDEwMD5lJiZlPj0wJiZpc0Zpbml0ZSh0LmdldFVUQ0Z1bGxZZWFyKCkpJiZ0LnNldFVUQ0Z1bGxZZWFyKGUpLHR9ZnVuY3Rpb24gZmUoZSl7cmV0dXJuIHBlKGUpPzM2NjozNjV9ZnVuY3Rpb24gcGUoZSl7cmV0dXJuIGUlND09PTAmJmUlMTAwIT09MHx8ZSU0MDA9PT0wfWZ1bmN0aW9uIGdlKCl7cmV0dXJuIHBlKHRoaXMueWVhcigpKX1mdW5jdGlvbiBtZShlLHQsbil7dmFyIG89Nyt0LW4scj0oNytoZShlLDAsbykuZ2V0VVRDRGF5KCktdCklNztyZXR1cm4tcitvLTF9ZnVuY3Rpb24gdmUoZSx0LG4sbyxyKXt2YXIgaSxzLGE9KDcrbi1vKSU3LGw9bWUoZSxvLHIpLHU9MSs3Kih0LTEpK2ErbDtyZXR1cm4gMD49dT8oaT1lLTEscz1mZShpKSt1KTp1PmZlKGUpPyhpPWUrMSxzPXUtZmUoZSkpOihpPWUscz11KSx7eWVhcjppLGRheU9mWWVhcjpzfX1mdW5jdGlvbiB3ZShlLHQsbil7dmFyIG8scixpPW1lKGUueWVhcigpLHQsbikscz1NYXRoLmZsb29yKChlLmRheU9mWWVhcigpLWktMSkvNykrMTtyZXR1cm4gMT5zPyhyPWUueWVhcigpLTEsbz1zK3llKHIsdCxuKSk6cz55ZShlLnllYXIoKSx0LG4pPyhvPXMteWUoZS55ZWFyKCksdCxuKSxyPWUueWVhcigpKzEpOihyPWUueWVhcigpLG89cykse3dlZWs6byx5ZWFyOnJ9fWZ1bmN0aW9uIHllKGUsdCxuKXt2YXIgbz1tZShlLHQsbikscj1tZShlKzEsdCxuKTtyZXR1cm4oZmUoZSktbytyKS83fWZ1bmN0aW9uIGJlKGUsdCxuKXtyZXR1cm4gbnVsbCE9ZT9lOm51bGwhPXQ/dDpufWZ1bmN0aW9uIENlKHQpe3ZhciBuPW5ldyBEYXRlKGUubm93KCkpO3JldHVybiB0Ll91c2VVVEM/W24uZ2V0VVRDRnVsbFllYXIoKSxuLmdldFVUQ01vbnRoKCksbi5nZXRVVENEYXRlKCldOltuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpLG4uZ2V0RGF0ZSgpXX1mdW5jdGlvbiBSZShlKXt2YXIgdCxuLG8scixpPVtdO2lmKCFlLl9kKXtmb3Iobz1DZShlKSxlLl93JiZudWxsPT1lLl9hW01vXSYmbnVsbD09ZS5fYVtUb10mJl9lKGUpLGUuX2RheU9mWWVhciYmKHI9YmUoZS5fYVtFb10sb1tFb10pLGUuX2RheU9mWWVhcj5mZShyKSYmKGQoZSkuX292ZXJmbG93RGF5T2ZZZWFyPSEwKSxuPWhlKHIsMCxlLl9kYXlPZlllYXIpLGUuX2FbVG9dPW4uZ2V0VVRDTW9udGgoKSxlLl9hW01vXT1uLmdldFVUQ0RhdGUoKSksdD0wOzM+dCYmbnVsbD09ZS5fYVt0XTsrK3QpZS5fYVt0XT1pW3RdPW9bdF07Zm9yKDs3PnQ7dCsrKWUuX2FbdF09aVt0XT1udWxsPT1lLl9hW3RdPzI9PT10PzE6MDplLl9hW3RdOzI0PT09ZS5fYVtPb10mJjA9PT1lLl9hW2tvXSYmMD09PWUuX2FbSG9dJiYwPT09ZS5fYVtEb10mJihlLl9uZXh0RGF5PSEwLGUuX2FbT29dPTApLGUuX2Q9KGUuX3VzZVVUQz9oZTpkZSkuYXBwbHkobnVsbCxpKSxudWxsIT1lLl90em0mJmUuX2Quc2V0VVRDTWludXRlcyhlLl9kLmdldFVUQ01pbnV0ZXMoKS1lLl90em0pLGUuX25leHREYXkmJihlLl9hW09vXT0yNCl9fWZ1bmN0aW9uIF9lKGUpe3ZhciB0LG4sbyxyLGkscyxhLGw7dD1lLl93LG51bGwhPXQuR0d8fG51bGwhPXQuV3x8bnVsbCE9dC5FPyhpPTEscz00LG49YmUodC5HRyxlLl9hW0VvXSx3ZSh4ZSgpLDEsNCkueWVhciksbz1iZSh0LlcsMSkscj1iZSh0LkUsMSksKDE+cnx8cj43KSYmKGw9ITApKTooaT1lLl9sb2NhbGUuX3dlZWsuZG93LHM9ZS5fbG9jYWxlLl93ZWVrLmRveSxuPWJlKHQuZ2csZS5fYVtFb10sd2UoeGUoKSxpLHMpLnllYXIpLG89YmUodC53LDEpLG51bGwhPXQuZD8ocj10LmQsKDA+cnx8cj42KSYmKGw9ITApKTpudWxsIT10LmU/KHI9dC5lK2ksKHQuZTwwfHx0LmU+NikmJihsPSEwKSk6cj1pKSwxPm98fG8+eWUobixpLHMpP2QoZSkuX292ZXJmbG93V2Vla3M9ITA6bnVsbCE9bD9kKGUpLl9vdmVyZmxvd1dlZWtkYXk9ITA6KGE9dmUobixvLHIsaSxzKSxlLl9hW0VvXT1hLnllYXIsZS5fZGF5T2ZZZWFyPWEuZGF5T2ZZZWFyKX1mdW5jdGlvbiBTZSh0KXtpZih0Ll9mPT09ZS5JU09fODYwMSlyZXR1cm4gdm9pZCB1ZSh0KTt0Ll9hPVtdLGQodCkuZW1wdHk9ITA7dmFyIG4sbyxyLGkscyxhPSIiK3QuX2ksbD1hLmxlbmd0aCx1PTA7Zm9yKHI9Qih0Ll9mLHQuX2xvY2FsZSkubWF0Y2godG8pfHxbXSxuPTA7bjxyLmxlbmd0aDtuKyspaT1yW25dLG89KGEubWF0Y2goeihpLHQpKXx8W10pWzBdLG8mJihzPWEuc3Vic3RyKDAsYS5pbmRleE9mKG8pKSxzLmxlbmd0aD4wJiZkKHQpLnVudXNlZElucHV0LnB1c2gocyksYT1hLnNsaWNlKGEuaW5kZXhPZihvKStvLmxlbmd0aCksdSs9by5sZW5ndGgpLHJvW2ldPyhvP2QodCkuZW1wdHk9ITE6ZCh0KS51bnVzZWRUb2tlbnMucHVzaChpKSxLKGksbyx0KSk6dC5fc3RyaWN0JiYhbyYmZCh0KS51bnVzZWRUb2tlbnMucHVzaChpKTtkKHQpLmNoYXJzTGVmdE92ZXI9bC11LGEubGVuZ3RoPjAmJmQodCkudW51c2VkSW5wdXQucHVzaChhKSxkKHQpLmJpZ0hvdXI9PT0hMCYmdC5fYVtPb108PTEyJiZ0Ll9hW09vXT4wJiYoZCh0KS5iaWdIb3VyPXZvaWQgMCksdC5fYVtPb109RWUodC5fbG9jYWxlLHQuX2FbT29dLHQuX21lcmlkaWVtKSxSZSh0KSxpZSh0KX1mdW5jdGlvbiBFZShlLHQsbil7dmFyIG87cmV0dXJuIG51bGw9PW4/dDpudWxsIT1lLm1lcmlkaWVtSG91cj9lLm1lcmlkaWVtSG91cih0LG4pOm51bGwhPWUuaXNQTT8obz1lLmlzUE0obiksbyYmMTI+dCYmKHQrPTEyKSxvfHwxMiE9PXR8fCh0PTApLHQpOnR9ZnVuY3Rpb24gVGUoZSl7dmFyIHQsbixvLHIsaTtpZigwPT09ZS5fZi5sZW5ndGgpcmV0dXJuIGQoZSkuaW52YWxpZEZvcm1hdD0hMCx2b2lkKGUuX2Q9bmV3IERhdGUoTmFOKSk7Zm9yKHI9MDtyPGUuX2YubGVuZ3RoO3IrKylpPTAsdD1nKHt9LGUpLG51bGwhPWUuX3VzZVVUQyYmKHQuX3VzZVVUQz1lLl91c2VVVEMpLHQuX2Y9ZS5fZltyXSxTZSh0KSxoKHQpJiYoaSs9ZCh0KS5jaGFyc0xlZnRPdmVyLGkrPTEwKmQodCkudW51c2VkVG9rZW5zLmxlbmd0aCxkKHQpLnNjb3JlPWksKG51bGw9PW98fG8+aSkmJihvPWksbj10KSk7bChlLG58fHQpfWZ1bmN0aW9uIE1lKGUpe2lmKCFlLl9kKXt2YXIgdD1IKGUuX2kpO2UuX2E9cyhbdC55ZWFyLHQubW9udGgsdC5kYXl8fHQuZGF0ZSx0LmhvdXIsdC5taW51dGUsdC5zZWNvbmQsdC5taWxsaXNlY29uZF0sZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnBhcnNlSW50KGUsMTApfSksUmUoZSl9fWZ1bmN0aW9uIE9lKGUpe3ZhciB0PW5ldyBtKGllKGtlKGUpKSk7cmV0dXJuIHQuX25leHREYXkmJih0LmFkZCgxLCJkIiksdC5fbmV4dERheT12b2lkIDApLHR9ZnVuY3Rpb24ga2UoZSl7dmFyIHQ9ZS5faSxuPWUuX2Y7cmV0dXJuIGUuX2xvY2FsZT1lLl9sb2NhbGV8fE0oZS5fbCksbnVsbD09PXR8fHZvaWQgMD09PW4mJiIiPT09dD9mKHtudWxsSW5wdXQ6ITB9KTooInN0cmluZyI9PXR5cGVvZiB0JiYoZS5faT10PWUuX2xvY2FsZS5wcmVwYXJzZSh0KSksdih0KT9uZXcgbShpZSh0KSk6KHIobik/VGUoZSk6bj9TZShlKTppKHQpP2UuX2Q9dDpIZShlKSxoKGUpfHwoZS5fZD1udWxsKSxlKSl9ZnVuY3Rpb24gSGUodCl7dmFyIG49dC5faTt2b2lkIDA9PT1uP3QuX2Q9bmV3IERhdGUoZS5ub3coKSk6aShuKT90Ll9kPW5ldyBEYXRlKCtuKToic3RyaW5nIj09dHlwZW9mIG4/Y2UodCk6cihuKT8odC5fYT1zKG4uc2xpY2UoMCksZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTApfSksUmUodCkpOiJvYmplY3QiPT10eXBlb2Ygbj9NZSh0KToibnVtYmVyIj09dHlwZW9mIG4/dC5fZD1uZXcgRGF0ZShuKTplLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKHQpfWZ1bmN0aW9uIERlKGUsdCxuLG8scil7dmFyIGk9e307cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgbiYmKG89bixuPXZvaWQgMCksaS5faXNBTW9tZW50T2JqZWN0PSEwLGkuX3VzZVVUQz1pLl9pc1VUQz1yLGkuX2w9bixpLl9pPWUsaS5fZj10LGkuX3N0cmljdD1vLE9lKGkpfWZ1bmN0aW9uIHhlKGUsdCxuLG8pe3JldHVybiBEZShlLHQsbixvLCExKX1mdW5jdGlvbiBBZShlLHQpe3ZhciBuLG87aWYoMT09PXQubGVuZ3RoJiZyKHRbMF0pJiYodD10WzBdKSwhdC5sZW5ndGgpcmV0dXJuIHhlKCk7Zm9yKG49dFswXSxvPTE7bzx0Lmxlbmd0aDsrK28pKCF0W29dLmlzVmFsaWQoKXx8dFtvXVtlXShuKSkmJihuPXRbb10pO3JldHVybiBufWZ1bmN0aW9uIFBlKCl7dmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIEFlKCJpc0JlZm9yZSIsZSl9ZnVuY3Rpb24gTmUoKXt2YXIgZT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gQWUoImlzQWZ0ZXIiLGUpfWZ1bmN0aW9uIExlKGUpe3ZhciB0PUgoZSksbj10LnllYXJ8fDAsbz10LnF1YXJ0ZXJ8fDAscj10Lm1vbnRofHwwLGk9dC53ZWVrfHwwLHM9dC5kYXl8fDAsYT10LmhvdXJ8fDAsbD10Lm1pbnV0ZXx8MCx1PXQuc2Vjb25kfHwwLGM9dC5taWxsaXNlY29uZHx8MDt0aGlzLl9taWxsaXNlY29uZHM9K2MrMWUzKnUrNmU0KmwrMzZlNSphLHRoaXMuX2RheXM9K3MrNyppLHRoaXMuX21vbnRocz0rciszKm8rMTIqbix0aGlzLl9kYXRhPXt9LHRoaXMuX2xvY2FsZT1NKCksdGhpcy5fYnViYmxlKCl9ZnVuY3Rpb24gV2UoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBMZX1mdW5jdGlvbiBJZShlLHQpe1coZSwwLDAsZnVuY3Rpb24oKXt2YXIgZT10aGlzLnV0Y09mZnNldCgpLG49IisiO3JldHVybiAwPmUmJihlPS1lLG49Ii0iKSxuK0wofn4oZS82MCksMikrdCtMKH5+ZSU2MCwyKX0pfWZ1bmN0aW9uIGplKGUsdCl7dmFyIG49KHR8fCIiKS5tYXRjaChlKXx8W10sbz1uW24ubGVuZ3RoLTFdfHxbXSxyPShvKyIiKS5tYXRjaChxbyl8fFsiLSIsMCwwXSxpPSsoNjAqclsxXSkreShyWzJdKTtyZXR1cm4iKyI9PT1yWzBdP2k6LWl9ZnVuY3Rpb24gVmUodCxuKXt2YXIgbyxyO3JldHVybiBuLl9pc1VUQz8obz1uLmNsb25lKCkscj0odih0KXx8aSh0KT8rdDoreGUodCkpLStvLG8uX2Quc2V0VGltZSgrby5fZCtyKSxlLnVwZGF0ZU9mZnNldChvLCExKSxvKTp4ZSh0KS5sb2NhbCgpfWZ1bmN0aW9uIEJlKGUpe3JldHVybiAxNSotTWF0aC5yb3VuZChlLl9kLmdldFRpbWV6b25lT2Zmc2V0KCkvMTUpfWZ1bmN0aW9uIEZlKHQsbil7dmFyIG8scj10aGlzLl9vZmZzZXR8fDA7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP251bGwhPXQ/KCJzdHJpbmciPT10eXBlb2YgdD90PWplKGJvLHQpOk1hdGguYWJzKHQpPDE2JiYodD02MCp0KSwhdGhpcy5faXNVVEMmJm4mJihvPUJlKHRoaXMpKSx0aGlzLl9vZmZzZXQ9dCx0aGlzLl9pc1VUQz0hMCxudWxsIT1vJiZ0aGlzLmFkZChvLCJtIiksciE9PXQmJighbnx8dGhpcy5fY2hhbmdlSW5Qcm9ncmVzcz9ydCh0aGlzLFFlKHQtciwibSIpLDEsITEpOnRoaXMuX2NoYW5nZUluUHJvZ3Jlc3N8fCh0aGlzLl9jaGFuZ2VJblByb2dyZXNzPSEwLGUudXBkYXRlT2Zmc2V0KHRoaXMsITApLHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3M9bnVsbCkpLHRoaXMpOnRoaXMuX2lzVVRDP3I6QmUodGhpcyk6bnVsbCE9dD90aGlzOk5hTn1mdW5jdGlvbiB6ZShlLHQpe3JldHVybiBudWxsIT1lPygic3RyaW5nIiE9dHlwZW9mIGUmJihlPS1lKSx0aGlzLnV0Y09mZnNldChlLHQpLHRoaXMpOi10aGlzLnV0Y09mZnNldCgpfWZ1bmN0aW9uIFllKGUpe3JldHVybiB0aGlzLnV0Y09mZnNldCgwLGUpfWZ1bmN0aW9uIFVlKGUpe3JldHVybiB0aGlzLl9pc1VUQyYmKHRoaXMudXRjT2Zmc2V0KDAsZSksdGhpcy5faXNVVEM9ITEsZSYmdGhpcy5zdWJ0cmFjdChCZSh0aGlzKSwibSIpKSx0aGlzfWZ1bmN0aW9uIEdlKCl7cmV0dXJuIHRoaXMuX3R6bT90aGlzLnV0Y09mZnNldCh0aGlzLl90em0pOiJzdHJpbmciPT10eXBlb2YgdGhpcy5faSYmdGhpcy51dGNPZmZzZXQoamUoeW8sdGhpcy5faSkpLHRoaXN9ZnVuY3Rpb24gJGUoZSl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpPyhlPWU/eGUoZSkudXRjT2Zmc2V0KCk6MCwodGhpcy51dGNPZmZzZXQoKS1lKSU2MD09PTApOiExfWZ1bmN0aW9uIEtlKCl7cmV0dXJuIHRoaXMudXRjT2Zmc2V0KCk+dGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpfHx0aGlzLnV0Y09mZnNldCgpPnRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKX1mdW5jdGlvbiBYZSgpe2lmKCFwKHRoaXMuX2lzRFNUU2hpZnRlZCkpcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDt2YXIgZT17fTtpZihnKGUsdGhpcyksZT1rZShlKSxlLl9hKXt2YXIgdD1lLl9pc1VUQz91KGUuX2EpOnhlKGUuX2EpO3RoaXMuX2lzRFNUU2hpZnRlZD10aGlzLmlzVmFsaWQoKSYmYihlLl9hLHQudG9BcnJheSgpKT4wfWVsc2UgdGhpcy5faXNEU1RTaGlmdGVkPSExO3JldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWR9ZnVuY3Rpb24gcWUoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/IXRoaXMuX2lzVVRDOiExfWZ1bmN0aW9uIFplKCl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP3RoaXMuX2lzVVRDOiExfWZ1bmN0aW9uIEplKCl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP3RoaXMuX2lzVVRDJiYwPT09dGhpcy5fb2Zmc2V0OiExfWZ1bmN0aW9uIFFlKGUsdCl7dmFyIG4sbyxyLGk9ZSxzPW51bGw7cmV0dXJuIFdlKGUpP2k9e21zOmUuX21pbGxpc2Vjb25kcyxkOmUuX2RheXMsTTplLl9tb250aHN9OiJudW1iZXIiPT10eXBlb2YgZT8oaT17fSx0P2lbdF09ZTppLm1pbGxpc2Vjb25kcz1lKToocz1aby5leGVjKGUpKT8obj0iLSI9PT1zWzFdPy0xOjEsaT17eTowLGQ6eShzW01vXSkqbixoOnkoc1tPb10pKm4sbTp5KHNba29dKSpuLHM6eShzW0hvXSkqbixtczp5KHNbRG9dKSpufSk6KHM9Sm8uZXhlYyhlKSk/KG49Ii0iPT09c1sxXT8tMToxLGk9e3k6ZXQoc1syXSxuKSxNOmV0KHNbM10sbiksZDpldChzWzRdLG4pLGg6ZXQoc1s1XSxuKSxtOmV0KHNbNl0sbiksczpldChzWzddLG4pLHc6ZXQoc1s4XSxuKX0pOm51bGw9PWk/aT17fToib2JqZWN0Ij09dHlwZW9mIGkmJigiZnJvbSJpbiBpfHwidG8iaW4gaSkmJihyPW50KHhlKGkuZnJvbSkseGUoaS50bykpLGk9e30saS5tcz1yLm1pbGxpc2Vjb25kcyxpLk09ci5tb250aHMpLG89bmV3IExlKGkpLFdlKGUpJiZhKGUsIl9sb2NhbGUiKSYmKG8uX2xvY2FsZT1lLl9sb2NhbGUpLG99ZnVuY3Rpb24gZXQoZSx0KXt2YXIgbj1lJiZwYXJzZUZsb2F0KGUucmVwbGFjZSgiLCIsIi4iKSk7cmV0dXJuKGlzTmFOKG4pPzA6bikqdH1mdW5jdGlvbiB0dChlLHQpe3ZhciBuPXttaWxsaXNlY29uZHM6MCxtb250aHM6MH07cmV0dXJuIG4ubW9udGhzPXQubW9udGgoKS1lLm1vbnRoKCkrMTIqKHQueWVhcigpLWUueWVhcigpKSxlLmNsb25lKCkuYWRkKG4ubW9udGhzLCJNIikuaXNBZnRlcih0KSYmLS1uLm1vbnRocyxuLm1pbGxpc2Vjb25kcz0rdC0rZS5jbG9uZSgpLmFkZChuLm1vbnRocywiTSIpLG59ZnVuY3Rpb24gbnQoZSx0KXt2YXIgbjtyZXR1cm4gZS5pc1ZhbGlkKCkmJnQuaXNWYWxpZCgpPyh0PVZlKHQsZSksZS5pc0JlZm9yZSh0KT9uPXR0KGUsdCk6KG49dHQodCxlKSxuLm1pbGxpc2Vjb25kcz0tbi5taWxsaXNlY29uZHMsbi5tb250aHM9LW4ubW9udGhzKSxuKTp7bWlsbGlzZWNvbmRzOjAsbW9udGhzOjB9fWZ1bmN0aW9uIG90KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4sbyl7dmFyIHIsaTtyZXR1cm4gbnVsbD09PW98fGlzTmFOKCtvKXx8KGxlKHQsIm1vbWVudCgpLiIrdCsiKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLiIrdCsiKG51bWJlciwgcGVyaW9kKS4iKSxpPW4sbj1vLG89aSksbj0ic3RyaW5nIj09dHlwZW9mIG4/K246bixyPVFlKG4sbykscnQodGhpcyxyLGUpLHRoaXN9fWZ1bmN0aW9uIHJ0KHQsbixvLHIpe3ZhciBpPW4uX21pbGxpc2Vjb25kcyxzPW4uX2RheXMsYT1uLl9tb250aHM7dC5pc1ZhbGlkKCkmJihyPW51bGw9PXI/ITA6cixpJiZ0Ll9kLnNldFRpbWUoK3QuX2QraSpvKSxzJiZQKHQsIkRhdGUiLEEodCwiRGF0ZSIpK3MqbyksYSYmUSh0LEEodCwiTW9udGgiKSthKm8pLHImJmUudXBkYXRlT2Zmc2V0KHQsc3x8YSkpfWZ1bmN0aW9uIGl0KGUsdCl7dmFyIG49ZXx8eGUoKSxvPVZlKG4sdGhpcykuc3RhcnRPZigiZGF5Iikscj10aGlzLmRpZmYobywiZGF5cyIsITApLGk9LTY+cj8ic2FtZUVsc2UiOi0xPnI/Imxhc3RXZWVrIjowPnI/Imxhc3REYXkiOjE+cj8ic2FtZURheSI6Mj5yPyJuZXh0RGF5Ijo3PnI/Im5leHRXZWVrIjoic2FtZUVsc2UiLHM9dCYmKEQodFtpXSk/dFtpXSgpOnRbaV0pO3JldHVybiB0aGlzLmZvcm1hdChzfHx0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihpLHRoaXMseGUobikpKX1mdW5jdGlvbiBzdCgpe3JldHVybiBuZXcgbSh0aGlzKX1mdW5jdGlvbiBhdChlLHQpe3ZhciBuPXYoZSk/ZTp4ZShlKTtyZXR1cm4gdGhpcy5pc1ZhbGlkKCkmJm4uaXNWYWxpZCgpPyh0PWsocCh0KT8ibWlsbGlzZWNvbmQiOnQpLCJtaWxsaXNlY29uZCI9PT10Pyt0aGlzPituOituPCt0aGlzLmNsb25lKCkuc3RhcnRPZih0KSk6ITF9ZnVuY3Rpb24gbHQoZSx0KXt2YXIgbj12KGUpP2U6eGUoZSk7cmV0dXJuIHRoaXMuaXNWYWxpZCgpJiZuLmlzVmFsaWQoKT8odD1rKHAodCk/Im1pbGxpc2Vjb25kIjp0KSwibWlsbGlzZWNvbmQiPT09dD8rbj4rdGhpczordGhpcy5jbG9uZSgpLmVuZE9mKHQpPCtuKTohMX1mdW5jdGlvbiB1dChlLHQsbil7cmV0dXJuIHRoaXMuaXNBZnRlcihlLG4pJiZ0aGlzLmlzQmVmb3JlKHQsbil9ZnVuY3Rpb24gY3QoZSx0KXt2YXIgbixvPXYoZSk/ZTp4ZShlKTtyZXR1cm4gdGhpcy5pc1ZhbGlkKCkmJm8uaXNWYWxpZCgpPyh0PWsodHx8Im1pbGxpc2Vjb25kIiksIm1pbGxpc2Vjb25kIj09PXQ/K3RoaXM9PT0rbzoobj0rbywrdGhpcy5jbG9uZSgpLnN0YXJ0T2YodCk8PW4mJm48PSt0aGlzLmNsb25lKCkuZW5kT2YodCkpKTohMX1mdW5jdGlvbiBkdChlLHQpe3JldHVybiB0aGlzLmlzU2FtZShlLHQpfHx0aGlzLmlzQWZ0ZXIoZSx0KX1mdW5jdGlvbiBodChlLHQpe3JldHVybiB0aGlzLmlzU2FtZShlLHQpfHx0aGlzLmlzQmVmb3JlKGUsdCl9ZnVuY3Rpb24gZnQoZSx0LG4pe3ZhciBvLHIsaSxzO3JldHVybiB0aGlzLmlzVmFsaWQoKT8obz1WZShlLHRoaXMpLG8uaXNWYWxpZCgpPyhyPTZlNCooby51dGNPZmZzZXQoKS10aGlzLnV0Y09mZnNldCgpKSx0PWsodCksInllYXIiPT09dHx8Im1vbnRoIj09PXR8fCJxdWFydGVyIj09PXQ/KHM9cHQodGhpcyxvKSwicXVhcnRlciI9PT10P3MvPTM6InllYXIiPT09dCYmKHMvPTEyKSk6KGk9dGhpcy1vLHM9InNlY29uZCI9PT10P2kvMWUzOiJtaW51dGUiPT09dD9pLzZlNDoiaG91ciI9PT10P2kvMzZlNToiZGF5Ij09PXQ/KGktcikvODY0ZTU6IndlZWsiPT09dD8oaS1yKS82MDQ4ZTU6aSksbj9zOncocykpOk5hTik6TmFOfWZ1bmN0aW9uIHB0KGUsdCl7dmFyIG4sbyxyPTEyKih0LnllYXIoKS1lLnllYXIoKSkrKHQubW9udGgoKS1lLm1vbnRoKCkpLGk9ZS5jbG9uZSgpLmFkZChyLCJtb250aHMiKTtyZXR1cm4gMD50LWk/KG49ZS5jbG9uZSgpLmFkZChyLTEsIm1vbnRocyIpLG89KHQtaSkvKGktbikpOihuPWUuY2xvbmUoKS5hZGQocisxLCJtb250aHMiKSxvPSh0LWkpLyhuLWkpKSwtKHIrbyl9ZnVuY3Rpb24gZ3QoKXtyZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgiZW4iKS5mb3JtYXQoImRkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaIil9ZnVuY3Rpb24gbXQoKXt2YXIgZT10aGlzLmNsb25lKCkudXRjKCk7cmV0dXJuIDA8ZS55ZWFyKCkmJmUueWVhcigpPD05OTk5P0QoRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcpP3RoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTpWKGUsIllZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0iKTpWKGUsIllZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXSIpfWZ1bmN0aW9uIHZ0KHQpe3ZhciBuPVYodGhpcyx0fHxlLmRlZmF1bHRGb3JtYXQpO3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG4pfWZ1bmN0aW9uIHd0KGUsdCl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpJiYodihlKSYmZS5pc1ZhbGlkKCl8fHhlKGUpLmlzVmFsaWQoKSk/UWUoe3RvOnRoaXMsZnJvbTplfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF0KTp0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpfWZ1bmN0aW9uIHl0KGUpe3JldHVybiB0aGlzLmZyb20oeGUoKSxlKX1mdW5jdGlvbiBidChlLHQpe3JldHVybiB0aGlzLmlzVmFsaWQoKSYmKHYoZSkmJmUuaXNWYWxpZCgpfHx4ZShlKS5pc1ZhbGlkKCkpP1FlKHtmcm9tOnRoaXMsdG86ZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghdCk6dGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKX1mdW5jdGlvbiBDdChlKXtyZXR1cm4gdGhpcy50byh4ZSgpLGUpfWZ1bmN0aW9uIFJ0KGUpe3ZhciB0O3JldHVybiB2b2lkIDA9PT1lP3RoaXMuX2xvY2FsZS5fYWJicjoodD1NKGUpLG51bGwhPXQmJih0aGlzLl9sb2NhbGU9dCksdGhpcyl9ZnVuY3Rpb24gX3QoKXtyZXR1cm4gdGhpcy5fbG9jYWxlfWZ1bmN0aW9uIFN0KGUpe3N3aXRjaChlPWsoZSkpe2Nhc2UieWVhciI6dGhpcy5tb250aCgwKTtjYXNlInF1YXJ0ZXIiOmNhc2UibW9udGgiOnRoaXMuZGF0ZSgxKTtjYXNlIndlZWsiOmNhc2UiaXNvV2VlayI6Y2FzZSJkYXkiOnRoaXMuaG91cnMoMCk7Y2FzZSJob3VyIjp0aGlzLm1pbnV0ZXMoMCk7Y2FzZSJtaW51dGUiOnRoaXMuc2Vjb25kcygwKTtjYXNlInNlY29uZCI6dGhpcy5taWxsaXNlY29uZHMoMCl9cmV0dXJuIndlZWsiPT09ZSYmdGhpcy53ZWVrZGF5KDApLCJpc29XZWVrIj09PWUmJnRoaXMuaXNvV2Vla2RheSgxKSwicXVhcnRlciI9PT1lJiZ0aGlzLm1vbnRoKDMqTWF0aC5mbG9vcih0aGlzLm1vbnRoKCkvMykpLHRoaXN9ZnVuY3Rpb24gRXQoZSl7cmV0dXJuIGU9ayhlKSx2b2lkIDA9PT1lfHwibWlsbGlzZWNvbmQiPT09ZT90aGlzOnRoaXMuc3RhcnRPZihlKS5hZGQoMSwiaXNvV2VlayI9PT1lPyJ3ZWVrIjplKS5zdWJ0cmFjdCgxLCJtcyIpfWZ1bmN0aW9uIFR0KCl7cmV0dXJuK3RoaXMuX2QtNmU0Kih0aGlzLl9vZmZzZXR8fDApfWZ1bmN0aW9uIE10KCl7cmV0dXJuIE1hdGguZmxvb3IoK3RoaXMvMWUzKX1mdW5jdGlvbiBPdCgpe3JldHVybiB0aGlzLl9vZmZzZXQ/bmV3IERhdGUoK3RoaXMpOnRoaXMuX2R9ZnVuY3Rpb24ga3QoKXt2YXIgZT10aGlzO3JldHVybltlLnllYXIoKSxlLm1vbnRoKCksZS5kYXRlKCksZS5ob3VyKCksZS5taW51dGUoKSxlLnNlY29uZCgpLGUubWlsbGlzZWNvbmQoKV19ZnVuY3Rpb24gSHQoKXt2YXIgZT10aGlzO3JldHVybnt5ZWFyczplLnllYXIoKSxtb250aHM6ZS5tb250aCgpLGRhdGU6ZS5kYXRlKCksaG91cnM6ZS5ob3VycygpLG1pbnV0ZXM6ZS5taW51dGVzKCksc2Vjb25kczplLnNlY29uZHMoKSxtaWxsaXNlY29uZHM6ZS5taWxsaXNlY29uZHMoKX19ZnVuY3Rpb24gRHQoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/dGhpcy50b0lTT1N0cmluZygpOiJudWxsIn1mdW5jdGlvbiB4dCgpe3JldHVybiBoKHRoaXMpfWZ1bmN0aW9uIEF0KCl7cmV0dXJuIGwoe30sZCh0aGlzKSl9ZnVuY3Rpb24gUHQoKXtyZXR1cm4gZCh0aGlzKS5vdmVyZmxvd31mdW5jdGlvbiBOdCgpe3JldHVybntpbnB1dDp0aGlzLl9pLGZvcm1hdDp0aGlzLl9mLGxvY2FsZTp0aGlzLl9sb2NhbGUsaXNVVEM6dGhpcy5faXNVVEMsc3RyaWN0OnRoaXMuX3N0cmljdH19ZnVuY3Rpb24gTHQoZSx0KXtXKDAsW2UsZS5sZW5ndGhdLDAsdCl9ZnVuY3Rpb24gV3QoZSl7cmV0dXJuIEJ0LmNhbGwodGhpcyxlLHRoaXMud2VlaygpLHRoaXMud2Vla2RheSgpLHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyx0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpfWZ1bmN0aW9uIEl0KGUpe3JldHVybiBCdC5jYWxsKHRoaXMsZSx0aGlzLmlzb1dlZWsoKSx0aGlzLmlzb1dlZWtkYXkoKSwxLDQpfWZ1bmN0aW9uIGp0KCl7cmV0dXJuIHllKHRoaXMueWVhcigpLDEsNCl9ZnVuY3Rpb24gVnQoKXt2YXIgZT10aGlzLmxvY2FsZURhdGEoKS5fd2VlaztyZXR1cm4geWUodGhpcy55ZWFyKCksZS5kb3csZS5kb3kpfWZ1bmN0aW9uIEJ0KGUsdCxuLG8scil7dmFyIGk7cmV0dXJuIG51bGw9PWU/d2UodGhpcyxvLHIpLnllYXI6KGk9eWUoZSxvLHIpLHQ+aSYmKHQ9aSksRnQuY2FsbCh0aGlzLGUsdCxuLG8scikpfWZ1bmN0aW9uIEZ0KGUsdCxuLG8scil7dmFyIGk9dmUoZSx0LG4sbyxyKSxzPWhlKGkueWVhciwwLGkuZGF5T2ZZZWFyKTtyZXR1cm4gdGhpcy55ZWFyKHMuZ2V0VVRDRnVsbFllYXIoKSksdGhpcy5tb250aChzLmdldFVUQ01vbnRoKCkpLHRoaXMuZGF0ZShzLmdldFVUQ0RhdGUoKSksdGhpc31mdW5jdGlvbiB6dChlKXtyZXR1cm4gbnVsbD09ZT9NYXRoLmNlaWwoKHRoaXMubW9udGgoKSsxKS8zKTp0aGlzLm1vbnRoKDMqKGUtMSkrdGhpcy5tb250aCgpJTMpfWZ1bmN0aW9uIFl0KGUpe3JldHVybiB3ZShlLHRoaXMuX3dlZWsuZG93LHRoaXMuX3dlZWsuZG95KS53ZWVrfWZ1bmN0aW9uIFV0KCl7cmV0dXJuIHRoaXMuX3dlZWsuZG93fWZ1bmN0aW9uIEd0KCl7cmV0dXJuIHRoaXMuX3dlZWsuZG95fWZ1bmN0aW9uICR0KGUpe3ZhciB0PXRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7cmV0dXJuIG51bGw9PWU/dDp0aGlzLmFkZCg3KihlLXQpLCJkIil9ZnVuY3Rpb24gS3QoZSl7dmFyIHQ9d2UodGhpcywxLDQpLndlZWs7cmV0dXJuIG51bGw9PWU/dDp0aGlzLmFkZCg3KihlLXQpLCJkIil9ZnVuY3Rpb24gWHQoZSx0KXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/ZTppc05hTihlKT8oZT10LndlZWtkYXlzUGFyc2UoZSksIm51bWJlciI9PXR5cGVvZiBlP2U6bnVsbCk6cGFyc2VJbnQoZSwxMCl9ZnVuY3Rpb24gcXQoZSx0KXtyZXR1cm4gcih0aGlzLl93ZWVrZGF5cyk/dGhpcy5fd2Vla2RheXNbZS5kYXkoKV06dGhpcy5fd2Vla2RheXNbdGhpcy5fd2Vla2RheXMuaXNGb3JtYXQudGVzdCh0KT8iZm9ybWF0Ijoic3RhbmRhbG9uZSJdW2UuZGF5KCldfWZ1bmN0aW9uIFp0KGUpe3JldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0W2UuZGF5KCldfWZ1bmN0aW9uIEp0KGUpe3JldHVybiB0aGlzLl93ZWVrZGF5c01pbltlLmRheSgpXX1mdW5jdGlvbiBRdChlLHQsbil7dmFyIG8scixpO2Zvcih0aGlzLl93ZWVrZGF5c1BhcnNlfHwodGhpcy5fd2Vla2RheXNQYXJzZT1bXSx0aGlzLl9taW5XZWVrZGF5c1BhcnNlPVtdLHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZT1bXSx0aGlzLl9mdWxsV2Vla2RheXNQYXJzZT1bXSksbz0wOzc+bztvKyspe2lmKHI9eGUoWzJlMywxXSkuZGF5KG8pLG4mJiF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtvXSYmKHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW29dPW5ldyBSZWdFeHAoIl4iK3RoaXMud2Vla2RheXMociwiIikucmVwbGFjZSgiLiIsIi4/IikrIiQiLCJpIiksdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW29dPW5ldyBSZWdFeHAoIl4iK3RoaXMud2Vla2RheXNTaG9ydChyLCIiKS5yZXBsYWNlKCIuIiwiLj8iKSsiJCIsImkiKSx0aGlzLl9taW5XZWVrZGF5c1BhcnNlW29dPW5ldyBSZWdFeHAoIl4iK3RoaXMud2Vla2RheXNNaW4ociwiIikucmVwbGFjZSgiLiIsIi4/IikrIiQiLCJpIikpLHRoaXMuX3dlZWtkYXlzUGFyc2Vbb118fChpPSJeIit0aGlzLndlZWtkYXlzKHIsIiIpKyJ8XiIrdGhpcy53ZWVrZGF5c1Nob3J0KHIsIiIpKyJ8XiIrdGhpcy53ZWVrZGF5c01pbihyLCIiKSx0aGlzLl93ZWVrZGF5c1BhcnNlW29dPW5ldyBSZWdFeHAoaS5yZXBsYWNlKCIuIiwiIiksImkiKSksbiYmImRkZGQiPT09dCYmdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2Vbb10udGVzdChlKSlyZXR1cm4gbztpZihuJiYiZGRkIj09PXQmJnRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtvXS50ZXN0KGUpKXJldHVybiBvO2lmKG4mJiJkZCI9PT10JiZ0aGlzLl9taW5XZWVrZGF5c1BhcnNlW29dLnRlc3QoZSkpcmV0dXJuIG87aWYoIW4mJnRoaXMuX3dlZWtkYXlzUGFyc2Vbb10udGVzdChlKSlyZXR1cm4gb319ZnVuY3Rpb24gZW4oZSl7aWYoIXRoaXMuaXNWYWxpZCgpKXJldHVybiBudWxsIT1lP3RoaXM6TmFOO3ZhciB0PXRoaXMuX2lzVVRDP3RoaXMuX2QuZ2V0VVRDRGF5KCk6dGhpcy5fZC5nZXREYXkoKTtyZXR1cm4gbnVsbCE9ZT8oZT1YdChlLHRoaXMubG9jYWxlRGF0YSgpKSx0aGlzLmFkZChlLXQsImQiKSk6dH1mdW5jdGlvbiB0bihlKXtpZighdGhpcy5pc1ZhbGlkKCkpcmV0dXJuIG51bGwhPWU/dGhpczpOYU47dmFyIHQ9KHRoaXMuZGF5KCkrNy10aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3cpJTc7cmV0dXJuIG51bGw9PWU/dDp0aGlzLmFkZChlLXQsImQiKX1mdW5jdGlvbiBubihlKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/bnVsbD09ZT90aGlzLmRheSgpfHw3OnRoaXMuZGF5KHRoaXMuZGF5KCklNz9lOmUtNyk6bnVsbCE9ZT90aGlzOk5hTn1mdW5jdGlvbiBvbihlKXt2YXIgdD1NYXRoLnJvdW5kKCh0aGlzLmNsb25lKCkuc3RhcnRPZigiZGF5IiktdGhpcy5jbG9uZSgpLnN0YXJ0T2YoInllYXIiKSkvODY0ZTUpKzE7cmV0dXJuIG51bGw9PWU/dDp0aGlzLmFkZChlLXQsImQiKX1mdW5jdGlvbiBybigpe3JldHVybiB0aGlzLmhvdXJzKCklMTJ8fDEyfWZ1bmN0aW9uIHNuKGUsdCl7VyhlLDAsMCxmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksdGhpcy5taW51dGVzKCksdCl9KX1mdW5jdGlvbiBhbihlLHQpe3JldHVybiB0Ll9tZXJpZGllbVBhcnNlfWZ1bmN0aW9uIGxuKGUpe3JldHVybiJwIj09PShlKyIiKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKX1mdW5jdGlvbiB1bihlLHQsbil7cmV0dXJuIGU+MTE/bj8icG0iOiJQTSI6bj8iYW0iOiJBTSJ9ZnVuY3Rpb24gY24oZSx0KXt0W0RvXT15KDFlMyooIjAuIitlKSl9ZnVuY3Rpb24gZG4oKXtyZXR1cm4gdGhpcy5faXNVVEM/IlVUQyI6IiJ9ZnVuY3Rpb24gaG4oKXtyZXR1cm4gdGhpcy5faXNVVEM/IkNvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lIjoiIn1mdW5jdGlvbiBmbihlKXtyZXR1cm4geGUoMWUzKmUpfWZ1bmN0aW9uIHBuKCl7cmV0dXJuIHhlLmFwcGx5KG51bGwsYXJndW1lbnRzKS5wYXJzZVpvbmUoKX1mdW5jdGlvbiBnbihlLHQsbil7dmFyIG89dGhpcy5fY2FsZW5kYXJbZV07cmV0dXJuIEQobyk/by5jYWxsKHQsbik6b31mdW5jdGlvbiBtbihlKXt2YXIgdD10aGlzLl9sb25nRGF0ZUZvcm1hdFtlXSxuPXRoaXMuX2xvbmdEYXRlRm9ybWF0W2UudG9VcHBlckNhc2UoKV07cmV0dXJuIHR8fCFuP3Q6KHRoaXMuX2xvbmdEYXRlRm9ybWF0W2VdPW4ucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2xpY2UoMSl9KSx0aGlzLl9sb25nRGF0ZUZvcm1hdFtlXSl9ZnVuY3Rpb24gdm4oKXtyZXR1cm4gdGhpcy5faW52YWxpZERhdGV9ZnVuY3Rpb24gd24oZSl7cmV0dXJuIHRoaXMuX29yZGluYWwucmVwbGFjZSgiJWQiLGUpfWZ1bmN0aW9uIHluKGUpe3JldHVybiBlfWZ1bmN0aW9uIGJuKGUsdCxuLG8pe3ZhciByPXRoaXMuX3JlbGF0aXZlVGltZVtuXTtyZXR1cm4gRChyKT9yKGUsdCxuLG8pOnIucmVwbGFjZSgvJWQvaSxlKX1mdW5jdGlvbiBDbihlLHQpe3ZhciBuPXRoaXMuX3JlbGF0aXZlVGltZVtlPjA/ImZ1dHVyZSI6InBhc3QiXTtyZXR1cm4gRChuKT9uKHQpOm4ucmVwbGFjZSgvJXMvaSx0KX1mdW5jdGlvbiBSbihlKXt2YXIgdCxuO2ZvcihuIGluIGUpdD1lW25dLEQodCk/dGhpc1tuXT10OnRoaXNbIl8iK25dPXQ7dGhpcy5fb3JkaW5hbFBhcnNlTGVuaWVudD1uZXcgUmVnRXhwKHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UrInwiKy9cZHsxLDJ9Ly5zb3VyY2UpfWZ1bmN0aW9uIF9uKGUsdCxuLG8pe3ZhciByPU0oKSxpPXUoKS5zZXQobyx0KTtyZXR1cm4gcltuXShpLGUpfWZ1bmN0aW9uIFNuKGUsdCxuLG8scil7aWYoIm51bWJlciI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSxlPWV8fCIiLG51bGwhPXQpcmV0dXJuIF9uKGUsdCxuLHIpO3ZhciBpLHM9W107Zm9yKGk9MDtvPmk7aSsrKXNbaV09X24oZSxpLG4scik7cmV0dXJuIHN9ZnVuY3Rpb24gRW4oZSx0KXtyZXR1cm4gU24oZSx0LCJtb250aHMiLDEyLCJtb250aCIpfWZ1bmN0aW9uIFRuKGUsdCl7cmV0dXJuIFNuKGUsdCwibW9udGhzU2hvcnQiLDEyLCJtb250aCIpfWZ1bmN0aW9uIE1uKGUsdCl7cmV0dXJuIFNuKGUsdCwid2Vla2RheXMiLDcsImRheSIpfWZ1bmN0aW9uIE9uKGUsdCl7cmV0dXJuIFNuKGUsdCwid2Vla2RheXNTaG9ydCIsNywiZGF5Iil9ZnVuY3Rpb24ga24oZSx0KXtyZXR1cm4gU24oZSx0LCJ3ZWVrZGF5c01pbiIsNywiZGF5Iil9ZnVuY3Rpb24gSG4oKXt2YXIgZT10aGlzLl9kYXRhO3JldHVybiB0aGlzLl9taWxsaXNlY29uZHM9UnIodGhpcy5fbWlsbGlzZWNvbmRzKSx0aGlzLl9kYXlzPVJyKHRoaXMuX2RheXMpLHRoaXMuX21vbnRocz1Scih0aGlzLl9tb250aHMpLGUubWlsbGlzZWNvbmRzPVJyKGUubWlsbGlzZWNvbmRzKSxlLnNlY29uZHM9UnIoZS5zZWNvbmRzKSxlLm1pbnV0ZXM9UnIoZS5taW51dGVzKSxlLmhvdXJzPVJyKGUuaG91cnMpLGUubW9udGhzPVJyKGUubW9udGhzKSxlLnllYXJzPVJyKGUueWVhcnMpLHRoaXN9ZnVuY3Rpb24gRG4oZSx0LG4sbyl7dmFyIHI9UWUodCxuKTtyZXR1cm4gZS5fbWlsbGlzZWNvbmRzKz1vKnIuX21pbGxpc2Vjb25kcyxlLl9kYXlzKz1vKnIuX2RheXMsZS5fbW9udGhzKz1vKnIuX21vbnRocyxlLl9idWJibGUoKX1mdW5jdGlvbiB4bihlLHQpe3JldHVybiBEbih0aGlzLGUsdCwxKX1mdW5jdGlvbiBBbihlLHQpe3JldHVybiBEbih0aGlzLGUsdCwtMSl9ZnVuY3Rpb24gUG4oZSl7cmV0dXJuIDA+ZT9NYXRoLmZsb29yKGUpOk1hdGguY2VpbChlKX1mdW5jdGlvbiBObigpe3ZhciBlLHQsbixvLHIsaT10aGlzLl9taWxsaXNlY29uZHMscz10aGlzLl9kYXlzLGE9dGhpcy5fbW9udGhzLGw9dGhpcy5fZGF0YTtyZXR1cm4gaT49MCYmcz49MCYmYT49MHx8MD49aSYmMD49cyYmMD49YXx8KGkrPTg2NGU1KlBuKFduKGEpK3MpLHM9MCxhPTApLGwubWlsbGlzZWNvbmRzPWklMWUzLGU9dyhpLzFlMyksbC5zZWNvbmRzPWUlNjAsdD13KGUvNjApLGwubWludXRlcz10JTYwLG49dyh0LzYwKSxsLmhvdXJzPW4lMjQscys9dyhuLzI0KSxyPXcoTG4ocykpLGErPXIscy09UG4oV24ocikpLG89dyhhLzEyKSxhJT0xMixsLmRheXM9cyxsLm1vbnRocz1hLGwueWVhcnM9byx0aGlzfWZ1bmN0aW9uIExuKGUpe3JldHVybiA0ODAwKmUvMTQ2MDk3fWZ1bmN0aW9uIFduKGUpe3JldHVybiAxNDYwOTcqZS80ODAwfWZ1bmN0aW9uIEluKGUpe3ZhciB0LG4sbz10aGlzLl9taWxsaXNlY29uZHM7aWYoZT1rKGUpLCJtb250aCI9PT1lfHwieWVhciI9PT1lKXJldHVybiB0PXRoaXMuX2RheXMrby84NjRlNSxuPXRoaXMuX21vbnRocytMbih0KSwibW9udGgiPT09ZT9uOm4vMTI7c3dpdGNoKHQ9dGhpcy5fZGF5cytNYXRoLnJvdW5kKFduKHRoaXMuX21vbnRocykpLGUpe2Nhc2Uid2VlayI6cmV0dXJuIHQvNytvLzYwNDhlNTtjYXNlImRheSI6cmV0dXJuIHQrby84NjRlNTtjYXNlImhvdXIiOnJldHVybiAyNCp0K28vMzZlNTtjYXNlIm1pbnV0ZSI6cmV0dXJuIDE0NDAqdCtvLzZlNDtjYXNlInNlY29uZCI6cmV0dXJuIDg2NDAwKnQrby8xZTM7Y2FzZSJtaWxsaXNlY29uZCI6cmV0dXJuIE1hdGguZmxvb3IoODY0ZTUqdCkrbztkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiVW5rbm93biB1bml0ICIrZSl9fWZ1bmN0aW9uIGpuKCl7cmV0dXJuIHRoaXMuX21pbGxpc2Vjb25kcys4NjRlNSp0aGlzLl9kYXlzK3RoaXMuX21vbnRocyUxMioyNTkyZTYrMzE1MzZlNip5KHRoaXMuX21vbnRocy8xMil9ZnVuY3Rpb24gVm4oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXMoZSl9fWZ1bmN0aW9uIEJuKGUpe3JldHVybiBlPWsoZSksdGhpc1tlKyJzIl0oKX1mdW5jdGlvbiBGbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YVtlXX19ZnVuY3Rpb24gem4oKXtyZXR1cm4gdyh0aGlzLmRheXMoKS83KX1mdW5jdGlvbiBZbihlLHQsbixvLHIpe3JldHVybiByLnJlbGF0aXZlVGltZSh0fHwxLCEhbixlLG8pfWZ1bmN0aW9uIFVuKGUsdCxuKXt2YXIgbz1RZShlKS5hYnMoKSxyPUlyKG8uYXMoInMiKSksaT1JcihvLmFzKCJtIikpLHM9SXIoby5hcygiaCIpKSxhPUlyKG8uYXMoImQiKSksbD1JcihvLmFzKCJNIikpLHU9SXIoby5hcygieSIpKSxjPXI8anIucyYmWyJzIixyXXx8MT49aSYmWyJtIl18fGk8anIubSYmWyJtbSIsaV18fDE+PXMmJlsiaCJdfHxzPGpyLmgmJlsiaGgiLHNdfHwxPj1hJiZbImQiXXx8YTxqci5kJiZbImRkIixhXXx8MT49bCYmWyJNIl18fGw8anIuTSYmWyJNTSIsbF18fDE+PXUmJlsieSJdfHxbInl5Iix1XTtyZXR1cm4gY1syXT10LGNbM109K2U+MCxjWzRdPW4sWW4uYXBwbHkobnVsbCxjKX1mdW5jdGlvbiBHbihlLHQpe3JldHVybiB2b2lkIDA9PT1qcltlXT8hMTp2b2lkIDA9PT10P2pyW2VdOihqcltlXT10LCEwKX1mdW5jdGlvbiAkbihlKXt2YXIgdD10aGlzLmxvY2FsZURhdGEoKSxuPVVuKHRoaXMsIWUsdCk7cmV0dXJuIGUmJihuPXQucGFzdEZ1dHVyZSgrdGhpcyxuKSksdC5wb3N0Zm9ybWF0KG4pfWZ1bmN0aW9uIEtuKCl7dmFyIGUsdCxuLG89VnIodGhpcy5fbWlsbGlzZWNvbmRzKS8xZTMscj1Wcih0aGlzLl9kYXlzKSxpPVZyKHRoaXMuX21vbnRocyk7ZT13KG8vNjApLHQ9dyhlLzYwKSxvJT02MCxlJT02MCxuPXcoaS8xMiksaSU9MTI7dmFyIHM9bixhPWksbD1yLHU9dCxjPWUsZD1vLGg9dGhpcy5hc1NlY29uZHMoKTtyZXR1cm4gaD8oMD5oPyItIjoiIikrIlAiKyhzP3MrIlkiOiIiKSsoYT9hKyJNIjoiIikrKGw/bCsiRCI6IiIpKyh1fHxjfHxkPyJUIjoiIikrKHU/dSsiSCI6IiIpKyhjP2MrIk0iOiIiKSsoZD9kKyJTIjoiIik6IlAwRCJ9dmFyIFhuLHFuLFpuPWUubW9tZW50UHJvcGVydGllcz1bXSxKbj0hMSxRbj17fSxlbz17fSx0bz0vKFxbW15cW10qXF0pfChcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xtbT98c3M/fFN7MSw5fXx4fFh8eno/fFpaP3wuKS9nLG5vPS8oXFtbXlxbXSpcXSl8KFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nLG9vPXt9LHJvPXt9LGlvPS9cZC8sc289L1xkXGQvLGFvPS9cZHszfS8sbG89L1xkezR9Lyx1bz0vWystXT9cZHs2fS8sY289L1xkXGQ/Lyxobz0vXGRcZFxkXGQ/Lyxmbz0vXGRcZFxkXGRcZFxkPy8scG89L1xkezEsM30vLGdvPS9cZHsxLDR9Lyxtbz0vWystXT9cZHsxLDZ9Lyx2bz0vXGQrLyx3bz0vWystXT9cZCsvLHlvPS9afFsrLV1cZFxkOj9cZFxkL2dpLGJvPS9afFsrLV1cZFxkKD86Oj9cZFxkKT8vZ2ksQ289L1srLV0/XGQrKFwuXGR7MSwzfSk/LyxSbz0vWzAtOV0qWydhLXpcdTAwQTAtXHUwNUZGXHUwNzAwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSt8W1x1MDYwMC1cdTA2RkZcL10rKFxzKj9bXHUwNjAwLVx1MDZGRl0rKXsxLDJ9L2ksX289e30sU289e30sRW89MCxUbz0xLE1vPTIsT289Myxrbz00LEhvPTUsRG89Nix4bz03LEFvPTg7VygiTSIsWyJNTSIsMl0sIk1vIixmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vbnRoKCkrMX0pLFcoIk1NTSIsMCwwLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHNTaG9ydCh0aGlzLGUpfSksVygiTU1NTSIsMCwwLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHModGhpcyxlKX0pLE8oIm1vbnRoIiwiTSIpLEYoIk0iLGNvKSxGKCJNTSIsY28sc28pLEYoIk1NTSIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5tb250aHNTaG9ydFJlZ2V4KGUpfSksRigiTU1NTSIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5tb250aHNSZWdleChlKX0pLEcoWyJNIiwiTU0iXSxmdW5jdGlvbihlLHQpe3RbVG9dPXkoZSktMX0pLEcoWyJNTU0iLCJNTU1NIl0sZnVuY3Rpb24oZSx0LG4sbyl7dmFyIHI9bi5fbG9jYWxlLm1vbnRoc1BhcnNlKGUsbyxuLl9zdHJpY3QpO251bGwhPXI/dFtUb109cjpkKG4pLmludmFsaWRNb250aD1lfSk7dmFyIFBvPS9EW29EXT8oXFtbXlxbXF1dKlxdfFxzKykrTU1NTT8vLE5vPSJKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyIi5zcGxpdCgiXyIpLExvPSJKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlYyIuc3BsaXQoIl8iKSxXbz1SbyxJbz1Sbyxqbz17fTtlLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncz0hMTt2YXIgVm89L15ccyooKD86WystXVxkezZ9fFxkezR9KS0oPzpcZFxkLVxkXGR8V1xkXGQtXGR8V1xkXGR8XGRcZFxkfFxkXGQpKSg/OihUfCApKFxkXGQoPzo6XGRcZCg/OjpcZFxkKD86Wy4sXVxkKyk/KT8pPykoW1wrXC1dXGRcZCg/Ojo/XGRcZCk/fFxzKlopPyk/LyxCbz0vXlxzKigoPzpbKy1dXGR7Nn18XGR7NH0pKD86XGRcZFxkXGR8V1xkXGRcZHxXXGRcZHxcZFxkXGR8XGRcZCkpKD86KFR8ICkoXGRcZCg/OlxkXGQoPzpcZFxkKD86Wy4sXVxkKyk/KT8pPykoW1wrXC1dXGRcZCg/Ojo/XGRcZCk/fFxzKlopPyk/LyxGbz0vWnxbKy1dXGRcZCg/Ojo/XGRcZCk/Lyx6bz1bWyJZWVlZWVktTU0tREQiLC9bKy1dXGR7Nn0tXGRcZC1cZFxkL10sWyJZWVlZLU1NLUREIiwvXGR7NH0tXGRcZC1cZFxkL10sWyJHR0dHLVtXXVdXLUUiLC9cZHs0fS1XXGRcZC1cZC9dLFsiR0dHRy1bV11XVyIsL1xkezR9LVdcZFxkLywhMV0sWyJZWVlZLURERCIsL1xkezR9LVxkezN9L10sWyJZWVlZLU1NIiwvXGR7NH0tXGRcZC8sITFdLFsiWVlZWVlZTU1ERCIsL1srLV1cZHsxMH0vXSxbIllZWVlNTUREIiwvXGR7OH0vXSxbIkdHR0dbV11XV0UiLC9cZHs0fVdcZHszfS9dLFsiR0dHR1tXXVdXIiwvXGR7NH1XXGR7Mn0vLCExXSxbIllZWVlEREQiLC9cZHs3fS9dXSxZbz1bWyJISDptbTpzcy5TU1NTIiwvXGRcZDpcZFxkOlxkXGRcLlxkKy9dLFsiSEg6bW06c3MsU1NTUyIsL1xkXGQ6XGRcZDpcZFxkLFxkKy9dLFsiSEg6bW06c3MiLC9cZFxkOlxkXGQ6XGRcZC9dLFsiSEg6bW0iLC9cZFxkOlxkXGQvXSxbIkhIbW1zcy5TU1NTIiwvXGRcZFxkXGRcZFxkXC5cZCsvXSxbIkhIbW1zcyxTU1NTIiwvXGRcZFxkXGRcZFxkLFxkKy9dLFsiSEhtbXNzIiwvXGRcZFxkXGRcZFxkL10sWyJISG1tIiwvXGRcZFxkXGQvXSxbIkhIIiwvXGRcZC9dXSxVbz0vXlwvP0RhdGVcKChcLT9cZCspL2k7ZS5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjaz1hZSgibW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUuIFRoaXMgaXMgZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB1cGNvbWluZyBtYWpvciByZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MDcgZm9yIG1vcmUgaW5mby4iLGZ1bmN0aW9uKGUpe2UuX2Q9bmV3IERhdGUoZS5faSsoZS5fdXNlVVRDPyIgVVRDIjoiIikpfSksVygiWSIsMCwwLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy55ZWFyKCk7cmV0dXJuIDk5OTk+PWU/IiIrZToiKyIrZX0pLFcoMCxbIllZIiwyXSwwLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueWVhcigpJTEwMH0pLFcoMCxbIllZWVkiLDRdLDAsInllYXIiKSxXKDAsWyJZWVlZWSIsNV0sMCwieWVhciIpLFcoMCxbIllZWVlZWSIsNiwhMF0sMCwieWVhciIpLE8oInllYXIiLCJ5IiksRigiWSIsd28pLEYoIllZIixjbyxzbyksRigiWVlZWSIsZ28sbG8pLEYoIllZWVlZIixtbyx1byksRigiWVlZWVlZIixtbyx1byksRyhbIllZWVlZIiwiWVlZWVlZIl0sRW8pLEcoIllZWVkiLGZ1bmN0aW9uKHQsbil7bltFb109Mj09PXQubGVuZ3RoP2UucGFyc2VUd29EaWdpdFllYXIodCk6eSh0KX0pLEcoIllZIixmdW5jdGlvbih0LG4pe25bRW9dPWUucGFyc2VUd29EaWdpdFllYXIodCl9KSxHKCJZIixmdW5jdGlvbihlLHQpe3RbRW9dPXBhcnNlSW50KGUsMTApfSksZS5wYXJzZVR3b0RpZ2l0WWVhcj1mdW5jdGlvbihlKXtyZXR1cm4geShlKSsoeShlKT42OD8xOTAwOjJlMyl9O3ZhciBHbz14KCJGdWxsWWVhciIsITEpO2UuSVNPXzg2MDE9ZnVuY3Rpb24oKXt9O3ZhciAkbz1hZSgibW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNTQ4IixmdW5jdGlvbigpe3ZhciBlPXhlLmFwcGx5KG51bGwsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5pc1ZhbGlkKCkmJmUuaXNWYWxpZCgpP3RoaXM+ZT90aGlzOmU6ZigpfSksS289YWUoIm1vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTU0OCIsZnVuY3Rpb24oKXt2YXIgZT14ZS5hcHBseShudWxsLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuaXNWYWxpZCgpJiZlLmlzVmFsaWQoKT9lPnRoaXM/dGhpczplOmYoKX0pLFhvPWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93P0RhdGUubm93KCk6K25ldyBEYXRlfTtJZSgiWiIsIjoiKSxJZSgiWloiLCIiKSxGKCJaIixibyksRigiWloiLGJvKSxHKFsiWiIsIlpaIl0sZnVuY3Rpb24oZSx0LG4pe24uX3VzZVVUQz0hMCxuLl90em09amUoYm8sZSl9KTt2YXIgcW89LyhbXCtcLV18XGRcZCkvZ2k7ZS51cGRhdGVPZmZzZXQ9ZnVuY3Rpb24oKXt9O3ZhciBabz0vKFwtKT8oPzooXGQqKVsuIF0pPyhcZCspXDooXGQrKSg/Olw6KFxkKylcLj8oXGR7M30pPyk/LyxKbz0vXigtKT9QKD86KD86KFswLTksLl0qKVkpPyg/OihbMC05LC5dKilNKT8oPzooWzAtOSwuXSopRCk/KD86VCg/OihbMC05LC5dKilIKT8oPzooWzAtOSwuXSopTSk/KD86KFswLTksLl0qKVMpPyk/fChbMC05LC5dKilXKSQvO1FlLmZuPUxlLnByb3RvdHlwZTt2YXIgUW89b3QoMSwiYWRkIiksZXI9b3QoLTEsInN1YnRyYWN0Iik7ZS5kZWZhdWx0Rm9ybWF0PSJZWVlZLU1NLUREVEhIOm1tOnNzWiI7dmFyIHRyPWFlKCJtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLiIsZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/dGhpcy5sb2NhbGVEYXRhKCk6dGhpcy5sb2NhbGUoZSl9KTtXKDAsWyJnZyIsMl0sMCxmdW5jdGlvbigpe3JldHVybiB0aGlzLndlZWtZZWFyKCklMTAwfSksVygwLFsiR0ciLDJdLDAsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc29XZWVrWWVhcigpJTEwMH0pLEx0KCJnZ2dnIiwid2Vla1llYXIiKSxMdCgiZ2dnZ2ciLCJ3ZWVrWWVhciIpLEx0KCJHR0dHIiwiaXNvV2Vla1llYXIiKSxMdCgiR0dHR0ciLCJpc29XZWVrWWVhciIpLE8oIndlZWtZZWFyIiwiZ2ciKSxPKCJpc29XZWVrWWVhciIsIkdHIiksRigiRyIsd28pLEYoImciLHdvKSxGKCJHRyIsY28sc28pLEYoImdnIixjbyxzbyksRigiR0dHRyIsZ28sbG8pLEYoImdnZ2ciLGdvLGxvKSxGKCJHR0dHRyIsbW8sdW8pLEYoImdnZ2dnIixtbyx1byksJChbImdnZ2ciLCJnZ2dnZyIsIkdHR0ciLCJHR0dHRyJdLGZ1bmN0aW9uKGUsdCxuLG8pe3Rbby5zdWJzdHIoMCwyKV09eShlKX0pLCQoWyJnZyIsIkdHIl0sZnVuY3Rpb24odCxuLG8scil7bltyXT1lLnBhcnNlVHdvRGlnaXRZZWFyKHQpfSksVygiUSIsMCwiUW8iLCJxdWFydGVyIiksTygicXVhcnRlciIsIlEiKSxGKCJRIixpbyksRygiUSIsZnVuY3Rpb24oZSx0KXt0W1RvXT0zKih5KGUpLTEpfSksVygidyIsWyJ3dyIsMl0sIndvIiwid2VlayIpLFcoIlciLFsiV1ciLDJdLCJXbyIsImlzb1dlZWsiKSxPKCJ3ZWVrIiwidyIpLE8oImlzb1dlZWsiLCJXIiksRigidyIsY28pLEYoInd3IixjbyxzbyksRigiVyIsY28pLEYoIldXIixjbyxzbyksJChbInciLCJ3dyIsIlciLCJXVyJdLGZ1bmN0aW9uKGUsdCxuLG8pe3Rbby5zdWJzdHIoMCwxKV09eShlKX0pO3ZhciBucj17ZG93OjAsZG95OjZ9O1coIkQiLFsiREQiLDJdLCJEbyIsImRhdGUiKSxPKCJkYXRlIiwiRCIpLEYoIkQiLGNvKSxGKCJERCIsY28sc28pLEYoIkRvIixmdW5jdGlvbihlLHQpe3JldHVybiBlP3QuX29yZGluYWxQYXJzZTp0Ll9vcmRpbmFsUGFyc2VMZW5pZW50fSksRyhbIkQiLCJERCJdLE1vKSxHKCJEbyIsZnVuY3Rpb24oZSx0KXt0W01vXT15KGUubWF0Y2goY28pWzBdLDEwKX0pO3ZhciBvcj14KCJEYXRlIiwhMCk7VygiZCIsMCwiZG8iLCJkYXkiKSxXKCJkZCIsMCwwLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c01pbih0aGlzLGUpfSksVygiZGRkIiwwLDAsZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzU2hvcnQodGhpcyxlKX0pLFcoImRkZGQiLDAsMCxmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXModGhpcyxlKX0pLFcoImUiLDAsMCwid2Vla2RheSIpLFcoIkUiLDAsMCwiaXNvV2Vla2RheSIpLE8oImRheSIsImQiKSxPKCJ3ZWVrZGF5IiwiZSIpLE8oImlzb1dlZWtkYXkiLCJFIiksRigiZCIsY28pLEYoImUiLGNvKSxGKCJFIixjbyksRigiZGQiLFJvKSxGKCJkZGQiLFJvKSxGKCJkZGRkIixSbyksJChbImRkIiwiZGRkIiwiZGRkZCJdLGZ1bmN0aW9uKGUsdCxuLG8pe3ZhciByPW4uX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGUsbyxuLl9zdHJpY3QpO251bGwhPXI/dC5kPXI6ZChuKS5pbnZhbGlkV2Vla2RheT1lfSksJChbImQiLCJlIiwiRSJdLGZ1bmN0aW9uKGUsdCxuLG8pe3Rbb109eShlKX0pO3ZhciBycj0iU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXkiLnNwbGl0KCJfIiksaXI9IlN1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCIuc3BsaXQoIl8iKSxzcj0iU3VfTW9fVHVfV2VfVGhfRnJfU2EiLnNwbGl0KCJfIik7VygiREREIixbIkREREQiLDNdLCJERERvIiwiZGF5T2ZZZWFyIiksTygiZGF5T2ZZZWFyIiwiREREIiksRigiREREIixwbyksRigiRERERCIsYW8pLEcoWyJEREQiLCJEREREIl0sZnVuY3Rpb24oZSx0LG4pe24uX2RheU9mWWVhcj15KGUpfSksVygiSCIsWyJISCIsMl0sMCwiaG91ciIpLFcoImgiLFsiaGgiLDJdLDAscm4pLFcoImhtbSIsMCwwLGZ1bmN0aW9uKCl7cmV0dXJuIiIrcm4uYXBwbHkodGhpcykrTCh0aGlzLm1pbnV0ZXMoKSwyKX0pLFcoImhtbXNzIiwwLDAsZnVuY3Rpb24oKXtyZXR1cm4iIitybi5hcHBseSh0aGlzKStMKHRoaXMubWludXRlcygpLDIpK0wodGhpcy5zZWNvbmRzKCksMil9KSxXKCJIbW0iLDAsMCxmdW5jdGlvbigpe3JldHVybiIiK3RoaXMuaG91cnMoKStMKHRoaXMubWludXRlcygpLDIpfSksVygiSG1tc3MiLDAsMCxmdW5jdGlvbigpe3JldHVybiIiK3RoaXMuaG91cnMoKStMKHRoaXMubWludXRlcygpLDIpK0wodGhpcy5zZWNvbmRzKCksMil9KSxzbigiYSIsITApLHNuKCJBIiwhMSksTygiaG91ciIsImgiKSxGKCJhIixhbiksRigiQSIsYW4pLEYoIkgiLGNvKSxGKCJoIixjbyksRigiSEgiLGNvLHNvKSxGKCJoaCIsY28sc28pLEYoImhtbSIsaG8pLEYoImhtbXNzIixmbyksRigiSG1tIixobyksRigiSG1tc3MiLGZvKSxHKFsiSCIsIkhIIl0sT28pLEcoWyJhIiwiQSJdLGZ1bmN0aW9uKGUsdCxuKXtuLl9pc1BtPW4uX2xvY2FsZS5pc1BNKGUpLG4uX21lcmlkaWVtPWV9KSxHKFsiaCIsImhoIl0sZnVuY3Rpb24oZSx0LG4pe3RbT29dPXkoZSksZChuKS5iaWdIb3VyPSEwfSksRygiaG1tIixmdW5jdGlvbihlLHQsbil7dmFyIG89ZS5sZW5ndGgtMjt0W09vXT15KGUuc3Vic3RyKDAsbykpLHRba29dPXkoZS5zdWJzdHIobykpLGQobikuYmlnSG91cj0hMH0pLEcoImhtbXNzIixmdW5jdGlvbihlLHQsbil7dmFyIG89ZS5sZW5ndGgtNCxyPWUubGVuZ3RoLTI7dFtPb109eShlLnN1YnN0cigwLG8pKSx0W2tvXT15KGUuc3Vic3RyKG8sMikpLHRbSG9dPXkoZS5zdWJzdHIocikpLGQobikuYmlnSG91cj0hMH0pLEcoIkhtbSIsZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWUubGVuZ3RoLTI7dFtPb109eShlLnN1YnN0cigwLG8pKSx0W2tvXT15KGUuc3Vic3RyKG8pKX0pLEcoIkhtbXNzIixmdW5jdGlvbihlLHQsbil7dmFyIG89ZS5sZW5ndGgtNCxyPWUubGVuZ3RoLTI7dFtPb109eShlLnN1YnN0cigwLG8pKSx0W2tvXT15KGUuc3Vic3RyKG8sMikpLHRbSG9dPXkoZS5zdWJzdHIocikpfSk7dmFyIGFyPS9bYXBdXC4/bT9cLj8vaSxscj14KCJIb3VycyIsITApO1coIm0iLFsibW0iLDJdLDAsIm1pbnV0ZSIpLE8oIm1pbnV0ZSIsIm0iKSxGKCJtIixjbyksRigibW0iLGNvLHNvKSxHKFsibSIsIm1tIl0sa28pO3ZhciB1cj14KCJNaW51dGVzIiwhMSk7VygicyIsWyJzcyIsMl0sMCwic2Vjb25kIiksTygic2Vjb25kIiwicyIpLEYoInMiLGNvKSxGKCJzcyIsY28sc28pLEcoWyJzIiwic3MiXSxIbyk7dmFyIGNyPXgoIlNlY29uZHMiLCExKTtXKCJTIiwwLDAsZnVuY3Rpb24oKXtyZXR1cm5+fih0aGlzLm1pbGxpc2Vjb25kKCkvMTAwKX0pLFcoMCxbIlNTIiwyXSwwLGZ1bmN0aW9uKCl7cmV0dXJufn4odGhpcy5taWxsaXNlY29uZCgpLzEwKX0pLFcoMCxbIlNTUyIsM10sMCwibWlsbGlzZWNvbmQiKSxXKDAsWyJTU1NTIiw0XSwwLGZ1bmN0aW9uKCl7cmV0dXJuIDEwKnRoaXMubWlsbGlzZWNvbmQoKX0pLFcoMCxbIlNTU1NTIiw1XSwwLGZ1bmN0aW9uKCl7cmV0dXJuIDEwMCp0aGlzLm1pbGxpc2Vjb25kKCl9KSxXKDAsWyJTU1NTU1MiLDZdLDAsZnVuY3Rpb24oKXtyZXR1cm4gMWUzKnRoaXMubWlsbGlzZWNvbmQoKX0pLFcoMCxbIlNTU1NTU1MiLDddLDAsZnVuY3Rpb24oKXtyZXR1cm4gMWU0KnRoaXMubWlsbGlzZWNvbmQoKX0pLFcoMCxbIlNTU1NTU1NTIiw4XSwwLGZ1bmN0aW9uKCl7cmV0dXJuIDFlNSp0aGlzLm1pbGxpc2Vjb25kKCl9KSxXKDAsWyJTU1NTU1NTU1MiLDldLDAsZnVuY3Rpb24oKXtyZXR1cm4gMWU2KnRoaXMubWlsbGlzZWNvbmQoKX0pLE8oIm1pbGxpc2Vjb25kIiwibXMiKSxGKCJTIixwbyxpbyksRigiU1MiLHBvLHNvKSxGKCJTU1MiLHBvLGFvKTt2YXIgZHI7Zm9yKGRyPSJTU1NTIjtkci5sZW5ndGg8PTk7ZHIrPSJTIilGKGRyLHZvKTtmb3IoZHI9IlMiO2RyLmxlbmd0aDw9OTtkcis9IlMiKUcoZHIsY24pO3ZhciBocj14KCJNaWxsaXNlY29uZHMiLCExKTtXKCJ6IiwwLDAsInpvbmVBYmJyIiksVygienoiLDAsMCwiem9uZU5hbWUiKTt2YXIgZnI9bS5wcm90b3R5cGU7ZnIuYWRkPVFvLGZyLmNhbGVuZGFyPWl0LGZyLmNsb25lPXN0LGZyLmRpZmY9ZnQsZnIuZW5kT2Y9RXQsZnIuZm9ybWF0PXZ0LGZyLmZyb209d3QsZnIuZnJvbU5vdz15dCxmci50bz1idCxmci50b05vdz1DdCxmci5nZXQ9Tixmci5pbnZhbGlkQXQ9UHQsZnIuaXNBZnRlcj1hdCxmci5pc0JlZm9yZT1sdCxmci5pc0JldHdlZW49dXQsZnIuaXNTYW1lPWN0LGZyLmlzU2FtZU9yQWZ0ZXI9ZHQsZnIuaXNTYW1lT3JCZWZvcmU9aHQsZnIuaXNWYWxpZD14dCxmci5sYW5nPXRyLGZyLmxvY2FsZT1SdCxmci5sb2NhbGVEYXRhPV90LGZyLm1heD1Lbyxmci5taW49JG8sZnIucGFyc2luZ0ZsYWdzPUF0LGZyLnNldD1OLGZyLnN0YXJ0T2Y9U3QsZnIuc3VidHJhY3Q9ZXIsZnIudG9BcnJheT1rdCxmci50b09iamVjdD1IdCxmci50b0RhdGU9T3QsZnIudG9JU09TdHJpbmc9bXQsZnIudG9KU09OPUR0LGZyLnRvU3RyaW5nPWd0LGZyLnVuaXg9TXQsZnIudmFsdWVPZj1UdCxmci5jcmVhdGlvbkRhdGE9TnQsZnIueWVhcj1Hbyxmci5pc0xlYXBZZWFyPWdlLGZyLndlZWtZZWFyPVd0LGZyLmlzb1dlZWtZZWFyPUl0LGZyLnF1YXJ0ZXI9ZnIucXVhcnRlcnM9enQsZnIubW9udGg9ZWUsZnIuZGF5c0luTW9udGg9dGUsZnIud2Vlaz1mci53ZWVrcz0kdCxmci5pc29XZWVrPWZyLmlzb1dlZWtzPUt0LGZyLndlZWtzSW5ZZWFyPVZ0LGZyLmlzb1dlZWtzSW5ZZWFyPWp0LGZyLmRhdGU9b3IsZnIuZGF5PWZyLmRheXM9ZW4sZnIud2Vla2RheT10bixmci5pc29XZWVrZGF5PW5uLGZyLmRheU9mWWVhcj1vbixmci5ob3VyPWZyLmhvdXJzPWxyLGZyLm1pbnV0ZT1mci5taW51dGVzPXVyLGZyLnNlY29uZD1mci5zZWNvbmRzPWNyLGZyLm1pbGxpc2Vjb25kPWZyLm1pbGxpc2Vjb25kcz1ocixmci51dGNPZmZzZXQ9RmUsZnIudXRjPVllLGZyLmxvY2FsPVVlLGZyLnBhcnNlWm9uZT1HZSxmci5oYXNBbGlnbmVkSG91ck9mZnNldD0kZSxmci5pc0RTVD1LZSxmci5pc0RTVFNoaWZ0ZWQ9WGUsZnIuaXNMb2NhbD1xZSxmci5pc1V0Y09mZnNldD1aZSxmci5pc1V0Yz1KZSxmci5pc1VUQz1KZSxmci56b25lQWJicj1kbixmci56b25lTmFtZT1obixmci5kYXRlcz1hZSgiZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4iLG9yKSxmci5tb250aHM9YWUoIm1vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCIsZWUpLGZyLnllYXJzPWFlKCJ5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkIixHbyksZnIuem9uZT1hZSgibW9tZW50KCkuem9uZSBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50KCkudXRjT2Zmc2V0IGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNzc5Iix6ZSk7dmFyIHByPWZyLGdyPXtzYW1lRGF5OiJbVG9kYXkgYXRdIExUIixuZXh0RGF5OiJbVG9tb3Jyb3cgYXRdIExUIixuZXh0V2VlazoiZGRkZCBbYXRdIExUIixsYXN0RGF5OiJbWWVzdGVyZGF5IGF0XSBMVCIsbGFzdFdlZWs6IltMYXN0XSBkZGRkIFthdF0gTFQiLHNhbWVFbHNlOiJMIn0sbXI9e0xUUzoiaDptbTpzcyBBIixMVDoiaDptbSBBIixMOiJNTS9ERC9ZWVlZIixMTDoiTU1NTSBELCBZWVlZIixMTEw6Ik1NTU0gRCwgWVlZWSBoOm1tIEEiLExMTEw6ImRkZGQsIE1NTU0gRCwgWVlZWSBoOm1tIEEifSx2cj0iSW52YWxpZCBkYXRlIix3cj0iJWQiLHlyPS9cZHsxLDJ9Lyxicj17ZnV0dXJlOiJpbiAlcyIscGFzdDoiJXMgYWdvIixzOiJhIGZldyBzZWNvbmRzIixtOiJhIG1pbnV0ZSIsbW06IiVkIG1pbnV0ZXMiLGg6ImFuIGhvdXIiLGhoOiIlZCBob3VycyIsZDoiYSBkYXkiLGRkOiIlZCBkYXlzIixNOiJhIG1vbnRoIixNTToiJWQgbW9udGhzIix5OiJhIHllYXIiLHl5OiIlZCB5ZWFycyJ9LENyPUMucHJvdG90eXBlO0NyLl9jYWxlbmRhcj1ncixDci5jYWxlbmRhcj1nbixDci5fbG9uZ0RhdGVGb3JtYXQ9bXIsQ3IubG9uZ0RhdGVGb3JtYXQ9bW4sQ3IuX2ludmFsaWREYXRlPXZyLENyLmludmFsaWREYXRlPXZuLENyLl9vcmRpbmFsPXdyLENyLm9yZGluYWw9d24sQ3IuX29yZGluYWxQYXJzZT15cixDci5wcmVwYXJzZT15bixDci5wb3N0Zm9ybWF0PXluLENyLl9yZWxhdGl2ZVRpbWU9YnIsQ3IucmVsYXRpdmVUaW1lPWJuLENyLnBhc3RGdXR1cmU9Q24sQ3Iuc2V0PVJuLENyLm1vbnRocz1xLENyLl9tb250aHM9Tm8sQ3IubW9udGhzU2hvcnQ9WixDci5fbW9udGhzU2hvcnQ9TG8sQ3IubW9udGhzUGFyc2U9SixDci5fbW9udGhzUmVnZXg9SW8sQ3IubW9udGhzUmVnZXg9b2UsQ3IuX21vbnRoc1Nob3J0UmVnZXg9V28sQ3IubW9udGhzU2hvcnRSZWdleD1uZSxDci53ZWVrPVl0LENyLl93ZWVrPW5yLENyLmZpcnN0RGF5T2ZZZWFyPUd0LENyLmZpcnN0RGF5T2ZXZWVrPVV0LENyLndlZWtkYXlzPXF0LENyLl93ZWVrZGF5cz1ycixDci53ZWVrZGF5c01pbj1KdCxDci5fd2Vla2RheXNNaW49c3IsQ3Iud2Vla2RheXNTaG9ydD1adCxDci5fd2Vla2RheXNTaG9ydD1pcixDci53ZWVrZGF5c1BhcnNlPVF0LENyLmlzUE09bG4sQ3IuX21lcmlkaWVtUGFyc2U9YXIsQ3IubWVyaWRpZW09dW4sRSgiZW4iLHtvcmRpbmFsUGFyc2U6L1xkezEsMn0odGh8c3R8bmR8cmQpLyxvcmRpbmFsOmZ1bmN0aW9uKGUpe3ZhciB0PWUlMTAsbj0xPT09eShlJTEwMC8xMCk/InRoIjoxPT09dD8ic3QiOjI9PT10PyJuZCI6Mz09PXQ/InJkIjoidGgiO3JldHVybiBlK259fSksZS5sYW5nPWFlKCJtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLiIsRSksZS5sYW5nRGF0YT1hZSgibW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLiIsTSk7dmFyIFJyPU1hdGguYWJzLF9yPVZuKCJtcyIpLFNyPVZuKCJzIiksRXI9Vm4oIm0iKSxUcj1WbigiaCIpLE1yPVZuKCJkIiksT3I9Vm4oInciKSxrcj1WbigiTSIpLEhyPVZuKCJ5IiksRHI9Rm4oIm1pbGxpc2Vjb25kcyIpLHhyPUZuKCJzZWNvbmRzIiksQXI9Rm4oIm1pbnV0ZXMiKSxQcj1GbigiaG91cnMiKSxOcj1GbigiZGF5cyIpLExyPUZuKCJtb250aHMiKSxXcj1GbigieWVhcnMiKSxJcj1NYXRoLnJvdW5kLGpyPXtzOjQ1LG06NDUsaDoyMixkOjI2LE06MTF9LFZyPU1hdGguYWJzLEJyPUxlLnByb3RvdHlwZTtCci5hYnM9SG4sQnIuYWRkPXhuLEJyLnN1YnRyYWN0PUFuLEJyLmFzPUluLEJyLmFzTWlsbGlzZWNvbmRzPV9yLEJyLmFzU2Vjb25kcz1TcixCci5hc01pbnV0ZXM9RXIsQnIuYXNIb3Vycz1UcixCci5hc0RheXM9TXIsQnIuYXNXZWVrcz1PcixCci5hc01vbnRocz1rcixCci5hc1llYXJzPUhyLEJyLnZhbHVlT2Y9am4sQnIuX2J1YmJsZT1ObixCci5nZXQ9Qm4sQnIubWlsbGlzZWNvbmRzPURyLEJyLnNlY29uZHM9eHIsQnIubWludXRlcz1BcixCci5ob3Vycz1QcixCci5kYXlzPU5yLEJyLndlZWtzPXpuLEJyLm1vbnRocz1McixCci55ZWFycz1XcixCci5odW1hbml6ZT0kbixCci50b0lTT1N0cmluZz1LbixCci50b1N0cmluZz1LbixCci50b0pTT049S24sQnIubG9jYWxlPVJ0LEJyLmxvY2FsZURhdGE9X3QsQnIudG9Jc29TdHJpbmc9YWUoInRvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpIixLbiksQnIubGFuZz10cixXKCJYIiwwLDAsInVuaXgiKSxXKCJ4IiwwLDAsInZhbHVlT2YiKSxGKCJ4Iix3byksRigiWCIsQ28pLEcoIlgiLGZ1bmN0aW9uKGUsdCxuKXtuLl9kPW5ldyBEYXRlKDFlMypwYXJzZUZsb2F0KGUsMTApKX0pLEcoIngiLGZ1bmN0aW9uKGUsdCxuKXtuLl9kPW5ldyBEYXRlKHkoZSkpfSksZS52ZXJzaW9uPSIyLjExLjEiLG8oeGUpLGUuZm49cHIsZS5taW49UGUsZS5tYXg9TmUsZS5ub3c9WG8sZS51dGM9dSxlLnVuaXg9Zm4sZS5tb250aHM9RW4sZS5pc0RhdGU9aSxlLmxvY2FsZT1FLGUuaW52YWxpZD1mLGUuZHVyYXRpb249UWUsZS5pc01vbWVudD12LGUud2Vla2RheXM9TW4sZS5wYXJzZVpvbmU9cG4sZS5sb2NhbGVEYXRhPU0sZS5pc0R1cmF0aW9uPVdlLGUubW9udGhzU2hvcnQ9VG4sZS53ZWVrZGF5c01pbj1rbixlLmRlZmluZUxvY2FsZT1ULGUud2Vla2RheXNTaG9ydD1PbixlLm5vcm1hbGl6ZVVuaXRzPWssZS5yZWxhdGl2ZVRpbWVUaHJlc2hvbGQ9R24sZS5wcm90b3R5cGU9cHI7dmFyIEZyPWU7cmV0dXJuIEZyfSl9LHt9XSxudW1lcmFsOltmdW5jdGlvbih0LG4sbyl7InVzZSBzdHJpY3QiOyhmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7dGhpcy5fdmFsdWU9ZX1mdW5jdGlvbiBvKGUsdCxuLG8pe3ZhciByLGkscz1NYXRoLnBvdygxMCx0KTtyZXR1cm4gaT0obihlKnMpL3MpLnRvRml4ZWQodCksbyYmKHI9bmV3IFJlZ0V4cCgiMHsxLCIrbysifSQiKSxpPWkucmVwbGFjZShyLCIiKSksaX1mdW5jdGlvbiByKGUsdCxuKXt2YXIgbztyZXR1cm4gbz10LmluZGV4T2YoIiQiKT4tMT9zKGUsdCxuKTp0LmluZGV4T2YoIiUiKT4tMT9hKGUsdCxuKTp0LmluZGV4T2YoIjoiKT4tMT9sKGUsdCk6YyhlLl92YWx1ZSx0LG4pfWZ1bmN0aW9uIGkoZSx0KXt2YXIgbixvLHIsaSxzLGE9dCxsPVsiS0IiLCJNQiIsIkdCIiwiVEIiLCJQQiIsIkVCIiwiWkIiLCJZQiJdLGM9ITE7CmlmKHQuaW5kZXhPZigiOiIpPi0xKWUuX3ZhbHVlPXUodCk7ZWxzZSBpZih0PT09dyllLl92YWx1ZT0wO2Vsc2V7Zm9yKCIuIiE9PW1bdl0uZGVsaW1pdGVycy5kZWNpbWFsJiYodD10LnJlcGxhY2UoL1wuL2csIiIpLnJlcGxhY2UobVt2XS5kZWxpbWl0ZXJzLmRlY2ltYWwsIi4iKSksbj1uZXcgUmVnRXhwKCJbXmEtekEtWl0iK21bdl0uYWJicmV2aWF0aW9ucy50aG91c2FuZCsiKD86XFwpfChcXCIrbVt2XS5jdXJyZW5jeS5zeW1ib2wrIik/KD86XFwpKT8pPyQiKSxvPW5ldyBSZWdFeHAoIlteYS16QS1aXSIrbVt2XS5hYmJyZXZpYXRpb25zLm1pbGxpb24rIig/OlxcKXwoXFwiK21bdl0uY3VycmVuY3kuc3ltYm9sKyIpPyg/OlxcKSk/KT8kIikscj1uZXcgUmVnRXhwKCJbXmEtekEtWl0iK21bdl0uYWJicmV2aWF0aW9ucy5iaWxsaW9uKyIoPzpcXCl8KFxcIittW3ZdLmN1cnJlbmN5LnN5bWJvbCsiKT8oPzpcXCkpPyk/JCIpLGk9bmV3IFJlZ0V4cCgiW15hLXpBLVpdIittW3ZdLmFiYnJldmlhdGlvbnMudHJpbGxpb24rIig/OlxcKXwoXFwiK21bdl0uY3VycmVuY3kuc3ltYm9sKyIpPyg/OlxcKSk/KT8kIikscz0wO3M8PWwubGVuZ3RoJiYhKGM9dC5pbmRleE9mKGxbc10pPi0xP01hdGgucG93KDEwMjQscysxKTohMSk7cysrKTtlLl92YWx1ZT0oYz9jOjEpKihhLm1hdGNoKG4pP01hdGgucG93KDEwLDMpOjEpKihhLm1hdGNoKG8pP01hdGgucG93KDEwLDYpOjEpKihhLm1hdGNoKHIpP01hdGgucG93KDEwLDkpOjEpKihhLm1hdGNoKGkpP01hdGgucG93KDEwLDEyKToxKSoodC5pbmRleE9mKCIlIik+LTE/LjAxOjEpKigodC5zcGxpdCgiLSIpLmxlbmd0aCtNYXRoLm1pbih0LnNwbGl0KCIoIikubGVuZ3RoLTEsdC5zcGxpdCgiKSIpLmxlbmd0aC0xKSklMj8xOi0xKSpOdW1iZXIodC5yZXBsYWNlKC9bXjAtOVwuXSsvZywiIikpLGUuX3ZhbHVlPWM/TWF0aC5jZWlsKGUuX3ZhbHVlKTplLl92YWx1ZX1yZXR1cm4gZS5fdmFsdWV9ZnVuY3Rpb24gcyhlLHQsbil7dmFyIG8scixpPXQuaW5kZXhPZigiJCIpLHM9dC5pbmRleE9mKCIoIiksYT10LmluZGV4T2YoIi0iKSxsPSIiO3JldHVybiB0LmluZGV4T2YoIiAkIik+LTE/KGw9IiAiLHQ9dC5yZXBsYWNlKCIgJCIsIiIpKTp0LmluZGV4T2YoIiQgIik+LTE/KGw9IiAiLHQ9dC5yZXBsYWNlKCIkICIsIiIpKTp0PXQucmVwbGFjZSgiJCIsIiIpLHI9YyhlLl92YWx1ZSx0LG4pLDE+PWk/ci5pbmRleE9mKCIoIik+LTF8fHIuaW5kZXhPZigiLSIpPi0xPyhyPXIuc3BsaXQoIiIpLG89MSwocz5pfHxhPmkpJiYobz0wKSxyLnNwbGljZShvLDAsbVt2XS5jdXJyZW5jeS5zeW1ib2wrbCkscj1yLmpvaW4oIiIpKTpyPW1bdl0uY3VycmVuY3kuc3ltYm9sK2wrcjpyLmluZGV4T2YoIikiKT4tMT8ocj1yLnNwbGl0KCIiKSxyLnNwbGljZSgtMSwwLGwrbVt2XS5jdXJyZW5jeS5zeW1ib2wpLHI9ci5qb2luKCIiKSk6cj1yK2wrbVt2XS5jdXJyZW5jeS5zeW1ib2wscn1mdW5jdGlvbiBhKGUsdCxuKXt2YXIgbyxyPSIiLGk9MTAwKmUuX3ZhbHVlO3JldHVybiB0LmluZGV4T2YoIiAlIik+LTE/KHI9IiAiLHQ9dC5yZXBsYWNlKCIgJSIsIiIpKTp0PXQucmVwbGFjZSgiJSIsIiIpLG89YyhpLHQsbiksby5pbmRleE9mKCIpIik+LTE/KG89by5zcGxpdCgiIiksby5zcGxpY2UoLTEsMCxyKyIlIiksbz1vLmpvaW4oIiIpKTpvPW8rcisiJSIsb31mdW5jdGlvbiBsKGUpe3ZhciB0PU1hdGguZmxvb3IoZS5fdmFsdWUvNjAvNjApLG49TWF0aC5mbG9vcigoZS5fdmFsdWUtNjAqdCo2MCkvNjApLG89TWF0aC5yb3VuZChlLl92YWx1ZS02MCp0KjYwLTYwKm4pO3JldHVybiB0KyI6IisoMTA+bj8iMCIrbjpuKSsiOiIrKDEwPm8/IjAiK286byl9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLnNwbGl0KCI6Iiksbj0wO3JldHVybiAzPT09dC5sZW5ndGg/KG4rPTYwKk51bWJlcih0WzBdKSo2MCxuKz02MCpOdW1iZXIodFsxXSksbis9TnVtYmVyKHRbMl0pKToyPT09dC5sZW5ndGgmJihuKz02MCpOdW1iZXIodFswXSksbis9TnVtYmVyKHRbMV0pKSxOdW1iZXIobil9ZnVuY3Rpb24gYyhlLHQsbil7dmFyIHIsaSxzLGEsbCx1LGM9ITEsZD0hMSxoPSExLGY9IiIscD0hMSxnPSExLHk9ITEsYj0hMSxDPSExLFI9IiIsXz0iIixTPU1hdGguYWJzKGUpLEU9WyJCIiwiS0IiLCJNQiIsIkdCIiwiVEIiLCJQQiIsIkVCIiwiWkIiLCJZQiJdLFQ9IiIsTT0hMTtpZigwPT09ZSYmbnVsbCE9PXcpcmV0dXJuIHc7aWYodC5pbmRleE9mKCIoIik+LTE/KGM9ITAsdD10LnNsaWNlKDEsLTEpKTp0LmluZGV4T2YoIisiKT4tMSYmKGQ9ITAsdD10LnJlcGxhY2UoL1wrL2csIiIpKSx0LmluZGV4T2YoImEiKT4tMSYmKHA9dC5pbmRleE9mKCJhSyIpPj0wLGc9dC5pbmRleE9mKCJhTSIpPj0wLHk9dC5pbmRleE9mKCJhQiIpPj0wLGI9dC5pbmRleE9mKCJhVCIpPj0wLEM9cHx8Z3x8eXx8Yix0LmluZGV4T2YoIiBhIik+LTE/KGY9IiAiLHQ9dC5yZXBsYWNlKCIgYSIsIiIpKTp0PXQucmVwbGFjZSgiYSIsIiIpLFM+PU1hdGgucG93KDEwLDEyKSYmIUN8fGI/KGYrPW1bdl0uYWJicmV2aWF0aW9ucy50cmlsbGlvbixlLz1NYXRoLnBvdygxMCwxMikpOlM8TWF0aC5wb3coMTAsMTIpJiZTPj1NYXRoLnBvdygxMCw5KSYmIUN8fHk/KGYrPW1bdl0uYWJicmV2aWF0aW9ucy5iaWxsaW9uLGUvPU1hdGgucG93KDEwLDkpKTpTPE1hdGgucG93KDEwLDkpJiZTPj1NYXRoLnBvdygxMCw2KSYmIUN8fGc/KGYrPW1bdl0uYWJicmV2aWF0aW9ucy5taWxsaW9uLGUvPU1hdGgucG93KDEwLDYpKTooUzxNYXRoLnBvdygxMCw2KSYmUz49TWF0aC5wb3coMTAsMykmJiFDfHxwKSYmKGYrPW1bdl0uYWJicmV2aWF0aW9ucy50aG91c2FuZCxlLz1NYXRoLnBvdygxMCwzKSkpLHQuaW5kZXhPZigiYiIpPi0xKWZvcih0LmluZGV4T2YoIiBiIik+LTE/KFI9IiAiLHQ9dC5yZXBsYWNlKCIgYiIsIiIpKTp0PXQucmVwbGFjZSgiYiIsIiIpLHM9MDtzPD1FLmxlbmd0aDtzKyspaWYocj1NYXRoLnBvdygxMDI0LHMpLGk9TWF0aC5wb3coMTAyNCxzKzEpLGU+PXImJmk+ZSl7Uis9RVtzXSxyPjAmJihlLz1yKTticmVha31yZXR1cm4gdC5pbmRleE9mKCJvIik+LTEmJih0LmluZGV4T2YoIiBvIik+LTE/KF89IiAiLHQ9dC5yZXBsYWNlKCIgbyIsIiIpKTp0PXQucmVwbGFjZSgibyIsIiIpLF8rPW1bdl0ub3JkaW5hbChlKSksdC5pbmRleE9mKCJbLl0iKT4tMSYmKGg9ITAsdD10LnJlcGxhY2UoIlsuXSIsIi4iKSksYT1lLnRvU3RyaW5nKCkuc3BsaXQoIi4iKVswXSxsPXQuc3BsaXQoIi4iKVsxXSx1PXQuaW5kZXhPZigiLCIpLGw/KGwuaW5kZXhPZigiWyIpPi0xPyhsPWwucmVwbGFjZSgiXSIsIiIpLGw9bC5zcGxpdCgiWyIpLFQ9byhlLGxbMF0ubGVuZ3RoK2xbMV0ubGVuZ3RoLG4sbFsxXS5sZW5ndGgpKTpUPW8oZSxsLmxlbmd0aCxuKSxhPVQuc3BsaXQoIi4iKVswXSxUPVQuc3BsaXQoIi4iKVsxXS5sZW5ndGg/bVt2XS5kZWxpbWl0ZXJzLmRlY2ltYWwrVC5zcGxpdCgiLiIpWzFdOiIiLGgmJjA9PT1OdW1iZXIoVC5zbGljZSgxKSkmJihUPSIiKSk6YT1vKGUsbnVsbCxuKSxhLmluZGV4T2YoIi0iKT4tMSYmKGE9YS5zbGljZSgxKSxNPSEwKSx1Pi0xJiYoYT1hLnRvU3RyaW5nKCkucmVwbGFjZSgvKFxkKSg/PShcZHszfSkrKD8hXGQpKS9nLCIkMSIrbVt2XS5kZWxpbWl0ZXJzLnRob3VzYW5kcykpLDA9PT10LmluZGV4T2YoIi4iKSYmKGE9IiIpLChjJiZNPyIoIjoiIikrKCFjJiZNPyItIjoiIikrKCFNJiZkPyIrIjoiIikrYStUKyhfP186IiIpKyhmP2Y6IiIpKyhSP1I6IiIpKyhjJiZNPyIpIjoiIil9ZnVuY3Rpb24gZChlLHQpe21bZV09dH1mdW5jdGlvbiBoKGUpe3ZhciB0PWUudG9TdHJpbmcoKS5zcGxpdCgiLiIpO3JldHVybiB0Lmxlbmd0aDwyPzE6TWF0aC5wb3coMTAsdFsxXS5sZW5ndGgpfWZ1bmN0aW9uIGYoKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuPWgoZSksbz1oKHQpO3JldHVybiBuPm8/bjpvfSwtKDEvMCkpfXZhciBwLGc9IjEuNS4zIixtPXt9LHY9ImVuIix3PW51bGwseT0iMCwwIixiPSJ1bmRlZmluZWQiIT10eXBlb2YgbiYmbi5leHBvcnRzO3A9ZnVuY3Rpb24oZSl7cmV0dXJuIHAuaXNOdW1lcmFsKGUpP2U9ZS52YWx1ZSgpOjA9PT1lfHwidW5kZWZpbmVkIj09dHlwZW9mIGU/ZT0wOk51bWJlcihlKXx8KGU9cC5mbi51bmZvcm1hdChlKSksbmV3IHQoTnVtYmVyKGUpKX0scC52ZXJzaW9uPWcscC5pc051bWVyYWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fSxwLmxhbmd1YWdlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIHY7aWYoZSYmIXQpe2lmKCFtW2VdKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBsYW5ndWFnZSA6ICIrZSk7dj1lfXJldHVybih0fHwhbVtlXSkmJmQoZSx0KSxwfSxwLmxhbmd1YWdlRGF0YT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4gbVt2XTtpZighbVtlXSl0aHJvdyBuZXcgRXJyb3IoIlVua25vd24gbGFuZ3VhZ2UgOiAiK2UpO3JldHVybiBtW2VdfSxwLmxhbmd1YWdlKCJlbiIse2RlbGltaXRlcnM6e3Rob3VzYW5kczoiLCIsZGVjaW1hbDoiLiJ9LGFiYnJldmlhdGlvbnM6e3Rob3VzYW5kOiJrIixtaWxsaW9uOiJtIixiaWxsaW9uOiJiIix0cmlsbGlvbjoidCJ9LG9yZGluYWw6ZnVuY3Rpb24oZSl7dmFyIHQ9ZSUxMDtyZXR1cm4gMT09PX5+KGUlMTAwLzEwKT8idGgiOjE9PT10PyJzdCI6Mj09PXQ/Im5kIjozPT09dD8icmQiOiJ0aCJ9LGN1cnJlbmN5OntzeW1ib2w6IiQifX0pLHAuemVyb0Zvcm1hdD1mdW5jdGlvbihlKXt3PSJzdHJpbmciPT10eXBlb2YgZT9lOm51bGx9LHAuZGVmYXVsdEZvcm1hdD1mdW5jdGlvbihlKXt5PSJzdHJpbmciPT10eXBlb2YgZT9lOiIwLjAifSxwLnZhbGlkYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG4sbyxyLGkscyxhLGwsdTtpZigic3RyaW5nIiE9dHlwZW9mIGUmJihlKz0iIixjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybigiTnVtZXJhbC5qczogVmFsdWUgaXMgbm90IHN0cmluZy4gSXQgaGFzIGJlZW4gY28tZXJjZWQgdG86ICIsZSkpLGU9ZS50cmltKCksIiI9PT1lKXJldHVybiExO2U9ZS5yZXBsYWNlKC9eWystXT8vLCIiKTt0cnl7bD1wLmxhbmd1YWdlRGF0YSh0KX1jYXRjaChjKXtsPXAubGFuZ3VhZ2VEYXRhKHAubGFuZ3VhZ2UoKSl9cmV0dXJuIHI9bC5jdXJyZW5jeS5zeW1ib2wscz1sLmFiYnJldmlhdGlvbnMsbj1sLmRlbGltaXRlcnMuZGVjaW1hbCxvPSIuIj09PWwuZGVsaW1pdGVycy50aG91c2FuZHM/IlxcLiI6bC5kZWxpbWl0ZXJzLnRob3VzYW5kcyx1PWUubWF0Y2goL15bXlxkXC5cLF0rLyksbnVsbCE9PXUmJihlPWUuc3Vic3RyKDEpLHVbMF0hPT1yKT8hMToodT1lLm1hdGNoKC9bXlxkXSskLyksbnVsbCE9PXUmJihlPWUuc2xpY2UoMCwtMSksdVswXSE9PXMudGhvdXNhbmQmJnVbMF0hPT1zLm1pbGxpb24mJnVbMF0hPT1zLmJpbGxpb24mJnVbMF0hPT1zLnRyaWxsaW9uKT8hMTplLm1hdGNoKC9eXGQrJC8pPyEwOihhPW5ldyBSZWdFeHAobysiezJ9IiksZS5tYXRjaCgvW15cZC4sXS9nKT8hMTooaT1lLnNwbGl0KG4pLGkubGVuZ3RoPjI/ITE6aS5sZW5ndGg8Mj8hIWlbMF0ubWF0Y2goL15cZCsuKlxkJC8pJiYhaVswXS5tYXRjaChhKToiIj09PWlbMF0/IWlbMF0ubWF0Y2goYSkmJiEhaVsxXS5tYXRjaCgvXlxkKyQvKToxPT09aVswXS5sZW5ndGg/ISFpWzBdLm1hdGNoKC9eXGQrJC8pJiYhaVswXS5tYXRjaChhKSYmISFpWzFdLm1hdGNoKC9eXGQrJC8pOiEhaVswXS5tYXRjaCgvXlxkKy4qXGQkLykmJiFpWzBdLm1hdGNoKGEpJiYhIWlbMV0ubWF0Y2goL15cZCskLykpKSl9LCJmdW5jdGlvbiIhPXR5cGVvZiBBcnJheS5wcm90b3R5cGUucmVkdWNlJiYoQXJyYXkucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT10aGlzfHwidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJyYXkucHJvdG90eXBlLnJlZHVjZSBjYWxsZWQgb24gbnVsbCBvciB1bmRlZmluZWQiKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBmdW5jdGlvbiIpO3ZhciBuLG8scj10aGlzLmxlbmd0aD4+PjAsaT0hMTtmb3IoMTxhcmd1bWVudHMubGVuZ3RoJiYobz10LGk9ITApLG49MDtyPm47KytuKXRoaXMuaGFzT3duUHJvcGVydHkobikmJihpP289ZShvLHRoaXNbbl0sbix0aGlzKToobz10aGlzW25dLGk9ITApKTtpZighaSl0aHJvdyBuZXcgVHlwZUVycm9yKCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7cmV0dXJuIG99KSxwLmZuPXQucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3JldHVybiBwKHRoaXMpfSxmb3JtYXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcih0aGlzLGU/ZTp5LHZvaWQgMCE9PXQ/dDpNYXRoLnJvdW5kKX0sdW5mb3JtYXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgTnVtYmVyXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk/ZTppKHRoaXMsZT9lOnkpfSx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZX0sdmFsdWVPZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YWx1ZX0sc2V0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl92YWx1ZT1OdW1iZXIoZSksdGhpc30sYWRkOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG8scil7cmV0dXJuIGUrbip0fXZhciBuPWYuY2FsbChudWxsLHRoaXMuX3ZhbHVlLGUpO3JldHVybiB0aGlzLl92YWx1ZT1bdGhpcy5fdmFsdWUsZV0ucmVkdWNlKHQsMCkvbix0aGlzfSxzdWJ0cmFjdDpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxvLHIpe3JldHVybiBlLW4qdH12YXIgbj1mLmNhbGwobnVsbCx0aGlzLl92YWx1ZSxlKTtyZXR1cm4gdGhpcy5fdmFsdWU9W2VdLnJlZHVjZSh0LHRoaXMuX3ZhbHVlKm4pL24sdGhpc30sbXVsdGlwbHk6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQsbixvKXt2YXIgcj1mKGUsdCk7cmV0dXJuIGUqcioodCpyKS8ocipyKX1yZXR1cm4gdGhpcy5fdmFsdWU9W3RoaXMuX3ZhbHVlLGVdLnJlZHVjZSh0LDEpLHRoaXN9LGRpdmlkZTpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxuLG8pe3ZhciByPWYoZSx0KTtyZXR1cm4gZSpyLyh0KnIpfXJldHVybiB0aGlzLl92YWx1ZT1bdGhpcy5fdmFsdWUsZV0ucmVkdWNlKHQpLHRoaXN9LGRpZmZlcmVuY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguYWJzKHAodGhpcy5fdmFsdWUpLnN1YnRyYWN0KGUpLnZhbHVlKCkpfX0sYiYmKG4uZXhwb3J0cz1wKSwidW5kZWZpbmVkIj09dHlwZW9mIGVuZGVyJiYodGhpcy5udW1lcmFsPXApLCJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFtZCYmZShbXSxmdW5jdGlvbigpe3JldHVybiBwfSl9KS5jYWxsKHdpbmRvdyl9LHt9XSxwaWthZGF5OltmdW5jdGlvbih0LG4sbyl7LyohCiAqIFBpa2FkYXkKICoKICogQ29weXJpZ2h0IMKpIDIwMTQgRGF2aWQgQnVzaGVsbCB8IEJTRCAmIE1JVCBsaWNlbnNlIHwgaHR0cHM6Ly9naXRodWIuY29tL2RidXNoZWxsL1Bpa2FkYXkKICovCiFmdW5jdGlvbihyLGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcztpZigib2JqZWN0Ij09dHlwZW9mIG8pe3RyeXtzPXQoIm1vbWVudCIpfWNhdGNoKGEpe31uLmV4cG9ydHM9aShzKX1lbHNlImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuYW1kP2UoZnVuY3Rpb24oZSl7dmFyIHQ9Im1vbWVudCI7dHJ5e3M9ZSh0KX1jYXRjaChuKXt9cmV0dXJuIGkocyl9KTpyLlBpa2FkYXk9aShyLm1vbWVudCl9KHRoaXMsZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlLG49ISF3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcixvPXdpbmRvdy5kb2N1bWVudCxyPXdpbmRvdy5zZXRUaW1lb3V0LGk9ZnVuY3Rpb24oZSx0LG8scil7bj9lLmFkZEV2ZW50TGlzdGVuZXIodCxvLCEhcik6ZS5hdHRhY2hFdmVudCgib24iK3Qsbyl9LHM9ZnVuY3Rpb24oZSx0LG8scil7bj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxvLCEhcik6ZS5kZXRhY2hFdmVudCgib24iK3Qsbyl9LGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO28uY3JlYXRlRXZlbnQ/KHI9by5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpLHIuaW5pdEV2ZW50KHQsITAsITEpLHI9eShyLG4pLGUuZGlzcGF0Y2hFdmVudChyKSk6by5jcmVhdGVFdmVudE9iamVjdCYmKHI9by5jcmVhdGVFdmVudE9iamVjdCgpLHI9eShyLG4pLGUuZmlyZUV2ZW50KCJvbiIrdCxyKSl9LGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbT9lLnRyaW0oKTplLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0sdT1mdW5jdGlvbihlLHQpe3JldHVybi0xIT09KCIgIitlLmNsYXNzTmFtZSsiICIpLmluZGV4T2YoIiAiK3QrIiAiKX0sYz1mdW5jdGlvbihlLHQpe3UoZSx0KXx8KGUuY2xhc3NOYW1lPSIiPT09ZS5jbGFzc05hbWU/dDplLmNsYXNzTmFtZSsiICIrdCl9LGQ9ZnVuY3Rpb24oZSx0KXtlLmNsYXNzTmFtZT1sKCgiICIrZS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKCIgIit0KyIgIiwiICIpKX0saD1mdW5jdGlvbihlKXtyZXR1cm4vQXJyYXkvLnRlc3QoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKX0sZj1mdW5jdGlvbihlKXtyZXR1cm4vRGF0ZS8udGVzdChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpJiYhaXNOYU4oZS5nZXRUaW1lKCkpfSxwPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0RGF5KCk7cmV0dXJuIDA9PT10fHw2PT09dH0sZz1mdW5jdGlvbihlKXtyZXR1cm4gZSU0PT09MCYmZSUxMDAhPT0wfHxlJTQwMD09PTB9LG09ZnVuY3Rpb24oZSx0KXtyZXR1cm5bMzEsZyhlKT8yOToyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV1bdF19LHY9ZnVuY3Rpb24oZSl7ZihlKSYmZS5zZXRIb3VycygwLDAsMCwwKX0sdz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmdldFRpbWUoKT09PXQuZ2V0VGltZSgpfSx5PWZ1bmN0aW9uKGUsdCxuKXt2YXIgbyxyO2ZvcihvIGluIHQpcj12b2lkIDAhPT1lW29dLHImJiJvYmplY3QiPT10eXBlb2YgdFtvXSYmbnVsbCE9PXRbb10mJnZvaWQgMD09PXRbb10ubm9kZU5hbWU/Zih0W29dKT9uJiYoZVtvXT1uZXcgRGF0ZSh0W29dLmdldFRpbWUoKSkpOmgodFtvXSk/biYmKGVbb109dFtvXS5zbGljZSgwKSk6ZVtvXT15KHt9LHRbb10sbik6KG58fCFyKSYmKGVbb109dFtvXSk7cmV0dXJuIGV9LGI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubW9udGg8MCYmKGUueWVhci09TWF0aC5jZWlsKE1hdGguYWJzKGUubW9udGgpLzEyKSxlLm1vbnRoKz0xMiksZS5tb250aD4xMSYmKGUueWVhcis9TWF0aC5mbG9vcihNYXRoLmFicyhlLm1vbnRoKS8xMiksZS5tb250aC09MTIpLGV9LEM9e2ZpZWxkOm51bGwsYm91bmQ6dm9pZCAwLHBvc2l0aW9uOiJib3R0b20gbGVmdCIscmVwb3NpdGlvbjohMCxmb3JtYXQ6IllZWVktTU0tREQiLGRlZmF1bHREYXRlOm51bGwsc2V0RGVmYXVsdERhdGU6ITEsZmlyc3REYXk6MCxtaW5EYXRlOm51bGwsbWF4RGF0ZTpudWxsLHllYXJSYW5nZToxMCxzaG93V2Vla051bWJlcjohMSxtaW5ZZWFyOjAsbWF4WWVhcjo5OTk5LG1pbk1vbnRoOnZvaWQgMCxtYXhNb250aDp2b2lkIDAsc3RhcnRSYW5nZTpudWxsLGVuZFJhbmdlOm51bGwsaXNSVEw6ITEseWVhclN1ZmZpeDoiIixzaG93TW9udGhBZnRlclllYXI6ITEsbnVtYmVyT2ZNb250aHM6MSxtYWluQ2FsZW5kYXI6ImxlZnQiLGNvbnRhaW5lcjp2b2lkIDAsaTE4bjp7cHJldmlvdXNNb250aDoiUHJldmlvdXMgTW9udGgiLG5leHRNb250aDoiTmV4dCBNb250aCIsbW9udGhzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSx3ZWVrZGF5czpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sd2Vla2RheXNTaG9ydDpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdfSx0aGVtZTpudWxsLG9uU2VsZWN0Om51bGwsb25PcGVuOm51bGwsb25DbG9zZTpudWxsLG9uRHJhdzpudWxsfSxSPWZ1bmN0aW9uKGUsdCxuKXtmb3IodCs9ZS5maXJzdERheTt0Pj03Oyl0LT03O3JldHVybiBuP2UuaTE4bi53ZWVrZGF5c1Nob3J0W3RdOmUuaTE4bi53ZWVrZGF5c1t0XX0sXz1mdW5jdGlvbihlKXtpZihlLmlzRW1wdHkpcmV0dXJuJzx0ZCBjbGFzcz0iaXMtZW1wdHkiPjwvdGQ+Jzt2YXIgdD1bXTtyZXR1cm4gZS5pc0Rpc2FibGVkJiZ0LnB1c2goImlzLWRpc2FibGVkIiksZS5pc1RvZGF5JiZ0LnB1c2goImlzLXRvZGF5IiksZS5pc1NlbGVjdGVkJiZ0LnB1c2goImlzLXNlbGVjdGVkIiksZS5pc0luUmFuZ2UmJnQucHVzaCgiaXMtaW5yYW5nZSIpLGUuaXNTdGFydFJhbmdlJiZ0LnB1c2goImlzLXN0YXJ0cmFuZ2UiKSxlLmlzRW5kUmFuZ2UmJnQucHVzaCgiaXMtZW5kcmFuZ2UiKSwnPHRkIGRhdGEtZGF5PSInK2UuZGF5KyciIGNsYXNzPSInK3Quam9pbigiICIpKyciPjxidXR0b24gY2xhc3M9InBpa2EtYnV0dG9uIHBpa2EtZGF5IiB0eXBlPSJidXR0b24iIGRhdGEtcGlrYS15ZWFyPSInK2UueWVhcisnIiBkYXRhLXBpa2EtbW9udGg9IicrZS5tb250aCsnIiBkYXRhLXBpa2EtZGF5PSInK2UuZGF5KyciPicrZS5kYXkrIjwvYnV0dG9uPjwvdGQ+In0sUz1mdW5jdGlvbihlLHQsbil7dmFyIG89bmV3IERhdGUobiwwLDEpLHI9TWF0aC5jZWlsKCgobmV3IERhdGUobix0LGUpLW8pLzg2NGU1K28uZ2V0RGF5KCkrMSkvNyk7cmV0dXJuJzx0ZCBjbGFzcz0icGlrYS13ZWVrIj4nK3IrIjwvdGQ+In0sRT1mdW5jdGlvbihlLHQpe3JldHVybiI8dHI+IisodD9lLnJldmVyc2UoKTplKS5qb2luKCIiKSsiPC90cj4ifSxUPWZ1bmN0aW9uKGUpe3JldHVybiI8dGJvZHk+IitlLmpvaW4oIiIpKyI8L3Rib2R5PiJ9LE09ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtmb3IoZS5zaG93V2Vla051bWJlciYmbi5wdXNoKCI8dGg+PC90aD4iKSx0PTA7Nz50O3QrKyluLnB1c2goJzx0aCBzY29wZT0iY29sIj48YWJiciB0aXRsZT0iJytSKGUsdCkrJyI+JytSKGUsdCwhMCkrIjwvYWJicj48L3RoPiIpO3JldHVybiI8dGhlYWQ+IisoZS5pc1JUTD9uLnJldmVyc2UoKTpuKS5qb2luKCIiKSsiPC90aGVhZD4ifSxPPWZ1bmN0aW9uKGUsdCxuLG8scil7dmFyIGkscyxhLGwsdSxjPWUuX28sZD1uPT09Yy5taW5ZZWFyLGY9bj09PWMubWF4WWVhcixwPSc8ZGl2IGNsYXNzPSJwaWthLXRpdGxlIj4nLGc9ITAsbT0hMDtmb3IoYT1bXSxpPTA7MTI+aTtpKyspYS5wdXNoKCc8b3B0aW9uIHZhbHVlPSInKyhuPT09cj9pLXQ6MTIraS10KSsnIicrKGk9PT1vPyIgc2VsZWN0ZWQiOiIiKSsoZCYmaTxjLm1pbk1vbnRofHxmJiZpPmMubWF4TW9udGg/ImRpc2FibGVkIjoiIikrIj4iK2MuaTE4bi5tb250aHNbaV0rIjwvb3B0aW9uPiIpO2ZvcihsPSc8ZGl2IGNsYXNzPSJwaWthLWxhYmVsIj4nK2MuaTE4bi5tb250aHNbb10rJzxzZWxlY3QgY2xhc3M9InBpa2Etc2VsZWN0IHBpa2Etc2VsZWN0LW1vbnRoIiB0YWJpbmRleD0iLTEiPicrYS5qb2luKCIiKSsiPC9zZWxlY3Q+PC9kaXY+IixoKGMueWVhclJhbmdlKT8oaT1jLnllYXJSYW5nZVswXSxzPWMueWVhclJhbmdlWzFdKzEpOihpPW4tYy55ZWFyUmFuZ2Uscz0xK24rYy55ZWFyUmFuZ2UpLGE9W107cz5pJiZpPD1jLm1heFllYXI7aSsrKWk+PWMubWluWWVhciYmYS5wdXNoKCc8b3B0aW9uIHZhbHVlPSInK2krJyInKyhpPT09bj8iIHNlbGVjdGVkIjoiIikrIj4iK2krIjwvb3B0aW9uPiIpO3JldHVybiB1PSc8ZGl2IGNsYXNzPSJwaWthLWxhYmVsIj4nK24rYy55ZWFyU3VmZml4Kyc8c2VsZWN0IGNsYXNzPSJwaWthLXNlbGVjdCBwaWthLXNlbGVjdC15ZWFyIiB0YWJpbmRleD0iLTEiPicrYS5qb2luKCIiKSsiPC9zZWxlY3Q+PC9kaXY+IixwKz1jLnNob3dNb250aEFmdGVyWWVhcj91K2w6bCt1LGQmJigwPT09b3x8Yy5taW5Nb250aD49bykmJihnPSExKSxmJiYoMTE9PT1vfHxjLm1heE1vbnRoPD1vKSYmKG09ITEpLDA9PT10JiYocCs9JzxidXR0b24gY2xhc3M9InBpa2EtcHJldicrKGc/IiI6IiBpcy1kaXNhYmxlZCIpKyciIHR5cGU9ImJ1dHRvbiI+JytjLmkxOG4ucHJldmlvdXNNb250aCsiPC9idXR0b24+IiksdD09PWUuX28ubnVtYmVyT2ZNb250aHMtMSYmKHArPSc8YnV0dG9uIGNsYXNzPSJwaWthLW5leHQnKyhtPyIiOiIgaXMtZGlzYWJsZWQiKSsnIiB0eXBlPSJidXR0b24iPicrYy5pMThuLm5leHRNb250aCsiPC9idXR0b24+IikscCs9IjwvZGl2PiJ9LGs9ZnVuY3Rpb24oZSx0KXtyZXR1cm4nPHRhYmxlIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgY2xhc3M9InBpa2EtdGFibGUiPicrTShlKStUKHQpKyI8L3RhYmxlPiJ9LEg9ZnVuY3Rpb24ocyl7dmFyIGE9dGhpcyxsPWEuY29uZmlnKHMpO2EuX29uTW91c2VEb3duPWZ1bmN0aW9uKGUpe2lmKGEuX3Ype2U9ZXx8d2luZG93LmV2ZW50O3ZhciB0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQ7aWYodClpZih1KHQsImlzLWRpc2FibGVkIil8fCh1KHQsInBpa2EtYnV0dG9uIikmJiF1KHQsImlzLWVtcHR5Iik/KGEuc2V0RGF0ZShuZXcgRGF0ZSh0LmdldEF0dHJpYnV0ZSgiZGF0YS1waWthLXllYXIiKSx0LmdldEF0dHJpYnV0ZSgiZGF0YS1waWthLW1vbnRoIiksdC5nZXRBdHRyaWJ1dGUoImRhdGEtcGlrYS1kYXkiKSkpLGwuYm91bmQmJnIoZnVuY3Rpb24oKXthLmhpZGUoKSxsLmZpZWxkJiZsLmZpZWxkLmJsdXIoKX0sMTAwKSk6dSh0LCJwaWthLXByZXYiKT9hLnByZXZNb250aCgpOnUodCwicGlrYS1uZXh0IikmJmEubmV4dE1vbnRoKCkpLHUodCwicGlrYS1zZWxlY3QiKSlhLl9jPSEwO2Vsc2V7aWYoIWUucHJldmVudERlZmF1bHQpcmV0dXJuIGUucmV0dXJuVmFsdWU9ITEsITE7ZS5wcmV2ZW50RGVmYXVsdCgpfX19LGEuX29uQ2hhbmdlPWZ1bmN0aW9uKGUpe2U9ZXx8d2luZG93LmV2ZW50O3ZhciB0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQ7dCYmKHUodCwicGlrYS1zZWxlY3QtbW9udGgiKT9hLmdvdG9Nb250aCh0LnZhbHVlKTp1KHQsInBpa2Etc2VsZWN0LXllYXIiKSYmYS5nb3RvWWVhcih0LnZhbHVlKSl9LGEuX29uSW5wdXRDaGFuZ2U9ZnVuY3Rpb24obil7dmFyIG87bi5maXJlZEJ5IT09YSYmKHQ/KG89ZShsLmZpZWxkLnZhbHVlLGwuZm9ybWF0KSxvPW8mJm8uaXNWYWxpZCgpP28udG9EYXRlKCk6bnVsbCk6bz1uZXcgRGF0ZShEYXRlLnBhcnNlKGwuZmllbGQudmFsdWUpKSxmKG8pJiZhLnNldERhdGUobyksYS5fdnx8YS5zaG93KCkpfSxhLl9vbklucHV0Rm9jdXM9ZnVuY3Rpb24oKXthLnNob3coKX0sYS5fb25JbnB1dENsaWNrPWZ1bmN0aW9uKCl7YS5zaG93KCl9LGEuX29uSW5wdXRCbHVyPWZ1bmN0aW9uKCl7dmFyIGU9by5hY3RpdmVFbGVtZW50O2RvIGlmKHUoZSwicGlrYS1zaW5nbGUiKSlyZXR1cm47d2hpbGUoZT1lLnBhcmVudE5vZGUpO2EuX2N8fChhLl9iPXIoZnVuY3Rpb24oKXthLmhpZGUoKX0sNTApKSxhLl9jPSExfSxhLl9vbkNsaWNrPWZ1bmN0aW9uKGUpe2U9ZXx8d2luZG93LmV2ZW50O3ZhciB0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQsbz10O2lmKHQpeyFuJiZ1KHQsInBpa2Etc2VsZWN0IikmJih0Lm9uY2hhbmdlfHwodC5zZXRBdHRyaWJ1dGUoIm9uY2hhbmdlIiwicmV0dXJuOyIpLGkodCwiY2hhbmdlIixhLl9vbkNoYW5nZSkpKTtkbyBpZih1KG8sInBpa2Etc2luZ2xlIil8fG89PT1sLnRyaWdnZXIpcmV0dXJuO3doaWxlKG89by5wYXJlbnROb2RlKTthLl92JiZ0IT09bC50cmlnZ2VyJiZvIT09bC50cmlnZ2VyJiZhLmhpZGUoKX19LGEuZWw9by5jcmVhdGVFbGVtZW50KCJkaXYiKSxhLmVsLmNsYXNzTmFtZT0icGlrYS1zaW5nbGUiKyhsLmlzUlRMPyIgaXMtcnRsIjoiIikrKGwudGhlbWU/IiAiK2wudGhlbWU6IiIpLGkoYS5lbCwibW91c2Vkb3duIixhLl9vbk1vdXNlRG93biwhMCksaShhLmVsLCJ0b3VjaGVuZCIsYS5fb25Nb3VzZURvd24sITApLGkoYS5lbCwiY2hhbmdlIixhLl9vbkNoYW5nZSksbC5maWVsZCYmKGwuY29udGFpbmVyP2wuY29udGFpbmVyLmFwcGVuZENoaWxkKGEuZWwpOmwuYm91bmQ/by5ib2R5LmFwcGVuZENoaWxkKGEuZWwpOmwuZmllbGQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYS5lbCxsLmZpZWxkLm5leHRTaWJsaW5nKSxpKGwuZmllbGQsImNoYW5nZSIsYS5fb25JbnB1dENoYW5nZSksbC5kZWZhdWx0RGF0ZXx8KHQmJmwuZmllbGQudmFsdWU/bC5kZWZhdWx0RGF0ZT1lKGwuZmllbGQudmFsdWUsbC5mb3JtYXQpLnRvRGF0ZSgpOmwuZGVmYXVsdERhdGU9bmV3IERhdGUoRGF0ZS5wYXJzZShsLmZpZWxkLnZhbHVlKSksbC5zZXREZWZhdWx0RGF0ZT0hMCkpO3ZhciBjPWwuZGVmYXVsdERhdGU7ZihjKT9sLnNldERlZmF1bHREYXRlP2Euc2V0RGF0ZShjLCEwKTphLmdvdG9EYXRlKGMpOmEuZ290b0RhdGUobmV3IERhdGUpLGwuYm91bmQ/KHRoaXMuaGlkZSgpLGEuZWwuY2xhc3NOYW1lKz0iIGlzLWJvdW5kIixpKGwudHJpZ2dlciwiY2xpY2siLGEuX29uSW5wdXRDbGljayksaShsLnRyaWdnZXIsImZvY3VzIixhLl9vbklucHV0Rm9jdXMpLGkobC50cmlnZ2VyLCJibHVyIixhLl9vbklucHV0Qmx1cikpOnRoaXMuc2hvdygpfTtyZXR1cm4gSC5wcm90b3R5cGU9e2NvbmZpZzpmdW5jdGlvbihlKXt0aGlzLl9vfHwodGhpcy5fbz15KHt9LEMsITApKTt2YXIgdD15KHRoaXMuX28sZSwhMCk7dC5pc1JUTD0hIXQuaXNSVEwsdC5maWVsZD10LmZpZWxkJiZ0LmZpZWxkLm5vZGVOYW1lP3QuZmllbGQ6bnVsbCx0LnRoZW1lPSJzdHJpbmciPT10eXBlb2YgdC50aGVtZSYmdC50aGVtZT90LnRoZW1lOm51bGwsdC5ib3VuZD0hISh2b2lkIDAhPT10LmJvdW5kP3QuZmllbGQmJnQuYm91bmQ6dC5maWVsZCksdC50cmlnZ2VyPXQudHJpZ2dlciYmdC50cmlnZ2VyLm5vZGVOYW1lP3QudHJpZ2dlcjp0LmZpZWxkLHQuZGlzYWJsZVdlZWtlbmRzPSEhdC5kaXNhYmxlV2Vla2VuZHMsdC5kaXNhYmxlRGF5Rm49ImZ1bmN0aW9uIj09dHlwZW9mIHQuZGlzYWJsZURheUZuP3QuZGlzYWJsZURheUZuOm51bGw7dmFyIG49cGFyc2VJbnQodC5udW1iZXJPZk1vbnRocywxMCl8fDE7aWYodC5udW1iZXJPZk1vbnRocz1uPjQ/NDpuLGYodC5taW5EYXRlKXx8KHQubWluRGF0ZT0hMSksZih0Lm1heERhdGUpfHwodC5tYXhEYXRlPSExKSx0Lm1pbkRhdGUmJnQubWF4RGF0ZSYmdC5tYXhEYXRlPHQubWluRGF0ZSYmKHQubWF4RGF0ZT10Lm1pbkRhdGU9ITEpLHQubWluRGF0ZSYmdGhpcy5zZXRNaW5EYXRlKHQubWluRGF0ZSksdC5tYXhEYXRlJiZ0aGlzLnNldE1heERhdGUodC5tYXhEYXRlKSxoKHQueWVhclJhbmdlKSl7dmFyIG89KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLTEwO3QueWVhclJhbmdlWzBdPXBhcnNlSW50KHQueWVhclJhbmdlWzBdLDEwKXx8byx0LnllYXJSYW5nZVsxXT1wYXJzZUludCh0LnllYXJSYW5nZVsxXSwxMCl8fG99ZWxzZSB0LnllYXJSYW5nZT1NYXRoLmFicyhwYXJzZUludCh0LnllYXJSYW5nZSwxMCkpfHxDLnllYXJSYW5nZSx0LnllYXJSYW5nZT4xMDAmJih0LnllYXJSYW5nZT0xMDApO3JldHVybiB0fSx0b1N0cmluZzpmdW5jdGlvbihuKXtyZXR1cm4gZih0aGlzLl9kKT90P2UodGhpcy5fZCkuZm9ybWF0KG58fHRoaXMuX28uZm9ybWF0KTp0aGlzLl9kLnRvRGF0ZVN0cmluZygpOiIifSxnZXRNb21lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdD9lKHRoaXMuX2QpOm51bGx9LHNldE1vbWVudDpmdW5jdGlvbihuLG8pe3QmJmUuaXNNb21lbnQobikmJnRoaXMuc2V0RGF0ZShuLnRvRGF0ZSgpLG8pfSxnZXREYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5fZCk/bmV3IERhdGUodGhpcy5fZC5nZXRUaW1lKCkpOm51bGx9LHNldERhdGU6ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gdGhpcy5fZD1udWxsLHRoaXMuX28uZmllbGQmJih0aGlzLl9vLmZpZWxkLnZhbHVlPSIiLGEodGhpcy5fby5maWVsZCwiY2hhbmdlIix7ZmlyZWRCeTp0aGlzfSkpLHRoaXMuZHJhdygpO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmKGU9bmV3IERhdGUoRGF0ZS5wYXJzZShlKSkpLGYoZSkpe3ZhciBuPXRoaXMuX28ubWluRGF0ZSxvPXRoaXMuX28ubWF4RGF0ZTtmKG4pJiZuPmU/ZT1uOmYobykmJmU+byYmKGU9byksdGhpcy5fZD1uZXcgRGF0ZShlLmdldFRpbWUoKSksdih0aGlzLl9kKSx0aGlzLmdvdG9EYXRlKHRoaXMuX2QpLHRoaXMuX28uZmllbGQmJih0aGlzLl9vLmZpZWxkLnZhbHVlPXRoaXMudG9TdHJpbmcoKSxhKHRoaXMuX28uZmllbGQsImNoYW5nZSIse2ZpcmVkQnk6dGhpc30pKSx0fHwiZnVuY3Rpb24iIT10eXBlb2YgdGhpcy5fby5vblNlbGVjdHx8dGhpcy5fby5vblNlbGVjdC5jYWxsKHRoaXMsdGhpcy5nZXREYXRlKCkpfX0sZ290b0RhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ITA7aWYoZihlKSl7aWYodGhpcy5jYWxlbmRhcnMpe3ZhciBuPW5ldyBEYXRlKHRoaXMuY2FsZW5kYXJzWzBdLnllYXIsdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgsMSksbz1uZXcgRGF0ZSh0aGlzLmNhbGVuZGFyc1t0aGlzLmNhbGVuZGFycy5sZW5ndGgtMV0ueWVhcix0aGlzLmNhbGVuZGFyc1t0aGlzLmNhbGVuZGFycy5sZW5ndGgtMV0ubW9udGgsMSkscj1lLmdldFRpbWUoKTtvLnNldE1vbnRoKG8uZ2V0TW9udGgoKSsxKSxvLnNldERhdGUoby5nZXREYXRlKCktMSksdD1yPG4uZ2V0VGltZSgpfHxvLmdldFRpbWUoKTxyfXQmJih0aGlzLmNhbGVuZGFycz1be21vbnRoOmUuZ2V0TW9udGgoKSx5ZWFyOmUuZ2V0RnVsbFllYXIoKX1dLCJyaWdodCI9PT10aGlzLl9vLm1haW5DYWxlbmRhciYmKHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoKz0xLXRoaXMuX28ubnVtYmVyT2ZNb250aHMpKSx0aGlzLmFkanVzdENhbGVuZGFycygpfX0sYWRqdXN0Q2FsZW5kYXJzOmZ1bmN0aW9uKCl7dGhpcy5jYWxlbmRhcnNbMF09Yih0aGlzLmNhbGVuZGFyc1swXSk7Zm9yKHZhciBlPTE7ZTx0aGlzLl9vLm51bWJlck9mTW9udGhzO2UrKyl0aGlzLmNhbGVuZGFyc1tlXT1iKHttb250aDp0aGlzLmNhbGVuZGFyc1swXS5tb250aCtlLHllYXI6dGhpcy5jYWxlbmRhcnNbMF0ueWVhcn0pO3RoaXMuZHJhdygpfSxnb3RvVG9kYXk6ZnVuY3Rpb24oKXt0aGlzLmdvdG9EYXRlKG5ldyBEYXRlKX0sZ290b01vbnRoOmZ1bmN0aW9uKGUpe2lzTmFOKGUpfHwodGhpcy5jYWxlbmRhcnNbMF0ubW9udGg9cGFyc2VJbnQoZSwxMCksdGhpcy5hZGp1c3RDYWxlbmRhcnMoKSl9LG5leHRNb250aDpmdW5jdGlvbigpe3RoaXMuY2FsZW5kYXJzWzBdLm1vbnRoKyssdGhpcy5hZGp1c3RDYWxlbmRhcnMoKX0scHJldk1vbnRoOmZ1bmN0aW9uKCl7dGhpcy5jYWxlbmRhcnNbMF0ubW9udGgtLSx0aGlzLmFkanVzdENhbGVuZGFycygpfSxnb3RvWWVhcjpmdW5jdGlvbihlKXtpc05hTihlKXx8KHRoaXMuY2FsZW5kYXJzWzBdLnllYXI9cGFyc2VJbnQoZSwxMCksdGhpcy5hZGp1c3RDYWxlbmRhcnMoKSl9LHNldE1pbkRhdGU6ZnVuY3Rpb24oZSl7dihlKSx0aGlzLl9vLm1pbkRhdGU9ZSx0aGlzLl9vLm1pblllYXI9ZS5nZXRGdWxsWWVhcigpLHRoaXMuX28ubWluTW9udGg9ZS5nZXRNb250aCgpLHRoaXMuZHJhdygpfSxzZXRNYXhEYXRlOmZ1bmN0aW9uKGUpe3YoZSksdGhpcy5fby5tYXhEYXRlPWUsdGhpcy5fby5tYXhZZWFyPWUuZ2V0RnVsbFllYXIoKSx0aGlzLl9vLm1heE1vbnRoPWUuZ2V0TW9udGgoKSx0aGlzLmRyYXcoKX0sc2V0U3RhcnRSYW5nZTpmdW5jdGlvbihlKXt0aGlzLl9vLnN0YXJ0UmFuZ2U9ZX0sc2V0RW5kUmFuZ2U6ZnVuY3Rpb24oZSl7dGhpcy5fby5lbmRSYW5nZT1lfSxkcmF3OmZ1bmN0aW9uKGUpe2lmKHRoaXMuX3Z8fGUpe3ZhciB0PXRoaXMuX28sbj10Lm1pblllYXIsbz10Lm1heFllYXIsaT10Lm1pbk1vbnRoLHM9dC5tYXhNb250aCxhPSIiO3RoaXMuX3k8PW4mJih0aGlzLl95PW4sIWlzTmFOKGkpJiZ0aGlzLl9tPGkmJih0aGlzLl9tPWkpKSx0aGlzLl95Pj1vJiYodGhpcy5feT1vLCFpc05hTihzKSYmdGhpcy5fbT5zJiYodGhpcy5fbT1zKSk7Zm9yKHZhciBsPTA7bDx0Lm51bWJlck9mTW9udGhzO2wrKylhKz0nPGRpdiBjbGFzcz0icGlrYS1sZW5kYXIiPicrTyh0aGlzLGwsdGhpcy5jYWxlbmRhcnNbbF0ueWVhcix0aGlzLmNhbGVuZGFyc1tsXS5tb250aCx0aGlzLmNhbGVuZGFyc1swXS55ZWFyKSt0aGlzLnJlbmRlcih0aGlzLmNhbGVuZGFyc1tsXS55ZWFyLHRoaXMuY2FsZW5kYXJzW2xdLm1vbnRoKSsiPC9kaXY+IjtpZih0aGlzLmVsLmlubmVySFRNTD1hLHQuYm91bmQmJiJoaWRkZW4iIT09dC5maWVsZC50eXBlJiZyKGZ1bmN0aW9uKCl7dC50cmlnZ2VyLmZvY3VzKCl9LDEpLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl9vLm9uRHJhdyl7dmFyIHU9dGhpcztyKGZ1bmN0aW9uKCl7dS5fby5vbkRyYXcuY2FsbCh1KX0sMCl9fX0sYWRqdXN0UG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpLHMsYSxsLHUsYztpZighdGhpcy5fby5jb250YWluZXIpe2lmKHRoaXMuZWwuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixlPXRoaXMuX28udHJpZ2dlcix0PWUsbj10aGlzLmVsLm9mZnNldFdpZHRoLHI9dGhpcy5lbC5vZmZzZXRIZWlnaHQsaT13aW5kb3cuaW5uZXJXaWR0aHx8by5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgscz13aW5kb3cuaW5uZXJIZWlnaHR8fG8uZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxhPXdpbmRvdy5wYWdlWU9mZnNldHx8by5ib2R5LnNjcm9sbFRvcHx8by5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCljPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbD1jLmxlZnQrd2luZG93LnBhZ2VYT2Zmc2V0LHU9Yy5ib3R0b20rd2luZG93LnBhZ2VZT2Zmc2V0O2Vsc2UgZm9yKGw9dC5vZmZzZXRMZWZ0LHU9dC5vZmZzZXRUb3ArdC5vZmZzZXRIZWlnaHQ7dD10Lm9mZnNldFBhcmVudDspbCs9dC5vZmZzZXRMZWZ0LHUrPXQub2Zmc2V0VG9wOyh0aGlzLl9vLnJlcG9zaXRpb24mJmwrbj5pfHx0aGlzLl9vLnBvc2l0aW9uLmluZGV4T2YoInJpZ2h0Iik+LTEmJmwtbitlLm9mZnNldFdpZHRoPjApJiYobD1sLW4rZS5vZmZzZXRXaWR0aCksKHRoaXMuX28ucmVwb3NpdGlvbiYmdStyPnMrYXx8dGhpcy5fby5wb3NpdGlvbi5pbmRleE9mKCJ0b3AiKT4tMSYmdS1yLWUub2Zmc2V0SGVpZ2h0PjApJiYodT11LXItZS5vZmZzZXRIZWlnaHQpLHRoaXMuZWwuc3R5bGUubGVmdD1sKyJweCIsdGhpcy5lbC5zdHlsZS50b3A9dSsicHgifX0scmVuZGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fbyxvPW5ldyBEYXRlLHI9bShlLHQpLGk9bmV3IERhdGUoZSx0LDEpLmdldERheSgpLHM9W10sYT1bXTt2KG8pLG4uZmlyc3REYXk+MCYmKGktPW4uZmlyc3REYXksMD5pJiYoaSs9NykpO2Zvcih2YXIgbD1yK2ksdT1sO3U+NzspdS09NztsKz03LXU7Zm9yKHZhciBjPTAsZD0wO2w+YztjKyspe3ZhciBoPW5ldyBEYXRlKGUsdCwxKyhjLWkpKSxnPWYodGhpcy5fZCk/dyhoLHRoaXMuX2QpOiExLHk9dyhoLG8pLGI9aT5jfHxjPj1yK2ksQz1uLnN0YXJ0UmFuZ2UmJncobi5zdGFydFJhbmdlLGgpLFI9bi5lbmRSYW5nZSYmdyhuLmVuZFJhbmdlLGgpLFQ9bi5zdGFydFJhbmdlJiZuLmVuZFJhbmdlJiZuLnN0YXJ0UmFuZ2U8aCYmaDxuLmVuZFJhbmdlLE09bi5taW5EYXRlJiZoPG4ubWluRGF0ZXx8bi5tYXhEYXRlJiZoPm4ubWF4RGF0ZXx8bi5kaXNhYmxlV2Vla2VuZHMmJnAoaCl8fG4uZGlzYWJsZURheUZuJiZuLmRpc2FibGVEYXlGbihoKSxPPXtkYXk6MSsoYy1pKSxtb250aDp0LHllYXI6ZSxpc1NlbGVjdGVkOmcsaXNUb2RheTp5LGlzRGlzYWJsZWQ6TSxpc0VtcHR5OmIsaXNTdGFydFJhbmdlOkMsaXNFbmRSYW5nZTpSLGlzSW5SYW5nZTpUfTthLnB1c2goXyhPKSksNz09PSsrZCYmKG4uc2hvd1dlZWtOdW1iZXImJmEudW5zaGlmdChTKGMtaSx0LGUpKSxzLnB1c2goRShhLG4uaXNSVEwpKSxhPVtdLGQ9MCl9cmV0dXJuIGsobixzKX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Z9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLl92fHwoZCh0aGlzLmVsLCJpcy1oaWRkZW4iKSx0aGlzLl92PSEwLHRoaXMuZHJhdygpLHRoaXMuX28uYm91bmQmJihpKG8sImNsaWNrIix0aGlzLl9vbkNsaWNrKSx0aGlzLmFkanVzdFBvc2l0aW9uKCkpLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl9vLm9uT3BlbiYmdGhpcy5fby5vbk9wZW4uY2FsbCh0aGlzKSl9LGhpZGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl92O2UhPT0hMSYmKHRoaXMuX28uYm91bmQmJnMobywiY2xpY2siLHRoaXMuX29uQ2xpY2spLHRoaXMuZWwuc3R5bGUucG9zaXRpb249InN0YXRpYyIsdGhpcy5lbC5zdHlsZS5sZWZ0PSJhdXRvIix0aGlzLmVsLnN0eWxlLnRvcD0iYXV0byIsYyh0aGlzLmVsLCJpcy1oaWRkZW4iKSx0aGlzLl92PSExLHZvaWQgMCE9PWUmJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl9vLm9uQ2xvc2UmJnRoaXMuX28ub25DbG9zZS5jYWxsKHRoaXMpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGlkZSgpLHModGhpcy5lbCwibW91c2Vkb3duIix0aGlzLl9vbk1vdXNlRG93biwhMCkscyh0aGlzLmVsLCJ0b3VjaGVuZCIsdGhpcy5fb25Nb3VzZURvd24sITApLHModGhpcy5lbCwiY2hhbmdlIix0aGlzLl9vbkNoYW5nZSksdGhpcy5fby5maWVsZCYmKHModGhpcy5fby5maWVsZCwiY2hhbmdlIix0aGlzLl9vbklucHV0Q2hhbmdlKSx0aGlzLl9vLmJvdW5kJiYocyh0aGlzLl9vLnRyaWdnZXIsImNsaWNrIix0aGlzLl9vbklucHV0Q2xpY2spLHModGhpcy5fby50cmlnZ2VyLCJmb2N1cyIsdGhpcy5fb25JbnB1dEZvY3VzKSxzKHRoaXMuX28udHJpZ2dlciwiYmx1ciIsdGhpcy5fb25JbnB1dEJsdXIpKSksdGhpcy5lbC5wYXJlbnROb2RlJiZ0aGlzLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbCl9fSxIfSl9LHttb21lbnQ6Im1vbWVudCJ9XSx6ZXJvY2xpcGJvYXJkOltmdW5jdGlvbih0LG4sbyl7LyohCiAqIFplcm9DbGlwYm9hcmQKICogVGhlIFplcm9DbGlwYm9hcmQgbGlicmFyeSBwcm92aWRlcyBhbiBlYXN5IHdheSB0byBjb3B5IHRleHQgdG8gdGhlIGNsaXBib2FyZCB1c2luZyBhbiBpbnZpc2libGUgQWRvYmUgRmxhc2ggbW92aWUgYW5kIGEgSmF2YVNjcmlwdCBpbnRlcmZhY2UuCiAqIENvcHlyaWdodCAoYykgMjAwOS0yMDE0IEpvbiBSb2hhbiwgSmFtZXMgTS4gR3JlZW5lCiAqIExpY2Vuc2VkIE1JVAogKiBodHRwOi8vemVyb2NsaXBib2FyZC5vcmcvCiAqIHYyLjIuMAogKi8KIWZ1bmN0aW9uKHQsbyl7InVzZSBzdHJpY3QiO3ZhciByLGkscyxhPXQsbD1hLmRvY3VtZW50LHU9YS5uYXZpZ2F0b3IsYz1hLnNldFRpbWVvdXQsZD1hLmNsZWFyVGltZW91dCxoPWEuc2V0SW50ZXJ2YWwsZj1hLmNsZWFySW50ZXJ2YWwscD1hLmdldENvbXB1dGVkU3R5bGUsZz1hLmVuY29kZVVSSUNvbXBvbmVudCxtPWEuQWN0aXZlWE9iamVjdCx2PWEuRXJyb3Isdz1hLk51bWJlci5wYXJzZUludHx8YS5wYXJzZUludCx5PWEuTnVtYmVyLnBhcnNlRmxvYXR8fGEucGFyc2VGbG9hdCxiPWEuTnVtYmVyLmlzTmFOfHxhLmlzTmFOLEM9YS5EYXRlLm5vdyxSPWEuT2JqZWN0LmtleXMsXz1hLk9iamVjdC5kZWZpbmVQcm9wZXJ0eSxTPWEuT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxFPWEuQXJyYXkucHJvdG90eXBlLnNsaWNlLFQ9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlKXtyZXR1cm4gZX07aWYoImZ1bmN0aW9uIj09dHlwZW9mIGEud3JhcCYmImZ1bmN0aW9uIj09dHlwZW9mIGEudW53cmFwKXRyeXt2YXIgdD1sLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG49YS51bndyYXAodCk7MT09PXQubm9kZVR5cGUmJm4mJjE9PT1uLm5vZGVUeXBlJiYoZT1hLnVud3JhcCl9Y2F0Y2gobyl7fXJldHVybiBlfSgpLE09ZnVuY3Rpb24oZSl7cmV0dXJuIEUuY2FsbChlLDApfSxPPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxzLGE9TShhcmd1bWVudHMpLGw9YVswXXx8e307Zm9yKGU9MSx0PWEubGVuZ3RoO3Q+ZTtlKyspaWYobnVsbCE9KG49YVtlXSkpZm9yKHIgaW4gbilTLmNhbGwobixyKSYmKGk9bFtyXSxzPW5bcl0sbCE9PXMmJnMhPT1vJiYobFtyXT1zKSk7cmV0dXJuIGx9LGs9ZnVuY3Rpb24oZSl7dmFyIHQsbixvLHI7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHxudWxsPT1lfHwibnVtYmVyIj09dHlwZW9mIGUubm9kZVR5cGUpdD1lO2Vsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aClmb3IodD1bXSxuPTAsbz1lLmxlbmd0aDtvPm47bisrKVMuY2FsbChlLG4pJiYodFtuXT1rKGVbbl0pKTtlbHNle3Q9e307Zm9yKHIgaW4gZSlTLmNhbGwoZSxyKSYmKHRbcl09ayhlW3JdKSl9cmV0dXJuIHR9LEg9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e30sbz0wLHI9dC5sZW5ndGg7cj5vO28rKyl0W29daW4gZSYmKG5bdFtvXV09ZVt0W29dXSk7cmV0dXJuIG59LEQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIG8gaW4gZSktMT09PXQuaW5kZXhPZihvKSYmKG5bb109ZVtvXSk7cmV0dXJuIG59LHg9ZnVuY3Rpb24oZSl7aWYoZSlmb3IodmFyIHQgaW4gZSlTLmNhbGwoZSx0KSYmZGVsZXRlIGVbdF07cmV0dXJuIGV9LEE9ZnVuY3Rpb24oZSx0KXtpZihlJiYxPT09ZS5ub2RlVHlwZSYmZS5vd25lckRvY3VtZW50JiZ0JiYoMT09PXQubm9kZVR5cGUmJnQub3duZXJEb2N1bWVudCYmdC5vd25lckRvY3VtZW50PT09ZS5vd25lckRvY3VtZW50fHw5PT09dC5ub2RlVHlwZSYmIXQub3duZXJEb2N1bWVudCYmdD09PWUub3duZXJEb2N1bWVudCkpZG97aWYoZT09PXQpcmV0dXJuITA7ZT1lLnBhcmVudE5vZGV9d2hpbGUoZSk7cmV0dXJuITF9LFA9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZlJiYodD1lLnNwbGl0KCIjIilbMF0uc3BsaXQoIj8iKVswXSx0PWUuc2xpY2UoMCxlLmxhc3RJbmRleE9mKCIvIikrMSkpLHR9LE49ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJmUmJihuPWUubWF0Y2goL14oPzp8W146QF0qQHwuK1wpQCg/PWh0dHBbc10/fGZpbGUpfC4rP1xzKyg/OiBhdCB8QCkoPzpbXjpcKF0rICkqW1woXT8pKCg/Omh0dHBbc10/fGZpbGUpOlwvXC9bXC9dPy4rP1wvW146XCldKj8pKD86OlxkKykoPzo6XGQrKT8vKSxuJiZuWzFdP3Q9blsxXToobj1lLm1hdGNoKC9cKUAoKD86aHR0cFtzXT98ZmlsZSk6XC9cL1tcL10/Lis/XC9bXjpcKV0qPykoPzo6XGQrKSg/OjpcZCspPy8pLG4mJm5bMV0mJih0PW5bMV0pKSksdH0sTD1mdW5jdGlvbigpe3ZhciBlLHQ7dHJ5e3Rocm93IG5ldyB2fWNhdGNoKG4pe3Q9bn1yZXR1cm4gdCYmKGU9dC5zb3VyY2VVUkx8fHQuZmlsZU5hbWV8fE4odC5zdGFjaykpLGV9LFc9ZnVuY3Rpb24oKXt2YXIgZSx0LG47aWYobC5jdXJyZW50U2NyaXB0JiYoZT1sLmN1cnJlbnRTY3JpcHQuc3JjKSlyZXR1cm4gZTtpZih0PWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLDE9PT10Lmxlbmd0aClyZXR1cm4gdFswXS5zcmN8fG87aWYoInJlYWR5U3RhdGUiaW4gdFswXSlmb3Iobj10Lmxlbmd0aDtuLS07KWlmKCJpbnRlcmFjdGl2ZSI9PT10W25dLnJlYWR5U3RhdGUmJihlPXRbbl0uc3JjKSlyZXR1cm4gZTtyZXR1cm4ibG9hZGluZyI9PT1sLnJlYWR5U3RhdGUmJihlPXRbdC5sZW5ndGgtMV0uc3JjKT9lOihlPUwoKSk/ZTpvfSxJPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9bC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0Iik7Zm9yKGU9ci5sZW5ndGg7ZS0tOyl7aWYoIShuPXJbZV0uc3JjKSl7dD1udWxsO2JyZWFrfWlmKG49UChuKSxudWxsPT10KXQ9bjtlbHNlIGlmKHQhPT1uKXt0PW51bGw7YnJlYWt9fXJldHVybiB0fHxvfSxqPWZ1bmN0aW9uKCl7dmFyIGU9UChXKCkpfHxJKCl8fCIiO3JldHVybiBlKyJaZXJvQ2xpcGJvYXJkLnN3ZiJ9LFY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dC5vcGVuZXImJighIXQudG9wJiZ0IT10LnRvcHx8ISF0LnBhcmVudCYmdCE9dC5wYXJlbnQpfSgpLEI9e2JyaWRnZTpudWxsLHZlcnNpb246IjAuMC4wIixwbHVnaW5UeXBlOiJ1bmtub3duIixkaXNhYmxlZDpudWxsLG91dGRhdGVkOm51bGwsc2FuZGJveGVkOm51bGwsdW5hdmFpbGFibGU6bnVsbCxkZWdyYWRlZDpudWxsLGRlYWN0aXZhdGVkOm51bGwsb3ZlcmR1ZTpudWxsLHJlYWR5Om51bGx9LEY9IjExLjAuMCIsej17fSxZPXt9LFU9bnVsbCxHPTAsJD0wLEs9e3JlYWR5OiJGbGFzaCBjb21tdW5pY2F0aW9uIGlzIGVzdGFibGlzaGVkIixlcnJvcjp7ImZsYXNoLWRpc2FibGVkIjoiRmxhc2ggaXMgZGlzYWJsZWQgb3Igbm90IGluc3RhbGxlZC4gTWF5IGFsc28gYmUgYXR0ZW1wdGluZyB0byBydW4gRmxhc2ggaW4gYSBzYW5kYm94ZWQgaWZyYW1lLCB3aGljaCBpcyBpbXBvc3NpYmxlLiIsImZsYXNoLW91dGRhdGVkIjoiRmxhc2ggaXMgdG9vIG91dGRhdGVkIHRvIHN1cHBvcnQgWmVyb0NsaXBib2FyZCIsImZsYXNoLXNhbmRib3hlZCI6IkF0dGVtcHRpbmcgdG8gcnVuIEZsYXNoIGluIGEgc2FuZGJveGVkIGlmcmFtZSwgd2hpY2ggaXMgaW1wb3NzaWJsZSIsImZsYXNoLXVuYXZhaWxhYmxlIjoiRmxhc2ggaXMgdW5hYmxlIHRvIGNvbW11bmljYXRlIGJpZGlyZWN0aW9uYWxseSB3aXRoIEphdmFTY3JpcHQiLCJmbGFzaC1kZWdyYWRlZCI6IkZsYXNoIGlzIHVuYWJsZSB0byBwcmVzZXJ2ZSBkYXRhIGZpZGVsaXR5IHdoZW4gY29tbXVuaWNhdGluZyB3aXRoIEphdmFTY3JpcHQiLCJmbGFzaC1kZWFjdGl2YXRlZCI6IkZsYXNoIGlzIHRvbyBvdXRkYXRlZCBmb3IgeW91ciBicm93c2VyIGFuZC9vciBpcyBjb25maWd1cmVkIGFzIGNsaWNrLXRvLWFjdGl2YXRlLlxuVGhpcyBtYXkgYWxzbyBtZWFuIHRoYXQgdGhlIFplcm9DbGlwYm9hcmQgU1dGIG9iamVjdCBjb3VsZCBub3QgYmUgbG9hZGVkLCBzbyBwbGVhc2UgY2hlY2sgeW91ciBgc3dmUGF0aGAgY29uZmlndXJhdGlvbiBhbmQvb3IgbmV0d29yayBjb25uZWN0aXZpdHkuXG5NYXkgYWxzbyBiZSBhdHRlbXB0aW5nIHRvIHJ1biBGbGFzaCBpbiBhIHNhbmRib3hlZCBpZnJhbWUsIHdoaWNoIGlzIGltcG9zc2libGUuIiwiZmxhc2gtb3ZlcmR1ZSI6IkZsYXNoIGNvbW11bmljYXRpb24gd2FzIGVzdGFibGlzaGVkIGJ1dCBOT1Qgd2l0aGluIHRoZSBhY2NlcHRhYmxlIHRpbWUgbGltaXQiLCJ2ZXJzaW9uLW1pc21hdGNoIjoiWmVyb0NsaXBib2FyZCBKUyB2ZXJzaW9uIG51bWJlciBkb2VzIG5vdCBtYXRjaCBaZXJvQ2xpcGJvYXJkIFNXRiB2ZXJzaW9uIG51bWJlciIsImNsaXBib2FyZC1lcnJvciI6IkF0IGxlYXN0IG9uZSBlcnJvciB3YXMgdGhyb3duIHdoaWxlIFplcm9DbGlwYm9hcmQgd2FzIGF0dGVtcHRpbmcgdG8gaW5qZWN0IHlvdXIgZGF0YSBpbnRvIHRoZSBjbGlwYm9hcmQiLCJjb25maWctbWlzbWF0Y2giOiJaZXJvQ2xpcGJvYXJkIGNvbmZpZ3VyYXRpb24gZG9lcyBub3QgbWF0Y2ggRmxhc2gncyByZWFsaXR5Iiwic3dmLW5vdC1mb3VuZCI6IlRoZSBaZXJvQ2xpcGJvYXJkIFNXRiBvYmplY3QgY291bGQgbm90IGJlIGxvYWRlZCwgc28gcGxlYXNlIGNoZWNrIHlvdXIgYHN3ZlBhdGhgIGNvbmZpZ3VyYXRpb24gYW5kL29yIG5ldHdvcmsgY29ubmVjdGl2aXR5In19LFg9WyJmbGFzaC11bmF2YWlsYWJsZSIsImZsYXNoLWRlZ3JhZGVkIiwiZmxhc2gtb3ZlcmR1ZSIsInZlcnNpb24tbWlzbWF0Y2giLCJjb25maWctbWlzbWF0Y2giLCJjbGlwYm9hcmQtZXJyb3IiXSxxPVsiZmxhc2gtZGlzYWJsZWQiLCJmbGFzaC1vdXRkYXRlZCIsImZsYXNoLXNhbmRib3hlZCIsImZsYXNoLXVuYXZhaWxhYmxlIiwiZmxhc2gtZGVncmFkZWQiLCJmbGFzaC1kZWFjdGl2YXRlZCIsImZsYXNoLW92ZXJkdWUiXSxaPW5ldyBSZWdFeHAoIl5mbGFzaC0oIitxLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eZmxhc2gtLywiIil9KS5qb2luKCJ8IikrIikkIiksSj1uZXcgUmVnRXhwKCJeZmxhc2gtKCIrcS5zbGljZSgxKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXmZsYXNoLS8sIiIpfSkuam9pbigifCIpKyIpJCIpLFE9e3N3ZlBhdGg6aigpLHRydXN0ZWREb21haW5zOnQubG9jYXRpb24uaG9zdD9bdC5sb2NhdGlvbi5ob3N0XTpbXSxjYWNoZUJ1c3Q6ITAsZm9yY2VFbmhhbmNlZENsaXBib2FyZDohMSxmbGFzaExvYWRUaW1lb3V0OjNlNCxhdXRvQWN0aXZhdGU6ITAsYnViYmxlRXZlbnRzOiEwLGNvbnRhaW5lcklkOiJnbG9iYWwtemVyb2NsaXBib2FyZC1odG1sLWJyaWRnZSIsY29udGFpbmVyQ2xhc3M6Imdsb2JhbC16ZXJvY2xpcGJvYXJkLWNvbnRhaW5lciIsc3dmT2JqZWN0SWQ6Imdsb2JhbC16ZXJvY2xpcGJvYXJkLWZsYXNoLWJyaWRnZSIsaG92ZXJDbGFzczoiemVyb2NsaXBib2FyZC1pcy1ob3ZlciIsYWN0aXZlQ2xhc3M6Inplcm9jbGlwYm9hcmQtaXMtYWN0aXZlIixmb3JjZUhhbmRDdXJzb3I6ITEsdGl0bGU6bnVsbCx6SW5kZXg6OTk5OTk5OTk5fSxlZT1mdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lKWZvcih2YXIgdCBpbiBlKWlmKFMuY2FsbChlLHQpKWlmKC9eKD86Zm9yY2VIYW5kQ3Vyc29yfHRpdGxlfHpJbmRleHxidWJibGVFdmVudHMpJC8udGVzdCh0KSlRW3RdPWVbdF07ZWxzZSBpZihudWxsPT1CLmJyaWRnZSlpZigiY29udGFpbmVySWQiPT09dHx8InN3Zk9iamVjdElkIj09PXQpe2lmKCFnZShlW3RdKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzcGVjaWZpZWQgYCIrdCsiYCB2YWx1ZSBpcyBub3QgdmFsaWQgYXMgYW4gSFRNTDQgRWxlbWVudCBJRCIpO1FbdF09ZVt0XX1lbHNlIFFbdF09ZVt0XTt7aWYoInN0cmluZyIhPXR5cGVvZiBlfHwhZSlyZXR1cm4gayhRKTtpZihTLmNhbGwoUSxlKSlyZXR1cm4gUVtlXX19LHRlPWZ1bmN0aW9uKCl7cmV0dXJuICRlKCkse2Jyb3dzZXI6SCh1LFsidXNlckFnZW50IiwicGxhdGZvcm0iLCJhcHBOYW1lIl0pLGZsYXNoOkQoQixbImJyaWRnZSJdKSx6ZXJvY2xpcGJvYXJkOnt2ZXJzaW9uOlhlLnZlcnNpb24sY29uZmlnOlhlLmNvbmZpZygpfX19LG5lPWZ1bmN0aW9uKCl7cmV0dXJuISEoQi5kaXNhYmxlZHx8Qi5vdXRkYXRlZHx8Qi5zYW5kYm94ZWR8fEIudW5hdmFpbGFibGV8fEIuZGVncmFkZWR8fEIuZGVhY3RpdmF0ZWQpfSxvZT1mdW5jdGlvbihlLHQpe3ZhciBuLGkscyxhPXt9O2lmKCJzdHJpbmciPT10eXBlb2YgZSYmZSlzPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgvXHMrLyk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGUmJmUmJiJ1bmRlZmluZWQiPT10eXBlb2YgdClmb3IobiBpbiBlKVMuY2FsbChlLG4pJiYic3RyaW5nIj09dHlwZW9mIG4mJm4mJiJmdW5jdGlvbiI9PXR5cGVvZiBlW25dJiZYZS5vbihuLGVbbl0pO2lmKHMmJnMubGVuZ3RoKXtmb3Iobj0wLGk9cy5sZW5ndGg7aT5uO24rKyllPXNbbl0ucmVwbGFjZSgvXm9uLywiIiksYVtlXT0hMCx6W2VdfHwoeltlXT1bXSkseltlXS5wdXNoKHQpO2lmKGEucmVhZHkmJkIucmVhZHkmJlhlLmVtaXQoe3R5cGU6InJlYWR5In0pLGEuZXJyb3Ipe2ZvcihuPTAsaT1xLmxlbmd0aDtpPm47bisrKWlmKEJbcVtuXS5yZXBsYWNlKC9eZmxhc2gtLywiIildPT09ITApe1hlLmVtaXQoe3R5cGU6ImVycm9yIixuYW1lOnFbbl19KTticmVha31yIT09byYmWGUudmVyc2lvbiE9PXImJlhlLmVtaXQoe3R5cGU6ImVycm9yIixuYW1lOiJ2ZXJzaW9uLW1pc21hdGNoIixqc1ZlcnNpb246WGUudmVyc2lvbixzd2ZWZXJzaW9uOnJ9KX19cmV0dXJuIFhlfSxyZT1mdW5jdGlvbihlLHQpe3ZhciBuLG8scixpLHM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpaT1SKHopO2Vsc2UgaWYoInN0cmluZyI9PXR5cGVvZiBlJiZlKWk9ZS5zcGxpdCgvXHMrLyk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGUmJmUmJiJ1bmRlZmluZWQiPT10eXBlb2YgdClmb3IobiBpbiBlKVMuY2FsbChlLG4pJiYic3RyaW5nIj09dHlwZW9mIG4mJm4mJiJmdW5jdGlvbiI9PXR5cGVvZiBlW25dJiZYZS5vZmYobixlW25dKTtpZihpJiZpLmxlbmd0aClmb3Iobj0wLG89aS5sZW5ndGg7bz5uO24rKylpZihlPWlbbl0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9eb24vLCIiKSxzPXpbZV0scyYmcy5sZW5ndGgpaWYodClmb3Iocj1zLmluZGV4T2YodCk7LTEhPT1yOylzLnNwbGljZShyLDEpLHI9cy5pbmRleE9mKHQscik7ZWxzZSBzLmxlbmd0aD0wO3JldHVybiBYZX0saWU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9InN0cmluZyI9PXR5cGVvZiBlJiZlP2soeltlXSl8fG51bGw6ayh6KX0sc2U9ZnVuY3Rpb24oZSl7dmFyIHQsbixvO3JldHVybiBlPW1lKGUpLGUmJiFfZShlKT8icmVhZHkiPT09ZS50eXBlJiZCLm92ZXJkdWU9PT0hMD9YZS5lbWl0KHt0eXBlOiJlcnJvciIsbmFtZToiZmxhc2gtb3ZlcmR1ZSJ9KToodD1PKHt9LGUpLENlLmNhbGwodGhpcyx0KSwiY29weSI9PT1lLnR5cGUmJihvPURlKFkpLG49by5kYXRhLFU9by5mb3JtYXRNYXApLG4pOnZvaWQgMH0sYWU9ZnVuY3Rpb24oKXt2YXIgZT1CLnNhbmRib3hlZDtpZigkZSgpLCJib29sZWFuIiE9dHlwZW9mIEIucmVhZHkmJihCLnJlYWR5PSExKSxCLnNhbmRib3hlZCE9PWUmJkIuc2FuZGJveGVkPT09ITApQi5yZWFkeT0hMSxYZS5lbWl0KHt0eXBlOiJlcnJvciIsbmFtZToiZmxhc2gtc2FuZGJveGVkIn0pO2Vsc2UgaWYoIVhlLmlzRmxhc2hVbnVzYWJsZSgpJiZudWxsPT09Qi5icmlkZ2Upe3ZhciB0PVEuZmxhc2hMb2FkVGltZW91dDsibnVtYmVyIj09dHlwZW9mIHQmJnQ+PTAmJihHPWMoZnVuY3Rpb24oKXsiYm9vbGVhbiIhPXR5cGVvZiBCLmRlYWN0aXZhdGVkJiYoQi5kZWFjdGl2YXRlZD0hMCksQi5kZWFjdGl2YXRlZD09PSEwJiZYZS5lbWl0KHt0eXBlOiJlcnJvciIsbmFtZToiZmxhc2gtZGVhY3RpdmF0ZWQifSl9LHQpKSxCLm92ZXJkdWU9ITEsa2UoKX19LGxlPWZ1bmN0aW9uKCl7WGUuY2xlYXJEYXRhKCksWGUuYmx1cigpLFhlLmVtaXQoImRlc3Ryb3kiKSxIZSgpLFhlLm9mZigpfSx1ZT1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKCJvYmplY3QiPT10eXBlb2YgZSYmZSYmInVuZGVmaW5lZCI9PXR5cGVvZiB0KW49ZSxYZS5jbGVhckRhdGEoKTtlbHNle2lmKCJzdHJpbmciIT10eXBlb2YgZXx8IWUpcmV0dXJuO249e30sbltlXT10fWZvcih2YXIgbyBpbiBuKSJzdHJpbmciPT10eXBlb2YgbyYmbyYmUy5jYWxsKG4sbykmJiJzdHJpbmciPT10eXBlb2YgbltvXSYmbltvXSYmKFlbb109bltvXSl9LGNlPWZ1bmN0aW9uKGUpeyJ1bmRlZmluZWQiPT10eXBlb2YgZT8oeChZKSxVPW51bGwpOiJzdHJpbmciPT10eXBlb2YgZSYmUy5jYWxsKFksZSkmJmRlbGV0ZSBZW2VdfSxkZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/ayhZKToic3RyaW5nIj09dHlwZW9mIGUmJlMuY2FsbChZLGUpP1lbZV06dm9pZCAwfSxoZT1mdW5jdGlvbihlKXtpZihlJiYxPT09ZS5ub2RlVHlwZSl7aSYmKGplKGksUS5hY3RpdmVDbGFzcyksaSE9PWUmJmplKGksUS5ob3ZlckNsYXNzKSksaT1lLEllKGUsUS5ob3ZlckNsYXNzKTt2YXIgdD1lLmdldEF0dHJpYnV0ZSgidGl0bGUiKXx8US50aXRsZTtpZigic3RyaW5nIj09dHlwZW9mIHQmJnQpe3ZhciBuPU9lKEIuYnJpZGdlKTtuJiZuLnNldEF0dHJpYnV0ZSgidGl0bGUiLHQpfXZhciBvPVEuZm9yY2VIYW5kQ3Vyc29yPT09ITB8fCJwb2ludGVyIj09PVZlKGUsImN1cnNvciIpO1VlKG8pLFllKCl9fSxmZT1mdW5jdGlvbigpe3ZhciBlPU9lKEIuYnJpZGdlKTtlJiYoZS5yZW1vdmVBdHRyaWJ1dGUoInRpdGxlIiksZS5zdHlsZS5sZWZ0PSIwcHgiLGUuc3R5bGUudG9wPSItOTk5OXB4IixlLnN0eWxlLndpZHRoPSIxcHgiLGUuc3R5bGUuaGVpZ2h0PSIxcHgiKSxpJiYoamUoaSxRLmhvdmVyQ2xhc3MpLGplKGksUS5hY3RpdmVDbGFzcyksaT1udWxsKX0scGU9ZnVuY3Rpb24oKXtyZXR1cm4gaXx8bnVsbH0sZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZlJiYvXltBLVphLXpdW0EtWmEtejAtOV86XC1cLl0qJC8udGVzdChlKX0sbWU9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoInN0cmluZyI9PXR5cGVvZiBlJiZlPyh0PWUsZT17fSk6Im9iamVjdCI9PXR5cGVvZiBlJiZlJiYic3RyaW5nIj09dHlwZW9mIGUudHlwZSYmZS50eXBlJiYodD1lLnR5cGUpLHQpe3Q9dC50b0xvd2VyQ2FzZSgpLCFlLnRhcmdldCYmKC9eKGNvcHl8YWZ0ZXJjb3B5fF9jbGljaykkLy50ZXN0KHQpfHwiZXJyb3IiPT09dCYmImNsaXBib2FyZC1lcnJvciI9PT1lLm5hbWUpJiYoZS50YXJnZXQ9cyksTyhlLHt0eXBlOnQsdGFyZ2V0OmUudGFyZ2V0fHxpfHxudWxsLHJlbGF0ZWRUYXJnZXQ6ZS5yZWxhdGVkVGFyZ2V0fHxudWxsLGN1cnJlbnRUYXJnZXQ6QiYmQi5icmlkZ2V8fG51bGwsdGltZVN0YW1wOmUudGltZVN0YW1wfHxDKCl8fG51bGx9KTt2YXIgbj1LW2UudHlwZV07cmV0dXJuImVycm9yIj09PWUudHlwZSYmZS5uYW1lJiZuJiYobj1uW2UubmFtZV0pLG4mJihlLm1lc3NhZ2U9biksInJlYWR5Ij09PWUudHlwZSYmTyhlLHt0YXJnZXQ6bnVsbCx2ZXJzaW9uOkIudmVyc2lvbn0pLCJlcnJvciI9PT1lLnR5cGUmJihaLnRlc3QoZS5uYW1lKSYmTyhlLHt0YXJnZXQ6bnVsbCxtaW5pbXVtVmVyc2lvbjpGfSksSi50ZXN0KGUubmFtZSkmJk8oZSx7dmVyc2lvbjpCLnZlcnNpb259KSksImNvcHkiPT09ZS50eXBlJiYoZS5jbGlwYm9hcmREYXRhPXtzZXREYXRhOlhlLnNldERhdGEsY2xlYXJEYXRhOlhlLmNsZWFyRGF0YX0pLCJhZnRlcmNvcHkiPT09ZS50eXBlJiYoZT14ZShlLFUpKSxlLnRhcmdldCYmIWUucmVsYXRlZFRhcmdldCYmKGUucmVsYXRlZFRhcmdldD12ZShlLnRhcmdldCkpLHdlKGUpfX0sdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJkYXRhLWNsaXBib2FyZC10YXJnZXQiKTtyZXR1cm4gdD9sLmdldEVsZW1lbnRCeUlkKHQpOm51bGx9LHdlPWZ1bmN0aW9uKGUpe2lmKGUmJi9eXyg/OmNsaWNrfG1vdXNlKD86b3ZlcnxvdXR8ZG93bnx1cHxtb3ZlKSkkLy50ZXN0KGUudHlwZSkpe3ZhciB0PWUudGFyZ2V0LG49Il9tb3VzZW92ZXIiPT09ZS50eXBlJiZlLnJlbGF0ZWRUYXJnZXQ/ZS5yZWxhdGVkVGFyZ2V0Om8scj0iX21vdXNlb3V0Ij09PWUudHlwZSYmZS5yZWxhdGVkVGFyZ2V0P2UucmVsYXRlZFRhcmdldDpvLGk9QmUodCkscz1hLnNjcmVlbkxlZnR8fGEuc2NyZWVuWHx8MCx1PWEuc2NyZWVuVG9wfHxhLnNjcmVlbll8fDAsYz1sLmJvZHkuc2Nyb2xsTGVmdCtsLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LGQ9bC5ib2R5LnNjcm9sbFRvcCtsLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AsaD1pLmxlZnQrKCJudW1iZXIiPT10eXBlb2YgZS5fc3RhZ2VYP2UuX3N0YWdlWDowKSxmPWkudG9wKygibnVtYmVyIj09dHlwZW9mIGUuX3N0YWdlWT9lLl9zdGFnZVk6MCkscD1oLWMsZz1mLWQsbT1zK3Asdj11K2csdz0ibnVtYmVyIj09dHlwZW9mIGUubW92ZW1lbnRYP2UubW92ZW1lbnRYOjAseT0ibnVtYmVyIj09dHlwZW9mIGUubW92ZW1lbnRZP2UubW92ZW1lbnRZOjA7ZGVsZXRlIGUuX3N0YWdlWCxkZWxldGUgZS5fc3RhZ2VZLE8oZSx7c3JjRWxlbWVudDp0LGZyb21FbGVtZW50Om4sdG9FbGVtZW50OnIsc2NyZWVuWDptLHNjcmVlblk6dixwYWdlWDpoLHBhZ2VZOmYsY2xpZW50WDpwLGNsaWVudFk6Zyx4OnAseTpnLG1vdmVtZW50WDp3LG1vdmVtZW50WTp5LG9mZnNldFg6MCxvZmZzZXRZOjAsbGF5ZXJYOjAsbGF5ZXJZOjB9KX1yZXR1cm4gZX0seWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmInN0cmluZyI9PXR5cGVvZiBlLnR5cGUmJmUudHlwZXx8IiI7cmV0dXJuIS9eKD86KD86YmVmb3JlKT9jb3B5fGRlc3Ryb3kpJC8udGVzdCh0KX0sYmU9ZnVuY3Rpb24oZSx0LG4sbyl7bz9jKGZ1bmN0aW9uKCl7ZS5hcHBseSh0LG4pfSwwKTplLmFwcGx5KHQsbil9LENlPWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZSYmZSYmZS50eXBlKXt2YXIgdD15ZShlKSxuPXpbIioiXXx8W10sbz16W2UudHlwZV18fFtdLHI9bi5jb25jYXQobyk7aWYociYmci5sZW5ndGgpe3ZhciBpLHMsbCx1LGMsZD10aGlzO2ZvcihpPTAscz1yLmxlbmd0aDtzPmk7aSsrKWw9cltpXSx1PWQsInN0cmluZyI9PXR5cGVvZiBsJiYiZnVuY3Rpb24iPT10eXBlb2YgYVtsXSYmKGw9YVtsXSksIm9iamVjdCI9PXR5cGVvZiBsJiZsJiYiZnVuY3Rpb24iPT10eXBlb2YgbC5oYW5kbGVFdmVudCYmKHU9bCxsPWwuaGFuZGxlRXZlbnQpLCJmdW5jdGlvbiI9PXR5cGVvZiBsJiYoYz1PKHt9LGUpLGJlKGwsdSxbY10sdCkpfXJldHVybiB0aGlzfX0sUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtyZXR1cm4oVj09PSExfHxlJiYiZXJyb3IiPT09ZS50eXBlJiZlLm5hbWUmJi0xIT09WC5pbmRleE9mKGUubmFtZSkpJiYodD0hMSksdH0sX2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXR8fGl8fG51bGwsbj0ic3dmIj09PWUuX3NvdXJjZTtzd2l0Y2goZGVsZXRlIGUuX3NvdXJjZSxlLnR5cGUpe2Nhc2UiZXJyb3IiOnZhciBvPSJmbGFzaC1zYW5kYm94ZWQiPT09ZS5uYW1lfHxSZShlKTsiYm9vbGVhbiI9PXR5cGVvZiBvJiYoQi5zYW5kYm94ZWQ9byksLTEhPT1xLmluZGV4T2YoZS5uYW1lKT9PKEIse2Rpc2FibGVkOiJmbGFzaC1kaXNhYmxlZCI9PT1lLm5hbWUsb3V0ZGF0ZWQ6ImZsYXNoLW91dGRhdGVkIj09PWUubmFtZSx1bmF2YWlsYWJsZToiZmxhc2gtdW5hdmFpbGFibGUiPT09ZS5uYW1lLGRlZ3JhZGVkOiJmbGFzaC1kZWdyYWRlZCI9PT1lLm5hbWUsZGVhY3RpdmF0ZWQ6ImZsYXNoLWRlYWN0aXZhdGVkIj09PWUubmFtZSxvdmVyZHVlOiJmbGFzaC1vdmVyZHVlIj09PWUubmFtZSxyZWFkeTohMX0pOiJ2ZXJzaW9uLW1pc21hdGNoIj09PWUubmFtZSYmKHI9ZS5zd2ZWZXJzaW9uLE8oQix7ZGlzYWJsZWQ6ITEsb3V0ZGF0ZWQ6ITEsdW5hdmFpbGFibGU6ITEsZGVncmFkZWQ6ITEsZGVhY3RpdmF0ZWQ6ITEsb3ZlcmR1ZTohMSxyZWFkeTohMX0pKSx6ZSgpO2JyZWFrO2Nhc2UicmVhZHkiOnI9ZS5zd2ZWZXJzaW9uO3ZhciBhPUIuZGVhY3RpdmF0ZWQ9PT0hMDtPKEIse2Rpc2FibGVkOiExLG91dGRhdGVkOiExLHNhbmRib3hlZDohMSx1bmF2YWlsYWJsZTohMSxkZWdyYWRlZDohMSxkZWFjdGl2YXRlZDohMSxvdmVyZHVlOmEscmVhZHk6IWF9KSx6ZSgpO2JyZWFrO2Nhc2UiYmVmb3JlY29weSI6cz10O2JyZWFrO2Nhc2UiY29weSI6dmFyIGwsdSxjPWUucmVsYXRlZFRhcmdldDshWVsidGV4dC9odG1sIl0mJiFZWyJ0ZXh0L3BsYWluIl0mJmMmJih1PWMudmFsdWV8fGMub3V0ZXJIVE1MfHxjLmlubmVySFRNTCkmJihsPWMudmFsdWV8fGMudGV4dENvbnRlbnR8fGMuaW5uZXJUZXh0KT8oZS5jbGlwYm9hcmREYXRhLmNsZWFyRGF0YSgpLGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCJ0ZXh0L3BsYWluIixsKSx1IT09bCYmZS5jbGlwYm9hcmREYXRhLnNldERhdGEoInRleHQvaHRtbCIsdSkpOiFZWyJ0ZXh0L3BsYWluIl0mJmUudGFyZ2V0JiYobD1lLnRhcmdldC5nZXRBdHRyaWJ1dGUoImRhdGEtY2xpcGJvYXJkLXRleHQiKSkmJihlLmNsaXBib2FyZERhdGEuY2xlYXJEYXRhKCksZS5jbGlwYm9hcmREYXRhLnNldERhdGEoInRleHQvcGxhaW4iLGwpKTticmVhaztjYXNlImFmdGVyY29weSI6U2UoZSksWGUuY2xlYXJEYXRhKCksdCYmdCE9PVdlKCkmJnQuZm9jdXMmJnQuZm9jdXMoKTticmVhaztjYXNlIl9tb3VzZW92ZXIiOlhlLmZvY3VzKHQpLFEuYnViYmxlRXZlbnRzPT09ITAmJm4mJih0JiZ0IT09ZS5yZWxhdGVkVGFyZ2V0JiYhQShlLnJlbGF0ZWRUYXJnZXQsdCkmJkVlKE8oe30sZSx7dHlwZToibW91c2VlbnRlciIsYnViYmxlczohMSxjYW5jZWxhYmxlOiExfSkpLEVlKE8oe30sZSx7dHlwZToibW91c2VvdmVyIn0pKSk7YnJlYWs7Y2FzZSJfbW91c2VvdXQiOlhlLmJsdXIoKSxRLmJ1YmJsZUV2ZW50cz09PSEwJiZuJiYodCYmdCE9PWUucmVsYXRlZFRhcmdldCYmIUEoZS5yZWxhdGVkVGFyZ2V0LHQpJiZFZShPKHt9LGUse3R5cGU6Im1vdXNlbGVhdmUiLGJ1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pKSxFZShPKHt9LGUse3R5cGU6Im1vdXNlb3V0In0pKSk7YnJlYWs7Y2FzZSJfbW91c2Vkb3duIjpJZSh0LFEuYWN0aXZlQ2xhc3MpLFEuYnViYmxlRXZlbnRzPT09ITAmJm4mJkVlKE8oe30sZSx7dHlwZTplLnR5cGUuc2xpY2UoMSl9KSk7YnJlYWs7Y2FzZSJfbW91c2V1cCI6amUodCxRLmFjdGl2ZUNsYXNzKSxRLmJ1YmJsZUV2ZW50cz09PSEwJiZuJiZFZShPKHt9LGUse3R5cGU6ZS50eXBlLnNsaWNlKDEpfSkpO2JyZWFrO2Nhc2UiX2NsaWNrIjpzPW51bGwsUS5idWJibGVFdmVudHM9PT0hMCYmbiYmRWUoTyh7fSxlLHt0eXBlOmUudHlwZS5zbGljZSgxKX0pKTticmVhaztjYXNlIl9tb3VzZW1vdmUiOlEuYnViYmxlRXZlbnRzPT09ITAmJm4mJkVlKE8oe30sZSx7dHlwZTplLnR5cGUuc2xpY2UoMSl9KSl9cmV0dXJuL15fKD86Y2xpY2t8bW91c2UoPzpvdmVyfG91dHxkb3dufHVwfG1vdmUpKSQvLnRlc3QoZS50eXBlKT8hMDp2b2lkIDB9LFNlPWZ1bmN0aW9uKGUpe2lmKGUuZXJyb3JzJiZlLmVycm9ycy5sZW5ndGg+MCl7dmFyIHQ9ayhlKTtPKHQse3R5cGU6ImVycm9yIixuYW1lOiJjbGlwYm9hcmQtZXJyb3IifSksZGVsZXRlIHQuc3VjY2VzcyxjKGZ1bmN0aW9uKCl7WGUuZW1pdCh0KX0sMCl9fSxFZT1mdW5jdGlvbihlKXtpZihlJiYic3RyaW5nIj09dHlwZW9mIGUudHlwZSYmZSl7dmFyIHQsbj1lLnRhcmdldHx8bnVsbCxvPW4mJm4ub3duZXJEb2N1bWVudHx8bCxyPXt2aWV3Om8uZGVmYXVsdFZpZXd8fGEsY2FuQnViYmxlOiEwLGNhbmNlbGFibGU6ITAsZGV0YWlsOiJjbGljayI9PT1lLnR5cGU/MTowLGJ1dHRvbjoibnVtYmVyIj09dHlwZW9mIGUud2hpY2g/ZS53aGljaC0xOiJudW1iZXIiPT10eXBlb2YgZS5idXR0b24/ZS5idXR0b246by5jcmVhdGVFdmVudD8wOjF9LGk9TyhyLGUpO24mJm8uY3JlYXRlRXZlbnQmJm4uZGlzcGF0Y2hFdmVudCYmKGk9W2kudHlwZSxpLmNhbkJ1YmJsZSxpLmNhbmNlbGFibGUsaS52aWV3LGkuZGV0YWlsLGkuc2NyZWVuWCxpLnNjcmVlblksaS5jbGllbnRYLGkuY2xpZW50WSxpLmN0cmxLZXksaS5hbHRLZXksaS5zaGlmdEtleSxpLm1ldGFLZXksaS5idXR0b24saS5yZWxhdGVkVGFyZ2V0XSx0PW8uY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnRzIiksdC5pbml0TW91c2VFdmVudCYmKHQuaW5pdE1vdXNlRXZlbnQuYXBwbHkodCxpKSx0Ll9zb3VyY2U9ImpzIixuLmRpc3BhdGNoRXZlbnQodCkpKX19LFRlPWZ1bmN0aW9uKCl7dmFyIGU9US5mbGFzaExvYWRUaW1lb3V0O2lmKCJudW1iZXIiPT10eXBlb2YgZSYmZT49MCl7dmFyIHQ9TWF0aC5taW4oMWUzLGUvMTApLG49US5zd2ZPYmplY3RJZCsiX2ZhbGxiYWNrQ29udGVudCI7JD1oKGZ1bmN0aW9uKCl7dmFyIGU9bC5nZXRFbGVtZW50QnlJZChuKTtGZShlKSYmKHplKCksQi5kZWFjdGl2YXRlZD1udWxsLFhlLmVtaXQoe3R5cGU6ImVycm9yIixuYW1lOiJzd2Ytbm90LWZvdW5kIn0pKX0sdCl9fSxNZT1mdW5jdGlvbigpe3ZhciBlPWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuaWQ9US5jb250YWluZXJJZCxlLmNsYXNzTmFtZT1RLmNvbnRhaW5lckNsYXNzLGUuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixlLnN0eWxlLmxlZnQ9IjBweCIsZS5zdHlsZS50b3A9Ii05OTk5cHgiLGUuc3R5bGUud2lkdGg9IjFweCIsZS5zdHlsZS5oZWlnaHQ9IjFweCIsZS5zdHlsZS56SW5kZXg9IiIrR2UoUS56SW5kZXgpLGV9LE9lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lJiZlLnBhcmVudE5vZGU7dCYmIk9CSkVDVCI9PT10Lm5vZGVOYW1lJiZ0LnBhcmVudE5vZGU7KXQ9dC5wYXJlbnROb2RlO3JldHVybiB0fHxudWxsfSxrZT1mdW5jdGlvbigpe3ZhciBlLHQ9Qi5icmlkZ2Usbj1PZSh0KTtpZighdCl7dmFyIG89TGUoYS5sb2NhdGlvbi5ob3N0LFEpLHI9Im5ldmVyIj09PW8/Im5vbmUiOiJhbGwiLGk9UGUoTyh7anNWZXJzaW9uOlhlLnZlcnNpb259LFEpKSxzPVEuc3dmUGF0aCtBZShRLnN3ZlBhdGgsUSk7bj1NZSgpO3ZhciB1PWwuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5hcHBlbmRDaGlsZCh1KSxsLmJvZHkuYXBwZW5kQ2hpbGQobik7dmFyIGM9bC5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPSJhY3RpdmV4Ij09PUIucGx1Z2luVHlwZTtjLmlubmVySFRNTD0nPG9iamVjdCBpZD0iJytRLnN3Zk9iamVjdElkKyciIG5hbWU9IicrUS5zd2ZPYmplY3RJZCsnIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiAnKyhkPydjbGFzc2lkPSJjbHNpZDpkMjdjZGI2ZS1hZTZkLTExY2YtOTZiOC00NDQ1NTM1NDAwMDAiJzondHlwZT0iYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giIGRhdGE9IicrcysnIicpKyI+IisoZD8nPHBhcmFtIG5hbWU9Im1vdmllIiB2YWx1ZT0iJytzKyciLz4nOiIiKSsnPHBhcmFtIG5hbWU9ImFsbG93U2NyaXB0QWNjZXNzIiB2YWx1ZT0iJytvKyciLz48cGFyYW0gbmFtZT0iYWxsb3dOZXR3b3JraW5nIiB2YWx1ZT0iJytyKyciLz48cGFyYW0gbmFtZT0ibWVudSIgdmFsdWU9ImZhbHNlIi8+PHBhcmFtIG5hbWU9Indtb2RlIiB2YWx1ZT0idHJhbnNwYXJlbnQiLz48cGFyYW0gbmFtZT0iZmxhc2h2YXJzIiB2YWx1ZT0iJytpKyciLz48ZGl2IGlkPSInK1Euc3dmT2JqZWN0SWQrJ19mYWxsYmFja0NvbnRlbnQiPiZuYnNwOzwvZGl2Pjwvb2JqZWN0PicsdD1jLmZpcnN0Q2hpbGQsYz1udWxsLFQodCkuWmVyb0NsaXBib2FyZD1YZSxuLnJlcGxhY2VDaGlsZCh0LHUpLFRlKCl9cmV0dXJuIHR8fCh0PWxbUS5zd2ZPYmplY3RJZF0sdCYmKGU9dC5sZW5ndGgpJiYodD10W2UtMV0pLCF0JiZuJiYodD1uLmZpcnN0Q2hpbGQpKSxCLmJyaWRnZT10fHxudWxsLHR9LEhlPWZ1bmN0aW9uKCl7dmFyIGU9Qi5icmlkZ2U7aWYoZSl7dmFyIHQ9T2UoZSk7dCYmKCJhY3RpdmV4Ij09PUIucGx1Z2luVHlwZSYmInJlYWR5U3RhdGUiaW4gZT8oZS5zdHlsZS5kaXNwbGF5PSJub25lIixmdW5jdGlvbiBuKCl7aWYoND09PWUucmVhZHlTdGF0ZSl7Zm9yKHZhciBvIGluIGUpImZ1bmN0aW9uIj09dHlwZW9mIGVbb10mJihlW29dPW51bGwpO2UucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfWVsc2UgYyhuLDEwKX0oKSk6KGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpKSksemUoKSxCLnJlYWR5PW51bGwsQi5icmlkZ2U9bnVsbCxCLmRlYWN0aXZhdGVkPW51bGwscj1vfX0sRGU9ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj17fTtpZigib2JqZWN0Ij09dHlwZW9mIGUmJmUpe2Zvcih2YXIgbyBpbiBlKWlmKG8mJlMuY2FsbChlLG8pJiYic3RyaW5nIj09dHlwZW9mIGVbb10mJmVbb10pc3dpdGNoKG8udG9Mb3dlckNhc2UoKSl7Y2FzZSJ0ZXh0L3BsYWluIjpjYXNlInRleHQiOmNhc2UiYWlyOnRleHQiOmNhc2UiZmxhc2g6dGV4dCI6dC50ZXh0PWVbb10sbi50ZXh0PW87YnJlYWs7Y2FzZSJ0ZXh0L2h0bWwiOmNhc2UiaHRtbCI6Y2FzZSJhaXI6aHRtbCI6Y2FzZSJmbGFzaDpodG1sIjp0Lmh0bWw9ZVtvXSxuLmh0bWw9bzticmVhaztjYXNlImFwcGxpY2F0aW9uL3J0ZiI6Y2FzZSJ0ZXh0L3J0ZiI6Y2FzZSJydGYiOmNhc2UicmljaHRleHQiOmNhc2UiYWlyOnJ0ZiI6Y2FzZSJmbGFzaDpydGYiOnQucnRmPWVbb10sbi5ydGY9b31yZXR1cm57ZGF0YTp0LGZvcm1hdE1hcDpufX19LHhlPWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHwhZXx8Im9iamVjdCIhPXR5cGVvZiB0fHwhdClyZXR1cm4gZTt2YXIgbj17fTtmb3IodmFyIG8gaW4gZSlpZihTLmNhbGwoZSxvKSlpZigiZXJyb3JzIj09PW8pe25bb109ZVtvXT9lW29dLnNsaWNlKCk6W107Zm9yKHZhciByPTAsaT1uW29dLmxlbmd0aDtpPnI7cisrKW5bb11bcl0uZm9ybWF0PXRbbltvXVtyXS5mb3JtYXRdfWVsc2UgaWYoInN1Y2Nlc3MiIT09byYmImRhdGEiIT09byluW29dPWVbb107ZWxzZXtuW29dPXt9O3ZhciBzPWVbb107Zm9yKHZhciBhIGluIHMpYSYmUy5jYWxsKHMsYSkmJlMuY2FsbCh0LGEpJiYobltvXVt0W2FdXT1zW2FdKX1yZXR1cm4gbn0sQWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT10fHx0JiZ0LmNhY2hlQnVzdD09PSEwO3JldHVybiBuPygtMT09PWUuaW5kZXhPZigiPyIpPyI/IjoiJiIpKyJub0NhY2hlPSIrQygpOiIifSxQZT1mdW5jdGlvbihlKXt2YXIgdCxuLG8scixpPSIiLHM9W107aWYoZS50cnVzdGVkRG9tYWlucyYmKCJzdHJpbmciPT10eXBlb2YgZS50cnVzdGVkRG9tYWlucz9yPVtlLnRydXN0ZWREb21haW5zXToib2JqZWN0Ij09dHlwZW9mIGUudHJ1c3RlZERvbWFpbnMmJiJsZW5ndGgiaW4gZS50cnVzdGVkRG9tYWlucyYmKHI9ZS50cnVzdGVkRG9tYWlucykpLHImJnIubGVuZ3RoKWZvcih0PTAsbj1yLmxlbmd0aDtuPnQ7dCsrKWlmKFMuY2FsbChyLHQpJiZyW3RdJiYic3RyaW5nIj09dHlwZW9mIHJbdF0pe2lmKG89TmUoclt0XSksIW8pY29udGludWU7aWYoIioiPT09byl7cy5sZW5ndGg9MCxzLnB1c2gobyk7YnJlYWt9cy5wdXNoLmFwcGx5KHMsW28sIi8vIitvLGEubG9jYXRpb24ucHJvdG9jb2wrIi8vIitvXSl9cmV0dXJuIHMubGVuZ3RoJiYoaSs9InRydXN0ZWRPcmlnaW5zPSIrZyhzLmpvaW4oIiwiKSkpLGUuZm9yY2VFbmhhbmNlZENsaXBib2FyZD09PSEwJiYoaSs9KGk/IiYiOiIiKSsiZm9yY2VFbmhhbmNlZENsaXBib2FyZD10cnVlIiksInN0cmluZyI9PXR5cGVvZiBlLnN3Zk9iamVjdElkJiZlLnN3Zk9iamVjdElkJiYoaSs9KGk/IiYiOiIiKSsic3dmT2JqZWN0SWQ9IitnKGUuc3dmT2JqZWN0SWQpKSwic3RyaW5nIj09dHlwZW9mIGUuanNWZXJzaW9uJiZlLmpzVmVyc2lvbiYmKGkrPShpPyImIjoiIikrImpzVmVyc2lvbj0iK2coZS5qc1ZlcnNpb24pKSxpfSxOZT1mdW5jdGlvbihlKXtpZihudWxsPT1lfHwiIj09PWUpcmV0dXJuIG51bGw7aWYoZT1lLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKSwiIj09PWUpcmV0dXJuIG51bGw7dmFyIHQ9ZS5pbmRleE9mKCIvLyIpO2U9LTE9PT10P2U6ZS5zbGljZSh0KzIpO3ZhciBuPWUuaW5kZXhPZigiLyIpO3JldHVybiBlPS0xPT09bj9lOi0xPT09dHx8MD09PW4/bnVsbDplLnNsaWNlKDAsbiksZSYmIi5zd2YiPT09ZS5zbGljZSgtNCkudG9Mb3dlckNhc2UoKT9udWxsOmV8fG51bGx9LExlPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixvLHI9W107aWYoInN0cmluZyI9PXR5cGVvZiBlJiYoZT1bZV0pLCJvYmplY3QiIT10eXBlb2YgZXx8IWV8fCJudW1iZXIiIT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHI7Zm9yKHQ9MCxuPWUubGVuZ3RoO24+dDt0KyspaWYoUy5jYWxsKGUsdCkmJihvPU5lKGVbdF0pKSl7aWYoIioiPT09byl7ci5sZW5ndGg9MCxyLnB1c2goIioiKTticmVha30tMT09PXIuaW5kZXhPZihvKSYmci5wdXNoKG8pfXJldHVybiByfTtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgbz1OZShuLnN3ZlBhdGgpO251bGw9PT1vJiYobz10KTt2YXIgcj1lKG4udHJ1c3RlZERvbWFpbnMpLGk9ci5sZW5ndGg7aWYoaT4wKXtpZigxPT09aSYmIioiPT09clswXSlyZXR1cm4iYWx3YXlzIjtpZigtMSE9PXIuaW5kZXhPZih0KSlyZXR1cm4gMT09PWkmJnQ9PT1vPyJzYW1lRG9tYWluIjoiYWx3YXlzIn1yZXR1cm4ibmV2ZXIifX0oKSxXZT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbC5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe3JldHVybiBudWxsfX0sSWU9ZnVuY3Rpb24oZSx0KXt2YXIgbixvLHIsaT1bXTtpZigic3RyaW5nIj09dHlwZW9mIHQmJnQmJihpPXQuc3BsaXQoL1xzKy8pKSxlJiYxPT09ZS5ub2RlVHlwZSYmaS5sZW5ndGg+MClpZihlLmNsYXNzTGlzdClmb3Iobj0wLG89aS5sZW5ndGg7bz5uO24rKyllLmNsYXNzTGlzdC5hZGQoaVtuXSk7ZWxzZSBpZihlLmhhc093blByb3BlcnR5KCJjbGFzc05hbWUiKSl7Zm9yKHI9IiAiK2UuY2xhc3NOYW1lKyIgIixuPTAsbz1pLmxlbmd0aDtvPm47bisrKS0xPT09ci5pbmRleE9mKCIgIitpW25dKyIgIikmJihyKz1pW25dKyIgIik7ZS5jbGFzc05hbWU9ci5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9cmV0dXJuIGV9LGplPWZ1bmN0aW9uKGUsdCl7dmFyIG4sbyxyLGk9W107aWYoInN0cmluZyI9PXR5cGVvZiB0JiZ0JiYoaT10LnNwbGl0KC9ccysvKSksZSYmMT09PWUubm9kZVR5cGUmJmkubGVuZ3RoPjApaWYoZS5jbGFzc0xpc3QmJmUuY2xhc3NMaXN0Lmxlbmd0aD4wKWZvcihuPTAsbz1pLmxlbmd0aDtvPm47bisrKWUuY2xhc3NMaXN0LnJlbW92ZShpW25dKTtlbHNlIGlmKGUuY2xhc3NOYW1lKXtmb3Iocj0oIiAiK2UuY2xhc3NOYW1lKyIgIikucmVwbGFjZSgvW1xyXG5cdF0vZywiICIpLG49MCxvPWkubGVuZ3RoO28+bjtuKyspcj1yLnJlcGxhY2UoIiAiK2lbbl0rIiAiLCIgIik7ZS5jbGFzc05hbWU9ci5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9cmV0dXJuIGV9LFZlPWZ1bmN0aW9uKGUsdCl7dmFyIG49cChlLG51bGwpLmdldFByb3BlcnR5VmFsdWUodCk7cmV0dXJuImN1cnNvciIhPT10fHxuJiYiYXV0byIhPT1ufHwiQSIhPT1lLm5vZGVOYW1lP246InBvaW50ZXIifSxCZT1mdW5jdGlvbihlKXt2YXIgdD17bGVmdDowLHRvcDowLHdpZHRoOjAsaGVpZ2h0OjB9O2lmKGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KXt2YXIgbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89YS5wYWdlWE9mZnNldCxyPWEucGFnZVlPZmZzZXQsaT1sLmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0fHwwLHM9bC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wfHwwLHU9MCxjPTA7aWYoInJlbGF0aXZlIj09PVZlKGwuYm9keSwicG9zaXRpb24iKSl7dmFyIGQ9bC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGg9bC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dT1kLmxlZnQtaC5sZWZ0fHwwLGM9ZC50b3AtaC50b3B8fDB9dC5sZWZ0PW4ubGVmdCtvLWktdSx0LnRvcD1uLnRvcCtyLXMtYyx0LndpZHRoPSJ3aWR0aCJpbiBuP24ud2lkdGg6bi5yaWdodC1uLmxlZnQsdC5oZWlnaHQ9ImhlaWdodCJpbiBuP24uaGVpZ2h0Om4uYm90dG9tLW4udG9wfXJldHVybiB0fSxGZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMTt2YXIgdD1wKGUsbnVsbCksbj15KHQuaGVpZ2h0KT4wLG89eSh0LndpZHRoKT4wLHI9eSh0LnRvcCk+PTAsaT15KHQubGVmdCk+PTAscz1uJiZvJiZyJiZpLGE9cz9udWxsOkJlKGUpLGw9Im5vbmUiIT09dC5kaXNwbGF5JiYiY29sbGFwc2UiIT09dC52aXNpYmlsaXR5JiYoc3x8ISFhJiYobnx8YS5oZWlnaHQ+MCkmJihvfHxhLndpZHRoPjApJiYocnx8YS50b3A+PTApJiYoaXx8YS5sZWZ0Pj0wKSk7cmV0dXJuIGx9LHplPWZ1bmN0aW9uKCl7ZChHKSxHPTAsZigkKSwkPTB9LFllPWZ1bmN0aW9uKCl7dmFyIGU7aWYoaSYmKGU9T2UoQi5icmlkZ2UpKSl7dmFyIHQ9QmUoaSk7TyhlLnN0eWxlLHt3aWR0aDp0LndpZHRoKyJweCIsaGVpZ2h0OnQuaGVpZ2h0KyJweCIsdG9wOnQudG9wKyJweCIsbGVmdDp0LmxlZnQrInB4Iix6SW5kZXg6IiIrR2UoUS56SW5kZXgpfSl9fSxVZT1mdW5jdGlvbihlKXtCLnJlYWR5PT09ITAmJihCLmJyaWRnZSYmImZ1bmN0aW9uIj09dHlwZW9mIEIuYnJpZGdlLnNldEhhbmRDdXJzb3I/Qi5icmlkZ2Uuc2V0SGFuZEN1cnNvcihlKTpCLnJlYWR5PSExKX0sR2U9ZnVuY3Rpb24oZSl7aWYoL14oPzphdXRvfGluaGVyaXQpJC8udGVzdChlKSlyZXR1cm4gZTt2YXIgdDtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIGV8fGIoZSk/InN0cmluZyI9PXR5cGVvZiBlJiYodD1HZSh3KGUsMTApKSk6dD1lLCJudW1iZXIiPT10eXBlb2YgdD90OiJhdXRvIn0sJGU9ZnVuY3Rpb24oZSl7dmFyIG4sbyxyLGk9Qi5zYW5kYm94ZWQscz1udWxsO2lmKGU9ZT09PSEwLFY9PT0hMSlzPSExO2Vsc2V7dHJ5e289dC5mcmFtZUVsZW1lbnR8fG51bGx9Y2F0Y2goYSl7cj17bmFtZTphLm5hbWUsbWVzc2FnZTphLm1lc3NhZ2V9fWlmKG8mJjE9PT1vLm5vZGVUeXBlJiYiSUZSQU1FIj09PW8ubm9kZU5hbWUpdHJ5e3M9by5oYXNBdHRyaWJ1dGUoInNhbmRib3giKX1jYXRjaChhKXtzPW51bGx9ZWxzZXt0cnl7bj1kb2N1bWVudC5kb21haW58fG51bGx9Y2F0Y2goYSl7bj1udWxsfShudWxsPT09bnx8ciYmIlNlY3VyaXR5RXJyb3IiPT09ci5uYW1lJiYvKF58W1xzXChcW0BdKXNhbmRib3goZXN8ZWR8aW5nfFtcc1wuLCFcKVxdQF18JCkvLnRlc3Qoci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkpKSYmKHM9ITApfX1yZXR1cm4gQi5zYW5kYm94ZWQ9cyxpPT09c3x8ZXx8S2UobSksc30sS2U9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgdD1lLm1hdGNoKC9bXGRdKy9nKTtyZXR1cm4gdC5sZW5ndGg9Myx0LmpvaW4oIi4iKX1mdW5jdGlvbiBuKGUpe3JldHVybiEhZSYmKGU9ZS50b0xvd2VyQ2FzZSgpKSYmKC9eKHBlcGZsYXNocGxheWVyXC5kbGx8bGlicGVwZmxhc2hwbGF5ZXJcLnNvfHBlcHBlcmZsYXNocGxheWVyXC5wbHVnaW4pJC8udGVzdChlKXx8ImNocm9tZS5wbHVnaW4iPT09ZS5zbGljZSgtMTMpKX1mdW5jdGlvbiBvKGUpe2UmJihhPSEwLGUudmVyc2lvbiYmKGQ9dChlLnZlcnNpb24pKSwhZCYmZS5kZXNjcmlwdGlvbiYmKGQ9dChlLmRlc2NyaXB0aW9uKSksZS5maWxlbmFtZSYmKGM9bihlLmZpbGVuYW1lKSkpfXZhciByLGkscyxhPSExLGw9ITEsYz0hMSxkPSIiO2lmKHUucGx1Z2lucyYmdS5wbHVnaW5zLmxlbmd0aClyPXUucGx1Z2luc1siU2hvY2t3YXZlIEZsYXNoIl0sbyhyKSx1LnBsdWdpbnNbIlNob2Nrd2F2ZSBGbGFzaCAyLjAiXSYmKGE9ITAsZD0iMi4wLjAuMTEiKTtlbHNlIGlmKHUubWltZVR5cGVzJiZ1Lm1pbWVUeXBlcy5sZW5ndGgpcz11Lm1pbWVUeXBlc1siYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giXSxyPXMmJnMuZW5hYmxlZFBsdWdpbixvKHIpO2Vsc2UgaWYoInVuZGVmaW5lZCIhPXR5cGVvZiBlKXtsPSEwO3RyeXtpPW5ldyBlKCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaC43IiksYT0hMCxkPXQoaS5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKSl9Y2F0Y2goaCl7dHJ5e2k9bmV3IGUoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjYiKSxhPSEwLGQ9IjYuMC4yMSJ9Y2F0Y2goZil7dHJ5e2k9bmV3IGUoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoIiksYT0hMCxkPXQoaS5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKSl9Y2F0Y2gocCl7bD0hMX19fX1CLmRpc2FibGVkPWEhPT0hMCxCLm91dGRhdGVkPWQmJnkoZCk8eShGKSxCLnZlcnNpb249ZHx8IjAuMC4wIixCLnBsdWdpblR5cGU9Yz8icGVwcGVyIjpsPyJhY3RpdmV4IjphPyJuZXRzY2FwZSI6InVua25vd24ifTtLZShtKSwkZSghMCk7dmFyIFhlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBYZT92b2lkKCJmdW5jdGlvbiI9PXR5cGVvZiBYZS5fY3JlYXRlQ2xpZW50JiZYZS5fY3JlYXRlQ2xpZW50LmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKSk6bmV3IFhlfTtfKFhlLCJ2ZXJzaW9uIix7dmFsdWU6IjIuMi4wIix3cml0YWJsZTohMSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pLFhlLmNvbmZpZz1mdW5jdGlvbigpe3JldHVybiBlZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LFhlLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRlLmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sWGUuaXNGbGFzaFVudXNhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIG5lLmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sWGUub249ZnVuY3Rpb24oKXtyZXR1cm4gb2UuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxYZS5vZmY9ZnVuY3Rpb24oKXtyZXR1cm4gcmUuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxYZS5oYW5kbGVycz1mdW5jdGlvbigpe3JldHVybiBpZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LFhlLmVtaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gc2UuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxYZS5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYWUuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxYZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIGxlLmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sWGUuc2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB1ZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LFhlLmNsZWFyRGF0YT1mdW5jdGlvbigpe3JldHVybiBjZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LFhlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gZGUuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxYZS5mb2N1cz1YZS5hY3RpdmF0ZT1mdW5jdGlvbigpe3JldHVybiBoZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LFhlLmJsdXI9WGUuZGVhY3RpdmF0ZT1mdW5jdGlvbigpe3JldHVybiBmZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LFhlLmFjdGl2ZUVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcGUuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfTt2YXIgcWU9MCxaZT17fSxKZT0wLFFlPXt9LGV0PXt9O08oUSx7YXV0b0FjdGl2YXRlOiEwfSk7dmFyIHR0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5pZD0iIitxZSsrLFplW3QuaWRdPXtpbnN0YW5jZTp0LGVsZW1lbnRzOltdLGhhbmRsZXJzOnt9fSxlJiZ0LmNsaXAoZSksWGUub24oIioiLGZ1bmN0aW9uKGUpe3JldHVybiB0LmVtaXQoZSl9KSxYZS5vbigiZGVzdHJveSIsZnVuY3Rpb24oKXt0LmRlc3Ryb3koKX0pLFhlLmNyZWF0ZSgpfSxudD1mdW5jdGlvbihlLHQpe3ZhciBuLGkscyxhPXt9LGw9WmVbdGhpcy5pZF0sdT1sJiZsLmhhbmRsZXJzO2lmKCFsKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIGFkZCBuZXcgbGlzdGVuZXIocykgdG8gYSBkZXN0cm95ZWQgWmVyb0NsaXBib2FyZCBjbGllbnQgaW5zdGFuY2UiKTtpZigic3RyaW5nIj09dHlwZW9mIGUmJmUpcz1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoL1xzKy8pO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBlJiZlJiYidW5kZWZpbmVkIj09dHlwZW9mIHQpZm9yKG4gaW4gZSlTLmNhbGwoZSxuKSYmInN0cmluZyI9PXR5cGVvZiBuJiZuJiYiZnVuY3Rpb24iPT10eXBlb2YgZVtuXSYmdGhpcy5vbihuLGVbbl0pO2lmKHMmJnMubGVuZ3RoKXtmb3Iobj0wLGk9cy5sZW5ndGg7aT5uO24rKyllPXNbbl0ucmVwbGFjZSgvXm9uLywiIiksYVtlXT0hMCx1W2VdfHwodVtlXT1bXSksdVtlXS5wdXNoKHQpO2lmKGEucmVhZHkmJkIucmVhZHkmJnRoaXMuZW1pdCh7dHlwZToicmVhZHkiLGNsaWVudDp0aGlzfSksYS5lcnJvcil7Zm9yKG49MCxpPXEubGVuZ3RoO2k+bjtuKyspaWYoQltxW25dLnJlcGxhY2UoL15mbGFzaC0vLCIiKV0pe3RoaXMuZW1pdCh7dHlwZToiZXJyb3IiLG5hbWU6cVtuXSxjbGllbnQ6dGhpc30pO2JyZWFrfXIhPT1vJiZYZS52ZXJzaW9uIT09ciYmdGhpcy5lbWl0KHt0eXBlOiJlcnJvciIsbmFtZToidmVyc2lvbi1taXNtYXRjaCIsanNWZXJzaW9uOlhlLnZlcnNpb24sc3dmVmVyc2lvbjpyfSl9fXJldHVybiB0aGlzfSxvdD1mdW5jdGlvbihlLHQpe3ZhciBuLG8scixpLHMsYT1aZVt0aGlzLmlkXSxsPWEmJmEuaGFuZGxlcnM7aWYoIWwpcmV0dXJuIHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpaT1SKGwpO2Vsc2UgaWYoInN0cmluZyI9PXR5cGVvZiBlJiZlKWk9ZS5zcGxpdCgvXHMrLyk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGUmJmUmJiJ1bmRlZmluZWQiPT10eXBlb2YgdClmb3IobiBpbiBlKVMuY2FsbChlLG4pJiYic3RyaW5nIj09dHlwZW9mIG4mJm4mJiJmdW5jdGlvbiI9PXR5cGVvZiBlW25dJiZ0aGlzLm9mZihuLGVbbl0pO2lmKGkmJmkubGVuZ3RoKWZvcihuPTAsbz1pLmxlbmd0aDtvPm47bisrKWlmKGU9aVtuXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL15vbi8sIiIpLHM9bFtlXSxzJiZzLmxlbmd0aClpZih0KWZvcihyPXMuaW5kZXhPZih0KTstMSE9PXI7KXMuc3BsaWNlKHIsMSkscj1zLmluZGV4T2YodCxyKTtlbHNlIHMubGVuZ3RoPTA7cmV0dXJuIHRoaXN9LHJ0PWZ1bmN0aW9uKGUpe3ZhciB0PW51bGwsbj1aZVt0aGlzLmlkXSYmWmVbdGhpcy5pZF0uaGFuZGxlcnM7cmV0dXJuIG4mJih0PSJzdHJpbmciPT10eXBlb2YgZSYmZT9uW2VdP25bZV0uc2xpY2UoMCk6W106ayhuKSksdH0saXQ9ZnVuY3Rpb24oZSl7aWYoY3QuY2FsbCh0aGlzLGUpKXsib2JqZWN0Ij09dHlwZW9mIGUmJmUmJiJzdHJpbmciPT10eXBlb2YgZS50eXBlJiZlLnR5cGUmJihlPU8oe30sZSkpO3ZhciB0PU8oe30sbWUoZSkse2NsaWVudDp0aGlzfSk7ZHQuY2FsbCh0aGlzLHQpfXJldHVybiB0aGlzfSxzdD1mdW5jdGlvbihlKXtpZighWmVbdGhpcy5pZF0pdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gY2xpcCBlbGVtZW50KHMpIHRvIGEgZGVzdHJveWVkIFplcm9DbGlwYm9hcmQgY2xpZW50IGluc3RhbmNlIik7ZT1odChlKTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZihTLmNhbGwoZSx0KSYmZVt0XSYmMT09PWVbdF0ubm9kZVR5cGUpe2VbdF0uemNDbGlwcGluZ0lkPy0xPT09UWVbZVt0XS56Y0NsaXBwaW5nSWRdLmluZGV4T2YodGhpcy5pZCkmJlFlW2VbdF0uemNDbGlwcGluZ0lkXS5wdXNoKHRoaXMuaWQpOihlW3RdLnpjQ2xpcHBpbmdJZD0iemNDbGlwcGluZ0lkXyIrSmUrKyxRZVtlW3RdLnpjQ2xpcHBpbmdJZF09W3RoaXMuaWRdLFEuYXV0b0FjdGl2YXRlPT09ITAmJmZ0KGVbdF0pKTt2YXIgbj1aZVt0aGlzLmlkXSYmWmVbdGhpcy5pZF0uZWxlbWVudHM7LTE9PT1uLmluZGV4T2YoZVt0XSkmJm4ucHVzaChlW3RdKX1yZXR1cm4gdGhpc30sYXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9WmVbdGhpcy5pZF07aWYoIXQpcmV0dXJuIHRoaXM7dmFyIG4sbz10LmVsZW1lbnRzO2U9InVuZGVmaW5lZCI9PXR5cGVvZiBlP28uc2xpY2UoMCk6aHQoZSk7Zm9yKHZhciByPWUubGVuZ3RoO3ItLTspaWYoUy5jYWxsKGUscikmJmVbcl0mJjE9PT1lW3JdLm5vZGVUeXBlKXtmb3Iobj0wOy0xIT09KG49by5pbmRleE9mKGVbcl0sbikpOylvLnNwbGljZShuLDEpO3ZhciBpPVFlW2Vbcl0uemNDbGlwcGluZ0lkXTtpZihpKXtmb3Iobj0wOy0xIT09KG49aS5pbmRleE9mKHRoaXMuaWQsbikpOylpLnNwbGljZShuLDEpOzA9PT1pLmxlbmd0aCYmKFEuYXV0b0FjdGl2YXRlPT09ITAmJnB0KGVbcl0pLGRlbGV0ZSBlW3JdLnpjQ2xpcHBpbmdJZCl9fXJldHVybiB0aGlzfSxsdD1mdW5jdGlvbigpe3ZhciBlPVplW3RoaXMuaWRdO3JldHVybiBlJiZlLmVsZW1lbnRzP2UuZWxlbWVudHMuc2xpY2UoMCk6W119LHV0PWZ1bmN0aW9uKCl7WmVbdGhpcy5pZF0mJih0aGlzLnVuY2xpcCgpLHRoaXMub2ZmKCksZGVsZXRlIFplW3RoaXMuaWRdKX0sY3Q9ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnR5cGUpcmV0dXJuITE7aWYoZS5jbGllbnQmJmUuY2xpZW50IT09dGhpcylyZXR1cm4hMTt2YXIgdD1aZVt0aGlzLmlkXSxuPXQmJnQuZWxlbWVudHMsbz0hIW4mJm4ubGVuZ3RoPjAscj0hZS50YXJnZXR8fG8mJi0xIT09bi5pbmRleE9mKGUudGFyZ2V0KSxpPWUucmVsYXRlZFRhcmdldCYmbyYmLTEhPT1uLmluZGV4T2YoZS5yZWxhdGVkVGFyZ2V0KSxzPWUuY2xpZW50JiZlLmNsaWVudD09PXRoaXM7cmV0dXJuIHQmJihyfHxpfHxzKT8hMDohMX0sZHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9WmVbdGhpcy5pZF07aWYoIm9iamVjdCI9PXR5cGVvZiBlJiZlJiZlLnR5cGUmJnQpe3ZhciBuPXllKGUpLG89dCYmdC5oYW5kbGVyc1siKiJdfHxbXSxyPXQmJnQuaGFuZGxlcnNbZS50eXBlXXx8W10saT1vLmNvbmNhdChyKTtpZihpJiZpLmxlbmd0aCl7dmFyIHMsbCx1LGMsZCxoPXRoaXM7Zm9yKHM9MCxsPWkubGVuZ3RoO2w+cztzKyspdT1pW3NdLGM9aCwic3RyaW5nIj09dHlwZW9mIHUmJiJmdW5jdGlvbiI9PXR5cGVvZiBhW3VdJiYodT1hW3VdKSwib2JqZWN0Ij09dHlwZW9mIHUmJnUmJiJmdW5jdGlvbiI9PXR5cGVvZiB1LmhhbmRsZUV2ZW50JiYoYz11LHU9dS5oYW5kbGVFdmVudCksImZ1bmN0aW9uIj09dHlwZW9mIHUmJihkPU8oe30sZSksYmUodSxjLFtkXSxuKSl9fX0saHQ9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYoZT1bXSksIm51bWJlciIhPXR5cGVvZiBlLmxlbmd0aD9bZV06ZX0sZnQ9ZnVuY3Rpb24oZSl7aWYoZSYmMT09PWUubm9kZVR5cGUpe3ZhciB0PWZ1bmN0aW9uKGUpeyhlfHwoZT1hLmV2ZW50KSkmJigianMiIT09ZS5fc291cmNlJiYoZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCkpLGRlbGV0ZSBlLl9zb3VyY2UpfSxuPWZ1bmN0aW9uKG4peyhufHwobj1hLmV2ZW50KSkmJih0KG4pLFhlLmZvY3VzKGUpKX07ZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLG4sITEpLGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdXQiLHQsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsdCwhMSksZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIix0LCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsdCwhMSksZXRbZS56Y0NsaXBwaW5nSWRdPXttb3VzZW92ZXI6bixtb3VzZW91dDp0LG1vdXNlZW50ZXI6dCxtb3VzZWxlYXZlOnQsbW91c2Vtb3ZlOnR9fX0scHQ9ZnVuY3Rpb24oZSl7aWYoZSYmMT09PWUubm9kZVR5cGUpe3ZhciB0PWV0W2UuemNDbGlwcGluZ0lkXTtpZigib2JqZWN0Ij09dHlwZW9mIHQmJnQpe2Zvcih2YXIgbixvLHI9WyJtb3ZlIiwibGVhdmUiLCJlbnRlciIsIm91dCIsIm92ZXIiXSxpPTAscz1yLmxlbmd0aDtzPmk7aSsrKW49Im1vdXNlIityW2ldLG89dFtuXSwiZnVuY3Rpb24iPT10eXBlb2YgbyYmZS5yZW1vdmVFdmVudExpc3RlbmVyKG4sbywhMSk7ZGVsZXRlIGV0W2UuemNDbGlwcGluZ0lkXX19fTtYZS5fY3JlYXRlQ2xpZW50PWZ1bmN0aW9uKCl7dHQuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxYZS5wcm90b3R5cGUub249ZnVuY3Rpb24oKXtyZXR1cm4gbnQuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxYZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKCl7cmV0dXJuIG90LmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sWGUucHJvdG90eXBlLmhhbmRsZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHJ0LmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sWGUucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gaXQuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxYZS5wcm90b3R5cGUuY2xpcD1mdW5jdGlvbigpe3JldHVybiBzdC5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LFhlLnByb3RvdHlwZS51bmNsaXA9ZnVuY3Rpb24oKXtyZXR1cm4gYXQuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxYZS5wcm90b3R5cGUuZWxlbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gbHQuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxYZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiB1dC5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LFhlLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKGUpe2lmKCFaZVt0aGlzLmlkXSl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byBzZXQgcGVuZGluZyBjbGlwYm9hcmQgZGF0YSBmcm9tIGEgZGVzdHJveWVkIFplcm9DbGlwYm9hcmQgY2xpZW50IGluc3RhbmNlIik7cmV0dXJuIFhlLnNldERhdGEoInRleHQvcGxhaW4iLGUpLHRoaXN9LFhlLnByb3RvdHlwZS5zZXRIdG1sPWZ1bmN0aW9uKGUpe2lmKCFaZVt0aGlzLmlkXSl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byBzZXQgcGVuZGluZyBjbGlwYm9hcmQgZGF0YSBmcm9tIGEgZGVzdHJveWVkIFplcm9DbGlwYm9hcmQgY2xpZW50IGluc3RhbmNlIik7cmV0dXJuIFhlLnNldERhdGEoInRleHQvaHRtbCIsZSksdGhpc30sWGUucHJvdG90eXBlLnNldFJpY2hUZXh0PWZ1bmN0aW9uKGUpe2lmKCFaZVt0aGlzLmlkXSl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byBzZXQgcGVuZGluZyBjbGlwYm9hcmQgZGF0YSBmcm9tIGEgZGVzdHJveWVkIFplcm9DbGlwYm9hcmQgY2xpZW50IGluc3RhbmNlIik7cmV0dXJuIFhlLnNldERhdGEoImFwcGxpY2F0aW9uL3J0ZiIsZSksdGhpc30sWGUucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24oKXtpZighWmVbdGhpcy5pZF0pdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gc2V0IHBlbmRpbmcgY2xpcGJvYXJkIGRhdGEgZnJvbSBhIGRlc3Ryb3llZCBaZXJvQ2xpcGJvYXJkIGNsaWVudCBpbnN0YW5jZSIpO3JldHVybiBYZS5zZXREYXRhLmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKSx0aGlzfSxYZS5wcm90b3R5cGUuY2xlYXJEYXRhPWZ1bmN0aW9uKCl7aWYoIVplW3RoaXMuaWRdKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIGNsZWFyIHBlbmRpbmcgY2xpcGJvYXJkIGRhdGEgZnJvbSBhIGRlc3Ryb3llZCBaZXJvQ2xpcGJvYXJkIGNsaWVudCBpbnN0YW5jZSIpO3JldHVybiBYZS5jbGVhckRhdGEuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpLHRoaXN9LFhlLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7aWYoIVplW3RoaXMuaWRdKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIGdldCBwZW5kaW5nIGNsaXBib2FyZCBkYXRhIGZyb20gYSBkZXN0cm95ZWQgWmVyb0NsaXBib2FyZCBjbGllbnQgaW5zdGFuY2UiKTtyZXR1cm4gWGUuZ2V0RGF0YS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LCJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFtZD9lKGZ1bmN0aW9uKCl7cmV0dXJuIFhlfSk6Im9iamVjdCI9PXR5cGVvZiBuJiZuJiYib2JqZWN0Ij09dHlwZW9mIG4uZXhwb3J0cyYmbi5leHBvcnRzP24uZXhwb3J0cz1YZTp0Llplcm9DbGlwYm9hcmQ9WGV9KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN8fHdpbmRvd30oKSl9LHt9XX0se30sWzIzLDU5LDYxLDYwLDYyLDgzLDg0LDg1LDYzLDY0LDY1LDY2LDY3LDY4LDY5LDcwLDcxLDcyLDczLDc0LDc1LDc2LDc3LDc4LDc5LDgwLDgxLDgyLDg2LDg3LDg4LDg5LDEwMiwxMDMsMTA0LDkyLDkzLDk0LDk1LDk2LDk3LDMxLDM1LDMyLDMzLDQwLDM0LDM2LDM3LDM4LDM5XSkoInplcm9jbGlwYm9hcmQiKX0pOw=="></script>
<script src="data:application/x-javascript;base64,LyoKY2hyb21hLmpzIC0gSmF2YVNjcmlwdCBsaWJyYXJ5IGZvciBjb2xvciBjb252ZXJzaW9ucwoKQ29weXJpZ2h0IChjKSAyMDExLTIwMTUsIEdyZWdvciBBaXNjaApBbGwgcmlnaHRzIHJlc2VydmVkLgoKUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0Cm1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OgoKMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzCiAgIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLgoKMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLAogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uCiAgIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLgoKMy4gVGhlIG5hbWUgR3JlZ29yIEFpc2NoIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMKICAgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uCgpUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTICJBUyBJUyIKQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRQpJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUKRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgR1JFR09SIEFJU0NIIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsCklORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLApCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLApEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZCk9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HCk5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwKRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS4KCiovCihmdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHosQSxCLEMsRCxFLEYsRyxILEksSixLLEwsTSxOLE8sUCxRLFIsUyxULFUsVixXLFgsWSxaLCQsXyxhYSxiYSxjYSxkYSxlYSxmYSxnYSxoYSxpYSxqYSxrYSxsYSxtYSxuYSxvYSxwYSxxYSxyYSxzYSx0YSx1YSx2YSx3YSx4YSx5YSx6YT1bXS5zbGljZTt1YT1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGU7Zm9yKGE9e30sZT0iQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIFVuZGVmaW5lZCBOdWxsIi5zcGxpdCgiICIpLGQ9MCxiPWUubGVuZ3RoO2I+ZDtkKyspYz1lW2RdLGFbIltvYmplY3QgIitjKyJdIl09Yy50b0xvd2VyQ2FzZSgpO3JldHVybiBmdW5jdGlvbihiKXt2YXIgYztyZXR1cm4gYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYiksYVtjXXx8Im9iamVjdCJ9fSgpLFM9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1iJiYoYj0wKSxudWxsPT1jJiYoYz0xKSxiPmEmJihhPWIpLGE+YyYmKGE9YyksYX0sdmE9ZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoPj0zP1tdLnNsaWNlLmNhbGwoYSk6YVswXX0sdD1mdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKTM+Yj8oYVtiXTwwJiYoYVtiXT0wKSxhW2JdPjI1NSYmKGFbYl09MjU1KSk6Mz09PWImJihhW2JdPDAmJihhW2JdPTApLGFbYl0+MSYmKGFbYl09MSkpO3JldHVybiBhfSxkPU1hdGguUEkscGE9TWF0aC5yb3VuZCx3PU1hdGguY29zLEI9TWF0aC5mbG9vcixfPU1hdGgucG93LFQ9TWF0aC5sb2cscmE9TWF0aC5zaW4sc2E9TWF0aC5zcXJ0LG09TWF0aC5hdGFuMixXPU1hdGgubWF4LGw9TWF0aC5hYnMsZz0yKmQsZT1kLzMsYj1kLzE4MCxmPTE4MC9kLHM9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBhP2FyZ3VtZW50c1swXTpmdW5jdGlvbihhLGIsYyl7Yy5wcm90b3R5cGU9YS5wcm90b3R5cGU7dmFyIGQ9bmV3IGMsZT1hLmFwcGx5KGQsYik7cmV0dXJuIE9iamVjdChlKT09PWU/ZTpkfShhLGFyZ3VtZW50cyxmdW5jdGlvbigpe30pfSxrPVtdLCJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZudWxsIT09bW9kdWxlJiZudWxsIT1tb2R1bGUuZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPXMpLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHN9KToob2E9InVuZGVmaW5lZCIhPXR5cGVvZiBleHBvcnRzJiZudWxsIT09ZXhwb3J0cz9leHBvcnRzOnRoaXMsb2EuY2hyb21hPXMpLHMudmVyc2lvbj0iMS4xLjEiLGo9e30saD1bXSxpPSExLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGEsYixjLGQsZSxmLGcsayxsO2ZvcihmPXRoaXMsYj1bXSxrPTAsZD1hcmd1bWVudHMubGVuZ3RoO2Q+aztrKyspYT1hcmd1bWVudHNba10sbnVsbCE9YSYmYi5wdXNoKGEpO2lmKGc9YltiLmxlbmd0aC0xXSxudWxsIT1qW2ddKWYuX3JnYj10KGpbZ10odmEoYi5zbGljZSgwLC0xKSkpKTtlbHNle2ZvcihpfHwoaD1oLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5wLWEucH0pLGk9ITApLGw9MCxlPWgubGVuZ3RoO2U+bCYmKGM9aFtsXSwhKGc9Yy50ZXN0LmFwcGx5KGMsYikpKTtsKyspO2cmJihmLl9yZ2I9dChqW2ddLmFwcGx5KGosYikpKX1udWxsPT1mLl9yZ2ImJmNvbnNvbGUud2FybigidW5rbm93biBmb3JtYXQ6ICIrYiksbnVsbD09Zi5fcmdiJiYoZi5fcmdiPVswLDAsMF0pLDM9PT1mLl9yZ2IubGVuZ3RoJiZmLl9yZ2IucHVzaCgxKX1yZXR1cm4gYS5wcm90b3R5cGUuYWxwaGE9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3JnYlszXT1hLHRoaXMpOnRoaXMuX3JnYlszXX0sYS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lKCl9LGF9KCkscy5faW5wdXQ9aixzLmJyZXdlcj1xPXtPclJkOlsiI2ZmZjdlYyIsIiNmZWU4YzgiLCIjZmRkNDllIiwiI2ZkYmI4NCIsIiNmYzhkNTkiLCIjZWY2NTQ4IiwiI2Q3MzAxZiIsIiNiMzAwMDAiLCIjN2YwMDAwIl0sUHVCdTpbIiNmZmY3ZmIiLCIjZWNlN2YyIiwiI2QwZDFlNiIsIiNhNmJkZGIiLCIjNzRhOWNmIiwiIzM2OTBjMCIsIiMwNTcwYjAiLCIjMDQ1YThkIiwiIzAyMzg1OCJdLEJ1UHU6WyIjZjdmY2ZkIiwiI2UwZWNmNCIsIiNiZmQzZTYiLCIjOWViY2RhIiwiIzhjOTZjNiIsIiM4YzZiYjEiLCIjODg0MTlkIiwiIzgxMGY3YyIsIiM0ZDAwNGIiXSxPcmFuZ2VzOlsiI2ZmZjVlYiIsIiNmZWU2Y2UiLCIjZmRkMGEyIiwiI2ZkYWU2YiIsIiNmZDhkM2MiLCIjZjE2OTEzIiwiI2Q5NDgwMSIsIiNhNjM2MDMiLCIjN2YyNzA0Il0sQnVHbjpbIiNmN2ZjZmQiLCIjZTVmNWY5IiwiI2NjZWNlNiIsIiM5OWQ4YzkiLCIjNjZjMmE0IiwiIzQxYWU3NiIsIiMyMzhiNDUiLCIjMDA2ZDJjIiwiIzAwNDQxYiJdLFlsT3JCcjpbIiNmZmZmZTUiLCIjZmZmN2JjIiwiI2ZlZTM5MSIsIiNmZWM0NGYiLCIjZmU5OTI5IiwiI2VjNzAxNCIsIiNjYzRjMDIiLCIjOTkzNDA0IiwiIzY2MjUwNiJdLFlsR246WyIjZmZmZmU1IiwiI2Y3ZmNiOSIsIiNkOWYwYTMiLCIjYWRkZDhlIiwiIzc4YzY3OSIsIiM0MWFiNWQiLCIjMjM4NDQzIiwiIzAwNjgzNyIsIiMwMDQ1MjkiXSxSZWRzOlsiI2ZmZjVmMCIsIiNmZWUwZDIiLCIjZmNiYmExIiwiI2ZjOTI3MiIsIiNmYjZhNGEiLCIjZWYzYjJjIiwiI2NiMTgxZCIsIiNhNTBmMTUiLCIjNjcwMDBkIl0sUmRQdTpbIiNmZmY3ZjMiLCIjZmRlMGRkIiwiI2ZjYzVjMCIsIiNmYTlmYjUiLCIjZjc2OGExIiwiI2RkMzQ5NyIsIiNhZTAxN2UiLCIjN2EwMTc3IiwiIzQ5MDA2YSJdLEdyZWVuczpbIiNmN2ZjZjUiLCIjZTVmNWUwIiwiI2M3ZTljMCIsIiNhMWQ5OWIiLCIjNzRjNDc2IiwiIzQxYWI1ZCIsIiMyMzhiNDUiLCIjMDA2ZDJjIiwiIzAwNDQxYiJdLFlsR25CdTpbIiNmZmZmZDkiLCIjZWRmOGIxIiwiI2M3ZTliNCIsIiM3ZmNkYmIiLCIjNDFiNmM0IiwiIzFkOTFjMCIsIiMyMjVlYTgiLCIjMjUzNDk0IiwiIzA4MWQ1OCJdLFB1cnBsZXM6WyIjZmNmYmZkIiwiI2VmZWRmNSIsIiNkYWRhZWIiLCIjYmNiZGRjIiwiIzllOWFjOCIsIiM4MDdkYmEiLCIjNmE1MWEzIiwiIzU0Mjc4ZiIsIiMzZjAwN2QiXSxHbkJ1OlsiI2Y3ZmNmMCIsIiNlMGYzZGIiLCIjY2NlYmM1IiwiI2E4ZGRiNSIsIiM3YmNjYzQiLCIjNGViM2QzIiwiIzJiOGNiZSIsIiMwODY4YWMiLCIjMDg0MDgxIl0sR3JleXM6WyIjZmZmZmZmIiwiI2YwZjBmMCIsIiNkOWQ5ZDkiLCIjYmRiZGJkIiwiIzk2OTY5NiIsIiM3MzczNzMiLCIjNTI1MjUyIiwiIzI1MjUyNSIsIiMwMDAwMDAiXSxZbE9yUmQ6WyIjZmZmZmNjIiwiI2ZmZWRhMCIsIiNmZWQ5NzYiLCIjZmViMjRjIiwiI2ZkOGQzYyIsIiNmYzRlMmEiLCIjZTMxYTFjIiwiI2JkMDAyNiIsIiM4MDAwMjYiXSxQdVJkOlsiI2Y3ZjRmOSIsIiNlN2UxZWYiLCIjZDRiOWRhIiwiI2M5OTRjNyIsIiNkZjY1YjAiLCIjZTcyOThhIiwiI2NlMTI1NiIsIiM5ODAwNDMiLCIjNjcwMDFmIl0sQmx1ZXM6WyIjZjdmYmZmIiwiI2RlZWJmNyIsIiNjNmRiZWYiLCIjOWVjYWUxIiwiIzZiYWVkNiIsIiM0MjkyYzYiLCIjMjE3MWI1IiwiIzA4NTE5YyIsIiMwODMwNmIiXSxQdUJ1R246WyIjZmZmN2ZiIiwiI2VjZTJmMCIsIiNkMGQxZTYiLCIjYTZiZGRiIiwiIzY3YTljZiIsIiMzNjkwYzAiLCIjMDI4MThhIiwiIzAxNmM1OSIsIiMwMTQ2MzYiXSxTcGVjdHJhbDpbIiM5ZTAxNDIiLCIjZDUzZTRmIiwiI2Y0NmQ0MyIsIiNmZGFlNjEiLCIjZmVlMDhiIiwiI2ZmZmZiZiIsIiNlNmY1OTgiLCIjYWJkZGE0IiwiIzY2YzJhNSIsIiMzMjg4YmQiLCIjNWU0ZmEyIl0sUmRZbEduOlsiI2E1MDAyNiIsIiNkNzMwMjciLCIjZjQ2ZDQzIiwiI2ZkYWU2MSIsIiNmZWUwOGIiLCIjZmZmZmJmIiwiI2Q5ZWY4YiIsIiNhNmQ5NmEiLCIjNjZiZDYzIiwiIzFhOTg1MCIsIiMwMDY4MzciXSxSZEJ1OlsiIzY3MDAxZiIsIiNiMjE4MmIiLCIjZDY2MDRkIiwiI2Y0YTU4MiIsIiNmZGRiYzciLCIjZjdmN2Y3IiwiI2QxZTVmMCIsIiM5MmM1ZGUiLCIjNDM5M2MzIiwiIzIxNjZhYyIsIiMwNTMwNjEiXSxQaVlHOlsiIzhlMDE1MiIsIiNjNTFiN2QiLCIjZGU3N2FlIiwiI2YxYjZkYSIsIiNmZGUwZWYiLCIjZjdmN2Y3IiwiI2U2ZjVkMCIsIiNiOGUxODYiLCIjN2ZiYzQxIiwiIzRkOTIyMSIsIiMyNzY0MTkiXSxQUkduOlsiIzQwMDA0YiIsIiM3NjJhODMiLCIjOTk3MGFiIiwiI2MyYTVjZiIsIiNlN2Q0ZTgiLCIjZjdmN2Y3IiwiI2Q5ZjBkMyIsIiNhNmRiYTAiLCIjNWFhZTYxIiwiIzFiNzgzNyIsIiMwMDQ0MWIiXSxSZFlsQnU6WyIjYTUwMDI2IiwiI2Q3MzAyNyIsIiNmNDZkNDMiLCIjZmRhZTYxIiwiI2ZlZTA5MCIsIiNmZmZmYmYiLCIjZTBmM2Y4IiwiI2FiZDllOSIsIiM3NGFkZDEiLCIjNDU3NWI0IiwiIzMxMzY5NSJdLEJyQkc6WyIjNTQzMDA1IiwiIzhjNTEwYSIsIiNiZjgxMmQiLCIjZGZjMjdkIiwiI2Y2ZThjMyIsIiNmNWY1ZjUiLCIjYzdlYWU1IiwiIzgwY2RjMSIsIiMzNTk3OGYiLCIjMDE2NjVlIiwiIzAwM2MzMCJdLFJkR3k6WyIjNjcwMDFmIiwiI2IyMTgyYiIsIiNkNjYwNGQiLCIjZjRhNTgyIiwiI2ZkZGJjNyIsIiNmZmZmZmYiLCIjZTBlMGUwIiwiI2JhYmFiYSIsIiM4Nzg3ODciLCIjNGQ0ZDRkIiwiIzFhMWExYSJdLFB1T3I6WyIjN2YzYjA4IiwiI2IzNTgwNiIsIiNlMDgyMTQiLCIjZmRiODYzIiwiI2ZlZTBiNiIsIiNmN2Y3ZjciLCIjZDhkYWViIiwiI2IyYWJkMiIsIiM4MDczYWMiLCIjNTQyNzg4IiwiIzJkMDA0YiJdLFNldDI6WyIjNjZjMmE1IiwiI2ZjOGQ2MiIsIiM4ZGEwY2IiLCIjZTc4YWMzIiwiI2E2ZDg1NCIsIiNmZmQ5MmYiLCIjZTVjNDk0IiwiI2IzYjNiMyJdLEFjY2VudDpbIiM3ZmM5N2YiLCIjYmVhZWQ0IiwiI2ZkYzA4NiIsIiNmZmZmOTkiLCIjMzg2Y2IwIiwiI2YwMDI3ZiIsIiNiZjViMTciLCIjNjY2NjY2Il0sU2V0MTpbIiNlNDFhMWMiLCIjMzc3ZWI4IiwiIzRkYWY0YSIsIiM5ODRlYTMiLCIjZmY3ZjAwIiwiI2ZmZmYzMyIsIiNhNjU2MjgiLCIjZjc4MWJmIiwiIzk5OTk5OSJdLFNldDM6WyIjOGRkM2M3IiwiI2ZmZmZiMyIsIiNiZWJhZGEiLCIjZmI4MDcyIiwiIzgwYjFkMyIsIiNmZGI0NjIiLCIjYjNkZTY5IiwiI2ZjY2RlNSIsIiNkOWQ5ZDkiLCIjYmM4MGJkIiwiI2NjZWJjNSIsIiNmZmVkNmYiXSxEYXJrMjpbIiMxYjllNzciLCIjZDk1ZjAyIiwiIzc1NzBiMyIsIiNlNzI5OGEiLCIjNjZhNjFlIiwiI2U2YWIwMiIsIiNhNjc2MWQiLCIjNjY2NjY2Il0sUGFpcmVkOlsiI2E2Y2VlMyIsIiMxZjc4YjQiLCIjYjJkZjhhIiwiIzMzYTAyYyIsIiNmYjlhOTkiLCIjZTMxYTFjIiwiI2ZkYmY2ZiIsIiNmZjdmMDAiLCIjY2FiMmQ2IiwiIzZhM2Q5YSIsIiNmZmZmOTkiLCIjYjE1OTI4Il0sUGFzdGVsMjpbIiNiM2UyY2QiLCIjZmRjZGFjIiwiI2NiZDVlOCIsIiNmNGNhZTQiLCIjZTZmNWM5IiwiI2ZmZjJhZSIsIiNmMWUyY2MiLCIjY2NjY2NjIl0sUGFzdGVsMTpbIiNmYmI0YWUiLCIjYjNjZGUzIiwiI2NjZWJjNSIsIiNkZWNiZTQiLCIjZmVkOWE2IiwiI2ZmZmZjYyIsIiNlNWQ4YmQiLCIjZmRkYWVjIiwiI2YyZjJmMiJdfSx3YT17aW5kaWdvOiIjNGIwMDgyIixnb2xkOiIjZmZkNzAwIixob3RwaW5rOiIjZmY2OWI0IixmaXJlYnJpY2s6IiNiMjIyMjIiLGluZGlhbnJlZDoiI2NkNWM1YyIseWVsbG93OiIjZmZmZjAwIixtaXN0eXJvc2U6IiNmZmU0ZTEiLGRhcmtvbGl2ZWdyZWVuOiIjNTU2YjJmIixvbGl2ZToiIzgwODAwMCIsZGFya3NlYWdyZWVuOiIjOGZiYzhmIixwaW5rOiIjZmZjMGNiIix0b21hdG86IiNmZjYzNDciLGxpZ2h0Y29yYWw6IiNmMDgwODAiLG9yYW5nZXJlZDoiI2ZmNDUwMCIsbmF2YWpvd2hpdGU6IiNmZmRlYWQiLGxpbWU6IiMwMGZmMDAiLHBhbGVncmVlbjoiIzk4ZmI5OCIsZGFya3NsYXRlZ3JleToiIzJmNGY0ZiIsZ3JlZW55ZWxsb3c6IiNhZGZmMmYiLGJ1cmx5d29vZDoiI2RlYjg4NyIsc2Vhc2hlbGw6IiNmZmY1ZWUiLG1lZGl1bXNwcmluZ2dyZWVuOiIjMDBmYTlhIixmdWNoc2lhOiIjZmYwMGZmIixwYXBheWF3aGlwOiIjZmZlZmQ1IixibGFuY2hlZGFsbW9uZDoiI2ZmZWJjZCIsY2hhcnRyZXVzZToiIzdmZmYwMCIsZGltZ3JheToiIzY5Njk2OSIsYmxhY2s6IiMwMDAwMDAiLHBlYWNocHVmZjoiI2ZmZGFiOSIsc3ByaW5nZ3JlZW46IiMwMGZmN2YiLGFxdWFtYXJpbmU6IiM3ZmZmZDQiLHdoaXRlOiIjZmZmZmZmIixvcmFuZ2U6IiNmZmE1MDAiLGxpZ2h0c2FsbW9uOiIjZmZhMDdhIixkYXJrc2xhdGVncmF5OiIjMmY0ZjRmIixicm93bjoiI2E1MmEyYSIsaXZvcnk6IiNmZmZmZjAiLGRvZGdlcmJsdWU6IiMxZTkwZmYiLHBlcnU6IiNjZDg1M2YiLGxhd25ncmVlbjoiIzdjZmMwMCIsY2hvY29sYXRlOiIjZDI2OTFlIixjcmltc29uOiIjZGMxNDNjIixmb3Jlc3RncmVlbjoiIzIyOGIyMiIsZGFya2dyZXk6IiNhOWE5YTkiLGxpZ2h0c2VhZ3JlZW46IiMyMGIyYWEiLGN5YW46IiMwMGZmZmYiLG1pbnRjcmVhbToiI2Y1ZmZmYSIsc2lsdmVyOiIjYzBjMGMwIixhbnRpcXVld2hpdGU6IiNmYWViZDciLG1lZGl1bW9yY2hpZDoiI2JhNTVkMyIsc2t5Ymx1ZToiIzg3Y2VlYiIsZ3JheToiIzgwODA4MCIsZGFya3R1cnF1b2lzZToiIzAwY2VkMSIsZ29sZGVucm9kOiIjZGFhNTIwIixkYXJrZ3JlZW46IiMwMDY0MDAiLGZsb3JhbHdoaXRlOiIjZmZmYWYwIixkYXJrdmlvbGV0OiIjOTQwMGQzIixkYXJrZ3JheToiI2E5YTlhOSIsbW9jY2FzaW46IiNmZmU0YjUiLHNhZGRsZWJyb3duOiIjOGI0NTEzIixncmV5OiIjODA4MDgwIixkYXJrc2xhdGVibHVlOiIjNDgzZDhiIixsaWdodHNreWJsdWU6IiM4N2NlZmEiLGxpZ2h0cGluazoiI2ZmYjZjMSIsbWVkaXVtdmlvbGV0cmVkOiIjYzcxNTg1IixzbGF0ZWdyZXk6IiM3MDgwOTAiLHJlZDoiI2ZmMDAwMCIsZGVlcHBpbms6IiNmZjE0OTMiLGxpbWVncmVlbjoiIzMyY2QzMiIsZGFya21hZ2VudGE6IiM4YjAwOGIiLHBhbGVnb2xkZW5yb2Q6IiNlZWU4YWEiLHBsdW06IiNkZGEwZGQiLHR1cnF1b2lzZToiIzQwZTBkMCIsbGlnaHRncmV5OiIjZDNkM2QzIixsaWdodGdvbGRlbnJvZHllbGxvdzoiI2ZhZmFkMiIsZGFya2dvbGRlbnJvZDoiI2I4ODYwYiIsbGF2ZW5kZXI6IiNlNmU2ZmEiLG1hcm9vbjoiIzgwMDAwMCIseWVsbG93Z3JlZW46IiM5YWNkMzIiLHNhbmR5YnJvd246IiNmNGE0NjAiLHRoaXN0bGU6IiNkOGJmZDgiLHZpb2xldDoiI2VlODJlZSIsbmF2eToiIzAwMDA4MCIsbWFnZW50YToiI2ZmMDBmZiIsZGltZ3JleToiIzY5Njk2OSIsdGFuOiIjZDJiNDhjIixyb3N5YnJvd246IiNiYzhmOGYiLG9saXZlZHJhYjoiIzZiOGUyMyIsYmx1ZToiIzAwMDBmZiIsbGlnaHRibHVlOiIjYWRkOGU2IixnaG9zdHdoaXRlOiIjZjhmOGZmIixob25leWRldzoiI2YwZmZmMCIsY29ybmZsb3dlcmJsdWU6IiM2NDk1ZWQiLHNsYXRlYmx1ZToiIzZhNWFjZCIsbGluZW46IiNmYWYwZTYiLGRhcmtibHVlOiIjMDAwMDhiIixwb3dkZXJibHVlOiIjYjBlMGU2IixzZWFncmVlbjoiIzJlOGI1NyIsZGFya2toYWtpOiIjYmRiNzZiIixzbm93OiIjZmZmYWZhIixzaWVubmE6IiNhMDUyMmQiLG1lZGl1bWJsdWU6IiMwMDAwY2QiLHJveWFsYmx1ZToiIzQxNjllMSIsbGlnaHRjeWFuOiIjZTBmZmZmIixncmVlbjoiIzAwODAwMCIsbWVkaXVtcHVycGxlOiIjOTM3MGRiIixtaWRuaWdodGJsdWU6IiMxOTE5NzAiLGNvcm5zaWxrOiIjZmZmOGRjIixwYWxldHVycXVvaXNlOiIjYWZlZWVlIixiaXNxdWU6IiNmZmU0YzQiLHNsYXRlZ3JheToiIzcwODA5MCIsZGFya2N5YW46IiMwMDhiOGIiLGtoYWtpOiIjZjBlNjhjIix3aGVhdDoiI2Y1ZGViMyIsdGVhbDoiIzAwODA4MCIsZGFya29yY2hpZDoiIzk5MzJjYyIsZGVlcHNreWJsdWU6IiMwMGJmZmYiLHNhbG1vbjoiI2ZhODA3MiIsZGFya3JlZDoiIzhiMDAwMCIsc3RlZWxibHVlOiIjNDY4MmI0IixwYWxldmlvbGV0cmVkOiIjZGI3MDkzIixsaWdodHNsYXRlZ3JheToiIzc3ODg5OSIsYWxpY2VibHVlOiIjZjBmOGZmIixsaWdodHNsYXRlZ3JleToiIzc3ODg5OSIsbGlnaHRncmVlbjoiIzkwZWU5MCIsb3JjaGlkOiIjZGE3MGQ2IixnYWluc2Jvcm86IiNkY2RjZGMiLG1lZGl1bXNlYWdyZWVuOiIjM2NiMzcxIixsaWdodGdyYXk6IiNkM2QzZDMiLG1lZGl1bXR1cnF1b2lzZToiIzQ4ZDFjYyIsbGVtb25jaGlmZm9uOiIjZmZmYWNkIixjYWRldGJsdWU6IiM1ZjllYTAiLGxpZ2h0eWVsbG93OiIjZmZmZmUwIixsYXZlbmRlcmJsdXNoOiIjZmZmMGY1Iixjb3JhbDoiI2ZmN2Y1MCIscHVycGxlOiIjODAwMDgwIixhcXVhOiIjMDBmZmZmIix3aGl0ZXNtb2tlOiIjZjVmNWY1IixtZWRpdW1zbGF0ZWJsdWU6IiM3YjY4ZWUiLGRhcmtvcmFuZ2U6IiNmZjhjMDAiLG1lZGl1bWFxdWFtYXJpbmU6IiM2NmNkYWEiLGRhcmtzYWxtb246IiNlOTk2N2EiLGJlaWdlOiIjZjVmNWRjIixibHVldmlvbGV0OiIjOGEyYmUyIixhenVyZToiI2YwZmZmZiIsbGlnaHRzdGVlbGJsdWU6IiNiMGM0ZGUiLG9sZGxhY2U6IiNmZGY1ZTYiLHJlYmVjY2FwdXJwbGU6IiM2NjMzOTkifSxzLmNvbG9ycz12PXdhLE49ZnVuY3Rpb24oKXt2YXIgYSxiLGQsZSxmLGcsaCxpLGo7cmV0dXJuIGI9dmEoYXJndW1lbnRzKSxmPWJbMF0sYT1iWzFdLGQ9YlsyXSxpPShmKzE2KS8xMTYsaD1pc05hTihhKT9pOmkrYS81MDAsaj1pc05hTihkKT9pOmktZC8yMDAsaT1jLlluKk8oaSksaD1jLlhuKk8oaCksaj1jLlpuKk8oaiksZz15YSgzLjI0MDQ1NDIqaC0xLjUzNzEzODUqaS0uNDk4NTMxNCpqKSxlPXlhKC0uOTY5MjY2KmgrMS44NzYwMTA4KmkrLjA0MTU1NipqKSxkPXlhKC4wNTU2NDM0KmgtLjIwNDAyNTkqaSsxLjA1NzIyNTIqaiksZz1TKGcsMCwyNTUpLGU9UyhlLDAsMjU1KSxkPVMoZCwwLDI1NSksW2csZSxkLGIubGVuZ3RoPjM/YlszXToxXX0seWE9ZnVuY3Rpb24oYSl7cmV0dXJuIHBhKDI1NSooLjAwMzA0Pj1hPzEyLjkyKmE6MS4wNTUqXyhhLDEvMi40KS0uMDU1KSl9LE89ZnVuY3Rpb24oYSl7cmV0dXJuIGE+Yy50MT9hKmEqYTpjLnQyKihhLWMudDApfSxjPXtLbjoxOCxYbjouOTUwNDcsWW46MSxabjoxLjA4ODgzLHQwOi4xMzc5MzEwMzQsdDE6LjIwNjg5NjU1Mix0MjouMTI4NDE4NTUsdDM6LjAwODg1NjQ1Mn0sZ2E9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZyxoO3JldHVybiBkPXZhKGFyZ3VtZW50cyksYz1kWzBdLGI9ZFsxXSxhPWRbMl0sZT1sYShjLGIsYSksZj1lWzBdLGc9ZVsxXSxoPWVbMl0sWzExNipnLTE2LDUwMCooZi1nKSwyMDAqKGctaCldfSxtYT1mdW5jdGlvbihhKXtyZXR1cm4oYS89MjU1KTw9LjA0MDQ1P2EvMTIuOTI6XygoYSsuMDU1KS8xLjA1NSwyLjQpfSx4YT1mdW5jdGlvbihhKXtyZXR1cm4gYT5jLnQzP18oYSwxLzMpOmEvYy50MitjLnQwfSxsYT1mdW5jdGlvbigpe3ZhciBhLGIsZCxlLGYsZyxoO3JldHVybiBlPXZhKGFyZ3VtZW50cyksZD1lWzBdLGI9ZVsxXSxhPWVbMl0sZD1tYShkKSxiPW1hKGIpLGE9bWEoYSksZj14YSgoLjQxMjQ1NjQqZCsuMzU3NTc2MSpiKy4xODA0Mzc1KmEpL2MuWG4pLGc9eGEoKC4yMTI2NzI5KmQrLjcxNTE1MjIqYisuMDcyMTc1KmEpL2MuWW4pLGg9eGEoKC4wMTkzMzM5KmQrLjExOTE5MipiKy45NTAzMDQxKmEpL2MuWm4pLFtmLGcsaF19LHMubGFiPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXtjLnByb3RvdHlwZT1hLnByb3RvdHlwZTt2YXIgZD1uZXcgYyxlPWEuYXBwbHkoZCxiKTtyZXR1cm4gT2JqZWN0KGUpPT09ZT9lOmR9KGEsemEuY2FsbChhcmd1bWVudHMpLmNvbmNhdChbImxhYiJdKSxmdW5jdGlvbigpe30pfSxqLmxhYj1OLGEucHJvdG90eXBlLmxhYj1mdW5jdGlvbigpe3JldHVybiBnYSh0aGlzLl9yZ2IpfSxuPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGw7cmV0dXJuIGE9ZnVuY3Rpb24oKXt2YXIgYixjLGQ7Zm9yKGQ9W10sYz0wLGI9YS5sZW5ndGg7Yj5jO2MrKyllPWFbY10sZC5wdXNoKHMoZSkpO3JldHVybiBkfSgpLDI9PT1hLmxlbmd0aD8oaj1mdW5jdGlvbigpe3ZhciBiLGMsZDtmb3IoZD1bXSxjPTAsYj1hLmxlbmd0aDtiPmM7YysrKWU9YVtjXSxkLnB1c2goZS5sYWIoKSk7cmV0dXJuIGR9KCksZj1qWzBdLGc9alsxXSxiPWZ1bmN0aW9uKGEpe3ZhciBiLGM7cmV0dXJuIGM9ZnVuY3Rpb24oKXt2YXIgYyxkO2ZvcihkPVtdLGI9Yz0wOzI+PWM7Yj0rK2MpZC5wdXNoKGZbYl0rYSooZ1tiXS1mW2JdKSk7cmV0dXJuIGR9KCkscy5sYWIuYXBwbHkocyxjKX0pOjM9PT1hLmxlbmd0aD8oaz1mdW5jdGlvbigpe3ZhciBiLGMsZDtmb3IoZD1bXSxjPTAsYj1hLmxlbmd0aDtiPmM7YysrKWU9YVtjXSxkLnB1c2goZS5sYWIoKSk7cmV0dXJuIGR9KCksZj1rWzBdLGc9a1sxXSxoPWtbMl0sYj1mdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBjPWZ1bmN0aW9uKCl7dmFyIGMsZDtmb3IoZD1bXSxiPWM9MDsyPj1jO2I9KytjKWQucHVzaCgoMS1hKSooMS1hKSpmW2JdKzIqKDEtYSkqYSpnW2JdK2EqYSpoW2JdKTtyZXR1cm4gZH0oKSxzLmxhYi5hcHBseShzLGMpfSk6ND09PWEubGVuZ3RoPyhsPWZ1bmN0aW9uKCl7dmFyIGIsYyxkO2ZvcihkPVtdLGM9MCxiPWEubGVuZ3RoO2I+YztjKyspZT1hW2NdLGQucHVzaChlLmxhYigpKTtyZXR1cm4gZH0oKSxmPWxbMF0sZz1sWzFdLGg9bFsyXSxpPWxbM10sYj1mdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBjPWZ1bmN0aW9uKCl7dmFyIGMsZDtmb3IoZD1bXSxiPWM9MDsyPj1jO2I9KytjKWQucHVzaCgoMS1hKSooMS1hKSooMS1hKSpmW2JdKzMqKDEtYSkqKDEtYSkqYSpnW2JdKzMqKDEtYSkqYSphKmhbYl0rYSphKmEqaVtiXSk7cmV0dXJuIGR9KCkscy5sYWIuYXBwbHkocyxjKX0pOjU9PT1hLmxlbmd0aCYmKGM9bihhLnNsaWNlKDAsMykpLGQ9bihhLnNsaWNlKDIsNSkpLGI9ZnVuY3Rpb24oYSl7cmV0dXJuLjU+YT9jKDIqYSk6ZCgyKihhLS41KSl9KSxifSxzLmJlemllcj1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gYj1uKGEpLGIuc2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gcy5zY2FsZShiKX0sYn0scy5jdWJlaGVsaXg9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixoLGk7cmV0dXJuIG51bGw9PWEmJihhPTMwMCksbnVsbD09YiYmKGI9LTEuNSksbnVsbD09YyYmKGM9MSksbnVsbD09ZCYmKGQ9MSksbnVsbD09ZSYmKGU9WzAsMV0pLGg9ZVsxXS1lWzBdLGY9MCxpPWZ1bmN0aW9uKGkpe3ZhciBqLGssbCxtLG4sbyxwLHEscjtyZXR1cm4gaj1nKigoYSsxMjApLzM2MCtiKmkpLHA9XyhlWzBdK2gqaSxkKSxvPTAhPT1mP2NbMF0raSpmOmMsaz1vKnAqKDEtcCkvMixtPXcoaikscj1yYShqKSxxPXArayooLS4xNDg2MSptKzEuNzgyNzcqciksbj1wK2sqKC0uMjkyMjcqbS0uOTA2NDkqciksbD1wKzEuOTcyOTQqayptLHModChbMjU1KnEsMjU1Km4sMjU1KmxdKSl9LGkuc3RhcnQ9ZnVuY3Rpb24oYil7cmV0dXJuIG51bGw9PWI/YTooYT1iLGkpfSxpLnJvdGF0aW9ucz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9iOihiPWEsaSl9LGkuZ2FtbWE9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/ZDooZD1hLGkpfSxpLmh1ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9jOihjPWEsImFycmF5Ij09PXVhKGMpPyhmPWNbMV0tY1swXSwwPT09ZiYmKGM9Y1sxXSkpOmY9MCxpKX0saS5saWdodG5lc3M9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/ZTooZT1hLCJhcnJheSI9PT11YShlKT8oaD1lWzFdLWVbMF0sMD09PWgmJihlPWVbMV0pKTpoPTAsaSl9LGkuc2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gcy5zY2FsZShpKX0saS5odWUoYyksaX0scy5yYW5kb209ZnVuY3Rpb24oKXt2YXIgYixjLGQsZTtmb3IoYz0iMDEyMzQ1Njc4OWFiY2RlZiIsYj0iIyIsZD1lPTA7Nj5lO2Q9KytlKWIrPWMuY2hhckF0KEIoMTYqTWF0aC5yYW5kb20oKSkpO3JldHVybiBuZXcgYShiKX0sai5yZ2I9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZDtiPXZhKGFyZ3VtZW50cyksYz1bXTtmb3IoYSBpbiBiKWQ9YlthXSxjLnB1c2goZCk7cmV0dXJuIGN9LHMucmdiPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXtjLnByb3RvdHlwZT1hLnByb3RvdHlwZTt2YXIgZD1uZXcgYyxlPWEuYXBwbHkoZCxiKTtyZXR1cm4gT2JqZWN0KGUpPT09ZT9lOmR9KGEsemEuY2FsbChhcmd1bWVudHMpLmNvbmNhdChbInJnYiJdKSxmdW5jdGlvbigpe30pfSxhLnByb3RvdHlwZS5yZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmdiLnNsaWNlKDAsMyl9LGEucHJvdG90eXBlLnJnYmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmdifSxoLnB1c2goe3A6MTUsdGVzdDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gYj12YShhcmd1bWVudHMpLCJhcnJheSI9PT11YShiKSYmMz09PWIubGVuZ3RoPyJyZ2IiOjQ9PT1iLmxlbmd0aCYmIm51bWJlciI9PT11YShiWzNdKSYmYlszXT49MCYmYlszXTw9MT8icmdiIjp2b2lkIDB9fSksQz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGc7aWYoYS5tYXRjaCgvXiM/KFtBLUZhLWYwLTldezZ9fFtBLUZhLWYwLTldezN9KSQvKSlyZXR1cm4oND09PWEubGVuZ3RofHw3PT09YS5sZW5ndGgpJiYoYT1hLnN1YnN0cigxKSksMz09PWEubGVuZ3RoJiYoYT1hLnNwbGl0KCIiKSxhPWFbMF0rYVswXSthWzFdK2FbMV0rYVsyXSthWzJdKSxnPXBhcnNlSW50KGEsMTYpLGU9Zz4+MTYsZD1nPj44JjI1NSxjPTI1NSZnLFtlLGQsYywxXTtpZihhLm1hdGNoKC9eIz8oW0EtRmEtZjAtOV17OH0pJC8pKXJldHVybiA5PT09YS5sZW5ndGgmJihhPWEuc3Vic3RyKDEpKSxnPXBhcnNlSW50KGEsMTYpLGU9Zz4+MjQmMjU1LGQ9Zz4+MTYmMjU1LGM9Zz4+OCYyNTUsYj1wYSgoMjU1JmcpLzI1NSoxMDApLzEwMCxbZSxkLGMsYl07aWYobnVsbCE9ai5jc3MmJihmPWouY3NzKGEpKSlyZXR1cm4gZjt0aHJvdyJ1bmtub3duIGNvbG9yOiAiK2F9LGNhPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoLGk7cmV0dXJuIG51bGw9PWImJihiPSJyZ2IiKSxnPWFbMF0sZT1hWzFdLGQ9YVsyXSxjPWFbM10saT1nPDwxNnxlPDw4fGQsaD0iMDAwMDAwIitpLnRvU3RyaW5nKDE2KSxoPWguc3Vic3RyKGgubGVuZ3RoLTYpLGY9IjAiK3BhKDI1NSpjKS50b1N0cmluZygxNiksZj1mLnN1YnN0cihmLmxlbmd0aC0yKSwiIyIrZnVuY3Rpb24oKXtzd2l0Y2goYi50b0xvd2VyQ2FzZSgpKXtjYXNlInJnYmEiOnJldHVybiBoK2Y7Y2FzZSJhcmdiIjpyZXR1cm4gZitoO2RlZmF1bHQ6cmV0dXJuIGh9fSgpfSxqLmhleD1mdW5jdGlvbihhKXtyZXR1cm4gQyhhKX0scy5oZXg9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe2MucHJvdG90eXBlPWEucHJvdG90eXBlO3ZhciBkPW5ldyBjLGU9YS5hcHBseShkLGIpO3JldHVybiBPYmplY3QoZSk9PT1lP2U6ZH0oYSx6YS5jYWxsKGFyZ3VtZW50cykuY29uY2F0KFsiaGV4Il0pLGZ1bmN0aW9uKCl7fSl9LGEucHJvdG90eXBlLmhleD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YSYmKGE9InJnYiIpLGNhKHRoaXMuX3JnYixhKX0saC5wdXNoKHtwOjEwLHRlc3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09PXVhKGEpPyJoZXgiOnZvaWQgMH19KSxGPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpLGosayxsLG0sbjtpZihhPXZhKGFyZ3VtZW50cyksZT1hWzBdLGs9YVsxXSxnPWFbMl0sMD09PWspaT1kPWI9MjU1Kmc7ZWxzZXtmb3Iobj1bMCwwLDBdLGM9WzAsMCwwXSxtPS41Pmc/ZyooMStrKTpnK2stZyprLGw9MipnLW0sZS89MzYwLG5bMF09ZSsxLzMsblsxXT1lLG5bMl09ZS0xLzMsZj1oPTA7Mj49aDtmPSsraCluW2ZdPDAmJihuW2ZdKz0xKSxuW2ZdPjEmJihuW2ZdLT0xKSw2Km5bZl08MT9jW2ZdPWwrNioobS1sKSpuW2ZdOjIqbltmXTwxP2NbZl09bTozKm5bZl08Mj9jW2ZdPWwrKG0tbCkqKDIvMy1uW2ZdKSo2OmNbZl09bDtqPVtwYSgyNTUqY1swXSkscGEoMjU1KmNbMV0pLHBhKDI1NSpjWzJdKV0saT1qWzBdLGQ9alsxXSxiPWpbMl19cmV0dXJuIGEubGVuZ3RoPjM/W2ksZCxiLGFbM11dOltpLGQsYl19LGVhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoO3JldHVybiB2b2lkIDAhPT1hJiZhLmxlbmd0aD49MyYmKGc9YSxhPWdbMF0sYj1nWzFdLGM9Z1syXSksYS89MjU1LGIvPTI1NSxjLz0yNTUsZj1NYXRoLm1pbihhLGIsYyksVz1NYXRoLm1heChhLGIsYyksZT0oVytmKS8yLFc9PT1mPyhoPTAsZD1OdW1iZXIuTmFOKTpoPS41PmU/KFctZikvKFcrZik6KFctZikvKDItVy1mKSxhPT09Vz9kPShiLWMpLyhXLWYpOmI9PT1XP2Q9MisoYy1hKS8oVy1mKTpjPT09VyYmKGQ9NCsoYS1iKS8oVy1mKSksZCo9NjAsMD5kJiYoZCs9MzYwKSxbZCxoLGVdfSxzLmhzbD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyl7Yy5wcm90b3R5cGU9YS5wcm90b3R5cGU7dmFyIGQ9bmV3IGMsZT1hLmFwcGx5KGQsYik7cmV0dXJuIE9iamVjdChlKT09PWU/ZTpkfShhLHphLmNhbGwoYXJndW1lbnRzKS5jb25jYXQoWyJoc2wiXSksZnVuY3Rpb24oKXt9KX0sai5oc2w9RixhLnByb3RvdHlwZS5oc2w9ZnVuY3Rpb24oKXtyZXR1cm4gZWEodGhpcy5fcmdiKX0sRz1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscjtpZihhPXZhKGFyZ3VtZW50cyksZT1hWzBdLHA9YVsxXSxyPWFbMl0scio9MjU1LDA9PT1wKWk9ZD1iPXI7ZWxzZSBzd2l0Y2goMzYwPT09ZSYmKGU9MCksZT4zNjAmJihlLT0zNjApLDA+ZSYmKGUrPTM2MCksZS89NjAsZj1CKGUpLGM9ZS1mLGc9ciooMS1wKSxoPXIqKDEtcCpjKSxxPXIqKDEtcCooMS1jKSksZil7Y2FzZSAwOmo9W3IscSxnXSxpPWpbMF0sZD1qWzFdLGI9alsyXTticmVhaztjYXNlIDE6az1baCxyLGddLGk9a1swXSxkPWtbMV0sYj1rWzJdO2JyZWFrO2Nhc2UgMjpsPVtnLHIscV0saT1sWzBdLGQ9bFsxXSxiPWxbMl07YnJlYWs7Y2FzZSAzOm09W2csaCxyXSxpPW1bMF0sZD1tWzFdLGI9bVsyXTticmVhaztjYXNlIDQ6bj1bcSxnLHJdLGk9blswXSxkPW5bMV0sYj1uWzJdO2JyZWFrO2Nhc2UgNTpvPVtyLGcsaF0saT1vWzBdLGQ9b1sxXSxiPW9bMl19cmV0dXJuIGk9cGEoaSksZD1wYShkKSxiPXBhKGIpLFtpLGQsYixhLmxlbmd0aD4zP2FbM106MV19LGZhPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpO3JldHVybiBnPXZhKGFyZ3VtZW50cyksZj1nWzBdLGM9Z1sxXSxhPWdbMl0sZT1NYXRoLm1pbihmLGMsYSksVz1NYXRoLm1heChmLGMsYSksYj1XLWUsaT1XLzI1NSwwPT09Vz8oZD1OdW1iZXIuTmFOLGg9MCk6KGg9Yi9XLGY9PT1XJiYoZD0oYy1hKS9iKSxjPT09VyYmKGQ9MisoYS1mKS9iKSxhPT09VyYmKGQ9NCsoZi1jKS9iKSxkKj02MCwwPmQmJihkKz0zNjApKSxbZCxoLGldfSxzLmhzdj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyl7Yy5wcm90b3R5cGU9YS5wcm90b3R5cGU7dmFyIGQ9bmV3IGMsZT1hLmFwcGx5KGQsYik7cmV0dXJuIE9iamVjdChlKT09PWU/ZTpkfShhLHphLmNhbGwoYXJndW1lbnRzKS5jb25jYXQoWyJoc3YiXSksZnVuY3Rpb24oKXt9KX0sai5oc3Y9RyxhLnByb3RvdHlwZS5oc3Y9ZnVuY3Rpb24oKXtyZXR1cm4gZmEodGhpcy5fcmdiKX0sWj1mdW5jdGlvbihhKXt2YXIgYixjLGQ7cmV0dXJuIm51bWJlciI9PT11YShhKSYmYT49MCYmMTY3NzcyMTU+PWE/KGQ9YT4+MTYsYz1hPj44JjI1NSxiPTI1NSZhLFtkLGMsYiwxXSk6KGNvbnNvbGUud2FybigidW5rbm93biBudW0gY29sb3I6ICIrYSksWzAsMCwwLDFdKX0samE9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZDtyZXR1cm4gZD12YShhcmd1bWVudHMpLGM9ZFswXSxiPWRbMV0sYT1kWzJdLChjPDwxNikrKGI8PDgpK2F9LHMubnVtPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiLCJudW0iKX0sYS5wcm90b3R5cGUubnVtPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hJiYoYT0icmdiIiksamEodGhpcy5fcmdiLGEpfSxqLm51bT1aLGgucHVzaCh7cDoxMCx0ZXN0OmZ1bmN0aW9uKGEpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aCYmIm51bWJlciI9PT11YShhKSYmYT49MCYmMTY3NzcyMTU+PWE/Im51bSI6dm9pZCAwfX0pLHg9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaTtpZihhPWEudG9Mb3dlckNhc2UoKSxudWxsIT1zLmNvbG9ycyYmcy5jb2xvcnNbYV0pcmV0dXJuIEMocy5jb2xvcnNbYV0pO2lmKGY9YS5tYXRjaCgvcmdiXChccyooXC0/XGQrKSxccyooXC0/XGQrKVxzKixccyooXC0/XGQrKVxzKlwpLykpe2ZvcihoPWYuc2xpY2UoMSw0KSxlPWc9MDsyPj1nO2U9KytnKWhbZV09K2hbZV07aFszXT0xfWVsc2UgaWYoZj1hLm1hdGNoKC9yZ2JhXChccyooXC0/XGQrKSxccyooXC0/XGQrKVxzKixccyooXC0/XGQrKVxzKixccyooWzAxXXxbMDFdP1wuXGQrKVwpLykpZm9yKGg9Zi5zbGljZSgxLDUpLGU9aT0wOzM+PWk7ZT0rK2kpaFtlXT0raFtlXTtlbHNlIGlmKGY9YS5tYXRjaCgvcmdiXChccyooXC0/XGQrKD86XC5cZCspPyklLFxzKihcLT9cZCsoPzpcLlxkKyk/KSVccyosXHMqKFwtP1xkKyg/OlwuXGQrKT8pJVxzKlwpLykpe2ZvcihoPWYuc2xpY2UoMSw0KSxlPWI9MDsyPj1iO2U9KytiKWhbZV09cGEoMi41NSpoW2VdKTtoWzNdPTF9ZWxzZSBpZihmPWEubWF0Y2goL3JnYmFcKFxzKihcLT9cZCsoPzpcLlxkKyk/KSUsXHMqKFwtP1xkKyg/OlwuXGQrKT8pJVxzKixccyooXC0/XGQrKD86XC5cZCspPyklXHMqLFxzKihbMDFdfFswMV0/XC5cZCspXCkvKSl7Zm9yKGg9Zi5zbGljZSgxLDUpLGU9Yz0wOzI+PWM7ZT0rK2MpaFtlXT1wYSgyLjU1KmhbZV0pO2hbM109K2hbM119ZWxzZShmPWEubWF0Y2goL2hzbFwoXHMqKFwtP1xkKyg/OlwuXGQrKT8pLFxzKihcLT9cZCsoPzpcLlxkKyk/KSVccyosXHMqKFwtP1xkKyg/OlwuXGQrKT8pJVxzKlwpLykpPyhkPWYuc2xpY2UoMSw0KSxkWzFdKj0uMDEsZFsyXSo9LjAxLGg9RihkKSxoWzNdPTEpOihmPWEubWF0Y2goL2hzbGFcKFxzKihcLT9cZCsoPzpcLlxkKyk/KSxccyooXC0/XGQrKD86XC5cZCspPyklXHMqLFxzKihcLT9cZCsoPzpcLlxkKyk/KSVccyosXHMqKFswMV18WzAxXT9cLlxkKylcKS8pKSYmKGQ9Zi5zbGljZSgxLDQpLGRbMV0qPS4wMSxkWzJdKj0uMDEsaD1GKGQpLGhbM109K2ZbNF0pO3JldHVybiBofSxiYT1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gYj1hWzNdPDE/InJnYmEiOiJyZ2IiLCJyZ2IiPT09Yj9iKyIoIithLnNsaWNlKDAsMykubWFwKHBhKS5qb2luKCIsIikrIikiOiJyZ2JhIj09PWI/YisiKCIrYS5zbGljZSgwLDMpLm1hcChwYSkuam9pbigiLCIpKyIsIithWzNdKyIpIjp2b2lkIDB9LG5hPWZ1bmN0aW9uKGEpe3JldHVybiBwYSgxMDAqYSkvMTAwfSxFPWZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuIGM9MT5iPyJoc2xhIjoiaHNsIixhWzBdPW5hKGFbMF18fDApLGFbMV09bmEoMTAwKmFbMV0pKyIlIixhWzJdPW5hKDEwMCphWzJdKSsiJSIsImhzbGEiPT09YyYmKGFbM109YiksYysiKCIrYS5qb2luKCIsIikrIikifSxqLmNzcz1mdW5jdGlvbihhKXtyZXR1cm4geChhKX0scy5jc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe2MucHJvdG90eXBlPWEucHJvdG90eXBlO3ZhciBkPW5ldyBjLGU9YS5hcHBseShkLGIpO3JldHVybiBPYmplY3QoZSk9PT1lP2U6ZH0oYSx6YS5jYWxsKGFyZ3VtZW50cykuY29uY2F0KFsiY3NzIl0pLGZ1bmN0aW9uKCl7fSl9LGEucHJvdG90eXBlLmNzcz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YSYmKGE9InJnYiIpLCJyZ2IiPT09YS5zbGljZSgwLDMpP2JhKHRoaXMuX3JnYik6ImhzbCI9PT1hLnNsaWNlKDAsMyk/RSh0aGlzLmhzbCgpLHRoaXMuYWxwaGEoKSk6dm9pZCAwfSxqLm5hbWVkPWZ1bmN0aW9uKGEpe3JldHVybiBDKHdhW2FdKX0saC5wdXNoKHtwOjIwLHRlc3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoJiZudWxsIT13YVthXT8ibmFtZWQiOnZvaWQgMH19KSxhLnByb3RvdHlwZS5uYW1lPWZ1bmN0aW9uKGEpe3ZhciBiLGM7YXJndW1lbnRzLmxlbmd0aCYmKHdhW2FdJiYodGhpcy5fcmdiPUMod2FbYV0pKSx0aGlzLl9yZ2JbM109MSksYj10aGlzLmhleCgpO2ZvcihjIGluIHdhKWlmKGI9PT13YVtjXSlyZXR1cm4gYztyZXR1cm4gYn0sUD1mdW5jdGlvbigpe3ZhciBhLGMsZCxlO3JldHVybiBlPXZhKGFyZ3VtZW50cyksZD1lWzBdLGE9ZVsxXSxjPWVbMl0sYyo9YixbZCx3KGMpKmEscmEoYykqYV19LFE9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZyxoLGksaixrO3JldHVybiBjPXZhKGFyZ3VtZW50cyksaD1jWzBdLGU9Y1sxXSxnPWNbMl0saj1QKGgsZSxnKSxhPWpbMF0sYj1qWzFdLGQ9alsyXSxrPU4oYSxiLGQpLGk9a1swXSxmPWtbMV0sZD1rWzJdLFtTKGksMCwyNTUpLFMoZiwwLDI1NSksUyhkLDAsMjU1KSxjLmxlbmd0aD4zP2NbM106MV19LE09ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGc7cmV0dXJuIGc9dmEoYXJndW1lbnRzKSxlPWdbMF0sYT1nWzFdLGI9Z1syXSxjPXNhKGEqYStiKmIpLGQ9KG0oYixhKSpmKzM2MCklMzYwLDA9PT1wYSgxZTQqYykmJihkPU51bWJlci5OYU4pLFtlLGMsZF19LGhhPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc7cmV0dXJuIGY9dmEoYXJndW1lbnRzKSxlPWZbMF0sYz1mWzFdLGI9ZlsyXSxnPWdhKGUsYyxiKSxkPWdbMF0sYT1nWzFdLGI9Z1syXSxNKGQsYSxiKX0scy5sY2g9ZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gYj12YShhcmd1bWVudHMpLG5ldyBhKGIsImxjaCIpfSxzLmhjbD1mdW5jdGlvbigpe3ZhciBiO3JldHVybiBiPXZhKGFyZ3VtZW50cyksbmV3IGEoYiwiaGNsIil9LGoubGNoPVEsai5oY2w9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZDtyZXR1cm4gZD12YShhcmd1bWVudHMpLGI9ZFswXSxhPWRbMV0sYz1kWzJdLFEoW2MsYSxiXSl9LGEucHJvdG90eXBlLmxjaD1mdW5jdGlvbigpe3JldHVybiBoYSh0aGlzLl9yZ2IpfSxhLnByb3RvdHlwZS5oY2w9ZnVuY3Rpb24oKXtyZXR1cm4gaGEodGhpcy5fcmdiKS5yZXZlcnNlKCl9LGFhPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksajtyZXR1cm4gbnVsbD09YSYmKGE9InJnYiIpLGk9dmEoYXJndW1lbnRzKSxoPWlbMF0sZT1pWzFdLGI9aVsyXSxoLz0yNTUsZS89MjU1LGIvPTI1NSxmPTEtTWF0aC5tYXgoaCxNYXRoLm1heChlLGIpKSxkPTE+Zj8xLygxLWYpOjAsYz0oMS1oLWYpKmQsZz0oMS1lLWYpKmQsaj0oMS1iLWYpKmQsW2MsZyxqLGZdfSx1PWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpO3JldHVybiBiPXZhKGFyZ3VtZW50cyksZD1iWzBdLGc9YlsxXSxpPWJbMl0sZj1iWzNdLGE9Yi5sZW5ndGg+ND9iWzRdOjEsMT09PWY/WzAsMCwwLGFdOihoPWQ+PTE/MDpwYSgyNTUqKDEtZCkqKDEtZikpLGU9Zz49MT8wOnBhKDI1NSooMS1nKSooMS1mKSksYz1pPj0xPzA6cGEoMjU1KigxLWkpKigxLWYpKSxbaCxlLGMsYV0pfSxqLmNteWs9ZnVuY3Rpb24oKXtyZXR1cm4gdSh2YShhcmd1bWVudHMpKX0scy5jbXlrPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXtjLnByb3RvdHlwZT1hLnByb3RvdHlwZTt2YXIgZD1uZXcgYyxlPWEuYXBwbHkoZCxiKTtyZXR1cm4gT2JqZWN0KGUpPT09ZT9lOmR9KGEsemEuY2FsbChhcmd1bWVudHMpLmNvbmNhdChbImNteWsiXSksZnVuY3Rpb24oKXt9KX0sYS5wcm90b3R5cGUuY215az1mdW5jdGlvbigpe3JldHVybiBhYSh0aGlzLl9yZ2IpfSxqLmdsPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZTtmb3IoZD1mdW5jdGlvbigpe3ZhciBhLGM7YT12YShhcmd1bWVudHMpLGM9W107Zm9yKGIgaW4gYSllPWFbYl0sYy5wdXNoKGUpO3JldHVybiBjfS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYT1jPTA7Mj49YzthPSsrYylkW2FdKj0yNTU7cmV0dXJuIGR9LHMuZ2w9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe2MucHJvdG90eXBlPWEucHJvdG90eXBlO3ZhciBkPW5ldyBjLGU9YS5hcHBseShkLGIpO3JldHVybiBPYmplY3QoZSk9PT1lP2U6ZH0oYSx6YS5jYWxsKGFyZ3VtZW50cykuY29uY2F0KFsiZ2wiXSksZnVuY3Rpb24oKXt9KX0sYS5wcm90b3R5cGUuZ2w9ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gYT10aGlzLl9yZ2IsW2FbMF0vMjU1LGFbMV0vMjU1LGFbMl0vMjU1LGFbM11dfSxpYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGQ9dmEoYXJndW1lbnRzKSxhPWRbMF0sYj1kWzFdLGM9ZFsyXSxhPVUoYSksYj1VKGIpLGM9VShjKSwuMjEyNiphKy43MTUyKmIrLjA3MjIqY30sVT1mdW5jdGlvbihhKXtyZXR1cm4gYS89MjU1LC4wMzkyOD49YT9hLzEyLjkyOl8oKGErLjA1NSkvMS4wNTUsMi40KX0saz1bXSxIPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoO2ZvcihudWxsPT1jJiYoYz0uNSksbnVsbD09ZCYmKGQ9InJnYiIpLCJvYmplY3QiIT09dWEoYSkmJihhPXMoYSkpLCJvYmplY3QiIT09dWEoYikmJihiPXMoYikpLGc9MCxmPWsubGVuZ3RoO2Y+ZztnKyspaWYoZT1rW2ddLGQ9PT1lWzBdKXtoPWVbMV0oYSxiLGMsZCk7YnJlYWt9aWYobnVsbD09aCl0aHJvdyJjb2xvciBtb2RlICIrZCsiIGlzIG5vdCBzdXBwb3J0ZWQiO3JldHVybiBoLmFscGhhKGEuYWxwaGEoKStjKihiLmFscGhhKCktYS5hbHBoYSgpKSksaH0scy5pbnRlcnBvbGF0ZT1ILGEucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gSCh0aGlzLGEsYixjKX0scy5taXg9SCxhLnByb3RvdHlwZS5taXg9YS5wcm90b3R5cGUuaW50ZXJwb2xhdGUsTD1mdW5jdGlvbihiLGMsZCxlKXt2YXIgZixnO3JldHVybiBmPWIuX3JnYixnPWMuX3JnYixuZXcgYShmWzBdK2QqKGdbMF0tZlswXSksZlsxXStkKihnWzFdLWZbMV0pLGZbMl0rZCooZ1syXS1mWzJdKSxlKX0say5wdXNoKFsicmdiIixMXSksYS5wcm90b3R5cGUubHVtaW5hbmNlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY7cmV0dXJuIG51bGw9PWImJihiPSJyZ2IiKSxhcmd1bWVudHMubGVuZ3RoPygwPT09YT90aGlzLl9yZ2I9WzAsMCwwLHRoaXMuX3JnYlszXV06MT09PWE/dGhpcy5fcmdiPVsyNTUsMjU1LDI1NSx0aGlzLl9yZ2JbM11dOihkPTFlLTcsZT0yMCxmPWZ1bmN0aW9uKGMsZyl7dmFyIGgsaTtyZXR1cm4gaT1jLmludGVycG9sYXRlKGcsLjUsYiksaD1pLmx1bWluYW5jZSgpLE1hdGguYWJzKGEtaCk8ZHx8IWUtLT9pOmg+YT9mKGMsaSk6ZihpLGcpfSxjPWlhKHRoaXMuX3JnYiksdGhpcy5fcmdiPShjPmE/ZihzKCJibGFjayIpLHRoaXMpOmYodGhpcyxzKCJ3aGl0ZSIpKSkucmdiYSgpKSx0aGlzKTppYSh0aGlzLl9yZ2IpfSx0YT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZTtyZXR1cm4gZT1hLzEwMCw2Nj5lPyhkPTI1NSxjPS0xNTUuMjU0ODU1NjI3MDkxNzktLjQ0NTk2OTUwNDY5NTc5MTMzKihjPWUtMikrMTA0LjQ5MjE2MTk5MzkzODg4KlQoYyksYj0yMD5lPzA6LTI1NC43NjkzNTE4NDEyMDkwMisuODI3NDA5NjA2NDAwNzM5NSooYj1lLTEwKSsxMTUuNjc5OTQ0MDEwNjYxNDcqVChiKSk6KGQ9MzUxLjk3NjkwNTY2ODA1NjkzKy4xMTQyMDY0NTM3ODQxNjUqKGQ9ZS01NSktNDAuMjUzNjYzMDkzMzIxMjcqVChkKSxjPTMyNS40NDk0MTI1NzExOTc0Ky4wNzk0MzQ1NjUzNjY2MjM0MiooYz1lLTUwKS0yOC4wODUyOTYzNTA3OTU3KlQoYyksYj0yNTUpLHQoW2QsYyxiXSl9LGthPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpO2ZvcihnPXZhKGFyZ3VtZW50cyksZj1nWzBdLGM9Z1sxXSxhPWdbMl0sZT0xZTMsZD00ZTQsYj0uNDtkLWU+YjspaT0uNSooZCtlKSxoPXRhKGkpLGhbMl0vaFswXT49YS9mP2Q9aTplPWk7cmV0dXJuIHBhKGkpfSxzLnRlbXBlcmF0dXJlPXMua2VsdmluPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXtjLnByb3RvdHlwZT1hLnByb3RvdHlwZTt2YXIgZD1uZXcgYyxlPWEuYXBwbHkoZCxiKTtyZXR1cm4gT2JqZWN0KGUpPT09ZT9lOmR9KGEsemEuY2FsbChhcmd1bWVudHMpLmNvbmNhdChbInRlbXBlcmF0dXJlIl0pLGZ1bmN0aW9uKCl7fSl9LGoudGVtcGVyYXR1cmU9ai5rZWx2aW49ai5LPXRhLGEucHJvdG90eXBlLnRlbXBlcmF0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIGthKHRoaXMuX3JnYil9LGEucHJvdG90eXBlLmtlbHZpbj1hLnByb3RvdHlwZS50ZW1wZXJhdHVyZSxzLmNvbnRyYXN0PWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGc7cmV0dXJuKCJzdHJpbmciPT09KGY9dWEoYikpfHwibnVtYmVyIj09PWYpJiYoYj1uZXcgYShiKSksKCJzdHJpbmciPT09KGc9dWEoYykpfHwibnVtYmVyIj09PWcpJiYoYz1uZXcgYShjKSksZD1iLmx1bWluYW5jZSgpLGU9Yy5sdW1pbmFuY2UoKSxkPmU/KGQrLjA1KS8oZSsuMDUpOihlKy4wNSkvKGQrLjA1KX0sYS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZztyZXR1cm4gZD10aGlzLGY9YS5zcGxpdCgiLiIpLGU9ZlswXSxiPWZbMV0sZz1kW2VdKCksYj8oYz1lLmluZGV4T2YoYiksYz4tMT9nW2NdOmNvbnNvbGUud2FybigidW5rbm93biBjaGFubmVsICIrYisiIGluIG1vZGUgIitlKSk6Z30sYS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoO2lmKGU9dGhpcyxnPWEuc3BsaXQoIi4iKSxmPWdbMF0sYz1nWzFdLGMpaWYoaD1lW2ZdKCksZD1mLmluZGV4T2YoYyksZD4tMSlpZigic3RyaW5nIj09PXVhKGIpKXN3aXRjaChiLmNoYXJBdCgwKSl7Y2FzZSIrIjpoW2RdKz0rYjticmVhaztjYXNlIi0iOmhbZF0rPStiO2JyZWFrO2Nhc2UiKiI6aFtkXSo9K2Iuc3Vic3RyKDEpO2JyZWFrO2Nhc2UiLyI6aFtkXS89K2Iuc3Vic3RyKDEpO2JyZWFrO2RlZmF1bHQ6aFtkXT0rYn1lbHNlIGhbZF09YjtlbHNlIGNvbnNvbGUud2FybigidW5rbm93biBjaGFubmVsICIrYysiIGluIG1vZGUgIitmKTtlbHNlIGg9YjtyZXR1cm4gZS5fcmdiPXMoaCxmKS5hbHBoYShlLmFscGhhKCkpLl9yZ2IsZX0sYS5wcm90b3R5cGUuZGFya2VuPWZ1bmN0aW9uKGEpe3ZhciBiLGQ7cmV0dXJuIG51bGw9PWEmJihhPTEpLGQ9dGhpcyxiPWQubGFiKCksYlswXS09Yy5LbiphLHMubGFiKGIpLmFscGhhKGQuYWxwaGEoKSl9LGEucHJvdG90eXBlLmJyaWdodGVuPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hJiYoYT0xKSx0aGlzLmRhcmtlbigtYSl9LGEucHJvdG90eXBlLmRhcmtlcj1hLnByb3RvdHlwZS5kYXJrZW4sYS5wcm90b3R5cGUuYnJpZ2h0ZXI9YS5wcm90b3R5cGUuYnJpZ2h0ZW4sYS5wcm90b3R5cGUuc2F0dXJhdGU9ZnVuY3Rpb24oYSl7dmFyIGIsZDtyZXR1cm4gbnVsbD09YSYmKGE9MSksZD10aGlzLGI9ZC5sY2goKSxiWzFdKz1hKmMuS24sYlsxXTwwJiYoYlsxXT0wKSxzLmxjaChiKS5hbHBoYShkLmFscGhhKCkpfSxhLnByb3RvdHlwZS5kZXNhdHVyYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hJiYoYT0xKSx0aGlzLnNhdHVyYXRlKC1hKX0sYS5wcm90b3R5cGUucHJlbXVsdGlwbHk9ZnVuY3Rpb24oKXt2YXIgYSxiO3JldHVybiBiPXRoaXMucmdiKCksYT10aGlzLmFscGhhKCkscyhiWzBdKmEsYlsxXSphLGJbMl0qYSxhKX0sbz1mdW5jdGlvbihhLGIsYyl7aWYoIW9bY10pdGhyb3cidW5rbm93biBibGVuZCBtb2RlICIrYztyZXR1cm4gb1tjXShhLGIpfSxwPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3ZhciBkLGU7cmV0dXJuIGQ9cyhjKS5yZ2IoKSxlPXMoYikucmdiKCkscyhhKGQsZSksInJnYiIpfX0sQT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXt2YXIgZCxlLGY7Zm9yKGY9W10sZD1lPTA7Mz49ZTtkPSsrZSlmW2RdPWEoYltkXSxjW2RdKTtyZXR1cm4gZn19LFk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYX0sWD1mdW5jdGlvbihhLGIpe3JldHVybiBhKmIvMjU1fSx5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+Yj9iOmF9LFI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT5iP2E6Yn0scWE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMjU1KigxLSgxLWEvMjU1KSooMS1iLzI1NSkpfSwkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIDEyOD5iPzIqYSpiLzI1NToyNTUqKDEtMiooMS1hLzI1NSkqKDEtYi8yNTUpKX0scj1mdW5jdGlvbihhLGIpe3JldHVybiAyNTUqKDEtKDEtYi8yNTUpLyhhLzI1NSkpfSx6PWZ1bmN0aW9uKGEsYil7cmV0dXJuIDI1NT09PWE/MjU1OihhPTI1NSooYi8yNTUpLygxLWEvMjU1KSxhPjI1NT8yNTU6YSl9LG8ubm9ybWFsPXAoQShZKSksby5tdWx0aXBseT1wKEEoWCkpLG8uc2NyZWVuPXAoQShxYSkpLG8ub3ZlcmxheT1wKEEoJCkpLG8uZGFya2VuPXAoQSh5KSksby5saWdodGVuPXAoQShSKSksby5kb2RnZT1wKEEoeikpLG8uYnVybj1wKEEocikpLHMuYmxlbmQ9byxzLmFuYWx5emU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7Zm9yKGQ9e21pbjpOdW1iZXIuTUFYX1ZBTFVFLG1heDotMSpOdW1iZXIuTUFYX1ZBTFVFLHN1bTowLHZhbHVlczpbXSxjb3VudDowfSxjPTAsYj1hLmxlbmd0aDtiPmM7YysrKWU9YVtjXSxudWxsPT1lfHxpc05hTihlKXx8KGQudmFsdWVzLnB1c2goZSksZC5zdW0rPWUsZTxkLm1pbiYmKGQubWluPWUpLGU+ZC5tYXgmJihkLm1heD1lKSxkLmNvdW50Kz0xKTtyZXR1cm4gZC5kb21haW49W2QubWluLGQubWF4XSxkLmxpbWl0cz1mdW5jdGlvbihhLGIpe3JldHVybiBzLmxpbWl0cyhkLGEsYil9LGR9LHMuc2NhbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscix0LHUsdix3LHg7cmV0dXJuIGs9InJnYiIsbD1zKCIjY2NjIikscD0wLGg9ITEsZz1bMCwxXSxvPVtdLG49WzAsMF0sYz0hMSxlPVtdLG09ITEsaj0wLGk9MSxmPSExLGQ9e30sdz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZixnLGgsaTtpZihudWxsPT1hJiYoYT1bIiNmZmYiLCIjMDAwIl0pLG51bGwhPWEmJiJzdHJpbmciPT09dWEoYSkmJm51bGwhPShudWxsIT0oZj1zLmJyZXdlcik/ZlthXTp2b2lkIDApJiYoYT1zLmJyZXdlclthXSksImFycmF5Ij09PXVhKGEpKXtmb3IoYT1hLnNsaWNlKDApLGI9ZD0wLGc9YS5sZW5ndGgtMTtnPj0wP2c+PWQ6ZD49ZztiPWc+PTA/KytkOi0tZCljPWFbYl0sInN0cmluZyI9PT11YShjKSYmKGFbYl09cyhjKSk7Zm9yKG8ubGVuZ3RoPTAsYj1pPTAsaD1hLmxlbmd0aC0xO2g+PTA/aD49aTppPj1oO2I9aD49MD8rK2k6LS1pKW8ucHVzaChiLyhhLmxlbmd0aC0xKSl9cmV0dXJuIHYoKSxlPWF9LHQ9ZnVuY3Rpb24oYSl7dmFyIGIsZDtpZihudWxsIT1jKXtmb3IoZD1jLmxlbmd0aC0xLGI9MDtkPmImJmE+PWNbYl07KWIrKztyZXR1cm4gYi0xfXJldHVybiAwfSx4PWZ1bmN0aW9uKGEpe3JldHVybiBhfSxxPWZ1bmN0aW9uKGEpe3ZhciBiLGQsZSxmLGc7cmV0dXJuIGc9YSxjLmxlbmd0aD4yJiYoZj1jLmxlbmd0aC0xLGI9dChhKSxlPWNbMF0rKGNbMV0tY1swXSkqKDArLjUqcCksZD1jW2YtMV0rKGNbZl0tY1tmLTFdKSooMS0uNSpwKSxnPWorKGNbYl0rLjUqKGNbYisxXS1jW2JdKS1lKS8oZC1lKSooaS1qKSksZ30sdT1mdW5jdGlvbihhLGIpe3ZhciBmLGcsaCxtLHAscSxyLHU7aWYobnVsbD09YiYmKGI9ITEpLGlzTmFOKGEpKXJldHVybiBsO2lmKGI/dT1hOmMmJmMubGVuZ3RoPjI/KGY9dChhKSx1PWYvKGMubGVuZ3RoLTIpLHU9blswXSt1KigxLW5bMF0tblsxXSkpOmkhPT1qPyh1PShhLWopLyhpLWopLHU9blswXSt1KigxLW5bMF0tblsxXSksdT1NYXRoLm1pbigxLE1hdGgubWF4KDAsdSkpKTp1PTEsYnx8KHU9eCh1KSksbT1NYXRoLmZsb29yKDFlNCp1KSxkW21dKWc9ZFttXTtlbHNle2lmKCJhcnJheSI9PT11YShlKSlmb3IoaD1wPTAscj1vLmxlbmd0aC0xO3I+PTA/cj49cDpwPj1yO2g9cj49MD8rK3A6LS1wKXtpZihxPW9baF0scT49dSl7Zz1lW2hdO2JyZWFrfWlmKHU+PXEmJmg9PT1vLmxlbmd0aC0xKXtnPWVbaF07YnJlYWt9aWYodT5xJiZ1PG9baCsxXSl7dT0odS1xKS8ob1toKzFdLXEpLGc9cy5pbnRlcnBvbGF0ZShlW2hdLGVbaCsxXSx1LGspO2JyZWFrfX1lbHNlImZ1bmN0aW9uIj09PXVhKGUpJiYoZz1lKHUpKTtkW21dPWd9cmV0dXJuIGd9LHY9ZnVuY3Rpb24oKXtyZXR1cm4gZD17fX0sdyhhKSxyPWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBiPXModShhKSksbSYmYlttXT9iW21dKCk6Yn0sci5jbGFzc2VzPWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBudWxsIT1hPygiYXJyYXkiPT09dWEoYSk/KGM9YSxnPVthWzBdLGFbYS5sZW5ndGgtMV1dKTooYj1zLmFuYWx5emUoZyksYz0wPT09YT9bYi5taW4sYi5tYXhdOnMubGltaXRzKGIsImUiLGEpKSxyKTpjfSxyLmRvbWFpbj1mdW5jdGlvbihhKXt2YXIgYixjLGQsZixoLGssbDtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZztpZihqPWFbMF0saT1hW2EubGVuZ3RoLTFdLG89W10sZD1lLmxlbmd0aCxhLmxlbmd0aD09PWQmJmohPT1pKWZvcihoPTAsZj1hLmxlbmd0aDtmPmg7aCsrKWM9YVtoXSxvLnB1c2goKGMtaikvKGktaikpO2Vsc2UgZm9yKGI9bD0wLGs9ZC0xO2s+PTA/az49bDpsPj1rO2I9az49MD8rK2w6LS1sKW8ucHVzaChiLyhkLTEpKTtyZXR1cm4gZz1baixpXSxyfSxyLm1vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGs9YSx2KCkscik6a30sci5yYW5nZT1mdW5jdGlvbihhLGIpe3JldHVybiB3KGEsYikscn0sci5vdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG09YSxyfSxyLnNwcmVhZD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocD1hLHIpOnB9LHIuY29ycmVjdExpZ2h0bmVzcz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YSYmKGE9ITApLGY9YSx2KCkseD1mP2Z1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksajtmb3IoYj11KDAsITApLmxhYigpWzBdLGM9dSgxLCEwKS5sYWIoKVswXSxoPWI+YyxkPXUoYSwhMCkubGFiKClbMF0sZj1iKyhjLWIpKmEsZT1kLWYsaT0wLGo9MSxnPTIwO01hdGguYWJzKGUpPi4wMSYmZy0tPjA7KSFmdW5jdGlvbigpe3JldHVybiBoJiYoZSo9LTEpLDA+ZT8oaT1hLGErPS41KihqLWEpKTooaj1hLGErPS41KihpLWEpKSxkPXUoYSwhMCkubGFiKClbMF0sZT1kLWZ9KCk7cmV0dXJuIGF9OmZ1bmN0aW9uKGEpe3JldHVybiBhfSxyfSxyLnBhZGRpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/KCJudW1iZXIiPT09dWEoYSkmJihhPVthLGFdKSxuPWEscik6bn0sci5jb2xvcnM9ZnVuY3Rpb24oKXt2YXIgYixkLGUsZixoLGksaixrLGw7aWYoZj0wLGg9ImhleCIsMT09PWFyZ3VtZW50cy5sZW5ndGgmJigic3RyaW5nIj09PXVhKGFyZ3VtZW50c1swXSk/aD1hcmd1bWVudHNbMF06Zj1hcmd1bWVudHNbMF0pLDI9PT1hcmd1bWVudHMubGVuZ3RoJiYoZj1hcmd1bWVudHNbMF0saD1hcmd1bWVudHNbMV0pLGYpcmV0dXJuIGQ9Z1swXSxiPWdbMV0tZCxmdW5jdGlvbigpe2o9W107Zm9yKHZhciBhPTA7Zj49MD9mPmE6YT5mO2Y+PTA/YSsrOmEtLSlqLnB1c2goYSk7cmV0dXJuIGp9LmFwcGx5KHRoaXMpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gcihkK2EvKGYtMSkqYilbaF0oKX0pO2lmKGE9W10saz1bXSxjJiZjLmxlbmd0aD4yKWZvcihlPWw9MSxpPWMubGVuZ3RoO2k+PTE/aT5sOmw+aTtlPWk+PTE/KytsOi0tbClrLnB1c2goLjUqKGNbZS0xXStjW2VdKSk7ZWxzZSBrPWc7cmV0dXJuIGsubWFwKGZ1bmN0aW9uKGEpe3JldHVybiByKGEpW2hdKCl9KX0scn0sbnVsbD09cy5zY2FsZXMmJihzLnNjYWxlcz17fSkscy5zY2FsZXMuY29vbD1mdW5jdGlvbigpe3JldHVybiBzLnNjYWxlKFtzLmhzbCgxODAsMSwuOSkscy5oc2woMjUwLC43LC40KV0pfSxzLnNjYWxlcy5ob3Q9ZnVuY3Rpb24oKXtyZXR1cm4gcy5zY2FsZShbIiMwMDAiLCIjZjAwIiwiI2ZmMCIsIiNmZmYiXSxbMCwuMjUsLjc1LDFdKS5tb2RlKCJyZ2IiKX0scy5hbmFseXplPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksajtpZihoPXttaW46TnVtYmVyLk1BWF9WQUxVRSxtYXg6LTEqTnVtYmVyLk1BWF9WQUxVRSxzdW06MCx2YWx1ZXM6W10sY291bnQ6MH0sbnVsbD09YyYmKGM9ZnVuY3Rpb24oKXtyZXR1cm4hMH0pLGQ9ZnVuY3Rpb24oYSl7bnVsbD09YXx8aXNOYU4oYSl8fChoLnZhbHVlcy5wdXNoKGEpLGguc3VtKz1hLGE8aC5taW4mJihoLm1pbj1hKSxhPmgubWF4JiYoaC5tYXg9YSksaC5jb3VudCs9MSl9LGo9ZnVuY3Rpb24oYSxlKXtyZXR1cm4gYyhhLGUpP2QobnVsbCE9YiYmImZ1bmN0aW9uIj09PXVhKGIpP2IoYSk6bnVsbCE9YiYmInN0cmluZyI9PT11YShiKXx8Im51bWJlciI9PT11YShiKT9hW2JdOmEpOnZvaWQgMH0sImFycmF5Ij09PXVhKGEpKWZvcihnPTAsZj1hLmxlbmd0aDtmPmc7ZysrKWk9YVtnXSxqKGkpO2Vsc2UgZm9yKGUgaW4gYSlpPWFbZV0saihpLGUpO3JldHVybiBoLmRvbWFpbj1baC5taW4saC5tYXhdLGgubGltaXRzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHMubGltaXRzKGgsYSxiKX0saH0scy5saW1pdHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbSxuLG8scCxxLHIsdCx1LHYsdyx4LHkseixBLEMsRCxFLEYsRyxILEksSixLLEwsTSxOLE8sUCxRLFIsUyxVLFYsWCxZLFosJCxhYSxiYSxjYSxkYSxlYSxmYSxnYSxoYSxpYSxqYTtpZihudWxsPT1iJiYoYj0iZXF1YWwiKSxudWxsPT1jJiYoYz03KSwiYXJyYXkiPT09dWEoYSkmJihhPXMuYW5hbHl6ZShhKSksRT1hLm1pbixXPWEubWF4LGZhPWEuc3VtLGlhPWEudmFsdWVzLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSksQz1bXSwiYyI9PT1iLnN1YnN0cigwLDEpJiYoQy5wdXNoKEUpLEMucHVzaChXKSksImUiPT09Yi5zdWJzdHIoMCwxKSl7Zm9yKEMucHVzaChFKSx5PUs9MSxPPWMtMTtPPj0xP08+PUs6Sz49Tzt5PU8+PTE/KytLOi0tSylDLnB1c2goRSt5L2MqKFctRSkpO0MucHVzaChXKX1lbHNlIGlmKCJsIj09PWIuc3Vic3RyKDAsMSkpe2lmKDA+PUUpdGhyb3ciTG9nYXJpdGhtaWMgc2NhbGVzIGFyZSBvbmx5IHBvc3NpYmxlIGZvciB2YWx1ZXMgPiAwIjtmb3IoRj1NYXRoLkxPRzEwRSpUKEUpLEQ9TWF0aC5MT0cxMEUqVChXKSxDLnB1c2goRSkseT1qYT0xLFA9Yy0xO1A+PTE/UD49amE6amE+PVA7eT1QPj0xPysramE6LS1qYSlDLnB1c2goXygxMCxGK3kvYyooRC1GKSkpO0MucHVzaChXKX1lbHNlIGlmKCJxIj09PWIuc3Vic3RyKDAsMSkpe2ZvcihDLnB1c2goRSkseT1kPTEsWD1jLTE7WD49MT9YPj1kOmQ+PVg7eT1YPj0xPysrZDotLWQpTD1pYS5sZW5ndGgqeS9jLE09QihMKSxNPT09TD9DLnB1c2goaWFbTV0pOihOPUwtTSxDLnB1c2goaWFbTV0qTitpYVtNKzFdKigxLU4pKSk7Qy5wdXNoKFcpfWVsc2UgaWYoImsiPT09Yi5zdWJzdHIoMCwxKSl7Zm9yKEg9aWEubGVuZ3RoLHI9bmV3IEFycmF5KEgpLHc9bmV3IEFycmF5KGMpLGVhPSEwLEk9MCx1PW51bGwsdT1bXSx1LnB1c2goRSkseT1lPTEsWT1jLTE7WT49MT9ZPj1lOmU+PVk7eT1ZPj0xPysrZTotLWUpdS5wdXNoKEUreS9jKihXLUUpKTtmb3IodS5wdXNoKFcpO2VhOyl7Zm9yKHo9Zj0wLFo9Yy0xO1o+PTA/Wj49ZjpmPj1aO3o9Wj49MD8rK2Y6LS1mKXdbel09MDtmb3IoeT1nPTAsJD1ILTE7JD49MD8kPj1nOmc+PSQ7eT0kPj0wPysrZzotLWcpe2ZvcihoYT1pYVt5XSxHPU51bWJlci5NQVhfVkFMVUUsej1oPTAsYWE9Yy0xO2FhPj0wP2FhPj1oOmg+PWFhO3o9YWE+PTA/KytoOi0taCl4PWwodVt6XS1oYSksRz54JiYoRz14LHQ9eik7d1t0XSsrLHJbeV09dH1mb3IoSj1uZXcgQXJyYXkoYyksej1pPTAsYmE9Yy0xO2JhPj0wP2JhPj1pOmk+PWJhO3o9YmE+PTA/KytpOi0taSlKW3pdPW51bGw7Zm9yKHk9aj0wLGNhPUgtMTtjYT49MD9jYT49ajpqPj1jYTt5PWNhPj0wPysrajotLWopdj1yW3ldLG51bGw9PT1KW3ZdP0pbdl09aWFbeV06Slt2XSs9aWFbeV07Zm9yKHo9az0wLGRhPWMtMTtkYT49MD9kYT49azprPj1kYTt6PWRhPj0wPysrazotLWspSlt6XSo9MS93W3pdO2ZvcihlYT0hMSx6PW09MCxRPWMtMTtRPj0wP1E+PW06bT49UTt6PVE+PTA/KyttOi0tbSlpZihKW3pdIT09dVt5XSl7ZWE9ITA7YnJlYWt9dT1KLEkrKyxJPjIwMCYmKGVhPSExKX1mb3IoQT17fSx6PW49MCxSPWMtMTtSPj0wP1I+PW46bj49Ujt6PVI+PTA/KytuOi0tbilBW3pdPVtdO2Zvcih5PW89MCxTPUgtMTtTPj0wP1M+PW86bz49Uzt5PVM+PTA/KytvOi0tbyl2PXJbeV0sQVt2XS5wdXNoKGlhW3ldKTtmb3IoZ2E9W10sej1wPTAsVT1jLTE7VT49MD9VPj1wOnA+PVU7ej1VPj0wPysrcDotLXApZ2EucHVzaChBW3pdWzBdKSxnYS5wdXNoKEFbel1bQVt6XS5sZW5ndGgtMV0pO2ZvcihnYT1nYS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pLEMucHVzaChnYVswXSkseT1xPTEsVj1nYS5sZW5ndGgtMTtWPj1xO3k9cSs9Milpc05hTihnYVt5XSl8fEMucHVzaChnYVt5XSl9cmV0dXJuIEN9LEQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGYsaCxpO3JldHVybiBkPXZhKGFyZ3VtZW50cyksYT1kWzBdLGI9ZFsxXSxjPWRbMl0sYS89MzYwLDEvMz5hPyhmPSgxLWIpLzMsaT0oMStiKncoZyphKS93KGUtZyphKSkvMyxoPTEtKGYraSkpOjIvMz5hPyhhLT0xLzMsaT0oMS1iKS8zLGg9KDErYip3KGcqYSkvdyhlLWcqYSkpLzMsZj0xLShpK2gpKTooYS09Mi8zLGg9KDEtYikvMyxmPSgxK2IqdyhnKmEpL3coZS1nKmEpKS8zLGk9MS0oaCtmKSksaT1TKGMqaSozKSxoPVMoYypoKjMpLGY9UyhjKmYqMyksWzI1NSppLDI1NSpoLDI1NSpmLGQubGVuZ3RoPjM/ZFszXToxXX0sZGE9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsaCxpO3JldHVybiBoPXZhKGFyZ3VtZW50cyksZj1oWzBdLGI9aFsxXSxhPWhbMl0sZz0yKk1hdGguUEksZi89MjU1LGIvPTI1NSxhLz0yNTUsZT1NYXRoLm1pbihmLGIsYSksZD0oZitiK2EpLzMsaT0xLWUvZCwwPT09aT9jPTA6KGM9KGYtYisoZi1hKSkvMixjLz1NYXRoLnNxcnQoKGYtYikqKGYtYikrKGYtYSkqKGItYSkpLGM9TWF0aC5hY29zKGMpLGE+YiYmKGM9Zy1jKSxjLz1nKSxbMzYwKmMsaSxkXX0scy5oc2k9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe2MucHJvdG90eXBlPWEucHJvdG90eXBlO3ZhciBkPW5ldyBjLGU9YS5hcHBseShkLGIpO3JldHVybiBPYmplY3QoZSk9PT1lP2U6ZH0oYSx6YS5jYWxsKGFyZ3VtZW50cykuY29uY2F0KFsiaHNpIl0pLGZ1bmN0aW9uKCl7fSl9LGouaHNpPUQsYS5wcm90b3R5cGUuaHNpPWZ1bmN0aW9uKCl7cmV0dXJuIGRhKHRoaXMuX3JnYil9LEk9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHE7cmV0dXJuImhzbCI9PT1kPyhwPWEuaHNsKCkscT1iLmhzbCgpKToiaHN2Ij09PWQ/KHA9YS5oc3YoKSxxPWIuaHN2KCkpOiJoc2kiPT09ZD8ocD1hLmhzaSgpLHE9Yi5oc2koKSk6KCJsY2giPT09ZHx8ImhjbCI9PT1kKSYmKGQ9ImhjbCIscD1hLmhjbCgpLHE9Yi5oY2woKSksImgiPT09ZC5zdWJzdHIoMCwxKSYmKGc9cFswXSxuPXBbMV0saj1wWzJdLGg9cVswXSxvPXFbMV0saz1xWzJdKSxpc05hTihnKXx8aXNOYU4oaCk/aXNOYU4oZyk/aXNOYU4oaCk/Zj1OdW1iZXIuTmFOOihmPWgsMSE9PWomJjAhPT1qfHwiaHN2Ij09PWR8fChtPW8pKTooZj1nLDEhPT1rJiYwIT09a3x8ImhzdiI9PT1kfHwobT1uKSk6KGU9aD5nJiZoLWc+MTgwP2gtKGcrMzYwKTpnPmgmJmctaD4xODA/aCszNjAtZzpoLWcsZj1nK2MqZSksbnVsbD09bSYmKG09bitjKihvLW4pKSxpPWorYyooay1qKSxsPXNbZF0oZixtLGkpfSxrPWsuY29uY2F0KGZ1bmN0aW9uKCl7dmFyIGEsYixjLGQ7Zm9yKGM9WyJoc3YiLCJoc2wiLCJoc2kiLCJoY2wiLCJsY2giXSxkPVtdLGI9MCxhPWMubGVuZ3RoO2E+YjtiKyspVj1jW2JdLGQucHVzaChbVixJXSk7cmV0dXJuIGR9KCkpLEs9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZjtyZXR1cm4gZT1hLm51bSgpLGY9Yi5udW0oKSxzLm51bShlKyhmLWUpKmMsIm51bSIpfSxrLnB1c2goWyJudW0iLEtdKSxKPWZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmLGcsaDtyZXR1cm4gZz1iLmxhYigpLGg9Yy5sYWIoKSxmPW5ldyBhKGdbMF0rZCooaFswXS1nWzBdKSxnWzFdK2QqKGhbMV0tZ1sxXSksZ1syXStkKihoWzJdLWdbMl0pLGUpOwp9LGsucHVzaChbImxhYiIsSl0pfSkuY2FsbCh0aGlzKTs="></script>
<script src="data:application/x-javascript;base64,LyohIGpRdWVyeSB2Mi4yLjEgfCAoYykgalF1ZXJ5IEZvdW5kYXRpb24gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KIWZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiBiKGEpfTpiKGEpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9YS5kb2N1bWVudCxlPWMuc2xpY2UsZj1jLmNvbmNhdCxnPWMucHVzaCxoPWMuaW5kZXhPZixpPXt9LGo9aS50b1N0cmluZyxrPWkuaGFzT3duUHJvcGVydHksbD17fSxtPSIyLjIuMSIsbj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbi5mbi5pbml0KGEsYil9LG89L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLHA9L14tbXMtLyxxPS8tKFtcZGEtel0pL2dpLHI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTtuLmZuPW4ucHJvdG90eXBlPXtqcXVlcnk6bSxjb25zdHJ1Y3RvcjpuLHNlbGVjdG9yOiIiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTplLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1uLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEpe3JldHVybiBuLmVhY2godGhpcyxhKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhuLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgsYz0rYSsoMD5hP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGM+PTAmJmI+Yz9bdGhpc1tjXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6Zyxzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG4uZXh0ZW5kPW4uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgrKyksIm9iamVjdCI9PXR5cGVvZiBnfHxuLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2k+aDtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRzW2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYobi5pc1BsYWluT2JqZWN0KGQpfHwoZT1uLmlzQXJyYXkoZCkpKT8oZT8oZT0hMSxmPWMmJm4uaXNBcnJheShjKT9jOltdKTpmPWMmJm4uaXNQbGFpbk9iamVjdChjKT9jOnt9LGdbYl09bi5leHRlbmQoaixmLGQpKTp2b2lkIDAhPT1kJiYoZ1tiXT1kKSk7cmV0dXJuIGd9LG4uZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhtK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PT1uLnR5cGUoYSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09PWEud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oYSl7dmFyIGI9YSYmYS50b1N0cmluZygpO3JldHVybiFuLmlzQXJyYXkoYSkmJmItcGFyc2VGbG9hdChiKSsxPj0wfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiJvYmplY3QiIT09bi50eXBlKGEpfHxhLm5vZGVUeXBlfHxuLmlzV2luZG93KGEpPyExOmEuY29uc3RydWN0b3ImJiFrLmNhbGwoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKT8hMTohMH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErIiI6Im9iamVjdCI9PXR5cGVvZiBhfHwiZnVuY3Rpb24iPT10eXBlb2YgYT9pW2ouY2FsbChhKV18fCJvYmplY3QiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ZXZhbDthPW4udHJpbShhKSxhJiYoMT09PWEuaW5kZXhPZigidXNlIHN0cmljdCIpPyhiPWQuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksYi50ZXh0PWEsZC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShwLCJtcy0iKS5yZXBsYWNlKHEscil9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MDtpZihzKGEpKXtmb3IoYz1hLmxlbmd0aDtjPmQ7ZCsrKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVha31lbHNlIGZvcihkIGluIGEpaWYoYi5jYWxsKGFbZF0sZCxhW2RdKT09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOihhKyIiKS5yZXBsYWNlKG8sIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHMoT2JqZWN0KGEpKT9uLm1lcmdlKGMsInN0cmluZyI9PXR5cGVvZiBhP1thXTphKTpnLmNhbGwoYyxhKSksY30saW5BcnJheTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWI/LTE6aC5jYWxsKGIsYSxjKX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO2M+ZDtkKyspYVtlKytdPWJbZF07cmV0dXJuIGEubGVuZ3RoPWUsYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGgsaD0hYztnPmY7ZisrKWQ9IWIoYVtmXSxmKSxkIT09aCYmZS5wdXNoKGFbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZz0wLGg9W107aWYocyhhKSlmb3IoZD1hLmxlbmd0aDtkPmc7ZysrKWU9YihhW2ddLGcsYyksbnVsbCE9ZSYmaC5wdXNoKGUpO2Vsc2UgZm9yKGcgaW4gYSllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtyZXR1cm4gZi5hcHBseShbXSxoKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxmO3JldHVybiJzdHJpbmciPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGQ9ZS5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxkLmNvbmNhdChlLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDpsfSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKG4uZm5bU3ltYm9sLml0ZXJhdG9yXT1jW1N5bWJvbC5pdGVyYXRvcl0pLG4uZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtpWyJbb2JqZWN0ICIrYisiXSJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHMoYSl7dmFyIGI9ISFhJiYibGVuZ3RoImluIGEmJmEubGVuZ3RoLGM9bi50eXBlKGEpO3JldHVybiJmdW5jdGlvbiI9PT1jfHxuLmlzV2luZG93KGEpPyExOiJhcnJheSI9PT1jfHwwPT09Ynx8Im51bWJlciI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciB0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9InNpenpsZSIrMSpuZXcgRGF0ZSx2PWEuZG9jdW1lbnQsdz0wLHg9MCx5PWdhKCksej1nYSgpLEE9Z2EoKSxCPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iJiYobD0hMCksMH0sQz0xPDwzMSxEPXt9Lmhhc093blByb3BlcnR5LEU9W10sRj1FLnBvcCxHPUUucHVzaCxIPUUucHVzaCxJPUUuc2xpY2UsSj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sSz0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLEw9IltcXHgyMFxcdFxcclxcblxcZl0iLE09Iig/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrIixOPSJcXFsiK0wrIiooIitNKyIpKD86IitMKyIqKFsqXiR8IX5dPz0pIitMKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrTSsiKSl8KSIrTCsiKlxcXSIsTz0iOigiK00rIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK04rIikqKXwuKilcXCl8KSIsUD1uZXcgUmVnRXhwKEwrIisiLCJnIiksUT1uZXcgUmVnRXhwKCJeIitMKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK0wrIiskIiwiZyIpLFI9bmV3IFJlZ0V4cCgiXiIrTCsiKiwiK0wrIioiKSxTPW5ldyBSZWdFeHAoIl4iK0wrIiooWz4rfl18IitMKyIpIitMKyIqIiksVD1uZXcgUmVnRXhwKCI9IitMKyIqKFteXFxdJ1wiXSo/KSIrTCsiKlxcXSIsImciKSxVPW5ldyBSZWdFeHAoTyksVj1uZXcgUmVnRXhwKCJeIitNKyIkIiksVz17SUQ6bmV3IFJlZ0V4cCgiXiMoIitNKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK00rIikiKSxUQUc6bmV3IFJlZ0V4cCgiXigiK00rInxbKl0pIiksQVRUUjpuZXcgUmVnRXhwKCJeIitOKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrTyksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitMKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitMKyIqKD86KFsrLV18KSIrTCsiKihcXGQrKXwpKSIrTCsiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrSysiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK0wrIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrTCsiKigoPzotXFxkKT9cXGQqKSIrTCsiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sWD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFk9L15oXGQkL2ksWj0vXltee10rXHtccypcW25hdGl2ZSBcdy8sJD0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLF89L1srfl0vLGFhPS8nfFxcL2csYmE9bmV3IFJlZ0V4cCgiXFxcXChbXFxkYS1mXXsxLDZ9IitMKyI/fCgiK0wrIil8LikiLCJpZyIpLGNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0iMHgiK2ItNjU1MzY7cmV0dXJuIGQhPT1kfHxjP2I6MD5kP1N0cmluZy5mcm9tQ2hhckNvZGUoZCs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShkPj4xMHw1NTI5NiwxMDIzJmR8NTYzMjApfSxkYT1mdW5jdGlvbigpe20oKX07dHJ5e0guYXBwbHkoRT1JLmNhbGwodi5jaGlsZE5vZGVzKSx2LmNoaWxkTm9kZXMpLEVbdi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZWEpe0g9e2FwcGx5OkUubGVuZ3RoP2Z1bmN0aW9uKGEsYil7Ry5hcHBseShhLEkuY2FsbChiKSl9OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sZW5ndGgsZD0wO3doaWxlKGFbYysrXT1iW2QrK10pO2EubGVuZ3RoPWMtMX19fWZ1bmN0aW9uIGZhKGEsYixkLGUpe3ZhciBmLGgsaixrLGwsbyxyLHMsdz1iJiZiLm93bmVyRG9jdW1lbnQseD1iP2Iubm9kZVR5cGU6OTtpZihkPWR8fFtdLCJzdHJpbmciIT10eXBlb2YgYXx8IWF8fDEhPT14JiY5IT09eCYmMTEhPT14KXJldHVybiBkO2lmKCFlJiYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnYpIT09biYmbShiKSxiPWJ8fG4scCkpe2lmKDExIT09eCYmKG89JC5leGVjKGEpKSlpZihmPW9bMV0pe2lmKDk9PT14KXtpZighKGo9Yi5nZXRFbGVtZW50QnlJZChmKSkpcmV0dXJuIGQ7aWYoai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2UgaWYodyYmKGo9dy5nZXRFbGVtZW50QnlJZChmKSkmJnQoYixqKSYmai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2V7aWYob1syXSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpLGQ7aWYoKGY9b1szXSkmJmMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGYpKSxkfWlmKGMucXNhJiYhQVthKyIgIl0mJighcXx8IXEudGVzdChhKSkpe2lmKDEhPT14KXc9YixzPWE7ZWxzZSBpZigib2JqZWN0IiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7KGs9Yi5nZXRBdHRyaWJ1dGUoImlkIikpP2s9ay5yZXBsYWNlKGFhLCJcXCQmIik6Yi5zZXRBdHRyaWJ1dGUoImlkIixrPXUpLHI9ZyhhKSxoPXIubGVuZ3RoLGw9Vi50ZXN0KGspPyIjIitrOiJbaWQ9JyIraysiJ10iO3doaWxlKGgtLSlyW2hdPWwrIiAiK3FhKHJbaF0pO3M9ci5qb2luKCIsIiksdz1fLnRlc3QoYSkmJm9hKGIucGFyZW50Tm9kZSl8fGJ9aWYocyl0cnl7cmV0dXJuIEguYXBwbHkoZCx3LnF1ZXJ5U2VsZWN0b3JBbGwocykpLGR9Y2F0Y2goeSl7fWZpbmFsbHl7az09PXUmJmIucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGkoYS5yZXBsYWNlKFEsIiQxIiksYixkLGUpfWZ1bmN0aW9uIGdhKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYysiICIpPmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjKyIgIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBoYShhKXtyZXR1cm4gYVt1XT0hMCxhfWZ1bmN0aW9uIGlhKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gamEoYSxiKXt2YXIgYz1hLnNwbGl0KCJ8IiksZT1jLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24ga2EoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8fEMpLSh+YS5zb3VyY2VJbmRleHx8Qyk7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIGxhKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG1hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1jfHwiYnV0dG9uIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBuYShhKXtyZXR1cm4gaGEoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsaGEoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBvYShhKXtyZXR1cm4gYSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZhfWM9ZmEuc3VwcG9ydD17fSxmPWZhLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1lbnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj8iSFRNTCIhPT1iLm5vZGVOYW1lOiExfSxtPWZhLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGUsZz1hP2Eub3duZXJEb2N1bWVudHx8YTp2O3JldHVybiBnIT09biYmOT09PWcubm9kZVR5cGUmJmcuZG9jdW1lbnRFbGVtZW50PyhuPWcsbz1uLmRvY3VtZW50RWxlbWVudCxwPSFmKG4pLChlPW4uZGVmYXVsdFZpZXcpJiZlLnRvcCE9PWUmJihlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGRhLCExKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsZGEpKSxjLmF0dHJpYnV0ZXM9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPSJpIiwhYS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1pYShmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChuLmNyZWF0ZUNvbW1lbnQoIiIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1aLnRlc3Qobi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxjLmdldEJ5SWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoYSkuaWQ9dSwhbi5nZXRFbGVtZW50c0J5TmFtZXx8IW4uZ2V0RWxlbWVudHNCeU5hbWUodSkubGVuZ3RofSksYy5nZXRCeUlkPyhkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQmJnApe3ZhciBjPWIuZ2V0RWxlbWVudEJ5SWQoYSk7cmV0dXJuIGM/W2NdOltdfX0sZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGJhLGNhKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJpZCIpPT09Yn19KTooZGVsZXRlIGQuZmluZC5JRCxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSYmYS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBjJiZjLnZhbHVlPT09Yn19KSxkLmZpbmQuVEFHPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oYSxiKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWU/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTpjLnFzYT9iLnF1ZXJ5U2VsZWN0b3JBbGwoYSk6dm9pZCAwfTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0wLGY9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTtpZigiKiI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZwP2IuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKTp2b2lkIDB9LHI9W10scT1bXSwoYy5xc2E9Wi50ZXN0KG4ucXVlcnlTZWxlY3RvckFsbCkpJiYoaWEoZnVuY3Rpb24oYSl7by5hcHBlbmRDaGlsZChhKS5pbm5lckhUTUw9IjxhIGlkPSciK3UrIic+PC9hPjxzZWxlY3QgaWQ9JyIrdSsiLVxyXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixhLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2FwdHVyZV49JyddIikubGVuZ3RoJiZxLnB1c2goIlsqXiRdPSIrTCsiKig/OicnfFwiXCIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxxLnB1c2goIlxcWyIrTCsiKig/OnZhbHVlfCIrSysiKSIpLGEucXVlcnlTZWxlY3RvckFsbCgiW2lkfj0iK3UrIi1dIikubGVuZ3RofHxxLnB1c2goIn49IiksYS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8cS5wdXNoKCI6Y2hlY2tlZCIpLGEucXVlcnlTZWxlY3RvckFsbCgiYSMiK3UrIisqIikubGVuZ3RofHxxLnB1c2goIi4jLitbK35dIil9KSxpYShmdW5jdGlvbihhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKSxhLmFwcGVuZENoaWxkKGIpLnNldEF0dHJpYnV0ZSgibmFtZSIsIkQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3RoJiZxLnB1c2goIm5hbWUiK0wrIipbKl4kfCF+XT89IiksYS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aHx8cS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEucXVlcnlTZWxlY3RvckFsbCgiKiw6eCIpLHEucHVzaCgiLC4qOiIpfSkpLChjLm1hdGNoZXNTZWxlY3Rvcj1aLnRlc3Qocz1vLm1hdGNoZXN8fG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxvLm1vek1hdGNoZXNTZWxlY3Rvcnx8by5vTWF0Y2hlc1NlbGVjdG9yfHxvLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmlhKGZ1bmN0aW9uKGEpe2MuZGlzY29ubmVjdGVkTWF0Y2g9cy5jYWxsKGEsImRpdiIpLHMuY2FsbChhLCJbcyE9JyddOngiKSxyLnB1c2goIiE9IixPKX0pLHE9cS5sZW5ndGgmJm5ldyBSZWdFeHAocS5qb2luKCJ8IikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKCJ8IikpLGI9Wi50ZXN0KG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHQ9Ynx8Wi50ZXN0KG8uY29udGFpbnMpP2Z1bmN0aW9uKGEsYil7dmFyIGM9OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxkPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYT09PWR8fCEoIWR8fDEhPT1kLm5vZGVUeXBlfHwhKGMuY29udGFpbnM/Yy5jb250YWlucyhkKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGQpKSl9OmZ1bmN0aW9uKGEsYil7aWYoYil3aGlsZShiPWIucGFyZW50Tm9kZSlpZihiPT09YSlyZXR1cm4hMDtyZXR1cm4hMX0sQj1iP2Z1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgZD0hYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gZD9kOihkPShhLm93bmVyRG9jdW1lbnR8fGEpPT09KGIub3duZXJEb2N1bWVudHx8Yik/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKToxLDEmZHx8IWMuc29ydERldGFjaGVkJiZiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpPT09ZD9hPT09bnx8YS5vd25lckRvY3VtZW50PT09diYmdCh2LGEpPy0xOmI9PT1ufHxiLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYik/MTprP0ooayxhKS1KKGssYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgYyxkPTAsZT1hLnBhcmVudE5vZGUsZj1iLnBhcmVudE5vZGUsZz1bYV0saD1bYl07aWYoIWV8fCFmKXJldHVybiBhPT09bj8tMTpiPT09bj8xOmU/LTE6Zj8xOms/SihrLGEpLUooayxiKTowO2lmKGU9PT1mKXJldHVybiBrYShhLGIpO2M9YTt3aGlsZShjPWMucGFyZW50Tm9kZSlnLnVuc2hpZnQoYyk7Yz1iO3doaWxlKGM9Yy5wYXJlbnROb2RlKWgudW5zaGlmdChjKTt3aGlsZShnW2RdPT09aFtkXSlkKys7cmV0dXJuIGQ/a2EoZ1tkXSxoW2RdKTpnW2RdPT09dj8tMTpoW2RdPT09dj8xOjB9LG4pOm59LGZhLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZmEoYSxudWxsLG51bGwsYil9LGZhLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe2lmKChhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSxiPWIucmVwbGFjZShULCI9JyQxJ10iKSxjLm1hdGNoZXNTZWxlY3RvciYmcCYmIUFbYisiICJdJiYoIXJ8fCFyLnRlc3QoYikpJiYoIXF8fCFxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBmYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxmYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGZhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZELmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxmYS5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYSl9LGZhLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZD1bXSxlPTAsZj0wO2lmKGw9IWMuZGV0ZWN0RHVwbGljYXRlcyxrPSFjLnNvcnRTdGFibGUmJmEuc2xpY2UoMCksYS5zb3J0KEIpLGwpe3doaWxlKGI9YVtmKytdKWI9PT1hW2ZdJiYoZT1kLnB1c2goZikpO3doaWxlKGUtLSlhLnNwbGljZShkW2VdLDEpfXJldHVybiBrPW51bGwsYX0sZT1mYS5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9IiIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoInN0cmluZyI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9ZmEuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aGEsbWF0Y2g6VyxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKGJhLGNhKSxhWzNdPShhWzNdfHxhWzRdfHxhWzVdfHwiIikucmVwbGFjZShiYSxjYSksIn49Ij09PWFbMl0mJihhWzNdPSIgIithWzNdKyIgIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1hWzFdLnNsaWNlKDAsMyk/KGFbM118fGZhLmVycm9yKGFbMF0pLGFbNF09KyhhWzRdP2FbNV0rKGFbNl18fDEpOjIqKCJldmVuIj09PWFbM118fCJvZGQiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fCJvZGQiPT09YVszXSkpOmFbM10mJmZhLmVycm9yKGFbMF0pLGF9LFBTRVVETzpmdW5jdGlvbihhKXt2YXIgYixjPSFhWzZdJiZhWzJdO3JldHVybiBXLkNISUxELnRlc3QoYVswXSk/bnVsbDooYVszXT9hWzJdPWFbNF18fGFbNV18fCIiOmMmJlUudGVzdChjKSYmKGI9ZyhjLCEwKSkmJihiPWMuaW5kZXhPZigiKSIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXlbYSsiICJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKCIoXnwiK0wrIikiK2ErIigiK0wrInwkKSIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoInN0cmluZyI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWZhLmF0dHIoZCxhKTtyZXR1cm4gbnVsbD09ZT8iIT0iPT09YjpiPyhlKz0iIiwiPSI9PT1iP2U9PT1jOiIhPSI9PT1iP2UhPT1jOiJePSI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6Iio9Ij09PWI/YyYmZS5pbmRleE9mKGMpPi0xOiIkPSI9PT1iP2MmJmUuc2xpY2UoLWMubGVuZ3RoKT09PWM6In49Ij09PWI/KCIgIitlLnJlcGxhY2UoUCwiICIpKyIgIikuaW5kZXhPZihjKT4tMToifD0iPT09Yj9lPT09Y3x8ZS5zbGljZSgwLGMubGVuZ3RoKzEpPT09YysiLSI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0ibnRoIiE9PWEuc2xpY2UoMCwzKSxnPSJsYXN0IiE9PWEuc2xpY2UoLTQpLGg9Im9mLXR5cGUiPT09YjtyZXR1cm4gMT09PWQmJjA9PT1lP2Z1bmN0aW9uKGEpe3JldHVybiEhYS5wYXJlbnROb2RlfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG0sbixvLHA9ZiE9PWc/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixxPWIucGFyZW50Tm9kZSxyPWgmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzPSFpJiYhaCx0PSExO2lmKHEpe2lmKGYpe3doaWxlKHApe209Yjt3aGlsZShtPW1bcF0paWYoaD9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1tLm5vZGVUeXBlKXJldHVybiExO289cD0ib25seSI9PT1hJiYhbyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmcyl7bT1xLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4mJmpbMl0sbT1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobT0rK24mJm0mJm1bcF18fCh0PW49MCl8fG8ucG9wKCkpaWYoMT09PW0ubm9kZVR5cGUmJisrdCYmbT09PWIpe2tbYV09W3csbix0XTticmVha319ZWxzZSBpZihzJiYobT1iLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4pLHQ9PT0hMSl3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigoaD9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1tLm5vZGVUeXBlKSYmKyt0JiYocyYmKGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGtbYV09W3csdF0pLG09PT1iKSlicmVhaztyZXR1cm4gdC09ZSx0PT09ZHx8dCVkPT09MCYmdC9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZmEuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIithKTtyZXR1cm4gZVt1XT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSwiIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9oYShmdW5jdGlvbihhLGMpe3ZhciBkLGY9ZShhLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWQ9SihhLGZbZ10pLGFbZF09IShjW2RdPWZbZ10pfSk6ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSwwLGMpfSk6ZX19LHBzZXVkb3M6e25vdDpoYShmdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdLGQ9aChhLnJlcGxhY2UoUSwiJDEiKSk7cmV0dXJuIGRbdV0/aGEoZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksYlswXT1udWxsLCFjLnBvcCgpfX0pLGhhczpoYShmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGZhKGEsYikubGVuZ3RoPjB9fSksY29udGFpbnM6aGEoZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKGJhLGNhKSxmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzpoYShmdW5jdGlvbihhKXtyZXR1cm4gVi50ZXN0KGF8fCIiKXx8ZmEuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrYSksYT1hLnJlcGxhY2UoYmEsY2EpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1wP2IubGFuZzpiLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8Yi5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYSsiLSIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW99LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bi5hY3RpdmVFbGVtZW50JiYoIW4uaGFzRm9jdXN8fG4uaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiEhYS5jaGVja2VkfHwib3B0aW9uIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBZLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBYLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiJidXR0b24iPT09YS50eXBlfHwiYnV0dG9uIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuImlucHV0Ij09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0Om5hKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpuYShmdW5jdGlvbihhLGIpe3JldHVybltiLTFdfSksZXE6bmEoZnVuY3Rpb24oYSxiLGMpe3JldHVyblswPmM/YytiOmNdfSksZXZlbjpuYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLG9kZDpuYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLGx0Om5hKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOy0tZD49MDspYS5wdXNoKGQpO3JldHVybiBhfSksZ3Q6bmEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7KytkPGI7KWEucHVzaChkKTtyZXR1cm4gYX0pfX0sZC5wc2V1ZG9zLm50aD1kLnBzZXVkb3MuZXE7Zm9yKGIgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pZC5wc2V1ZG9zW2JdPWxhKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pZC5wc2V1ZG9zW2JdPW1hKGIpO2Z1bmN0aW9uIHBhKCl7fXBhLnByb3RvdHlwZT1kLmZpbHRlcnM9ZC5wc2V1ZG9zLGQuc2V0RmlsdGVycz1uZXcgcGEsZz1mYS50b2tlbml6ZT1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGs9elthKyIgIl07aWYoaylyZXR1cm4gYj8wOmsuc2xpY2UoMCk7aD1hLGk9W10saj1kLnByZUZpbHRlcjt3aGlsZShoKXsoIWN8fChlPVIuZXhlYyhoKSkpJiYoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1TLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFEsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1XW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/ZmEuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBxYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHJhKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGosaz1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGo9Ylt1XXx8KGJbdV09e30pLGk9altiLnVuaXF1ZUlEXXx8KGpbYi51bmlxdWVJRF09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGtbMl09aFsyXTtpZihpW2RdPWssa1syXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmEoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHVhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJighY3x8YyhmLGQsZSkpJiYoZy5wdXNoKGYpLGomJmIucHVzaChoKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmEoZCkpLGUmJiFlW3VdJiYoZT12YShlLGYpKSxoYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YShifHwiKiIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp1YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dWEocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0ooZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXVhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpILmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlWyIgIl0saT1nPzE6MCxrPXJhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYShmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtyYShzYShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gdmEoaT4xJiZzYShtKSxpPjEmJnFhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09YVtpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoUSwiJDEiKSxjLGU+aSYmd2EoYS5zbGljZShpLGUpKSxmPmUmJndhKGE9YS5zbGljZShlKSksZj5lJiZxYShhKSl9bS5wdXNoKGMpfXJldHVybiBzYShtKX1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9IjAiLHQ9ZiYmW10sdT1bXSx2PWoseD1mfHxlJiZkLmZpbmQuVEFHKCIqIixrKSx5PXcrPW51bGw9PXY/MTpNYXRoLnJhbmRvbSgpfHwuMSx6PXgubGVuZ3RoO2ZvcihrJiYoaj1nPT09bnx8Z3x8ayk7cyE9PXomJm51bGwhPShsPXhbc10pO3MrKyl7aWYoZSYmbCl7bz0wLGd8fGwub3duZXJEb2N1bWVudD09PW58fChtKGwpLGg9IXApO3doaWxlKHE9YVtvKytdKWlmKHEobCxnfHxuLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9eSl9YyYmKChsPSFxJiZsKSYmci0tLGYmJnQucHVzaChsKSl9aWYocis9cyxjJiZzIT09cil7bz0wO3doaWxlKHE9YltvKytdKXEodCx1LGcsaCk7aWYoZil7aWYocj4wKXdoaWxlKHMtLSl0W3NdfHx1W3NdfHwodVtzXT1GLmNhbGwoaSkpO3U9dWEodSl9SC5hcHBseShpLHUpLGsmJiFmJiZ1Lmxlbmd0aD4wJiZyK2IubGVuZ3RoPjEmJmZhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXksaj12KSx0fTtyZXR1cm4gYz9oYShmKTpmfXJldHVybiBoPWZhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErIiAiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiYiSUQiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1XLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShiYSxjYSksXy50ZXN0KGpbMF0udHlwZSkmJm9hKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYShqKSwhYSlyZXR1cm4gSC5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSwhYnx8Xy50ZXN0KGEpJiZvYShiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGphKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGphKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxqYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwclsiOiJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlU29ydD1uLnVuaXF1ZT10LnVuaXF1ZVNvcnQsbi50ZXh0PXQuZ2V0VGV4dCxuLmlzWE1MRG9jPXQuaXNYTUwsbi5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sdj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY30sdz1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHg9L148KFtcdy1dKylccypcLz8+KD86PFwvXDE+fCkkLyx5PS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24geihhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih5LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBoLmNhbGwoYixhKT4tMSE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPXRoaXMubGVuZ3RoLGQ9W10sZT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2M+YjtiKyspaWYobi5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7Yz5iO2IrKyluLmZpbmQoYSxlW2JdLGQpO3JldHVybiBkPXRoaXMucHVzaFN0YWNrKGM+MT9uLnVuaXF1ZShkKTpkKSxkLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrYTphLGR9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEheih0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmdy50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgQSxCPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC8sQz1uLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxBLCJzdHJpbmciPT10eXBlb2YgYSl7aWYoZT0iPCI9PT1hWzBdJiYiPiI9PT1hW2EubGVuZ3RoLTFdJiZhLmxlbmd0aD49Mz9bbnVsbCxhLG51bGxdOkIuZXhlYyhhKSwhZXx8IWVbMV0mJmIpcmV0dXJuIWJ8fGIuanF1ZXJ5PyhifHxjKS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoYikuZmluZChhKTtpZihlWzFdKXtpZihiPWIgaW5zdGFuY2VvZiBuP2JbMF06YixuLm1lcmdlKHRoaXMsbi5wYXJzZUhUTUwoZVsxXSxiJiZiLm5vZGVUeXBlP2Iub3duZXJEb2N1bWVudHx8YjpkLCEwKSkseC50ZXN0KGVbMV0pJiZuLmlzUGxhaW5PYmplY3QoYikpZm9yKGUgaW4gYiluLmlzRnVuY3Rpb24odGhpc1tlXSk/dGhpc1tlXShiW2VdKTp0aGlzLmF0dHIoZSxiW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4gZj1kLmdldEVsZW1lbnRCeUlkKGVbMl0pLGYmJmYucGFyZW50Tm9kZSYmKHRoaXMubGVuZ3RoPTEsdGhpc1swXT1mKSx0aGlzLmNvbnRleHQ9ZCx0aGlzLnNlbGVjdG9yPWEsdGhpc31yZXR1cm4gYS5ub2RlVHlwZT8odGhpcy5jb250ZXh0PXRoaXNbMF09YSx0aGlzLmxlbmd0aD0xLHRoaXMpOm4uaXNGdW5jdGlvbihhKT92b2lkIDAhPT1jLnJlYWR5P2MucmVhZHkoYSk6YShuKToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxuLm1ha2VBcnJheShhLHRoaXMpKX07Qy5wcm90b3R5cGU9bi5mbixBPW4oZCk7dmFyIEQ9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sRT17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtuLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPW4oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYobi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXcudGVzdChhKXx8InN0cmluZyIhPXR5cGVvZiBhP24oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm4uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9uLnVuaXF1ZVNvcnQoZik6Zil9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhPyJzdHJpbmciPT10eXBlb2YgYT9oLmNhbGwobihhKSx0aGlzWzBdKTpoLmNhbGwodGhpcyxhLmpxdWVyeT9hWzBdOmEpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4udW5pcXVlU29ydChuLm1lcmdlKHRoaXMuZ2V0KCksbihhLGIpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX19KTtmdW5jdGlvbiBGKGEsYil7d2hpbGUoKGE9YVtiXSkmJjEhPT1hLm5vZGVUeXBlKTtyZXR1cm4gYX1uLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJjExIT09Yi5ub2RlVHlwZT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBGKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSwicHJldmlvdXNTaWJsaW5nIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHYoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiB2KGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8bi5tZXJnZShbXSxhLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGMsZCl7dmFyIGU9bi5tYXAodGhpcyxiLGMpO3JldHVybiJVbnRpbCIhPT1hLnNsaWNlKC01KSYmKGQ9YyksZCYmInN0cmluZyI9PXR5cGVvZiBkJiYoZT1uLmZpbHRlcihkLGUpKSx0aGlzLmxlbmd0aD4xJiYoRVthXXx8bi51bmlxdWVTb3J0KGUpLEQudGVzdChhKSYmZS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBHPS9cUysvZztmdW5jdGlvbiBIKGEpe3ZhciBiPXt9O3JldHVybiBuLmVhY2goYS5tYXRjaChHKXx8W10sZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1uLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPSJzdHJpbmciPT10eXBlb2YgYT9IKGEpOm4uZXh0ZW5kKHt9LGEpO3ZhciBiLGMsZCxlLGY9W10sZz1bXSxoPS0xLGk9ZnVuY3Rpb24oKXtmb3IoZT1hLm9uY2UsZD1iPSEwO2cubGVuZ3RoO2g9LTEpe2M9Zy5zaGlmdCgpO3doaWxlKCsraDxmLmxlbmd0aClmW2hdLmFwcGx5KGNbMF0sY1sxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSYmKGg9Zi5sZW5ndGgsYz0hMSl9YS5tZW1vcnl8fChjPSExKSxiPSExLGUmJihmPWM/W106IiIpfSxqPXthZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gZiYmKGMmJiFiJiYoaD1mLmxlbmd0aC0xLGcucHVzaChjKSksZnVuY3Rpb24gZChiKXtuLmVhY2goYixmdW5jdGlvbihiLGMpe24uaXNGdW5jdGlvbihjKT9hLnVuaXF1ZSYmai5oYXMoYyl8fGYucHVzaChjKTpjJiZjLmxlbmd0aCYmInN0cmluZyIhPT1uLnR5cGUoYykmJmQoYyl9KX0oYXJndW1lbnRzKSxjJiYhYiYmaSgpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe3ZhciBjO3doaWxlKChjPW4uaW5BcnJheShiLGYsYykpPi0xKWYuc3BsaWNlKGMsMSksaD49YyYmaC0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP24uaW5BcnJheShhLGYpPi0xOmYubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihmPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGU9Zz1bXSxmPWM9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hZn0sbG9jazpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sY3x8KGY9Yz0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFlfSxmaXJlV2l0aDpmdW5jdGlvbihhLGMpe3JldHVybiBlfHwoYz1jfHxbXSxjPVthLGMuc2xpY2U/Yy5zbGljZSgpOmNdLGcucHVzaChjKSxifHxpKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gai5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWR9fTtyZXR1cm4gan0sbi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbInJlc29sdmUiLCJkb25lIixuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLG4uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLGM9InBlbmRpbmciLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gbi5EZWZlcnJlZChmdW5jdGlvbihjKXtuLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW4uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkucHJvZ3Jlc3MoYy5ub3RpZnkpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KTpjW2ZbMF0rIldpdGgiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9uLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG4uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXSsiV2l0aCJdKHRoaXM9PT1lP2Q6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGVbZlswXSsiV2l0aCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9ZS5jYWxsKGFyZ3VtZW50cyksZD1jLmxlbmd0aCxmPTEhPT1kfHxhJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9kOjAsZz0xPT09Zj9hOm4uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2UuY2FsbChhcmd1bWVudHMpOmQsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fSxpLGosaztpZihkPjEpZm9yKGk9bmV3IEFycmF5KGQpLGo9bmV3IEFycmF5KGQpLGs9bmV3IEFycmF5KGQpO2Q+YjtiKyspY1tiXSYmbi5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkucHJvZ3Jlc3MoaChiLGosaSkpLmRvbmUoaChiLGssYykpLmZhaWwoZy5yZWplY3QpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBJO24uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sbi5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/bi5yZWFkeVdhaXQrKzpuLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW4ucmVhZHlXYWl0Om4uaXNSZWFkeSl8fChuLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW4ucmVhZHlXYWl0PjB8fChJLnJlc29sdmVXaXRoKGQsW25dKSxuLmZuLnRyaWdnZXJIYW5kbGVyJiYobihkKS50cmlnZ2VySGFuZGxlcigicmVhZHkiKSxuKGQpLm9mZigicmVhZHkiKSkpKX19KTtmdW5jdGlvbiBKKCl7ZC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixKKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLEopLG4ucmVhZHkoKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEl8fChJPW4uRGVmZXJyZWQoKSwiY29tcGxldGUiPT09ZC5yZWFkeVN0YXRlfHwibG9hZGluZyIhPT1kLnJlYWR5U3RhdGUmJiFkLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9hLnNldFRpbWVvdXQobi5yZWFkeSk6KGQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSiksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixKKSkpLEkucHJvbWlzZShiKX0sbi5yZWFkeS5wcm9taXNlKCk7dmFyIEs9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZigib2JqZWN0Ij09PW4udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKUsoYSxiLGgsY1toXSwhMCxmLGcpfWVsc2UgaWYodm9pZCAwIT09ZCYmKGU9ITAsbi5pc0Z1bmN0aW9uKGQpfHwoZz0hMCksaiYmKGc/KGIuY2FsbChhLGQpLGI9bnVsbCk6KGo9YixiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKG4oYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn0sTD1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9O2Z1bmN0aW9uIE0oKXt0aGlzLmV4cGFuZG89bi5leHBhbmRvK00udWlkKyt9TS51aWQ9MSxNLnByb3RvdHlwZT17cmVnaXN0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx7fTtyZXR1cm4gYS5ub2RlVHlwZT9hW3RoaXMuZXhwYW5kb109YzpPYmplY3QuZGVmaW5lUHJvcGVydHkoYSx0aGlzLmV4cGFuZG8se3ZhbHVlOmMsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksYVt0aGlzLmV4cGFuZG9dfSxjYWNoZTpmdW5jdGlvbihhKXtpZighTChhKSlyZXR1cm57fTt2YXIgYj1hW3RoaXMuZXhwYW5kb107cmV0dXJuIGJ8fChiPXt9LEwoYSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT1iOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLHRoaXMuZXhwYW5kbyx7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSkpLGJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmNhY2hlKGEpO2lmKCJzdHJpbmciPT10eXBlb2YgYillW2JdPWM7ZWxzZSBmb3IoZCBpbiBiKWVbZF09YltkXTtyZXR1cm4gZX0sZ2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHZvaWQgMD09PWI/dGhpcy5jYWNoZShhKTphW3RoaXMuZXhwYW5kb10mJmFbdGhpcy5leHBhbmRvXVtiXX0sYWNjZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmInN0cmluZyI9PXR5cGVvZiBiJiZ2b2lkIDA9PT1jPyhkPXRoaXMuZ2V0KGEsYiksdm9pZCAwIT09ZD9kOnRoaXMuZ2V0KGEsbi5jYW1lbENhc2UoYikpKToodGhpcy5zZXQoYSxiLGMpLHZvaWQgMCE9PWM/YzpiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9YVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PWYpe2lmKHZvaWQgMD09PWIpdGhpcy5yZWdpc3RlcihhKTtlbHNle24uaXNBcnJheShiKT9kPWIuY29uY2F0KGIubWFwKG4uY2FtZWxDYXNlKSk6KGU9bi5jYW1lbENhc2UoYiksYiBpbiBmP2Q9W2IsZV06KGQ9ZSxkPWQgaW4gZj9bZF06ZC5tYXRjaChHKXx8W10pKSxjPWQubGVuZ3RoO3doaWxlKGMtLSlkZWxldGUgZltkW2NdXX0odm9pZCAwPT09Ynx8bi5pc0VtcHR5T2JqZWN0KGYpKSYmKGEubm9kZVR5cGU/YVt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgYVt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9YVt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT1iJiYhbi5pc0VtcHR5T2JqZWN0KGIpfX07dmFyIE49bmV3IE0sTz1uZXcgTSxQPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sUT0vW0EtWl0vZztmdW5jdGlvbiBSKGEsYixjKXt2YXIgZDtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSlpZihkPSJkYXRhLSIrYi5yZXBsYWNlKFEsIi0kJiIpLnRvTG93ZXJDYXNlKCksYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSJ0cnVlIj09PWM/ITA6ImZhbHNlIj09PWM/ITE6Im51bGwiPT09Yz9udWxsOitjKyIiPT09Yz8rYzpQLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9Ty5zZXQoYSxiLGMpOwp9ZWxzZSBjPXZvaWQgMDtyZXR1cm4gY31uLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gTy5oYXNEYXRhKGEpfHxOLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBPLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtPLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIE4uYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtOLnJlbW92ZShhLGIpfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9Ty5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFOLmdldChmLCJoYXNEYXRhQXR0cnMiKSkpe2M9Zy5sZW5ndGg7d2hpbGUoYy0tKWdbY10mJihkPWdbY10ubmFtZSwwPT09ZC5pbmRleE9mKCJkYXRhLSIpJiYoZD1uLmNhbWVsQ2FzZShkLnNsaWNlKDUpKSxSKGYsZCxlW2RdKSkpO04uc2V0KGYsImhhc0RhdGFBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXtPLnNldCh0aGlzLGEpfSk6Syh0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjLGQ7aWYoZiYmdm9pZCAwPT09Yil7aWYoYz1PLmdldChmLGEpfHxPLmdldChmLGEucmVwbGFjZShRLCItJCYiKS50b0xvd2VyQ2FzZSgpKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGQ9bi5jYW1lbENhc2UoYSksYz1PLmdldChmLGQpLHZvaWQgMCE9PWMpcmV0dXJuIGM7aWYoYz1SKGYsZCx2b2lkIDApLHZvaWQgMCE9PWMpcmV0dXJuIGN9ZWxzZSBkPW4uY2FtZWxDYXNlKGEpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU8uZ2V0KHRoaXMsZCk7Ty5zZXQodGhpcyxkLGIpLGEuaW5kZXhPZigiLSIpPi0xJiZ2b2lkIDAhPT1jJiZPLnNldCh0aGlzLGEsYil9KX0sbnVsbCxiLGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Ty5yZW1vdmUodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1OLmdldChhLGIpLGMmJighZHx8bi5pc0FycmF5KGMpP2Q9Ti5hY2Nlc3MoYSxiLG4ubWFrZUFycmF5KGMpKTpkLnB1c2goYykpLGR8fFtdKTp2b2lkIDB9LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fCJmeCI7dmFyIGM9bi5xdWV1ZShhLGIpLGQ9Yy5sZW5ndGgsZT1jLnNoaWZ0KCksZj1uLl9xdWV1ZUhvb2tzKGEsYiksZz1mdW5jdGlvbigpe24uZGVxdWV1ZShhLGIpfTsiaW5wcm9ncmVzcyI9PT1lJiYoZT1jLnNoaWZ0KCksZC0tKSxlJiYoImZ4Ij09PWImJmMudW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBmLnN0b3AsZS5jYWxsKGEsZyxmKSksIWQmJmYmJmYuZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihhLGIpe3ZhciBjPWIrInF1ZXVlSG9va3MiO3JldHVybiBOLmdldChhLGMpfHxOLmFjY2VzcyhhLGMse2VtcHR5Om4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe04ucmVtb3ZlKGEsW2IrInF1ZXVlIixjXSl9KX0pfX0pLG4uZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPTI7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBhJiYoYj1hLGE9ImZ4IixjLS0pLGFyZ3VtZW50cy5sZW5ndGg8Yz9uLnF1ZXVlKHRoaXNbMF0sYSk6dm9pZCAwPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPW4ucXVldWUodGhpcyxhLGIpO24uX3F1ZXVlSG9va3ModGhpcyxhKSwiZngiPT09YSYmImlucHJvZ3Jlc3MiIT09Y1swXSYmbi5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5kZXF1ZXVlKHRoaXMsYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MSxlPW4uRGVmZXJyZWQoKSxmPXRoaXMsZz10aGlzLmxlbmd0aCxoPWZ1bmN0aW9uKCl7LS1kfHxlLnJlc29sdmVXaXRoKGYsW2ZdKX07InN0cmluZyIhPXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxhPWF8fCJmeCI7d2hpbGUoZy0tKWM9Ti5nZXQoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSk7dmFyIFM9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsVD1uZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIrUysiKShbYS16JV0qKSQiLCJpIiksVT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLFY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1ifHxhLCJub25lIj09PW4uY3NzKGEsImRpc3BsYXkiKXx8IW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfTtmdW5jdGlvbiBXKGEsYixjLGQpe3ZhciBlLGY9MSxnPTIwLGg9ZD9mdW5jdGlvbigpe3JldHVybiBkLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBuLmNzcyhhLGIsIiIpfSxpPWgoKSxqPWMmJmNbM118fChuLmNzc051bWJlcltiXT8iIjoicHgiKSxrPShuLmNzc051bWJlcltiXXx8InB4IiE9PWomJitpKSYmVC5leGVjKG4uY3NzKGEsYikpO2lmKGsmJmtbM10hPT1qKXtqPWp8fGtbM10sYz1jfHxbXSxrPStpfHwxO2RvIGY9Znx8Ii41IixrLz1mLG4uc3R5bGUoYSxiLGsraik7d2hpbGUoZiE9PShmPWgoKS9pKSYmMSE9PWYmJi0tZyl9cmV0dXJuIGMmJihrPStrfHwraXx8MCxlPWNbMV0/aysoY1sxXSsxKSpjWzJdOitjWzJdLGQmJihkLnVuaXQ9aixkLnN0YXJ0PWssZC5lbmQ9ZSkpLGV9dmFyIFg9L14oPzpjaGVja2JveHxyYWRpbykkL2ksWT0vPChbXHc6LV0rKS8sWj0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksJD17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxfZGVmYXVsdDpbMCwiIiwiIl19OyQub3B0Z3JvdXA9JC5vcHRpb24sJC50Ym9keT0kLnRmb290PSQuY29sZ3JvdXA9JC5jYXB0aW9uPSQudGhlYWQsJC50aD0kLnRkO2Z1bmN0aW9uIF8oYSxiKXt2YXIgYz0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOltdO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sYyk6Y31mdW5jdGlvbiBhYShhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylOLnNldChhW2NdLCJnbG9iYWxFdmFsIiwhYnx8Ti5nZXQoYltjXSwiZ2xvYmFsRXZhbCIpKX12YXIgYmE9Lzx8JiM/XHcrOy87ZnVuY3Rpb24gY2EoYSxiLGMsZCxlKXtmb3IodmFyIGYsZyxoLGksaixrLGw9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbT1bXSxvPTAscD1hLmxlbmd0aDtwPm87bysrKWlmKGY9YVtvXSxmfHwwPT09ZilpZigib2JqZWN0Ij09PW4udHlwZShmKSluLm1lcmdlKG0sZi5ub2RlVHlwZT9bZl06Zik7ZWxzZSBpZihiYS50ZXN0KGYpKXtnPWd8fGwuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksaD0oWS5leGVjKGYpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGk9JFtoXXx8JC5fZGVmYXVsdCxnLmlubmVySFRNTD1pWzFdK24uaHRtbFByZWZpbHRlcihmKStpWzJdLGs9aVswXTt3aGlsZShrLS0pZz1nLmxhc3RDaGlsZDtuLm1lcmdlKG0sZy5jaGlsZE5vZGVzKSxnPWwuZmlyc3RDaGlsZCxnLnRleHRDb250ZW50PSIifWVsc2UgbS5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZikpO2wudGV4dENvbnRlbnQ9IiIsbz0wO3doaWxlKGY9bVtvKytdKWlmKGQmJm4uaW5BcnJheShmLGQpPi0xKWUmJmUucHVzaChmKTtlbHNlIGlmKGo9bi5jb250YWlucyhmLm93bmVyRG9jdW1lbnQsZiksZz1fKGwuYXBwZW5kQ2hpbGQoZiksInNjcmlwdCIpLGomJmFhKGcpLGMpe2s9MDt3aGlsZShmPWdbaysrXSlaLnRlc3QoZi50eXBlfHwiIikmJmMucHVzaChmKX1yZXR1cm4gbH0hZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPWEuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KCJkaXYiKSksYz1kLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGMuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGMuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGIuYXBwZW5kQ2hpbGQoYyksbC5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixsLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIGRhPS9ea2V5LyxlYT0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sZmE9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIGdhKCl7cmV0dXJuITB9ZnVuY3Rpb24gaGEoKXtyZXR1cm4hMX1mdW5jdGlvbiBpYSgpe3RyeXtyZXR1cm4gZC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gamEoYSxiLGMsZCxlLGYpe3ZhciBnLGg7aWYoIm9iamVjdCI9PXR5cGVvZiBiKXsic3RyaW5nIiE9dHlwZW9mIGMmJihkPWR8fGMsYz12b2lkIDApO2ZvcihoIGluIGIpamEoYSxoLGMsZCxiW2hdLGYpO3JldHVybiBhfWlmKG51bGw9PWQmJm51bGw9PWU/KGU9YyxkPWM9dm9pZCAwKTpudWxsPT1lJiYoInN0cmluZyI9PXR5cGVvZiBjPyhlPWQsZD12b2lkIDApOihlPWQsZD1jLGM9dm9pZCAwKSksZT09PSExKWU9aGE7ZWxzZSBpZighZSlyZXR1cm4gYTtyZXR1cm4gMT09PWYmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1uLmd1aWQrKykpLGEuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYixlLGQsYyl9KX1uLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPU4uZ2V0KGEpO2lmKHIpe2MuaGFuZGxlciYmKGY9YyxjPWYuaGFuZGxlcixlPWYuc2VsZWN0b3IpLGMuZ3VpZHx8KGMuZ3VpZD1uLmd1aWQrKyksKGk9ci5ldmVudHMpfHwoaT1yLmV2ZW50cz17fSksKGc9ci5oYW5kbGUpfHwoZz1yLmhhbmRsZT1mdW5jdGlvbihiKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIG4mJm4uZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP24uZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fCIiKS5tYXRjaChHKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSloPWZhLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvJiYobD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LGs9bi5leHRlbmQoe3R5cGU6byxvcmlnVHlwZTpxLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmbi5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpwLmpvaW4oIi4iKX0sZiksKG09aVtvXSl8fChtPWlbb109W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxwLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG8sZykpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxuLmV2ZW50Lmdsb2JhbFtvXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9Ti5oYXNEYXRhKGEpJiZOLmdldChhKTtpZihyJiYoaT1yLmV2ZW50cykpe2I9KGJ8fCIiKS5tYXRjaChHKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSlpZihoPWZhLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvKXtsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8byxtPWlbb118fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrcC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxnPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWs9bVtmXSwhZSYmcSE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3VpZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYoIioqIiE9PWR8fCFrLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksay5zZWxlY3RvciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxrKSk7ZyYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEscCxyLmhhbmRsZSkhPT0hMXx8bi5yZW1vdmVFdmVudChhLG8sci5oYW5kbGUpLGRlbGV0ZSBpW29dKX1lbHNlIGZvcihvIGluIGkpbi5ldmVudC5yZW1vdmUoYSxvK2Jbal0sYyxkLCEwKTtuLmlzRW1wdHlPYmplY3QoaSkmJk4ucmVtb3ZlKGEsImhhbmRsZSBldmVudHMiKX19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe2E9bi5ldmVudC5maXgoYSk7dmFyIGIsYyxkLGYsZyxoPVtdLGk9ZS5jYWxsKGFyZ3VtZW50cyksaj0oTi5nZXQodGhpcywiZXZlbnRzIil8fHt9KVthLnR5cGVdfHxbXSxrPW4uZXZlbnQuc3BlY2lhbFthLnR5cGVdfHx7fTtpZihpWzBdPWEsYS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFrLnByZURpc3BhdGNofHxrLnByZURpc3BhdGNoLmNhbGwodGhpcyxhKSE9PSExKXtoPW4uZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGEsaiksYj0wO3doaWxlKChmPWhbYisrXSkmJiFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2EuY3VycmVudFRhcmdldD1mLmVsZW0sYz0wO3doaWxlKChnPWYuaGFuZGxlcnNbYysrXSkmJiFhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpKCFhLnJuYW1lc3BhY2V8fGEucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKSkmJihhLmhhbmRsZU9iaj1nLGEuZGF0YT1nLmRhdGEsZD0oKG4uZXZlbnQuc3BlY2lhbFtnLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zy5oYW5kbGVyKS5hcHBseShmLmVsZW0saSksdm9pZCAwIT09ZCYmKGEucmVzdWx0PWQpPT09ITEmJihhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBrLnBvc3REaXNwYXRjaCYmay5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGEpLGEucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnPVtdLGg9Yi5kZWxlZ2F0ZUNvdW50LGk9YS50YXJnZXQ7aWYoaCYmaS5ub2RlVHlwZSYmKCJjbGljayIhPT1hLnR5cGV8fGlzTmFOKGEuYnV0dG9uKXx8YS5idXR0b248MSkpZm9yKDtpIT09dGhpcztpPWkucGFyZW50Tm9kZXx8dGhpcylpZigxPT09aS5ub2RlVHlwZSYmKGkuZGlzYWJsZWQhPT0hMHx8ImNsaWNrIiE9PWEudHlwZSkpe2ZvcihkPVtdLGM9MDtoPmM7YysrKWY9YltjXSxlPWYuc2VsZWN0b3IrIiAiLHZvaWQgMD09PWRbZV0mJihkW2VdPWYubmVlZHNDb250ZXh0P24oZSx0aGlzKS5pbmRleChpKT4tMTpuLmZpbmQoZSx0aGlzLG51bGwsW2ldKS5sZW5ndGgpLGRbZV0mJmQucHVzaChmKTtkLmxlbmd0aCYmZy5wdXNoKHtlbGVtOmksaGFuZGxlcnM6ZH0pfXJldHVybiBoPGIubGVuZ3RoJiZnLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpiLnNsaWNlKGgpfSksZ30scHJvcHM6ImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRldGFpbCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hLndoaWNoJiYoYS53aGljaD1udWxsIT1iLmNoYXJDb2RlP2IuY2hhckNvZGU6Yi5rZXlDb2RlKSxhfX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZz1iLmJ1dHRvbjtyZXR1cm4gbnVsbD09YS5wYWdlWCYmbnVsbCE9Yi5jbGllbnRYJiYoYz1hLnRhcmdldC5vd25lckRvY3VtZW50fHxkLGU9Yy5kb2N1bWVudEVsZW1lbnQsZj1jLmJvZHksYS5wYWdlWD1iLmNsaWVudFgrKGUmJmUuc2Nyb2xsTGVmdHx8ZiYmZi5zY3JvbGxMZWZ0fHwwKS0oZSYmZS5jbGllbnRMZWZ0fHxmJiZmLmNsaWVudExlZnR8fDApLGEucGFnZVk9Yi5jbGllbnRZKyhlJiZlLnNjcm9sbFRvcHx8ZiYmZi5zY3JvbGxUb3B8fDApLShlJiZlLmNsaWVudFRvcHx8ZiYmZi5jbGllbnRUb3B8fDApKSxhLndoaWNofHx2b2lkIDA9PT1nfHwoYS53aGljaD0xJmc/MToyJmc/Mzo0Jmc/MjowKSxhfX0sZml4OmZ1bmN0aW9uKGEpe2lmKGFbbi5leHBhbmRvXSlyZXR1cm4gYTt2YXIgYixjLGUsZj1hLnR5cGUsZz1hLGg9dGhpcy5maXhIb29rc1tmXTtofHwodGhpcy5maXhIb29rc1tmXT1oPWVhLnRlc3QoZik/dGhpcy5tb3VzZUhvb2tzOmRhLnRlc3QoZik/dGhpcy5rZXlIb29rczp7fSksZT1oLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGgucHJvcHMpOnRoaXMucHJvcHMsYT1uZXcgbi5FdmVudChnKSxiPWUubGVuZ3RoO3doaWxlKGItLSljPWVbYl0sYVtjXT1nW2NdO3JldHVybiBhLnRhcmdldHx8KGEudGFyZ2V0PWQpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGguZmlsdGVyP2guZmlsdGVyKGEsZyk6YX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1pYSgpJiZ0aGlzLmZvY3VzPyh0aGlzLmZvY3VzKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOiJmb2N1c2luIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09aWEoKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4iY2hlY2tib3giPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrJiZuLm5vZGVOYW1lKHRoaXMsImlucHV0Iik/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbi5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5WYWx1ZT09PSExP2dhOmhhKTp0aGlzLnR5cGU9YSxiJiZuLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxuLm5vdygpLHZvaWQodGhpc1tuLmV4cGFuZG9dPSEwKSk6bmV3IG4uRXZlbnQoYSxiKX0sbi5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm4uRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmhhLGlzUHJvcGFnYXRpb25TdG9wcGVkOmhhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmhhLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWdhLGEmJmEucHJldmVudERlZmF1bHQoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9Z2EsYSYmYS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Z2EsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sbi5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihhLGIpe24uZXZlbnQuc3BlY2lhbFthXT17ZGVsZWdhdGVUeXBlOmIsYmluZFR5cGU6YixoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLGU9YS5yZWxhdGVkVGFyZ2V0LGY9YS5oYW5kbGVPYmo7cmV0dXJuKCFlfHxlIT09ZCYmIW4uY29udGFpbnMoZCxlKSkmJihhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLG4uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gamEodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBqYSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPWhhKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfX0pO3ZhciBrYT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6LV0rKVtePl0qKVwvPi9naSxsYT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxtYT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxuYT0vXnRydWVcLyguKikvLG9hPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBwYShhLGIpe3JldHVybiBuLm5vZGVOYW1lKGEsInRhYmxlIikmJm4ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLCJ0ciIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmF9ZnVuY3Rpb24gcWEoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIithLnR5cGUsYX1mdW5jdGlvbiByYShhKXt2YXIgYj1uYS5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxhfWZ1bmN0aW9uIHNhKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTi5oYXNEYXRhKGEpJiYoZj1OLmFjY2VzcyhhKSxnPU4uc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW4uZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1PLmhhc0RhdGEoYSkmJihoPU8uYWNjZXNzKGEpLGk9bi5leHRlbmQoe30saCksTy5zZXQoYixpKSl9fWZ1bmN0aW9uIHRhKGEsYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOyJpbnB1dCI9PT1jJiZYLnRlc3QoYS50eXBlKT9iLmNoZWNrZWQ9YS5jaGVja2VkOigiaW5wdXQiPT09Y3x8InRleHRhcmVhIj09PWMpJiYoYi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWUpfWZ1bmN0aW9uIHVhKGEsYixjLGQpe2I9Zi5hcHBseShbXSxiKTt2YXIgZSxnLGgsaSxqLGssbT0wLG89YS5sZW5ndGgscD1vLTEscT1iWzBdLHI9bi5pc0Z1bmN0aW9uKHEpO2lmKHJ8fG8+MSYmInN0cmluZyI9PXR5cGVvZiBxJiYhbC5jaGVja0Nsb25lJiZtYS50ZXN0KHEpKXJldHVybiBhLmVhY2goZnVuY3Rpb24oZSl7dmFyIGY9YS5lcShlKTtyJiYoYlswXT1xLmNhbGwodGhpcyxlLGYuaHRtbCgpKSksdWEoZixiLGMsZCl9KTtpZihvJiYoZT1jYShiLGFbMF0ub3duZXJEb2N1bWVudCwhMSxhLGQpLGc9ZS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT1nKSxnfHxkKSl7Zm9yKGg9bi5tYXAoXyhlLCJzY3JpcHQiKSxxYSksaT1oLmxlbmd0aDtvPm07bSsrKWo9ZSxtIT09cCYmKGo9bi5jbG9uZShqLCEwLCEwKSxpJiZuLm1lcmdlKGgsXyhqLCJzY3JpcHQiKSkpLGMuY2FsbChhW21dLGosbSk7aWYoaSlmb3Ioaz1oW2gubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsbi5tYXAoaCxyYSksbT0wO2k+bTttKyspaj1oW21dLFoudGVzdChqLnR5cGV8fCIiKSYmIU4uYWNjZXNzKGosImdsb2JhbEV2YWwiKSYmbi5jb250YWlucyhrLGopJiYoai5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChqLnNyYyk6bi5nbG9iYWxFdmFsKGoudGV4dENvbnRlbnQucmVwbGFjZShvYSwiIikpKX1yZXR1cm4gYX1mdW5jdGlvbiB2YShhLGIsYyl7Zm9yKHZhciBkLGU9Yj9uLmZpbHRlcihiLGEpOmEsZj0wO251bGwhPShkPWVbZl0pO2YrKyljfHwxIT09ZC5ub2RlVHlwZXx8bi5jbGVhbkRhdGEoXyhkKSksZC5wYXJlbnROb2RlJiYoYyYmbi5jb250YWlucyhkLm93bmVyRG9jdW1lbnQsZCkmJmFhKF8oZCwic2NyaXB0IikpLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSk7cmV0dXJuIGF9bi5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShrYSwiPCQxPjwvJDI+Iil9LGNsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY2xvbmVOb2RlKCEwKSxpPW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpO2lmKCEobC5ub0Nsb25lQ2hlY2tlZHx8MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8bi5pc1hNTERvYyhhKSkpZm9yKGc9XyhoKSxmPV8oYSksZD0wLGU9Zi5sZW5ndGg7ZT5kO2QrKyl0YShmW2RdLGdbZF0pO2lmKGIpaWYoYylmb3IoZj1mfHxfKGEpLGc9Z3x8XyhoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKXNhKGZbZF0sZ1tkXSk7ZWxzZSBzYShhLGgpO3JldHVybiBnPV8oaCwic2NyaXB0IiksZy5sZW5ndGg+MCYmYWEoZywhaSYmXyhhLCJzY3JpcHQiKSksaH0sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQsZT1uLmV2ZW50LnNwZWNpYWwsZj0wO3ZvaWQgMCE9PShjPWFbZl0pO2YrKylpZihMKGMpKXtpZihiPWNbTi5leHBhbmRvXSl7aWYoYi5ldmVudHMpZm9yKGQgaW4gYi5ldmVudHMpZVtkXT9uLmV2ZW50LnJlbW92ZShjLGQpOm4ucmVtb3ZlRXZlbnQoYyxkLGIuaGFuZGxlKTtjW04uZXhwYW5kb109dm9pZCAwfWNbTy5leHBhbmRvXSYmKGNbTy5leHBhbmRvXT12b2lkIDApfX19KSxuLmZuLmV4dGVuZCh7ZG9tTWFuaXA6dWEsZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB2YSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZhKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpJiYodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB1YSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9cGEodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1wYSh0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspMT09PWEubm9kZVR5cGUmJihuLmNsZWFuRGF0YShfKGEsITEpKSxhLnRleHRDb250ZW50PSIiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1udWxsPT1hPyExOmEsYj1udWxsPT1iP2E6Yix0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBuLmNsb25lKHRoaXMsYSxiKX0pfSxodG1sOmZ1bmN0aW9uKGEpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXXx8e30sYz0wLGQ9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09YSYmMT09PWIubm9kZVR5cGUpcmV0dXJuIGIuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmIWxhLnRlc3QoYSkmJiEkWyhZLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPW4uaHRtbFByZWZpbHRlcihhKTt0cnl7Zm9yKDtkPmM7YysrKWI9dGhpc1tjXXx8e30sMT09PWIubm9kZVR5cGUmJihuLmNsZWFuRGF0YShfKGIsITEpKSxiLmlubmVySFRNTD1hKTtiPTB9Y2F0Y2goZSl7fX1iJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMucGFyZW50Tm9kZTtuLmluQXJyYXkodGhpcyxhKTwwJiYobi5jbGVhbkRhdGEoXyh0aGlzKSksYyYmYy5yZXBsYWNlQ2hpbGQoYix0aGlzKSl9LGEpfX0pLG4uZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD1bXSxlPW4oYSksZj1lLmxlbmd0aC0xLGg9MDtmPj1oO2grKyljPWg9PT1mP3RoaXM6dGhpcy5jbG9uZSghMCksbihlW2hdKVtiXShjKSxnLmFwcGx5KGQsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGQpfX0pO3ZhciB3YSx4YT17SFRNTDoiYmxvY2siLEJPRFk6ImJsb2NrIn07ZnVuY3Rpb24geWEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sImRpc3BsYXkiKTtyZXR1cm4gYy5kZXRhY2goKSxkfWZ1bmN0aW9uIHphKGEpe3ZhciBiPWQsYz14YVthXTtyZXR1cm4gY3x8KGM9eWEoYSxiKSwibm9uZSIhPT1jJiZjfHwod2E9KHdhfHxuKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPXdhWzBdLmNvbnRlbnREb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9eWEoYSxiKSx3YS5kZXRhY2goKSkseGFbYV09YyksY312YXIgQWE9L15tYXJnaW4vLEJhPW5ldyBSZWdFeHAoIl4oIitTKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksQ2E9ZnVuY3Rpb24oYil7dmFyIGM9Yi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBjJiZjLm9wZW5lcnx8KGM9YSksYy5nZXRDb21wdXRlZFN0eWxlKGIpfSxEYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sRWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZz1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGg9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpZihoLnN0eWxlKXtoLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsaC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGwuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1oLnN0eWxlLmJhY2tncm91bmRDbGlwLGcuc3R5bGUuY3NzVGV4dD0iYm9yZGVyOjA7d2lkdGg6OHB4O2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDtwYWRkaW5nOjA7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGUiLGcuYXBwZW5kQ2hpbGQoaCk7ZnVuY3Rpb24gaSgpe2guc3R5bGUuY3NzVGV4dD0iLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt0b3A6MSU7d2lkdGg6NTAlIixoLmlubmVySFRNTD0iIixFYS5hcHBlbmRDaGlsZChnKTt2YXIgZD1hLmdldENvbXB1dGVkU3R5bGUoaCk7Yj0iMSUiIT09ZC50b3AsZj0iMnB4Ij09PWQubWFyZ2luTGVmdCxjPSI0cHgiPT09ZC53aWR0aCxoLnN0eWxlLm1hcmdpblJpZ2h0PSI1MCUiLGU9IjRweCI9PT1kLm1hcmdpblJpZ2h0LEVhLnJlbW92ZUNoaWxkKGcpfW4uZXh0ZW5kKGwse3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gaSgpLGJ9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmkoKSxjfSxwaXhlbE1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmkoKSxlfSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaSgpLGZ9LHJlbGlhYmxlTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXt2YXIgYixjPWguYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7cmV0dXJuIGMuc3R5bGUuY3NzVGV4dD1oLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowIixjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9IjAiLGguc3R5bGUud2lkdGg9IjFweCIsRWEuYXBwZW5kQ2hpbGQoZyksYj0hcGFyc2VGbG9hdChhLmdldENvbXB1dGVkU3R5bGUoYykubWFyZ2luUmlnaHQpLEVhLnJlbW92ZUNoaWxkKGcpLGgucmVtb3ZlQ2hpbGQoYyksYn19KX19KCk7ZnVuY3Rpb24gRmEoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5zdHlsZTtyZXR1cm4gYz1jfHxDYShhKSxnPWM/Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdOnZvaWQgMCwiIiE9PWcmJnZvaWQgMCE9PWd8fG4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfHwoZz1uLnN0eWxlKGEsYikpLGMmJiFsLnBpeGVsTWFyZ2luUmlnaHQoKSYmQmEudGVzdChnKSYmQWEudGVzdChiKSYmKGQ9aC53aWR0aCxlPWgubWluV2lkdGgsZj1oLm1heFdpZHRoLGgubWluV2lkdGg9aC5tYXhXaWR0aD1oLndpZHRoPWcsZz1jLndpZHRoLGgud2lkdGg9ZCxoLm1pbldpZHRoPWUsaC5tYXhXaWR0aD1mKSx2b2lkIDAhPT1nP2crIiI6Z31mdW5jdGlvbiBHYShhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgpP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD1iKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX12YXIgSGE9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLElhPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxKYT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn0sS2E9WyJXZWJraXQiLCJPIiwiTW96IiwibXMiXSxMYT1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlO2Z1bmN0aW9uIE1hKGEpe2lmKGEgaW4gTGEpcmV0dXJuIGE7dmFyIGI9YVswXS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSksYz1LYS5sZW5ndGg7d2hpbGUoYy0tKWlmKGE9S2FbY10rYixhIGluIExhKXJldHVybiBhfWZ1bmN0aW9uIE5hKGEsYixjKXt2YXIgZD1ULmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzJdLShjfHwwKSkrKGRbM118fCJweCIpOmJ9ZnVuY3Rpb24gT2EoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkPyJib3JkZXIiOiJjb250ZW50Iik/NDoid2lkdGgiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKSJtYXJnaW4iPT09YyYmKGcrPW4uY3NzKGEsYytVW2ZdLCEwLGUpKSxkPygiY29udGVudCI9PT1jJiYoZy09bi5jc3MoYSwicGFkZGluZyIrVVtmXSwhMCxlKSksIm1hcmdpbiIhPT1jJiYoZy09bi5jc3MoYSwiYm9yZGVyIitVW2ZdKyJXaWR0aCIsITAsZSkpKTooZys9bi5jc3MoYSwicGFkZGluZyIrVVtmXSwhMCxlKSwicGFkZGluZyIhPT1jJiYoZys9bi5jc3MoYSwiYm9yZGVyIitVW2ZdKyJXaWR0aCIsITAsZSkpKTtyZXR1cm4gZ31mdW5jdGlvbiBQYShiLGMsZSl7dmFyIGY9ITAsZz0id2lkdGgiPT09Yz9iLm9mZnNldFdpZHRoOmIub2Zmc2V0SGVpZ2h0LGg9Q2EoYiksaT0iYm9yZGVyLWJveCI9PT1uLmNzcyhiLCJib3hTaXppbmciLCExLGgpO2lmKGQubXNGdWxsc2NyZWVuRWxlbWVudCYmYS50b3AhPT1hJiZiLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoZz1NYXRoLnJvdW5kKDEwMCpiLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2NdKSksMD49Z3x8bnVsbD09Zyl7aWYoZz1GYShiLGMsaCksKDA+Z3x8bnVsbD09ZykmJihnPWIuc3R5bGVbY10pLEJhLnRlc3QoZykpcmV0dXJuIGc7Zj1pJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxnPT09Yi5zdHlsZVtjXSksZz1wYXJzZUZsb2F0KGcpfHwwfXJldHVybiBnK09hKGIsYyxlfHwoaT8iYm9yZGVyIjoiY29udGVudCIpLGYsaCkrInB4In1mdW5jdGlvbiBRYShhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1OLmdldChkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlYoZCkmJihmW2ddPU4uYWNjZXNzKGQsIm9sZGRpc3BsYXkiLHphKGQubm9kZU5hbWUpKSkpOihlPVYoZCksIm5vbmUiPT09YyYmZXx8Ti5zZXQoZCwib2xkZGlzcGxheSIsZT9jOm4uY3NzKGQsImRpc3BsYXkiKSkpKTtmb3IoZz0wO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihiJiYibm9uZSIhPT1kLnN0eWxlLmRpc3BsYXkmJiIiIT09ZC5zdHlsZS5kaXNwbGF5fHwoZC5zdHlsZS5kaXNwbGF5PWI/ZltnXXx8IiI6Im5vbmUiKSk7cmV0dXJuIGF9bi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1GYShhLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1jPyIxIjpjfX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnsiZmxvYXQiOiJjc3NGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYiksaT1hLnN0eWxlO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPU1hKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiYiZ2V0ImluIGcmJnZvaWQgMCE9PShlPWcuZ2V0KGEsITEsZCkpP2U6aVtiXTooZj10eXBlb2YgYywic3RyaW5nIj09PWYmJihlPVQuZXhlYyhjKSkmJmVbMV0mJihjPVcoYSxiLGUpLGY9Im51bWJlciIpLG51bGwhPWMmJmM9PT1jJiYoIm51bWJlciI9PT1mJiYoYys9ZSYmZVszXXx8KG4uY3NzTnVtYmVyW2hdPyIiOiJweCIpKSxsLmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1jfHwwIT09Yi5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fChpW2JdPSJpbmhlcml0IiksZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpfHwoaVtiXT1jKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKTtyZXR1cm4gYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1NYShoKXx8aCksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLGcmJiJnZXQiaW4gZyYmKGU9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZSYmKGU9RmEoYSxiLGQpKSwibm9ybWFsIj09PWUmJmIgaW4gSmEmJihlPUphW2JdKSwiIj09PWN8fGM/KGY9cGFyc2VGbG9hdChlKSxjPT09ITB8fGlzRmluaXRlKGYpP2Z8fDA6ZSk6ZX19KSxuLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz9IYS50ZXN0KG4uY3NzKGEsImRpc3BsYXkiKSkmJjA9PT1hLm9mZnNldFdpZHRoP0RhKGEsSWEsZnVuY3Rpb24oKXtyZXR1cm4gUGEoYSxiLGQpfSk6UGEoYSxiLGQpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxmPWQmJkNhKGEpLGc9ZCYmT2EoYSxiLGQsImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxmKSxmKTtyZXR1cm4gZyYmKGU9VC5leGVjKGMpKSYmInB4IiE9PShlWzNdfHwicHgiKSYmKGEuc3R5bGVbYl09YyxjPW4uY3NzKGEsYikpLE5hKGEsYyxnKX19fSksbi5jc3NIb29rcy5tYXJnaW5MZWZ0PUdhKGwucmVsaWFibGVNYXJnaW5MZWZ0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/KHBhcnNlRmxvYXQoRmEoYSwibWFyZ2luTGVmdCIpKXx8YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LURhKGEse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCI6dm9pZCAwfSksbi5jc3NIb29rcy5tYXJnaW5SaWdodD1HYShsLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9EYShhLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSxGYSxbYSwibWFyZ2luUmlnaHQiXSk6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ND5kO2QrKyllW2ErVVtkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxBYS50ZXN0KGEpfHwobi5jc3NIb29rc1thK2JdLnNldD1OYSl9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihuLmlzQXJyYXkoYikpe2ZvcihkPUNhKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBRYSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBRYSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtWKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gUmEoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IFJhLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1SYSxSYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlJhLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fG4uZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPVJhLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpSYS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1SYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOlJhLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LFJhLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1SYS5wcm90b3R5cGUsUmEucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiAxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsIT1hLmVsZW1bYS5wcm9wXSYmbnVsbD09YS5lbGVtLnN0eWxlW2EucHJvcF0/YS5lbGVtW2EucHJvcF06KGI9bi5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6MSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbD09YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV0mJiFuLmNzc0hvb2tzW2EucHJvcF0/YS5lbGVtW2EucHJvcF09YS5ub3c6bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCl9fX0sUmEucHJvcEhvb2tzLnNjcm9sbFRvcD1SYS5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LG4uZng9UmEucHJvdG90eXBlLmluaXQsbi5meC5zdGVwPXt9O3ZhciBTYSxUYSxVYT0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sVmE9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBXYSgpe3JldHVybiBhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtTYT12b2lkIDB9KSxTYT1uLm5vdygpfWZ1bmN0aW9uIFhhKGEsYil7dmFyIGMsZD0wLGU9e2hlaWdodDphfTtmb3IoYj1iPzE6MDs0PmQ7ZCs9Mi1iKWM9VVtkXSxlWyJtYXJnaW4iK2NdPWVbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIFlhKGEsYixjKXtmb3IodmFyIGQsZT0oX2EudHdlZW5lcnNbYl18fFtdKS5jb25jYXQoX2EudHdlZW5lcnNbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gWmEoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbD10aGlzLG09e30sbz1hLnN0eWxlLHA9YS5ub2RlVHlwZSYmVihhKSxxPU4uZ2V0KGEsImZ4c2hvdyIpO2MucXVldWV8fChoPW4uX3F1ZXVlSG9va3MoYSwiZngiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxsLmFsd2F5cyhmdW5jdGlvbigpe2wuYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG4ucXVldWUoYSwiZngiKS5sZW5ndGh8fGguZW1wdHkuZmlyZSgpfSl9KSksMT09PWEubm9kZVR5cGUmJigiaGVpZ2h0ImluIGJ8fCJ3aWR0aCJpbiBiKSYmKGMub3ZlcmZsb3c9W28ub3ZlcmZsb3csby5vdmVyZmxvd1gsby5vdmVyZmxvd1ldLGo9bi5jc3MoYSwiZGlzcGxheSIpLGs9Im5vbmUiPT09aj9OLmdldChhLCJvbGRkaXNwbGF5Iil8fHphKGEubm9kZU5hbWUpOmosImlubGluZSI9PT1rJiYibm9uZSI9PT1uLmNzcyhhLCJmbG9hdCIpJiYoby5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksYy5vdmVyZmxvdyYmKG8ub3ZlcmZsb3c9ImhpZGRlbiIsbC5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLFVhLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocD8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXF8fHZvaWQgMD09PXFbZF0pY29udGludWU7cD0hMH1tW2RdPXEmJnFbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChtKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP3phKGEubm9kZU5hbWUpOmopJiYoby5kaXNwbGF5PWopO2Vsc2V7cT8iaGlkZGVuImluIHEmJihwPXEuaGlkZGVuKTpxPU4uYWNjZXNzKGEsImZ4c2hvdyIse30pLGYmJihxLmhpZGRlbj0hcCkscD9uKGEpLnNob3coKTpsLmRvbmUoZnVuY3Rpb24oKXtuKGEpLmhpZGUoKX0pLGwuZG9uZShmdW5jdGlvbigpe3ZhciBiO04ucmVtb3ZlKGEsImZ4c2hvdyIpO2ZvcihiIGluIG0pbi5zdHlsZShhLGIsbVtiXSl9KTtmb3IoZCBpbiBtKWc9WWEocD9xW2RdOjAsZCxsKSxkIGluIHF8fChxW2RdPWcuc3RhcnQscCYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD0id2lkdGgiPT09ZHx8ImhlaWdodCI9PT1kPzE6MCkpfX1mdW5jdGlvbiAkYShhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPW4uY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sbi5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1uLmNzc0hvb2tzW2RdLGcmJiJleHBhbmQiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIF9hKGEsYixjKXt2YXIgZCxlLGY9MCxnPV9hLnByZWZpbHRlcnMubGVuZ3RoLGg9bi5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9U2F8fFdhKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm4uZXh0ZW5kKHt9LGIpLG9wdHM6bi5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOm4uZWFzaW5nLl9kZWZhdWx0fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6U2F8fFdhKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiPyhoLm5vdGlmeVdpdGgoYSxbaiwxLDBdKSxoLnJlc29sdmVXaXRoKGEsW2osYl0pKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKCRhKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1fYS5wcmVmaWx0ZXJzW2ZdLmNhbGwoaixhLGssai5vcHRzKSlyZXR1cm4gbi5pc0Z1bmN0aW9uKGQuc3RvcCkmJihuLl9xdWV1ZUhvb2tzKGouZWxlbSxqLm9wdHMucXVldWUpLnN0b3A9bi5wcm94eShkLnN0b3AsZCkpLGQ7cmV0dXJuIG4ubWFwKGssWWEsaiksbi5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksbi5meC50aW1lcihuLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1uLkFuaW1hdGlvbj1uLmV4dGVuZChfYSx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYik7cmV0dXJuIFcoYy5lbGVtLGEsVC5leGVjKGIpLGMpLGN9XX0sdHdlZW5lcjpmdW5jdGlvbihhLGIpe24uaXNGdW5jdGlvbihhKT8oYj1hLGE9WyIqIl0pOmE9YS5tYXRjaChHKTtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljPWFbZF0sX2EudHdlZW5lcnNbY109X2EudHdlZW5lcnNbY118fFtdLF9hLnR3ZWVuZXJzW2NdLnVuc2hpZnQoYil9LHByZWZpbHRlcnM6W1phXSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiP19hLnByZWZpbHRlcnMudW5zaGlmdChhKTpfYS5wcmVmaWx0ZXJzLnB1c2goYSl9fSksbi5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmIm9iamVjdCI9PXR5cGVvZiBhP24uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFuLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW4uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBuLmZ4LnNwZWVkcz9uLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpuLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5xdWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9ImZ4IiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZuLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoVikuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bi5pc0VtcHR5T2JqZWN0KGEpLGY9bi5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPV9hKHRoaXMsbi5leHRlbmQoe30sYSksZik7KGV8fE4uZ2V0KHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErInF1ZXVlSG9va3MiLGY9bi50aW1lcnMsZz1OLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZWYS50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyhifHwhYykmJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1cm4gYSE9PSExJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPU4uZ2V0KHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoWGEoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOlhhKCJzaG93Iiksc2xpZGVVcDpYYSgiaGlkZSIpLHNsaWRlVG9nZ2xlOlhhKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1uLnRpbWVycztmb3IoU2E9bi5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxuLmZ4LnN0b3AoKSxTYT12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtUYXx8KFRhPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKFRhKSxUYT1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8ImZ4Iix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksYj1kLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGM9Yi5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTthLnR5cGU9ImNoZWNrYm94IixsLmNoZWNrT249IiIhPT1hLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxiLmRpc2FibGVkPSEwLGwub3B0RGlzYWJsZWQ9IWMuZGlzYWJsZWQsYT1kLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksYS52YWx1ZT0idCIsYS50eXBlPSJyYWRpbyIsbC5yYWRpb1ZhbHVlPSJ0Ij09PWEudmFsdWV9KCk7dmFyIGFiLGJiPW4uZXhwci5hdHRySGFuZGxlO24uZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxuLmF0dHIsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24ucmVtb3ZlQXR0cih0aGlzLGEpfSl9fSksbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKDMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBhLmdldEF0dHJpYnV0ZT9uLnByb3AoYSxiLGMpOigxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGU9bi5hdHRySG9va3NbYl18fChuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP2FiOnZvaWQgMCkpLHZvaWQgMCE9PWM/bnVsbD09PWM/dm9pZCBuLnJlbW92ZUF0dHIoYSxiKTplJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjKyIiKSxjKTplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOihkPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZD92b2lkIDA6ZCkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFsLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT1iJiZuLm5vZGVOYW1lKGEsImlucHV0Iikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEcpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZltlKytdKWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYykmJihhW2RdPSExKSxhLnJlbW92ZUF0dHJpYnV0ZShjKX19KSxhYj17c2V0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj09PSExP24ucmVtb3ZlQXR0cihhLGMpOmEuc2V0QXR0cmlidXRlKGMsYyksY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPWJiW2JdfHxuLmZpbmQuYXR0cjtiYltiXT1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZjtyZXR1cm4gZHx8KGY9YmJbYl0sYmJbYl09ZSxlPW51bGwhPWMoYSxiLGQpP2IudG9Mb3dlckNhc2UoKTpudWxsLGJiW2JdPWYpLGV9fSk7dmFyIGNiPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksZGI9L14oPzphfGFyZWEpJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW24ucHJvcEZpeFthXXx8YV19KX19KSxuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPW4ucHJvcEZpeFtiXXx8YiwKZT1uLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmImdldCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSwidGFiaW5kZXgiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTpjYi50ZXN0KGEubm9kZU5hbWUpfHxkYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KSxsLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH19KSxuLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe24ucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTt2YXIgZWI9L1tcdFxyXG5cZl0vZztmdW5jdGlvbiBmYihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1uLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaT0wO2lmKG4uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYixmYih0aGlzKSkpfSk7aWYoInN0cmluZyI9PXR5cGVvZiBhJiZhKXtiPWEubWF0Y2goRyl8fFtdO3doaWxlKGM9dGhpc1tpKytdKWlmKGU9ZmIoYyksZD0xPT09Yy5ub2RlVHlwZSYmKCIgIitlKyIgIikucmVwbGFjZShlYiwiICIpKXtnPTA7d2hpbGUoZj1iW2crK10pZC5pbmRleE9mKCIgIitmKyIgIik8MCYmKGQrPWYrIiAiKTtoPW4udHJpbShkKSxlIT09aCYmYy5zZXRBdHRyaWJ1dGUoImNsYXNzIixoKX19cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsZmIodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoInN0cmluZyI9PXR5cGVvZiBhJiZhKXtiPWEubWF0Y2goRyl8fFtdO3doaWxlKGM9dGhpc1tpKytdKWlmKGU9ZmIoYyksZD0xPT09Yy5ub2RlVHlwZSYmKCIgIitlKyIgIikucmVwbGFjZShlYiwiICIpKXtnPTA7d2hpbGUoZj1iW2crK10pd2hpbGUoZC5pbmRleE9mKCIgIitmKyIgIik+LTEpZD1kLnJlcGxhY2UoIiAiK2YrIiAiLCIgIik7aD1uLnRyaW0oZCksZSE9PWgmJmMuc2V0QXR0cmlidXRlKCJjbGFzcyIsaCl9fXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhO3JldHVybiJib29sZWFuIj09dHlwZW9mIGImJiJzdHJpbmciPT09Yz9iP3RoaXMuYWRkQ2xhc3MoYSk6dGhpcy5yZW1vdmVDbGFzcyhhKTpuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGMpe24odGhpcykudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyxmYih0aGlzKSxiKSxiKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiLGQsZSxmO2lmKCJzdHJpbmciPT09Yyl7ZD0wLGU9bih0aGlzKSxmPWEubWF0Y2goRyl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2Uodm9pZCAwPT09YXx8ImJvb2xlYW4iPT09YykmJihiPWZiKHRoaXMpLGImJk4uc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLGIpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGJ8fGE9PT0hMT8iIjpOLmdldCh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTA7Yj0iICIrYSsiICI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJigiICIrZmIoYykrIiAiKS5yZXBsYWNlKGViLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgZ2I9L1xyL2c7bi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW4uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxuKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT0iIjoibnVtYmVyIj09dHlwZW9mIGU/ZSs9IiI6bi5pc0FycmF5KGUpJiYoZT1uLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOmErIiJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYic2V0ImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSwidmFsdWUiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYiZ2V0ImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsInZhbHVlIikpP2M6KGM9ZS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKGdiLCIiKTpudWxsPT1jPyIiOmMpfX19KSxuLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBuLnRyaW0oYS52YWx1ZSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwoYy5zZWxlY3RlZHx8aT09PWUpJiYobC5vcHREaXNhYmxlZD8hYy5kaXNhYmxlZDpudWxsPT09Yy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IW4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0pZD1lW2ddLChkLnNlbGVjdGVkPW4uaW5BcnJheShuLnZhbEhvb2tzLm9wdGlvbi5nZXQoZCksZik+LTEpJiYoYz0hMCk7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGZ9fX19KSxuLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxsLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6YS52YWx1ZX0pfSk7dmFyIGhiPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLztuLmV4dGVuZChuLmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKGIsYyxlLGYpe3ZhciBnLGgsaSxqLGwsbSxvLHA9W2V8fGRdLHE9ay5jYWxsKGIsInR5cGUiKT9iLnR5cGU6YixyPWsuY2FsbChiLCJuYW1lc3BhY2UiKT9iLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKGg9aT1lPWV8fGQsMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiYhaGIudGVzdChxK24uZXZlbnQudHJpZ2dlcmVkKSYmKHEuaW5kZXhPZigiLiIpPi0xJiYocj1xLnNwbGl0KCIuIikscT1yLnNoaWZ0KCksci5zb3J0KCkpLGw9cS5pbmRleE9mKCI6Iik8MCYmIm9uIitxLGI9YltuLmV4cGFuZG9dP2I6bmV3IG4uRXZlbnQocSwib2JqZWN0Ij09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWY/MjozLGIubmFtZXNwYWNlPXIuam9pbigiLiIpLGIucm5hbWVzcGFjZT1iLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIityLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsYi5yZXN1bHQ9dm9pZCAwLGIudGFyZ2V0fHwoYi50YXJnZXQ9ZSksYz1udWxsPT1jP1tiXTpuLm1ha2VBcnJheShjLFtiXSksbz1uLmV2ZW50LnNwZWNpYWxbcV18fHt9LGZ8fCFvLnRyaWdnZXJ8fG8udHJpZ2dlci5hcHBseShlLGMpIT09ITEpKXtpZighZiYmIW8ubm9CdWJibGUmJiFuLmlzV2luZG93KGUpKXtmb3Ioaj1vLmRlbGVnYXRlVHlwZXx8cSxoYi50ZXN0KGorcSl8fChoPWgucGFyZW50Tm9kZSk7aDtoPWgucGFyZW50Tm9kZSlwLnB1c2goaCksaT1oO2k9PT0oZS5vd25lckRvY3VtZW50fHxkKSYmcC5wdXNoKGkuZGVmYXVsdFZpZXd8fGkucGFyZW50V2luZG93fHxhKX1nPTA7d2hpbGUoKGg9cFtnKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSliLnR5cGU9Zz4xP2o6by5iaW5kVHlwZXx8cSxtPShOLmdldChoLCJldmVudHMiKXx8e30pW2IudHlwZV0mJk4uZ2V0KGgsImhhbmRsZSIpLG0mJm0uYXBwbHkoaCxjKSxtPWwmJmhbbF0sbSYmbS5hcHBseSYmTChoKSYmKGIucmVzdWx0PW0uYXBwbHkoaCxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO3JldHVybiBiLnR5cGU9cSxmfHxiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxvLl9kZWZhdWx0JiZvLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYykhPT0hMXx8IUwoZSl8fGwmJm4uaXNGdW5jdGlvbihlW3FdKSYmIW4uaXNXaW5kb3coZSkmJihpPWVbbF0saSYmKGVbbF09bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cSxlW3FdKCksbi5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGkmJihlW2xdPWkpKSxiLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uLmV4dGVuZChuZXcgbi5FdmVudCxjLHt0eXBlOmEsaXNTaW11bGF0ZWQ6ITB9KTtuLmV2ZW50LnRyaWdnZXIoZCxudWxsLGIpLGQuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19KSxuLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1swXTtyZXR1cm4gYz9uLmV2ZW50LnRyaWdnZXIoYSxiLGMsITApOnZvaWQgMH19KSxuLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSksbC5mb2N1c2luPSJvbmZvY3VzaW4iaW4gYSxsLmZvY3VzaW58fG4uZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhKXtuLmV2ZW50LnNpbXVsYXRlKGIsYS50YXJnZXQsbi5ldmVudC5maXgoYSkpfTtuLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9Ti5hY2Nlc3MoZCxiKTtlfHxkLmFkZEV2ZW50TGlzdGVuZXIoYSxjLCEwKSxOLmFjY2VzcyhkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPU4uYWNjZXNzKGQsYiktMTtlP04uYWNjZXNzKGQsYixlKTooZC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYywhMCksTi5yZW1vdmUoZCxiKSl9fX0pO3ZhciBpYj1hLmxvY2F0aW9uLGpiPW4ubm93KCksa2I9L1w/LztuLnBhcnNlSlNPTj1mdW5jdGlvbihhKXtyZXR1cm4gSlNPTi5wYXJzZShhKyIiKX0sbi5wYXJzZVhNTD1mdW5jdGlvbihiKXt2YXIgYztpZighYnx8InN0cmluZyIhPXR5cGVvZiBiKXJldHVybiBudWxsO3RyeXtjPShuZXcgYS5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhiLCJ0ZXh0L3htbCIpfWNhdGNoKGQpe2M9dm9pZCAwfXJldHVybighY3x8Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpJiZuLmVycm9yKCJJbnZhbGlkIFhNTDogIitiKSxjfTt2YXIgbGI9LyMuKiQvLG1iPS8oWz8mXSlfPVteJl0qLyxuYj0vXiguKj8pOlsgXHRdKihbXlxyXG5dKikkL2dtLG9iPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLHBiPS9eKD86R0VUfEhFQUQpJC8scWI9L15cL1wvLyxyYj17fSxzYj17fSx0Yj0iKi8iLmNvbmNhdCgiKiIpLHViPWQuY3JlYXRlRWxlbWVudCgiYSIpO3ViLmhyZWY9aWIuaHJlZjtmdW5jdGlvbiB2YihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXsic3RyaW5nIiE9dHlwZW9mIGImJihjPWIsYj0iKiIpO3ZhciBkLGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8W107aWYobi5pc0Z1bmN0aW9uKGMpKXdoaWxlKGQ9ZltlKytdKSIrIj09PWRbMF0/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09c2I7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiB4YihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGMgaW4gYil2b2lkIDAhPT1iW2NdJiYoKGVbY10/YTpkfHwoZD17fSkpW2NdPWJbY10pO3JldHVybiBkJiZuLmV4dGVuZCghMCxhLGQpLGF9ZnVuY3Rpb24geWIoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihkKWZvcihlIGluIGgpaWYoaFtlXSYmaFtlXS50ZXN0KGQpKXtpLnVuc2hpZnQoZSk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGUgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tlKyIgIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gemIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6aWIuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6b2IudGVzdChpYi5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjp0Yix0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpuLnBhcnNlSlNPTiwidGV4dCB4bWwiOm4ucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe3JldHVybiBiP3hiKHhiKGEsbi5hamF4U2V0dGluZ3MpLGIpOnhiKG4uYWpheFNldHRpbmdzLGEpfSxhamF4UHJlZmlsdGVyOnZiKHJiKSxhamF4VHJhbnNwb3J0OnZiKHNiKSxhamF4OmZ1bmN0aW9uKGIsYyl7Im9iamVjdCI9PXR5cGVvZiBiJiYoYz1iLGI9dm9pZCAwKSxjPWN8fHt9O3ZhciBlLGYsZyxoLGksaixrLGwsbT1uLmFqYXhTZXR1cCh7fSxjKSxvPW0uY29udGV4dHx8bSxwPW0uY29udGV4dCYmKG8ubm9kZVR5cGV8fG8uanF1ZXJ5KT9uKG8pOm4uZXZlbnQscT1uLkRlZmVycmVkKCkscj1uLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxzPW0uc3RhdHVzQ29kZXx8e30sdD17fSx1PXt9LHY9MCx3PSJjYW5jZWxlZCIseD17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKDI9PT12KXtpZighaCl7aD17fTt3aGlsZShiPW5iLmV4ZWMoZykpaFtiWzFdLnRvTG93ZXJDYXNlKCldPWJbMl19Yj1oW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWI/bnVsbDpifSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXY/ZzpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO3JldHVybiB2fHwoYT11W2NdPXVbY118fGEsdFthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB2fHwobS5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoMj52KWZvcihiIGluIGEpc1tiXT1bc1tiXSxhW2JdXTtlbHNlIHguYWx3YXlzKGFbeC5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YXx8dztyZXR1cm4gZSYmZS5hYm9ydChiKSx6KDAsYiksdGhpc319O2lmKHEucHJvbWlzZSh4KS5jb21wbGV0ZT1yLmFkZCx4LnN1Y2Nlc3M9eC5kb25lLHguZXJyb3I9eC5mYWlsLG0udXJsPSgoYnx8bS51cmx8fGliLmhyZWYpKyIiKS5yZXBsYWNlKGxiLCIiKS5yZXBsYWNlKHFiLGliLnByb3RvY29sKyIvLyIpLG0udHlwZT1jLm1ldGhvZHx8Yy50eXBlfHxtLm1ldGhvZHx8bS50eXBlLG0uZGF0YVR5cGVzPW4udHJpbShtLmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2goRyl8fFsiIl0sbnVsbD09bS5jcm9zc0RvbWFpbil7aj1kLmNyZWF0ZUVsZW1lbnQoImEiKTt0cnl7ai5ocmVmPW0udXJsLGouaHJlZj1qLmhyZWYsbS5jcm9zc0RvbWFpbj11Yi5wcm90b2NvbCsiLy8iK3ViLmhvc3QhPWoucHJvdG9jb2wrIi8vIitqLmhvc3R9Y2F0Y2goeSl7bS5jcm9zc0RvbWFpbj0hMH19aWYobS5kYXRhJiZtLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIG0uZGF0YSYmKG0uZGF0YT1uLnBhcmFtKG0uZGF0YSxtLnRyYWRpdGlvbmFsKSksd2IocmIsbSxjLHgpLDI9PT12KXJldHVybiB4O2s9bi5ldmVudCYmbS5nbG9iYWwsayYmMD09PW4uYWN0aXZlKysmJm4uZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0IiksbS50eXBlPW0udHlwZS50b1VwcGVyQ2FzZSgpLG0uaGFzQ29udGVudD0hcGIudGVzdChtLnR5cGUpLGY9bS51cmwsbS5oYXNDb250ZW50fHwobS5kYXRhJiYoZj1tLnVybCs9KGtiLnRlc3QoZik/IiYiOiI/IikrbS5kYXRhLGRlbGV0ZSBtLmRhdGEpLG0uY2FjaGU9PT0hMSYmKG0udXJsPW1iLnRlc3QoZik/Zi5yZXBsYWNlKG1iLCIkMV89IitqYisrKTpmKyhrYi50ZXN0KGYpPyImIjoiPyIpKyJfPSIramIrKykpLG0uaWZNb2RpZmllZCYmKG4ubGFzdE1vZGlmaWVkW2ZdJiZ4LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixuLmxhc3RNb2RpZmllZFtmXSksbi5ldGFnW2ZdJiZ4LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLG4uZXRhZ1tmXSkpLChtLmRhdGEmJm0uaGFzQ29udGVudCYmbS5jb250ZW50VHlwZSE9PSExfHxjLmNvbnRlbnRUeXBlKSYmeC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLG0uY29udGVudFR5cGUpLHguc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixtLmRhdGFUeXBlc1swXSYmbS5hY2NlcHRzW20uZGF0YVR5cGVzWzBdXT9tLmFjY2VwdHNbbS5kYXRhVHlwZXNbMF1dKygiKiIhPT1tLmRhdGFUeXBlc1swXT8iLCAiK3RiKyI7IHE9MC4wMSI6IiIpOm0uYWNjZXB0c1siKiJdKTtmb3IobCBpbiBtLmhlYWRlcnMpeC5zZXRSZXF1ZXN0SGVhZGVyKGwsbS5oZWFkZXJzW2xdKTtpZihtLmJlZm9yZVNlbmQmJihtLmJlZm9yZVNlbmQuY2FsbChvLHgsbSk9PT0hMXx8Mj09PXYpKXJldHVybiB4LmFib3J0KCk7dz0iYWJvcnQiO2ZvcihsIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXhbbF0obVtsXSk7aWYoZT13YihzYixtLGMseCkpe2lmKHgucmVhZHlTdGF0ZT0xLGsmJnAudHJpZ2dlcigiYWpheFNlbmQiLFt4LG1dKSwyPT09dilyZXR1cm4geDttLmFzeW5jJiZtLnRpbWVvdXQ+MCYmKGk9YS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eC5hYm9ydCgidGltZW91dCIpfSxtLnRpbWVvdXQpKTt0cnl7dj0xLGUuc2VuZCh0LHopfWNhdGNoKHkpe2lmKCEoMj52KSl0aHJvdyB5O3ooLTEseSl9fWVsc2UgeigtMSwiTm8gVHJhbnNwb3J0Iik7ZnVuY3Rpb24geihiLGMsZCxoKXt2YXIgaixsLHQsdSx3LHk9YzsyIT09diYmKHY9MixpJiZhLmNsZWFyVGltZW91dChpKSxlPXZvaWQgMCxnPWh8fCIiLHgucmVhZHlTdGF0ZT1iPjA/NDowLGo9Yj49MjAwJiYzMDA+Ynx8MzA0PT09YixkJiYodT15YihtLHgsZCkpLHU9emIobSx1LHgsaiksaj8obS5pZk1vZGlmaWVkJiYodz14LmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksdyYmKG4ubGFzdE1vZGlmaWVkW2ZdPXcpLHc9eC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpLHcmJihuLmV0YWdbZl09dykpLDIwND09PWJ8fCJIRUFEIj09PW0udHlwZT95PSJub2NvbnRlbnQiOjMwND09PWI/eT0ibm90bW9kaWZpZWQiOih5PXUuc3RhdGUsbD11LmRhdGEsdD11LmVycm9yLGo9IXQpKToodD15LChifHwheSkmJih5PSJlcnJvciIsMD5iJiYoYj0wKSkpLHguc3RhdHVzPWIseC5zdGF0dXNUZXh0PShjfHx5KSsiIixqP3EucmVzb2x2ZVdpdGgobyxbbCx5LHhdKTpxLnJlamVjdFdpdGgobyxbeCx5LHRdKSx4LnN0YXR1c0NvZGUocykscz12b2lkIDAsayYmcC50cmlnZ2VyKGo/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbeCxtLGo/bDp0XSksci5maXJlV2l0aChvLFt4LHldKSxrJiYocC50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFt4LG1dKSwtLW4uYWN0aXZlfHxuLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4geH0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZ2V0KGEsYixjLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmdldChhLHZvaWQgMCxiLCJzY3JpcHQiKX19KSxuLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYSxiKXtuW2JdPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBuLmlzRnVuY3Rpb24oYykmJihlPWV8fGQsZD1jLGM9dm9pZCAwKSxuLmFqYXgobi5leHRlbmQoe3VybDphLHR5cGU6YixkYXRhVHlwZTplLGRhdGE6YyxzdWNjZXNzOmR9LG4uaXNQbGFpbk9iamVjdChhKSYmYSkpfX0pLG4uX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uYWpheCh7dXJsOmEsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX0sbi5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG4uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pOih0aGlzWzBdJiYoYj1uKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKSxiLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXM7d2hpbGUoYS5maXJzdEVsZW1lbnRDaGlsZClhPWEuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcykpLHRoaXMpfSx3cmFwSW5uZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS53cmFwSW5uZXIoYS5jYWxsKHRoaXMsYikpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9bih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1uLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7bi5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fG4odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG4uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMudmlzaWJsZShhKX0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aD4wfHxhLm9mZnNldEhlaWdodD4wfHxhLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPjB9O3ZhciBBYj0vJTIwL2csQmI9L1xbXF0kLyxDYj0vXHI/XG4vZyxEYj0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksRWI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEZiKGEsYixjLGQpe3ZhciBlO2lmKG4uaXNBcnJheShiKSluLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fEJiLnRlc3QoYSk/ZChhLGUpOkZiKGErIlsiKygib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPWU/YjoiIikrIl0iLGUsYyxkKX0pO2Vsc2UgaWYoY3x8Im9iamVjdCIhPT1uLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilGYihhKyJbIitlKyJdIixiW2VdLGMsZCl9bi5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe2I9bi5pc0Z1bmN0aW9uKGIpP2IoKTpudWxsPT1iPyIiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2lmKHZvaWQgMD09PWImJihiPW4uYWpheFNldHRpbmdzJiZuLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksbi5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIW4uaXNQbGFpbk9iamVjdChhKSluLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKUZiKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKEFiLCIrIil9LG4uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW4ucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBhP24ubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIW4odGhpcykuaXMoIjpkaXNhYmxlZCIpJiZFYi50ZXN0KHRoaXMubm9kZU5hbWUpJiYhRGIudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IVgudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1uKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6bi5pc0FycmF5KGMpP24ubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZShDYiwiXHJcbiIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoQ2IsIlxyXG4iKX19KS5nZXQoKX19KSxuLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319O3ZhciBHYj17MDoyMDAsMTIyMzoyMDR9LEhiPW4uYWpheFNldHRpbmdzLnhocigpO2wuY29ycz0hIUhiJiYid2l0aENyZWRlbnRpYWxzImluIEhiLGwuYWpheD1IYj0hIUhiLG4uYWpheFRyYW5zcG9ydChmdW5jdGlvbihiKXt2YXIgYyxkO3JldHVybiBsLmNvcnN8fEhiJiYhYi5jcm9zc0RvbWFpbj97c2VuZDpmdW5jdGlvbihlLGYpe3ZhciBnLGg9Yi54aHIoKTtpZihoLm9wZW4oYi50eXBlLGIudXJsLGIuYXN5bmMsYi51c2VybmFtZSxiLnBhc3N3b3JkKSxiLnhockZpZWxkcylmb3IoZyBpbiBiLnhockZpZWxkcyloW2ddPWIueGhyRmllbGRzW2ddO2IubWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlKGIubWltZVR5cGUpLGIuY3Jvc3NEb21haW58fGVbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGVbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZyBpbiBlKWguc2V0UmVxdWVzdEhlYWRlcihnLGVbZ10pO2M9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7YyYmKGM9ZD1oLm9ubG9hZD1oLm9uZXJyb3I9aC5vbmFib3J0PWgub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsImFib3J0Ij09PWE/aC5hYm9ydCgpOiJlcnJvciI9PT1hPyJudW1iZXIiIT10eXBlb2YgaC5zdGF0dXM/ZigwLCJlcnJvciIpOmYoaC5zdGF0dXMsaC5zdGF0dXNUZXh0KTpmKEdiW2guc3RhdHVzXXx8aC5zdGF0dXMsaC5zdGF0dXNUZXh0LCJ0ZXh0IiE9PShoLnJlc3BvbnNlVHlwZXx8InRleHQiKXx8InN0cmluZyIhPXR5cGVvZiBoLnJlc3BvbnNlVGV4dD97YmluYXJ5OmgucmVzcG9uc2V9Ont0ZXh0OmgucmVzcG9uc2VUZXh0fSxoLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxoLm9ubG9hZD1jKCksZD1oLm9uZXJyb3I9YygiZXJyb3IiKSx2b2lkIDAhPT1oLm9uYWJvcnQ/aC5vbmFib3J0PWQ6aC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09aC5yZWFkeVN0YXRlJiZhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjJiZkKCl9KX0sYz1jKCJhYm9ydCIpO3RyeXtoLnNlbmQoYi5oYXNDb250ZW50JiZiLmRhdGF8fG51bGwpfWNhdGNoKGkpe2lmKGMpdGhyb3cgaX19LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX06dm9pZCAwfSksbi5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9cYig/OmphdmF8ZWNtYSlzY3JpcHRcYi99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ2xvYmFsRXZhbChhKSxhfX19KSxuLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oYSl7dm9pZCAwPT09YS5jYWNoZSYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9IkdFVCIpfSksbi5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKGEpe2lmKGEuY3Jvc3NEb21haW4pe3ZhciBiLGM7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxmKXtiPW4oIjxzY3JpcHQ+IikucHJvcCh7Y2hhcnNldDphLnNjcmlwdENoYXJzZXQsc3JjOmEudXJsfSkub24oImxvYWQgZXJyb3IiLGM9ZnVuY3Rpb24oYSl7Yi5yZW1vdmUoKSxjPW51bGwsYSYmZigiZXJyb3IiPT09YS50eXBlPzQwNDoyMDAsYS50eXBlKX0pLGQuaGVhZC5hcHBlbmRDaGlsZChiWzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fX19KTt2YXIgSWI9W10sSmI9Lyg9KVw/KD89JnwkKXxcP1w/LztuLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9SWIucG9wKCl8fG4uZXhwYW5kbysiXyIramIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKEpiLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmSmIudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKEpiLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShrYi50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1mP24oYSkucmVtb3ZlUHJvcChlKTphW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssSWIucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbC5jcmVhdGVIVE1MRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT1kLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikuYm9keTtyZXR1cm4gYS5pbm5lckhUTUw9Ijxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IiwyPT09YS5jaGlsZE5vZGVzLmxlbmd0aH0oKSxuLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gbnVsbDsiYm9vbGVhbiI9PXR5cGVvZiBiJiYoYz1iLGI9ITEpLGI9Ynx8KGwuY3JlYXRlSFRNTERvY3VtZW50P2QuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTpkKTt2YXIgZT14LmV4ZWMoYSksZj0hYyYmW107cmV0dXJuIGU/W2IuY3JlYXRlRWxlbWVudChlWzFdKV06KGU9Y2EoW2FdLGIsZiksZiYmZi5sZW5ndGgmJm4oZikucmVtb3ZlKCksbi5tZXJnZShbXSxlLmNoaWxkTm9kZXMpKX07dmFyIEtiPW4uZm4ubG9hZDtuLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJzdHJpbmciIT10eXBlb2YgYSYmS2IpcmV0dXJuIEtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZCxlLGYsZz10aGlzLGg9YS5pbmRleE9mKCIgIik7cmV0dXJuIGg+LTEmJihkPW4udHJpbShhLnNsaWNlKGgpKSxhPWEuc2xpY2UoMCxoKSksbi5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJiJvYmplY3QiPT10eXBlb2YgYiYmKGU9IlBPU1QiKSxnLmxlbmd0aD4wJiZuLmFqYXgoe3VybDphLHR5cGU6ZXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6Yn0pLmRvbmUoZnVuY3Rpb24oYSl7Zj1hcmd1bWVudHMsZy5odG1sKGQ/bigiPGRpdj4iKS5hcHBlbmQobi5wYXJzZUhUTUwoYSkpLmZpbmQoZCk6YSl9KS5hbHdheXMoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goZnVuY3Rpb24oKXtjLmFwcGx5KGcsZnx8W2EucmVzcG9uc2VUZXh0LGIsYV0pfSl9KSx0aGlzfSxuLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxuLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbi5ncmVwKG4udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTtmdW5jdGlvbiBMYihhKXtyZXR1cm4gbi5pc1dpbmRvdyhhKT9hOjk9PT1hLm5vZGVUeXBlJiZhLmRlZmF1bHRWaWV3fW4ub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9bi5jc3MoYSwicG9zaXRpb24iKSxsPW4oYSksbT17fTsic3RhdGljIj09PWsmJihhLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLGg9bC5vZmZzZXQoKSxmPW4uY3NzKGEsInRvcCIpLGk9bi5jc3MoYSwibGVmdCIpLGo9KCJhYnNvbHV0ZSI9PT1rfHwiZml4ZWQiPT09aykmJihmK2kpLmluZGV4T2YoImF1dG8iKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLG4uZXh0ZW5kKHt9LGgpKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXRoaXNbMF0sZT17dG9wOjAsbGVmdDowfSxmPWQmJmQub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixkKT8oZT1kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGM9TGIoZikse3RvcDplLnRvcCtjLnBhZ2VZT2Zmc2V0LWIuY2xpZW50VG9wLGxlZnQ6ZS5sZWZ0K2MucGFnZVhPZmZzZXQtYi5jbGllbnRMZWZ0fSk6ZX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYSxiLGM9dGhpc1swXSxkPXt0b3A6MCxsZWZ0OjB9O3JldHVybiJmaXhlZCI9PT1uLmNzcyhjLCJwb3NpdGlvbiIpP2I9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYT10aGlzLm9mZnNldFBhcmVudCgpLGI9dGhpcy5vZmZzZXQoKSxuLm5vZGVOYW1lKGFbMF0sImh0bWwiKXx8KGQ9YS5vZmZzZXQoKSksZC50b3ArPW4uY3NzKGFbMF0sImJvcmRlclRvcFdpZHRoIiwhMCksZC5sZWZ0Kz1uLmNzcyhhWzBdLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSkse3RvcDpiLnRvcC1kLnRvcC1uLmNzcyhjLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OmIubGVmdC1kLmxlZnQtbi5jc3MoYywibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGEmJiJzdGF0aWMiPT09bi5jc3MoYSwicG9zaXRpb24iKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxFYX0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPSJwYWdlWU9mZnNldCI9PT1iO24uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9TGIoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9mW2JdOmFbZF06dm9pZChmP2Yuc2Nyb2xsVG8oYz9mLnBhZ2VYT2Zmc2V0OmUsYz9lOmYucGFnZVlPZmZzZXQpOmFbZF09ZSl9LGEsZCxhcmd1bWVudHMubGVuZ3RoKX19KSxuLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPUdhKGwucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihhLGMpe3JldHVybiBjPyhjPUZhKGEsYiksQmEudGVzdChjKT9uKGEpLnBvc2l0aW9uKClbYl0rInB4IjpjKTp2b2lkIDB9KX0pLG4uZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEsYil7bi5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OmIsIiI6Im91dGVyIithfSxmdW5jdGlvbihjLGQpe24uZm5bZF09ZnVuY3Rpb24oZCxlKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoJiYoY3x8ImJvb2xlYW4iIT10eXBlb2YgZCksZz1jfHwoZD09PSEwfHxlPT09ITA/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiBuLmlzV2luZG93KGIpP2IuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1iLm5vZGVUeXBlPyhlPWIuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGIuYm9keVsic2Nyb2xsIithXSxlWyJzY3JvbGwiK2FdLGIuYm9keVsib2Zmc2V0IithXSxlWyJvZmZzZXQiK2FdLGVbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1kP24uY3NzKGIsYyxnKTpuLnN0eWxlKGIsYyxkLGcpfSxiLGY/ZDp2b2lkIDAsZixudWxsKX19KX0pLG4uZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihhLCIqKiIpOnRoaXMub2ZmKGIsYXx8IioqIixjKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH19KSxuLmZuLmFuZFNlbGY9bi5mbi5hZGRCYWNrLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIE1iPWEualF1ZXJ5LE5iPWEuJDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1uJiYoYS4kPU5iKSxiJiZhLmpRdWVyeT09PW4mJihhLmpRdWVyeT1NYiksbn0sYnx8KGEualF1ZXJ5PWEuJD1uKSxufSk7Cg=="></script>
<script src="data:application/x-javascript;base64,LyoganF1ZXJ5LnNwYXJrbGluZSAyLjEuMiAtIGh0dHA6Ly9vbW5pcG90ZW50Lm5ldC9qcXVlcnkuc3BhcmtsaW5lLyAKKiogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZSAtIHNlZSBhYm92ZSBzaXRlIGZvciBkZXRhaWxzICovCgooZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhKXt0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGEpOmpRdWVyeSYmIWpRdWVyeS5mbi5zcGFya2xpbmUmJmEoalF1ZXJ5KX0pKGZ1bmN0aW9uKGQpeyJ1c2Ugc3RyaWN0Ijt2YXIgZT17fSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdyx4LHkseixBLEIsQyxELEUsRixHLEgsSSxKLEssTD0wO2Y9ZnVuY3Rpb24oKXtyZXR1cm57Y29tbW9uOnt0eXBlOiJsaW5lIixsaW5lQ29sb3I6IiMwMGYiLGZpbGxDb2xvcjoiI2NkZiIsZGVmYXVsdFBpeGVsc1BlclZhbHVlOjMsd2lkdGg6ImF1dG8iLGhlaWdodDoiYXV0byIsY29tcG9zaXRlOiExLHRhZ1ZhbHVlc0F0dHJpYnV0ZToidmFsdWVzIix0YWdPcHRpb25zUHJlZml4OiJzcGFyayIsZW5hYmxlVGFnT3B0aW9uczohMSxlbmFibGVIaWdobGlnaHQ6ITAsaGlnaGxpZ2h0TGlnaHRlbjoxLjQsdG9vbHRpcFNraXBOdWxsOiEwLHRvb2x0aXBQcmVmaXg6IiIsdG9vbHRpcFN1ZmZpeDoiIixkaXNhYmxlSGlkZGVuQ2hlY2s6ITEsbnVtYmVyRm9ybWF0dGVyOiExLG51bWJlckRpZ2l0R3JvdXBDb3VudDozLG51bWJlckRpZ2l0R3JvdXBTZXA6IiwiLG51bWJlckRlY2ltYWxNYXJrOiIuIixkaXNhYmxlVG9vbHRpcHM6ITEsZGlzYWJsZUludGVyYWN0aW9uOiExfSxsaW5lOntzcG90Q29sb3I6IiNmODAiLGhpZ2hsaWdodFNwb3RDb2xvcjoiIzVmNSIsaGlnaGxpZ2h0TGluZUNvbG9yOiIjZjIyIixzcG90UmFkaXVzOjEuNSxtaW5TcG90Q29sb3I6IiNmODAiLG1heFNwb3RDb2xvcjoiI2Y4MCIsbGluZVdpZHRoOjEsbm9ybWFsUmFuZ2VNaW46Yyxub3JtYWxSYW5nZU1heDpjLG5vcm1hbFJhbmdlQ29sb3I6IiNjY2MiLGRyYXdOb3JtYWxPblRvcDohMSxjaGFydFJhbmdlTWluOmMsY2hhcnRSYW5nZU1heDpjLGNoYXJ0UmFuZ2VNaW5YOmMsY2hhcnRSYW5nZU1heFg6Yyx0b29sdGlwRm9ybWF0Om5ldyBoKCc8c3BhbiBzdHlsZT0iY29sb3I6IHt7Y29sb3J9fSI+JiM5Njc5Ozwvc3Bhbj4ge3twcmVmaXh9fXt7eX19e3tzdWZmaXh9fScpfSxiYXI6e2JhckNvbG9yOiIjMzM2NmNjIixuZWdCYXJDb2xvcjoiI2Y0NCIsc3RhY2tlZEJhckNvbG9yOlsiIzMzNjZjYyIsIiNkYzM5MTIiLCIjZmY5OTAwIiwiIzEwOTYxOCIsIiM2NmFhMDAiLCIjZGQ0NDc3IiwiIzAwOTljNiIsIiM5OTAwOTkiXSx6ZXJvQ29sb3I6YyxudWxsQ29sb3I6Yyx6ZXJvQXhpczohMCxiYXJXaWR0aDo0LGJhclNwYWNpbmc6MSxjaGFydFJhbmdlTWF4OmMsY2hhcnRSYW5nZU1pbjpjLGNoYXJ0UmFuZ2VDbGlwOiExLGNvbG9yTWFwOmMsdG9vbHRpcEZvcm1hdDpuZXcgaCgnPHNwYW4gc3R5bGU9ImNvbG9yOiB7e2NvbG9yfX0iPiYjOTY3OTs8L3NwYW4+IHt7cHJlZml4fX17e3ZhbHVlfX17e3N1ZmZpeH19Jyl9LHRyaXN0YXRlOntiYXJXaWR0aDo0LGJhclNwYWNpbmc6MSxwb3NCYXJDb2xvcjoiIzZmNiIsbmVnQmFyQ29sb3I6IiNmNDQiLHplcm9CYXJDb2xvcjoiIzk5OSIsY29sb3JNYXA6e30sdG9vbHRpcEZvcm1hdDpuZXcgaCgnPHNwYW4gc3R5bGU9ImNvbG9yOiB7e2NvbG9yfX0iPiYjOTY3OTs8L3NwYW4+IHt7dmFsdWU6bWFwfX0nKSx0b29sdGlwVmFsdWVMb29rdXBzOnttYXA6eyItMSI6Ikxvc3MiLDA6IkRyYXciLDE6IldpbiJ9fX0sZGlzY3JldGU6e2xpbmVIZWlnaHQ6ImF1dG8iLHRocmVzaG9sZENvbG9yOmMsdGhyZXNob2xkVmFsdWU6MCxjaGFydFJhbmdlTWF4OmMsY2hhcnRSYW5nZU1pbjpjLGNoYXJ0UmFuZ2VDbGlwOiExLHRvb2x0aXBGb3JtYXQ6bmV3IGgoInt7cHJlZml4fX17e3ZhbHVlfX17e3N1ZmZpeH19Iil9LGJ1bGxldDp7dGFyZ2V0Q29sb3I6IiNmMzMiLHRhcmdldFdpZHRoOjMscGVyZm9ybWFuY2VDb2xvcjoiIzMzZiIscmFuZ2VDb2xvcnM6WyIjZDNkYWZlIiwiI2E4YjZmZiIsIiM3Zjk0ZmYiXSxiYXNlOmMsdG9vbHRpcEZvcm1hdDpuZXcgaCgie3tmaWVsZGtleTpmaWVsZHN9fSAtIHt7dmFsdWV9fSIpLHRvb2x0aXBWYWx1ZUxvb2t1cHM6e2ZpZWxkczp7cjoiUmFuZ2UiLHA6IlBlcmZvcm1hbmNlIix0OiJUYXJnZXQifX19LHBpZTp7b2Zmc2V0OjAsc2xpY2VDb2xvcnM6WyIjMzM2NmNjIiwiI2RjMzkxMiIsIiNmZjk5MDAiLCIjMTA5NjE4IiwiIzY2YWEwMCIsIiNkZDQ0NzciLCIjMDA5OWM2IiwiIzk5MDA5OSJdLGJvcmRlcldpZHRoOjAsYm9yZGVyQ29sb3I6IiMwMDAiLHRvb2x0aXBGb3JtYXQ6bmV3IGgoJzxzcGFuIHN0eWxlPSJjb2xvcjoge3tjb2xvcn19Ij4mIzk2Nzk7PC9zcGFuPiB7e3ZhbHVlfX0gKHt7cGVyY2VudC4xfX0lKScpfSxib3g6e3JhdzohMSxib3hMaW5lQ29sb3I6IiMwMDAiLGJveEZpbGxDb2xvcjoiI2NkZiIsd2hpc2tlckNvbG9yOiIjMDAwIixvdXRsaWVyTGluZUNvbG9yOiIjMzMzIixvdXRsaWVyRmlsbENvbG9yOiIjZmZmIixtZWRpYW5Db2xvcjoiI2YwMCIsc2hvd091dGxpZXJzOiEwLG91dGxpZXJJUVI6MS41LHNwb3RSYWRpdXM6MS41LHRhcmdldDpjLHRhcmdldENvbG9yOiIjNGEyIixjaGFydFJhbmdlTWF4OmMsY2hhcnRSYW5nZU1pbjpjLHRvb2x0aXBGb3JtYXQ6bmV3IGgoInt7ZmllbGQ6ZmllbGRzfX06IHt7dmFsdWV9fSIpLHRvb2x0aXBGb3JtYXRGaWVsZGxpc3RLZXk6ImZpZWxkIix0b29sdGlwVmFsdWVMb29rdXBzOntmaWVsZHM6e2xxOiJMb3dlciBRdWFydGlsZSIsbWVkOiJNZWRpYW4iLHVxOiJVcHBlciBRdWFydGlsZSIsbG86IkxlZnQgT3V0bGllciIscm86IlJpZ2h0IE91dGxpZXIiLGx3OiJMZWZ0IFdoaXNrZXIiLHJ3OiJSaWdodCBXaGlza2VyIn19fX19LEU9Jy5qcXN0b29sdGlwIHsgcG9zaXRpb246IGFic29sdXRlO2xlZnQ6IDBweDt0b3A6IDBweDt2aXNpYmlsaXR5OiBoaWRkZW47YmFja2dyb3VuZDogcmdiKDAsIDAsIDApIHRyYW5zcGFyZW50O2JhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC42KTtmaWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9Izk5MDAwMDAwLCBlbmRDb2xvcnN0cj0jOTkwMDAwMDApOy1tcy1maWx0ZXI6ICJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0jOTkwMDAwMDAsIGVuZENvbG9yc3RyPSM5OTAwMDAwMCkiO2NvbG9yOiB3aGl0ZTtmb250OiAxMHB4IGFyaWFsLCBzYW4gc2VyaWY7dGV4dC1hbGlnbjogbGVmdDt3aGl0ZS1zcGFjZTogbm93cmFwO3BhZGRpbmc6IDVweDtib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTt6LWluZGV4OiAxMDAwMDt9Lmpxc2ZpZWxkIHsgY29sb3I6IHdoaXRlO2ZvbnQ6IDEwcHggYXJpYWwsIHNhbiBzZXJpZjt0ZXh0LWFsaWduOiBsZWZ0O30nLGc9ZnVuY3Rpb24oKXt2YXIgYSxiO3JldHVybiBhPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYXJndW1lbnRzLmxlbmd0aD4xPyhhcmd1bWVudHNbMF0/KGEucHJvdG90eXBlPWQuZXh0ZW5kKG5ldyBhcmd1bWVudHNbMF0sYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMV0pLGEuX3N1cGVyPWFyZ3VtZW50c1swXS5wcm90b3R5cGUpOmEucHJvdG90eXBlPWFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTFdLGFyZ3VtZW50cy5sZW5ndGg+MiYmKGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEsLTEpLGIudW5zaGlmdChhLnByb3RvdHlwZSksZC5leHRlbmQuYXBwbHkoZCxiKSkpOmEucHJvdG90eXBlPWFyZ3VtZW50c1swXSxhLnByb3RvdHlwZS5jbHM9YSxhfSxkLlNQRm9ybWF0Q2xhc3M9aD1nKHtmcmU6L1x7XHsoW1x3Ll0rPykoOiguKz8pKT9cfVx9L2cscHJlY3JlOi8oXHcrKVwuKFxkKykvLGluaXQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmZvcm1hdD1hLHRoaXMuZmNsYXNzPWJ9LHJlbmRlcjpmdW5jdGlvbihhLGIsZCl7dmFyIGU9dGhpcyxmPWEsZyxoLGksaixrO3JldHVybiB0aGlzLmZvcm1hdC5yZXBsYWNlKHRoaXMuZnJlLGZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGg9YXJndW1lbnRzWzFdLGk9YXJndW1lbnRzWzNdLGc9ZS5wcmVjcmUuZXhlYyhoKSxnPyhrPWdbMl0saD1nWzFdKTprPSExLGo9ZltoXSxqPT09Yz8iIjppJiZiJiZiW2ldPyhhPWJbaV0sYS5nZXQ/YltpXS5nZXQoail8fGo6YltpXVtqXXx8aik6KG4oaikmJihkLmdldCgibnVtYmVyRm9ybWF0dGVyIik/aj1kLmdldCgibnVtYmVyRm9ybWF0dGVyIikoaik6aj1zKGosayxkLmdldCgibnVtYmVyRGlnaXRHcm91cENvdW50IiksZC5nZXQoIm51bWJlckRpZ2l0R3JvdXBTZXAiKSxkLmdldCgibnVtYmVyRGVjaW1hbE1hcmsiKSkpLGopfSl9fSksZC5zcGZvcm1hdD1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgaChhLGIpfSxpPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYTxiP2I6YT5jP2M6YX0saj1mdW5jdGlvbihhLGMpe3ZhciBkO3JldHVybiBjPT09Mj8oZD1iLmZsb29yKGEubGVuZ3RoLzIpLGEubGVuZ3RoJTI/YVtkXTooYVtkLTFdK2FbZF0pLzIpOmEubGVuZ3RoJTI/KGQ9KGEubGVuZ3RoKmMrYykvNCxkJTE/KGFbYi5mbG9vcihkKV0rYVtiLmZsb29yKGQpLTFdKS8yOmFbZC0xXSk6KGQ9KGEubGVuZ3RoKmMrMikvNCxkJTE/KGFbYi5mbG9vcihkKV0rYVtiLmZsb29yKGQpLTFdKS8yOmFbZC0xXSl9LGs9ZnVuY3Rpb24oYSl7dmFyIGI7c3dpdGNoKGEpe2Nhc2UidW5kZWZpbmVkIjphPWM7YnJlYWs7Y2FzZSJudWxsIjphPW51bGw7YnJlYWs7Y2FzZSJ0cnVlIjphPSEwO2JyZWFrO2Nhc2UiZmFsc2UiOmE9ITE7YnJlYWs7ZGVmYXVsdDpiPXBhcnNlRmxvYXQoYSksYT09YiYmKGE9Yil9cmV0dXJuIGF9LGw9ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXTtmb3IoYj1hLmxlbmd0aDtiLS07KWNbYl09ayhhW2JdKTtyZXR1cm4gY30sbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1bXTtmb3IoYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylhW2NdIT09YiYmZS5wdXNoKGFbY10pO3JldHVybiBlfSxuPWZ1bmN0aW9uKGEpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KGEpKSYmaXNGaW5pdGUoYSl9LHM9ZnVuY3Rpb24oYSxiLGMsZSxmKXt2YXIgZyxoO2E9KGI9PT0hMT9wYXJzZUZsb2F0KGEpLnRvU3RyaW5nKCk6YS50b0ZpeGVkKGIpKS5zcGxpdCgiIiksZz0oZz1kLmluQXJyYXkoIi4iLGEpKTwwP2EubGVuZ3RoOmcsZzxhLmxlbmd0aCYmKGFbZ109Zik7Zm9yKGg9Zy1jO2g+MDtoLT1jKWEuc3BsaWNlKGgsMCxlKTtyZXR1cm4gYS5qb2luKCIiKX0sbz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7Zm9yKGQ9Yi5sZW5ndGg7ZC0tOyl7aWYoYyYmYltkXT09PW51bGwpY29udGludWU7aWYoYltkXSE9PWEpcmV0dXJuITF9cmV0dXJuITB9LHA9ZnVuY3Rpb24oYSl7dmFyIGI9MCxjO2ZvcihjPWEubGVuZ3RoO2MtLTspYis9dHlwZW9mIGFbY109PSJudW1iZXIiP2FbY106MDtyZXR1cm4gYn0scj1mdW5jdGlvbihhKXtyZXR1cm4gZC5pc0FycmF5KGEpP2E6W2FdfSxxPWZ1bmN0aW9uKGIpe3ZhciBjO2EuY3JlYXRlU3R5bGVTaGVldD9hLmNyZWF0ZVN0eWxlU2hlZXQoKS5jc3NUZXh0PWI6KGM9YS5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGMudHlwZT0idGV4dC9jc3MiLGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChjKSxjW3R5cGVvZiBhLmJvZHkuc3R5bGUuV2Via2l0QXBwZWFyYW5jZT09InN0cmluZyI/ImlubmVyVGV4dCI6ImlubmVySFRNTCJdPWIpfSxkLmZuLnNpbXBsZWRyYXc9ZnVuY3Rpb24oYixlLGYsZyl7dmFyIGgsaTtpZihmJiYoaD10aGlzLmRhdGEoIl9qcXNfdmNhbnZhcyIpKSlyZXR1cm4gaDtpZihkLmZuLnNwYXJrbGluZS5jYW52YXM9PT0hMSlyZXR1cm4hMTtpZihkLmZuLnNwYXJrbGluZS5jYW52YXM9PT1jKXt2YXIgaj1hLmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2lmKCFqLmdldENvbnRleHR8fCFqLmdldENvbnRleHQoIjJkIikpe2lmKCFhLm5hbWVzcGFjZXN8fCEhYS5uYW1lc3BhY2VzLnYpcmV0dXJuIGQuZm4uc3BhcmtsaW5lLmNhbnZhcz0hMSwhMTthLm5hbWVzcGFjZXMuYWRkKCJ2IiwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiLCIjZGVmYXVsdCNWTUwiKSxkLmZuLnNwYXJrbGluZS5jYW52YXM9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIG5ldyBKKGEsYixjKX19ZWxzZSBkLmZuLnNwYXJrbGluZS5jYW52YXM9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIG5ldyBJKGEsYixjLGQpfX1yZXR1cm4gYj09PWMmJihiPWQodGhpcykuaW5uZXJXaWR0aCgpKSxlPT09YyYmKGU9ZCh0aGlzKS5pbm5lckhlaWdodCgpKSxoPWQuZm4uc3BhcmtsaW5lLmNhbnZhcyhiLGUsdGhpcyxnKSxpPWQodGhpcykuZGF0YSgiX2pxc19taGFuZGxlciIpLGkmJmkucmVnaXN0ZXJDYW52YXMoaCksaH0sZC5mbi5jbGVhcmRyYXc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmRhdGEoIl9qcXNfdmNhbnZhcyIpO2EmJmEucmVzZXQoKX0sZC5SYW5nZU1hcENsYXNzPXQ9Zyh7aW5pdDpmdW5jdGlvbihhKXt2YXIgYixjLGQ9W107Zm9yKGIgaW4gYSlhLmhhc093blByb3BlcnR5KGIpJiZ0eXBlb2YgYj09InN0cmluZyImJmIuaW5kZXhPZigiOiIpPi0xJiYoYz1iLnNwbGl0KCI6IiksY1swXT1jWzBdLmxlbmd0aD09PTA/LUluZmluaXR5OnBhcnNlRmxvYXQoY1swXSksY1sxXT1jWzFdLmxlbmd0aD09PTA/SW5maW5pdHk6cGFyc2VGbG9hdChjWzFdKSxjWzJdPWFbYl0sZC5wdXNoKGMpKTt0aGlzLm1hcD1hLHRoaXMucmFuZ2VsaXN0PWR8fCExfSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yYW5nZWxpc3QsZCxlLGY7aWYoKGY9dGhpcy5tYXBbYV0pIT09YylyZXR1cm4gZjtpZihiKWZvcihkPWIubGVuZ3RoO2QtLTspe2U9YltkXTtpZihlWzBdPD1hJiZlWzFdPj1hKXJldHVybiBlWzJdfXJldHVybiBjfX0pLGQucmFuZ2VfbWFwPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgdChhKX0sdT1nKHtpbml0OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZChhKTt0aGlzLiRlbD1jLHRoaXMub3B0aW9ucz1iLHRoaXMuY3VycmVudFBhZ2VYPTAsdGhpcy5jdXJyZW50UGFnZVk9MCx0aGlzLmVsPWEsdGhpcy5zcGxpc3Q9W10sdGhpcy50b29sdGlwPW51bGwsdGhpcy5vdmVyPSExLHRoaXMuZGlzcGxheVRvb2x0aXBzPSFiLmdldCgiZGlzYWJsZVRvb2x0aXBzIiksdGhpcy5oaWdobGlnaHRFbmFibGVkPSFiLmdldCgiZGlzYWJsZUhpZ2hsaWdodCIpfSxyZWdpc3RlclNwYXJrbGluZTpmdW5jdGlvbihhKXt0aGlzLnNwbGlzdC5wdXNoKGEpLHRoaXMub3ZlciYmdGhpcy51cGRhdGVEaXNwbGF5KCl9LHJlZ2lzdGVyQ2FudmFzOmZ1bmN0aW9uKGEpe3ZhciBiPWQoYS5jYW52YXMpO3RoaXMuY2FudmFzPWEsdGhpcy4kY2FudmFzPWIsYi5tb3VzZWVudGVyKGQucHJveHkodGhpcy5tb3VzZWVudGVyLHRoaXMpKSxiLm1vdXNlbGVhdmUoZC5wcm94eSh0aGlzLm1vdXNlbGVhdmUsdGhpcykpLGIuY2xpY2soZC5wcm94eSh0aGlzLm1vdXNlY2xpY2ssdGhpcykpfSxyZXNldDpmdW5jdGlvbihhKXt0aGlzLnNwbGlzdD1bXSx0aGlzLnRvb2x0aXAmJmEmJih0aGlzLnRvb2x0aXAucmVtb3ZlKCksdGhpcy50b29sdGlwPWMpfSxtb3VzZWNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPWQuRXZlbnQoInNwYXJrbGluZUNsaWNrIik7Yi5vcmlnaW5hbEV2ZW50PWEsYi5zcGFya2xpbmVzPXRoaXMuc3BsaXN0LHRoaXMuJGVsLnRyaWdnZXIoYil9LG1vdXNlZW50ZXI6ZnVuY3Rpb24oYil7ZChhLmJvZHkpLnVuYmluZCgibW91c2Vtb3ZlLmpxcyIpLGQoYS5ib2R5KS5iaW5kKCJtb3VzZW1vdmUuanFzIixkLnByb3h5KHRoaXMubW91c2Vtb3ZlLHRoaXMpKSx0aGlzLm92ZXI9ITAsdGhpcy5jdXJyZW50UGFnZVg9Yi5wYWdlWCx0aGlzLmN1cnJlbnRQYWdlWT1iLnBhZ2VZLHRoaXMuY3VycmVudEVsPWIudGFyZ2V0LCF0aGlzLnRvb2x0aXAmJnRoaXMuZGlzcGxheVRvb2x0aXBzJiYodGhpcy50b29sdGlwPW5ldyB2KHRoaXMub3B0aW9ucyksdGhpcy50b29sdGlwLnVwZGF0ZVBvc2l0aW9uKGIucGFnZVgsYi5wYWdlWSkpLHRoaXMudXBkYXRlRGlzcGxheSgpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKCl7ZChhLmJvZHkpLnVuYmluZCgibW91c2Vtb3ZlLmpxcyIpO3ZhciBiPXRoaXMuc3BsaXN0LGM9Yi5sZW5ndGgsZT0hMSxmLGc7dGhpcy5vdmVyPSExLHRoaXMuY3VycmVudEVsPW51bGwsdGhpcy50b29sdGlwJiYodGhpcy50b29sdGlwLnJlbW92ZSgpLHRoaXMudG9vbHRpcD1udWxsKTtmb3IoZz0wO2c8YztnKyspZj1iW2ddLGYuY2xlYXJSZWdpb25IaWdobGlnaHQoKSYmKGU9ITApO2UmJnRoaXMuY2FudmFzLnJlbmRlcigpfSxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50UGFnZVg9YS5wYWdlWCx0aGlzLmN1cnJlbnRQYWdlWT1hLnBhZ2VZLHRoaXMuY3VycmVudEVsPWEudGFyZ2V0LHRoaXMudG9vbHRpcCYmdGhpcy50b29sdGlwLnVwZGF0ZVBvc2l0aW9uKGEucGFnZVgsYS5wYWdlWSksdGhpcy51cGRhdGVEaXNwbGF5KCl9LHVwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNwbGlzdCxiPWEubGVuZ3RoLGM9ITEsZT10aGlzLiRjYW52YXMub2Zmc2V0KCksZj10aGlzLmN1cnJlbnRQYWdlWC1lLmxlZnQsZz10aGlzLmN1cnJlbnRQYWdlWS1lLnRvcCxoLGksaixrLGw7aWYoIXRoaXMub3ZlcilyZXR1cm47Zm9yKGo9MDtqPGI7aisrKWk9YVtqXSxrPWkuc2V0UmVnaW9uSGlnaGxpZ2h0KHRoaXMuY3VycmVudEVsLGYsZyksayYmKGM9ITApO2lmKGMpe2w9ZC5FdmVudCgic3BhcmtsaW5lUmVnaW9uQ2hhbmdlIiksbC5zcGFya2xpbmVzPXRoaXMuc3BsaXN0LHRoaXMuJGVsLnRyaWdnZXIobCk7aWYodGhpcy50b29sdGlwKXtoPSIiO2ZvcihqPTA7ajxiO2orKylpPWFbal0saCs9aS5nZXRDdXJyZW50UmVnaW9uVG9vbHRpcCgpO3RoaXMudG9vbHRpcC5zZXRDb250ZW50KGgpfXRoaXMuZGlzYWJsZUhpZ2hsaWdodHx8dGhpcy5jYW52YXMucmVuZGVyKCl9az09PW51bGwmJnRoaXMubW91c2VsZWF2ZSgpfX0pLHY9Zyh7c2l6ZVN0eWxlOiJwb3NpdGlvbjogc3RhdGljICFpbXBvcnRhbnQ7ZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDt2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtmbG9hdDogbGVmdCAhaW1wb3J0YW50OyIsaW5pdDpmdW5jdGlvbihiKXt2YXIgYz1iLmdldCgidG9vbHRpcENsYXNzbmFtZSIsImpxc3Rvb2x0aXAiKSxlPXRoaXMuc2l6ZVN0eWxlLGY7dGhpcy5jb250YWluZXI9Yi5nZXQoInRvb2x0aXBDb250YWluZXIiKXx8YS5ib2R5LHRoaXMudG9vbHRpcE9mZnNldFg9Yi5nZXQoInRvb2x0aXBPZmZzZXRYIiwxMCksdGhpcy50b29sdGlwT2Zmc2V0WT1iLmdldCgidG9vbHRpcE9mZnNldFkiLDEyKSxkKCIjanFzc2l6ZXRpcCIpLnJlbW92ZSgpLGQoIiNqcXN0b29sdGlwIikucmVtb3ZlKCksdGhpcy5zaXpldGlwPWQoIjxkaXYvPiIse2lkOiJqcXNzaXpldGlwIixzdHlsZTplLCJjbGFzcyI6Y30pLHRoaXMudG9vbHRpcD1kKCI8ZGl2Lz4iLHtpZDoianFzdG9vbHRpcCIsImNsYXNzIjpjfSkuYXBwZW5kVG8odGhpcy5jb250YWluZXIpLGY9dGhpcy50b29sdGlwLm9mZnNldCgpLHRoaXMub2Zmc2V0TGVmdD1mLmxlZnQsdGhpcy5vZmZzZXRUb3A9Zi50b3AsdGhpcy5oaWRkZW49ITAsZCh3aW5kb3cpLnVuYmluZCgicmVzaXplLmpxcyBzY3JvbGwuanFzIiksZCh3aW5kb3cpLmJpbmQoInJlc2l6ZS5qcXMgc2Nyb2xsLmpxcyIsZC5wcm94eSh0aGlzLnVwZGF0ZVdpbmRvd0RpbXMsdGhpcykpLHRoaXMudXBkYXRlV2luZG93RGltcygpfSx1cGRhdGVXaW5kb3dEaW1zOmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxUb3A9ZCh3aW5kb3cpLnNjcm9sbFRvcCgpLHRoaXMuc2Nyb2xsTGVmdD1kKHdpbmRvdykuc2Nyb2xsTGVmdCgpLHRoaXMuc2Nyb2xsUmlnaHQ9dGhpcy5zY3JvbGxMZWZ0K2Qod2luZG93KS53aWR0aCgpLHRoaXMudXBkYXRlUG9zaXRpb24oKX0sZ2V0U2l6ZTpmdW5jdGlvbihhKXt0aGlzLnNpemV0aXAuaHRtbChhKS5hcHBlbmRUbyh0aGlzLmNvbnRhaW5lciksdGhpcy53aWR0aD10aGlzLnNpemV0aXAud2lkdGgoKSsxLHRoaXMuaGVpZ2h0PXRoaXMuc2l6ZXRpcC5oZWlnaHQoKSx0aGlzLnNpemV0aXAucmVtb3ZlKCl9LHNldENvbnRlbnQ6ZnVuY3Rpb24oYSl7aWYoIWEpe3RoaXMudG9vbHRpcC5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKSx0aGlzLmhpZGRlbj0hMDtyZXR1cm59dGhpcy5nZXRTaXplKGEpLHRoaXMudG9vbHRpcC5odG1sKGEpLmNzcyh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsdmlzaWJpbGl0eToidmlzaWJsZSJ9KSx0aGlzLmhpZGRlbiYmKHRoaXMuaGlkZGVuPSExLHRoaXMudXBkYXRlUG9zaXRpb24oKSl9LHVwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7aWYoYT09PWMpe2lmKHRoaXMubW91c2V4PT09YylyZXR1cm47YT10aGlzLm1vdXNleC10aGlzLm9mZnNldExlZnQsYj10aGlzLm1vdXNleS10aGlzLm9mZnNldFRvcH1lbHNlIHRoaXMubW91c2V4PWEtPXRoaXMub2Zmc2V0TGVmdCx0aGlzLm1vdXNleT1iLT10aGlzLm9mZnNldFRvcDtpZighdGhpcy5oZWlnaHR8fCF0aGlzLndpZHRofHx0aGlzLmhpZGRlbilyZXR1cm47Yi09dGhpcy5oZWlnaHQrdGhpcy50b29sdGlwT2Zmc2V0WSxhKz10aGlzLnRvb2x0aXBPZmZzZXRYLGI8dGhpcy5zY3JvbGxUb3AmJihiPXRoaXMuc2Nyb2xsVG9wKSxhPHRoaXMuc2Nyb2xsTGVmdD9hPXRoaXMuc2Nyb2xsTGVmdDphK3RoaXMud2lkdGg+dGhpcy5zY3JvbGxSaWdodCYmKGE9dGhpcy5zY3JvbGxSaWdodC10aGlzLndpZHRoKSx0aGlzLnRvb2x0aXAuY3NzKHtsZWZ0OmEsdG9wOmJ9KX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy50b29sdGlwLnJlbW92ZSgpLHRoaXMuc2l6ZXRpcC5yZW1vdmUoKSx0aGlzLnNpemV0aXA9dGhpcy50b29sdGlwPWMsZCh3aW5kb3cpLnVuYmluZCgicmVzaXplLmpxcyBzY3JvbGwuanFzIil9fSksRj1mdW5jdGlvbigpe3EoRSl9LGQoRiksSz1bXSxkLmZuLnNwYXJrbGluZT1mdW5jdGlvbihiLGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZj1uZXcgZC5mbi5zcGFya2xpbmUub3B0aW9ucyh0aGlzLGUpLGc9ZCh0aGlzKSxoLGk7aD1mdW5jdGlvbigpe3ZhciBlLGgsaSxqLGssbCxtO2lmKGI9PT0iaHRtbCJ8fGI9PT1jKXttPXRoaXMuZ2V0QXR0cmlidXRlKGYuZ2V0KCJ0YWdWYWx1ZXNBdHRyaWJ1dGUiKSk7aWYobT09PWN8fG09PT1udWxsKW09Zy5odG1sKCk7ZT1tLnJlcGxhY2UoLyheXHMqPCEtLSl8KC0tPlxzKiQpfFxzKy9nLCIiKS5zcGxpdCgiLCIpfWVsc2UgZT1iO2g9Zi5nZXQoIndpZHRoIik9PT0iYXV0byI/ZS5sZW5ndGgqZi5nZXQoImRlZmF1bHRQaXhlbHNQZXJWYWx1ZSIpOmYuZ2V0KCJ3aWR0aCIpO2lmKGYuZ2V0KCJoZWlnaHQiKT09PSJhdXRvIil7aWYoIWYuZ2V0KCJjb21wb3NpdGUiKXx8IWQuZGF0YSh0aGlzLCJfanFzX3ZjYW52YXMiKSlqPWEuY3JlYXRlRWxlbWVudCgic3BhbiIpLGouaW5uZXJIVE1MPSJhIixnLmh0bWwoaiksaT1kKGopLmlubmVySGVpZ2h0KCl8fGQoaikuaGVpZ2h0KCksZChqKS5yZW1vdmUoKSxqPW51bGx9ZWxzZSBpPWYuZ2V0KCJoZWlnaHQiKTtmLmdldCgiZGlzYWJsZUludGVyYWN0aW9uIik/az0hMTooaz1kLmRhdGEodGhpcywiX2pxc19taGFuZGxlciIpLGs/Zi5nZXQoImNvbXBvc2l0ZSIpfHxrLnJlc2V0KCk6KGs9bmV3IHUodGhpcyxmKSxkLmRhdGEodGhpcywiX2pxc19taGFuZGxlciIsaykpKTtpZihmLmdldCgiY29tcG9zaXRlIikmJiFkLmRhdGEodGhpcywiX2pxc192Y2FudmFzIikpe2QuZGF0YSh0aGlzLCJfanFzX2Vycm5vdGlmeSIpfHwoYWxlcnQoIkF0dGVtcHRlZCB0byBhdHRhY2ggYSBjb21wb3NpdGUgc3BhcmtsaW5lIHRvIGFuIGVsZW1lbnQgd2l0aCBubyBleGlzdGluZyBzcGFya2xpbmUiKSxkLmRhdGEodGhpcywiX2pxc19lcnJub3RpZnkiLCEwKSk7cmV0dXJufWw9bmV3KGQuZm4uc3BhcmtsaW5lW2YuZ2V0KCJ0eXBlIildKSh0aGlzLGUsZixoLGkpLGwucmVuZGVyKCksayYmay5yZWdpc3RlclNwYXJrbGluZShsKX07aWYoZCh0aGlzKS5odG1sKCkmJiFmLmdldCgiZGlzYWJsZUhpZGRlbkNoZWNrIikmJmQodGhpcykuaXMoIjpoaWRkZW4iKXx8IWQodGhpcykucGFyZW50cygiYm9keSIpLmxlbmd0aCl7aWYoIWYuZ2V0KCJjb21wb3NpdGUiKSYmZC5kYXRhKHRoaXMsIl9qcXNfcGVuZGluZyIpKWZvcihpPUsubGVuZ3RoO2k7aS0tKUtbaS0xXVswXT09dGhpcyYmSy5zcGxpY2UoaS0xLDEpO0sucHVzaChbdGhpcyxoXSksZC5kYXRhKHRoaXMsIl9qcXNfcGVuZGluZyIsITApfWVsc2UgaC5jYWxsKHRoaXMpfSl9LGQuZm4uc3BhcmtsaW5lLmRlZmF1bHRzPWYoKSxkLnNwYXJrbGluZV9kaXNwbGF5X3Zpc2libGU9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZT1bXTtmb3IoYj0wLGM9Sy5sZW5ndGg7YjxjO2IrKylhPUtbYl1bMF0sZChhKS5pcygiOnZpc2libGUiKSYmIWQoYSkucGFyZW50cygpLmlzKCI6aGlkZGVuIik/KEtbYl1bMV0uY2FsbChhKSxkLmRhdGEoS1tiXVswXSwiX2pxc19wZW5kaW5nIiwhMSksZS5wdXNoKGIpKTohZChhKS5jbG9zZXN0KCJodG1sIikubGVuZ3RoJiYhZC5kYXRhKGEsIl9qcXNfcGVuZGluZyIpJiYoZC5kYXRhKEtbYl1bMF0sIl9qcXNfcGVuZGluZyIsITEpLGUucHVzaChiKSk7Zm9yKGI9ZS5sZW5ndGg7YjtiLS0pSy5zcGxpY2UoZVtiLTFdLDEpfSxkLmZuLnNwYXJrbGluZS5vcHRpb25zPWcoe2luaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxmLGcsaDt0aGlzLnVzZXJPcHRpb25zPWI9Ynx8e30sdGhpcy50YWc9YSx0aGlzLnRhZ1ZhbENhY2hlPXt9LGY9ZC5mbi5zcGFya2xpbmUuZGVmYXVsdHMsZz1mLmNvbW1vbix0aGlzLnRhZ09wdGlvbnNQcmVmaXg9Yi5lbmFibGVUYWdPcHRpb25zJiYoYi50YWdPcHRpb25zUHJlZml4fHxnLnRhZ09wdGlvbnNQcmVmaXgpLGg9dGhpcy5nZXRUYWdTZXR0aW5nKCJ0eXBlIiksaD09PWU/Yz1mW2IudHlwZXx8Zy50eXBlXTpjPWZbaF0sdGhpcy5tZXJnZWRPcHRpb25zPWQuZXh0ZW5kKHt9LGcsYyxiKX0sZ2V0VGFnU2V0dGluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRhZ09wdGlvbnNQcmVmaXgsZCxmLGcsaDtpZihiPT09ITF8fGI9PT1jKXJldHVybiBlO2lmKHRoaXMudGFnVmFsQ2FjaGUuaGFzT3duUHJvcGVydHkoYSkpZD10aGlzLnRhZ1ZhbENhY2hlLmtleTtlbHNle2Q9dGhpcy50YWcuZ2V0QXR0cmlidXRlKGIrYSk7aWYoZD09PWN8fGQ9PT1udWxsKWQ9ZTtlbHNlIGlmKGQuc3Vic3RyKDAsMSk9PT0iWyIpe2Q9ZC5zdWJzdHIoMSxkLmxlbmd0aC0yKS5zcGxpdCgiLCIpO2ZvcihmPWQubGVuZ3RoO2YtLTspZFtmXT1rKGRbZl0ucmVwbGFjZSgvKF5ccyopfChccyokKS9nLCIiKSl9ZWxzZSBpZihkLnN1YnN0cigwLDEpPT09InsiKXtnPWQuc3Vic3RyKDEsZC5sZW5ndGgtMikuc3BsaXQoIiwiKSxkPXt9O2ZvcihmPWcubGVuZ3RoO2YtLTspaD1nW2ZdLnNwbGl0KCI6IiwyKSxkW2hbMF0ucmVwbGFjZSgvKF5ccyopfChccyokKS9nLCIiKV09ayhoWzFdLnJlcGxhY2UoLyheXHMqKXwoXHMqJCkvZywiIikpfWVsc2UgZD1rKGQpO3RoaXMudGFnVmFsQ2FjaGUua2V5PWR9cmV0dXJuIGR9LGdldDpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuZ2V0VGFnU2V0dGluZyhhKSxmO3JldHVybiBkIT09ZT9kOihmPXRoaXMubWVyZ2VkT3B0aW9uc1thXSk9PT1jP2I6Zn19KSxkLmZuLnNwYXJrbGluZS5fYmFzZT1nKHtkaXNhYmxlZDohMSxpbml0OmZ1bmN0aW9uKGEsYixlLGYsZyl7dGhpcy5lbD1hLHRoaXMuJGVsPWQoYSksdGhpcy52YWx1ZXM9Yix0aGlzLm9wdGlvbnM9ZSx0aGlzLndpZHRoPWYsdGhpcy5oZWlnaHQ9Zyx0aGlzLmN1cnJlbnRSZWdpb249Y30saW5pdFRhcmdldDpmdW5jdGlvbigpe3ZhciBhPSF0aGlzLm9wdGlvbnMuZ2V0KCJkaXNhYmxlSW50ZXJhY3Rpb24iKTsodGhpcy50YXJnZXQ9dGhpcy4kZWwuc2ltcGxlZHJhdyh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMub3B0aW9ucy5nZXQoImNvbXBvc2l0ZSIpLGEpKT8odGhpcy5jYW52YXNXaWR0aD10aGlzLnRhcmdldC5waXhlbFdpZHRoLHRoaXMuY2FudmFzSGVpZ2h0PXRoaXMudGFyZ2V0LnBpeGVsSGVpZ2h0KTp0aGlzLmRpc2FibGVkPSEwfSxyZW5kZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNhYmxlZD8odGhpcy5lbC5pbm5lckhUTUw9IiIsITEpOiEwfSxnZXRSZWdpb246ZnVuY3Rpb24oYSxiKXt9LHNldFJlZ2lvbkhpZ2hsaWdodDpmdW5jdGlvbihhLGIsZCl7dmFyIGU9dGhpcy5jdXJyZW50UmVnaW9uLGY9IXRoaXMub3B0aW9ucy5nZXQoImRpc2FibGVIaWdobGlnaHQiKSxnO3JldHVybiBiPnRoaXMuY2FudmFzV2lkdGh8fGQ+dGhpcy5jYW52YXNIZWlnaHR8fGI8MHx8ZDwwP251bGw6KGc9dGhpcy5nZXRSZWdpb24oYSxiLGQpLGUhPT1nPyhlIT09YyYmZiYmdGhpcy5yZW1vdmVIaWdobGlnaHQoKSx0aGlzLmN1cnJlbnRSZWdpb249ZyxnIT09YyYmZiYmdGhpcy5yZW5kZXJIaWdobGlnaHQoKSwhMCk6ITEpfSxjbGVhclJlZ2lvbkhpZ2hsaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRSZWdpb24hPT1jPyh0aGlzLnJlbW92ZUhpZ2hsaWdodCgpLHRoaXMuY3VycmVudFJlZ2lvbj1jLCEwKTohMX0scmVuZGVySGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dGhpcy5jaGFuZ2VIaWdobGlnaHQoITApfSxyZW1vdmVIaWdobGlnaHQ6ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZUhpZ2hsaWdodCghMSl9LGNoYW5nZUhpZ2hsaWdodDpmdW5jdGlvbihhKXt9LGdldEN1cnJlbnRSZWdpb25Ub29sdGlwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9IiIsZT1bXSxmLGcsaSxqLGssbCxtLG4sbyxwLHEscixzLHQ7aWYodGhpcy5jdXJyZW50UmVnaW9uPT09YylyZXR1cm4iIjtmPXRoaXMuZ2V0Q3VycmVudFJlZ2lvbkZpZWxkcygpLHE9YS5nZXQoInRvb2x0aXBGb3JtYXR0ZXIiKTtpZihxKXJldHVybiBxKHRoaXMsYSxmKTthLmdldCgidG9vbHRpcENoYXJ0VGl0bGUiKSYmKGIrPSc8ZGl2IGNsYXNzPSJqcXMganFzdGl0bGUiPicrYS5nZXQoInRvb2x0aXBDaGFydFRpdGxlIikrIjwvZGl2PlxuIiksZz10aGlzLm9wdGlvbnMuZ2V0KCJ0b29sdGlwRm9ybWF0Iik7aWYoIWcpcmV0dXJuIiI7ZC5pc0FycmF5KGcpfHwoZz1bZ10pLGQuaXNBcnJheShmKXx8KGY9W2ZdKSxtPXRoaXMub3B0aW9ucy5nZXQoInRvb2x0aXBGb3JtYXRGaWVsZGxpc3QiKSxuPXRoaXMub3B0aW9ucy5nZXQoInRvb2x0aXBGb3JtYXRGaWVsZGxpc3RLZXkiKTtpZihtJiZuKXtvPVtdO2ZvcihsPWYubGVuZ3RoO2wtLTspcD1mW2xdW25dLCh0PWQuaW5BcnJheShwLG0pKSE9LTEmJihvW3RdPWZbbF0pO2Y9b31pPWcubGVuZ3RoLHM9Zi5sZW5ndGg7Zm9yKGw9MDtsPGk7bCsrKXtyPWdbbF0sdHlwZW9mIHI9PSJzdHJpbmciJiYocj1uZXcgaChyKSksaj1yLmZjbGFzc3x8Impxc2ZpZWxkIjtmb3IodD0wO3Q8czt0KyspaWYoIWZbdF0uaXNOdWxsfHwhYS5nZXQoInRvb2x0aXBTa2lwTnVsbCIpKWQuZXh0ZW5kKGZbdF0se3ByZWZpeDphLmdldCgidG9vbHRpcFByZWZpeCIpLHN1ZmZpeDphLmdldCgidG9vbHRpcFN1ZmZpeCIpfSksaz1yLnJlbmRlcihmW3RdLGEuZ2V0KCJ0b29sdGlwVmFsdWVMb29rdXBzIiksYSksZS5wdXNoKCc8ZGl2IGNsYXNzPSInK2orJyI+JytrKyI8L2Rpdj4iKX1yZXR1cm4gZS5sZW5ndGg/YitlLmpvaW4oIlxuIik6IiJ9LGdldEN1cnJlbnRSZWdpb25GaWVsZHM6ZnVuY3Rpb24oKXt9LGNhbGNIaWdobGlnaHRDb2xvcjpmdW5jdGlvbihhLGMpe3ZhciBkPWMuZ2V0KCJoaWdobGlnaHRDb2xvciIpLGU9Yy5nZXQoImhpZ2hsaWdodExpZ2h0ZW4iKSxmLGcsaCxqO2lmKGQpcmV0dXJuIGQ7aWYoZSl7Zj0vXiMoWzAtOWEtZl0pKFswLTlhLWZdKShbMC05YS1mXSkkL2kuZXhlYyhhKXx8L14jKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pJC9pLmV4ZWMoYSk7aWYoZil7aD1bXSxnPWEubGVuZ3RoPT09ND8xNjoxO2ZvcihqPTA7ajwzO2orKyloW2pdPWkoYi5yb3VuZChwYXJzZUludChmW2orMV0sMTYpKmcqZSksMCwyNTUpO3JldHVybiJyZ2IoIitoLmpvaW4oIiwiKSsiKSJ9fXJldHVybiBhfX0pLHc9e2NoYW5nZUhpZ2hsaWdodDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmN1cnJlbnRSZWdpb24sYz10aGlzLnRhcmdldCxlPXRoaXMucmVnaW9uU2hhcGVzW2JdLGY7ZSYmKGY9dGhpcy5yZW5kZXJSZWdpb24oYixhKSxkLmlzQXJyYXkoZil8fGQuaXNBcnJheShlKT8oYy5yZXBsYWNlV2l0aFNoYXBlcyhlLGYpLHRoaXMucmVnaW9uU2hhcGVzW2JdPWQubWFwKGYsZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KSk6KGMucmVwbGFjZVdpdGhTaGFwZShlLGYpLHRoaXMucmVnaW9uU2hhcGVzW2JdPWYuaWQpKX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52YWx1ZXMsYj10aGlzLnRhcmdldCxjPXRoaXMucmVnaW9uU2hhcGVzLGUsZixnLGg7aWYoIXRoaXMuY2xzLl9zdXBlci5yZW5kZXIuY2FsbCh0aGlzKSlyZXR1cm47Zm9yKGc9YS5sZW5ndGg7Zy0tOyl7ZT10aGlzLnJlbmRlclJlZ2lvbihnKTtpZihlKWlmKGQuaXNBcnJheShlKSl7Zj1bXTtmb3IoaD1lLmxlbmd0aDtoLS07KWVbaF0uYXBwZW5kKCksZi5wdXNoKGVbaF0uaWQpO2NbZ109Zn1lbHNlIGUuYXBwZW5kKCksY1tnXT1lLmlkO2Vsc2UgY1tnXT1udWxsfWIucmVuZGVyKCl9fSxkLmZuLnNwYXJrbGluZS5saW5lPXg9ZyhkLmZuLnNwYXJrbGluZS5fYmFzZSx7dHlwZToibGluZSIsaW5pdDpmdW5jdGlvbihhLGIsYyxkLGUpe3guX3N1cGVyLmluaXQuY2FsbCh0aGlzLGEsYixjLGQsZSksdGhpcy52ZXJ0aWNlcz1bXSx0aGlzLnJlZ2lvbk1hcD1bXSx0aGlzLnh2YWx1ZXM9W10sdGhpcy55dmFsdWVzPVtdLHRoaXMueW1pbm1heD1bXSx0aGlzLmhpZ2h0bGlnaHRTcG90SWQ9bnVsbCx0aGlzLmxhc3RTaGFwZUlkPW51bGwsdGhpcy5pbml0VGFyZ2V0KCl9LGdldFJlZ2lvbjpmdW5jdGlvbihhLGIsZCl7dmFyIGUsZj10aGlzLnJlZ2lvbk1hcDtmb3IoZT1mLmxlbmd0aDtlLS07KWlmKGZbZV0hPT1udWxsJiZiPj1mW2VdWzBdJiZiPD1mW2VdWzFdKXJldHVybiBmW2VdWzJdO3JldHVybiBjfSxnZXRDdXJyZW50UmVnaW9uRmllbGRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jdXJyZW50UmVnaW9uO3JldHVybntpc051bGw6dGhpcy55dmFsdWVzW2FdPT09bnVsbCx4OnRoaXMueHZhbHVlc1thXSx5OnRoaXMueXZhbHVlc1thXSxjb2xvcjp0aGlzLm9wdGlvbnMuZ2V0KCJsaW5lQ29sb3IiKSxmaWxsQ29sb3I6dGhpcy5vcHRpb25zLmdldCgiZmlsbENvbG9yIiksb2Zmc2V0OmF9fSxyZW5kZXJIaWdobGlnaHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmN1cnJlbnRSZWdpb24sYj10aGlzLnRhcmdldCxkPXRoaXMudmVydGljZXNbYV0sZT10aGlzLm9wdGlvbnMsZj1lLmdldCgic3BvdFJhZGl1cyIpLGc9ZS5nZXQoImhpZ2hsaWdodFNwb3RDb2xvciIpLGg9ZS5nZXQoImhpZ2hsaWdodExpbmVDb2xvciIpLGksajtpZighZClyZXR1cm47ZiYmZyYmKGk9Yi5kcmF3Q2lyY2xlKGRbMF0sZFsxXSxmLGMsZyksdGhpcy5oaWdobGlnaHRTcG90SWQ9aS5pZCxiLmluc2VydEFmdGVyU2hhcGUodGhpcy5sYXN0U2hhcGVJZCxpKSksaCYmKGo9Yi5kcmF3TGluZShkWzBdLHRoaXMuY2FudmFzVG9wLGRbMF0sdGhpcy5jYW52YXNUb3ArdGhpcy5jYW52YXNIZWlnaHQsaCksdGhpcy5oaWdobGlnaHRMaW5lSWQ9ai5pZCxiLmluc2VydEFmdGVyU2hhcGUodGhpcy5sYXN0U2hhcGVJZCxqKSl9LHJlbW92ZUhpZ2hsaWdodDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudGFyZ2V0O3RoaXMuaGlnaGxpZ2h0U3BvdElkJiYoYS5yZW1vdmVTaGFwZUlkKHRoaXMuaGlnaGxpZ2h0U3BvdElkKSx0aGlzLmhpZ2hsaWdodFNwb3RJZD1udWxsKSx0aGlzLmhpZ2hsaWdodExpbmVJZCYmKGEucmVtb3ZlU2hhcGVJZCh0aGlzLmhpZ2hsaWdodExpbmVJZCksdGhpcy5oaWdobGlnaHRMaW5lSWQ9bnVsbCl9LHNjYW5WYWx1ZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZhbHVlcyxjPWEubGVuZ3RoLGQ9dGhpcy54dmFsdWVzLGU9dGhpcy55dmFsdWVzLGY9dGhpcy55bWlubWF4LGcsaCxpLGosaztmb3IoZz0wO2c8YztnKyspaD1hW2ddLGk9dHlwZW9mIGFbZ109PSJzdHJpbmciLGo9dHlwZW9mIGFbZ109PSJvYmplY3QiJiZhW2ddaW5zdGFuY2VvZiBBcnJheSxrPWkmJmFbZ10uc3BsaXQoIjoiKSxpJiZrLmxlbmd0aD09PTI/KGQucHVzaChOdW1iZXIoa1swXSkpLGUucHVzaChOdW1iZXIoa1sxXSkpLGYucHVzaChOdW1iZXIoa1sxXSkpKTpqPyhkLnB1c2goaFswXSksZS5wdXNoKGhbMV0pLGYucHVzaChoWzFdKSk6KGQucHVzaChnKSxhW2ddPT09bnVsbHx8YVtnXT09PSJudWxsIj9lLnB1c2gobnVsbCk6KGUucHVzaChOdW1iZXIoaCkpLGYucHVzaChOdW1iZXIoaCkpKSk7dGhpcy5vcHRpb25zLmdldCgieHZhbHVlcyIpJiYoZD10aGlzLm9wdGlvbnMuZ2V0KCJ4dmFsdWVzIikpLHRoaXMubWF4eT10aGlzLm1heHlvcmc9Yi5tYXguYXBwbHkoYixmKSx0aGlzLm1pbnk9dGhpcy5taW55b3JnPWIubWluLmFwcGx5KGIsZiksdGhpcy5tYXh4PWIubWF4LmFwcGx5KGIsZCksdGhpcy5taW54PWIubWluLmFwcGx5KGIsZCksdGhpcy54dmFsdWVzPWQsdGhpcy55dmFsdWVzPWUsdGhpcy55bWlubWF4PWZ9LHByb2Nlc3NSYW5nZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj1hLmdldCgibm9ybWFsUmFuZ2VNaW4iKSxkPWEuZ2V0KCJub3JtYWxSYW5nZU1heCIpO2IhPT1jJiYoYjx0aGlzLm1pbnkmJih0aGlzLm1pbnk9YiksZD50aGlzLm1heHkmJih0aGlzLm1heHk9ZCkpLGEuZ2V0KCJjaGFydFJhbmdlTWluIikhPT1jJiYoYS5nZXQoImNoYXJ0UmFuZ2VDbGlwIil8fGEuZ2V0KCJjaGFydFJhbmdlTWluIik8dGhpcy5taW55KSYmKHRoaXMubWlueT1hLmdldCgiY2hhcnRSYW5nZU1pbiIpKSxhLmdldCgiY2hhcnRSYW5nZU1heCIpIT09YyYmKGEuZ2V0KCJjaGFydFJhbmdlQ2xpcCIpfHxhLmdldCgiY2hhcnRSYW5nZU1heCIpPnRoaXMubWF4eSkmJih0aGlzLm1heHk9YS5nZXQoImNoYXJ0UmFuZ2VNYXgiKSksYS5nZXQoImNoYXJ0UmFuZ2VNaW5YIikhPT1jJiYoYS5nZXQoImNoYXJ0UmFuZ2VDbGlwWCIpfHxhLmdldCgiY2hhcnRSYW5nZU1pblgiKTx0aGlzLm1pbngpJiYodGhpcy5taW54PWEuZ2V0KCJjaGFydFJhbmdlTWluWCIpKSxhLmdldCgiY2hhcnRSYW5nZU1heFgiKSE9PWMmJihhLmdldCgiY2hhcnRSYW5nZUNsaXBYIil8fGEuZ2V0KCJjaGFydFJhbmdlTWF4WCIpPnRoaXMubWF4eCkmJih0aGlzLm1heHg9YS5nZXQoImNoYXJ0UmFuZ2VNYXhYIikpfSxkcmF3Tm9ybWFsUmFuZ2U6ZnVuY3Rpb24oYSxkLGUsZixnKXt2YXIgaD10aGlzLm9wdGlvbnMuZ2V0KCJub3JtYWxSYW5nZU1pbiIpLGk9dGhpcy5vcHRpb25zLmdldCgibm9ybWFsUmFuZ2VNYXgiKSxqPWQrYi5yb3VuZChlLWUqKChpLXRoaXMubWlueSkvZykpLGs9Yi5yb3VuZChlKihpLWgpL2cpO3RoaXMudGFyZ2V0LmRyYXdSZWN0KGEsaixmLGssYyx0aGlzLm9wdGlvbnMuZ2V0KCJub3JtYWxSYW5nZUNvbG9yIikpLmFwcGVuZCgpfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsZT10aGlzLnRhcmdldCxmPXRoaXMuY2FudmFzV2lkdGgsZz10aGlzLmNhbnZhc0hlaWdodCxoPXRoaXMudmVydGljZXMsaT1hLmdldCgic3BvdFJhZGl1cyIpLGo9dGhpcy5yZWdpb25NYXAsayxsLG0sbixvLHAscSxyLHMsdSx2LHcseSx6LEEsQixDLEQsRSxGLEcsSCxJLEosSztpZigheC5fc3VwZXIucmVuZGVyLmNhbGwodGhpcykpcmV0dXJuO3RoaXMuc2NhblZhbHVlcygpLHRoaXMucHJvY2Vzc1JhbmdlT3B0aW9ucygpLEk9dGhpcy54dmFsdWVzLEo9dGhpcy55dmFsdWVzO2lmKCF0aGlzLnltaW5tYXgubGVuZ3RofHx0aGlzLnl2YWx1ZXMubGVuZ3RoPDIpcmV0dXJuO249bz0wLGs9dGhpcy5tYXh4LXRoaXMubWlueD09PTA/MTp0aGlzLm1heHgtdGhpcy5taW54LGw9dGhpcy5tYXh5LXRoaXMubWlueT09PTA/MTp0aGlzLm1heHktdGhpcy5taW55LG09dGhpcy55dmFsdWVzLmxlbmd0aC0xLGkmJihmPGkqNHx8ZzxpKjQpJiYoaT0wKTtpZihpKXtHPWEuZ2V0KCJoaWdobGlnaHRTcG90Q29sb3IiKSYmIWEuZ2V0KCJkaXNhYmxlSW50ZXJhY3Rpb24iKTtpZihHfHxhLmdldCgibWluU3BvdENvbG9yIil8fGEuZ2V0KCJzcG90Q29sb3IiKSYmSlttXT09PXRoaXMubWlueSlnLT1iLmNlaWwoaSk7aWYoR3x8YS5nZXQoIm1heFNwb3RDb2xvciIpfHxhLmdldCgic3BvdENvbG9yIikmJkpbbV09PT10aGlzLm1heHkpZy09Yi5jZWlsKGkpLG4rPWIuY2VpbChpKTtpZihHfHwoYS5nZXQoIm1pblNwb3RDb2xvciIpfHxhLmdldCgibWF4U3BvdENvbG9yIikpJiYoSlswXT09PXRoaXMubWlueXx8SlswXT09PXRoaXMubWF4eSkpbys9Yi5jZWlsKGkpLGYtPWIuY2VpbChpKTtpZihHfHxhLmdldCgic3BvdENvbG9yIil8fGEuZ2V0KCJtaW5TcG90Q29sb3IiKXx8YS5nZXQoIm1heFNwb3RDb2xvciIpJiYoSlttXT09PXRoaXMubWlueXx8SlttXT09PXRoaXMubWF4eSkpZi09Yi5jZWlsKGkpfWctLSxhLmdldCgibm9ybWFsUmFuZ2VNaW4iKSE9PWMmJiFhLmdldCgiZHJhd05vcm1hbE9uVG9wIikmJnRoaXMuZHJhd05vcm1hbFJhbmdlKG8sbixnLGYsbCkscT1bXSxyPVtxXSx6PUE9bnVsbCxCPUoubGVuZ3RoO2ZvcihLPTA7SzxCO0srKylzPUlbS10sdj1JW0srMV0sdT1KW0tdLHc9bytiLnJvdW5kKChzLXRoaXMubWlueCkqKGYvaykpLHk9SzxCLTE/bytiLnJvdW5kKCh2LXRoaXMubWlueCkqKGYvaykpOmYsQT13Kyh5LXcpLzIsaltLXT1benx8MCxBLEtdLHo9QSx1PT09bnVsbD9LJiYoSltLLTFdIT09bnVsbCYmKHE9W10sci5wdXNoKHEpKSxoLnB1c2gobnVsbCkpOih1PHRoaXMubWlueSYmKHU9dGhpcy5taW55KSx1PnRoaXMubWF4eSYmKHU9dGhpcy5tYXh5KSxxLmxlbmd0aHx8cS5wdXNoKFt3LG4rZ10pLHA9W3csbitiLnJvdW5kKGctZyooKHUtdGhpcy5taW55KS9sKSldLHEucHVzaChwKSxoLnB1c2gocCkpO0M9W10sRD1bXSxFPXIubGVuZ3RoO2ZvcihLPTA7SzxFO0srKylxPXJbS10scS5sZW5ndGgmJihhLmdldCgiZmlsbENvbG9yIikmJihxLnB1c2goW3FbcS5sZW5ndGgtMV1bMF0sbitnXSksRC5wdXNoKHEuc2xpY2UoMCkpLHEucG9wKCkpLHEubGVuZ3RoPjImJihxWzBdPVtxWzBdWzBdLHFbMV1bMV1dKSxDLnB1c2gocSkpO0U9RC5sZW5ndGg7Zm9yKEs9MDtLPEU7SysrKWUuZHJhd1NoYXBlKERbS10sYS5nZXQoImZpbGxDb2xvciIpLGEuZ2V0KCJmaWxsQ29sb3IiKSkuYXBwZW5kKCk7YS5nZXQoIm5vcm1hbFJhbmdlTWluIikhPT1jJiZhLmdldCgiZHJhd05vcm1hbE9uVG9wIikmJnRoaXMuZHJhd05vcm1hbFJhbmdlKG8sbixnLGYsbCksRT1DLmxlbmd0aDtmb3IoSz0wO0s8RTtLKyspZS5kcmF3U2hhcGUoQ1tLXSxhLmdldCgibGluZUNvbG9yIiksYyxhLmdldCgibGluZVdpZHRoIikpLmFwcGVuZCgpO2lmKGkmJmEuZ2V0KCJ2YWx1ZVNwb3RzIikpe0Y9YS5nZXQoInZhbHVlU3BvdHMiKSxGLmdldD09PWMmJihGPW5ldyB0KEYpKTtmb3IoSz0wO0s8QjtLKyspSD1GLmdldChKW0tdKSxIJiZlLmRyYXdDaXJjbGUobytiLnJvdW5kKChJW0tdLXRoaXMubWlueCkqKGYvaykpLG4rYi5yb3VuZChnLWcqKChKW0tdLXRoaXMubWlueSkvbCkpLGksYyxIKS5hcHBlbmQoKX1pJiZhLmdldCgic3BvdENvbG9yIikmJkpbbV0hPT1udWxsJiZlLmRyYXdDaXJjbGUobytiLnJvdW5kKChJW0kubGVuZ3RoLTFdLXRoaXMubWlueCkqKGYvaykpLG4rYi5yb3VuZChnLWcqKChKW21dLXRoaXMubWlueSkvbCkpLGksYyxhLmdldCgic3BvdENvbG9yIikpLmFwcGVuZCgpLHRoaXMubWF4eSE9PXRoaXMubWlueW9yZyYmKGkmJmEuZ2V0KCJtaW5TcG90Q29sb3IiKSYmKHM9SVtkLmluQXJyYXkodGhpcy5taW55b3JnLEopXSxlLmRyYXdDaXJjbGUobytiLnJvdW5kKChzLXRoaXMubWlueCkqKGYvaykpLG4rYi5yb3VuZChnLWcqKCh0aGlzLm1pbnlvcmctdGhpcy5taW55KS9sKSksaSxjLGEuZ2V0KCJtaW5TcG90Q29sb3IiKSkuYXBwZW5kKCkpLGkmJmEuZ2V0KCJtYXhTcG90Q29sb3IiKSYmKHM9SVtkLmluQXJyYXkodGhpcy5tYXh5b3JnLEopXSxlLmRyYXdDaXJjbGUobytiLnJvdW5kKChzLXRoaXMubWlueCkqKGYvaykpLG4rYi5yb3VuZChnLWcqKCh0aGlzLm1heHlvcmctdGhpcy5taW55KS9sKSksaSxjLGEuZ2V0KCJtYXhTcG90Q29sb3IiKSkuYXBwZW5kKCkpKSx0aGlzLmxhc3RTaGFwZUlkPWUuZ2V0TGFzdFNoYXBlSWQoKSx0aGlzLmNhbnZhc1RvcD1uLGUucmVuZGVyKCl9fSksZC5mbi5zcGFya2xpbmUuYmFyPXk9ZyhkLmZuLnNwYXJrbGluZS5fYmFzZSx3LHt0eXBlOiJiYXIiLGluaXQ6ZnVuY3Rpb24oYSxlLGYsZyxoKXt2YXIgaj1wYXJzZUludChmLmdldCgiYmFyV2lkdGgiKSwxMCksbj1wYXJzZUludChmLmdldCgiYmFyU3BhY2luZyIpLDEwKSxvPWYuZ2V0KCJjaGFydFJhbmdlTWluIikscD1mLmdldCgiY2hhcnRSYW5nZU1heCIpLHE9Zi5nZXQoImNoYXJ0UmFuZ2VDbGlwIikscj1JbmZpbml0eSxzPS1JbmZpbml0eSx1LHYsdyx4LHosQSxCLEMsRCxFLEYsRyxILEksSixLLEwsTSxOLE8sUCxRLFI7eS5fc3VwZXIuaW5pdC5jYWxsKHRoaXMsYSxlLGYsZyxoKTtmb3IoQT0wLEI9ZS5sZW5ndGg7QTxCO0ErKyl7Tz1lW0FdLHU9dHlwZW9mIE89PSJzdHJpbmciJiZPLmluZGV4T2YoIjoiKT4tMTtpZih1fHxkLmlzQXJyYXkoTykpSj0hMCx1JiYoTz1lW0FdPWwoTy5zcGxpdCgiOiIpKSksTz1tKE8sbnVsbCksdj1iLm1pbi5hcHBseShiLE8pLHc9Yi5tYXguYXBwbHkoYixPKSx2PHImJihyPXYpLHc+cyYmKHM9dyl9dGhpcy5zdGFja2VkPUosdGhpcy5yZWdpb25TaGFwZXM9e30sdGhpcy5iYXJXaWR0aD1qLHRoaXMuYmFyU3BhY2luZz1uLHRoaXMudG90YWxCYXJXaWR0aD1qK24sdGhpcy53aWR0aD1nPWUubGVuZ3RoKmorKGUubGVuZ3RoLTEpKm4sdGhpcy5pbml0VGFyZ2V0KCkscSYmKEg9bz09PWM/LUluZmluaXR5Om8sST1wPT09Yz9JbmZpbml0eTpwKSx6PVtdLHg9Sj9bXTp6O3ZhciBTPVtdLFQ9W107Zm9yKEE9MCxCPWUubGVuZ3RoO0E8QjtBKyspaWYoSil7Sz1lW0FdLGVbQV09Tj1bXSxTW0FdPTAseFtBXT1UW0FdPTA7Zm9yKEw9MCxNPUsubGVuZ3RoO0w8TTtMKyspTz1OW0xdPXE/aShLW0xdLEgsSSk6S1tMXSxPIT09bnVsbCYmKE8+MCYmKFNbQV0rPU8pLHI8MCYmcz4wP088MD9UW0FdKz1iLmFicyhPKTp4W0FdKz1POnhbQV0rPWIuYWJzKE8tKE88MD9zOnIpKSx6LnB1c2goTykpfWVsc2UgTz1xP2koZVtBXSxILEkpOmVbQV0sTz1lW0FdPWsoTyksTyE9PW51bGwmJnoucHVzaChPKTt0aGlzLm1heD1HPWIubWF4LmFwcGx5KGIseiksdGhpcy5taW49Rj1iLm1pbi5hcHBseShiLHopLHRoaXMuc3RhY2tNYXg9cz1KP2IubWF4LmFwcGx5KGIsUyk6Ryx0aGlzLnN0YWNrTWluPXI9Sj9iLm1pbi5hcHBseShiLHopOkYsZi5nZXQoImNoYXJ0UmFuZ2VNaW4iKSE9PWMmJihmLmdldCgiY2hhcnRSYW5nZUNsaXAiKXx8Zi5nZXQoImNoYXJ0UmFuZ2VNaW4iKTxGKSYmKEY9Zi5nZXQoImNoYXJ0UmFuZ2VNaW4iKSksZi5nZXQoImNoYXJ0UmFuZ2VNYXgiKSE9PWMmJihmLmdldCgiY2hhcnRSYW5nZUNsaXAiKXx8Zi5nZXQoImNoYXJ0UmFuZ2VNYXgiKT5HKSYmKEc9Zi5nZXQoImNoYXJ0UmFuZ2VNYXgiKSksdGhpcy56ZXJvQXhpcz1EPWYuZ2V0KCJ6ZXJvQXhpcyIsITApLEY8PTAmJkc+PTAmJkQ/RT0wOkQ9PTA/RT1GOkY+MD9FPUY6RT1HLHRoaXMueGF4aXNPZmZzZXQ9RSxDPUo/Yi5tYXguYXBwbHkoYix4KStiLm1heC5hcHBseShiLFQpOkctRix0aGlzLmNhbnZhc0hlaWdodEVmPUQmJkY8MD90aGlzLmNhbnZhc0hlaWdodC0yOnRoaXMuY2FudmFzSGVpZ2h0LTEsRjxFPyhRPUomJkc+PTA/czpHLFA9KFEtRSkvQyp0aGlzLmNhbnZhc0hlaWdodCxQIT09Yi5jZWlsKFApJiYodGhpcy5jYW52YXNIZWlnaHRFZi09MixQPWIuY2VpbChQKSkpOlA9dGhpcy5jYW52YXNIZWlnaHQsdGhpcy55b2Zmc2V0PVAsZC5pc0FycmF5KGYuZ2V0KCJjb2xvck1hcCIpKT8odGhpcy5jb2xvck1hcEJ5SW5kZXg9Zi5nZXQoImNvbG9yTWFwIiksdGhpcy5jb2xvck1hcEJ5VmFsdWU9bnVsbCk6KHRoaXMuY29sb3JNYXBCeUluZGV4PW51bGwsdGhpcy5jb2xvck1hcEJ5VmFsdWU9Zi5nZXQoImNvbG9yTWFwIiksdGhpcy5jb2xvck1hcEJ5VmFsdWUmJnRoaXMuY29sb3JNYXBCeVZhbHVlLmdldD09PWMmJih0aGlzLmNvbG9yTWFwQnlWYWx1ZT1uZXcgdCh0aGlzLmNvbG9yTWFwQnlWYWx1ZSkpKSx0aGlzLnJhbmdlPUN9LGdldFJlZ2lvbjpmdW5jdGlvbihhLGQsZSl7dmFyIGY9Yi5mbG9vcihkL3RoaXMudG90YWxCYXJXaWR0aCk7cmV0dXJuIGY8MHx8Zj49dGhpcy52YWx1ZXMubGVuZ3RoP2M6Zn0sZ2V0Q3VycmVudFJlZ2lvbkZpZWxkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY3VycmVudFJlZ2lvbixiPXIodGhpcy52YWx1ZXNbYV0pLGM9W10sZCxlO2ZvcihlPWIubGVuZ3RoO2UtLTspZD1iW2VdLGMucHVzaCh7aXNOdWxsOmQ9PT1udWxsLHZhbHVlOmQsY29sb3I6dGhpcy5jYWxjQ29sb3IoZSxkLGEpLG9mZnNldDphfSk7cmV0dXJuIGN9LGNhbGNDb2xvcjpmdW5jdGlvbihhLGIsZSl7dmFyIGY9dGhpcy5jb2xvck1hcEJ5SW5kZXgsZz10aGlzLmNvbG9yTWFwQnlWYWx1ZSxoPXRoaXMub3B0aW9ucyxpLGo7cmV0dXJuIHRoaXMuc3RhY2tlZD9pPWguZ2V0KCJzdGFja2VkQmFyQ29sb3IiKTppPWI8MD9oLmdldCgibmVnQmFyQ29sb3IiKTpoLmdldCgiYmFyQ29sb3IiKSxiPT09MCYmaC5nZXQoInplcm9Db2xvciIpIT09YyYmKGk9aC5nZXQoInplcm9Db2xvciIpKSxnJiYoaj1nLmdldChiKSk/aT1qOmYmJmYubGVuZ3RoPmUmJihpPWZbZV0pLGQuaXNBcnJheShpKT9pW2ElaS5sZW5ndGhdOml9LHJlbmRlclJlZ2lvbjpmdW5jdGlvbihhLGUpe3ZhciBmPXRoaXMudmFsdWVzW2FdLGc9dGhpcy5vcHRpb25zLGg9dGhpcy54YXhpc09mZnNldCxpPVtdLGo9dGhpcy5yYW5nZSxrPXRoaXMuc3RhY2tlZCxsPXRoaXMudGFyZ2V0LG09YSp0aGlzLnRvdGFsQmFyV2lkdGgsbj10aGlzLmNhbnZhc0hlaWdodEVmLHA9dGhpcy55b2Zmc2V0LHEscixzLHQsdSx2LHcseCx5LHo7Zj1kLmlzQXJyYXkoZik/ZjpbZl0sdz1mLmxlbmd0aCx4PWZbMF0sdD1vKG51bGwsZiksej1vKGgsZiwhMCk7aWYodClyZXR1cm4gZy5nZXQoIm51bGxDb2xvciIpPyhzPWU/Zy5nZXQoIm51bGxDb2xvciIpOnRoaXMuY2FsY0hpZ2hsaWdodENvbG9yKGcuZ2V0KCJudWxsQ29sb3IiKSxnKSxxPXA+MD9wLTE6cCxsLmRyYXdSZWN0KG0scSx0aGlzLmJhcldpZHRoLTEsMCxzLHMpKTpjO3U9cDtmb3Iodj0wO3Y8dzt2Kyspe3g9Zlt2XTtpZihrJiZ4PT09aCl7aWYoIXp8fHkpY29udGludWU7eT0hMH1qPjA/cj1iLmZsb29yKG4qKGIuYWJzKHgtaCkvaikpKzE6cj0xLHg8aHx8eD09PWgmJnA9PT0wPyhxPXUsdSs9cik6KHE9cC1yLHAtPXIpLHM9dGhpcy5jYWxjQ29sb3Iodix4LGEpLGUmJihzPXRoaXMuY2FsY0hpZ2hsaWdodENvbG9yKHMsZykpLGkucHVzaChsLmRyYXdSZWN0KG0scSx0aGlzLmJhcldpZHRoLTEsci0xLHMscykpfXJldHVybiBpLmxlbmd0aD09PTE/aVswXTppfX0pLGQuZm4uc3BhcmtsaW5lLnRyaXN0YXRlPXo9ZyhkLmZuLnNwYXJrbGluZS5fYmFzZSx3LHt0eXBlOiJ0cmlzdGF0ZSIsaW5pdDpmdW5jdGlvbihhLGIsZSxmLGcpe3ZhciBoPXBhcnNlSW50KGUuZ2V0KCJiYXJXaWR0aCIpLDEwKSxpPXBhcnNlSW50KGUuZ2V0KCJiYXJTcGFjaW5nIiksMTApO3ouX3N1cGVyLmluaXQuY2FsbCh0aGlzLGEsYixlLGYsZyksdGhpcy5yZWdpb25TaGFwZXM9e30sdGhpcy5iYXJXaWR0aD1oLHRoaXMuYmFyU3BhY2luZz1pLHRoaXMudG90YWxCYXJXaWR0aD1oK2ksdGhpcy52YWx1ZXM9ZC5tYXAoYixOdW1iZXIpLHRoaXMud2lkdGg9Zj1iLmxlbmd0aCpoKyhiLmxlbmd0aC0xKSppLGQuaXNBcnJheShlLmdldCgiY29sb3JNYXAiKSk/KHRoaXMuY29sb3JNYXBCeUluZGV4PWUuZ2V0KCJjb2xvck1hcCIpLHRoaXMuY29sb3JNYXBCeVZhbHVlPW51bGwpOih0aGlzLmNvbG9yTWFwQnlJbmRleD1udWxsLHRoaXMuY29sb3JNYXBCeVZhbHVlPWUuZ2V0KCJjb2xvck1hcCIpLHRoaXMuY29sb3JNYXBCeVZhbHVlJiZ0aGlzLmNvbG9yTWFwQnlWYWx1ZS5nZXQ9PT1jJiYodGhpcy5jb2xvck1hcEJ5VmFsdWU9bmV3IHQodGhpcy5jb2xvck1hcEJ5VmFsdWUpKSksdGhpcy5pbml0VGFyZ2V0KCl9LGdldFJlZ2lvbjpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGIuZmxvb3IoYy90aGlzLnRvdGFsQmFyV2lkdGgpfSxnZXRDdXJyZW50UmVnaW9uRmllbGRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jdXJyZW50UmVnaW9uO3JldHVybntpc051bGw6dGhpcy52YWx1ZXNbYV09PT1jLHZhbHVlOnRoaXMudmFsdWVzW2FdLGNvbG9yOnRoaXMuY2FsY0NvbG9yKHRoaXMudmFsdWVzW2FdLGEpLG9mZnNldDphfX0sY2FsY0NvbG9yOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy52YWx1ZXMsZD10aGlzLm9wdGlvbnMsZT10aGlzLmNvbG9yTWFwQnlJbmRleCxmPXRoaXMuY29sb3JNYXBCeVZhbHVlLGcsaDtyZXR1cm4gZiYmKGg9Zi5nZXQoYSkpP2c9aDplJiZlLmxlbmd0aD5iP2c9ZVtiXTpjW2JdPDA/Zz1kLmdldCgibmVnQmFyQ29sb3IiKTpjW2JdPjA/Zz1kLmdldCgicG9zQmFyQ29sb3IiKTpnPWQuZ2V0KCJ6ZXJvQmFyQ29sb3IiKSxnfSxyZW5kZXJSZWdpb246ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLnZhbHVlcyxlPXRoaXMub3B0aW9ucyxmPXRoaXMudGFyZ2V0LGcsaCxpLGosayxsO2c9Zi5waXhlbEhlaWdodCxpPWIucm91bmQoZy8yKSxqPWEqdGhpcy50b3RhbEJhcldpZHRoLGRbYV08MD8oaz1pLGg9aS0xKTpkW2FdPjA/KGs9MCxoPWktMSk6KGs9aS0xLGg9MiksbD10aGlzLmNhbGNDb2xvcihkW2FdLGEpO2lmKGw9PT1udWxsKXJldHVybjtyZXR1cm4gYyYmKGw9dGhpcy5jYWxjSGlnaGxpZ2h0Q29sb3IobCxlKSksZi5kcmF3UmVjdChqLGssdGhpcy5iYXJXaWR0aC0xLGgtMSxsLGwpfX0pLGQuZm4uc3BhcmtsaW5lLmRpc2NyZXRlPUE9ZyhkLmZuLnNwYXJrbGluZS5fYmFzZSx3LHt0eXBlOiJkaXNjcmV0ZSIsaW5pdDpmdW5jdGlvbihhLGUsZixnLGgpe0EuX3N1cGVyLmluaXQuY2FsbCh0aGlzLGEsZSxmLGcsaCksdGhpcy5yZWdpb25TaGFwZXM9e30sdGhpcy52YWx1ZXM9ZT1kLm1hcChlLE51bWJlciksdGhpcy5taW49Yi5taW4uYXBwbHkoYixlKSx0aGlzLm1heD1iLm1heC5hcHBseShiLGUpLHRoaXMucmFuZ2U9dGhpcy5tYXgtdGhpcy5taW4sdGhpcy53aWR0aD1nPWYuZ2V0KCJ3aWR0aCIpPT09ImF1dG8iP2UubGVuZ3RoKjI6dGhpcy53aWR0aCx0aGlzLmludGVydmFsPWIuZmxvb3IoZy9lLmxlbmd0aCksdGhpcy5pdGVtV2lkdGg9Zy9lLmxlbmd0aCxmLmdldCgiY2hhcnRSYW5nZU1pbiIpIT09YyYmKGYuZ2V0KCJjaGFydFJhbmdlQ2xpcCIpfHxmLmdldCgiY2hhcnRSYW5nZU1pbiIpPHRoaXMubWluKSYmKHRoaXMubWluPWYuZ2V0KCJjaGFydFJhbmdlTWluIikpLGYuZ2V0KCJjaGFydFJhbmdlTWF4IikhPT1jJiYoZi5nZXQoImNoYXJ0UmFuZ2VDbGlwIil8fGYuZ2V0KCJjaGFydFJhbmdlTWF4Iik+dGhpcy5tYXgpJiYodGhpcy5tYXg9Zi5nZXQoImNoYXJ0UmFuZ2VNYXgiKSksdGhpcy5pbml0VGFyZ2V0KCksdGhpcy50YXJnZXQmJih0aGlzLmxpbmVIZWlnaHQ9Zi5nZXQoImxpbmVIZWlnaHQiKT09PSJhdXRvIj9iLnJvdW5kKHRoaXMuY2FudmFzSGVpZ2h0Ki4zKTpmLmdldCgibGluZUhlaWdodCIpKX0sZ2V0UmVnaW9uOmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYi5mbG9vcihjL3RoaXMuaXRlbVdpZHRoKX0sZ2V0Q3VycmVudFJlZ2lvbkZpZWxkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY3VycmVudFJlZ2lvbjtyZXR1cm57aXNOdWxsOnRoaXMudmFsdWVzW2FdPT09Yyx2YWx1ZTp0aGlzLnZhbHVlc1thXSxvZmZzZXQ6YX19LHJlbmRlclJlZ2lvbjpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMudmFsdWVzLGU9dGhpcy5vcHRpb25zLGY9dGhpcy5taW4sZz10aGlzLm1heCxoPXRoaXMucmFuZ2Usaj10aGlzLmludGVydmFsLGs9dGhpcy50YXJnZXQsbD10aGlzLmNhbnZhc0hlaWdodCxtPXRoaXMubGluZUhlaWdodCxuPWwtbSxvLHAscSxyO3JldHVybiBwPWkoZFthXSxmLGcpLHI9YSpqLG89Yi5yb3VuZChuLW4qKChwLWYpL2gpKSxxPWUuZ2V0KCJ0aHJlc2hvbGRDb2xvciIpJiZwPGUuZ2V0KCJ0aHJlc2hvbGRWYWx1ZSIpP2UuZ2V0KCJ0aHJlc2hvbGRDb2xvciIpOmUuZ2V0KCJsaW5lQ29sb3IiKSxjJiYocT10aGlzLmNhbGNIaWdobGlnaHRDb2xvcihxLGUpKSxrLmRyYXdMaW5lKHIsbyxyLG8rbSxxKX19KSxkLmZuLnNwYXJrbGluZS5idWxsZXQ9Qj1nKGQuZm4uc3BhcmtsaW5lLl9iYXNlLHt0eXBlOiJidWxsZXQiLGluaXQ6ZnVuY3Rpb24oYSxkLGUsZixnKXt2YXIgaCxpLGo7Qi5fc3VwZXIuaW5pdC5jYWxsKHRoaXMsYSxkLGUsZixnKSx0aGlzLnZhbHVlcz1kPWwoZCksaj1kLnNsaWNlKCksalswXT1qWzBdPT09bnVsbD9qWzJdOmpbMF0salsxXT1kWzFdPT09bnVsbD9qWzJdOmpbMV0saD1iLm1pbi5hcHBseShiLGQpLGk9Yi5tYXguYXBwbHkoYixkKSxlLmdldCgiYmFzZSIpPT09Yz9oPWg8MD9oOjA6aD1lLmdldCgiYmFzZSIpLHRoaXMubWluPWgsdGhpcy5tYXg9aSx0aGlzLnJhbmdlPWktaCx0aGlzLnNoYXBlcz17fSx0aGlzLnZhbHVlU2hhcGVzPXt9LHRoaXMucmVnaW9uZGF0YT17fSx0aGlzLndpZHRoPWY9ZS5nZXQoIndpZHRoIik9PT0iYXV0byI/IjQuMGVtIjpmLHRoaXMudGFyZ2V0PXRoaXMuJGVsLnNpbXBsZWRyYXcoZixnLGUuZ2V0KCJjb21wb3NpdGUiKSksZC5sZW5ndGh8fCh0aGlzLmRpc2FibGVkPSEwKSx0aGlzLmluaXRUYXJnZXQoKX0sZ2V0UmVnaW9uOmZ1bmN0aW9uKGEsYixkKXt2YXIgZT10aGlzLnRhcmdldC5nZXRTaGFwZUF0KGEsYixkKTtyZXR1cm4gZSE9PWMmJnRoaXMuc2hhcGVzW2VdIT09Yz90aGlzLnNoYXBlc1tlXTpjfSxnZXRDdXJyZW50UmVnaW9uRmllbGRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jdXJyZW50UmVnaW9uO3JldHVybntmaWVsZGtleTphLnN1YnN0cigwLDEpLHZhbHVlOnRoaXMudmFsdWVzW2Euc3Vic3RyKDEpXSxyZWdpb246YX19LGNoYW5nZUhpZ2hsaWdodDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmN1cnJlbnRSZWdpb24sYz10aGlzLnZhbHVlU2hhcGVzW2JdLGQ7ZGVsZXRlIHRoaXMuc2hhcGVzW2NdO3N3aXRjaChiLnN1YnN0cigwLDEpKXtjYXNlInIiOmQ9dGhpcy5yZW5kZXJSYW5nZShiLnN1YnN0cigxKSxhKTticmVhaztjYXNlInAiOmQ9dGhpcy5yZW5kZXJQZXJmb3JtYW5jZShhKTticmVhaztjYXNlInQiOmQ9dGhpcy5yZW5kZXJUYXJnZXQoYSl9dGhpcy52YWx1ZVNoYXBlc1tiXT1kLmlkLHRoaXMuc2hhcGVzW2QuaWRdPWIsdGhpcy50YXJnZXQucmVwbGFjZVdpdGhTaGFwZShjLGQpfSxyZW5kZXJSYW5nZTpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMudmFsdWVzW2FdLGU9Yi5yb3VuZCh0aGlzLmNhbnZhc1dpZHRoKigoZC10aGlzLm1pbikvdGhpcy5yYW5nZSkpLGY9dGhpcy5vcHRpb25zLmdldCgicmFuZ2VDb2xvcnMiKVthLTJdO3JldHVybiBjJiYoZj10aGlzLmNhbGNIaWdobGlnaHRDb2xvcihmLHRoaXMub3B0aW9ucykpLHRoaXMudGFyZ2V0LmRyYXdSZWN0KDAsMCxlLTEsdGhpcy5jYW52YXNIZWlnaHQtMSxmLGYpfSxyZW5kZXJQZXJmb3JtYW5jZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnZhbHVlc1sxXSxkPWIucm91bmQodGhpcy5jYW52YXNXaWR0aCooKGMtdGhpcy5taW4pL3RoaXMucmFuZ2UpKSxlPXRoaXMub3B0aW9ucy5nZXQoInBlcmZvcm1hbmNlQ29sb3IiKTtyZXR1cm4gYSYmKGU9dGhpcy5jYWxjSGlnaGxpZ2h0Q29sb3IoZSx0aGlzLm9wdGlvbnMpKSx0aGlzLnRhcmdldC5kcmF3UmVjdCgwLGIucm91bmQodGhpcy5jYW52YXNIZWlnaHQqLjMpLGQtMSxiLnJvdW5kKHRoaXMuY2FudmFzSGVpZ2h0Ki40KS0xLGUsZSl9LHJlbmRlclRhcmdldDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnZhbHVlc1swXSxkPWIucm91bmQodGhpcy5jYW52YXNXaWR0aCooKGMtdGhpcy5taW4pL3RoaXMucmFuZ2UpLXRoaXMub3B0aW9ucy5nZXQoInRhcmdldFdpZHRoIikvMiksZT1iLnJvdW5kKHRoaXMuY2FudmFzSGVpZ2h0Ki4xKSxmPXRoaXMuY2FudmFzSGVpZ2h0LWUqMixnPXRoaXMub3B0aW9ucy5nZXQoInRhcmdldENvbG9yIik7cmV0dXJuIGEmJihnPXRoaXMuY2FsY0hpZ2hsaWdodENvbG9yKGcsdGhpcy5vcHRpb25zKSksdGhpcy50YXJnZXQuZHJhd1JlY3QoZCxlLHRoaXMub3B0aW9ucy5nZXQoInRhcmdldFdpZHRoIiktMSxmLTEsZyxnKX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52YWx1ZXMubGVuZ3RoLGI9dGhpcy50YXJnZXQsYyxkO2lmKCFCLl9zdXBlci5yZW5kZXIuY2FsbCh0aGlzKSlyZXR1cm47Zm9yKGM9MjtjPGE7YysrKWQ9dGhpcy5yZW5kZXJSYW5nZShjKS5hcHBlbmQoKSx0aGlzLnNoYXBlc1tkLmlkXT0iciIrYyx0aGlzLnZhbHVlU2hhcGVzWyJyIitjXT1kLmlkO3RoaXMudmFsdWVzWzFdIT09bnVsbCYmKGQ9dGhpcy5yZW5kZXJQZXJmb3JtYW5jZSgpLmFwcGVuZCgpLHRoaXMuc2hhcGVzW2QuaWRdPSJwMSIsdGhpcy52YWx1ZVNoYXBlcy5wMT1kLmlkKSx0aGlzLnZhbHVlc1swXSE9PW51bGwmJihkPXRoaXMucmVuZGVyVGFyZ2V0KCkuYXBwZW5kKCksdGhpcy5zaGFwZXNbZC5pZF09InQwIix0aGlzLnZhbHVlU2hhcGVzLnQwPWQuaWQpLGIucmVuZGVyKCl9fSksZC5mbi5zcGFya2xpbmUucGllPUM9ZyhkLmZuLnNwYXJrbGluZS5fYmFzZSx7dHlwZToicGllIixpbml0OmZ1bmN0aW9uKGEsYyxlLGYsZyl7dmFyIGg9MCxpO0MuX3N1cGVyLmluaXQuY2FsbCh0aGlzLGEsYyxlLGYsZyksdGhpcy5zaGFwZXM9e30sdGhpcy52YWx1ZVNoYXBlcz17fSx0aGlzLnZhbHVlcz1jPWQubWFwKGMsTnVtYmVyKSxlLmdldCgid2lkdGgiKT09PSJhdXRvIiYmKHRoaXMud2lkdGg9dGhpcy5oZWlnaHQpO2lmKGMubGVuZ3RoPjApZm9yKGk9Yy5sZW5ndGg7aS0tOyloKz1jW2ldO3RoaXMudG90YWw9aCx0aGlzLmluaXRUYXJnZXQoKSx0aGlzLnJhZGl1cz1iLmZsb29yKGIubWluKHRoaXMuY2FudmFzV2lkdGgsdGhpcy5jYW52YXNIZWlnaHQpLzIpfSxnZXRSZWdpb246ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXRoaXMudGFyZ2V0LmdldFNoYXBlQXQoYSxiLGQpO3JldHVybiBlIT09YyYmdGhpcy5zaGFwZXNbZV0hPT1jP3RoaXMuc2hhcGVzW2VdOmN9LGdldEN1cnJlbnRSZWdpb25GaWVsZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmN1cnJlbnRSZWdpb247cmV0dXJue2lzTnVsbDp0aGlzLnZhbHVlc1thXT09PWMsdmFsdWU6dGhpcy52YWx1ZXNbYV0scGVyY2VudDp0aGlzLnZhbHVlc1thXS90aGlzLnRvdGFsKjEwMCxjb2xvcjp0aGlzLm9wdGlvbnMuZ2V0KCJzbGljZUNvbG9ycyIpW2EldGhpcy5vcHRpb25zLmdldCgic2xpY2VDb2xvcnMiKS5sZW5ndGhdLG9mZnNldDphfX0sY2hhbmdlSGlnaGxpZ2h0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3VycmVudFJlZ2lvbixjPXRoaXMucmVuZGVyU2xpY2UoYixhKSxkPXRoaXMudmFsdWVTaGFwZXNbYl07ZGVsZXRlIHRoaXMuc2hhcGVzW2RdLHRoaXMudGFyZ2V0LnJlcGxhY2VXaXRoU2hhcGUoZCxjKSx0aGlzLnZhbHVlU2hhcGVzW2JdPWMuaWQsdGhpcy5zaGFwZXNbYy5pZF09Yn0scmVuZGVyU2xpY2U6ZnVuY3Rpb24oYSxkKXt2YXIgZT10aGlzLnRhcmdldCxmPXRoaXMub3B0aW9ucyxnPXRoaXMucmFkaXVzLGg9Zi5nZXQoImJvcmRlcldpZHRoIiksaT1mLmdldCgib2Zmc2V0Iiksaj0yKmIuUEksaz10aGlzLnZhbHVlcyxsPXRoaXMudG90YWwsbT1pPzIqYi5QSSooaS8zNjApOjAsbixvLHAscSxyO3E9ay5sZW5ndGg7Zm9yKHA9MDtwPHE7cCsrKXtuPW0sbz1tLGw+MCYmKG89bStqKihrW3BdL2wpKTtpZihhPT09cClyZXR1cm4gcj1mLmdldCgic2xpY2VDb2xvcnMiKVtwJWYuZ2V0KCJzbGljZUNvbG9ycyIpLmxlbmd0aF0sZCYmKHI9dGhpcy5jYWxjSGlnaGxpZ2h0Q29sb3IocixmKSksZS5kcmF3UGllU2xpY2UoZyxnLGctaCxuLG8sYyxyKTttPW99fSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRhcmdldCxkPXRoaXMudmFsdWVzLGU9dGhpcy5vcHRpb25zLGY9dGhpcy5yYWRpdXMsZz1lLmdldCgiYm9yZGVyV2lkdGgiKSxoLGk7aWYoIUMuX3N1cGVyLnJlbmRlci5jYWxsKHRoaXMpKXJldHVybjtnJiZhLmRyYXdDaXJjbGUoZixmLGIuZmxvb3IoZi1nLzIpLGUuZ2V0KCJib3JkZXJDb2xvciIpLGMsZykuYXBwZW5kKCk7Zm9yKGk9ZC5sZW5ndGg7aS0tOylkW2ldJiYoaD10aGlzLnJlbmRlclNsaWNlKGkpLmFwcGVuZCgpLHRoaXMudmFsdWVTaGFwZXNbaV09aC5pZCx0aGlzLnNoYXBlc1toLmlkXT1pKTthLnJlbmRlcigpfX0pLGQuZm4uc3BhcmtsaW5lLmJveD1EPWcoZC5mbi5zcGFya2xpbmUuX2Jhc2Use3R5cGU6ImJveCIsaW5pdDpmdW5jdGlvbihhLGIsYyxlLGYpe0QuX3N1cGVyLmluaXQuY2FsbCh0aGlzLGEsYixjLGUsZiksdGhpcy52YWx1ZXM9ZC5tYXAoYixOdW1iZXIpLHRoaXMud2lkdGg9Yy5nZXQoIndpZHRoIik9PT0iYXV0byI/IjQuMGVtIjplLHRoaXMuaW5pdFRhcmdldCgpLHRoaXMudmFsdWVzLmxlbmd0aHx8KHRoaXMuZGlzYWJsZWQ9MSl9LGdldFJlZ2lvbjpmdW5jdGlvbigpe3JldHVybiAxfSxnZXRDdXJyZW50UmVnaW9uRmllbGRzOmZ1bmN0aW9uKCl7dmFyIGE9W3tmaWVsZDoibHEiLHZhbHVlOnRoaXMucXVhcnRpbGVzWzBdfSx7ZmllbGQ6Im1lZCIsdmFsdWU6dGhpcy5xdWFydGlsZXMKWzFdfSx7ZmllbGQ6InVxIix2YWx1ZTp0aGlzLnF1YXJ0aWxlc1syXX1dO3JldHVybiB0aGlzLmxvdXRsaWVyIT09YyYmYS5wdXNoKHtmaWVsZDoibG8iLHZhbHVlOnRoaXMubG91dGxpZXJ9KSx0aGlzLnJvdXRsaWVyIT09YyYmYS5wdXNoKHtmaWVsZDoicm8iLHZhbHVlOnRoaXMucm91dGxpZXJ9KSx0aGlzLmx3aGlza2VyIT09YyYmYS5wdXNoKHtmaWVsZDoibHciLHZhbHVlOnRoaXMubHdoaXNrZXJ9KSx0aGlzLnJ3aGlza2VyIT09YyYmYS5wdXNoKHtmaWVsZDoicnciLHZhbHVlOnRoaXMucndoaXNrZXJ9KSxhfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRhcmdldCxkPXRoaXMudmFsdWVzLGU9ZC5sZW5ndGgsZj10aGlzLm9wdGlvbnMsZz10aGlzLmNhbnZhc1dpZHRoLGg9dGhpcy5jYW52YXNIZWlnaHQsaT1mLmdldCgiY2hhcnRSYW5nZU1pbiIpPT09Yz9iLm1pbi5hcHBseShiLGQpOmYuZ2V0KCJjaGFydFJhbmdlTWluIiksaz1mLmdldCgiY2hhcnRSYW5nZU1heCIpPT09Yz9iLm1heC5hcHBseShiLGQpOmYuZ2V0KCJjaGFydFJhbmdlTWF4IiksbD0wLG0sbixvLHAscSxyLHMsdCx1LHYsdztpZighRC5fc3VwZXIucmVuZGVyLmNhbGwodGhpcykpcmV0dXJuO2lmKGYuZ2V0KCJyYXciKSlmLmdldCgic2hvd091dGxpZXJzIikmJmQubGVuZ3RoPjU/KG49ZFswXSxtPWRbMV0scD1kWzJdLHE9ZFszXSxyPWRbNF0scz1kWzVdLHQ9ZFs2XSk6KG09ZFswXSxwPWRbMV0scT1kWzJdLHI9ZFszXSxzPWRbNF0pO2Vsc2V7ZC5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pLHA9aihkLDEpLHE9aihkLDIpLHI9aihkLDMpLG89ci1wO2lmKGYuZ2V0KCJzaG93T3V0bGllcnMiKSl7bT1zPWM7Zm9yKHU9MDt1PGU7dSsrKW09PT1jJiZkW3VdPnAtbypmLmdldCgib3V0bGllcklRUiIpJiYobT1kW3VdKSxkW3VdPHIrbypmLmdldCgib3V0bGllcklRUiIpJiYocz1kW3VdKTtuPWRbMF0sdD1kW2UtMV19ZWxzZSBtPWRbMF0scz1kW2UtMV19dGhpcy5xdWFydGlsZXM9W3AscSxyXSx0aGlzLmx3aGlza2VyPW0sdGhpcy5yd2hpc2tlcj1zLHRoaXMubG91dGxpZXI9bix0aGlzLnJvdXRsaWVyPXQsdz1nLyhrLWkrMSksZi5nZXQoInNob3dPdXRsaWVycyIpJiYobD1iLmNlaWwoZi5nZXQoInNwb3RSYWRpdXMiKSksZy09MipiLmNlaWwoZi5nZXQoInNwb3RSYWRpdXMiKSksdz1nLyhrLWkrMSksbjxtJiZhLmRyYXdDaXJjbGUoKG4taSkqdytsLGgvMixmLmdldCgic3BvdFJhZGl1cyIpLGYuZ2V0KCJvdXRsaWVyTGluZUNvbG9yIiksZi5nZXQoIm91dGxpZXJGaWxsQ29sb3IiKSkuYXBwZW5kKCksdD5zJiZhLmRyYXdDaXJjbGUoKHQtaSkqdytsLGgvMixmLmdldCgic3BvdFJhZGl1cyIpLGYuZ2V0KCJvdXRsaWVyTGluZUNvbG9yIiksZi5nZXQoIm91dGxpZXJGaWxsQ29sb3IiKSkuYXBwZW5kKCkpLGEuZHJhd1JlY3QoYi5yb3VuZCgocC1pKSp3K2wpLGIucm91bmQoaCouMSksYi5yb3VuZCgoci1wKSp3KSxiLnJvdW5kKGgqLjgpLGYuZ2V0KCJib3hMaW5lQ29sb3IiKSxmLmdldCgiYm94RmlsbENvbG9yIikpLmFwcGVuZCgpLGEuZHJhd0xpbmUoYi5yb3VuZCgobS1pKSp3K2wpLGIucm91bmQoaC8yKSxiLnJvdW5kKChwLWkpKncrbCksYi5yb3VuZChoLzIpLGYuZ2V0KCJsaW5lQ29sb3IiKSkuYXBwZW5kKCksYS5kcmF3TGluZShiLnJvdW5kKChtLWkpKncrbCksYi5yb3VuZChoLzQpLGIucm91bmQoKG0taSkqdytsKSxiLnJvdW5kKGgtaC80KSxmLmdldCgid2hpc2tlckNvbG9yIikpLmFwcGVuZCgpLGEuZHJhd0xpbmUoYi5yb3VuZCgocy1pKSp3K2wpLGIucm91bmQoaC8yKSxiLnJvdW5kKChyLWkpKncrbCksYi5yb3VuZChoLzIpLGYuZ2V0KCJsaW5lQ29sb3IiKSkuYXBwZW5kKCksYS5kcmF3TGluZShiLnJvdW5kKChzLWkpKncrbCksYi5yb3VuZChoLzQpLGIucm91bmQoKHMtaSkqdytsKSxiLnJvdW5kKGgtaC80KSxmLmdldCgid2hpc2tlckNvbG9yIikpLmFwcGVuZCgpLGEuZHJhd0xpbmUoYi5yb3VuZCgocS1pKSp3K2wpLGIucm91bmQoaCouMSksYi5yb3VuZCgocS1pKSp3K2wpLGIucm91bmQoaCouOSksZi5nZXQoIm1lZGlhbkNvbG9yIikpLmFwcGVuZCgpLGYuZ2V0KCJ0YXJnZXQiKSYmKHY9Yi5jZWlsKGYuZ2V0KCJzcG90UmFkaXVzIikpLGEuZHJhd0xpbmUoYi5yb3VuZCgoZi5nZXQoInRhcmdldCIpLWkpKncrbCksYi5yb3VuZChoLzItdiksYi5yb3VuZCgoZi5nZXQoInRhcmdldCIpLWkpKncrbCksYi5yb3VuZChoLzIrdiksZi5nZXQoInRhcmdldENvbG9yIikpLmFwcGVuZCgpLGEuZHJhd0xpbmUoYi5yb3VuZCgoZi5nZXQoInRhcmdldCIpLWkpKncrbC12KSxiLnJvdW5kKGgvMiksYi5yb3VuZCgoZi5nZXQoInRhcmdldCIpLWkpKncrbCt2KSxiLnJvdW5kKGgvMiksZi5nZXQoInRhcmdldENvbG9yIikpLmFwcGVuZCgpKSxhLnJlbmRlcigpfX0pLEc9Zyh7aW5pdDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLnRhcmdldD1hLHRoaXMuaWQ9Yix0aGlzLnR5cGU9Yyx0aGlzLmFyZ3M9ZH0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0LmFwcGVuZFNoYXBlKHRoaXMpLHRoaXN9fSksSD1nKHtfcHhyZWdleDovKFxkKykocHgpP1xzKiQvaSxpbml0OmZ1bmN0aW9uKGEsYixjKXtpZighYSlyZXR1cm47dGhpcy53aWR0aD1hLHRoaXMuaGVpZ2h0PWIsdGhpcy50YXJnZXQ9Yyx0aGlzLmxhc3RTaGFwZUlkPW51bGwsY1swXSYmKGM9Y1swXSksZC5kYXRhKGMsIl9qcXNfdmNhbnZhcyIsdGhpcyl9LGRyYXdMaW5lOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gdGhpcy5kcmF3U2hhcGUoW1thLGJdLFtjLGRdXSxlLGYpfSxkcmF3U2hhcGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuX2dlblNoYXBlKCJTaGFwZSIsW2EsYixjLGRdKX0sZHJhd0NpcmNsZTpmdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIHRoaXMuX2dlblNoYXBlKCJDaXJjbGUiLFthLGIsYyxkLGUsZl0pfSxkcmF3UGllU2xpY2U6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7cmV0dXJuIHRoaXMuX2dlblNoYXBlKCJQaWVTbGljZSIsW2EsYixjLGQsZSxmLGddKX0sZHJhd1JlY3Q6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiB0aGlzLl9nZW5TaGFwZSgiUmVjdCIsW2EsYixjLGQsZSxmXSl9LGdldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXN9LGdldExhc3RTaGFwZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFzdFNoYXBlSWR9LHJlc2V0OmZ1bmN0aW9uKCl7YWxlcnQoInJlc2V0IG5vdCBpbXBsZW1lbnRlZCIpfSxfaW5zZXJ0OmZ1bmN0aW9uKGEsYil7ZChiKS5odG1sKGEpfSxfY2FsY3VsYXRlUGl4ZWxEaW1zOmZ1bmN0aW9uKGEsYixjKXt2YXIgZTtlPXRoaXMuX3B4cmVnZXguZXhlYyhiKSxlP3RoaXMucGl4ZWxIZWlnaHQ9ZVsxXTp0aGlzLnBpeGVsSGVpZ2h0PWQoYykuaGVpZ2h0KCksZT10aGlzLl9weHJlZ2V4LmV4ZWMoYSksZT90aGlzLnBpeGVsV2lkdGg9ZVsxXTp0aGlzLnBpeGVsV2lkdGg9ZChjKS53aWR0aCgpfSxfZ2VuU2hhcGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1MKys7cmV0dXJuIGIudW5zaGlmdChjKSxuZXcgRyh0aGlzLGMsYSxiKX0sYXBwZW5kU2hhcGU6ZnVuY3Rpb24oYSl7YWxlcnQoImFwcGVuZFNoYXBlIG5vdCBpbXBsZW1lbnRlZCIpfSxyZXBsYWNlV2l0aFNoYXBlOmZ1bmN0aW9uKGEsYil7YWxlcnQoInJlcGxhY2VXaXRoU2hhcGUgbm90IGltcGxlbWVudGVkIil9LGluc2VydEFmdGVyU2hhcGU6ZnVuY3Rpb24oYSxiKXthbGVydCgiaW5zZXJ0QWZ0ZXJTaGFwZSBub3QgaW1wbGVtZW50ZWQiKX0scmVtb3ZlU2hhcGVJZDpmdW5jdGlvbihhKXthbGVydCgicmVtb3ZlU2hhcGVJZCBub3QgaW1wbGVtZW50ZWQiKX0sZ2V0U2hhcGVBdDpmdW5jdGlvbihhLGIsYyl7YWxlcnQoImdldFNoYXBlQXQgbm90IGltcGxlbWVudGVkIil9LHJlbmRlcjpmdW5jdGlvbigpe2FsZXJ0KCJyZW5kZXIgbm90IGltcGxlbWVudGVkIil9fSksST1nKEgse2luaXQ6ZnVuY3Rpb24oYixlLGYsZyl7SS5fc3VwZXIuaW5pdC5jYWxsKHRoaXMsYixlLGYpLHRoaXMuY2FudmFzPWEuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksZlswXSYmKGY9ZlswXSksZC5kYXRhKGYsIl9qcXNfdmNhbnZhcyIsdGhpcyksZCh0aGlzLmNhbnZhcykuY3NzKHtkaXNwbGF5OiJpbmxpbmUtYmxvY2siLHdpZHRoOmIsaGVpZ2h0OmUsdmVydGljYWxBbGlnbjoidG9wIn0pLHRoaXMuX2luc2VydCh0aGlzLmNhbnZhcyxmKSx0aGlzLl9jYWxjdWxhdGVQaXhlbERpbXMoYixlLHRoaXMuY2FudmFzKSx0aGlzLmNhbnZhcy53aWR0aD10aGlzLnBpeGVsV2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0PXRoaXMucGl4ZWxIZWlnaHQsdGhpcy5pbnRlcmFjdD1nLHRoaXMuc2hhcGVzPXt9LHRoaXMuc2hhcGVzZXE9W10sdGhpcy5jdXJyZW50VGFyZ2V0U2hhcGVJZD1jLGQodGhpcy5jYW52YXMpLmNzcyh7d2lkdGg6dGhpcy5waXhlbFdpZHRoLGhlaWdodDp0aGlzLnBpeGVsSGVpZ2h0fSl9LF9nZXRDb250ZXh0OmZ1bmN0aW9uKGEsYixkKXt2YXIgZT10aGlzLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBhIT09YyYmKGUuc3Ryb2tlU3R5bGU9YSksZS5saW5lV2lkdGg9ZD09PWM/MTpkLGIhPT1jJiYoZS5maWxsU3R5bGU9YiksZX0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9nZXRDb250ZXh0KCk7YS5jbGVhclJlY3QoMCwwLHRoaXMucGl4ZWxXaWR0aCx0aGlzLnBpeGVsSGVpZ2h0KSx0aGlzLnNoYXBlcz17fSx0aGlzLnNoYXBlc2VxPVtdLHRoaXMuY3VycmVudFRhcmdldFNoYXBlSWQ9Y30sX2RyYXdTaGFwZTpmdW5jdGlvbihhLGIsZCxlLGYpe3ZhciBnPXRoaXMuX2dldENvbnRleHQoZCxlLGYpLGgsaTtnLmJlZ2luUGF0aCgpLGcubW92ZVRvKGJbMF1bMF0rLjUsYlswXVsxXSsuNSk7Zm9yKGg9MSxpPWIubGVuZ3RoO2g8aTtoKyspZy5saW5lVG8oYltoXVswXSsuNSxiW2hdWzFdKy41KTtkIT09YyYmZy5zdHJva2UoKSxlIT09YyYmZy5maWxsKCksdGhpcy50YXJnZXRYIT09YyYmdGhpcy50YXJnZXRZIT09YyYmZy5pc1BvaW50SW5QYXRoKHRoaXMudGFyZ2V0WCx0aGlzLnRhcmdldFkpJiYodGhpcy5jdXJyZW50VGFyZ2V0U2hhcGVJZD1hKX0sX2RyYXdDaXJjbGU6ZnVuY3Rpb24oYSxkLGUsZixnLGgsaSl7dmFyIGo9dGhpcy5fZ2V0Q29udGV4dChnLGgsaSk7ai5iZWdpblBhdGgoKSxqLmFyYyhkLGUsZiwwLDIqYi5QSSwhMSksdGhpcy50YXJnZXRYIT09YyYmdGhpcy50YXJnZXRZIT09YyYmai5pc1BvaW50SW5QYXRoKHRoaXMudGFyZ2V0WCx0aGlzLnRhcmdldFkpJiYodGhpcy5jdXJyZW50VGFyZ2V0U2hhcGVJZD1hKSxnIT09YyYmai5zdHJva2UoKSxoIT09YyYmai5maWxsKCl9LF9kcmF3UGllU2xpY2U6ZnVuY3Rpb24oYSxiLGQsZSxmLGcsaCxpKXt2YXIgaj10aGlzLl9nZXRDb250ZXh0KGgsaSk7ai5iZWdpblBhdGgoKSxqLm1vdmVUbyhiLGQpLGouYXJjKGIsZCxlLGYsZywhMSksai5saW5lVG8oYixkKSxqLmNsb3NlUGF0aCgpLGghPT1jJiZqLnN0cm9rZSgpLGkmJmouZmlsbCgpLHRoaXMudGFyZ2V0WCE9PWMmJnRoaXMudGFyZ2V0WSE9PWMmJmouaXNQb2ludEluUGF0aCh0aGlzLnRhcmdldFgsdGhpcy50YXJnZXRZKSYmKHRoaXMuY3VycmVudFRhcmdldFNoYXBlSWQ9YSl9LF9kcmF3UmVjdDpmdW5jdGlvbihhLGIsYyxkLGUsZixnKXtyZXR1cm4gdGhpcy5fZHJhd1NoYXBlKGEsW1tiLGNdLFtiK2QsY10sW2IrZCxjK2VdLFtiLGMrZV0sW2IsY11dLGYsZyl9LGFwcGVuZFNoYXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNoYXBlc1thLmlkXT1hLHRoaXMuc2hhcGVzZXEucHVzaChhLmlkKSx0aGlzLmxhc3RTaGFwZUlkPWEuaWQsYS5pZH0scmVwbGFjZVdpdGhTaGFwZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2hhcGVzZXEsZDt0aGlzLnNoYXBlc1tiLmlkXT1iO2ZvcihkPWMubGVuZ3RoO2QtLTspY1tkXT09YSYmKGNbZF09Yi5pZCk7ZGVsZXRlIHRoaXMuc2hhcGVzW2FdfSxyZXBsYWNlV2l0aFNoYXBlczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2hhcGVzZXEsZD17fSxlLGYsZztmb3IoZj1hLmxlbmd0aDtmLS07KWRbYVtmXV09ITA7Zm9yKGY9Yy5sZW5ndGg7Zi0tOyllPWNbZl0sZFtlXSYmKGMuc3BsaWNlKGYsMSksZGVsZXRlIHRoaXMuc2hhcGVzW2VdLGc9Zik7Zm9yKGY9Yi5sZW5ndGg7Zi0tOyljLnNwbGljZShnLDAsYltmXS5pZCksdGhpcy5zaGFwZXNbYltmXS5pZF09YltmXX0saW5zZXJ0QWZ0ZXJTaGFwZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2hhcGVzZXEsZDtmb3IoZD1jLmxlbmd0aDtkLS07KWlmKGNbZF09PT1hKXtjLnNwbGljZShkKzEsMCxiLmlkKSx0aGlzLnNoYXBlc1tiLmlkXT1iO3JldHVybn19LHJlbW92ZVNoYXBlSWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zaGFwZXNlcSxjO2ZvcihjPWIubGVuZ3RoO2MtLTspaWYoYltjXT09PWEpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9ZGVsZXRlIHRoaXMuc2hhcGVzW2FdfSxnZXRTaGFwZUF0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy50YXJnZXRYPWIsdGhpcy50YXJnZXRZPWMsdGhpcy5yZW5kZXIoKSx0aGlzLmN1cnJlbnRUYXJnZXRTaGFwZUlkfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNoYXBlc2VxLGI9dGhpcy5zaGFwZXMsYz1hLmxlbmd0aCxkPXRoaXMuX2dldENvbnRleHQoKSxlLGYsZztkLmNsZWFyUmVjdCgwLDAsdGhpcy5waXhlbFdpZHRoLHRoaXMucGl4ZWxIZWlnaHQpO2ZvcihnPTA7ZzxjO2crKyllPWFbZ10sZj1iW2VdLHRoaXNbIl9kcmF3IitmLnR5cGVdLmFwcGx5KHRoaXMsZi5hcmdzKTt0aGlzLmludGVyYWN0fHwodGhpcy5zaGFwZXM9e30sdGhpcy5zaGFwZXNlcT1bXSl9fSksSj1nKEgse2luaXQ6ZnVuY3Rpb24oYixjLGUpe3ZhciBmO0ouX3N1cGVyLmluaXQuY2FsbCh0aGlzLGIsYyxlKSxlWzBdJiYoZT1lWzBdKSxkLmRhdGEoZSwiX2pxc192Y2FudmFzIix0aGlzKSx0aGlzLmNhbnZhcz1hLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxkKHRoaXMuY2FudmFzKS5jc3Moe2Rpc3BsYXk6ImlubGluZS1ibG9jayIscG9zaXRpb246InJlbGF0aXZlIixvdmVyZmxvdzoiaGlkZGVuIix3aWR0aDpiLGhlaWdodDpjLG1hcmdpbjoiMHB4IixwYWRkaW5nOiIwcHgiLHZlcnRpY2FsQWxpZ246InRvcCJ9KSx0aGlzLl9pbnNlcnQodGhpcy5jYW52YXMsZSksdGhpcy5fY2FsY3VsYXRlUGl4ZWxEaW1zKGIsYyx0aGlzLmNhbnZhcyksdGhpcy5jYW52YXMud2lkdGg9dGhpcy5waXhlbFdpZHRoLHRoaXMuY2FudmFzLmhlaWdodD10aGlzLnBpeGVsSGVpZ2h0LGY9Jzx2Omdyb3VwIGNvb3Jkb3JpZ2luPSIwIDAiIGNvb3Jkc2l6ZT0iJyt0aGlzLnBpeGVsV2lkdGgrIiAiK3RoaXMucGl4ZWxIZWlnaHQrJyInKycgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDonK3RoaXMucGl4ZWxXaWR0aCsicHg7aGVpZ2h0PSIrdGhpcy5waXhlbEhlaWdodCsncHg7Ij48L3Y6Z3JvdXA+Jyx0aGlzLmNhbnZhcy5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUVuZCIsZiksdGhpcy5ncm91cD1kKHRoaXMuY2FudmFzKS5jaGlsZHJlbigpWzBdLHRoaXMucmVuZGVyZWQ9ITEsdGhpcy5wcmVyZW5kZXI9IiJ9LF9kcmF3U2hhcGU6ZnVuY3Rpb24oYSxiLGQsZSxmKXt2YXIgZz1bXSxoLGksaixrLGwsbSxuO2ZvcihuPTAsbT1iLmxlbmd0aDtuPG07bisrKWdbbl09IiIrYltuXVswXSsiLCIrYltuXVsxXTtyZXR1cm4gaD1nLnNwbGljZSgwLDEpLGY9Zj09PWM/MTpmLGk9ZD09PWM/JyBzdHJva2VkPSJmYWxzZSIgJzonIHN0cm9rZVdlaWdodD0iJytmKydweCIgc3Ryb2tlQ29sb3I9IicrZCsnIiAnLGo9ZT09PWM/JyBmaWxsZWQ9ImZhbHNlIic6JyBmaWxsQ29sb3I9IicrZSsnIiBmaWxsZWQ9InRydWUiICcsaz1nWzBdPT09Z1tnLmxlbmd0aC0xXT8ieCAiOiIiLGw9Jzx2OnNoYXBlIGNvb3Jkb3JpZ2luPSIwIDAiIGNvb3Jkc2l6ZT0iJyt0aGlzLnBpeGVsV2lkdGgrIiAiK3RoaXMucGl4ZWxIZWlnaHQrJyIgJysnIGlkPSJqcXNzaGFwZScrYSsnIiAnK2kraisnIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O2hlaWdodDonK3RoaXMucGl4ZWxIZWlnaHQrInB4O3dpZHRoOiIrdGhpcy5waXhlbFdpZHRoKydweDtwYWRkaW5nOjBweDttYXJnaW46MHB4OyIgJysnIHBhdGg9Im0gJytoKyIgbCAiK2cuam9pbigiLCAiKSsiICIraysnZSI+JysiIDwvdjpzaGFwZT4iLGx9LF9kcmF3Q2lyY2xlOmZ1bmN0aW9uKGEsYixkLGUsZixnLGgpe3ZhciBpLGosaztyZXR1cm4gYi09ZSxkLT1lLGk9Zj09PWM/JyBzdHJva2VkPSJmYWxzZSIgJzonIHN0cm9rZVdlaWdodD0iJytoKydweCIgc3Ryb2tlQ29sb3I9IicrZisnIiAnLGo9Zz09PWM/JyBmaWxsZWQ9ImZhbHNlIic6JyBmaWxsQ29sb3I9IicrZysnIiBmaWxsZWQ9InRydWUiICcsaz0nPHY6b3ZhbCAgaWQ9Impxc3NoYXBlJythKyciICcraStqKycgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDonK2QrInB4OyBsZWZ0OiIrYisicHg7IHdpZHRoOiIrZSoyKyJweDsgaGVpZ2h0OiIrZSoyKydweCI+PC92Om92YWw+JyxrfSxfZHJhd1BpZVNsaWNlOmZ1bmN0aW9uKGEsZCxlLGYsZyxoLGksail7dmFyIGssbCxtLG4sbyxwLHEscjtpZihnPT09aClyZXR1cm4iIjtoLWc9PT0yKmIuUEkmJihnPTAsaD0yKmIuUEkpLGw9ZCtiLnJvdW5kKGIuY29zKGcpKmYpLG09ZStiLnJvdW5kKGIuc2luKGcpKmYpLG49ZCtiLnJvdW5kKGIuY29zKGgpKmYpLG89ZStiLnJvdW5kKGIuc2luKGgpKmYpO2lmKGw9PT1uJiZtPT09byl7aWYoaC1nPGIuUEkpcmV0dXJuIiI7bD1uPWQrZixtPW89ZX1yZXR1cm4gbD09PW4mJm09PT1vJiZoLWc8Yi5QST8iIjooaz1bZC1mLGUtZixkK2YsZStmLGwsbSxuLG9dLHA9aT09PWM/JyBzdHJva2VkPSJmYWxzZSIgJzonIHN0cm9rZVdlaWdodD0iMXB4IiBzdHJva2VDb2xvcj0iJytpKyciICcscT1qPT09Yz8nIGZpbGxlZD0iZmFsc2UiJzonIGZpbGxDb2xvcj0iJytqKyciIGZpbGxlZD0idHJ1ZSIgJyxyPSc8djpzaGFwZSBjb29yZG9yaWdpbj0iMCAwIiBjb29yZHNpemU9IicrdGhpcy5waXhlbFdpZHRoKyIgIit0aGlzLnBpeGVsSGVpZ2h0KyciICcrJyBpZD0ianFzc2hhcGUnK2ErJyIgJytwK3ErJyBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowcHg7dG9wOjBweDtoZWlnaHQ6Jyt0aGlzLnBpeGVsSGVpZ2h0KyJweDt3aWR0aDoiK3RoaXMucGl4ZWxXaWR0aCsncHg7cGFkZGluZzowcHg7bWFyZ2luOjBweDsiICcrJyBwYXRoPSJtICcrZCsiLCIrZSsiIHdhICIray5qb2luKCIsICIpKycgeCBlIj4nKyIgPC92OnNoYXBlPiIscil9LF9kcmF3UmVjdDpmdW5jdGlvbihhLGIsYyxkLGUsZixnKXtyZXR1cm4gdGhpcy5fZHJhd1NoYXBlKGEsW1tiLGNdLFtiLGMrZV0sW2IrZCxjK2VdLFtiK2QsY10sW2IsY11dLGYsZyl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5ncm91cC5pbm5lckhUTUw9IiJ9LGFwcGVuZFNoYXBlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbIl9kcmF3IithLnR5cGVdLmFwcGx5KHRoaXMsYS5hcmdzKTtyZXR1cm4gdGhpcy5yZW5kZXJlZD90aGlzLmdyb3VwLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlRW5kIixiKTp0aGlzLnByZXJlbmRlcis9Yix0aGlzLmxhc3RTaGFwZUlkPWEuaWQsYS5pZH0scmVwbGFjZVdpdGhTaGFwZTpmdW5jdGlvbihhLGIpe3ZhciBjPWQoIiNqcXNzaGFwZSIrYSksZT10aGlzWyJfZHJhdyIrYi50eXBlXS5hcHBseSh0aGlzLGIuYXJncyk7Y1swXS5vdXRlckhUTUw9ZX0scmVwbGFjZVdpdGhTaGFwZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1kKCIjanFzc2hhcGUiK2FbMF0pLGU9IiIsZj1iLmxlbmd0aCxnO2ZvcihnPTA7ZzxmO2crKyllKz10aGlzWyJfZHJhdyIrYltnXS50eXBlXS5hcHBseSh0aGlzLGJbZ10uYXJncyk7Y1swXS5vdXRlckhUTUw9ZTtmb3IoZz0xO2c8YS5sZW5ndGg7ZysrKWQoIiNqcXNzaGFwZSIrYVtnXSkucmVtb3ZlKCl9LGluc2VydEFmdGVyU2hhcGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1kKCIjanFzc2hhcGUiK2EpLGU9dGhpc1siX2RyYXciK2IudHlwZV0uYXBwbHkodGhpcyxiLmFyZ3MpO2NbMF0uaW5zZXJ0QWRqYWNlbnRIVE1MKCJhZnRlckVuZCIsZSl9LHJlbW92ZVNoYXBlSWQ6ZnVuY3Rpb24oYSl7dmFyIGI9ZCgiI2pxc3NoYXBlIithKTt0aGlzLmdyb3VwLnJlbW92ZUNoaWxkKGJbMF0pfSxnZXRTaGFwZUF0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmlkLnN1YnN0cig4KTtyZXR1cm4gZH0scmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlZHx8KHRoaXMuZ3JvdXAuaW5uZXJIVE1MPXRoaXMucHJlcmVuZGVyLHRoaXMucmVuZGVyZWQ9ITApfX0pfSl9KShkb2N1bWVudCxNYXRoKTs="></script>
<link href="data:text/css;charset=utf-8,%2Ehandsontable%20%2EcurrentRow%20%7B%0Abackground%2Dcolor%3A%20%23E7E8EF%3B%0A%7D%0A%2Ehandsontable%20%2EcurrentCol%20%7B%0Abackground%2Dcolor%3A%20%23F9F9FB%3B%0A%7D%0A%2Ehandsontable%20%7B%0Aoverflow%3A%20auto%3B%0A%7D%0A%0A%2Ejqstooltip%7B%0Awidth%3A%20auto%20%21important%3B%0Aheight%3A%20auto%20%21important%3B%0A%7D%0A%0A%2Edatepicker%20%7B%0Az%2Dindex%3A%201000%20%21important%3B%0A%7D%0A%2Ehandsontable%20table%20thead%20th%20%7B%0Awhite%2Dspace%3A%20pre%2Dline%3B%0A%0A%7D%0A" rel="stylesheet" />
<script src="data:application/x-javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ3JoYW5kc29udGFibGUnLAoKICB0eXBlOiAnb3V0cHV0JywKCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKCiAgICByZXR1cm4gewoKICAgIH07CgogIH0sCgogIHJlbmRlclZhbHVlOiBmdW5jdGlvbihlbCwgeCwgaW5zdGFuY2UpIHsKCiAgICAvLyBjb252ZXJ0IGpzb24gdG8gYXJyYXkKICAgIGlmICh4LmRhdGEubGVuZ3RoID4gMCAmJiB4LmRhdGFbMF0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7CiAgICAgIHguZGF0YSA9IHguZGF0YTsKICAgIH0gZWxzZSB7CiAgICAgIHguZGF0YSA9IHRvQXJyYXkoeC5kYXRhLm1hcChmdW5jdGlvbihkKSB7CiAgICAgICAgcmV0dXJuIHguckNvbG5hbWVzLm1hcChmdW5jdGlvbihreSkgewogICAgICAgICAgcmV0dXJuIGRba3ldOwogICAgICAgIH0pOwogICAgICB9KSk7CiAgICB9CgogICAgaWYgKHguaXNIZWF0bWFwID09PSB0cnVlKSB7CiAgICAgIHguYWZ0ZXJMb2FkRGF0YSA9IHRoaXMuaW5pdEhlYXRtYXA7CiAgICAgIHguYmVmb3JlQ2hhbmdlUmVuZGVyID0gdGhpcy51cGRhdGVIZWF0bWFwOwogICAgfQoKICAgIGlmICh4Lm92ZXJmbG93KSB7CiAgICAgICQoIiMiICsgZWwuaWQpLmNzcygnb3ZlcmZsb3cnLCB4Lm92ZXJmbG93KTsKICAgIH0KCiAgICB0aGlzLmFmdGVyQ2hhbmdlQ2FsbGJhY2soeCk7CiAgICB0aGlzLmFmdGVyQ2VsbE1ldGFDYWxsYmFjayh4KTsKICAgIHRoaXMuYWZ0ZXJSb3dBbmRDb2xDaGFuZ2UoeCk7CgogICAgaWYgKHguc2VsZWN0Q2FsbGJhY2spIHsKICAgICAgdGhpcy5hZnRlclNlbGVjdENhbGxiYWNrKHgpOwogICAgfQoKICAgIGlmIChpbnN0YW5jZS5ob3QpIHsgLy8gdXBkYXRlIGV4aXN0aW5nIGluc3RhbmNlCgogICAgICBpbnN0YW5jZS5ob3QudXBkYXRlU2V0dGluZ3MoeCk7CgogICAgfSBlbHNlIHsgIC8vIGNyZWF0ZSBuZXcgaW5zdGFuY2UKCiAgICAgIGluc3RhbmNlLmhvdCA9IG5ldyBIYW5kc29udGFibGUoZWwsIHgpOwoKICAgIH0KCiAgICBpbnN0YW5jZS5ob3QucGFyYW1zID0geDsKICB9LAoKICByZXNpemU6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0LCBpbnN0YW5jZSkgewoKICAgIC8vaW5zdGFuY2UuaG90LnVwZGF0ZVNldHRpbmdzKHsgd2lkdGg6IHdpZHRoLAogICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodAogICAgLy99KTsKICAgIC8vaW5zdGFuY2UuaG90LnJlbmRlcigpOwoKICB9LAoKICBhZnRlckNoYW5nZUNhbGxiYWNrOiBmdW5jdGlvbih4KSB7CgogICAgeC5hZnRlckNoYW5nZSA9IGZ1bmN0aW9uKGNoYW5nZXMsIHNvdXJjZSkgewoKICAgICAgaWYgKEhUTUxXaWRnZXRzLnNoaW55TW9kZSAmJiBjaGFuZ2VzKSB7CiAgICAgICAgaWYgKHRoaXMuc29ydEluZGV4ICYmIHRoaXMuc29ydEluZGV4Lmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgYyA9IFt0aGlzLnNvcnRJbmRleFtjaGFuZ2VzWzBdWzBdXVswXSwgY2hhbmdlc1swXS5zbGljZSgxLCAxICsgMyldOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjID0gY2hhbmdlczsKICAgICAgICB9CgogICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UodGhpcy5yb290RWxlbWVudC5pZCwgewogICAgICAgICAgZGF0YTogdGhpcy5nZXREYXRhKCksCiAgICAgICAgICBjaGFuZ2VzOiB7IGV2ZW50OiAiYWZ0ZXJDaGFuZ2UiLCBjaGFuZ2VzOiBjIH0sCiAgICAgICAgICBwYXJhbXM6IHRoaXMucGFyYW1zCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICB9OwogIH0sCgogIGFmdGVyQ2VsbE1ldGFDYWxsYmFjazogZnVuY3Rpb24oeCkgewoKICAgIHguYWZ0ZXJTZXRDZWxsTWV0YSA9IGZ1bmN0aW9uKHIsIGMsIGtleSwgdmFsKSB7CgogICAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlICYmIGtleSA9PT0gImNvbW1lbnQiKSB7CiAgICAgICAgaWYgKHRoaXMuc29ydEluZGV4ICYmIHRoaXMuc29ydEluZGV4Lmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgciA9IHRoaXMuc29ydEluZGV4W3JdWzBdOwogICAgICAgIH0KCiAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZSh0aGlzLnJvb3RFbGVtZW50LmlkICsgIl9jb21tZW50IiwgewogICAgICAgICAgZGF0YTogdGhpcy5nZXREYXRhKCksCiAgICAgICAgICBjb21tZW50OiB7IHI6IHIgKyAxLCBjOiBjICsgMSwga2V5OiBrZXksIHZhbDogdmFsfSwKICAgICAgICAgIHBhcmFtczogdGhpcy5wYXJhbXMKICAgICAgICB9KTsKICAgICAgfQoKICAgIH07CiAgfSwKCiAgYWZ0ZXJTZWxlY3RDYWxsYmFjazogZnVuY3Rpb24oeCkgewoKICAgIHguYWZ0ZXJTZWxlY3Rpb25FbmQgPSBmdW5jdGlvbihyLCBjLCByMiwgYzIpIHsKCiAgICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKICAgICAgICBpZiAodGhpcy5zb3J0SW5kZXggJiYgdGhpcy5zb3J0SW5kZXgubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICByID0gdGhpcy5zb3J0SW5kZXhbcl1bMF07CiAgICAgICAgICByMiA9IHRoaXMuc29ydEluZGV4W3IyXVswXTsKICAgICAgICB9CgogICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UodGhpcy5yb290RWxlbWVudC5pZCArICJfc2VsZWN0IiwgewogICAgICAgICAgZGF0YTogdGhpcy5nZXREYXRhKCksCiAgICAgICAgICBzZWxlY3Q6IHsgcjogciArIDEsIGM6IGMgKyAxLCByMjogcjIgKyAxLCBjMjogYzIgKyAxfSwKICAgICAgICAgIHBhcmFtczogdGhpcy5wYXJhbXMKICAgICAgICB9KTsKICAgICAgfQoKICAgIH07CiAgfSwKCiAgYWZ0ZXJSb3dBbmRDb2xDaGFuZ2U6IGZ1bmN0aW9uKHgpIHsKCiAgICB4LmFmdGVyQ3JlYXRlUm93ID0gZnVuY3Rpb24oaW5kLCBjdCkgewoKICAgICAgaWYgKEhUTUxXaWRnZXRzLnNoaW55TW9kZSkgewoKICAgICAgICBmb3IodmFyIGkgPSAwLCBjb2xDb3VudCA9IHRoaXMuY291bnRDb2xzKCk7IGkgPCBjb2xDb3VudCA7IGkrKykgewogICAgICAgICAgdGhpcy5zZXREYXRhQXRDZWxsKGluZCwgaSwgdGhpcy5wYXJhbXMuY29sdW1uc1tpXS5kZWZhdWx0KTsKICAgICAgICB9CgogICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UodGhpcy5yb290RWxlbWVudC5pZCwgewogICAgICAgICAgZGF0YTogdGhpcy5nZXREYXRhKCksCiAgICAgICAgICBjaGFuZ2VzOiB7IGV2ZW50OiAiYWZ0ZXJDcmVhdGVSb3ciLCBpbmQ6IGluZCwgY3Q6IGN0IH0sCiAgICAgICAgICBwYXJhbXM6IHRoaXMucGFyYW1zCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgeC5hZnRlclJlbW92ZVJvdyA9IGZ1bmN0aW9uKGluZCwgY3QpIHsKCiAgICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpCiAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZSh0aGlzLnJvb3RFbGVtZW50LmlkLCB7CiAgICAgICAgICBkYXRhOiB0aGlzLmdldERhdGEoKSwKICAgICAgICAgIGNoYW5nZXM6IHsgZXZlbnQ6ICJhZnRlclJlbW92ZVJvdyIsIGluZDogaW5kLCBjdDogY3QgfSwKICAgICAgICAgIHBhcmFtczogdGhpcy5wYXJhbXMKICAgICAgICB9KTsKICAgIH07CgogICAgeC5hZnRlckNyZWF0ZUNvbCA9IGZ1bmN0aW9uKGluZCwgY3QpIHsKCiAgICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpCiAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZSh0aGlzLnJvb3RFbGVtZW50LmlkLCB7CiAgICAgICAgICBkYXRhOiB0aGlzLmdldERhdGEoKSwKICAgICAgICAgIGNoYW5nZXM6IHsgZXZlbnQ6ICJhZnRlckNyZWF0ZUNvbCIsIGluZDogaW5kLCBjdDogY3QgfSwKICAgICAgICAgIHBhcmFtczogdGhpcy5wYXJhbXMKICAgICAgICB9KTsKICAgIH07CgogICAgeC5hZnRlclJlbW92ZUNvbCA9IGZ1bmN0aW9uKGluZCwgY3QpIHsKCiAgICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpCiAgICAgICAgU2hpbnkub25JbnB1dENoYW5nZSh0aGlzLnJvb3RFbGVtZW50LmlkLCB7CiAgICAgICAgICBkYXRhOiB0aGlzLmdldERhdGEoKSwKICAgICAgICAgIGNoYW5nZXM6IHsgZXZlbnQ6ICJhZnRlclJlbW92ZUNvbCIsIGluZDogaW5kLCBjdDogY3QgfSwKICAgICAgICAgIHBhcmFtczogdGhpcy5wYXJhbXMKICAgICAgICB9KTsKICAgIH07CgogIH0sCgogIC8vIHNlZSBodHRwOi8vaGFuZHNvbnRhYmxlLmNvbS9kZW1vL2hlYXRtYXBzLmh0bWwKICBpbml0SGVhdG1hcDogZnVuY3Rpb24oZmlyc3RUaW1lLCBzb3VyY2UpIHsKICAgIHRoaXMuaGVhdG1hcCA9IFtdOwoKICAgIGZvcih2YXIgaSA9IDAsIGNvbENvdW50ID0gdGhpcy5jb3VudENvbHMoKTsgaSA8IGNvbENvdW50IDsgaSsrKSB7CiAgICAgIHRoaXMuaGVhdG1hcFtpXSA9IGdlbmVyYXRlSGVhdG1hcERhdGEuY2FsbCh0aGlzLCBpKTsKICAgIH0KICB9LAoKICB1cGRhdGVIZWF0bWFwOiBmdW5jdGlvbihjaGFuZ2UsIHNvdXJjZSkgewogICAgdGhpcy5oZWF0bWFwW2NoYW5nZVswXVsxXV0gPSBnZW5lcmF0ZUhlYXRtYXBEYXRhLmNhbGwodGhpcywgY2hhbmdlWzBdWzFdKTsKICB9Cgp9KTsKCmZ1bmN0aW9uIGdlbmVyYXRlSGVhdG1hcERhdGEoY29sSWQpIHsKCiAgdmFyIHZhbHVlcyA9IHRoaXMuZ2V0RGF0YUF0Q29sKGNvbElkKTsKCiAgcmV0dXJuIHsKICAgIG1pbjogTWF0aC5taW4uYXBwbHkobnVsbCwgdmFsdWVzKSwKICAgIG1heDogTWF0aC5tYXguYXBwbHkobnVsbCwgdmFsdWVzKQogIH07Cn0KCi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIyNDc3NjEyL2NvbnZlcnRpbmctYXJyYXktb2Ytb2JqZWN0cy1pbnRvLWFycmF5LW9mLWFycmF5cwpmdW5jdGlvbiB0b0FycmF5KGlucHV0KSB7CiAgdmFyIHJlc3VsdCA9IGlucHV0Lm1hcChmdW5jdGlvbihvYmopIHsKICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChmdW5jdGlvbihrZXkpIHsKICAgICAgcmV0dXJuIG9ialtrZXldOwogICAgfSk7CiAgfSk7CiAgcmV0dXJuIHJlc3VsdDsKfQoKLy8gY3N2IGxvZ2ljIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vanVhbnRhc2Nvbi9qcXVlcnktaGFuZHNvbnRhYmxlLWNzdgpmdW5jdGlvbiBjc3ZTdHJpbmcoaW5zdGFuY2UpIHsKCiAgdmFyIGhlYWRlcnMgPSBpbnN0YW5jZS5nZXRDb2xIZWFkZXIoKTsKCiAgdmFyIGNzdiA9IGhlYWRlcnMuam9pbigiLCIpICsgIlxuIjsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnN0YW5jZS5jb3VudFJvd3MoKTsgaSsrKSB7CiAgICAgIHZhciByb3cgPSBbXTsKICAgICAgZm9yICh2YXIgaCBpbiBoZWFkZXJzKSB7CiAgICAgICAgICB2YXIgcHJvcCA9IGluc3RhbmNlLmNvbFRvUHJvcChoKTsKICAgICAgICAgIHZhciB2YWx1ZSA9IGluc3RhbmNlLmdldERhdGFBdFJvd1Byb3AoaSwgcHJvcCk7CiAgICAgICAgICByb3cucHVzaCh2YWx1ZSk7CiAgICAgIH0KCiAgICAgIGNzdiArPSByb3cuam9pbigiLCIpOwogICAgICBjc3YgKz0gIlxuIjsKICB9CgogIHJldHVybiBjc3Y7Cn0KCmZ1bmN0aW9uIGN1c3RvbVJlbmRlcmVyKGluc3RhbmNlLCBURCwgcm93LCBjb2wsIHByb3AsIHZhbHVlLCBjZWxsUHJvcGVydGllcykgewogIGlmICh2YWx1ZSA9PT0gJ05BJykgewogICAgdmFsdWUgPSAnJzsKICAgIEhhbmRzb250YWJsZS5yZW5kZXJlcnMuZ2V0UmVuZGVyZXIoJ3RleHQnKShpbnN0YW5jZSwgVEQsIHJvdywgY29sLCBwcm9wLCB2YWx1ZSwgY2VsbFByb3BlcnRpZXMpOwogIH0gZWxzZSB7CiAgICBpZiAoWydkYXRlJywgJ2hhbmRzb250YWJsZScsICdkcm9wZG93biddLmluZGV4T2YoY2VsbFByb3BlcnRpZXMudHlwZSkgPiAtMSkgewogICAgICB0eXBlID0gJ2F1dG9jb21wbGV0ZSc7CiAgICB9IGVsc2UgewogICAgICB0eXBlID0gY2VsbFByb3BlcnRpZXMudHlwZTsKICAgIH0KICAgIEhhbmRzb250YWJsZS5yZW5kZXJlcnMuZ2V0UmVuZGVyZXIodHlwZSkoaW5zdGFuY2UsIFRELCByb3csIGNvbCwgcHJvcCwgdmFsdWUsIGNlbGxQcm9wZXJ0aWVzKTsKICB9Cn0KCmZ1bmN0aW9uIHJlbmRlclNwYXJrbGluZShpbnN0YW5jZSwgdGQsIHJvdywgY29sLCBwcm9wLCB2YWx1ZSwgY2VsbFByb3BlcnRpZXMpIHsKICB0cnkgewogICAgdmFsID0gSlNPTi5wYXJzZSh2YWx1ZSk7CgogICAgbm0gPSAnc3BhcmtsaW5lc19yJyArIHJvdyArICdfYycgKyBjb2w7CiAgICB0ZC5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCInICsgbm0gKyAnXCI+PC9zcGFuPic7CgogICAgLy8gYWRqdXN0IGZvciBjZWxsIHBhZGRpbmcKICAgIGlmICh2YWwub3B0aW9ucyAmJiB2YWwub3B0aW9ucy50eXBlICYmCiAgICAgIFsnYmFyJywgJ3RyaXN0YXRlJ10uaW5kZXhPZih2YWwub3B0aW9ucy50eXBlWzBdKSA+IC0xKSB7CiAgICAgIHZhbC5vcHRpb25zLmJhclNwYWNpbmcgPSAxOwogICAgICB2YWwub3B0aW9ucy5iYXJXaWR0aCA9IE1hdGgubWF4KDEsIE1hdGgucm91bmQoKGluc3RhbmNlLmdldENvbFdpZHRoKGNvbCkgLSA4IC0gKHZhbC52YWx1ZXMubGVuZ3RoIC0gMSkpIC8gdmFsLnZhbHVlcy5sZW5ndGgpKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmICghdmFsLm9wdGlvbnMpIHsKICAgICAgICB2YWwub3B0aW9ucyA9IHt9OwogICAgICB9CiAgICAgIHZhbC5vcHRpb25zLndpZHRoID0gKGluc3RhbmNlLmdldENvbFdpZHRoKGNvbCkgLSA4KSArICJweCI7CiAgICB9CgogICAgJCgnLicgKyBubSkuc3BhcmtsaW5lKHZhbC52YWx1ZXMsIHZhbC5vcHRpb25zKTsKICB9IGNhdGNoKGVycikgewogICAgdGQuaW5uZXJIVE1MID0gJyc7CiAgfQoKICByZXR1cm4gdGQ7Cn0KCi8vIGh0dHA6Ly9kb2NzLmhhbmRzb250YWJsZS5jb20vMC4xNi4xL2RlbW8tY3VzdG9tLXJlbmRlcmVycy5odG1sCmZ1bmN0aW9uIHN0cmlwX3RhZ3MoaW5wdXQsIGFsbG93ZWQpIHsKICB2YXIgdGFncyA9IC88XC8/KFthLXpdW2EtejAtOV0qKVxiW14+XSo+L2dpLAogICAgY29tbWVudHNBbmRQaHBUYWdzID0gLzwhLS1bXHNcU10qPy0tPnw8XD8oPzpwaHApP1tcc1xTXSo/XD8+L2dpOwoKICAvLyBtYWtpbmcgc3VyZSB0aGUgYWxsb3dlZCBhcmcgaXMgYSBzdHJpbmcgY29udGFpbmluZyBvbmx5IHRhZ3MgaW4gbG93ZXJjYXNlICg8YT48Yj48Yz4pCiAgYWxsb3dlZCA9ICgoKGFsbG93ZWQgfHwgIiIpICsgIiIpLnRvTG93ZXJDYXNlKCkubWF0Y2goLzxbYS16XVthLXowLTldKj4vZykgfHwgW10pLmpvaW4oJycpOwoKICByZXR1cm4gaW5wdXQucmVwbGFjZShjb21tZW50c0FuZFBocFRhZ3MsICcnKS5yZXBsYWNlKHRhZ3MsIGZ1bmN0aW9uICgkMCwgJDEpIHsKICAgIHJldHVybiBhbGxvd2VkLmluZGV4T2YoJzwnICsgJDEudG9Mb3dlckNhc2UoKSArICc+JykgPiAtMSA/ICQwIDogJyc7CiAgfSk7Cn0KCmZ1bmN0aW9uIHNhZmVIdG1sUmVuZGVyZXIoaW5zdGFuY2UsIHRkLCByb3csIGNvbCwgcHJvcCwgdmFsdWUsIGNlbGxQcm9wZXJ0aWVzKSB7CiAgdmFyIGVzY2FwZWQgPSBIYW5kc29udGFibGUuaGVscGVyLnN0cmluZ2lmeSh2YWx1ZSk7CiAgaWYgKGluc3RhbmNlLmdldFNldHRpbmdzKCkuYWxsb3dlZFRhZ3MpIHsKICAgIHRhZ3MgPSBpbnN0YW5jZS5nZXRTZXR0aW5ncygpLmFsbG93ZWRUYWdzCiAgfSBlbHNlIHsKICAgIHRhZ3MgPSAnPGVtPjxiPjxzdHJvbmc+PGE+PGJpZz4nCiAgfQogIGVzY2FwZWQgPSBzdHJpcF90YWdzKGVzY2FwZWQsIHRhZ3MpOyAvL2JlIHN1cmUgeW91IG9ubHkgYWxsb3cgY2VydGFpbiBIVE1MIHRhZ3MgdG8gYXZvaWQgWFNTIHRocmVhdHMgKHlvdSBzaG91bGQgYWxzbyByZW1vdmUgdW53YW50ZWQgSFRNTCBhdHRyaWJ1dGVzKQogIHRkLmlubmVySFRNTCA9IGVzY2FwZWQ7CgogIHJldHVybiB0ZDsKfQo="></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0A%7D%0Apre%20%7B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">rhandsontable Introduction</h1>
<h4 class="author"><em>Jonathan Owen</em></h4>
<h4 class="date"><em>2016-03-11</em></h4>
</div>


<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>rhandsontable is a htmlwidget based on the <a href="https://www.handsontable.com">handsontable.js</a> library.</p>
<blockquote>
<p>Handsontable is a data grid component with an Excel-like appearance. Built in JavaScript, it integrates with any data source with peak efficiency. It comes with powerful features like data validation, sorting, grouping, data binding, formula support or column ordering. (<a href="https://www.handsontable.com">via</a>)</p>
</blockquote>
</div>
<div id="column-types" class="section level2">
<h2>Column Types</h2>
<p>The table includes support for numeric, logical, character and Date types. Logical values will appear as check boxes, and the <a href="https://github.com/dbushell/Pikaday">pikaday.js</a> library is used to specify Date values.</p>
<p>rhandsontable attempts to map R classes to an appropriate handsontable type. Factors will be mapped to <code>dropdown</code>, with the choices specified by <code>level</code> and <code>allowInvalid</code> set to <code>FALSE</code>. To allow new levels, set <code>allowInvalid</code> to <code>TRUE</code> (using <code>hot_col</code>; it may also be desirable to set <code>strict</code> to <code>FALSE</code>). When running in <code>shiny</code>, using <code>hot_to_r</code> will preserve custom factor ordering, and if new levels are allowed, they will be added to the end.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">integer =</span> <span class="dv">1</span>:<span class="dv">10</span>,
                   <span class="dt">numeric =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>),
                   <span class="dt">logical =</span> <span class="kw">rep</span>(<span class="ot">TRUE</span>, <span class="dv">10</span>), 
                   <span class="dt">character =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                   <span class="dt">factor =</span> <span class="kw">factor</span>(letters[<span class="dv">1</span>:<span class="dv">10</span>], <span class="dt">levels =</span> letters[<span class="dv">10</span>:<span class="dv">1</span>], 
                                   <span class="dt">ordered =</span> <span class="ot">TRUE</span>),
                   <span class="dt">factor_allow =</span> <span class="kw">factor</span>(letters[<span class="dv">1</span>:<span class="dv">10</span>], <span class="dt">levels =</span> letters[<span class="dv">10</span>:<span class="dv">1</span>], 
                                         <span class="dt">ordered =</span> <span class="ot">TRUE</span>),
                   <span class="dt">date =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                   <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;factor_allow&quot;</span>, <span class="dt">allowInvalid =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><div id="htmlwidget-8281" style="width:600px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-8281">{"x":{"data":[{"integer":1,"numeric":0.1562,"logical":true,"character":"A","factor":"a","factor_allow":"a","date":"03/11/2016"},{"integer":2,"numeric":0.1361,"logical":true,"character":"B","factor":"b","factor_allow":"b","date":"03/12/2016"},{"integer":3,"numeric":1.6898,"logical":true,"character":"C","factor":"c","factor_allow":"c","date":"03/13/2016"},{"integer":4,"numeric":-0.7268,"logical":true,"character":"D","factor":"d","factor_allow":"d","date":"03/14/2016"},{"integer":5,"numeric":0.2315,"logical":true,"character":"E","factor":"e","factor_allow":"e","date":"03/15/2016"},{"integer":6,"numeric":-0.1579,"logical":true,"character":"F","factor":"f","factor_allow":"f","date":"03/16/2016"},{"integer":7,"numeric":-0.2763,"logical":true,"character":"G","factor":"g","factor_allow":"g","date":"03/17/2016"},{"integer":8,"numeric":1.0445,"logical":true,"character":"H","factor":"h","factor_allow":"h","date":"03/18/2016"},{"integer":9,"numeric":0.3827,"logical":true,"character":"I","factor":"i","factor_allow":"i","date":"03/19/2016"},{"integer":10,"numeric":0.0418,"logical":true,"character":"J","factor":"j","factor_allow":"j","date":"03/20/2016"}],"rClass":"data.frame","rColClasses":{"integer":"integer","numeric":"numeric","logical":"logical","character":"character","factor":"factor","factor_allow":"factor","date":"Date"},"rColnames":["integer","numeric","logical","character","factor","factor_allow","date"],"rDataDim":[10,7],"selectCallback":false,"colHeaders":["integer","numeric","logical","character","factor","factor_allow","date"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"dropdown","source":["j","i","h","g","f","e","d","c","b","a"],"allowInvalid":false,"renderer":"customRenderer","default":null},{"type":"dropdown","source":["j","i","h","g","f","e","d","c","b","a"],"allowInvalid":true,"renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":600,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer","columns.6.renderer"]}</script></p>
<p>To improve readability, <code>NA</code> values will be displayed as blank cells. This requires converting columns containing <code>NA</code> to characters, and in the case of factors and Dates, may not display the data in the desired format. It may be beneficial to concert these type of columns to character before passing to <code>rhandsontable</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF_na =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">integer =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="dv">2</span>:<span class="dv">10</span>), 
                   <span class="dt">logical =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="kw">rep</span>(<span class="ot">TRUE</span>, <span class="dv">9</span>)), 
                   <span class="dt">character =</span> <span class="kw">c</span>(<span class="ot">NA</span>, LETTERS[<span class="dv">1</span>:<span class="dv">9</span>]),
                   <span class="dt">factor =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="kw">factor</span>(letters[<span class="dv">1</span>:<span class="dv">9</span>])),
                   <span class="dt">date =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, 
                                    <span class="dt">length.out =</span> <span class="dv">9</span>)),
                   <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

DF_na$factor_ch =<span class="st"> </span><span class="kw">as.character</span>(DF_na$factor)
DF_na$date_ch =<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>, <span class="kw">as.character</span>(<span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, 
                                       <span class="dt">length.out =</span> <span class="dv">9</span>)))

<span class="kw">rhandsontable</span>(DF_na, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>)</code></pre></div>
<p><div id="htmlwidget-9351" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-9351">{"x":{"data":[{"integer":"NA","logical":"NA","character":"NA","factor":"NA","date":"NA","factor_ch":"NA","date_ch":"NA"},{"integer":2,"logical":true,"character":"A","factor":1,"date":16871,"factor_ch":"1","date_ch":"2016-03-11"},{"integer":3,"logical":true,"character":"B","factor":2,"date":16872,"factor_ch":"2","date_ch":"2016-03-12"},{"integer":4,"logical":true,"character":"C","factor":3,"date":16873,"factor_ch":"3","date_ch":"2016-03-13"},{"integer":5,"logical":true,"character":"D","factor":4,"date":16874,"factor_ch":"4","date_ch":"2016-03-14"},{"integer":6,"logical":true,"character":"E","factor":5,"date":16875,"factor_ch":"5","date_ch":"2016-03-15"},{"integer":7,"logical":true,"character":"F","factor":6,"date":16876,"factor_ch":"6","date_ch":"2016-03-16"},{"integer":8,"logical":true,"character":"G","factor":7,"date":16877,"factor_ch":"7","date_ch":"2016-03-17"},{"integer":9,"logical":true,"character":"H","factor":8,"date":16878,"factor_ch":"8","date_ch":"2016-03-18"},{"integer":10,"logical":true,"character":"I","factor":9,"date":16879,"factor_ch":"9","date_ch":"2016-03-19"}],"rClass":"data.frame","rColClasses":{"integer":"integer","logical":"logical","character":"character","factor":"integer","date":"integer","factor_ch":"character","date_ch":"character"},"rColnames":["integer","logical","character","factor","date","factor_ch","date_ch"],"rDataDim":[10,7],"selectCallback":false,"colHeaders":["integer","logical","character","factor","date","factor_ch","date_ch"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer","columns.6.renderer"]}</script></p>
<div id="dropdown-autocomplete" class="section level3">
<h3>Dropdown / Autocomplete</h3>
<p>To control character column values, the column type can be specified as <code>dropdown</code> or <code>autocomplete</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="co"># try updating big to a value not in the dropdown</span>
<span class="kw">rhandsontable</span>(DF, <span class="dt">rowHeaders =</span> <span class="ot">NULL</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dt">col =</span> <span class="st">&quot;big&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;dropdown&quot;</span>, <span class="dt">source =</span> LETTERS) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dt">col =</span> <span class="st">&quot;small&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;autocomplete&quot;</span>, <span class="dt">source =</span> letters,
          <span class="dt">strict =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><div id="htmlwidget-2440" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-2440">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"03/11/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"03/12/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"03/13/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"03/14/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"03/15/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"03/16/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"03/17/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"03/18/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"03/19/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"03/20/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":null,"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"dropdown","renderer":"customRenderer","default":null,"source":["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]},{"type":"autocomplete","renderer":"customRenderer","default":null,"source":["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],"strict":false},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
</div>
<div id="password" class="section level3">
<h3>Password</h3>
<p>A column can also be specified as a <code>password</code> type.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;small&quot;</span>, <span class="st">&quot;password&quot;</span>)</code></pre></div>
<p><div id="htmlwidget-2695" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-2695">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"03/11/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"03/12/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"03/13/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"03/14/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"03/15/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"03/16/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"03/17/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"03/18/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"03/19/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"03/20/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"password","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
</div>
<div id="sparkline" class="section level3">
<h3>Sparkline</h3>
<p>New in version 0.2, <a href="http://omnipotent.net/jquery.sparkline/">sparkline.js</a> charts can be added to the table. Thanks to the sparkline package and Ramnath Vaidyanathan for inspiration.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

DF$chart =<span class="st"> </span><span class="kw">c</span>(<span class="kw">sapply</span>(<span class="dv">1</span>:<span class="dv">5</span>,
                    function(x) jsonlite::<span class="kw">toJSON</span>(<span class="kw">list</span>(<span class="dt">values=</span><span class="kw">rnorm</span>(<span class="dv">10</span>),
                                                      <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>)))),
             <span class="kw">sapply</span>(<span class="dv">1</span>:<span class="dv">5</span>,
                    function(x) jsonlite::<span class="kw">toJSON</span>(<span class="kw">list</span>(<span class="dt">values=</span><span class="kw">rnorm</span>(<span class="dv">10</span>),
                                                      <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;line&quot;</span>)))))

<span class="kw">rhandsontable</span>(DF, <span class="dt">rowHeaders =</span> <span class="ot">NULL</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;chart&quot;</span>, <span class="dt">renderer =</span> htmlwidgets::<span class="kw">JS</span>(<span class="st">&quot;renderSparkline&quot;</span>))</code></pre></div>
<p><div id="htmlwidget-4024" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-4024">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"03/11/2016","chart":"{\"values\":[0.5456,-1.1472,-0.6616,0.9613,-1.4107,-1.7428,0.3355,-0.7538,-0.2672,-1.2166],\"options\":{\"type\":[\"bar\"]}}"},{"val":2,"bool":true,"big":"B","small":"b","dt":"03/12/2016","chart":"{\"values\":[-0.0435,-1.0178,0.2228,-2.0697,0.2448,2.4369,0.8449,0.3775,-0.5718,0.2068],\"options\":{\"type\":[\"bar\"]}}"},{"val":3,"bool":true,"big":"C","small":"c","dt":"03/13/2016","chart":"{\"values\":[0.0071,-0.2956,-0.1303,-0.9967,-0.8284,1.5797,-0.3232,-0.9717,1.1003,-1.2301],\"options\":{\"type\":[\"bar\"]}}"},{"val":4,"bool":true,"big":"D","small":"d","dt":"03/14/2016","chart":"{\"values\":[0.5377,-2.4365,-0.8419,1.2644,-0.3613,-0.3552,-1.1355,0.256,-0.251,1.3561],\"options\":{\"type\":[\"bar\"]}}"},{"val":5,"bool":true,"big":"E","small":"e","dt":"03/15/2016","chart":"{\"values\":[-1.7415,-0.3538,0.0992,-1.2031,-0.53,0.4724,0.6579,0.8501,1.0642,-2.4165],\"options\":{\"type\":[\"bar\"]}}"},{"val":6,"bool":true,"big":"F","small":"f","dt":"03/16/2016","chart":"{\"values\":[-1.412,0.1415,-0.1437,0.0721,-0.3708,-0.0034,-1.5999,-0.5029,-0.8359,-0.3679],\"options\":{\"type\":[\"line\"]}}"},{"val":7,"bool":true,"big":"G","small":"g","dt":"03/17/2016","chart":"{\"values\":[-0.0027,0.4115,-0.2767,0.6762,0.4995,0.0164,0.0175,1.1097,-0.846,0.0272],\"options\":{\"type\":[\"line\"]}}"},{"val":8,"bool":true,"big":"H","small":"h","dt":"03/18/2016","chart":"{\"values\":[0.7401,-1.7199,1.8266,0.0751,0.718,1.9571,-0.4519,-1.558,0.3491,1.7935],\"options\":{\"type\":[\"line\"]}}"},{"val":9,"bool":true,"big":"I","small":"i","dt":"03/19/2016","chart":"{\"values\":[-0.8641,0.2384,0.186,-0.1154,0.7189,-1.1962,1.2397,0.3852,-0.8975,0.4533],\"options\":{\"type\":[\"line\"]}}"},{"val":10,"bool":true,"big":"J","small":"j","dt":"03/20/2016","chart":"{\"values\":[-0.5859,0.7373,0.8599,-0.588,0.624,-0.2754,1.3609,-1.6028,-1.7838,-2.7379],\"options\":{\"type\":[\"line\"]}}"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date","chart":"character"},"rColnames":["val","bool","big","small","dt","chart"],"rDataDim":[10,6],"selectCallback":false,"colHeaders":["val","bool","big","small","dt","chart"],"rowHeaders":null,"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null},{"type":"text","renderer":"renderSparkline","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer"]}</script></p>
</div>
<div id="custom-renderer" class="section level3">
<h3>Custom Renderer</h3>
<p>It’s also possible to define a custom column renderer function. For example, it may be desirable to include html in a cell. The example below mimics <a href="http://docs.handsontable.com/0.16.1/demo-custom-renderers.html">Custom renderers</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">title =</span> <span class="kw">c</span>(
    <span class="st">&quot;&lt;a href='http://www.amazon.com/Professional-JavaScript-Developers-Nicholas-Zakas/dp/1118026691'&gt;Professional JavaScript for Web Developers&lt;/a&gt;&quot;</span>,
    <span class="st">&quot;&lt;a href='http://shop.oreilly.com/product/9780596517748.do'&gt;JavaScript: The Good Parts&lt;/a&gt;&quot;</span>,
    <span class="st">&quot;&lt;a href='http://shop.oreilly.com/product/9780596805531.do'&gt;JavaScript: The Definitive Guide&lt;/a&gt;&quot;</span>
  ),
  <span class="dt">desc =</span> <span class="kw">c</span>(
    <span class="st">&quot;This &lt;a href='http://bit.ly/sM1bDf'&gt;book&lt;/a&gt; provides a developer-level introduction along with more advanced and useful features of &lt;b&gt;JavaScript&lt;/b&gt;.&quot;</span>,
    <span class="st">&quot;This book provides a developer-level introduction along with &lt;b&gt;more advanced&lt;/b&gt; and useful features of JavaScript.&quot;</span>,
    <span class="st">&quot;&lt;em&gt;JavaScript: The Definitive Guide&lt;/em&gt; provides a thorough description of the core &lt;b&gt;JavaScript&lt;/b&gt; language and both the legacy and standard DOMs implemented in web browsers.&quot;</span>
  ),
  <span class="dt">comments =</span> <span class="kw">c</span>(
    <span class="st">&quot;I would rate it &amp;#x2605;&amp;#x2605;&amp;#x2605;&amp;#x2605;&amp;#x2606;&quot;</span>,
    <span class="st">&quot;This is the book about JavaScript&quot;</span>,
    <span class="st">&quot;I've never actually read it, but the &lt;a href='http://shop.oreilly.com/product/9780596805531.do'&gt;comments&lt;/a&gt; are highly &lt;strong&gt;positive&lt;/strong&gt;.&quot;</span>
  ), 
  <span class="dt">cover =</span> <span class="kw">c</span>(
    <span class="st">&quot;http://ecx.images-amazon.com/images/I/51bRhyVTVGL._SL50_.jpg&quot;</span>,
    <span class="st">&quot;http://ecx.images-amazon.com/images/I/51gdVAEfPUL._SL50_.jpg&quot;</span>,
    <span class="st">&quot;http://ecx.images-amazon.com/images/I/51VFNL4T7kL._SL50_.jpg&quot;</span>
 ),
 <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>
)

<span class="kw">rhandsontable</span>(DF, <span class="dt">allowedTags =</span> <span class="st">&quot;&lt;em&gt;&lt;b&gt;&lt;strong&gt;&lt;a&gt;&lt;big&gt;&quot;</span>, 
              <span class="dt">width =</span> <span class="dv">800</span>, <span class="dt">height =</span> <span class="dv">450</span>, <span class="dt">rowHeaders =</span> <span class="ot">FALSE</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">colWidths =</span> <span class="kw">c</span>(<span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">80</span>)) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dv">1</span>:<span class="dv">2</span>, <span class="dt">renderer =</span> <span class="st">&quot;html&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dv">1</span>:<span class="dv">3</span>, <span class="dt">renderer =</span> htmlwidgets::<span class="kw">JS</span>(<span class="st">&quot;safeHtmlRenderer&quot;</span>)) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dv">4</span>, <span class="dt">renderer =</span> <span class="st">&quot;</span>
<span class="st">    function(instance, td, row, col, prop, value, cellProperties) {</span>
<span class="st">      var escaped = Handsontable.helper.stringify(value),</span>
<span class="st">        img;</span>
<span class="st">  </span>
<span class="st">      if (escaped.indexOf('http') === 0) {</span>
<span class="st">        img = document.createElement('IMG');</span>
<span class="st">        img.src = value;</span>
<span class="st">  </span>
<span class="st">        Handsontable.Dom.addEvent(img, 'mousedown', function (e){</span>
<span class="st">          e.preventDefault(); // prevent selection quirk</span>
<span class="st">        });</span>
<span class="st">  </span>
<span class="st">        Handsontable.Dom.empty(td);</span>
<span class="st">        td.appendChild(img);</span>
<span class="st">      }</span>
<span class="st">      else {</span>
<span class="st">        // render as text</span>
<span class="st">        Handsontable.renderers.TextRenderer.apply(this, arguments);</span>
<span class="st">      }</span>
<span class="st">  </span>
<span class="st">      return td;</span>
<span class="st">    }&quot;</span>)</code></pre></div>
<p><div id="htmlwidget-8650" style="width:800px;height:450px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-8650">{"x":{"data":[{"title":"<a href='http://www.amazon.com/Professional-JavaScript-Developers-Nicholas-Zakas/dp/1118026691'>Professional JavaScript for Web Developers</a>","desc":"This <a href='http://bit.ly/sM1bDf'>book</a> provides a developer-level introduction along with more advanced and useful features of <b>JavaScript</b>.","comments":"I would rate it &#x2605;&#x2605;&#x2605;&#x2605;&#x2606;","cover":"http://ecx.images-amazon.com/images/I/51bRhyVTVGL._SL50_.jpg"},{"title":"<a href='http://shop.oreilly.com/product/9780596517748.do'>JavaScript: The Good Parts</a>","desc":"This book provides a developer-level introduction along with <b>more advanced</b> and useful features of JavaScript.","comments":"This is the book about JavaScript","cover":"http://ecx.images-amazon.com/images/I/51gdVAEfPUL._SL50_.jpg"},{"title":"<a href='http://shop.oreilly.com/product/9780596805531.do'>JavaScript: The Definitive Guide</a>","desc":"<em>JavaScript: The Definitive Guide</em> provides a thorough description of the core <b>JavaScript</b> language and both the legacy and standard DOMs implemented in web browsers.","comments":"I've never actually read it, but the <a href='http://shop.oreilly.com/product/9780596805531.do'>comments</a> are highly <strong>positive</strong>.","cover":"http://ecx.images-amazon.com/images/I/51VFNL4T7kL._SL50_.jpg"}],"rClass":"data.frame","rColClasses":{"title":"character","desc":"character","comments":"character","cover":"character"},"rColnames":["title","desc","comments","cover"],"rDataDim":[3,4],"selectCallback":false,"colHeaders":["title","desc","comments","cover"],"rowHeaders":false,"columns":[{"type":"text","renderer":"safeHtmlRenderer","default":null},{"type":"text","renderer":"safeHtmlRenderer","default":null},{"type":"text","renderer":"safeHtmlRenderer","default":null},{"type":"text","renderer":"\n    function(instance, td, row, col, prop, value, cellProperties) {\n      var escaped = Handsontable.helper.stringify(value),\n        img;\n  \n      if (escaped.indexOf('http') === 0) {\n        img = document.createElement('IMG');\n        img.src = value;\n  \n        Handsontable.Dom.addEvent(img, 'mousedown', function (e){\n          e.preventDefault(); // prevent selection quirk\n        });\n  \n        Handsontable.Dom.empty(td);\n        td.appendChild(img);\n      }\n      else {\n        // render as text\n        Handsontable.renderers.TextRenderer.apply(this, arguments);\n      }\n  \n      return td;\n    }","default":null}],"width":800,"height":450,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"allowedTags":"<em><b><strong><a><big>","colWidths":[200,200,200,80]},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer"]}</script></p>
<p>For <code>shiny</code> apps, use <code>renderer = htmlwidgets::JS(&quot;safeHtmlRenderer&quot;)</code> to display columns with html data. The allowed html tags default to <code>&lt;em&gt;&lt;b&gt;&lt;strong&gt;&lt;a&gt;&lt;big&gt;</code>, but the (hidden) <code>allowedTags</code> parameter can in <code>rhandsontable</code> can be used to customize this list.</p>
</div>
</div>
<div id="right-click-menu" class="section level2">
<h2>Right-Click Menu</h2>
<p>Right-clicking in a cell will enable a context menu that includes customizable table actions via the <code>hot_context_menu</code> function. For shiny apps, formatting and comment updates made via the context menu are not currently retained.</p>
<p>To disable the context menu, set <code>contextMenu = FALSE</code> in <code>hot_table</code> (or <code>rhandsontable</code>).</p>
<div id="add-remove-rows-columns" class="section level3">
<h3>Add / Remove Rows &amp; Columns</h3>
<p>By default a user can add or remove table rows and columns, but this functionality can be disabled. Note that Handsontable does not allow column be added or deleted to the table if column types are defined (i.e. <code>useTypes == TRUE</code> in <code>rhandsontable</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_context_menu</span>(<span class="dt">allowRowEdit =</span> <span class="ot">FALSE</span>, <span class="dt">allowColEdit =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><div id="htmlwidget-7077" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-7077">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"03/11/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"03/12/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"03/13/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"03/14/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"03/15/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"03/16/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"03/17/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"03/18/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"03/19/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"03/20/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
</div>
<div id="customizing" class="section level3">
<h3>Customizing</h3>
<p>The <code>customOpts</code> parameter of <code>hot_context_menu</code> can be used to add custom functionality to the context menu. Below are a couple examples.</p>
<div id="export-to-csv" class="section level4">
<h4>Export to CSV</h4>
<p>This example illustrates how to add an option to export the table to a csv file.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_context_menu</span>(
    <span class="dt">customOpts =</span> <span class="kw">list</span>(
      <span class="dt">csv =</span> <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&quot;Download to CSV&quot;</span>,
                    <span class="dt">callback =</span> htmlwidgets::<span class="kw">JS</span>(
                      <span class="st">&quot;function (key, options) {</span>
<span class="st">                         var csv = csvString(instance);</span>

<span class="st">                         var link = document.createElement('a');</span>
<span class="st">                         link.setAttribute('href', 'data:text/plain;charset=utf-8,' +</span>
<span class="st">                           encodeURIComponent(csv));</span>
<span class="st">                         link.setAttribute('download', filename);</span>

<span class="st">                         document.body.appendChild(link);</span>
<span class="st">                         link.click();</span>
<span class="st">                         document.body.removeChild(link);</span>
<span class="st">                       }&quot;</span>))))</code></pre></div>
<p><div id="htmlwidget-898" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-898">{"x":{"data":[[0.71,-1.6721,-0.7993,-0.0001,-0.1525],[1.4819,-0.0746,0.615,-0.9388,0.6682],[2.0512,-0.3123,0.8823,0.6854,0.8133],[-0.0953,-0.8335,-0.589,0.6434,2.1356],[0.7856,1.1708,1.0135,0.0882,0.3415],[-0.2761,-0.5922,0.7786,0.5745,0.4391],[-0.1969,0.8512,-1.8232,0.3583,-1.1995],[1.0767,-1.7109,1.1219,-0.4787,0.4988],[-1.2519,0.4448,-0.6854,1.3226,-2.0033],[0.1334,0.0827,0.9484,0.6542,-0.9197]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[],"hsep1":{"name":"---------"},"hsep2":{"name":"---------"},"col_left":[],"col_right":[],"remove_col":[],"hsep20":{"name":"---------"},"csv":{"name":"Download to CSV","callback":"function (key, options) {\n                         var csv = csvString(instance);\n\n                         var link = document.createElement('a');\n                         link.setAttribute('href', 'data:text/plain;charset=utf-8,' +\n                           encodeURIComponent(csv));\n                         link.setAttribute('download', filename);\n\n                         document.body.appendChild(link);\n                         link.click();\n                         document.body.removeChild(link);\n                       }"}}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","contextMenu.items.csv.callback"]}</script></p>
</div>
<div id="search" class="section level4">
<h4>Search</h4>
<p>This example illustrates how to enable the search functionality in Handsontable.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>,
                <span class="dt">bool =</span> <span class="ot">TRUE</span>,
                <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> <span class="kw">factor</span>(letters[<span class="dv">1</span>:<span class="dv">10</span>]),
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">search =</span> <span class="ot">TRUE</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_context_menu</span>(
    <span class="dt">customOpts =</span> <span class="kw">list</span>(
      <span class="dt">search =</span> <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&quot;Search&quot;</span>,
                    <span class="dt">callback =</span> htmlwidgets::<span class="kw">JS</span>(
                      <span class="st">&quot;function (key, options) {</span>
<span class="st">                         var srch = prompt('Search criteria');</span>

<span class="st">                         this.search.query(srch);</span>
<span class="st">                         this.render();</span>
<span class="st">                       }&quot;</span>))))</code></pre></div>
<p><div id="htmlwidget-8269" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-8269">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"03/11/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"03/12/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"03/13/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"03/14/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"03/15/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"03/16/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"03/17/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"03/18/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"03/19/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"03/20/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"factor","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"dropdown","source":["a","b","c","d","e","f","g","h","i","j"],"allowInvalid":false,"renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[],"hsep1":{"name":"---------"},"hsep2":{"name":"---------"},"col_left":[],"col_right":[],"remove_col":[],"hsep20":{"name":"---------"},"search":{"name":"Search","callback":"function (key, options) {\n                         var srch = prompt('Search criteria');\n\n                         this.search.query(srch);\n                         this.render();\n                       }"}}},"search":true},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","contextMenu.items.search.callback"]}</script></p>
<p>Future enhancements will look to expand export options.</p>
</div>
</div>
</div>
<div id="numeric-formatting" class="section level2">
<h2>Numeric Formatting</h2>
<p>Numeric columns are formatted using the <a href="http://numeraljs.com/">numeral.js</a> library.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">int =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">float =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>), <span class="dt">cur =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>) *<span class="st"> </span><span class="fl">1E5</span>,
                <span class="dt">lrg =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>) *<span class="st"> </span><span class="fl">1E8</span>, <span class="dt">pct =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>))

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;float&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;0.0&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;cur&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;$0,0.00&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;lrg&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;0a&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;pct&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;0%&quot;</span>)</code></pre></div>
<p><div id="htmlwidget-5074" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-5074">{"x":{"data":[{"int":1,"float":1.1425,"cur":145332.6776,"lrg":-87855441.2122,"pct":-0.9678},{"int":2,"float":0.1396,"cur":33641.0113,"lrg":143437838.7276,"pct":-0.1855},{"int":3,"float":2.161,"cur":-97986.4338,"lrg":160454135.8032,"pct":-1.5669},{"int":4,"float":-1.7244,"cur":-71550.7206,"lrg":143025453.5588,"pct":-1.271},{"int":5,"float":0.5775,"cur":-118971.5664,"lrg":-71499237.9549,"pct":-0.5727},{"int":6,"float":0.3986,"cur":124809.5294,"lrg":129493717.4264,"pct":0.6692},{"int":7,"float":-0.9019,"cur":174401.8982,"lrg":-85525452.7095,"pct":0.467},{"int":8,"float":1.6536,"cur":36511.4861,"lrg":-98897274.3813,"pct":-1.4873},{"int":9,"float":0.3087,"cur":84.2606,"lrg":-210404730.4691,"pct":0.0361},{"int":10,"float":-1.2581,"cur":145444.185,"lrg":35340472.9305,"pct":0.1698}],"rClass":"data.frame","rColClasses":{"int":"integer","float":"numeric","cur":"numeric","lrg":"numeric","pct":"numeric"},"rColnames":["int","float","cur","lrg","pct"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["int","float","cur","lrg","pct"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.0","renderer":"customRenderer","default":null},{"type":"numeric","format":"$0,0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0a","renderer":"customRenderer","default":null},{"type":"numeric","format":"0%","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
</div>
<div id="read-only" class="section level2">
<h2>Read Only</h2>
<p>The whole table and individual columns can to set to <code>readOnly</code> to prevent the user from making changes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">readOnly =</span> <span class="ot">TRUE</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;val&quot;</span>, <span class="dt">readOnly =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><div id="htmlwidget-5238" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-5238">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"03/11/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"03/12/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"03/13/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"03/14/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"03/15/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"03/16/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"03/17/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"03/18/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"03/19/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"03/20/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","readOnly":false,"renderer":"customRenderer","default":null},{"type":"checkbox","readOnly":true,"renderer":"customRenderer","default":null},{"type":"text","readOnly":true,"renderer":"customRenderer","default":null},{"type":"text","readOnly":true,"renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","readOnly":true,"renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
</div>
<div id="sorting" class="section level2">
<h2>Sorting</h2>
<p>Column sorting can be enabled; sorting only impacts the widget and will not reorder the original data set.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">columnSorting =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><div id="htmlwidget-4123" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-4123">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"03/11/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"03/12/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"03/13/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"03/14/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"03/15/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"03/16/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"03/17/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"03/18/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"03/19/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"03/20/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"columnSorting":true},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
</div>
<div id="highlight-rows-columns" class="section level2">
<h2>Highlight Rows &amp; Columns</h2>
<p>With larger tables it my be desirable to highlight the row and column for a selected cell.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="co"># click on a cell to see the highlighting</span>
<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_table</span>(<span class="dt">highlightCol =</span> <span class="ot">TRUE</span>, <span class="dt">highlightRow =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><div id="htmlwidget-9830" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-9830">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"03/11/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"03/12/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"03/13/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"03/14/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"03/15/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"03/16/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"03/17/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"03/18/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"03/19/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"03/20/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"ishighlight":true,"currentRowClassName":"currentRow","currentColClassName":"currentCol"},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
</div>
<div id="sizing" class="section level2">
<h2>Sizing</h2>
<p>Column and row dimensions can be customized. For larger data sets, (multiple) top rows and left columns can be frozen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">600</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">colWidths =</span> <span class="dv">100</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_rows</span>(<span class="dt">rowHeights =</span> <span class="dv">50</span>)</code></pre></div>
<p><div id="htmlwidget-1612" style="width:600px;height:600px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-1612">{"x":{"data":[[-1.1269,-0.3337,-1.7006,-0.1832,-0.0363],[0.0294,0.2255,1.4107,0.4186,0.1213],[1.3505,-0.0547,0.5152,-0.576,1.1977],[-0.1625,-0.3599,1.1018,-1.4556,0.4851],[-0.8016,1.5798,-0.7016,-0.8597,-1.5242],[-0.0305,0.754,1.1944,-0.5554,-0.522],[0.4356,-1.0191,1.4335,0.0018,-0.1202],[-0.2013,-0.6264,0.6225,0.9078,1.4524],[-1.0128,-0.1787,-1.6086,-1.2352,-0.2145],[1.1949,-0.9301,0.8959,-0.7416,-0.4336]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":600,"height":600,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"colWidths":100,"rowHeights":50},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
<p>The table can be streched to the full width by passing <code>stretchH = &quot;all&quot;</code> to <code>rhandsontable</code> (or <code>hot_table</code>).</p>
</div>
<div id="fixed-rows-columns" class="section level2">
<h2>Fixed Rows / Columns</h2>
<p>For larger data sets, (multiple) top rows and left columns can be frozen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">26</span> *<span class="st"> </span><span class="dv">26</span>), <span class="dt">nrow =</span> <span class="dv">26</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS, letters))

<span class="co"># scroll through the table to see the fixed row and column</span>
<span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">fixedColumnsLeft =</span> <span class="dv">1</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_rows</span>(<span class="dt">fixedRowsTop =</span> <span class="dv">1</span>)</code></pre></div>
<p><div id="htmlwidget-8654" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-8654">{"x":{"data":[[-0.1171,1.2058,-0.0721,-1.1622,-1.1222,1.1532,-0.4302,-0.2932,-0.5664,-0.1318,0.4358,-0.1974,0.4784,-0.5216,-1.3336,0.738,0.7004,0.8449,-0.5019,2.6635,1.4703,0.9081,-0.1299,-0.8041,1.8173,-0.5414],[-0.6325,-0.338,0.0096,-0.2967,0.7981,-0.5829,-2.644,0.7016,-0.6151,1.0367,-0.6172,0.9929,1.007,0.6858,-1.1647,0.8419,1.6024,1.201,-2.5029,0.8243,0.9867,1.0711,-2.1761,1.1133,0.0086,1.2059],[1.6282,1.2138,-1.4699,-1.783,-0.4694,0.7258,0.4123,1.1658,0.8489,-0.046,-0.0093,-1.3352,-0.9882,-0.6558,0.0773,1.6979,-0.1644,-0.5837,0.4426,-0.1976,0.6652,0.2344,1.7737,0.0068,-1.4495,0.3885],[-0.2523,-0.7245,1.3671,-0.3568,1.2009,-0.0108,-0.7535,-0.0697,1.0711,-0.6489,-1.1349,-1.4408,-0.5189,-1.2204,0.4363,-0.5889,1.3154,-0.1985,1.5623,0.35,0.4259,0.6889,0.4027,1.5292,0.1217,-0.4692],[0.1247,-1.0907,0.9818,0.4529,-1.1096,1.2165,-1.5931,0.0358,0.1782,0.6549,-0.007,-0.554,0.9481,1.3505,-1.4357,-0.9809,1.5693,-1.1583,-0.8915,0.2009,-0.9769,-1.5031,1.1057,1.4237,0.8792,-2.0043],[1.392,0.5874,-1.4208,0.9495,-0.3331,-0.6684,1.4911,0.7102,1.977,1.9204,-0.8108,-1.4273,0.6488,1.0421,-1.0474,-1.2866,0.7542,0.4459,-2.9475,1.3677,0.5526,-1.3425,-0.6762,3.0196,-0.1071,-0.0162],[-1.3405,-0.6434,-0.5646,0.5181,0.3234,-0.7694,0.4131,0.5503,-0.166,0.2178,0.1056,0.0127,0.0972,1.7331,-0.7073,-1.0507,-1.5166,0.467,0.9548,0.8569,0.411,0.02,1.0383,0.8427,0.6895,-1.0961],[1.0017,1.7516,-0.6361,-1.7697,2.2899,-0.2951,-0.6782,-0.9398,0.3514,0.0132,0.6873,0.2041,-0.8996,0.2504,-0.0937,-0.904,1.0412,0.78,-0.754,-0.1096,-1.0629,-1.9489,2.0253,-0.8011,1.0777,-1.1157],[1.0244,0.158,-0.3317,-1.0219,-0.4985,-0.2109,-1.1723,1.2266,0.8448,0.0859,1.7218,0.0464,-0.4631,-0.4232,0.322,0.9331,1.1673,1.2587,1.5715,1.5126,0.851,-0.0019,-0.3003,1.1027,1.3589,-0.5513],[-1.786,-0.8164,-1.2773,-0.7017,0.0697,-0.7666,0.6998,-0.0477,0.3713,-0.748,-0.0509,1.3987,-0.3159,1.1442,0.6124,1.4796,-0.1751,-0.1217,0.5386,-2.0059,0.6163,0.8135,-0.1518,-1.2892,0.7752,0.9001],[-0.0575,0.0978,-1.5378,0.2415,-1.9093,-0.1143,0.1453,0.6763,0.1373,0.3624,-2.4005,-0.1362,0.4346,0.7578,1.6421,-0.3876,1.8195,-0.9938,0.3339,0.1038,1.6777,-0.8053,-1.5744,-0.3397,-0.1601,1.288],[-2.139,2.1496,-0.5498,-0.8505,0.9668,0.5769,-0.7451,-2.3554,0.7577,0.9639,1.186,0.3569,-0.1464,-0.6348,-0.6003,0.1891,-0.3584,0.2667,-0.0435,-0.9171,1.2826,-1.2379,-1.1792,0.5742,-0.0924,1.6586],[0.6957,0.1533,0.3378,-0.2573,0.667,0.1311,0.1812,-1.124,-0.7861,0.9972,2.051,1.528,0.2828,3.4923,0.3952,1.5276,-0.6362,-0.1228,0.2701,-1.2937,-0.3893,0.896,2.0273,-0.5034,-1.1432,0.1322],[-0.8897,-0.3705,0.6781,1.2125,-0.4601,-1.4095,1.7303,-1.1082,0.14,-0.0437,0.1103,0.7034,1.2795,1.0103,-1.5005,1.1185,-0.9947,-0.2012,0.668,0.0294,-0.9707,-0.0962,-2.0483,0.3515,1.6029,-1.4387],[-0.2103,0.2803,1.5888,-1.5552,-0.9895,0.8654,0.2822,1.347,-0.183,1.8258,-0.013,-2.6179,-2.9322,-0.0479,0.8076,-0.7871,-1.0697,-1.3231,0.3579,3.0162,1.12,0.6219,-0.5971,-1.3953,2.4723,-0.111],[-1.4161,-0.0808,-0.9665,-1.5318,-0.4023,1.1447,1.439,0.1993,0.4854,0.1579,-0.626,1.6375,0.3819,-0.7829,0.4921,-0.5549,-0.5028,1.586,1.1927,-2.3404,-0.0777,1.0064,-1.7195,0.5874,-0.2617,0.1208],[0.2494,1.1652,-1.585,0.4173,0.3192,-0.8332,-0.9082,0.9061,1.2312,1.1065,0.0602,0.9156,0.0358,-1.9042,1.2817,-0.4198,-0.2288,-1.2058,-0.4677,0.2759,2.2057,0.0494,-1.7645,-0.3526,-0.4616,-0.6702],[0.4851,-0.0063,1.5106,-1.1523,0.5148,-0.0802,-0.0594,-0.5376,-0.7667,-0.0288,-0.9507,-0.1989,-0.5997,1.5008,-0.1904,0.0715,1.7037,0.7711,0.1539,0.5215,1.0223,-0.2996,-1.6123,1.2192,-0.9466,-1.6478],[-0.0447,-0.7858,-0.4758,0.1667,-0.708,2.3324,0.115,1.5157,-0.651,0.0964,-1.1403,-0.0919,-0.8137,0.5413,-0.5853,-1.1938,-1.8255,-0.3035,1.9106,0.3165,1.0603,-1.4342,-0.1576,0.771,1.7589,-0.9345],[-0.5205,-0.1456,1.1569,0.0078,-1.8091,0.2466,-0.5904,-0.2928,0.6801,0.6683,-0.2502,0.4912,0.309,-0.4326,-0.8809,-0.0861,-0.8355,1.0793,0.8216,-0.2554,0.4897,0.9418,-0.4773,1.4962,0.2767,0.2429],[-0.4458,1.2645,0.6028,-0.4787,-0.3292,0.6984,0.7424,0.4289,0.3852,-0.4078,0.2654,-0.6977,0.6829,-1.0455,0.861,0.2706,-0.36,-1.2736,1.0774,-0.8151,0.5717,-2.0673,0.7974,0.4435,-1.0959,-0.7817],[0.3597,0.0965,-0.5623,0.2564,0.0819,-1.8008,2.7199,-1.4107,0.4283,0.014,-0.2944,-0.3763,0.9117,0.8032,-0.1438,0.2094,0.1898,-1.5836,1.1669,1.1247,-1.0817,-0.6364,0.5674,-0.6733,0.7558,0.036],[0.5825,1.5547,0.6984,0.5027,-1.1774,-0.3626,1.7481,0.0373,1.9362,0.2718,0.5484,-1.25,0.163,0.5837,0.4126,0.2499,-1.4345,0.9416,-1.4212,0.6315,-0.1153,-0.4597,-1.3635,0.4441,-0.5764,0.2173],[0.9127,-0.5655,1.4575,-1.6524,1.3484,-0.4819,0.2041,-2.3909,-0.2535,-1.5814,-0.6899,1.0317,1.2858,0.2335,-0.2407,-1.5939,-2.1265,-0.5041,0.4928,-0.9847,2.9273,-0.5411,1.0272,0.4136,0.1258,0.5521],[0.6197,-0.4141,0.615,-0.2161,1.6591,0.3596,-0.4343,0.3098,0.2834,-0.8752,0.5401,-0.0797,-0.6869,-0.4038,-0.2133,-0.4989,1.0821,-0.5796,-0.8598,0.0427,1.3657,-0.319,0.273,1.9291,-1.7206,-0.8316],[1.7904,-1.2056,-0.1306,-0.6659,-0.1189,0.2256,1.3681,-1.7391,-1.4703,-1.1082,0.4428,0.8273,0.4325,0.8462,0.1612,1.222,0.3473,-1.9689,-1.1764,0.3644,-0.3769,-0.0731,0.7716,0.6671,0.1593,0.8453]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],"rDataDim":[26,26],"selectCallback":false,"colHeaders":["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"fixedColumnsLeft":1,"fixedRowsTop":1},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer","columns.6.renderer","columns.7.renderer","columns.8.renderer","columns.9.renderer","columns.10.renderer","columns.11.renderer","columns.12.renderer","columns.13.renderer","columns.14.renderer","columns.15.renderer","columns.16.renderer","columns.17.renderer","columns.18.renderer","columns.19.renderer","columns.20.renderer","columns.21.renderer","columns.22.renderer","columns.23.renderer","columns.24.renderer","columns.25.renderer"]}</script></p>
</div>
<div id="cell-comments" class="section level2">
<h2>Cell Comments</h2>
<p>Comments (hover) can also be added to individual cells and will appear as red flags in the upper right of the cell.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cell</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="st">&quot;Test comment&quot;</span>)</code></pre></div>
<p><div id="htmlwidget-1062" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-1062">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"03/11/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"03/12/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"03/13/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"03/14/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"03/15/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"03/16/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"03/17/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"03/18/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"03/19/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"03/20/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":true,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[],"hsep1":{"name":"---------"},"hsep6":{"name":"---------"},"commentsAddEdit":[],"commentsRemove":[]}},"cell":[{"row":0,"col":0,"comment":"Test comment"}]},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
<p>Additionally, comments can be added via <code>data.frame</code> or <code>matrix</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT_comments =<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">ncol =</span> <span class="kw">ncol</span>(DF), <span class="dt">nrow =</span> <span class="kw">nrow</span>(DF))
MAT_comments[<span class="dv">1</span>, <span class="dv">1</span>] =<span class="st"> &quot;Test comment&quot;</span>
MAT_comments[<span class="dv">2</span>, <span class="dv">2</span>] =<span class="st"> &quot;Another test comment&quot;</span>

<span class="kw">rhandsontable</span>(DF, <span class="dt">comments =</span> MAT_comments, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>)</code></pre></div>
<p><div id="htmlwidget-5352" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-5352">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"03/11/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"03/12/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"03/13/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"03/14/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"03/15/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"03/16/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"03/17/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"03/18/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"03/19/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"03/20/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":true,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[],"hsep6":{"name":"---------"},"commentsAddEdit":[],"commentsRemove":[]}},"cell":[{"row":0,"col":0,"comment":"Test comment"},{"row":1,"col":1,"comment":"Another test comment"}]},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
<p>Finally, comments can also be added via the right-click context menu, but these updates will not currently be retained by shiny.</p>
</div>
<div id="borders" class="section level2">
<h2>Borders</h2>
<p>Custom borders can be drawn around cells to highlight specific items. Borders can also be added via the right-click context menu, but these updates will not currently be retained by shiny.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_table</span>(<span class="dt">customBorders =</span> <span class="kw">list</span>(<span class="kw">list</span>(
    <span class="dt">range =</span> <span class="kw">list</span>(<span class="dt">from =</span> <span class="kw">list</span>(<span class="dt">row =</span> <span class="dv">1</span>, <span class="dt">col =</span> <span class="dv">1</span>),
                 <span class="dt">to =</span> <span class="kw">list</span>(<span class="dt">row =</span> <span class="dv">2</span>, <span class="dt">col =</span> <span class="dv">2</span>)),
    <span class="dt">top =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>),
    <span class="dt">left =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>),
    <span class="dt">bottom =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>),
    <span class="dt">right =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>))))</code></pre></div>
<p><div id="htmlwidget-436" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-436">{"x":{"data":[[-0.4678,-0.4826,-1.0263,1.3595,-0.1451],[-0.4151,-0.7213,1.1634,0.4485,2.6018],[-0.6643,1.0351,1.1589,-0.9548,-0.7973],[-0.5137,-0.4044,1.0766,1.4407,-0.0205],[1.0057,0.8034,-0.6609,-0.9502,0.2776],[0.1969,-0.6487,1.1132,1.3944,0.6178],[0.6042,-0.0705,-0.5175,0.1012,0.3667],[-0.7566,0.3545,-0.602,0.0142,-0.4164],[0.168,-0.2938,-1.4951,-0.1027,0.8476],[-1.1883,-0.1874,0.2352,0.2277,-0.0815]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[],"hsep1":{"name":"---------"},"hsep7":{"name":"---------"},"borders":[]}},"customBorders":[{"range":{"from":{"row":1,"col":1},"to":{"row":2,"col":2}},"top":{"width":2,"color":"red"},"left":{"width":2,"color":"red"},"bottom":{"width":2,"color":"red"},"right":{"width":2,"color":"red"}}]},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
</div>
<div id="validation" class="section level2">
<h2>Validation</h2>
<div id="numeric-columns" class="section level3">
<h3>Numeric Columns</h3>
<p>Pre-defined validation can be added for numeric columns in two ways:</p>
<ul>
<li>specify a min and max and any values within the range to exclude</li>
<li>similar to a <code>dropdown</code> column, specify allowed values</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="kw">rhandsontable</span>(MAT *<span class="st"> </span><span class="dv">10</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_validate_numeric</span>(<span class="dt">col =</span> <span class="dv">1</span>, <span class="dt">min =</span> -<span class="dv">50</span>, <span class="dt">max =</span> <span class="dv">50</span>, <span class="dt">exclude =</span> <span class="dv">40</span>)</code></pre></div>
<p><div id="htmlwidget-7906" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-7906">{"x":{"data":[[-3.5588,2.1536,-0.7265,2.8463,-2.4577],[-11.3491,-1.7129,0.3322,8.6794,0.673],[7.2524,-3.7395,4.5467,5.1776,18.4461],[-5.0501,-15.5991,-5.2057,7.2854,-5.9843],[-0.1845,-9.363,14.5782,1.096,-4.9561],[-4.4987,8.8818,9.1958,-4.7102,-26.4805],[12.6788,16.2284,-9.0305,1.7916,-3.4543],[-4.5083,3.2917,7.2676,-1.3516,12.557],[-24.179,6.377,-5.8135,-7.1166,23.3499],[18.2276,-0.4236,16.2683,28.8896,11.8091]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"function (value, callback) {\n         setTimeout(function(){\n           if (isNaN(parseFloat(value))) {\n             callback(false);\n           }\n           if (['40'].indexOf(value) > -1) { return callback(false); }\n           if (value < -50) { return callback(false); }\n           if (value > 50) { return callback(false); }\n           \n           return callback(true);\n         }, 500)\n       }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.0.validator","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(MAT *<span class="st"> </span><span class="dv">10</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_validate_numeric</span>(<span class="dt">col =</span> <span class="dv">1</span>, <span class="dt">choices =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">40</span>))</code></pre></div>
<p><div id="htmlwidget-2601" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-2601">{"x":{"data":[[-3.5588,2.1536,-0.7265,2.8463,-2.4577],[-11.3491,-1.7129,0.3322,8.6794,0.673],[7.2524,-3.7395,4.5467,5.1776,18.4461],[-5.0501,-15.5991,-5.2057,7.2854,-5.9843],[-0.1845,-9.363,14.5782,1.096,-4.9561],[-4.4987,8.8818,9.1958,-4.7102,-26.4805],[12.6788,16.2284,-9.0305,1.7916,-3.4543],[-4.5083,3.2917,7.2676,-1.3516,12.557],[-24.179,6.377,-5.8135,-7.1166,23.3499],[18.2276,-0.4236,16.2683,28.8896,11.8091]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"function (value, callback) {\n         setTimeout(function(){\n           if (isNaN(parseFloat(value))) {\n             callback(false);\n           }\n           \n           \n           \n           if (['10','20','40'].indexOf(value) == -1) { return callback(false); }\n           return callback(true);\n         }, 500)\n       }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.0.validator","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
</div>
<div id="character-columns" class="section level3">
<h3>Character Columns</h3>
<p>For character columns, a vector of allowed options can be specified. A more user-friendly approach may be to use a <code>dropdown</code> column with <code>strict = TRUE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_validate_character</span>(<span class="dt">col =</span> <span class="st">&quot;big&quot;</span>, <span class="dt">choices =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>])</code></pre></div>
<p><div id="htmlwidget-841" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-841">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"03/11/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"03/12/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"03/13/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"03/14/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"03/15/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"03/16/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"03/17/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"03/18/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"03/19/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"03/20/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null,"validator":"function (value, callback) {\n         setTimeout(function() {\n           if (typeof(value) != 'string') {\n             return callback(false);\n           }\n           if (['A','B','C','D','E','F','G','H','I','J'].indexOf(value) > -1) { return callback(true); }\n           return callback(false);\n         }, 500)\n       }","allowInvalid":false},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.2.validator","columns.3.renderer","columns.4.renderer"]}</script></p>
</div>
<div id="custom" class="section level3">
<h3>Custom</h3>
<p>It is also possible to create a custom validation function in JavaScript.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="co"># try to update any cell to 0</span>
<span class="kw">rhandsontable</span>(MAT *<span class="st"> </span><span class="dv">10</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">validator =</span> <span class="st">&quot;</span>
<span class="st">           function (value, callback) {</span>
<span class="st">            setTimeout(function(){</span>
<span class="st">              callback(value != 0);</span>
<span class="st">            }, 1000)</span>
<span class="st">           }&quot;</span>,
           <span class="dt">allowInvalid =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><div id="htmlwidget-3035" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-3035">{"x":{"data":[[-13.7238,30.466,5.8802,1.7248,7.3766],[-1.787,11.7818,-3.0819,-2.8521,-2.0337],[8.1464,15.9526,3.8655,5.293,2.8503],[5.1481,10.1297,-0.7871,2.8484,-6.7928],[-1.856,-3.8302,0.348,-4.8833,-3.1461],[5.6124,-16.9953,-9.5526,5.8296,-0.5251],[0.519,-1.41,-2.0914,1.1034,3.4024],[4.0182,-24.1396,3.4048,-10.0026,3.8644],[1.7949,6.0111,-15.5893,10.5854,2.2628],[23.7424,-9.0643,-3.4474,-20.0105,-6.3248]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"\n           function (value, callback) {\n            setTimeout(function(){\n              callback(value != 0);\n            }, 1000)\n           }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"\n           function (value, callback) {\n            setTimeout(function(){\n              callback(value != 0);\n            }, 1000)\n           }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"\n           function (value, callback) {\n            setTimeout(function(){\n              callback(value != 0);\n            }, 1000)\n           }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"\n           function (value, callback) {\n            setTimeout(function(){\n              callback(value != 0);\n            }, 1000)\n           }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"\n           function (value, callback) {\n            setTimeout(function(){\n              callback(value != 0);\n            }, 1000)\n           }","allowInvalid":false}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.0.validator","columns.1.renderer","columns.1.validator","columns.2.renderer","columns.2.validator","columns.3.renderer","columns.3.validator","columns.4.renderer","columns.4.validator"]}</script></p>
</div>
</div>
<div id="conditional-formatting" class="section level2">
<h2>Conditional Formatting</h2>
<p>Conditional formatting can also be specified via custom JavaScript function. Future enhancements will look to simplify this interface.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">runif</span>(<span class="dv">100</span>, -<span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">nrow =</span> <span class="dv">10</span>,
             <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>], LETTERS[<span class="dv">1</span>:<span class="dv">10</span>]))
<span class="kw">diag</span>(MAT) =<span class="st"> </span><span class="dv">1</span>
MAT[<span class="kw">upper.tri</span>(MAT)] =<span class="st"> </span>MAT[<span class="kw">lower.tri</span>(MAT)]
<span class="kw">rhandsontable</span>(MAT, <span class="dt">readOnly =</span> <span class="ot">TRUE</span>, <span class="dt">width =</span> <span class="dv">750</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">renderer =</span> <span class="st">&quot;</span>
<span class="st">           function (instance, td, row, col, prop, value, cellProperties) {</span>
<span class="st">             Handsontable.renderers.TextRenderer.apply(this, arguments);</span>
<span class="st">             if (row == col) {</span>
<span class="st">              td.style.background = 'lightgrey';</span>
<span class="st">             } else if (col &gt; row) {</span>
<span class="st">              td.style.background = 'grey';</span>
<span class="st">              td.style.color = 'grey';</span>
<span class="st">             } else if (value &lt; -0.75) {</span>
<span class="st">              td.style.background = 'pink';</span>
<span class="st">             } else if (value &gt; 0.75) {</span>
<span class="st">              td.style.background = 'lightgreen';</span>
<span class="st">             }</span>
<span class="st">           }&quot;</span>)</code></pre></div>
<p><div id="htmlwidget-6005" style="width:750px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-6005">{"x":{"data":[[1,0.4762,0.3991,-0.0642,-0.5197,-0.1592,-0.8712,-0.6255,0.0472,0.6797],[0.4762,1,-0.1289,-0.4338,0.1521,0.1436,0.5796,-0.4516,0.8902,-0.4769],[0.3991,-0.893,1,-0.5359,-0.1714,-0.0158,0.7055,-0.1462,-0.805,0.8016],[-0.1289,-0.1592,0.7055,1,-0.893,-0.5163,-0.6175,0.5293,-0.9775,0.4971],[-0.0642,0.1436,-0.6175,0.5293,1,0.7994,-0.8776,0.815,-0.1312,0.4461],[-0.4338,-0.0158,-0.8776,0.815,-0.805,1,0.7175,-0.3062,0.3067,0.9221],[-0.5359,-0.5163,0.7175,-0.3062,-0.9775,-0.4361,1,0.142,0.9388,0.8663],[-0.5197,0.7994,-0.6255,0.142,-0.1312,0.6797,0.4971,1,-0.4361,0.8534],[0.1521,-0.8712,-0.4516,0.0472,0.3067,-0.4769,0.4461,0.8663,1,0.0194],[-0.1714,0.5796,-0.1462,0.8902,0.9388,0.8016,0.9221,0.8534,0.0194,1]],"rClass":"matrix","rColClasses":"numeric","rColnames":["A","B","C","D","E","F","G","H","I","J"],"rDataDim":[10,10],"selectCallback":false,"colHeaders":["A","B","C","D","E","F","G","H","I","J"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null}],"width":750,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer","columns.6.renderer","columns.7.renderer","columns.8.renderer","columns.9.renderer"]}</script></p>
</div>
<div id="heatmap" class="section level2">
<h2>Heatmap</h2>
<p>The <a href="http://old.driven-by-data.net/about/chromajs/">chroma.js</a> library can be used to turn the table into a heatmap.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_heatmap</span>()</code></pre></div>
<p><div id="htmlwidget-7927" style="width:550px;height:300px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-7927">{"x":{"data":[[0.1463,-0.0521,0.8237,-1.3483,0.3319],[-0.2376,1.0791,0.8917,1.5847,0.9866],[0.1025,-0.8127,1.1764,1.7192,0.1548],[-0.8135,-1.122,1.2489,0.9136,0.1083],[0.2433,0.5548,-0.2566,2.2775,-1.6002],[2.1157,0.9818,-0.6716,0.6973,0.5133],[-1.0796,0.2585,0.7294,0.1742,-1.4476],[-0.2528,-0.4943,0.0339,1.6031,0.695],[-0.7388,1.2456,0.4587,-0.6435,-0.2641],[-0.2145,-1.2434,-0.616,2.0524,-0.7275]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      ","default":null},{"type":"numeric","format":"0.00","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      ","default":null},{"type":"numeric","format":"0.00","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      ","default":null},{"type":"numeric","format":"0.00","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      ","default":null},{"type":"numeric","format":"0.00","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      ","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"isHeatmap":true},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
</div>
<div id="shiny" class="section level2">
<h2>Shiny</h2>
<p>The data grid will be editable by default and can be used as input to a <code>shiny</code> app. A few <code>shiny</code> and <code>shinydashboard</code> example links are listed below. Note that the shinyapps.io links may not work if the has hit the monthly usage limit.</p>
<p>When using <code>rhandsontable</code> and an input, these apps generally use the <code>hot_to_r</code> function to convert data to an R data.frame and <code>shiny::reactiveValues</code> to store a cached version of the data (see the <em>Data file editor</em> example below). The <code>rhandsontable</code> function also includes the <code>selectCallback</code> parameter, which will fire a callback event when a table cell is selected (see the <em>Table callback linked to chart</em> example below).</p>
<ul>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_output">Output only</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir = &quot;inst/examples/rhandsontable_output&quot;)</code></pre></li>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_datafile">Date file editor</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir = &quot;inst/examples/rhandsontable_datafile&quot;)</code></pre></li>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_portfolio">Calculation input</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir = &quot;inst/examples/rhandsontable_portfolio&quot;)</code></pre></li>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_corr">Table callback linked to chart</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir = &quot;inst/examples/rhandsontable_corr&quot;)</code></pre></li>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_frontier">Multiple input tables</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir = &quot;inst/examples/rhandsontable_frontier&quot;)</code></pre></li>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_dash">A shinydashboard app</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir=&quot;inst/examples/rhandsontable_dash&quot;)</code></pre></li>
</ul>
</div>
<div id="suggestions-contributions" class="section level2">
<h2>Suggestions &amp; Contributions</h2>
<p>Please file a issue if you experience any problems with the widget or have feature requests. Pull requests are also welcome.</p>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
