<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Jonathan Owen" />

<meta name="date" content="2016-07-06" />

<title>rhandsontable Introduction</title>

<script src="data:application/x-javascript;base64,KGZ1bmN0aW9uKCkgewogIC8vIElmIHdpbmRvdy5IVE1MV2lkZ2V0cyBpcyBhbHJlYWR5IGRlZmluZWQsIHRoZW4gdXNlIGl0OyBvdGhlcndpc2UgY3JlYXRlIGEKICAvLyBuZXcgb2JqZWN0LiBUaGlzIGFsbG93cyBwcmVjZWRpbmcgY29kZSB0byBzZXQgb3B0aW9ucyB0aGF0IGFmZmVjdCB0aGUKICAvLyBpbml0aWFsaXphdGlvbiBwcm9jZXNzICh0aG91Z2ggbm9uZSBjdXJyZW50bHkgZXhpc3QpLgogIHdpbmRvdy5IVE1MV2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cyB8fCB7fTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSB2aWV3ZXIgcGFuZS4gSWYgbm90LCB3ZSdyZSBpbiBhIHdlYiBicm93c2VyLgogIHZhciB2aWV3ZXJNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnZpZXdlck1vZGUgPQogICAgICAvXGJ2aWV3ZXJfcGFuZT0xXGIvLnRlc3Qod2luZG93LmxvY2F0aW9uKTsKCiAgLy8gU2VlIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gU2hpbnkgbW9kZS4gSWYgbm90LCBpdCdzIGEgc3RhdGljIGRvY3VtZW50LgogIC8vIE5vdGUgdGhhdCBzdGF0aWMgd2lkZ2V0cyBjYW4gYXBwZWFyIGluIGJvdGggU2hpbnkgYW5kIHN0YXRpYyBtb2RlcywgYnV0CiAgLy8gb2J2aW91c2x5LCBTaGlueSB3aWRnZXRzIGNhbiBvbmx5IGFwcGVhciBpbiBTaGlueSBhcHBzL2RvY3VtZW50cy4KICB2YXIgc2hpbnlNb2RlID0gd2luZG93LkhUTUxXaWRnZXRzLnNoaW55TW9kZSA9CiAgICAgIHR5cGVvZih3aW5kb3cuU2hpbnkpICE9PSAidW5kZWZpbmVkIiAmJiAhIXdpbmRvdy5TaGlueS5vdXRwdXRCaW5kaW5nczsKCiAgLy8gV2UgY2FuJ3QgY291bnQgb24galF1ZXJ5IGJlaW5nIGF2YWlsYWJsZSwgc28gd2UgaW1wbGVtZW50IG91ciBvd24KICAvLyB2ZXJzaW9uIGlmIG5lY2Vzc2FyeS4KICBmdW5jdGlvbiBxdWVyeVNlbGVjdG9yQWxsKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKHR5cGVvZihqUXVlcnkpICE9PSAidW5kZWZpbmVkIiAmJiBzY29wZSBpbnN0YW5jZW9mIGpRdWVyeSkgewogICAgICByZXR1cm4gc2NvcGUuZmluZChzZWxlY3Rvcik7CiAgICB9CiAgICBpZiAoc2NvcGUucXVlcnlTZWxlY3RvckFsbCkgewogICAgICByZXR1cm4gc2NvcGUucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7CiAgICBpZiAodmFsdWUgPT09IG51bGwpCiAgICAgIHJldHVybiBbXTsKICAgIGlmICgkLmlzQXJyYXkodmFsdWUpKQogICAgICByZXR1cm4gdmFsdWU7CiAgICByZXR1cm4gW3ZhbHVlXTsKICB9CgogIC8vIEltcGxlbWVudCBqUXVlcnkncyBleHRlbmQKICBmdW5jdGlvbiBleHRlbmQodGFyZ2V0IC8qLCAuLi4gKi8pIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgewogICAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9CgogIC8vIElFOCBkb2Vzbid0IHN1cHBvcnQgQXJyYXkuZm9yRWFjaC4KICBmdW5jdGlvbiBmb3JFYWNoKHZhbHVlcywgY2FsbGJhY2ssIHRoaXNBcmcpIHsKICAgIGlmICh2YWx1ZXMuZm9yRWFjaCkgewogICAgICB2YWx1ZXMuZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZyk7CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykgewogICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdmFsdWVzW2ldLCBpLCB2YWx1ZXMpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZXBsYWNlcyB0aGUgc3BlY2lmaWVkIG1ldGhvZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgZnVuY1NvdXJjZS4KICAvLwogIC8vIE5vdGUgdGhhdCBmdW5jU291cmNlIHNob3VsZCBub3QgQkUgdGhlIG5ldyBtZXRob2QsIGl0IHNob3VsZCBiZSBhIGZ1bmN0aW9uCiAgLy8gdGhhdCBSRVRVUk5TIHRoZSBuZXcgbWV0aG9kLiBmdW5jU291cmNlIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHRoYXQgaXMKICAvLyB0aGUgb3ZlcnJpZGRlbiBtZXRob2QsIGl0IGNhbiBiZSBjYWxsZWQgZnJvbSB0aGUgbmV3IG1ldGhvZC4gVGhlIG92ZXJyaWRkZW4KICAvLyBtZXRob2QgY2FuIGJlIGNhbGxlZCBsaWtlIGEgcmVndWxhciBmdW5jdGlvbiwgaXQgaGFzIHRoZSB0YXJnZXQgcGVybWFuZW50bHkKICAvLyBib3VuZCB0byBpdCBzbyAidGhpcyIgd2lsbCB3b3JrIGNvcnJlY3RseS4KICBmdW5jdGlvbiBvdmVycmlkZU1ldGhvZCh0YXJnZXQsIG1ldGhvZE5hbWUsIGZ1bmNTb3VyY2UpIHsKICAgIHZhciBzdXBlckZ1bmMgPSB0YXJnZXRbbWV0aG9kTmFtZV0gfHwgZnVuY3Rpb24oKSB7fTsKICAgIHZhciBzdXBlckZ1bmNCb3VuZCA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gc3VwZXJGdW5jLmFwcGx5KHRhcmdldCwgYXJndW1lbnRzKTsKICAgIH07CiAgICB0YXJnZXRbbWV0aG9kTmFtZV0gPSBmdW5jU291cmNlKHN1cGVyRnVuY0JvdW5kKTsKICB9CgogIC8vIEFkZCBhIG1ldGhvZCB0byBkZWxlZ2F0b3IgdGhhdCwgd2hlbiBpbnZva2VkLCBjYWxscwogIC8vIGRlbGVnYXRlZS5tZXRob2ROYW1lLiBJZiB0aGVyZSBpcyBubyBzdWNoIG1ldGhvZCBvbgogIC8vIHRoZSBkZWxlZ2F0ZWUsIGJ1dCB0aGVyZSB3YXMgb25lIG9uIGRlbGVnYXRvciBiZWZvcmUKICAvLyBkZWxlZ2F0ZU1ldGhvZCB3YXMgY2FsbGVkLCB0aGVuIHRoZSBvcmlnaW5hbCB2ZXJzaW9uCiAgLy8gaXMgaW52b2tlZCBpbnN0ZWFkLgogIC8vIEZvciBleGFtcGxlOgogIC8vCiAgLy8gdmFyIGEgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2ExJyk7IH0KICAvLyAgIG1ldGhvZDI6IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZygnYTInKTsgfQogIC8vIH07CiAgLy8gdmFyIGIgPSB7CiAgLy8gICBtZXRob2QxOiBmdW5jdGlvbigpIHsgY29uc29sZS5sb2coJ2IxJyk7IH0KICAvLyB9OwogIC8vIGRlbGVnYXRlTWV0aG9kKGEsIGIsICJtZXRob2QxIik7CiAgLy8gZGVsZWdhdGVNZXRob2QoYSwgYiwgIm1ldGhvZDIiKTsKICAvLyBhLm1ldGhvZDEoKTsKICAvLyBhLm1ldGhvZDIoKTsKICAvLwogIC8vIFRoZSBvdXRwdXQgd291bGQgYmUgImIxIiwgImEyIi4KICBmdW5jdGlvbiBkZWxlZ2F0ZU1ldGhvZChkZWxlZ2F0b3IsIGRlbGVnYXRlZSwgbWV0aG9kTmFtZSkgewogICAgdmFyIGluaGVyaXRlZCA9IGRlbGVnYXRvclttZXRob2ROYW1lXTsKICAgIGRlbGVnYXRvclttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdGFyZ2V0ID0gZGVsZWdhdGVlOwogICAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGVlW21ldGhvZE5hbWVdOwoKICAgICAgLy8gVGhlIG1ldGhvZCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBkZWxlZ2F0ZWUuIEluc3RlYWQsCiAgICAgIC8vIGNhbGwgdGhlIG1ldGhvZCBvbiB0aGUgZGVsZWdhdG9yLCBpZiBpdCBleGlzdHMuCiAgICAgIGlmICghbWV0aG9kKSB7CiAgICAgICAgdGFyZ2V0ID0gZGVsZWdhdG9yOwogICAgICAgIG1ldGhvZCA9IGluaGVyaXRlZDsKICAgICAgfQoKICAgICAgaWYgKG1ldGhvZCkgewogICAgICAgIHJldHVybiBtZXRob2QuYXBwbHkodGFyZ2V0LCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9OwogIH0KCiAgLy8gSW1wbGVtZW50IGEgdmFndWUgZmFjc2ltaWxpZSBvZiBqUXVlcnkncyBkYXRhIG1ldGhvZAogIGZ1bmN0aW9uIGVsZW1lbnREYXRhKGVsLCBuYW1lLCB2YWx1ZSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICByZXR1cm4gZWxbImh0bWx3aWRnZXRfZGF0YV8iICsgbmFtZV07CiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMykgewogICAgICBlbFsiaHRtbHdpZGdldF9kYXRhXyIgKyBuYW1lXSA9IHZhbHVlOwogICAgICByZXR1cm4gZWw7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgZm9yIGVsZW1lbnREYXRhOiAiICsKICAgICAgICBhcmd1bWVudHMubGVuZ3RoKTsKICAgIH0KICB9CgogIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ0NjE3MC9lc2NhcGUtc3RyaW5nLWZvci11c2UtaW4tamF2YXNjcmlwdC1yZWdleAogIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1wtXFtcXVwvXHtcfVwoXClcKlwrXD9cLlxcXF5cJFx8XS9nLCAiXFwkJiIpOwogIH0KCiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWwsIGNsYXNzTmFtZSkgewogICAgdmFyIHJlID0gbmV3IFJlZ0V4cCgiXFxiIiArIGVzY2FwZVJlZ0V4cChjbGFzc05hbWUpICsgIlxcYiIpOwogICAgcmV0dXJuIHJlLnRlc3QoZWwuY2xhc3NOYW1lKTsKICB9CgogIC8vIGVsZW1lbnRzIC0gYXJyYXkgKG9yIGFycmF5LWxpa2Ugb2JqZWN0KSBvZiBIVE1MIGVsZW1lbnRzCiAgLy8gY2xhc3NOYW1lIC0gY2xhc3MgbmFtZSB0byB0ZXN0IGZvcgogIC8vIGluY2x1ZGUgLSBpZiB0cnVlLCBvbmx5IHJldHVybiBlbGVtZW50cyB3aXRoIGdpdmVuIGNsYXNzTmFtZTsKICAvLyAgIGlmIGZhbHNlLCBvbmx5IHJldHVybiBlbGVtZW50cyAqd2l0aG91dCogZ2l2ZW4gY2xhc3NOYW1lCiAgZnVuY3Rpb24gZmlsdGVyQnlDbGFzcyhlbGVtZW50cywgY2xhc3NOYW1lLCBpbmNsdWRlKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgewogICAgICBpZiAoaGFzQ2xhc3MoZWxlbWVudHNbaV0sIGNsYXNzTmFtZSkgPT0gaW5jbHVkZSkKICAgICAgICByZXN1bHRzLnB1c2goZWxlbWVudHNbaV0pOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfQoKICBmdW5jdGlvbiBvbihvYmosIGV2ZW50TmFtZSwgZnVuYykgewogICAgaWYgKG9iai5hZGRFdmVudExpc3RlbmVyKSB7CiAgICAgIG9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZnVuYywgZmFsc2UpOwogICAgfSBlbHNlIGlmIChvYmouYXR0YWNoRXZlbnQpIHsKICAgICAgb2JqLmF0dGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBvZmYob2JqLCBldmVudE5hbWUsIGZ1bmMpIHsKICAgIGlmIChvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcikKICAgICAgb2JqLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jLCBmYWxzZSk7CiAgICBlbHNlIGlmIChvYmouZGV0YWNoRXZlbnQpIHsKICAgICAgb2JqLmRldGFjaEV2ZW50KGV2ZW50TmFtZSwgZnVuYyk7CiAgICB9CiAgfQoKICAvLyBUcmFuc2xhdGUgYXJyYXkgb2YgdmFsdWVzIHRvIHRvcC9yaWdodC9ib3R0b20vbGVmdCwgYXMgdXN1YWwgd2l0aAogIC8vIHRoZSAicGFkZGluZyIgQ1NTIHByb3BlcnR5CiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3BhZGRpbmcKICBmdW5jdGlvbiB1bnBhY2tQYWRkaW5nKHZhbHVlKSB7CiAgICBpZiAodHlwZW9mKHZhbHVlKSA9PT0gIm51bWJlciIpCiAgICAgIHZhbHVlID0gW3ZhbHVlXTsKICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDEpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMF0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzBdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMF0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDMpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzFdfTsKICAgIH0KICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDQpIHsKICAgICAgcmV0dXJuIHt0b3A6IHZhbHVlWzBdLCByaWdodDogdmFsdWVbMV0sIGJvdHRvbTogdmFsdWVbMl0sIGxlZnQ6IHZhbHVlWzNdfTsKICAgIH0KICB9CgogIC8vIENvbnZlcnQgYW4gdW5wYWNrZWQgcGFkZGluZyBvYmplY3QgdG8gYSBDU1MgdmFsdWUKICBmdW5jdGlvbiBwYWRkaW5nVG9Dc3MocGFkZGluZ09iaikgewogICAgcmV0dXJuIHBhZGRpbmdPYmoudG9wICsgInB4ICIgKyBwYWRkaW5nT2JqLnJpZ2h0ICsgInB4ICIgKyBwYWRkaW5nT2JqLmJvdHRvbSArICJweCAiICsgcGFkZGluZ09iai5sZWZ0ICsgInB4IjsKICB9CgogIC8vIE1ha2VzIGEgbnVtYmVyIHN1aXRhYmxlIGZvciBDU1MKICBmdW5jdGlvbiBweCh4KSB7CiAgICBpZiAodHlwZW9mKHgpID09PSAibnVtYmVyIikKICAgICAgcmV0dXJuIHggKyAicHgiOwogICAgZWxzZQogICAgICByZXR1cm4geDsKICB9CgogIC8vIFJldHJpZXZlcyBydW50aW1lIHdpZGdldCBzaXppbmcgaW5mb3JtYXRpb24gZm9yIGFuIGVsZW1lbnQuCiAgLy8gVGhlIHJldHVybiB2YWx1ZSBpcyBlaXRoZXIgbnVsbCwgb3IgYW4gb2JqZWN0IHdpdGggZmlsbCwgcGFkZGluZywKICAvLyBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQgZmllbGRzLgogIGZ1bmN0aW9uIHNpemluZ1BvbGljeShlbCkgewogICAgdmFyIHNpemluZ0VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0W2RhdGEtZm9yPSciICsgZWwuaWQgKyAiJ11bdHlwZT0nYXBwbGljYXRpb24vaHRtbHdpZGdldC1zaXppbmcnXSIpOwogICAgaWYgKCFzaXppbmdFbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICB2YXIgc3AgPSBKU09OLnBhcnNlKHNpemluZ0VsLnRleHRDb250ZW50IHx8IHNpemluZ0VsLnRleHQgfHwgInt9Iik7CiAgICBpZiAodmlld2VyTW9kZSkgewogICAgICByZXR1cm4gc3Audmlld2VyOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHNwLmJyb3dzZXI7CiAgICB9CiAgfQoKICAvLyBAcGFyYW0gdGFza3MgQXJyYXkgb2Ygc3RyaW5ncyAob3IgZmFsc3kgdmFsdWUsIGluIHdoaWNoIGNhc2Ugbm8tb3ApLgogIC8vICAgRWFjaCBlbGVtZW50IG11c3QgYmUgYSB2YWxpZCBKYXZhU2NyaXB0IGV4cHJlc3Npb24gdGhhdCB5aWVsZHMgYQogIC8vICAgZnVuY3Rpb24uCiAgLy8gQHBhcmFtIHRhcmdldCBUaGUgb2JqZWN0IHRoYXQgd2lsbCBiZSAidGhpcyIgZm9yIGVhY2ggZnVuY3Rpb24KICAvLyAgIGV4ZWN1dGlvbi4KICAvLyBAcGFyYW0gYXJncyBBcnJheSBvZiBhcmd1bWVudHMgdG8gYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbnMuIChUaGUKICAvLyAgIHNhbWUgYXJndW1lbnRzIHdpbGwgYmUgcGFzc2VkIHRvIGFsbCBmdW5jdGlvbnMuKQogIGZ1bmN0aW9uIGV2YWxBbmRSdW4odGFza3MsIHRhcmdldCwgYXJncykgewogICAgaWYgKHRhc2tzKSB7CiAgICAgIGZvckVhY2godGFza3MsIGZ1bmN0aW9uKHRhc2spIHsKICAgICAgICB2YXIgdGFza0Z1bmMgPSBldmFsKCIoIiArIHRhc2sgKyAiKSIpOwogICAgICAgIGlmICh0eXBlb2YodGFza0Z1bmMpICE9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIlRhc2sgbXVzdCBiZSBhIGZ1bmN0aW9uISBTb3VyY2U6XG4iICsgdGFzayk7CiAgICAgICAgfQogICAgICAgIHRhc2tGdW5jLmFwcGx5KHRhcmdldCwgYXJncyk7CiAgICAgIH0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdFNpemluZyhlbCkgewogICAgdmFyIHNpemluZyA9IHNpemluZ1BvbGljeShlbCk7CiAgICBpZiAoIXNpemluZykKICAgICAgcmV0dXJuOwoKICAgIHZhciBjZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaHRtbHdpZGdldF9jb250YWluZXIiKTsKICAgIGlmICghY2VsKQogICAgICByZXR1cm47CgogICAgaWYgKHR5cGVvZihzaXppbmcucGFkZGluZykgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gIjAiOwogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmcgPSBwYWRkaW5nVG9Dc3ModW5wYWNrUGFkZGluZyhzaXppbmcucGFkZGluZykpOwogICAgfQoKICAgIGlmIChzaXppbmcuZmlsbCkgewogICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAiMTAwJSI7CiAgICAgIGlmIChjZWwpIHsKICAgICAgICBjZWwuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgICAgIHZhciBwYWQgPSB1bnBhY2tQYWRkaW5nKHNpemluZy5wYWRkaW5nKTsKICAgICAgICBjZWwuc3R5bGUudG9wID0gcGFkLnRvcCArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLnJpZ2h0ID0gcGFkLnJpZ2h0ICsgInB4IjsKICAgICAgICBjZWwuc3R5bGUuYm90dG9tID0gcGFkLmJvdHRvbSArICJweCI7CiAgICAgICAgY2VsLnN0eWxlLmxlZnQgPSBwYWQubGVmdCArICJweCI7CiAgICAgICAgZWwuc3R5bGUud2lkdGggPSAiMTAwJSI7CiAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gIjEwMCUiOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbC5vZmZzZXRXaWR0aDsgfSwKICAgICAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2VsLm9mZnNldEhlaWdodDsgfQogICAgICB9OwoKICAgIH0gZWxzZSB7CiAgICAgIGVsLnN0eWxlLndpZHRoID0gcHgoc2l6aW5nLndpZHRoKTsKICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gcHgoc2l6aW5nLmhlaWdodCk7CgogICAgICByZXR1cm4gewogICAgICAgIGdldFdpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGVsLm9mZnNldFdpZHRoOyB9LAogICAgICAgIGdldEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiBlbC5vZmZzZXRIZWlnaHQ7IH0KICAgICAgfTsKICAgIH0KICB9CgogIC8vIERlZmF1bHQgaW1wbGVtZW50YXRpb25zIGZvciBtZXRob2RzCiAgdmFyIGRlZmF1bHRzID0gewogICAgZmluZDogZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgcmV0dXJuIHF1ZXJ5U2VsZWN0b3JBbGwoc2NvcGUsICIuIiArIHRoaXMubmFtZSk7CiAgICB9LAogICAgcmVuZGVyRXJyb3I6IGZ1bmN0aW9uKGVsLCBlcnIpIHsKICAgICAgdmFyICRlbCA9ICQoZWwpOwoKICAgICAgdGhpcy5jbGVhckVycm9yKGVsKTsKCiAgICAgIC8vIEFkZCBhbGwgdGhlc2UgZXJyb3IgY2xhc3NlcywgYXMgU2hpbnkgZG9lcwogICAgICB2YXIgZXJyQ2xhc3MgPSAic2hpbnktb3V0cHV0LWVycm9yIjsKICAgICAgaWYgKGVyci50eXBlICE9PSBudWxsKSB7CiAgICAgICAgLy8gdXNlIHRoZSBjbGFzc2VzIG9mIHRoZSBlcnJvciBjb25kaXRpb24gYXMgQ1NTIGNsYXNzIG5hbWVzCiAgICAgICAgZXJyQ2xhc3MgPSBlcnJDbGFzcyArICIgIiArICQubWFwKGFzQXJyYXkoZXJyLnR5cGUpLCBmdW5jdGlvbih0eXBlKSB7CiAgICAgICAgICByZXR1cm4gZXJyQ2xhc3MgKyAiLSIgKyB0eXBlOwogICAgICAgIH0pLmpvaW4oIiAiKTsKICAgICAgfQogICAgICBlcnJDbGFzcyA9IGVyckNsYXNzICsgIiBodG1sd2lkZ2V0cy1lcnJvciI7CgogICAgICAvLyBJcyBlbCBpbmxpbmUgb3IgYmxvY2s/IElmIGlubGluZSBvciBpbmxpbmUtYmxvY2ssIGp1c3QgZGlzcGxheTpub25lIGl0CiAgICAgIC8vIGFuZCBhZGQgYW4gaW5saW5lIGVycm9yLgogICAgICB2YXIgZGlzcGxheSA9ICRlbC5jc3MoImRpc3BsYXkiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgZGlzcGxheSk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICAkZWwuaGlkZSgpOwogICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gIiIpIHsKICAgICAgICAgIHZhciBlcnJvclNwYW4gPSAkKCI8c3Bhbj4iKS5hZGRDbGFzcyhlcnJDbGFzcyk7CiAgICAgICAgICBlcnJvclNwYW4udGV4dChlcnIubWVzc2FnZSk7CiAgICAgICAgICAkZWwuYWZ0ZXIoZXJyb3JTcGFuKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gImJsb2NrIikgewogICAgICAgIC8vIElmIGJsb2NrLCBhZGQgYW4gZXJyb3IganVzdCBhZnRlciB0aGUgZWwsIHNldCB2aXNpYmlsaXR5Om5vbmUgb24gdGhlCiAgICAgICAgLy8gZWwsIGFuZCBwb3NpdGlvbiB0aGUgZXJyb3IgdG8gYmUgb24gdG9wIG9mIHRoZSBlbC4KICAgICAgICAvLyBNYXJrIGl0IHdpdGggYSB1bmlxdWUgSUQgYW5kIENTUyBjbGFzcyBzbyB3ZSBjYW4gcmVtb3ZlIGl0IGxhdGVyLgogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CiAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAiIikgewogICAgICAgICAgdmFyIGVycm9yRGl2ID0gJCgiPGRpdj4iKS5hZGRDbGFzcyhlcnJDbGFzcykuY3NzKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpCiAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgLmNzcygibGVmdCIsIGVsLm9mZnNldExlZnQpCiAgICAgICAgICAgIC8vIHNldHRpbmcgd2lkdGggY2FuIHB1c2ggb3V0IHRoZSBwYWdlIHNpemUsIGZvcmNpbmcgb3RoZXJ3aXNlCiAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHNjcm9sbGJhcnMgdG8gYXBwZWFyIGFuZCBtYWtpbmcgaXQgaW1wb3NzaWJsZSBmb3IKICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgdG8gc2hyaW5rOyBzbyB1c2UgbWF4LXdpZHRoIGluc3RlYWQKICAgICAgICAgICAgLmNzcygibWF4V2lkdGgiLCBlbC5vZmZzZXRXaWR0aCkKICAgICAgICAgICAgLmNzcygiaGVpZ2h0IiwgZWwub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIGVycm9yRGl2LnRleHQoZXJyLm1lc3NhZ2UpOwogICAgICAgICAgJGVsLmFmdGVyKGVycm9yRGl2KTsKCiAgICAgICAgICAvLyBSZWFsbHkgZHVtYiB3YXkgdG8ga2VlcCB0aGUgc2l6ZS9wb3NpdGlvbiBvZiB0aGUgZXJyb3IgaW4gc3luYyB3aXRoCiAgICAgICAgICAvLyB0aGUgcGFyZW50IGVsZW1lbnQgYXMgdGhlIHdpbmRvdyBpcyByZXNpemVkIG9yIHdoYXRldmVyLgogICAgICAgICAgdmFyIGludElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICghZXJyb3JEaXZbMF0ucGFyZW50RWxlbWVudCkgewogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50SWQpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvckRpdgogICAgICAgICAgICAgIC5jc3MoInRvcCIsIGVsLm9mZnNldFRvcCkKICAgICAgICAgICAgICAuY3NzKCJsZWZ0IiwgZWwub2Zmc2V0TGVmdCkKICAgICAgICAgICAgICAuY3NzKCJtYXhXaWR0aCIsIGVsLm9mZnNldFdpZHRoKQogICAgICAgICAgICAgIC5jc3MoImhlaWdodCIsIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICB9LCA1MDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNsZWFyRXJyb3I6IGZ1bmN0aW9uKGVsKSB7CiAgICAgIHZhciAkZWwgPSAkKGVsKTsKICAgICAgdmFyIGRpc3BsYXkgPSAkZWwuZGF0YSgicmVzdG9yZS1kaXNwbGF5LW1vZGUiKTsKICAgICAgJGVsLmRhdGEoInJlc3RvcmUtZGlzcGxheS1tb2RlIiwgbnVsbCk7CgogICAgICBpZiAoZGlzcGxheSA9PT0gImlubGluZSIgfHwgZGlzcGxheSA9PT0gImlubGluZS1ibG9jayIpIHsKICAgICAgICBpZiAoZGlzcGxheSkKICAgICAgICAgICRlbC5jc3MoImRpc3BsYXkiLCBkaXNwbGF5KTsKICAgICAgICAkKGVsLm5leHRTaWJsaW5nKS5maWx0ZXIoIi5odG1sd2lkZ2V0cy1lcnJvciIpLnJlbW92ZSgpOwogICAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09ICJibG9jayIpewogICAgICAgICRlbC5jc3MoInZpc2liaWxpdHkiLCAiaW5oZXJpdCIpOwogICAgICAgICQoZWwubmV4dFNpYmxpbmcpLmZpbHRlcigiLmh0bWx3aWRnZXRzLWVycm9yIikucmVtb3ZlKCk7CiAgICAgIH0KICAgIH0sCiAgICBzaXppbmc6IHt9CiAgfTsKCiAgLy8gQ2FsbGVkIGJ5IHdpZGdldCBiaW5kaW5ncyB0byByZWdpc3RlciBhIG5ldyB0eXBlIG9mIHdpZGdldC4gVGhlIGRlZmluaXRpb24KICAvLyBvYmplY3QgY2FuIGNvbnRhaW4gdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOgogIC8vIC0gbmFtZSAocmVxdWlyZWQpIC0gQSBzdHJpbmcgaW5kaWNhdGluZyB0aGUgYmluZGluZyBuYW1lLCB3aGljaCB3aWxsIGJlCiAgLy8gICB1c2VkIGJ5IGRlZmF1bHQgYXMgdGhlIENTUyBjbGFzc25hbWUgdG8gbG9vayBmb3IuCiAgLy8gLSBpbml0aWFsaXplIChvcHRpb25hbCkgLSBBIGZ1bmN0aW9uKGVsKSB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uY2UgcGVyCiAgLy8gICB3aWRnZXQgZWxlbWVudDsgaWYgYSB2YWx1ZSBpcyByZXR1cm5lZCwgaXQgd2lsbCBiZSBwYXNzZWQgYXMgdGhlIHRoaXJkCiAgLy8gICB2YWx1ZSB0byByZW5kZXJWYWx1ZS4KICAvLyAtIHJlbmRlclZhbHVlIChyZXF1aXJlZCkgLSBBIGZ1bmN0aW9uKGVsLCBkYXRhLCBpbml0VmFsdWUpIHRoYXQgd2lsbCBiZQogIC8vICAgY2FsbGVkIHdpdGggZGF0YS4gU3RhdGljIGNvbnRleHRzIHdpbGwgY2F1c2UgdGhpcyB0byBiZSBjYWxsZWQgb25jZSBwZXIKICAvLyAgIGVsZW1lbnQ7IFNoaW55IGFwcHMgd2lsbCBjYXVzZSB0aGlzIHRvIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBwZXIKICAvLyAgIGVsZW1lbnQsIGFzIHRoZSBkYXRhIGNoYW5nZXMuCiAgd2luZG93LkhUTUxXaWRnZXRzLndpZGdldCA9IGZ1bmN0aW9uKGRlZmluaXRpb24pIHsKICAgIGlmICghZGVmaW5pdGlvbi5uYW1lKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIG5hbWUiKTsKICAgIH0KICAgIGlmICghZGVmaW5pdGlvbi50eXBlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHR5cGUiKTsKICAgIH0KICAgIC8vIEN1cnJlbnRseSB3ZSBvbmx5IHN1cHBvcnQgb3V0cHV0IHdpZGdldHMKICAgIGlmIChkZWZpbml0aW9uLnR5cGUgIT09ICJvdXRwdXQiKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiVW5yZWNvZ25pemVkIHdpZGdldCB0eXBlICciICsgZGVmaW5pdGlvbi50eXBlICsgIiciKTsKICAgIH0KICAgIC8vIFRPRE86IFZlcmlmeSB0aGF0IC5uYW1lIGlzIGEgdmFsaWQgQ1NTIGNsYXNzbmFtZQoKICAgIC8vIFN1cHBvcnQgbmV3LXN0eWxlIGluc3RhbmNlLWJvdW5kIGRlZmluaXRpb25zLiBPbGQtc3R5bGUgY2xhc3MtYm91bmQKICAgIC8vIGRlZmluaXRpb25zIGhhdmUgb25lIHdpZGdldCAib2JqZWN0IiBwZXIgd2lkZ2V0IHBlciB0eXBlL2NsYXNzIG9mCiAgICAvLyB3aWRnZXQ7IHRoZSByZW5kZXJWYWx1ZSBhbmQgcmVzaXplIG1ldGhvZHMgb24gc3VjaCB3aWRnZXQgb2JqZWN0cwogICAgLy8gdGFrZSBlbCBhbmQgaW5zdGFuY2UgYXJndW1lbnRzLCBiZWNhdXNlIHRoZSB3aWRnZXQgb2JqZWN0IGNhbid0CiAgICAvLyBzdG9yZSB0aGVtLiBOZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbnMgaGF2ZSBvbmUgd2lkZ2V0CiAgICAvLyBvYmplY3QgcGVyIHdpZGdldCBpbnN0YW5jZTsgdGhlIGRlZmluaXRpb24gdGhhdCdzIHBhc3NlZCBpbiBkb2Vzbid0CiAgICAvLyBwcm92aWRlIHJlbmRlclZhbHVlIG9yIHJlc2l6ZSBtZXRob2RzIGF0IGFsbCwganVzdCB0aGUgc2luZ2xlIG1ldGhvZAogICAgLy8gICBmYWN0b3J5KGVsLCB3aWR0aCwgaGVpZ2h0KQogICAgLy8gd2hpY2ggcmV0dXJucyBhbiBvYmplY3QgdGhhdCBoYXMgcmVuZGVyVmFsdWUoeCkgYW5kIHJlc2l6ZSh3LCBoKS4KICAgIC8vIFRoaXMgZW5hYmxlcyBhIGZhciBtb3JlIG5hdHVyYWwgcHJvZ3JhbW1pbmcgc3R5bGUgZm9yIHRoZSB3aWRnZXQKICAgIC8vIGF1dGhvciwgd2hvIGNhbiBzdG9yZSBwZXItaW5zdGFuY2Ugc3RhdGUgdXNpbmcgZWl0aGVyIE9PLXN0eWxlCiAgICAvLyBpbnN0YW5jZSBmaWVsZHMgb3IgZnVuY3Rpb25hbC1zdHlsZSBjbG9zdXJlIHZhcmlhYmxlcyAoSSBndWVzcyB0aGlzCiAgICAvLyBpcyBpbiBjb250cmFzdCB0byB3aGF0IGNhbiBvbmx5IGJlIGNhbGxlZCBDLXN0eWxlIHBzZXVkby1PTyB3aGljaCBpcwogICAgLy8gd2hhdCB3ZSByZXF1aXJlZCBiZWZvcmUpLgogICAgaWYgKGRlZmluaXRpb24uZmFjdG9yeSkgewogICAgICBkZWZpbml0aW9uID0gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmaW5pdGlvbik7CiAgICB9CgogICAgaWYgKCFkZWZpbml0aW9uLnJlbmRlclZhbHVlKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiV2lkZ2V0IG11c3QgaGF2ZSBhIHJlbmRlclZhbHVlIGZ1bmN0aW9uIik7CiAgICB9CgogICAgLy8gRm9yIHN0YXRpYyByZW5kZXJpbmcgKG5vbi1TaGlueSksIHVzZSBhIHNpbXBsZSB3aWRnZXQgcmVnaXN0cmF0aW9uCiAgICAvLyBzY2hlbWUuIFdlIGFsc28gdXNlIHRoaXMgc2NoZW1lIGZvciBTaGlueSBhcHBzL2RvY3VtZW50cyB0aGF0IGFsc28KICAgIC8vIGNvbnRhaW4gc3RhdGljIHdpZGdldHMuCiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cyA9IHdpbmRvdy5IVE1MV2lkZ2V0cy53aWRnZXRzIHx8IFtdOwogICAgLy8gTWVyZ2UgZGVmYXVsdHMgaW50byB0aGUgZGVmaW5pdGlvbjsgZG9uJ3QgbXV0YXRlIHRoZSBvcmlnaW5hbCBkZWZpbml0aW9uLgogICAgdmFyIHN0YXRpY0JpbmRpbmcgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsKICAgIG92ZXJyaWRlTWV0aG9kKHN0YXRpY0JpbmRpbmcsICJmaW5kIiwgZnVuY3Rpb24oc3VwZXJmdW5jKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSkgewogICAgICAgIHZhciByZXN1bHRzID0gc3VwZXJmdW5jKHNjb3BlKTsKICAgICAgICAvLyBGaWx0ZXIgb3V0IFNoaW55IG91dHB1dHMsIHdlIG9ubHkgd2FudCB0aGUgc3RhdGljIGtpbmQKICAgICAgICByZXR1cm4gZmlsdGVyQnlDbGFzcyhyZXN1bHRzLCAiaHRtbC13aWRnZXQtb3V0cHV0IiwgZmFsc2UpOwogICAgICB9OwogICAgfSk7CiAgICB3aW5kb3cuSFRNTFdpZGdldHMud2lkZ2V0cy5wdXNoKHN0YXRpY0JpbmRpbmcpOwoKICAgIGlmIChzaGlueU1vZGUpIHsKICAgICAgLy8gU2hpbnkgaXMgcnVubmluZy4gUmVnaXN0ZXIgdGhlIGRlZmluaXRpb24gd2l0aCBhbiBvdXRwdXQgYmluZGluZy4KICAgICAgLy8gVGhlIGRlZmluaXRpb24gaXRzZWxmIHdpbGwgbm90IGJlIHRoZSBvdXRwdXQgYmluZGluZywgaW5zdGVhZAogICAgICAvLyB3ZSB3aWxsIG1ha2UgYW4gb3V0cHV0IGJpbmRpbmcgb2JqZWN0IHRoYXQgZGVsZWdhdGVzIHRvIHRoZQogICAgICAvLyBkZWZpbml0aW9uLiBUaGlzIGlzIGJlY2F1c2Ugd2UgZm9vbGlzaGx5IHVzZWQgdGhlIHNhbWUgbWV0aG9kCiAgICAgIC8vIG5hbWUgKHJlbmRlclZhbHVlKSBmb3IgaHRtbHdpZGdldHMgZGVmaW5pdGlvbiBhbmQgU2hpbnkgYmluZGluZ3MKICAgICAgLy8gYnV0IHRoZXkgYWN0dWFsbHkgaGF2ZSBxdWl0ZSBkaWZmZXJlbnQgc2VtYW50aWNzICh0aGUgU2hpbnkKICAgICAgLy8gYmluZGluZ3MgcmVjZWl2ZSBkYXRhIHRoYXQgaW5jbHVkZXMgbG90cyBvZiBtZXRhZGF0YSB0aGF0IGl0CiAgICAgIC8vIHN0cmlwcyBvZmYgYmVmb3JlIGNhbGxpbmcgaHRtbHdpZGdldHMgcmVuZGVyVmFsdWUpLiBXZSBjYW4ndAogICAgICAvLyBqdXN0IGlnbm9yZSB0aGUgZGlmZmVyZW5jZSBiZWNhdXNlIGluIHNvbWUgd2lkZ2V0cyBpdCdzIGhlbHBmdWwKICAgICAgLy8gdG8gY2FsbCB0aGlzLnJlbmRlclZhbHVlKCkgZnJvbSBpbnNpZGUgb2YgcmVzaXplKCksIGFuZCBpZgogICAgICAvLyB3ZSdyZSBub3QgZGVsZWdhdGluZywgdGhlbiB0aGF0IGNhbGwgd2lsbCBnbyB0byB0aGUgU2hpbnkKICAgICAgLy8gdmVyc2lvbiBpbnN0ZWFkIG9mIHRoZSBodG1sd2lkZ2V0cyB2ZXJzaW9uLgoKICAgICAgLy8gTWVyZ2UgZGVmYXVsdHMgd2l0aCBkZWZpbml0aW9uLCB3aXRob3V0IG11dGF0aW5nIGVpdGhlci4KICAgICAgdmFyIGJpbmRpbmdEZWYgPSBleHRlbmQoe30sIGRlZmF1bHRzLCBkZWZpbml0aW9uKTsKCiAgICAgIC8vIFRoaXMgb2JqZWN0IHdpbGwgYmUgb3VyIGFjdHVhbCBTaGlueSBiaW5kaW5nLgogICAgICB2YXIgc2hpbnlCaW5kaW5nID0gbmV3IFNoaW55Lk91dHB1dEJpbmRpbmcoKTsKCiAgICAgIC8vIFdpdGggYSBmZXcgZXhjZXB0aW9ucywgd2UnbGwgd2FudCB0byBzaW1wbHkgdXNlIHRoZSBiaW5kaW5nRGVmJ3MKICAgICAgLy8gdmVyc2lvbiBvZiBtZXRob2RzIGlmIHRoZXkgYXJlIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZhbGwgYmFjayB0bwogICAgICAvLyBTaGlueSdzIGRlZmF1bHRzLiBOT1RFOiBJZiBTaGlueSdzIG91dHB1dCBiaW5kaW5ncyBnYWluIGFkZGl0aW9uYWwKICAgICAgLy8gbWV0aG9kcyBpbiB0aGUgZnV0dXJlLCBhbmQgd2Ugd2FudCB0aGVtIHRvIGJlIG92ZXJyaWRlYWJsZSBieQogICAgICAvLyBIVE1MV2lkZ2V0IGJpbmRpbmcgZGVmaW5pdGlvbnMsIHRoZW4gd2UnbGwgbmVlZCB0byBhZGQgdGhlbSB0byB0aGlzCiAgICAgIC8vIGxpc3QuCiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgImdldElkIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgIm9uVmFsdWVDaGFuZ2UiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAib25WYWx1ZUVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgInJlbmRlckVycm9yIik7CiAgICAgIGRlbGVnYXRlTWV0aG9kKHNoaW55QmluZGluZywgYmluZGluZ0RlZiwgImNsZWFyRXJyb3IiKTsKICAgICAgZGVsZWdhdGVNZXRob2Qoc2hpbnlCaW5kaW5nLCBiaW5kaW5nRGVmLCAic2hvd1Byb2dyZXNzIik7CgogICAgICAvLyBUaGUgZmluZCwgcmVuZGVyVmFsdWUsIGFuZCByZXNpemUgYXJlIGhhbmRsZWQgZGlmZmVyZW50bHksIGJlY2F1c2Ugd2UKICAgICAgLy8gd2FudCB0byBhY3R1YWxseSBkZWNvcmF0ZSB0aGUgYmVoYXZpb3Igb2YgdGhlIGJpbmRpbmdEZWYgbWV0aG9kcy4KCiAgICAgIHNoaW55QmluZGluZy5maW5kID0gZnVuY3Rpb24oc2NvcGUpIHsKICAgICAgICB2YXIgcmVzdWx0cyA9IGJpbmRpbmdEZWYuZmluZChzY29wZSk7CgogICAgICAgIC8vIE9ubHkgcmV0dXJuIGVsZW1lbnRzIHRoYXQgYXJlIFNoaW55IG91dHB1dHMsIG5vdCBzdGF0aWMgb25lcwogICAgICAgIHZhciBkeW5hbWljUmVzdWx0cyA9IHJlc3VsdHMuZmlsdGVyKCIuaHRtbC13aWRnZXQtb3V0cHV0Iik7CgogICAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB3aGF0ZXZlciBjYXVzZWQgU2hpbnkgdG8gdGhpbmsgdGhlcmUgbWlnaHQgYmUKICAgICAgICAvLyBuZXcgZHluYW1pYyBvdXRwdXRzLCBhbHNvIGNhdXNlZCB0aGVyZSB0byBiZSBuZXcgc3RhdGljIG91dHB1dHMuCiAgICAgICAgLy8gU2luY2UgdGhlcmUgbWlnaHQgYmUgbG90cyBvZiBkaWZmZXJlbnQgaHRtbHdpZGdldHMgYmluZGluZ3MsIHdlCiAgICAgICAgLy8gc2NoZWR1bGUgZXhlY3V0aW9uIGZvciBsYXRlci0tbm8gbmVlZCB0byBzdGF0aWNSZW5kZXIgbXVsdGlwbGUKICAgICAgICAvLyB0aW1lcy4KICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggIT09IGR5bmFtaWNSZXN1bHRzLmxlbmd0aCkKICAgICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyKCk7CgogICAgICAgIHJldHVybiBkeW5hbWljUmVzdWx0czsKICAgICAgfTsKCiAgICAgIC8vIFdyYXAgcmVuZGVyVmFsdWUgdG8gaGFuZGxlIGluaXRpYWxpemF0aW9uLCB3aGljaCB1bmZvcnR1bmF0ZWx5IGlzbid0CiAgICAgIC8vIHN1cHBvcnRlZCBuYXRpdmVseSBieSBTaGlueSBhdCB0aGUgdGltZSBvZiB0aGlzIHdyaXRpbmcuCgogICAgICBzaGlueUJpbmRpbmcucmVuZGVyVmFsdWUgPSBmdW5jdGlvbihlbCwgZGF0YSkgewogICAgICAgIC8vIFJlc29sdmUgc3RyaW5ncyBtYXJrZWQgYXMgamF2YXNjcmlwdCBsaXRlcmFscyB0byBvYmplY3RzCiAgICAgICAgaWYgKCEoZGF0YS5ldmFscyBpbnN0YW5jZW9mIEFycmF5KSkgZGF0YS5ldmFscyA9IFtkYXRhLmV2YWxzXTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgZGF0YS5ldmFscyAmJiBpIDwgZGF0YS5ldmFscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyKGRhdGEueCwgZGF0YS5ldmFsc1tpXSk7CiAgICAgICAgfQogICAgICAgIGlmICghYmluZGluZ0RlZi5yZW5kZXJPbk51bGxWYWx1ZSkgewogICAgICAgICAgaWYgKGRhdGEueCA9PT0gbnVsbCkgewogICAgICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gImhpZGRlbiI7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAiaW5oZXJpdCI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZWxlbWVudERhdGEoZWwsICJpbml0aWFsaXplZCIpKSB7CiAgICAgICAgICBpbml0U2l6aW5nKGVsKTsKCiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRpYWxpemVkIiwgdHJ1ZSk7CiAgICAgICAgICBpZiAoYmluZGluZ0RlZi5pbml0aWFsaXplKSB7CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBiaW5kaW5nRGVmLmluaXRpYWxpemUoZWwsIGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICAgIGVsLm9mZnNldEhlaWdodCk7CiAgICAgICAgICAgIGVsZW1lbnREYXRhKGVsLCAiaW5pdF9yZXN1bHQiLCByZXN1bHQpOwogICAgICAgICAgfQogICAgICAgICAgZXZhbEFuZFJ1bihkYXRhLmpzSG9va3MucmVuZGVyLCBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiksIFtlbCwgZGF0YS54XSk7CiAgICAgICAgfQogICAgICAgIFNoaW55LnJlbmRlckRlcGVuZGVuY2llcyhkYXRhLmRlcHMpOwogICAgICAgIGJpbmRpbmdEZWYucmVuZGVyVmFsdWUoZWwsIGRhdGEueCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgfTsKCiAgICAgIC8vIE9ubHkgb3ZlcnJpZGUgcmVzaXplIGlmIGJpbmRpbmdEZWYgaW1wbGVtZW50cyBpdAogICAgICBpZiAoYmluZGluZ0RlZi5yZXNpemUpIHsKICAgICAgICBzaGlueUJpbmRpbmcucmVzaXplID0gZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICAgIC8vIFNoaW55IGNhbiBjYWxsIHJlc2l6ZSBiZWZvcmUgaW5pdGlhbGl6ZS9yZW5kZXJWYWx1ZSBoYXZlIGJlZW4KICAgICAgICAgIC8vIGNhbGxlZCwgd2hpY2ggZG9lc24ndCBtYWtlIHNlbnNlIGZvciB3aWRnZXRzLgogICAgICAgICAgaWYgKGVsZW1lbnREYXRhKGVsLCAiaW5pdGlhbGl6ZWQiKSkgewogICAgICAgICAgICBiaW5kaW5nRGVmLnJlc2l6ZShlbCwgd2lkdGgsIGhlaWdodCwgZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CgogICAgICBTaGlueS5vdXRwdXRCaW5kaW5ncy5yZWdpc3RlcihzaGlueUJpbmRpbmcsIGJpbmRpbmdEZWYubmFtZSk7CiAgICB9CiAgfTsKCiAgdmFyIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgZnVuY3Rpb24gc2NoZWR1bGVTdGF0aWNSZW5kZXIoKSB7CiAgICBpZiAoIXNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCkgewogICAgICBzY2hlZHVsZVN0YXRpY1JlbmRlclRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHNjaGVkdWxlU3RhdGljUmVuZGVyVGltZXJJZCA9IG51bGw7CiAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlcigpOwogICAgICB9LCAxKTsKICAgIH0KICB9CgogIC8vIFJlbmRlciBzdGF0aWMgd2lkZ2V0cyBhZnRlciB0aGUgZG9jdW1lbnQgZmluaXNoZXMgbG9hZGluZwogIC8vIFN0YXRpY2FsbHkgcmVuZGVyIGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGlzIHdpZGdldCdzIGNsYXNzCiAgd2luZG93LkhUTUxXaWRnZXRzLnN0YXRpY1JlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGJpbmRpbmdzID0gd2luZG93LkhUTUxXaWRnZXRzLndpZGdldHMgfHwgW107CiAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7CiAgICAgIHZhciBtYXRjaGVzID0gYmluZGluZy5maW5kKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7CiAgICAgIGZvckVhY2gobWF0Y2hlcywgZnVuY3Rpb24oZWwpIHsKICAgICAgICB2YXIgc2l6ZU9iaiA9IGluaXRTaXppbmcoZWwsIGJpbmRpbmcpOwoKICAgICAgICBpZiAoaGFzQ2xhc3MoZWwsICJodG1sLXdpZGdldC1zdGF0aWMtYm91bmQiKSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUgKyAiIGh0bWwtd2lkZ2V0LXN0YXRpYy1ib3VuZCI7CgogICAgICAgIHZhciBpbml0UmVzdWx0OwogICAgICAgIGlmIChiaW5kaW5nLmluaXRpYWxpemUpIHsKICAgICAgICAgIGluaXRSZXN1bHQgPSBiaW5kaW5nLmluaXRpYWxpemUoZWwsCiAgICAgICAgICAgIHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgc2l6ZU9iaiA/IHNpemVPYmouZ2V0SGVpZ2h0KCkgOiBlbC5vZmZzZXRIZWlnaHQKICAgICAgICAgICk7CiAgICAgICAgICBlbGVtZW50RGF0YShlbCwgImluaXRfcmVzdWx0IiwgaW5pdFJlc3VsdCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYmluZGluZy5yZXNpemUpIHsKICAgICAgICAgIHZhciBsYXN0U2l6ZSA9IHt9OwogICAgICAgICAgdmFyIHJlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIHZhciBzaXplID0gewogICAgICAgICAgICAgIHc6IHNpemVPYmogPyBzaXplT2JqLmdldFdpZHRoKCkgOiBlbC5vZmZzZXRXaWR0aCwKICAgICAgICAgICAgICBoOiBzaXplT2JqID8gc2l6ZU9iai5nZXRIZWlnaHQoKSA6IGVsLm9mZnNldEhlaWdodAogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoc2l6ZS53ID09PSAwICYmIHNpemUuaCA9PT0gMCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChzaXplLncgPT09IGxhc3RTaXplLncgJiYgc2l6ZS5oID09PSBsYXN0U2l6ZS5oKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgbGFzdFNpemUgPSBzaXplOwogICAgICAgICAgICBiaW5kaW5nLnJlc2l6ZShlbCwgc2l6ZS53LCBzaXplLmgsIGluaXRSZXN1bHQpOwogICAgICAgICAgfTsKCiAgICAgICAgICBvbih3aW5kb3csICJyZXNpemUiLCByZXNpemVIYW5kbGVyKTsKCiAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgY2FzZXMgd2hlcmUgd2UncmUgcnVubmluZyBpbiBhIFNoaW55CiAgICAgICAgICAvLyBhcHAsIGJ1dCB0aGUgd2lkZ2V0IGl0c2VsZiBpcyBub3QgYSBTaGlueSBvdXRwdXQsIGJ1dAogICAgICAgICAgLy8gcmF0aGVyIGEgc2ltcGxlIHN0YXRpYyB3aWRnZXQuIE9uZSBleGFtcGxlIG9mIHRoaXMgaXMKICAgICAgICAgIC8vIGFuIHJtYXJrZG93biBkb2N1bWVudCB0aGF0IGhhcyBydW50aW1lOnNoaW55IGFuZCB3aWRnZXQKICAgICAgICAgIC8vIHRoYXQgaXNuJ3QgaW4gYSByZW5kZXIgZnVuY3Rpb24uIFNoaW55IG9ubHkga25vd3MgdG8KICAgICAgICAgIC8vIGNhbGwgcmVzaXplIGhhbmRsZXJzIGZvciBTaGlueSBvdXRwdXRzLCBub3QgZm9yIHN0YXRpYwogICAgICAgICAgLy8gd2lkZ2V0cywgc28gd2UgZG8gaXQgb3Vyc2VsdmVzLgogICAgICAgICAgaWYgKHdpbmRvdy5qUXVlcnkpIHsKICAgICAgICAgICAgd2luZG93LmpRdWVyeShkb2N1bWVudCkub24oInNob3duLmh0bWx3aWRnZXRzIHNob3duLmJzLnRhYi5odG1sd2lkZ2V0cyIsIHJlc2l6ZUhhbmRsZXIpOwogICAgICAgICAgICB3aW5kb3cualF1ZXJ5KGRvY3VtZW50KS5vbigiaGlkZGVuLmh0bWx3aWRnZXRzIGhpZGRlbi5icy50YWIuaHRtbHdpZGdldHMiLCByZXNpemVIYW5kbGVyKTsKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBmb3IgdGhlIHNwZWNpZmljIGNhc2Ugb2YgaW9zbGlkZXMsIHdoaWNoCiAgICAgICAgICAvLyBmbGlwcyBzbGlkZXMgYmV0d2VlbiBkaXNwbGF5Om5vbmUgYW5kIGRpc3BsYXk6YmxvY2suCiAgICAgICAgICAvLyBJZGVhbGx5IHdlIHdvdWxkIG5vdCBoYXZlIHRvIGhhdmUgaW9zbGlkZS1zcGVjaWZpYyBjb2RlCiAgICAgICAgICAvLyBoZXJlLCBidXQgcmF0aGVyIGhhdmUgaW9zbGlkZXMgcmFpc2UgYSBnZW5lcmljIGV2ZW50LAogICAgICAgICAgLy8gYnV0IHRoZSBybWFya2Rvd24gcGFja2FnZSBqdXN0IHdlbnQgdG8gQ1JBTiBzbyB0aGUKICAgICAgICAgIC8vIHdpbmRvdyB0byBnZXR0aW5nIHRoYXQgZml4ZWQgbWF5IGJlIGxvbmcuCiAgICAgICAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHsKICAgICAgICAgICAgLy8gSXQncyBPSyB0byBsaW1pdCB0aGlzIHRvIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyCiAgICAgICAgICAgIC8vIGJyb3dzZXJzIGJlY2F1c2UgaW9zbGlkZXMgaXRzZWxmIG9ubHkgc3VwcG9ydHMKICAgICAgICAgICAgLy8gc3VjaCBicm93c2Vycy4KICAgICAgICAgICAgb24oZG9jdW1lbnQsICJzbGlkZWVudGVyIiwgcmVzaXplSGFuZGxlcik7CiAgICAgICAgICAgIG9uKGRvY3VtZW50LCAic2xpZGVsZWF2ZSIsIHJlc2l6ZUhhbmRsZXIpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIHNjcmlwdERhdGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzY3JpcHRbZGF0YS1mb3I9JyIgKyBlbC5pZCArICInXVt0eXBlPSdhcHBsaWNhdGlvbi9qc29uJ10iKTsKICAgICAgICBpZiAoc2NyaXB0RGF0YSkgewogICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHNjcmlwdERhdGEudGV4dENvbnRlbnQgfHwgc2NyaXB0RGF0YS50ZXh0KTsKICAgICAgICAgIC8vIFJlc29sdmUgc3RyaW5ncyBtYXJrZWQgYXMgamF2YXNjcmlwdCBsaXRlcmFscyB0byBvYmplY3RzCiAgICAgICAgICBpZiAoIShkYXRhLmV2YWxzIGluc3RhbmNlb2YgQXJyYXkpKSBkYXRhLmV2YWxzID0gW2RhdGEuZXZhbHNdOwogICAgICAgICAgZm9yICh2YXIgayA9IDA7IGRhdGEuZXZhbHMgJiYgayA8IGRhdGEuZXZhbHMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgd2luZG93LkhUTUxXaWRnZXRzLmV2YWx1YXRlU3RyaW5nTWVtYmVyKGRhdGEueCwgZGF0YS5ldmFsc1trXSk7CiAgICAgICAgICB9CiAgICAgICAgICBiaW5kaW5nLnJlbmRlclZhbHVlKGVsLCBkYXRhLngsIGluaXRSZXN1bHQpOwogICAgICAgICAgZXZhbEFuZFJ1bihkYXRhLmpzSG9va3MucmVuZGVyLCBpbml0UmVzdWx0LCBbZWwsIGRhdGEueF0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKCiAgICBpbnZva2VQb3N0UmVuZGVySGFuZGxlcnMoKTsKICB9CgogIC8vIFdhaXQgdW50aWwgYWZ0ZXIgdGhlIGRvY3VtZW50IGhhcyBsb2FkZWQgdG8gcmVuZGVyIHRoZSB3aWRnZXRzLgogIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZnVuY3Rpb24oKSB7CiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBhcmd1bWVudHMuY2FsbGVlLCBmYWxzZSk7CiAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsKICAgIH0sIGZhbHNlKTsKICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7CiAgICBkb2N1bWVudC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAiY29tcGxldGUiKSB7CiAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIGFyZ3VtZW50cy5jYWxsZWUpOwogICAgICAgIHdpbmRvdy5IVE1MV2lkZ2V0cy5zdGF0aWNSZW5kZXIoKTsKICAgICAgfQogICAgfSk7CiAgfQoKCiAgd2luZG93LkhUTUxXaWRnZXRzLmdldEF0dGFjaG1lbnRVcmwgPSBmdW5jdGlvbihkZXBuYW1lLCBrZXkpIHsKICAgIC8vIElmIG5vIGtleSwgZGVmYXVsdCB0byB0aGUgZmlyc3QgaXRlbQogICAgaWYgKHR5cGVvZihrZXkpID09PSAidW5kZWZpbmVkIikKICAgICAga2V5ID0gMTsKCiAgICB2YXIgbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRlcG5hbWUgKyAiLSIgKyBrZXkgKyAiLWF0dGFjaG1lbnQiKTsKICAgIGlmICghbGluaykgewogICAgICB0aHJvdyBuZXcgRXJyb3IoIkF0dGFjaG1lbnQgIiArIGRlcG5hbWUgKyAiLyIgKyBrZXkgKyAiIG5vdCBmb3VuZCBpbiBkb2N1bWVudCIpOwogICAgfQogICAgcmV0dXJuIGxpbmsuZ2V0QXR0cmlidXRlKCJocmVmIik7CiAgfTsKCiAgd2luZG93LkhUTUxXaWRnZXRzLmRhdGFmcmFtZVRvRDMgPSBmdW5jdGlvbihkZikgewogICAgdmFyIG5hbWVzID0gW107CiAgICB2YXIgbGVuZ3RoOwogICAgZm9yICh2YXIgbmFtZSBpbiBkZikgewogICAgICAgIGlmIChkZi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkKICAgICAgICAgICAgbmFtZXMucHVzaChuYW1lKTsKICAgICAgICBpZiAodHlwZW9mKGRmW25hbWVdKSAhPT0gIm9iamVjdCIgfHwgdHlwZW9mKGRmW25hbWVdLmxlbmd0aCkgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyIpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGxlbmd0aCkgIT09ICJ1bmRlZmluZWQiICYmIGxlbmd0aCAhPT0gZGZbbmFtZV0ubGVuZ3RoKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQWxsIGZpZWxkcyBtdXN0IGJlIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGgiKTsKICAgICAgICB9CiAgICAgICAgbGVuZ3RoID0gZGZbbmFtZV0ubGVuZ3RoOwogICAgfQogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIHZhciBpdGVtOwogICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgbGVuZ3RoOyByb3crKykgewogICAgICAgIGl0ZW0gPSB7fTsKICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBuYW1lcy5sZW5ndGg7IGNvbCsrKSB7CiAgICAgICAgICAgIGl0ZW1bbmFtZXNbY29sXV0gPSBkZltuYW1lc1tjb2xdXVtyb3ddOwogICAgICAgIH0KICAgICAgICByZXN1bHRzLnB1c2goaXRlbSk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICB3aW5kb3cuSFRNTFdpZGdldHMudHJhbnNwb3NlQXJyYXkyRCA9IGZ1bmN0aW9uKGFycmF5KSB7CiAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IDApIHJldHVybiBhcnJheTsKICAgICAgdmFyIG5ld0FycmF5ID0gYXJyYXlbMF0ubWFwKGZ1bmN0aW9uKGNvbCwgaSkgewogICAgICAgICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbihyb3cpIHsKICAgICAgICAgICAgICByZXR1cm4gcm93W2ldCiAgICAgICAgICB9KQogICAgICB9KTsKICAgICAgcmV0dXJuIG5ld0FycmF5OwogIH07CiAgLy8gU3BsaXQgdmFsdWUgYXQgc3BsaXRDaGFyLCBidXQgYWxsb3cgc3BsaXRDaGFyIHRvIGJlIGVzY2FwZWQKICAvLyB1c2luZyBlc2NhcGVDaGFyLiBBbnkgb3RoZXIgY2hhcmFjdGVycyBlc2NhcGVkIGJ5IGVzY2FwZUNoYXIKICAvLyB3aWxsIGJlIGluY2x1ZGVkIGFzIHVzdWFsIChpbmNsdWRpbmcgZXNjYXBlQ2hhciBpdHNlbGYpLgogIGZ1bmN0aW9uIHNwbGl0V2l0aEVzY2FwZSh2YWx1ZSwgc3BsaXRDaGFyLCBlc2NhcGVDaGFyKSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgdmFyIGVzY2FwZU1vZGUgPSBmYWxzZTsKICAgIHZhciBjdXJyZW50UmVzdWx0ID0gIiI7CiAgICBmb3IgKHZhciBwb3MgPSAwOyBwb3MgPCB2YWx1ZS5sZW5ndGg7IHBvcysrKSB7CiAgICAgIGlmICghZXNjYXBlTW9kZSkgewogICAgICAgIGlmICh2YWx1ZVtwb3NdID09PSBzcGxpdENoYXIpIHsKICAgICAgICAgIHJlc3VsdHMucHVzaChjdXJyZW50UmVzdWx0KTsKICAgICAgICAgIGN1cnJlbnRSZXN1bHQgPSAiIjsKICAgICAgICB9IGVsc2UgaWYgKHZhbHVlW3Bvc10gPT09IGVzY2FwZUNoYXIpIHsKICAgICAgICAgIGVzY2FwZU1vZGUgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdXJyZW50UmVzdWx0ICs9IHZhbHVlW3Bvc107CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGN1cnJlbnRSZXN1bHQgKz0gdmFsdWVbcG9zXTsKICAgICAgICBlc2NhcGVNb2RlID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICAgIGlmIChjdXJyZW50UmVzdWx0ICE9PSAiIikgewogICAgICByZXN1bHRzLnB1c2goY3VycmVudFJlc3VsdCk7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9CiAgLy8gRnVuY3Rpb24gYXV0aG9yZWQgYnkgWWlodWkvSkogQWxsYWlyZQogIHdpbmRvdy5IVE1MV2lkZ2V0cy5ldmFsdWF0ZVN0cmluZ01lbWJlciA9IGZ1bmN0aW9uKG8sIG1lbWJlcikgewogICAgdmFyIHBhcnRzID0gc3BsaXRXaXRoRXNjYXBlKG1lbWJlciwgJy4nLCAnXFwnKTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gcGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07CiAgICAgIC8vIHBhcnQgbWF5IGJlIGEgY2hhcmFjdGVyIG9yICdudW1lcmljJyBtZW1iZXIgbmFtZQogICAgICBpZiAobyAhPT0gbnVsbCAmJiB0eXBlb2YgbyA9PT0gIm9iamVjdCIgJiYgcGFydCBpbiBvKSB7CiAgICAgICAgaWYgKGkgPT0gKGwgLSAxKSkgeyAvLyBpZiB3ZSBhcmUgYXQgdGhlIGVuZCBvZiB0aGUgbGluZSB0aGVuIGV2YWx1bGF0ZQogICAgICAgICAgaWYgKHR5cGVvZiBvW3BhcnRdID09PSAic3RyaW5nIikKICAgICAgICAgICAgb1twYXJ0XSA9IGV2YWwoIigiICsgb1twYXJ0XSArICIpIik7CiAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlIGNvbnRpbnVlIHRvIG5leHQgZW1iZWRkZWQgb2JqZWN0CiAgICAgICAgICBvID0gb1twYXJ0XTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBSZXRyaWV2ZSB0aGUgSFRNTFdpZGdldCBpbnN0YW5jZSAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlIG9mIGFuCiAgLy8gSFRNTFdpZGdldCBiaW5kaW5nJ3MgaW5pdGlhbGl6ZSgpIG9yIGZhY3RvcnkoKSBmdW5jdGlvbikKICAvLyBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCwgb3IgbnVsbCBpZiBub25lLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKGVsKSB7CiAgICByZXR1cm4gZWxlbWVudERhdGEoZWwsICJpbml0X3Jlc3VsdCIpOwogIH07CgogIC8vIEZpbmRzIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzY29wZSB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yLAogIC8vIGFuZCByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlIChpLmUuIHRoZSByZXR1cm4gdmFsdWUgb2YKICAvLyBhbiBIVE1MV2lkZ2V0IGJpbmRpbmcncyBpbml0aWFsaXplKCkgb3IgZmFjdG9yeSgpIGZ1bmN0aW9uKQogIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGVsZW1lbnQsIGlmIGFueS4gSWYgbm8gZWxlbWVudCBtYXRjaGVzIHRoZQogIC8vIHNlbGVjdG9yLCBvciB0aGUgZmlyc3QgbWF0Y2hpbmcgZWxlbWVudCBoYXMgbm8gSFRNTFdpZGdldAogIC8vIGluc3RhbmNlIGFzc29jaWF0ZWQgd2l0aCBpdCwgdGhlbiBudWxsIGlzIHJldHVybmVkLgogIC8vCiAgLy8gVGhlIHNjb3BlIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBhbmQgZGVmYXVsdHMgdG8gd2luZG93LmRvY3VtZW50LgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5maW5kID0gZnVuY3Rpb24oc2NvcGUsIHNlbGVjdG9yKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgIHNlbGVjdG9yID0gc2NvcGU7CiAgICAgIHNjb3BlID0gZG9jdW1lbnQ7CiAgICB9CgogICAgdmFyIGVsID0gc2NvcGUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICBpZiAoZWwgPT09IG51bGwpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd2luZG93LkhUTUxXaWRnZXRzLmdldEluc3RhbmNlKGVsKTsKICAgIH0KICB9OwoKICAvLyBGaW5kcyBhbGwgZWxlbWVudHMgaW4gdGhlIHNjb3BlIHRoYXQgbWF0Y2ggdGhlIHNlbGVjdG9yLCBhbmQKICAvLyByZXR1cm5zIHRoZSBIVE1MV2lkZ2V0IGluc3RhbmNlcyAoaS5lLiB0aGUgcmV0dXJuIHZhbHVlcyBvZgogIC8vIGFuIEhUTUxXaWRnZXQgYmluZGluZydzIGluaXRpYWxpemUoKSBvciBmYWN0b3J5KCkgZnVuY3Rpb24pCiAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50cywgaW4gYW4gYXJyYXkuIElmIGVsZW1lbnRzIHRoYXQKICAvLyBtYXRjaCB0aGUgc2VsZWN0b3IgZG9uJ3QgaGF2ZSBhbiBhc3NvY2lhdGVkIEhUTUxXaWRnZXQKICAvLyBpbnN0YW5jZSwgdGhlIHJldHVybmVkIGFycmF5IHdpbGwgY29udGFpbiBudWxscy4KICAvLwogIC8vIFRoZSBzY29wZSBhcmd1bWVudCBpcyBvcHRpb25hbCwgYW5kIGRlZmF1bHRzIHRvIHdpbmRvdy5kb2N1bWVudC4KICB3aW5kb3cuSFRNTFdpZGdldHMuZmluZEFsbCA9IGZ1bmN0aW9uKHNjb3BlLCBzZWxlY3RvcikgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkgewogICAgICBzZWxlY3RvciA9IHNjb3BlOwogICAgICBzY29wZSA9IGRvY3VtZW50OwogICAgfQoKICAgIHZhciBub2RlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgcmVzdWx0cy5wdXNoKHdpbmRvdy5IVE1MV2lkZ2V0cy5nZXRJbnN0YW5jZShub2Rlc1tpXSkpOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgdmFyIHBvc3RSZW5kZXJIYW5kbGVycyA9IFtdOwogIGZ1bmN0aW9uIGludm9rZVBvc3RSZW5kZXJIYW5kbGVycygpIHsKICAgIHdoaWxlIChwb3N0UmVuZGVySGFuZGxlcnMubGVuZ3RoKSB7CiAgICAgIHZhciBoYW5kbGVyID0gcG9zdFJlbmRlckhhbmRsZXJzLnNoaWZ0KCk7CiAgICAgIGlmIChoYW5kbGVyKSB7CiAgICAgICAgaGFuZGxlcigpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBSZWdpc3RlciB0aGUgZ2l2ZW4gY2FsbGJhY2sgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCBhZnRlciB0aGUKICAvLyBuZXh0IHRpbWUgc3RhdGljIHdpZGdldHMgYXJlIHJlbmRlcmVkLgogIHdpbmRvdy5IVE1MV2lkZ2V0cy5hZGRQb3N0UmVuZGVySGFuZGxlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICBwb3N0UmVuZGVySGFuZGxlcnMucHVzaChjYWxsYmFjayk7CiAgfTsKCiAgLy8gVGFrZXMgYSBuZXctc3R5bGUgaW5zdGFuY2UtYm91bmQgZGVmaW5pdGlvbiwgYW5kIHJldHVybnMgYW4KICAvLyBvbGQtc3R5bGUgY2xhc3MtYm91bmQgZGVmaW5pdGlvbi4gVGhpcyBzYXZlcyB1cyBmcm9tIGhhdmluZwogIC8vIHRvIHJld3JpdGUgYWxsIHRoZSBsb2dpYyBpbiB0aGlzIGZpbGUgdG8gYWNjb21vZGF0ZSBib3RoCiAgLy8gdHlwZXMgb2YgZGVmaW5pdGlvbnMuCiAgZnVuY3Rpb24gY3JlYXRlTGVnYWN5RGVmaW5pdGlvbkFkYXB0ZXIoZGVmbikgewogICAgdmFyIHJlc3VsdCA9IHsKICAgICAgbmFtZTogZGVmbi5uYW1lLAogICAgICB0eXBlOiBkZWZuLnR5cGUsCiAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgICAgICAgcmV0dXJuIGRlZm4uZmFjdG9yeShlbCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0sCiAgICAgIHJlbmRlclZhbHVlOiBmdW5jdGlvbihlbCwgeCwgaW5zdGFuY2UpIHsKICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVuZGVyVmFsdWUoeCk7CiAgICAgIH0sCiAgICAgIHJlc2l6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQsIGluc3RhbmNlKSB7CiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgICAgfQogICAgfTsKCiAgICBpZiAoZGVmbi5maW5kKQogICAgICByZXN1bHQuZmluZCA9IGRlZm4uZmluZDsKICAgIGlmIChkZWZuLnJlbmRlckVycm9yKQogICAgICByZXN1bHQucmVuZGVyRXJyb3IgPSBkZWZuLnJlbmRlckVycm9yOwogICAgaWYgKGRlZm4uY2xlYXJFcnJvcikKICAgICAgcmVzdWx0LmNsZWFyRXJyb3IgPSBkZWZuLmNsZWFyRXJyb3I7CgogICAgcmV0dXJuIHJlc3VsdDsKICB9Cn0pKCk7Cgo="></script>
<link href="data:text/css;charset=utf-8,%40charset%20%22UTF%2D8%22%3B%2Ehandsontable%7Bposition%3Arelative%7D%2Ehandsontable%20%2Ehide%7Bdisplay%3Anone%7D%2Ehandsontable%20%2Erelative%7Bposition%3Arelative%7D%2Ehandsontable%2EhtAutoSize%7Bvisibility%3Ahidden%3Bleft%3A%2D99000px%3Bposition%3Aabsolute%3Btop%3A%2D99000px%7D%2Ehandsontable%20%2EwtHider%7Bwidth%3A0%7D%2Ehandsontable%20%2EwtSpreader%7Bposition%3Arelative%3Bwidth%3A0%3Bheight%3Aauto%7D%2Ehandsontable%20table%2C%2Ehandsontable%20tbody%2C%2Ehandsontable%20thead%2C%2Ehandsontable%20td%2C%2Ehandsontable%20th%2C%2Ehandsontable%20input%2C%2Ehandsontable%20textarea%2C%2Ehandsontable%20div%7Bbox%2Dsizing%3Acontent%2Dbox%3B%2Dwebkit%2Dbox%2Dsizing%3Acontent%2Dbox%3B%2Dmoz%2Dbox%2Dsizing%3Acontent%2Dbox%7D%2Ehandsontable%20input%2C%2Ehandsontable%20textarea%7Bmin%2Dheight%3Ainitial%7D%2Ehandsontable%20table%2EhtCore%7Bborder%2Dcollapse%3Aseparate%3Bborder%2Dspacing%3A0%3Bmargin%3A0%3Bborder%2Dwidth%3A0%3Btable%2Dlayout%3Afixed%3Bwidth%3A0%3Boutline%2Dwidth%3A0%3Bmax%2Dwidth%3Anone%3Bmax%2Dheight%3Anone%7D%2Ehandsontable%20col%7Bwidth%3A50px%7D%2Ehandsontable%20col%2ErowHeader%7Bwidth%3A50px%7D%2Ehandsontable%20th%2C%2Ehandsontable%20td%7Bborder%2Dtop%2Dwidth%3A0%3Bborder%2Dleft%2Dwidth%3A0%3Bborder%2Dright%3A1px%20solid%20%23CCC%3Bborder%2Dbottom%3A1px%20solid%20%23CCC%3Bheight%3A22px%3Bempty%2Dcells%3Ashow%3Bline%2Dheight%3A21px%3Bpadding%3A0%204px%200%204px%3Bbackground%2Dcolor%3A%23FFF%3Bvertical%2Dalign%3Atop%3Boverflow%3Ahidden%3Boutline%2Dwidth%3A0%3Bwhite%2Dspace%3Apre%2Dline%7D%2Ehandsontable%20td%2EhtInvalid%7Bbackground%2Dcolor%3A%23ff4c42%21important%7D%2Ehandsontable%20td%2EhtNoWrap%7Bwhite%2Dspace%3Anowrap%7D%2Ehandsontable%20th%3Alast%2Dchild%7Bborder%2Dright%3A1px%20solid%20%23CCC%3Bborder%2Dbottom%3A1px%20solid%20%23CCC%7D%2Ehandsontable%20tr%3Afirst%2Dchild%20th%2EhtNoFrame%2C%2Ehandsontable%20th%3Afirst%2Dchild%2EhtNoFrame%2C%2Ehandsontable%20th%2EhtNoFrame%7Bborder%2Dleft%2Dwidth%3A0%3Bbackground%2Dcolor%3Awhite%3Bborder%2Dcolor%3A%23FFF%7D%2Ehandsontable%20th%3Afirst%2Dchild%2C%2Ehandsontable%20td%3Afirst%2Dof%2Dtype%2C%2Ehandsontable%20%2EhtNoFrame%2Bth%2C%2Ehandsontable%20%2EhtNoFrame%2Btd%7Bborder%2Dleft%3A1px%20solid%20%23CCC%7D%2Ehandsontable%2EhtRowHeaders%20thead%20tr%20th%3Anth%2Dchild%282%29%7Bborder%2Dleft%3A1px%20solid%20%23CCC%7D%2Ehandsontable%20tr%3Afirst%2Dchild%20th%2C%2Ehandsontable%20tr%3Afirst%2Dchild%20td%7Bborder%2Dtop%3A1px%20solid%20%23CCC%7D%2Eht%5Fmaster%3Anot%28%2EinnerBorderLeft%29%20%7E%20%2Ehandsontable%20tbody%20tr%20th%2C%2Eht%5Fmaster%3Anot%28%2EinnerBorderLeft%29%20%7E%20%2Ehandsontable%3Anot%28%2Eht%5Fclone%5Ftop%29%20thead%20tr%20th%3Afirst%2Dchild%7Bborder%2Dright%2Dwidth%3A0%7D%2Eht%5Fmaster%3Anot%28%2EinnerBorderTop%29%20thead%20tr%3Alast%2Dchild%20th%2C%2Eht%5Fmaster%3Anot%28%2EinnerBorderTop%29%20%7E%20%2Ehandsontable%20thead%20tr%3Alast%2Dchild%20th%2C%2Eht%5Fmaster%3Anot%28%2EinnerBorderTop%29%20thead%20tr%2ElastChild%20th%2C%2Eht%5Fmaster%3Anot%28%2EinnerBorderTop%29%20%7E%20%2Ehandsontable%20thead%20tr%2ElastChild%20th%7Bborder%2Dbottom%2Dwidth%3A0%7D%2Ehandsontable%20th%7Bbackground%2Dcolor%3A%23EEE%3Bcolor%3A%23222%3Btext%2Dalign%3Acenter%3Bfont%2Dweight%3Anormal%3Bwhite%2Dspace%3Anowrap%7D%2Ehandsontable%20thead%20th%7Bpadding%3A0%7D%2Ehandsontable%20th%2Eactive%7Bbackground%2Dcolor%3A%23CCC%7D%2Ehandsontable%20thead%20th%20%2Erelative%7Bpadding%3A2px%204px%7D%2Ehandsontable%20%2EmanualColumnMover%7Bposition%3Afixed%3Bleft%3A0%3Btop%3A0%3Bbackground%2Dcolor%3Atransparent%3Bwidth%3A5px%3Bheight%3A25px%3Bz%2Dindex%3A999%3Bcursor%3Amove%7D%2Ehandsontable%20%2EmanualRowMover%7Bposition%3Afixed%3Bleft%3A%2D4px%3Btop%3A0%3Bbackground%2Dcolor%3Atransparent%3Bheight%3A5px%3Bwidth%3A50px%3Bz%2Dindex%3A999%3Bcursor%3Amove%7D%2Ehandsontable%20%2EmanualColumnMoverGuide%2C%2Ehandsontable%20%2EmanualRowMoverGuide%7Bposition%3Afixed%3Bleft%3A0%3Btop%3A0%3Bbackground%2Dcolor%3A%23CCC%3Bwidth%3A25px%3Bheight%3A25px%3Bopacity%3A%2E7%3Bdisplay%3Anone%7D%2Ehandsontable%20%2EmanualColumnMoverGuide%2Eactive%2C%2Ehandsontable%20%2EmanualRowMoverGuide%2Eactive%7Bdisplay%3Ablock%3Bz%2Dindex%3A199%7D%2Ehandsontable%20%2EmanualColumnMover%3Ahover%2C%2Ehandsontable%20%2EmanualColumnMover%2Eactive%2C%2Ehandsontable%20%2EmanualRowMover%3Ahover%2C%2Ehandsontable%20%2EmanualRowMover%2Eactive%7Bbackground%2Dcolor%3A%2388F%7D%2Ehandsontable%20%2EmanualColumnResizer%7Bposition%3Afixed%3Btop%3A0%3Bcursor%3Acol%2Dresize%3Bz%2Dindex%3A110%3Bwidth%3A5px%3Bheight%3A25px%7D%2Ehandsontable%20%2EmanualRowResizer%7Bposition%3Afixed%3Bleft%3A0%3Bcursor%3Arow%2Dresize%3Bz%2Dindex%3A110%3Bheight%3A5px%3Bwidth%3A50px%7D%2Ehandsontable%20%2EmanualColumnResizer%3Ahover%2C%2Ehandsontable%20%2EmanualColumnResizer%2Eactive%2C%2Ehandsontable%20%2EmanualRowResizer%3Ahover%2C%2Ehandsontable%20%2EmanualRowResizer%2Eactive%7Bbackground%2Dcolor%3A%23AAB%7D%2Ehandsontable%20%2EmanualColumnResizerGuide%7Bposition%3Afixed%3Bright%3A0%3Btop%3A0%3Bbackground%2Dcolor%3A%23AAB%3Bdisplay%3Anone%3Bwidth%3A0%3Bborder%2Dright%3A1px%20dashed%20%23777%3Bmargin%2Dleft%3A5px%7D%2Ehandsontable%20%2EmanualRowResizerGuide%7Bposition%3Afixed%3Bleft%3A0%3Bbottom%3A0%3Bbackground%2Dcolor%3A%23AAB%3Bdisplay%3Anone%3Bheight%3A0%3Bborder%2Dbottom%3A1px%20dashed%20%23777%3Bmargin%2Dtop%3A5px%7D%2Ehandsontable%20%2EmanualColumnResizerGuide%2Eactive%2C%2Ehandsontable%20%2EmanualRowResizerGuide%2Eactive%7Bdisplay%3Ablock%3Bz%2Dindex%3A199%7D%2Ehandsontable%20%2EcolumnSorting%7Bposition%3Arelative%7D%2Ehandsontable%20%2EcolumnSorting%3Ahover%7Btext%2Ddecoration%3Aunderline%3Bcursor%3Apointer%7D%2Ehandsontable%20%2EcolumnSorting%2Eascending%3A%3Aafter%7Bcontent%3A%27%5C25B2%27%3Bcolor%3A%235f5f5f%3Bposition%3Aabsolute%3Bright%3A%2D15px%7D%2Ehandsontable%20%2EcolumnSorting%2Edescending%3A%3Aafter%7Bcontent%3A%27%5C25BC%27%3Bcolor%3A%235f5f5f%3Bposition%3Aabsolute%3Bright%3A%2D15px%7D%2Ehandsontable%20th%2EbeforeHiddenColumn%7Bposition%3Arelative%7D%2Ehandsontable%20th%2EbeforeHiddenColumn%3A%3Aafter%2C%2Ehandsontable%20th%2EafterHiddenColumn%3A%3Abefore%7Bcontent%3A%27%5C25C0%27%3Bcolor%3A%23bbb%3Bposition%3Aabsolute%3Bright%3A1px%3Btop%3A2px%3Bfont%2Dsize%3A5pt%7D%2Ehandsontable%20th%2EafterHiddenColumn%7Bposition%3Arelative%7D%2Ehandsontable%20th%2EafterHiddenColumn%3A%3Abefore%7Bleft%3A1px%3Btop%3A2px%3Bright%3Aauto%3Bcontent%3A%27%5C25B6%27%7D%2Ehandsontable%20td%2EafterHiddenColumn%2EfirstVisible%7Bborder%2Dleft%3A1px%20solid%20%23CCC%7D%2Ehandsontable%20thead%20th%2EhiddenHeader%7Bdisplay%3Anone%7D%2Ehandsontable%20%2EwtBorder%7Bposition%3Aabsolute%3Bfont%2Dsize%3A0%7D%2Ehandsontable%20%2EwtBorder%2Ehidden%7Bdisplay%3Anone%21important%7D%2Ehandsontable%20td%2Earea%7Bbackground%3A%2Dmoz%2Dlinear%2Dgradient%28top%2Crgba%28181%2C209%2C255%2C0%2E34%29%200%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3Bbackground%3A%2Dwebkit%2Dgradient%28linear%2Cleft%20top%2Cleft%20bottom%2Ccolor%2Dstop%280%25%2Crgba%28181%2C209%2C255%2C0%2E34%29%29%2Ccolor%2Dstop%28100%25%2Crgba%28181%2C209%2C255%2C0%2E34%29%29%29%3Bbackground%3A%2Dwebkit%2Dlinear%2Dgradient%28top%2Crgba%28181%2C209%2C255%2C0%2E34%29%200%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3Bbackground%3A%2Do%2Dlinear%2Dgradient%28top%2Crgba%28181%2C209%2C255%2C0%2E34%29%200%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3Bbackground%3A%2Dms%2Dlinear%2Dgradient%28top%2Crgba%28181%2C209%2C255%2C0%2E34%29%200%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3Bbackground%3Alinear%2Dgradient%28to%20bottom%2Crgba%28181%2C209%2C255%2C0%2E34%29%200%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3Bfilter%3Aprogid%3ADXImageTransform%2EMicrosoft%2Egradient%28startColorstr%3D%27%2357b5d1ff%27%2CendColorstr%3D%27%2357b5d1ff%27%2CGradientType%3D0%29%3Bbackground%2Dcolor%3A%23fff%7D%2Ehandsontable%20%2EwtBorder%2Ecorner%7Bfont%2Dsize%3A0%3Bcursor%3Acrosshair%7D%2Ehandsontable%20%2EhtBorder%2EhtFillBorder%7Bbackground%3Ared%3Bwidth%3A1px%3Bheight%3A1px%7D%2EhandsontableInput%7Bborder%3A0%3Boutline%2Dwidth%3A0%3Bmargin%3A0%3Bpadding%3A1px%205px%200%205px%3Bfont%2Dfamily%3Ainherit%3Bline%2Dheight%3A21px%3Bfont%2Dsize%3Ainherit%3Bbox%2Dshadow%3A0%200%200%202px%20%235292f7%20inset%3Bresize%3Anone%3Bdisplay%3Ainline%2Dblock%3Bcolor%3A%23000%3Bborder%2Dradius%3A0%3Bbackground%2Dcolor%3A%23FFF%7D%2EhandsontableInputHolder%7Bposition%3Aabsolute%3Btop%3A0%3Bleft%3A0%3Bz%2Dindex%3A100%7D%2EhtSelectEditor%7B%2Dwebkit%2Dappearance%3Amenulist%2Dbutton%21important%3Bposition%3Aabsolute%3Bwidth%3Aauto%7D%2Ehandsontable%20%2EhtDimmed%7Bcolor%3A%23777%7D%2Ehandsontable%20%2EhtSubmenu%7Bposition%3Arelative%7D%2Ehandsontable%20%2EhtSubmenu%20%3Aafter%7Bcontent%3A%27%E2%96%B6%27%3Bcolor%3A%23777%3Bposition%3Aabsolute%3Bright%3A5px%7D%2Ehandsontable%20%2EhtLeft%7Btext%2Dalign%3Aleft%7D%2Ehandsontable%20%2EhtCenter%7Btext%2Dalign%3Acenter%7D%2Ehandsontable%20%2EhtRight%7Btext%2Dalign%3Aright%7D%2Ehandsontable%20%2EhtJustify%7Btext%2Dalign%3Ajustify%7D%2Ehandsontable%20%2EhtTop%7Bvertical%2Dalign%3Atop%7D%2Ehandsontable%20%2EhtMiddle%7Bvertical%2Dalign%3Amiddle%7D%2Ehandsontable%20%2EhtBottom%7Bvertical%2Dalign%3Abottom%7D%2Ehandsontable%20%2EhtPlaceholder%7Bcolor%3A%23999%7D%2Ehandsontable%20%2EhtAutocompleteArrow%7Bfloat%3Aright%3Bfont%2Dsize%3A10px%3Bcolor%3A%23EEE%3Bcursor%3Adefault%3Bwidth%3A16px%3Btext%2Dalign%3Acenter%7D%2Ehandsontable%20td%20%2EhtAutocompleteArrow%3Ahover%7Bcolor%3A%23777%7D%2Ehandsontable%20td%2Earea%20%2EhtAutocompleteArrow%7Bcolor%3A%23d3d3d3%7D%2Ehandsontable%20%2EhtCheckboxRendererInput%7Bdisplay%3Ainline%2Dblock%3Bvertical%2Dalign%3Amiddle%7D%2Ehandsontable%20%2EhtCheckboxRendererInput%2EnoValue%7Bopacity%3A%2E5%7D%2Ehandsontable%20%2EhtCheckboxRendererLabel%7Bcursor%3Apointer%3Bdisplay%3Ainline%2Dblock%3Bwidth%3A100%25%7D%2EhtCommentCell%7Bposition%3Arelative%7D%2EhtCommentCell%3Aafter%7Bcontent%3A%27%27%3Bposition%3Aabsolute%3Btop%3A0%3Bright%3A0%3Bborder%2Dleft%3A6px%20solid%20transparent%3Bborder%2Dtop%3A6px%20solid%20red%7D%40%2Dwebkit%2Dkeyframes%20opacity%2Dhide%7Bfrom%7Bopacity%3A1%7Dto%7Bopacity%3A0%7D%7D%40keyframes%20opacity%2Dhide%7Bfrom%7Bopacity%3A1%7Dto%7Bopacity%3A0%7D%7D%40%2Dwebkit%2Dkeyframes%20opacity%2Dshow%7Bfrom%7Bopacity%3A0%7Dto%7Bopacity%3A1%7D%7D%40keyframes%20opacity%2Dshow%7Bfrom%7Bopacity%3A0%7Dto%7Bopacity%3A1%7D%7D%2Ehandsontable%20%2Ehandsontable%2Eht%5Fclone%5Ftop%20%2EwtHider%7Bpadding%3A0%200%205px%200%7D%2Ehandsontable%20%2EautocompleteEditor%2Ehandsontable%7Bpadding%2Dright%3A17px%7D%2Ehandsontable%20%2EautocompleteEditor%2Ehandsontable%2EhtMacScroll%7Bpadding%2Dright%3A15px%7D%2Ehandsontable%2Elistbox%7Bmargin%3A0%7D%2Ehandsontable%2Elistbox%20%2Eht%5Fmaster%20table%7Bborder%3A1px%20solid%20%23ccc%3Bborder%2Dcollapse%3Aseparate%3Bbackground%3Awhite%7D%2Ehandsontable%2Elistbox%20th%2C%2Ehandsontable%2Elistbox%20tr%3Afirst%2Dchild%20th%2C%2Ehandsontable%2Elistbox%20tr%3Alast%2Dchild%20th%2C%2Ehandsontable%2Elistbox%20tr%3Afirst%2Dchild%20td%2C%2Ehandsontable%2Elistbox%20td%7Bborder%2Dcolor%3Atransparent%7D%2Ehandsontable%2Elistbox%20th%2C%2Ehandsontable%2Elistbox%20td%7Bwhite%2Dspace%3Anowrap%3Btext%2Doverflow%3Aellipsis%7D%2Ehandsontable%2Elistbox%20td%2EhtDimmed%7Bcursor%3Adefault%3Bcolor%3Ainherit%3Bfont%2Dstyle%3Ainherit%7D%2Ehandsontable%2Elistbox%20%2EwtBorder%7Bvisibility%3Ahidden%7D%2Ehandsontable%2Elistbox%20tr%20td%2Ecurrent%2C%2Ehandsontable%2Elistbox%20tr%3Ahover%20td%7Bbackground%3A%23eee%7D%2Eht%5Fclone%5Ftop%7Bz%2Dindex%3A101%7D%2Eht%5Fclone%5Fleft%7Bz%2Dindex%3A102%7D%2Eht%5Fclone%5Ftop%5Fleft%5Fcorner%2C%2Eht%5Fclone%5Fbottom%5Fleft%5Fcorner%7Bz%2Dindex%3A103%7D%2Eht%5Fclone%5Fdebug%7Bz%2Dindex%3A103%7D%2Ehandsontable%20td%2EhtSearchResult%7Bbackground%3A%23fcedd9%3Bcolor%3A%23583707%7D%2EhtBordered%7Bborder%2Dwidth%3A1px%7D%2EhtBordered%2EhtTopBorderSolid%7Bborder%2Dtop%2Dstyle%3Asolid%3Bborder%2Dtop%2Dcolor%3A%23000%7D%2EhtBordered%2EhtRightBorderSolid%7Bborder%2Dright%2Dstyle%3Asolid%3Bborder%2Dright%2Dcolor%3A%23000%7D%2EhtBordered%2EhtBottomBorderSolid%7Bborder%2Dbottom%2Dstyle%3Asolid%3Bborder%2Dbottom%2Dcolor%3A%23000%7D%2EhtBordered%2EhtLeftBorderSolid%7Bborder%2Dleft%2Dstyle%3Asolid%3Bborder%2Dleft%2Dcolor%3A%23000%7D%2EhtCommentTextArea%7B%2Dmoz%2Dbox%2Dshadow%3A1px%201px%202px%20%23bbb%3B%2Dwebkit%2Dbox%2Dshadow%3A1px%201px%202px%20%23bbb%3Bbackground%2Dcolor%3A%23fffacd%3Bborder%3A1px%20solid%20%23999%3Bbox%2Dshadow%3A1px%201px%202px%20%23bbb%3Bfont%2Dfamily%3A%27Arial%27%7D%2Ehandsontable%20tbody%20tr%20th%3Anth%2Dlast%2Dchild%282%29%7Bborder%2Dright%3A1px%20solid%20%23CCC%7D%2Ehandsontable%20thead%20tr%3Anth%2Dlast%2Dchild%282%29%20th%2EhtGroupIndicatorContainer%7Bborder%2Dbottom%3A1px%20solid%20%23CCC%3Bpadding%2Dbottom%3A5px%7D%2Eht%5Fclone%5Ftop%5Fleft%5Fcorner%20thead%20tr%20th%3Anth%2Dlast%2Dchild%282%29%7Bborder%2Dright%3A1px%20solid%20%23CCC%7D%2EhtCollapseButton%7Bwidth%3A10px%3Bheight%3A10px%3Bline%2Dheight%3A10px%3Btext%2Dalign%3Acenter%3Bborder%2Dradius%3A5px%3Bborder%3A1px%20solid%20%23f3f3f3%3B%2Dwebkit%2Dbox%2Dshadow%3A1px%201px%203px%20rgba%280%2C0%2C0%2C0%2E4%29%3Bbox%2Dshadow%3A1px%201px%203px%20rgba%280%2C0%2C0%2C0%2E4%29%3Bcursor%3Apointer%3Bmargin%2Dbottom%3A3px%3Bposition%3Arelative%7D%2EhtCollapseButton%3Aafter%7Bcontent%3A%22%22%3Bheight%3A300%25%3Bwidth%3A1px%3Bdisplay%3Ablock%3Bbackground%3A%23ccc%3Bmargin%2Dleft%3A4px%3Bposition%3Aabsolute%3Bbottom%3A10px%7Dthead%20%2EhtCollapseButton%7Bright%3A5px%3Bposition%3Aabsolute%3Btop%3A5px%3Bbackground%3A%23fff%7Dthead%20%2EhtCollapseButton%3Aafter%7Bheight%3A1px%3Bwidth%3A700%25%3Bright%3A10px%3Btop%3A4px%7D%2Ehandsontable%20tr%20th%20%2EhtExpandButton%7Bposition%3Aabsolute%3Bwidth%3A10px%3Bheight%3A10px%3Bline%2Dheight%3A10px%3Btext%2Dalign%3Acenter%3Bborder%2Dradius%3A5px%3Bborder%3A1px%20solid%20%23f3f3f3%3B%2Dwebkit%2Dbox%2Dshadow%3A1px%201px%203px%20rgba%280%2C0%2C0%2C0%2E4%29%3Bbox%2Dshadow%3A1px%201px%203px%20rgba%280%2C0%2C0%2C0%2E4%29%3Bcursor%3Apointer%3Btop%3A0%3Bdisplay%3Anone%7D%2Ehandsontable%20thead%20tr%20th%20%2EhtExpandButton%7Btop%3A5px%7D%2Ehandsontable%20tr%20th%20%2EhtExpandButton%2Eclickable%7Bdisplay%3Ablock%7D%2EcollapsibleIndicator%7Bposition%3Aabsolute%3Btop%3A50%25%3Btransform%3Atranslate%280%25%2C%2D50%25%29%3Bright%3A5px%3Bborder%3A1px%20solid%20%23a6a6a6%3Bline%2Dheight%3A10px%3Bcolor%3A%23222%3Bborder%2Dradius%3A10px%3Bfont%2Dsize%3A10px%3Bwidth%3A10px%3Bheight%3A10px%3Bcursor%3Apointer%3B%2Dwebkit%2Dbox%2Dshadow%3A0%200%200%206px%20rgba%28238%2C238%2C238%2C1%29%3B%2Dmoz%2Dbox%2Dshadow%3A0%200%200%206px%20rgba%28238%2C238%2C238%2C1%29%3Bbox%2Dshadow%3A0%200%200%206px%20rgba%28238%2C238%2C238%2C1%29%3Bbackground%3A%23eee%7D%2Ehandsontable%20col%2Ehidden%7Bwidth%3A0%21important%7D%2Ehandsontable%20table%20tr%20th%2ElightRightBorder%7Bborder%2Dright%3A1px%20solid%20%23e6e6e6%7D%2Ehandsontable%20tr%2Ehidden%2C%2Ehandsontable%20tr%2Ehidden%20td%2C%2Ehandsontable%20tr%2Ehidden%20th%7Bdisplay%3Anone%7D%2Eht%5Fmaster%2C%2Eht%5Fclone%5Fleft%2C%2Eht%5Fclone%5Ftop%2C%2Eht%5Fclone%5Fbottom%7Boverflow%3Ahidden%7D%2Eht%5Fmaster%20%2EwtHolder%7Boverflow%3Aauto%7D%2Eht%5Fclone%5Fleft%20%2EwtHolder%7Boverflow%2Dx%3Ahidden%3Boverflow%2Dy%3Aauto%7D%2Eht%5Fclone%5Ftop%20%2EwtHolder%2C%2Eht%5Fclone%5Fbottom%20%2EwtHolder%7Boverflow%2Dx%3Aauto%3Boverflow%2Dy%3Ahidden%7D%2EwtDebugHidden%7Bdisplay%3Anone%7D%2EwtDebugVisible%7Bdisplay%3Ablock%3B%2Dwebkit%2Danimation%2Dduration%3A%2E5s%3B%2Dwebkit%2Danimation%2Dname%3AwtFadeInFromNone%3Banimation%2Dduration%3A%2E5s%3Banimation%2Dname%3AwtFadeInFromNone%7D%40keyframes%20wtFadeInFromNone%7B0%25%7Bdisplay%3Anone%3Bopacity%3A0%7D1%25%7Bdisplay%3Ablock%3Bopacity%3A0%7D100%25%7Bdisplay%3Ablock%3Bopacity%3A1%7D%7D%40%2Dwebkit%2Dkeyframes%20wtFadeInFromNone%7B0%25%7Bdisplay%3Anone%3Bopacity%3A0%7D1%25%7Bdisplay%3Ablock%3Bopacity%3A0%7D100%25%7Bdisplay%3Ablock%3Bopacity%3A1%7D%7D%2Ehandsontable%2Emobile%2C%2Ehandsontable%2Emobile%20%2EwtHolder%7B%2Dwebkit%2Dtouch%2Dcallout%3Anone%3B%2Dwebkit%2Duser%2Dselect%3Anone%3B%2Dkhtml%2Duser%2Dselect%3Anone%3B%2Dmoz%2Duser%2Dselect%3Anone%3B%2Dms%2Duser%2Dselect%3Anone%3Buser%2Dselect%3Anone%3B%2Dwebkit%2Dtap%2Dhighlight%2Dcolor%3Argba%280%2C0%2C0%2C0%29%3B%2Dwebkit%2Doverflow%2Dscrolling%3Atouch%7D%2EhtMobileEditorContainer%7Bdisplay%3Anone%3Bposition%3Aabsolute%3Btop%3A0%3Bwidth%3A70%25%3Bheight%3A54pt%3Bbackground%3A%23f8f8f8%3Bborder%2Dradius%3A20px%3Bborder%3A1px%20solid%20%23ebebeb%3Bz%2Dindex%3A999%3Bbox%2Dsizing%3Aborder%2Dbox%3B%2Dwebkit%2Dbox%2Dsizing%3Aborder%2Dbox%3B%2Dwebkit%2Dtext%2Dsize%2Dadjust%3Anone%7D%2EtopLeftSelectionHandle%3Anot%28%2Eht%5Fmaster%20%2EtopLeftSelectionHandle%29%2C%2EtopLeftSelectionHandle%2DHitArea%3Anot%28%2Eht%5Fmaster%20%2EtopLeftSelectionHandle%2DHitArea%29%7Bz%2Dindex%3A9999%7D%2EtopLeftSelectionHandle%2C%2EtopLeftSelectionHandle%2DHitArea%2C%2EbottomRightSelectionHandle%2C%2EbottomRightSelectionHandle%2DHitArea%7Bleft%3A%2D10000px%3Btop%3A%2D10000px%7D%2EhtMobileEditorContainer%2Eactive%7Bdisplay%3Ablock%7D%2EhtMobileEditorContainer%20%2Einputs%7Bposition%3Aabsolute%3Bright%3A210pt%3Bbottom%3A10pt%3Btop%3A10pt%3Bleft%3A14px%3Bheight%3A34pt%7D%2EhtMobileEditorContainer%20%2Einputs%20textarea%7Bfont%2Dsize%3A13pt%3Bborder%3A1px%20solid%20%23a1a1a1%3B%2Dwebkit%2Dappearance%3Anone%3B%2Dwebkit%2Dbox%2Dshadow%3Anone%3B%2Dmoz%2Dbox%2Dshadow%3Anone%3Bbox%2Dshadow%3Anone%3Bposition%3Aabsolute%3Bleft%3A14px%3Bright%3A14px%3Btop%3A0%3Bbottom%3A0%3Bpadding%3A7pt%7D%2EhtMobileEditorContainer%20%2EcellPointer%7Bposition%3Aabsolute%3Btop%3A%2D13pt%3Bheight%3A0%3Bwidth%3A0%3Bleft%3A30px%3Bborder%2Dleft%3A13pt%20solid%20transparent%3Bborder%2Dright%3A13pt%20solid%20transparent%3Bborder%2Dbottom%3A13pt%20solid%20%23ebebeb%7D%2EhtMobileEditorContainer%20%2EcellPointer%2Ehidden%7Bdisplay%3Anone%7D%2EhtMobileEditorContainer%20%2EcellPointer%3Abefore%7Bcontent%3A%27%27%3Bdisplay%3Ablock%3Bposition%3Aabsolute%3Btop%3A2px%3Bheight%3A0%3Bwidth%3A0%3Bleft%3A%2D13pt%3Bborder%2Dleft%3A13pt%20solid%20transparent%3Bborder%2Dright%3A13pt%20solid%20transparent%3Bborder%2Dbottom%3A13pt%20solid%20%23f8f8f8%7D%2EhtMobileEditorContainer%20%2EmoveHandle%7Bposition%3Aabsolute%3Btop%3A10pt%3Bleft%3A5px%3Bwidth%3A30px%3Bbottom%3A0%3Bcursor%3Amove%3Bz%2Dindex%3A9999%7D%2EhtMobileEditorContainer%20%2EmoveHandle%3Aafter%7Bcontent%3A%22%2E%2E%5Ca%2E%2E%5Ca%2E%2E%5Ca%2E%2E%22%3Bwhite%2Dspace%3Apre%3Bline%2Dheight%3A10px%3Bfont%2Dsize%3A20pt%3Bdisplay%3Ainline%2Dblock%3Bmargin%2Dtop%3A%2D8px%3Bcolor%3A%23ebebeb%7D%2EhtMobileEditorContainer%20%2EpositionControls%7Bwidth%3A205pt%3Bposition%3Aabsolute%3Bright%3A5pt%3Btop%3A0%3Bbottom%3A0%7D%2EhtMobileEditorContainer%20%2EpositionControls%3Ediv%7Bwidth%3A50pt%3Bheight%3A100%25%3Bfloat%3Aleft%7D%2EhtMobileEditorContainer%20%2EpositionControls%3Ediv%3Aafter%7Bcontent%3A%22%20%22%3Bdisplay%3Ablock%3Bwidth%3A15pt%3Bheight%3A15pt%3Btext%2Dalign%3Acenter%3Bline%2Dheight%3A50pt%7D%2EhtMobileEditorContainer%20%2EleftButton%3Aafter%2C%2EhtMobileEditorContainer%20%2ErightButton%3Aafter%2C%2EhtMobileEditorContainer%20%2EupButton%3Aafter%2C%2EhtMobileEditorContainer%20%2EdownButton%3Aafter%7Btransform%2Dorigin%3A5pt%205pt%3B%2Dwebkit%2Dtransform%2Dorigin%3A5pt%205pt%3Bmargin%3A21pt%200%200%2021pt%7D%2EhtMobileEditorContainer%20%2EleftButton%3Aafter%7Bborder%2Dtop%3A2px%20solid%20%23288ffe%3Bborder%2Dleft%3A2px%20solid%20%23288ffe%3B%2Dwebkit%2Dtransform%3Arotate%28%2D45deg%29%7D%2EhtMobileEditorContainer%20%2EleftButton%3Aactive%3Aafter%7Bborder%2Dcolor%3A%23cfcfcf%7D%2EhtMobileEditorContainer%20%2ErightButton%3Aafter%7Bborder%2Dtop%3A2px%20solid%20%23288ffe%3Bborder%2Dleft%3A2px%20solid%20%23288ffe%3B%2Dwebkit%2Dtransform%3Arotate%28135deg%29%7D%2EhtMobileEditorContainer%20%2ErightButton%3Aactive%3Aafter%7Bborder%2Dcolor%3A%23cfcfcf%7D%2EhtMobileEditorContainer%20%2EupButton%3Aafter%7Bborder%2Dtop%3A2px%20solid%20%23288ffe%3Bborder%2Dleft%3A2px%20solid%20%23288ffe%3B%2Dwebkit%2Dtransform%3Arotate%2845deg%29%7D%2EhtMobileEditorContainer%20%2EupButton%3Aactive%3Aafter%7Bborder%2Dcolor%3A%23cfcfcf%7D%2EhtMobileEditorContainer%20%2EdownButton%3Aafter%7Bborder%2Dtop%3A2px%20solid%20%23288ffe%3Bborder%2Dleft%3A2px%20solid%20%23288ffe%3B%2Dwebkit%2Dtransform%3Arotate%28225deg%29%7D%2EhtMobileEditorContainer%20%2EdownButton%3Aactive%3Aafter%7Bborder%2Dcolor%3A%23cfcfcf%7D%2Ehandsontable%2Ehide%2Dtween%7B%2Dwebkit%2Danimation%3Aopacity%2Dhide%20%2E3s%3Banimation%3Aopacity%2Dhide%20%2E3s%3Banimation%2Dfill%2Dmode%3Aforwards%3B%2Dwebkit%2Danimation%2Dfill%2Dmode%3Aforwards%7D%2Ehandsontable%2Eshow%2Dtween%7B%2Dwebkit%2Danimation%3Aopacity%2Dshow%20%2E3s%3Banimation%3Aopacity%2Dshow%20%2E3s%3Banimation%2Dfill%2Dmode%3Aforwards%3B%2Dwebkit%2Danimation%2Dfill%2Dmode%3Aforwards%7D%2EhtContextMenu%7Bdisplay%3Anone%3Bposition%3Aabsolute%3Bz%2Dindex%3A1060%7D%2EhtContextMenu%20%2Eht%5Fclone%5Ftop%2C%2EhtContextMenu%20%2Eht%5Fclone%5Fleft%2C%2EhtContextMenu%20%2Eht%5Fclone%5Fcorner%2C%2EhtContextMenu%20%2Eht%5Fclone%5Fdebug%7Bdisplay%3Anone%7D%2EhtContextMenu%20table%2EhtCore%7Bborder%3A1px%20solid%20%23bbb%3Bborder%2Dbottom%2Dwidth%3A2px%3Bborder%2Dright%2Dwidth%3A2px%7D%2EhtContextMenu%20%2EwtBorder%7Bvisibility%3Ahidden%7D%2EhtContextMenu%20table%20tbody%20tr%20td%7Bbackground%3Awhite%3Bborder%2Dwidth%3A0%3Bpadding%3A4px%206px%200%206px%3Bcursor%3Apointer%3Boverflow%3Ahidden%3Bwhite%2Dspace%3Anowrap%3Btext%2Doverflow%3Aellipsis%7D%2EhtContextMenu%20table%20tbody%20tr%20td%3Afirst%2Dchild%7Bborder%3A0%7D%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtDimmed%7Bfont%2Dstyle%3Anormal%3Bcolor%3A%23323232%7D%2EhtContextMenu%20table%20tbody%20tr%20td%2Ecurrent%2C%2EhtContextMenu%20table%20tbody%20tr%20td%2Ezeroclipboard%2Dis%2Dhover%7Bbackground%3A%23e9e9e9%7D%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtSeparator%7Bborder%2Dtop%3A1px%20solid%20%23bbb%3Bheight%3A0%3Bpadding%3A0%3Bcursor%3Adefault%7D%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtDisabled%7Bcolor%3A%23999%7D%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtDisabled%3Ahover%7Bbackground%3A%23fff%3Bcolor%3A%23999%3Bcursor%3Adefault%7D%2EhtContextMenu%20table%20tbody%20tr%2EhtHidden%7Bdisplay%3Anone%7D%2EhtContextMenu%20table%20tbody%20tr%20td%20%2EhtItemWrapper%7Bmargin%2Dleft%3A10px%3Bmargin%2Dright%3A6px%7D%2EhtContextMenu%20table%20tbody%20tr%20td%20div%20span%2Eselected%7Bmargin%2Dtop%3A%2D2px%3Bposition%3Aabsolute%3Bleft%3A4px%7D%2EhtContextMenu%20%2Eht%5Fmaster%20%2EwtHolder%7Boverflow%3Ahidden%7D%2Epika%2Dsingle%7Bz%2Dindex%3A9999%3Bdisplay%3Ablock%3Bposition%3Arelative%3Bcolor%3A%23333%3Bbackground%3A%23fff%3Bborder%3A1px%20solid%20%23ccc%3Bborder%2Dbottom%2Dcolor%3A%23bbb%3Bfont%2Dfamily%3A%22Helvetica%20Neue%22%2CHelvetica%2CArial%2Csans%2Dserif%7D%2Epika%2Dsingle%3Abefore%2C%2Epika%2Dsingle%3Aafter%7Bcontent%3A%22%20%22%3Bdisplay%3Atable%7D%2Epika%2Dsingle%3Aafter%7Bclear%3Aboth%7D%2Epika%2Dsingle%7B%2Azoom%3A1%7D%2Epika%2Dsingle%2Eis%2Dhidden%7Bdisplay%3Anone%7D%2Epika%2Dsingle%2Eis%2Dbound%7Bposition%3Aabsolute%3Bbox%2Dshadow%3A0%205px%2015px%20%2D5px%20rgba%280%2C0%2C0%2C%2E5%29%7D%2Epika%2Dlendar%7Bfloat%3Aleft%3Bwidth%3A240px%3Bmargin%3A8px%7D%2Epika%2Dtitle%7Bposition%3Arelative%3Btext%2Dalign%3Acenter%7D%2Epika%2Dlabel%7Bdisplay%3Ainline%2Dblock%3B%2Adisplay%3Ainline%3Bposition%3Arelative%3Bz%2Dindex%3A9999%3Boverflow%3Ahidden%3Bmargin%3A0%3Bpadding%3A5px%203px%3Bfont%2Dsize%3A14px%3Bline%2Dheight%3A20px%3Bfont%2Dweight%3Abold%3Bbackground%2Dcolor%3A%23fff%7D%2Epika%2Dtitle%20select%7Bcursor%3Apointer%3Bposition%3Aabsolute%3Bz%2Dindex%3A9998%3Bmargin%3A0%3Bleft%3A0%3Btop%3A5px%3Bfilter%3Aalpha%28opacity%3D0%29%3Bopacity%3A0%7D%2Epika%2Dprev%2C%2Epika%2Dnext%7Bdisplay%3Ablock%3Bcursor%3Apointer%3Bposition%3Arelative%3Boutline%3A0%3Bborder%3A0%3Bpadding%3A0%3Bwidth%3A20px%3Bheight%3A30px%3Btext%2Dindent%3A20px%3Bwhite%2Dspace%3Anowrap%3Boverflow%3Ahidden%3Bbackground%2Dcolor%3Atransparent%3Bbackground%2Dposition%3Acenter%20center%3Bbackground%2Drepeat%3Ano%2Drepeat%3Bbackground%2Dsize%3A75%25%2075%25%3Bopacity%3A%2E5%3B%2Aposition%3Aabsolute%3B%2Atop%3A0%7D%2Epika%2Dprev%3Ahover%2C%2Epika%2Dnext%3Ahover%7Bopacity%3A1%7D%2Epika%2Dprev%2C%2Eis%2Drtl%20%2Epika%2Dnext%7Bfloat%3Aleft%3Bbackground%2Dimage%3Aurl%28%27data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj%2BOD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8%2BAqBIl6kKgHiXqQqAeJepBo%2Fz38J%2FU0uAHlaBkBl9I4GwAAAABJRU5ErkJggg%3D%3D%27%29%3B%2Aleft%3A0%7D%2Epika%2Dnext%2C%2Eis%2Drtl%20%2Epika%2Dprev%7Bfloat%3Aright%3Bbackground%2Dimage%3Aurl%28%27data%3Aimage%2Fpng%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO%2BBJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII%3D%27%29%3B%2Aright%3A0%7D%2Epika%2Dprev%2Eis%2Ddisabled%2C%2Epika%2Dnext%2Eis%2Ddisabled%7Bcursor%3Adefault%3Bopacity%3A%2E2%7D%2Epika%2Dselect%7Bdisplay%3Ainline%2Dblock%3B%2Adisplay%3Ainline%7D%2Epika%2Dtable%7Bwidth%3A100%25%3Bborder%2Dcollapse%3Acollapse%3Bborder%2Dspacing%3A0%3Bborder%3A0%7D%2Epika%2Dtable%20th%2C%2Epika%2Dtable%20td%7Bwidth%3A14%2E285714285714286%25%3Bpadding%3A0%7D%2Epika%2Dtable%20th%7Bcolor%3A%23999%3Bfont%2Dsize%3A12px%3Bline%2Dheight%3A25px%3Bfont%2Dweight%3Abold%3Btext%2Dalign%3Acenter%7D%2Epika%2Dbutton%7Bcursor%3Apointer%3Bdisplay%3Ablock%3Bbox%2Dsizing%3Aborder%2Dbox%3B%2Dmoz%2Dbox%2Dsizing%3Aborder%2Dbox%3Boutline%3A0%3Bborder%3A0%3Bmargin%3A0%3Bwidth%3A100%25%3Bpadding%3A5px%3Bcolor%3A%23666%3Bfont%2Dsize%3A12px%3Bline%2Dheight%3A15px%3Btext%2Dalign%3Aright%3Bbackground%3A%23f5f5f5%7D%2Epika%2Dweek%7Bfont%2Dsize%3A11px%3Bcolor%3A%23999%7D%2Eis%2Dtoday%20%2Epika%2Dbutton%7Bcolor%3A%233af%3Bfont%2Dweight%3Abold%7D%2Eis%2Dselected%20%2Epika%2Dbutton%7Bcolor%3A%23fff%3Bfont%2Dweight%3Abold%3Bbackground%3A%233af%3Bbox%2Dshadow%3Ainset%200%201px%203px%20%23178fe5%3Bborder%2Dradius%3A3px%7D%2Eis%2Dinrange%20%2Epika%2Dbutton%7Bbackground%3A%23d5e9f7%7D%2Eis%2Dstartrange%20%2Epika%2Dbutton%7Bcolor%3A%23fff%3Bbackground%3A%236cb31d%3Bbox%2Dshadow%3Anone%3Bborder%2Dradius%3A3px%7D%2Eis%2Dendrange%20%2Epika%2Dbutton%7Bcolor%3A%23fff%3Bbackground%3A%233af%3Bbox%2Dshadow%3Anone%3Bborder%2Dradius%3A3px%7D%2Eis%2Ddisabled%20%2Epika%2Dbutton%7Bpointer%2Devents%3Anone%3Bcursor%3Adefault%3Bcolor%3A%23999%3Bopacity%3A%2E3%7D%2Epika%2Dbutton%3Ahover%7Bcolor%3A%23fff%3Bbackground%3A%23ff8000%3Bbox%2Dshadow%3Anone%3Bborder%2Dradius%3A3px%7D%2Epika%2Dtable%20abbr%7Bborder%2Dbottom%3A0%3Bcursor%3Ahelp%7D" rel="stylesheet" />
<script src="data:application/x-javascript;base64,LyohCihUaGUgTUlUIExpY2Vuc2UpCgpDb3B5cmlnaHQgKGMpIDIwMTItMjAxNCBNYXJjaW4gV2FycGVjaG93c2tpCkNvcHlyaWdodCAoYykgMjAxNSBIYW5kc29uY29kZSBzcC4geiBvLm8uIDxoZWxsb0BoYW5kc29uY29kZS5uZXQ+CgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcKYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlCidTb2Z0d2FyZScpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcKd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLApkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8KcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvCnRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlCmluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICdBUyBJUycsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsCkVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRgpNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuCklOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZCkNMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsClRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFClNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgoKKi8KIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LkhhbmRzb250YWJsZT1lKCl9fShmdW5jdGlvbigpe3ZhciBlO3JldHVybiBmdW5jdGlvbiB0KGUsbixvKXtmdW5jdGlvbiByKGwsYSl7aWYoIW5bbF0pe2lmKCFlW2xdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYSYmdSlyZXR1cm4gdShsLCEwKTtpZihpKXJldHVybiBpKGwsITApO2lmKHNbbF0mJiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93W3NbbF1dKXJldHVybiB3aW5kb3dbc1tsXV07dmFyIGM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbCsiJyIpO3Rocm93IGMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsY312YXIgaD1uW2xdPXtleHBvcnRzOnt9fTtlW2xdWzBdLmNhbGwoaC5leHBvcnRzLGZ1bmN0aW9uKHQpe3ZhciBuPWVbbF1bMV1bdF07cmV0dXJuIHIobj9uOnQpfSxoLGguZXhwb3J0cyx0LGUsbixvKX1yZXR1cm4gbltsXS5leHBvcnRzfWZvcih2YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxzPUpTT04ucGFyc2UoJ3siemVyb2NsaXBib2FyZCI6Ilplcm9DbGlwYm9hcmQiLCJtb21lbnQiOiJtb21lbnQiLCJwaWthZGF5IjoiUGlrYWRheSJ9Jyl8fHt9LGw9MDtsPG8ubGVuZ3RoO2wrKylyKG9bbF0pO3JldHVybiByfSh7MTpbZnVuY3Rpb24oZSx0LG4pe3dpbmRvdy5qUXVlcnkmJiFmdW5jdGlvbihlKXtlLmZuLmhhbmRzb250YWJsZT1mdW5jdGlvbihlKXt2YXIgdCxuLG8scixpLHM9dGhpcy5maXJzdCgpLGw9cy5kYXRhKCJoYW5kc29udGFibGUiKTtpZigic3RyaW5nIiE9dHlwZW9mIGUpcmV0dXJuIGk9ZXx8e30sbD9sLnVwZGF0ZVNldHRpbmdzKGkpOihsPW5ldyBIYW5kc29udGFibGUuQ29yZShzWzBdLGkpLHMuZGF0YSgiaGFuZHNvbnRhYmxlIixsKSxsLmluaXQoKSkscztpZihvPVtdLGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodD0xLG49YXJndW1lbnRzLmxlbmd0aDtuPnQ7dCsrKW8ucHVzaChhcmd1bWVudHNbdF0pO2lmKGwpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgbFtlXSl0aHJvdyBuZXcgRXJyb3IoIkhhbmRzb250YWJsZSBkbyBub3QgcHJvdmlkZSBhY3Rpb246ICIrZSk7cj1sW2VdLmFwcGx5KGwsbyksImRlc3Ryb3kiPT09ZSYmcy5yZW1vdmVEYXRhKCl9cmV0dXJuIHJ9fSh3aW5kb3cualF1ZXJ5KX0se31dLDI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVCb3JkZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBDfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsbCxhLHU9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSksYz11LmdldENvbXB1dGVkU3R5bGUsaD11LmdldFRyaW1taW5nQ29udGFpbmVyLGQ9dS5pbm5lcldpZHRoLGY9dS5pbm5lckhlaWdodCxwPXUub2Zmc2V0LGc9dS5vdXRlckhlaWdodCxtPXUub3V0ZXJXaWR0aCx3PShyPWUoImhlbHBlcnMvZG9tL2V2ZW50IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24sdj0oaT1lKCJoZWxwZXJzL2Jyb3dzZXIiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmlzTW9iaWxlQnJvd3Nlcix5PShzPWUoImV2ZW50TWFuYWdlciIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuRXZlbnRNYW5hZ2VyLGI9KGw9ZSgiY2VsbC9jb29yZHMiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLldhbGtvbnRhYmxlQ2VsbENvb3JkcyxDPSgoYT1lKCJvdmVybGF5L19iYXNlLmpzIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5XYWxrb250YWJsZU92ZXJsYXksZnVuY3Rpb24oZSx0KXt0JiYodGhpcy5ldmVudE1hbmFnZXI9bmV3IHkoZSksdGhpcy5pbnN0YW5jZT1lLHRoaXMud290PWUsdGhpcy5zZXR0aW5ncz10LHRoaXMubW91c2VEb3duPSExLHRoaXMubWFpbj1udWxsLHRoaXMudG9wPW51bGwsdGhpcy5sZWZ0PW51bGwsdGhpcy5ib3R0b209bnVsbCx0aGlzLnJpZ2h0PW51bGwsdGhpcy50b3BTdHlsZT1udWxsLHRoaXMubGVmdFN0eWxlPW51bGwsdGhpcy5ib3R0b21TdHlsZT1udWxsLHRoaXMucmlnaHRTdHlsZT1udWxsLHRoaXMuY29ybmVyRGVmYXVsdFN0eWxlPXt3aWR0aDoiNXB4IixoZWlnaHQ6IjVweCIsYm9yZGVyV2lkdGg6IjJweCIsYm9yZGVyU3R5bGU6InNvbGlkIixib3JkZXJDb2xvcjoiI0ZGRiJ9LHRoaXMuY29ybmVyPW51bGwsdGhpcy5jb3JuZXJTdHlsZT1udWxsLHRoaXMuY3JlYXRlQm9yZGVycyh0KSx0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCkpfSk7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKEMse3JlZ2lzdGVyTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LmJvZHksIm1vdXNlZG93biIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbk1vdXNlRG93bigpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudC5ib2R5LCJtb3VzZXVwIixmdW5jdGlvbigpe3JldHVybiBlLm9uTW91c2VVcCgpfSk7Zm9yKHZhciB0PXRoaXMsbj1mdW5jdGlvbihuLG8pe3QuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodC5tYWluLmNoaWxkTm9kZXNbbl0sIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VFbnRlcih0LGUubWFpbi5jaGlsZE5vZGVzW25dKX0pfSxvPTAscj10aGlzLm1haW4uY2hpbGROb2Rlcy5sZW5ndGg7cj5vO28rKyluKG8scil9LG9uTW91c2VEb3duOmZ1bmN0aW9uKCl7dGhpcy5tb3VzZURvd249ITB9LG9uTW91c2VVcDpmdW5jdGlvbigpe3RoaXMubW91c2VEb3duPSExfSxvbk1vdXNlRW50ZXI6ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3JldHVybiBlLmNsaWVudFk8TWF0aC5mbG9vcihpLnRvcCk/ITA6ZS5jbGllbnRZPk1hdGguY2VpbChpLnRvcCtpLmhlaWdodCk/ITA6ZS5jbGllbnRYPE1hdGguZmxvb3IoaS5sZWZ0KT8hMDplLmNsaWVudFg+TWF0aC5jZWlsKGkubGVmdCtpLndpZHRoKT8hMDp2b2lkIDB9ZnVuY3Rpb24gbyhlKXtuKGUpJiYoci5ldmVudE1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihkb2N1bWVudC5ib2R5LCJtb3VzZW1vdmUiLG8pLHQuc3R5bGUuZGlzcGxheT0iYmxvY2siKX1pZih0aGlzLm1vdXNlRG93biYmdGhpcy53b3QuZ2V0U2V0dGluZygiaGlkZUJvcmRlck9uTW91c2VEb3duT3ZlciIpKXtlLnByZXZlbnREZWZhdWx0KCksdyhlKTt2YXIgcj10aGlzLGk9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQuYm9keSwibW91c2Vtb3ZlIixvKX19LGNyZWF0ZUJvcmRlcnM6ZnVuY3Rpb24oZSl7dGhpcy5tYWluPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3ZhciB0PVsidG9wIiwibGVmdCIsImJvdHRvbSIsInJpZ2h0IiwiY29ybmVyIl0sbj10aGlzLm1haW4uc3R5bGU7bi5wb3NpdGlvbj0iYWJzb2x1dGUiLG4udG9wPTAsbi5sZWZ0PTA7Zm9yKHZhciBvPTA7NT5vO28rKyl7dmFyIHI9dFtvXSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2kuY2xhc3NOYW1lPSJ3dEJvcmRlciAiKyh0aGlzLnNldHRpbmdzLmNsYXNzTmFtZXx8IiIpLHRoaXMuc2V0dGluZ3Nbcl0mJnRoaXMuc2V0dGluZ3Nbcl0uaGlkZSYmKGkuY2xhc3NOYW1lKz0iIGhpZGRlbiIpLG49aS5zdHlsZSxuLmJhY2tncm91bmRDb2xvcj10aGlzLnNldHRpbmdzW3JdJiZ0aGlzLnNldHRpbmdzW3JdLmNvbG9yP3RoaXMuc2V0dGluZ3Nbcl0uY29sb3I6ZS5ib3JkZXIuY29sb3Isbi5oZWlnaHQ9dGhpcy5zZXR0aW5nc1tyXSYmdGhpcy5zZXR0aW5nc1tyXS53aWR0aD90aGlzLnNldHRpbmdzW3JdLndpZHRoKyJweCI6ZS5ib3JkZXIud2lkdGgrInB4IixuLndpZHRoPXRoaXMuc2V0dGluZ3Nbcl0mJnRoaXMuc2V0dGluZ3Nbcl0ud2lkdGg/dGhpcy5zZXR0aW5nc1tyXS53aWR0aCsicHgiOmUuYm9yZGVyLndpZHRoKyJweCIsdGhpcy5tYWluLmFwcGVuZENoaWxkKGkpfXRoaXMudG9wPXRoaXMubWFpbi5jaGlsZE5vZGVzWzBdLHRoaXMubGVmdD10aGlzLm1haW4uY2hpbGROb2Rlc1sxXSx0aGlzLmJvdHRvbT10aGlzLm1haW4uY2hpbGROb2Rlc1syXSx0aGlzLnJpZ2h0PXRoaXMubWFpbi5jaGlsZE5vZGVzWzNdLHRoaXMudG9wU3R5bGU9dGhpcy50b3Auc3R5bGUsdGhpcy5sZWZ0U3R5bGU9dGhpcy5sZWZ0LnN0eWxlLHRoaXMuYm90dG9tU3R5bGU9dGhpcy5ib3R0b20uc3R5bGUsdGhpcy5yaWdodFN0eWxlPXRoaXMucmlnaHQuc3R5bGUsdGhpcy5jb3JuZXI9dGhpcy5tYWluLmNoaWxkTm9kZXNbNF0sdGhpcy5jb3JuZXIuY2xhc3NOYW1lKz0iIGNvcm5lciIsdGhpcy5jb3JuZXJTdHlsZT10aGlzLmNvcm5lci5zdHlsZSx0aGlzLmNvcm5lclN0eWxlLndpZHRoPXRoaXMuY29ybmVyRGVmYXVsdFN0eWxlLndpZHRoLHRoaXMuY29ybmVyU3R5bGUuaGVpZ2h0PXRoaXMuY29ybmVyRGVmYXVsdFN0eWxlLmhlaWdodCx0aGlzLmNvcm5lclN0eWxlLmJvcmRlcj1bdGhpcy5jb3JuZXJEZWZhdWx0U3R5bGUuYm9yZGVyV2lkdGgsdGhpcy5jb3JuZXJEZWZhdWx0U3R5bGUuYm9yZGVyU3R5bGUsdGhpcy5jb3JuZXJEZWZhdWx0U3R5bGUuYm9yZGVyQ29sb3JdLmpvaW4oIiAiKSx2KCkmJnRoaXMuY3JlYXRlTXVsdGlwbGVTZWxlY3RvckhhbmRsZXMoKSx0aGlzLmRpc2FwcGVhcigpLHRoaXMud290Lnd0VGFibGUuYm9yZGVyc0hvbGRlcnx8KHRoaXMud290Lnd0VGFibGUuYm9yZGVyc0hvbGRlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLndvdC53dFRhYmxlLmJvcmRlcnNIb2xkZXIuY2xhc3NOYW1lPSJodEJvcmRlcnMiLHRoaXMud290Lnd0VGFibGUuc3ByZWFkZXIuYXBwZW5kQ2hpbGQodGhpcy53b3Qud3RUYWJsZS5ib3JkZXJzSG9sZGVyKSksdGhpcy53b3Qud3RUYWJsZS5ib3JkZXJzSG9sZGVyLmluc2VydEJlZm9yZSh0aGlzLm1haW4sdGhpcy53b3Qud3RUYWJsZS5ib3JkZXJzSG9sZGVyLmZpcnN0Q2hpbGQpfSxjcmVhdGVNdWx0aXBsZVNlbGVjdG9ySGFuZGxlczpmdW5jdGlvbigpe3RoaXMuc2VsZWN0aW9uSGFuZGxlcz17dG9wTGVmdDpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0b3BMZWZ0SGl0QXJlYTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSxib3R0b21SaWdodDpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSxib3R0b21SaWdodEhpdEFyZWE6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIil9O3ZhciBlPTEwLHQ9NDA7dGhpcy5zZWxlY3Rpb25IYW5kbGVzLnRvcExlZnQuY2xhc3NOYW1lPSJ0b3BMZWZ0U2VsZWN0aW9uSGFuZGxlIix0aGlzLnNlbGVjdGlvbkhhbmRsZXMudG9wTGVmdEhpdEFyZWEuY2xhc3NOYW1lPSJ0b3BMZWZ0U2VsZWN0aW9uSGFuZGxlLUhpdEFyZWEiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5ib3R0b21SaWdodC5jbGFzc05hbWU9ImJvdHRvbVJpZ2h0U2VsZWN0aW9uSGFuZGxlIix0aGlzLnNlbGVjdGlvbkhhbmRsZXMuYm90dG9tUmlnaHRIaXRBcmVhLmNsYXNzTmFtZT0iYm90dG9tUmlnaHRTZWxlY3Rpb25IYW5kbGUtSGl0QXJlYSIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcz17dG9wTGVmdDp0aGlzLnNlbGVjdGlvbkhhbmRsZXMudG9wTGVmdC5zdHlsZSx0b3BMZWZ0SGl0QXJlYTp0aGlzLnNlbGVjdGlvbkhhbmRsZXMudG9wTGVmdEhpdEFyZWEuc3R5bGUsYm90dG9tUmlnaHQ6dGhpcy5zZWxlY3Rpb25IYW5kbGVzLmJvdHRvbVJpZ2h0LnN0eWxlLGJvdHRvbVJpZ2h0SGl0QXJlYTp0aGlzLnNlbGVjdGlvbkhhbmRsZXMuYm90dG9tUmlnaHRIaXRBcmVhLnN0eWxlfTt2YXIgbj17cG9zaXRpb246ImFic29sdXRlIixoZWlnaHQ6dCsicHgiLHdpZHRoOnQrInB4IiwiYm9yZGVyLXJhZGl1cyI6cGFyc2VJbnQodC8xLjUsMTApKyJweCJ9O2Zvcih2YXIgbyBpbiBuKW4uaGFzT3duUHJvcGVydHkobykmJih0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLmJvdHRvbVJpZ2h0SGl0QXJlYVtvXT1uW29dLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMudG9wTGVmdEhpdEFyZWFbb109bltvXSk7dmFyIHI9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsaGVpZ2h0OmUrInB4Iix3aWR0aDplKyJweCIsImJvcmRlci1yYWRpdXMiOnBhcnNlSW50KGUvMS41LDEwKSsicHgiLGJhY2tncm91bmQ6IiNGNUY1RkYiLGJvcmRlcjoiMXB4IHNvbGlkICM0Mjg1YzgifTtmb3IodmFyIGkgaW4gcilyLmhhc093blByb3BlcnR5KGkpJiYodGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy5ib3R0b21SaWdodFtpXT1yW2ldLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMudG9wTGVmdFtpXT1yW2ldKTt0aGlzLm1haW4uYXBwZW5kQ2hpbGQodGhpcy5zZWxlY3Rpb25IYW5kbGVzLnRvcExlZnQpLHRoaXMubWFpbi5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdGlvbkhhbmRsZXMuYm90dG9tUmlnaHQpLHRoaXMubWFpbi5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdGlvbkhhbmRsZXMudG9wTGVmdEhpdEFyZWEpLHRoaXMubWFpbi5hcHBlbmRDaGlsZCh0aGlzLnNlbGVjdGlvbkhhbmRsZXMuYm90dG9tUmlnaHRIaXRBcmVhKX0saXNQYXJ0UmFuZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy53b3Quc2VsZWN0aW9ucy5hcmVhLmNlbGxSYW5nZSYmKGUhPXRoaXMud290LnNlbGVjdGlvbnMuYXJlYS5jZWxsUmFuZ2UudG8ucm93fHx0IT10aGlzLndvdC5zZWxlY3Rpb25zLmFyZWEuY2VsbFJhbmdlLnRvLmNvbCl9LHVwZGF0ZU11bHRpcGxlU2VsZWN0aW9uSGFuZGxlc1Bvc2l0aW9uOmZ1bmN0aW9uKGUsdCxuLG8scixpKXt2YXIgcz1wYXJzZUludCh0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLnRvcExlZnQud2lkdGgsMTApLGw9cGFyc2VJbnQodGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0SGl0QXJlYS53aWR0aCwxMCk7dGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0LnRvcD1wYXJzZUludChuLXMsMTApKyJweCIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0LmxlZnQ9cGFyc2VJbnQoby1zLDEwKSsicHgiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMudG9wTGVmdEhpdEFyZWEudG9wPXBhcnNlSW50KG4tbC80KjMsMTApKyJweCIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0SGl0QXJlYS5sZWZ0PXBhcnNlSW50KG8tbC80KjMsMTApKyJweCIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy5ib3R0b21SaWdodC50b3A9cGFyc2VJbnQobitpLDEwKSsicHgiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMuYm90dG9tUmlnaHQubGVmdD1wYXJzZUludChvK3IsMTApKyJweCIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy5ib3R0b21SaWdodEhpdEFyZWEudG9wPXBhcnNlSW50KG4raS1sLzQsMTApKyJweCIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy5ib3R0b21SaWdodEhpdEFyZWEubGVmdD1wYXJzZUludChvK3ItbC80LDEwKSsicHgiLHRoaXMuc2V0dGluZ3MuYm9yZGVyLm11bHRpcGxlU2VsZWN0aW9uSGFuZGxlc1Zpc2libGUmJnRoaXMuc2V0dGluZ3MuYm9yZGVyLm11bHRpcGxlU2VsZWN0aW9uSGFuZGxlc1Zpc2libGUoKT8odGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0LmRpc3BsYXk9ImJsb2NrIix0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLnRvcExlZnRIaXRBcmVhLmRpc3BsYXk9ImJsb2NrIix0aGlzLmlzUGFydFJhbmdlKGUsdCk/KHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMuYm90dG9tUmlnaHQuZGlzcGxheT0ibm9uZSIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy5ib3R0b21SaWdodEhpdEFyZWEuZGlzcGxheT0ibm9uZSIpOih0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLmJvdHRvbVJpZ2h0LmRpc3BsYXk9ImJsb2NrIix0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLmJvdHRvbVJpZ2h0SGl0QXJlYS5kaXNwbGF5PSJibG9jayIpKToodGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0LmRpc3BsYXk9Im5vbmUiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMuYm90dG9tUmlnaHQuZGlzcGxheT0ibm9uZSIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0SGl0QXJlYS5kaXNwbGF5PSJub25lIix0aGlzLnNlbGVjdGlvbkhhbmRsZXMuc3R5bGVzLmJvdHRvbVJpZ2h0SGl0QXJlYS5kaXNwbGF5PSJub25lIiksZT09dGhpcy53b3Qud3RTZXR0aW5ncy5nZXRTZXR0aW5nKCJmaXhlZFJvd3NUb3AiKXx8dD09dGhpcy53b3Qud3RTZXR0aW5ncy5nZXRTZXR0aW5nKCJmaXhlZENvbHVtbnNMZWZ0Iik/KHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMudG9wTGVmdC56SW5kZXg9Ijk5OTkiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMudG9wTGVmdEhpdEFyZWEuekluZGV4PSI5OTk5Iik6KHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMudG9wTGVmdC56SW5kZXg9IiIsdGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0SGl0QXJlYS56SW5kZXg9IiIpfSxhcHBlYXI6ZnVuY3Rpb24oZSl7aWYoIXRoaXMuZGlzYWJsZWQpe3ZhciB0LG4sbyxyLGkscyxsLGEsdSx3LHksQyxfLFIsUyxFLFQsTSxPO089dGhpcy53b3Qud3RUYWJsZS5nZXRSZW5kZXJlZFJvd3NDb3VudCgpO2Zvcih2YXIgaz0wO08+aztrKyspe3ZhciBIPXRoaXMud290Lnd0VGFibGUucm93RmlsdGVyLnJlbmRlcmVkVG9Tb3VyY2Uoayk7aWYoSD49ZVswXSYmSDw9ZVsyXSl7Xz1IO2JyZWFrfX1mb3IodmFyIEQ9Ty0xO0Q+PTA7RC0tKXt2YXIgQT10aGlzLndvdC53dFRhYmxlLnJvd0ZpbHRlci5yZW5kZXJlZFRvU291cmNlKEQpO2lmKEE+PWVbMF0mJkE8PWVbMl0pe1M9QTticmVha319Tz10aGlzLndvdC53dFRhYmxlLmdldFJlbmRlcmVkQ29sdW1uc0NvdW50KCk7Zm9yKHZhciB4PTA7Tz54O3grKyl7dmFyIFA9dGhpcy53b3Qud3RUYWJsZS5jb2x1bW5GaWx0ZXIucmVuZGVyZWRUb1NvdXJjZSh4KTtpZihQPj1lWzFdJiZQPD1lWzNdKXtSPVA7YnJlYWt9fWZvcih2YXIgTj1PLTE7Tj49MDtOLS0pe3ZhciBMPXRoaXMud290Lnd0VGFibGUuY29sdW1uRmlsdGVyLnJlbmRlcmVkVG9Tb3VyY2UoTik7aWYoTD49ZVsxXSYmTDw9ZVszXSl7RT1MO2JyZWFrfX1pZih2b2lkIDA9PT1ffHx2b2lkIDA9PT1SKXJldHVybiB2b2lkIHRoaXMuZGlzYXBwZWFyKCk7dD1fIT09U3x8UiE9PUUsbj10aGlzLndvdC53dFRhYmxlLmdldENlbGwobmV3IGIoXyxSKSksbz10P3RoaXMud290Lnd0VGFibGUuZ2V0Q2VsbChuZXcgYihTLEUpKTpuLHI9cChuKSxpPXQ/cChvKTpyLHM9cCh0aGlzLndvdC53dFRhYmxlLlRBQkxFKSxhPXIudG9wLHk9aS50b3ArZyhvKS1hLHc9ci5sZWZ0LEM9aS5sZWZ0K20obyktdyxsPWEtcy50b3AtMSx1PXctcy5sZWZ0LTE7dmFyIFc9YyhuKTtwYXJzZUludChXLmJvcmRlclRvcFdpZHRoLDEwKT4wJiYobCs9MSx5PXk+MD95LTE6MCkscGFyc2VJbnQoVy5ib3JkZXJMZWZ0V2lkdGgsMTApPjAmJih1Kz0xLEM9Qz4wP0MtMTowKSx0aGlzLnRvcFN0eWxlLnRvcD1sKyJweCIsdGhpcy50b3BTdHlsZS5sZWZ0PXUrInB4Iix0aGlzLnRvcFN0eWxlLndpZHRoPUMrInB4Iix0aGlzLnRvcFN0eWxlLmRpc3BsYXk9ImJsb2NrIix0aGlzLmxlZnRTdHlsZS50b3A9bCsicHgiLHRoaXMubGVmdFN0eWxlLmxlZnQ9dSsicHgiLHRoaXMubGVmdFN0eWxlLmhlaWdodD15KyJweCIsdGhpcy5sZWZ0U3R5bGUuZGlzcGxheT0iYmxvY2siO3ZhciBJPU1hdGguZmxvb3IodGhpcy5zZXR0aW5ncy5ib3JkZXIud2lkdGgvMik7dGhpcy5ib3R0b21TdHlsZS50b3A9bCt5LUkrInB4Iix0aGlzLmJvdHRvbVN0eWxlLmxlZnQ9dSsicHgiLHRoaXMuYm90dG9tU3R5bGUud2lkdGg9QysicHgiLHRoaXMuYm90dG9tU3R5bGUuZGlzcGxheT0iYmxvY2siLHRoaXMucmlnaHRTdHlsZS50b3A9bCsicHgiLHRoaXMucmlnaHRTdHlsZS5sZWZ0PXUrQy1JKyJweCIsdGhpcy5yaWdodFN0eWxlLmhlaWdodD15KzErInB4Iix0aGlzLnJpZ2h0U3R5bGUuZGlzcGxheT0iYmxvY2siLHYoKXx8IXRoaXMuaGFzU2V0dGluZyh0aGlzLnNldHRpbmdzLmJvcmRlci5jb3JuZXJWaXNpYmxlKXx8dGhpcy5pc1BhcnRSYW5nZShTLEUpP3RoaXMuY29ybmVyU3R5bGUuZGlzcGxheT0ibm9uZSI6KHRoaXMuY29ybmVyU3R5bGUudG9wPWwreS00KyJweCIsdGhpcy5jb3JuZXJTdHlsZS5sZWZ0PXUrQy00KyJweCIsdGhpcy5jb3JuZXJTdHlsZS5ib3JkZXJSaWdodFdpZHRoPXRoaXMuY29ybmVyRGVmYXVsdFN0eWxlLmJvcmRlcldpZHRoLHRoaXMuY29ybmVyU3R5bGUud2lkdGg9dGhpcy5jb3JuZXJEZWZhdWx0U3R5bGUud2lkdGgsdGhpcy5jb3JuZXJTdHlsZS5kaXNwbGF5PSJibG9jayIsVD1oKHRoaXMud290Lnd0VGFibGUuVEFCTEUpLEU9PT10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbENvbHVtbnMiKS0xJiYoTT1vLm9mZnNldExlZnQrbShvKT49ZChUKSxNJiYodGhpcy5jb3JuZXJTdHlsZS5sZWZ0PU1hdGguZmxvb3IodStDLTMtcGFyc2VJbnQodGhpcy5jb3JuZXJEZWZhdWx0U3R5bGUud2lkdGgpLzIpKyJweCIsdGhpcy5jb3JuZXJTdHlsZS5ib3JkZXJSaWdodFdpZHRoPTApKSxTPT09dGhpcy53b3QuZ2V0U2V0dGluZygidG90YWxSb3dzIiktMSYmKE09by5vZmZzZXRUb3ArZyhvKT49ZihUKSxNJiYodGhpcy5jb3JuZXJTdHlsZS50b3A9TWF0aC5mbG9vcihsK3ktMy1wYXJzZUludCh0aGlzLmNvcm5lckRlZmF1bHRTdHlsZS5oZWlnaHQpLzIpKyJweCIsdGhpcy5jb3JuZXJTdHlsZS5ib3JkZXJCb3R0b21XaWR0aD0wKSkpLHYoKSYmdGhpcy51cGRhdGVNdWx0aXBsZVNlbGVjdGlvbkhhbmRsZXNQb3NpdGlvbihfLFIsbCx1LEMseSl9fSxkaXNhcHBlYXI6ZnVuY3Rpb24oKXt0aGlzLnRvcFN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMubGVmdFN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuYm90dG9tU3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5yaWdodFN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuY29ybmVyU3R5bGUuZGlzcGxheT0ibm9uZSIsdigpJiYodGhpcy5zZWxlY3Rpb25IYW5kbGVzLnN0eWxlcy50b3BMZWZ0LmRpc3BsYXk9Im5vbmUiLHRoaXMuc2VsZWN0aW9uSGFuZGxlcy5zdHlsZXMuYm90dG9tUmlnaHQuZGlzcGxheT0ibm9uZSIpfSxoYXNTZXR0aW5nOmZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2UoKTohIWV9fSx7fSksd2luZG93LldhbGtvbnRhYmxlQm9yZGVyPUN9LHsiY2VsbC9jb29yZHMiOjUsZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2Jyb3dzZXIiOjQzLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9kb20vZXZlbnQiOjQ3LCJvdmVybGF5L19iYXNlLmpzIjoxMX1dLDM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVWaWV3cG9ydENvbHVtbnNDYWxjdWxhdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvPW5ldyBXZWFrTWFwLHI9ZnVuY3Rpb24oZSx0LG4scixpLHMsbCl7dmFyIGE9dm9pZCAwIT09YXJndW1lbnRzWzddP2FyZ3VtZW50c1s3XTpmdW5jdGlvbihlKXtyZXR1cm4gZX07by5zZXQodGhpcyx7dmlld3BvcnRXaWR0aDplLHNjcm9sbE9mZnNldDp0LHRvdGFsQ29sdW1uczpuLGNvbHVtbldpZHRoRm46cixvdmVycmlkZUZuOmksb25seUZ1bGx5VmlzaWJsZTpzLHN0cmV0Y2hpbmdDb2x1bW5XaWR0aEZuOmF9KSx0aGlzLmNvdW50PTAsdGhpcy5zdGFydENvbHVtbj1udWxsLHRoaXMuZW5kQ29sdW1uPW51bGwsdGhpcy5zdGFydFBvc2l0aW9uPW51bGwsdGhpcy5zdHJldGNoQWxsUmF0aW89MCx0aGlzLnN0cmV0Y2hMYXN0V2lkdGg9MCx0aGlzLnN0cmV0Y2g9bCx0aGlzLnRvdGFsVGFyZ2V0V2lkdGg9MCx0aGlzLm5lZWRWZXJpZnlMYXN0Q29sdW1uV2lkdGg9ITAsdGhpcy5zdHJldGNoQWxsQ29sdW1uc1dpZHRoPVtdLHRoaXMuY2FsY3VsYXRlKCl9LGk9cjskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3Mocix7Y2FsY3VsYXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9MCxuPSEwLHI9W10saT1vLmdldCh0aGlzKSxzPWkub25seUZ1bGx5VmlzaWJsZSxsPWkub3ZlcnJpZGVGbixhPWkuc2Nyb2xsT2Zmc2V0LHU9aS50b3RhbENvbHVtbnMsYz1pLnZpZXdwb3J0V2lkdGgsaD0wO3U+aDtoKyspaWYoZT10aGlzLl9nZXRDb2x1bW5XaWR0aChoKSxhPj10JiYhcyYmKHRoaXMuc3RhcnRDb2x1bW49aCksdD49YSYmYStjPj10K2UmJihudWxsPT10aGlzLnN0YXJ0Q29sdW1uJiYodGhpcy5zdGFydENvbHVtbj1oKSx0aGlzLmVuZENvbHVtbj1oKSxyLnB1c2godCksdCs9ZSxzfHwodGhpcy5lbmRDb2x1bW49aCksdD49YStjKXtuPSExO2JyZWFrfWlmKHRoaXMuZW5kQ29sdW1uPT09dS0xJiZuKWZvcih0aGlzLnN0YXJ0Q29sdW1uPXRoaXMuZW5kQ29sdW1uO3RoaXMuc3RhcnRDb2x1bW4+MDspe3ZhciBkPXJbdGhpcy5lbmRDb2x1bW5dK2Utclt0aGlzLnN0YXJ0Q29sdW1uLTFdO2lmKChjPj1kfHwhcykmJnRoaXMuc3RhcnRDb2x1bW4tLSxkPmMpYnJlYWt9bnVsbCE9PXRoaXMuc3RhcnRDb2x1bW4mJmwmJmwodGhpcyksdGhpcy5zdGFydFBvc2l0aW9uPXJbdGhpcy5zdGFydENvbHVtbl0sdm9pZCAwPT10aGlzLnN0YXJ0UG9zaXRpb24mJih0aGlzLnN0YXJ0UG9zaXRpb249bnVsbCksbnVsbCE9PXRoaXMuc3RhcnRDb2x1bW4mJih0aGlzLmNvdW50PXRoaXMuZW5kQ29sdW1uLXRoaXMuc3RhcnRDb2x1bW4rMSl9LHJlZnJlc2hTdHJldGNoaW5nOmZ1bmN0aW9uKGUpe2lmKCJub25lIiE9PXRoaXMuc3RyZXRjaCl7dGhpcy50b3RhbFRhcmdldFdpZHRoPWU7Zm9yKHZhciB0PW8uZ2V0KHRoaXMpLG49dC50b3RhbENvbHVtbnMscj0wLGk9MDtuPmk7aSsrKXt2YXIgcz10aGlzLl9nZXRDb2x1bW5XaWR0aChpKSxsPXQuc3RyZXRjaGluZ0NvbHVtbldpZHRoRm4odm9pZCAwLGkpOyJudW1iZXIiPT10eXBlb2YgbD9lLT1sOnIrPXN9dmFyIGE9ZS1yO2lmKCJhbGwiPT09dGhpcy5zdHJldGNoJiZhPjApdGhpcy5zdHJldGNoQWxsUmF0aW89ZS9yLHRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aD1bXSx0aGlzLm5lZWRWZXJpZnlMYXN0Q29sdW1uV2lkdGg9ITA7ZWxzZSBpZigibGFzdCI9PT10aGlzLnN0cmV0Y2gmJmUhPT0xLzApe3ZhciB1PXRoaXMuX2dldENvbHVtbldpZHRoKG4tMSksYz1hK3U7dGhpcy5zdHJldGNoTGFzdFdpZHRoPWM+PTA/Yzp1fX19LGdldFN0cmV0Y2hlZENvbHVtbldpZHRoOmZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbDtyZXR1cm4iYWxsIj09PXRoaXMuc3RyZXRjaCYmMCE9PXRoaXMuc3RyZXRjaEFsbFJhdGlvP249dGhpcy5fZ2V0U3RyZXRjaGVkQWxsQ29sdW1uV2lkdGgoZSx0KToibGFzdCI9PT10aGlzLnN0cmV0Y2gmJjAhPT10aGlzLnN0cmV0Y2hMYXN0V2lkdGgmJihuPXRoaXMuX2dldFN0cmV0Y2hlZExhc3RDb2x1bW5XaWR0aChlKSksbn0sX2dldFN0cmV0Y2hlZEFsbENvbHVtbldpZHRoOmZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPW8uZ2V0KHRoaXMpLGk9ci50b3RhbENvbHVtbnM7aWYoIXRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aFtlXSl7dmFyIHM9TWF0aC5yb3VuZCh0KnRoaXMuc3RyZXRjaEFsbFJhdGlvKSxsPXIuc3RyZXRjaGluZ0NvbHVtbldpZHRoRm4ocyxlKTt2b2lkIDA9PT1sP3RoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aFtlXT1zOnRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aFtlXT1pc05hTihsKT90aGlzLl9nZXRDb2x1bW5XaWR0aChlKTpsfWlmKHRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aC5sZW5ndGg9PT1pJiZ0aGlzLm5lZWRWZXJpZnlMYXN0Q29sdW1uV2lkdGgpe3RoaXMubmVlZFZlcmlmeUxhc3RDb2x1bW5XaWR0aD0hMTtmb3IodmFyIGE9MDthPHRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aC5sZW5ndGg7YSsrKW4rPXRoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aFthXTtuIT09dGhpcy50b3RhbFRhcmdldFdpZHRoJiYodGhpcy5zdHJldGNoQWxsQ29sdW1uc1dpZHRoW3RoaXMuc3RyZXRjaEFsbENvbHVtbnNXaWR0aC5sZW5ndGgtMV0rPXRoaXMudG90YWxUYXJnZXRXaWR0aC1uKX1yZXR1cm4gdGhpcy5zdHJldGNoQWxsQ29sdW1uc1dpZHRoW2VdfSxfZ2V0U3RyZXRjaGVkTGFzdENvbHVtbldpZHRoOmZ1bmN0aW9uKGUpe3ZhciB0PW8uZ2V0KHRoaXMpLG49dC50b3RhbENvbHVtbnM7cmV0dXJuIGU9PT1uLTE/dGhpcy5zdHJldGNoTGFzdFdpZHRoOm51bGx9LF9nZXRDb2x1bW5XaWR0aDpmdW5jdGlvbihlKXt2YXIgdD1vLmdldCh0aGlzKS5jb2x1bW5XaWR0aEZuKGUpO3JldHVybiB2b2lkIDA9PT10JiYodD1pLkRFRkFVTFRfV0lEVEgpLHR9fSx7Z2V0IERFRkFVTFRfV0lEVEgoKXtyZXR1cm4gNTB9fSksd2luZG93LldhbGtvbnRhYmxlVmlld3BvcnRDb2x1bW5zQ2FsY3VsYXRvcj1yfSx7fV0sNDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZVZpZXdwb3J0Um93c0NhbGN1bGF0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG89bmV3IFdlYWtNYXAscj1mdW5jdGlvbihlLHQsbixyLGkscyxsKXtvLnNldCh0aGlzLHt2aWV3cG9ydEhlaWdodDplLHNjcm9sbE9mZnNldDp0LHRvdGFsUm93czpuLHJvd0hlaWdodEZuOnIsb3ZlcnJpZGVGbjppLG9ubHlGdWxseVZpc2libGU6cyxob3Jpem9udGFsU2Nyb2xsYmFySGVpZ2h0Omx9KSx0aGlzLmNvdW50PTAsdGhpcy5zdGFydFJvdz1udWxsLHRoaXMuZW5kUm93PW51bGwsdGhpcy5zdGFydFBvc2l0aW9uPW51bGwsdGhpcy5jYWxjdWxhdGUoKX0saT1yOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhyLHtjYWxjdWxhdGU6ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PSEwLG49W10scj1vLmdldCh0aGlzKSxzPXIub25seUZ1bGx5VmlzaWJsZSxsPXIub3ZlcnJpZGVGbixhPXIucm93SGVpZ2h0Rm4sdT1yLnNjcm9sbE9mZnNldCxjPXIudG90YWxSb3dzLGg9ci52aWV3cG9ydEhlaWdodCxkPXIuaG9yaXpvbnRhbFNjcm9sbGJhckhlaWdodHx8MCxmPTA7Yz5mO2YrKyl7dmFyIHA9YShmKTtpZih2b2lkIDA9PT1wJiYocD1pLkRFRkFVTFRfSEVJR0hUKSx1Pj1lJiYhcyYmKHRoaXMuc3RhcnRSb3c9ZiksZT49dSYmdStoLWQ+PWUrcCYmKG51bGw9PT10aGlzLnN0YXJ0Um93JiYodGhpcy5zdGFydFJvdz1mKSx0aGlzLmVuZFJvdz1mKSxuLnB1c2goZSksZSs9cCxzfHwodGhpcy5lbmRSb3c9ZiksZT49dStoLWQpe3Q9ITE7YnJlYWt9fWlmKHRoaXMuZW5kUm93PT09Yy0xJiZ0KWZvcih0aGlzLnN0YXJ0Um93PXRoaXMuZW5kUm93O3RoaXMuc3RhcnRSb3c+MDspe3ZhciBnPW5bdGhpcy5lbmRSb3ddK3Atblt0aGlzLnN0YXJ0Um93LTFdO2lmKChoLWQ+PWd8fCFzKSYmdGhpcy5zdGFydFJvdy0tLGc+PWgtZClicmVha31udWxsIT09dGhpcy5zdGFydFJvdyYmbCYmbCh0aGlzKSx0aGlzLnN0YXJ0UG9zaXRpb249blt0aGlzLnN0YXJ0Um93XSx2b2lkIDA9PXRoaXMuc3RhcnRQb3NpdGlvbiYmKHRoaXMuc3RhcnRQb3NpdGlvbj1udWxsKSxudWxsIT09dGhpcy5zdGFydFJvdyYmKHRoaXMuY291bnQ9dGhpcy5lbmRSb3ctdGhpcy5zdGFydFJvdysxKX19LHtnZXQgREVGQVVMVF9IRUlHSFQoKXtyZXR1cm4gMjN9fSksd2luZG93LldhbGtvbnRhYmxlVmlld3BvcnRSb3dzQ2FsY3VsYXRvcj1yfSx7fV0sNTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZUNlbGxDb29yZHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG89ZnVuY3Rpb24oZSx0KXsidW5kZWZpbmVkIiE9dHlwZW9mIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgdD8odGhpcy5yb3c9ZSx0aGlzLmNvbD10KToodGhpcy5yb3c9bnVsbCx0aGlzLmNvbD1udWxsKX07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKG8se2lzVmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm93PDB8fHRoaXMuY29sPDA/ITE6ISh0aGlzLnJvdz49ZS5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKXx8dGhpcy5jb2w+PWUuZ2V0U2V0dGluZygidG90YWxDb2x1bW5zIikpfSxpc0VxdWFsOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09dGhpcz8hMDp0aGlzLnJvdz09PWUucm93JiZ0aGlzLmNvbD09PWUuY29sfSxpc1NvdXRoRWFzdE9mOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvdz49ZS5yb3cmJnRoaXMuY29sPj1lLmNvbH0saXNOb3J0aFdlc3RPZjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yb3c8PWUucm93JiZ0aGlzLmNvbDw9ZS5jb2x9LGlzU291dGhXZXN0T2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm93Pj1lLnJvdyYmdGhpcy5jb2w8PWUuY29sfSxpc05vcnRoRWFzdE9mOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvdzw9ZS5yb3cmJnRoaXMuY29sPj1lLmNvbH19LHt9KSx3aW5kb3cuV2Fsa29udGFibGVDZWxsQ29vcmRzPW99LHt9XSw2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1dhbGtvbnRhYmxlQ2VsbFJhbmdlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHI9KG89ZSgiY2VsbC9jb29yZHMiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLldhbGtvbnRhYmxlQ2VsbENvb3JkcyxpPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmhpZ2hsaWdodD1lLHRoaXMuZnJvbT10LHRoaXMudG89bn0scz1pOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhpLHtpc1ZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZyb20uaXNWYWxpZChlKSYmdGhpcy50by5pc1ZhbGlkKGUpfSxpc1NpbmdsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZyb20ucm93PT09dGhpcy50by5yb3cmJnRoaXMuZnJvbS5jb2w9PT10aGlzLnRvLmNvbH0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMuZnJvbS5yb3csdGhpcy50by5yb3cpLU1hdGgubWluKHRoaXMuZnJvbS5yb3csdGhpcy50by5yb3cpKzF9LGdldFdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMuZnJvbS5jb2wsdGhpcy50by5jb2wpLU1hdGgubWluKHRoaXMuZnJvbS5jb2wsdGhpcy50by5jb2wpKzF9LGluY2x1ZGVzOmZ1bmN0aW9uKGUpe3ZhciB0PWUsbj10LnJvdyxvPXQuY29sLHI9dGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCksaT10aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCk7cmV0dXJuIHIucm93PD1uJiZpLnJvdz49biYmci5jb2w8PW8mJmkuY29sPj1vfSxpbmNsdWRlc1JhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluY2x1ZGVzKGUuZ2V0VG9wTGVmdENvcm5lcigpKSYmdGhpcy5pbmNsdWRlcyhlLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCkpfSxpc0VxdWFsOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1pbih0aGlzLmZyb20ucm93LHRoaXMudG8ucm93KT09TWF0aC5taW4oZS5mcm9tLnJvdyxlLnRvLnJvdykmJk1hdGgubWF4KHRoaXMuZnJvbS5yb3csdGhpcy50by5yb3cpPT1NYXRoLm1heChlLmZyb20ucm93LGUudG8ucm93KSYmTWF0aC5taW4odGhpcy5mcm9tLmNvbCx0aGlzLnRvLmNvbCk9PU1hdGgubWluKGUuZnJvbS5jb2wsZS50by5jb2wpJiZNYXRoLm1heCh0aGlzLmZyb20uY29sLHRoaXMudG8uY29sKT09TWF0aC5tYXgoZS5mcm9tLmNvbCxlLnRvLmNvbCl9LG92ZXJsYXBzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlzU291dGhFYXN0T2YodGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCkpJiZlLmlzTm9ydGhXZXN0T2YodGhpcy5nZXRCb3R0b21SaWdodENvcm5lcigpKX0saXNTb3V0aEVhc3RPZjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCkuaXNTb3V0aEVhc3RPZihlKXx8dGhpcy5nZXRCb3R0b21SaWdodENvcm5lcigpLmlzU291dGhFYXN0T2YoZSl9LGlzTm9ydGhXZXN0T2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0VG9wTGVmdENvcm5lcigpLmlzTm9ydGhXZXN0T2YoZSl8fHRoaXMuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKS5pc05vcnRoV2VzdE9mKGUpfSxleHBhbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCksbj10aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCk7cmV0dXJuIGUucm93PHQucm93fHxlLmNvbDx0LmNvbHx8ZS5yb3c+bi5yb3d8fGUuY29sPm4uY29sPyh0aGlzLmZyb209bmV3IHIoTWF0aC5taW4odC5yb3csZS5yb3cpLE1hdGgubWluKHQuY29sLGUuY29sKSksdGhpcy50bz1uZXcgcihNYXRoLm1heChuLnJvdyxlLnJvdyksTWF0aC5tYXgobi5jb2wsZS5jb2wpKSwhMCk6ITF9LGV4cGFuZEJ5UmFuZ2U6ZnVuY3Rpb24oZSl7aWYodGhpcy5pbmNsdWRlc1JhbmdlKGUpfHwhdGhpcy5vdmVybGFwcyhlKSlyZXR1cm4hMTt2YXIgdD10aGlzLmdldFRvcExlZnRDb3JuZXIoKSxuPXRoaXMuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSxvPSh0aGlzLmdldFRvcFJpZ2h0Q29ybmVyKCksdGhpcy5nZXRCb3R0b21MZWZ0Q29ybmVyKCksZS5nZXRUb3BMZWZ0Q29ybmVyKCkpLGk9ZS5nZXRCb3R0b21SaWdodENvcm5lcigpLGw9TWF0aC5taW4odC5yb3csby5yb3cpLGE9TWF0aC5taW4odC5jb2wsby5jb2wpLHU9TWF0aC5tYXgobi5yb3csaS5yb3cpLGM9TWF0aC5tYXgobi5jb2wsaS5jb2wpLGg9bmV3IHIobCxhKSxkPW5ldyByKHUsYyksZj1uZXcgcyhoLGgsZCkuaXNDb3JuZXIodGhpcy5mcm9tLGUpLHA9ZS5pc0VxdWFsKG5ldyBzKGgsaCxkKSk7cmV0dXJuIGYmJiFwJiYodGhpcy5mcm9tLmNvbD5oLmNvbCYmKGguY29sPWMsZC5jb2w9YSksdGhpcy5mcm9tLnJvdz5oLnJvdyYmKGgucm93PXUsZC5yb3c9bCkpLHRoaXMuZnJvbT1oLHRoaXMudG89ZCwhMH0sZ2V0RGlyZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJvbS5pc05vcnRoV2VzdE9mKHRoaXMudG8pPyJOVy1TRSI6dGhpcy5mcm9tLmlzTm9ydGhFYXN0T2YodGhpcy50byk/Ik5FLVNXIjp0aGlzLmZyb20uaXNTb3V0aEVhc3RPZih0aGlzLnRvKT8iU0UtTlciOnRoaXMuZnJvbS5pc1NvdXRoV2VzdE9mKHRoaXMudG8pPyJTVy1ORSI6dm9pZCAwfSxzZXREaXJlY3Rpb246ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UiTlctU0UiOnRoaXMuZnJvbT10aGlzLmdldFRvcExlZnRDb3JuZXIoKSx0aGlzLnRvPXRoaXMuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKTticmVhaztjYXNlIk5FLVNXIjp0aGlzLmZyb209dGhpcy5nZXRUb3BSaWdodENvcm5lcigpLHRoaXMudG89dGhpcy5nZXRCb3R0b21MZWZ0Q29ybmVyKCk7YnJlYWs7Y2FzZSJTRS1OVyI6dGhpcy5mcm9tPXRoaXMuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSx0aGlzLnRvPXRoaXMuZ2V0VG9wTGVmdENvcm5lcigpO2JyZWFrO2Nhc2UiU1ctTkUiOnRoaXMuZnJvbT10aGlzLmdldEJvdHRvbUxlZnRDb3JuZXIoKSx0aGlzLnRvPXRoaXMuZ2V0VG9wUmlnaHRDb3JuZXIoKX19LGdldFRvcExlZnRDb3JuZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIoTWF0aC5taW4odGhpcy5mcm9tLnJvdyx0aGlzLnRvLnJvdyksTWF0aC5taW4odGhpcy5mcm9tLmNvbCx0aGlzLnRvLmNvbCkpfSxnZXRCb3R0b21SaWdodENvcm5lcjpmdW5jdGlvbigpe3JldHVybiBuZXcgcihNYXRoLm1heCh0aGlzLmZyb20ucm93LHRoaXMudG8ucm93KSxNYXRoLm1heCh0aGlzLmZyb20uY29sLHRoaXMudG8uY29sKSl9LGdldFRvcFJpZ2h0Q29ybmVyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKE1hdGgubWluKHRoaXMuZnJvbS5yb3csdGhpcy50by5yb3cpLE1hdGgubWF4KHRoaXMuZnJvbS5jb2wsdGhpcy50by5jb2wpKX0sZ2V0Qm90dG9tTGVmdENvcm5lcjpmdW5jdGlvbigpe3JldHVybiBuZXcgcihNYXRoLm1heCh0aGlzLmZyb20ucm93LHRoaXMudG8ucm93KSxNYXRoLm1pbih0aGlzLmZyb20uY29sLHRoaXMudG8uY29sKSl9LGlzQ29ybmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJnQuaW5jbHVkZXMoZSkmJih0aGlzLmdldFRvcExlZnRDb3JuZXIoKS5pc0VxdWFsKG5ldyByKHQuZnJvbS5yb3csdC5mcm9tLmNvbCkpfHx0aGlzLmdldFRvcFJpZ2h0Q29ybmVyKCkuaXNFcXVhbChuZXcgcih0LmZyb20ucm93LHQudG8uY29sKSl8fHRoaXMuZ2V0Qm90dG9tTGVmdENvcm5lcigpLmlzRXF1YWwobmV3IHIodC50by5yb3csdC5mcm9tLmNvbCkpfHx0aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCkuaXNFcXVhbChuZXcgcih0LnRvLnJvdyx0LnRvLmNvbCkpKT8hMDplLmlzRXF1YWwodGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCkpfHxlLmlzRXF1YWwodGhpcy5nZXRUb3BSaWdodENvcm5lcigpKXx8ZS5pc0VxdWFsKHRoaXMuZ2V0Qm90dG9tTGVmdENvcm5lcigpKXx8ZS5pc0VxdWFsKHRoaXMuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSl9LGdldE9wcG9zaXRlQ29ybmVyOmZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgcikpcmV0dXJuITE7aWYodCYmdC5pbmNsdWRlcyhlKSl7aWYodGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCkuaXNFcXVhbChuZXcgcih0LmZyb20ucm93LHQuZnJvbS5jb2wpKSlyZXR1cm4gdGhpcy5nZXRCb3R0b21SaWdodENvcm5lcigpO2lmKHRoaXMuZ2V0VG9wUmlnaHRDb3JuZXIoKS5pc0VxdWFsKG5ldyByKHQuZnJvbS5yb3csdC50by5jb2wpKSlyZXR1cm4gdGhpcy5nZXRCb3R0b21MZWZ0Q29ybmVyKCk7aWYodGhpcy5nZXRCb3R0b21MZWZ0Q29ybmVyKCkuaXNFcXVhbChuZXcgcih0LnRvLnJvdyx0LmZyb20uY29sKSkpcmV0dXJuIHRoaXMuZ2V0VG9wUmlnaHRDb3JuZXIoKTtpZih0aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCkuaXNFcXVhbChuZXcgcih0LnRvLnJvdyx0LnRvLmNvbCkpKXJldHVybiB0aGlzLmdldFRvcExlZnRDb3JuZXIoKX1yZXR1cm4gZS5pc0VxdWFsKHRoaXMuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSk/dGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCk6ZS5pc0VxdWFsKHRoaXMuZ2V0VG9wTGVmdENvcm5lcigpKT90aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCk6ZS5pc0VxdWFsKHRoaXMuZ2V0VG9wUmlnaHRDb3JuZXIoKSk/dGhpcy5nZXRCb3R0b21MZWZ0Q29ybmVyKCk6ZS5pc0VxdWFsKHRoaXMuZ2V0Qm90dG9tTGVmdENvcm5lcigpKT90aGlzLmdldFRvcFJpZ2h0Q29ybmVyKCk6dm9pZCAwfSxnZXRCb3JkZXJzU2hhcmVkV2l0aDpmdW5jdGlvbihlKXtpZighdGhpcy5pbmNsdWRlc1JhbmdlKGUpKXJldHVybltdO3ZhciB0PXt0b3A6TWF0aC5taW4odGhpcy5mcm9tLnJvdyx0aGlzLnRvLnJvdyksYm90dG9tOk1hdGgubWF4KHRoaXMuZnJvbS5yb3csdGhpcy50by5yb3cpLGxlZnQ6TWF0aC5taW4odGhpcy5mcm9tLmNvbCx0aGlzLnRvLmNvbCkscmlnaHQ6TWF0aC5tYXgodGhpcy5mcm9tLmNvbCx0aGlzLnRvLmNvbCl9LG49e3RvcDpNYXRoLm1pbihlLmZyb20ucm93LGUudG8ucm93KSxib3R0b206TWF0aC5tYXgoZS5mcm9tLnJvdyxlLnRvLnJvdyksbGVmdDpNYXRoLm1pbihlLmZyb20uY29sLGUudG8uY29sKSxyaWdodDpNYXRoLm1heChlLmZyb20uY29sLGUudG8uY29sKX0sbz1bXTtyZXR1cm4gdC50b3A9PW4udG9wJiZvLnB1c2goInRvcCIpLHQucmlnaHQ9PW4ucmlnaHQmJm8ucHVzaCgicmlnaHQiKSx0LmJvdHRvbT09bi5ib3R0b20mJm8ucHVzaCgiYm90dG9tIiksdC5sZWZ0PT1uLmxlZnQmJm8ucHVzaCgibGVmdCIpLG99LGdldElubmVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZ2V0VG9wTGVmdENvcm5lcigpLHQ9dGhpcy5nZXRCb3R0b21SaWdodENvcm5lcigpLG49W10sbz1lLnJvdztvPD10LnJvdztvKyspZm9yKHZhciBpPWUuY29sO2k8PXQuY29sO2krKyl0aGlzLmZyb20ucm93PT09byYmdGhpcy5mcm9tLmNvbD09PWl8fHRoaXMudG8ucm93PT09byYmdGhpcy50by5jb2w9PT1pfHxuLnB1c2gobmV3IHIobyxpKSk7cmV0dXJuIG59LGdldEFsbDpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmdldFRvcExlZnRDb3JuZXIoKSx0PXRoaXMuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSxuPVtdLG89ZS5yb3c7bzw9dC5yb3c7bysrKWZvcih2YXIgaT1lLmNvbDtpPD10LmNvbDtpKyspZS5yb3c9PT1vJiZlLmNvbD09PWk/bi5wdXNoKGUpOnQucm93PT09byYmdC5jb2w9PT1pP24ucHVzaCh0KTpuLnB1c2gobmV3IHIobyxpKSk7cmV0dXJuIG59LGZvckFsbDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5nZXRUb3BMZWZ0Q29ybmVyKCksbj10aGlzLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCksbz10LnJvdztvPD1uLnJvdztvKyspZm9yKHZhciByPXQuY29sO3I8PW4uY29sO3IrKyl7dmFyIGk9ZShvLHIpO2lmKGk9PT0hMSlyZXR1cm59fX0se30pLHdpbmRvdy5XYWxrb250YWJsZUNlbGxSYW5nZT1pfSx7ImNlbGwvY29vcmRzIjo1fV0sNzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEF9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxsLGEsdSxjLGgsZCxmLHAsZyxtLHc9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSksdj13LmFkZENsYXNzLHk9dy5mYXN0SW5uZXJUZXh0LGI9dy5pc1Zpc2libGUsQz13LnJlbW92ZUNsYXNzLF89KHI9ZSgiaGVscGVycy9vYmplY3QiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLm9iamVjdEVhY2gsUj0oaT1lKCJoZWxwZXJzL3N0cmluZyIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSksUz1SLnRvVXBwZXJDYXNlRmlyc3QsRT1SLnJhbmRvbVN0cmluZyxUPShzPWUoImV2ZW50IikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5XYWxrb250YWJsZUV2ZW50LE09KGw9ZSgib3ZlcmxheXMiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLldhbGtvbnRhYmxlT3ZlcmxheXMsTz0oYT1lKCJzY3JvbGwiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLldhbGtvbnRhYmxlU2Nyb2xsLGs9KHU9ZSgic2V0dGluZ3MiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLldhbGtvbnRhYmxlU2V0dGluZ3MsSD0oYz1lKCJ0YWJsZSIpLGMmJmMuX19lc01vZHVsZSYmY3x8eyJkZWZhdWx0IjpjfSkuV2Fsa29udGFibGVUYWJsZSxEPShoPWUoInZpZXdwb3J0IiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KS5XYWxrb250YWJsZVZpZXdwb3J0LEE9KChkPWUoIm92ZXJsYXkvX2Jhc2UuanMiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLldhbGtvbnRhYmxlT3ZlcmxheSwoZj1lKCJvdmVybGF5L3RvcC5qcyIpLGYmJmYuX19lc01vZHVsZSYmZnx8eyJkZWZhdWx0IjpmfSkuV2Fsa29udGFibGVUb3BPdmVybGF5LChwPWUoIm92ZXJsYXkvbGVmdC5qcyIpLHAmJnAuX19lc01vZHVsZSYmcHx8eyJkZWZhdWx0IjpwfSkuV2Fsa29udGFibGVMZWZ0T3ZlcmxheSwoZz1lKCJvdmVybGF5L2RlYnVnLmpzIiksZyYmZy5fX2VzTW9kdWxlJiZnfHx7ImRlZmF1bHQiOmd9KS5XYWxrb250YWJsZURlYnVnT3ZlcmxheSwobT1lKCJvdmVybGF5L3RvcExlZnRDb3JuZXIuanMiKSxtJiZtLl9fZXNNb2R1bGUmJm18fHsiZGVmYXVsdCI6bX0pLldhbGtvbnRhYmxlVG9wTGVmdENvcm5lck92ZXJsYXksZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYodGhpcy5ndWlkPSJ3dF8iK0UoKSxlLmNsb25lU291cmNlPyh0aGlzLmNsb25lU291cmNlPWUuY2xvbmVTb3VyY2UsdGhpcy5jbG9uZU92ZXJsYXk9ZS5jbG9uZU92ZXJsYXksdGhpcy53dFNldHRpbmdzPWUuY2xvbmVTb3VyY2Uud3RTZXR0aW5ncyx0aGlzLnd0VGFibGU9bmV3IEgodGhpcyxlLnRhYmxlLGUud3RSb290RWxlbWVudCksdGhpcy53dFNjcm9sbD1uZXcgTyh0aGlzKSx0aGlzLnd0Vmlld3BvcnQ9ZS5jbG9uZVNvdXJjZS53dFZpZXdwb3J0LHRoaXMud3RFdmVudD1uZXcgVCh0aGlzKSx0aGlzLnNlbGVjdGlvbnM9dGhpcy5jbG9uZVNvdXJjZS5zZWxlY3Rpb25zKToodGhpcy53dFNldHRpbmdzPW5ldyBrKHRoaXMsZSksdGhpcy53dFRhYmxlPW5ldyBIKHRoaXMsZS50YWJsZSksdGhpcy53dFNjcm9sbD1uZXcgTyh0aGlzKSx0aGlzLnd0Vmlld3BvcnQ9bmV3IEQodGhpcyksdGhpcy53dEV2ZW50PW5ldyBUKHRoaXMpLHRoaXMuc2VsZWN0aW9ucz10aGlzLmdldFNldHRpbmcoInNlbGVjdGlvbnMiKSx0aGlzLnd0T3ZlcmxheXM9bmV3IE0odGhpcyksdGhpcy5leHBvcnRTZXR0aW5nc0FzQ2xhc3NOYW1lcygpKSx0aGlzLnd0VGFibGUuVEhFQUQuY2hpbGROb2Rlcy5sZW5ndGgmJnRoaXMud3RUYWJsZS5USEVBRC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXMubGVuZ3RoKXtmb3IodmFyIG49MCxvPXRoaXMud3RUYWJsZS5USEVBRC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXMubGVuZ3RoO28+bjtuKyspdC5wdXNoKHRoaXMud3RUYWJsZS5USEVBRC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbbl0uaW5uZXJIVE1MKTt0aGlzLmdldFNldHRpbmcoImNvbHVtbkhlYWRlcnMiKS5sZW5ndGh8fHRoaXMudXBkYXRlKCJjb2x1bW5IZWFkZXJzIixbZnVuY3Rpb24oZSxuKXt5KG4sdFtlXSl9XSl9dGhpcy5kcmF3bj0hMSx0aGlzLmRyYXdJbnRlcnJ1cHRlZD0hMX0pOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhBLHtkcmF3OmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTohMTtyZXR1cm4gdGhpcy5kcmF3SW50ZXJydXB0ZWQ9ITEsZXx8Yih0aGlzLnd0VGFibGUuVEFCTEUpP3RoaXMud3RUYWJsZS5kcmF3KGUpOnRoaXMuZHJhd0ludGVycnVwdGVkPSEwLHRoaXN9LGdldENlbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTohMTtpZighdClyZXR1cm4gdGhpcy53dFRhYmxlLmdldENlbGwoZSk7dmFyIG49dGhpcy53dFNldHRpbmdzLmdldFNldHRpbmcoInRvdGFsUm93cyIpLG89dGhpcy53dFNldHRpbmdzLmdldFNldHRpbmcoImZpeGVkUm93c1RvcCIpLHI9dGhpcy53dFNldHRpbmdzLmdldFNldHRpbmcoImZpeGVkUm93c0JvdHRvbSIpLGk9dGhpcy53dFNldHRpbmdzLmdldFNldHRpbmcoImZpeGVkQ29sdW1uc0xlZnQiKTtpZihlLnJvdzxvJiZlLmNvbDxpKXJldHVybiB0aGlzLnd0T3ZlcmxheXMudG9wTGVmdENvcm5lck92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKGUpO2lmKGUucm93PG8pcmV0dXJuIHRoaXMud3RPdmVybGF5cy50b3BPdmVybGF5LmNsb25lLnd0VGFibGUuZ2V0Q2VsbChlKTtpZihlLmNvbDxpJiZlLnJvdz49bi1yKXtpZih0aGlzLnd0T3ZlcmxheXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkuY2xvbmUpcmV0dXJuIHRoaXMud3RPdmVybGF5cy5ib3R0b21MZWZ0Q29ybmVyT3ZlcmxheS5jbG9uZS53dFRhYmxlLmdldENlbGwoZSl9ZWxzZXtpZihlLmNvbDxpKXJldHVybiB0aGlzLnd0T3ZlcmxheXMubGVmdE92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKGUpO2lmKGUucm93PG4mJmUucm93Pm4tciYmdGhpcy53dE92ZXJsYXlzLmJvdHRvbU92ZXJsYXkuY2xvbmUpcmV0dXJuIHRoaXMud3RPdmVybGF5cy5ib3R0b21PdmVybGF5LmNsb25lLnd0VGFibGUuZ2V0Q2VsbChlKX1yZXR1cm4gdGhpcy53dFRhYmxlLmdldENlbGwoZSl9LHVwZGF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnd0U2V0dGluZ3MudXBkYXRlKGUsdCl9LHNjcm9sbFZlcnRpY2FsOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnd0T3ZlcmxheXMudG9wT3ZlcmxheS5zY3JvbGxUbyhlKSx0aGlzLmdldFNldHRpbmcoIm9uU2Nyb2xsVmVydGljYWxseSIpLHRoaXN9LHNjcm9sbEhvcml6b250YWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5zY3JvbGxUbyhlKSx0aGlzLmdldFNldHRpbmcoIm9uU2Nyb2xsSG9yaXpvbnRhbGx5IiksdGhpc30sc2Nyb2xsVmlld3BvcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMud3RTY3JvbGwuc2Nyb2xsVmlld3BvcnQoZSksdGhpc30sZ2V0Vmlld3BvcnQ6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy53dFRhYmxlLmdldEZpcnN0VmlzaWJsZVJvdygpLHRoaXMud3RUYWJsZS5nZXRGaXJzdFZpc2libGVDb2x1bW4oKSx0aGlzLnd0VGFibGUuZ2V0TGFzdFZpc2libGVSb3coKSx0aGlzLnd0VGFibGUuZ2V0TGFzdFZpc2libGVDb2x1bW4oKV19LGdldE92ZXJsYXlOYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmVPdmVybGF5P3RoaXMuY2xvbmVPdmVybGF5LnR5cGU6Im1hc3RlciJ9LGlzT3ZlcmxheU5hbWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmVPdmVybGF5P3RoaXMuY2xvbmVPdmVybGF5LnR5cGU9PT1lOiExfSxleHBvcnRTZXR0aW5nc0FzQ2xhc3NOYW1lczpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17cm93SGVhZGVyczpbImFycmF5Il0sY29sdW1uSGVhZGVyczpbImFycmF5Il19LG49W10sbz1bXTtfKHQsZnVuY3Rpb24odCxyKXt0LmluZGV4T2YoImFycmF5Iik+LTEmJmUuZ2V0U2V0dGluZyhyKS5sZW5ndGgmJm8ucHVzaCgiaHQiK1MocikpLG4ucHVzaCgiaHQiK1MocikpfSksQyh0aGlzLnd0VGFibGUud3RSb290RWxlbWVudC5wYXJlbnROb2RlLG4pLHYodGhpcy53dFRhYmxlLnd0Um9vdEVsZW1lbnQucGFyZW50Tm9kZSxvKX0sZ2V0U2V0dGluZzpmdW5jdGlvbihlLHQsbixvLHIpe3JldHVybiB0aGlzLnd0U2V0dGluZ3MuZ2V0U2V0dGluZyhlLHQsbixvLHIpfSxoYXNTZXR0aW5nOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnd0U2V0dGluZ3MuaGFzKGUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy53dE92ZXJsYXlzLmRlc3Ryb3koKSx0aGlzLnd0RXZlbnQuZGVzdHJveSgpfX0se30pLHdpbmRvdy5XYWxrb250YWJsZT1BfSx7ZXZlbnQ6OCwiaGVscGVycy9kb20vZWxlbWVudCI6NDYsImhlbHBlcnMvb2JqZWN0Ijo1MiwiaGVscGVycy9zdHJpbmciOjU0LCJvdmVybGF5L19iYXNlLmpzIjoxMSwib3ZlcmxheS9kZWJ1Zy5qcyI6MTIsIm92ZXJsYXkvbGVmdC5qcyI6MTMsIm92ZXJsYXkvdG9wLmpzIjoxNCwib3ZlcmxheS90b3BMZWZ0Q29ybmVyLmpzIjoxNSxvdmVybGF5czoxNixzY3JvbGw6MTcsc2V0dGluZ3M6MTksdGFibGU6MjAsdmlld3BvcnQ6MjJ9XSw4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7dmFyIHQ9dGhpcyxuPWQoZSk7dGhpcy5pbnN0YW5jZT1lO3ZhciBvPVtudWxsLG51bGxdO3RoaXMuZGJsQ2xpY2tUaW1lb3V0PVtudWxsLG51bGxdO3ZhciByLGk9ZnVuY3Rpb24oZSl7dmFyIG49dC5wYXJlbnRDZWxsKGUucmVhbFRhcmdldCk7dShlLnJlYWxUYXJnZXQsImNvcm5lciIpP3QuaW5zdGFuY2UuZ2V0U2V0dGluZygib25DZWxsQ29ybmVyTW91c2VEb3duIixlLGUucmVhbFRhcmdldCk6bi5URCYmdC5pbnN0YW5jZS5oYXNTZXR0aW5nKCJvbkNlbGxNb3VzZURvd24iKSYmdC5pbnN0YW5jZS5nZXRTZXR0aW5nKCJvbkNlbGxNb3VzZURvd24iLGUsbi5jb29yZHMsbi5URCx0Lmluc3RhbmNlKSwyIT09ZS5idXR0b24mJm4uVEQmJihvWzBdPW4uVEQsY2xlYXJUaW1lb3V0KHQuZGJsQ2xpY2tUaW1lb3V0WzBdKSx0LmRibENsaWNrVGltZW91dFswXT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7b1swXT1udWxsfSwxZTMpKX0scz1mdW5jdGlvbihlKXt0Lmluc3RhbmNlLnRvdWNoTW92aW5nPSEwfSxsPWZ1bmN0aW9uKGUpe24uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLCJ0b3VjaG1vdmUiLHMpLHQuY2hlY2tJZlRvdWNoTW92ZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHQuaW5zdGFuY2UudG91Y2hNb3Zpbmc9PT0hMD8odC5pbnN0YW5jZS50b3VjaE1vdmluZz12b2lkIDAsdm9pZCBuLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIscywhMSkpOnZvaWQgaShlKX0sMzApfSxmPWZ1bmN0aW9uKGUpe3ZhciBuLG8scjt0Lmluc3RhbmNlLmhhc1NldHRpbmcoIm9uQ2VsbE1vdXNlT3ZlciIpJiYobj10Lmluc3RhbmNlLnd0VGFibGUuVEFCTEUsbz1hKGUucmVhbFRhcmdldCxbIlREIiwiVEgiXSxuKSxyPXQuaW5zdGFuY2UuY2xvbmVTb3VyY2V8fHQuaW5zdGFuY2UsbyYmbyE9PXIubGFzdE1vdXNlT3ZlciYmYyhvLG4pJiYoci5sYXN0TW91c2VPdmVyPW8sdC5pbnN0YW5jZS5nZXRTZXR0aW5nKCJvbkNlbGxNb3VzZU92ZXIiLGUsdC5pbnN0YW5jZS53dFRhYmxlLmdldENvb3JkcyhvKSxvLHQuaW5zdGFuY2UpKSl9LHA9ZnVuY3Rpb24oZSl7aWYoMiE9PWUuYnV0dG9uKXt2YXIgbj10LnBhcmVudENlbGwoZS5yZWFsVGFyZ2V0KTtuLlREPT09b1swXSYmbi5URD09PW9bMV0/KHUoZS5yZWFsVGFyZ2V0LCJjb3JuZXIiKT90Lmluc3RhbmNlLmdldFNldHRpbmcoIm9uQ2VsbENvcm5lckRibENsaWNrIixlLG4uY29vcmRzLG4uVEQsdC5pbnN0YW5jZSk6dC5pbnN0YW5jZS5nZXRTZXR0aW5nKCJvbkNlbGxEYmxDbGljayIsZSxuLmNvb3JkcyxuLlRELHQuaW5zdGFuY2UpLG9bMF09bnVsbCxvWzFdPW51bGwpOm4uVEQ9PT1vWzBdJiYob1sxXT1uLlRELGNsZWFyVGltZW91dCh0LmRibENsaWNrVGltZW91dFsxXSksdC5kYmxDbGlja1RpbWVvdXRbMV09c2V0VGltZW91dChmdW5jdGlvbigpe29bMV09bnVsbH0sNTAwKSl9fSxnPWZ1bmN0aW9uKGUpe2NsZWFyVGltZW91dChyKSxlLnByZXZlbnREZWZhdWx0KCkscChlKX07aWYobi5hZGRFdmVudExpc3RlbmVyKHRoaXMuaW5zdGFuY2Uud3RUYWJsZS5ob2xkZXIsIm1vdXNlZG93biIsaSksbi5hZGRFdmVudExpc3RlbmVyKHRoaXMuaW5zdGFuY2Uud3RUYWJsZS5UQUJMRSwibW91c2VvdmVyIixmKSxuLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5pbnN0YW5jZS53dFRhYmxlLmhvbGRlciwibW91c2V1cCIscCksdGhpcy5pbnN0YW5jZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlLnBhcmVudE5vZGUmJmgoKSYmIXQuaW5zdGFuY2Uud3RUYWJsZS5pc1dvcmtpbmdPbkNsb25lKCkpe3ZhciBtPSIuIit0aGlzLmluc3RhbmNlLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUuY2xhc3NOYW1lLnNwbGl0KCIgIikuam9pbigiLiIpO24uYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmluc3RhbmNlLnd0VGFibGUuaG9sZGVyLCJ0b3VjaHN0YXJ0IixmdW5jdGlvbihlKXt0Lmluc3RhbmNlLnRvdWNoQXBwbGllZD0hMCxjKGUudGFyZ2V0LG0pJiZsLmNhbGwoZS50YXJnZXQsZSl9KSxuLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5pbnN0YW5jZS53dFRhYmxlLmhvbGRlciwidG91Y2hlbmQiLGZ1bmN0aW9uKGUpe3QuaW5zdGFuY2UudG91Y2hBcHBsaWVkPSExLGMoZS50YXJnZXQsbSkmJmcuY2FsbChlLnRhcmdldCxlKX0pLHQuaW5zdGFuY2UubW9tZW50dW1TY3JvbGxpbmd8fCh0Lmluc3RhbmNlLm1vbWVudHVtU2Nyb2xsaW5nPXt9KSxuLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5pbnN0YW5jZS53dFRhYmxlLmhvbGRlciwic2Nyb2xsIixmdW5jdGlvbihlKXtjbGVhclRpbWVvdXQodC5pbnN0YW5jZS5tb21lbnR1bVNjcm9sbGluZy5fdGltZW91dCksdC5pbnN0YW5jZS5tb21lbnR1bVNjcm9sbGluZy5vbmdvaW5nfHx0Lmluc3RhbmNlLmdldFNldHRpbmcoIm9uQmVmb3JlVG91Y2hTY3JvbGwiKSx0Lmluc3RhbmNlLm1vbWVudHVtU2Nyb2xsaW5nLm9uZ29pbmc9ITAsdC5pbnN0YW5jZS5tb21lbnR1bVNjcm9sbGluZy5fdGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5pbnN0YW5jZS50b3VjaEFwcGxpZWR8fCh0Lmluc3RhbmNlLm1vbWVudHVtU2Nyb2xsaW5nLm9uZ29pbmc9ITEsdC5pbnN0YW5jZS5nZXRTZXR0aW5nKCJvbkFmdGVyTW9tZW50dW1TY3JvbGwiKSl9LDIwMCl9KX1uLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCJyZXNpemUiLGZ1bmN0aW9uKCl7Im5vbmUiIT09dC5pbnN0YW5jZS5nZXRTZXR0aW5nKCJzdHJldGNoSCIpJiZ0Lmluc3RhbmNlLmRyYXcoKX0pLHRoaXMuZGVzdHJveT1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmRibENsaWNrVGltZW91dFswXSksY2xlYXJUaW1lb3V0KHRoaXMuZGJsQ2xpY2tUaW1lb3V0WzFdKSxuLmRlc3Ryb3koKX19T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVFdmVudDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHMsbD0ocj1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSxhPWwuY2xvc2VzdCx1PWwuaGFzQ2xhc3MsYz1sLmlzQ2hpbGRPZixoPShpPWUoImhlbHBlcnMvYnJvd3NlciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuaXNNb2JpbGVCcm93c2VyLGQ9KHM9ZSgiZXZlbnRNYW5hZ2VyIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5ldmVudE1hbmFnZXI7by5wcm90b3R5cGUucGFyZW50Q2VsbD1mdW5jdGlvbihlKXt2YXIgdD17fSxuPXRoaXMuaW5zdGFuY2Uud3RUYWJsZS5UQUJMRSxvPWEoZSxbIlREIiwiVEgiXSxuKSxyPWEobyxbIlRBQkxFIl0pO3JldHVybiBvJiZjKG8sbikmJnI9PW4/KHQuY29vcmRzPXRoaXMuaW5zdGFuY2Uud3RUYWJsZS5nZXRDb29yZHMobyksdC5URD1vKTp1KGUsInd0Qm9yZGVyIikmJnUoZSwiY3VycmVudCIpPyh0LmNvb3Jkcz10aGlzLmluc3RhbmNlLnNlbGVjdGlvbnMuY3VycmVudC5jZWxsUmFuZ2UuaGlnaGxpZ2h0LHQuVEQ9dGhpcy5pbnN0YW5jZS53dFRhYmxlLmdldENlbGwodC5jb29yZHMpKTp1KGUsInd0Qm9yZGVyIikmJnUoZSwiYXJlYSIpJiZ0aGlzLmluc3RhbmNlLnNlbGVjdGlvbnMuYXJlYS5jZWxsUmFuZ2UmJih0LmNvb3Jkcz10aGlzLmluc3RhbmNlLnNlbGVjdGlvbnMuYXJlYS5jZWxsUmFuZ2UudG8sdC5URD10aGlzLmluc3RhbmNlLnd0VGFibGUuZ2V0Q2VsbCh0LmNvb3JkcykpLHR9LHdpbmRvdy5XYWxrb250YWJsZUV2ZW50PW99LHtldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvYnJvd3NlciI6NDMsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2fV0sOTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZUNvbHVtbkZpbHRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbz1mdW5jdGlvbihlLHQsbil7dGhpcy5vZmZzZXQ9ZSx0aGlzLnRvdGFsPXQsdGhpcy5jb3VudFRIPW59OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhvLHtvZmZzZXR0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUrdGhpcy5vZmZzZXR9LHVuT2Zmc2V0dGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLXRoaXMub2Zmc2V0fSxyZW5kZXJlZFRvU291cmNlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm9mZnNldHRlZChlKX0sc291cmNlVG9SZW5kZXJlZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy51bk9mZnNldHRlZChlKX0sb2Zmc2V0dGVkVEg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUtdGhpcy5jb3VudFRIfSx1bk9mZnNldHRlZFRIOmZ1bmN0aW9uKGUpe3JldHVybiBlK3RoaXMuY291bnRUSH0sdmlzaWJsZVJvd0hlYWRlZENvbHVtblRvU291cmNlQ29sdW1uOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlbmRlcmVkVG9Tb3VyY2UodGhpcy5vZmZzZXR0ZWRUSChlKSl9LHNvdXJjZUNvbHVtblRvVmlzaWJsZVJvd0hlYWRlZENvbHVtbjpmdW5jdGlvbihlKXsKcmV0dXJuIHRoaXMudW5PZmZzZXR0ZWRUSCh0aGlzLnNvdXJjZVRvUmVuZGVyZWQoZSkpfX0se30pLHdpbmRvdy5XYWxrb250YWJsZUNvbHVtbkZpbHRlcj1vfSx7fV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVSb3dGaWx0ZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG89ZnVuY3Rpb24oZSx0LG4pe3RoaXMub2Zmc2V0PWUsdGhpcy50b3RhbD10LHRoaXMuY291bnRUSD1ufTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3Mobyx7b2Zmc2V0dGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlK3RoaXMub2Zmc2V0fSx1bk9mZnNldHRlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS10aGlzLm9mZnNldH0scmVuZGVyZWRUb1NvdXJjZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vZmZzZXR0ZWQoZSl9LHNvdXJjZVRvUmVuZGVyZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudW5PZmZzZXR0ZWQoZSl9LG9mZnNldHRlZFRIOmZ1bmN0aW9uKGUpe3JldHVybiBlLXRoaXMuY291bnRUSH0sdW5PZmZzZXR0ZWRUSDpmdW5jdGlvbihlKXtyZXR1cm4gZSt0aGlzLmNvdW50VEh9LHZpc2libGVDb2xIZWFkZWRSb3dUb1NvdXJjZVJvdzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZW5kZXJlZFRvU291cmNlKHRoaXMub2Zmc2V0dGVkVEgoZSkpfSxzb3VyY2VSb3dUb1Zpc2libGVDb2xIZWFkZWRSb3c6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudW5PZmZzZXR0ZWRUSCh0aGlzLnNvdXJjZVRvUmVuZGVyZWQoZSkpfX0se30pLHdpbmRvdy5XYWxrb250YWJsZVJvd0ZpbHRlcj1vfSx7fV0sMTE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVPdmVybGF5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZH19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzPShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLGw9cy5nZXRTY3JvbGxhYmxlRWxlbWVudCxhPXMuZ2V0VHJpbW1pbmdDb250YWluZXIsdT0ocj1lKCJoZWxwZXJzL29iamVjdCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuZGVmaW5lR2V0dGVyLGM9KGk9ZSgiZXZlbnRNYW5hZ2VyIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5ldmVudE1hbmFnZXIsaD17fSxkPWZ1bmN0aW9uKGUpe3UodGhpcywid290IixlLHt3cml0YWJsZTohMX0pLHRoaXMuaW5zdGFuY2U9dGhpcy53b3QsdGhpcy50eXBlPSIiLHRoaXMubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQ9bnVsbCx0aGlzLlRBQkxFPXRoaXMud290Lnd0VGFibGUuVEFCTEUsdGhpcy5oaWRlcj10aGlzLndvdC53dFRhYmxlLmhpZGVyLHRoaXMuc3ByZWFkZXI9dGhpcy53b3Qud3RUYWJsZS5zcHJlYWRlcix0aGlzLmhvbGRlcj10aGlzLndvdC53dFRhYmxlLmhvbGRlcix0aGlzLnd0Um9vdEVsZW1lbnQ9dGhpcy53b3Qud3RUYWJsZS53dFJvb3RFbGVtZW50LHRoaXMudHJpbW1pbmdDb250YWluZXI9YSh0aGlzLmhpZGVyLnBhcmVudE5vZGUucGFyZW50Tm9kZSksdGhpcy5uZWVkRnVsbFJlbmRlcj10aGlzLnNob3VsZEJlUmVuZGVyZWQoKSx0aGlzLmFyZUVsZW1lbnRTaXplc0FkanVzdGVkPSExfSxmPWQ7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGQse3Nob3VsZEJlUmVuZGVyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdXBkYXRlVHJpbW1pbmdDb250YWluZXI6ZnVuY3Rpb24oKXt0aGlzLnRyaW1taW5nQ29udGFpbmVyPWEodGhpcy5oaWRlci5wYXJlbnROb2RlLnBhcmVudE5vZGUpfSx1cGRhdGVNYWluU2Nyb2xsYWJsZUVsZW1lbnQ6ZnVuY3Rpb24oKXt0aGlzLm1haW5UYWJsZVNjcm9sbGFibGVFbGVtZW50PWwodGhpcy53b3Qud3RUYWJsZS5UQUJMRSl9LG1ha2VDbG9uZTpmdW5jdGlvbihlKXtpZigtMT09PWYuQ0xPTkVfVFlQRVMuaW5kZXhPZihlKSl0aHJvdyBuZXcgRXJyb3IoJ0Nsb25lIHR5cGUgIicrZSsnIiBpcyBub3Qgc3VwcG9ydGVkLicpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEFCTEUiKTt0LmNsYXNzTmFtZT0iaHRfY2xvbmVfIitlKyIgaGFuZHNvbnRhYmxlIix0LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdC5zdHlsZS50b3A9MCx0LnN0eWxlLmxlZnQ9MCx0LnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLG4uY2xhc3NOYW1lPXRoaXMud290Lnd0VGFibGUuVEFCTEUuY2xhc3NOYW1lLHQuYXBwZW5kQ2hpbGQobiksdGhpcy50eXBlPWUsdGhpcy53b3Qud3RUYWJsZS53dFJvb3RFbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodCk7dmFyIG89dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93Iik7cmV0dXJuIG89PT0hMHx8Imhvcml6b250YWwiPT09byYmdGhpcy50eXBlPT09Zi5DTE9ORV9UT1B8fCJ2ZXJ0aWNhbCI9PT1vJiZ0aGlzLnR5cGU9PT1mLkNMT05FX0xFRlQ/dGhpcy5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudD13aW5kb3c6dGhpcy5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudD1sKHRoaXMud290Lnd0VGFibGUuVEFCTEUpLG5ldyBXYWxrb250YWJsZSh7Y2xvbmVTb3VyY2U6dGhpcy53b3QsY2xvbmVPdmVybGF5OnRoaXMsdGFibGU6bn0pfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTohMSx0PXRoaXMuc2hvdWxkQmVSZW5kZXJlZCgpO3RoaXMuY2xvbmUmJih0aGlzLm5lZWRGdWxsUmVuZGVyfHx0KSYmdGhpcy5jbG9uZS5kcmF3KGUpLHRoaXMubmVlZEZ1bGxSZW5kZXI9dH0sZGVzdHJveTpmdW5jdGlvbigpe2ModGhpcy5jbG9uZSkuZGVzdHJveSgpfX0se2dldCBDTE9ORV9UT1AoKXtyZXR1cm4idG9wIn0sZ2V0IENMT05FX0JPVFRPTSgpe3JldHVybiJib3R0b20ifSxnZXQgQ0xPTkVfTEVGVCgpe3JldHVybiJsZWZ0In0sZ2V0IENMT05FX1RPUF9MRUZUX0NPUk5FUigpe3JldHVybiJ0b3BfbGVmdF9jb3JuZXIifSxnZXQgQ0xPTkVfQk9UVE9NX0xFRlRfQ09STkVSKCl7cmV0dXJuImJvdHRvbV9sZWZ0X2Nvcm5lciJ9LGdldCBDTE9ORV9ERUJVRygpe3JldHVybiJkZWJ1ZyJ9LGdldCBDTE9ORV9UWVBFUygpe3JldHVybltmLkNMT05FX1RPUCxmLkNMT05FX0JPVFRPTSxmLkNMT05FX0xFRlQsZi5DTE9ORV9UT1BfTEVGVF9DT1JORVIsZi5DTE9ORV9CT1RUT01fTEVGVF9DT1JORVIsZi5DTE9ORV9ERUJVR119LHJlZ2lzdGVyT3ZlcmxheTpmdW5jdGlvbihlLHQpe2lmKC0xPT09Zi5DTE9ORV9UWVBFUy5pbmRleE9mKGUpKXRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgb3ZlcmxheSAoIitlKyIpLiIpO2hbZV09dH0sY3JlYXRlT3ZlcmxheTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaFtlXSh0KX0saXNPdmVybGF5VHlwZU9mOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJmhbdF0/ZSBpbnN0YW5jZW9mIGhbdF06ITF9fSksd2luZG93LldhbGtvbnRhYmxlT3ZlcmxheT1kfSx7ZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9vYmplY3QiOjUyfV0sMTI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVEZWJ1Z092ZXJsYXk6e2dldDpmdW5jdGlvbigpe3JldHVybiBsfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpPShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLmFkZENsYXNzLHM9KHI9ZSgiX2Jhc2UiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLldhbGtvbnRhYmxlT3ZlcmxheSxsPWZ1bmN0aW9uKGUpeyR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKGEpLmNhbGwodGhpcyxlKSx0aGlzLmNsb25lPXRoaXMubWFrZUNsb25lKHMuQ0xPTkVfREVCVUcpLHRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIuc3R5bGUub3BhY2l0eT0uNCx0aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnN0eWxlLnRleHRTaGFkb3c9IjAgMCAycHggI2ZmMDAwMCIsaSh0aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUsInd0RGVidWdWaXNpYmxlIil9LGE9bDskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MobCx7fSx7fSxzKSx3aW5kb3cuV2Fsa29udGFibGVEZWJ1Z092ZXJsYXk9bCxzLnJlZ2lzdGVyT3ZlcmxheShzLkNMT05FX0RFQlVHLGwpfSx7X2Jhc2U6MTEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2fV0sMTM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVMZWZ0T3ZlcmxheTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHd9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGk9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkscz1pLmFkZENsYXNzLGw9aS5nZXRTY3JvbGxiYXJXaWR0aCxhPWkuZ2V0U2Nyb2xsTGVmdCx1PWkuZ2V0V2luZG93U2Nyb2xsVG9wLGM9aS5oYXNDbGFzcyxoPWkub3V0ZXJXaWR0aCxkPWkuaW5uZXJIZWlnaHQsZj1pLnJlbW92ZUNsYXNzLHA9aS5zZXRPdmVybGF5UG9zaXRpb24sZz1pLnJlc2V0Q3NzVHJhbnNmb3JtLG09KHI9ZSgiX2Jhc2UiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLldhbGtvbnRhYmxlT3ZlcmxheSx3PWZ1bmN0aW9uKGUpeyR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKHYpLmNhbGwodGhpcyxlKSx0aGlzLmNsb25lPXRoaXMubWFrZUNsb25lKG0uQ0xPTkVfTEVGVCl9LHY9dzskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3Modyx7c2hvdWxkQmVSZW5kZXJlZDpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMud290LmdldFNldHRpbmcoImZpeGVkQ29sdW1uc0xlZnQiKSYmIXRoaXMud290LmdldFNldHRpbmcoInJvd0hlYWRlcnMiKS5sZW5ndGgpfSxyZXNldEZpeGVkUG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzLm5lZWRGdWxsUmVuZGVyJiZ0aGlzLndvdC53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKXt2YXIgZT10aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUsdD0wLG49dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93Iik7aWYodGhpcy50cmltbWluZ0NvbnRhaW5lciE9PXdpbmRvd3x8biYmImhvcml6b250YWwiPT09bil0PXRoaXMuZ2V0U2Nyb2xsUG9zaXRpb24oKSxnKGUpO2Vsc2V7dmFyIG8scixpPXRoaXMud290Lnd0VGFibGUuaGlkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscz1NYXRoLmNlaWwoaS5sZWZ0KSxsPU1hdGguY2VpbChpLnJpZ2h0KTtyPXRoaXMud290Lnd0VGFibGUuaGlkZXIuc3R5bGUudG9wLHI9IiI9PT1yPzA6cixvPTA+cyYmbC1lLm9mZnNldFdpZHRoPjA/LXM6MCx0PW8sbys9InB4IixwKGUsbyxyKX10aGlzLmFkanVzdEhlYWRlckJvcmRlcnNQb3NpdGlvbih0KSx0aGlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpfX0sc2V0U2Nyb2xsUG9zaXRpb246ZnVuY3Rpb24oZSl7dGhpcy5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudD09PXdpbmRvdz93aW5kb3cuc2Nyb2xsVG8oZSx1KCkpOnRoaXMubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQuc2Nyb2xsTGVmdD1lfSxvblNjcm9sbDpmdW5jdGlvbigpe3RoaXMud290LmdldFNldHRpbmcoIm9uU2Nyb2xsVmVydGljYWxseSIpfSxzdW1DZWxsU2l6ZXM6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxvPXRoaXMud290Lnd0U2V0dGluZ3MuZGVmYXVsdENvbHVtbldpZHRoO3Q+ZTspbis9dGhpcy53b3Qud3RUYWJsZS5nZXRTdHJldGNoZWRDb2x1bW5XaWR0aChlKXx8byxlKys7cmV0dXJuIG59LGFkanVzdEVsZW1lbnRzU2l6ZTpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ITE7dGhpcy51cGRhdGVUcmltbWluZ0NvbnRhaW5lcigpLCh0aGlzLm5lZWRGdWxsUmVuZGVyfHxlKSYmKHRoaXMuYWRqdXN0Um9vdEVsZW1lbnRTaXplKCksdGhpcy5hZGp1c3RSb290Q2hpbGRyZW5TaXplKCksZXx8KHRoaXMuYXJlRWxlbWVudFNpemVzQWRqdXN0ZWQ9ITApKX0sYWRqdXN0Um9vdEVsZW1lbnRTaXplOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLndvdC53dFRhYmxlLmhvbGRlcixuPXQuY2xpZW50SGVpZ2h0PT09dC5vZmZzZXRIZWlnaHQ/MDpsKCksbz10aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUscj1vLnN0eWxlLGk9dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93Iik7aWYodGhpcy50cmltbWluZ0NvbnRhaW5lciE9PXdpbmRvd3x8InZlcnRpY2FsIj09PWkpe3ZhciBzPXRoaXMud290Lnd0Vmlld3BvcnQuZ2V0V29ya3NwYWNlSGVpZ2h0KCktbjtzPU1hdGgubWluKHMsZCh0aGlzLndvdC53dFRhYmxlLnd0Um9vdEVsZW1lbnQpKSxyLmhlaWdodD1zKyJweCJ9ZWxzZSByLmhlaWdodD0iIjt0aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnN0eWxlLmhlaWdodD1yLmhlaWdodCxlPWgodGhpcy5jbG9uZS53dFRhYmxlLlRBQkxFKSxyLndpZHRoPSgwPT09ZT9lOmUrNCkrInB4In0sYWRqdXN0Um9vdENoaWxkcmVuU2l6ZTpmdW5jdGlvbigpe3ZhciBlPWwoKTt0aGlzLmNsb25lLnd0VGFibGUuaGlkZXIuc3R5bGUuaGVpZ2h0PXRoaXMuaGlkZXIuc3R5bGUuaGVpZ2h0LHRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIuc3R5bGUuaGVpZ2h0PXRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZS5zdHlsZS5oZWlnaHQsMD09PWUmJihlPTMwKSx0aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnN0eWxlLndpZHRoPXBhcnNlSW50KHRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZS5zdHlsZS53aWR0aCwxMCkrZSsicHgifSxhcHBseVRvRE9NOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy53b3QuZ2V0U2V0dGluZygidG90YWxDb2x1bW5zIik7aWYodGhpcy5hcmVFbGVtZW50U2l6ZXNBZGp1c3RlZHx8dGhpcy5hZGp1c3RFbGVtZW50c1NpemUoKSwibnVtYmVyIj09dHlwZW9mIHRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRQb3NpdGlvbil0aGlzLnNwcmVhZGVyLnN0eWxlLmxlZnQ9dGhpcy53b3Qud3RWaWV3cG9ydC5jb2x1bW5zUmVuZGVyQ2FsY3VsYXRvci5zdGFydFBvc2l0aW9uKyJweCI7ZWxzZXtpZigwIT09ZSl0aHJvdyBuZXcgRXJyb3IoIkluY29ycmVjdCB2YWx1ZSBvZiB0aGUgY29sdW1uc1JlbmRlckNhbGN1bGF0b3IiKTt0aGlzLnNwcmVhZGVyLnN0eWxlLmxlZnQ9IjAifXRoaXMuc3ByZWFkZXIuc3R5bGUucmlnaHQ9IiIsdGhpcy5uZWVkRnVsbFJlbmRlciYmdGhpcy5zeW5jT3ZlcmxheU9mZnNldCgpfSxzeW5jT3ZlcmxheU9mZnNldDpmdW5jdGlvbigpeyJudW1iZXIiPT10eXBlb2YgdGhpcy53b3Qud3RWaWV3cG9ydC5yb3dzUmVuZGVyQ2FsY3VsYXRvci5zdGFydFBvc2l0aW9uP3RoaXMuY2xvbmUud3RUYWJsZS5zcHJlYWRlci5zdHlsZS50b3A9dGhpcy53b3Qud3RWaWV3cG9ydC5yb3dzUmVuZGVyQ2FsY3VsYXRvci5zdGFydFBvc2l0aW9uKyJweCI6dGhpcy5jbG9uZS53dFRhYmxlLnNwcmVhZGVyLnN0eWxlLnRvcD0iIn0sc2Nyb2xsVG86ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmdldFRhYmxlUGFyZW50T2Zmc2V0KCksbz10aGlzLndvdC5jbG9uZVNvdXJjZT90aGlzLndvdC5jbG9uZVNvdXJjZTp0aGlzLndvdCxyPW8ud3RUYWJsZS5ob2xkZXIsaT0wO3QmJnIub2Zmc2V0V2lkdGghPT1yLmNsaWVudFdpZHRoJiYoaT1sKCkpLHQ/KG4rPXRoaXMuc3VtQ2VsbFNpemVzKDAsZSsxKSxuLT10aGlzLndvdC53dFZpZXdwb3J0LmdldFZpZXdwb3J0V2lkdGgoKSk6bis9dGhpcy5zdW1DZWxsU2l6ZXModGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRDb2x1bW5zTGVmdCIpLGUpLG4rPWksdGhpcy5zZXRTY3JvbGxQb3NpdGlvbihuKX0sZ2V0VGFibGVQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndvdC5nZXRTZXR0aW5nKCJwcmV2ZW50T3ZlcmZsb3ciKSx0PTA7cmV0dXJuIGV8fHRoaXMudHJpbW1pbmdDb250YWluZXIhPT13aW5kb3d8fCh0PXRoaXMud290Lnd0VGFibGUuaG9sZGVyT2Zmc2V0LmxlZnQpLHR9LGdldFNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcy5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudCl9LGFkanVzdEhlYWRlckJvcmRlcnNQb3NpdGlvbjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLndvdC53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlLG49dGhpcy53b3QuZ2V0U2V0dGluZygicm93SGVhZGVycyIpLG89dGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRDb2x1bW5zTGVmdCIpO2lmKG8mJiFuLmxlbmd0aClzKHQsImlubmVyQm9yZGVyTGVmdCIpO2Vsc2UgaWYoIW8mJm4ubGVuZ3RoKXt2YXIgcj1jKHQsImlubmVyQm9yZGVyTGVmdCIpO2U/cyh0LCJpbm5lckJvcmRlckxlZnQiKTpmKHQsImlubmVyQm9yZGVyTGVmdCIpLCghciYmZXx8ciYmIWUpJiZ0aGlzLndvdC53dE92ZXJsYXlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpfX19LHt9LG0pLHdpbmRvdy5XYWxrb250YWJsZUxlZnRPdmVybGF5PXcsbS5yZWdpc3Rlck92ZXJsYXkobS5DTE9ORV9MRUZULHcpfSx7X2Jhc2U6MTEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2fV0sMTQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVUb3BPdmVybGF5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gd319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaT0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KSxzPWkuYWRkQ2xhc3MsbD1pLmdldFNjcm9sbGJhcldpZHRoLGE9aS5nZXRTY3JvbGxUb3AsdT1pLmdldFdpbmRvd1Njcm9sbExlZnQsYz1pLmhhc0NsYXNzLGg9aS5vdXRlckhlaWdodCxkPWkuaW5uZXJXaWR0aCxmPWkucmVtb3ZlQ2xhc3MscD1pLnNldE92ZXJsYXlQb3NpdGlvbixnPWkucmVzZXRDc3NUcmFuc2Zvcm0sbT0ocj1lKCJfYmFzZSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuV2Fsa29udGFibGVPdmVybGF5LHc9ZnVuY3Rpb24oZSl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IodikuY2FsbCh0aGlzLGUpLHRoaXMuY2xvbmU9dGhpcy5tYWtlQ2xvbmUobS5DTE9ORV9UT1ApfSx2PXc7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKHcse3Nob3VsZEJlUmVuZGVyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NUb3AiKSYmIXRoaXMud290LmdldFNldHRpbmcoImNvbHVtbkhlYWRlcnMiKS5sZW5ndGgpfSxyZXNldEZpeGVkUG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzLm5lZWRGdWxsUmVuZGVyJiZ0aGlzLndvdC53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKXt2YXIgZT10aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUsdD0wLG49dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93Iik7aWYodGhpcy50cmltbWluZ0NvbnRhaW5lciE9PXdpbmRvd3x8biYmInZlcnRpY2FsIj09PW4pdD10aGlzLmdldFNjcm9sbFBvc2l0aW9uKCksZyhlKTtlbHNle3ZhciBvLHIsaT10aGlzLndvdC53dFRhYmxlLmhpZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHM9TWF0aC5jZWlsKGkudG9wKSxsPU1hdGguY2VpbChpLmJvdHRvbSk7bz10aGlzLndvdC53dFRhYmxlLmhpZGVyLnN0eWxlLmxlZnQsbz0iIj09PW8/MDpvLHI9MD5zJiZsLWUub2Zmc2V0SGVpZ2h0PjA/LXM6MCx0PXIscis9InB4IixwKGUsbyxyKX10aGlzLmFkanVzdEhlYWRlckJvcmRlcnNQb3NpdGlvbih0KSx0aGlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpfX0sc2V0U2Nyb2xsUG9zaXRpb246ZnVuY3Rpb24oZSl7dGhpcy5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudD09PXdpbmRvdz93aW5kb3cuc2Nyb2xsVG8odSgpLGUpOnRoaXMubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQuc2Nyb2xsVG9wPWV9LG9uU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy53b3QuZ2V0U2V0dGluZygib25TY3JvbGxIb3Jpem9udGFsbHkiKX0sc3VtQ2VsbFNpemVzOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAsbz10aGlzLndvdC53dFNldHRpbmdzLnNldHRpbmdzLmRlZmF1bHRSb3dIZWlnaHQ7dD5lOyl7dmFyIHI9dGhpcy53b3Qud3RUYWJsZS5nZXRSb3dIZWlnaHQoZSk7bis9dm9pZCAwPT09cj9vOnIsZSsrfXJldHVybiBufSxhZGp1c3RFbGVtZW50c1NpemU6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiExO3RoaXMudXBkYXRlVHJpbW1pbmdDb250YWluZXIoKSwodGhpcy5uZWVkRnVsbFJlbmRlcnx8ZSkmJih0aGlzLmFkanVzdFJvb3RFbGVtZW50U2l6ZSgpLHRoaXMuYWRqdXN0Um9vdENoaWxkcmVuU2l6ZSgpLGV8fCh0aGlzLmFyZUVsZW1lbnRTaXplc0FkanVzdGVkPSEwKSl9LGFkanVzdFJvb3RFbGVtZW50U2l6ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy53b3Qud3RUYWJsZS5ob2xkZXIsbj10LmNsaWVudFdpZHRoPT09dC5vZmZzZXRXaWR0aD8wOmwoKSxvPXRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSxyPW8uc3R5bGUsaT10aGlzLndvdC5nZXRTZXR0aW5nKCJwcmV2ZW50T3ZlcmZsb3ciKTtpZih0aGlzLnRyaW1taW5nQ29udGFpbmVyIT09d2luZG93fHwiaG9yaXpvbnRhbCI9PT1pKXt2YXIgcz10aGlzLndvdC53dFZpZXdwb3J0LmdldFdvcmtzcGFjZVdpZHRoKCktbjtzPU1hdGgubWluKHMsZCh0aGlzLndvdC53dFRhYmxlLnd0Um9vdEVsZW1lbnQpKSxyLndpZHRoPXMrInB4In1lbHNlIHIud2lkdGg9IiI7dGhpcy5jbG9uZS53dFRhYmxlLmhvbGRlci5zdHlsZS53aWR0aD1yLndpZHRoLGU9aCh0aGlzLmNsb25lLnd0VGFibGUuVEFCTEUpLHIuaGVpZ2h0PSgwPT09ZT9lOmUrNCkrInB4In0sYWRqdXN0Um9vdENoaWxkcmVuU2l6ZTpmdW5jdGlvbigpe3ZhciBlPWwoKTt0aGlzLmNsb25lLnd0VGFibGUuaGlkZXIuc3R5bGUud2lkdGg9dGhpcy5oaWRlci5zdHlsZS53aWR0aCx0aGlzLmNsb25lLnd0VGFibGUuaG9sZGVyLnN0eWxlLndpZHRoPXRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZS5zdHlsZS53aWR0aCwwPT09ZSYmKGU9MzApLHRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIuc3R5bGUuaGVpZ2h0PXBhcnNlSW50KHRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZS5zdHlsZS5oZWlnaHQsMTApK2UrInB4In0sYXBwbHlUb0RPTTpmdW5jdGlvbigpe3ZhciBlPXRoaXMud290LmdldFNldHRpbmcoInRvdGFsUm93cyIpO2lmKHRoaXMuYXJlRWxlbWVudFNpemVzQWRqdXN0ZWR8fHRoaXMuYWRqdXN0RWxlbWVudHNTaXplKCksIm51bWJlciI9PXR5cGVvZiB0aGlzLndvdC53dFZpZXdwb3J0LnJvd3NSZW5kZXJDYWxjdWxhdG9yLnN0YXJ0UG9zaXRpb24pdGhpcy5zcHJlYWRlci5zdHlsZS50b3A9dGhpcy53b3Qud3RWaWV3cG9ydC5yb3dzUmVuZGVyQ2FsY3VsYXRvci5zdGFydFBvc2l0aW9uKyJweCI7ZWxzZXtpZigwIT09ZSl0aHJvdyBuZXcgRXJyb3IoIkluY29ycmVjdCB2YWx1ZSBvZiB0aGUgcm93c1JlbmRlckNhbGN1bGF0b3IiKTt0aGlzLnNwcmVhZGVyLnN0eWxlLnRvcD0iMCJ9dGhpcy5zcHJlYWRlci5zdHlsZS5ib3R0b209IiIsdGhpcy5uZWVkRnVsbFJlbmRlciYmdGhpcy5zeW5jT3ZlcmxheU9mZnNldCgpfSxzeW5jT3ZlcmxheU9mZnNldDpmdW5jdGlvbigpeyJudW1iZXIiPT10eXBlb2YgdGhpcy53b3Qud3RWaWV3cG9ydC5jb2x1bW5zUmVuZGVyQ2FsY3VsYXRvci5zdGFydFBvc2l0aW9uP3RoaXMuY2xvbmUud3RUYWJsZS5zcHJlYWRlci5zdHlsZS5sZWZ0PXRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRQb3NpdGlvbisicHgiOnRoaXMuY2xvbmUud3RUYWJsZS5zcHJlYWRlci5zdHlsZS5sZWZ0PSIifSxzY3JvbGxUbzpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0VGFibGVQYXJlbnRPZmZzZXQoKSxvPXRoaXMud290LmNsb25lU291cmNlP3RoaXMud290LmNsb25lU291cmNlOnRoaXMud290LHI9by53dFRhYmxlLmhvbGRlcixpPTA7aWYodCYmci5vZmZzZXRIZWlnaHQhPT1yLmNsaWVudEhlaWdodCYmKGk9bCgpKSx0KXt2YXIgcz10aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NCb3R0b20iKSxhPSh0aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NUb3AiKSx0aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKSk7bis9dGhpcy5zdW1DZWxsU2l6ZXMoMCxlKzEpLG4tPXRoaXMud290Lnd0Vmlld3BvcnQuZ2V0Vmlld3BvcnRIZWlnaHQoKS10aGlzLnN1bUNlbGxTaXplcyhhLXMsYSksbis9MX1lbHNlIG4rPXRoaXMuc3VtQ2VsbFNpemVzKHRoaXMud290LmdldFNldHRpbmcoImZpeGVkUm93c1RvcCIpLGUpO24rPWksdGhpcy5zZXRTY3JvbGxQb3NpdGlvbihuKX0sZ2V0VGFibGVQYXJlbnRPZmZzZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudD09PXdpbmRvdz90aGlzLndvdC53dFRhYmxlLmhvbGRlck9mZnNldC50b3A6MH0sZ2V0U2Nyb2xsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLm1haW5UYWJsZVNjcm9sbGFibGVFbGVtZW50KX0sYWRqdXN0SGVhZGVyQm9yZGVyc1Bvc2l0aW9uOmZ1bmN0aW9uKGUpe2lmKDA9PT10aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NUb3AiKSYmdGhpcy53b3QuZ2V0U2V0dGluZygiY29sdW1uSGVhZGVycyIpLmxlbmd0aD4wKXt2YXIgdD10aGlzLndvdC53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlLG49Yyh0LCJpbm5lckJvcmRlclRvcCIpO2V8fDA9PT10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKT9zKHQsImlubmVyQm9yZGVyVG9wIik6Zih0LCJpbm5lckJvcmRlclRvcCIpLCghbiYmZXx8biYmIWUpJiZ0aGlzLndvdC53dE92ZXJsYXlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpfWlmKDA9PT10aGlzLndvdC5nZXRTZXR0aW5nKCJyb3dIZWFkZXJzIikubGVuZ3RoKXt2YXIgbz10aGlzLmNsb25lLnd0VGFibGUuVEhFQUQucXVlcnlTZWxlY3RvckFsbCgidGg6bnRoLW9mLXR5cGUoMikiKTtpZihvKWZvcih2YXIgcj0wO3I8by5sZW5ndGg7cisrKW9bcl0uc3R5bGVbImJvcmRlci1sZWZ0LXdpZHRoIl09MH19fSx7fSxtKSx3aW5kb3cuV2Fsa29udGFibGVUb3BPdmVybGF5PXcsbS5yZWdpc3Rlck92ZXJsYXkobS5DTE9ORV9UT1Asdyl9LHtfYmFzZToxMSwiaGVscGVycy9kb20vZWxlbWVudCI6NDZ9XSwxNTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZVRvcExlZnRDb3JuZXJPdmVybGF5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaH19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaT0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KSxzPWkub3V0ZXJIZWlnaHQsbD1pLm91dGVyV2lkdGgsYT1pLnNldE92ZXJsYXlQb3NpdGlvbix1PWkucmVzZXRDc3NUcmFuc2Zvcm0sYz0ocj1lKCJfYmFzZSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuV2Fsa29udGFibGVPdmVybGF5LGg9ZnVuY3Rpb24oZSl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoZCkuY2FsbCh0aGlzLGUpLHRoaXMuY2xvbmU9dGhpcy5tYWtlQ2xvbmUoYy5DTE9ORV9UT1BfTEVGVF9DT1JORVIpfSxkPWg7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGgse3Nob3VsZEJlUmVuZGVyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NUb3AiKSYmIXRoaXMud290LmdldFNldHRpbmcoImNvbHVtbkhlYWRlcnMiKS5sZW5ndGh8fCF0aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZENvbHVtbnNMZWZ0IikmJiF0aGlzLndvdC5nZXRTZXR0aW5nKCJyb3dIZWFkZXJzIikubGVuZ3RoKX0scmVzZXRGaXhlZFBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpcy51cGRhdGVUcmltbWluZ0NvbnRhaW5lcigpLHRoaXMud290Lnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpe3ZhciBlPXRoaXMuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSx0PXModGhpcy5jbG9uZS53dFRhYmxlLlRBQkxFKSxuPWwodGhpcy5jbG9uZS53dFRhYmxlLlRBQkxFKSxvPXRoaXMud290LmdldFNldHRpbmcoInByZXZlbnRPdmVyZmxvdyIpO2lmKHRoaXMudHJpbW1pbmdDb250YWluZXI9PT13aW5kb3cpe3ZhciByPXRoaXMud290Lnd0VGFibGUuaGlkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1NYXRoLmNlaWwoci50b3ApLGM9TWF0aC5jZWlsKHIubGVmdCksaD1NYXRoLmNlaWwoci5ib3R0b20pLGQ9TWF0aC5jZWlsKHIucmlnaHQpLGY9IjAiLHA9IjAiO28mJiJ2ZXJ0aWNhbCIhPT1vfHwwPmMmJmQtZS5vZmZzZXRXaWR0aD4wJiYoZj0tYysicHgiKSxvJiYiaG9yaXpvbnRhbCIhPT1vfHwwPmkmJmgtZS5vZmZzZXRIZWlnaHQ+MCYmKHA9LWkrInB4IiksYShlLGYscCl9ZWxzZSB1KGUpO2Uuc3R5bGUuaGVpZ2h0PSgwPT09dD90OnQrNCkrInB4IixlLnN0eWxlLndpZHRoPSgwPT09bj9uOm4rNCkrInB4In19fSx7fSxjKSx3aW5kb3cuV2Fsa29udGFibGVUb3BMZWZ0Q29ybmVyT3ZlcmxheT1oLGMucmVnaXN0ZXJPdmVybGF5KGMuQ0xPTkVfVE9QX0xFRlRfQ09STkVSLGgpfSx7X2Jhc2U6MTEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2fV0sMTY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVPdmVybGF5czp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHd9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxsLGE9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSksdT1hLmdldFNjcm9sbGFibGVFbGVtZW50LGM9YS5nZXRTY3JvbGxiYXJXaWR0aCxoPWEuZ2V0U2Nyb2xsTGVmdCxkPWEuZ2V0U2Nyb2xsVG9wLGY9KHI9ZSgiaGVscGVycy9hcnJheSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuYXJyYXlFYWNoLHA9KGk9ZSgiaGVscGVycy91bmljb2RlIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5pc0tleSxnPShzPWUoImhlbHBlcnMvYnJvd3NlciIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuaXNNb2JpbGVCcm93c2VyLG09KGw9ZSgiZXZlbnRNYW5hZ2VyIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5FdmVudE1hbmFnZXIsdz1mdW5jdGlvbihlKXt0aGlzLndvdD1lLHRoaXMuaW5zdGFuY2U9dGhpcy53b3QsdGhpcy5ldmVudE1hbmFnZXI9bmV3IG0odGhpcy53b3QpLHRoaXMud290LnVwZGF0ZSgic2Nyb2xsYmFyV2lkdGgiLGMoKSksdGhpcy53b3QudXBkYXRlKCJzY3JvbGxiYXJIZWlnaHQiLGMoKSksdGhpcy5zY3JvbGxhYmxlRWxlbWVudD11KHRoaXMud290Lnd0VGFibGUuVEFCTEUpLHRoaXMudG9wT3ZlcmxheT1XYWxrb250YWJsZU92ZXJsYXkuY3JlYXRlT3ZlcmxheShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfVE9QLHRoaXMud290KSwidW5kZWZpbmVkIj09dHlwZW9mIFdhbGtvbnRhYmxlQm90dG9tT3ZlcmxheT90aGlzLmJvdHRvbU92ZXJsYXk9e25lZWRGdWxsUmVuZGVyOiExfTp0aGlzLmJvdHRvbU92ZXJsYXk9V2Fsa29udGFibGVPdmVybGF5LmNyZWF0ZU92ZXJsYXkoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0JPVFRPTSx0aGlzLndvdCksdGhpcy5sZWZ0T3ZlcmxheT1XYWxrb250YWJsZU92ZXJsYXkuY3JlYXRlT3ZlcmxheShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfTEVGVCx0aGlzLndvdCksdGhpcy50b3BPdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiZ0aGlzLmxlZnRPdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiYodGhpcy50b3BMZWZ0Q29ybmVyT3ZlcmxheT1XYWxrb250YWJsZU92ZXJsYXkuY3JlYXRlT3ZlcmxheShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfVE9QX0xFRlRfQ09STkVSLHRoaXMud290KSksdGhpcy5ib3R0b21PdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiZ0aGlzLmxlZnRPdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiYidW5kZWZpbmVkIiE9dHlwZW9mIFdhbGtvbnRhYmxlQm90dG9tTGVmdENvcm5lck92ZXJsYXk/dGhpcy5ib3R0b21MZWZ0Q29ybmVyT3ZlcmxheT1XYWxrb250YWJsZU92ZXJsYXkuY3JlYXRlT3ZlcmxheShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfQk9UVE9NX0xFRlRfQ09STkVSLHRoaXMud290KTp0aGlzLmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5PXtuZWVkRnVsbFJlbmRlcjohMX0sdGhpcy53b3QuZ2V0U2V0dGluZygiZGVidWciKSYmKHRoaXMuZGVidWc9V2Fsa29udGFibGVPdmVybGF5LmNyZWF0ZU92ZXJsYXkoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0RFQlVHLHRoaXMud290KSksdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5rZXlQcmVzc2VkPSExLHRoaXMuc3ByZWFkZXJMYXN0U2l6ZT17d2lkdGg6bnVsbCxoZWlnaHQ6bnVsbH0sdGhpcy5vdmVybGF5U2Nyb2xsUG9zaXRpb25zPXttYXN0ZXI6e3RvcDowLGxlZnQ6MH0sdG9wOnt0b3A6bnVsbCxsZWZ0OjB9LGJvdHRvbTp7dG9wOm51bGwsbGVmdDowfSxsZWZ0Ont0b3A6MCxsZWZ0Om51bGx9fSx0aGlzLnBlbmRpbmdTY3JvbGxDYWxsYmFja3M9e21hc3Rlcjp7dG9wOjAsbGVmdDowfSx0b3A6e2xlZnQ6MH0sYm90dG9tOntsZWZ0OjB9LGxlZnQ6e3RvcDowfX0sdGhpcy52ZXJ0aWNhbFNjcm9sbGluZz0hMSx0aGlzLmhvcml6b250YWxTY3JvbGxpbmc9ITEsdGhpcy5kZWxlZ2F0ZWRTY3JvbGxDYWxsYmFjaz0hMSx0aGlzLnJlZ2lzdGVyZWRMaXN0ZW5lcnM9W10sdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpfTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3Modyx7cmVmcmVzaEFsbDpmdW5jdGlvbigpe2lmKHRoaXMud290LmRyYXduKXtpZighdGhpcy53b3Qud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSlyZXR1cm4gdm9pZCB0aGlzLmRlc3Ryb3koKTt0aGlzLndvdC5kcmF3KCEwKSx0aGlzLnZlcnRpY2FsU2Nyb2xsaW5nJiZ0aGlzLmxlZnRPdmVybGF5Lm9uU2Nyb2xsKCksdGhpcy5ob3Jpem9udGFsU2Nyb2xsaW5nJiZ0aGlzLnRvcE92ZXJsYXkub25TY3JvbGwoKSx0aGlzLnZlcnRpY2FsU2Nyb2xsaW5nPSExLHRoaXMuaG9yaXpvbnRhbFNjcm9sbGluZz0hMX19LHJlZ2lzdGVyTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMudG9wT3ZlcmxheS5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudCxuPXRoaXMubGVmdE92ZXJsYXkubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQsbz1bXTtmb3Ioby5wdXNoKFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsImtleWRvd24iLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uS2V5RG93bih0KX1dKSxvLnB1c2goW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwia2V5dXAiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25LZXlVcCgpfV0pLG8ucHVzaChbZG9jdW1lbnQsInZpc2liaWxpdHljaGFuZ2UiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25LZXlVcCgpfV0pLG8ucHVzaChbdCwic2Nyb2xsIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vblRhYmxlU2Nyb2xsKHQpfV0pLHQhPT1uJiZvLnB1c2goW24sInNjcm9sbCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25UYWJsZVNjcm9sbCh0KX1dKSx0aGlzLnRvcE92ZXJsYXkubmVlZEZ1bGxSZW5kZXImJihvLnB1c2goW3RoaXMudG9wT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlciwic2Nyb2xsIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vblRhYmxlU2Nyb2xsKHQpfV0pLG8ucHVzaChbdGhpcy50b3BPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLCJ3aGVlbCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25UYWJsZVNjcm9sbCh0KX1dKSksdGhpcy5ib3R0b21PdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiYoby5wdXNoKFt0aGlzLmJvdHRvbU92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIsInNjcm9sbCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25UYWJsZVNjcm9sbCh0KX1dKSxvLnB1c2goW3RoaXMuYm90dG9tT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlciwid2hlZWwiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uVGFibGVTY3JvbGwodCl9XSkpLHRoaXMubGVmdE92ZXJsYXkubmVlZEZ1bGxSZW5kZXImJihvLnB1c2goW3RoaXMubGVmdE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIsInNjcm9sbCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25UYWJsZVNjcm9sbCh0KX1dKSxvLnB1c2goW3RoaXMubGVmdE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIsIndoZWVsIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vblRhYmxlU2Nyb2xsKHQpfV0pKSx0aGlzLnRvcE92ZXJsYXkudHJpbW1pbmdDb250YWluZXIhPT13aW5kb3cmJnRoaXMubGVmdE92ZXJsYXkudHJpbW1pbmdDb250YWluZXIhPT13aW5kb3cmJm8ucHVzaChbd2luZG93LCJ3aGVlbCIsZnVuY3Rpb24odCl7dmFyIG4sbz10LndoZWVsRGVsdGFZfHx0LmRlbHRhWSxyPXQud2hlZWxEZWx0YVh8fHQuZGVsdGFYO2UudG9wT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5jb250YWlucyh0LnJlYWxUYXJnZXQpP249InRvcCI6ZS5ib3R0b21PdmVybGF5LmNsb25lJiZlLmJvdHRvbU92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIuY29udGFpbnModC5yZWFsVGFyZ2V0KT9uPSJib3R0b20iOmUubGVmdE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIuY29udGFpbnModC5yZWFsVGFyZ2V0KSYmKG49ImxlZnQiKSwidG9wIj09biYmMCE9PW8/dC5wcmV2ZW50RGVmYXVsdCgpOiJsZWZ0Ij09biYmMCE9PXI/dC5wcmV2ZW50RGVmYXVsdCgpOiJib3R0b20iPT1uJiYwIT09byYmdC5wcmV2ZW50RGVmYXVsdCgpfV0pO28ubGVuZ3RoOyl7dmFyIHI9by5wb3AoKTt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHJbMF0sclsxXSxyWzJdKSx0aGlzLnJlZ2lzdGVyZWRMaXN0ZW5lcnMucHVzaChyKX19LGRlcmVnaXN0ZXJMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtmb3IoO3RoaXMucmVnaXN0ZXJlZExpc3RlbmVycy5sZW5ndGg7KXt2YXIgZT10aGlzLnJlZ2lzdGVyZWRMaXN0ZW5lcnMucG9wKCk7dGhpcy5ldmVudE1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlWzBdLGVbMV0sZVsyXSl9fSxvblRhYmxlU2Nyb2xsOmZ1bmN0aW9uKGUpe2lmKCFnKCkpe3ZhciB0PXRoaXMubGVmdE92ZXJsYXkubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQsbj10aGlzLnRvcE92ZXJsYXkubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQsbz1lLnRhcmdldDt0aGlzLmtleVByZXNzZWQmJihuIT09d2luZG93JiZvIT09d2luZG93JiYhZS50YXJnZXQuY29udGFpbnMobil8fHQhPT13aW5kb3cmJm8hPT13aW5kb3cmJiFlLnRhcmdldC5jb250YWlucyh0KSl8fCgic2Nyb2xsIj09PWUudHlwZT90aGlzLnN5bmNTY3JvbGxQb3NpdGlvbnMoZSk6dGhpcy50cmFuc2xhdGVNb3VzZVdoZWVsVG9TY3JvbGwoZSkpfX0sb25LZXlEb3duOmZ1bmN0aW9uKGUpe3RoaXMua2V5UHJlc3NlZD1wKGUua2V5Q29kZSwiQVJST1dfVVB8QVJST1dfUklHSFR8QVJST1dfRE9XTnxBUlJPV19MRUZUIil9LG9uS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLmtleVByZXNzZWQ9ITF9LHRyYW5zbGF0ZU1vdXNlV2hlZWxUb1Njcm9sbDpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMudG9wT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlcixvPXRoaXMuYm90dG9tT3ZlcmxheS5jbG9uZT90aGlzLmJvdHRvbU92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXI6bnVsbCxyPXRoaXMubGVmdE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIsaT17dHlwZToid2hlZWwifSxzPWUudGFyZ2V0LGw9ZS53aGVlbERlbHRhWXx8LTEqZS5kZWx0YVksYT1lLndoZWVsRGVsdGFYfHwtMSplLmRlbHRhWDtmb3IoMT09PWUuZGVsdGFNb2RlJiYobD0xMjAqbCxhPTEyMCphKTtzIT1kb2N1bWVudCYmbnVsbCE9czspe2lmKHMuY2xhc3NOYW1lLmluZGV4T2YoInd0SG9sZGVyIik+LTEpe3Q9czticmVha31zPXMucGFyZW50Tm9kZX1yZXR1cm4gaS50YXJnZXQ9dCx0PT1uP3RoaXMuc3luY1Njcm9sbFBvc2l0aW9ucyhpLC0uMipsKTp0PT1vP3RoaXMuc3luY1Njcm9sbFBvc2l0aW9ucyhpLC0uMipsKTp0PT1yJiZ0aGlzLnN5bmNTY3JvbGxQb3NpdGlvbnMoaSwtLjIqYSksITF9LHN5bmNTY3JvbGxQb3NpdGlvbnM6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsO2lmKCF0aGlzLmRlc3Ryb3llZCl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgdGhpcy5zeW5jU2Nyb2xsV2l0aE1hc3RlcigpO3ZhciBuLG8scixpPXRoaXMubGVmdE92ZXJsYXkubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQscz10aGlzLnRvcE92ZXJsYXkubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQsbD1lLnRhcmdldCxhPTAsdT0hMSxjPSExLGY9dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93Iik7dGhpcy50b3BPdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiYobj10aGlzLnRvcE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIpLHRoaXMuYm90dG9tT3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmKHI9dGhpcy5ib3R0b21PdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyKSx0aGlzLmxlZnRPdmVybGF5Lm5lZWRGdWxsUmVuZGVyJiYobz10aGlzLmxlZnRPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyKSxsPT09ZG9jdW1lbnQmJihsPXdpbmRvdyksbD09PWl8fGw9PT1zPyhhPWgoZj90aGlzLnNjcm9sbGFibGVFbGVtZW50OmwpLHRoaXMuaG9yaXpvbnRhbFNjcm9sbGluZz0hMCx0aGlzLm92ZXJsYXlTY3JvbGxQb3NpdGlvbnMubWFzdGVyLmxlZnQ9YSx1PSEwLHRoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy5tYXN0ZXIubGVmdD4wP3RoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy5tYXN0ZXIubGVmdC0tOihuJiZuLnNjcm9sbExlZnQhPT1hJiYobnVsbD09dCYmdGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLnRvcC5sZWZ0Kyssbi5zY3JvbGxMZWZ0PWEsYz1pIT09d2luZG93KSxyJiZyLnNjcm9sbExlZnQhPT1hJiYobnVsbD09dCYmdGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLmJvdHRvbS5sZWZ0Kyssci5zY3JvbGxMZWZ0PWEsYz1pIT09d2luZG93KSksYT1kKGwpLHRoaXMudmVydGljYWxTY3JvbGxpbmc9ITAsdGhpcy5vdmVybGF5U2Nyb2xsUG9zaXRpb25zLm1hc3Rlci50b3A9YSx1PSEwLHRoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy5tYXN0ZXIudG9wPjA/dGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLm1hc3Rlci50b3AtLTpvJiZvLnNjcm9sbFRvcCE9PWEmJihudWxsPT10JiZ0aGlzLnBlbmRpbmdTY3JvbGxDYWxsYmFja3MubGVmdC50b3ArKyxvLnNjcm9sbFRvcD1hLGM9cyE9PXdpbmRvdykpOmw9PT1yPyhhPWgobCksdGhpcy5ob3Jpem9udGFsU2Nyb2xsaW5nPSEwLHRoaXMub3ZlcmxheVNjcm9sbFBvc2l0aW9ucy5ib3R0b20ubGVmdD1hLHU9ITAsdGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLmJvdHRvbS5sZWZ0PjA/dGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLmJvdHRvbS5sZWZ0LS06KG51bGw9PXQmJnRoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy5tYXN0ZXIubGVmdCsrLGkuc2Nyb2xsTGVmdD1hLG4mJm4uc2Nyb2xsTGVmdCE9PWEmJihudWxsPT10JiZ0aGlzLnBlbmRpbmdTY3JvbGxDYWxsYmFja3MudG9wLmxlZnQrKyxuLnNjcm9sbExlZnQ9YSxjPXMhPT13aW5kb3cpKSxudWxsIT09dCYmKHU9ITAscy5zY3JvbGxUb3ArPXQpKTpsPT09bj8oYT1oKGwpLHRoaXMuaG9yaXpvbnRhbFNjcm9sbGluZz0hMCx0aGlzLm92ZXJsYXlTY3JvbGxQb3NpdGlvbnMudG9wLmxlZnQ9YSx1PSEwLHRoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy50b3AubGVmdD4wP3RoaXMucGVuZGluZ1Njcm9sbENhbGxiYWNrcy50b3AubGVmdC0tOihudWxsPT10JiZ0aGlzLnBlbmRpbmdTY3JvbGxDYWxsYmFja3MubWFzdGVyLmxlZnQrKyxpLnNjcm9sbExlZnQ9YSksbnVsbCE9PXQmJih1PSEwLHMuc2Nyb2xsVG9wKz10KSxyJiZyLnNjcm9sbExlZnQhPT1hJiYobnVsbD09dCYmdGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLmJvdHRvbS5sZWZ0Kyssci5zY3JvbGxMZWZ0PWEsYz1zIT09d2luZG93KSk6bD09PW8mJihhPWQobCksdGhpcy5vdmVybGF5U2Nyb2xsUG9zaXRpb25zLmxlZnQudG9wIT09YSYmKHRoaXMudmVydGljYWxTY3JvbGxpbmc9ITAsdGhpcy5vdmVybGF5U2Nyb2xsUG9zaXRpb25zLmxlZnQudG9wPWEsdT0hMCx0aGlzLnBlbmRpbmdTY3JvbGxDYWxsYmFja3MubGVmdC50b3A+MD90aGlzLnBlbmRpbmdTY3JvbGxDYWxsYmFja3MubGVmdC50b3AtLToobnVsbD09dCYmdGhpcy5wZW5kaW5nU2Nyb2xsQ2FsbGJhY2tzLm1hc3Rlci50b3ArKyxzLnNjcm9sbFRvcD1hKSksbnVsbCE9PXQmJih1PSEwLHMuc2Nyb2xsTGVmdCs9dCkpLCF0aGlzLmtleVByZXNzZWQmJnUmJiJzY3JvbGwiPT09ZS50eXBlJiYodGhpcy5kZWxlZ2F0ZWRTY3JvbGxDYWxsYmFjaz90aGlzLmRlbGVnYXRlZFNjcm9sbENhbGxiYWNrPSExOnRoaXMucmVmcmVzaEFsbCgpLGMmJih0aGlzLmRlbGVnYXRlZFNjcm9sbENhbGxiYWNrPSEwKSl9fSxzeW5jU2Nyb2xsV2l0aE1hc3RlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMudG9wT3ZlcmxheS5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudDt0aGlzLnRvcE92ZXJsYXkubmVlZEZ1bGxSZW5kZXImJih0aGlzLnRvcE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIuc2Nyb2xsTGVmdD1lLnNjcm9sbExlZnQpLHRoaXMubGVmdE92ZXJsYXkubmVlZEZ1bGxSZW5kZXImJih0aGlzLmxlZnRPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnNjcm9sbFRvcD1lLnNjcm9sbFRvcCl9LHVwZGF0ZU1haW5TY3JvbGxhYmxlRWxlbWVudHM6ZnVuY3Rpb24oKXt0aGlzLmRlcmVnaXN0ZXJMaXN0ZW5lcnMoKSx0aGlzLmxlZnRPdmVybGF5LnVwZGF0ZU1haW5TY3JvbGxhYmxlRWxlbWVudCgpLHRoaXMudG9wT3ZlcmxheS51cGRhdGVNYWluU2Nyb2xsYWJsZUVsZW1lbnQoKSx0aGlzLmJvdHRvbU92ZXJsYXkubmVlZEZ1bGxSZW5kZXImJnRoaXMuYm90dG9tT3ZlcmxheS51cGRhdGVNYWluU2Nyb2xsYWJsZUVsZW1lbnQoKSx0aGlzLnNjcm9sbGFibGVFbGVtZW50PXUodGhpcy53b3Qud3RUYWJsZS5UQUJMRSksdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5ldmVudE1hbmFnZXIuZGVzdHJveSgpLHRoaXMudG9wT3ZlcmxheS5kZXN0cm95KCksdGhpcy5ib3R0b21PdmVybGF5LmNsb25lJiZ0aGlzLmJvdHRvbU92ZXJsYXkuZGVzdHJveSgpLHRoaXMubGVmdE92ZXJsYXkuZGVzdHJveSgpLHRoaXMudG9wTGVmdENvcm5lck92ZXJsYXkmJnRoaXMudG9wTGVmdENvcm5lck92ZXJsYXkuZGVzdHJveSgpLHRoaXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkmJnRoaXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkuY2xvbmUmJnRoaXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkuZGVzdHJveSgpLHRoaXMuZGVidWcmJnRoaXMuZGVidWcuZGVzdHJveSgpLHRoaXMuZGVzdHJveWVkPSEwfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTohMTtpZih0aGlzLnRvcE92ZXJsYXkuYXJlRWxlbWVudFNpemVzQWRqdXN0ZWQmJnRoaXMubGVmdE92ZXJsYXkuYXJlRWxlbWVudFNpemVzQWRqdXN0ZWQpe3ZhciB0PXRoaXMud290Lnd0VGFibGUud3RSb290RWxlbWVudC5wYXJlbnROb2RlfHx0aGlzLndvdC53dFRhYmxlLnd0Um9vdEVsZW1lbnQsbj10LmNsaWVudFdpZHRoLG89dC5jbGllbnRIZWlnaHQ7bj09PXRoaXMuc3ByZWFkZXJMYXN0U2l6ZS53aWR0aCYmbz09PXRoaXMuc3ByZWFkZXJMYXN0U2l6ZS5oZWlnaHR8fCh0aGlzLnNwcmVhZGVyTGFzdFNpemUud2lkdGg9bix0aGlzLnNwcmVhZGVyTGFzdFNpemUuaGVpZ2h0PW8sdGhpcy5hZGp1c3RFbGVtZW50c1NpemUoKSl9dGhpcy5ib3R0b21PdmVybGF5LmNsb25lJiZ0aGlzLmJvdHRvbU92ZXJsYXkucmVmcmVzaChlKSx0aGlzLmxlZnRPdmVybGF5LnJlZnJlc2goZSksdGhpcy50b3BPdmVybGF5LnJlZnJlc2goZSksdGhpcy50b3BMZWZ0Q29ybmVyT3ZlcmxheSYmdGhpcy50b3BMZWZ0Q29ybmVyT3ZlcmxheS5yZWZyZXNoKGUpLHRoaXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkmJnRoaXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkuY2xvbmUmJnRoaXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkucmVmcmVzaChlKSx0aGlzLmRlYnVnJiZ0aGlzLmRlYnVnLnJlZnJlc2goZSl9LGFkanVzdEVsZW1lbnRzU2l6ZTpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ITEsdD10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbENvbHVtbnMiKSxuPXRoaXMud290LmdldFNldHRpbmcoInRvdGFsUm93cyIpLG89dGhpcy53b3Qud3RWaWV3cG9ydC5nZXRSb3dIZWFkZXJXaWR0aCgpLHI9dGhpcy53b3Qud3RWaWV3cG9ydC5nZXRDb2x1bW5IZWFkZXJIZWlnaHQoKSxpPXRoaXMud290Lnd0VGFibGUuaGlkZXIuc3R5bGU7aS53aWR0aD1vK3RoaXMubGVmdE92ZXJsYXkuc3VtQ2VsbFNpemVzKDAsdCkrInB4IixpLmhlaWdodD1yK3RoaXMudG9wT3ZlcmxheS5zdW1DZWxsU2l6ZXMoMCxuKSsxKyJweCIsdGhpcy50b3BPdmVybGF5LmFkanVzdEVsZW1lbnRzU2l6ZShlKSx0aGlzLmxlZnRPdmVybGF5LmFkanVzdEVsZW1lbnRzU2l6ZShlKSx0aGlzLmJvdHRvbU92ZXJsYXkuY2xvbmUmJnRoaXMuYm90dG9tT3ZlcmxheS5hZGp1c3RFbGVtZW50c1NpemUoZSl9LGFwcGx5VG9ET006ZnVuY3Rpb24oKXt0aGlzLnRvcE92ZXJsYXkuYXJlRWxlbWVudFNpemVzQWRqdXN0ZWQmJnRoaXMubGVmdE92ZXJsYXkuYXJlRWxlbWVudFNpemVzQWRqdXN0ZWR8fHRoaXMuYWRqdXN0RWxlbWVudHNTaXplKCksdGhpcy50b3BPdmVybGF5LmFwcGx5VG9ET00oKSx0aGlzLmJvdHRvbU92ZXJsYXkuY2xvbmUmJnRoaXMuYm90dG9tT3ZlcmxheS5hcHBseVRvRE9NKCksdGhpcy5sZWZ0T3ZlcmxheS5hcHBseVRvRE9NKCl9LGdldFBhcmVudE92ZXJsYXk6ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIG51bGw7dmFyIHQ9W3RoaXMudG9wT3ZlcmxheSx0aGlzLmxlZnRPdmVybGF5LHRoaXMuYm90dG9tT3ZlcmxheSx0aGlzLnRvcExlZnRDb3JuZXJPdmVybGF5LHRoaXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXldLG49bnVsbDtyZXR1cm4gZih0LGZ1bmN0aW9uKHQsbyl7dCYmdC5jbG9uZSYmdC5jbG9uZS53dFRhYmxlLlRBQkxFLmNvbnRhaW5zKGUpJiYobj10LmNsb25lKX0pLG59fSx7fSksd2luZG93LldhbGtvbnRhYmxlT3ZlcmxheXM9d30se2V2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvYnJvd3NlciI6NDMsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LCJoZWxwZXJzL3VuaWNvZGUiOjU1fV0sMTc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVTY3JvbGw6e2dldDpmdW5jdGlvbigpe3JldHVybiBwfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpPShvPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLHM9aS5pbm5lckhlaWdodCxsPWkuaW5uZXJXaWR0aCxhPWkuZ2V0U2Nyb2xsTGVmdCx1PWkuZ2V0U2Nyb2xsVG9wLGM9aS5vZmZzZXQsaD0ocj1lKCJoZWxwZXJzL251bWJlciIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksZD1oLnJhbmdlRWFjaCxmPWgucmFuZ2VFYWNoUmV2ZXJzZSxwPWZ1bmN0aW9uKGUpe3RoaXMud290PWUsdGhpcy5pbnN0YW5jZT1lfTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MocCx7c2Nyb2xsVmlld3BvcnQ6ZnVuY3Rpb24oZSl7aWYodGhpcy53b3QuZHJhd24pe3ZhciB0PXRoaXMuX2dldFZhcmlhYmxlcygpLG49dC50b3BPdmVybGF5LG89dC5sZWZ0T3ZlcmxheSxyPXQudG90YWxSb3dzLGk9dC50b3RhbENvbHVtbnMscz10LmZpeGVkUm93c1RvcCxsPXQuZml4ZWRSb3dzQm90dG9tLGE9dC5maXhlZENvbHVtbnNMZWZ0O2lmKGUucm93PDB8fGUucm93PnItMSl0aHJvdyBuZXcgRXJyb3IoInJvdyAiK2Uucm93KyIgZG9lcyBub3QgZXhpc3QiKTtpZihlLmNvbDwwfHxlLmNvbD5pLTEpdGhyb3cgbmV3IEVycm9yKCJjb2x1bW4gIitlLmNvbCsiIGRvZXMgbm90IGV4aXN0Iik7ZS5yb3c+PXMmJmUucm93PHRoaXMuZ2V0Rmlyc3RWaXNpYmxlUm93KCk/bi5zY3JvbGxUbyhlLnJvdyk6ZS5yb3c+dGhpcy5nZXRMYXN0VmlzaWJsZVJvdygpJiZlLnJvdzxyLWwmJm4uc2Nyb2xsVG8oZS5yb3csITApLGUuY29sPj1hJiZlLmNvbDx0aGlzLmdldEZpcnN0VmlzaWJsZUNvbHVtbigpP28uc2Nyb2xsVG8oZS5jb2wpOmUuY29sPnRoaXMuZ2V0TGFzdFZpc2libGVDb2x1bW4oKSYmby5zY3JvbGxUbyhlLmNvbCwhMCl9fSxnZXRGaXJzdFZpc2libGVSb3c6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXRWYXJpYWJsZXMoKSx0PWUudG9wT3ZlcmxheSxuPWUud3RUYWJsZSxvPWUud3RWaWV3cG9ydCxyPWUudG90YWxSb3dzLGk9ZS5maXhlZFJvd3NUb3AsbD1uLmdldEZpcnN0VmlzaWJsZVJvdygpO2lmKHQubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQ9PT13aW5kb3cpe3ZhciBhPWMobi53dFJvb3RFbGVtZW50KSxoPXMobi5oaWRlciksZD1zKHdpbmRvdykscD11KHdpbmRvdyk7aWYoYS50b3AraC1kPD1wKXt2YXIgZz1vLmdldENvbHVtbkhlYWRlckhlaWdodCgpO2crPXQuc3VtQ2VsbFNpemVzKDAsaSksZihyLDEsZnVuY3Rpb24oZSl7cmV0dXJuIGcrPXQuc3VtQ2VsbFNpemVzKGUtMSxlKSxhLnRvcCtoLWc8PXA/KGw9ZSwhMSk6dm9pZCAwfSl9fXJldHVybiBsfSxnZXRMYXN0VmlzaWJsZVJvdzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldFZhcmlhYmxlcygpLHQ9ZS50b3BPdmVybGF5LG49ZS53dFRhYmxlLG89ZS53dFZpZXdwb3J0LHI9ZS50b3RhbFJvd3MsaT1uLmdldExhc3RWaXNpYmxlUm93KCk7aWYodC5tYWluVGFibGVTY3JvbGxhYmxlRWxlbWVudD09PXdpbmRvdyl7dmFyIGw9YyhuLnd0Um9vdEVsZW1lbnQpLGE9cyh3aW5kb3cpLGg9dSh3aW5kb3cpO2lmKGwudG9wPmgpe3ZhciBmPW8uZ2V0Q29sdW1uSGVhZGVySGVpZ2h0KCk7ZCgxLHIsZnVuY3Rpb24oZSl7cmV0dXJuIGYrPXQuc3VtQ2VsbFNpemVzKGUtMSxlKSxsLnRvcCtmLWg+PWE/KGk9ZS0yLCExKTp2b2lkIDB9KX19cmV0dXJuIGl9LGdldEZpcnN0VmlzaWJsZUNvbHVtbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldFZhcmlhYmxlcygpLHQ9ZS5sZWZ0T3ZlcmxheSxuPWUud3RUYWJsZSxvPWUud3RWaWV3cG9ydCxyPWUudG90YWxDb2x1bW5zLGk9KGUuZml4ZWRDb2x1bW5zTGVmdCxuLmdldEZpcnN0VmlzaWJsZUNvbHVtbigpKTtpZih0Lm1haW5UYWJsZVNjcm9sbGFibGVFbGVtZW50PT09d2luZG93KXt2YXIgcz1jKG4ud3RSb290RWxlbWVudCksdT1sKG4uaGlkZXIpLGg9bCh3aW5kb3cpLGQ9YSh3aW5kb3cpO2lmKHMubGVmdCt1LWg8PWQpe3ZhciBwPW8uZ2V0Um93SGVhZGVyV2lkdGgoKTtmKHIsMSxmdW5jdGlvbihlKXtyZXR1cm4gcCs9dC5zdW1DZWxsU2l6ZXMoZS0xLGUpLHMubGVmdCt1LXA8PWQ/KGk9ZSwhMSk6dm9pZCAwfSl9fXJldHVybiBpfSxnZXRMYXN0VmlzaWJsZUNvbHVtbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldFZhcmlhYmxlcygpLHQ9ZS5sZWZ0T3ZlcmxheSxuPWUud3RUYWJsZSxvPWUud3RWaWV3cG9ydCxyPWUudG90YWxDb2x1bW5zLGk9bi5nZXRMYXN0VmlzaWJsZUNvbHVtbigpO2lmKHQubWFpblRhYmxlU2Nyb2xsYWJsZUVsZW1lbnQ9PT13aW5kb3cpe3ZhciBzPWMobi53dFJvb3RFbGVtZW50KSx1PWwod2luZG93KSxoPWEod2luZG93KTtpZihzLmxlZnQ+aCl7dmFyIGY9by5nZXRSb3dIZWFkZXJXaWR0aCgpO2QoMSxyLGZ1bmN0aW9uKGUpe3JldHVybiBmKz10LnN1bUNlbGxTaXplcyhlLTEsZSkscy5sZWZ0K2YtaD49dT8oaT1lLTIsITEpOnZvaWQgMH0pfX1yZXR1cm4gaX0sX2dldFZhcmlhYmxlczpmdW5jdGlvbigpe3ZhciBlPXRoaXMud290LHQ9ZS53dE92ZXJsYXlzLnRvcE92ZXJsYXksbj1lLnd0T3ZlcmxheXMubGVmdE92ZXJsYXksbz1lLnd0VGFibGUscj1lLnd0Vmlld3BvcnQsaT1lLmdldFNldHRpbmcoInRvdGFsUm93cyIpLHM9ZS5nZXRTZXR0aW5nKCJ0b3RhbENvbHVtbnMiKSxsPWUuZ2V0U2V0dGluZygiZml4ZWRSb3dzVG9wIiksYT1lLmdldFNldHRpbmcoImZpeGVkUm93c0JvdHRvbSIpLHU9ZS5nZXRTZXR0aW5nKCJmaXhlZENvbHVtbnNMZWZ0Iik7cmV0dXJue3RvcE92ZXJsYXk6dCxsZWZ0T3ZlcmxheTpuLHd0VGFibGU6byx3dFZpZXdwb3J0OnIsdG90YWxSb3dzOmksdG90YWxDb2x1bW5zOnMsZml4ZWRSb3dzVG9wOmwsZml4ZWRSb3dzQm90dG9tOmEsZml4ZWRDb2x1bW5zTGVmdDp1fX19LHt9KSx3aW5kb3cuV2Fsa29udGFibGVTY3JvbGw9cH0seyJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9udW1iZXIiOjUxfV0sMTg6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVTZWxlY3Rpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBofX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsbD0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KS5hZGRDbGFzcyxhPShyPWUoImJvcmRlciIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuV2Fsa29udGFibGVCb3JkZXIsdT0oaT1lKCJjZWxsL2Nvb3JkcyIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuV2Fsa29udGFibGVDZWxsQ29vcmRzLGM9KHM9ZSgiY2VsbC9yYW5nZSIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuV2Fsa29udGFibGVDZWxsUmFuZ2UsaD1mdW5jdGlvbihlLHQpe3RoaXMuc2V0dGluZ3M9ZSx0aGlzLmNlbGxSYW5nZT10fHxudWxsLHRoaXMuaW5zdGFuY2VCb3JkZXJzPXt9fTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoaCx7Z2V0Qm9yZGVyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluc3RhbmNlQm9yZGVyc1tlLmd1aWRdP3RoaXMuaW5zdGFuY2VCb3JkZXJzW2UuZ3VpZF06dm9pZCh0aGlzLmluc3RhbmNlQm9yZGVyc1tlLmd1aWRdPW5ldyBhKGUsdGhpcy5zZXR0aW5ncykpfSxpc0VtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLmNlbGxSYW5nZX0sYWRkOmZ1bmN0aW9uKGUpe3RoaXMuaXNFbXB0eSgpP3RoaXMuY2VsbFJhbmdlPW5ldyBjKGUsZSxlKTp0aGlzLmNlbGxSYW5nZS5leHBhbmQoZSl9LHJlcGxhY2U6ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5pc0VtcHR5KCkpe2lmKHRoaXMuY2VsbFJhbmdlLmZyb20uaXNFcXVhbChlKSlyZXR1cm4gdGhpcy5jZWxsUmFuZ2UuZnJvbT10LCEwO2lmKHRoaXMuY2VsbFJhbmdlLnRvLmlzRXF1YWwoZSkpcmV0dXJuIHRoaXMuY2VsbFJhbmdlLnRvPXQsITB9cmV0dXJuITF9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5jZWxsUmFuZ2U9bnVsbH0sZ2V0Q29ybmVyczpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY2VsbFJhbmdlLmdldFRvcExlZnRDb3JuZXIoKSx0PXRoaXMuY2VsbFJhbmdlLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCk7cmV0dXJuW2Uucm93LGUuY29sLHQucm93LHQuY29sXX0sYWRkQ2xhc3NBdENvb3JkczpmdW5jdGlvbihlLHQsbixvKXt2YXIgcj1lLnd0VGFibGUuZ2V0Q2VsbChuZXcgdSh0LG4pKTsib2JqZWN0Ij09dHlwZW9mIHImJmwocixvKX0sZHJhdzpmdW5jdGlvbihlKXtpZih0aGlzLmlzRW1wdHkoKSl7aWYodGhpcy5zZXR0aW5ncy5ib3JkZXIpe3ZhciB0PXRoaXMuZ2V0Qm9yZGVyKGUpO3QmJnQuZGlzYXBwZWFyKCl9fWVsc2V7Zm9yKHZhciBuLG8scixpPWUud3RUYWJsZS5nZXRSZW5kZXJlZFJvd3NDb3VudCgpLHM9ZS53dFRhYmxlLmdldFJlbmRlcmVkQ29sdW1uc0NvdW50KCksYT10aGlzLmdldENvcm5lcnMoKSx1PTA7cz51O3UrKylvPWUud3RUYWJsZS5jb2x1bW5GaWx0ZXIucmVuZGVyZWRUb1NvdXJjZSh1KSxvPj1hWzFdJiZvPD1hWzNdJiYocj1lLnd0VGFibGUuZ2V0Q29sdW1uSGVhZGVyKG8pLHImJnRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0Q29sdW1uQ2xhc3NOYW1lJiZsKHIsdGhpcy5zZXR0aW5ncy5oaWdobGlnaHRDb2x1bW5DbGFzc05hbWUpKTtmb3IodmFyIGM9MDtpPmM7YysrKXtuPWUud3RUYWJsZS5yb3dGaWx0ZXIucmVuZGVyZWRUb1NvdXJjZShjKSxuPj1hWzBdJiZuPD1hWzJdJiYocj1lLnd0VGFibGUuZ2V0Um93SGVhZGVyKG4pLHImJnRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0Um93Q2xhc3NOYW1lJiZsKHIsdGhpcy5zZXR0aW5ncy5oaWdobGlnaHRSb3dDbGFzc05hbWUpKTtmb3IodmFyIGg9MDtzPmg7aCsrKW89ZS53dFRhYmxlLmNvbHVtbkZpbHRlci5yZW5kZXJlZFRvU291cmNlKGgpLG4+PWFbMF0mJm48PWFbMl0mJm8+PWFbMV0mJm88PWFbM10/dGhpcy5zZXR0aW5ncy5jbGFzc05hbWUmJnRoaXMuYWRkQ2xhc3NBdENvb3JkcyhlLG4sbyx0aGlzLnNldHRpbmdzLmNsYXNzTmFtZSk6bj49YVswXSYmbjw9YVsyXT90aGlzLnNldHRpbmdzLmhpZ2hsaWdodFJvd0NsYXNzTmFtZSYmdGhpcy5hZGRDbGFzc0F0Q29vcmRzKGUsbixvLHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0Um93Q2xhc3NOYW1lKTpvPj1hWzFdJiZvPD1hWzNdJiZ0aGlzLnNldHRpbmdzLmhpZ2hsaWdodENvbHVtbkNsYXNzTmFtZSYmdGhpcy5hZGRDbGFzc0F0Q29vcmRzKGUsbixvLHRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0Q29sdW1uQ2xhc3NOYW1lKX1pZihlLmdldFNldHRpbmcoIm9uQmVmb3JlRHJhd0JvcmRlcnMiLGEsdGhpcy5zZXR0aW5ncy5jbGFzc05hbWUpLHRoaXMuc2V0dGluZ3MuYm9yZGVyKXt2YXIgZD10aGlzLmdldEJvcmRlcihlKTtkJiZkLmFwcGVhcihhKX19fX0se30pLHdpbmRvdy5XYWxrb250YWJsZVNlbGVjdGlvbj1ofSx7Ym9yZGVyOjIsImNlbGwvY29vcmRzIjo1LCJjZWxsL3JhbmdlIjo2LCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0Nn1dLDE5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1dhbGtvbnRhYmxlU2V0dGluZ3M6e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scj0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KS5mYXN0SW5uZXJUZXh0LGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3RoaXMud290PWUsdGhpcy5pbnN0YW5jZT1lLHRoaXMuZGVmYXVsdHM9e3RhYmxlOnZvaWQgMCxkZWJ1ZzohMSxleHRlcm5hbFJvd0NhbGN1bGF0b3I6ITEsc3RyZXRjaEg6Im5vbmUiLGN1cnJlbnRSb3dDbGFzc05hbWU6bnVsbCxjdXJyZW50Q29sdW1uQ2xhc3NOYW1lOm51bGwscHJldmVudE92ZXJmbG93OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGRhdGE6dm9pZCAwLGZpeGVkQ29sdW1uc0xlZnQ6MCxmaXhlZFJvd3NUb3A6MCxmaXhlZFJvd3NCb3R0b206MCxtaW5TcGFyZVJvd3M6MCxyb3dIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuW119LGNvbHVtbkhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm5bXX0sdG90YWxSb3dzOnZvaWQgMCx0b3RhbENvbHVtbnM6dm9pZCAwLGNlbGxSZW5kZXJlcjpmdW5jdGlvbihlLHQsbyl7dmFyIGk9bi5nZXRTZXR0aW5nKCJkYXRhIixlLHQpO3Iobyx2b2lkIDA9PT1pfHxudWxsPT09aT8iIjppKTsKfSxjb2x1bW5XaWR0aDpmdW5jdGlvbihlKXt9LHJvd0hlaWdodDpmdW5jdGlvbihlKXt9LGRlZmF1bHRSb3dIZWlnaHQ6MjMsZGVmYXVsdENvbHVtbldpZHRoOjUwLHNlbGVjdGlvbnM6bnVsbCxoaWRlQm9yZGVyT25Nb3VzZURvd25PdmVyOiExLHZpZXdwb3J0Um93Q2FsY3VsYXRvck92ZXJyaWRlOm51bGwsdmlld3BvcnRDb2x1bW5DYWxjdWxhdG9yT3ZlcnJpZGU6bnVsbCxvbkNlbGxNb3VzZURvd246bnVsbCxvbkNlbGxNb3VzZU92ZXI6bnVsbCxvbkNlbGxEYmxDbGljazpudWxsLG9uQ2VsbENvcm5lck1vdXNlRG93bjpudWxsLG9uQ2VsbENvcm5lckRibENsaWNrOm51bGwsYmVmb3JlRHJhdzpudWxsLG9uRHJhdzpudWxsLG9uQmVmb3JlRHJhd0JvcmRlcnM6bnVsbCxvblNjcm9sbFZlcnRpY2FsbHk6bnVsbCxvblNjcm9sbEhvcml6b250YWxseTpudWxsLG9uQmVmb3JlVG91Y2hTY3JvbGw6bnVsbCxvbkFmdGVyTW9tZW50dW1TY3JvbGw6bnVsbCxvbkJlZm9yZVN0cmV0Y2hpbmdDb2x1bW5XaWR0aDpmdW5jdGlvbihlKXtyZXR1cm4gZX0sc2Nyb2xsYmFyV2lkdGg6MTAsc2Nyb2xsYmFySGVpZ2h0OjEwLHJlbmRlckFsbFJvd3M6ITEsZ3JvdXBzOiExLHJvd0hlYWRlcldpZHRoOm51bGwsY29sdW1uSGVhZGVySGVpZ2h0Om51bGx9LHRoaXMuc2V0dGluZ3M9e307Zm9yKHZhciBvIGluIHRoaXMuZGVmYXVsdHMpaWYodGhpcy5kZWZhdWx0cy5oYXNPd25Qcm9wZXJ0eShvKSlpZih2b2lkIDAhPT10W29dKXRoaXMuc2V0dGluZ3Nbb109dFtvXTtlbHNle2lmKHZvaWQgMD09PXRoaXMuZGVmYXVsdHNbb10pdGhyb3cgbmV3IEVycm9yKCdBIHJlcXVpcmVkIHNldHRpbmcgIicrbysnIiB3YXMgbm90IHByb3ZpZGVkJyk7dGhpcy5zZXR0aW5nc1tvXT10aGlzLmRlZmF1bHRzW29dfX07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGkse3VwZGF0ZTpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQpZm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHRoaXMuc2V0dGluZ3Nbbl09ZVtuXSk7ZWxzZSB0aGlzLnNldHRpbmdzW2VdPXQ7cmV0dXJuIHRoaXMud290fSxnZXRTZXR0aW5nOmZ1bmN0aW9uKGUsdCxuLG8scil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuc2V0dGluZ3NbZV0/dGhpcy5zZXR0aW5nc1tlXSh0LG4sbyxyKTp2b2lkIDAhPT10JiZBcnJheS5pc0FycmF5KHRoaXMuc2V0dGluZ3NbZV0pP3RoaXMuc2V0dGluZ3NbZV1bdF06dGhpcy5zZXR0aW5nc1tlXX0saGFzOmZ1bmN0aW9uKGUpe3JldHVybiEhdGhpcy5zZXR0aW5nc1tlXX19LHt9KSx3aW5kb3cuV2Fsa29udGFibGVTZXR0aW5ncz1pfSx7ImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2fV0sMjA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7V2Fsa29udGFibGVUYWJsZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFJ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxsLGEsdT0obz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KSxjPXUuZ2V0U3R5bGUsaD11LmdldFRyaW1taW5nQ29udGFpbmVyLGQ9dS5oYXNDbGFzcyxmPXUuaW5kZXgscD11Lm9mZnNldCxnPXUucmVtb3ZlQ2xhc3MsbT11LnJlbW92ZVRleHROb2Rlcyx3PXUub3ZlcmxheUNvbnRhaW5zRWxlbWVudCx2PXUuY2xvc2VzdCx5PShyPWUoImNlbGwvY29vcmRzIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5XYWxrb250YWJsZUNlbGxDb29yZHMsYj0oKGk9ZSgiY2VsbC9yYW5nZSIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuV2Fsa29udGFibGVDZWxsUmFuZ2UsKHM9ZSgiZmlsdGVyL2NvbHVtbiIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuV2Fsa29udGFibGVDb2x1bW5GaWx0ZXIpLEM9KGw9ZSgiZmlsdGVyL3JvdyIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuV2Fsa29udGFibGVSb3dGaWx0ZXIsXz0oYT1lKCJ0YWJsZVJlbmRlcmVyIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5XYWxrb250YWJsZVRhYmxlUmVuZGVyZXIsUj1mdW5jdGlvbihlLHQpe3RoaXMud290PWUsdGhpcy5pbnN0YW5jZT10aGlzLndvdCx0aGlzLlRBQkxFPXQsdGhpcy5UQk9EWT1udWxsLHRoaXMuVEhFQUQ9bnVsbCx0aGlzLkNPTEdST1VQPW51bGwsdGhpcy50YWJsZU9mZnNldD0wLHRoaXMuaG9sZGVyT2Zmc2V0PTAsbSh0aGlzLlRBQkxFKSx0aGlzLnNwcmVhZGVyPXRoaXMuY3JlYXRlU3ByZWFkZXIodGhpcy5UQUJMRSksdGhpcy5oaWRlcj10aGlzLmNyZWF0ZUhpZGVyKHRoaXMuc3ByZWFkZXIpLHRoaXMuaG9sZGVyPXRoaXMuY3JlYXRlSG9sZGVyKHRoaXMuaGlkZXIpLHRoaXMud3RSb290RWxlbWVudD10aGlzLmhvbGRlci5wYXJlbnROb2RlLHRoaXMuYWxpZ25PdmVybGF5c1dpdGhUcmltbWluZ0NvbnRhaW5lcigpLHRoaXMuZml4VGFibGVEb21UcmVlKCksdGhpcy5jb2xncm91cENoaWxkcmVuTGVuZ3RoPXRoaXMuQ09MR1JPVVAuY2hpbGROb2Rlcy5sZW5ndGgsdGhpcy50aGVhZENoaWxkcmVuTGVuZ3RoPXRoaXMuVEhFQUQuZmlyc3RDaGlsZD90aGlzLlRIRUFELmZpcnN0Q2hpbGQuY2hpbGROb2Rlcy5sZW5ndGg6MCx0aGlzLnRib2R5Q2hpbGRyZW5MZW5ndGg9dGhpcy5UQk9EWS5jaGlsZE5vZGVzLmxlbmd0aCx0aGlzLnJvd0ZpbHRlcj1udWxsLHRoaXMuY29sdW1uRmlsdGVyPW51bGx9OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhSLHtmaXhUYWJsZURvbVRyZWU6ZnVuY3Rpb24oKXt0aGlzLlRCT0RZPXRoaXMuVEFCTEUucXVlcnlTZWxlY3RvcigidGJvZHkiKSx0aGlzLlRCT0RZfHwodGhpcy5UQk9EWT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpLHRoaXMuVEFCTEUuYXBwZW5kQ2hpbGQodGhpcy5UQk9EWSkpLHRoaXMuVEhFQUQ9dGhpcy5UQUJMRS5xdWVyeVNlbGVjdG9yKCJ0aGVhZCIpLHRoaXMuVEhFQUR8fCh0aGlzLlRIRUFEPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRoZWFkIiksdGhpcy5UQUJMRS5pbnNlcnRCZWZvcmUodGhpcy5USEVBRCx0aGlzLlRCT0RZKSksdGhpcy5DT0xHUk9VUD10aGlzLlRBQkxFLnF1ZXJ5U2VsZWN0b3IoImNvbGdyb3VwIiksdGhpcy5DT0xHUk9VUHx8KHRoaXMuQ09MR1JPVVA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY29sZ3JvdXAiKSx0aGlzLlRBQkxFLmluc2VydEJlZm9yZSh0aGlzLkNPTEdST1VQLHRoaXMuVEhFQUQpKSx0aGlzLndvdC5nZXRTZXR0aW5nKCJjb2x1bW5IZWFkZXJzIikubGVuZ3RoJiYhdGhpcy5USEVBRC5jaGlsZE5vZGVzLmxlbmd0aCYmdGhpcy5USEVBRC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJUUiIpKX0sY3JlYXRlU3ByZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnBhcmVudE5vZGU7cmV0dXJuIG4mJjE9PT1uLm5vZGVUeXBlJiZkKG4sInd0SG9sZGVyIil8fCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQuY2xhc3NOYW1lPSJ3dFNwcmVhZGVyIixuJiZuLmluc2VydEJlZm9yZSh0LGUpLHQuYXBwZW5kQ2hpbGQoZSkpLHQuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIix0fSxjcmVhdGVIaWRlcjpmdW5jdGlvbihlKXt2YXIgdCxuPWUucGFyZW50Tm9kZTtyZXR1cm4gbiYmMT09PW4ubm9kZVR5cGUmJmQobiwid3RIb2xkZXIiKXx8KHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdC5jbGFzc05hbWU9Ind0SGlkZXIiLG4mJm4uaW5zZXJ0QmVmb3JlKHQsZSksdC5hcHBlbmRDaGlsZChlKSksdH0sY3JlYXRlSG9sZGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5wYXJlbnROb2RlO3JldHVybiBuJiYxPT09bi5ub2RlVHlwZSYmZChuLCJ3dEhvbGRlciIpfHwodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0LnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIsdC5jbGFzc05hbWU9Ind0SG9sZGVyIixuJiZuLmluc2VydEJlZm9yZSh0LGUpLHRoaXMuaXNXb3JraW5nT25DbG9uZSgpfHwodC5wYXJlbnROb2RlLmNsYXNzTmFtZSs9Imh0X21hc3RlciBoYW5kc29udGFibGUiKSx0LmFwcGVuZENoaWxkKGUpKSx0fSxhbGlnbk92ZXJsYXlzV2l0aFRyaW1taW5nQ29udGFpbmVyOmZ1bmN0aW9uKCl7dmFyIGU9aCh0aGlzLnd0Um9vdEVsZW1lbnQpO2lmKCF0aGlzLmlzV29ya2luZ09uQ2xvbmUoKSlpZih0aGlzLmhvbGRlci5wYXJlbnROb2RlLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIsZT09PXdpbmRvdyl7dmFyIHQ9dGhpcy53b3QuZ2V0U2V0dGluZygicHJldmVudE92ZXJmbG93Iik7dHx8KHRoaXMuaG9sZGVyLnN0eWxlLm92ZXJmbG93PSJ2aXNpYmxlIix0aGlzLnd0Um9vdEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c9InZpc2libGUiKX1lbHNlIHRoaXMuaG9sZGVyLnN0eWxlLndpZHRoPWMoZSwid2lkdGgiKSx0aGlzLmhvbGRlci5zdHlsZS5oZWlnaHQ9YyhlLCJoZWlnaHQiKSx0aGlzLmhvbGRlci5zdHlsZS5vdmVyZmxvdz0iIn0saXNXb3JraW5nT25DbG9uZTpmdW5jdGlvbigpe3JldHVybiEhdGhpcy53b3QuY2xvbmVTb3VyY2V9LGRyYXc6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKTtpZih0aGlzLmlzV29ya2luZ09uQ2xvbmUoKXx8KHRoaXMuaG9sZGVyT2Zmc2V0PXAodGhpcy5ob2xkZXIpLGU9dGhpcy53b3Qud3RWaWV3cG9ydC5jcmVhdGVSZW5kZXJDYWxjdWxhdG9ycyhlKSksZSl0aGlzLmlzV29ya2luZ09uQ2xvbmUoKXx8dGhpcy53b3Qud3RWaWV3cG9ydC5jcmVhdGVWaXNpYmxlQ2FsY3VsYXRvcnMoKSx0aGlzLndvdC53dE92ZXJsYXlzJiZ0aGlzLndvdC53dE92ZXJsYXlzLnJlZnJlc2goITApO2Vsc2V7dGhpcy5pc1dvcmtpbmdPbkNsb25lKCk/dGhpcy50YWJsZU9mZnNldD10aGlzLndvdC5jbG9uZVNvdXJjZS53dFRhYmxlLnRhYmxlT2Zmc2V0OnRoaXMudGFibGVPZmZzZXQ9cCh0aGlzLlRBQkxFKTt2YXIgbjtuPVdhbGtvbnRhYmxlT3ZlcmxheS5pc092ZXJsYXlUeXBlT2YodGhpcy53b3QuY2xvbmVPdmVybGF5LFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9ERUJVRyl8fFdhbGtvbnRhYmxlT3ZlcmxheS5pc092ZXJsYXlUeXBlT2YodGhpcy53b3QuY2xvbmVPdmVybGF5LFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9UT1ApfHxXYWxrb250YWJsZU92ZXJsYXkuaXNPdmVybGF5VHlwZU9mKHRoaXMud290LmNsb25lT3ZlcmxheSxXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfVE9QX0xFRlRfQ09STkVSKT8wOldhbGtvbnRhYmxlT3ZlcmxheS5pc092ZXJsYXlUeXBlT2YodGhpcy5pbnN0YW5jZS5jbG9uZU92ZXJsYXksV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0JPVFRPTSl8fFdhbGtvbnRhYmxlT3ZlcmxheS5pc092ZXJsYXlUeXBlT2YodGhpcy5pbnN0YW5jZS5jbG9uZU92ZXJsYXksV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0JPVFRPTV9MRUZUX0NPUk5FUik/TWF0aC5tYXgodC10aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NCb3R0b20iKSwwKTp0aGlzLndvdC53dFZpZXdwb3J0LnJvd3NSZW5kZXJDYWxjdWxhdG9yLnN0YXJ0Um93O3ZhciBvO289V2Fsa29udGFibGVPdmVybGF5LmlzT3ZlcmxheVR5cGVPZih0aGlzLndvdC5jbG9uZU92ZXJsYXksV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0RFQlVHKXx8V2Fsa29udGFibGVPdmVybGF5LmlzT3ZlcmxheVR5cGVPZih0aGlzLndvdC5jbG9uZU92ZXJsYXksV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0xFRlQpfHxXYWxrb250YWJsZU92ZXJsYXkuaXNPdmVybGF5VHlwZU9mKHRoaXMud290LmNsb25lT3ZlcmxheSxXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfVE9QX0xFRlRfQ09STkVSKXx8V2Fsa29udGFibGVPdmVybGF5LmlzT3ZlcmxheVR5cGVPZih0aGlzLndvdC5jbG9uZU92ZXJsYXksV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0JPVFRPTV9MRUZUX0NPUk5FUik/MDp0aGlzLndvdC53dFZpZXdwb3J0LmNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yLnN0YXJ0Q29sdW1uLHRoaXMucm93RmlsdGVyPW5ldyBDKG4sdCx0aGlzLndvdC5nZXRTZXR0aW5nKCJjb2x1bW5IZWFkZXJzIikubGVuZ3RoKSx0aGlzLmNvbHVtbkZpbHRlcj1uZXcgYihvLHRoaXMud290LmdldFNldHRpbmcoInRvdGFsQ29sdW1ucyIpLHRoaXMud290LmdldFNldHRpbmcoInJvd0hlYWRlcnMiKS5sZW5ndGgpLHRoaXMuYWxpZ25PdmVybGF5c1dpdGhUcmltbWluZ0NvbnRhaW5lcigpLHRoaXMuX2RvRHJhdygpfXJldHVybiB0aGlzLnJlZnJlc2hTZWxlY3Rpb25zKGUpLHRoaXMuaXNXb3JraW5nT25DbG9uZSgpfHwodGhpcy53b3Qud3RPdmVybGF5cy50b3BPdmVybGF5LnJlc2V0Rml4ZWRQb3NpdGlvbigpLHRoaXMud290Lnd0T3ZlcmxheXMuYm90dG9tT3ZlcmxheS5jbG9uZSYmdGhpcy53b3Qud3RPdmVybGF5cy5ib3R0b21PdmVybGF5LnJlc2V0Rml4ZWRQb3NpdGlvbigpLHRoaXMud290Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkucmVzZXRGaXhlZFBvc2l0aW9uKCksdGhpcy53b3Qud3RPdmVybGF5cy50b3BMZWZ0Q29ybmVyT3ZlcmxheSYmdGhpcy53b3Qud3RPdmVybGF5cy50b3BMZWZ0Q29ybmVyT3ZlcmxheS5yZXNldEZpeGVkUG9zaXRpb24oKSx0aGlzLmluc3RhbmNlLnd0T3ZlcmxheXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkmJnRoaXMuaW5zdGFuY2Uud3RPdmVybGF5cy5ib3R0b21MZWZ0Q29ybmVyT3ZlcmxheS5jbG9uZSYmdGhpcy53b3Qud3RPdmVybGF5cy5ib3R0b21MZWZ0Q29ybmVyT3ZlcmxheS5yZXNldEZpeGVkUG9zaXRpb24oKSksdGhpcy53b3QuZHJhd249ITAsdGhpc30sX2RvRHJhdzpmdW5jdGlvbigpe3ZhciBlPW5ldyBfKHRoaXMpO2UucmVuZGVyKCl9LHJlbW92ZUNsYXNzRnJvbUNlbGxzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLlRBQkxFLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2UpLG49MCxvPXQubGVuZ3RoO28+bjtuKyspZyh0W25dLGUpfSxyZWZyZXNoU2VsZWN0aW9uczpmdW5jdGlvbihlKXtpZih0aGlzLndvdC5zZWxlY3Rpb25zKXt2YXIgdD10aGlzLndvdC5zZWxlY3Rpb25zLmxlbmd0aDtpZihlKWZvcih2YXIgbj0wO3Q+bjtuKyspdGhpcy53b3Quc2VsZWN0aW9uc1tuXS5zZXR0aW5ncy5jbGFzc05hbWUmJnRoaXMucmVtb3ZlQ2xhc3NGcm9tQ2VsbHModGhpcy53b3Quc2VsZWN0aW9uc1tuXS5zZXR0aW5ncy5jbGFzc05hbWUpLHRoaXMud290LnNlbGVjdGlvbnNbbl0uc2V0dGluZ3MuaGlnaGxpZ2h0Um93Q2xhc3NOYW1lJiZ0aGlzLnJlbW92ZUNsYXNzRnJvbUNlbGxzKHRoaXMud290LnNlbGVjdGlvbnNbbl0uc2V0dGluZ3MuaGlnaGxpZ2h0Um93Q2xhc3NOYW1lKSx0aGlzLndvdC5zZWxlY3Rpb25zW25dLnNldHRpbmdzLmhpZ2hsaWdodENvbHVtbkNsYXNzTmFtZSYmdGhpcy5yZW1vdmVDbGFzc0Zyb21DZWxscyh0aGlzLndvdC5zZWxlY3Rpb25zW25dLnNldHRpbmdzLmhpZ2hsaWdodENvbHVtbkNsYXNzTmFtZSk7Zm9yKHZhciBvPTA7dD5vO28rKyl0aGlzLndvdC5zZWxlY3Rpb25zW29dLmRyYXcodGhpcy53b3QsZSl9fSxnZXRDZWxsOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNSb3dCZWZvcmVSZW5kZXJlZFJvd3MoZS5yb3cpKXJldHVybi0xO2lmKHRoaXMuaXNSb3dBZnRlclJlbmRlcmVkUm93cyhlLnJvdykpcmV0dXJuLTI7dmFyIHQ9dGhpcy5UQk9EWS5jaGlsZE5vZGVzW3RoaXMucm93RmlsdGVyLnNvdXJjZVRvUmVuZGVyZWQoZS5yb3cpXTtyZXR1cm4gdD90LmNoaWxkTm9kZXNbdGhpcy5jb2x1bW5GaWx0ZXIuc291cmNlQ29sdW1uVG9WaXNpYmxlUm93SGVhZGVkQ29sdW1uKGUuY29sKV06dm9pZCAwfSxnZXRDb2x1bW5IZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLG49dGhpcy5USEVBRC5jaGlsZE5vZGVzW3RdO3JldHVybiBuP24uY2hpbGROb2Rlc1t0aGlzLmNvbHVtbkZpbHRlci5zb3VyY2VDb2x1bW5Ub1Zpc2libGVSb3dIZWFkZWRDb2x1bW4oZSldOnZvaWQgMH0sZ2V0Um93SGVhZGVyOmZ1bmN0aW9uKGUpe2lmKDA9PT10aGlzLmNvbHVtbkZpbHRlci5zb3VyY2VDb2x1bW5Ub1Zpc2libGVSb3dIZWFkZWRDb2x1bW4oMCkpcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5UQk9EWS5jaGlsZE5vZGVzW3RoaXMucm93RmlsdGVyLnNvdXJjZVRvUmVuZGVyZWQoZSldO3JldHVybiB0P3QuY2hpbGROb2Rlc1swXTp2b2lkIDB9LGdldENvb3JkczpmdW5jdGlvbihlKXsiVEQiIT09ZS5ub2RlTmFtZSYmIlRIIiE9PWUubm9kZU5hbWUmJihlPXYoZSxbIlREIiwiVEgiXSkpO3ZhciB0PWUucGFyZW50Tm9kZSxuPXQucGFyZW50Tm9kZSxvPWYodCkscj1lLmNlbGxJbmRleDtyZXR1cm4gdyhXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfVE9QX0xFRlRfQ09STkVSLGUpfHx3KFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9UT1AsZSk/IlRIRUFEIj09PW4ubm9kZU5hbWUmJihvLT1uLmNoaWxkTm9kZXMubGVuZ3RoKTpvPW49PT10aGlzLlRIRUFEP3RoaXMucm93RmlsdGVyLnZpc2libGVDb2xIZWFkZWRSb3dUb1NvdXJjZVJvdyhvKTp0aGlzLnJvd0ZpbHRlci5yZW5kZXJlZFRvU291cmNlKG8pLHI9dyhXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfVE9QX0xFRlRfQ09STkVSLGUpfHx3KFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9MRUZULGUpP3RoaXMuY29sdW1uRmlsdGVyLm9mZnNldHRlZFRIKHIpOnRoaXMuY29sdW1uRmlsdGVyLnZpc2libGVSb3dIZWFkZWRDb2x1bW5Ub1NvdXJjZUNvbHVtbihyKSxuZXcgeShvLHIpfSxnZXRUckZvclJvdzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5UQk9EWS5jaGlsZE5vZGVzW3RoaXMucm93RmlsdGVyLnNvdXJjZVRvUmVuZGVyZWQoZSldfSxnZXRGaXJzdFJlbmRlcmVkUm93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud290Lnd0Vmlld3BvcnQucm93c1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRSb3d9LGdldEZpcnN0VmlzaWJsZVJvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvdC53dFZpZXdwb3J0LnJvd3NWaXNpYmxlQ2FsY3VsYXRvci5zdGFydFJvd30sZ2V0Rmlyc3RSZW5kZXJlZENvbHVtbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvdC53dFZpZXdwb3J0LmNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yLnN0YXJ0Q29sdW1ufSxnZXRGaXJzdFZpc2libGVDb2x1bW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3Qud3RWaWV3cG9ydC5jb2x1bW5zVmlzaWJsZUNhbGN1bGF0b3Iuc3RhcnRDb2x1bW59LGdldExhc3RSZW5kZXJlZFJvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvdC53dFZpZXdwb3J0LnJvd3NSZW5kZXJDYWxjdWxhdG9yLmVuZFJvd30sZ2V0TGFzdFZpc2libGVSb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3Qud3RWaWV3cG9ydC5yb3dzVmlzaWJsZUNhbGN1bGF0b3IuZW5kUm93fSxnZXRMYXN0UmVuZGVyZWRDb2x1bW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3Qud3RWaWV3cG9ydC5jb2x1bW5zUmVuZGVyQ2FsY3VsYXRvci5lbmRDb2x1bW59LGdldExhc3RWaXNpYmxlQ29sdW1uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1Zpc2libGVDYWxjdWxhdG9yLmVuZENvbHVtbn0saXNSb3dCZWZvcmVSZW5kZXJlZFJvd3M6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm93RmlsdGVyLnNvdXJjZVRvUmVuZGVyZWQoZSk8MCYmZT49MH0saXNSb3dBZnRlclZpZXdwb3J0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvd0ZpbHRlci5zb3VyY2VUb1JlbmRlcmVkKGUpPnRoaXMuZ2V0TGFzdFZpc2libGVSb3coKX0saXNSb3dBZnRlclJlbmRlcmVkUm93czpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yb3dGaWx0ZXIuc291cmNlVG9SZW5kZXJlZChlKT50aGlzLmdldExhc3RSZW5kZXJlZFJvdygpfSxpc0NvbHVtbkJlZm9yZVZpZXdwb3J0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbHVtbkZpbHRlci5zb3VyY2VUb1JlbmRlcmVkKGUpPDAmJmU+PTB9LGlzQ29sdW1uQWZ0ZXJWaWV3cG9ydDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb2x1bW5GaWx0ZXIuc291cmNlVG9SZW5kZXJlZChlKT50aGlzLmdldExhc3RWaXNpYmxlQ29sdW1uKCl9LGlzTGFzdFJvd0Z1bGx5VmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldExhc3RWaXNpYmxlUm93KCk9PT10aGlzLmdldExhc3RSZW5kZXJlZFJvdygpfSxpc0xhc3RDb2x1bW5GdWxseVZpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRMYXN0VmlzaWJsZUNvbHVtbigpPT09dGhpcy5nZXRMYXN0UmVuZGVyZWRDb2x1bW4oKX0sZ2V0UmVuZGVyZWRDb2x1bW5zQ291bnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLndvdC53dFZpZXdwb3J0LmNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yLmNvdW50LHQ9dGhpcy53b3QuZ2V0U2V0dGluZygidG90YWxDb2x1bW5zIik7aWYodGhpcy53b3QuaXNPdmVybGF5TmFtZShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfREVCVUcpKWU9dDtlbHNlIGlmKHRoaXMud290LmlzT3ZlcmxheU5hbWUoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0xFRlQpfHx0aGlzLndvdC5pc092ZXJsYXlOYW1lKFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9UT1BfTEVGVF9DT1JORVIpfHx0aGlzLndvdC5pc092ZXJsYXlOYW1lKFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9CT1RUT01fTEVGVF9DT1JORVIpKXJldHVybiBNYXRoLm1pbih0aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZENvbHVtbnNMZWZ0IiksdCk7cmV0dXJuIGV9LGdldFJlbmRlcmVkUm93c0NvdW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy53b3Qud3RWaWV3cG9ydC5yb3dzUmVuZGVyQ2FsY3VsYXRvci5jb3VudCx0PXRoaXMud290LmdldFNldHRpbmcoInRvdGFsUm93cyIpO3JldHVybiB0aGlzLndvdC5pc092ZXJsYXlOYW1lKFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9ERUJVRyk/ZT10OnRoaXMud290LmlzT3ZlcmxheU5hbWUoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX1RPUCl8fHRoaXMud290LmlzT3ZlcmxheU5hbWUoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX1RPUF9MRUZUX0NPUk5FUik/ZT1NYXRoLm1pbih0aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NUb3AiKSx0KToodGhpcy53b3QuaXNPdmVybGF5TmFtZShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfQk9UVE9NKXx8dGhpcy53b3QuaXNPdmVybGF5TmFtZShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfQk9UVE9NX0xFRlRfQ09STkVSKSkmJihlPU1hdGgubWluKHRoaXMud290LmdldFNldHRpbmcoImZpeGVkUm93c0JvdHRvbSIpLHQpKSxlfSxnZXRWaXNpYmxlUm93c0NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud290Lnd0Vmlld3BvcnQucm93c1Zpc2libGVDYWxjdWxhdG9yLmNvdW50fSxhbGxSb3dzSW5WaWV3cG9ydDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKT09dGhpcy5nZXRWaXNpYmxlUm93c0NvdW50KCl9LGdldFJvd0hlaWdodDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLndvdC53dFNldHRpbmdzLnNldHRpbmdzLnJvd0hlaWdodChlKSxuPXRoaXMud290Lnd0Vmlld3BvcnQub3ZlcnNpemVkUm93c1tlXTtyZXR1cm4gdm9pZCAwIT09biYmKHQ9dm9pZCAwPT09dD9uOk1hdGgubWF4KHQsbikpLHR9LGdldENvbHVtbkhlYWRlckhlaWdodDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLndvdC53dFNldHRpbmdzLnNldHRpbmdzLmRlZmF1bHRSb3dIZWlnaHQsbj10aGlzLndvdC53dFZpZXdwb3J0Lm92ZXJzaXplZENvbHVtbkhlYWRlcnNbZV07cmV0dXJuIHZvaWQgMCE9PW4mJih0PXQ/TWF0aC5tYXgodCxuKTpuKSx0fSxnZXRWaXNpYmxlQ29sdW1uc0NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1Zpc2libGVDYWxjdWxhdG9yLmNvdW50fSxhbGxDb2x1bW5zSW5WaWV3cG9ydDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbENvbHVtbnMiKT09dGhpcy5nZXRWaXNpYmxlQ29sdW1uc0NvdW50KCl9LGdldENvbHVtbldpZHRoOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMud290Lnd0U2V0dGluZ3Muc2V0dGluZ3MuY29sdW1uV2lkdGg7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQ/dD10KGUpOiJvYmplY3QiPT10eXBlb2YgdCYmKHQ9dFtlXSksdHx8dGhpcy53b3Qud3RTZXR0aW5ncy5zZXR0aW5ncy5kZWZhdWx0Q29sdW1uV2lkdGh9LGdldFN0cmV0Y2hlZENvbHVtbldpZHRoOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Q29sdW1uV2lkdGgoZSksbj1udWxsPT10P3RoaXMuaW5zdGFuY2Uud3RTZXR0aW5ncy5zZXR0aW5ncy5kZWZhdWx0Q29sdW1uV2lkdGg6dCxvPXRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3I7aWYobyl7dmFyIHI9by5nZXRTdHJldGNoZWRDb2x1bW5XaWR0aChlLG4pO3ImJihuPXIpfXJldHVybiBufX0se30pLHdpbmRvdy5XYWxrb250YWJsZVRhYmxlPVJ9LHsiY2VsbC9jb29yZHMiOjUsImNlbGwvcmFuZ2UiOjYsImZpbHRlci9jb2x1bW4iOjksImZpbHRlci9yb3ciOjEwLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0Nix0YWJsZVJlbmRlcmVyOjIxfV0sMjE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlRIIik7cmV0dXJuIHQuaW5zZXJ0QmVmb3JlKG4sZSksdC5yZW1vdmVDaGlsZChlKSxufWZ1bmN0aW9uIHIoZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJURCIpO3JldHVybiB0Lmluc2VydEJlZm9yZShuLGUpLHQucmVtb3ZlQ2hpbGQoZSksbn1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtXYWxrb250YWJsZVRhYmxlUmVuZGVyZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBwfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGkscz0oaT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSxsPXMuYWRkQ2xhc3MsYT1zLmVtcHR5LHU9cy5nZXRTY3JvbGxiYXJXaWR0aCxjPXMuaGFzQ2xhc3MsaD1zLmlubmVySGVpZ2h0LGQ9cy5vdXRlcldpZHRoLGY9ITEscD1mdW5jdGlvbihlKXt0aGlzLnd0VGFibGU9ZSx0aGlzLndvdD1lLmluc3RhbmNlLHRoaXMuaW5zdGFuY2U9ZS5pbnN0YW5jZSx0aGlzLnJvd0ZpbHRlcj1lLnJvd0ZpbHRlcix0aGlzLmNvbHVtbkZpbHRlcj1lLmNvbHVtbkZpbHRlcix0aGlzLlRBQkxFPWUuVEFCTEUsdGhpcy5USEVBRD1lLlRIRUFELHRoaXMuVEJPRFk9ZS5UQk9EWSx0aGlzLkNPTEdST1VQPWUuQ09MR1JPVVAsdGhpcy5yb3dIZWFkZXJzPVtdLHRoaXMucm93SGVhZGVyQ291bnQ9MCx0aGlzLmNvbHVtbkhlYWRlcnM9W10sdGhpcy5jb2x1bW5IZWFkZXJDb3VudD0wLHRoaXMuZml4ZWRSb3dzVG9wPTAsdGhpcy5maXhlZFJvd3NCb3R0b209MH07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKHAse3JlbmRlcjpmdW5jdGlvbigpe3RoaXMud3RUYWJsZS5pc1dvcmtpbmdPbkNsb25lKCl8fHRoaXMud290LmdldFNldHRpbmcoImJlZm9yZURyYXciLCEwKSx0aGlzLnJvd0hlYWRlcnM9dGhpcy53b3QuZ2V0U2V0dGluZygicm93SGVhZGVycyIpLHRoaXMucm93SGVhZGVyQ291bnQ9dGhpcy5yb3dIZWFkZXJzLmxlbmd0aCx0aGlzLmZpeGVkUm93c1RvcD10aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NUb3AiKSx0aGlzLmZpeGVkUm93c0JvdHRvbT10aGlzLndvdC5nZXRTZXR0aW5nKCJmaXhlZFJvd3NCb3R0b20iKSx0aGlzLmNvbHVtbkhlYWRlcnM9dGhpcy53b3QuZ2V0U2V0dGluZygiY29sdW1uSGVhZGVycyIpLHRoaXMuY29sdW1uSGVhZGVyQ291bnQ9dGhpcy5jb2x1bW5IZWFkZXJzLmxlbmd0aDt2YXIgZSx0PXRoaXMud3RUYWJsZS5nZXRSZW5kZXJlZENvbHVtbnNDb3VudCgpLG49dGhpcy53dFRhYmxlLmdldFJlbmRlcmVkUm93c0NvdW50KCksbz10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbENvbHVtbnMiKSxyPXRoaXMud290LmdldFNldHRpbmcoInRvdGFsUm93cyIpLGk9ITE7aWYoKFdhbGtvbnRhYmxlT3ZlcmxheS5pc092ZXJsYXlUeXBlT2YodGhpcy53b3QuY2xvbmVPdmVybGF5LFdhbGtvbnRhYmxlT3ZlcmxheS5DTE9ORV9CT1RUT00pfHxXYWxrb250YWJsZU92ZXJsYXkuaXNPdmVybGF5VHlwZU9mKHRoaXMud290LmNsb25lT3ZlcmxheSxXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfQk9UVE9NX0xFRlRfQ09STkVSKSkmJih0aGlzLmNvbHVtbkhlYWRlcnM9W10sdGhpcy5jb2x1bW5IZWFkZXJDb3VudD0wKSxvPjAmJih0aGlzLmFkanVzdEF2YWlsYWJsZU5vZGVzKCksaT0hMCx0aGlzLnJlbmRlckNvbHVtbkhlYWRlcnMoKSx0aGlzLnJlbmRlclJvd3MocixuLHQpLHRoaXMud3RUYWJsZS5pc1dvcmtpbmdPbkNsb25lKCl8fChlPXRoaXMud290Lnd0Vmlld3BvcnQuZ2V0V29ya3NwYWNlV2lkdGgoKSx0aGlzLndvdC53dFZpZXdwb3J0LmNvbnRhaW5lcldpZHRoPW51bGwpLHRoaXMuYWRqdXN0Q29sdW1uV2lkdGhzKHQpLHRoaXMubWFya092ZXJzaXplZENvbHVtbkhlYWRlcnMoKSx0aGlzLmFkanVzdENvbHVtbkhlYWRlckhlaWdodHMoKSksaXx8dGhpcy5hZGp1c3RBdmFpbGFibGVOb2RlcygpLHRoaXMucmVtb3ZlUmVkdW5kYW50Um93cyhuKSx0aGlzLnd0VGFibGUuaXNXb3JraW5nT25DbG9uZSgpJiYhdGhpcy53b3QuaXNPdmVybGF5TmFtZShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfQk9UVE9NKXx8dGhpcy5tYXJrT3ZlcnNpemVkUm93cygpLHRoaXMud3RUYWJsZS5pc1dvcmtpbmdPbkNsb25lKCkpdGhpcy53b3QuaXNPdmVybGF5TmFtZShXYWxrb250YWJsZU92ZXJsYXkuQ0xPTkVfQk9UVE9NKSYmdGhpcy53b3QuY2xvbmVTb3VyY2Uud3RPdmVybGF5cy5hZGp1c3RFbGVtZW50c1NpemUoKTtlbHNle3RoaXMud290Lnd0Vmlld3BvcnQuY3JlYXRlVmlzaWJsZUNhbGN1bGF0b3JzKCksdGhpcy53b3Qud3RPdmVybGF5cy5yZWZyZXNoKCExKTt2YXIgcz1kKHRoaXMud3RUYWJsZS5oaWRlciksbD1kKHRoaXMud3RUYWJsZS5UQUJMRSk7aWYoMCE9PXMmJmwhPT1zJiZ0aGlzLmFkanVzdENvbHVtbldpZHRocyh0KSx0aGlzLndvdC53dE92ZXJsYXlzLmFwcGx5VG9ET00oKSxlIT09dGhpcy53b3Qud3RWaWV3cG9ydC5nZXRXb3Jrc3BhY2VXaWR0aCgpKXt0aGlzLndvdC53dFZpZXdwb3J0LmNvbnRhaW5lcldpZHRoPW51bGw7dmFyIGE9dGhpcy53dFRhYmxlLmdldEZpcnN0UmVuZGVyZWRDb2x1bW4oKSx1PXRoaXMud3RUYWJsZS5nZXRMYXN0UmVuZGVyZWRDb2x1bW4oKSxjPXRoaXMud290LmdldFNldHRpbmcoInJvd0hlYWRlcldpZHRoIik7aWYobnVsbCE9Yylmb3IodmFyIGg9MDtoPHRoaXMucm93SGVhZGVyQ291bnQ7aCsrKXRoaXMuQ09MR1JPVVAuY2hpbGROb2Rlc1toXS5zdHlsZS53aWR0aD0oaXNOYU4oYyk/Y1toXTpjKSsicHgiO2Zvcih2YXIgZj1hO3U+ZjtmKyspe3ZhciBwPXRoaXMud3RUYWJsZS5nZXRTdHJldGNoZWRDb2x1bW5XaWR0aChmKSxnPXRoaXMuY29sdW1uRmlsdGVyLnNvdXJjZVRvUmVuZGVyZWQoZik7dGhpcy5DT0xHUk9VUC5jaGlsZE5vZGVzW2crdGhpcy5yb3dIZWFkZXJDb3VudF0uc3R5bGUud2lkdGg9cCsicHgifX10aGlzLndvdC5nZXRTZXR0aW5nKCJvbkRyYXciLCEwKX19LHJlbW92ZVJlZHVuZGFudFJvd3M6ZnVuY3Rpb24oZSl7Zm9yKDt0aGlzLnd0VGFibGUudGJvZHlDaGlsZHJlbkxlbmd0aD5lOyl0aGlzLlRCT0RZLnJlbW92ZUNoaWxkKHRoaXMuVEJPRFkubGFzdENoaWxkKSx0aGlzLnd0VGFibGUudGJvZHlDaGlsZHJlbkxlbmd0aC0tfSxyZW5kZXJSb3dzOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIG8scixpPTAscz10aGlzLnJvd0ZpbHRlci5yZW5kZXJlZFRvU291cmNlKGkpLGw9dGhpcy53dFRhYmxlLmlzV29ya2luZ09uQ2xvbmUoKTtlPnMmJnM+PTAmJighZiYmaT4xZTMmJihmPSEwLGNvbnNvbGUud2FybignUGVyZm9ybWFuY2UgdGlwOiBIYW5kc29udGFibGUgcmVuZGVyZWQgbW9yZSB0aGFuIDEwMDAgdmlzaWJsZSByb3dzLiBDb25zaWRlciBsaW1pdGluZyB0aGUgbnVtYmVyIG9mIHJlbmRlcmVkIHJvd3MgYnkgc3BlY2lmeWluZyB0aGUgdGFibGUgaGVpZ2h0IGFuZC9vciB0dXJuaW5nIG9mZiB0aGUgInJlbmRlckFsbFJvd3MiIG9wdGlvbi4nKSksdm9pZCAwPT09dHx8aSE9PXQpOyl7aWYocj10aGlzLmdldE9yQ3JlYXRlVHJGb3JSb3coaSxyKSx0aGlzLnJlbmRlclJvd0hlYWRlcnMocyxyKSx0aGlzLmFkanVzdENvbHVtbnMocixuK3RoaXMucm93SGVhZGVyQ291bnQpLG89dGhpcy5yZW5kZXJDZWxscyhzLHIsbiksbCYmIXRoaXMud290LmlzT3ZlcmxheU5hbWUoV2Fsa29udGFibGVPdmVybGF5LkNMT05FX0JPVFRPTSl8fHRoaXMucmVzZXRPdmVyc2l6ZWRSb3cocyksci5maXJzdENoaWxkKXt2YXIgYT10aGlzLndvdC53dFRhYmxlLmdldFJvd0hlaWdodChzKTthPyhhLS0sci5maXJzdENoaWxkLnN0eWxlLmhlaWdodD1hKyJweCIpOnIuZmlyc3RDaGlsZC5zdHlsZS5oZWlnaHQ9IiJ9aSsrLHM9dGhpcy5yb3dGaWx0ZXIucmVuZGVyZWRUb1NvdXJjZShpKX19LHJlc2V0T3ZlcnNpemVkUm93OmZ1bmN0aW9uKGUpe3RoaXMud290LmdldFNldHRpbmcoImV4dGVybmFsUm93Q2FsY3VsYXRvciIpfHx0aGlzLndvdC53dFZpZXdwb3J0Lm92ZXJzaXplZFJvd3MmJnRoaXMud290Lnd0Vmlld3BvcnQub3ZlcnNpemVkUm93c1tlXSYmKHRoaXMud290Lnd0Vmlld3BvcnQub3ZlcnNpemVkUm93c1tlXT12b2lkIDApfSxtYXJrT3ZlcnNpemVkUm93czpmdW5jdGlvbigpe2lmKCF0aGlzLndvdC5nZXRTZXR0aW5nKCJleHRlcm5hbFJvd0NhbGN1bGF0b3IiKSl7dmFyIGUsdCxuLG8scixpPXRoaXMuaW5zdGFuY2Uud3RUYWJsZS5UQk9EWS5jaGlsZE5vZGVzLmxlbmd0aCxzPWkqdGhpcy5pbnN0YW5jZS53dFNldHRpbmdzLnNldHRpbmdzLmRlZmF1bHRSb3dIZWlnaHQsbD1oKHRoaXMuaW5zdGFuY2Uud3RUYWJsZS5UQk9EWSktMTt0aGlzLmluc3RhbmNlLmdldFNldHRpbmcoInRvdGFsUm93cyIpO2lmKHMhPT1sfHx0aGlzLmluc3RhbmNlLmdldFNldHRpbmcoImZpeGVkUm93c0JvdHRvbSIpKWZvcig7aTspaS0tLG49dGhpcy5pbnN0YW5jZS53dFRhYmxlLnJvd0ZpbHRlci5yZW5kZXJlZFRvU291cmNlKGkpLGU9dGhpcy5pbnN0YW5jZS53dFRhYmxlLmdldFJvd0hlaWdodChuKSxvPXRoaXMuaW5zdGFuY2Uud3RUYWJsZS5nZXRUckZvclJvdyhuKSxyPW8ucXVlcnlTZWxlY3RvcigidGgiKSx0PXI/aChyKTpoKG8pLTEsKCFlJiZ0aGlzLmluc3RhbmNlLnd0U2V0dGluZ3Muc2V0dGluZ3MuZGVmYXVsdFJvd0hlaWdodDx0fHx0PmUpJiYodGhpcy5pbnN0YW5jZS53dFZpZXdwb3J0Lm92ZXJzaXplZFJvd3Nbbl09Kyt0KX19LG1hcmtPdmVyc2l6ZWRDb2x1bW5IZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy53b3QuZ2V0T3ZlcmxheU5hbWUoKTtpZih0aGlzLmNvbHVtbkhlYWRlckNvdW50JiYhdGhpcy53b3Qud3RWaWV3cG9ydC5oYXNPdmVyc2l6ZWRDb2x1bW5IZWFkZXJzTWFya2VkW2VdJiYhdGhpcy53dFRhYmxlLmlzV29ya2luZ09uQ2xvbmUoKSl7Zm9yKHZhciB0PXRoaXMud3RUYWJsZS5nZXRSZW5kZXJlZENvbHVtbnNDb3VudCgpLG49MDtuPHRoaXMuY29sdW1uSGVhZGVyQ291bnQ7bisrKWZvcih2YXIgbz0tMSp0aGlzLnJvd0hlYWRlckNvdW50O3Q+bztvKyspdGhpcy5tYXJrSWZPdmVyc2l6ZWRDb2x1bW5IZWFkZXIobyk7dGhpcy53b3Qud3RWaWV3cG9ydC5oYXNPdmVyc2l6ZWRDb2x1bW5IZWFkZXJzTWFya2VkW2VdPSEwfX0sYWRqdXN0Q29sdW1uSGVhZGVySGVpZ2h0czpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLndvdC5nZXRTZXR0aW5nKCJjb2x1bW5IZWFkZXJzIiksdD10aGlzLndvdC53dFRhYmxlLlRIRUFELmNoaWxkTm9kZXMsbj10aGlzLndvdC53dFZpZXdwb3J0Lm92ZXJzaXplZENvbHVtbkhlYWRlcnMsbz0wLHI9ZS5sZW5ndGg7cj5vO28rKylpZihuW29dKXtpZigwPT09dFtvXS5jaGlsZE5vZGVzLmxlbmd0aClyZXR1cm47dFtvXS5jaGlsZE5vZGVzWzBdLnN0eWxlLmhlaWdodD1uW29dKyJweCJ9fSxtYXJrSWZPdmVyc2l6ZWRDb2x1bW5IZWFkZXI6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4sbyxyPXRoaXMud290Lnd0VGFibGUuY29sdW1uRmlsdGVyLnJlbmRlcmVkVG9Tb3VyY2UoZSksaT10aGlzLmNvbHVtbkhlYWRlckNvdW50LHM9dGhpcy53b3Qud3RTZXR0aW5ncy5zZXR0aW5ncy5kZWZhdWx0Um93SGVpZ2h0LGw9dGhpcy53b3QuZ2V0U2V0dGluZygiY29sdW1uSGVhZGVySGVpZ2h0Iil8fFtdO2k7KWktLSx0PXRoaXMud290Lnd0VGFibGUuZ2V0Q29sdW1uSGVhZGVySGVpZ2h0KGkpLG49dGhpcy53b3Qud3RUYWJsZS5nZXRDb2x1bW5IZWFkZXIocixpKSxuJiYobz1oKG4pLCghdCYmbz5zfHxvPnQpJiYodGhpcy53b3Qud3RWaWV3cG9ydC5vdmVyc2l6ZWRDb2x1bW5IZWFkZXJzW2ldPW8pLEFycmF5LmlzQXJyYXkobCk/bnVsbCE9bFtpXSYmKHRoaXMud290Lnd0Vmlld3BvcnQub3ZlcnNpemVkQ29sdW1uSGVhZGVyc1tpXT1sW2ldKTppc05hTihsKXx8KHRoaXMud290Lnd0Vmlld3BvcnQub3ZlcnNpemVkQ29sdW1uSGVhZGVyc1tpXT1sKSx0aGlzLndvdC53dFZpZXdwb3J0Lm92ZXJzaXplZENvbHVtbkhlYWRlcnNbaV08KGxbaV18fGwpJiYodGhpcy53b3Qud3RWaWV3cG9ydC5vdmVyc2l6ZWRDb2x1bW5IZWFkZXJzW2ldPWxbaV18fGwpKX0scmVuZGVyQ2VsbHM6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgbyxpLHM9MDtuPnM7cysrKWk9dGhpcy5jb2x1bW5GaWx0ZXIucmVuZGVyZWRUb1NvdXJjZShzKSxvPTA9PT1zP3QuY2hpbGROb2Rlc1t0aGlzLmNvbHVtbkZpbHRlci5zb3VyY2VDb2x1bW5Ub1Zpc2libGVSb3dIZWFkZWRDb2x1bW4oaSldOm8ubmV4dFNpYmxpbmcsIlRIIj09by5ub2RlTmFtZSYmKG89cihvLHQpKSxjKG8sImhpZGUiKXx8KG8uY2xhc3NOYW1lPSIiKSxvLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSx0aGlzLndvdC53dFNldHRpbmdzLnNldHRpbmdzLmNlbGxSZW5kZXJlcihlLGksbyk7cmV0dXJuIG99LGFkanVzdENvbHVtbldpZHRoczpmdW5jdGlvbihlKXt2YXIgdD0wLG49dGhpcy53b3QuY2xvbmVTb3VyY2U/dGhpcy53b3QuY2xvbmVTb3VyY2U6dGhpcy53b3Qsbz1uLnd0VGFibGUuaG9sZGVyO28ub2Zmc2V0SGVpZ2h0PG8uc2Nyb2xsSGVpZ2h0JiYodD11KCkpLHRoaXMud290Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3IucmVmcmVzaFN0cmV0Y2hpbmcodGhpcy53b3Qud3RWaWV3cG9ydC5nZXRWaWV3cG9ydFdpZHRoKCktdCk7dmFyIHI9dGhpcy53b3QuZ2V0U2V0dGluZygicm93SGVhZGVyV2lkdGgiKTtpZihudWxsIT1yKWZvcih2YXIgaT0wO2k8dGhpcy5yb3dIZWFkZXJDb3VudDtpKyspdGhpcy5DT0xHUk9VUC5jaGlsZE5vZGVzW2ldLnN0eWxlLndpZHRoPShpc05hTihyKT9yW2ldOnIpKyJweCI7Zm9yKHZhciBzPTA7ZT5zO3MrKyl7dmFyIGw9dGhpcy53dFRhYmxlLmdldFN0cmV0Y2hlZENvbHVtbldpZHRoKHRoaXMuY29sdW1uRmlsdGVyLnJlbmRlcmVkVG9Tb3VyY2UocykpO3RoaXMuQ09MR1JPVVAuY2hpbGROb2Rlc1tzK3RoaXMucm93SGVhZGVyQ291bnRdLnN0eWxlLndpZHRoPWwrInB4In19LGFwcGVuZFRvVGJvZHk6ZnVuY3Rpb24oZSl7dGhpcy5UQk9EWS5hcHBlbmRDaGlsZChlKSx0aGlzLnd0VGFibGUudGJvZHlDaGlsZHJlbkxlbmd0aCsrfSxnZXRPckNyZWF0ZVRyRm9yUm93OmZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIGU+PXRoaXMud3RUYWJsZS50Ym9keUNoaWxkcmVuTGVuZ3RoPyhuPXRoaXMuY3JlYXRlUm93KCksdGhpcy5hcHBlbmRUb1Rib2R5KG4pKTpuPTA9PT1lP3RoaXMuVEJPRFkuZmlyc3RDaGlsZDp0Lm5leHRTaWJsaW5nLG4uY2xhc3NOYW1lJiZuLnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3MiKSxufSxjcmVhdGVSb3c6ZnVuY3Rpb24oKXtmb3IodmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVFIiKSx0PTA7dDx0aGlzLnJvd0hlYWRlckNvdW50O3QrKyllLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlRIIikpO3JldHVybiBlfSxyZW5kZXJSb3dIZWFkZXI6ZnVuY3Rpb24oZSx0LG4pe24uY2xhc3NOYW1lPSIiLG4ucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLHRoaXMucm93SGVhZGVyc1t0XShlLG4sdCl9LHJlbmRlclJvd0hlYWRlcnM6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5maXJzdENoaWxkLHI9MDtyPHRoaXMucm93SGVhZGVyQ291bnQ7cisrKW4/IlREIj09bi5ub2RlTmFtZSYmKG49byhuLHQpKToobj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJUSCIpLHQuYXBwZW5kQ2hpbGQobikpLHRoaXMucmVuZGVyUm93SGVhZGVyKGUscixuKSxuPW4ubmV4dFNpYmxpbmd9LGFkanVzdEF2YWlsYWJsZU5vZGVzOmZ1bmN0aW9uKCl7dGhpcy5hZGp1c3RDb2xHcm91cHMoKSx0aGlzLmFkanVzdFRoZWFkKCl9LHJlbmRlckNvbHVtbkhlYWRlcnM6ZnVuY3Rpb24oKXt0aGlzLndvdC5nZXRPdmVybGF5TmFtZSgpO2lmKHRoaXMuY29sdW1uSGVhZGVyQ291bnQpZm9yKHZhciBlPXRoaXMud3RUYWJsZS5nZXRSZW5kZXJlZENvbHVtbnNDb3VudCgpLHQ9MDt0PHRoaXMuY29sdW1uSGVhZGVyQ291bnQ7dCsrKWZvcih2YXIgbj10aGlzLmdldFRyRm9yQ29sdW1uSGVhZGVycyh0KSxvPS0xKnRoaXMucm93SGVhZGVyQ291bnQ7ZT5vO28rKyl7dmFyIHI9dGhpcy5jb2x1bW5GaWx0ZXIucmVuZGVyZWRUb1NvdXJjZShvKTt0aGlzLnJlbmRlckNvbHVtbkhlYWRlcih0LHIsbi5jaGlsZE5vZGVzW28rdGhpcy5yb3dIZWFkZXJDb3VudF0pfX0sYWRqdXN0Q29sR3JvdXBzOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMud3RUYWJsZS5nZXRSZW5kZXJlZENvbHVtbnNDb3VudCgpO3RoaXMud3RUYWJsZS5jb2xncm91cENoaWxkcmVuTGVuZ3RoPGUrdGhpcy5yb3dIZWFkZXJDb3VudDspdGhpcy5DT0xHUk9VUC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJDT0wiKSksdGhpcy53dFRhYmxlLmNvbGdyb3VwQ2hpbGRyZW5MZW5ndGgrKztmb3IoO3RoaXMud3RUYWJsZS5jb2xncm91cENoaWxkcmVuTGVuZ3RoPmUrdGhpcy5yb3dIZWFkZXJDb3VudDspdGhpcy5DT0xHUk9VUC5yZW1vdmVDaGlsZCh0aGlzLkNPTEdST1VQLmxhc3RDaGlsZCksdGhpcy53dFRhYmxlLmNvbGdyb3VwQ2hpbGRyZW5MZW5ndGgtLTt0aGlzLnJvd0hlYWRlckNvdW50JiZsKHRoaXMuQ09MR1JPVVAuY2hpbGROb2Rlc1swXSwicm93SGVhZGVyIil9LGFkanVzdFRoZWFkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy53dFRhYmxlLmdldFJlbmRlcmVkQ29sdW1uc0NvdW50KCksdD10aGlzLlRIRUFELmZpcnN0Q2hpbGQ7aWYodGhpcy5jb2x1bW5IZWFkZXJzLmxlbmd0aCl7Zm9yKHZhciBuPTAsbz10aGlzLmNvbHVtbkhlYWRlcnMubGVuZ3RoO28+bjtuKyspe2Zvcih0PXRoaXMuVEhFQUQuY2hpbGROb2Rlc1tuXSx0fHwodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJUUiIpLHRoaXMuVEhFQUQuYXBwZW5kQ2hpbGQodCkpLHRoaXMudGhlYWRDaGlsZHJlbkxlbmd0aD10LmNoaWxkTm9kZXMubGVuZ3RoO3RoaXMudGhlYWRDaGlsZHJlbkxlbmd0aDxlK3RoaXMucm93SGVhZGVyQ291bnQ7KXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEgiKSksdGhpcy50aGVhZENoaWxkcmVuTGVuZ3RoKys7Zm9yKDt0aGlzLnRoZWFkQ2hpbGRyZW5MZW5ndGg+ZSt0aGlzLnJvd0hlYWRlckNvdW50Oyl0LnJlbW92ZUNoaWxkKHQubGFzdENoaWxkKSx0aGlzLnRoZWFkQ2hpbGRyZW5MZW5ndGgtLX12YXIgcj10aGlzLlRIRUFELmNoaWxkTm9kZXMubGVuZ3RoO2lmKHI+dGhpcy5jb2x1bW5IZWFkZXJzLmxlbmd0aClmb3IodmFyIGk9dGhpcy5jb2x1bW5IZWFkZXJzLmxlbmd0aDtyPmk7aSsrKXRoaXMuVEhFQUQucmVtb3ZlQ2hpbGQodGhpcy5USEVBRC5sYXN0Q2hpbGQpfWVsc2UgdCYmYSh0KX0sZ2V0VHJGb3JDb2x1bW5IZWFkZXJzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLlRIRUFELmNoaWxkTm9kZXNbZV19LHJlbmRlckNvbHVtbkhlYWRlcjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG4uY2xhc3NOYW1lPSIiLG4ucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpLHRoaXMuY29sdW1uSGVhZGVyc1tlXSh0LG4sZSl9LGFkanVzdENvbHVtbnM6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5jaGlsZE5vZGVzLmxlbmd0aDt0Pm47KXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJURCIpO2UuYXBwZW5kQ2hpbGQobyksbisrfWZvcig7bj50OyllLnJlbW92ZUNoaWxkKGUubGFzdENoaWxkKSxuLS19LHJlbW92ZVJlZHVuZGFudENvbHVtbnM6ZnVuY3Rpb24oZSl7Zm9yKDt0aGlzLnd0VGFibGUudGJvZHlDaGlsZHJlbkxlbmd0aD5lOyl0aGlzLlRCT0RZLnJlbW92ZUNoaWxkKHRoaXMuVEJPRFkubGFzdENoaWxkKSx0aGlzLnd0VGFibGUudGJvZHlDaGlsZHJlbkxlbmd0aC0tfX0se30pLHdpbmRvdy5XYWxrb250YWJsZVRhYmxlUmVuZGVyZXI9cH0seyJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0Nn1dLDIyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1dhbGtvbnRhYmxlVmlld3BvcnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiB2fX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsbCxhPShvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sdT0ocj1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSxjPXUuZ2V0U2Nyb2xsYmFyV2lkdGgsaD0odS5nZXRTY3JvbGxUb3AsdS5nZXRTdHlsZSksZD11Lm9mZnNldCxmPXUub3V0ZXJIZWlnaHQscD11Lm91dGVyV2lkdGgsZz0oaT1lKCJldmVudE1hbmFnZXIiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLkV2ZW50TWFuYWdlcixtPShzPWUoImNhbGN1bGF0b3Ivdmlld3BvcnRDb2x1bW5zIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5XYWxrb250YWJsZVZpZXdwb3J0Q29sdW1uc0NhbGN1bGF0b3Isdz0obD1lKCJjYWxjdWxhdG9yL3ZpZXdwb3J0Um93cyIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuV2Fsa29udGFibGVWaWV3cG9ydFJvd3NDYWxjdWxhdG9yLHY9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLndvdD1lLHRoaXMuaW5zdGFuY2U9dGhpcy53b3QsdGhpcy5vdmVyc2l6ZWRSb3dzPVtdLHRoaXMub3ZlcnNpemVkQ29sdW1uSGVhZGVycz1bXSx0aGlzLmhhc092ZXJzaXplZENvbHVtbkhlYWRlcnNNYXJrZWQ9e30sdGhpcy5jbGllbnRIZWlnaHQ9MCx0aGlzLmNvbnRhaW5lcldpZHRoPU5hTix0aGlzLnJvd0hlYWRlcldpZHRoPU5hTix0aGlzLnJvd3NWaXNpYmxlQ2FsY3VsYXRvcj1udWxsLHRoaXMuY29sdW1uc1Zpc2libGVDYWxjdWxhdG9yPW51bGwsdGhpcy5ldmVudE1hbmFnZXI9bmV3IGcodGhpcy53b3QpLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCJyZXNpemUiLGZ1bmN0aW9uKCl7dC5jbGllbnRIZWlnaHQ9dC5nZXRXb3Jrc3BhY2VIZWlnaHQoKX0pfTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3Modix7Z2V0V29ya3NwYWNlSGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmluc3RhbmNlLnd0T3ZlcmxheXMudG9wT3ZlcmxheS50cmltbWluZ0NvbnRhaW5lcixuPTA7cmV0dXJuIHQ9PT13aW5kb3c/bj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OihlPWYodCksbj1lPjAmJnQuY2xpZW50SGVpZ2h0PjA/dC5jbGllbnRIZWlnaHQ6MS8wKSxufSxnZXRXb3Jrc3BhY2VXaWR0aDpmdW5jdGlvbigpe3ZhciBlLHQsbj10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbENvbHVtbnMiKSxvPXRoaXMuaW5zdGFuY2Uud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS50cmltbWluZ0NvbnRhaW5lcixyPXRoaXMud290LmdldFNldHRpbmcoInN0cmV0Y2hIIiksaT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgscz10aGlzLndvdC5nZXRTZXR0aW5nKCJwcmV2ZW50T3ZlcmZsb3ciKTtyZXR1cm4gcz9wKHRoaXMuaW5zdGFuY2Uud3RUYWJsZS53dFJvb3RFbGVtZW50KTooZT1hLmZyZWV6ZU92ZXJsYXlzP01hdGgubWluKGktdGhpcy5nZXRXb3Jrc3BhY2VPZmZzZXQoKS5sZWZ0LGkpOk1hdGgubWluKHRoaXMuZ2V0Q29udGFpbmVyRmlsbFdpZHRoKCksaS10aGlzLmdldFdvcmtzcGFjZU9mZnNldCgpLmxlZnQsaSksbz09PXdpbmRvdyYmbj4wJiZ0aGlzLnN1bUNvbHVtbldpZHRocygwLG4tMSk+ZT9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg6byE9PXdpbmRvdyYmKHQ9aCh0aGlzLmluc3RhbmNlLnd0T3ZlcmxheXMubGVmdE92ZXJsYXkudHJpbW1pbmdDb250YWluZXIsIm92ZXJmbG93IiksInNjcm9sbCI9PXR8fCJoaWRkZW4iPT10fHwiYXV0byI9PXQpP01hdGgubWF4KGUsby5jbGllbnRXaWR0aCk6Im5vbmUiIT09ciYmcj9lOk1hdGgubWF4KGUscCh0aGlzLmluc3RhbmNlLnd0VGFibGUuVEFCTEUpKSl9LGhhc1ZlcnRpY2FsU2Nyb2xsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0V29ya3NwYWNlQWN0dWFsSGVpZ2h0KCk+dGhpcy5nZXRXb3Jrc3BhY2VIZWlnaHQoKX0saGFzSG9yaXpvbnRhbFNjcm9sbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFdvcmtzcGFjZUFjdHVhbFdpZHRoKCk+dGhpcy5nZXRXb3Jrc3BhY2VXaWR0aCgpfSxzdW1Db2x1bW5XaWR0aHM6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDt0PmU7KW4rPXRoaXMud290Lnd0VGFibGUuZ2V0Q29sdW1uV2lkdGgoZSksZSsrO3JldHVybiBufSxnZXRDb250YWluZXJGaWxsV2lkdGg6ZnVuY3Rpb24oKXtpZih0aGlzLmNvbnRhaW5lcldpZHRoKXJldHVybiB0aGlzLmNvbnRhaW5lcldpZHRoO3ZhciBlLHQsbj10aGlzLmluc3RhbmNlLnd0VGFibGUuaG9sZGVyO3JldHVybiB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQuc3R5bGUud2lkdGg9IjEwMCUiLHQuc3R5bGUuaGVpZ2h0PSIxcHgiLG4uYXBwZW5kQ2hpbGQodCksZT10Lm9mZnNldFdpZHRoLHRoaXMuY29udGFpbmVyV2lkdGg9ZSxuLnJlbW92ZUNoaWxkKHQpLGV9LGdldFdvcmtzcGFjZU9mZnNldDpmdW5jdGlvbigpe3JldHVybiBkKHRoaXMud290Lnd0VGFibGUuVEFCTEUpfSxnZXRXb3Jrc3BhY2VBY3R1YWxIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLndvdC53dFRhYmxlLlRBQkxFKX0sZ2V0V29ya3NwYWNlQWN0dWFsV2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gcCh0aGlzLndvdC53dFRhYmxlLlRBQkxFKXx8cCh0aGlzLndvdC53dFRhYmxlLlRCT0RZKXx8cCh0aGlzLndvdC53dFRhYmxlLlRIRUFEKX0sZ2V0Q29sdW1uSGVhZGVySGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGlzTmFOKHRoaXMuY29sdW1uSGVhZGVySGVpZ2h0KSYmKHRoaXMuY29sdW1uSGVhZGVySGVpZ2h0PWYodGhpcy53b3Qud3RUYWJsZS5USEVBRCkpLHRoaXMuY29sdW1uSGVhZGVySGVpZ2h0fSxnZXRWaWV3cG9ydEhlaWdodDpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5nZXRXb3Jrc3BhY2VIZWlnaHQoKTtyZXR1cm4gdD09PTEvMD90OihlPXRoaXMuZ2V0Q29sdW1uSGVhZGVySGVpZ2h0KCksZT4wJiYodC09ZSksdCl9LGdldFJvd0hlYWRlcldpZHRoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5nKCJyb3dIZWFkZXJXaWR0aCIpLHQ9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5nKCJyb3dIZWFkZXJzIik7aWYoZSl7dGhpcy5yb3dIZWFkZXJXaWR0aD0wO2Zvcih2YXIgbj0wLG89dC5sZW5ndGg7bz5uO24rKyl0aGlzLnJvd0hlYWRlcldpZHRoKz1lW25dfHxlfWlmKHRoaXMud290LmNsb25lU291cmNlKXJldHVybiB0aGlzLndvdC5jbG9uZVNvdXJjZS53dFZpZXdwb3J0LmdldFJvd0hlYWRlcldpZHRoKCk7aWYoaXNOYU4odGhpcy5yb3dIZWFkZXJXaWR0aCkpaWYodC5sZW5ndGgpe3ZhciByPXRoaXMuaW5zdGFuY2Uud3RUYWJsZS5UQUJMRS5xdWVyeVNlbGVjdG9yKCJUSCIpO3RoaXMucm93SGVhZGVyV2lkdGg9MDtmb3IodmFyIGk9MCxzPXQubGVuZ3RoO3M+aTtpKyspcj8odGhpcy5yb3dIZWFkZXJXaWR0aCs9cChyKSxyPXIubmV4dFNpYmxpbmcpOnRoaXMucm93SGVhZGVyV2lkdGgrPTUwfWVsc2UgdGhpcy5yb3dIZWFkZXJXaWR0aD0wO3JldHVybiB0aGlzLnJvd0hlYWRlcldpZHRofSxnZXRWaWV3cG9ydFdpZHRoOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmdldFdvcmtzcGFjZVdpZHRoKCk7cmV0dXJuIHQ9PT0xLzA/dDooZT10aGlzLmdldFJvd0hlYWRlcldpZHRoKCksZT4wP3QtZTp0KX0sY3JlYXRlUm93c0NhbGN1bGF0b3I6ZnVuY3Rpb24oKXt2YXIgZSx0LG4sbyxyLGkscyxsPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ITEsYT10aGlzO3JldHVybiB0aGlzLnJvd0hlYWRlcldpZHRoPU5hTixlPXRoaXMud290Lnd0U2V0dGluZ3Muc2V0dGluZ3MucmVuZGVyQWxsUm93cz8xLzA6dGhpcy5nZXRWaWV3cG9ydEhlaWdodCgpLHQ9dGhpcy53b3Qud3RPdmVybGF5cy50b3BPdmVybGF5LmdldFNjcm9sbFBvc2l0aW9uKCktdGhpcy53b3Qud3RPdmVybGF5cy50b3BPdmVybGF5LmdldFRhYmxlUGFyZW50T2Zmc2V0KCksMD50JiYodD0wKSxuPXRoaXMud290LmdldFNldHRpbmcoImZpeGVkUm93c1RvcCIpLHI9dGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRSb3dzQm90dG9tIikscz10aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKSxuJiYoaT10aGlzLndvdC53dE92ZXJsYXlzLnRvcE92ZXJsYXkuc3VtQ2VsbFNpemVzKDAsbiksdCs9aSxlLT1pKSxyJiZ0aGlzLndvdC53dE92ZXJsYXlzLmJvdHRvbU92ZXJsYXkuY2xvbmUmJihpPXRoaXMud290Lnd0T3ZlcmxheXMuYm90dG9tT3ZlcmxheS5zdW1DZWxsU2l6ZXMocy1yLHMpLGUtPWkpLG89dGhpcy53b3Qud3RUYWJsZS5ob2xkZXIuY2xpZW50SGVpZ2h0PT09dGhpcy53b3Qud3RUYWJsZS5ob2xkZXIub2Zmc2V0SGVpZ2h0PzA6YygpLG5ldyB3KGUsdCx0aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKSxmdW5jdGlvbihlKXtyZXR1cm4gYS53b3Qud3RUYWJsZS5nZXRSb3dIZWlnaHQoZSl9LGw/bnVsbDp0aGlzLndvdC53dFNldHRpbmdzLnNldHRpbmdzLnZpZXdwb3J0Um93Q2FsY3VsYXRvck92ZXJyaWRlLGwsbyl9LGNyZWF0ZUNvbHVtbnNDYWxjdWxhdG9yOmZ1bmN0aW9uKCl7dmFyIGUsdCxuPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ITEsbz10aGlzLHI9dGhpcy5nZXRWaWV3cG9ydFdpZHRoKCk7aWYodGhpcy5jb2x1bW5IZWFkZXJIZWlnaHQ9TmFOLGU9dGhpcy53b3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5nZXRTY3JvbGxQb3NpdGlvbigpLXRoaXMud290Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkuZ2V0VGFibGVQYXJlbnRPZmZzZXQoKSwwPmUmJihlPTApLHQ9dGhpcy53b3QuZ2V0U2V0dGluZygiZml4ZWRDb2x1bW5zTGVmdCIpKXt2YXIgaT10aGlzLndvdC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LnN1bUNlbGxTaXplcygwLHQpO2UrPWksci09aX1yZXR1cm4gdGhpcy53b3Qud3RUYWJsZS5ob2xkZXIuY2xpZW50V2lkdGghPT10aGlzLndvdC53dFRhYmxlLmhvbGRlci5vZmZzZXRXaWR0aCYmKHItPWMoKSksbmV3IG0ocixlLHRoaXMud290LmdldFNldHRpbmcoInRvdGFsQ29sdW1ucyIpLGZ1bmN0aW9uKGUpe3JldHVybiBvLndvdC53dFRhYmxlLmdldENvbHVtbldpZHRoKGUpfSxuP251bGw6dGhpcy53b3Qud3RTZXR0aW5ncy5zZXR0aW5ncy52aWV3cG9ydENvbHVtbkNhbGN1bGF0b3JPdmVycmlkZSxuLHRoaXMud290LmdldFNldHRpbmcoInN0cmV0Y2hIIiksZnVuY3Rpb24oZSx0KXtyZXR1cm4gby53b3QuZ2V0U2V0dGluZygib25CZWZvcmVTdHJldGNoaW5nQ29sdW1uV2lkdGgiLGUsdCl9KX0sY3JlYXRlUmVuZGVyQ2FsY3VsYXRvcnM6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiExO2lmKGUpe3ZhciB0PXRoaXMuY3JlYXRlUm93c0NhbGN1bGF0b3IoITApLG49dGhpcy5jcmVhdGVDb2x1bW5zQ2FsY3VsYXRvcighMCk7dGhpcy5hcmVBbGxQcm9wb3NlZFZpc2libGVSb3dzQWxyZWFkeVJlbmRlcmVkKHQpJiZ0aGlzLmFyZUFsbFByb3Bvc2VkVmlzaWJsZUNvbHVtbnNBbHJlYWR5UmVuZGVyZWQobil8fChlPSExKX1yZXR1cm4gZXx8KHRoaXMucm93c1JlbmRlckNhbGN1bGF0b3I9dGhpcy5jcmVhdGVSb3dzQ2FsY3VsYXRvcigpLHRoaXMuY29sdW1uc1JlbmRlckNhbGN1bGF0b3I9dGhpcy5jcmVhdGVDb2x1bW5zQ2FsY3VsYXRvcigpKSx0aGlzLnJvd3NWaXNpYmxlQ2FsY3VsYXRvcj1udWxsLHRoaXMuY29sdW1uc1Zpc2libGVDYWxjdWxhdG9yPW51bGwsZX0sY3JlYXRlVmlzaWJsZUNhbGN1bGF0b3JzOmZ1bmN0aW9uKCl7dGhpcy5yb3dzVmlzaWJsZUNhbGN1bGF0b3I9dGhpcy5jcmVhdGVSb3dzQ2FsY3VsYXRvcighMCksdGhpcy5jb2x1bW5zVmlzaWJsZUNhbGN1bGF0b3I9dGhpcy5jcmVhdGVDb2x1bW5zQ2FsY3VsYXRvcighMCl9LGFyZUFsbFByb3Bvc2VkVmlzaWJsZVJvd3NBbHJlYWR5UmVuZGVyZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm93c1Zpc2libGVDYWxjdWxhdG9yP2Uuc3RhcnRSb3c8dGhpcy5yb3dzUmVuZGVyQ2FsY3VsYXRvci5zdGFydFJvd3x8ZS5zdGFydFJvdz09PXRoaXMucm93c1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRSb3cmJmUuc3RhcnRSb3c+MD8hMTohKGUuZW5kUm93PnRoaXMucm93c1JlbmRlckNhbGN1bGF0b3IuZW5kUm93fHxlLmVuZFJvdz09PXRoaXMucm93c1JlbmRlckNhbGN1bGF0b3IuZW5kUm93JiZlLmVuZFJvdzx0aGlzLndvdC5nZXRTZXR0aW5nKCJ0b3RhbFJvd3MiKS0xKTohMX0sYXJlQWxsUHJvcG9zZWRWaXNpYmxlQ29sdW1uc0FscmVhZHlSZW5kZXJlZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb2x1bW5zVmlzaWJsZUNhbGN1bGF0b3I/ZS5zdGFydENvbHVtbjx0aGlzLmNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yLnN0YXJ0Q29sdW1ufHxlLnN0YXJ0Q29sdW1uPT09dGhpcy5jb2x1bW5zUmVuZGVyQ2FsY3VsYXRvci5zdGFydENvbHVtbiYmZS5zdGFydENvbHVtbj4wPyExOiEoZS5lbmRDb2x1bW4+dGhpcy5jb2x1bW5zUmVuZGVyQ2FsY3VsYXRvci5lbmRDb2x1bW58fGUuZW5kQ29sdW1uPT09dGhpcy5jb2x1bW5zUmVuZGVyQ2FsY3VsYXRvci5lbmRDb2x1bW4mJmUuZW5kQ29sdW1uPHRoaXMud290LmdldFNldHRpbmcoInRvdGFsQ29sdW1ucyIpLTEpOiExfX0se30pLHdpbmRvdy5XYWxrb250YWJsZVZpZXdwb3J0PXZ9LHticm93c2VyOjIzLCJjYWxjdWxhdG9yL3ZpZXdwb3J0Q29sdW1ucyI6MywiY2FsY3VsYXRvci92aWV3cG9ydFJvd3MiOjQsZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0Nn1dLDIzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0KXt2YXIgbj1uZXcgby5Db3JlKGUsdHx8e30pO3JldHVybiBuLmluaXQoKSxufXZhciByLGkscyxsLGEsdSxjLGgsZCxmLHAsZyxtLHcsdix5LGIsQyxfLFIsUyxFO3QuZXhwb3J0cz1vLG8udXRpbHM9e30scj1lKCJzaGltcy9ydW50aW1lIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9LGk9ZSgiZXM2Y29sbGVjdGlvbnMiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX07dmFyIFQ9KHM9ZSgicGx1Z2luSG9va3MiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLkhvb2tzO28uaG9va3N8fChvLmhvb2tzPW5ldyBUKSxvLnV0aWxzLkhvb2tzPVQsbD1lKCJjb3JlIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9LGE9ZSgicmVuZGVyZXJzL19jZWxsRGVjb3JhdG9yIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9LHU9ZSgiY2VsbFR5cGVzIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9LGM9ZSgicGx1Z2lucy9qcXVlcnlIYW5kc29udGFibGUiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y307dmFyIE09KGg9ZSgiaGVscGVycy9hcnJheSIpLGgmJmguX19lc01vZHVsZSYmaHx8eyJkZWZhdWx0IjpofSksTz0oZD1lKCJoZWxwZXJzL2Jyb3dzZXIiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLGs9KGY9ZSgiaGVscGVycy9kYXRhIiksZiYmZi5fX2VzTW9kdWxlJiZmfHx7ImRlZmF1bHQiOmZ9KSxIPShwPWUoImhlbHBlcnMvZGF0ZSIpLHAmJnAuX19lc01vZHVsZSYmcHx8eyJkZWZhdWx0IjpwfSksRD0oZz1lKCJoZWxwZXJzL2ZlYXR1cmUiKSxnJiZnLl9fZXNNb2R1bGUmJmd8fHsiZGVmYXVsdCI6Z30pLEE9KG09ZSgiaGVscGVycy9mdW5jdGlvbiIpLG0mJm0uX19lc01vZHVsZSYmbXx8eyJkZWZhdWx0IjptfSkseD0odz1lKCJoZWxwZXJzL21peGVkIiksdyYmdy5fX2VzTW9kdWxlJiZ3fHx7ImRlZmF1bHQiOnd9KSxQPSh2PWUoImhlbHBlcnMvbnVtYmVyIiksdiYmdi5fX2VzTW9kdWxlJiZ2fHx7ImRlZmF1bHQiOnZ9KSxOPSh5PWUoImhlbHBlcnMvb2JqZWN0IikseSYmeS5fX2VzTW9kdWxlJiZ5fHx7ImRlZmF1bHQiOnl9KSxMPShiPWUoImhlbHBlcnMvc2V0dGluZyIpLGImJmIuX19lc01vZHVsZSYmYnx8eyJkZWZhdWx0IjpifSksVz0oQz1lKCJoZWxwZXJzL3N0cmluZyIpLEMmJkMuX19lc01vZHVsZSYmQ3x8eyJkZWZhdWx0IjpDfSksST0oXz1lKCJoZWxwZXJzL3VuaWNvZGUiKSxfJiZfLl9fZXNNb2R1bGUmJl98fHsiZGVmYXVsdCI6X30pLGo9KFI9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLFImJlIuX19lc01vZHVsZSYmUnx8eyJkZWZhdWx0IjpSfSksVj0oUz1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLFMmJlMuX19lc01vZHVsZSYmU3x8eyJkZWZhdWx0IjpTfSksRj1bTSxPLGssSCxELEEseCxQLE4sTCxXLEldLEI9W2osVl07by5idWlsZERhdGU9Ik1vbiBKdW4gMDYgMjAxNiAxMzozMDowMyBHTVQrMDIwMCAoQ0VTVCkiLG8ucGFja2FnZU5hbWU9ImhhbmRzb250YWJsZSIsby52ZXJzaW9uPSIwLjI1LjEiO3ZhciB6PSJAQGJhc2VWZXJzaW9uIjsvXkBALy50ZXN0KHopfHwoby5iYXNlVmVyc2lvbj16KSxvLnBsdWdpbnM9e307dmFyIFk9KEU9ZSgicGx1Z2lucyIpLEUmJkUuX19lc01vZHVsZSYmRXx8eyJkZWZhdWx0IjpFfSkucmVnaXN0ZXJQbHVnaW47by5wbHVnaW5zLnJlZ2lzdGVyUGx1Z2luPVksby5oZWxwZXI9e30sby5kb209e30sby5Eb209by5kb20sTS5hcnJheUVhY2goRixmdW5jdGlvbihlKXtNLmFycmF5RWFjaChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxmdW5jdGlvbih0KXsiXyIhPT10LmNoYXJBdCgwKSYmKG8uaGVscGVyW3RdPWVbdF0pfSl9KSxNLmFycmF5RWFjaChCLGZ1bmN0aW9uKGUpe00uYXJyYXlFYWNoKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLGZ1bmN0aW9uKHQpeyJfIiE9PXQuY2hhckF0KDApJiYoby5kb21bdF09ZVt0XSl9KX0pfSx7Y2VsbFR5cGVzOjI0LGNvcmU6MjUsZXM2Y29sbGVjdGlvbnM6ImVzNmNvbGxlY3Rpb25zIiwiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvYnJvd3NlciI6NDMsImhlbHBlcnMvZGF0YSI6NDQsImhlbHBlcnMvZGF0ZSI6NDUsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LCJoZWxwZXJzL2RvbS9ldmVudCI6NDcsImhlbHBlcnMvZmVhdHVyZSI6NDgsImhlbHBlcnMvZnVuY3Rpb24iOjQ5LCJoZWxwZXJzL21peGVkIjo1MCwiaGVscGVycy9udW1iZXIiOjUxLCJoZWxwZXJzL29iamVjdCI6NTIsImhlbHBlcnMvc2V0dGluZyI6NTMsImhlbHBlcnMvc3RyaW5nIjo1NCwiaGVscGVycy91bmljb2RlIjo1NSxwbHVnaW5Ib29rczo1OCxwbHVnaW5zOjU5LCJwbHVnaW5zL2pxdWVyeUhhbmRzb250YWJsZSI6MSwicmVuZGVyZXJzL19jZWxsRGVjb3JhdG9yIjo5Mywic2hpbXMvcnVudGltZSI6MTAwfV0sMjQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIG8scixpLHMsbCxhLHUsYyxoLGQsZixwLGcsbSx3LHYseSxiLEMsXyxSLFMsRSxULE09KG89ZSgiaGVscGVycy9icm93c2VyIiksCm8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkuaXNNb2JpbGVCcm93c2VyLE89KHI9ZSgiZWRpdG9ycyIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuZ2V0RWRpdG9yQ29uc3RydWN0b3Isaz0oaT1lKCJyZW5kZXJlcnMiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmdldFJlbmRlcmVyLEg9KChzPWUoImVkaXRvcnMvYXV0b2NvbXBsZXRlRWRpdG9yIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5BdXRvY29tcGxldGVFZGl0b3IsKGw9ZSgiZWRpdG9ycy9jaGVja2JveEVkaXRvciIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuQ2hlY2tib3hFZGl0b3IsKGE9ZSgiZWRpdG9ycy9kYXRlRWRpdG9yIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5EYXRlRWRpdG9yLCh1PWUoImVkaXRvcnMvZHJvcGRvd25FZGl0b3IiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLkRyb3Bkb3duRWRpdG9yLChjPWUoImVkaXRvcnMvaGFuZHNvbnRhYmxlRWRpdG9yIiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KS5IYW5kc29udGFibGVFZGl0b3IsKGg9ZSgiZWRpdG9ycy9tb2JpbGVUZXh0RWRpdG9yIiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KS5Nb2JpbGVUZXh0RWRpdG9yLChkPWUoImVkaXRvcnMvbnVtZXJpY0VkaXRvciIpLGQmJmQuX19lc01vZHVsZSYmZHx8eyJkZWZhdWx0IjpkfSkuTnVtZXJpY0VkaXRvciwoZj1lKCJlZGl0b3JzL3Bhc3N3b3JkRWRpdG9yIiksZiYmZi5fX2VzTW9kdWxlJiZmfHx7ImRlZmF1bHQiOmZ9KS5QYXNzd29yZEVkaXRvciwocD1lKCJlZGl0b3JzL3NlbGVjdEVkaXRvciIpLHAmJnAuX19lc01vZHVsZSYmcHx8eyJkZWZhdWx0IjpwfSkuU2VsZWN0RWRpdG9yLChnPWUoImVkaXRvcnMvdGV4dEVkaXRvciIpLGcmJmcuX19lc01vZHVsZSYmZ3x8eyJkZWZhdWx0IjpnfSkuVGV4dEVkaXRvciwobT1lKCJyZW5kZXJlcnMvYXV0b2NvbXBsZXRlUmVuZGVyZXIiKSxtJiZtLl9fZXNNb2R1bGUmJm18fHsiZGVmYXVsdCI6bX0pLkF1dG9jb21wbGV0ZVJlbmRlcmVyLCh3PWUoInJlbmRlcmVycy9jaGVja2JveFJlbmRlcmVyIiksdyYmdy5fX2VzTW9kdWxlJiZ3fHx7ImRlZmF1bHQiOnd9KS5DaGVja2JveFJlbmRlcmVyLCh2PWUoInJlbmRlcmVycy9odG1sUmVuZGVyZXIiKSx2JiZ2Ll9fZXNNb2R1bGUmJnZ8fHsiZGVmYXVsdCI6dn0pLkh0bWxSZW5kZXJlciwoeT1lKCJyZW5kZXJlcnMvbnVtZXJpY1JlbmRlcmVyIikseSYmeS5fX2VzTW9kdWxlJiZ5fHx7ImRlZmF1bHQiOnl9KS5OdW1lcmljUmVuZGVyZXIsKGI9ZSgicmVuZGVyZXJzL3Bhc3N3b3JkUmVuZGVyZXIiKSxiJiZiLl9fZXNNb2R1bGUmJmJ8fHsiZGVmYXVsdCI6Yn0pLlBhc3N3b3JkUmVuZGVyZXIsKEM9ZSgicmVuZGVyZXJzL3RleHRSZW5kZXJlciIpLEMmJkMuX19lc01vZHVsZSYmQ3x8eyJkZWZhdWx0IjpDfSkuVGV4dFJlbmRlcmVyLChfPWUoInZhbGlkYXRvcnMvYXV0b2NvbXBsZXRlVmFsaWRhdG9yIiksXyYmXy5fX2VzTW9kdWxlJiZffHx7ImRlZmF1bHQiOl99KS5BdXRvY29tcGxldGVWYWxpZGF0b3IsKFI9ZSgidmFsaWRhdG9ycy9kYXRlVmFsaWRhdG9yIiksUiYmUi5fX2VzTW9kdWxlJiZSfHx7ImRlZmF1bHQiOlJ9KS5EYXRlVmFsaWRhdG9yLChTPWUoInZhbGlkYXRvcnMvdGltZVZhbGlkYXRvciIpLFMmJlMuX19lc01vZHVsZSYmU3x8eyJkZWZhdWx0IjpTfSkuVGltZVZhbGlkYXRvciwoRT1lKCJ2YWxpZGF0b3JzL251bWVyaWNWYWxpZGF0b3IiKSxFJiZFLl9fZXNNb2R1bGUmJkV8fHsiZGVmYXVsdCI6RX0pLk51bWVyaWNWYWxpZGF0b3IsKFQ9ZSgiYnJvd3NlciIpLFQmJlQuX19lc01vZHVsZSYmVHx8eyJkZWZhdWx0IjpUfSlbImRlZmF1bHQiXSk7SC5BdXRvY29tcGxldGVDZWxsPXtlZGl0b3I6TygiYXV0b2NvbXBsZXRlIikscmVuZGVyZXI6aygiYXV0b2NvbXBsZXRlIiksdmFsaWRhdG9yOkguQXV0b2NvbXBsZXRlVmFsaWRhdG9yfSxILkNoZWNrYm94Q2VsbD17ZWRpdG9yOk8oImNoZWNrYm94IikscmVuZGVyZXI6aygiY2hlY2tib3giKX0sSC5UZXh0Q2VsbD17ZWRpdG9yOk8oTSgpPyJtb2JpbGUiOiJ0ZXh0IikscmVuZGVyZXI6aygidGV4dCIpfSxILk51bWVyaWNDZWxsPXtlZGl0b3I6TygibnVtZXJpYyIpLHJlbmRlcmVyOmsoIm51bWVyaWMiKSx2YWxpZGF0b3I6SC5OdW1lcmljVmFsaWRhdG9yLGRhdGFUeXBlOiJudW1iZXIifSxILkRhdGVDZWxsPXtlZGl0b3I6TygiZGF0ZSIpLHZhbGlkYXRvcjpILkRhdGVWYWxpZGF0b3IscmVuZGVyZXI6aygiYXV0b2NvbXBsZXRlIil9LEguVGltZUNlbGw9e2VkaXRvcjpPKCJ0ZXh0IiksdmFsaWRhdG9yOkguVGltZVZhbGlkYXRvcixyZW5kZXJlcjprKCJ0ZXh0Iil9LEguSGFuZHNvbnRhYmxlQ2VsbD17ZWRpdG9yOk8oImhhbmRzb250YWJsZSIpLHJlbmRlcmVyOmsoImF1dG9jb21wbGV0ZSIpfSxILlBhc3N3b3JkQ2VsbD17ZWRpdG9yOk8oInBhc3N3b3JkIikscmVuZGVyZXI6aygicGFzc3dvcmQiKSxjb3B5YWJsZTohMX0sSC5Ecm9wZG93bkNlbGw9e2VkaXRvcjpPKCJkcm9wZG93biIpLHJlbmRlcmVyOmsoImF1dG9jb21wbGV0ZSIpLHZhbGlkYXRvcjpILkF1dG9jb21wbGV0ZVZhbGlkYXRvcn0sSC5jZWxsVHlwZXM9e3RleHQ6SC5UZXh0Q2VsbCxkYXRlOkguRGF0ZUNlbGwsdGltZTpILlRpbWVDZWxsLG51bWVyaWM6SC5OdW1lcmljQ2VsbCxjaGVja2JveDpILkNoZWNrYm94Q2VsbCxhdXRvY29tcGxldGU6SC5BdXRvY29tcGxldGVDZWxsLGhhbmRzb250YWJsZTpILkhhbmRzb250YWJsZUNlbGwscGFzc3dvcmQ6SC5QYXNzd29yZENlbGwsZHJvcGRvd246SC5Ecm9wZG93bkNlbGx9LEguY2VsbExvb2t1cD17dmFsaWRhdG9yOntudW1lcmljOkguTnVtZXJpY1ZhbGlkYXRvcixhdXRvY29tcGxldGU6SC5BdXRvY29tcGxldGVWYWxpZGF0b3J9fX0se2Jyb3dzZXI6MjMsZWRpdG9yczoyOSwiZWRpdG9ycy9hdXRvY29tcGxldGVFZGl0b3IiOjMxLCJlZGl0b3JzL2NoZWNrYm94RWRpdG9yIjozMiwiZWRpdG9ycy9kYXRlRWRpdG9yIjozMywiZWRpdG9ycy9kcm9wZG93bkVkaXRvciI6MzQsImVkaXRvcnMvaGFuZHNvbnRhYmxlRWRpdG9yIjozNSwiZWRpdG9ycy9tb2JpbGVUZXh0RWRpdG9yIjozNiwiZWRpdG9ycy9udW1lcmljRWRpdG9yIjozNywiZWRpdG9ycy9wYXNzd29yZEVkaXRvciI6MzgsImVkaXRvcnMvc2VsZWN0RWRpdG9yIjozOSwiZWRpdG9ycy90ZXh0RWRpdG9yIjo0MCwiaGVscGVycy9icm93c2VyIjo0MyxyZW5kZXJlcnM6OTIsInJlbmRlcmVycy9hdXRvY29tcGxldGVSZW5kZXJlciI6OTQsInJlbmRlcmVycy9jaGVja2JveFJlbmRlcmVyIjo5NSwicmVuZGVyZXJzL2h0bWxSZW5kZXJlciI6OTYsInJlbmRlcmVycy9udW1lcmljUmVuZGVyZXIiOjk3LCJyZW5kZXJlcnMvcGFzc3dvcmRSZW5kZXJlciI6OTgsInJlbmRlcmVycy90ZXh0UmVuZGVyZXIiOjk5LCJ2YWxpZGF0b3JzL2F1dG9jb21wbGV0ZVZhbGlkYXRvciI6MTA1LCJ2YWxpZGF0b3JzL2RhdGVWYWxpZGF0b3IiOjEwNiwidmFsaWRhdG9ycy9udW1lcmljVmFsaWRhdG9yIjoxMDcsInZhbGlkYXRvcnMvdGltZVZhbGlkYXRvciI6MTA4fV0sMjU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIG8scixpLHMsbCxhLHUsYyxoLGQsZixwLGcsbSx3LHYseSxiLEMsXyxSLFM9KG89ZSgiYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxFPShyPWUoIm51bWVyYWwiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0sVD0oaT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSxNPVQuYWRkQ2xhc3MsTz1ULmVtcHR5LGs9VC5pc0NoaWxkT2ZXZWJDb21wb25lbnRUYWJsZSxIPVQucmVtb3ZlQ2xhc3MsRD0ocz1lKCJoZWxwZXJzL3NldHRpbmciKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLmNvbHVtbkZhY3RvcnksQT0obD1lKCJoZWxwZXJzL2Jyb3dzZXIiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLmlzTW9iaWxlQnJvd3Nlcix4PShhPWUoImRhdGFNYXAiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLkRhdGFNYXAsUD0odT1lKCJlZGl0b3JNYW5hZ2VyIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5FZGl0b3JNYW5hZ2VyLE49KGM9ZSgiZXZlbnRNYW5hZ2VyIiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KS5ldmVudE1hbmFnZXIsTD0oaD1lKCJoZWxwZXJzL29iamVjdCIpLGgmJmguX19lc01vZHVsZSYmaHx8eyJkZWZhdWx0IjpofSksVz1MLmV4dGVuZCxJPUwuZHVja1NjaGVtYSxqPUwuaXNPYmplY3RFcXVhbHMsVj1MLmRlZXBDbG9uZSxGPShkPWUoImhlbHBlcnMvYXJyYXkiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLEI9Ri5hcnJheUZsYXR0ZW4sej1GLmFycmF5TWFwLFk9KGY9ZSgicGx1Z2lucyIpLGYmJmYuX19lc01vZHVsZSYmZnx8eyJkZWZhdWx0IjpmfSkuZ2V0UGx1Z2luLFU9KHA9ZSgicmVuZGVyZXJzIikscCYmcC5fX2VzTW9kdWxlJiZwfHx7ImRlZmF1bHQiOnB9KS5nZXRSZW5kZXJlcixHPShnPWUoImhlbHBlcnMvc3RyaW5nIiksZyYmZy5fX2VzTW9kdWxlJiZnfHx7ImRlZmF1bHQiOmd9KS5yYW5kb21TdHJpbmcsJD0obT1lKCJoZWxwZXJzL251bWJlciIpLG0mJm0uX19lc01vZHVsZSYmbXx8eyJkZWZhdWx0IjptfSkucmFuZ2VFYWNoLFg9KHc9ZSgidGFibGVWaWV3IiksdyYmdy5fX2VzTW9kdWxlJiZ3fHx7ImRlZmF1bHQiOnd9KS5UYWJsZVZpZXcsSz0odj1lKCJkYXRhU291cmNlIiksdiYmdi5fX2VzTW9kdWxlJiZ2fHx7ImRlZmF1bHQiOnZ9KS5EYXRhU291cmNlLHE9KHk9ZSgiaGVscGVycy9kYXRhIikseSYmeS5fX2VzTW9kdWxlJiZ5fHx7ImRlZmF1bHQiOnl9KSxaPXEudHJhbnNsYXRlUm93c1RvQ29sdW1ucyxKPXEuY2VsbE1ldGhvZExvb2t1cEZhY3RvcnksUT1xLnNwcmVhZHNoZWV0Q29sdW1uTGFiZWwsZWU9KGI9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIiksYiYmYi5fX2VzTW9kdWxlJiZifHx7ImRlZmF1bHQiOmJ9KS5XYWxrb250YWJsZUNlbGxDb29yZHMsdGU9KEM9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvcmFuZ2UiKSxDJiZDLl9fZXNNb2R1bGUmJkN8fHsiZGVmYXVsdCI6Q30pLldhbGtvbnRhYmxlQ2VsbFJhbmdlLG5lPSgoXz1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvc2VsZWN0aW9uIiksXyYmXy5fX2VzTW9kdWxlJiZffHx7ImRlZmF1bHQiOl99KS5XYWxrb250YWJsZVNlbGVjdGlvbiwoUj1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2FsY3VsYXRvci92aWV3cG9ydENvbHVtbnMiKSxSJiZSLl9fZXNNb2R1bGUmJlJ8fHsiZGVmYXVsdCI6Un0pLldhbGtvbnRhYmxlVmlld3BvcnRDb2x1bW5zQ2FsY3VsYXRvcik7Uy5hY3RpdmVHdWlkPW51bGwsUy5Db3JlPWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe3ZhciBlPSExO3JldHVybnt2YWxpZGF0b3JzSW5RdWV1ZTowLHZhbGlkOiEwLGFkZFZhbGlkYXRvclRvUXVldWU6ZnVuY3Rpb24oKXt0aGlzLnZhbGlkYXRvcnNJblF1ZXVlKyssZT0hMX0scmVtb3ZlVmFsaWRhdG9yRm9ybVF1ZXVlOmZ1bmN0aW9uKCl7dGhpcy52YWxpZGF0b3JzSW5RdWV1ZT10aGlzLnZhbGlkYXRvcnNJblF1ZXVlLTE8MD8wOnRoaXMudmFsaWRhdG9yc0luUXVldWUtMSx0aGlzLmNoZWNrSWZRdWV1ZUlzRW1wdHkoKX0sb25RdWV1ZUVtcHR5OmZ1bmN0aW9uKGUpe30sY2hlY2tJZlF1ZXVlSXNFbXB0eTpmdW5jdGlvbigpezA9PXRoaXMudmFsaWRhdG9yc0luUXVldWUmJjA9PWUmJihlPSEwLHRoaXMub25RdWV1ZUVtcHR5KHRoaXMudmFsaWQpKX19fWZ1bmN0aW9uIG8oZSx0LG8pe2Z1bmN0aW9uIHIoKXt2YXIgbjtlLmxlbmd0aCYmKG49Uy5ob29rcy5ydW4obSwiYmVmb3JlQ2hhbmdlIixlLHQpLCJmdW5jdGlvbiI9PXR5cGVvZiBuP2NvbnNvbGUud2FybigiWW91ciBiZWZvcmVDaGFuZ2UgY2FsbGJhY2sgcmV0dXJucyBhIGZ1bmN0aW9uLiBJdCdzIG5vdCBzdXBwb3J0ZWQgc2luY2UgSGFuZHNvbnRhYmxlIDAuMTIuMSAoYW5kIHRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsIG5vdCBiZSBleGVjdXRlZCkuIik6bj09PSExJiZlLnNwbGljZSgwLGUubGVuZ3RoKSksbygpfXZhciBpPW5ldyBuO2kub25RdWV1ZUVtcHR5PXI7Zm9yKHZhciBzPWUubGVuZ3RoLTE7cz49MDtzLS0paWYobnVsbD09PWVbc10pZS5zcGxpY2UocywxKTtlbHNle3ZhciBsPWVbc11bMF0sYT1oLnByb3BUb0NvbChlW3NdWzFdKSx1PW0uZ2V0Q2VsbE1ldGEobCxhKTtpZigibnVtZXJpYyI9PT11LnR5cGUmJiJzdHJpbmciPT10eXBlb2YgZVtzXVszXSYmZVtzXVszXS5sZW5ndGg+MCYmKC9eLT9bXGRcc10qKFwufFwsKT9cZCokLy50ZXN0KGVbc11bM10pfHx1LmZvcm1hdCkpe3ZhciBjPWVbc11bM10ubGVuZ3RoOyJ1bmRlZmluZWQiPT10eXBlb2YgdS5sYW5ndWFnZT9FLmxhbmd1YWdlKCJlbiIpOmVbc11bM10uaW5kZXhPZigiLiIpPT09Yy0zJiYtMT09PWVbc11bM10uaW5kZXhPZigiLCIpP0UubGFuZ3VhZ2UoImVuIik6RS5sYW5ndWFnZSh1Lmxhbmd1YWdlKSxFLnZhbGlkYXRlKGVbc11bM10pJiYoZVtzXVszXT1FKCkudW5mb3JtYXQoZVtzXVszXSkpfW0uZ2V0Q2VsbFZhbGlkYXRvcih1KSYmKGkuYWRkVmFsaWRhdG9yVG9RdWV1ZSgpLG0udmFsaWRhdGVDZWxsKGVbc11bM10sdSxmdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbihvKXtpZigiYm9vbGVhbiIhPXR5cGVvZiBvKXRocm93IG5ldyBFcnJvcigiVmFsaWRhdGlvbiBlcnJvcjogcmVzdWx0IGlzIG5vdCBib29sZWFuIik7bz09PSExJiZuLmFsbG93SW52YWxpZD09PSExJiYoZS5zcGxpY2UodCwxKSxuLnZhbGlkPSEwLC0tdCksaS5yZW1vdmVWYWxpZGF0b3JGb3JtUXVldWUoKX19KHMsdSksdCkpfWkuY2hlY2tJZlF1ZXVlSXNFbXB0eSgpfWZ1bmN0aW9uIHIoZSx0KXt2YXIgbj1lLmxlbmd0aC0xO2lmKCEoMD5uKSl7Zm9yKDtuPj0wO24tLSlpZihudWxsIT09ZVtuXSl7aWYobnVsbCE9ZVtuXVsyXXx8bnVsbCE9ZVtuXVszXSl7aWYoYy5zZXR0aW5ncy5hbGxvd0luc2VydFJvdylmb3IoO2Vbbl1bMF0+bS5jb3VudFJvd3MoKS0xOyloLmNyZWF0ZVJvdygpO2lmKCJhcnJheSI9PT1tLmRhdGFUeXBlJiYoIWMuc2V0dGluZ3MuY29sdW1uc3x8MD09PWMuc2V0dGluZ3MuY29sdW1ucy5sZW5ndGgpJiZjLnNldHRpbmdzLmFsbG93SW5zZXJ0Q29sdW1uKWZvcig7aC5wcm9wVG9Db2woZVtuXVsxXSk+bS5jb3VudENvbHMoKS0xOyloLmNyZWF0ZUNvbCgpO2guc2V0KGVbbl1bMF0sZVtuXVsxXSxlW25dWzNdKX19ZWxzZSBlLnNwbGljZShuLDEpO20uZm9yY2VGdWxsUmVuZGVyPSEwLGYuYWRqdXN0Um93c0FuZENvbHMoKSxTLmhvb2tzLnJ1bihtLCJiZWZvcmVDaGFuZ2VSZW5kZXIiLGUsdCkscC5yZWZyZXNoQm9yZGVycyhudWxsLCEwKSxtLnZpZXcud3Qud3RPdmVybGF5cy5hZGp1c3RFbGVtZW50c1NpemUoKSxTLmhvb2tzLnJ1bihtLCJhZnRlckNoYW5nZSIsZSx0fHwiZWRpdCIpfX1mdW5jdGlvbiBpKGUsdCxuKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/ZTpbW2UsdCxuXV19ZnVuY3Rpb24gcyhlKXtpZihlLmhhc093blByb3BlcnR5KCJ0eXBlIikpe3ZhciB0LG49e307aWYoIm9iamVjdCI9PXR5cGVvZiBlLnR5cGUpdD1lLnR5cGU7ZWxzZSBpZigic3RyaW5nIj09dHlwZW9mIGUudHlwZSYmKHQ9Uy5jZWxsVHlwZXNbZS50eXBlXSx2b2lkIDA9PT10KSl0aHJvdyBuZXcgRXJyb3IoJ1lvdSBkZWNsYXJlZCBjZWxsIHR5cGUgIicrZS50eXBlKyciIGFzIGEgc3RyaW5nIHRoYXQgaXMgbm90IG1hcHBlZCB0byBhIGtub3duIG9iamVjdC4gQ2VsbCB0eXBlIG11c3QgYmUgYW4gb2JqZWN0IG9yIGEgc3RyaW5nIG1hcHBlZCB0byBhbiBvYmplY3QgaW4gSGFuZHNvbnRhYmxlLmNlbGxUeXBlcycpO2Zvcih2YXIgbyBpbiB0KXQuaGFzT3duUHJvcGVydHkobykmJiFlLmhhc093blByb3BlcnR5KG8pJiYobltvXT10W29dKTtyZXR1cm4gbn19ZnVuY3Rpb24gbChlKXtyZXR1cm4gUy5ob29rcy5ydW4obSwibW9kaWZ5Um93IixlKX1mdW5jdGlvbiBhKGUpe3JldHVybiBTLmhvb2tzLnJ1bihtLCJtb2RpZnlDb2wiLGUpfWZ1bmN0aW9uIHUoKXt0aHJvdyBuZXcgRXJyb3IoIlRoaXMgbWV0aG9kIGNhbm5vdCBiZSBjYWxsZWQgYmVjYXVzZSB0aGlzIEhhbmRzb250YWJsZSBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWQiKX12YXIgYyxoLGQsZixwLGcsbT10aGlzLHc9ZnVuY3Rpb24oKXt9LHY9TihtKTtXKHcucHJvdG90eXBlLG9lLnByb3RvdHlwZSksVyh3LnByb3RvdHlwZSx0KSxXKHcucHJvdG90eXBlLHModCkpLHRoaXMucm9vdEVsZW1lbnQ9ZSx0aGlzLmlzSG90VGFibGVFbnY9ayh0aGlzLnJvb3RFbGVtZW50KSxTLmV2ZW50TWFuYWdlci5pc0hvdFRhYmxlRW52PXRoaXMuaXNIb3RUYWJsZUVudix0aGlzLmNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLnJlbmRlckNhbGw9ITEsZS5pbnNlcnRCZWZvcmUodGhpcy5jb250YWluZXIsZS5maXJzdENoaWxkKSx0aGlzLmd1aWQ9Imh0XyIrRygpLGQ9bmV3IEsobSksdGhpcy5yb290RWxlbWVudC5pZCYmImh0XyIhPT10aGlzLnJvb3RFbGVtZW50LmlkLnN1YnN0cmluZygwLDMpfHwodGhpcy5yb290RWxlbWVudC5pZD10aGlzLmd1aWQpLGM9e2NlbGxTZXR0aW5nczpbXSxjb2x1bW5TZXR0aW5nczpbXSxjb2x1bW5zU2V0dGluZ0NvbmZsaWN0czpbImRhdGEiLCJ3aWR0aCJdLHNldHRpbmdzOm5ldyB3LHNlbFJhbmdlOm51bGwsaXNQb3B1bGF0ZWQ6bnVsbCxzY3JvbGxhYmxlOm51bGwsZmlyc3RSdW46ITB9LGY9e2FsdGVyOmZ1bmN0aW9uKGUsdCxuLG8scil7ZnVuY3Rpb24gaShlLHQsbixvKXt2YXIgcj1mdW5jdGlvbigpe3ZhciBlO3JldHVybiJhcnJheSI9PT1vP2U9W106Im9iamVjdCI9PT1vJiYoZT17fSksZX0saT16KG5ldyBBcnJheShuKSxmdW5jdGlvbigpe3JldHVybiByKCl9KTtpLnVuc2hpZnQodCwwKSxlLnNwbGljZS5hcHBseShlLGkpfXZhciBzO3N3aXRjaChuPW58fDEsZSl7Y2FzZSJpbnNlcnRfcm93IjppZihtLmdldFNldHRpbmdzKCkubWF4Um93cz09PW0uY291bnRTb3VyY2VSb3dzKCkpcmV0dXJuO3M9aC5jcmVhdGVSb3codCxuKSxpKGMuY2VsbFNldHRpbmdzLHQsbiwiYXJyYXkiKSxzJiYocC5pc1NlbGVjdGVkKCkmJmMuc2VsUmFuZ2UuZnJvbS5yb3c+PXQ/KGMuc2VsUmFuZ2UuZnJvbS5yb3c9Yy5zZWxSYW5nZS5mcm9tLnJvdytzLHAudHJhbnNmb3JtRW5kKHMsMCkpOnAucmVmcmVzaEJvcmRlcnMoKSk7YnJlYWs7Y2FzZSJpbnNlcnRfY29sIjpzPWguY3JlYXRlQ29sKHQsbik7Zm9yKHZhciBsPTAsdT1tLmNvdW50U291cmNlUm93cygpO3U+bDtsKyspYy5jZWxsU2V0dGluZ3NbbF0mJmkoYy5jZWxsU2V0dGluZ3NbbF0sdCxuKTtpZihzKXtpZihBcnJheS5pc0FycmF5KG0uZ2V0U2V0dGluZ3MoKS5jb2xIZWFkZXJzKSl7dmFyIGQ9W3QsMF07ZC5sZW5ndGgrPXMsQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShtLmdldFNldHRpbmdzKCkuY29sSGVhZGVycyxkKX1wLmlzU2VsZWN0ZWQoKSYmYy5zZWxSYW5nZS5mcm9tLmNvbD49dD8oYy5zZWxSYW5nZS5mcm9tLmNvbD1jLnNlbFJhbmdlLmZyb20uY29sK3MscC50cmFuc2Zvcm1FbmQoMCxzKSk6cC5yZWZyZXNoQm9yZGVycygpfWJyZWFrO2Nhc2UicmVtb3ZlX3JvdyI6aC5yZW1vdmVSb3codCxuKSxjLmNlbGxTZXR0aW5ncy5zcGxpY2UodCxuKTt2YXIgZz1tLmNvdW50Um93cygpLHc9bS5nZXRTZXR0aW5ncygpLmZpeGVkUm93c1RvcDt3Pj10KzEmJihtLmdldFNldHRpbmdzKCkuZml4ZWRSb3dzVG9wLT1NYXRoLm1pbihuLHctdCkpO3ZhciB2PW0uZ2V0U2V0dGluZ3MoKS5maXhlZFJvd3NCb3R0b207diYmdD49Zy12JiYobS5nZXRTZXR0aW5ncygpLmZpeGVkUm93c0JvdHRvbS09TWF0aC5taW4obix2KSksZi5hZGp1c3RSb3dzQW5kQ29scygpLHAucmVmcmVzaEJvcmRlcnMoKTticmVhaztjYXNlInJlbW92ZV9jb2wiOnZhciB5PWEodCk7aC5yZW1vdmVDb2wodCxuKTtmb3IodmFyIGI9MCxDPW0uY291bnRTb3VyY2VSb3dzKCk7Qz5iO2IrKyljLmNlbGxTZXR0aW5nc1tiXSYmYy5jZWxsU2V0dGluZ3NbYl0uc3BsaWNlKHksbik7dmFyIF89bS5nZXRTZXR0aW5ncygpLmZpeGVkQ29sdW1uc0xlZnQ7Xz49dCsxJiYobS5nZXRTZXR0aW5ncygpLmZpeGVkQ29sdW1uc0xlZnQtPU1hdGgubWluKG4sXy10KSksQXJyYXkuaXNBcnJheShtLmdldFNldHRpbmdzKCkuY29sSGVhZGVycykmJigidW5kZWZpbmVkIj09dHlwZW9mIHkmJih5PS0xKSxtLmdldFNldHRpbmdzKCkuY29sSGVhZGVycy5zcGxpY2UoeSxuKSksZi5hZGp1c3RSb3dzQW5kQ29scygpLHAucmVmcmVzaEJvcmRlcnMoKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcignVGhlcmUgaXMgbm8gc3VjaCBhY3Rpb24gIicrZSsnIicpfXJ8fGYuYWRqdXN0Um93c0FuZENvbHMoKX0sYWRqdXN0Um93c0FuZENvbHM6ZnVuY3Rpb24oKXtpZihjLnNldHRpbmdzLm1pblJvd3Mpe3ZhciBlPW0uY291bnRSb3dzKCk7aWYoZTxjLnNldHRpbmdzLm1pblJvd3MpZm9yKHZhciB0PTAsbj1jLnNldHRpbmdzLm1pblJvd3M7bi1lPnQ7dCsrKWguY3JlYXRlUm93KG0uY291bnRSb3dzKCksMSwhMCl9aWYoYy5zZXR0aW5ncy5taW5TcGFyZVJvd3Mpe3ZhciBvPW0uY291bnRFbXB0eVJvd3MoITApO2lmKG88Yy5zZXR0aW5ncy5taW5TcGFyZVJvd3MpZm9yKDtvPGMuc2V0dGluZ3MubWluU3BhcmVSb3dzJiZtLmNvdW50Um93cygpPGMuc2V0dGluZ3MubWF4Um93cztvKyspaC5jcmVhdGVSb3cobS5jb3VudFJvd3MoKSwxLCEwKX12YXIgcjtpZigoYy5zZXR0aW5ncy5taW5Db2xzfHxjLnNldHRpbmdzLm1pblNwYXJlQ29scykmJihyPW0uY291bnRFbXB0eUNvbHMoITApKSxjLnNldHRpbmdzLm1pbkNvbHMmJiFjLnNldHRpbmdzLmNvbHVtbnMmJm0uY291bnRDb2xzKCk8Yy5zZXR0aW5ncy5taW5Db2xzKWZvcig7bS5jb3VudENvbHMoKTxjLnNldHRpbmdzLm1pbkNvbHM7cisrKWguY3JlYXRlQ29sKG0uY291bnRDb2xzKCksMSwhMCk7aWYoYy5zZXR0aW5ncy5taW5TcGFyZUNvbHMmJiFjLnNldHRpbmdzLmNvbHVtbnMmJiJhcnJheSI9PT1tLmRhdGFUeXBlJiZyPGMuc2V0dGluZ3MubWluU3BhcmVDb2xzKWZvcig7cjxjLnNldHRpbmdzLm1pblNwYXJlQ29scyYmbS5jb3VudENvbHMoKTxjLnNldHRpbmdzLm1heENvbHM7cisrKWguY3JlYXRlQ29sKG0uY291bnRDb2xzKCksMSwhMCk7dmFyIGk9bS5jb3VudFJvd3MoKSxzPW0uY291bnRDb2xzKCk7aWYoMCE9PWkmJjAhPT1zfHxwLmRlc2VsZWN0KCkscC5pc1NlbGVjdGVkKCkpe3ZhciBsPSExLGE9Yy5zZWxSYW5nZS5mcm9tLnJvdyx1PWMuc2VsUmFuZ2UuZnJvbS5jb2wsZD1jLnNlbFJhbmdlLnRvLnJvdyxmPWMuc2VsUmFuZ2UudG8uY29sO2E+aS0xPyhhPWktMSxsPSEwLGQ+YSYmKGQ9YSkpOmQ+aS0xJiYoZD1pLTEsbD0hMCxhPmQmJihhPWQpKSx1PnMtMT8odT1zLTEsbD0hMCxmPnUmJihmPXUpKTpmPnMtMSYmKGY9cy0xLGw9ITAsdT5mJiYodT1mKSksbCYmbS5zZWxlY3RDZWxsKGEsdSxkLGYpfW0udmlldyYmbS52aWV3Lnd0Lnd0T3ZlcmxheXMuYWRqdXN0RWxlbWVudHNTaXplKCl9LHBvcHVsYXRlRnJvbUFycmF5OmZ1bmN0aW9uKGUsdCxuLG8scixpLHMpe3ZhciBsLGEsdSxoLGQ9W10sZj17fTtpZihhPXQubGVuZ3RoLDA9PT1hKXJldHVybiExO3ZhciBwLGcsdyx2Oyh7cm93Om51bGw9PT1uP251bGw6bi5yb3csY29sOm51bGw9PT1uP251bGw6bi5jb2x9KTtzd2l0Y2gocil7Y2FzZSJzaGlmdF9kb3duIjpmb3IocD1uP24uY29sLWUuY29sKzE6MCxnPW4/bi5yb3ctZS5yb3crMTowLHQ9Wih0KSx1PTAsaD10Lmxlbmd0aCx3PU1hdGgubWF4KGgscCk7dz51O3UrKylpZihoPnUpe2ZvcihsPTAsYT10W3VdLmxlbmd0aDtnLWE+bDtsKyspdFt1XS5wdXNoKHRbdV1bbCVhXSk7dFt1XS51bnNoaWZ0KGUuY29sK3UsZS5yb3csMCksbS5zcGxpY2VDb2wuYXBwbHkobSx0W3VdKX1lbHNlIHRbdSVoXVswXT1lLmNvbCt1LG0uc3BsaWNlQ29sLmFwcGx5KG0sdFt1JWhdKTticmVhaztjYXNlInNoaWZ0X3JpZ2h0Ijpmb3IocD1uP24uY29sLWUuY29sKzE6MCxnPW4/bi5yb3ctZS5yb3crMTowLGw9MCxhPXQubGVuZ3RoLHY9TWF0aC5tYXgoYSxnKTt2Pmw7bCsrKWlmKGE+bCl7Zm9yKHU9MCxoPXRbbF0ubGVuZ3RoO3AtaD51O3UrKyl0W2xdLnB1c2godFtsXVt1JWhdKTt0W2xdLnVuc2hpZnQoZS5yb3crbCxlLmNvbCwwKSxtLnNwbGljZVJvdy5hcHBseShtLHRbbF0pfWVsc2UgdFtsJWFdWzBdPWUucm93K2wsbS5zcGxpY2VSb3cuYXBwbHkobSx0W2wlYV0pO2JyZWFrO2Nhc2Uib3ZlcndyaXRlIjpkZWZhdWx0OmYucm93PWUucm93LGYuY29sPWUuY29sO3ZhciB5LGI9e3JvdzpuJiZlP24ucm93LWUucm93KzE6MSxjb2w6biYmZT9uLmNvbC1lLmNvbCsxOjF9LEM9MCxfPTAsUj0hMCxTPWZ1bmN0aW9uKGUpe3ZhciBuPXZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbCxvPXRbZSV0Lmxlbmd0aF07cmV0dXJuIG51bGwhPT1uP29bbiVvLmxlbmd0aF06b30sRT10Lmxlbmd0aCxUPW4/bi5yb3ctZS5yb3crMTowO2ZvcihhPW4/VDpNYXRoLm1heChFLFQpLGw9MDthPmwmJiEobiYmZi5yb3c+bi5yb3cmJlQ+RXx8IWMuc2V0dGluZ3MuYWxsb3dJbnNlcnRSb3cmJmYucm93Pm0uY291bnRSb3dzKCktMXx8Zi5yb3c+PWMuc2V0dGluZ3MubWF4Um93cyk7bCsrKXt2YXIgTT1sLUMsTz1TKE0pLmxlbmd0aCxrPW4/bi5jb2wtZS5jb2wrMTowO2lmKGg9bj9rOk1hdGgubWF4KE8sayksZi5jb2w9ZS5jb2wseT1tLmdldENlbGxNZXRhKGYucm93LGYuY29sKSwicGFzdGUiIT09byYmImF1dG9maWxsIiE9PW98fCF5LnNraXBSb3dPblBhc3RlKXtmb3IoXz0wLHU9MDtoPnUmJiEobiYmZi5jb2w+bi5jb2wmJms+T3x8IWMuc2V0dGluZ3MuYWxsb3dJbnNlcnRDb2x1bW4mJmYuY29sPm0uY291bnRDb2xzKCktMXx8Zi5jb2w+PWMuc2V0dGluZ3MubWF4Q29scyk7dSsrKWlmKHk9bS5nZXRDZWxsTWV0YShmLnJvdyxmLmNvbCksInBhc3RlIiE9PW8mJiJhdXRvZmlsbCIhPT1vfHwheS5za2lwQ29sdW1uT25QYXN0ZSlpZih5LnJlYWRPbmx5KWYuY29sKys7ZWxzZXt2YXIgSD11LV8sRD1TKE0sSCksQT1tLmdldERhdGFBdENlbGwoZi5yb3csZi5jb2wpLHg9e3JvdzpNLGNvbDpIfTtpZigiYXV0b2ZpbGwiPT09byl7dmFyIFA9bS5ydW5Ib29rcygiYmVmb3JlQXV0b2ZpbGxJbnNpZGVQb3B1bGF0ZSIseCxpLHQscyx7fSxiKTtQJiYoRD0idW5kZWZpbmVkIj09dHlwZW9mIFAudmFsdWU/RDpQLnZhbHVlKX1pZihudWxsIT09RCYmIm9iamVjdCI9PXR5cGVvZiBEKWlmKG51bGw9PT1BfHwib2JqZWN0IiE9dHlwZW9mIEEpUj0hMTtlbHNle3ZhciBOPUkoQVswXXx8QSksTD1JKERbMF18fEQpO2ooTixMKT9EPVYoRCk6Uj0hMX1lbHNlIG51bGwhPT1BJiYib2JqZWN0Ij09dHlwZW9mIEEmJihSPSExKTtSJiZkLnB1c2goW2Yucm93LGYuY29sLERdKSxSPSEwLGYuY29sKyt9ZWxzZSBfKyssZi5jb2wrKyxoKys7Zi5yb3crK31lbHNlIEMrKyxmLnJvdysrLGErK31tLnNldERhdGFBdENlbGwoZCxudWxsLG51bGwsb3x8InBvcHVsYXRlRnJvbUFycmF5Iil9fX0sdGhpcy5zZWxlY3Rpb249cD17aW5Qcm9ncmVzczohMSxzZWxlY3RlZEhlYWRlcjp7Y29sczohMSxyb3dzOiExfSxzZXRTZWxlY3RlZEhlYWRlcnM6ZnVuY3Rpb24oZSx0KXttLnNlbGVjdGlvbi5zZWxlY3RlZEhlYWRlci5yb3dzPWUsbS5zZWxlY3Rpb24uc2VsZWN0ZWRIZWFkZXIuY29scz10fSxiZWdpbjpmdW5jdGlvbigpe20uc2VsZWN0aW9uLmluUHJvZ3Jlc3M9ITB9LGZpbmlzaDpmdW5jdGlvbigpe3ZhciBlPW0uZ2V0U2VsZWN0ZWQoKTtTLmhvb2tzLnJ1bihtLCJhZnRlclNlbGVjdGlvbkVuZCIsZVswXSxlWzFdLGVbMl0sZVszXSksUy5ob29rcy5ydW4obSwiYWZ0ZXJTZWxlY3Rpb25FbmRCeVByb3AiLGVbMF0sbS5jb2xUb1Byb3AoZVsxXSksZVsyXSxtLmNvbFRvUHJvcChlWzNdKSksbS5zZWxlY3Rpb24uaW5Qcm9ncmVzcz0hMX0saXNJblByb2dyZXNzOmZ1bmN0aW9uKCl7cmV0dXJuIG0uc2VsZWN0aW9uLmluUHJvZ3Jlc3N9LHNldFJhbmdlU3RhcnQ6ZnVuY3Rpb24oZSx0KXtTLmhvb2tzLnJ1bihtLCJiZWZvcmVTZXRSYW5nZVN0YXJ0IixlKSxjLnNlbFJhbmdlPW5ldyB0ZShlLGUsZSkscC5zZXRSYW5nZUVuZChlLG51bGwsdCl9LHNldFJhbmdlU3RhcnRPbmx5OmZ1bmN0aW9uKGUpe1MuaG9va3MucnVuKG0sImJlZm9yZVNldFJhbmdlU3RhcnRPbmx5IixlKSxjLnNlbFJhbmdlPW5ldyB0ZShlLGUsZSl9LHNldFJhbmdlRW5kOmZ1bmN0aW9uKGUsdCxuKXtpZihudWxsIT09Yy5zZWxSYW5nZSl7dmFyIG8scj0hMSxpPSEwLHM9bS52aWV3Lnd0Lnd0VGFibGUuZ2V0Rmlyc3RWaXNpYmxlUm93KCksbD1tLnZpZXcud3Qud3RUYWJsZS5nZXRGaXJzdFZpc2libGVDb2x1bW4oKSxhPXtyb3c6bnVsbCxjb2w6bnVsbH07Uy5ob29rcy5ydW4obSwiYmVmb3JlU2V0UmFuZ2VFbmQiLGUpLG0uc2VsZWN0aW9uLmJlZ2luKCksYS5yb3c9ZS5yb3c8MD9zOmUucm93LGEuY29sPWUuY29sPDA/bDplLmNvbCxjLnNlbFJhbmdlLnRvPW5ldyBlZShhLnJvdyxhLmNvbCksYy5zZXR0aW5ncy5tdWx0aVNlbGVjdHx8KGMuc2VsUmFuZ2UuZnJvbT1lKSxtLnZpZXcud3Quc2VsZWN0aW9ucy5jdXJyZW50LmNsZWFyKCksbz1tLmdldENlbGxNZXRhKGMuc2VsUmFuZ2UuaGlnaGxpZ2h0LnJvdyxjLnNlbFJhbmdlLmhpZ2hsaWdodC5jb2wpLmRpc2FibGVWaXN1YWxTZWxlY3Rpb24sInN0cmluZyI9PXR5cGVvZiBvJiYobz1bb10pLChvPT09ITF8fEFycmF5LmlzQXJyYXkobykmJi0xPT09by5pbmRleE9mKCJjdXJyZW50IikpJiZtLnZpZXcud3Quc2VsZWN0aW9ucy5jdXJyZW50LmFkZChjLnNlbFJhbmdlLmhpZ2hsaWdodCksbS52aWV3Lnd0LnNlbGVjdGlvbnMuYXJlYS5jbGVhcigpLChvPT09ITF8fEFycmF5LmlzQXJyYXkobykmJi0xPT09by5pbmRleE9mKCJhcmVhIikpJiZwLmlzTXVsdGlwbGUoKSYmKG0udmlldy53dC5zZWxlY3Rpb25zLmFyZWEuYWRkKGMuc2VsUmFuZ2UuZnJvbSksbS52aWV3Lnd0LnNlbGVjdGlvbnMuYXJlYS5hZGQoYy5zZWxSYW5nZS50bykpLChjLnNldHRpbmdzLmN1cnJlbnRSb3dDbGFzc05hbWV8fGMuc2V0dGluZ3MuY3VycmVudENvbENsYXNzTmFtZSkmJihtLnZpZXcud3Quc2VsZWN0aW9ucy5oaWdobGlnaHQuY2xlYXIoKSxtLnZpZXcud3Quc2VsZWN0aW9ucy5oaWdobGlnaHQuYWRkKGMuc2VsUmFuZ2UuZnJvbSksbS52aWV3Lnd0LnNlbGVjdGlvbnMuaGlnaGxpZ2h0LmFkZChjLnNlbFJhbmdlLnRvKSksUy5ob29rcy5ydW4obSwiYWZ0ZXJTZWxlY3Rpb24iLGMuc2VsUmFuZ2UuZnJvbS5yb3csYy5zZWxSYW5nZS5mcm9tLmNvbCxjLnNlbFJhbmdlLnRvLnJvdyxjLnNlbFJhbmdlLnRvLmNvbCksUy5ob29rcy5ydW4obSwiYWZ0ZXJTZWxlY3Rpb25CeVByb3AiLGMuc2VsUmFuZ2UuZnJvbS5yb3csaC5jb2xUb1Byb3AoYy5zZWxSYW5nZS5mcm9tLmNvbCksYy5zZWxSYW5nZS50by5yb3csaC5jb2xUb1Byb3AoYy5zZWxSYW5nZS50by5jb2wpKSwoMD09PWMuc2VsUmFuZ2UuZnJvbS5yb3cmJmMuc2VsUmFuZ2UudG8ucm93PT09bS5jb3VudFJvd3MoKS0xJiZtLmNvdW50Um93cygpPjF8fDA9PT1jLnNlbFJhbmdlLmZyb20uY29sJiZjLnNlbFJhbmdlLnRvLmNvbD09PW0uY291bnRDb2xzKCktMSYmbS5jb3VudENvbHMoKT4xKSYmKHI9ITApLChlLnJvdzwwfHxlLmNvbDwwKSYmKGk9ITEpLHQhPT0hMSYmIXImJmkmJihjLnNlbFJhbmdlLmZyb20mJiFwLmlzTXVsdGlwbGUoKT9tLnZpZXcuc2Nyb2xsVmlld3BvcnQoYy5zZWxSYW5nZS5mcm9tKTptLnZpZXcuc2Nyb2xsVmlld3BvcnQoZSkpLHAucmVmcmVzaEJvcmRlcnMobnVsbCxuKX19LHJlZnJlc2hCb3JkZXJzOmZ1bmN0aW9uKGUsdCl7dHx8Zy5kZXN0cm95RWRpdG9yKGUpLG0udmlldy5yZW5kZXIoKSxwLmlzU2VsZWN0ZWQoKSYmIXQmJmcucHJlcGFyZUVkaXRvcigpfSxpc011bHRpcGxlOmZ1bmN0aW9uKCl7dmFyIGU9IShjLnNlbFJhbmdlLnRvLmNvbD09PWMuc2VsUmFuZ2UuZnJvbS5jb2wmJmMuc2VsUmFuZ2UudG8ucm93PT09Yy5zZWxSYW5nZS5mcm9tLnJvdyksdD1TLmhvb2tzLnJ1bihtLCJhZnRlcklzTXVsdGlwbGVTZWxlY3Rpb24iLGUpO3JldHVybiBlP3Q6dm9pZCAwfSx0cmFuc2Zvcm1TdGFydDpmdW5jdGlvbihlLHQsbixvKXt2YXIgcixpLHMsbCxhPW5ldyBlZShlLHQpLHU9MCxoPTA7bS5ydW5Ib29rcygibW9kaWZ5VHJhbnNmb3JtU3RhcnQiLGEpLHI9bS5jb3VudFJvd3MoKSxpPW0uY291bnRDb2xzKCksbD1tLmdldFNldHRpbmdzKCkuZml4ZWRSb3dzQm90dG9tLGMuc2VsUmFuZ2UuaGlnaGxpZ2h0LnJvdytlPnItMT9uJiZjLnNldHRpbmdzLm1pblNwYXJlUm93cz4wJiYhKGwmJmMuc2VsUmFuZ2UuaGlnaGxpZ2h0LnJvdz49ci1sLTEpPyhtLmFsdGVyKCJpbnNlcnRfcm93IixyKSxyPW0uY291bnRSb3dzKCkpOmMuc2V0dGluZ3MuYXV0b1dyYXBDb2wmJihhLnJvdz0xLXIsYS5jb2w9Yy5zZWxSYW5nZS5oaWdobGlnaHQuY29sK2EuY29sPT1pLTE/MS1pOjEpOmMuc2V0dGluZ3MuYXV0b1dyYXBDb2wmJmMuc2VsUmFuZ2UuaGlnaGxpZ2h0LnJvdythLnJvdzwwJiZjLnNlbFJhbmdlLmhpZ2hsaWdodC5jb2wrYS5jb2w+PTAmJihhLnJvdz1yLTEsYS5jb2w9Yy5zZWxSYW5nZS5oaWdobGlnaHQuY29sK2EuY29sPT0wP2ktMTotMSksYy5zZWxSYW5nZS5oaWdobGlnaHQuY29sK2EuY29sPmktMT9uJiZjLnNldHRpbmdzLm1pblNwYXJlQ29scz4wPyhtLmFsdGVyKCJpbnNlcnRfY29sIixpKSxpPW0uY291bnRDb2xzKCkpOmMuc2V0dGluZ3MuYXV0b1dyYXBSb3cmJihhLnJvdz1jLnNlbFJhbmdlLmhpZ2hsaWdodC5yb3crYS5yb3c9PXItMT8xLXI6MSxhLmNvbD0xLWkpOmMuc2V0dGluZ3MuYXV0b1dyYXBSb3cmJmMuc2VsUmFuZ2UuaGlnaGxpZ2h0LmNvbCthLmNvbDwwJiZjLnNlbFJhbmdlLmhpZ2hsaWdodC5yb3crYS5yb3c+PTAmJihhLnJvdz1jLnNlbFJhbmdlLmhpZ2hsaWdodC5yb3crYS5yb3c9PTA/ci0xOi0xLGEuY29sPWktMSkscz1uZXcgZWUoYy5zZWxSYW5nZS5oaWdobGlnaHQucm93K2Eucm93LGMuc2VsUmFuZ2UuaGlnaGxpZ2h0LmNvbCthLmNvbCkscy5yb3c8MD8odT0tMSxzLnJvdz0wKTpzLnJvdz4wJiZzLnJvdz49ciYmKHU9MSxzLnJvdz1yLTEpLHMuY29sPDA/KGg9LTEscy5jb2w9MCk6cy5jb2w+MCYmcy5jb2w+PWkmJihoPTEscy5jb2w9aS0xKSxtLnJ1bkhvb2tzKCJhZnRlck1vZGlmeVRyYW5zZm9ybVN0YXJ0IixzLHUsaCkscC5zZXRSYW5nZVN0YXJ0KHMsbyl9LHRyYW5zZm9ybUVuZDpmdW5jdGlvbihlLHQpe3ZhciBuLG8scixpPW5ldyBlZShlLHQpLHM9MCxsPTA7bS5ydW5Ib29rcygibW9kaWZ5VHJhbnNmb3JtRW5kIixpKSxuPW0uY291bnRSb3dzKCksbz1tLmNvdW50Q29scygpLHI9bmV3IGVlKGMuc2VsUmFuZ2UudG8ucm93K2kucm93LGMuc2VsUmFuZ2UudG8uY29sK2kuY29sKSxyLnJvdzwwPyhzPS0xLHIucm93PTApOnIucm93PjAmJnIucm93Pj1uJiYocz0xLHIucm93PW4tMSksci5jb2w8MD8obD0tMSxyLmNvbD0wKTpyLmNvbD4wJiZyLmNvbD49byYmKGw9MSxyLmNvbD1vLTEpLG0ucnVuSG9va3MoImFmdGVyTW9kaWZ5VHJhbnNmb3JtRW5kIixyLHMsbCkscC5zZXRSYW5nZUVuZChyLCEwKX0saXNTZWxlY3RlZDpmdW5jdGlvbigpe3JldHVybiBudWxsIT09Yy5zZWxSYW5nZX0saW5JblNlbGVjdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gcC5pc1NlbGVjdGVkKCk/Yy5zZWxSYW5nZS5pbmNsdWRlcyhlKTohMX0sZGVzZWxlY3Q6ZnVuY3Rpb24oKXtwLmlzU2VsZWN0ZWQoKSYmKG0uc2VsZWN0aW9uLmluUHJvZ3Jlc3M9ITEsYy5zZWxSYW5nZT1udWxsLG0udmlldy53dC5zZWxlY3Rpb25zLmN1cnJlbnQuY2xlYXIoKSxtLnZpZXcud3Quc2VsZWN0aW9ucy5hcmVhLmNsZWFyKCksKGMuc2V0dGluZ3MuY3VycmVudFJvd0NsYXNzTmFtZXx8Yy5zZXR0aW5ncy5jdXJyZW50Q29sQ2xhc3NOYW1lKSYmbS52aWV3Lnd0LnNlbGVjdGlvbnMuaGlnaGxpZ2h0LmNsZWFyKCksZy5kZXN0cm95RWRpdG9yKCkscC5yZWZyZXNoQm9yZGVycygpLFMuaG9va3MucnVuKG0sImFmdGVyRGVzZWxlY3QiKSl9LHNlbGVjdEFsbDpmdW5jdGlvbigpe2Muc2V0dGluZ3MubXVsdGlTZWxlY3QmJihwLnNldFJhbmdlU3RhcnQobmV3IGVlKDAsMCkpLHAuc2V0UmFuZ2VFbmQobmV3IGVlKG0uY291bnRSb3dzKCktMSxtLmNvdW50Q29scygpLTEpLCExKSl9LGVtcHR5OmZ1bmN0aW9uKCl7aWYocC5pc1NlbGVjdGVkKCkpe3ZhciBlLHQsbj1jLnNlbFJhbmdlLmdldFRvcExlZnRDb3JuZXIoKSxvPWMuc2VsUmFuZ2UuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSxyPVtdO2ZvcihlPW4ucm93O2U8PW8ucm93O2UrKylmb3IodD1uLmNvbDt0PD1vLmNvbDt0KyspbS5nZXRDZWxsTWV0YShlLHQpLnJlYWRPbmx5fHxyLnB1c2goW2UsdCwiIl0pO20uc2V0RGF0YUF0Q2VsbChyKX19fSx0aGlzLmluaXQ9ZnVuY3Rpb24oKXtkLnNldERhdGEoYy5zZXR0aW5ncy5kYXRhKSxTLmhvb2tzLnJ1bihtLCJiZWZvcmVJbml0IiksQSgpJiZNKG0ucm9vdEVsZW1lbnQsIm1vYmlsZSIpLHRoaXMudXBkYXRlU2V0dGluZ3MoYy5zZXR0aW5ncywhMCksdGhpcy52aWV3PW5ldyBYKHRoaXMpLGc9bmV3IFAobSxjLHAsaCksdGhpcy5mb3JjZUZ1bGxSZW5kZXI9ITAsUy5ob29rcy5ydW4obSwiaW5pdCIpLHRoaXMudmlldy5yZW5kZXIoKSwib2JqZWN0Ij09dHlwZW9mIGMuZmlyc3RSdW4mJihTLmhvb2tzLnJ1bihtLCJhZnRlckNoYW5nZSIsYy5maXJzdFJ1blswXSxjLmZpcnN0UnVuWzFdKSxjLmZpcnN0UnVuPSExKSxTLmhvb2tzLnJ1bihtLCJhZnRlckluaXQiKX0sdGhpcy52YWxpZGF0ZUNlbGw9ZnVuY3Rpb24oZSx0LG4sbyl7ZnVuY3Rpb24gcihlKXt2YXIgbz10LnZpc3VhbENvbCxyPXQudmlzdWFsUm93LGk9bS5nZXRDZWxsKHIsbywhMCk7aSYmIlRIIiE9aS5ub2RlTmFtZSYmbS52aWV3Lnd0Lnd0U2V0dGluZ3Muc2V0dGluZ3MuY2VsbFJlbmRlcmVyKHIsbyxpKSxuKGUpfXZhciBpPW0uZ2V0Q2VsbFZhbGlkYXRvcih0KTsiW29iamVjdCBSZWdFeHBdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpKSYmKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7bihlLnRlc3QodCkpfX0oaSkpLCJmdW5jdGlvbiI9PXR5cGVvZiBpPyhlPVMuaG9va3MucnVuKG0sImJlZm9yZVZhbGlkYXRlIixlLHQudmlzdWFsUm93LHQucHJvcCxvKSxtLl9yZWdpc3RlclRpbWVvdXQoc2V0VGltZW91dChmdW5jdGlvbigpe2kuY2FsbCh0LGUsZnVuY3Rpb24obil7bj1TLmhvb2tzLnJ1bihtLCJhZnRlclZhbGlkYXRlIixuLGUsdC52aXN1YWxSb3csdC5wcm9wLG8pLHQudmFsaWQ9bixyKG4pLFMuaG9va3MucnVuKG0sInBvc3RBZnRlclZhbGlkYXRlIixuLGUsdC52aXN1YWxSb3csdC5wcm9wLG8pfSl9LDApKSk6bS5fcmVnaXN0ZXJUaW1lb3V0KHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnZhbGlkPSEwLHIodC52YWxpZCl9LDApKX0sdGhpcy5zZXREYXRhQXRDZWxsPWZ1bmN0aW9uKGUsdCxuLHMpe3ZhciBsLGEsdSxjPWkoZSx0LG4pLGQ9W107Zm9yKGw9MCxhPWMubGVuZ3RoO2E+bDtsKyspe2lmKCJvYmplY3QiIT10eXBlb2YgY1tsXSl0aHJvdyBuZXcgRXJyb3IoIk1ldGhvZCBgc2V0RGF0YUF0Q2VsbGAgYWNjZXB0cyByb3cgbnVtYmVyIG9yIGNoYW5nZXMgYXJyYXkgb2YgYXJyYXlzIGFzIGl0cyBmaXJzdCBwYXJhbWV0ZXIiKTtpZigibnVtYmVyIiE9dHlwZW9mIGNbbF1bMV0pdGhyb3cgbmV3IEVycm9yKCJNZXRob2QgYHNldERhdGFBdENlbGxgIGFjY2VwdHMgcm93IGFuZCBjb2x1bW4gbnVtYmVyIGFzIGl0cyBwYXJhbWV0ZXJzLiBJZiB5b3Ugd2FudCB0byB1c2Ugb2JqZWN0IHByb3BlcnR5IG5hbWUsIHVzZSBtZXRob2QgYHNldERhdGFBdFJvd1Byb3BgIik7dT1oLmNvbFRvUHJvcChjW2xdWzFdKSxkLnB1c2goW2NbbF1bMF0sdSxoLmdldChjW2xdWzBdLHUpLGNbbF1bMl1dKX1zfHwib2JqZWN0IiE9dHlwZW9mIGV8fChzPXQpLG8oZCxzLGZ1bmN0aW9uKCl7cihkLHMpfSl9LHRoaXMuc2V0RGF0YUF0Um93UHJvcD1mdW5jdGlvbihlLHQsbixzKXt2YXIgbCxhLHU9aShlLHQsbiksYz1bXTtmb3IobD0wLGE9dS5sZW5ndGg7YT5sO2wrKyljLnB1c2goW3VbbF1bMF0sdVtsXVsxXSxoLmdldCh1W2xdWzBdLHVbbF1bMV0pLHVbbF1bMl1dKTtzfHwib2JqZWN0IiE9dHlwZW9mIGV8fChzPXQpLG8oYyxzLGZ1bmN0aW9uKCl7cihjLHMpfSl9LHRoaXMubGlzdGVuPWZ1bmN0aW9uKCl7Uy5hY3RpdmVHdWlkPW0uZ3VpZH0sdGhpcy51bmxpc3Rlbj1mdW5jdGlvbigpe1MuYWN0aXZlR3VpZD1udWxsfSx0aGlzLmlzTGlzdGVuaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIFMuYWN0aXZlR3VpZD09PW0uZ3VpZH0sdGhpcy5kZXN0cm95RWRpdG9yPWZ1bmN0aW9uKGUpe3AucmVmcmVzaEJvcmRlcnMoZSl9LHRoaXMucG9wdWxhdGVGcm9tQXJyYXk9ZnVuY3Rpb24oZSx0LG4sbyxyLGkscyxsLGEpe3ZhciB1O2lmKCJvYmplY3QiIT10eXBlb2Ygbnx8Im9iamVjdCIhPXR5cGVvZiBuWzBdKXRocm93IG5ldyBFcnJvcigicG9wdWxhdGVGcm9tQXJyYXkgcGFyYW1ldGVyIGBpbnB1dGAgbXVzdCBiZSBhbiBhcnJheSBvZiBhcnJheXMiKTtyZXR1cm4gdT0ibnVtYmVyIj09dHlwZW9mIG8/bmV3IGVlKG8scik6bnVsbCxmLnBvcHVsYXRlRnJvbUFycmF5KG5ldyBlZShlLHQpLG4sdSxpLHMsbCxhKX0sdGhpcy5zcGxpY2VDb2w9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoLnNwbGljZUNvbC5hcHBseShoLGFyZ3VtZW50cyl9LHRoaXMuc3BsaWNlUm93PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaC5zcGxpY2VSb3cuYXBwbHkoaCxhcmd1bWVudHMpfSx0aGlzLmdldFNlbGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHAuaXNTZWxlY3RlZCgpP1tjLnNlbFJhbmdlLmZyb20ucm93LGMuc2VsUmFuZ2UuZnJvbS5jb2wsYy5zZWxSYW5nZS50by5yb3csYy5zZWxSYW5nZS50by5jb2xdOnZvaWQgMH0sdGhpcy5nZXRTZWxlY3RlZFJhbmdlPWZ1bmN0aW9uKCl7cmV0dXJuIHAuaXNTZWxlY3RlZCgpP2Muc2VsUmFuZ2U6dm9pZCAwfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe20udmlldyYmKG0ucmVuZGVyQ2FsbD0hMCxtLmZvcmNlRnVsbFJlbmRlcj0hMCxwLnJlZnJlc2hCb3JkZXJzKG51bGwsITApKX0sdGhpcy5sb2FkRGF0YT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7Yy5jZWxsU2V0dGluZ3MubGVuZ3RoPTB9aWYoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT09ZSllLnB1c2gmJmUuc3BsaWNlfHwoZT1bZV0pO2Vsc2V7aWYobnVsbCE9PWUpdGhyb3cgbmV3IEVycm9yKCJsb2FkRGF0YSBvbmx5IGFjY2VwdHMgYXJyYXkgb2Ygb2JqZWN0cyBvciBhcnJheSBvZiBhcnJheXMgKCIrdHlwZW9mIGUrIiBnaXZlbikiKTtlPVtdO2Zvcih2YXIgbixvPTAscj1jLnNldHRpbmdzLnN0YXJ0Um93cztyPm87bysrKXtuPVtdO2Zvcih2YXIgaT0wLHM9Yy5zZXR0aW5ncy5zdGFydENvbHM7cz5pO2krKyluLnB1c2gobnVsbCk7ZS5wdXNoKG4pfX1jLmlzUG9wdWxhdGVkPSExLHcucHJvdG90eXBlLmRhdGE9ZSxBcnJheS5pc0FycmF5KGMuc2V0dGluZ3MuZGF0YVNjaGVtYSl8fEFycmF5LmlzQXJyYXkoZVswXSk/bS5kYXRhVHlwZT0iYXJyYXkiOiJmdW5jdGlvbiI9PXR5cGVvZiBjLnNldHRpbmdzLmRhdGFTY2hlbWE/bS5kYXRhVHlwZT0iZnVuY3Rpb24iOm0uZGF0YVR5cGU9Im9iamVjdCIsaCYmaC5kZXN0cm95KCksaD1uZXcgeChtLGMsdyksZC5kYXRhPWUsZC5kYXRhVHlwZT1tLmRhdGFUeXBlLGQuY29sVG9Qcm9wPWguY29sVG9Qcm9wLmJpbmQoaCksZC5wcm9wVG9Db2w9aC5wcm9wVG9Db2wuYmluZChoKSx0KCksZi5hZGp1c3RSb3dzQW5kQ29scygpLFMuaG9va3MucnVuKG0sImFmdGVyTG9hZERhdGEiLGMuZmlyc3RSdW4pLGMuZmlyc3RSdW4/Yy5maXJzdFJ1bj1bbnVsbCwibG9hZERhdGEiXTooUy5ob29rcy5ydW4obSwiYWZ0ZXJDaGFuZ2UiLG51bGwsImxvYWREYXRhIiksbS5yZW5kZXIoKSksYy5pc1BvcHVsYXRlZD0hMH0sdGhpcy5nZXREYXRhPWZ1bmN0aW9uKGUsdCxuLG8pe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZT9oLmdldEFsbCgpOmguZ2V0UmFuZ2UobmV3IGVlKGUsdCksbmV3IGVlKG4sbyksaC5ERVNUSU5BVElPTl9SRU5ERVJFUil9LHRoaXMuZ2V0Q29weWFibGVUZXh0PWZ1bmN0aW9uKGUsdCxuLG8pe3JldHVybiBoLmdldENvcHlhYmxlVGV4dChuZXcgZWUoZSx0KSxuZXcgZWUobixvKSl9LHRoaXMuZ2V0Q29weWFibGVEYXRhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGguZ2V0Q29weWFibGUoZSxoLmNvbFRvUHJvcCh0KSl9LHRoaXMuZ2V0U2NoZW1hPWZ1bmN0aW9uKCl7cmV0dXJuIGguZ2V0U2NoZW1hKCl9LHRoaXMudXBkYXRlU2V0dGluZ3M9ZnVuY3Rpb24oZSx0KXt2YXIgbixvO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZS5yb3dzKXRocm93IG5ldyBFcnJvcignInJvd3MiIHNldHRpbmcgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gZG8geW91IG1lYW4gc3RhcnRSb3dzLCBtaW5Sb3dzIG9yIG1heFJvd3M/Jyk7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBlLmNvbHMpdGhyb3cgbmV3IEVycm9yKCciY29scyIgc2V0dGluZyBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBkbyB5b3UgbWVhbiBzdGFydENvbHMsIG1pbkNvbHMgb3IgbWF4Q29scz8nKTtmb3IobiBpbiBlKSJkYXRhIiE9PW4mJihTLmhvb2tzLmdldFJlZ2lzdGVyZWQoKS5pbmRleE9mKG4pPi0xPygiZnVuY3Rpb24iPT10eXBlb2YgZVtuXXx8QXJyYXkuaXNBcnJheShlW25dKSkmJm0uYWRkSG9vayhuLGVbbl0pOiF0JiZlLmhhc093blByb3BlcnR5KG4pJiYody5wcm90b3R5cGVbbl09ZVtuXSkpO2lmKHZvaWQgMD09PWUuZGF0YSYmdm9pZCAwPT09Yy5zZXR0aW5ncy5kYXRhP20ubG9hZERhdGEobnVsbCk6dm9pZCAwIT09ZS5kYXRhP20ubG9hZERhdGEoZS5kYXRhKTp2b2lkIDAhPT1lLmNvbHVtbnMmJmguY3JlYXRlTWFwKCksbz1tLmNvdW50Q29scygpLHZvaWQgMD09PWUuY2VsbCYmdm9pZCAwPT09ZS5jZWxscyYmdm9pZCAwPT09ZS5jb2x1bW5zfHwoYy5jZWxsU2V0dGluZ3MubGVuZ3RoPTApLG8+MCl7dmFyIHIsaTtmb3Iobj0wO28+bjtuKyspYy5jb2x1bW5TZXR0aW5nc1tuXT1EKHcsYy5jb2x1bW5zU2V0dGluZ0NvbmZsaWN0cykscj1jLmNvbHVtblNldHRpbmdzW25dLnByb3RvdHlwZSx3LnByb3RvdHlwZS5jb2x1bW5zJiYoaT13LnByb3RvdHlwZS5jb2x1bW5zW25dLGkmJihXKHIsaSksVyhyLHMoaSkpKSl9aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBlLmNlbGwpZm9yKG4gaW4gZS5jZWxsKWlmKGUuY2VsbC5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIGw9ZS5jZWxsW25dO20uc2V0Q2VsbE1ldGFPYmplY3QobC5yb3csbC5jb2wsbCl9Uy5ob29rcy5ydW4obSwiYWZ0ZXJDZWxsTWV0YVJlc2V0IiksInVuZGVmaW5lZCIhPXR5cGVvZiBlLmNsYXNzTmFtZSYmKHcucHJvdG90eXBlLmNsYXNzTmFtZSYmSChtLnJvb3RFbGVtZW50LHcucHJvdG90eXBlLmNsYXNzTmFtZSksZS5jbGFzc05hbWUmJk0obS5yb290RWxlbWVudCxlLmNsYXNzTmFtZSkpO3ZhciBhPW0ucm9vdEVsZW1lbnQuc3R5bGUuaGVpZ2h0OyIiIT09YSYmKGE9cGFyc2VJbnQobS5yb290RWxlbWVudC5zdHlsZS5oZWlnaHQsMTApKTt2YXIgdT1lLmhlaWdodDtpZigiZnVuY3Rpb24iPT10eXBlb2YgdSYmKHU9dSgpKSx0KXt2YXIgZD1tLnJvb3RFbGVtZW50LmdldEF0dHJpYnV0ZSgic3R5bGUiKTtkJiZtLnJvb3RFbGVtZW50LnNldEF0dHJpYnV0ZSgiZGF0YS1pbml0aWFsc3R5bGUiLG0ucm9vdEVsZW1lbnQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKX1pZihudWxsPT09dSl7dmFyIGc9bS5yb290RWxlbWVudC5nZXRBdHRyaWJ1dGUoImRhdGEtaW5pdGlhbHN0eWxlIik7ZyYmKGcuaW5kZXhPZigiaGVpZ2h0Iik+LTF8fGcuaW5kZXhPZigib3ZlcmZsb3ciKT4tMSk/bS5yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoInN0eWxlIixnKToobS5yb290RWxlbWVudC5zdHlsZS5oZWlnaHQ9IiIsbS5yb290RWxlbWVudC5zdHlsZS5vdmVyZmxvdz0iIil9ZWxzZSB2b2lkIDAhPT11JiYobS5yb290RWxlbWVudC5zdHlsZS5oZWlnaHQ9dSsicHgiLG0ucm9vdEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIpO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgZS53aWR0aCl7dmFyIHY9ZS53aWR0aDsiZnVuY3Rpb24iPT10eXBlb2YgdiYmKHY9digpKSxtLnJvb3RFbGVtZW50LnN0eWxlLndpZHRoPXYrInB4In10fHwoaC5jbGVhckxlbmd0aENhY2hlKCksUy5ob29rcy5ydW4obSwiYWZ0ZXJVcGRhdGVTZXR0aW5ncyIpKSxmLmFkanVzdFJvd3NBbmRDb2xzKCksbS52aWV3JiYhYy5maXJzdFJ1biYmKG0uZm9yY2VGdWxsUmVuZGVyPSEwLHAucmVmcmVzaEJvcmRlcnMobnVsbCwhMCkpLHR8fCFtLnZpZXd8fCIiIT09YSYmIiIhPT11JiZ2b2lkIDAhPT11fHxhPT09dXx8bS52aWV3Lnd0Lnd0T3ZlcmxheXMudXBkYXRlTWFpblNjcm9sbGFibGVFbGVtZW50cygpfSx0aGlzLmdldFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGU9bS5nZXRTZWxlY3RlZCgpO2lmKHcucHJvdG90eXBlLmdldFZhbHVlKXtpZigiZnVuY3Rpb24iPT10eXBlb2Ygdy5wcm90b3R5cGUuZ2V0VmFsdWUpcmV0dXJuIHcucHJvdG90eXBlLmdldFZhbHVlLmNhbGwobSk7aWYoZSlyZXR1cm4gbS5nZXREYXRhKClbZVswXV1bdy5wcm90b3R5cGUuZ2V0VmFsdWVdfWVsc2UgaWYoZSlyZXR1cm4gbS5nZXREYXRhQXRDZWxsKGVbMF0sZVsxXSl9LHRoaXMuZ2V0U2V0dGluZ3M9ZnVuY3Rpb24oKXtyZXR1cm4gYy5zZXR0aW5nc30sdGhpcy5jbGVhcj1mdW5jdGlvbigpe3Auc2VsZWN0QWxsKCkscC5lbXB0eSgpfSx0aGlzLmFsdGVyPWZ1bmN0aW9uKGUsdCxuLG8scil7Zi5hbHRlcihlLHQsbixvLHIpfSx0aGlzLmdldENlbGw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBtLnZpZXcuZ2V0Q2VsbEF0Q29vcmRzKG5ldyBlZShlLHQpLG4pfSx0aGlzLmdldENvb3Jkcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52aWV3Lnd0Lnd0VGFibGUuZ2V0Q29vcmRzLmNhbGwodGhpcy52aWV3Lnd0Lnd0VGFibGUsZSl9LHRoaXMuY29sVG9Qcm9wPWZ1bmN0aW9uKGUpe3JldHVybiBoLmNvbFRvUHJvcChlKX0sdGhpcy5wcm9wVG9Db2w9ZnVuY3Rpb24oZSl7cmV0dXJuIGgucHJvcFRvQ29sKGUpfSx0aGlzLmdldERhdGFBdENlbGw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaC5nZXQoZSxoLmNvbFRvUHJvcCh0KSl9LHRoaXMuZ2V0RGF0YUF0Um93UHJvcD1mdW5jdGlvbihlLHQpe3JldHVybiBoLmdldChlLHQpfSx0aGlzLmdldERhdGFBdENvbD1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC5jb25jYXQuYXBwbHkodCxoLmdldFJhbmdlKG5ldyBlZSgwLGUpLG5ldyBlZShjLnNldHRpbmdzLmRhdGEubGVuZ3RoLTEsZSksaC5ERVNUSU5BVElPTl9SRU5ERVJFUikpfSx0aGlzLmdldERhdGFBdFByb3A9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtyZXR1cm4gdD1oLmdldFJhbmdlKG5ldyBlZSgwLGgucHJvcFRvQ29sKGUpKSxuZXcgZWUoYy5zZXR0aW5ncy5kYXRhLmxlbmd0aC0xLGgucHJvcFRvQ29sKGUpKSxoLkRFU1RJTkFUSU9OX1JFTkRFUkVSKSxuLmNvbmNhdC5hcHBseShuLHQpfSx0aGlzLmdldFNvdXJjZURhdGE9ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIHI7cmV0dXJuIHI9dm9pZCAwPT09ZT9kLmdldERhdGEoKTpkLmdldEJ5UmFuZ2UobmV3IGVlKGUsdCksbmV3IGVlKG4sbykpfSx0aGlzLmdldFNvdXJjZURhdGFBdENvbD1mdW5jdGlvbihlKXtyZXR1cm4gZC5nZXRBdENvbHVtbihlKX0sdGhpcy5nZXRTb3VyY2VEYXRhQXRSb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGQuZ2V0QXRSb3coZSl9LHRoaXMuZ2V0U291cmNlRGF0YUF0Q2VsbD1mdW5jdGlvbihlLHQpe3JldHVybiBkLmdldEF0Q2VsbChlLHQpfSx0aGlzLmdldERhdGFBdFJvdz1mdW5jdGlvbihlKXt2YXIgdD1oLmdldFJhbmdlKG5ldyBlZShlLDApLG5ldyBlZShlLHRoaXMuY291bnRDb2xzKCktMSksaC5ERVNUSU5BVElPTl9SRU5ERVJFUik7cmV0dXJuIHRbMF19LHRoaXMuZ2V0RGF0YVR5cGU9ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIHI9dGhpcyxpPW51bGwscz1udWxsO3ZvaWQgMD09PWUmJihlPTAsbj10aGlzLmNvdW50Um93cygpLHQ9MCxvPXRoaXMuY291bnRDb2xzKCkpLHZvaWQgMD09PW4mJihuPWUpLHZvaWQgMD09PW8mJihvPXQpO3ZhciBsPSJtaXhlZCI7cmV0dXJuICQoTWF0aC5taW4oZSxuKSxNYXRoLm1heChlLG4pLGZ1bmN0aW9uKGUpe3ZhciBuPSEwO3JldHVybiAkKE1hdGgubWluKHQsbyksTWF0aC5tYXgodCxvKSxmdW5jdGlvbih0KXt2YXIgbz1yLmdldENlbGxNZXRhKGUsdCk7cmV0dXJuIHM9by50eXBlLGk/bj1pPT09czppPXMsbn0pLGw9bj9zOiJtaXhlZCIsbn0pLGx9LHRoaXMucmVtb3ZlQ2VsbE1ldGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPW0uZ2V0Q2VsbE1ldGEoZSx0KTt2b2lkIDAhPW9bbl0mJmRlbGV0ZSBjLmNlbGxTZXR0aW5nc1tlXVt0XVtuXX0sdGhpcy5zZXRDZWxsTWV0YU9iamVjdD1mdW5jdGlvbihlLHQsbil7aWYoIm9iamVjdCI9PXR5cGVvZiBuKWZvcih2YXIgbyBpbiBuKWlmKG4uaGFzT3duUHJvcGVydHkobykpe3ZhciByPW5bb107dGhpcy5zZXRDZWxsTWV0YShlLHQsbyxyKX19LHRoaXMuc2V0Q2VsbE1ldGE9ZnVuY3Rpb24oZSx0LG4sbyl7Yy5jZWxsU2V0dGluZ3NbZV18fChjLmNlbGxTZXR0aW5nc1tlXT1bXSksYy5jZWxsU2V0dGluZ3NbZV1bdF18fChjLmNlbGxTZXR0aW5nc1tlXVt0XT1uZXcgYy5jb2x1bW5TZXR0aW5nc1t0XSksYy5jZWxsU2V0dGluZ3NbZV1bdF1bbl09byxTLmhvb2tzLnJ1bihtLCJhZnRlclNldENlbGxNZXRhIixlLHQsbixvKX0sdGhpcy5nZXRDZWxsc01ldGE9ZnVuY3Rpb24oKXtyZXR1cm4gQihjLmNlbGxTZXR0aW5ncyl9LHRoaXMuZ2V0Q2VsbE1ldGE9ZnVuY3Rpb24oZSx0KXt2YXIgbixvPWguY29sVG9Qcm9wKHQpLHI9ZSxpPXQ7aWYoZT1sKGUpLHQ9YSh0KSxjLmNvbHVtblNldHRpbmdzW3RdfHwoYy5jb2x1bW5TZXR0aW5nc1t0XT1EKHcsYy5jb2x1bW5zU2V0dGluZ0NvbmZsaWN0cykpLGMuY2VsbFNldHRpbmdzW2VdfHwoYy5jZWxsU2V0dGluZ3NbZV09W10pLGMuY2VsbFNldHRpbmdzW2VdW3RdfHwoYy5jZWxsU2V0dGluZ3NbZV1bdF09bmV3IGMuY29sdW1uU2V0dGluZ3NbdF0pLG49Yy5jZWxsU2V0dGluZ3NbZV1bdF0sbi5yb3c9ZSxuLmNvbD10LG4udmlzdWFsUm93PXIsbi52aXN1YWxDb2w9aSxuLnByb3A9byxuLmluc3RhbmNlPW0sUy5ob29rcy5ydW4obSwiYmVmb3JlR2V0Q2VsbE1ldGEiLGUsdCxuKSxXKG4scyhuKSksbi5jZWxscyl7dmFyIHU9bi5jZWxscy5jYWxsKG4sZSx0LG8pO3UmJihXKG4sdSksVyhuLHModSkpKX1yZXR1cm4gUy5ob29rcy5ydW4obSwiYWZ0ZXJHZXRDZWxsTWV0YSIsZSx0LG4pLG59LHRoaXMuaXNDb2x1bW5Nb2RpZmljYXRpb25BbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuISgib2JqZWN0Ij09PW0uZGF0YVR5cGV8fG0uZ2V0U2V0dGluZ3MoKS5jb2x1bW5zKX07dmFyIHk9SigicmVuZGVyZXIiKTt0aGlzLmdldENlbGxSZW5kZXJlcj1mdW5jdGlvbihlLHQpe3ZhciBuPXkuY2FsbCh0aGlzLGUsdCk7cmV0dXJuIFUobil9LHRoaXMuZ2V0Q2VsbEVkaXRvcj1KKCJlZGl0b3IiKSx0aGlzLmdldENlbGxWYWxpZGF0b3I9SigidmFsaWRhdG9yIiksdGhpcy52YWxpZGF0ZUNlbGxzPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBuO2UmJih0Lm9uUXVldWVFbXB0eT1lKTtmb3IodmFyIG89bS5jb3VudFJvd3MoKS0xO28+PTA7KXtmb3IodmFyIHI9bS5jb3VudENvbHMoKS0xO3I+PTA7KXQuYWRkVmFsaWRhdG9yVG9RdWV1ZSgpLG0udmFsaWRhdGVDZWxsKG0uZ2V0RGF0YUF0Q2VsbChvLHIpLG0uZ2V0Q2VsbE1ldGEobyxyKSxmdW5jdGlvbihlKXtpZigiYm9vbGVhbiIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiVmFsaWRhdGlvbiBlcnJvcjogcmVzdWx0IGlzIG5vdCBib29sZWFuIik7ZT09PSExJiYodC52YWxpZD0hMSksdC5yZW1vdmVWYWxpZGF0b3JGb3JtUXVldWUoKX0sInZhbGlkYXRlQ2VsbHMiKSxyLS07by0tfXQuY2hlY2tJZlF1ZXVlSXNFbXB0eSgpfSx0aGlzLmdldFJvd0hlYWRlcj1mdW5jdGlvbihlKXt2YXIgdD1jLnNldHRpbmdzLnJvd0hlYWRlcnM7cmV0dXJuIHZvaWQgMCE9PWUmJihlPVMuaG9va3MucnVuKG0sIm1vZGlmeVJvd0hlYWRlciIsZSkpLHZvaWQgMD09PWU/KHQ9W10sJChtLmNvdW50Um93cygpLTEsZnVuY3Rpb24oZSl7dC5wdXNoKG0uZ2V0Um93SGVhZGVyKGUpKX0pKTpBcnJheS5pc0FycmF5KHQpJiZ2b2lkIDAhPT10W2VdP3Q9dFtlXToiZnVuY3Rpb24iPT10eXBlb2YgdD90PXQoZSk6dCYmInN0cmluZyIhPXR5cGVvZiB0JiYibnVtYmVyIiE9dHlwZW9mIHQmJih0PWUrMSksdH0sdGhpcy5oYXNSb3dIZWFkZXJzPWZ1bmN0aW9uKCl7cmV0dXJuISFjLnNldHRpbmdzLnJvd0hlYWRlcnN9LHRoaXMuaGFzQ29sSGVhZGVycz1mdW5jdGlvbigpe2lmKHZvaWQgMCE9PWMuc2V0dGluZ3MuY29sSGVhZGVycyYmbnVsbCE9PWMuc2V0dGluZ3MuY29sSGVhZGVycylyZXR1cm4hIWMuc2V0dGluZ3MuY29sSGVhZGVycztmb3IodmFyIGU9MCx0PW0uY291bnRDb2xzKCk7dD5lO2UrKylpZihtLmdldENvbEhlYWRlcihlKSlyZXR1cm4hMDtyZXR1cm4hMX0sdGhpcy5nZXRDb2xIZWFkZXI9ZnVuY3Rpb24oZSl7aWYoZT1TLmhvb2tzLnJ1bihtLCJtb2RpZnlDb2xIZWFkZXIiLGUpLHZvaWQgMD09PWUpe2Zvcih2YXIgdD1bXSxuPTAsbz1tLmNvdW50Q29scygpO28+bjtuKyspdC5wdXNoKG0uZ2V0Q29sSGVhZGVyKG4pKTtyZXR1cm4gdH12YXIgcj1lO3JldHVybiBlPVMuaG9va3MucnVuKG0sIm1vZGlmeUNvbCIsZSksYy5zZXR0aW5ncy5jb2x1bW5zJiZjLnNldHRpbmdzLmNvbHVtbnNbZV0mJmMuc2V0dGluZ3MuY29sdW1uc1tlXS50aXRsZT9jLnNldHRpbmdzLmNvbHVtbnNbZV0udGl0bGU6QXJyYXkuaXNBcnJheShjLnNldHRpbmdzLmNvbEhlYWRlcnMpJiZ2b2lkIDAhPT1jLnNldHRpbmdzLmNvbEhlYWRlcnNbZV0/Yy5zZXR0aW5ncy5jb2xIZWFkZXJzW2VdOiJmdW5jdGlvbiI9PXR5cGVvZiBjLnNldHRpbmdzLmNvbEhlYWRlcnM/Yy5zZXR0aW5ncy5jb2xIZWFkZXJzKGUpOmMuc2V0dGluZ3MuY29sSGVhZGVycyYmInN0cmluZyIhPXR5cGVvZiBjLnNldHRpbmdzLmNvbEhlYWRlcnMmJiJudW1iZXIiIT10eXBlb2YgYy5zZXR0aW5ncy5jb2xIZWFkZXJzP1Eocik6Yy5zZXR0aW5ncy5jb2xIZWFkZXJzfSx0aGlzLl9nZXRDb2xXaWR0aEZyb21TZXR0aW5ncz1mdW5jdGlvbihlKXt2YXIgdD1tLmdldENlbGxNZXRhKDAsZSksbj10LndpZHRoO2lmKHZvaWQgMCE9PW4mJm4hPT1jLnNldHRpbmdzLndpZHRofHwobj10LmNvbFdpZHRocyksdm9pZCAwIT09biYmbnVsbCE9PW4pe3N3aXRjaCh0eXBlb2Ygbil7Y2FzZSJvYmplY3QiOm49bltlXTticmVhaztjYXNlImZ1bmN0aW9uIjpuPW4oZSl9InN0cmluZyI9PXR5cGVvZiBuJiYobj1wYXJzZUludChuLDEwKSl9cmV0dXJuIG59LHRoaXMuZ2V0Q29sV2lkdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9bS5fZ2V0Q29sV2lkdGhGcm9tU2V0dGluZ3MoZSk7cmV0dXJuIHQ9Uy5ob29rcy5ydW4obSwibW9kaWZ5Q29sV2lkdGgiLHQsZSksdm9pZCAwPT09dCYmKHQ9bmUuREVGQVVMVF9XSURUSCksdH0sdGhpcy5fZ2V0Um93SGVpZ2h0RnJvbVNldHRpbmdzPWZ1bmN0aW9uKGUpe3ZhciB0PWMuc2V0dGluZ3Mucm93SGVpZ2h0cztpZih2b2lkIDAhPT10JiZudWxsIT09dCl7c3dpdGNoKHR5cGVvZiB0KXtjYXNlIm9iamVjdCI6dD10W2VdO2JyZWFrO2Nhc2UiZnVuY3Rpb24iOnQ9dChlKX0ic3RyaW5nIj09dHlwZW9mIHQmJih0PXBhcnNlSW50KHQsMTApKX1yZXR1cm4gdH0sdGhpcy5nZXRSb3dIZWlnaHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bS5fZ2V0Um93SGVpZ2h0RnJvbVNldHRpbmdzKGUpO3JldHVybiB0PVMuaG9va3MucnVuKG0sIm1vZGlmeVJvd0hlaWdodCIsdCxlKX0sdGhpcy5jb3VudFNvdXJjZVJvd3M9ZnVuY3Rpb24oKXtyZXR1cm4gbS5nZXRTb3VyY2VEYXRhKCk/bS5nZXRTb3VyY2VEYXRhKCkubGVuZ3RoOjB9LHRoaXMuY291bnRSb3dzPWZ1bmN0aW9uKCl7cmV0dXJuIGguZ2V0TGVuZ3RoKCl9LHRoaXMuY291bnRDb2xzPWZ1bmN0aW9uKCl7cmV0dXJuIm9iamVjdCI9PT1tLmRhdGFUeXBlfHwiZnVuY3Rpb24iPT09bS5kYXRhVHlwZT9jLnNldHRpbmdzLmNvbHVtbnMmJmMuc2V0dGluZ3MuY29sdW1ucy5sZW5ndGg/Yy5zZXR0aW5ncy5jb2x1bW5zLmxlbmd0aDpoLmNvbFRvUHJvcENhY2hlLmxlbmd0aDoiYXJyYXkiPT09bS5kYXRhVHlwZT9jLnNldHRpbmdzLmNvbHVtbnMmJmMuc2V0dGluZ3MuY29sdW1ucy5sZW5ndGg/Yy5zZXR0aW5ncy5jb2x1bW5zLmxlbmd0aDpjLnNldHRpbmdzLmRhdGEmJmMuc2V0dGluZ3MuZGF0YVswXSYmYy5zZXR0aW5ncy5kYXRhWzBdLmxlbmd0aD9jLnNldHRpbmdzLmRhdGFbMF0ubGVuZ3RoOjA6dm9pZCAwfSx0aGlzLnJvd09mZnNldD1mdW5jdGlvbigpe3JldHVybiBtLnZpZXcud3Qud3RUYWJsZS5nZXRGaXJzdFJlbmRlcmVkUm93KCl9LHRoaXMuY29sT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIG0udmlldy53dC53dFRhYmxlLmdldEZpcnN0UmVuZGVyZWRDb2x1bW4oKX0sdGhpcy5jb3VudFJlbmRlcmVkUm93cz1mdW5jdGlvbigpe3JldHVybiBtLnZpZXcud3QuZHJhd24/bS52aWV3Lnd0Lnd0VGFibGUuZ2V0UmVuZGVyZWRSb3dzQ291bnQoKTotMX0sdGhpcy5jb3VudFZpc2libGVSb3dzPWZ1bmN0aW9uKCl7cmV0dXJuIG0udmlldy53dC5kcmF3bj9tLnZpZXcud3Qud3RUYWJsZS5nZXRWaXNpYmxlUm93c0NvdW50KCk6LTF9LHRoaXMuY291bnRSZW5kZXJlZENvbHM9ZnVuY3Rpb24oKXtyZXR1cm4gbS52aWV3Lnd0LmRyYXduP20udmlldy53dC53dFRhYmxlLmdldFJlbmRlcmVkQ29sdW1uc0NvdW50KCk6LTF9LHRoaXMuY291bnRWaXNpYmxlQ29scz1mdW5jdGlvbigpe3JldHVybiBtLnZpZXcud3QuZHJhd24/bS52aWV3Lnd0Lnd0VGFibGUuZ2V0VmlzaWJsZUNvbHVtbnNDb3VudCgpOi0xfSx0aGlzLmNvdW50RW1wdHlSb3dzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPW0uY291bnRSb3dzKCktMSxvPTA7bj49MDspe2lmKHQ9Uy5ob29rcy5ydW4odGhpcywibW9kaWZ5Um93IixuKSxtLmlzRW1wdHlSb3codCkpbysrO2Vsc2UgaWYoZSlicmVhaztuLS19cmV0dXJuIG99LHRoaXMuY291bnRFbXB0eUNvbHM9ZnVuY3Rpb24oZSl7aWYobS5jb3VudFJvd3MoKTwxKXJldHVybiAwO2Zvcih2YXIgdD1tLmNvdW50Q29scygpLTEsbj0wO3Q+PTA7KXtpZihtLmlzRW1wdHlDb2wodCkpbisrO2Vsc2UgaWYoZSlicmVhazt0LS19cmV0dXJuIG59LHRoaXMuaXNFbXB0eVJvdz1mdW5jdGlvbihlKXtyZXR1cm4gYy5zZXR0aW5ncy5pc0VtcHR5Um93LmNhbGwobSxlKX0sdGhpcy5pc0VtcHR5Q29sPWZ1bmN0aW9uKGUpe3JldHVybiBjLnNldHRpbmdzLmlzRW1wdHlDb2wuY2FsbChtLGUpfSx0aGlzLnNlbGVjdENlbGw9ZnVuY3Rpb24oZSx0LG4sbyxyLGkpe3ZhciBzO2lmKGk9InVuZGVmaW5lZCI9PXR5cGVvZiBpfHxpPT09ITAsIm51bWJlciIhPXR5cGVvZiBlfHwwPmV8fGU+PW0uY291bnRSb3dzKCkpcmV0dXJuITE7aWYoIm51bWJlciIhPXR5cGVvZiB0fHwwPnR8fHQ+PW0uY291bnRDb2xzKCkpcmV0dXJuITE7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBuKXtpZigibnVtYmVyIiE9dHlwZW9mIG58fDA+bnx8bj49bS5jb3VudFJvd3MoKSlyZXR1cm4hMTtpZigibnVtYmVyIiE9dHlwZW9mIG98fDA+b3x8bz49bS5jb3VudENvbHMoKSlyZXR1cm4hMTsKfXJldHVybiBzPW5ldyBlZShlLHQpLGMuc2VsUmFuZ2U9bmV3IHRlKHMscyxzKSxpJiZtLmxpc3RlbigpLCJ1bmRlZmluZWQiPT10eXBlb2Ygbj9wLnNldFJhbmdlRW5kKGMuc2VsUmFuZ2UuZnJvbSxyKTpwLnNldFJhbmdlRW5kKG5ldyBlZShuLG8pLHIpLG0uc2VsZWN0aW9uLmZpbmlzaCgpLCEwfSx0aGlzLnNlbGVjdENlbGxCeVByb3A9ZnVuY3Rpb24oZSx0LG4sbyxyKXtyZXR1cm4gYXJndW1lbnRzWzFdPWgucHJvcFRvQ29sKGFyZ3VtZW50c1sxXSksInVuZGVmaW5lZCIhPXR5cGVvZiBhcmd1bWVudHNbM10mJihhcmd1bWVudHNbM109aC5wcm9wVG9Db2woYXJndW1lbnRzWzNdKSksbS5zZWxlY3RDZWxsLmFwcGx5KG0sYXJndW1lbnRzKX0sdGhpcy5kZXNlbGVjdENlbGw9ZnVuY3Rpb24oKXtwLmRlc2VsZWN0KCl9LHRoaXMuc2Nyb2xsVmlld3BvcnRUbz1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PWUmJigwPmV8fGU+PW0uY291bnRSb3dzKCkpKXJldHVybiExO2lmKHZvaWQgMCE9PXQmJigwPnR8fHQ+PW0uY291bnRDb2xzKCkpKXJldHVybiExO3ZhciBuPSExO3JldHVybiB2b2lkIDAhPT1lJiZ2b2lkIDAhPT10JiYobS52aWV3Lnd0LnNjcm9sbFZlcnRpY2FsKGUpLG0udmlldy53dC5zY3JvbGxIb3Jpem9udGFsKHQpLG49ITApLCJudW1iZXIiPT10eXBlb2YgZSYmIm51bWJlciIhPXR5cGVvZiB0JiYobS52aWV3Lnd0LnNjcm9sbFZlcnRpY2FsKGUpLG49ITApLCJudW1iZXIiPT10eXBlb2YgdCYmIm51bWJlciIhPXR5cGVvZiBlJiYobS52aWV3Lnd0LnNjcm9sbEhvcml6b250YWwodCksbj0hMCksbn0sdGhpcy5kZXN0cm95PWZ1bmN0aW9uKCl7bS5fY2xlYXJUaW1lb3V0cygpLG0udmlldyYmbS52aWV3LmRlc3Ryb3koKSxkJiZkLmRlc3Ryb3koKSxkPW51bGwsTyhtLnJvb3RFbGVtZW50KSx2LmRlc3Ryb3koKSxTLmhvb2tzLnJ1bihtLCJhZnRlckRlc3Ryb3kiKSxTLmhvb2tzLmRlc3Ryb3kobSk7Zm9yKHZhciBlIGluIG0pbS5oYXNPd25Qcm9wZXJ0eShlKSYmKCJmdW5jdGlvbiI9PXR5cGVvZiBtW2VdP21bZV09dToiZ3VpZCIhPT1lJiYobVtlXT1udWxsKSk7aCYmaC5kZXN0cm95KCksaD1udWxsLGM9bnVsbCxmPW51bGwscD1udWxsLGc9bnVsbCxtPW51bGwsdz1udWxsfSx0aGlzLmdldEFjdGl2ZUVkaXRvcj1mdW5jdGlvbigpe3JldHVybiBnLmdldEFjdGl2ZUVkaXRvcigpfSx0aGlzLmdldFBsdWdpbj1mdW5jdGlvbihlKXtyZXR1cm4gWSh0aGlzLGUpfSx0aGlzLmdldEluc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIG19LHRoaXMuYWRkSG9vaz1mdW5jdGlvbihlLHQpe1MuaG9va3MuYWRkKGUsdCxtKX0sdGhpcy5oYXNIb29rPWZ1bmN0aW9uKGUpe3JldHVybiBTLmhvb2tzLmhhcyhlLG0pfSx0aGlzLmFkZEhvb2tPbmNlPWZ1bmN0aW9uKGUsdCl7Uy5ob29rcy5vbmNlKGUsdCxtKX0sdGhpcy5yZW1vdmVIb29rPWZ1bmN0aW9uKGUsdCl7Uy5ob29rcy5yZW1vdmUoZSx0LG0pfSx0aGlzLnJ1bkhvb2tzPWZ1bmN0aW9uKGUsdCxuLG8scixpLHMpe3JldHVybiBTLmhvb2tzLnJ1bihtLGUsdCxuLG8scixpLHMpfSx0aGlzLnRpbWVvdXRzPVtdLHRoaXMuX3JlZ2lzdGVyVGltZW91dD1mdW5jdGlvbihlKXt0aGlzLnRpbWVvdXRzLnB1c2goZSl9LHRoaXMuX2NsZWFyVGltZW91dHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MCx0PXRoaXMudGltZW91dHMubGVuZ3RoO3Q+ZTtlKyspY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dHNbZV0pfSx0aGlzLnZlcnNpb249Uy52ZXJzaW9uLFMuaG9va3MucnVuKG0sImNvbnN0cnVjdCIpfTt2YXIgb2U9ZnVuY3Rpb24oKXt9O29lLnByb3RvdHlwZT17ZGF0YTp2b2lkIDAsZGF0YVNjaGVtYTp2b2lkIDAsd2lkdGg6dm9pZCAwLGhlaWdodDp2b2lkIDAsc3RhcnRSb3dzOjUsc3RhcnRDb2xzOjUscm93SGVhZGVyczp2b2lkIDAsY29sSGVhZGVyczpudWxsLGNvbFdpZHRoczp2b2lkIDAscm93SGVpZ2h0czp2b2lkIDAsY29sdW1uczp2b2lkIDAsY2VsbHM6dm9pZCAwLGNlbGw6W10sY29tbWVudHM6ITEsY3VzdG9tQm9yZGVyczohMSxtaW5Sb3dzOjAsbWluQ29sczowLG1heFJvd3M6MS8wLG1heENvbHM6MS8wLG1pblNwYXJlUm93czowLG1pblNwYXJlQ29sczowLGFsbG93SW5zZXJ0Um93OiEwLGFsbG93SW5zZXJ0Q29sdW1uOiEwLGFsbG93UmVtb3ZlUm93OiEwLGFsbG93UmVtb3ZlQ29sdW1uOiEwLG11bHRpU2VsZWN0OiEwLGZpbGxIYW5kbGU6ITAsZml4ZWRSb3dzVG9wOjAsZml4ZWRSb3dzQm90dG9tOjAsZml4ZWRDb2x1bW5zTGVmdDowLG91dHNpZGVDbGlja0Rlc2VsZWN0czohMCxlbnRlckJlZ2luc0VkaXRpbmc6ITAsZW50ZXJNb3Zlczp7cm93OjEsY29sOjB9LHRhYk1vdmVzOntyb3c6MCxjb2w6MX0sYXV0b1dyYXBSb3c6ITEsYXV0b1dyYXBDb2w6ITEsY29weVJvd3NMaW1pdDoxZTMsY29weUNvbHNMaW1pdDoxZTMscGFzdGVNb2RlOiJvdmVyd3JpdGUiLHBlcnNpc3RlbnRTdGF0ZTp2b2lkIDAsY3VycmVudFJvd0NsYXNzTmFtZTp2b2lkIDAsY3VycmVudENvbENsYXNzTmFtZTp2b2lkIDAsY2xhc3NOYW1lOnZvaWQgMCx0YWJsZUNsYXNzTmFtZTp2b2lkIDAsc3RyZXRjaEg6Im5vbmUiLGlzRW1wdHlSb3c6ZnVuY3Rpb24oZSl7dmFyIHQsbixvLHI7Zm9yKHQ9MCxuPXRoaXMuY291bnRDb2xzKCk7bj50O3QrKylpZihvPXRoaXMuZ2V0RGF0YUF0Q2VsbChlLHQpLCIiIT09byYmbnVsbCE9PW8mJiJ1bmRlZmluZWQiIT10eXBlb2YgbylyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIG8/KHI9dGhpcy5nZXRDZWxsTWV0YShlLHQpLGoodGhpcy5nZXRTY2hlbWEoKVtyLnByb3BdLG8pKTohMTtyZXR1cm4hMH0saXNFbXB0eUNvbDpmdW5jdGlvbihlKXt2YXIgdCxuLG87Zm9yKHQ9MCxuPXRoaXMuY291bnRSb3dzKCk7bj50O3QrKylpZihvPXRoaXMuZ2V0RGF0YUF0Q2VsbCh0LGUpLCIiIT09byYmbnVsbCE9PW8mJiJ1bmRlZmluZWQiIT10eXBlb2YgbylyZXR1cm4hMTtyZXR1cm4hMH0sb2JzZXJ2ZURPTVZpc2liaWxpdHk6ITAsYWxsb3dJbnZhbGlkOiEwLGFsbG93RW1wdHk6ITAsaW52YWxpZENlbGxDbGFzc05hbWU6Imh0SW52YWxpZCIscGxhY2Vob2xkZXI6ITEscGxhY2Vob2xkZXJDZWxsQ2xhc3NOYW1lOiJodFBsYWNlaG9sZGVyIixyZWFkT25seUNlbGxDbGFzc05hbWU6Imh0RGltbWVkIixyZW5kZXJlcjp2b2lkIDAsY29tbWVudGVkQ2VsbENsYXNzTmFtZToiaHRDb21tZW50Q2VsbCIsZnJhZ21lbnRTZWxlY3Rpb246ITEscmVhZE9ubHk6ITEsc2tpcENvbHVtbk9uUGFzdGU6ITEsc2VhcmNoOiExLHR5cGU6InRleHQiLGNvcHlhYmxlOiEwLGVkaXRvcjp2b2lkIDAsYXV0b0NvbXBsZXRlOnZvaWQgMCx2aXNpYmxlUm93czoxMCx0cmltRHJvcGRvd246ITAsZGVidWc6ITEsd29yZFdyYXA6ITAsbm9Xb3JkV3JhcENsYXNzTmFtZToiaHROb1dyYXAiLGNvbnRleHRNZW51OnZvaWQgMCxjb250ZXh0TWVudUNvcHlQYXN0ZTp2b2lkIDAsY29weVBhc3RlOnZvaWQgMCx1bmRvOnZvaWQgMCxjb2x1bW5Tb3J0aW5nOnZvaWQgMCxtYW51YWxDb2x1bW5Nb3ZlOnZvaWQgMCxtYW51YWxDb2x1bW5SZXNpemU6dm9pZCAwLG1hbnVhbFJvd01vdmU6dm9pZCAwLG1hbnVhbFJvd1Jlc2l6ZTp2b2lkIDAsbWVyZ2VDZWxsczohMSx2aWV3cG9ydFJvd1JlbmRlcmluZ09mZnNldDoiYXV0byIsdmlld3BvcnRDb2x1bW5SZW5kZXJpbmdPZmZzZXQ6ImF1dG8iLHZhbGlkYXRvcjp2b2lkIDAsZGlzYWJsZVZpc3VhbFNlbGVjdGlvbjohMSxzb3J0SW5kaWNhdG9yOnZvaWQgMCxtYW51YWxDb2x1bW5GcmVlemU6dm9pZCAwLHRyaW1XaGl0ZXNwYWNlOiEwLHNldHRpbmdzOnZvaWQgMCxzb3VyY2U6dm9pZCAwLHRpdGxlOnZvaWQgMCxjaGVja2VkVGVtcGxhdGU6dm9pZCAwLHVuY2hlY2tlZFRlbXBsYXRlOnZvaWQgMCxsYWJlbDp2b2lkIDAsZm9ybWF0OnZvaWQgMCxsYW5ndWFnZTp2b2lkIDAsc2VsZWN0T3B0aW9uczp2b2lkIDAsYXV0b0NvbHVtblNpemU6dm9pZCAwLGF1dG9Sb3dTaXplOnZvaWQgMCxkYXRlRm9ybWF0OnZvaWQgMCxjb3JyZWN0Rm9ybWF0OiExLGRlZmF1bHREYXRlOnZvaWQgMCxzdHJpY3Q6dm9pZCAwLHJlbmRlckFsbFJvd3M6dm9pZCAwLHByZXZlbnRPdmVyZmxvdzohMSxiaW5kUm93c1dpdGhIZWFkZXJzOnZvaWQgMCxjb2xsYXBzaWJsZUNvbHVtbnM6dm9pZCAwLGNvbHVtblN1bW1hcnk6dm9pZCAwLGRyb3Bkb3duTWVudTp2b2lkIDAsZmlsdGVyczp2b2lkIDAsZ2FudHRDaGFydDp2b2lkIDAsaGVhZGVyVG9vbHRpcHM6dm9pZCAwLGhpZGRlbkNvbHVtbnM6dm9pZCAwLGhpZGRlblJvd3M6dm9pZCAwLG5lc3RlZEhlYWRlcnM6dm9pZCAwLHRyaW1Sb3dzOnZvaWQgMCxyb3dIZWFkZXJXaWR0aDp2b2lkIDAsY29sdW1uSGVhZGVySGVpZ2h0OnZvaWQgMCxvYnNlcnZlQ2hhbmdlczp2b2lkIDAsc29ydEZ1bmN0aW9uOnZvaWQgMCxzb3J0QnlSZWxldmFuY2U6ITAsZmlsdGVyOiEwLGZpbHRlcmluZ0Nhc2VTZW5zaXRpdmU6ITF9LFMuRGVmYXVsdFNldHRpbmdzPW9lfSx7IjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jYWxjdWxhdG9yL3ZpZXdwb3J0Q29sdW1ucyI6MywiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIjo1LCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9yYW5nZSI6NiwiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL3NlbGVjdGlvbiI6MTgsYnJvd3NlcjoyMyxkYXRhTWFwOjI2LGRhdGFTb3VyY2U6MjcsZWRpdG9yTWFuYWdlcjoyOCxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2Jyb3dzZXIiOjQzLCJoZWxwZXJzL2RhdGEiOjQ0LCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9udW1iZXIiOjUxLCJoZWxwZXJzL29iamVjdCI6NTIsImhlbHBlcnMvc2V0dGluZyI6NTMsImhlbHBlcnMvc3RyaW5nIjo1NCxudW1lcmFsOiJudW1lcmFsIixwbHVnaW5zOjU5LHJlbmRlcmVyczo5Mix0YWJsZVZpZXc6MTAxfV0sMjY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlLHQsbil7dmFyIG89dGhpczt0aGlzLmluc3RhbmNlPWUsdGhpcy5wcml2PXQsdGhpcy5HcmlkU2V0dGluZ3M9bix0aGlzLmRhdGFTb3VyY2U9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLmRhdGEsdGhpcy5jYWNoZWRMZW5ndGg9bnVsbCx0aGlzLmxhdGVzdFNvdXJjZVJvd3NDb3VudD0wLHRoaXMuZGF0YVNvdXJjZVswXT90aGlzLmR1Y2tTY2hlbWE9dGhpcy5yZWN1cnNpdmVEdWNrU2NoZW1hKHRoaXMuZGF0YVNvdXJjZVswXSk6dGhpcy5kdWNrU2NoZW1hPXt9LHRoaXMuY3JlYXRlTWFwKCksdGhpcy5pbnRlcnZhbD1TLmNyZWF0ZShmdW5jdGlvbigpe3JldHVybiBvLmNsZWFyTGVuZ3RoQ2FjaGUoKX0sIjE1ZnBzIil9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7RGF0YU1hcDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHMsbCxhLHUsYyxoLGQsZj0ocj1lKCJicm93c2VyIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KVsiZGVmYXVsdCJdLHA9KGk9ZSgiU2hlZXRDbGlwIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KVsiZGVmYXVsdCJdLGc9KHM9ZSgiaGVscGVycy9kYXRhIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5jZWxsTWV0aG9kTG9va3VwRmFjdG9yeSxtPShsPWUoImhlbHBlcnMvc2V0dGluZyIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuY29sdW1uRmFjdG9yeSx3PShhPWUoImhlbHBlcnMvb2JqZWN0IiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KSx2PXcuZHVja1NjaGVtYSx5PXcuZGVlcEV4dGVuZCxiPXcuZGVlcENsb25lLEM9KHU9ZSgiaGVscGVycy9hcnJheSIpLHUmJnUuX19lc01vZHVsZSYmdXx8eyJkZWZhdWx0Ijp1fSksXz1DLmV4dGVuZEFycmF5LFI9Qy50bzJkQXJyYXksUz0oYz1lKCJ1dGlscy9pbnRlcnZhbCIpLGMmJmMuX19lc01vZHVsZSYmY3x8eyJkZWZhdWx0IjpjfSkuSW50ZXJ2YWwsRT0oaD1lKCJoZWxwZXJzL251bWJlciIpLGgmJmguX19lc01vZHVsZSYmaHx8eyJkZWZhdWx0IjpofSkucmFuZ2VFYWNoLFQ9KGQ9ZSgibXVsdGlNYXAiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLk11bHRpTWFwO28ucHJvdG90eXBlLkRFU1RJTkFUSU9OX1JFTkRFUkVSPTEsby5wcm90b3R5cGUuREVTVElOQVRJT05fQ0xJUEJPQVJEX0dFTkVSQVRPUj0yLG8ucHJvdG90eXBlLnJlY3Vyc2l2ZUR1Y2tTY2hlbWE9ZnVuY3Rpb24oZSl7cmV0dXJuIHYoZSl9LG8ucHJvdG90eXBlLnJlY3Vyc2l2ZUR1Y2tDb2x1bW5zPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbyxyO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgdCYmKHQ9MCxuPSIiKSwib2JqZWN0Ij09dHlwZW9mIGUmJiFBcnJheS5pc0FycmF5KGUpKWZvcihyIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKG51bGw9PT1lW3JdPyhvPW4rcix0aGlzLmNvbFRvUHJvcENhY2hlLnB1c2gobyksdGhpcy5wcm9wVG9Db2xDYWNoZS5zZXQobyx0KSx0KyspOnQ9dGhpcy5yZWN1cnNpdmVEdWNrQ29sdW1ucyhlW3JdLHQscisiLiIpKTtyZXR1cm4gdH0sby5wcm90b3R5cGUuY3JlYXRlTWFwPWZ1bmN0aW9uKCl7dmFyIGUsdCxuPXRoaXMuZ2V0U2NoZW1hKCk7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcigidHJ5aW5nIHRvIGNyZWF0ZSBgY29sdW1uc2AgZGVmaW5pdGlvbiBidXQgeW91IGRpZG50JyBwcm92aWRlIGBzY2hlbWFgIG5vciBgZGF0YWAiKTt0aGlzLmNvbFRvUHJvcENhY2hlPVtdLHRoaXMucHJvcFRvQ29sQ2FjaGU9bmV3IFQ7dmFyIG89dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLmNvbHVtbnM7aWYobylmb3IoZT0wLHQ9by5sZW5ndGg7dD5lO2UrKykidW5kZWZpbmVkIiE9dHlwZW9mIG9bZV0uZGF0YSYmKHRoaXMuY29sVG9Qcm9wQ2FjaGVbZV09b1tlXS5kYXRhLHRoaXMucHJvcFRvQ29sQ2FjaGUuc2V0KG9bZV0uZGF0YSxlKSk7ZWxzZSB0aGlzLnJlY3Vyc2l2ZUR1Y2tDb2x1bW5zKG4pfSxvLnByb3RvdHlwZS5jb2xUb1Byb3A9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9Zi5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwibW9kaWZ5Q29sIixlKSx0aGlzLmNvbFRvUHJvcENhY2hlJiYidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuY29sVG9Qcm9wQ2FjaGVbZV0/dGhpcy5jb2xUb1Byb3BDYWNoZVtlXTplfSxvLnByb3RvdHlwZS5wcm9wVG9Db2w9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9InVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLnByb3BUb0NvbENhY2hlLmdldChlKT9lOnRoaXMucHJvcFRvQ29sQ2FjaGUuZ2V0KGUpLHQ9Zi5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwidW5tb2RpZnlDb2wiLHQpfSxvLnByb3RvdHlwZS5nZXRTY2hlbWE9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkuZGF0YVNjaGVtYTtyZXR1cm4gZT8iZnVuY3Rpb24iPT10eXBlb2YgZT9lKCk6ZTp0aGlzLmR1Y2tTY2hlbWF9LG8ucHJvdG90eXBlLmNyZWF0ZVJvdz1mdW5jdGlvbihlLHQsbil7dmFyIG8scixpPXRoaXMuaW5zdGFuY2UuY291bnRDb2xzKCkscz0wO3R8fCh0PTEpLCgibnVtYmVyIiE9dHlwZW9mIGV8fGU+PXRoaXMuaW5zdGFuY2UuY291bnRTb3VyY2VSb3dzKCkpJiYoZT10aGlzLmluc3RhbmNlLmNvdW50U291cmNlUm93cygpKSxyPWU7Zm9yKHZhciBsPXRoaXMuaW5zdGFuY2UuZ2V0U2V0dGluZ3MoKS5tYXhSb3dzO3Q+cyYmdGhpcy5pbnN0YW5jZS5jb3VudFNvdXJjZVJvd3MoKTxsOykiYXJyYXkiPT09dGhpcy5pbnN0YW5jZS5kYXRhVHlwZT90aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkuZGF0YVNjaGVtYT9vPWIodGhpcy5nZXRTY2hlbWEoKSk6KG89W10sRShpLTEsZnVuY3Rpb24oKXtyZXR1cm4gby5wdXNoKG51bGwpfSkpOiJmdW5jdGlvbiI9PT10aGlzLmluc3RhbmNlLmRhdGFUeXBlP289dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLmRhdGFTY2hlbWEoZSk6KG89e30seShvLHRoaXMuZ2V0U2NoZW1hKCkpKSxlPT09dGhpcy5pbnN0YW5jZS5jb3VudFNvdXJjZVJvd3MoKT90aGlzLmRhdGFTb3VyY2UucHVzaChvKTp0aGlzLmRhdGFTb3VyY2Uuc3BsaWNlKGUsMCxvKSxzKysscisrO3JldHVybiBmLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJhZnRlckNyZWF0ZVJvdyIsZSxzLG4pLHRoaXMuaW5zdGFuY2UuZm9yY2VGdWxsUmVuZGVyPSEwLHN9LG8ucHJvdG90eXBlLmNyZWF0ZUNvbD1mdW5jdGlvbihlLHQsbil7aWYoIXRoaXMuaW5zdGFuY2UuaXNDb2x1bW5Nb2RpZmljYXRpb25BbGxvd2VkKCkpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgY3JlYXRlIG5ldyBjb2x1bW4uIFdoZW4gZGF0YSBzb3VyY2UgaW4gYW4gb2JqZWN0LCB5b3UgY2FuIG9ubHkgaGF2ZSBhcyBtdWNoIGNvbHVtbnMgYXMgZGVmaW5lZCBpbiBmaXJzdCBkYXRhIHJvdywgZGF0YSBzY2hlbWEgb3IgaW4gdGhlICdjb2x1bW5zJyBzZXR0aW5nLklmIHlvdSB3YW50IHRvIGJlIGFibGUgdG8gYWRkIG5ldyBjb2x1bW5zLCB5b3UgaGF2ZSB0byB1c2UgYXJyYXkgZGF0YXNvdXJjZS4iKTt2YXIgbyxyLGk9dGhpcy5pbnN0YW5jZS5jb3VudFNvdXJjZVJvd3MoKSxzPXRoaXMuZGF0YVNvdXJjZSxsPTA7dHx8KHQ9MSksKCJudW1iZXIiIT10eXBlb2YgZXx8ZT49dGhpcy5pbnN0YW5jZS5jb3VudENvbHMoKSkmJihlPXRoaXMuaW5zdGFuY2UuY291bnRDb2xzKCkpLHI9ZTtmb3IodmFyIGE9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLm1heENvbHM7dD5sJiZ0aGlzLmluc3RhbmNlLmNvdW50Q29scygpPGE7KXtpZihvPW0odGhpcy5HcmlkU2V0dGluZ3MsdGhpcy5wcml2LmNvbHVtbnNTZXR0aW5nQ29uZmxpY3RzKSwibnVtYmVyIiE9dHlwZW9mIGV8fGU+PXRoaXMuaW5zdGFuY2UuY291bnRDb2xzKCkpe2Zvcih2YXIgdT0wO2k+dTt1KyspInVuZGVmaW5lZCI9PXR5cGVvZiBzW3VdJiYoc1t1XT1bXSksc1t1XS5wdXNoKG51bGwpO3RoaXMucHJpdi5jb2x1bW5TZXR0aW5ncy5wdXNoKG8pfWVsc2V7Zm9yKHZhciB1PTA7aT51O3UrKylzW3VdLnNwbGljZShyLDAsbnVsbCk7dGhpcy5wcml2LmNvbHVtblNldHRpbmdzLnNwbGljZShyLDAsbyl9bCsrLHIrK31yZXR1cm4gZi5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwiYWZ0ZXJDcmVhdGVDb2wiLGUsbCxuKSx0aGlzLmluc3RhbmNlLmZvcmNlRnVsbFJlbmRlcj0hMCxsfSxvLnByb3RvdHlwZS5yZW1vdmVSb3c9ZnVuY3Rpb24oZSx0KXt0fHwodD0xKSwibnVtYmVyIiE9dHlwZW9mIGUmJihlPS10KSxlPSh0aGlzLmluc3RhbmNlLmNvdW50U291cmNlUm93cygpK2UpJXRoaXMuaW5zdGFuY2UuY291bnRTb3VyY2VSb3dzKCk7dmFyIG49dGhpcy5waHlzaWNhbFJvd3NUb0xvZ2ljYWwoZSx0KSxvPShuLnNsaWNlKDApLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC1lfSksZi5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwiYmVmb3JlUmVtb3ZlUm93IixlLHQsbikpO2lmKG8hPT0hMSl7dmFyIHIsaT10aGlzLmRhdGFTb3VyY2U7cj1pLmZpbHRlcihmdW5jdGlvbihlLHQpe3JldHVybi0xPT1uLmluZGV4T2YodCl9KSxpLmxlbmd0aD0wLEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGksciksZi5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwiYWZ0ZXJSZW1vdmVSb3ciLGUsdCxuKSx0aGlzLmluc3RhbmNlLmZvcmNlRnVsbFJlbmRlcj0hMH19LG8ucHJvdG90eXBlLnJlbW92ZUNvbD1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiPT09dGhpcy5pbnN0YW5jZS5kYXRhVHlwZXx8dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLmNvbHVtbnMpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgcmVtb3ZlIGNvbHVtbiB3aXRoIG9iamVjdCBkYXRhIHNvdXJjZSBvciBjb2x1bW5zIG9wdGlvbiBzcGVjaWZpZWQiKTt0fHwodD0xKSwibnVtYmVyIiE9dHlwZW9mIGUmJihlPS10KSxlPSh0aGlzLmluc3RhbmNlLmNvdW50Q29scygpK2UpJXRoaXMuaW5zdGFuY2UuY291bnRDb2xzKCk7dmFyIG49dGhpcy5waHlzaWNhbENvbHVtbnNUb0xvZ2ljYWwoZSx0KSxvPW4uc2xpY2UoMCkuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiB0LWV9KSxyPWYuaG9va3MucnVuKHRoaXMuaW5zdGFuY2UsImJlZm9yZVJlbW92ZUNvbCIsZSx0LG4pO2lmKHIhPT0hMSl7Zm9yKHZhciBpPSEwLHM9by5sZW5ndGgsbD10aGlzLmRhdGFTb3VyY2UsYT0wO3M+YTthKyspaSYmblswXSE9PW5bYV0tYSYmKGk9ITEpO2lmKGkpZm9yKHZhciB1PTAsYz10aGlzLmluc3RhbmNlLmNvdW50U291cmNlUm93cygpO2M+dTt1KyspbFt1XS5zcGxpY2UoblswXSx0KTtlbHNle2Zvcih2YXIgaD0wLGQ9dGhpcy5pbnN0YW5jZS5jb3VudFNvdXJjZVJvd3MoKTtkPmg7aCsrKWZvcih2YXIgcD0wO3M+cDtwKyspbFtoXS5zcGxpY2Uob1twXSwxKTtmb3IodmFyIGc9MDtzPmc7ZysrKXRoaXMucHJpdi5jb2x1bW5TZXR0aW5ncy5zcGxpY2UobltnXSwxKX1mLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJhZnRlclJlbW92ZUNvbCIsZSx0KSx0aGlzLmluc3RhbmNlLmZvcmNlRnVsbFJlbmRlcj0hMH19LG8ucHJvdG90eXBlLnNwbGljZUNvbD1mdW5jdGlvbihlLHQsbil7dmFyIG89NDw9YXJndW1lbnRzLmxlbmd0aD9bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKTpbXSxyPXRoaXMuaW5zdGFuY2UuZ2V0RGF0YUF0Q29sKGUpLGk9ci5zbGljZSh0LHQrbikscz1yLnNsaWNlKHQrbik7XyhvLHMpO2Zvcih2YXIgbD0wO24+bDspby5wdXNoKG51bGwpLGwrKztyZXR1cm4gUihvKSx0aGlzLmluc3RhbmNlLnBvcHVsYXRlRnJvbUFycmF5KHQsZSxvLG51bGwsbnVsbCwic3BsaWNlQ29sIiksaX0sby5wcm90b3R5cGUuc3BsaWNlUm93PWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz00PD1hcmd1bWVudHMubGVuZ3RoP1tdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDMpOltdLHI9dGhpcy5pbnN0YW5jZS5nZXRTb3VyY2VEYXRhQXRSb3coZSksaT1yLnNsaWNlKHQsdCtuKSxzPXIuc2xpY2UodCtuKTtfKG8scyk7Zm9yKHZhciBsPTA7bj5sOylvLnB1c2gobnVsbCksbCsrO3JldHVybiB0aGlzLmluc3RhbmNlLnBvcHVsYXRlRnJvbUFycmF5KGUsdCxbb10sbnVsbCxudWxsLCJzcGxpY2VSb3ciKSxpfSxvLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSx0KXtlPWYuaG9va3MucnVuKHRoaXMuaW5zdGFuY2UsIm1vZGlmeVJvdyIsZSk7dmFyIG49dGhpcy5kYXRhU291cmNlW2VdO2lmKG4mJm4uaGFzT3duUHJvcGVydHkmJm4uaGFzT3duUHJvcGVydHkodCkpcmV0dXJuIG5bdF07aWYoInN0cmluZyI9PXR5cGVvZiB0JiZ0LmluZGV4T2YoIi4iKT4tMSl7dmFyIG89dC5zcGxpdCgiLiIpLHI9bjtpZighcilyZXR1cm4gbnVsbDtmb3IodmFyIGk9MCxzPW8ubGVuZ3RoO3M+aTtpKyspaWYocj1yW29baV1dLCJ1bmRlZmluZWQiPT10eXBlb2YgcilyZXR1cm4gbnVsbDtyZXR1cm4gcn1yZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgdD90KHRoaXMuZGF0YVNvdXJjZS5zbGljZShlLGUrMSlbMF0pOm51bGx9O3ZhciBNPWcoImNvcHlhYmxlIiwhMSk7by5wcm90b3R5cGUuZ2V0Q29weWFibGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTS5jYWxsKHRoaXMuaW5zdGFuY2UsZSx0aGlzLnByb3BUb0NvbCh0KSk/dGhpcy5nZXQoZSx0KToiIn0sby5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxuLG8pe2U9Zi5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwibW9kaWZ5Um93IixlLG98fCJkYXRhbWFwR2V0Iik7dmFyIHI9dGhpcy5kYXRhU291cmNlW2VdO2lmKHImJnIuaGFzT3duUHJvcGVydHkmJnIuaGFzT3duUHJvcGVydHkodCkpclt0XT1uO2Vsc2UgaWYoInN0cmluZyI9PXR5cGVvZiB0JiZ0LmluZGV4T2YoIi4iKT4tMSl7Zm9yKHZhciBpPXQuc3BsaXQoIi4iKSxzPXIsbD0wLGE9aS5sZW5ndGgtMTthPmw7bCsrKSJ1bmRlZmluZWQiPT10eXBlb2Ygc1tpW2xdXSYmKHNbaVtsXV09e30pLHM9c1tpW2xdXTtzW2lbbF1dPW59ZWxzZSJmdW5jdGlvbiI9PXR5cGVvZiB0P3QodGhpcy5kYXRhU291cmNlLnNsaWNlKGUsZSsxKVswXSxuKTpyW3RdPW59LG8ucHJvdG90eXBlLnBoeXNpY2FsUm93c1RvTG9naWNhbD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbixvPXRoaXMuaW5zdGFuY2UuY291bnRTb3VyY2VSb3dzKCkscj0obytlKSVvLGk9W10scz10O28+ciYmczspbj1mLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJtb2RpZnlSb3ciLHIpLGkucHVzaChuKSxzLS0scisrO3JldHVybiBpfSxvLnByb3RvdHlwZS5waHlzaWNhbENvbHVtbnNUb0xvZ2ljYWw9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dGhpcy5pbnN0YW5jZS5jb3VudENvbHMoKSxvPShuK2UpJW4scj1bXSxpPXQ7bj5vJiZpOyl7dmFyIHM9Zi5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwibW9kaWZ5Q29sIixvKTtyLnB1c2gocyksaS0tLG8rK31yZXR1cm4gcn0sby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuaW5zdGFuY2UuY291bnRTb3VyY2VSb3dzKCk7ZSsrKWZvcih2YXIgdD0wO3Q8dGhpcy5pbnN0YW5jZS5jb3VudENvbHMoKTt0KyspdGhpcy5zZXQoZSx0aGlzLmNvbFRvUHJvcCh0KSwiIil9LG8ucHJvdG90eXBlLmNsZWFyTGVuZ3RoQ2FjaGU9ZnVuY3Rpb24oKXt0aGlzLmNhY2hlZExlbmd0aD1udWxsfSxvLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5pbnN0YW5jZS5jb3VudFNvdXJjZVJvd3MoKTtpZihmLmhvb2tzLmhhcygibW9kaWZ5Um93Iix0aGlzLmluc3RhbmNlKSl7dmFyIG49ITE7dGhpcy5pbnRlcnZhbC5zdGFydCgpLHQhPT10aGlzLmxhdGVzdFNvdXJjZVJvd3NDb3VudCYmKG49ITApLHRoaXMubGF0ZXN0U291cmNlUm93c0NvdW50PXQsbnVsbD09PXRoaXMuY2FjaGVkTGVuZ3RofHxuPyhFKHQtMSxmdW5jdGlvbihuKXtuPWYuaG9va3MucnVuKGUuaW5zdGFuY2UsIm1vZGlmeVJvdyIsbiksbnVsbD09PW4mJi0tdH0pLHRoaXMuY2FjaGVkTGVuZ3RoPXQpOnQ9dGhpcy5jYWNoZWRMZW5ndGh9ZWxzZSB0aGlzLmludGVydmFsLnN0b3AoKTtyZXR1cm4gdH0sby5wcm90b3R5cGUuZ2V0QWxsPWZ1bmN0aW9uKCl7dmFyIGU9e3JvdzowLGNvbDowfSx0PXtyb3c6TWF0aC5tYXgodGhpcy5pbnN0YW5jZS5jb3VudFNvdXJjZVJvd3MoKS0xLDApLGNvbDpNYXRoLm1heCh0aGlzLmluc3RhbmNlLmNvdW50Q29scygpLTEsMCl9O3JldHVybiBlLnJvdy10LnJvdyE9PTB8fHRoaXMuaW5zdGFuY2UuY291bnRTb3VyY2VSb3dzKCk/dGhpcy5nZXRSYW5nZShlLHQsby5wcm90b3R5cGUuREVTVElOQVRJT05fUkVOREVSRVIpOltdfSxvLnByb3RvdHlwZS5nZXRSYW5nZT1mdW5jdGlvbihlLHQsbil7dmFyIG8scixpLHMsbCxhPVtdLHU9bj09PXRoaXMuREVTVElOQVRJT05fQ0xJUEJPQVJEX0dFTkVSQVRPUj90aGlzLmdldENvcHlhYmxlOnRoaXMuZ2V0O2ZvcihyPU1hdGgubWF4KGUucm93LHQucm93KSxzPU1hdGgubWF4KGUuY29sLHQuY29sKSxvPU1hdGgubWluKGUucm93LHQucm93KTtyPj1vO28rKyl7bD1bXTt2YXIgYz1mLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJtb2RpZnlSb3ciLG8pO2ZvcihpPU1hdGgubWluKGUuY29sLHQuY29sKTtzPj1pO2krKyl7aWYobnVsbD09PWMpYnJlYWs7bC5wdXNoKHUuY2FsbCh0aGlzLG8sdGhpcy5jb2xUb1Byb3AoaSkpKX1udWxsIT09YyYmYS5wdXNoKGwpfXJldHVybiBhfSxvLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHAuc3RyaW5naWZ5KHRoaXMuZ2V0UmFuZ2UoZSx0LHRoaXMuREVTVElOQVRJT05fUkVOREVSRVIpKX0sby5wcm90b3R5cGUuZ2V0Q29weWFibGVUZXh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHAuc3RyaW5naWZ5KHRoaXMuZ2V0UmFuZ2UoZSx0LHRoaXMuREVTVElOQVRJT05fQ0xJUEJPQVJEX0dFTkVSQVRPUikpfSxvLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pbnRlcnZhbC5zdG9wKCksdGhpcy5pbnRlcnZhbD1udWxsLHRoaXMuaW5zdGFuY2U9bnVsbCx0aGlzLnByaXY9bnVsbCx0aGlzLkdyaWRTZXR0aW5ncz1udWxsLHRoaXMuZGF0YVNvdXJjZT1udWxsLHRoaXMuY2FjaGVkTGVuZ3RoPW51bGwsdGhpcy5kdWNrU2NoZW1hPW51bGx9fSx7U2hlZXRDbGlwOiJTaGVldENsaXAiLGJyb3dzZXI6MjMsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RhdGEiOjQ0LCJoZWxwZXJzL251bWJlciI6NTEsImhlbHBlcnMvb2JqZWN0Ijo1MiwiaGVscGVycy9zZXR0aW5nIjo1MyxtdWx0aU1hcDo1NywidXRpbHMvaW50ZXJ2YWwiOjEwM31dLDI3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0RhdGFTb3VyY2U6e2dldDpmdW5jdGlvbigpe3JldHVybiBmfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsbCxhPSgobz1lKCJoZWxwZXJzL2RhdGEiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pLmNlbGxNZXRob2RMb29rdXBGYWN0b3J5LChyPWUoImhlbHBlcnMvc2V0dGluZyIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuY29sdW1uRmFjdG9yeSxpPWUoImhlbHBlcnMvb2JqZWN0IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSx1PShhLmR1Y2tTY2hlbWEsYS5kZWVwRXh0ZW5kLGEuZ2V0UHJvcGVydHkpLGM9KHM9ZSgiaGVscGVycy9hcnJheSIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksaD0oYy5leHRlbmRBcnJheSxjLmFycmF5RWFjaCksZD0obD1lKCJoZWxwZXJzL251bWJlciIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkucmFuZ2VFYWNoLGY9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbXTt0aGlzLmhvdD1lLHRoaXMuZGF0YT10LHRoaXMuZGF0YVR5cGU9ImFycmF5Iix0aGlzLmNvbFRvUHJvcD1mdW5jdGlvbigpe30sdGhpcy5wcm9wVG9Db2w9ZnVuY3Rpb24oKXt9fTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoZix7Z2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9LHNldERhdGE6ZnVuY3Rpb24oZSl7dGhpcy5kYXRhPWV9LGdldEF0Q29sdW1uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1bXTtyZXR1cm4gaCh0aGlzLmRhdGEsZnVuY3Rpb24obyl7dmFyIHI9dC5jb2xUb1Byb3AoZSk7bz0ic3RyaW5nIj09dHlwZW9mIHI/dShvLHIpOm9bcl0sbi5wdXNoKG8pfSksbn0sZ2V0QXRSb3c6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZGF0YVtlXX0sZ2V0QXRDZWxsOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZGF0YVtlXVt0aGlzLmNvbFRvUHJvcCh0KV19LGdldEJ5UmFuZ2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLG89TWF0aC5taW4oZS5yb3csdC5yb3cpLHI9TWF0aC5taW4oZS5jb2wsdC5jb2wpLGk9TWF0aC5tYXgoZS5yb3csdC5yb3cpLHM9TWF0aC5tYXgoZS5jb2wsdC5jb2wpLGw9W107cmV0dXJuIGQobyxpLGZ1bmN0aW9uKGUpe3ZhciB0LG89bi5nZXRBdFJvdyhlKTsiYXJyYXkiPT09bi5kYXRhVHlwZT90PW8uc2xpY2UocixzKToib2JqZWN0Ij09PW4uZGF0YVR5cGUmJih0PXt9LGQocixzLGZ1bmN0aW9uKGUpe3ZhciByPW4uY29sVG9Qcm9wKGUpO3Rbcl09b1tyXX0pKSxsLnB1c2godCl9KSxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5kYXRhPW51bGwsdGhpcy5ob3Q9bnVsbH19LHt9KX0seyJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9kYXRhIjo0NCwiaGVscGVycy9udW1iZXIiOjUxLCJoZWxwZXJzL29iamVjdCI6NTIsImhlbHBlcnMvc2V0dGluZyI6NTN9XSwyODpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCxuKXtmdW5jdGlvbiBvKGUpe3ZhciBvPSJmdW5jdGlvbiI9PXR5cGVvZiB0LnNldHRpbmdzLmVudGVyTW92ZXM/dC5zZXR0aW5ncy5lbnRlck1vdmVzKGV2ZW50KTp0LnNldHRpbmdzLmVudGVyTW92ZXM7ZT9uLnRyYW5zZm9ybVN0YXJ0KC1vLnJvdywtby5jb2wpOm4udHJhbnNmb3JtU3RhcnQoby5yb3csby5jb2wsITApfWZ1bmN0aW9uIHIoZSl7ZT9uLnRyYW5zZm9ybUVuZCgtMSwwKTpuLnRyYW5zZm9ybVN0YXJ0KC0xLDApfWZ1bmN0aW9uIGkoZSl7ZT9uLnRyYW5zZm9ybUVuZCgxLDApOm4udHJhbnNmb3JtU3RhcnQoMSwwKX1mdW5jdGlvbiBzKGUpe2U/bi50cmFuc2Zvcm1FbmQoMCwxKTpuLnRyYW5zZm9ybVN0YXJ0KDAsMSl9ZnVuY3Rpb24gbChlKXtlP24udHJhbnNmb3JtRW5kKDAsLTEpOm4udHJhbnNmb3JtU3RhcnQoMCwtMSl9ZnVuY3Rpb24gYShhKXt2YXIgdSxkO2lmKGUuaXNMaXN0ZW5pbmcoKSYmKGMuaG9va3MucnVuKGUsImJlZm9yZUtleURvd24iLGEpLCFfJiYheShhKSYmKHQubGFzdEtleUNvZGU9YS5rZXlDb2RlLG4uaXNTZWxlY3RlZCgpKSkpe2lmKHU9KGEuY3RybEtleXx8YS5tZXRhS2V5KSYmIWEuYWx0S2V5LG0mJiFtLmlzV2FpdGluZygpJiYhKHAoYS5rZXlDb2RlKXx8ZyhhLmtleUNvZGUpfHx1fHxDLmlzRWRpdG9yT3BlbmVkKCkpKXJldHVybiB2b2lkIEMub3BlbkVkaXRvcigiIixhKTtzd2l0Y2goZD1hLnNoaWZ0S2V5P24uc2V0UmFuZ2VFbmQ6bi5zZXRSYW5nZVN0YXJ0LGEua2V5Q29kZSl7Y2FzZSBmLkE6IUMuaXNFZGl0b3JPcGVuZWQoKSYmdSYmKG4uc2VsZWN0QWxsKCksYS5wcmV2ZW50RGVmYXVsdCgpLHcoYSkpO2JyZWFrO2Nhc2UgZi5BUlJPV19VUDpDLmlzRWRpdG9yT3BlbmVkKCkmJiFtLmlzV2FpdGluZygpJiZDLmNsb3NlRWRpdG9yQW5kU2F2ZUNoYW5nZXModSkscihhLnNoaWZ0S2V5KSxhLnByZXZlbnREZWZhdWx0KCksdyhhKTticmVhaztjYXNlIGYuQVJST1dfRE9XTjpDLmlzRWRpdG9yT3BlbmVkKCkmJiFtLmlzV2FpdGluZygpJiZDLmNsb3NlRWRpdG9yQW5kU2F2ZUNoYW5nZXModSksaShhLnNoaWZ0S2V5KSxhLnByZXZlbnREZWZhdWx0KCksdyhhKTticmVhaztjYXNlIGYuQVJST1dfUklHSFQ6Qy5pc0VkaXRvck9wZW5lZCgpJiYhbS5pc1dhaXRpbmcoKSYmQy5jbG9zZUVkaXRvckFuZFNhdmVDaGFuZ2VzKHUpLHMoYS5zaGlmdEtleSksYS5wcmV2ZW50RGVmYXVsdCgpLHcoYSk7YnJlYWs7Y2FzZSBmLkFSUk9XX0xFRlQ6Qy5pc0VkaXRvck9wZW5lZCgpJiYhbS5pc1dhaXRpbmcoKSYmQy5jbG9zZUVkaXRvckFuZFNhdmVDaGFuZ2VzKHUpLGwoYS5zaGlmdEtleSksYS5wcmV2ZW50RGVmYXVsdCgpLHcoYSk7YnJlYWs7Y2FzZSBmLlRBQjp2YXIgYj0iZnVuY3Rpb24iPT10eXBlb2YgdC5zZXR0aW5ncy50YWJNb3Zlcz90LnNldHRpbmdzLnRhYk1vdmVzKGEpOnQuc2V0dGluZ3MudGFiTW92ZXM7YS5zaGlmdEtleT9uLnRyYW5zZm9ybVN0YXJ0KC1iLnJvdywtYi5jb2wpOm4udHJhbnNmb3JtU3RhcnQoYi5yb3csYi5jb2wsITApLGEucHJldmVudERlZmF1bHQoKSx3KGEpO2JyZWFrO2Nhc2UgZi5CQUNLU1BBQ0U6Y2FzZSBmLkRFTEVURTpuLmVtcHR5KGEpLEMucHJlcGFyZUVkaXRvcigpLGEucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlIGYuRjI6Qy5vcGVuRWRpdG9yKG51bGwsYSksbSYmbS5lbmFibGVGdWxsRWRpdE1vZGUoKSxhLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBmLkVOVEVSOkMuaXNFZGl0b3JPcGVuZWQoKT8obSYmbS5zdGF0ZSE9PWMuRWRpdG9yU3RhdGUuV0FJVElORyYmQy5jbG9zZUVkaXRvckFuZFNhdmVDaGFuZ2VzKHUpLG8oYS5zaGlmdEtleSkpOmUuZ2V0U2V0dGluZ3MoKS5lbnRlckJlZ2luc0VkaXRpbmc/KEMub3BlbkVkaXRvcihudWxsLGEpLG0mJm0uZW5hYmxlRnVsbEVkaXRNb2RlKCkpOm8oYS5zaGlmdEtleSksYS5wcmV2ZW50RGVmYXVsdCgpLHYoYSk7YnJlYWs7Y2FzZSBmLkVTQ0FQRTpDLmlzRWRpdG9yT3BlbmVkKCkmJkMuY2xvc2VFZGl0b3JBbmRSZXN0b3JlT3JpZ2luYWxWYWx1ZSh1KSxhLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBmLkhPTUU6ZChhLmN0cmxLZXl8fGEubWV0YUtleT9uZXcgaCgwLHQuc2VsUmFuZ2UuZnJvbS5jb2wpOm5ldyBoKHQuc2VsUmFuZ2UuZnJvbS5yb3csMCkpLGEucHJldmVudERlZmF1bHQoKSx3KGEpO2JyZWFrO2Nhc2UgZi5FTkQ6ZChhLmN0cmxLZXl8fGEubWV0YUtleT9uZXcgaChlLmNvdW50Um93cygpLTEsdC5zZWxSYW5nZS5mcm9tLmNvbCk6bmV3IGgodC5zZWxSYW5nZS5mcm9tLnJvdyxlLmNvdW50Q29scygpLTEpKSxhLnByZXZlbnREZWZhdWx0KCksdyhhKTticmVhaztjYXNlIGYuUEFHRV9VUDpuLnRyYW5zZm9ybVN0YXJ0KC1lLmNvdW50VmlzaWJsZVJvd3MoKSwwKSxhLnByZXZlbnREZWZhdWx0KCksdyhhKTticmVhaztjYXNlIGYuUEFHRV9ET1dOOm4udHJhbnNmb3JtU3RhcnQoZS5jb3VudFZpc2libGVSb3dzKCksMCksYS5wcmV2ZW50RGVmYXVsdCgpLHcoYSl9fX1mdW5jdGlvbiB1KCl7ZnVuY3Rpb24gdChlLHQsbil7IlREIj09bi5ub2RlTmFtZSYmKEMub3BlbkVkaXRvcigpLG0mJm0uZW5hYmxlRnVsbEVkaXRNb2RlKCkpfWUuYWRkSG9vaygiYWZ0ZXJEb2N1bWVudEtleURvd24iLGEpLGQuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsImtleWRvd24iLGZ1bmN0aW9uKHQpe2UucnVuSG9va3MoImFmdGVyRG9jdW1lbnRLZXlEb3duIix0KX0pLGUudmlldy53dC51cGRhdGUoIm9uQ2VsbERibENsaWNrIix0KSxlLmFkZEhvb2soImFmdGVyRGVzdHJveSIsZnVuY3Rpb24oKXtfPSEwfSl9dmFyIGQsbSxDPXRoaXMsXz0hMTtkPWIoZSksdGhpcy5kZXN0cm95RWRpdG9yPWZ1bmN0aW9uKGUpe3RoaXMuY2xvc2VFZGl0b3IoZSl9LHRoaXMuZ2V0QWN0aXZlRWRpdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG19LHRoaXMucHJlcGFyZUVkaXRvcj1mdW5jdGlvbigpe3ZhciBuLG8scixpLHMsbCxhO3JldHVybiBtJiZtLmlzV2FpdGluZygpP3ZvaWQgdGhpcy5jbG9zZUVkaXRvcighMSwhMSxmdW5jdGlvbihlKXtlJiZDLnByZXBhcmVFZGl0b3IoKX0pOihuPXQuc2VsUmFuZ2UuaGlnaGxpZ2h0LnJvdyxvPXQuc2VsUmFuZ2UuaGlnaGxpZ2h0LmNvbCxyPWUuY29sVG9Qcm9wKG8pLGk9ZS5nZXRDZWxsKG4sbykscz1lLmdldERhdGFBdENlbGwobixvKSxsPWUuZ2V0Q2VsbE1ldGEobixvKSxhPWUuZ2V0Q2VsbEVkaXRvcihsKSx2b2lkKGE/KG09Yy5lZGl0b3JzLmdldEVkaXRvcihhLGUpLG0ucHJlcGFyZShuLG8scixpLHMsbCkpOm09dm9pZCAwKSl9LHRoaXMuaXNFZGl0b3JPcGVuZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbSYmbS5pc09wZW5lZCgpfSx0aGlzLm9wZW5FZGl0b3I9ZnVuY3Rpb24oZSx0KXttJiYhbS5jZWxsUHJvcGVydGllcy5yZWFkT25seT9tLmJlZ2luRWRpdGluZyhlLHQpOm0mJm0uY2VsbFByb3BlcnRpZXMucmVhZE9ubHkmJnQmJnQua2V5Q29kZT09PWYuRU5URVImJm8oKX0sdGhpcy5jbG9zZUVkaXRvcj1mdW5jdGlvbihlLHQsbil7bT9tLmZpbmlzaEVkaXRpbmcoZSx0LG4pOm4mJm4oITEpfSx0aGlzLmNsb3NlRWRpdG9yQW5kU2F2ZUNoYW5nZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvc2VFZGl0b3IoITEsZSl9LHRoaXMuY2xvc2VFZGl0b3JBbmRSZXN0b3JlT3JpZ2luYWxWYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9zZUVkaXRvcighMCxlKX0sdSgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0VkaXRvck1hbmFnZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaSxzLGwsYSx1LGM9KHI9ZSgiYnJvd3NlciIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSlbImRlZmF1bHQiXSxoPShpPWUoIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuV2Fsa29udGFibGVDZWxsQ29vcmRzLGQ9KHM9ZSgiaGVscGVycy91bmljb2RlIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KSxmPWQuS0VZX0NPREVTLHA9ZC5pc01ldGFLZXksZz1kLmlzQ3RybEtleSxtPShsPWUoImhlbHBlcnMvZG9tL2V2ZW50IiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KSx3PW0uc3RvcFByb3BhZ2F0aW9uLHY9bS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24seT1tLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkLGI9KChhPWUoImVkaXRvcnMiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLmdldEVkaXRvciwodT1lKCJldmVudE1hbmFnZXIiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLmV2ZW50TWFuYWdlcik7Yy5FZGl0b3JNYW5hZ2VyPW99LHsiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIjo1LGJyb3dzZXI6MjMsZWRpdG9yczoyOSxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NywiaGVscGVycy91bmljb2RlIjo1NX1dLDI5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7dmFyIHQsbjtuPXt9LHQ9ZSx0aGlzLmdldENvbnN0cnVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHRoaXMuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ3VpZCBpbiBufHwobltlLmd1aWRdPW5ldyB0KGUpKSxuW2UuZ3VpZF19fWZ1bmN0aW9uIHIoZSx0KXt2YXIgbj1uZXcgbyh0KTsic3RyaW5nIj09dHlwZW9mIGUmJihkW2VdPW4sYy5lZGl0b3JzW2goZSkrIkVkaXRvciJdPXQpLGYuc2V0KHQsbil9ZnVuY3Rpb24gaShlLHQpe3ZhciBuO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlKWYuZ2V0KGUpfHxyKG51bGwsZSksbj1mLmdldChlKTtlbHNle2lmKCJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBFcnJvcignT25seSBzdHJpbmdzIGFuZCBmdW5jdGlvbnMgY2FuIGJlIHBhc3NlZCBhcyAiZWRpdG9yIiBwYXJhbWV0ZXIgJyk7bj1kW2VdfWlmKCFuKXRocm93IEVycm9yKCdObyBlZGl0b3IgcmVnaXN0ZXJlZCB1bmRlciBuYW1lICInK2UrJyInKTtyZXR1cm4gbi5nZXRJbnN0YW5jZSh0KX1mdW5jdGlvbiBzKGUpe3ZhciB0O2lmKCJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBFcnJvcignT25seSBzdHJpbmdzIGFuZCBmdW5jdGlvbnMgY2FuIGJlIHBhc3NlZCBhcyAiZWRpdG9yIiBwYXJhbWV0ZXIgJyk7aWYodD1kW2VdLCF0KXRocm93IEVycm9yKCdObyBlZGl0b3IgcmVnaXN0ZXJlZCB1bmRlciBuYW1lICInK2UrJyInKTtyZXR1cm4gdC5nZXRDb25zdHJ1Y3RvcigpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuISFkW2VdfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se3JlZ2lzdGVyRWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LGdldEVkaXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSxoYXNFZGl0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBsfX0sZ2V0RWRpdG9yQ29uc3RydWN0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGEsdSxjPShhPWUoImJyb3dzZXIiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pWyJkZWZhdWx0Il0saD0odT1lKCJoZWxwZXJzL3N0cmluZyIpLHUmJnUuX19lc01vZHVsZSYmdXx8eyJkZWZhdWx0Ijp1fSkudG9VcHBlckNhc2VGaXJzdCxkPXt9LGY9bmV3IFdlYWtNYXA7Yy5lZGl0b3JzPWMuZWRpdG9yc3x8e30sYy5lZGl0b3JzLnJlZ2lzdGVyRWRpdG9yPXIsYy5lZGl0b3JzLmdldEVkaXRvcj1pfSx7YnJvd3NlcjoyMywiaGVscGVycy9zdHJpbmciOjU0fV0sMzA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXt0aGlzLmluc3RhbmNlPWUsdGhpcy5zdGF0ZT1sLkVkaXRvclN0YXRlLlZJUkdJTix0aGlzLl9vcGVuZWQ9ITEsdGhpcy5fZnVsbEVkaXRNb2RlPSExLHRoaXMuX2Nsb3NlQ2FsbGJhY2s9bnVsbCx0aGlzLmluaXQoKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtCYXNlRWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGkscyxsPShyPWUoImJyb3dzZXIiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0sYT0oaT1lKCJoZWxwZXJzL21peGVkIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5zdHJpbmdpZnksdT0ocz1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9jb29yZHMiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLldhbGtvbnRhYmxlQ2VsbENvb3JkcztsLmVkaXRvcnM9bC5lZGl0b3JzfHx7fSxsLmVkaXRvcnMuQmFzZUVkaXRvcj1vLGwuRWRpdG9yU3RhdGU9e1ZJUkdJTjoiU1RBVEVfVklSR0lOIixFRElUSU5HOiJTVEFURV9FRElUSU5HIixXQUlUSU5HOiJTVEFURV9XQUlUSU5HIixGSU5JU0hFRDoiU1RBVEVfRklOSVNIRUQifSxvLnByb3RvdHlwZS5fZmlyZUNhbGxiYWNrcz1mdW5jdGlvbihlKXt0aGlzLl9jbG9zZUNhbGxiYWNrJiYodGhpcy5fY2xvc2VDYWxsYmFjayhlKSx0aGlzLl9jbG9zZUNhbGxiYWNrPW51bGwpfSxvLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7fSxvLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe3Rocm93IEVycm9yKCJFZGl0b3IgZ2V0VmFsdWUoKSBtZXRob2QgdW5pbXBsZW1lbnRlZCIpfSxvLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlKXt0aHJvdyBFcnJvcigiRWRpdG9yIHNldFZhbHVlKCkgbWV0aG9kIHVuaW1wbGVtZW50ZWQiKX0sby5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3Rocm93IEVycm9yKCJFZGl0b3Igb3BlbigpIG1ldGhvZCB1bmltcGxlbWVudGVkIil9LG8ucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoIkVkaXRvciBjbG9zZSgpIG1ldGhvZCB1bmltcGxlbWVudGVkIil9LG8ucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24oZSx0LG4sbyxyLGkpe3RoaXMuVEQ9byx0aGlzLnJvdz1lLHRoaXMuY29sPXQsdGhpcy5wcm9wPW4sdGhpcy5vcmlnaW5hbFZhbHVlPXIsdGhpcy5jZWxsUHJvcGVydGllcz1pLHRoaXMuaW5zdGFuY2Uudmlldy5pc01vdXNlRG93bigpJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50JiZkb2N1bWVudC5hY3RpdmVFbGVtZW50IT09ZG9jdW1lbnQuYm9keT9kb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTpkb2N1bWVudC5hY3RpdmVFbGVtZW50fHxkb2N1bWVudC5ib2R5LmZvY3VzKCksdGhpcy5zdGF0ZT1sLkVkaXRvclN0YXRlLlZJUkdJTn0sby5wcm90b3R5cGUuZXh0ZW5kPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe24uYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHQoZSx0KXtmdW5jdGlvbiBuKCl7fXJldHVybiBuLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgbixlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGV9dmFyIG49dGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdChlLG4pfSxvLnByb3RvdHlwZS5zYXZlVmFsdWU9ZnVuY3Rpb24oZSx0KXt2YXIgbixvO3Q/KG49dGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZCgpLG5bMF0+blsyXSYmKG89blswXSxuWzBdPW5bMl0sblsyXT1vKSxuWzFdPm5bM10mJihvPW5bMV0sblsxXT1uWzNdLG5bM109byksdGhpcy5pbnN0YW5jZS5wb3B1bGF0ZUZyb21BcnJheShuWzBdLG5bMV0sZSxuWzJdLG5bM10sImVkaXQiKSk6dGhpcy5pbnN0YW5jZS5wb3B1bGF0ZUZyb21BcnJheSh0aGlzLnJvdyx0aGlzLmNvbCxlLG51bGwsbnVsbCwiZWRpdCIpfSxvLnByb3RvdHlwZS5iZWdpbkVkaXRpbmc9ZnVuY3Rpb24oZSx0KXt0aGlzLnN0YXRlPT1sLkVkaXRvclN0YXRlLlZJUkdJTiYmKHRoaXMuaW5zdGFuY2Uudmlldy5zY3JvbGxWaWV3cG9ydChuZXcgdSh0aGlzLnJvdyx0aGlzLmNvbCkpLHRoaXMuaW5zdGFuY2Uudmlldy5yZW5kZXIoKSx0aGlzLnN0YXRlPWwuRWRpdG9yU3RhdGUuRURJVElORyxlPSJzdHJpbmciPT10eXBlb2YgZT9lOnRoaXMub3JpZ2luYWxWYWx1ZSx0aGlzLnNldFZhbHVlKGEoZSkpLHRoaXMub3Blbih0KSx0aGlzLl9vcGVuZWQ9ITAsdGhpcy5mb2N1cygpLHRoaXMuaW5zdGFuY2Uudmlldy5yZW5kZXIoKSl9LG8ucHJvdG90eXBlLmZpbmlzaEVkaXRpbmc9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvLHI9dGhpcztpZihuKXt2YXIgaT10aGlzLl9jbG9zZUNhbGxiYWNrO3RoaXMuX2Nsb3NlQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7aSYmaShlKSxuKGUpfX1pZighdGhpcy5pc1dhaXRpbmcoKSl7aWYodGhpcy5zdGF0ZT09bC5FZGl0b3JTdGF0ZS5WSVJHSU4pcmV0dXJuIHZvaWQgdGhpcy5pbnN0YW5jZS5fcmVnaXN0ZXJUaW1lb3V0KHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9maXJlQ2FsbGJhY2tzKCEwKX0sMCkpO2lmKHRoaXMuc3RhdGU9PWwuRWRpdG9yU3RhdGUuRURJVElORyl7aWYoZSlyZXR1cm4gdGhpcy5jYW5jZWxDaGFuZ2VzKCksdm9pZCB0aGlzLmluc3RhbmNlLnZpZXcucmVuZGVyKCk7dmFyIHM9dGhpcy5nZXRWYWx1ZSgpO289dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLnRyaW1XaGl0ZXNwYWNlP1tbInN0cmluZyI9PXR5cGVvZiBzP1N0cmluZy5wcm90b3R5cGUudHJpbS5jYWxsKHN8fCIiKTpzXV06W1tzXV0sdGhpcy5zdGF0ZT1sLkVkaXRvclN0YXRlLldBSVRJTkcsdGhpcy5zYXZlVmFsdWUobyx0KSx0aGlzLmluc3RhbmNlLmdldENlbGxWYWxpZGF0b3IodGhpcy5jZWxsUHJvcGVydGllcyk/dGhpcy5pbnN0YW5jZS5hZGRIb29rT25jZSgicG9zdEFmdGVyVmFsaWRhdGUiLGZ1bmN0aW9uKGUpe3Iuc3RhdGU9bC5FZGl0b3JTdGF0ZS5GSU5JU0hFRCxyLmRpc2NhcmRFZGl0b3IoZSl9KToodGhpcy5zdGF0ZT1sLkVkaXRvclN0YXRlLkZJTklTSEVELHRoaXMuZGlzY2FyZEVkaXRvcighMCkpfX19LG8ucHJvdG90eXBlLmNhbmNlbENoYW5nZXM9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPWwuRWRpdG9yU3RhdGUuRklOSVNIRUQsdGhpcy5kaXNjYXJkRWRpdG9yKCl9LG8ucHJvdG90eXBlLmRpc2NhcmRFZGl0b3I9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZT09PWwuRWRpdG9yU3RhdGUuRklOSVNIRUQmJihlPT09ITEmJnRoaXMuY2VsbFByb3BlcnRpZXMuYWxsb3dJbnZhbGlkIT09ITA/KHRoaXMuaW5zdGFuY2Uuc2VsZWN0Q2VsbCh0aGlzLnJvdyx0aGlzLmNvbCksdGhpcy5mb2N1cygpLHRoaXMuc3RhdGU9bC5FZGl0b3JTdGF0ZS5FRElUSU5HLHRoaXMuX2ZpcmVDYWxsYmFja3MoITEpKToodGhpcy5jbG9zZSgpLHRoaXMuX29wZW5lZD0hMSx0aGlzLl9mdWxsRWRpdE1vZGU9ITEsdGhpcy5zdGF0ZT1sLkVkaXRvclN0YXRlLlZJUkdJTix0aGlzLl9maXJlQ2FsbGJhY2tzKCEwKSkpfSxvLnByb3RvdHlwZS5lbmFibGVGdWxsRWRpdE1vZGU9ZnVuY3Rpb24oKXt0aGlzLl9mdWxsRWRpdE1vZGU9ITB9LG8ucHJvdG90eXBlLmlzSW5GdWxsRWRpdE1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnVsbEVkaXRNb2RlfSxvLnByb3RvdHlwZS5pc09wZW5lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcGVuZWR9LG8ucHJvdG90eXBlLmlzV2FpdGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlPT09bC5FZGl0b3JTdGF0ZS5XQUlUSU5HfSxvLnByb3RvdHlwZS5jaGVja0VkaXRvclNlY3Rpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmNvdW50Um93cygpLHQ9IiI7cmV0dXJuIHRoaXMucm93PHRoaXMuaW5zdGFuY2UuZ2V0U2V0dGluZ3MoKS5maXhlZFJvd3NUb3A/dD10aGlzLmNvbDx0aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkuZml4ZWRDb2x1bW5zTGVmdD8idG9wLWxlZnQtY29ybmVyIjoidG9wIjp0aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkuZml4ZWRSb3dzQm90dG9tJiZ0aGlzLnJvdz49ZS10aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkuZml4ZWRSb3dzQm90dG9tP3Q9dGhpcy5jb2w8dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLmZpeGVkQ29sdW1uc0xlZnQ/ImJvdHRvbS1sZWZ0LWNvcm5lciI6ImJvdHRvbSI6dGhpcy5jb2w8dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLmZpeGVkQ29sdW1uc0xlZnQmJih0PSJsZWZ0IiksdH19LHsiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvY29vcmRzIjo1LGJyb3dzZXI6MjMsImhlbHBlcnMvbWl4ZWQiOjUwfV0sMzE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtrPSExO3ZhciB0PXRoaXMuZ2V0QWN0aXZlRWRpdG9yKCk7aWYoZihlLmtleUNvZGUpfHxlLmtleUNvZGU9PT1kLkJBQ0tTUEFDRXx8ZS5rZXlDb2RlPT09ZC5ERUxFVEV8fGUua2V5Q29kZT09PWQuSU5TRVJUKXt2YXIgbj0wO2lmKGUua2V5Q29kZT09PWQuQyYmKGUuY3RybEtleXx8ZS5tZXRhS2V5KSlyZXR1cm47dC5pc09wZW5lZCgpfHwobis9MTApLHQuaHRFZGl0b3ImJnQuaW5zdGFuY2UuX3JlZ2lzdGVyVGltZW91dChzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5xdWVyeUNob2ljZXModC5URVhUQVJFQS52YWx1ZSksaz0hMH0sbikpfX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtBdXRvY29tcGxldGVFZGl0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBPfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaSxzLGwsYSx1LGMsaD0oKHI9ZSgiYnJvd3NlciIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSlbImRlZmF1bHQiXSxpPWUoImhlbHBlcnMvdW5pY29kZSIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSksZD1oLktFWV9DT0RFUyxmPWguaXNQcmludGFibGVDaGFyLHA9KHM9ZSgiaGVscGVycy9taXhlZCIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuc3RyaW5naWZ5LGc9KGw9ZSgiaGVscGVycy9hcnJheSIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkucGl2b3QsbT0oYT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KSx3PW0uYWRkQ2xhc3Msdj1tLmdldENhcmV0UG9zaXRpb24seT1tLmdldFNjcm9sbGJhcldpZHRoLGI9bS5nZXRTZWxlY3Rpb25FbmRQb3NpdGlvbixDPW0ub3V0ZXJXaWR0aCxfPW0ub3V0ZXJIZWlnaHQsUj1tLm9mZnNldCxTPW0uZ2V0VHJpbW1pbmdDb250YWluZXIsRT1tLnNldENhcmV0UG9zaXRpb24sVD0odT1lKCJlZGl0b3JzIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5yZWdpc3RlckVkaXRvcixNPShjPWUoImhhbmRzb250YWJsZUVkaXRvciIpLGMmJmMuX19lc01vZHVsZSYmY3x8eyJkZWZhdWx0IjpjfSkuSGFuZHNvbnRhYmxlRWRpdG9yLE89TS5wcm90b3R5cGUuZXh0ZW5kKCk7Ty5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe00ucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMucXVlcnk9bnVsbCx0aGlzLmNob2ljZXM9W119LE8ucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7TS5wcm90b3R5cGUuY3JlYXRlRWxlbWVudHMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHcodGhpcy5odENvbnRhaW5lciwiYXV0b2NvbXBsZXRlRWRpdG9yIiksdyh0aGlzLmh0Q29udGFpbmVyLC0xPT09d2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybS5pbmRleE9mKCJNYWMiKT8iIjoiaHRNYWNTY3JvbGwiKX07dmFyIGs9ITE7Ty5wcm90b3R5cGUucHJlcGFyZT1mdW5jdGlvbigpe3RoaXMuaW5zdGFuY2UuYWRkSG9vaygiYmVmb3JlS2V5RG93biIsbyksTS5wcm90b3R5cGUucHJlcGFyZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LE8ucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt0aGlzLlRFWFRBUkVBX1BBUkVOVC5zdHlsZS5vdmVyZmxvdz0iYXV0byIsTS5wcm90b3R5cGUub3Blbi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5URVhUQVJFQV9QQVJFTlQuc3R5bGUub3ZlcmZsb3c9IiI7dmFyIGU9dGhpcy5odEVkaXRvci5nZXRJbnN0YW5jZSgpLHQ9dGhpcyxuPXZvaWQgMD09PXRoaXMuY2VsbFByb3BlcnRpZXMudHJpbURyb3Bkb3duPyEwOnRoaXMuY2VsbFByb3BlcnRpZXMudHJpbURyb3Bkb3duO3RoaXMuVEVYVEFSRUEuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIsdGhpcy5mb2N1cygpLGUudXBkYXRlU2V0dGluZ3Moe2NvbFdpZHRoczpuP1tDKHRoaXMuVEVYVEFSRUEpLTJdOnZvaWQgMCx3aWR0aDpuP0ModGhpcy5URVhUQVJFQSkreSgpKzI6dm9pZCAwLGFmdGVyUmVuZGVyZXI6ZnVuY3Rpb24oZSxuLG8scixpKXt2YXIgcyxsLGE9dGhpcy5nZXRDZWxsTWV0YShuLG8pLmZpbHRlcmluZ0Nhc2VTZW5zaXRpdmU9PT0hMDtpPXAoaSksaSYmKHM9YT9pLmluZGV4T2YodGhpcy5xdWVyeSk6aS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodC5xdWVyeS50b0xvd2VyQ2FzZSgpKSwtMSE9cyYmKGw9aS5zdWJzdHIocyx0LnF1ZXJ5Lmxlbmd0aCksZS5pbm5lckhUTUw9aS5yZXBsYWNlKGwsIjxzdHJvbmc+IitsKyI8L3N0cm9uZz4iKSkpfSxhdXRvQ29sdW1uU2l6ZTohMCxtb2RpZnlDb2xXaWR0aDpmdW5jdGlvbihlLHQpe3ZhciBvPXRoaXMuZ2V0UGx1Z2luKCJhdXRvQ29sdW1uU2l6ZSIpLndpZHRocztyZXR1cm4gb1t0XSYmKGU9b1t0XSksbj9lOmUrMTV9fSksdGhpcy5odEVkaXRvci52aWV3Lnd0Lnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUuc3R5bGVbInBhZGRpbmctcmlnaHQiXT15KCkrMisicHgiLGsmJihrPSExKSx0Lmluc3RhbmNlLl9yZWdpc3RlclRpbWVvdXQoc2V0VGltZW91dChmdW5jdGlvbigpe3QucXVlcnlDaG9pY2VzKHQuVEVYVEFSRUEudmFsdWUpfSwwKSl9LE8ucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7TS5wcm90b3R5cGUuY2xvc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxPLnByb3RvdHlwZS5xdWVyeUNob2ljZXM9ZnVuY3Rpb24oZSl7dGhpcy5xdWVyeT1lO3ZhciB0PXRoaXMuY2VsbFByb3BlcnRpZXMuc291cmNlLG49dGhpcy5jZWxsUHJvcGVydGllcy5maWx0ZXIsbz10aGlzLmNlbGxQcm9wZXJ0aWVzLmZpbHRlcmluZ0Nhc2VTZW5zaXRpdmU7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe3ZhciByPXRoaXM7dC5jYWxsKHRoaXMuY2VsbFByb3BlcnRpZXMsZSxmdW5jdGlvbihlKXtyLnVwZGF0ZUNob2ljZXNMaXN0KGUpfSl9ZWxzZSBpZihBcnJheS5pc0FycmF5KHQpKXt2YXIgaTtpZihlJiZuIT09ITEpe3ZhciBzPWUudG9Mb3dlckNhc2UoKTtpPXQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBvPy0xIT10LmluZGV4T2YoZSk6LTEhPXQudG9Mb3dlckNhc2UoKS5pbmRleE9mKHMpfSl9ZWxzZSBpPXQ7dGhpcy51cGRhdGVDaG9pY2VzTGlzdChpKX1lbHNlIHRoaXMudXBkYXRlQ2hvaWNlc0xpc3QoW10pfSxPLnByb3RvdHlwZS51cGRhdGVDaG9pY2VzTGlzdD1mdW5jdGlvbihlKXt2YXIgdD12KHRoaXMuVEVYVEFSRUEpLG49Yih0aGlzLlRFWFRBUkVBKSxvPXRoaXMuY2VsbFByb3BlcnRpZXMuc29ydEJ5UmVsZXZhbmNlLHI9dGhpcy5jZWxsUHJvcGVydGllcy5maWx0ZXIsaT1udWxsLHM9bnVsbDtpZihvJiYoaT1PLnNvcnRCeVJlbGV2YW5jZSh0aGlzLmdldFZhbHVlKCksZSx0aGlzLmNlbGxQcm9wZXJ0aWVzLmZpbHRlcmluZ0Nhc2VTZW5zaXRpdmUpKSxyPT09ITEpcz1pP2lbMF06MDtlbHNle2Zvcih2YXIgbD1bXSxhPTAsdT1lLmxlbmd0aDt1PmE7YSsrKWk/bC5wdXNoKGVbaVthXV0pOmwucHVzaChlW2FdKTtzPTAsZT1sfXRoaXMuY2hvaWNlcz1lLHRoaXMuaHRFZGl0b3IubG9hZERhdGEoZyhbZV0pKSx0aGlzLnVwZGF0ZURyb3Bkb3duSGVpZ2h0KCksdGhpcy5mbGlwRHJvcGRvd25JZk5lZWRlZCgpLHRoaXMuY2VsbFByb3BlcnRpZXMuc3RyaWN0PT09ITAmJnRoaXMuaGlnaGxpZ2h0QmVzdE1hdGNoaW5nQ2hvaWNlKHMpLHRoaXMuaW5zdGFuY2UubGlzdGVuKCksdGhpcy5URVhUQVJFQS5mb2N1cygpLEUodGhpcy5URVhUQVJFQSx0LHQ9PT1uP3ZvaWQgMDpuKX0sTy5wcm90b3R5cGUuZmxpcERyb3Bkb3duSWZOZWVkZWQ9ZnVuY3Rpb24oKXt2YXIgZT1SKHRoaXMuVEVYVEFSRUEpLHQ9Xyh0aGlzLlRFWFRBUkVBKSxuPXRoaXMuZ2V0RHJvcGRvd25IZWlnaHQoKSxvPVModGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0VGFibGUuVEFCTEUpLHI9e3JvdzowLGNvbDowfTtvIT09d2luZG93JiYocj1SKG8pKTt2YXIgaT1yLnRvcCsoby5zY3JvbGxIZWlnaHQtby5zY3JvbGxUb3ApLHM9ci50b3Arby5zY3JvbGxIZWlnaHQsbD1lLnRvcCt0K24+aTtsJiZzPmk/dGhpcy5mbGlwRHJvcGRvd24obik6dGhpcy51bmZsaXBEcm9wZG93bigpfSxPLnByb3RvdHlwZS5mbGlwRHJvcGRvd249ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5odEVkaXRvci5yb290RWxlbWVudC5zdHlsZTt0LnBvc2l0aW9uPSJhYnNvbHV0ZSIsdC50b3A9LWUrInB4Iix0aGlzLmh0RWRpdG9yLmZsaXBwZWQ9ITB9LE8ucHJvdG90eXBlLnVuZmxpcERyb3Bkb3duPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5odEVkaXRvci5yb290RWxlbWVudC5zdHlsZTsiYWJzb2x1dGUiPT09ZS5wb3NpdGlvbiYmKGUucG9zaXRpb249IiIsZS50b3A9IiIpLHRoaXMuaHRFZGl0b3IuZmxpcHBlZD12b2lkIDB9LE8ucHJvdG90eXBlLnVwZGF0ZURyb3Bkb3duSGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5odEVkaXRvci5nZXRDb2xXaWR0aCgwKSt5KCkrMix0PXRoaXMuY2VsbFByb3BlcnRpZXMudHJpbURyb3Bkb3duO3RoaXMuaHRFZGl0b3IudXBkYXRlU2V0dGluZ3Moe2hlaWdodDp0aGlzLmdldERyb3Bkb3duSGVpZ2h0KCksd2lkdGg6dD92b2lkIDA6ZX0pLHRoaXMuaHRFZGl0b3Iudmlldy53dC53dFRhYmxlLmFsaWduT3ZlcmxheXNXaXRoVHJpbW1pbmdDb250YWluZXIoKX0sTy5wcm90b3R5cGUuZmluaXNoRWRpdGluZz1mdW5jdGlvbihlKXtlfHx0aGlzLmluc3RhbmNlLnJlbW92ZUhvb2soImJlZm9yZUtleURvd24iLG8pLE0ucHJvdG90eXBlLmZpbmlzaEVkaXRpbmcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxPLnByb3RvdHlwZS5oaWdobGlnaHRCZXN0TWF0Y2hpbmdDaG9pY2U9ZnVuY3Rpb24oZSl7Im51bWJlciI9PXR5cGVvZiBlP3RoaXMuaHRFZGl0b3Iuc2VsZWN0Q2VsbChlLDApOnRoaXMuaHRFZGl0b3IuZGVzZWxlY3RDZWxsKCl9LE8uc29ydEJ5UmVsZXZhbmNlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbyxyLGkscyxsPVtdLGE9ZS5sZW5ndGgsdT1bXSxjPXQubGVuZ3RoO2lmKDA9PT1hKXtmb3Iocz0wO2M+cztzKyspdS5wdXNoKHMpO3JldHVybiB1fWZvcihzPTA7Yz5zO3MrKylvPXAodFtzXSkscj1uP28uaW5kZXhPZihlKTpvLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpLC0xIT1yJiYoaT1vLmxlbmd0aC1yLWEsbC5wdXNoKHtiYXNlSW5kZXg6cyxpbmRleDpyLGNoYXJzTGVmdDppLHZhbHVlOm99KSk7Zm9yKGwuc29ydChmdW5jdGlvbihlLHQpe3JldHVybi0xPT09dC5pbmRleD8tMTotMT09PWUuaW5kZXg/MTplLmluZGV4PHQuaW5kZXg/LTE6dC5pbmRleDxlLmluZGV4PzE6ZS5pbmRleD09PXQuaW5kZXg/ZS5jaGFyc0xlZnQ8dC5jaGFyc0xlZnQ/LTE6ZS5jaGFyc0xlZnQ+dC5jaGFyc0xlZnQ/MTowOnZvaWQgMH0pLHM9MCxjPWwubGVuZ3RoO2M+cztzKyspdS5wdXNoKGxbc10uYmFzZUluZGV4KTtyZXR1cm4gdX0sTy5wcm90b3R5cGUuZ2V0RHJvcGRvd25IZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmh0RWRpdG9yLmdldEluc3RhbmNlKCkuZ2V0Um93SGVpZ2h0KDApfHwyMyx0PXRoaXMuY2VsbFByb3BlcnRpZXMudmlzaWJsZVJvd3M7cmV0dXJuIHRoaXMuY2hvaWNlcy5sZW5ndGg+PXQ/dCplOnRoaXMuY2hvaWNlcy5sZW5ndGgqZSs4fSxPLnByb3RvdHlwZS5hbGxvd0tleUV2ZW50UHJvcGFnYXRpb249ZnVuY3Rpb24oZSl7dmFyIHQ9e3Jvdzp0aGlzLmh0RWRpdG9yLmdldFNlbGVjdGVkUmFuZ2UoKT90aGlzLmh0RWRpdG9yLmdldFNlbGVjdGVkUmFuZ2UoKS5mcm9tLnJvdzotMX0sbj0hMTtyZXR1cm4gZT09PWQuQVJST1dfRE9XTiYmdC5yb3c+MCYmdC5yb3c8dGhpcy5odEVkaXRvci5jb3VudFJvd3MoKS0xJiYobj0hMCksZT09PWQuQVJST1dfVVAmJnQucm93Pi0xJiYobj0hMCksbn0sVCgiYXV0b2NvbXBsZXRlIixPKX0se2Jyb3dzZXI6MjMsZWRpdG9yczoyOSxoYW5kc29udGFibGVFZGl0b3I6MzUsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9taXhlZCI6NTAsImhlbHBlcnMvdW5pY29kZSI6NTV9XSwzMjpbZnVuY3Rpb24oZSx0LG4pewoidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7Q2hlY2tib3hFZGl0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiB1fX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHM9KG89ZSgiZWRpdG9ycyIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkucmVnaXN0ZXJFZGl0b3IsbD0ocj1lKCJfYmFzZUVkaXRvciIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuQmFzZUVkaXRvcixhPShpPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmhhc0NsYXNzLHU9ZnVuY3Rpb24oKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3RvcihjKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGM9dTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3ModSx7YmVnaW5FZGl0aW5nOmZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCl7dmFyIG49dGhpcy5URC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdJyk7YShuLCJodEJhZFZhbHVlIil8fG4uY2xpY2soKX19LGZpbmlzaEVkaXRpbmc6ZnVuY3Rpb24oKXt9LGluaXQ6ZnVuY3Rpb24oKXt9LG9wZW46ZnVuY3Rpb24oKXt9LGNsb3NlOmZ1bmN0aW9uKCl7fSxnZXRWYWx1ZTpmdW5jdGlvbigpe30sc2V0VmFsdWU6ZnVuY3Rpb24oKXt9LGZvY3VzOmZ1bmN0aW9uKCl7fX0se30sbCkscygiY2hlY2tib3giLHUpfSx7X2Jhc2VFZGl0b3I6MzAsZWRpdG9yczoyOSwiaGVscGVycy9kb20vZWxlbWVudCI6NDZ9XSwzMzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtEYXRlRWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVH19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGwsYSx1LGMsaCxkLGY9KG89ZSgiYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxwPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGc9cC5hZGRDbGFzcyxtPXAub3V0ZXJIZWlnaHQsdz0oaT1lKCJoZWxwZXJzL29iamVjdCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuZGVlcEV4dGVuZCx2PShzPWUoImV2ZW50TWFuYWdlciIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuRXZlbnRNYW5hZ2VyLHk9KGw9ZSgiZWRpdG9ycyIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSksYj0oeS5nZXRFZGl0b3IseS5yZWdpc3RlckVkaXRvciksQz0oYT1lKCJoZWxwZXJzL3VuaWNvZGUiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLmlzTWV0YUtleSxfPSh1PWUoImhlbHBlcnMvZG9tL2V2ZW50IiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5zdG9wUHJvcGFnYXRpb24sUj0oYz1lKCJ0ZXh0RWRpdG9yIiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KS5UZXh0RWRpdG9yLFM9KGg9ZSgibW9tZW50IiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KVsiZGVmYXVsdCJdLEU9KGQ9ZSgicGlrYWRheSIpLGQmJmQuX19lc01vZHVsZSYmZHx8eyJkZWZhdWx0IjpkfSlbImRlZmF1bHQiXTtmLmVkaXRvcnM9Zi5lZGl0b3JzfHx7fSxmLmVkaXRvcnMuRGF0ZUVkaXRvcj1UO3ZhciBUPWZ1bmN0aW9uKGUpe3RoaXMuJGRhdGVQaWNrZXI9bnVsbCx0aGlzLmRhdGVQaWNrZXI9bnVsbCx0aGlzLmRhdGVQaWNrZXJTdHlsZT1udWxsLHRoaXMuZGVmYXVsdERhdGVGb3JtYXQ9IkREL01NL1lZWVkiLHRoaXMuaXNDZWxsRWRpdGVkPSExLHRoaXMucGFyZW50RGVzdHJveWVkPSExLCR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKE0pLmNhbGwodGhpcyxlKX0sTT1UOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhULHtpbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZigiZnVuY3Rpb24iIT10eXBlb2YgUyl0aHJvdyBuZXcgRXJyb3IoIllvdSBuZWVkIHRvIGluY2x1ZGUgbW9tZW50LmpzIHRvIHlvdXIgcHJvamVjdC4iKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgRSl0aHJvdyBuZXcgRXJyb3IoIllvdSBuZWVkIHRvIGluY2x1ZGUgUGlrYWRheSB0byB5b3VyIHByb2plY3QuIik7JHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsTS5wcm90b3R5cGUsImluaXQiKS5jYWxsKHRoaXMpLHRoaXMuaW5zdGFuY2UuYWRkSG9vaygiYWZ0ZXJEZXN0cm95IixmdW5jdGlvbigpe2UucGFyZW50RGVzdHJveWVkPSEwLGUuZGVzdHJveUVsZW1lbnRzKCl9KX0sY3JlYXRlRWxlbWVudHM6ZnVuY3Rpb24oKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxNLnByb3RvdHlwZSwiY3JlYXRlRWxlbWVudHMiKS5jYWxsKHRoaXMpLHRoaXMuZGF0ZVBpY2tlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmRhdGVQaWNrZXJTdHlsZT10aGlzLmRhdGVQaWNrZXIuc3R5bGUsdGhpcy5kYXRlUGlja2VyU3R5bGUucG9zaXRpb249ImFic29sdXRlIix0aGlzLmRhdGVQaWNrZXJTdHlsZS50b3A9MCx0aGlzLmRhdGVQaWNrZXJTdHlsZS5sZWZ0PTAsdGhpcy5kYXRlUGlja2VyU3R5bGUuekluZGV4PTk5OTksZyh0aGlzLmRhdGVQaWNrZXIsImh0RGF0ZXBpY2tlckhvbGRlciIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kYXRlUGlja2VyKSx0aGlzLiRkYXRlUGlja2VyPW5ldyBFKHRoaXMuZ2V0RGF0ZVBpY2tlckNvbmZpZygpKTt2YXIgZT1uZXcgdih0aGlzKTtlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5kYXRlUGlja2VyLCJtb3VzZWRvd24iLGZ1bmN0aW9uKGUpe3JldHVybiBfKGUpfSksdGhpcy5oaWRlRGF0ZXBpY2tlcigpfSxkZXN0cm95RWxlbWVudHM6ZnVuY3Rpb24oKXt0aGlzLiRkYXRlUGlja2VyLmRlc3Ryb3koKX0scHJlcGFyZTpmdW5jdGlvbihlLHQsbixvLHIsaSl7dGhpcy5fb3BlbmVkPSExLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLE0ucHJvdG90eXBlLCJwcmVwYXJlIikuY2FsbCh0aGlzLGUsdCxuLG8scixpKX0sb3BlbjpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDskdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxNLnByb3RvdHlwZSwib3BlbiIpLmNhbGwodGhpcyksdGhpcy5zaG93RGF0ZXBpY2tlcihlKX0sY2xvc2U6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuX29wZW5lZD0hMSx0aGlzLmluc3RhbmNlLl9yZWdpc3RlclRpbWVvdXQoc2V0VGltZW91dChmdW5jdGlvbigpe2UuaW5zdGFuY2Uuc2VsZWN0aW9uLnJlZnJlc2hCb3JkZXJzKCl9LDApKSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxNLnByb3RvdHlwZSwiY2xvc2UiKS5jYWxsKHRoaXMpfSxmaW5pc2hFZGl0aW5nOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTohMSx0PXZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ITE7aWYoZSl7dmFyIG49dGhpcy5vcmlnaW5hbFZhbHVlO3ZvaWQgMCE9PW4mJnRoaXMuc2V0VmFsdWUobil9dGhpcy5oaWRlRGF0ZXBpY2tlcigpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLE0ucHJvdG90eXBlLCJmaW5pc2hFZGl0aW5nIikuY2FsbCh0aGlzLGUsdCl9LHNob3dEYXRlcGlja2VyOmZ1bmN0aW9uKGUpe3RoaXMuJGRhdGVQaWNrZXIuY29uZmlnKHRoaXMuZ2V0RGF0ZVBpY2tlckNvbmZpZygpKTt2YXIgdCxuPXRoaXMuVEQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz10aGlzLmNlbGxQcm9wZXJ0aWVzLmRhdGVGb3JtYXR8fHRoaXMuZGVmYXVsdERhdGVGb3JtYXQscj10aGlzLiRkYXRlUGlja2VyLmNvbmZpZygpLGk9dGhpcy5pbnN0YW5jZS52aWV3LmlzTW91c2VEb3duKCkscz1lP0MoZS5rZXlDb2RlKTohMTt0aGlzLmRhdGVQaWNrZXJTdHlsZS50b3A9d2luZG93LnBhZ2VZT2Zmc2V0K24udG9wK20odGhpcy5URCkrInB4Iix0aGlzLmRhdGVQaWNrZXJTdHlsZS5sZWZ0PXdpbmRvdy5wYWdlWE9mZnNldCtuLmxlZnQrInB4Iix0aGlzLiRkYXRlUGlja2VyLl9vbklucHV0Rm9jdXM9ZnVuY3Rpb24oKXt9LHIuZm9ybWF0PW8sdGhpcy5vcmlnaW5hbFZhbHVlPyh0PXRoaXMub3JpZ2luYWxWYWx1ZSxTKHQsbywhMCkuaXNWYWxpZCgpJiZ0aGlzLiRkYXRlUGlja2VyLnNldE1vbWVudChTKHQsbyksITApLHRoaXMuZ2V0VmFsdWUoKSE9PXRoaXMub3JpZ2luYWxWYWx1ZSYmdGhpcy5zZXRWYWx1ZSh0aGlzLm9yaWdpbmFsVmFsdWUpLHN8fGl8fHRoaXMuc2V0VmFsdWUoIiIpKTp0aGlzLmNlbGxQcm9wZXJ0aWVzLmRlZmF1bHREYXRlPyh0PXRoaXMuY2VsbFByb3BlcnRpZXMuZGVmYXVsdERhdGUsci5kZWZhdWx0RGF0ZT10LFModCxvLCEwKS5pc1ZhbGlkKCkmJnRoaXMuJGRhdGVQaWNrZXIuc2V0TW9tZW50KFModCxvKSwhMCksc3x8aXx8dGhpcy5zZXRWYWx1ZSgiIikpOnRoaXMuJGRhdGVQaWNrZXIuZ290b1RvZGF5KCksdGhpcy5kYXRlUGlja2VyU3R5bGUuZGlzcGxheT0iYmxvY2siLHRoaXMuJGRhdGVQaWNrZXIuc2hvdygpfSxoaWRlRGF0ZXBpY2tlcjpmdW5jdGlvbigpe3RoaXMuZGF0ZVBpY2tlclN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuJGRhdGVQaWNrZXIuaGlkZSgpfSxnZXREYXRlUGlja2VyQ29uZmlnOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuVEVYVEFSRUEsbj17fTt0aGlzLmNlbGxQcm9wZXJ0aWVzJiZ0aGlzLmNlbGxQcm9wZXJ0aWVzLmRhdGVQaWNrZXJDb25maWcmJncobix0aGlzLmNlbGxQcm9wZXJ0aWVzLmRhdGVQaWNrZXJDb25maWcpO3ZhciBvPW4ub25TZWxlY3Qscj1uLm9uQ2xvc2U7cmV0dXJuIG4uZmllbGQ9dCxuLnRyaWdnZXI9dCxuLmNvbnRhaW5lcj10aGlzLmRhdGVQaWNrZXIsbi5ib3VuZD0hMSxuLmZvcm1hdD1uLmZvcm1hdHx8dGhpcy5kZWZhdWx0RGF0ZUZvcm1hdCxuLnJlcG9zaXRpb249bi5yZXBvc2l0aW9ufHwhMSxuLm9uU2VsZWN0PWZ1bmN0aW9uKHQpe2lzTmFOKHQuZ2V0VGltZSgpKXx8KHQ9Uyh0KS5mb3JtYXQoZS5jZWxsUHJvcGVydGllcy5kYXRlRm9ybWF0fHxlLmRlZmF1bHREYXRlRm9ybWF0KSksZS5zZXRWYWx1ZSh0KSxlLmhpZGVEYXRlcGlja2VyKCksbyYmbygpfSxuLm9uQ2xvc2U9ZnVuY3Rpb24oKXtlLnBhcmVudERlc3Ryb3llZHx8ZS5maW5pc2hFZGl0aW5nKCExKSxyJiZyKCl9LG59fSx7fSxSKSxiKCJkYXRlIixUKX0se2Jyb3dzZXI6MjMsZWRpdG9yczoyOSxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LCJoZWxwZXJzL2RvbS9ldmVudCI6NDcsImhlbHBlcnMvb2JqZWN0Ijo1MiwiaGVscGVycy91bmljb2RlIjo1NSxtb21lbnQ6Im1vbWVudCIscGlrYWRheToicGlrYWRheSIsdGV4dEVkaXRvcjo0MH1dLDM0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0Ryb3Bkb3duRWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzPShvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sbD0ocj1lKCJlZGl0b3JzIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSxhPShsLmdldEVkaXRvcixsLnJlZ2lzdGVyRWRpdG9yKSx1PShsLmdldEVkaXRvckNvbnN0cnVjdG9yLChpPWUoImF1dG9jb21wbGV0ZUVkaXRvciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuQXV0b2NvbXBsZXRlRWRpdG9yKSxjPWZ1bmN0aW9uKCl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoaCkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxoPWM7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGMse3ByZXBhcmU6ZnVuY3Rpb24oZSx0LG4sbyxyLGkpeyR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGgucHJvdG90eXBlLCJwcmVwYXJlIikuY2FsbCh0aGlzLGUsdCxuLG8scixpKSx0aGlzLmNlbGxQcm9wZXJ0aWVzLmZpbHRlcj0hMSx0aGlzLmNlbGxQcm9wZXJ0aWVzLnN0cmljdD0hMH19LHt9LHUpLHMuaG9va3MuYWRkKCJiZWZvcmVWYWxpZGF0ZSIsZnVuY3Rpb24oZSx0LG4sbyl7dmFyIHI9dGhpcy5nZXRDZWxsTWV0YSh0LHRoaXMucHJvcFRvQ29sKG4pKTtyLmVkaXRvcj09PXMuZWRpdG9ycy5Ecm9wZG93bkVkaXRvciYmdm9pZCAwPT09ci5zdHJpY3QmJihyLmZpbHRlcj0hMSxyLnN0cmljdD0hMCl9KSxhKCJkcm9wZG93biIsYyl9LHthdXRvY29tcGxldGVFZGl0b3I6MzEsYnJvd3NlcjoyMyxlZGl0b3JzOjI5fV0sMzU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7SGFuZHNvbnRhYmxlRWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGwsYSx1LGM9KG89ZSgiYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxoPShyPWUoImhlbHBlcnMvdW5pY29kZSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuS0VZX0NPREVTLGQ9KGk9ZSgiaGVscGVycy9vYmplY3QiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmV4dGVuZCxmPShzPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLnNldENhcmV0UG9zaXRpb24scD0obD1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSksZz1wLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbixtPXAuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQsdz0oYT1lKCJlZGl0b3JzIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KSx2PSh3LmdldEVkaXRvcix3LnJlZ2lzdGVyRWRpdG9yKSx5PSh1PWUoInRleHRFZGl0b3IiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLlRleHRFZGl0b3IsYj15LnByb3RvdHlwZS5leHRlbmQoKTtiLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3kucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKTtlLmNsYXNzTmFtZT0iaGFuZHNvbnRhYmxlRWRpdG9yIix0aGlzLlRFWFRBUkVBX1BBUkVOVC5hcHBlbmRDaGlsZChlKSx0aGlzLmh0Q29udGFpbmVyPWUsdGhpcy5hc3NpZ25Ib29rcygpfSxiLnByb3RvdHlwZS5wcmVwYXJlPWZ1bmN0aW9uKGUsdCxuLG8scixpKXt5LnByb3RvdHlwZS5wcmVwYXJlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgcz10aGlzLGw9e3N0YXJ0Um93czowLHN0YXJ0Q29sczowLG1pblJvd3M6MCxtaW5Db2xzOjAsY2xhc3NOYW1lOiJsaXN0Ym94Iixjb3B5UGFzdGU6ITEsYXV0b0NvbHVtblNpemU6ITEsYXV0b1Jvd1NpemU6ITEscmVhZE9ubHk6ITAsZmlsbEhhbmRsZTohMSxhZnRlck9uQ2VsbE1vdXNlRG93bjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0VmFsdWUoKTt2b2lkIDAhPT1lJiZzLnNldFZhbHVlKGUpLHMuaW5zdGFuY2UuZGVzdHJveUVkaXRvcigpfX07dGhpcy5jZWxsUHJvcGVydGllcy5oYW5kc29udGFibGUmJmQobCxpLmhhbmRzb250YWJsZSksdGhpcy5odE9wdGlvbnM9bH07dmFyIEM9ZnVuY3Rpb24oZSl7aWYoIW0oZSkpe3ZhciB0LG49dGhpcy5nZXRBY3RpdmVFZGl0b3IoKSxvPW4uaHRFZGl0b3IuZ2V0SW5zdGFuY2UoKTtpZihlLmtleUNvZGU9PWguQVJST1dfRE9XTilpZihvLmdldFNlbGVjdGVkKCl8fG8uZmxpcHBlZCl7aWYoby5nZXRTZWxlY3RlZCgpKWlmKG8uZmxpcHBlZCl0PW8uZ2V0U2VsZWN0ZWQoKVswXSsxO2Vsc2UgaWYoIW8uZmxpcHBlZCl7dmFyIHI9by5nZXRTZWxlY3RlZCgpWzBdLGk9by5jb3VudFJvd3MoKS0xO3Q9TWF0aC5taW4oaSxyKzEpfX1lbHNlIHQ9MDtlbHNlIGlmKGUua2V5Q29kZT09aC5BUlJPV19VUClpZighby5nZXRTZWxlY3RlZCgpJiZvLmZsaXBwZWQpdD1vLmNvdW50Um93cygpLTE7ZWxzZSBpZihvLmdldFNlbGVjdGVkKCkpaWYoby5mbGlwcGVkKXt2YXIgcj1vLmdldFNlbGVjdGVkKClbMF07dD1NYXRoLm1heCgwLHItMSl9ZWxzZXt2YXIgcj1vLmdldFNlbGVjdGVkKClbMF07dD1yLTF9dm9pZCAwIT09dCYmKDA+dHx8by5mbGlwcGVkJiZ0Pm8uY291bnRSb3dzKCktMT9vLmRlc2VsZWN0Q2VsbCgpOm8uc2VsZWN0Q2VsbCh0LDApLG8uZ2V0RGF0YSgpLmxlbmd0aCYmKGUucHJldmVudERlZmF1bHQoKSxnKGUpLG4uaW5zdGFuY2UubGlzdGVuKCksbi5URVhUQVJFQS5mb2N1cygpKSl9fTtiLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dGhpcy5pbnN0YW5jZS5hZGRIb29rKCJiZWZvcmVLZXlEb3duIixDKSx5LnByb3RvdHlwZS5vcGVuLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmh0RWRpdG9yJiZ0aGlzLmh0RWRpdG9yLmRlc3Ryb3koKSx0aGlzLmh0RWRpdG9yPW5ldyBjKHRoaXMuaHRDb250YWluZXIsdGhpcy5odE9wdGlvbnMpLHRoaXMuY2VsbFByb3BlcnRpZXMuc3RyaWN0Pyh0aGlzLmh0RWRpdG9yLnNlbGVjdENlbGwoMCwwKSx0aGlzLlRFWFRBUkVBLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpOih0aGlzLmh0RWRpdG9yLmRlc2VsZWN0Q2VsbCgpLHRoaXMuVEVYVEFSRUEuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIpLGYodGhpcy5URVhUQVJFQSwwLHRoaXMuVEVYVEFSRUEudmFsdWUubGVuZ3RoKX0sYi5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmluc3RhbmNlLnJlbW92ZUhvb2soImJlZm9yZUtleURvd24iLEMpLHRoaXMuaW5zdGFuY2UubGlzdGVuKCkseS5wcm90b3R5cGUuY2xvc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxiLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMuaW5zdGFuY2UubGlzdGVuKCkseS5wcm90b3R5cGUuZm9jdXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxiLnByb3RvdHlwZS5iZWdpbkVkaXRpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpLm9uQmVnaW5FZGl0aW5nO3QmJnQoKT09PSExfHx5LnByb3RvdHlwZS5iZWdpbkVkaXRpbmcuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxiLnByb3RvdHlwZS5maW5pc2hFZGl0aW5nPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5odEVkaXRvciYmdGhpcy5odEVkaXRvci5pc0xpc3RlbmluZygpJiZ0aGlzLmluc3RhbmNlLmxpc3RlbigpLHRoaXMuaHRFZGl0b3ImJnRoaXMuaHRFZGl0b3IuZ2V0U2VsZWN0ZWQoKSl7dmFyIG49dGhpcy5odEVkaXRvci5nZXRJbnN0YW5jZSgpLmdldFZhbHVlKCk7dm9pZCAwIT09biYmdGhpcy5zZXRWYWx1ZShuKX1yZXR1cm4geS5wcm90b3R5cGUuZmluaXNoRWRpdGluZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGIucHJvdG90eXBlLmFzc2lnbkhvb2tzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmluc3RhbmNlLmFkZEhvb2soImFmdGVyRGVzdHJveSIsZnVuY3Rpb24oKXtlLmh0RWRpdG9yJiZlLmh0RWRpdG9yLmRlc3Ryb3koKX0pfSx2KCJoYW5kc29udGFibGUiLGIpfSx7YnJvd3NlcjoyMyxlZGl0b3JzOjI5LCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9kb20vZXZlbnQiOjQ3LCJoZWxwZXJzL29iamVjdCI6NTIsImhlbHBlcnMvdW5pY29kZSI6NTUsdGV4dEVkaXRvcjo0MH1dLDM2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se01vYmlsZVRleHRFZGl0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBrfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsbCxhLHUsYz0oKG89ZSgiYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSwocj1lKCJoZWxwZXJzL3VuaWNvZGUiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLktFWV9DT0RFUyksaD0oaT1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSksZD1oLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbixmPWguaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQscD0ocz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KSxnPXAuYWRkQ2xhc3MsbT1wLmdldFNjcm9sbExlZnQsdz1wLmdldFNjcm9sbFRvcCx2PXAuaGFzQ2xhc3MseT1wLmlzQ2hpbGRPZixiPXAub2Zmc2V0LEM9cC5vdXRlckhlaWdodCxfPXAub3V0ZXJXaWR0aCxSPXAucmVtb3ZlQ2xhc3MsUz1wLnNldENhcmV0UG9zaXRpb24sRT0obD1lKCJlZGl0b3JzIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KSxUPShFLmdldEVkaXRvcixFLnJlZ2lzdGVyRWRpdG9yKSxNPShhPWUoIl9iYXNlRWRpdG9yIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5CYXNlRWRpdG9yLE89KHU9ZSgiZXZlbnRNYW5hZ2VyIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5ldmVudE1hbmFnZXIsaz1NLnByb3RvdHlwZS5leHRlbmQoKSxIPXt9LEQ9ZnVuY3Rpb24oKXt0aGlzLmNvbnRyb2xzPXt9LHRoaXMuY29udHJvbHMubGVmdEJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmNvbnRyb2xzLmxlZnRCdXR0b24uY2xhc3NOYW1lPSJsZWZ0QnV0dG9uIix0aGlzLmNvbnRyb2xzLnJpZ2h0QnV0dG9uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLHRoaXMuY29udHJvbHMucmlnaHRCdXR0b24uY2xhc3NOYW1lPSJyaWdodEJ1dHRvbiIsdGhpcy5jb250cm9scy51cEJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmNvbnRyb2xzLnVwQnV0dG9uLmNsYXNzTmFtZT0idXBCdXR0b24iLHRoaXMuY29udHJvbHMuZG93bkJ1dHRvbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmNvbnRyb2xzLmRvd25CdXR0b24uY2xhc3NOYW1lPSJkb3duQnV0dG9uIjtmb3IodmFyIGUgaW4gdGhpcy5jb250cm9scyl0aGlzLmNvbnRyb2xzLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLnBvc2l0aW9uQ29udHJvbHMuYXBwZW5kQ2hpbGQodGhpcy5jb250cm9sc1tlXSl9O2sucHJvdG90eXBlLnZhbHVlQ2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXRWYWx1ZSE9dGhpcy5nZXRWYWx1ZSgpfSxrLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlcj1PKHRoaXMuaW5zdGFuY2UpLHRoaXMuY3JlYXRlRWxlbWVudHMoKSx0aGlzLmJpbmRFdmVudHMoKSx0aGlzLmluc3RhbmNlLmFkZEhvb2soImFmdGVyRGVzdHJveSIsZnVuY3Rpb24oKXtlLmRlc3Ryb3koKX0pfSxrLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlRFWFRBUkVBLnZhbHVlfSxrLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlKXt0aGlzLmluaXRWYWx1ZT1lLHRoaXMuVEVYVEFSRUEudmFsdWU9ZX0say5wcm90b3R5cGUuY3JlYXRlRWxlbWVudHM9ZnVuY3Rpb24oKXt0aGlzLmVkaXRvckNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmVkaXRvckNvbnRhaW5lci5jbGFzc05hbWU9Imh0TW9iaWxlRWRpdG9yQ29udGFpbmVyIix0aGlzLmNlbGxQb2ludGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLHRoaXMuY2VsbFBvaW50ZXIuY2xhc3NOYW1lPSJjZWxsUG9pbnRlciIsdGhpcy5tb3ZlSGFuZGxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLHRoaXMubW92ZUhhbmRsZS5jbGFzc05hbWU9Im1vdmVIYW5kbGUiLHRoaXMuaW5wdXRQYW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLHRoaXMuaW5wdXRQYW5lLmNsYXNzTmFtZT0iaW5wdXRzIix0aGlzLnBvc2l0aW9uQ29udHJvbHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdGhpcy5wb3NpdGlvbkNvbnRyb2xzLmNsYXNzTmFtZT0icG9zaXRpb25Db250cm9scyIsdGhpcy5URVhUQVJFQT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJURVhUQVJFQSIpLGcodGhpcy5URVhUQVJFQSwiaGFuZHNvbnRhYmxlSW5wdXQiKSx0aGlzLmlucHV0UGFuZS5hcHBlbmRDaGlsZCh0aGlzLlRFWFRBUkVBKSx0aGlzLmVkaXRvckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNlbGxQb2ludGVyKSx0aGlzLmVkaXRvckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm1vdmVIYW5kbGUpLHRoaXMuZWRpdG9yQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaW5wdXRQYW5lKSx0aGlzLmVkaXRvckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnBvc2l0aW9uQ29udHJvbHMpLEQuY2FsbCh0aGlzKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZWRpdG9yQ29udGFpbmVyKX0say5wcm90b3R5cGUub25CZWZvcmVLZXlEb3duPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10LmdldEFjdGl2ZUVkaXRvcigpO2lmKGUudGFyZ2V0PT09bi5URVhUQVJFQSYmIWYoZSkpc3dpdGNoKGUua2V5Q29kZSl7Y2FzZSBjLkVOVEVSOm4uY2xvc2UoKSxlLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBjLkJBQ0tTUEFDRTpkKGUpfX0say5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3RoaXMuaW5zdGFuY2UuYWRkSG9vaygiYmVmb3JlS2V5RG93biIsdGhpcy5vbkJlZm9yZUtleURvd24pLGcodGhpcy5lZGl0b3JDb250YWluZXIsImFjdGl2ZSIpLFIodGhpcy5jZWxsUG9pbnRlciwiaGlkZGVuIiksdGhpcy51cGRhdGVFZGl0b3JQb3NpdGlvbigpfSxrLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMuVEVYVEFSRUEuZm9jdXMoKSxTKHRoaXMuVEVYVEFSRUEsdGhpcy5URVhUQVJFQS52YWx1ZS5sZW5ndGgpfSxrLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuVEVYVEFSRUEuYmx1cigpLHRoaXMuaW5zdGFuY2UucmVtb3ZlSG9vaygiYmVmb3JlS2V5RG93biIsdGhpcy5vbkJlZm9yZUtleURvd24pLFIodGhpcy5lZGl0b3JDb250YWluZXIsImFjdGl2ZSIpfSxrLnByb3RvdHlwZS5zY3JvbGxUb1ZpZXc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldFNlbGVjdGVkUmFuZ2UoKS5oaWdobGlnaHQ7dGhpcy5pbnN0YW5jZS52aWV3LnNjcm9sbFZpZXdwb3J0KGUpfSxrLnByb3RvdHlwZS5oaWRlQ2VsbFBvaW50ZXI9ZnVuY3Rpb24oKXt2KHRoaXMuY2VsbFBvaW50ZXIsImhpZGRlbiIpfHxnKHRoaXMuY2VsbFBvaW50ZXIsImhpZGRlbiIpfSxrLnByb3RvdHlwZS51cGRhdGVFZGl0b3JQb3NpdGlvbj1mdW5jdGlvbihlLHQpe2lmKGUmJnQpZT1wYXJzZUludChlLDEwKSx0PXBhcnNlSW50KHQsMTApLHRoaXMuZWRpdG9yQ29udGFpbmVyLnN0eWxlLnRvcD10KyJweCIsdGhpcy5lZGl0b3JDb250YWluZXIuc3R5bGUubGVmdD1lKyJweCI7ZWxzZXt2YXIgbj10aGlzLmluc3RhbmNlLmdldFNlbGVjdGVkKCksbz10aGlzLmluc3RhbmNlLmdldENlbGwoblswXSxuWzFdKTtpZihILmNlbGxQb2ludGVyfHwoSC5jZWxsUG9pbnRlcj17aGVpZ2h0OkModGhpcy5jZWxsUG9pbnRlciksd2lkdGg6Xyh0aGlzLmNlbGxQb2ludGVyKX0pLEguZWRpdG9yQ29udGFpbmVyfHwoSC5lZGl0b3JDb250YWluZXI9e3dpZHRoOl8odGhpcy5lZGl0b3JDb250YWluZXIpfSksdm9pZCAwIT09byl7dmFyIHI9dGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkudHJpbW1pbmdDb250YWluZXI9PXdpbmRvdz8wOm0odGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkuaG9sZGVyKSxpPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLnRvcE92ZXJsYXkudHJpbW1pbmdDb250YWluZXI9PXdpbmRvdz8wOncodGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMudG9wT3ZlcmxheS5ob2xkZXIpLHM9YihvKSxsPV8obyksYT17eDpyLHk6aX07dGhpcy5lZGl0b3JDb250YWluZXIuc3R5bGUudG9wPXBhcnNlSW50KHMudG9wK0MobyktYS55K0guY2VsbFBvaW50ZXIuaGVpZ2h0LDEwKSsicHgiLHRoaXMuZWRpdG9yQ29udGFpbmVyLnN0eWxlLmxlZnQ9cGFyc2VJbnQod2luZG93LmlubmVyV2lkdGgvMi1ILmVkaXRvckNvbnRhaW5lci53aWR0aC8yLDEwKSsicHgiLHMubGVmdCtsLzI+cGFyc2VJbnQodGhpcy5lZGl0b3JDb250YWluZXIuc3R5bGUubGVmdCwxMCkrSC5lZGl0b3JDb250YWluZXIud2lkdGg/dGhpcy5lZGl0b3JDb250YWluZXIuc3R5bGUubGVmdD13aW5kb3cuaW5uZXJXaWR0aC1ILmVkaXRvckNvbnRhaW5lci53aWR0aCsicHgiOnMubGVmdCtsLzI8cGFyc2VJbnQodGhpcy5lZGl0b3JDb250YWluZXIuc3R5bGUubGVmdCwxMCkrMjAmJih0aGlzLmVkaXRvckNvbnRhaW5lci5zdHlsZS5sZWZ0PSIwcHgiKSx0aGlzLmNlbGxQb2ludGVyLnN0eWxlLmxlZnQ9cGFyc2VJbnQocy5sZWZ0LUguY2VsbFBvaW50ZXIud2lkdGgvMi1iKHRoaXMuZWRpdG9yQ29udGFpbmVyKS5sZWZ0K2wvMi1hLngsMTApKyJweCJ9fX0say5wcm90b3R5cGUudXBkYXRlRWRpdG9yRGF0YT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWQoKSx0PXRoaXMuaW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChlWzBdLGVbMV0pO3RoaXMucm93PWVbMF0sdGhpcy5jb2w9ZVsxXSx0aGlzLnNldFZhbHVlKHQpLHRoaXMudXBkYXRlRWRpdG9yUG9zaXRpb24oKX0say5wcm90b3R5cGUucHJlcGFyZUFuZFNhdmU9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdGhpcy52YWx1ZUNoYW5nZWQoKT8oZT10aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCkudHJpbVdoaXRlc3BhY2U/W1tTdHJpbmcucHJvdG90eXBlLnRyaW0uY2FsbCh0aGlzLmdldFZhbHVlKCkpXV06W1t0aGlzLmdldFZhbHVlKCldXSx2b2lkIHRoaXMuc2F2ZVZhbHVlKGUpKTohMH0say5wcm90b3R5cGUuYmluZEV2ZW50cz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmNvbnRyb2xzLmxlZnRCdXR0b24sInRvdWNoZW5kIixmdW5jdGlvbih0KXtlLnByZXBhcmVBbmRTYXZlKCksZS5pbnN0YW5jZS5zZWxlY3Rpb24udHJhbnNmb3JtU3RhcnQoMCwtMSxudWxsLCEwKSxlLnVwZGF0ZUVkaXRvckRhdGEoKSx0LnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuY29udHJvbHMucmlnaHRCdXR0b24sInRvdWNoZW5kIixmdW5jdGlvbih0KXtlLnByZXBhcmVBbmRTYXZlKCksZS5pbnN0YW5jZS5zZWxlY3Rpb24udHJhbnNmb3JtU3RhcnQoMCwxLG51bGwsITApLGUudXBkYXRlRWRpdG9yRGF0YSgpLHQucHJldmVudERlZmF1bHQoKX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5jb250cm9scy51cEJ1dHRvbiwidG91Y2hlbmQiLGZ1bmN0aW9uKHQpe2UucHJlcGFyZUFuZFNhdmUoKSxlLmluc3RhbmNlLnNlbGVjdGlvbi50cmFuc2Zvcm1TdGFydCgtMSwwLG51bGwsITApLGUudXBkYXRlRWRpdG9yRGF0YSgpLHQucHJldmVudERlZmF1bHQoKX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5jb250cm9scy5kb3duQnV0dG9uLCJ0b3VjaGVuZCIsZnVuY3Rpb24odCl7ZS5wcmVwYXJlQW5kU2F2ZSgpLGUuaW5zdGFuY2Uuc2VsZWN0aW9uLnRyYW5zZm9ybVN0YXJ0KDEsMCxudWxsLCEwKSxlLnVwZGF0ZUVkaXRvckRhdGEoKSx0LnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMubW92ZUhhbmRsZSwidG91Y2hzdGFydCIsZnVuY3Rpb24odCl7aWYoMT09dC50b3VjaGVzLmxlbmd0aCl7dmFyIG49dC50b3VjaGVzWzBdLG89e3g6ZS5lZGl0b3JDb250YWluZXIub2Zmc2V0TGVmdCx5OmUuZWRpdG9yQ29udGFpbmVyLm9mZnNldFRvcH0scj17eDpuLnBhZ2VYLW8ueCx5Om4ucGFnZVktby55fTtlLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMsInRvdWNobW92ZSIsZnVuY3Rpb24odCl7dmFyIG49dC50b3VjaGVzWzBdO2UudXBkYXRlRWRpdG9yUG9zaXRpb24obi5wYWdlWC1yLngsbi5wYWdlWS1yLnkpLGUuaGlkZUNlbGxQb2ludGVyKCksdC5wcmV2ZW50RGVmYXVsdCgpfSl9fSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudC5ib2R5LCJ0b3VjaGVuZCIsZnVuY3Rpb24odCl7eSh0LnRhcmdldCxlLmVkaXRvckNvbnRhaW5lcil8fHkodC50YXJnZXQsZS5pbnN0YW5jZS5yb290RWxlbWVudCl8fGUuY2xvc2UoKX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkuaG9sZGVyLCJzY3JvbGwiLGZ1bmN0aW9uKHQpe2UuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LnRyaW1taW5nQ29udGFpbmVyIT13aW5kb3cmJmUuaGlkZUNlbGxQb2ludGVyKCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLnRvcE92ZXJsYXkuaG9sZGVyLCJzY3JvbGwiLGZ1bmN0aW9uKHQpe2UuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLnRvcE92ZXJsYXkudHJpbW1pbmdDb250YWluZXIhPXdpbmRvdyYmZS5oaWRlQ2VsbFBvaW50ZXIoKX0pfSxrLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5ldmVudE1hbmFnZXIuY2xlYXIoKSx0aGlzLmVkaXRvckNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWRpdG9yQ29udGFpbmVyKX0sVCgibW9iaWxlIixrKX0se19iYXNlRWRpdG9yOjMwLGJyb3dzZXI6MjMsZWRpdG9yczoyOSxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LCJoZWxwZXJzL2RvbS9ldmVudCI6NDcsImhlbHBlcnMvdW5pY29kZSI6NTV9XSwzNzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtOdW1lcmljRWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzPShvPWUoIm51bWVyYWwiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sbD0ocj1lKCJlZGl0b3JzIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5yZWdpc3RlckVkaXRvcixhPShpPWUoInRleHRFZGl0b3IiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLlRleHRFZGl0b3IsdT1mdW5jdGlvbigpeyR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKGMpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYz11OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyh1LHtiZWdpbkVkaXRpbmc6ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBlJiZ0aGlzLm9yaWdpbmFsVmFsdWUpeyJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5jZWxsUHJvcGVydGllcy5sYW5ndWFnZSYmcy5sYW5ndWFnZSh0aGlzLmNlbGxQcm9wZXJ0aWVzLmxhbmd1YWdlKTt2YXIgdD1zLmxhbmd1YWdlRGF0YSgpLmRlbGltaXRlcnMuZGVjaW1hbDtlPSgiIit0aGlzLm9yaWdpbmFsVmFsdWUpLnJlcGxhY2UoIi4iLHQpfSR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGMucHJvdG90eXBlLCJiZWdpbkVkaXRpbmciKS5jYWxsKHRoaXMsZSl9fSx7fSxhKSxsKCJudW1lcmljIix1KX0se2VkaXRvcnM6MjksbnVtZXJhbDoibnVtZXJhbCIsdGV4dEVkaXRvcjo0MH1dLDM4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1Bhc3N3b3JkRWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaH19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGw9KChvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sKHI9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuZW1wdHkpLGE9KGk9ZSgiZWRpdG9ycyIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSksdT0oYS5nZXRFZGl0b3IsYS5yZWdpc3RlckVkaXRvciksYz0ocz1lKCJ0ZXh0RWRpdG9yIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5UZXh0RWRpdG9yLGg9ZnVuY3Rpb24oKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3RvcihkKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQ9aDskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoaCx7Y3JlYXRlRWxlbWVudHM6ZnVuY3Rpb24oKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxkLnByb3RvdHlwZSwiY3JlYXRlRWxlbWVudHMiKS5jYWxsKHRoaXMpLHRoaXMuVEVYVEFSRUE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSx0aGlzLlRFWFRBUkVBLnNldEF0dHJpYnV0ZSgidHlwZSIsInBhc3N3b3JkIiksdGhpcy5URVhUQVJFQS5jbGFzc05hbWU9ImhhbmRzb250YWJsZUlucHV0Iix0aGlzLnRleHRhcmVhU3R5bGU9dGhpcy5URVhUQVJFQS5zdHlsZSx0aGlzLnRleHRhcmVhU3R5bGUud2lkdGg9MCx0aGlzLnRleHRhcmVhU3R5bGUuaGVpZ2h0PTAsbCh0aGlzLlRFWFRBUkVBX1BBUkVOVCksdGhpcy5URVhUQVJFQV9QQVJFTlQuYXBwZW5kQ2hpbGQodGhpcy5URVhUQVJFQSl9fSx7fSxjKSx1KCJwYXNzd29yZCIsaCl9LHticm93c2VyOjIzLGVkaXRvcnM6MjksImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LHRleHRFZGl0b3I6NDB9XSwzOTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtTZWxlY3RFZGl0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBUfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsbCxhLHU9KG89ZSgiYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxjPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGg9Yy5hZGRDbGFzcyxkPWMuZW1wdHksZj1jLmZhc3RJbm5lckhUTUwscD1jLmdldENvbXB1dGVkU3R5bGUsZz1jLmdldENzc1RyYW5zZm9ybSxtPWMuZ2V0U2Nyb2xsYWJsZUVsZW1lbnQsdz1jLm9mZnNldCx2PWMub3V0ZXJIZWlnaHQseT1jLm91dGVyV2lkdGgsYj1jLnJlc2V0Q3NzVHJhbnNmb3JtLEM9KGk9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbixfPShzPWUoImhlbHBlcnMvdW5pY29kZSIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuS0VZX0NPREVTLFI9KGw9ZSgiZWRpdG9ycyIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSksUz0oUi5nZXRFZGl0b3IsUi5yZWdpc3RlckVkaXRvciksRT0oYT1lKCJfYmFzZUVkaXRvciIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuQmFzZUVkaXRvcixUPUUucHJvdG90eXBlLmV4dGVuZCgpO1QucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJTRUxFQ1QiKSxoKHRoaXMuc2VsZWN0LCJodFNlbGVjdEVkaXRvciIpLHRoaXMuc2VsZWN0LnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuaW5zdGFuY2Uucm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5zZWxlY3QpLHRoaXMucmVnaXN0ZXJIb29rcygpfSxULnByb3RvdHlwZS5yZWdpc3Rlckhvb2tzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmluc3RhbmNlLmFkZEhvb2soImFmdGVyU2Nyb2xsSG9yaXpvbnRhbGx5IixmdW5jdGlvbigpe3JldHVybiBlLnJlZnJlc2hEaW1lbnNpb25zKCl9KSx0aGlzLmluc3RhbmNlLmFkZEhvb2soImFmdGVyU2Nyb2xsVmVydGljYWxseSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWZyZXNoRGltZW5zaW9ucygpfSksdGhpcy5pbnN0YW5jZS5hZGRIb29rKCJhZnRlckNvbHVtblJlc2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWZyZXNoRGltZW5zaW9ucygpfSksdGhpcy5pbnN0YW5jZS5hZGRIb29rKCJhZnRlclJvd1Jlc2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWZyZXNoRGltZW5zaW9ucygpfSl9LFQucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24oKXtFLnByb3RvdHlwZS5wcmVwYXJlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZSx0PXRoaXMuY2VsbFByb3BlcnRpZXMuc2VsZWN0T3B0aW9ucztlPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3RoaXMucHJlcGFyZU9wdGlvbnModCh0aGlzLnJvdyx0aGlzLmNvbCx0aGlzLnByb3ApKTp0aGlzLnByZXBhcmVPcHRpb25zKHQpLGQodGhpcy5zZWxlY3QpO2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIk9QVElPTiIpO28udmFsdWU9bixmKG8sZVtuXSksdGhpcy5zZWxlY3QuYXBwZW5kQ2hpbGQobyl9fSxULnByb3RvdHlwZS5wcmVwYXJlT3B0aW9ucz1mdW5jdGlvbihlKXt2YXIgdD17fTtpZihBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgbj0wLG89ZS5sZW5ndGg7bz5uO24rKyl0W2Vbbl1dPWVbbl07ZWxzZSJvYmplY3QiPT10eXBlb2YgZSYmKHQ9ZSk7cmV0dXJuIHR9LFQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0LnZhbHVlfSxULnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihlKXt0aGlzLnNlbGVjdC52YWx1ZT1lfTt2YXIgTT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dC5nZXRBY3RpdmVFZGl0b3IoKTtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIF8uQVJST1dfVVA6dmFyIG89bi5zZWxlY3Quc2VsZWN0ZWRJbmRleC0xO28+PTAmJihuLnNlbGVjdFtvXS5zZWxlY3RlZD0hMCksQyhlKSxlLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBfLkFSUk9XX0RPV046dmFyIHI9bi5zZWxlY3Quc2VsZWN0ZWRJbmRleCsxO3I8PW4uc2VsZWN0Lmxlbmd0aC0xJiYobi5zZWxlY3Rbcl0uc2VsZWN0ZWQ9ITApLEMoZSksZS5wcmV2ZW50RGVmYXVsdCgpfX07VC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3RoaXMuX29wZW5lZD0hMCx0aGlzLnJlZnJlc2hEaW1lbnNpb25zKCksdGhpcy5zZWxlY3Quc3R5bGUuZGlzcGxheT0iIix0aGlzLmluc3RhbmNlLmFkZEhvb2soImJlZm9yZUtleURvd24iLE0pfSxULnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMuX29wZW5lZD0hMSx0aGlzLnNlbGVjdC5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLmluc3RhbmNlLnJlbW92ZUhvb2soImJlZm9yZUtleURvd24iLE0pfSxULnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMuc2VsZWN0LmZvY3VzKCl9LFQucHJvdG90eXBlLnJlZnJlc2hEaW1lbnNpb25zPWZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZT09PXUuRWRpdG9yU3RhdGUuRURJVElORyl7aWYodGhpcy5URD10aGlzLmdldEVkaXRlZENlbGwoKSwhdGhpcy5URClyZXR1cm4gdm9pZCB0aGlzLmNsb3NlKCk7dmFyIGUsdD15KHRoaXMuVEQpKzEsbj12KHRoaXMuVEQpKzEsbz13KHRoaXMuVEQpLHI9dyh0aGlzLmluc3RhbmNlLnJvb3RFbGVtZW50KSxpPW0odGhpcy5URCkscz1vLnRvcC1yLnRvcC0xLShpLnNjcm9sbFRvcHx8MCksbD1vLmxlZnQtci5sZWZ0LTEtKGkuc2Nyb2xsTGVmdHx8MCksYT10aGlzLmNoZWNrRWRpdG9yU2VjdGlvbigpLGM9dGhpcy5pbnN0YW5jZS5nZXRTZXR0aW5ncygpO2Mucm93SGVhZGVycz8xOjAsYy5jb2xIZWFkZXJzPzE6MDtzd2l0Y2goYSl7Y2FzZSJ0b3AiOmU9Zyh0aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy50b3BPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpO2JyZWFrO2Nhc2UibGVmdCI6ZT1nKHRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpO2JyZWFrO2Nhc2UidG9wLWxlZnQtY29ybmVyIjplPWcodGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMudG9wTGVmdENvcm5lck92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSk7YnJlYWs7Y2FzZSJib3R0b20tbGVmdC1jb3JuZXIiOmU9Zyh0aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy5ib3R0b21MZWZ0Q29ybmVyT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKTticmVhaztjYXNlImJvdHRvbSI6ZT1nKHRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmJvdHRvbU92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSl9MD09PXRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWQoKVswXSYmKHMrPTEpLDA9PT10aGlzLmluc3RhbmNlLmdldFNlbGVjdGVkKClbMV0mJihsKz0xKTt2YXIgaD10aGlzLnNlbGVjdC5zdHlsZTtlJiYtMSE9ZT9oW2VbMF1dPWVbMV06Yih0aGlzLnNlbGVjdCk7dmFyIGQ9cCh0aGlzLlREKTtwYXJzZUludChkLmJvcmRlclRvcFdpZHRoLDEwKT4wJiYobi09MSkscGFyc2VJbnQoZC5ib3JkZXJMZWZ0V2lkdGgsMTApPjAmJih0LT0xKSxoLmhlaWdodD1uKyJweCIsaC5taW5XaWR0aD10KyJweCIsaC50b3A9cysicHgiLGgubGVmdD1sKyJweCIsaC5tYXJnaW49IjBweCJ9fSxULnByb3RvdHlwZS5nZXRFZGl0ZWRDZWxsPWZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmNoZWNrRWRpdG9yU2VjdGlvbigpO3N3aXRjaCh0KXtjYXNlInRvcCI6ZT10aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy50b3BPdmVybGF5LmNsb25lLnd0VGFibGUuZ2V0Q2VsbCh7cm93OnRoaXMucm93LGNvbDp0aGlzLmNvbH0pLHRoaXMuc2VsZWN0LnN0eWxlLnpJbmRleD0xMDE7YnJlYWs7Y2FzZSJjb3JuZXIiOmU9dGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMudG9wTGVmdENvcm5lck92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKHtyb3c6dGhpcy5yb3csY29sOnRoaXMuY29sfSksdGhpcy5zZWxlY3Quc3R5bGUuekluZGV4PTEwMzticmVhaztjYXNlImxlZnQiOmU9dGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKHtyb3c6dGhpcy5yb3csY29sOnRoaXMuY29sfSksdGhpcy5zZWxlY3Quc3R5bGUuekluZGV4PTEwMjticmVhaztkZWZhdWx0OmU9dGhpcy5pbnN0YW5jZS5nZXRDZWxsKHRoaXMucm93LHRoaXMuY29sKSx0aGlzLnNlbGVjdC5zdHlsZS56SW5kZXg9IiJ9cmV0dXJuLTEhPWUmJi0yIT1lP2U6dm9pZCAwfSxTKCJzZWxlY3QiLFQpfSx7X2Jhc2VFZGl0b3I6MzAsYnJvd3NlcjoyMyxlZGl0b3JzOjI5LCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9kb20vZXZlbnQiOjQ3LCJoZWxwZXJzL3VuaWNvZGUiOjU1fV0sNDA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7VGV4dEVkaXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE59fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxsLGEsdSxjLGg9KG89ZSgiYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxkPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGY9ZC5hZGRDbGFzcyxwPWQuZ2V0Q2FyZXRQb3NpdGlvbixnPWQuZ2V0Q29tcHV0ZWRTdHlsZSxtPWQuZ2V0Q3NzVHJhbnNmb3JtLHc9ZC5nZXRTY3JvbGxhYmxlRWxlbWVudCx2PWQuZ2V0U2Nyb2xsYmFyV2lkdGgseT1kLmlubmVyV2lkdGgsYj1kLm9mZnNldCxDPWQucmVzZXRDc3NUcmFuc2Zvcm0sXz1kLnNldENhcmV0UG9zaXRpb24sUj1kLmhhc1ZlcnRpY2FsU2Nyb2xsYmFyLFM9ZC5oYXNIb3Jpem9udGFsU2Nyb2xsYmFyLEU9KGk9ZSgiYXV0b1Jlc2l6ZSIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSlbImRlZmF1bHQiXSxUPShzPWUoIl9iYXNlRWRpdG9yIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5CYXNlRWRpdG9yLE09KGw9ZSgiZXZlbnRNYW5hZ2VyIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5ldmVudE1hbmFnZXIsTz0oYT1lKCJlZGl0b3JzIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KSxrPShPLmdldEVkaXRvcixPLnJlZ2lzdGVyRWRpdG9yKSxIPSh1PWUoImhlbHBlcnMvdW5pY29kZSIpLHUmJnUuX19lc01vZHVsZSYmdXx8eyJkZWZhdWx0Ijp1fSkuS0VZX0NPREVTLEQ9KGM9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y30pLEE9RC5zdG9wUHJvcGFnYXRpb24seD1ELnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbixQPUQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQsTj1ULnByb3RvdHlwZS5leHRlbmQoKTtOLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmNyZWF0ZUVsZW1lbnRzKCksdGhpcy5ldmVudE1hbmFnZXI9TSh0aGlzKSx0aGlzLmJpbmRFdmVudHMoKSx0aGlzLmF1dG9SZXNpemU9RSgpLHRoaXMuaW5zdGFuY2UuYWRkSG9vaygiYWZ0ZXJEZXN0cm95IixmdW5jdGlvbigpe2UuZGVzdHJveSgpfSl9LE4ucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVEVYVEFSRUEudmFsdWV9LE4ucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUpe3RoaXMuVEVYVEFSRUEudmFsdWU9ZX07dmFyIEw9ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLG89bi5nZXRBY3RpdmVFZGl0b3IoKTtpZih0PShlLmN0cmxLZXl8fGUubWV0YUtleSkmJiFlLmFsdEtleSxlLnRhcmdldD09PW8uVEVYVEFSRUEmJiFQKGUpKXtpZigxNz09PWUua2V5Q29kZXx8MjI0PT09ZS5rZXlDb2RlfHw5MT09PWUua2V5Q29kZXx8OTM9PT1lLmtleUNvZGUpcmV0dXJuIHZvaWQgeChlKTtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIEguQVJST1dfUklHSFQ6by5pc0luRnVsbEVkaXRNb2RlKCkmJighby5pc1dhaXRpbmcoKSYmIW8uYWxsb3dLZXlFdmVudFByb3BhZ2F0aW9ufHwhby5pc1dhaXRpbmcoKSYmby5hbGxvd0tleUV2ZW50UHJvcGFnYXRpb24mJiFvLmFsbG93S2V5RXZlbnRQcm9wYWdhdGlvbihlLmtleUNvZGUpKSYmeChlKTticmVhaztjYXNlIEguQVJST1dfTEVGVDpvLmlzSW5GdWxsRWRpdE1vZGUoKSYmKCFvLmlzV2FpdGluZygpJiYhby5hbGxvd0tleUV2ZW50UHJvcGFnYXRpb258fCFvLmlzV2FpdGluZygpJiZvLmFsbG93S2V5RXZlbnRQcm9wYWdhdGlvbiYmIW8uYWxsb3dLZXlFdmVudFByb3BhZ2F0aW9uKGUua2V5Q29kZSkpJiZ4KGUpO2JyZWFrO2Nhc2UgSC5BUlJPV19VUDpjYXNlIEguQVJST1dfRE9XTjpvLmlzSW5GdWxsRWRpdE1vZGUoKSYmKCFvLmlzV2FpdGluZygpJiYhby5hbGxvd0tleUV2ZW50UHJvcGFnYXRpb258fCFvLmlzV2FpdGluZygpJiZvLmFsbG93S2V5RXZlbnRQcm9wYWdhdGlvbiYmIW8uYWxsb3dLZXlFdmVudFByb3BhZ2F0aW9uKGUua2V5Q29kZSkpJiZ4KGUpO2JyZWFrO2Nhc2UgSC5FTlRFUjp2YXIgcj1vLmluc3RhbmNlLmdldFNlbGVjdGVkKCksaT0hKHJbMF09PT1yWzJdJiZyWzFdPT09clszXSk7aWYodCYmIWl8fGUuYWx0S2V5KXtpZihvLmlzT3BlbmVkKCkpe3ZhciBzPXAoby5URVhUQVJFQSksbD1vLmdldFZhbHVlKCksYT1sLnNsaWNlKDAscykrIlxuIitsLnNsaWNlKHMpO28uc2V0VmFsdWUoYSksXyhvLlRFWFRBUkVBLHMrMSl9ZWxzZSBvLmJlZ2luRWRpdGluZyhvLm9yaWdpbmFsVmFsdWUrIlxuIik7eChlKX1lLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSBILkE6Y2FzZSBILlg6Y2FzZSBILkM6Y2FzZSBILlY6dCYmeChlKTticmVhaztjYXNlIEguQkFDS1NQQUNFOmNhc2UgSC5ERUxFVEU6Y2FzZSBILkhPTUU6Y2FzZSBILkVORDp4KGUpfS0xPT09W0guQVJST1dfVVAsSC5BUlJPV19SSUdIVCxILkFSUk9XX0RPV04sSC5BUlJPV19MRUZUXS5pbmRleE9mKGUua2V5Q29kZSkmJm8uYXV0b1Jlc2l6ZS5yZXNpemUoU3RyaW5nLmZyb21DaGFyQ29kZShlLmtleUNvZGUpKX19O04ucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hEaW1lbnNpb25zKCksdGhpcy5pbnN0YW5jZS5hZGRIb29rKCJiZWZvcmVLZXlEb3duIixMKX0sTi5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSl7dGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuYXV0b1Jlc2l6ZS51bk9ic2VydmUoKSxkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09dGhpcy5URVhUQVJFQSYmdGhpcy5pbnN0YW5jZS5saXN0ZW4oKSx0aGlzLmluc3RhbmNlLnJlbW92ZUhvb2soImJlZm9yZUtleURvd24iLEwpfSxOLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe3RoaXMuVEVYVEFSRUEuZm9jdXMoKSxfKHRoaXMuVEVYVEFSRUEsdGhpcy5URVhUQVJFQS52YWx1ZS5sZW5ndGgpfSxOLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe3RoaXMuVEVYVEFSRUE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEVYVEFSRUEiKSxmKHRoaXMuVEVYVEFSRUEsImhhbmRzb250YWJsZUlucHV0IiksdGhpcy50ZXh0YXJlYVN0eWxlPXRoaXMuVEVYVEFSRUEuc3R5bGUsdGhpcy50ZXh0YXJlYVN0eWxlLndpZHRoPTAsdGhpcy50ZXh0YXJlYVN0eWxlLmhlaWdodD0wLHRoaXMuVEVYVEFSRUFfUEFSRU5UPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLGYodGhpcy5URVhUQVJFQV9QQVJFTlQsImhhbmRzb250YWJsZUlucHV0SG9sZGVyIiksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlPXRoaXMuVEVYVEFSRUFfUEFSRU5ULnN0eWxlLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS50b3A9MCx0aGlzLnRleHRhcmVhUGFyZW50U3R5bGUubGVmdD0wLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLlRFWFRBUkVBX1BBUkVOVC5hcHBlbmRDaGlsZCh0aGlzLlRFWFRBUkVBKSx0aGlzLmluc3RhbmNlLnJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuVEVYVEFSRUFfUEFSRU5UKTt2YXIgZT10aGlzO3RoaXMuaW5zdGFuY2UuX3JlZ2lzdGVyVGltZW91dChzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5yZWZyZXNoRGltZW5zaW9ucygpfSwwKSl9LE4ucHJvdG90eXBlLmdldEVkaXRlZENlbGw9ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuY2hlY2tFZGl0b3JTZWN0aW9uKCk7c3dpdGNoKHQpe2Nhc2UidG9wIjplPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLnRvcE92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKHtyb3c6dGhpcy5yb3csY29sOnRoaXMuY29sfSksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLnpJbmRleD0xMDE7YnJlYWs7Y2FzZSJ0b3AtbGVmdC1jb3JuZXIiOmU9dGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMudG9wTGVmdENvcm5lck92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKHtyb3c6dGhpcy5yb3csY29sOnRoaXMuY29sfSksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLnpJbmRleD0xMDM7YnJlYWs7Y2FzZSJib3R0b20tbGVmdC1jb3JuZXIiOmU9dGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMuYm90dG9tTGVmdENvcm5lck92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKHtyb3c6dGhpcy5yb3csY29sOnRoaXMuY29sfSksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLnpJbmRleD0xMDM7YnJlYWs7Y2FzZSJsZWZ0IjplPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LmNsb25lLnd0VGFibGUuZ2V0Q2VsbCh7cm93OnRoaXMucm93LGNvbDp0aGlzLmNvbH0pLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS56SW5kZXg9MTAyO2JyZWFrO2Nhc2UiYm90dG9tIjplPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmJvdHRvbU92ZXJsYXkuY2xvbmUud3RUYWJsZS5nZXRDZWxsKHtyb3c6dGhpcy5yb3csY29sOnRoaXMuY29sfSksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLnpJbmRleD0xMDI7YnJlYWs7ZGVmYXVsdDplPXRoaXMuaW5zdGFuY2UuZ2V0Q2VsbCh0aGlzLnJvdyx0aGlzLmNvbCksdGhpcy50ZXh0YXJlYVBhcmVudFN0eWxlLnpJbmRleD0iIn1yZXR1cm4tMSE9ZSYmLTIhPWU/ZTp2b2lkIDB9LE4ucHJvdG90eXBlLnJlZnJlc2hEaW1lbnNpb25zPWZ1bmN0aW9uKCl7aWYodGhpcy5zdGF0ZT09PWguRWRpdG9yU3RhdGUuRURJVElORyl7aWYodGhpcy5URD10aGlzLmdldEVkaXRlZENlbGwoKSwhdGhpcy5URClyZXR1cm4gdm9pZCB0aGlzLmNsb3NlKCEwKTt2YXIgZSx0PWIodGhpcy5URCksbj1iKHRoaXMuaW5zdGFuY2Uucm9vdEVsZW1lbnQpLG89dyh0aGlzLlREKSxyPXRoaXMuaW5zdGFuY2UuY291bnRSb3dzKCksaT10LnRvcC1uLnRvcC0xLShvLnNjcm9sbFRvcHx8MCkscz10LmxlZnQtbi5sZWZ0LTEtKG8uc2Nyb2xsTGVmdHx8MCksbD10aGlzLmluc3RhbmNlLmdldFNldHRpbmdzKCksYT0odGhpcy5pbnN0YW5jZS5oYXNSb3dIZWFkZXJzKCksdGhpcy5pbnN0YW5jZS5oYXNDb2xIZWFkZXJzKCkpLHU9dGhpcy5jaGVja0VkaXRvclNlY3Rpb24oKSxjPXRoaXMuVEQuc3R5bGUuYmFja2dyb3VuZENvbG9yO3N3aXRjaCh1KXtjYXNlInRvcCI6ZT1tKHRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLnRvcE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSk7YnJlYWs7Y2FzZSJsZWZ0IjplPW0odGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSk7YnJlYWs7Y2FzZSJ0b3AtbGVmdC1jb3JuZXIiOmU9bSh0aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy50b3BMZWZ0Q29ybmVyT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKTticmVhaztjYXNlImJvdHRvbS1sZWZ0LWNvcm5lciI6ZT1tKHRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpO2JyZWFrO2Nhc2UiYm90dG9tIjplPW0odGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0T3ZlcmxheXMuYm90dG9tT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKX0oYSYmMD09PXRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWQoKVswXXx8bC5maXhlZFJvd3NCb3R0b20mJnRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWQoKVswXT09PXItbC5maXhlZFJvd3NCb3R0b20pJiYoaSs9MSksMD09PXRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWQoKVsxXSYmKHMrPTEpLGUmJi0xIT1lP3RoaXMudGV4dGFyZWFQYXJlbnRTdHlsZVtlWzBdXT1lWzFdOkModGhpcy5URVhUQVJFQV9QQVJFTlQpLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS50b3A9aSsicHgiLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS5sZWZ0PXMrInB4Ijt2YXIgZD10aGlzLmluc3RhbmNlLnZpZXcud3Qud3RWaWV3cG9ydC5yb3dzUmVuZGVyQ2FsY3VsYXRvci5zdGFydFBvc2l0aW9uLGY9dGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3Iuc3RhcnRQb3NpdGlvbixwPXRoaXMuaW5zdGFuY2Uudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LmdldFNjcm9sbFBvc2l0aW9uKCksXz10aGlzLmluc3RhbmNlLnZpZXcud3Qud3RPdmVybGF5cy50b3BPdmVybGF5LmdldFNjcm9sbFBvc2l0aW9uKCksRT12KCksVD10aGlzLlRELm9mZnNldFRvcCtkLV8sTT10aGlzLlRELm9mZnNldExlZnQrZi1wLE89eSh0aGlzLlREKS04LGs9UihvKT9FOjAsSD1TKG8pP0U6MCxEPXRoaXMuaW5zdGFuY2Uudmlldy5tYXhpbXVtVmlzaWJsZUVsZW1lbnRXaWR0aChNKS05LWssQT10aGlzLlRELnNjcm9sbEhlaWdodCsxLHg9TWF0aC5tYXgodGhpcy5pbnN0YW5jZS52aWV3Lm1heGltdW1WaXNpYmxlRWxlbWVudEhlaWdodChUKS1ILDIzKSxQPWcodGhpcy5URCk7dGhpcy5URVhUQVJFQS5zdHlsZS5mb250U2l6ZT1QLmZvbnRTaXplLHRoaXMuVEVYVEFSRUEuc3R5bGUuZm9udEZhbWlseT1QLmZvbnRGYW1pbHksdGhpcy5URVhUQVJFQS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiIsdGhpcy5URVhUQVJFQS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Yz9jOmcodGhpcy5URVhUQVJFQSkuYmFja2dyb3VuZENvbG9yLHRoaXMuYXV0b1Jlc2l6ZS5pbml0KHRoaXMuVEVYVEFSRUEse21pbkhlaWdodDpNYXRoLm1pbihBLHgpLG1heEhlaWdodDp4LG1pbldpZHRoOk1hdGgubWluKE8sRCksbWF4V2lkdGg6RH0sITApLHRoaXMudGV4dGFyZWFQYXJlbnRTdHlsZS5kaXNwbGF5PSJibG9jayJ9fSxOLnByb3RvdHlwZS5iaW5kRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuVEVYVEFSRUEsImN1dCIsZnVuY3Rpb24oZSl7QShlKX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5URVhUQVJFQSwicGFzdGUiLGZ1bmN0aW9uKGUpe0EoZSl9KSx0aGlzLmluc3RhbmNlLmFkZEhvb2soImFmdGVyU2Nyb2xsSG9yaXpvbnRhbGx5IixmdW5jdGlvbigpe2UucmVmcmVzaERpbWVuc2lvbnMoKX0pLHRoaXMuaW5zdGFuY2UuYWRkSG9vaygiYWZ0ZXJTY3JvbGxWZXJ0aWNhbGx5IixmdW5jdGlvbigpe2UucmVmcmVzaERpbWVuc2lvbnMoKX0pLHRoaXMuaW5zdGFuY2UuYWRkSG9vaygiYWZ0ZXJDb2x1bW5SZXNpemUiLGZ1bmN0aW9uKCl7ZS5yZWZyZXNoRGltZW5zaW9ucygpLGUuZm9jdXMoKX0pLHRoaXMuaW5zdGFuY2UuYWRkSG9vaygiYWZ0ZXJSb3dSZXNpemUiLGZ1bmN0aW9uKCl7ZS5yZWZyZXNoRGltZW5zaW9ucygpLGUuZm9jdXMoKX0pLHRoaXMuaW5zdGFuY2UuYWRkSG9vaygiYWZ0ZXJEZXN0cm95IixmdW5jdGlvbigpe2UuZXZlbnRNYW5hZ2VyLmRlc3Ryb3koKX0pfSxOLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5ldmVudE1hbmFnZXIuZGVzdHJveSgpfSxrKCJ0ZXh0IixOKX0se19iYXNlRWRpdG9yOjMwLGF1dG9SZXNpemU6ImF1dG9SZXNpemUiLGJyb3dzZXI6MjMsZWRpdG9yczoyOSxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LCJoZWxwZXJzL2RvbS9ldmVudCI6NDcsImhlbHBlcnMvdW5pY29kZSI6NTV9XSw0MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCl7dmFyIG4sbyxyLGkscyxsLGE9IkhPVC1UQUJMRSI7aWYodC5pc1RhcmdldFdlYkNvbXBvbmVudD0hMSx0LnJlYWxUYXJnZXQ9dC50YXJnZXQsbD10LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbix0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe2wuYXBwbHkodGhpcykscCh0aGlzKX0sIXUuZXZlbnRNYW5hZ2VyLmlzSG90VGFibGVFbnYpcmV0dXJuIHQ7Zm9yKHQ9aCh0KSxzPXQucGF0aD90LnBhdGgubGVuZ3RoOjA7cy0tOyl7aWYodC5wYXRoW3NdLm5vZGVOYW1lPT09YSluPSEwO2Vsc2UgaWYobiYmdC5wYXRoW3NdLnNoYWRvd1Jvb3Qpe2k9dC5wYXRoW3NdO2JyZWFrfTAhPT1zfHxpfHwoaT10LnBhdGhbc10pfXJldHVybiBpfHwoaT10LnRhcmdldCksdC5pc1RhcmdldFdlYkNvbXBvbmVudD0hMCxmKCk/dC5yZWFsVGFyZ2V0PXQuc3JjRWxlbWVudHx8dC50b0VsZW1lbnQ6KGUgaW5zdGFuY2VvZiB1LkNvcmV8fGUgaW5zdGFuY2VvZiBXYWxrb250YWJsZSkmJihlIGluc3RhbmNlb2YgdS5Db3JlP289ZS52aWV3P2Uudmlldy53dC53dFRhYmxlLlRBQkxFOm51bGw6ZSBpbnN0YW5jZW9mIFdhbGtvbnRhYmxlJiYobz1lLnd0VGFibGUuVEFCTEUucGFyZW50Tm9kZS5wYXJlbnROb2RlKSxyPWQodC50YXJnZXQsW2FdLG8pLHI/dC5yZWFsVGFyZ2V0PW8ucXVlcnlTZWxlY3RvcihhKXx8dC50YXJnZXQ6dC5yZWFsVGFyZ2V0PXQudGFyZ2V0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwidGFyZ2V0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgoaSk7Cn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0fWZ1bmN0aW9uIHIoZSl7cmV0dXJuIG5ldyBnKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0V2ZW50TWFuYWdlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGd9fSxldmVudE1hbmFnZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGkscyxsLGEsdT0oaT1lKCJicm93c2VyIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KVsiZGVmYXVsdCJdLGM9KHM9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksaD1jLnBvbHltZXJXcmFwLGQ9Yy5jbG9zZXN0LGY9KGw9ZSgiaGVscGVycy9mZWF0dXJlIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5pc1dlYkNvbXBvbmVudFN1cHBvcnRlZE5hdGl2ZWx5LHA9KGE9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbixnPWZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO3RoaXMuY29udGV4dD1lfHx0aGlzLHRoaXMuY29udGV4dC5ldmVudExpc3RlbmVyc3x8KHRoaXMuY29udGV4dC5ldmVudExpc3RlbmVycz1bXSl9OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhnLHthZGRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUpe2U9byhzLGUpLG4uY2FsbCh0aGlzLGUpfXZhciBpPXRoaXMscz10aGlzLmNvbnRleHQ7cmV0dXJuIHRoaXMuY29udGV4dC5ldmVudExpc3RlbmVycy5wdXNoKHtlbGVtZW50OmUsZXZlbnQ6dCxjYWxsYmFjazpuLGNhbGxiYWNrUHJveHk6cn0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcih0LHIsITEpOmUuYXR0YWNoRXZlbnQoIm9uIit0LHIpLHUuY291bnRFdmVudE1hbmFnZXJMaXN0ZW5lcnMrKyxmdW5jdGlvbigpe2kucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQsbil9fSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIG8scj10aGlzLmNvbnRleHQuZXZlbnRMaXN0ZW5lcnMubGVuZ3RoO3ItLTspaWYobz10aGlzLmNvbnRleHQuZXZlbnRMaXN0ZW5lcnNbcl0sby5ldmVudD09dCYmby5lbGVtZW50PT1lKXtpZihuJiZuIT1vLmNhbGxiYWNrKWNvbnRpbnVlO3RoaXMuY29udGV4dC5ldmVudExpc3RlbmVycy5zcGxpY2UociwxKSxvLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcj9vLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLmV2ZW50LG8uY2FsbGJhY2tQcm94eSwhMSk6by5lbGVtZW50LmRldGFjaEV2ZW50KCJvbiIrby5ldmVudCxvLmNhbGxiYWNrUHJveHkpLHUuY291bnRFdmVudE1hbmFnZXJMaXN0ZW5lcnMtLX19LGNsZWFyRXZlbnRzOmZ1bmN0aW9uKCl7aWYodGhpcy5jb250ZXh0KWZvcih2YXIgZT10aGlzLmNvbnRleHQuZXZlbnRMaXN0ZW5lcnMubGVuZ3RoO2UtLTspe3ZhciB0PXRoaXMuY29udGV4dC5ldmVudExpc3RlbmVyc1tlXTt0JiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodC5lbGVtZW50LHQuZXZlbnQsdC5jYWxsYmFjayl9fSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuY2xlYXJFdmVudHMoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2xlYXJFdmVudHMoKSx0aGlzLmNvbnRleHQ9bnVsbH0sZmlyZUV2ZW50OmZ1bmN0aW9uKGUsdCl7dmFyIG4sbz17YnViYmxlczohMCxjYW5jZWxhYmxlOiJtb3VzZW1vdmUiIT09dCx2aWV3OndpbmRvdyxkZXRhaWw6MCxzY3JlZW5YOjAsc2NyZWVuWTowLGNsaWVudFg6MSxjbGllbnRZOjEsY3RybEtleTohMSxhbHRLZXk6ITEsc2hpZnRLZXk6ITEsbWV0YUtleTohMSxidXR0b246MCxyZWxhdGVkVGFyZ2V0OnZvaWQgMH07ZG9jdW1lbnQuY3JlYXRlRXZlbnQ/KG49ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnRzIiksbi5pbml0TW91c2VFdmVudCh0LG8uYnViYmxlcyxvLmNhbmNlbGFibGUsby52aWV3LG8uZGV0YWlsLG8uc2NyZWVuWCxvLnNjcmVlblksby5jbGllbnRYLG8uY2xpZW50WSxvLmN0cmxLZXksby5hbHRLZXksby5zaGlmdEtleSxvLm1ldGFLZXksby5idXR0b24sby5yZWxhdGVkVGFyZ2V0fHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUpKTpuPWRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCksZS5kaXNwYXRjaEV2ZW50P2UuZGlzcGF0Y2hFdmVudChuKTplLmZpcmVFdmVudCgib24iK3Qsbil9fSx7fSksdS5jb3VudEV2ZW50TWFuYWdlckxpc3RlbmVycz0wLHUuZXZlbnRNYW5hZ2VyPXJ9LHticm93c2VyOjIzLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9kb20vZXZlbnQiOjQ3LCJoZWxwZXJzL2ZlYXR1cmUiOjQ4fV0sNDI6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtmb3IodmFyIHQ9MCxuPWUubGVuZ3RoO24+dDspZVt0XT1bZVt0XV0sdCsrfWZ1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49MCxvPXQubGVuZ3RoO28+bjspZS5wdXNoKHRbbl0pLG4rK31mdW5jdGlvbiBpKGUpe3ZhciB0PVtdO2lmKCFlfHwwPT09ZS5sZW5ndGh8fCFlWzBdfHwwPT09ZVswXS5sZW5ndGgpcmV0dXJuIHQ7Zm9yKHZhciBuPWUubGVuZ3RoLG89ZVswXS5sZW5ndGgscj0wO24+cjtyKyspZm9yKHZhciBpPTA7bz5pO2krKyl0W2ldfHwodFtpXT1bXSksdFtpXVtyXT1lW3JdW2ldO3JldHVybiB0fWZ1bmN0aW9uIHMoZSx0LG4sbyl7dmFyIHI9LTEsaT1lLmxlbmd0aDtmb3IobyYmaSYmKG49ZVsrK3JdKTsrK3I8aTspbj10KG4sZVtyXSxyLGUpO3JldHVybiBufWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIG49LTEsbz1lLmxlbmd0aCxyPS0xLGk9W107KytuPG87KXt2YXIgcz1lW25dO3QocyxuLGUpJiYoaVsrK3JdPXMpfXJldHVybiBpfWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIG49LTEsbz1lLmxlbmd0aCxyPS0xLGk9W107KytuPG87KXt2YXIgcz1lW25dO2lbKytyXT10KHMsbixlKX1yZXR1cm4gaX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciBuPS0xLG89ZS5sZW5ndGg7KytuPG8mJnQoZVtuXSxuLGUpIT09ITE7KTtyZXR1cm4gZX1mdW5jdGlvbiBjKGUpe3JldHVybiBzKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSt0fSwwKX1mdW5jdGlvbiBoKGUpe3JldHVybiBzKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT50P2U6dH0sQXJyYXkuaXNBcnJheShlKT9lWzBdOnZvaWQgMCl9ZnVuY3Rpb24gZChlKXtyZXR1cm4gcyhlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ+ZT9lOnR9LEFycmF5LmlzQXJyYXkoZSk/ZVswXTp2b2lkIDApfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGUubGVuZ3RoP2MoZSkvZS5sZW5ndGg6MH1mdW5jdGlvbiBwKGUpe3JldHVybiBzKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQoQXJyYXkuaXNBcnJheSh0KT9wKHQpOnQpfSxbXSl9ZnVuY3Rpb24gZyhlKXt2YXIgdD1bXTtyZXR1cm4gdShlLGZ1bmN0aW9uKGUpey0xPT09dC5pbmRleE9mKGUpJiZ0LnB1c2goZSl9KSx0fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se3RvMmRBcnJheTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxleHRlbmRBcnJheTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxwaXZvdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSxhcnJheVJlZHVjZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9fSxhcnJheUZpbHRlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9fSxhcnJheU1hcDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9fSxhcnJheUVhY2g6e2dldDpmdW5jdGlvbigpe3JldHVybiB1fX0sYXJyYXlTdW06e2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0sYXJyYXlNYXg6e2dldDpmdW5jdGlvbigpe3JldHVybiBofX0sYXJyYXlNaW46e2dldDpmdW5jdGlvbigpe3JldHVybiBkfX0sYXJyYXlBdmc6e2dldDpmdW5jdGlvbigpe3JldHVybiBmfX0sYXJyYXlGbGF0dGVuOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcH19LGFycmF5VW5pcXVlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pfSx7fV0sNDM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbygpe3JldHVybiBhfWZ1bmN0aW9uIHIoKXtyZXR1cm4gdX1mdW5jdGlvbiBpKCl7cmV0dXJuIGN9ZnVuY3Rpb24gcygpe3JldHVybiBofWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGV8fChlPW5hdmlnYXRvci51c2VyQWdlbnQpLC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChlKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtpc0lFODp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxpc0lFOTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxpc1NhZmFyaTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSxpc0Nocm9tZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9fSxpc01vYmlsZUJyb3dzZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBsfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGE9IWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJ0ZXN0IikudGV4dENvbnRlbnQsdT0hIWRvY3VtZW50LmRvY3VtZW50TW9kZSxjPS9TYWZhcmkvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJi9BcHBsZSBDb21wdXRlci8udGVzdChuYXZpZ2F0b3IudmVuZG9yKSxoPS9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJi9Hb29nbGUvLnRlc3QobmF2aWdhdG9yLnZlbmRvcil9LHt9XSw0NDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe2Zvcih2YXIgdCxuPWUrMSxvPSIiO24+MDspdD0obi0xKSUyNixvPVN0cmluZy5mcm9tQ2hhckNvZGUoNjUrdCkrbyxuPXBhcnNlSW50KChuLXQpLzI2LDEwKTtyZXR1cm4gb31mdW5jdGlvbiByKGUsdCl7ZT0ibnVtYmVyIj09dHlwZW9mIGU/ZToxMDAsdD0ibnVtYmVyIj09dHlwZW9mIHQ/dDo0O3ZhciBuLHIsaT1bXTtmb3Iobj0wO2U+bjtuKyspe3ZhciBzPVtdO2ZvcihyPTA7dD5yO3IrKylzLnB1c2gobyhyKSsobisxKSk7aS5wdXNoKHMpfXJldHVybiBpfWZ1bmN0aW9uIGkoZSx0KXtlPSJudW1iZXIiPT10eXBlb2YgZT9lOjEwMCx0PSJudW1iZXIiPT10eXBlb2YgdD90OjQ7dmFyIG4scixpPVtdO2ZvcihuPTA7ZT5uO24rKyl7dmFyIHM9e307Zm9yKHI9MDt0PnI7cisrKXNbInByb3AiK3JdPW8ocikrKG4rMSk7aS5wdXNoKHMpfXJldHVybiBpfWZ1bmN0aW9uIHMoZSx0KXtmb3IodmFyIG4sbz1bXSxyPTA7ZT5yO3IrKyl7bj1bXTtmb3IodmFyIGk9MDt0Pmk7aSsrKW4ucHVzaCgiIik7by5wdXNoKG4pfXJldHVybiBvfWZ1bmN0aW9uIGwoZSl7dmFyIHQsbixvLHIsaT1bXSxzPTA7Zm9yKHQ9MCxuPWUubGVuZ3RoO24+dDt0KyspZm9yKG89MCxyPWVbdF0ubGVuZ3RoO3I+bztvKyspbz09cyYmKGkucHVzaChbXSkscysrKSxpW29dLnB1c2goZVt0XVtvXSk7cmV0dXJuIGl9ZnVuY3Rpb24gYShlLHQpe2Z1bmN0aW9uIG4oZSl7dmFyIHQ9aC5jZWxsVHlwZXNbZV07aWYoInVuZGVmaW5lZCI9PXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcignWW91IGRlY2xhcmVkIGNlbGwgdHlwZSAiJytlKyciIGFzIGEgc3RyaW5nIHRoYXQgaXMgbm90IG1hcHBlZCB0byBhIGtub3duIG9iamVjdC4gQ2VsbCB0eXBlIG11c3QgYmUgYW4gb2JqZWN0IG9yIGEgc3RyaW5nIG1hcHBlZCB0byBhbiBvYmplY3QgaW4gSGFuZHNvbnRhYmxlLmNlbGxUeXBlcycpO3JldHVybiB0fXJldHVybiB0PSJ1bmRlZmluZWQiPT10eXBlb2YgdD8hMDp0LGZ1bmN0aW9uKG8scil7cmV0dXJuIGZ1bmN0aW9uIGkobyl7aWYobyl7aWYoby5oYXNPd25Qcm9wZXJ0eShlKSYmdm9pZCAwIT09b1tlXSlyZXR1cm4gb1tlXTtpZihvLmhhc093blByb3BlcnR5KCJ0eXBlIikmJm8udHlwZSl7dmFyIHI7aWYoInN0cmluZyIhPXR5cGVvZiBvLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJDZWxsIHR5cGUgbXVzdCBiZSBhIHN0cmluZyAiKTtpZihyPW4oby50eXBlKSxyLmhhc093blByb3BlcnR5KGUpKXJldHVybiByW2VdO2lmKHQpcmV0dXJufXJldHVybiBpKGQobykpfX0oIm51bWJlciI9PXR5cGVvZiBvP3RoaXMuZ2V0Q2VsbE1ldGEobyxyKTpvKX19T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7c3ByZWFkc2hlZXRDb2x1bW5MYWJlbDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxjcmVhdGVTcHJlYWRzaGVldERhdGE6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0sY3JlYXRlU3ByZWFkc2hlZXRPYmplY3REYXRhOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LGNyZWF0ZUVtcHR5U3ByZWFkc2hlZXREYXRhOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc319LHRyYW5zbGF0ZVJvd3NUb0NvbHVtbnM6e2dldDpmdW5jdGlvbigpe3JldHVybiBsfX0sY2VsbE1ldGhvZExvb2t1cEZhY3Rvcnk6e2dldDpmdW5jdGlvbigpe3JldHVybiBhfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHUsYyxoPSh1PWUoImJyb3dzZXIiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pWyJkZWZhdWx0Il0sZD0oYz1lKCJvYmplY3QiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y30pLmdldFByb3RvdHlwZU9mfSx7YnJvd3NlcjoyMyxvYmplY3Q6NTJ9XSw0NTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3ZhciB0PW5ldyBEYXRlKGUpO3JldHVybiBpc05hTihuZXcgRGF0ZShlKyJUMDA6MDAiKS5nZXREYXRlKCkpP3Q6bmV3IERhdGUodC5nZXRUaW1lKCkrNmU0KnQuZ2V0VGltZXpvbmVPZmZzZXQoKSl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7Z2V0Tm9ybWFsaXplZERhdGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSl9LHt9XSw0NjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCxuKXtmb3IoO251bGwhPWUmJmUhPT1uOyl7aWYoZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiYodC5pbmRleE9mKGUubm9kZU5hbWUpPi0xfHx0LmluZGV4T2YoZSk+LTEpKXJldHVybiBlO2U9ZS5ob3N0JiZlLm5vZGVUeXBlPT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFP2UuaG9zdDplLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcihlLHQpe3ZhciBuPWUucGFyZW50Tm9kZSxvPVtdO2Zvcigic3RyaW5nIj09dHlwZW9mIHQ/bz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpLDApOm8ucHVzaCh0KTtudWxsIT1uOyl7aWYoby5pbmRleE9mKG4pPi0xKXJldHVybiEwO249bi5wYXJlbnROb2RlfXJldHVybiExfWZ1bmN0aW9uIGkoZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZlLm5vZGVOYW1lPT09by50b1VwcGVyQ2FzZSgpfXZhciBuLG89ImhvdC10YWJsZSIscj0hMTtmb3Iobj1zKGUpO251bGwhPW47KXtpZih0KG4pKXtyPSEwO2JyZWFrfWlmKG4uaG9zdCYmbi5ub2RlVHlwZT09PU5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERSl7aWYocj10KG4uaG9zdCkpYnJlYWs7bj1uLmhvc3R9bj1uLnBhcmVudE5vZGV9cmV0dXJuIHJ9ZnVuY3Rpb24gcyhlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFBvbHltZXImJiJmdW5jdGlvbiI9PXR5cGVvZiB3cmFwP3dyYXAoZSk6ZX1mdW5jdGlvbiBsKGUpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgUG9seW1lciYmImZ1bmN0aW9uIj09dHlwZW9mIHVud3JhcD91bndyYXAoZSk6ZX1mdW5jdGlvbiBhKGUpe3ZhciB0PTA7aWYoZS5wcmV2aW91c1NpYmxpbmcpZm9yKDtlPWUucHJldmlvdXNTaWJsaW5nOykrK3Q7cmV0dXJuIHR9ZnVuY3Rpb24gdShlLHQpe3ZhciBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5odF9jbG9uZV8iK2UpO3JldHVybiBuP24uY29udGFpbnModCk6bnVsbH1mdW5jdGlvbiBjKGUpe3ZhciB0PTAsbj1bXTtpZighZXx8IWUubGVuZ3RoKXJldHVybiBuO2Zvcig7ZVt0XTspbi5wdXNoKGVbdF0pLHQrKztyZXR1cm4gbn1mdW5jdGlvbiBoKGUsdCl7cmV0dXJuIEsoZSx0KX1mdW5jdGlvbiBkKGUsdCl7cmV0dXJuIHEoZSx0KX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIFooZSx0KX1mdW5jdGlvbiBwKGUsdCl7aWYoMz09PWUubm9kZVR5cGUpdC5yZW1vdmVDaGlsZChlKTtlbHNlIGlmKFsiVEFCTEUiLCJUSEVBRCIsIlRCT0RZIiwiVEZPT1QiLCJUUiJdLmluZGV4T2YoZS5ub2RlTmFtZSk+LTEpZm9yKHZhciBuPWUuY2hpbGROb2RlcyxvPW4ubGVuZ3RoLTE7bz49MDtvLS0pcChuW29dLGUpfWZ1bmN0aW9uIGcoZSl7Zm9yKHZhciB0O3Q9ZS5sYXN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQodCl9ZnVuY3Rpb24gbShlLHQpe2xlLnRlc3QodCk/ZS5pbm5lckhUTUw9dDp3KGUsdCl9ZnVuY3Rpb24gdyhlLHQpe3ZhciBuPWUuZmlyc3RDaGlsZDtuJiYzPT09bi5ub2RlVHlwZSYmbnVsbD09PW4ubmV4dFNpYmxpbmc/YWU/bi50ZXh0Q29udGVudD10Om4uZGF0YT10OihnKGUpLGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCkpKX1mdW5jdGlvbiB2KGUpe2Zvcih2YXIgdD1lO2wodCkhPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7KXtpZihudWxsPT09dClyZXR1cm4hMTtpZih0Lm5vZGVUeXBlPT09Tm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKXtpZih0Lmhvc3Qpe2lmKHQuaG9zdC5pbXBsKXJldHVybiB2KHQuaG9zdC5pbXBsKTtpZih0Lmhvc3QpcmV0dXJuIHYodC5ob3N0KTt0aHJvdyBuZXcgRXJyb3IoIkxvc3QgaW4gV2ViIENvbXBvbmVudHMgd29ybGQiKX1yZXR1cm4hMX1pZigibm9uZSI9PT10LnN0eWxlLmRpc3BsYXkpcmV0dXJuITE7dD10LnBhcmVudE5vZGV9cmV0dXJuITB9ZnVuY3Rpb24geShlKXt2YXIgdCxuLG8scixpO2lmKHI9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LG5lKCkmJmUuZmlyc3RDaGlsZCYmIkNBUFRJT04iPT09ZS5maXJzdENoaWxkLm5vZGVOYW1lKXJldHVybiBpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkse3RvcDppLnRvcCsod2luZG93LnBhZ2VZT2Zmc2V0fHxyLnNjcm9sbFRvcCktKHIuY2xpZW50VG9wfHwwKSxsZWZ0OmkubGVmdCsod2luZG93LnBhZ2VYT2Zmc2V0fHxyLnNjcm9sbExlZnQpLShyLmNsaWVudExlZnR8fDApfTtmb3IodD1lLm9mZnNldExlZnQsbj1lLm9mZnNldFRvcCxvPWU7KGU9ZS5vZmZzZXRQYXJlbnQpJiZlIT09ZG9jdW1lbnQuYm9keTspdCs9ZS5vZmZzZXRMZWZ0LG4rPWUub2Zmc2V0VG9wLG89ZTtyZXR1cm4gbyYmImZpeGVkIj09PW8uc3R5bGUucG9zaXRpb24mJih0Kz13aW5kb3cucGFnZVhPZmZzZXR8fHIuc2Nyb2xsTGVmdCxuKz13aW5kb3cucGFnZVlPZmZzZXR8fHIuc2Nyb2xsVG9wKSx7bGVmdDp0LHRvcDpufX1mdW5jdGlvbiBiKCl7dmFyIGU9d2luZG93LnNjcm9sbFk7cmV0dXJuIHZvaWQgMD09PWUmJihlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLGV9ZnVuY3Rpb24gQygpe3ZhciBlPXdpbmRvdy5zY3JvbGxYO3JldHVybiB2b2lkIDA9PT1lJiYoZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCksZX1mdW5jdGlvbiBfKGUpe3JldHVybiBlPT09d2luZG93P2IoKTplLnNjcm9sbFRvcH1mdW5jdGlvbiBSKGUpe3JldHVybiBlPT09d2luZG93P0MoKTplLnNjcm9sbExlZnR9ZnVuY3Rpb24gUyhlKXtmb3IodmFyIHQsbixvLHI9ZS5wYXJlbnROb2RlLGk9WyJhdXRvIiwic2Nyb2xsIl0scz0iIixsPSIiLGE9IiIsdT0iIjtyJiZyLnN0eWxlJiZkb2N1bWVudC5ib2R5IT09cjspe2lmKHQ9ci5zdHlsZS5vdmVyZmxvdyxuPXIuc3R5bGUub3ZlcmZsb3dYLG89ci5zdHlsZS5vdmVyZmxvd1ksInNjcm9sbCI9PXR8fCJzY3JvbGwiPT1ufHwic2Nyb2xsIj09bylyZXR1cm4gcjtpZih3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSYmKHM9d2luZG93LmdldENvbXB1dGVkU3R5bGUociksbD1zLmdldFByb3BlcnR5VmFsdWUoIm92ZXJmbG93IiksYT1zLmdldFByb3BlcnR5VmFsdWUoIm92ZXJmbG93LXkiKSx1PXMuZ2V0UHJvcGVydHlWYWx1ZSgib3ZlcmZsb3cteCIpLCJzY3JvbGwiPT09bHx8InNjcm9sbCI9PT11fHwic2Nyb2xsIj09PWEpKXJldHVybiByO2lmKHIuY2xpZW50SGVpZ2h0PD1yLnNjcm9sbEhlaWdodCYmKC0xIT09aS5pbmRleE9mKG8pfHwtMSE9PWkuaW5kZXhPZih0KXx8LTEhPT1pLmluZGV4T2YobCl8fC0xIT09aS5pbmRleE9mKGEpKSlyZXR1cm4gcjtpZihyLmNsaWVudFdpZHRoPD1yLnNjcm9sbFdpZHRoJiYoLTEhPT1pLmluZGV4T2Yobil8fC0xIT09aS5pbmRleE9mKHQpfHwtMSE9PWkuaW5kZXhPZihsKXx8LTEhPT1pLmluZGV4T2YodSkpKXJldHVybiByO3I9ci5wYXJlbnROb2RlfXJldHVybiB3aW5kb3d9ZnVuY3Rpb24gRShlKXtmb3IodmFyIHQ9ZS5wYXJlbnROb2RlO3QmJnQuc3R5bGUmJmRvY3VtZW50LmJvZHkhPT10Oyl7aWYoInZpc2libGUiIT09dC5zdHlsZS5vdmVyZmxvdyYmIiIhPT10LnN0eWxlLm92ZXJmbG93KXJldHVybiB0O2lmKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKXt2YXIgbj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KTtpZigidmlzaWJsZSIhPT1uLmdldFByb3BlcnR5VmFsdWUoIm92ZXJmbG93IikmJiIiIT09bi5nZXRQcm9wZXJ0eVZhbHVlKCJvdmVyZmxvdyIpKXJldHVybiB0fXQ9dC5wYXJlbnROb2RlfXJldHVybiB3aW5kb3d9ZnVuY3Rpb24gVChlLHQpe2lmKGUpe2lmKGUhPT13aW5kb3cpe3ZhciBuLG89ZS5zdHlsZVt0XTtyZXR1cm4iIiE9PW8mJnZvaWQgMCE9PW8/bzoobj1NKGUpLCIiIT09blt0XSYmdm9pZCAwIT09blt0XT9uW3RdOnZvaWQgMCl9aWYoIndpZHRoIj09PXQpcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoKyJweCI7aWYoImhlaWdodCI9PT10KXJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQrInB4In19ZnVuY3Rpb24gTShlKXtyZXR1cm4gZS5jdXJyZW50U3R5bGV8fGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZSl9ZnVuY3Rpb24gTyhlKXtyZXR1cm4gZS5vZmZzZXRXaWR0aH1mdW5jdGlvbiBrKGUpe3JldHVybiBuZSgpJiZlLmZpcnN0Q2hpbGQmJiJDQVBUSU9OIj09PWUuZmlyc3RDaGlsZC5ub2RlTmFtZT9lLm9mZnNldEhlaWdodCtlLmZpcnN0Q2hpbGQub2Zmc2V0SGVpZ2h0OmUub2Zmc2V0SGVpZ2h0fWZ1bmN0aW9uIEgoZSl7cmV0dXJuIGUuY2xpZW50SGVpZ2h0fHxlLmlubmVySGVpZ2h0fWZ1bmN0aW9uIEQoZSl7cmV0dXJuIGUuY2xpZW50V2lkdGh8fGUuaW5uZXJXaWR0aH1mdW5jdGlvbiBBKGUsdCxuKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIodCxuLCExKTplLmF0dGFjaEV2ZW50KCJvbiIrdCxuKX1mdW5jdGlvbiB4KGUsdCxuKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLCExKTplLmRldGFjaEV2ZW50KCJvbiIrdCxuKX1mdW5jdGlvbiBQKGUpe2lmKGUuc2VsZWN0aW9uU3RhcnQpcmV0dXJuIGUuc2VsZWN0aW9uU3RhcnQ7aWYoZG9jdW1lbnQuc2VsZWN0aW9uKXtlLmZvY3VzKCk7dmFyIHQ9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7aWYobnVsbD09dClyZXR1cm4gMDt2YXIgbj1lLmNyZWF0ZVRleHRSYW5nZSgpLG89bi5kdXBsaWNhdGUoKTtyZXR1cm4gbi5tb3ZlVG9Cb29rbWFyayh0LmdldEJvb2ttYXJrKCkpLG8uc2V0RW5kUG9pbnQoIkVuZFRvU3RhcnQiLG4pLG8udGV4dC5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gTihlKXtpZihlLnNlbGVjdGlvbkVuZClyZXR1cm4gZS5zZWxlY3Rpb25FbmQ7aWYoZG9jdW1lbnQuc2VsZWN0aW9uKXt2YXIgdD1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtpZihudWxsPT10KXJldHVybiAwO3ZhciBuPWUuY3JlYXRlVGV4dFJhbmdlKCk7cmV0dXJuIG4udGV4dC5pbmRleE9mKHQudGV4dCkrdC50ZXh0Lmxlbmd0aH19ZnVuY3Rpb24gTCgpe3ZhciBlPSIiO3JldHVybiB3aW5kb3cuZ2V0U2VsZWN0aW9uP2U9d2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk6ZG9jdW1lbnQuc2VsZWN0aW9uJiYiQ29udHJvbCIhPT1kb2N1bWVudC5zZWxlY3Rpb24udHlwZSYmKGU9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dCksZX1mdW5jdGlvbiBXKGUsdCxuKXtpZih2b2lkIDA9PT1uJiYobj10KSxlLnNldFNlbGVjdGlvblJhbmdlKXtlLmZvY3VzKCk7dHJ5e2Uuc2V0U2VsZWN0aW9uUmFuZ2UodCxuKX1jYXRjaChvKXt2YXIgcj1lLnBhcmVudE5vZGUsaT1yLnN0eWxlLmRpc3BsYXk7ci5zdHlsZS5kaXNwbGF5PSJibG9jayIsZS5zZXRTZWxlY3Rpb25SYW5nZSh0LG4pLHIuc3R5bGUuZGlzcGxheT1pfX1lbHNlIGlmKGUuY3JlYXRlVGV4dFJhbmdlKXt2YXIgcz1lLmNyZWF0ZVRleHRSYW5nZSgpO3MuY29sbGFwc2UoITApLHMubW92ZUVuZCgiY2hhcmFjdGVyIixuKSxzLm1vdmVTdGFydCgiY2hhcmFjdGVyIix0KSxzLnNlbGVjdCgpfX1mdW5jdGlvbiBJKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO2Uuc3R5bGUud2lkdGg9IjEwMCUiLGUuc3R5bGUuaGVpZ2h0PSIyMDBweCI7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLHQuc3R5bGUudG9wPSIwcHgiLHQuc3R5bGUubGVmdD0iMHB4Iix0LnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdC5zdHlsZS53aWR0aD0iMjAwcHgiLHQuc3R5bGUuaGVpZ2h0PSIxNTBweCIsdC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIix0LmFwcGVuZENoaWxkKGUpLChkb2N1bWVudC5ib2R5fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHQpO3ZhciBuPWUub2Zmc2V0V2lkdGg7dC5zdHlsZS5vdmVyZmxvdz0ic2Nyb2xsIjt2YXIgbz1lLm9mZnNldFdpZHRoO3JldHVybiBuPT1vJiYobz10LmNsaWVudFdpZHRoKSwoZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5yZW1vdmVDaGlsZCh0KSxuLW99ZnVuY3Rpb24gaigpe3JldHVybiB2b2lkIDA9PT1zZSYmKHNlPUkoKSksc2V9ZnVuY3Rpb24gVihlKXtyZXR1cm4gZS5vZmZzZXRXaWR0aCE9PWUuY2xpZW50V2lkdGh9ZnVuY3Rpb24gRihlKXtyZXR1cm4gZS5vZmZzZXRIZWlnaHQhPT1lLmNsaWVudEhlaWdodH1mdW5jdGlvbiBCKGUsdCxuKXtRKCl8fGVlKCk/KGUuc3R5bGUudG9wPW4sZS5zdHlsZS5sZWZ0PXQpOnRlKCk/ZS5zdHlsZVsiLXdlYmtpdC10cmFuc2Zvcm0iXT0idHJhbnNsYXRlM2QoIit0KyIsIituKyIsMCkiOmUuc3R5bGUudHJhbnNmb3JtPSJ0cmFuc2xhdGUzZCgiK3QrIiwiK24rIiwwKSJ9ZnVuY3Rpb24geihlKXt2YXIgdDtyZXR1cm4gZS5zdHlsZS50cmFuc2Zvcm0mJiIiIT09KHQ9ZS5zdHlsZS50cmFuc2Zvcm0pP1sidHJhbnNmb3JtIix0XTplLnN0eWxlWyItd2Via2l0LXRyYW5zZm9ybSJdJiYiIiE9PSh0PWUuc3R5bGVbIi13ZWJraXQtdHJhbnNmb3JtIl0pP1siLXdlYmtpdC10cmFuc2Zvcm0iLHRdOi0xfWZ1bmN0aW9uIFkoZSl7ZS5zdHlsZS50cmFuc2Zvcm0mJiIiIT09ZS5zdHlsZS50cmFuc2Zvcm0/ZS5zdHlsZS50cmFuc2Zvcm09IiI6ZS5zdHlsZVsiLXdlYmtpdC10cmFuc2Zvcm0iXSYmIiIhPT1lLnN0eWxlWyItd2Via2l0LXRyYW5zZm9ybSJdJiYoZS5zdHlsZVsiLXdlYmtpdC10cmFuc2Zvcm0iXT0iIil9ZnVuY3Rpb24gVShlKXt2YXIgdD1bIklOUFVUIiwiU0VMRUNUIiwiVEVYVEFSRUEiXTtyZXR1cm4gZSYmKHQuaW5kZXhPZihlLm5vZGVOYW1lKT4tMXx8InRydWUiPT09ZS5jb250ZW50RWRpdGFibGUpfWZ1bmN0aW9uIEcoZSl7cmV0dXJuIFUoZSkmJi0xPT1lLmNsYXNzTmFtZS5pbmRleE9mKCJoYW5kc29udGFibGVJbnB1dCIpJiYtMT09ZS5jbGFzc05hbWUuaW5kZXhPZigiY29weVBhc3RlIil9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7Y2xvc2VzdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxpc0NoaWxkT2Y6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0saXNDaGlsZE9mV2ViQ29tcG9uZW50VGFibGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0scG9seW1lcldyYXA6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0scG9seW1lclVud3JhcDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9fSxpbmRleDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9fSxvdmVybGF5Q29udGFpbnNFbGVtZW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19LGhhc0NsYXNzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaH19LGFkZENsYXNzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZH19LHJlbW92ZUNsYXNzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZn19LHJlbW92ZVRleHROb2Rlczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHB9fSxlbXB0eTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGd9fSxIVE1MX0NIQVJBQ1RFUlM6e2dldDpmdW5jdGlvbigpe3JldHVybiBsZX19LGZhc3RJbm5lckhUTUw6e2dldDpmdW5jdGlvbigpe3JldHVybiBtfX0sZmFzdElubmVyVGV4dDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHd9fSxpc1Zpc2libGU6e2dldDpmdW5jdGlvbigpe3JldHVybiB2fX0sb2Zmc2V0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geX19LGdldFdpbmRvd1Njcm9sbFRvcDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGJ9fSxnZXRXaW5kb3dTY3JvbGxMZWZ0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ319LGdldFNjcm9sbFRvcDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF99fSxnZXRTY3JvbGxMZWZ0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUn19LGdldFNjcm9sbGFibGVFbGVtZW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU319LGdldFRyaW1taW5nQ29udGFpbmVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRX19LGdldFN0eWxlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVH19LGdldENvbXB1dGVkU3R5bGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBNfX0sb3V0ZXJXaWR0aDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE99fSxvdXRlckhlaWdodDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGt9fSxpbm5lckhlaWdodDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEh9fSxpbm5lcldpZHRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRH19LGFkZEV2ZW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQX19LHJlbW92ZUV2ZW50OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geH19LGdldENhcmV0UG9zaXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBQfX0sZ2V0U2VsZWN0aW9uRW5kUG9zaXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBOfX0sZ2V0U2VsZWN0aW9uVGV4dDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEx9fSxzZXRDYXJldFBvc2l0aW9uOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gV319LGdldFNjcm9sbGJhcldpZHRoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gan19LGhhc1ZlcnRpY2FsU2Nyb2xsYmFyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVn19LGhhc0hvcml6b250YWxTY3JvbGxiYXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBGfX0sc2V0T3ZlcmxheVBvc2l0aW9uOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQn19LGdldENzc1RyYW5zZm9ybTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHp9fSxyZXNldENzc1RyYW5zZm9ybTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFl9fSxpc0lucHV0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVX19LGlzT3V0c2lkZUlucHV0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gR319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciAkLFgsSyxxLFosSj0oJD1lKCIuLi9icm93c2VyIiksJCYmJC5fX2VzTW9kdWxlJiYkfHx7ImRlZmF1bHQiOiR9KSxRPUouaXNJRTgsZWU9Si5pc0lFOSx0ZT1KLmlzU2FmYXJpLG5lPShYPWUoIi4uL2ZlYXR1cmUiKSxYJiZYLl9fZXNNb2R1bGUmJlh8fHsiZGVmYXVsdCI6WH0pLmhhc0NhcHRpb25Qcm9ibGVtLG9lPSEhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdDtpZihvZSl7dmFyIHJlPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuY2xhc3NMaXN0LmFkZCgidGVzdCIsInRlc3QyIiksZS5jbGFzc0xpc3QuY29udGFpbnMoInRlc3QyIil9KCk7Sz1mdW5jdGlvbihlLHQpe3JldHVybiIiPT09dD8hMTplLmNsYXNzTGlzdC5jb250YWlucyh0KX0scT1mdW5jdGlvbihlLHQpe3ZhciBuPTA7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD10LnNwbGl0KCIgIikpLHQ9Yyh0KSxyZSllLmNsYXNzTGlzdC5hZGQuYXBwbHkoZS5jbGFzc0xpc3QsdCk7ZWxzZSBmb3IoO3QmJnRbbl07KWUuY2xhc3NMaXN0LmFkZCh0W25dKSxuKyt9LFo9ZnVuY3Rpb24oZSx0KXt2YXIgbj0wO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dC5zcGxpdCgiICIpKSx0PWModCkscmUpZS5jbGFzc0xpc3QucmVtb3ZlLmFwcGx5KGUuY2xhc3NMaXN0LHQpO2Vsc2UgZm9yKDt0JiZ0W25dOyllLmNsYXNzTGlzdC5yZW1vdmUodFtuXSksbisrfX1lbHNle3ZhciBpZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFJlZ0V4cCgiKFxcc3xeKSIrZSsiKFxcc3wkKSIpfTtLPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISFlLmNsYXNzTmFtZS5tYXRjaChpZSh0KSl9LHE9ZnVuY3Rpb24oZSx0KXt2YXIgbj0wLG89ZS5jbGFzc05hbWU7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYodD10LnNwbGl0KCIgIikpLCIiPT09bylvPXQuam9pbigiICIpO2Vsc2UgZm9yKDt0JiZ0W25dOylpZSh0W25dKS50ZXN0KG8pfHwobys9IiAiK3Rbbl0pLG4rKztlLmNsYXNzTmFtZT1vfSxaPWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxvPWUuY2xhc3NOYW1lO2Zvcigic3RyaW5nIj09dHlwZW9mIHQmJih0PXQuc3BsaXQoIiAiKSk7dCYmdFtuXTspbz1vLnJlcGxhY2UoaWUodFtuXSksIiAiKS50cmltKCksbisrO2UuY2xhc3NOYW1lIT09byYmKGUuY2xhc3NOYW1lPW8pfX12YXIgc2UsbGU9Lyg8KC4qKT58JiguKik7KS8sYWU9ISFkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgidGVzdCIpLnRleHRDb250ZW50fSx7Ii4uL2Jyb3dzZXIiOjQzLCIuLi9mZWF0dXJlIjo0OH1dLDQ3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7ZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uRW5hYmxlZD0hMSxlLmNhbmNlbEJ1YmJsZT0hMH1mdW5jdGlvbiByKGUpe3JldHVybiBlLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25FbmFibGVkPT09ITF9ZnVuY3Rpb24gaShlKXsiZnVuY3Rpb24iPT10eXBlb2YgZS5zdG9wUHJvcGFnYXRpb24/ZS5zdG9wUHJvcGFnYXRpb24oKTplLmNhbmNlbEJ1YmJsZT0hMH1mdW5jdGlvbiBzKGUpe3JldHVybiBlLnBhZ2VYP2UucGFnZVg6ZS5jbGllbnRYK2goKX1mdW5jdGlvbiBsKGUpe3JldHVybiBlLnBhZ2VZP2UucGFnZVk6ZS5jbGllbnRZK2MoKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0saXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0sc3RvcFByb3BhZ2F0aW9uOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LHBhZ2VYOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc319LHBhZ2VZOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbH19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBhLHU9KGE9ZSgiZWxlbWVudCIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSksYz11LmdldFdpbmRvd1Njcm9sbFRvcCxoPXUuZ2V0V2luZG93U2Nyb2xsTGVmdH0se2VsZW1lbnQ6NDZ9XSw0ODpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBkLmNhbGwod2luZG93LGUpfWZ1bmN0aW9uIHIoZSl7Zi5jYWxsKHdpbmRvdyxlKX1mdW5jdGlvbiBpKCl7cmV0dXJuIm9udG91Y2hzdGFydCJpbiB3aW5kb3d9ZnVuY3Rpb24gcygpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiEoIWUuY3JlYXRlU2hhZG93Um9vdHx8IWUuY3JlYXRlU2hhZG93Um9vdC50b1N0cmluZygpLm1hdGNoKC9cW25hdGl2ZSBjb2RlXF0vKSl9ZnVuY3Rpb24gbCgpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlRBQkxFIik7ZS5zdHlsZS5ib3JkZXJTcGFjaW5nPTAsZS5zdHlsZS5ib3JkZXJXaWR0aD0wLGUuc3R5bGUucGFkZGluZz0wO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlRCT0RZIik7ZS5hcHBlbmRDaGlsZCh0KSx0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlRSIikpLHQuZmlyc3RDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJURCIpKSx0LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5pbm5lckhUTUw9Ijx0cj48dGQ+dDxicj50PC90ZD48L3RyPiI7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiQ0FQVElPTiIpO24uaW5uZXJIVE1MPSJjPGJyPmM8YnI+Yzxicj5jIixuLnN0eWxlLnBhZGRpbmc9MCxuLnN0eWxlLm1hcmdpbj0wLGUuaW5zZXJ0QmVmb3JlKG4sdCksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKSxnPWUub2Zmc2V0SGVpZ2h0PDIqZS5sYXN0Q2hpbGQub2Zmc2V0SGVpZ2h0LGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZSl9ZnVuY3Rpb24gYSgpe3JldHVybiB2b2lkIDA9PT1nJiZsKCksZ31mdW5jdGlvbiB1KGUpe3ZhciB0PXZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIG0/bTptPSJvYmplY3QiPT10eXBlb2YgSW50bD9uZXcgSW50bC5Db2xsYXRvcihlLHQpLmNvbXBhcmU6ImZ1bmN0aW9uIj09dHlwZW9mIFN0cmluZy5wcm90b3R5cGUubG9jYWxlQ29tcGFyZT9mdW5jdGlvbihlLHQpe3JldHVybihlKyIiKS5sb2NhbGVDb21wYXJlKHQpfTpmdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD8wOmU+dD8tMToxfX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sY2FuY2VsQW5pbWF0aW9uRnJhbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0saXNUb3VjaFN1cHBvcnRlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSxpc1dlYkNvbXBvbmVudFN1cHBvcnRlZE5hdGl2ZWx5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc319LGhhc0NhcHRpb25Qcm9ibGVtOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19LGdldENvbXBhcmlzb25GdW5jdGlvbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTtmb3IodmFyIGM9MCxoPVsibXMiLCJtb3oiLCJ3ZWJraXQiLCJvIl0sZD13aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLGY9d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lLHA9MDtwPGgubGVuZ3RoJiYhZDsrK3ApZD13aW5kb3dbaFtwXSsiUmVxdWVzdEFuaW1hdGlvbkZyYW1lIl0sZj13aW5kb3dbaFtwXSsiQ2FuY2VsQW5pbWF0aW9uRnJhbWUiXXx8d2luZG93W2hbcF0rIkNhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSJdO2R8fChkPWZ1bmN0aW9uKGUpe3ZhciB0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLG49TWF0aC5tYXgoMCwxNi0odC1jKSksbz13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2UodCtuKX0sbik7cmV0dXJuIGM9dCtuLG99KSxmfHwoZj1mdW5jdGlvbihlKXtjbGVhclRpbWVvdXQoZSl9KTt2YXIgZyxtfSx7fV0sNDk6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19ZnVuY3Rpb24gcihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9dGhpcyxzPWFyZ3VtZW50cyxsPURhdGUubm93KCksYT0hMTtyLmxhc3RDYWxsVGhyb3R0bGVkPSEwLG98fChvPWwsYT0hMCk7dmFyIHU9bi0obC1vKTtyZXR1cm4gYT8oci5sYXN0Q2FsbFRocm90dGxlZD0hMSxlLmFwcGx5KHRoaXMscykpOihpJiZjbGVhclRpbWVvdXQoaSksaT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5sYXN0Q2FsbFRocm90dGxlZD0hMSxlLmFwcGx5KHQscyksbz0wLGk9dm9pZCAwfSx1KSkscn12YXIgbj12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjIwMCxvPTAscj17bGFzdENhbGxUaHJvdHRsZWQ6ITB9LGk9bnVsbDtyZXR1cm4gdH1mdW5jdGlvbiBpKGUpe2Z1bmN0aW9uIHQoKXtsPWl9ZnVuY3Rpb24gbigpe3JldHVybiBsPyhsLS0sZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpOnMuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBvPXZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MjAwLGk9dm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxMCxzPXIoZSxvKSxsPWk7cmV0dXJuIG4uY2xlYXJIaXRzPXQsbn1mdW5jdGlvbiBzKGUpe2Z1bmN0aW9uIHQoKXt2YXIgdD10aGlzLGk9YXJndW1lbnRzO3JldHVybiByJiZjbGVhclRpbWVvdXQocikscj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bj1lLmFwcGx5KHQsaSl9LG8pLG59dmFyIG4sbz12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjIwMCxyPW51bGw7cmV0dXJuIHR9ZnVuY3Rpb24gbCgpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgbj1lLG89blswXSxyPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4sMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGQocixmdW5jdGlvbihlLHQpe3JldHVybiB0KGUpfSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGEoZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBuPVtdLG89MDtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKW5bb109YXJndW1lbnRzW29dO3JldHVybiBlLmFwcGx5KHRoaXMsdC5jb25jYXQobikpfX1mdW5jdGlvbiB1KGUpe2Z1bmN0aW9uIHQobyl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciByPVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaV09YXJndW1lbnRzW2ldO3ZhciBzLGw9by5jb25jYXQocik7cmV0dXJuIHM9bC5sZW5ndGg+PW4/ZS5hcHBseSh0aGlzLGwpOnQobCl9fXZhciBuPWUubGVuZ3RoO3JldHVybiB0KFtdKX1mdW5jdGlvbiBjKGUpe2Z1bmN0aW9uIHQobyl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciByPVtdLGk9MDtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaV09YXJndW1lbnRzW2ldO3ZhciBzLGw9by5jb25jYXQoci5yZXZlcnNlKCkpO3JldHVybiBzPWwubGVuZ3RoPj1uP2UuYXBwbHkodGhpcyxsKTp0KGwpfX12YXIgbj1lLmxlbmd0aDtyZXR1cm4gdChbXSl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7cHJveHk6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sdGhyb3R0bGU6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0sdGhyb3R0bGVBZnRlckhpdHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0sZGVib3VuY2U6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0scGlwZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9fSxwYXJ0aWFsOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19LGN1cnJ5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19LGN1cnJ5UmlnaHQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBjfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGgsZD0oaD1lKCJhcnJheSIpLGgmJmguX19lc01vZHVsZSYmaHx8eyJkZWZhdWx0IjpofSkuYXJyYXlSZWR1Y2V9LHthcnJheTo0Mn1dLDUwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7c3dpdGNoKHR5cGVvZiBlKXtjYXNlInN0cmluZyI6Y2FzZSJudW1iZXIiOnJldHVybiBlKyIiO2Nhc2Uib2JqZWN0IjpyZXR1cm4gbnVsbD09PWU/IiI6ZS50b1N0cmluZygpO2Nhc2UidW5kZWZpbmVkIjpyZXR1cm4iIjtkZWZhdWx0OnJldHVybiBlLnRvU3RyaW5nKCl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se3N0cmluZ2lmeTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KX0se31dLDUxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuIm51bWJlciI9PXQ/IWlzTmFOKGUpJiZpc0Zpbml0ZShlKToic3RyaW5nIj09dD9lLmxlbmd0aD8xPT1lLmxlbmd0aD8vXGQvLnRlc3QoZSk6L15ccypbKy1dP1xzKig/Oig/OlxkKyg/OlwuXGQrKT8oPzplWystXT9cZCspPyl8KD86MHhbYS1mXGRdKykpXHMqJC9pLnRlc3QoZSk6ITE6Im9iamVjdCI9PXQ/ISghZXx8Im51bWJlciIhPXR5cGVvZiBlLnZhbHVlT2YoKXx8ZSBpbnN0YW5jZW9mIERhdGUpOiExfWZ1bmN0aW9uIHIoZSx0LG4pe3ZhciBvPS0xO2ZvcigiZnVuY3Rpb24iPT10eXBlb2YgdD8obj10LHQ9ZSk6bz1lLTE7KytvPD10JiZuKG8pIT09ITE7KTt9ZnVuY3Rpb24gaShlLHQsbil7dmFyIG89ZSsxO2ZvcigiZnVuY3Rpb24iPT10eXBlb2YgdCYmKG49dCx0PTApOy0tbz49dCYmbihvKSE9PSExOyk7fWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4gdD1wYXJzZUludCh0LnRvU3RyaW5nKCkucmVwbGFjZSgiJSIsIiIpLDEwKSx0PXBhcnNlSW50KGUqdC8xMDApfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se2lzTnVtZXJpYzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxyYW5nZUVhY2g6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0scmFuZ2VFYWNoUmV2ZXJzZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSx2YWx1ZUFjY29yZGluZ1BlcmNlbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSl9LHt9XSw1MjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3ZhciB0O3JldHVybiBBcnJheS5pc0FycmF5KGUpP3Q9W106KHQ9e30scChlLGZ1bmN0aW9uKGUsbil7ZSYmIm9iamVjdCI9PXR5cGVvZiBlJiYhQXJyYXkuaXNBcnJheShlKT90W25dPW8oZSk6QXJyYXkuaXNBcnJheShlKT9lLmxlbmd0aCYmIm9iamVjdCI9PXR5cGVvZiBlWzBdJiYhQXJyYXkuaXNBcnJheShlWzBdKT90W25dPVtvKGVbMF0pXTp0W25dPVtdOnRbbl09bnVsbH0pKSx0fWZ1bmN0aW9uIHIoZSx0KXtyZXR1cm4gdC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCxlLnByb3RvdHlwZT1uZXcgdCxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGV9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBwKHQsZnVuY3Rpb24odCxuKXtlW25dPXR9KSxlfWZ1bmN0aW9uIHMoZSx0KXtwKHQsZnVuY3Rpb24obixvKXt0W29dJiYib2JqZWN0Ij09dHlwZW9mIHRbb10/KGVbb118fChBcnJheS5pc0FycmF5KHRbb10pP2Vbb109W106IltvYmplY3QgRGF0ZV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHRbb10pP2Vbb109dFtvXTplW29dPXt9KSxzKGVbb10sdFtvXSkpOmVbb109dFtvXX0pfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP0pTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpOmV9ZnVuY3Rpb24gYShlKXt2YXIgdD17fTtyZXR1cm4gcChlLGZ1bmN0aW9uKGUsbil7dFtuXT1lfSksdH1mdW5jdGlvbiB1KGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3JldHVybiBlLk1JWElOU3x8KGUuTUlYSU5TPVtdKSx3KHQsZnVuY3Rpb24odCl7ZS5NSVhJTlMucHVzaCh0Lk1JWElOX05BTUUpLHAodCxmdW5jdGlvbih0LG4pe2lmKHZvaWQgMCE9PWUucHJvdG90eXBlW25dKXRocm93IG5ldyBFcnJvcigiTWl4aW4gY29uZmxpY3QuIFByb3BlcnR5ICciK24rIicgYWxyZWFkeSBleGlzdCBhbmQgY2Fubm90IGJlIG92ZXJ3cml0dGVuLiIpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KWUucHJvdG90eXBlW25dPXQ7ZWxzZXt2YXIgbz1mdW5jdGlvbihlLHQpe2U9Il8iK2U7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuKEFycmF5LmlzQXJyYXkoZSl8fGgoZSkpJiYoZT1sKGUpKSxlfTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09dGhpc1tlXSYmKHRoaXNbZV09bih0KSksdGhpc1tlXX19LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9Il8iK2UsZnVuY3Rpb24odCl7dGhpc1tlXT10fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLG4se2dldDpvKG4sdCksc2V0OnIobiksY29uZmlndXJhYmxlOiEwfSl9fSl9KSxlfWZ1bmN0aW9uIGMoZSx0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk9PT1KU09OLnN0cmluZ2lmeSh0KX1mdW5jdGlvbiBoKGUpe3JldHVybiJbb2JqZWN0IE9iamVjdF0iPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gZChlKXt2YXIgdDtpZigib2JqZWN0Ij09dHlwZW9mIGUuX19wcm90b19fKXQ9ZS5fX3Byb3RvX187ZWxzZXt2YXIgbixvPWUuY29uc3RydWN0b3I7ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJihuPW8sZGVsZXRlIGUuY29uc3RydWN0b3ImJihvPWUuY29uc3RydWN0b3IsZS5jb25zdHJ1Y3Rvcj1uKSksdD1vP28ucHJvdG90eXBlOm51bGx9cmV0dXJuIHR9ZnVuY3Rpb24gZihlLHQsbixvKXtvLnZhbHVlPW4sby53cml0YWJsZT1vLndyaXRhYmxlIT09ITEsby5lbnVtZXJhYmxlPW8uZW51bWVyYWJsZSE9PSExLG8uY29uZmlndXJhYmxlPW8uY29uZmlndXJhYmxlIT09ITEsT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxvKX1mdW5jdGlvbiBwKGUsdCl7Zm9yKHZhciBuIGluIGUpaWYoKCFlLmhhc093blByb3BlcnR5fHxlLmhhc093blByb3BlcnR5JiZlLmhhc093blByb3BlcnR5KG4pKSYmdChlW25dLG4sZSk9PT0hMSlicmVhaztyZXR1cm4gZX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49dC5zcGxpdCgiLiIpLG89ZTtyZXR1cm4gcChuLGZ1bmN0aW9uKGUpe3JldHVybiBvPW9bZV0sdm9pZCAwPT09bz8obz12b2lkIDAsITEpOnZvaWQgMH0pLG99T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7ZHVja1NjaGVtYTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxpbmhlcml0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LGV4dGVuZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGl9fSxkZWVwRXh0ZW5kOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc319LGRlZXBDbG9uZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9fSxjbG9uZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9fSxtaXhpbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV9fSxpc09iamVjdEVxdWFsczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGN9fSxpc09iamVjdDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGh9fSxnZXRQcm90b3R5cGVPZjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGR9fSxkZWZpbmVHZXR0ZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBmfX0sb2JqZWN0RWFjaDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHB9fSxnZXRQcm9wZXJ0eTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGd9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbSx3PShtPWUoImFycmF5IiksbSYmbS5fX2VzTW9kdWxlJiZtfHx7ImRlZmF1bHQiOm19KS5hcnJheUVhY2h9LHthcnJheTo0Mn1dLDUzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0KXtmdW5jdGlvbiBuKCl7fWkobixlKTtmb3IodmFyIG89MCxyPXQubGVuZ3RoO3I+bztvKyspbi5wcm90b3R5cGVbdFtvXV09dm9pZCAwO3JldHVybiBufU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se2NvbHVtbkZhY3Rvcnk6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaT0ocj1lKCJvYmplY3QiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLmluaGVyaXR9LHtvYmplY3Q6NTJ9XSw1NDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUpe3JldHVybiBlWzBdLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHIoMSl9ZnVuY3Rpb24gcihlLHQpe3ZhciBuPSEwO3JldHVybiBwKHQubGVuZ3RoLTEsZnVuY3Rpb24obyl7cmV0dXJuIGUuY2hhckF0KG8pIT09dC5jaGFyQXQobyk/KG49ITEsITEpOnZvaWQgMH0pLG59ZnVuY3Rpb24gaShlLHQpe3ZhciBuPSEwLG89dC5sZW5ndGgtMSxyPWUubGVuZ3RoLTE7cmV0dXJuIHAobyxmdW5jdGlvbihpKXt2YXIgcz1yLWksbD1vLWk7cmV0dXJuIGUuY2hhckF0KHMpIT09dC5jaGFyQXQobCk/KG49ITEsITEpOnZvaWQgMH0pLG59ZnVuY3Rpb24gcygpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtmb3IodmFyIG49W10sbz1lLmxlbmd0aDtvLS07KXt2YXIgcj1mKGVbb10pLnRvTG93ZXJDYXNlKCk7LTE9PT1uLmluZGV4T2YocikmJm4ucHVzaChyKX1yZXR1cm4gMT09PW4ubGVuZ3RofWZ1bmN0aW9uIGwoKXtmdW5jdGlvbiBlKCl7cmV0dXJuIE1hdGguZmxvb3IoNjU1MzYqKDErTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSl9cmV0dXJuIGUoKStlKCkrZSgpK2UoKX1mdW5jdGlvbiBhKGUpe3JldHVybi9eKFswLTldWzAtOV0/XCUkKXwoXjEwMFwlJCkvLnRlc3QoZSl9ZnVuY3Rpb24gdShlKXt2YXIgdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybihlKyIiKS5yZXBsYWNlKC8oPzpcXCk/XFsoW15cW1xdXSspXS9nLGZ1bmN0aW9uKGUsbil7cmV0dXJuIlxcIj09PWUuY2hhckF0KDApP2Uuc3Vic3RyKDEsZS5sZW5ndGgtMSk6dm9pZCAwPT09dFtuXT8iIjp0W25dfSl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPXZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06IiAiO2lmKGUrPSIiLGUubGVuZ3RoPj10KXJldHVybiBlO249U3RyaW5nKG4pO3ZhciBvPW4ubGVuZ3RoO298fChuPSIgIik7dmFyIHI9dC1lLmxlbmd0aCxpPU1hdGguY2VpbChyL24ubGVuZ3RoKSxzPSIiO3JldHVybiBwKGksZnVuY3Rpb24oZSl7cys9bn0pLHM9cy5zbGljZSgwLHIpLHMrZX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHt0b1VwcGVyQ2FzZUZpcnN0OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LHN0YXJ0c1dpdGg6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0sZW5kc1dpdGg6e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0sZXF1YWxzSWdub3JlQ2FzZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHN9fSxyYW5kb21TdHJpbmc6e2dldDpmdW5jdGlvbigpe3JldHVybiBsfX0saXNQZXJjZW50VmFsdWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBhfX0sc3Vic3RpdHV0ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV9fSxwYWRTdGFydDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGN9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgaCxkLGY9KGg9ZSgibWl4ZWQiKSxoJiZoLl9fZXNNb2R1bGUmJmh8fHsiZGVmYXVsdCI6aH0pLnN0cmluZ2lmeSxwPShkPWUoIm51bWJlciIpLGQmJmQuX19lc01vZHVsZSYmZHx8eyJkZWZhdWx0IjpkfSkucmFuZ2VFYWNofSx7bWl4ZWQ6NTAsbnVtYmVyOjUxfV0sNTU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gMzI9PWV8fGU+PTQ4JiY1Nz49ZXx8ZT49OTYmJjExMT49ZXx8ZT49MTg2JiYxOTI+PWV8fGU+PTIxOSYmMjIyPj1lfHxlPj0yMjZ8fGU+PTY1JiY5MD49ZX1mdW5jdGlvbiByKGUpe3ZhciB0PVt1LkFSUk9XX0RPV04sdS5BUlJPV19VUCx1LkFSUk9XX0xFRlQsdS5BUlJPV19SSUdIVCx1LkhPTUUsdS5FTkQsdS5ERUxFVEUsdS5CQUNLU1BBQ0UsdS5GMSx1LkYyLHUuRjMsdS5GNCx1LkY1LHUuRjYsdS5GNyx1LkY4LHUuRjksdS5GMTAsdS5GMTEsdS5GMTIsdS5UQUIsdS5QQUdFX0RPV04sdS5QQUdFX1VQLHUuRU5URVIsdS5FU0NBUEUsdS5TSElGVCx1LkNBUFNfTE9DSyx1LkFMVF07cmV0dXJuLTEhPT10LmluZGV4T2YoZSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4tMSE9PVt1LkNPTlRST0xfTEVGVCwyMjQsdS5DT01NQU5EX0xFRlQsdS5DT01NQU5EX1JJR0hUXS5pbmRleE9mKGUpfWZ1bmN0aW9uIHMoZSx0KXt2YXIgbj10LnNwbGl0KCJ8Iiksbz0hMTtyZXR1cm4gYShuLGZ1bmN0aW9uKHQpe3JldHVybiBlPT09dVt0XT8obz0hMCwhMSk6dm9pZCAwfSksb31PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtLRVlfQ09ERVM6e2dldDpmdW5jdGlvbigpe3JldHVybiB1fX0saXNQcmludGFibGVDaGFyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LGlzTWV0YUtleTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxpc0N0cmxLZXk6e2dldDpmdW5jdGlvbigpe3JldHVybiBpfX0saXNLZXk6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGwsYT0obD1lKCJhcnJheSIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuYXJyYXlFYWNoLHU9e01PVVNFX0xFRlQ6MSxNT1VTRV9SSUdIVDozLE1PVVNFX01JRERMRToyLEJBQ0tTUEFDRTo4LENPTU1BOjE4OCxJTlNFUlQ6NDUsREVMRVRFOjQ2LEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsQ09OVFJPTF9MRUZUOjkxLENPTU1BTkRfTEVGVDoxNyxDT01NQU5EX1JJR0hUOjkzLEFMVDoxOCxIT01FOjM2LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsU1BBQ0U6MzIsU0hJRlQ6MTYsQ0FQU19MT0NLOjIwLFRBQjo5LEFSUk9XX1JJR0hUOjM5LEFSUk9XX0xFRlQ6MzcsQVJST1dfVVA6MzgsQVJST1dfRE9XTjo0MCxGMToxMTIsRjI6MTEzLEYzOjExNCxGNDoxMTUsRjU6MTE2LEY2OjExNyxGNzoxMTgsRjg6MTE5LEY5OjEyMCxGMTA6MTIxLEYxMToxMjIsRjEyOjEyMyxBOjY1LFg6ODgsQzo2NyxWOjg2fX0se2FycmF5OjQyfV0sNTY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7bG9jYWxIb29rczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGN9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscz0obz1lKCJicm93c2VyIiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KVsiZGVmYXVsdCJdLGw9KHI9ZSgiaGVscGVycy9hcnJheSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuYXJyYXlFYWNoLGE9KGk9ZSgiaGVscGVycy9vYmplY3QiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmRlZmluZUdldHRlcix1PSJsb2NhbEhvb2tzIixjPXtfbG9jYWxIb29rczpPYmplY3QuY3JlYXRlKG51bGwpLGFkZExvY2FsSG9vazpmdW5jdGlvbihlLHQpe3RoaXMuX2xvY2FsSG9va3NbZV18fCh0aGlzLl9sb2NhbEhvb2tzW2VdPVtdKSx0aGlzLl9sb2NhbEhvb2tzW2VdLnB1c2godCl9LHJ1bkxvY2FsSG9va3M6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07dmFyIG89dGhpczt0aGlzLl9sb2NhbEhvb2tzW2VdJiZsKHRoaXMuX2xvY2FsSG9va3NbZV0sZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwbHkobyx0KX0pfSxjbGVhckxvY2FsSG9va3M6ZnVuY3Rpb24oKXt0aGlzLl9sb2NhbEhvb2tzPXt9fX07YShjLCJNSVhJTl9OQU1FIix1LHt3cml0YWJsZTohMSxlbnVtZXJhYmxlOiExfSkscy51dGlscy5sb2NhbEhvb2tzPWN9LHticm93c2VyOjIzLCJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9vYmplY3QiOjUyfV0sNTc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbygpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIG51bGwhPT1lJiYhbihlKSYmKCJzdHJpbmciPT10eXBlb2YgZXx8Im51bWJlciI9PXR5cGVvZiBlKX1mdW5jdGlvbiB0KGUpe3JldHVybiBudWxsIT09ZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGUhPT1lfXZhciBvPXthcnJheU1hcDpbXSx3ZWFrTWFwOm5ldyBXZWFrTWFwfTtyZXR1cm57Z2V0OmZ1bmN0aW9uKG4pe3JldHVybiBlKG4pP28uYXJyYXlNYXBbbl06dChuKT9vLndlYWtNYXAuZ2V0KG4pOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKG4scil7aWYoZShuKSlvLmFycmF5TWFwW25dPXI7ZWxzZXtpZighdChuKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQga2V5IHR5cGUiKTtvLndlYWtNYXAuc2V0KG4scil9fSwiZGVsZXRlIjpmdW5jdGlvbihuKXtlKG4pP2RlbGV0ZSBvLmFycmF5TWFwW25dOnQobikmJm8ud2Vha01hcFsiZGVsZXRlIl0obil9fX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtNdWx0aU1hcDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KSx3aW5kb3cuTXVsdGlNYXA9b30se31dLDU4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0hvb2tzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaT1bImFmdGVyQ2VsbE1ldGFSZXNldCIsImFmdGVyQ2hhbmdlIiwiYWZ0ZXJDaGFuZ2VzT2JzZXJ2ZWQiLCJhZnRlckNvbnRleHRNZW51RGVmYXVsdE9wdGlvbnMiLCJhZnRlckNvbnRleHRNZW51SGlkZSIsImFmdGVyQ29udGV4dE1lbnVTaG93IiwiYWZ0ZXJDb3B5TGltaXQiLCJhZnRlckNyZWF0ZUNvbCIsImFmdGVyQ3JlYXRlUm93IiwiYWZ0ZXJEZXNlbGVjdCIsImFmdGVyRGVzdHJveSIsImFmdGVyRG9jdW1lbnRLZXlEb3duIiwiYWZ0ZXJHZXRDZWxsTWV0YSIsImFmdGVyR2V0Q29sSGVhZGVyIiwiYWZ0ZXJHZXRSb3dIZWFkZXIiLCJhZnRlckluaXQiLCJhZnRlckxvYWREYXRhIiwiYWZ0ZXJNb21lbnR1bVNjcm9sbCIsImFmdGVyT25DZWxsQ29ybmVyTW91c2VEb3duIiwiYWZ0ZXJPbkNlbGxNb3VzZURvd24iLCJhZnRlck9uQ2VsbE1vdXNlT3ZlciIsImFmdGVyUmVtb3ZlQ29sIiwiYWZ0ZXJSZW1vdmVSb3ciLCJhZnRlclJlbmRlciIsImJlZm9yZVJlbmRlcmVyIiwiYWZ0ZXJSZW5kZXJlciIsImFmdGVyU2Nyb2xsSG9yaXpvbnRhbGx5IiwiYWZ0ZXJTY3JvbGxWZXJ0aWNhbGx5IiwiYWZ0ZXJTZWxlY3Rpb24iLCJhZnRlclNlbGVjdGlvbkJ5UHJvcCIsImFmdGVyU2VsZWN0aW9uRW5kIiwiYWZ0ZXJTZWxlY3Rpb25FbmRCeVByb3AiLCJhZnRlclNldENlbGxNZXRhIiwiYWZ0ZXJVcGRhdGVTZXR0aW5ncyIsImFmdGVyVmFsaWRhdGUiLCJiZWZvcmVBdXRvZmlsbCIsImJlZm9yZUNlbGxBbGlnbm1lbnQiLCJiZWZvcmVDaGFuZ2UiLCJiZWZvcmVDaGFuZ2VSZW5kZXIiLCJiZWZvcmVEcmF3Qm9yZGVycyIsImJlZm9yZUdldENlbGxNZXRhIiwiYmVmb3JlSW5pdCIsImJlZm9yZUluaXRXYWxrb250YWJsZSIsImJlZm9yZUtleURvd24iLCJiZWZvcmVPbkNlbGxNb3VzZURvd24iLCJiZWZvcmVPbkNlbGxNb3VzZU92ZXIiLCJiZWZvcmVSZW1vdmVDb2wiLCJiZWZvcmVSZW1vdmVSb3ciLCJiZWZvcmVSZW5kZXIiLCJiZWZvcmVTZXRSYW5nZVN0YXJ0IiwiYmVmb3JlU2V0UmFuZ2VFbmQiLCJiZWZvcmVUb3VjaFNjcm9sbCIsImJlZm9yZVZhbGlkYXRlIiwiY29uc3RydWN0IiwiaW5pdCIsIm1vZGlmeUNvbCIsInVubW9kaWZ5Q29sIiwibW9kaWZ5Q29sSGVhZGVyIiwibW9kaWZ5Q29sV2lkdGgiLCJtb2RpZnlSb3ciLCJtb2RpZnlSb3dIZWFkZXIiLCJtb2RpZnlSb3dIZWlnaHQiLCJwZXJzaXN0ZW50U3RhdGVMb2FkIiwicGVyc2lzdGVudFN0YXRlUmVzZXQiLCJwZXJzaXN0ZW50U3RhdGVTYXZlIiwiYmVmb3JlQ29sdW1uU29ydCIsImFmdGVyQ29sdW1uU29ydCIsImFmdGVyQXV0b2ZpbGxBcHBseVZhbHVlcyIsIm1vZGlmeUNvcHlhYmxlUmFuZ2UiLCJiZWZvcmVDb2x1bW5Nb3ZlIiwiYWZ0ZXJDb2x1bW5Nb3ZlIiwiYmVmb3JlUm93TW92ZSIsImFmdGVyUm93TW92ZSIsImJlZm9yZUNvbHVtblJlc2l6ZSIsImFmdGVyQ29sdW1uUmVzaXplIiwiYmVmb3JlUm93UmVzaXplIiwiYWZ0ZXJSb3dSZXNpemUiLCJhZnRlckdldENvbHVtbkhlYWRlclJlbmRlcmVycyIsImFmdGVyR2V0Um93SGVhZGVyUmVuZGVyZXJzIiwiYmVmb3JlU3RyZXRjaGluZ0NvbHVtbldpZHRoIiwiYmVmb3JlRmlsdGVyIiwiYWZ0ZXJGaWx0ZXIiLCJtb2RpZnlDb2x1bW5IZWFkZXJIZWlnaHQiXSxzPShvPWUoImhlbHBlcnMvYXJyYXkiKSwKbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KS5hcnJheUVhY2gsbD0ocj1lKCJoZWxwZXJzL29iamVjdCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkub2JqZWN0RWFjaCxhPWZ1bmN0aW9uKCl7dGhpcy5nbG9iYWxCdWNrZXQ9dGhpcy5jcmVhdGVFbXB0eUJ1Y2tldCgpfTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoYSx7Y3JlYXRlRW1wdHlCdWNrZXQ6ZnVuY3Rpb24oKXt2YXIgZT1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBzKGksZnVuY3Rpb24odCl7cmV0dXJuIGVbdF09W119KSxlfSxnZXRCdWNrZXQ6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGw7cmV0dXJuIGU/KGUucGx1Z2luSG9va0J1Y2tldHx8KGUucGx1Z2luSG9va0J1Y2tldD10aGlzLmNyZWF0ZUVtcHR5QnVja2V0KCkpLGUucGx1Z2luSG9va0J1Y2tldCk6dGhpcy5nbG9iYWxCdWNrZXR9LGFkZDpmdW5jdGlvbihlLHQpe3ZhciBuPXZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxvPXRoaXM7aWYoQXJyYXkuaXNBcnJheSh0KSlzKHQsZnVuY3Rpb24odCl7cmV0dXJuIG8uYWRkKGUsdCxuKX0pO2Vsc2V7dmFyIHI9dGhpcy5nZXRCdWNrZXQobik7InVuZGVmaW5lZCI9PXR5cGVvZiByW2VdJiYodGhpcy5yZWdpc3RlcihlKSxyW2VdPVtdKSx0LnNraXA9ITEsLTE9PT1yW2VdLmluZGV4T2YodCkmJnJbZV0ucHVzaCh0KX1yZXR1cm4gdGhpc30sb25jZTpmdW5jdGlvbihlLHQpe3ZhciBuPXZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxvPXRoaXM7QXJyYXkuaXNBcnJheSh0KT9zKHQsZnVuY3Rpb24odCl7cmV0dXJuIG8ub25jZShlLHQsbil9KToodC5ydW5PbmNlPSEwLHRoaXMuYWRkKGUsdCxuKSl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06bnVsbCxvPXRoaXMuZ2V0QnVja2V0KG4pO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2Ygb1tlXSYmb1tlXS5pbmRleE9mKHQpPj0wPyh0LnNraXA9ITAsITApOiExfSxoYXM6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpudWxsLG49dGhpcy5nZXRCdWNrZXQodCk7cmV0dXJuISh2b2lkIDA9PT1uW2VdfHwhbltlXS5sZW5ndGgpfSxydW46ZnVuY3Rpb24oZSx0LG4sbyxyLGkscyxsKXt2YXIgYT10aGlzLmdsb2JhbEJ1Y2tldFt0XSx1PS0xLGM9YT9hLmxlbmd0aDowO2lmKGMpZm9yKDsrK3U8YzspaWYoYVt1XSYmIWFbdV0uc2tpcCl7dmFyIGg9YVt1XS5jYWxsKGUsbixvLHIsaSxzLGwpO3ZvaWQgMCE9PWgmJihuPWgpLGFbdV0mJmFbdV0ucnVuT25jZSYmdGhpcy5yZW1vdmUodCxhW3VdKX12YXIgZD10aGlzLmdldEJ1Y2tldChlKVt0XSxmPS0xLHA9ZD9kLmxlbmd0aDowO2lmKHApZm9yKDsrK2Y8cDspaWYoZFtmXSYmIWRbZl0uc2tpcCl7dmFyIGc9ZFtmXS5jYWxsKGUsbixvLHIsaSxzLGwpO3ZvaWQgMCE9PWcmJihuPWcpLGRbZl0mJmRbZl0ucnVuT25jZSYmdGhpcy5yZW1vdmUodCxkW2ZdLGUpfXJldHVybiBufSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO2wodGhpcy5nZXRCdWNrZXQoZSksZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuW3RdLmxlbmd0aD0wfSl9LHJlZ2lzdGVyOmZ1bmN0aW9uKGUpe3RoaXMuaXNSZWdpc3RlcmVkKGUpfHxpLnB1c2goZSl9LGRlcmVnaXN0ZXI6ZnVuY3Rpb24oZSl7dGhpcy5pc1JlZ2lzdGVyZWQoZSkmJmkuc3BsaWNlKGkuaW5kZXhPZihlKSwxKX0saXNSZWdpc3RlcmVkOmZ1bmN0aW9uKGUpe3JldHVybiBpLmluZGV4T2YoZSk+PTB9LGdldFJlZ2lzdGVyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LHt9KX0seyJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9vYmplY3QiOjUyfV0sNTk6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlLHQpe2U9ZChlKSxjLnBsdWdpbnNbZV09dCxjLmhvb2tzLmFkZCgiY29uc3RydWN0IixmdW5jdGlvbigpe3ZhciBuO2YuaGFzKHRoaXMpfHxmLnNldCh0aGlzLHt9KSxuPWYuZ2V0KHRoaXMpLG5bZV18fChuW2VdPW5ldyB0KHRoaXMpKX0pLGMuaG9va3MuYWRkKCJhZnRlckRlc3Ryb3kiLGZ1bmN0aW9uKCl7aWYoZi5oYXModGhpcykpe3ZhciBlPWYuZ2V0KHRoaXMpO2goZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXN0cm95KCl9KSxmWyJkZWxldGUiXSh0aGlzKX19KX1mdW5jdGlvbiByKGUsdCl7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IEVycm9yKCdPbmx5IHN0cmluZ3MgY2FuIGJlIHBhc3NlZCBhcyAicGx1Z2luIiBwYXJhbWV0ZXInKTt2YXIgbj1kKHQpO2lmKGYuaGFzKGUpJiZmLmdldChlKVtuXSlyZXR1cm4gZi5nZXQoZSlbbl19ZnVuY3Rpb24gaShlKXtyZXR1cm4gZi5oYXMoZSk/T2JqZWN0LmtleXMoZi5nZXQoZSkpOltdfWZ1bmN0aW9uIHMoZSx0KXt2YXIgbj1udWxsO3JldHVybiBmLmhhcyhlKSYmaChmLmdldChlKSxmdW5jdGlvbihlLG8pe2U9PT10JiYobj1vKX0pLG59T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7cmVnaXN0ZXJQbHVnaW46e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sZ2V0UGx1Z2luOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LGdldFJlZ2lzdHJlZFBsdWdpbk5hbWVzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LGdldFBsdWdpbk5hbWU6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGwsYSx1LGM9KGw9ZSgiYnJvd3NlciIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSlbImRlZmF1bHQiXSxoPShhPWUoImhlbHBlcnMvb2JqZWN0IiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5vYmplY3RFYWNoLGQ9KHU9ZSgiaGVscGVycy9zdHJpbmciKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLnRvVXBwZXJDYXNlRmlyc3QsZj1uZXcgV2Vha01hcH0se2Jyb3dzZXI6MjMsImhlbHBlcnMvb2JqZWN0Ijo1MiwiaGVscGVycy9zdHJpbmciOjU0fV0sNjA6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7ImRlZmF1bHQiOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGw9KG89ZSgiYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxhPShyPWUoImhlbHBlcnMvb2JqZWN0IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSx1PWEuZGVmaW5lR2V0dGVyLGM9YS5vYmplY3RFYWNoLGg9KGk9ZSgiaGVscGVycy9hcnJheSIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuYXJyYXlFYWNoLGQ9KHM9ZSgicGx1Z2lucyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksZj1kLmdldFJlZ2lzdHJlZFBsdWdpbk5hbWVzLHA9ZC5nZXRQbHVnaW5OYW1lLGc9bmV3IFdlYWtNYXAsbT1udWxsLHc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt1KHRoaXMsImhvdCIsZSx7d3JpdGFibGU6ITF9KSxnLnNldCh0aGlzLHtob29rczp7fX0pLG09bnVsbCx0aGlzLnBsdWdpbk5hbWU9bnVsbCx0aGlzLnBsdWdpbnNJbml0aWFsaXplZENhbGxiYWNrcz1bXSx0aGlzLmlzUGx1Z2luc1JlYWR5PSExLHRoaXMuZW5hYmxlZD0hMSx0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuaG90LmFkZEhvb2soImFmdGVyUGx1Z2luc0luaXRpYWxpemVkIixmdW5jdGlvbigpe3JldHVybiB0Lm9uQWZ0ZXJQbHVnaW5zSW5pdGlhbGl6ZWQoKX0pLHRoaXMuaG90LmFkZEhvb2soImFmdGVyVXBkYXRlU2V0dGluZ3MiLGZ1bmN0aW9uKCl7cmV0dXJuIHQub25VcGRhdGVTZXR0aW5ncygpfSksdGhpcy5ob3QuYWRkSG9vaygiYmVmb3JlSW5pdCIsZnVuY3Rpb24oKXtyZXR1cm4gdC5pbml0KCl9KX07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKHcse2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnBsdWdpbk5hbWU9cCh0aGlzLmhvdCx0aGlzKSx0aGlzLmlzRW5hYmxlZCYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5lbmFibGVQbHVnaW4oKSxtfHwobT1mKHRoaXMuaG90KSksbS5pbmRleE9mKHRoaXMucGx1Z2luTmFtZSk+PTAmJm0uc3BsaWNlKG0uaW5kZXhPZih0aGlzLnBsdWdpbk5hbWUpLDEpLG0ubGVuZ3RofHx0aGlzLmhvdC5ydW5Ib29rcygiYWZ0ZXJQbHVnaW5zSW5pdGlhbGl6ZWQiKSx0aGlzLmluaXRpYWxpemVkPSEwfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITB9LGRpc2FibGVQbHVnaW46ZnVuY3Rpb24oKXt0aGlzLmV2ZW50TWFuYWdlciYmdGhpcy5ldmVudE1hbmFnZXIuY2xlYXIoKSx0aGlzLmNsZWFySG9va3MoKSx0aGlzLmVuYWJsZWQ9ITF9LGFkZEhvb2s6ZnVuY3Rpb24oZSx0KXt2YXIgbj1nLmdldCh0aGlzKS5ob29rc1tlXT1nLmdldCh0aGlzKS5ob29rc1tlXXx8W107dGhpcy5ob3QuYWRkSG9vayhlLHQpLG4ucHVzaCh0KSxnLmdldCh0aGlzKS5ob29rc1tlXT1ufSxyZW1vdmVIb29rczpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2goZy5nZXQodGhpcykuaG9va3NbZV18fFtdLGZ1bmN0aW9uKG4pe3QuaG90LnJlbW92ZUhvb2soZSxuKX0pfSxjbGVhckhvb2tzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWcuZ2V0KHRoaXMpLmhvb2tzO2ModCxmdW5jdGlvbih0LG4pe3JldHVybiBlLnJlbW92ZUhvb2tzKG4pfSksdC5sZW5ndGg9MH0sY2FsbE9uUGx1Z2luc1JlYWR5OmZ1bmN0aW9uKGUpe3RoaXMuaXNQbHVnaW5zUmVhZHk/ZSgpOnRoaXMucGx1Z2luc0luaXRpYWxpemVkQ2FsbGJhY2tzLnB1c2goZSl9LG9uQWZ0ZXJQbHVnaW5zSW5pdGlhbGl6ZWQ6ZnVuY3Rpb24oKXtoKHRoaXMucGx1Z2luc0luaXRpYWxpemVkQ2FsbGJhY2tzLGZ1bmN0aW9uKGUpe3JldHVybiBlKCl9KSx0aGlzLnBsdWdpbnNJbml0aWFsaXplZENhbGxiYWNrcy5sZW5ndGg9MCx0aGlzLmlzUGx1Z2luc1JlYWR5PSEwfSxvblVwZGF0ZVNldHRpbmdzOmZ1bmN0aW9uKCl7dGhpcy5pc0VuYWJsZWQmJih0aGlzLmVuYWJsZWQmJiF0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmRpc2FibGVQbHVnaW4oKSwhdGhpcy5lbmFibGVkJiZ0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmVuYWJsZVBsdWdpbigpLHRoaXMuZW5hYmxlZCYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy51cGRhdGVQbHVnaW4oKSl9LHVwZGF0ZVBsdWdpbjpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5ldmVudE1hbmFnZXImJnRoaXMuZXZlbnRNYW5hZ2VyLmRlc3Ryb3koKSx0aGlzLmNsZWFySG9va3MoKSxjKHRoaXMsZnVuY3Rpb24odCxuKXsiaG90IiE9PW4mJihlW25dPW51bGwpfSksZGVsZXRlIHRoaXMuaG90fX0se30pO3ZhciB2PXc7bC5wbHVnaW5zLkJhc2VQbHVnaW49d30se2Jyb3dzZXI6MjMsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL29iamVjdCI6NTIscGx1Z2luczo1OX1dLDYxOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0F1dG9Db2x1bW5TaXplOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGwsYSx1LGMsaCxkLGYscD0obz1lKCJfYmFzZSIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxnPShyPWUoImhlbHBlcnMvYXJyYXkiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLG09Zy5hcnJheUVhY2gsdz1nLmFycmF5RmlsdGVyLHY9KGk9ZSgiaGVscGVycy9mZWF0dXJlIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSx5PXYuY2FuY2VsQW5pbWF0aW9uRnJhbWUsYj12LnJlcXVlc3RBbmltYXRpb25GcmFtZSxDPShzPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLmlzVmlzaWJsZSxfPShsPWUoInV0aWxzL2dob3N0VGFibGUiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLkdob3N0VGFibGUsUj0oYT1lKCJoZWxwZXJzL29iamVjdCIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSksUz1SLmlzT2JqZWN0LEU9KFIub2JqZWN0RWFjaCx1PWUoImhlbHBlcnMvbnVtYmVyIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KSxUPUUudmFsdWVBY2NvcmRpbmdQZXJjZW50LE09RS5yYW5nZUVhY2gsTz0oYz1lKCJwbHVnaW5zIiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KS5yZWdpc3RlclBsdWdpbixrPShoPWUoInV0aWxzL3NhbXBsZXNHZW5lcmF0b3IiKSxoJiZoLl9fZXNNb2R1bGUmJmh8fHsiZGVmYXVsdCI6aH0pLlNhbXBsZXNHZW5lcmF0b3IsSD0oZD1lKCJoZWxwZXJzL3N0cmluZyIpLGQmJmQuX19lc01vZHVsZSYmZHx8eyJkZWZhdWx0IjpkfSkuaXNQZXJjZW50VmFsdWUsRD0oZj1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2FsY3VsYXRvci92aWV3cG9ydENvbHVtbnMiKSxmJiZmLl9fZXNNb2R1bGUmJmZ8fHsiZGVmYXVsdCI6Zn0pLldhbGtvbnRhYmxlVmlld3BvcnRDb2x1bW5zQ2FsY3VsYXRvcixBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoeCkuY2FsbCh0aGlzLGUpLHRoaXMud2lkdGhzPVtdLHRoaXMuZ2hvc3RUYWJsZT1uZXcgXyh0aGlzLmhvdCksdGhpcy5zYW1wbGVzR2VuZXJhdG9yPW5ldyBrKGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQuaG90LmdldERhdGFBdENlbGwoZSxuKX0pLHRoaXMuZmlyc3RDYWxjdWxhdGlvbj0hMCx0aGlzLmluUHJvZ3Jlc3M9ITEsdGhpcy5hZGRIb29rKCJiZWZvcmVDb2x1bW5SZXNpemUiLGZ1bmN0aW9uKGUsbixvKXtyZXR1cm4gdC5vbkJlZm9yZUNvbHVtblJlc2l6ZShlLG4sbyl9KX0seD1BOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhBLHtpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5hdXRvQ29sdW1uU2l6ZSE9PSExJiYhdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5jb2xXaWR0aHN9LGVuYWJsZVBsdWdpbjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMuZW5hYmxlZCl7dmFyIHQ9dGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5hdXRvQ29sdW1uU2l6ZSxuPXQmJnQuaGFzT3duUHJvcGVydHkoInNhbXBsaW5nUmF0aW8iKT90aGlzLmhvdC5nZXRTZXR0aW5ncygpLmF1dG9Db2x1bW5TaXplLnNhbXBsaW5nUmF0aW86dm9pZCAwO24mJiFpc05hTihuKSYmKHRoaXMuc2FtcGxlc0dlbmVyYXRvci5jdXN0b21TYW1wbGVDb3VudD1wYXJzZUludChuLDEwKSksdCYmbnVsbCE9dC51c2VIZWFkZXJzJiZ0aGlzLmdob3N0VGFibGUuc2V0U2V0dGluZygidXNlSGVhZGVycyIsdC51c2VIZWFkZXJzKSx0aGlzLmFkZEhvb2soImFmdGVyTG9hZERhdGEiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlckxvYWREYXRhKCl9KSx0aGlzLmFkZEhvb2soImJlZm9yZUNoYW5nZSIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25CZWZvcmVDaGFuZ2UodCl9KSx0aGlzLmFkZEhvb2soImJlZm9yZVJlbmRlciIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25CZWZvcmVSZW5kZXIodCl9KSx0aGlzLmFkZEhvb2soIm1vZGlmeUNvbFdpZHRoIixmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldENvbHVtbldpZHRoKG4sdCl9KSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyx4LnByb3RvdHlwZSwiZW5hYmxlUGx1Z2luIikuY2FsbCh0aGlzKX19LGRpc2FibGVQbHVnaW46ZnVuY3Rpb24oKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyx4LnByb3RvdHlwZSwiZGlzYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9LGNhbGN1bGF0ZUNvbHVtbnNXaWR0aDpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2Zyb206MCx0bzp0aGlzLmhvdC5jb3VudENvbHMoKS0xfSx0PXZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e2Zyb206MCx0bzp0aGlzLmhvdC5jb3VudFJvd3MoKS0xfSxuPXZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06ITEsbz10aGlzOyJudW1iZXIiPT10eXBlb2YgZSYmKGU9e2Zyb206ZSx0bzplfSksIm51bWJlciI9PXR5cGVvZiB0JiYodD17ZnJvbTp0LHRvOnR9KSxNKGUuZnJvbSxlLnRvLGZ1bmN0aW9uKGUpe2lmKG58fHZvaWQgMD09PW8ud2lkdGhzW2VdJiYhby5ob3QuX2dldENvbFdpZHRoRnJvbVNldHRpbmdzKGUpKXt2YXIgcj1vLnNhbXBsZXNHZW5lcmF0b3IuZ2VuZXJhdGVDb2x1bW5TYW1wbGVzKGUsdCk7ci5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uZ2hvc3RUYWJsZS5hZGRDb2x1bW4odCxlKX0pfX0pLHRoaXMuZ2hvc3RUYWJsZS5jb2x1bW5zLmxlbmd0aCYmKHRoaXMuZ2hvc3RUYWJsZS5nZXRXaWR0aHMoZnVuY3Rpb24oZSx0KXtyZXR1cm4gby53aWR0aHNbZV09dH0pLHRoaXMuZ2hvc3RUYWJsZS5jbGVhbigpKX0sY2FsY3VsYXRlQWxsQ29sdW1uc1dpZHRoOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7ZnJvbTowLHRvOnRoaXMuaG90LmNvdW50Um93cygpLTF9LHQ9dGhpcyxuPTAsbz10aGlzLmhvdC5jb3VudENvbHMoKS0xLHI9bnVsbDt0aGlzLmluUHJvZ3Jlc3M9ITA7dmFyIGk9ZnVuY3Rpb24oKXtyZXR1cm4gdC5ob3Q/KHQuY2FsY3VsYXRlQ29sdW1uc1dpZHRoKHtmcm9tOm4sdG86TWF0aC5taW4obit4LkNBTENVTEFUSU9OX1NURVAsbyl9LGUpLG49bit4LkNBTENVTEFUSU9OX1NURVArMSx2b2lkKG8+bj9yPWIoaSk6KHkociksdC5pblByb2dyZXNzPSExLHQuaG90LnZpZXcud3Qud3RPdmVybGF5cy5hZGp1c3RFbGVtZW50c1NpemUoITApLHQuaG90LnZpZXcud3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmdC5ob3Qudmlldy53dC53dE92ZXJsYXlzLmxlZnRPdmVybGF5LmNsb25lLmRyYXcoKSkpKTooeShyKSx2b2lkKHQuaW5Qcm9ncmVzcz0hMSkpfTt0aGlzLmZpcnN0Q2FsY3VsYXRpb24mJnRoaXMuZ2V0U3luY0NhbGN1bGF0aW9uTGltaXQoKSYmKHRoaXMuY2FsY3VsYXRlQ29sdW1uc1dpZHRoKHtmcm9tOjAsdG86dGhpcy5nZXRTeW5jQ2FsY3VsYXRpb25MaW1pdCgpfSxlKSx0aGlzLmZpcnN0Q2FsY3VsYXRpb249ITEsbj10aGlzLmdldFN5bmNDYWxjdWxhdGlvbkxpbWl0KCkrMSksbz5uP2koKTp0aGlzLmluUHJvZ3Jlc3M9ITF9LHJlY2FsY3VsYXRlQWxsQ29sdW1uc1dpZHRoOmZ1bmN0aW9uKCl7dGhpcy5ob3QudmlldyYmQyh0aGlzLmhvdC52aWV3Lnd0Lnd0VGFibGUuVEFCTEUpJiYodGhpcy5jbGVhckNhY2hlKCksdGhpcy5jYWxjdWxhdGVBbGxDb2x1bW5zV2lkdGgoKSl9LGdldFN5bmNDYWxjdWxhdGlvbkxpbWl0OmZ1bmN0aW9uKCl7dmFyIGU9eC5TWU5DX0NBTENVTEFUSU9OX0xJTUlULHQ9dGhpcy5ob3QuY291bnRDb2xzKCktMTtyZXR1cm4gUyh0aGlzLmhvdC5nZXRTZXR0aW5ncygpLmF1dG9Db2x1bW5TaXplKSYmKGU9dGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5hdXRvQ29sdW1uU2l6ZS5zeW5jTGltaXQsSChlKT9lPVQodCxlKTplPj49MCksTWF0aC5taW4oZSx0KX0sZ2V0Q29sdW1uV2lkdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzWzFdLG49dm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTohMCxvPXQ7cmV0dXJuIHZvaWQgMD09PW8mJihvPXRoaXMud2lkdGhzW2VdLG4mJiJudW1iZXIiPT10eXBlb2YgbyYmKG89TWF0aC5tYXgobyxELkRFRkFVTFRfV0lEVEgpKSksb30sZ2V0Rmlyc3RWaXNpYmxlQ29sdW1uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3Qudmlldy53dDtyZXR1cm4gZS53dFZpZXdwb3J0LmNvbHVtbnNWaXNpYmxlQ2FsY3VsYXRvcj9lLnd0VGFibGUuZ2V0Rmlyc3RWaXNpYmxlQ29sdW1uKCk6ZS53dFZpZXdwb3J0LmNvbHVtbnNSZW5kZXJDYWxjdWxhdG9yP2Uud3RUYWJsZS5nZXRGaXJzdFJlbmRlcmVkQ29sdW1uKCk6LTF9LGdldExhc3RWaXNpYmxlQ29sdW1uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3Qudmlldy53dDtyZXR1cm4gZS53dFZpZXdwb3J0LmNvbHVtbnNWaXNpYmxlQ2FsY3VsYXRvcj9lLnd0VGFibGUuZ2V0TGFzdFZpc2libGVDb2x1bW4oKTplLnd0Vmlld3BvcnQuY29sdW1uc1JlbmRlckNhbGN1bGF0b3I/ZS53dFRhYmxlLmdldExhc3RSZW5kZXJlZENvbHVtbigpOi0xfSxjbGVhckNhY2hlOmZ1bmN0aW9uKCl7dGhpcy53aWR0aHMubGVuZ3RoPTB9LGlzTmVlZFJlY2FsY3VsYXRlOmZ1bmN0aW9uKCl7cmV0dXJuISF3KHRoaXMud2lkdGhzLGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lfSkubGVuZ3RofSxvbkJlZm9yZVJlbmRlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LnJlbmRlckNhbGwsdD10aGlzLmhvdC5jb3VudFJvd3MoKTt0JiYodGhpcy5jYWxjdWxhdGVDb2x1bW5zV2lkdGgoe2Zyb206dGhpcy5nZXRGaXJzdFZpc2libGVDb2x1bW4oKSx0bzp0aGlzLmdldExhc3RWaXNpYmxlQ29sdW1uKCl9LHZvaWQgMCxlKSx0aGlzLmlzTmVlZFJlY2FsY3VsYXRlKCkmJiF0aGlzLmluUHJvZ3Jlc3MmJnRoaXMuY2FsY3VsYXRlQWxsQ29sdW1uc1dpZHRoKCkpfSxvbkFmdGVyTG9hZERhdGE6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaG90LnZpZXc/dGhpcy5yZWNhbGN1bGF0ZUFsbENvbHVtbnNXaWR0aCgpOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmhvdCYmZS5yZWNhbGN1bGF0ZUFsbENvbHVtbnNXaWR0aCgpfSwwKX0sb25CZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczttKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQud2lkdGhzW3QuaG90LnByb3BUb0NvbChlWzFdKV09dm9pZCAwfSl9LG9uQmVmb3JlQ29sdW1uUmVzaXplOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiYmKHRoaXMuY2FsY3VsYXRlQ29sdW1uc1dpZHRoKGUsdm9pZCAwLCEwKSx0PXRoaXMuZ2V0Q29sdW1uV2lkdGgoZSx2b2lkIDAsITEpKSx0fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5naG9zdFRhYmxlLmNsZWFuKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMseC5wcm90b3R5cGUsImRlc3Ryb3kiKS5jYWxsKHRoaXMpfX0se2dldCBDQUxDVUxBVElPTl9TVEVQKCl7cmV0dXJuIDUwfSxnZXQgU1lOQ19DQUxDVUxBVElPTl9MSU1JVCgpe3JldHVybiA1MH19LHApLE8oImF1dG9Db2x1bW5TaXplIixBKX0seyIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2FsY3VsYXRvci92aWV3cG9ydENvbHVtbnMiOjMsX2Jhc2U6NjAsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9mZWF0dXJlIjo0OCwiaGVscGVycy9udW1iZXIiOjUxLCJoZWxwZXJzL29iamVjdCI6NTIsImhlbHBlcnMvc3RyaW5nIjo1NCxwbHVnaW5zOjU5LCJ1dGlscy9naG9zdFRhYmxlIjoxMDIsInV0aWxzL3NhbXBsZXNHZW5lcmF0b3IiOjEwNH1dLDYyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0F1dG9Sb3dTaXplOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ga319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGwsYSx1LGMsaCxkLGY9KG89ZSgiX2Jhc2UiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0scD0ocj1lKCJoZWxwZXJzL2FycmF5IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSxnPShwLmFycmF5RWFjaCxwLmFycmF5RmlsdGVyKSxtPShpPWUoImhlbHBlcnMvZmVhdHVyZSIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSksdz1tLmNhbmNlbEFuaW1hdGlvbkZyYW1lLHY9bS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUseT0ocz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5pc1Zpc2libGUsYj0obD1lKCJ1dGlscy9naG9zdFRhYmxlIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5HaG9zdFRhYmxlLEM9KGE9ZSgiaGVscGVycy9vYmplY3QiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLF89Qy5pc09iamVjdCxSPShDLm9iamVjdEVhY2gsdT1lKCJoZWxwZXJzL251bWJlciIpLHUmJnUuX19lc01vZHVsZSYmdXx8eyJkZWZhdWx0Ijp1fSksUz1SLnZhbHVlQWNjb3JkaW5nUGVyY2VudCxFPVIucmFuZ2VFYWNoLFQ9KGM9ZSgicGx1Z2lucyIpLGMmJmMuX19lc01vZHVsZSYmY3x8eyJkZWZhdWx0IjpjfSkucmVnaXN0ZXJQbHVnaW4sTT0oaD1lKCJ1dGlscy9zYW1wbGVzR2VuZXJhdG9yIiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KS5TYW1wbGVzR2VuZXJhdG9yLE89KGQ9ZSgiaGVscGVycy9zdHJpbmciKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLmlzUGVyY2VudFZhbHVlLGs9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3RvcihIKS5jYWxsKHRoaXMsZSksdGhpcy5oZWlnaHRzPVtdLHRoaXMuZ2hvc3RUYWJsZT1uZXcgYih0aGlzLmhvdCksdGhpcy5zYW1wbGVzR2VuZXJhdG9yPW5ldyBNKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGU+PTA/dC5ob3QuZ2V0RGF0YUF0Q2VsbChlLG4pOi0xPT09ZT90LmhvdC5nZXRDb2xIZWFkZXIobik6bnVsbH0pLHRoaXMuZmlyc3RDYWxjdWxhdGlvbj0hMCx0aGlzLmluUHJvZ3Jlc3M9ITEsdGhpcy5hZGRIb29rKCJiZWZvcmVSb3dSZXNpemUiLGZ1bmN0aW9uKGUsbixvKXtyZXR1cm4gdC5vbkJlZm9yZVJvd1Jlc2l6ZShlLG4sbyl9KX0sSD1rOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhrLHtpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5hdXRvUm93U2l6ZT09PSEwfHxfKHRoaXMuaG90LmdldFNldHRpbmdzKCkuYXV0b1Jvd1NpemUpfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLmVuYWJsZWQpe3ZhciB0PXRoaXMuaG90LmdldFNldHRpbmdzKCkuYXV0b1Jvd1NpemUsbj10JiZ0Lmhhc093blByb3BlcnR5KCJzYW1wbGluZ1JhdGlvIik/dGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5hdXRvUm93U2l6ZS5zYW1wbGluZ1JhdGlvOnZvaWQgMDtuJiYhaXNOYU4obikmJih0aGlzLnNhbXBsZXNHZW5lcmF0b3IuY3VzdG9tU2FtcGxlQ291bnQ9cGFyc2VJbnQobiwxMCkpLHRoaXMuYWRkSG9vaygiYWZ0ZXJMb2FkRGF0YSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbkFmdGVyTG9hZERhdGEoKX0pLHRoaXMuYWRkSG9vaygiYmVmb3JlQ2hhbmdlIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbkJlZm9yZUNoYW5nZSh0KX0pLHRoaXMuYWRkSG9vaygiYmVmb3JlQ29sdW1uTW92ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWNhbGN1bGF0ZUFsbFJvd3NIZWlnaHQoKX0pLHRoaXMuYWRkSG9vaygiYmVmb3JlQ29sdW1uUmVzaXplIixmdW5jdGlvbigpe3JldHVybiBlLnJlY2FsY3VsYXRlQWxsUm93c0hlaWdodCgpfSksdGhpcy5hZGRIb29rKCJiZWZvcmVDb2x1bW5Tb3J0IixmdW5jdGlvbigpe3JldHVybiBlLmNsZWFyQ2FjaGUoKX0pLHRoaXMuYWRkSG9vaygiYmVmb3JlUmVuZGVyIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbkJlZm9yZVJlbmRlcih0KX0pLHRoaXMuYWRkSG9vaygiYmVmb3JlUm93TW92ZSIsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5vbkJlZm9yZVJvd01vdmUodCxuKX0pLHRoaXMuYWRkSG9vaygibW9kaWZ5Um93SGVpZ2h0IixmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldFJvd0hlaWdodChuLHQpfSksdGhpcy5hZGRIb29rKCJtb2RpZnlDb2x1bW5IZWFkZXJIZWlnaHQiLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZ2V0Q29sdW1uSGVhZGVySGVpZ2h0KCl9KSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxILnByb3RvdHlwZSwiZW5hYmxlUGx1Z2luIikuY2FsbCh0aGlzKX19LGRpc2FibGVQbHVnaW46ZnVuY3Rpb24oKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxILnByb3RvdHlwZSwiZGlzYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9LGNhbGN1bGF0ZVJvd3NIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOntmcm9tOjAsdG86dGhpcy5ob3QuY291bnRSb3dzKCktMX0sdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOntmcm9tOjAsdG86dGhpcy5ob3QuY291bnRDb2xzKCktMX0sbj12b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiExLG89dGhpcztpZigibnVtYmVyIj09dHlwZW9mIGUmJihlPXtmcm9tOmUsdG86ZX0pLCJudW1iZXIiPT10eXBlb2YgdCYmKHQ9e2Zyb206dCx0bzp0fSksbnVsbCE9PXRoaXMuaG90LmdldENvbEhlYWRlcigwKSl7dmFyIHI9dGhpcy5zYW1wbGVzR2VuZXJhdG9yLmdlbmVyYXRlUm93U2FtcGxlcygtMSx0KTt0aGlzLmdob3N0VGFibGUuYWRkQ29sdW1uSGVhZGVyc1JvdyhyLmdldCgtMSkpfUUoZS5mcm9tLGUudG8sZnVuY3Rpb24oZSl7aWYobnx8dm9pZCAwPT09by5oZWlnaHRzW2VdKXt2YXIgcj1vLnNhbXBsZXNHZW5lcmF0b3IuZ2VuZXJhdGVSb3dTYW1wbGVzKGUsdCk7ci5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uZ2hvc3RUYWJsZS5hZGRSb3codCxlKX0pfX0pLHRoaXMuZ2hvc3RUYWJsZS5yb3dzLmxlbmd0aCYmKHRoaXMuZ2hvc3RUYWJsZS5nZXRIZWlnaHRzKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8uaGVpZ2h0c1tlXT10fSksdGhpcy5naG9zdFRhYmxlLmNsZWFuKCkpfSxjYWxjdWxhdGVBbGxSb3dzSGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7ZnJvbTowLHRvOnRoaXMuaG90LmNvdW50Q29scygpLTF9LHQ9dGhpcyxuPTAsbz10aGlzLmhvdC5jb3VudFJvd3MoKS0xLHI9bnVsbDt0aGlzLmluUHJvZ3Jlc3M9ITA7dmFyIGk9ZnVuY3Rpb24oKXtyZXR1cm4gdC5ob3Q/KHQuY2FsY3VsYXRlUm93c0hlaWdodCh7ZnJvbTpuLHRvOk1hdGgubWluKG4rSC5DQUxDVUxBVElPTl9TVEVQLG8pfSxlKSxuPW4rSC5DQUxDVUxBVElPTl9TVEVQKzEsdm9pZChvPm4/cj12KGkpOih3KHIpLHQuaW5Qcm9ncmVzcz0hMSx0LmhvdC52aWV3Lnd0Lnd0T3ZlcmxheXMuYWRqdXN0RWxlbWVudHNTaXplKCEwKSx0LmhvdC52aWV3Lnd0Lnd0T3ZlcmxheXMubGVmdE92ZXJsYXkubmVlZEZ1bGxSZW5kZXImJnQuaG90LnZpZXcud3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5jbG9uZS5kcmF3KCkpKSk6KHcociksdm9pZCh0LmluUHJvZ3Jlc3M9ITEpKX07dGhpcy5maXJzdENhbGN1bGF0aW9uJiZ0aGlzLmdldFN5bmNDYWxjdWxhdGlvbkxpbWl0KCkmJih0aGlzLmNhbGN1bGF0ZVJvd3NIZWlnaHQoe2Zyb206MCx0bzp0aGlzLmdldFN5bmNDYWxjdWxhdGlvbkxpbWl0KCl9LGUpLHRoaXMuZmlyc3RDYWxjdWxhdGlvbj0hMSxuPXRoaXMuZ2V0U3luY0NhbGN1bGF0aW9uTGltaXQoKSsxKSxvPm4/aSgpOnRoaXMuaW5Qcm9ncmVzcz0hMX0scmVjYWxjdWxhdGVBbGxSb3dzSGVpZ2h0OmZ1bmN0aW9uKCl7eSh0aGlzLmhvdC52aWV3Lnd0Lnd0VGFibGUuVEFCTEUpJiYodGhpcy5jbGVhckNhY2hlKCksdGhpcy5jYWxjdWxhdGVBbGxSb3dzSGVpZ2h0KCkpfSxnZXRTeW5jQ2FsY3VsYXRpb25MaW1pdDpmdW5jdGlvbigpe3ZhciBlPUguU1lOQ19DQUxDVUxBVElPTl9MSU1JVCx0PXRoaXMuaG90LmNvdW50Um93cygpLTE7cmV0dXJuIF8odGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5hdXRvUm93U2l6ZSkmJihlPXRoaXMuaG90LmdldFNldHRpbmdzKCkuYXV0b1Jvd1NpemUuc3luY0xpbWl0LE8oZSk/ZT1TKHQsZSk6ZT4+PTApLE1hdGgubWluKGUsdCl9LGdldFJvd0hlaWdodDpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHNbMV0sbj10O3JldHVybiB2b2lkIDAhPT10aGlzLmhlaWdodHNbZV0mJnRoaXMuaGVpZ2h0c1tlXT4odHx8MCkmJihuPXRoaXMuaGVpZ2h0c1tlXSksbn0sZ2V0Q29sdW1uSGVhZGVySGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVpZ2h0c1stMV19LGdldEZpcnN0VmlzaWJsZVJvdzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LnZpZXcud3Q7cmV0dXJuIGUud3RWaWV3cG9ydC5yb3dzVmlzaWJsZUNhbGN1bGF0b3I/ZS53dFRhYmxlLmdldEZpcnN0VmlzaWJsZVJvdygpOmUud3RWaWV3cG9ydC5yb3dzUmVuZGVyQ2FsY3VsYXRvcj9lLnd0VGFibGUuZ2V0Rmlyc3RSZW5kZXJlZFJvdygpOi0xfSxnZXRMYXN0VmlzaWJsZVJvdzpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LnZpZXcud3Q7cmV0dXJuIGUud3RWaWV3cG9ydC5yb3dzVmlzaWJsZUNhbGN1bGF0b3I/ZS53dFRhYmxlLmdldExhc3RWaXNpYmxlUm93KCk6ZS53dFZpZXdwb3J0LnJvd3NSZW5kZXJDYWxjdWxhdG9yP2Uud3RUYWJsZS5nZXRMYXN0UmVuZGVyZWRSb3coKTotMX0sY2xlYXJDYWNoZTpmdW5jdGlvbigpe3RoaXMuaGVpZ2h0cy5sZW5ndGg9MCx0aGlzLmhlaWdodHNbLTFdPXZvaWQgMH0sY2xlYXJDYWNoZUJ5UmFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczsibnVtYmVyIj09dHlwZW9mIGUmJihlPXtmcm9tOmUsdG86ZX0pLEUoTWF0aC5taW4oZS5mcm9tLGUudG8pLE1hdGgubWF4KGUuZnJvbSxlLnRvKSxmdW5jdGlvbihlKXtyZXR1cm4gdC5oZWlnaHRzW2VdPXZvaWQgMH0pfSxpc05lZWRSZWNhbGN1bGF0ZTpmdW5jdGlvbigpe3JldHVybiEhZyh0aGlzLmhlaWdodHMsZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWV9KS5sZW5ndGh9LG9uQmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3QucmVuZGVyQ2FsbDt0aGlzLmNhbGN1bGF0ZVJvd3NIZWlnaHQoe2Zyb206dGhpcy5nZXRGaXJzdFZpc2libGVSb3coKSx0bzp0aGlzLmdldExhc3RWaXNpYmxlUm93KCl9LHZvaWQgMCxlKTt2YXIgdD10aGlzLmhvdC5nZXRTZXR0aW5ncygpLmZpeGVkUm93c0JvdHRvbTtpZih0KXt2YXIgbj10aGlzLmhvdC5jb3VudFJvd3MoKS0xO3RoaXMuY2FsY3VsYXRlUm93c0hlaWdodCh7ZnJvbTpuLXQsdG86bn0pfXRoaXMuaXNOZWVkUmVjYWxjdWxhdGUoKSYmIXRoaXMuaW5Qcm9ncmVzcyYmdGhpcy5jYWxjdWxhdGVBbGxSb3dzSGVpZ2h0KCl9LG9uQmVmb3JlUm93TW92ZTpmdW5jdGlvbihlLHQpe3RoaXMuY2xlYXJDYWNoZUJ5UmFuZ2Uoe2Zyb206ZSx0bzp0fSksdGhpcy5jYWxjdWxhdGVBbGxSb3dzSGVpZ2h0KCl9LG9uQmVmb3JlUm93UmVzaXplOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbiYmKHRoaXMuY2FsY3VsYXRlUm93c0hlaWdodChlLHZvaWQgMCwhMCksdD10aGlzLmdldFJvd0hlaWdodChlKSksdH0sb25BZnRlckxvYWREYXRhOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmhvdC52aWV3P3RoaXMucmVjYWxjdWxhdGVBbGxSb3dzSGVpZ2h0KCk6c2V0VGltZW91dChmdW5jdGlvbigpe2UuaG90JiZlLnJlY2FsY3VsYXRlQWxsUm93c0hlaWdodCgpfSwwKX0sb25CZWZvcmVDaGFuZ2U6ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDsxPT09ZS5sZW5ndGg/dD1lWzBdWzBdOmUubGVuZ3RoPjEmJih0PXtmcm9tOmVbMF1bMF0sdG86ZVtlLmxlbmd0aC0xXVswXX0pLG51bGwhPT10JiZ0aGlzLmNsZWFyQ2FjaGVCeVJhbmdlKHQpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5naG9zdFRhYmxlLmNsZWFuKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsSC5wcm90b3R5cGUsImRlc3Ryb3kiKS5jYWxsKHRoaXMpfX0se2dldCBDQUxDVUxBVElPTl9TVEVQKCl7cmV0dXJuIDUwfSxnZXQgU1lOQ19DQUxDVUxBVElPTl9MSU1JVCgpe3JldHVybiA1MDB9fSxmKSxUKCJhdXRvUm93U2l6ZSIsayl9LHtfYmFzZTo2MCwiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LCJoZWxwZXJzL2ZlYXR1cmUiOjQ4LCJoZWxwZXJzL251bWJlciI6NTEsImhlbHBlcnMvb2JqZWN0Ijo1MiwiaGVscGVycy9zdHJpbmciOjU0LHBsdWdpbnM6NTksInV0aWxzL2dob3N0VGFibGUiOjEwMiwidXRpbHMvc2FtcGxlc0dlbmVyYXRvciI6MTA0fV0sNjM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlLHQsbixvKXt2YXIgcixpLHMsbCxhLHU9bi5sZW5ndGgsYz1uP25bMF0ubGVuZ3RoOjAsaD1bXSxkPVtdO2lmKHI9dC5yb3ctZS5yb3csaT10LmNvbC1lLmNvbCwtMSE9PVsiZG93biIsInVwIl0uaW5kZXhPZihvKSl7Zm9yKHZhciBmPTA7aT49ZjtmKyspcz1wYXJzZUludChuWzBdW2ZdLDEwKSxsPXBhcnNlSW50KG5bdS0xXVtmXSwxMCksYT0oImRvd24iPT09bz9sLXM6cy1sKS8odS0xKXx8MCxkLnB1c2goYSk7aC5wdXNoKGQpfWlmKC0xIT09WyJyaWdodCIsImxlZnQiXS5pbmRleE9mKG8pKWZvcih2YXIgcD0wO3I+PXA7cCsrKXM9cGFyc2VJbnQobltwXVswXSwxMCksbD1wYXJzZUludChuW3BdW2MtMV0sMTApLGE9KCJyaWdodCI9PT1vP2wtczpzLWwpLyhjLTEpfHwwLGQ9W10sZC5wdXNoKGEpLGgucHVzaChkKTtyZXR1cm4gaH1mdW5jdGlvbiByKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUuYXV0b2ZpbGw/dm9pZChlLmF1dG9maWxsLmhhbmRsZSYmZS5hdXRvZmlsbC5oYW5kbGUuaXNEcmFnZ2VkJiYoZS5hdXRvZmlsbC5oYW5kbGUuaXNEcmFnZ2VkPjEmJmUuYXV0b2ZpbGwuYXBwbHkoKSxlLmF1dG9maWxsLmhhbmRsZS5pc0RyYWdnZWQ9MCxsPSExKSk6ITB9ZnVuY3Rpb24gbihlKXt2YXIgdCxuO3JldHVybiBzLmluc3RhbmNlLmF1dG9maWxsPyh0PWYocy5pbnN0YW5jZS50YWJsZSkudG9wLSh3aW5kb3cucGFnZVlPZmZzZXR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApK3Aocy5pbnN0YW5jZS50YWJsZSksbj1mKHMuaW5zdGFuY2UudGFibGUpLmxlZnQtKHdpbmRvdy5wYWdlWE9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpK2cocy5pbnN0YW5jZS50YWJsZSkscy5hZGRpbmdTdGFydGVkPT09ITEmJnMuaW5zdGFuY2UuYXV0b2ZpbGwuaGFuZGxlLmlzRHJhZ2dlZD4wJiZlLmNsaWVudFk+dCYmZS5jbGllbnRYPD1uPyhzLmluc3RhbmNlLm1vdXNlRHJhZ091dHNpZGU9ITAscy5hZGRpbmdTdGFydGVkPSEwKTpzLmluc3RhbmNlLm1vdXNlRHJhZ091dHNpZGU9ITEsdm9pZChzLmluc3RhbmNlLm1vdXNlRHJhZ091dHNpZGUmJnYoImF1dG9JbnNlcnRSb3ciKSYmc2V0VGltZW91dChmdW5jdGlvbigpe3MuYWRkaW5nU3RhcnRlZD0hMSxzLmluc3RhbmNlLmFsdGVyKCJpbnNlcnRfcm93Iil9LDIwMCkpKTohMX12YXIgbyxyLGkscz10aGlzLGw9ITE7dGhpcy5pbnN0YW5jZT1lLHRoaXMuYWRkaW5nU3RhcnRlZD0hMSxpPW0oZSksaS5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZXVwIix0KSxpLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNlbW92ZSIsbiksbz10aGlzLmluc3RhbmNlLnZpZXcud3Qud3RTZXR0aW5ncy5zZXR0aW5ncy5vbkNlbGxDb3JuZXJNb3VzZURvd24sdGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0U2V0dGluZ3Muc2V0dGluZ3Mub25DZWxsQ29ybmVyTW91c2VEb3duPWZ1bmN0aW9uKHQpe2UuYXV0b2ZpbGwuaGFuZGxlLmlzRHJhZ2dlZD0xLGw9ITAsbyh0KX0scj10aGlzLmluc3RhbmNlLnZpZXcud3Qud3RTZXR0aW5ncy5zZXR0aW5ncy5vbkNlbGxNb3VzZU92ZXIsdGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0U2V0dGluZ3Muc2V0dGluZ3Mub25DZWxsTW91c2VPdmVyPWZ1bmN0aW9uKHQsbixvLGkpe2UuYXV0b2ZpbGwmJmwmJiFlLnZpZXcuaXNNb3VzZURvd24oKSYmZS5hdXRvZmlsbC5oYW5kbGUmJmUuYXV0b2ZpbGwuaGFuZGxlLmlzRHJhZ2dlZCYmKGUuYXV0b2ZpbGwuaGFuZGxlLmlzRHJhZ2dlZCsrLGUuYXV0b2ZpbGwuc2hvd0JvcmRlcihuKSxlLmF1dG9maWxsLmNoZWNrSWZOZXdSb3dOZWVkZWQoKSkscih0LG4sbyxpKX0sdGhpcy5pbnN0YW5jZS52aWV3Lnd0Lnd0U2V0dGluZ3Muc2V0dGluZ3Mub25DZWxsQ29ybmVyRGJsQ2xpY2s9ZnVuY3Rpb24oKXtlLmF1dG9maWxsLnNlbGVjdEFkamFjZW50KCl9fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiJkaXJlY3Rpb24iPT09dD9uPSJzdHJpbmciPT10eXBlb2YgZT9lOiJvYmplY3QiPT10eXBlb2YgZSYmdm9pZCAwIT09ZVt0XT9lW3RdOiEwOiJhdXRvSW5zZXJ0Um93Ij09PXQ/bj0ib2JqZWN0Ij09dHlwZW9mIGUmJnZvaWQgMCE9PWVbdF0/ZVt0XTohMDoiZmlsbEhhbmRsZSI9PT10JiYobj0hIWUpLG59fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0F1dG9maWxsOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBzLGwsYSx1LGMsaD0ocz1lKCJicm93c2VyIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KVsiZGVmYXVsdCJdLGQ9KGw9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSksZj1kLm9mZnNldCxwPWQub3V0ZXJIZWlnaHQsZz1kLm91dGVyV2lkdGgsbT0oYT1lKCJldmVudE1hbmFnZXIiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLmV2ZW50TWFuYWdlcix3PSgodT1lKCJwbHVnaW5zIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5yZWdpc3RlclBsdWdpbiwoYz1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9jb29yZHMiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y30pLldhbGtvbnRhYmxlQ2VsbENvb3Jkcyk7ci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuaGFuZGxlPXt9fSxyLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuZGlzYWJsZWQ9ITB9LHIucHJvdG90eXBlLnNlbGVjdEFkamFjZW50PWZ1bmN0aW9uKCl7dmFyIGUsdCxuLG8scjtlPXRoaXMuaW5zdGFuY2Uuc2VsZWN0aW9uLmlzTXVsdGlwbGUoKT90aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5hcmVhLmdldENvcm5lcnMoKTp0aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5jdXJyZW50LmdldENvcm5lcnMoKSx0PXRoaXMuaW5zdGFuY2UuZ2V0RGF0YSgpO2U6Zm9yKG49ZVsyXSsxO248dGhpcy5pbnN0YW5jZS5jb3VudFJvd3MoKTtuKyspe2ZvcihyPWVbMV07cjw9ZVszXTtyKyspaWYodFtuXVtyXSlicmVhayBlOyh0W25dW2VbMV0tMV18fHRbbl1bZVszXSsxXSkmJihvPW4pfW8mJih0aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5maWxsLmNsZWFyKCksdGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuZmlsbC5hZGQobmV3IHcoZVswXSxlWzFdKSksdGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuZmlsbC5hZGQobmV3IHcobyxlWzNdKSksdGhpcy5hcHBseSgpKX0sci5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpLHMsbCxhO3RoaXMuaGFuZGxlLmlzRHJhZ2dlZD0wLHRoaXMuaW5zdGFuY2Uudmlldy53dC5zZWxlY3Rpb25zLmZpbGwuaXNFbXB0eSgpfHwoZT10aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5maWxsLmdldENvcm5lcnMoKSx0aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5maWxsLmNsZWFyKCksdD10aGlzLmluc3RhbmNlLnNlbGVjdGlvbi5pc011bHRpcGxlKCk/dGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuYXJlYS5nZXRDb3JuZXJzKCk6dGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuY3VycmVudC5nZXRDb3JuZXJzKCksaC5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwiYWZ0ZXJBdXRvZmlsbEFwcGx5VmFsdWVzIix0LGUpLGVbMF09PT10WzBdJiZlWzFdPHRbMV0/KHM9ImxlZnQiLG49bmV3IHcoZVswXSxlWzFdKSxyPW5ldyB3KGVbMl0sdFsxXS0xKSk6ZVswXT09PXRbMF0mJmVbM10+dFszXT8ocz0icmlnaHQiLG49bmV3IHcoZVswXSx0WzNdKzEpLHI9bmV3IHcoZVsyXSxlWzNdKSk6ZVswXTx0WzBdJiZlWzFdPT09dFsxXT8ocz0idXAiLG49bmV3IHcoZVswXSxlWzFdKSxyPW5ldyB3KHRbMF0tMSxlWzNdKSk6ZVsyXT50WzJdJiZlWzFdPT09dFsxXSYmKHM9ImRvd24iLG49bmV3IHcodFsyXSsxLGVbMV0pLHI9bmV3IHcoZVsyXSxlWzNdKSksbiYmbi5yb3c+LTEmJm4uY29sPi0xPyhhPXtmcm9tOnRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRSYW5nZSgpLmZyb20sdG86dGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZFJhbmdlKCkudG99LGk9dGhpcy5pbnN0YW5jZS5nZXREYXRhKGEuZnJvbS5yb3csYS5mcm9tLmNvbCxhLnRvLnJvdyxhLnRvLmNvbCksbD1vKG4scixpLHMpLGguaG9va3MucnVuKHRoaXMuaW5zdGFuY2UsImJlZm9yZUF1dG9maWxsIixuLHIsaSksdGhpcy5pbnN0YW5jZS5wb3B1bGF0ZUZyb21BcnJheShuLnJvdyxuLmNvbCxpLHIucm93LHIuY29sLCJhdXRvZmlsbCIsbnVsbCxzLGwpLHRoaXMuaW5zdGFuY2Uuc2VsZWN0aW9uLnNldFJhbmdlU3RhcnQobmV3IHcoZVswXSxlWzFdKSksdGhpcy5pbnN0YW5jZS5zZWxlY3Rpb24uc2V0UmFuZ2VFbmQobmV3IHcoZVsyXSxlWzNdKSkpOnRoaXMuaW5zdGFuY2Uuc2VsZWN0aW9uLnJlZnJlc2hCb3JkZXJzKCkpfSxyLnByb3RvdHlwZS5zaG93Qm9yZGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRSYW5nZSgpLmdldFRvcExlZnRDb3JuZXIoKSxuPXRoaXMuaW5zdGFuY2UuZ2V0U2VsZWN0ZWRSYW5nZSgpLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCk7aWYoImhvcml6b250YWwiIT09digiZGlyZWN0aW9uIikmJihuLnJvdzxlLnJvd3x8dC5yb3c+ZS5yb3cpKWU9bmV3IHcoZS5yb3csbi5jb2wpO2Vsc2V7aWYoInZlcnRpY2FsIj09PXYoImRpcmVjdGlvbiIpKXJldHVybjtlPW5ldyB3KG4ucm93LGUuY29sKX10aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5maWxsLmNsZWFyKCksdGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuZmlsbC5hZGQodGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZFJhbmdlKCkuZnJvbSksdGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuZmlsbC5hZGQodGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZFJhbmdlKCkudG8pLHRoaXMuaW5zdGFuY2Uudmlldy53dC5zZWxlY3Rpb25zLmZpbGwuYWRkKGUpLHRoaXMuaW5zdGFuY2Uudmlldy5yZW5kZXIoKX0sci5wcm90b3R5cGUuY2hlY2tJZk5ld1Jvd05lZWRlZD1mdW5jdGlvbigpe3ZhciBlLHQsbj10aGlzLmluc3RhbmNlLmNvdW50Um93cygpLG89dGhpczt0aGlzLmluc3RhbmNlLnZpZXcud3Quc2VsZWN0aW9ucy5maWxsLmNlbGxSYW5nZSYmdGhpcy5hZGRpbmdTdGFydGVkPT09ITEmJnYoImF1dG9JbnNlcnRSb3ciKSYmKHQ9dGhpcy5pbnN0YW5jZS5nZXRTZWxlY3RlZCgpLGU9dGhpcy5pbnN0YW5jZS52aWV3Lnd0LnNlbGVjdGlvbnMuZmlsbC5nZXRDb3JuZXJzKCksdFsyXTxuLTEmJmVbMl09PT1uLTEmJih0aGlzLmFkZGluZ1N0YXJ0ZWQ9ITAsdGhpcy5pbnN0YW5jZS5fcmVnaXN0ZXJUaW1lb3V0KHNldFRpbWVvdXQoZnVuY3Rpb24oKXtvLmluc3RhbmNlLmFsdGVyKCJpbnNlcnRfcm93Iiksby5hZGRpbmdTdGFydGVkPSExfSwyMDApKSkpfSxoLmhvb2tzLmFkZCgiYWZ0ZXJJbml0IixmdW5jdGlvbigpe3ZhciBlPW5ldyByKHRoaXMpO3Y9aSh0aGlzLmdldFNldHRpbmdzKCkuZmlsbEhhbmRsZSksdm9pZCAwIT09digiZmlsbEhhbmRsZSIpJiYoZS5oYW5kbGUmJnYoImZpbGxIYW5kbGUiKT09PSExP2UuZGlzYWJsZSgpOmUuaGFuZGxlfHx2KCJmaWxsSGFuZGxlIik9PT0hMXx8KHRoaXMuYXV0b2ZpbGw9ZSx0aGlzLmF1dG9maWxsLmluaXQoKSkpfSk7dmFyIHY7aC5BdXRvZmlsbD1yfSx7IjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyI6NSxicm93c2VyOjIzLGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9kb20vZWxlbWVudCI6NDYscGx1Z2luczo1OX1dLDY0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0NvbHVtblNvcnRpbmc6e2dldDpmdW5jdGlvbigpe3JldHVybiBffX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsbCxhLHU9KG89ZSgiYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxjPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGg9Yy5hZGRDbGFzcyxkPWMuY2xvc2VzdCxmPWMuaGFzQ2xhc3MscD1jLmluZGV4LGc9Yy5yZW1vdmVDbGFzcyxtPShpPWUoImhlbHBlcnMvYXJyYXkiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLHc9KG0uYXJyYXlFYWNoLG0uYXJyYXlNYXApLHY9bS5hcnJheVJlZHVjZSx5PShzPWUoImV2ZW50TWFuYWdlciIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuZXZlbnRNYW5hZ2VyLGI9KGw9ZSgiX2Jhc2UiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pWyJkZWZhdWx0Il0sQz0oYT1lKCJwbHVnaW5zIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5yZWdpc3RlclBsdWdpbjt1Lmhvb2tzLnJlZ2lzdGVyKCJiZWZvcmVDb2x1bW5Tb3J0IiksdS5ob29rcy5yZWdpc3RlcigiYWZ0ZXJDb2x1bW5Tb3J0Iik7dmFyIF89ZnVuY3Rpb24oZSl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoUikuY2FsbCh0aGlzLGUpLHRoaXMuc29ydEluZGljYXRvcnM9W10sdGhpcy5sYXN0U29ydGVkQ29sdW1uPW51bGx9LFI9XzskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoXyx7aXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmhvdC5nZXRTZXR0aW5ncygpLmNvbHVtblNvcnRpbmd9LGVuYWJsZVBsdWdpbjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMuZW5hYmxlZCl7dmFyIHQ9dGhpczt0aGlzLmhvdC5zb3J0SW5kZXg9W10sdGhpcy5ob3Quc29ydD1mdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIHQuc29ydEJ5Q29sdW1uLmFwcGx5KHQsZSl9LCJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5vYnNlcnZlQ2hhbmdlcyYmdGhpcy5lbmFibGVPYnNlcnZlQ2hhbmdlc1BsdWdpbigpLHRoaXMuYmluZENvbHVtblNvcnRpbmdBZnRlckNsaWNrKCksdGhpcy5hZGRIb29rKCJhZnRlclRyaW1Sb3ciLGZ1bmN0aW9uKHQpe3JldHVybiBlLnNvcnQoKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJVbnRyaW1Sb3ciLGZ1bmN0aW9uKHQpe3JldHVybiBlLnNvcnQoKX0pLHRoaXMuYWRkSG9vaygibW9kaWZ5Um93IixmdW5jdGlvbih0KXtyZXR1cm4gZS50cmFuc2xhdGVSb3codCl9KSx0aGlzLmFkZEhvb2soImFmdGVyVXBkYXRlU2V0dGluZ3MiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlclVwZGF0ZVNldHRpbmdzKCl9KSx0aGlzLmFkZEhvb2soImFmdGVyR2V0Q29sSGVhZGVyIixmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldENvbEhlYWRlcih0LG4pfSksdGhpcy5hZGRIb29rKCJhZnRlckNyZWF0ZVJvdyIsZnVuY3Rpb24oKXt0LmFmdGVyQ3JlYXRlUm93LmFwcGx5KHQsYXJndW1lbnRzKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJSZW1vdmVSb3ciLGZ1bmN0aW9uKCl7dC5hZnRlclJlbW92ZVJvdy5hcHBseSh0LGFyZ3VtZW50cyl9KSx0aGlzLmFkZEhvb2soImFmdGVySW5pdCIsZnVuY3Rpb24oKXtyZXR1cm4gZS5zb3J0QnlTZXR0aW5ncygpfSksdGhpcy5hZGRIb29rKCJhZnRlckxvYWREYXRhIixmdW5jdGlvbigpe2UuaG90LnNvcnRJbmRleD1bXSxlLmhvdC52aWV3JiZlLnNvcnRCeVNldHRpbmdzKCl9KSx0aGlzLmhvdC52aWV3JiZ0aGlzLnNvcnRCeVNldHRpbmdzKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsUi5wcm90b3R5cGUsImVuYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9fSxkaXNhYmxlUGx1Z2luOmZ1bmN0aW9uKCl7dGhpcy5ob3Quc29ydD12b2lkIDAsJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsUi5wcm90b3R5cGUsImRpc2FibGVQbHVnaW4iKS5jYWxsKHRoaXMpfSxvbkFmdGVyVXBkYXRlU2V0dGluZ3M6ZnVuY3Rpb24oKXt0aGlzLnNvcnRCeVNldHRpbmdzKCl9LHNvcnRCeVNldHRpbmdzOmZ1bmN0aW9uKCl7dmFyIGUsdCxuPXRoaXMuaG90LmdldFNldHRpbmdzKCkuY29sdW1uU29ydGluZyxvPXRoaXMubG9hZFNvcnRpbmdTdGF0ZSgpOyJ1bmRlZmluZWQiPT10eXBlb2Ygbz8oZT1uLmNvbHVtbix0PW4uc29ydE9yZGVyKTooZT1vLnNvcnRDb2x1bW4sdD1vLnNvcnRPcmRlciksIm51bWJlciI9PXR5cGVvZiBlJiYodGhpcy5sYXN0U29ydGVkQ29sdW1uPWUsdGhpcy5zb3J0QnlDb2x1bW4oZSx0KSl9LHNldFNvcnRpbmdDb2x1bW46ZnVuY3Rpb24oZSx0KXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/KHRoaXMuaG90LnNvcnRDb2x1bW49dm9pZCAwLHZvaWQodGhpcy5ob3Quc29ydE9yZGVyPXZvaWQgMCkpOih0aGlzLmhvdC5zb3J0Q29sdW1uPT09ZSYmInVuZGVmaW5lZCI9PXR5cGVvZiB0P3RoaXMuaG90LnNvcnRPcmRlcj09PSExP3RoaXMuaG90LnNvcnRPcmRlcj12b2lkIDA6dGhpcy5ob3Quc29ydE9yZGVyPSF0aGlzLmhvdC5zb3J0T3JkZXI6dGhpcy5ob3Quc29ydE9yZGVyPSJ1bmRlZmluZWQiPT10eXBlb2YgdD8hMDp0LHZvaWQodGhpcy5ob3Quc29ydENvbHVtbj1lKSl9LHNvcnRCeUNvbHVtbjpmdW5jdGlvbihlLHQpe2lmKHRoaXMuc2V0U29ydGluZ0NvbHVtbihlLHQpLCJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5ob3Quc29ydENvbHVtbil7dmFyIG49dS5ob29rcy5ydW4odGhpcy5ob3QsImJlZm9yZUNvbHVtblNvcnQiLHRoaXMuaG90LnNvcnRDb2x1bW4sdGhpcy5ob3Quc29ydE9yZGVyKTtuIT09ITEmJnRoaXMuc29ydCgpLHRoaXMudXBkYXRlT3JkZXJDbGFzcygpLHRoaXMudXBkYXRlU29ydEluZGljYXRvcigpLHRoaXMuaG90LnJlbmRlcigpLHRoaXMuc2F2ZVNvcnRpbmdTdGF0ZSgpLHUuaG9va3MucnVuKHRoaXMuaG90LCJhZnRlckNvbHVtblNvcnQiLHRoaXMuaG90LnNvcnRDb2x1bW4sdGhpcy5ob3Quc29ydE9yZGVyKX19LHNhdmVTb3J0aW5nU3RhdGU6ZnVuY3Rpb24oKXt2YXIgZT17fTsidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuaG90LnNvcnRDb2x1bW4mJihlLnNvcnRDb2x1bW49dGhpcy5ob3Quc29ydENvbHVtbiksInVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzLmhvdC5zb3J0T3JkZXImJihlLnNvcnRPcmRlcj10aGlzLmhvdC5zb3J0T3JkZXIpLChlLmhhc093blByb3BlcnR5KCJzb3J0Q29sdW1uIil8fGUuaGFzT3duUHJvcGVydHkoInNvcnRPcmRlciIpKSYmdS5ob29rcy5ydW4odGhpcy5ob3QsInBlcnNpc3RlbnRTdGF0ZVNhdmUiLCJjb2x1bW5Tb3J0aW5nIixlKX0sbG9hZFNvcnRpbmdTdGF0ZTpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB1Lmhvb2tzLnJ1bih0aGlzLmhvdCwicGVyc2lzdGVudFN0YXRlTG9hZCIsImNvbHVtblNvcnRpbmciLGUpLGUudmFsdWV9LHVwZGF0ZU9yZGVyQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLmhvdC5zb3J0T3JkZXI9PT0hMD9lPSJhc2NlbmRpbmciOnRoaXMuaG90LnNvcnRPcmRlcj09PSExJiYoZT0iZGVzY2VuZGluZyIpLHRoaXMuc29ydE9yZGVyQ2xhc3M9ZX0sYmluZENvbHVtblNvcnRpbmdBZnRlckNsaWNrOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBlPXIuaG90LnZpZXcuVEJPRFkucXVlcnlTZWxlY3RvcigidHIiKSx0PTE7cmV0dXJuIGUmJih0PWUucXVlcnlTZWxlY3RvckFsbCgidGgiKS5sZW5ndGgpLHR9ZnVuY3Rpb24gdCh0KXt2YXIgbj1kKHQsIlRIIik7cmV0dXJuIHIuaG90LnZpZXcud3Qud3RUYWJsZS5nZXRGaXJzdFJlbmRlcmVkQ29sdW1uKCkrcChuKS1lKCl9dmFyIG49dGhpcztpZighdGhpcy5iaW5kZWRTb3J0RXZlbnQpe3ZhciBvPXkodGhpcy5ob3QpLHI9dGhpczt0aGlzLmJpbmRlZFNvcnRFdmVudD0hMCxvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ob3Qucm9vdEVsZW1lbnQsImNsaWNrIixmdW5jdGlvbihlKXtpZihmKGUudGFyZ2V0LCJjb2x1bW5Tb3J0aW5nIikpe3ZhciBvPXQoZS50YXJnZXQpO28hPT1uLmxhc3RTb3J0ZWRDb2x1bW4mJihuLmhvdC5zb3J0T3JkZXI9ITApLG4ubGFzdFNvcnRlZENvbHVtbj1vLG4uc29ydEJ5Q29sdW1uKG8pfX0pfX0sZW5hYmxlT2JzZXJ2ZUNoYW5nZXNQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaG90Ll9yZWdpc3RlclRpbWVvdXQoc2V0VGltZW91dChmdW5jdGlvbigpe2UuaG90LnVwZGF0ZVNldHRpbmdzKHtvYnNlcnZlQ2hhbmdlczohMH0pfSwwKSl9LGRlZmF1bHRTb3J0OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiJzdHJpbmciPT10eXBlb2YgdFsxXSYmKHRbMV09dFsxXS50b0xvd2VyQ2FzZSgpKSwic3RyaW5nIj09dHlwZW9mIG5bMV0mJihuWzFdPW5bMV0udG9Mb3dlckNhc2UoKSksdFsxXT09PW5bMV0/MDpudWxsPT09dFsxXXx8IiI9PT10WzFdPzE6bnVsbD09PW5bMV18fCIiPT09blsxXT8tMTppc05hTih0WzFdKSYmIWlzTmFOKG5bMV0pP2U/MTotMTohaXNOYU4odFsxXSkmJmlzTmFOKG5bMV0pP2U/LTE6MTp0WzFdPG5bMV0/ZT8tMToxOnRbMV0+blsxXT9lPzE6LTE6MH19LGRhdGVTb3J0OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe2lmKHRbMV09PT1uWzFdKXJldHVybiAwO2lmKG51bGw9PT10WzFdfHwiIj09PXRbMV0pcmV0dXJuIDE7aWYobnVsbD09PW5bMV18fCIiPT09blsxXSlyZXR1cm4tMTt2YXIgbz1uZXcgRGF0ZSh0WzFdKSxyPW5ldyBEYXRlKG5bMV0pO3JldHVybiByPm8/ZT8tMToxOm8+cj9lPzE6LTE6MH19LG51bWVyaWNTb3J0OmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciBvPXBhcnNlRmxvYXQodFsxXSkscj1wYXJzZUZsb2F0KG5bMV0pO3JldHVybiBvPT09cnx8aXNOYU4obykmJmlzTmFOKHIpPzA6aXNOYU4obyk/MTppc05hTihyKT8tMTpyPm8/ZT8tMToxOm8+cj9lPzE6LTE6MH19LHNvcnQ6ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuaG90LnNvcnRPcmRlcilyZXR1cm4gdm9pZCh0aGlzLmhvdC5zb3J0SW5kZXgubGVuZ3RoPTApO3ZhciBlLHQ7dGhpcy5ob3Quc29ydGluZ0VuYWJsZWQ9ITEsdGhpcy5ob3Quc29ydEluZGV4Lmxlbmd0aD0wO2Zvcih2YXIgbj0wLG89dGhpcy5ob3QuY291bnRSb3dzKCktdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5taW5TcGFyZVJvd3M7bz5uO24rKyl0aGlzLmhvdC5zb3J0SW5kZXgucHVzaChbbix0aGlzLmhvdC5nZXREYXRhQXRDZWxsKG4sdGhpcy5ob3Quc29ydENvbHVtbildKTtpZihlPXRoaXMuaG90LmdldENlbGxNZXRhKDAsdGhpcy5ob3Quc29ydENvbHVtbiksZS5zb3J0RnVuY3Rpb24pdD1lLnNvcnRGdW5jdGlvbjtlbHNlIHN3aXRjaChlLnR5cGUpe2Nhc2UiZGF0ZSI6dD10aGlzLmRhdGVTb3J0O2JyZWFrO2Nhc2UibnVtZXJpYyI6dD10aGlzLm51bWVyaWNTb3J0O2JyZWFrO2RlZmF1bHQ6dD10aGlzLmRlZmF1bHRTb3J0fXRoaXMuaG90LnNvcnRJbmRleC5zb3J0KHQodGhpcy5ob3Quc29ydE9yZGVyKSk7Zm9yKHZhciByPXRoaXMuaG90LnNvcnRJbmRleC5sZW5ndGg7cjx0aGlzLmhvdC5jb3VudFJvd3MoKTtyKyspdGhpcy5ob3Quc29ydEluZGV4LnB1c2goW3IsdGhpcy5ob3QuZ2V0RGF0YUF0Q2VsbChyLHRoaXMuaG90LnNvcnRDb2x1bW4pXSk7dGhpcy5ob3Quc29ydGluZ0VuYWJsZWQ9ITB9LHVwZGF0ZVNvcnRJbmRpY2F0b3I6ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuaG90LnNvcnRPcmRlcil7dmFyIGU9dGhpcy5ob3QuZ2V0Q2VsbE1ldGEoMCx0aGlzLmhvdC5zb3J0Q29sdW1uKTt0aGlzLnNvcnRJbmRpY2F0b3JzW3RoaXMuaG90LnNvcnRDb2x1bW5dPWUuc29ydEluZGljYXRvcn19LHRyYW5zbGF0ZVJvdzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ob3Quc29ydGluZ0VuYWJsZWQmJiJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5ob3Quc29ydE9yZGVyJiZ0aGlzLmhvdC5zb3J0SW5kZXgmJnRoaXMuaG90LnNvcnRJbmRleC5sZW5ndGgmJnRoaXMuaG90LnNvcnRJbmRleFtlXT90aGlzLmhvdC5zb3J0SW5kZXhbZV1bMF06ZX0sdW50cmFuc2xhdGVSb3c6ZnVuY3Rpb24oZSl7aWYodGhpcy5ob3Quc29ydGluZ0VuYWJsZWQmJnRoaXMuaG90LnNvcnRJbmRleCYmdGhpcy5ob3Quc29ydEluZGV4Lmxlbmd0aClmb3IodmFyIHQ9MDt0PHRoaXMuaG90LnNvcnRJbmRleC5sZW5ndGg7dCsrKWlmKHRoaXMuaG90LnNvcnRJbmRleFt0XVswXT09ZSlyZXR1cm4gdH0sZ2V0Q29sSGVhZGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5xdWVyeVNlbGVjdG9yKCIuY29sSGVhZGVyIiksbz0odC5nZXRBdHRyaWJ1dGUoImNvbHNwYW4iKSx0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5jaGlsZE5vZGVzKSxyPUFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwobyx0LnBhcmVudE5vZGUpO3ItPW8ubGVuZ3RoLG4mJih0aGlzLmhvdC5nZXRTZXR0aW5ncygpLmNvbHVtblNvcnRpbmcmJmU+PTAmJi0xPT09ciYmaChuLCJjb2x1bW5Tb3J0aW5nIiksZyhuLCJkZXNjZW5kaW5nIiksZyhuLCJhc2NlbmRpbmciKSx0aGlzLnNvcnRJbmRpY2F0b3JzW2VdJiZlPT09dGhpcy5ob3Quc29ydENvbHVtbiYmKCJhc2NlbmRpbmciPT09dGhpcy5zb3J0T3JkZXJDbGFzcz9oKG4sImFzY2VuZGluZyIpOiJkZXNjZW5kaW5nIj09PXRoaXMuc29ydE9yZGVyQ2xhc3MmJmgobiwiZGVzY2VuZGluZyIpKSl9LGlzU29ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzLmhvdC5zb3J0Q29sdW1ufSxhZnRlckNyZWF0ZVJvdzpmdW5jdGlvbihlLHQpe2lmKHRoaXMuaXNTb3J0ZWQoKSl7Zm9yKHZhciBuPTA7bjx0aGlzLmhvdC5zb3J0SW5kZXgubGVuZ3RoO24rKyl0aGlzLmhvdC5zb3J0SW5kZXhbbl1bMF0+PWUmJih0aGlzLmhvdC5zb3J0SW5kZXhbbl1bMF0rPXQpO2Zvcih2YXIgbj0wO3Q+bjtuKyspdGhpcy5ob3Quc29ydEluZGV4LnNwbGljZShlK24sMCxbZStuLHRoaXMuaG90LmdldFNvdXJjZURhdGEoKVtlK25dW3RoaXMuaG90LnNvcnRDb2x1bW4rdGhpcy5ob3QuY29sT2Zmc2V0KCldXSk7dGhpcy5zYXZlU29ydGluZ1N0YXRlKCl9fSxhZnRlclJlbW92ZVJvdzpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIHYobyxmdW5jdGlvbih0LG4pe3JldHVybiBlPm4mJnQrKyx0fSwwKX1pZih0aGlzLmlzU29ydGVkKCkpe3ZhciBvPXRoaXMuaG90LnNvcnRJbmRleC5zcGxpY2UoZSx0KTtvPXcobyxmdW5jdGlvbihlKXtyZXR1cm4gZVswXX0pLHRoaXMuaG90LnNvcnRJbmRleD13KHRoaXMuaG90LnNvcnRJbmRleCxmdW5jdGlvbihlLHQpe3ZhciBvPW4oZVswXSk7cmV0dXJuIG8mJihlWzBdLT1vKSxlfSksdGhpcy5zYXZlU29ydGluZ1N0YXRlKCl9fX0se30sYiksQygiY29sdW1uU29ydGluZyIsXyl9LHtfYmFzZTo2MCxicm93c2VyOjIzLGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LHBsdWdpbnM6NTl9XSw2NTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtDb21tZW50RWRpdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHI9KG89ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSkuYWRkQ2xhc3MsaT1mdW5jdGlvbigpe3RoaXMuZWRpdG9yPXRoaXMuY3JlYXRlRWRpdG9yKCksdGhpcy5lZGl0b3JTdHlsZT10aGlzLmVkaXRvci5zdHlsZSx0aGlzLmVkaXRvclN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy5lZGl0b3JTdHlsZS56SW5kZXg9MTAwLHRoaXMuaGlkZSgpfSxzPWk7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGkse3NldFBvc2l0aW9uOmZ1bmN0aW9uKGUsdCl7dGhpcy5lZGl0b3JTdHlsZS5sZWZ0PWUrInB4IiwKdGhpcy5lZGl0b3JTdHlsZS50b3A9dCsicHgifSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5lZGl0b3JTdHlsZS5kaXNwbGF5PSJibG9jayJ9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvclN0eWxlLmRpc3BsYXk9Im5vbmUifSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4iYmxvY2siPT09dGhpcy5lZGl0b3JTdHlsZS5kaXNwbGF5fSxzZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06IiI7ZT1lfHwiIix0aGlzLmdldElucHV0RWxlbWVudCgpLnZhbHVlPWV9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkudmFsdWV9LGlzRm9jdXNlZDpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09dGhpcy5nZXRJbnB1dEVsZW1lbnQoKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmdldElucHV0RWxlbWVudCgpLmZvY3VzKCl9LGNyZWF0ZUVkaXRvcjpmdW5jdGlvbigpe3ZhciBlLHQsbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuIitzLkNMQVNTX0VESVRPUl9DT05UQUlORVIpO3JldHVybiBufHwobj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyKG4scy5DTEFTU19FRElUT1JfQ09OVEFJTkVSKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pKSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHIoZSxzLkNMQVNTX0VESVRPUiksdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpLHIodCxzLkNMQVNTX0lOUFVUKSxlLmFwcGVuZENoaWxkKHQpLG4uYXBwZW5kQ2hpbGQoZSksZX0sZ2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLnF1ZXJ5U2VsZWN0b3IoIi4iK3MuQ0xBU1NfSU5QVVQpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lZGl0b3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVkaXRvciksdGhpcy5lZGl0b3I9bnVsbCx0aGlzLmVkaXRvclN0eWxlPW51bGx9fSx7Z2V0IENMQVNTX0VESVRPUl9DT05UQUlORVIoKXtyZXR1cm4iaHRDb21tZW50c0NvbnRhaW5lciJ9LGdldCBDTEFTU19FRElUT1IoKXtyZXR1cm4iaHRDb21tZW50cyJ9LGdldCBDTEFTU19JTlBVVCgpe3JldHVybiJodENvbW1lbnRUZXh0QXJlYSJ9LGdldCBDTEFTU19DRUxMKCl7cmV0dXJuImh0Q29tbWVudENlbGwifX0pfSx7ImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2fV0sNjY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7Q29tbWVudHM6e2dldDpmdW5jdGlvbigpe3JldHVybiBTfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsbCxhLHUsYz0obz1lKCJicm93c2VyIiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KVsiZGVmYXVsdCJdLGg9KHI9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksZD1oLmFkZENsYXNzLGY9aC5jbG9zZXN0LHA9aC5nZXRXaW5kb3dTY3JvbGxMZWZ0LGc9aC5nZXRXaW5kb3dTY3JvbGxUb3AsbT1oLmhhc0NsYXNzLHc9aC5vZmZzZXQsdj0oaT1lKCJldmVudE1hbmFnZXIiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLkV2ZW50TWFuYWdlcix5PShzPWUoIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuV2Fsa29udGFibGVDZWxsQ29vcmRzLGI9KGw9ZSgicGx1Z2lucyIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSksQz1iLnJlZ2lzdGVyUGx1Z2luLF89KGIuZ2V0UGx1Z2luLChhPWUoIl9iYXNlIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KVsiZGVmYXVsdCJdKSxSPSh1PWUoImNvbW1lbnRFZGl0b3IiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLkNvbW1lbnRFZGl0b3IsUz1mdW5jdGlvbihlKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3RvcihFKS5jYWxsKHRoaXMsZSksdGhpcy5lZGl0b3I9bnVsbCx0aGlzLmV2ZW50TWFuYWdlcj1udWxsLHRoaXMucmFuZ2U9e30sdGhpcy5tb3VzZURvd249ITEsdGhpcy5jb250ZXh0TWVudUV2ZW50PSExLHRoaXMudGltZXI9bnVsbH0sRT1TOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhTLHtpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5jb21tZW50c30sZW5hYmxlUGx1Z2luOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmVuYWJsZWR8fCh0aGlzLmVkaXRvcnx8KHRoaXMuZWRpdG9yPW5ldyBSKSx0aGlzLmV2ZW50TWFuYWdlcnx8KHRoaXMuZXZlbnRNYW5hZ2VyPW5ldyB2KHRoaXMpKSx0aGlzLmFkZEhvb2soImFmdGVyQ29udGV4dE1lbnVEZWZhdWx0T3B0aW9ucyIsZnVuY3Rpb24odCl7cmV0dXJuIGUuYWRkVG9Db250ZXh0TWVudSh0KX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJSZW5kZXJlciIsZnVuY3Rpb24odCxuLG8scixpLHMpe3JldHVybiBlLm9uQWZ0ZXJSZW5kZXJlcih0LHMpfSksdGhpcy5hZGRIb29rKCJhZnRlclNjcm9sbEhvcml6b250YWxseSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWZyZXNoRWRpdG9yUG9zaXRpb24oKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJTY3JvbGxWZXJ0aWNhbGx5IixmdW5jdGlvbigpe3JldHVybiBlLnJlZnJlc2hFZGl0b3JQb3NpdGlvbigpfSksdGhpcy5hZGRIb29rKCJhZnRlckNvbHVtblJlc2l6ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZWZyZXNoRWRpdG9yUG9zaXRpb24oKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJSb3dSZXNpemUiLGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVmcmVzaEVkaXRvclBvc2l0aW9uKCl9KSx0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsRS5wcm90b3R5cGUsImVuYWJsZVBsdWdpbiIpLmNhbGwodGhpcykpfSxkaXNhYmxlUGx1Z2luOmZ1bmN0aW9uKCl7JHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsRS5wcm90b3R5cGUsImRpc2FibGVQbHVnaW4iKS5jYWxsKHRoaXMpfSxyZWdpc3Rlckxpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwibW91c2VvdmVyIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlT3Zlcih0KX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNlZG93biIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb3VzZURvd24odCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VNb3ZlKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwibW91c2V1cCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb3VzZVVwKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmVkaXRvci5nZXRJbnB1dEVsZW1lbnQoKSwiYmx1ciIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25FZGl0b3JCbHVyKHQpfSl9LHNldFJhbmdlOmZ1bmN0aW9uKGUpe3RoaXMucmFuZ2U9ZX0sY2xlYXJSYW5nZTpmdW5jdGlvbigpe3RoaXMucmFuZ2U9e319LHRhcmdldElzQ2VsbFdpdGhDb21tZW50OmZ1bmN0aW9uKGUpe3JldHVybiEoIW0oZS50YXJnZXQsImh0Q29tbWVudENlbGwiKXx8IWYoZS50YXJnZXQsW3RoaXMuaG90LnJvb3RFbGVtZW50XSkpfSx0YXJnZXRJc0NvbW1lbnRUZXh0QXJlYTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3IuZ2V0SW5wdXRFbGVtZW50KCk9PT1lLnRhcmdldH0sc2F2ZUNvbW1lbnQ6ZnVuY3Rpb24oKXtpZighdGhpcy5yYW5nZS5mcm9tKXRocm93IG5ldyBFcnJvcignQmVmb3JlIHVzaW5nIHRoaXMgbWV0aG9kLCBmaXJzdCBzZXQgY2VsbCByYW5nZSAoaG90LmdldFBsdWdpbigiY29tbWVudCIpLnNldFJhbmdlKCkpJyk7dmFyIGU9dGhpcy5lZGl0b3IuZ2V0VmFsdWUoKSx0PXRoaXMucmFuZ2UuZnJvbS5yb3csbj10aGlzLnJhbmdlLmZyb20uY29sO3RoaXMuaG90LnNldENlbGxNZXRhKHQsbiwiY29tbWVudCIsZSksdGhpcy5ob3QucmVuZGVyKCl9LHNhdmVDb21tZW50QXRDZWxsOmZ1bmN0aW9uKGUsdCl7dGhpcy5zZXRSYW5nZSh7ZnJvbTpuZXcgeShlLHQpfSksdGhpcy5zYXZlQ29tbWVudCgpfSxyZW1vdmVDb21tZW50OmZ1bmN0aW9uKCl7aWYoIXRoaXMucmFuZ2UuZnJvbSl0aHJvdyBuZXcgRXJyb3IoJ0JlZm9yZSB1c2luZyB0aGlzIG1ldGhvZCwgZmlyc3Qgc2V0IGNlbGwgcmFuZ2UgKGhvdC5nZXRQbHVnaW4oImNvbW1lbnQiKS5zZXRSYW5nZSgpKScpO3RoaXMuaG90LnJlbW92ZUNlbGxNZXRhKHRoaXMucmFuZ2UuZnJvbS5yb3csdGhpcy5yYW5nZS5mcm9tLmNvbCwiY29tbWVudCIpLHRoaXMuaG90LnJlbmRlcigpLHRoaXMuaGlkZSgpfSxyZW1vdmVDb21tZW50QXRDZWxsOmZ1bmN0aW9uKGUsdCl7dGhpcy5zZXRSYW5nZSh7ZnJvbTpuZXcgeShlLHQpfSksdGhpcy5yZW1vdmVDb21tZW50KCl9LHNob3c6ZnVuY3Rpb24oKXtpZighdGhpcy5yYW5nZS5mcm9tKXRocm93IG5ldyBFcnJvcignQmVmb3JlIHVzaW5nIHRoaXMgbWV0aG9kLCBmaXJzdCBzZXQgY2VsbCByYW5nZSAoaG90LmdldFBsdWdpbigiY29tbWVudCIpLnNldFJhbmdlKCkpJyk7dmFyIGU9dGhpcy5ob3QuZ2V0Q2VsbE1ldGEodGhpcy5yYW5nZS5mcm9tLnJvdyx0aGlzLnJhbmdlLmZyb20uY29sKTtyZXR1cm4gdGhpcy5yZWZyZXNoRWRpdG9yUG9zaXRpb24oITApLHRoaXMuZWRpdG9yLnNldFZhbHVlKGUuY29tbWVudHx8IiIpLHRoaXMuZWRpdG9yLnNob3coKSwhMH0sc2hvd0F0Q2VsbDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNldFJhbmdlKHtmcm9tOm5ldyB5KGUsdCl9KSx0aGlzLnNob3coKX0saGlkZTpmdW5jdGlvbigpe3RoaXMuZWRpdG9yLmhpZGUoKX0scmVmcmVzaEVkaXRvclBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTohMTtpZihlfHx0aGlzLnJhbmdlLmZyb20mJnRoaXMuZWRpdG9yLmlzVmlzaWJsZSgpKXt2YXIgdD10aGlzLmhvdC52aWV3Lnd0Lnd0VGFibGUuZ2V0Q2VsbCh0aGlzLnJhbmdlLmZyb20pLG49dyh0KSxvPXRoaXMuaG90LmdldENvbFdpZHRoKHRoaXMucmFuZ2UuZnJvbS5jb2wpLHI9bi50b3AsaT1uLmxlZnQscz0wLGw9MDt0aGlzLmhvdC52aWV3Lnd0Lnd0Vmlld3BvcnQuaGFzVmVydGljYWxTY3JvbGwoKSYmKHItPXRoaXMuaG90LnZpZXcud3Qud3RPdmVybGF5cy50b3BPdmVybGF5LmdldFNjcm9sbFBvc2l0aW9uKCkscz0yMCksdGhpcy5ob3Qudmlldy53dC53dFZpZXdwb3J0Lmhhc0hvcml6b250YWxTY3JvbGwoKSYmKGktPXRoaXMuaG90LnZpZXcud3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5nZXRTY3JvbGxQb3NpdGlvbigpLGw9MjApO3ZhciBhPWkrbyx1PXIsYz10aGlzLmhvdC52aWV3Lnd0Lnd0VGFibGUuaG9sZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGg9e2xlZnQ6Yy5sZWZ0K3AoKStsLHJpZ2h0OmMucmlnaHQrcCgpLTE1LHRvcDpjLnRvcCtnKCkrcyxib3R0b206Yy5ib3R0b20rZygpfTthPD1oLmxlZnR8fGE+aC5yaWdodHx8dTw9aC50b3B8fHU+aC5ib3R0b20/dGhpcy5oaWRlKCk6dGhpcy5lZGl0b3Iuc2V0UG9zaXRpb24oYSx1KX19LG9uTW91c2VEb3duOmZ1bmN0aW9uKGUpe3RoaXMubW91c2VEb3duPSEwLHRoaXMuaG90LnZpZXcmJnRoaXMuaG90LnZpZXcud3QmJih0aGlzLmNvbnRleHRNZW51RXZlbnR8fHRoaXMudGFyZ2V0SXNDb21tZW50VGV4dEFyZWEoZSl8fHRoaXMudGFyZ2V0SXNDZWxsV2l0aENvbW1lbnQoZSl8fHRoaXMuaGlkZSgpLHRoaXMuY29udGV4dE1lbnVFdmVudD0hMSl9LG9uTW91c2VPdmVyOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLm1vdXNlRG93biYmIXRoaXMuZWRpdG9yLmlzRm9jdXNlZCgpKWlmKHRoaXMudGFyZ2V0SXNDZWxsV2l0aENvbW1lbnQoZSkpe3ZhciB0PXRoaXMuaG90LnZpZXcud3Qud3RUYWJsZS5nZXRDb29yZHMoZS50YXJnZXQpLG49e2Zyb206bmV3IHkodC5yb3csdC5jb2wpfTt0aGlzLnNldFJhbmdlKG4pLHRoaXMuc2hvdygpfWVsc2UgdGhpcy50YXJnZXRJc0NvbW1lbnRUZXh0QXJlYShlKXx8dGhpcy5lZGl0b3IuaXNGb2N1c2VkKCl8fHRoaXMuaGlkZSgpfSxvbk1vdXNlTW92ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMudGFyZ2V0SXNDb21tZW50VGV4dEFyZWEoZSkmJih0aGlzLm1vdXNlRG93bj0hMCxjbGVhclRpbWVvdXQodGhpcy50aW1lciksdGhpcy50aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5tb3VzZURvd249ITF9LDIwMCkpfSxvbk1vdXNlVXA6ZnVuY3Rpb24oZSl7dGhpcy5tb3VzZURvd249ITF9LG9uQWZ0ZXJSZW5kZXJlcjpmdW5jdGlvbihlLHQpe3QuY29tbWVudCYmZChlLHQuY29tbWVudGVkQ2VsbENsYXNzTmFtZSl9LG9uRWRpdG9yQmx1cjpmdW5jdGlvbihlKXt0aGlzLnNhdmVDb21tZW50KCl9LGNoZWNrU2VsZWN0aW9uQ29tbWVudHNDb25zaXN0ZW5jeTpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LmdldFNlbGVjdGVkUmFuZ2UoKTtpZighZSlyZXR1cm4hMTt2YXIgdD0hMSxuPWUuZnJvbTtyZXR1cm4gdGhpcy5ob3QuZ2V0Q2VsbE1ldGEobi5yb3csbi5jb2wpLmNvbW1lbnQmJih0PSEwKSx0fSxvbkNvbnRleHRNZW51QWRkQ29tbWVudDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmhvdC5nZXRTZWxlY3RlZFJhbmdlKCk7dGhpcy5jb250ZXh0TWVudUV2ZW50PSEwLHRoaXMuc2V0UmFuZ2Uoe2Zyb206dC5mcm9tfSksdGhpcy5zaG93KCksc2V0VGltZW91dChmdW5jdGlvbigpe2UuaG90JiYoZS5ob3QuZGVzZWxlY3RDZWxsKCksZS5lZGl0b3IuZm9jdXMoKSl9LDEwKX0sb25Db250ZXh0TWVudVJlbW92ZUNvbW1lbnQ6ZnVuY3Rpb24oZSx0KXt0aGlzLmNvbnRleHRNZW51RXZlbnQ9ITAsdGhpcy5yZW1vdmVDb21tZW50QXRDZWxsKHQuc3RhcnQucm93LHQuc3RhcnQuY29sKX0sYWRkVG9Db250ZXh0TWVudTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO2UuaXRlbXMucHVzaChjLnBsdWdpbnMuQ29udGV4dE1lbnUuU0VQQVJBVE9SLHtrZXk6ImNvbW1lbnRzQWRkRWRpdCIsbmFtZTpmdW5jdGlvbigpe3JldHVybiB0LmNoZWNrU2VsZWN0aW9uQ29tbWVudHNDb25zaXN0ZW5jeSgpPyJFZGl0IENvbW1lbnQiOiJBZGQgQ29tbWVudCJ9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHQub25Db250ZXh0TWVudUFkZENvbW1lbnQoKX0sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5nZXRTZWxlY3RlZCgpfX0se2tleToiY29tbWVudHNSZW1vdmUiLG5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4iRGVsZXRlIENvbW1lbnQifSxjYWxsYmFjazpmdW5jdGlvbihlLG4pe3JldHVybiB0Lm9uQ29udGV4dE1lbnVSZW1vdmVDb21tZW50KGUsbil9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXQuY2hlY2tTZWxlY3Rpb25Db21tZW50c0NvbnNpc3RlbmN5KCl9fSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvciYmdGhpcy5lZGl0b3IuZGVzdHJveSgpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLEUucHJvdG90eXBlLCJkZXN0cm95IikuY2FsbCh0aGlzKX19LHt9LF8pLEMoImNvbW1lbnRzIixTKX0seyIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9jb29yZHMiOjUsX2Jhc2U6NjAsYnJvd3NlcjoyMyxjb21tZW50RWRpdG9yOjY1LGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9kb20vZWxlbWVudCI6NDYscGx1Z2luczo1OX1dLDY3OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0KXt2YXIgbjtyZXR1cm4gaSh0LGZ1bmN0aW9uKHQpe3ZhciBvPXQua2V5P3Qua2V5LnNwbGl0KCI6Iik6bnVsbDtyZXR1cm4gQXJyYXkuaXNBcnJheShvKSYmb1sxXT09PWU/KG49dCwhMSk6dm9pZCAwfSksbn1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtDb21tYW5kRXhlY3V0b3I6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaT0ocj1lKCJoZWxwZXJzL2FycmF5IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5hcnJheUVhY2gscz1mdW5jdGlvbihlKXt0aGlzLmhvdD1lLHRoaXMuY29tbWFuZHM9e30sdGhpcy5jb21tb25DYWxsYmFjaz1udWxsfTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3Mocyx7cmVnaXN0ZXJDb21tYW5kOmZ1bmN0aW9uKGUsdCl7dGhpcy5jb21tYW5kc1tlXT10fSxzZXRDb21tb25DYWxsYmFjazpmdW5jdGlvbihlKXt0aGlzLmNvbW1vbkNhbGxiYWNrPWV9LGV4ZWN1dGU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07dmFyIHI9dGhpcyxzPWUuc3BsaXQoIjoiKTtlPXNbMF07dmFyIGw9Mj09PXMubGVuZ3RoP3NbMV06bnVsbCxhPXRoaXMuY29tbWFuZHNbZV07aWYoIWEpdGhyb3cgbmV3IEVycm9yKCJNZW51IGNvbW1hbmQgJyIrZSsiJyBub3QgZXhpc3RzLiIpO2lmKGwmJmEuc3VibWVudSYmKGE9byhsLGEuc3VibWVudS5pdGVtcykpLGEuZGlzYWJsZWQhPT0hMCYmKCJmdW5jdGlvbiIhPXR5cGVvZiBhLmRpc2FibGVkfHxhLmRpc2FibGVkLmNhbGwodGhpcy5ob3QpIT09ITApJiYhYS5oYXNPd25Qcm9wZXJ0eSgic3VibWVudSIpKXt2YXIgdT1bXTsiZnVuY3Rpb24iPT10eXBlb2YgYS5jYWxsYmFjayYmdS5wdXNoKGEuY2FsbGJhY2spLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmNvbW1vbkNhbGxiYWNrJiZ1LnB1c2godGhpcy5jb21tb25DYWxsYmFjayksdC51bnNoaWZ0KHMuam9pbigiOiIpKSxpKHUsZnVuY3Rpb24oZSl7cmV0dXJuIGUuYXBwbHkoci5ob3QsdCl9KX19fSx7fSl9LHsiaGVscGVycy9hcnJheSI6NDJ9XSw2ODpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtDb250ZXh0TWVudTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEJ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxsLGEsdSxjLGgsZCxhLGYscD0obz1lKCJicm93c2VyIiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KVsiZGVmYXVsdCJdLGc9KHI9ZSgiX2Jhc2UiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0sbT0oaT1lKCJoZWxwZXJzL2FycmF5IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5hcnJheUVhY2gsdz0ocz1lKCJjb21tYW5kRXhlY3V0b3IiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLkNvbW1hbmRFeGVjdXRvcix2PShsPWUoImV2ZW50TWFuYWdlciIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuRXZlbnRNYW5hZ2VyLHk9KGE9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuaGFzQ2xhc3MsYj0odT1lKCJpdGVtc0ZhY3RvcnkiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLkl0ZW1zRmFjdG9yeSxDPShjPWUoIm1lbnUiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y30pLk1lbnUsXz0oaD1lKCJwbHVnaW5zIiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KS5yZWdpc3RlclBsdWdpbixSPShkPWUoImhlbHBlcnMvZG9tL2V2ZW50IiksZCYmZC5fX2VzTW9kdWxlJiZkfHx7ImRlZmF1bHQiOmR9KSxTPVIuc3RvcFByb3BhZ2F0aW9uLEU9Ui5wYWdlWCxUPVIucGFnZVksTT0oYT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KSxPPU0uZ2V0V2luZG93U2Nyb2xsTGVmdCxrPU0uZ2V0V2luZG93U2Nyb2xsVG9wLEg9KGY9ZSgicHJlZGVmaW5lZEl0ZW1zIiksZiYmZi5fX2VzTW9kdWxlJiZmfHx7ImRlZmF1bHQiOmZ9KSxEPUguUk9XX0FCT1ZFLEE9SC5ST1dfQkVMT1cseD1ILkNPTFVNTl9MRUZULFA9SC5DT0xVTU5fUklHSFQsTj1ILlJFTU9WRV9ST1csTD1ILlJFTU9WRV9DT0xVTU4sVz1ILlVORE8sST1ILlJFRE8saj1ILlJFQURfT05MWSxWPUguQUxJR05NRU5ULEY9SC5TRVBBUkFUT1IsQj1mdW5jdGlvbihlKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3Rvcih6KS5jYWxsKHRoaXMsZSksdGhpcy5ldmVudE1hbmFnZXI9bmV3IHYodGhpcyksdGhpcy5jb21tYW5kRXhlY3V0b3I9bmV3IHcodGhpcy5ob3QpLHRoaXMuaXRlbXNGYWN0b3J5PW51bGwsdGhpcy5tZW51PW51bGx9LHo9QjskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoQix7aXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG90LmdldFNldHRpbmdzKCkuY29udGV4dE1lbnV9LGVuYWJsZVBsdWdpbjpmdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMuZW5hYmxlZCl7dGhpcy5pdGVtc0ZhY3Rvcnk9bmV3IGIodGhpcy5ob3Qsei5ERUZBVUxUX0lURU1TKTt2YXIgdD10aGlzLmhvdC5nZXRTZXR0aW5ncygpLmNvbnRleHRNZW51LG49e2l0ZW1zOnRoaXMuaXRlbXNGYWN0b3J5LmdldEl0ZW1zKHQpfTt0aGlzLnJlZ2lzdGVyRXZlbnRzKCksImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGJhY2smJnRoaXMuY29tbWFuZEV4ZWN1dG9yLnNldENvbW1vbkNhbGxiYWNrKHQuY2FsbGJhY2spLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLHoucHJvdG90eXBlLCJlbmFibGVQbHVnaW4iKS5jYWxsKHRoaXMpLHRoaXMuY2FsbE9uUGx1Z2luc1JlYWR5KGZ1bmN0aW9uKCl7ZS5ob3QucnVuSG9va3MoImFmdGVyQ29udGV4dE1lbnVEZWZhdWx0T3B0aW9ucyIsbiksZS5pdGVtc0ZhY3Rvcnkuc2V0UHJlZGVmaW5lZEl0ZW1zKG4uaXRlbXMpO3ZhciBvPWUuaXRlbXNGYWN0b3J5LmdldEl0ZW1zKHQpO2UubWVudT1uZXcgQyhlLmhvdCx7Y2xhc3NOYW1lOiJodENvbnRleHRNZW51IixrZWVwSW5WaWV3cG9ydDohMH0pLGUubWVudS5zZXRNZW51SXRlbXMobyksZS5tZW51LmFkZExvY2FsSG9vaygiYWZ0ZXJPcGVuIixmdW5jdGlvbigpe3JldHVybiBlLm9uTWVudUFmdGVyT3BlbigpfSksZS5tZW51LmFkZExvY2FsSG9vaygiYWZ0ZXJDbG9zZSIsZnVuY3Rpb24oKXtyZXR1cm4gZS5vbk1lbnVBZnRlckNsb3NlKCl9KSxlLm1lbnUuYWRkTG9jYWxIb29rKCJleGVjdXRlQ29tbWFuZCIsZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGUuZXhlY3V0ZUNvbW1hbmQuYXBwbHkoZSx0KX0pLG0obyxmdW5jdGlvbih0KXtyZXR1cm4gZS5jb21tYW5kRXhlY3V0b3IucmVnaXN0ZXJDb21tYW5kKHQua2V5LHQpfSl9KX19LHVwZGF0ZVBsdWdpbjpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZVBsdWdpbigpLHRoaXMuZW5hYmxlUGx1Z2luKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsei5wcm90b3R5cGUsInVwZGF0ZVBsdWdpbiIpLmNhbGwodGhpcyl9LGRpc2FibGVQbHVnaW46ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCksdGhpcy5tZW51JiYodGhpcy5tZW51LmRlc3Ryb3koKSx0aGlzLm1lbnU9bnVsbCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsei5wcm90b3R5cGUsImRpc2FibGVQbHVnaW4iKS5jYWxsKHRoaXMpfSxyZWdpc3RlckV2ZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmhvdC5yb290RWxlbWVudCwiY29udGV4dG1lbnUiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uQ29udGV4dE1lbnUodCl9KX0sb3BlbjpmdW5jdGlvbihlKXt0aGlzLm1lbnUmJih0aGlzLm1lbnUub3BlbigpLHRoaXMubWVudS5zZXRQb3NpdGlvbih7dG9wOnBhcnNlSW50KFQoZSksMTApLWsoKSxsZWZ0OnBhcnNlSW50KEUoZSksMTApLU8oKX0pLHRoaXMubWVudS5ob3RNZW51LmlzSG90VGFibGVFbnY9dGhpcy5ob3QuaXNIb3RUYWJsZUVudixwLmV2ZW50TWFuYWdlci5pc0hvdFRhYmxlRW52PXRoaXMuaG90LmlzSG90VGFibGVFbnYpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMubWVudSYmdGhpcy5tZW51LmNsb3NlKCl9LGV4ZWN1dGVDb21tYW5kOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3RoaXMuY29tbWFuZEV4ZWN1dG9yLmV4ZWN1dGUuYXBwbHkodGhpcy5jb21tYW5kRXhlY3V0b3IsZSl9LG9uQ29udGV4dE1lbnU6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4iVEQiPT09ZS5ub2RlTmFtZXx8IlREIj09PWUucGFyZW50Tm9kZS5ub2RlTmFtZX12YXIgbj10aGlzLmhvdC5nZXRTZXR0aW5ncygpLG89bi5yb3dIZWFkZXJzLHI9bi5jb2xIZWFkZXJzLGk9ZS5yZWFsVGFyZ2V0O2lmKHRoaXMuY2xvc2UoKSxlLnByZXZlbnREZWZhdWx0KCksUyhlKSxvfHxyKXtpZihvJiZyKXt2YXIgcz1pLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgiLmNvcm5lckhlYWRlciIpLmxlbmd0aD4wO2lmKHMpcmV0dXJufX1lbHNlIGlmKCEodChpKXx8eShpLCJjdXJyZW50IikmJnkoaSwid3RCb3JkZXIiKSkpcmV0dXJuO3RoaXMub3BlbihlKX0sb25NZW51QWZ0ZXJPcGVuOmZ1bmN0aW9uKCl7dGhpcy5ob3QucnVuSG9va3MoImFmdGVyQ29udGV4dE1lbnVTaG93Iix0aGlzKX0sb25NZW51QWZ0ZXJDbG9zZTpmdW5jdGlvbigpe3RoaXMuaG90Lmxpc3RlbigpLHRoaXMuaG90LnJ1bkhvb2tzKCJhZnRlckNvbnRleHRNZW51SGlkZSIsdGhpcyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsb3NlKCksdGhpcy5tZW51JiZ0aGlzLm1lbnUuZGVzdHJveSgpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLHoucHJvdG90eXBlLCJkZXN0cm95IikuY2FsbCh0aGlzKX19LHtnZXQgREVGQVVMVF9JVEVNUygpe3JldHVybltELEEsRix4LFAsRixOLEwsRixXLEksRixqLEYsVl19fSxnKSxCLlNFUEFSQVRPUj17bmFtZTpGfSxwLmhvb2tzLnJlZ2lzdGVyKCJhZnRlckNvbnRleHRNZW51RGVmYXVsdE9wdGlvbnMiKSxwLmhvb2tzLnJlZ2lzdGVyKCJhZnRlckNvbnRleHRNZW51U2hvdyIpLHAuaG9va3MucmVnaXN0ZXIoImFmdGVyQ29udGV4dE1lbnVIaWRlIikscC5ob29rcy5yZWdpc3RlcigiYWZ0ZXJDb250ZXh0TWVudUV4ZWN1dGUiKSxfKCJjb250ZXh0TWVudSIsQil9LHtfYmFzZTo2MCxicm93c2VyOjIzLGNvbW1hbmRFeGVjdXRvcjo2NyxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9kb20vZXZlbnQiOjQ3LGl0ZW1zRmFjdG9yeTo3MCxtZW51OjcxLHBsdWdpbnM6NTkscHJlZGVmaW5lZEl0ZW1zOjcyfV0sNjk6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7Q3Vyc29yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzPShvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sbD0ocj1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSxhPWwuZ2V0V2luZG93U2Nyb2xsTGVmdCx1PWwuZ2V0V2luZG93U2Nyb2xsVG9wLGM9KGk9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLGg9Yy5wYWdlWCxkPWMucGFnZVksZj1mdW5jdGlvbihlKXt2YXIgdCxuLG8scixpLHMsbD11KCksYz1hKCk7dGhpcy50eXBlPXRoaXMuZ2V0U291cmNlVHlwZShlKSwibGl0ZXJhbCI9PT10aGlzLnR5cGU/KHQ9cGFyc2VJbnQoZS50b3AsMTApLG89cGFyc2VJbnQoZS5sZWZ0LDEwKSxpPWUuaGVpZ2h0fHwwLHM9ZS53aWR0aHx8MCxuPXQscj1vLHQrPWwsbys9Yyk6ImV2ZW50Ij09PXRoaXMudHlwZSYmKHQ9cGFyc2VJbnQoZChlKSwxMCksbz1wYXJzZUludChoKGUpLDEwKSxpPWUudGFyZ2V0LmNsaWVudEhlaWdodCxzPWUudGFyZ2V0LmNsaWVudFdpZHRoLG49dC1sLHI9by1jKSx0aGlzLnRvcD10LHRoaXMudG9wUmVsYXRpdmU9bix0aGlzLmxlZnQ9byx0aGlzLmxlZnRSZWxhdGl2ZT1yLHRoaXMuc2Nyb2xsVG9wPWwsdGhpcy5zY3JvbGxMZWZ0PWMsdGhpcy5jZWxsSGVpZ2h0PWksdGhpcy5jZWxsV2lkdGg9c307JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKGYse2dldFNvdXJjZVR5cGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ImxpdGVyYWwiO3JldHVybiBlIGluc3RhbmNlb2YgRXZlbnQmJih0PSJldmVudCIpLHR9LGZpdHNBYm92ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50b3BSZWxhdGl2ZT49ZS5vZmZzZXRIZWlnaHR9LGZpdHNCZWxvdzpmdW5jdGlvbihlKXt2YXIgdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOndpbmRvdy5pbm5lckhlaWdodDtyZXR1cm4gdGhpcy50b3BSZWxhdGl2ZStlLm9mZnNldEhlaWdodDw9dH0sZml0c09uUmlnaHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp3aW5kb3cuaW5uZXJXaWR0aDtyZXR1cm4gdGhpcy5sZWZ0UmVsYXRpdmUrdGhpcy5jZWxsV2lkdGgrZS5vZmZzZXRXaWR0aDw9dH0sZml0c09uTGVmdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sZWZ0UmVsYXRpdmU+PWUub2Zmc2V0V2lkdGh9fSx7fSkscy5wbHVnaW5zLnV0aWxzPXMucGx1Z2lucy51dGlsc3x8e30scy5wbHVnaW5zLnV0aWxzLkN1cnNvcj1mfSx7YnJvd3NlcjoyMywiaGVscGVycy9kb20vZWxlbWVudCI6NDYsImhlbHBlcnMvZG9tL2V2ZW50Ijo0N31dLDcwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOm51bGwsdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLG49dm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxvPVtdO3JldHVybiBlJiZlLml0ZW1zP2U9ZS5pdGVtczpBcnJheS5pc0FycmF5KGUpfHwoZT10KSx1KGUpP2EoZSxmdW5jdGlvbihlLHQpe3ZhciByPW5bInN0cmluZyI9PXR5cGVvZiBlP2U6dF07cnx8KHI9ZSksdShlKT9jKHIsZSk6InN0cmluZyI9PXR5cGVvZiByJiYocj17bmFtZTpyfSksdm9pZCAwPT09ci5rZXkmJihyLmtleT10KSxvLnB1c2gocil9KTpoKGUsZnVuY3Rpb24oZSx0KXt2YXIgcj1uW2VdOyFyJiZwLmluZGV4T2YoZSk+PTB8fChyfHwocj17bmFtZTplLGtleTp0KyIifSksdShlKSYmYyhyLGUpLHZvaWQgMD09PXIua2V5JiYoci5rZXk9dCksby5wdXNoKHIpKX0pLG99T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7SXRlbXNGYWN0b3J5OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGkscyxsPShyPWUoImhlbHBlcnMvb2JqZWN0IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSxhPWwub2JqZWN0RWFjaCx1PWwuaXNPYmplY3QsYz1sLmV4dGVuZCxoPShpPWUoImhlbHBlcnMvYXJyYXkiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmFycmF5RWFjaCxkPShzPWUoInByZWRlZmluZWRJdGVtcyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksZj1kLlNFUEFSQVRPUixwPWQuSVRFTVMsZz1kLnByZWRlZmluZWRJdGVtcyxtPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bnVsbDt0aGlzLmhvdD1lLHRoaXMucHJlZGVmaW5lZEl0ZW1zPWcoKSx0aGlzLmRlZmF1bHRPcmRlclBhdHRlcm49dH07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKG0se3NldFByZWRlZmluZWRJdGVtczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49e307dGhpcy5kZWZhdWx0T3JkZXJQYXR0ZXJuLmxlbmd0aD0wLGEoZSxmdW5jdGlvbihlLG8pe3ZhciByPSIiO2UubmFtZT09PWY/KG5bZl09ZSxyPWYpOmlzTmFOKHBhcnNlSW50KG8sMTApKT8oZS5rZXk9dm9pZCAwPT09ZS5rZXk/bzplLmtleSxuW29dPWUscj1lLmtleSk6KG5bZS5rZXldPWUscj1lLmtleSksdC5kZWZhdWx0T3JkZXJQYXR0ZXJuLnB1c2gocil9KSx0aGlzLnByZWRlZmluZWRJdGVtcz1ufSxnZXRJdGVtczpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06bnVsbDtyZXR1cm4gbyhlLHRoaXMuZGVmYXVsdE9yZGVyUGF0dGVybix0aGlzLnByZWRlZmluZWRJdGVtcyl9fSx7fSl9LHsiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvb2JqZWN0Ijo1MixwcmVkZWZpbmVkSXRlbXM6NzJ9XSw3MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtNZW51OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gen19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGwsYSx1LGMsaCxkLGYscCxnPShvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sbT0ocj1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSx3PW0uYWRkQ2xhc3Msdj1tLmVtcHR5LHk9bS5mYXN0SW5uZXJIVE1MLGI9bS5nZXRTY3JvbGxiYXJXaWR0aCxDPW0uaXNDaGlsZE9mLF89bS5yZW1vdmVDbGFzcyxSPShpPWUoImhlbHBlcnMvYXJyYXkiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLFM9Ui5hcnJheUVhY2gsRT1SLmFycmF5RmlsdGVyLFQ9Ui5hcnJheVJlZHVjZSxNPShzPWUoImN1cnNvciIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuQ3Vyc29yLE89KGw9ZSgiZXZlbnRNYW5hZ2VyIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5FdmVudE1hbmFnZXIsaz0oYT1lKCJoZWxwZXJzL29iamVjdCIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkubWl4aW4sSD0odT1lKCJoZWxwZXJzL2Z1bmN0aW9uIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5kZWJvdW5jZSxEPShjPWUoInV0aWxzIiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KSxBPUQuZmlsdGVyU2VwYXJhdG9ycyx4PUQuaGFzU3ViTWVudSxQPUQuaXNEaXNhYmxlZCxOPUQuaXNJdGVtSGlkZGVuLEw9RC5pc1NlcGFyYXRvcixXPUQuaXNTZWxlY3Rpb25EaXNhYmxlZCxJPUQubm9ybWFsaXplU2VsZWN0aW9uLGo9KGg9ZSgiaGVscGVycy91bmljb2RlIiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KS5LRVlfQ09ERVMsVj0oZD1lKCJtaXhpbnMvbG9jYWxIb29rcyIpLGQmJmQuX19lc01vZHVsZSYmZHx8eyJkZWZhdWx0IjpkfSkubG9jYWxIb29rcyxGPShmPWUoInByZWRlZmluZWRJdGVtcyIpLGYmJmYuX19lc01vZHVsZSYmZnx8eyJkZWZhdWx0IjpmfSkuU0VQQVJBVE9SLEI9KHA9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxwJiZwLl9fZXNNb2R1bGUmJnB8fHsiZGVmYXVsdCI6cH0pLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbix6PWZ1bmN0aW9uKGUsdCl7dGhpcy5ob3Q9ZSx0aGlzLm9wdGlvbnM9dHx8e3BhcmVudDpudWxsLG5hbWU6bnVsbCxjbGFzc05hbWU6IiIsa2VlcEluVmlld3BvcnQ6ITAsc3RhbmRhbG9uZTohMX0sdGhpcy5ldmVudE1hbmFnZXI9bmV3IE8odGhpcyksdGhpcy5jb250YWluZXI9dGhpcy5jcmVhdGVDb250YWluZXIodGhpcy5vcHRpb25zLm5hbWUpLHRoaXMuaG90TWVudT1udWxsLHRoaXMuaG90U3ViTWVudXM9e30sdGhpcy5wYXJlbnRNZW51PXRoaXMub3B0aW9ucy5wYXJlbnR8fG51bGwsdGhpcy5tZW51SXRlbXM9bnVsbCx0aGlzLm9yaWdPdXRzaWRlQ2xpY2tEZXNlbGVjdHM9bnVsbCx0aGlzLm9mZnNldD17YWJvdmU6MCxiZWxvdzowLGxlZnQ6MCxyaWdodDowfSx0aGlzLl9hZnRlclNjcm9sbENhbGxiYWNrPW51bGwsdGhpcy5yZWdpc3RlckV2ZW50cygpfSxZPXo7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKHose3JlZ2lzdGVyRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwibW91c2Vkb3duIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbkRvY3VtZW50TW91c2VEb3duKHQpfSl9LHNldE1lbnVJdGVtczpmdW5jdGlvbihlKXt0aGlzLm1lbnVJdGVtcz1lfSxzZXRPZmZzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowO3RoaXMub2Zmc2V0W2VdPXR9LGlzU3ViTWVudTpmdW5jdGlvbigpe3JldHVybiBudWxsIT09dGhpcy5wYXJlbnRNZW51fSxvcGVuOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIiksdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheT0iYmxvY2siO3ZhciB0PUgoZnVuY3Rpb24odCl7cmV0dXJuIGUub3BlblN1Yk1lbnUodCl9LDMwMCksbj1FKHRoaXMubWVudUl0ZW1zLGZ1bmN0aW9uKHQpe3JldHVybiBOKHQsZS5ob3QpfSk7bj1BKG4sRik7dmFyIG89e2RhdGE6bixjb2xIZWFkZXJzOiExLGNvbFdpZHRoczpbMjAwXSxhdXRvUm93U2l6ZTohMSxyZWFkT25seTohMCxjb3B5UGFzdGU6ITEsY29sdW1uczpbe2RhdGE6Im5hbWUiLHJlbmRlcmVyOmZ1bmN0aW9uKHQsbixvLHIsaSxzKXtyZXR1cm4gZS5tZW51SXRlbVJlbmRlcmVyKHQsbixvLHIsaSxzKX19XSxyZW5kZXJBbGxSb3dzOiEwLGZyYWdtZW50U2VsZWN0aW9uOiJjZWxsIixkaXNhYmxlVmlzdWFsU2VsZWN0aW9uOiJhcmVhIixiZWZvcmVLZXlEb3duOmZ1bmN0aW9uKHQpe3JldHVybiBlLm9uQmVmb3JlS2V5RG93bih0KX0sYWZ0ZXJPbkNlbGxNb3VzZU92ZXI6ZnVuY3Rpb24obixvLHIpe2UuaXNBbGxTdWJNZW51c0Nsb3NlZCgpP3Qoby5yb3cpOmUub3BlblN1Yk1lbnUoby5yb3cpfX07dGhpcy5vcmlnT3V0c2lkZUNsaWNrRGVzZWxlY3RzPXRoaXMuaG90LmdldFNldHRpbmdzKCkub3V0c2lkZUNsaWNrRGVzZWxlY3RzLHRoaXMuaG90LmdldFNldHRpbmdzKCkub3V0c2lkZUNsaWNrRGVzZWxlY3RzPSExLHRoaXMuaG90TWVudT1uZXcgZy5Db3JlKHRoaXMuY29udGFpbmVyLG8pLHRoaXMuaG90TWVudS5hZGRIb29rKCJhZnRlckluaXQiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlckluaXQoKX0pLHRoaXMuaG90TWVudS5pbml0KCksdGhpcy5ob3RNZW51Lmxpc3RlbigpLHRoaXMuYmxvY2tNYWluVGFibGVDYWxsYmFja3MoKSx0aGlzLnJ1bkxvY2FsSG9va3MoImFmdGVyT3BlbiIpfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBlPXZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06ITE7dGhpcy5pc09wZW5lZCgpJiYoZSYmdGhpcy5wYXJlbnRNZW51P3RoaXMucGFyZW50TWVudS5jbG9zZSgpOih0aGlzLmNsb3NlQWxsU3ViTWVudXMoKSx0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLnJlbGVhc2VNYWluVGFibGVDYWxsYmFja3MoKSx0aGlzLmhvdE1lbnUuZGVzdHJveSgpLHRoaXMuaG90TWVudT1udWxsLHRoaXMuaG90LmdldFNldHRpbmdzKCkub3V0c2lkZUNsaWNrRGVzZWxlY3RzPXRoaXMub3JpZ091dHNpZGVDbGlja0Rlc2VsZWN0cyx0aGlzLnJ1bkxvY2FsSG9va3MoImFmdGVyQ2xvc2UiKSkpfSxvcGVuU3ViTWVudTpmdW5jdGlvbihlKXtpZighdGhpcy5ob3RNZW51KXJldHVybiExO3ZhciB0PXRoaXMuaG90TWVudS5nZXRDZWxsKGUsMCk7aWYodGhpcy5jbG9zZUFsbFN1Yk1lbnVzKCksIXR8fCF4KHQpKXJldHVybiExO3ZhciBuPXRoaXMuaG90TWVudS5nZXRTb3VyY2VEYXRhQXRSb3coZSksbz1uZXcgWSh0aGlzLmhvdCx7cGFyZW50OnRoaXMsbmFtZTpuLm5hbWUsY2xhc3NOYW1lOnRoaXMub3B0aW9ucy5jbGFzc05hbWUsa2VlcEluVmlld3BvcnQ6ITB9KTtyZXR1cm4gby5zZXRNZW51SXRlbXMobi5zdWJtZW51Lml0ZW1zKSxvLm9wZW4oKSxvLnNldFBvc2l0aW9uKHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLHRoaXMuaG90U3ViTWVudXNbbi5rZXldPW8sb30sY2xvc2VTdWJNZW51OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaG90TWVudS5nZXRTb3VyY2VEYXRhQXRSb3coZSksbj10aGlzLmhvdFN1Yk1lbnVzW3Qua2V5XTtuJiYobi5kZXN0cm95KCksZGVsZXRlIHRoaXMuaG90U3ViTWVudXNbdC5rZXldKX0sY2xvc2VBbGxTdWJNZW51czpmdW5jdGlvbigpe3ZhciBlPXRoaXM7Uyh0aGlzLmhvdE1lbnUuZ2V0RGF0YSgpLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2xvc2VTdWJNZW51KG4pfSl9LGlzQWxsU3ViTWVudXNDbG9zZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PU9iamVjdC5rZXlzKHRoaXMuaG90U3ViTWVudXMpLmxlbmd0aH0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2xlYXJMb2NhbEhvb2tzKCksdGhpcy5jbG9zZSgpLHRoaXMucGFyZW50TWVudT1udWxsLHRoaXMuZXZlbnRNYW5hZ2VyLmRlc3Ryb3koKX0saXNPcGVuZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuaG90TWVudX0sZXhlY3V0ZUNvbW1hbmQ6ZnVuY3Rpb24oZSl7aWYodGhpcy5pc09wZW5lZCgpJiZ0aGlzLmhvdE1lbnUuZ2V0U2VsZWN0ZWQoKSl7dmFyIHQ9dGhpcy5ob3RNZW51LmdldFNvdXJjZURhdGFBdFJvdyh0aGlzLmhvdE1lbnUuZ2V0U2VsZWN0ZWQoKVswXSk7aWYodGhpcy5ydW5Mb2NhbEhvb2tzKCJzZWxlY3QiLHQsZSksdC5pc0NvbW1hbmQhPT0hMSYmdC5uYW1lIT09Ril7dmFyIG49dGhpcy5ob3QuZ2V0U2VsZWN0ZWRSYW5nZSgpLG89bj9JKG4pOnt9O3RoaXMucnVuTG9jYWxIb29rcygiZXhlY3V0ZUNvbW1hbmQiLHQua2V5LG8sZSksdGhpcy5pc1N1Yk1lbnUoKSYmdGhpcy5wYXJlbnRNZW51LnJ1bkxvY2FsSG9va3MoImV4ZWN1dGVDb21tYW5kIix0LmtleSxvLGUpLHQuZGlzYWJsZWQ9PT0hMHx8ImZ1bmN0aW9uIj09dHlwZW9mIHQuZGlzYWJsZWQmJnQuZGlzYWJsZWQuY2FsbCh0aGlzLmhvdCk9PT0hMHx8dC5zdWJtZW51fHx0aGlzLmNsb3NlKCEwKX19fSxzZXRQb3NpdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1uZXcgTShlKTt0aGlzLm9wdGlvbnMua2VlcEluVmlld3BvcnQ/KHQuZml0c0JlbG93KHRoaXMuY29udGFpbmVyKT90aGlzLnNldFBvc2l0aW9uQmVsb3dDdXJzb3IodCk6dC5maXRzQWJvdmUodGhpcy5jb250YWluZXIpP3RoaXMuc2V0UG9zaXRpb25BYm92ZUN1cnNvcih0KTp0aGlzLnNldFBvc2l0aW9uQmVsb3dDdXJzb3IodCksdC5maXRzT25SaWdodCh0aGlzLmNvbnRhaW5lcik/dGhpcy5zZXRQb3NpdGlvbk9uUmlnaHRPZkN1cnNvcih0KTp0aGlzLnNldFBvc2l0aW9uT25MZWZ0T2ZDdXJzb3IodCkpOih0aGlzLnNldFBvc2l0aW9uQmVsb3dDdXJzb3IodCksdGhpcy5zZXRQb3NpdGlvbk9uUmlnaHRPZkN1cnNvcih0KSl9LHNldFBvc2l0aW9uQWJvdmVDdXJzb3I6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vZmZzZXQuYWJvdmUrZS50b3AtdGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0O3RoaXMuaXNTdWJNZW51KCkmJih0PWUudG9wK2UuY2VsbEhlaWdodC10aGlzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQrMyksdGhpcy5jb250YWluZXIuc3R5bGUudG9wPXQrInB4In0sc2V0UG9zaXRpb25CZWxvd0N1cnNvcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzLm9mZnNldC5iZWxvdytlLnRvcDt0aGlzLmlzU3ViTWVudSgpJiYodD1lLnRvcC0xKSx0aGlzLmNvbnRhaW5lci5zdHlsZS50b3A9dCsicHgifSxzZXRQb3NpdGlvbk9uUmlnaHRPZkN1cnNvcjpmdW5jdGlvbihlKXt2YXIgdDt0PXRoaXMuaXNTdWJNZW51KCk/MStlLmxlZnQrZS5jZWxsV2lkdGg6dGhpcy5vZmZzZXQucmlnaHQrMStlLmxlZnQsdGhpcy5jb250YWluZXIuc3R5bGUubGVmdD10KyJweCJ9LHNldFBvc2l0aW9uT25MZWZ0T2ZDdXJzb3I6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vZmZzZXQubGVmdCtlLmxlZnQtdGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgrYigpKzQ7dGhpcy5jb250YWluZXIuc3R5bGUubGVmdD10KyJweCJ9LHNlbGVjdEZpcnN0Q2VsbDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90TWVudS5nZXRDZWxsKDAsMCk7TChlKXx8UChlKXx8VyhlKT90aGlzLnNlbGVjdE5leHRDZWxsKDAsMCk6dGhpcy5ob3RNZW51LnNlbGVjdENlbGwoMCwwKX0sc2VsZWN0TGFzdENlbGw6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvdE1lbnUuY291bnRSb3dzKCktMSx0PXRoaXMuaG90TWVudS5nZXRDZWxsKGUsMCk7TCh0KXx8UCh0KXx8Vyh0KT90aGlzLnNlbGVjdFByZXZDZWxsKGUsMCk6dGhpcy5ob3RNZW51LnNlbGVjdENlbGwoZSwwKX0sc2VsZWN0TmV4dENlbGw6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lKzEsbz1uPHRoaXMuaG90TWVudS5jb3VudFJvd3MoKT90aGlzLmhvdE1lbnUuZ2V0Q2VsbChuLHQpOm51bGw7byYmKEwobyl8fFAobyl8fFcobyk/dGhpcy5zZWxlY3ROZXh0Q2VsbChuLHQpOnRoaXMuaG90TWVudS5zZWxlY3RDZWxsKG4sdCkpfSxzZWxlY3RQcmV2Q2VsbDpmdW5jdGlvbihlLHQpe3ZhciBuPWUtMSxvPW4+PTA/dGhpcy5ob3RNZW51LmdldENlbGwobix0KTpudWxsO28mJihMKG8pfHxQKG8pfHxXKG8pP3RoaXMuc2VsZWN0UHJldkNlbGwobix0KTp0aGlzLmhvdE1lbnUuc2VsZWN0Q2VsbChuLHQpKX0sbWVudUl0ZW1SZW5kZXJlcjpmdW5jdGlvbihlLHQsbixvLHIsaSl7dmFyIHM9dGhpcyxsPWUuZ2V0U291cmNlRGF0YUF0Um93KG4pLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eSgic3VibWVudSIpfSxjPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUmVnRXhwKEYsImkiKS50ZXN0KGUubmFtZSl9LGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZGlzYWJsZWQ9PT0hMHx8ImZ1bmN0aW9uIj09dHlwZW9mIGUuZGlzYWJsZWQmJmUuZGlzYWJsZWQuY2FsbChzLmhvdCk9PT0hMH0sZD1mdW5jdGlvbihlKXtyZXR1cm4gZS5kaXNhYmxlU2VsZWN0aW9ufTsiZnVuY3Rpb24iPT10eXBlb2YgaSYmKGk9aS5jYWxsKHRoaXMuaG90KSksdih0KSx3KGEsImh0SXRlbVdyYXBwZXIiKSx0LmFwcGVuZENoaWxkKGEpLGMobCk/dyh0LCJodFNlcGFyYXRvciIpOiJmdW5jdGlvbiI9PXR5cGVvZiBsLnJlbmRlcmVyPyh3KHQsImh0Q3VzdG9tTWVudVJlbmRlcmVyIiksdC5hcHBlbmRDaGlsZChsLnJlbmRlcmVyKGUsYSxuLG8scixpKSkpOnkoYSxpKSxoKGwpPyh3KHQsImh0RGlzYWJsZWQiKSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHQsIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVzZWxlY3RDZWxsKCl9KSk6ZChsKT8odyh0LCJodFNlbGVjdGlvbkRpc2FibGVkIiksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0LCJtb3VzZWVudGVyIixmdW5jdGlvbigpe3JldHVybiBlLmRlc2VsZWN0Q2VsbCgpfSkpOnUobCk/KHcodCwiaHRTdWJtZW51IiksZChsKT90aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHQsIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGUuZGVzZWxlY3RDZWxsKCl9KTp0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHQsIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2VsZWN0Q2VsbChuLG8sdm9pZCAwLHZvaWQgMCx2b2lkIDAsITEpfSkpOihfKHQsImh0U3VibWVudSIpLF8odCwiaHREaXNhYmxlZCIpLGQobCk/dGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0LCJtb3VzZWVudGVyIixmdW5jdGlvbigpe3JldHVybiBlLmRlc2VsZWN0Q2VsbCgpfSk6dGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0LCJtb3VzZWVudGVyIixmdW5jdGlvbigpe3JldHVybiBlLnNlbGVjdENlbGwobixvLHZvaWQgMCx2b2lkIDAsdm9pZCAwLCExKX0pKX0sY3JlYXRlQ29udGFpbmVyOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO2UmJihlPWUucmVwbGFjZSgvIC9nLCJfIiksZT10aGlzLm9wdGlvbnMuY2xhc3NOYW1lKyJTdWJfIitlKTt2YXIgdDtyZXR1cm4gdD1lP2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi4iK3RoaXMub3B0aW9ucy5jbGFzc05hbWUrIi4iK2UpOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi4iK3RoaXMub3B0aW9ucy5jbGFzc05hbWUpLHR8fCh0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHcodCwiaHRNZW51ICIrdGhpcy5vcHRpb25zLmNsYXNzTmFtZSksZSYmdyh0LGUpLGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uYXBwZW5kQ2hpbGQodCkpLHR9LGJsb2NrTWFpblRhYmxlQ2FsbGJhY2tzOmZ1bmN0aW9uKCl7dGhpcy5fYWZ0ZXJTY3JvbGxDYWxsYmFjaz1mdW5jdGlvbigpe30sdGhpcy5ob3QuYWRkSG9vaygiYWZ0ZXJTY3JvbGxWZXJ0aWNhbGx5Iix0aGlzLl9hZnRlclNjcm9sbENhbGxiYWNrKSx0aGlzLmhvdC5hZGRIb29rKCJhZnRlclNjcm9sbEhvcml6b250YWxseSIsdGhpcy5fYWZ0ZXJTY3JvbGxDYWxsYmFjayl9LHJlbGVhc2VNYWluVGFibGVDYWxsYmFja3M6ZnVuY3Rpb24oKXt0aGlzLl9hZnRlclNjcm9sbENhbGxiYWNrJiYodGhpcy5ob3QucmVtb3ZlSG9vaygiYWZ0ZXJTY3JvbGxWZXJ0aWNhbGx5Iix0aGlzLl9hZnRlclNjcm9sbENhbGxiYWNrKSx0aGlzLmhvdC5yZW1vdmVIb29rKCJhZnRlclNjcm9sbEhvcml6b250YWxseSIsdGhpcy5fYWZ0ZXJTY3JvbGxDYWxsYmFjayksdGhpcy5fYWZ0ZXJTY3JvbGxDYWxsYmFjaz1udWxsKX0sb25CZWZvcmVLZXlEb3duOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaG90TWVudS5nZXRTZWxlY3RlZCgpLG49ITE7c3dpdGNoKGUua2V5Q29kZSl7Y2FzZSBqLkVTQ0FQRTp0aGlzLmNsb3NlKCksbj0hMDticmVhaztjYXNlIGouRU5URVI6dCYmKHRoaXMuaG90TWVudS5nZXRTb3VyY2VEYXRhQXRSb3codFswXSkuc3VibWVudT9uPSEwOih0aGlzLmV4ZWN1dGVDb21tYW5kKGUpLHRoaXMuY2xvc2UoITApKSk7YnJlYWs7Y2FzZSBqLkFSUk9XX0RPV046dD90aGlzLnNlbGVjdE5leHRDZWxsKHRbMF0sdFsxXSk6dGhpcy5zZWxlY3RGaXJzdENlbGwoKSxuPSEwO2JyZWFrO2Nhc2Ugai5BUlJPV19VUDp0P3RoaXMuc2VsZWN0UHJldkNlbGwodFswXSx0WzFdKTp0aGlzLnNlbGVjdExhc3RDZWxsKCksbj0hMDticmVhaztjYXNlIGouQVJST1dfUklHSFQ6aWYodCl7dmFyIG89dGhpcy5vcGVuU3ViTWVudSh0WzBdKTtvJiZvLnNlbGVjdEZpcnN0Q2VsbCgpfW49ITA7YnJlYWs7Y2FzZSBqLkFSUk9XX0xFRlQ6dCYmdGhpcy5pc1N1Yk1lbnUoKSYmKHRoaXMuY2xvc2UoKSx0aGlzLnBhcmVudE1lbnUmJnRoaXMucGFyZW50TWVudS5ob3RNZW51Lmxpc3RlbigpLG49ITApfW4mJihlLnByZXZlbnREZWZhdWx0KCksQihlKSl9LG9uQWZ0ZXJJbml0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3RNZW51LmdldFNldHRpbmdzKCkuZGF0YSx0PXRoaXMuaG90TWVudS52aWV3Lnd0Lnd0VGFibGUuaGlkZXIuc3R5bGUsbj10aGlzLmhvdE1lbnUudmlldy53dC53dFRhYmxlLmhvbGRlci5zdHlsZSxvPXBhcnNlSW50KHQud2lkdGgsMTApLHI9VChlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrKHQubmFtZT09PUY/MToyNil9LDApO24ud2lkdGg9bysyMisicHgiLG4uaGVpZ2h0PXIrNCsicHgifSxvbkRvY3VtZW50TW91c2VEb3duOmZ1bmN0aW9uKGUpe3RoaXMuaXNPcGVuZWQoKSYmKHRoaXMuY29udGFpbmVyJiZDKGUudGFyZ2V0LHRoaXMuY29udGFpbmVyKSYmdGhpcy5leGVjdXRlQ29tbWFuZChlKSx0aGlzLm9wdGlvbnMuc3RhbmRhbG9uZSYmdGhpcy5ob3RNZW51JiYhQyhlLnRhcmdldCx0aGlzLmhvdE1lbnUucm9vdEVsZW1lbnQpP3RoaXMuY2xvc2UoITApOih0aGlzLmlzQWxsU3ViTWVudXNDbG9zZWQoKXx8dGhpcy5pc1N1Yk1lbnUoKSkmJiFDKGUudGFyZ2V0LCIuaHRNZW51IikmJkMoZS50YXJnZXQsZG9jdW1lbnQpJiZ0aGlzLmNsb3NlKCEwKSl9fSx7fSksayh6LFYpfSx7YnJvd3NlcjoyMyxjdXJzb3I6NjksZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9kb20vZWxlbWVudCI6NDYsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NywiaGVscGVycy9mdW5jdGlvbiI6NDksImhlbHBlcnMvb2JqZWN0Ijo1MiwiaGVscGVycy91bmljb2RlIjo1NSwibWl4aW5zL2xvY2FsSG9va3MiOjU2LHByZWRlZmluZWRJdGVtczo3Mix1dGlsczo3M31dLDcyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oKXt2YXIgZT17fTtyZXR1cm4gYyhELGZ1bmN0aW9uKHQsbil7cmV0dXJuIGVbbl09aCh0KX0pLGV9ZnVuY3Rpb24gcihlLHQpey0xPT09SC5pbmRleE9mKGUpJiYoRFtlXT10KX12YXIgaTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtST1dfQUJPVkU6e2dldDpmdW5jdGlvbigpe3JldHVybiB2fX0sUk9XX0JFTE9XOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geX19LENPTFVNTl9MRUZUOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn19LENPTFVNTl9SSUdIVDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEN9fSxDTEVBUl9DT0xVTU46e2dldDpmdW5jdGlvbigpe3JldHVybiBffX0sUkVNT1ZFX1JPVzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFJ9fSxSRU1PVkVfQ09MVU1OOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gU319LFVORE86e2dldDpmdW5jdGlvbigpe3JldHVybiBFfX0sUkVETzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFR9fSxSRUFEX09OTFk6e2dldDpmdW5jdGlvbigpe3JldHVybiBNfX0sQUxJR05NRU5UOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gT319LFNFUEFSQVRPUjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGt9fSxJVEVNUzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEh9fSxwcmVkZWZpbmVkSXRlbXM6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sYWRkSXRlbTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcyxsLGEsdT0ocz1lKCJoZWxwZXJzL29iamVjdCIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksYz11Lm9iamVjdEVhY2gsaD11LmNsb25lLGQ9KChsPWUoImhlbHBlcnMvbnVtYmVyIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5yYW5nZUVhY2gsYT1lKCJ1dGlscyIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSksZj1kLmFsaWduLHA9ZC5nZXRBbGlnbm1lbnRDbGFzc2VzLGc9ZC5nZXRWYWxpZFNlbGVjdGlvbixtPWQuY2hlY2tTZWxlY3Rpb25Db25zaXN0ZW5jeSx3PWQubWFya0xhYmVsQXNTZWxlY3RlZCx2PSJyb3dfYWJvdmUiLHk9InJvd19iZWxvdyIsYj0iY29sX2xlZnQiLEM9ImNvbF9yaWdodCIsXz0iY2xlYXJfY29sdW1uIixSPSJyZW1vdmVfcm93IixTPSJyZW1vdmVfY29sIixFPSJ1bmRvIixUPSJyZWRvIixNPSJtYWtlX3JlYWRfb25seSIsTz0iYWxpZ25tZW50IixrPSItLS0tLS0tLS0iLEg9W3YseSxiLEMsXyxSLFMsRSxULE0sTyxrXSxEPShpPXt9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLGsse3ZhbHVlOntuYW1lOmt9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksdix7dmFsdWU6e2tleTp2LG5hbWU6Ikluc2VydCByb3cgYWJvdmUiLGNhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7dGhpcy5hbHRlcigiaW5zZXJ0X3JvdyIsdC5zdGFydC5yb3cpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3ZhciBlPWcodGhpcyk7aWYoIWV8fHRoaXMuY291bnRSb3dzKCk+PXRoaXMuZ2V0U2V0dGluZ3MoKS5tYXhSb3dzKXJldHVybiEwO3ZhciB0PXRoaXMuY291bnRSb3dzKCksbj1bMCxlWzFdLHQtMSxlWzFdXTtyZXR1cm4gbi5qb2luKCIsIik9PT1lLmpvaW4oIiwiKSYmdD4xfSxoaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5nZXRTZXR0aW5ncygpLmFsbG93SW5zZXJ0Um93fX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSx5LHt2YWx1ZTp7a2V5OnksbmFtZToiSW5zZXJ0IHJvdyBiZWxvdyIsY2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXt0aGlzLmFsdGVyKCJpbnNlcnRfcm93Iix0LmVuZC5yb3crMSl9LGRpc2FibGVkOmZ1bmN0aW9uKCl7dmFyIGU9Zyh0aGlzKTtpZighZXx8dGhpcy5jb3VudFJvd3MoKT49dGhpcy5nZXRTZXR0aW5ncygpLm1heFJvd3MpcmV0dXJuITA7dmFyIHQ9dGhpcy5jb3VudFJvd3MoKSxuPVswLGVbMV0sdC0xLGVbMV1dO3JldHVybiBuLmpvaW4oIiwiKT09PWUuam9pbigiLCIpJiZ0PjF9LGhpZGRlbjpmdW5jdGlvbigpe3JldHVybiF0aGlzLmdldFNldHRpbmdzKCkuYWxsb3dJbnNlcnRSb3d9fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLGIse3ZhbHVlOntrZXk6YixuYW1lOiJJbnNlcnQgY29sdW1uIG9uIHRoZSBsZWZ0IixjYWxsYmFjazpmdW5jdGlvbihlLHQpe3RoaXMuYWx0ZXIoImluc2VydF9jb2wiLHQuc3RhcnQuY29sKX0sZGlzYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgZT1nKHRoaXMpO2lmKCFlKXJldHVybiEwO2lmKCF0aGlzLmlzQ29sdW1uTW9kaWZpY2F0aW9uQWxsb3dlZCgpKXJldHVybiEwO3ZhciB0PVtlWzBdLDAsZVswXSx0aGlzLmNvdW50Q29scygpLTFdLG49dC5qb2luKCIsIik9PWUuam9pbigiLCIpLG89MT09dGhpcy5jb3VudENvbHMoKTtyZXR1cm4gZVsxXTwwfHx0aGlzLmNvdW50Q29scygpPj10aGlzLmdldFNldHRpbmdzKCkubWF4Q29sc3x8IW8mJm59LGhpZGRlbjpmdW5jdGlvbigpe3JldHVybiF0aGlzLmdldFNldHRpbmdzKCkuYWxsb3dJbnNlcnRDb2x1bW59fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLEMse3ZhbHVlOntrZXk6QyxuYW1lOiJJbnNlcnQgY29sdW1uIG9uIHRoZSByaWdodCIsY2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXt0aGlzLmFsdGVyKCJpbnNlcnRfY29sIix0LmVuZC5jb2wrMSl9LGRpc2FibGVkOmZ1bmN0aW9uKCl7dmFyIGU9Zyh0aGlzKTtpZighZSlyZXR1cm4hMDtpZighdGhpcy5pc0NvbHVtbk1vZGlmaWNhdGlvbkFsbG93ZWQoKSlyZXR1cm4hMDt2YXIgdD1bZVswXSwwLGVbMF0sdGhpcy5jb3VudENvbHMoKS0xXSxuPXQuam9pbigiLCIpPT1lLmpvaW4oIiwiKSxvPTE9PXRoaXMuY291bnRDb2xzKCk7cmV0dXJuIGVbMV08MHx8dGhpcy5jb3VudENvbHMoKT49dGhpcy5nZXRTZXR0aW5ncygpLm1heENvbHN8fCFvJiZufSxoaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5nZXRTZXR0aW5ncygpLmFsbG93SW5zZXJ0Q29sdW1ufX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxfLHt2YWx1ZTp7a2V5Ol8sbmFtZToiQ2xlYXIgY29sdW1uIixjYWxsYmFjazpmdW5jdGlvbihlLHQpe3ZhciBuPXQuc3RhcnQuY29sO3RoaXMuY291bnRSb3dzKCkmJnRoaXMucG9wdWxhdGVGcm9tQXJyYXkoMCxuLFtbbnVsbF1dLE1hdGgubWF4KHQuc3RhcnQucm93LHQuZW5kLnJvdyksbil9LGRpc2FibGVkOmZ1bmN0aW9uKCl7dmFyIGU9Zyh0aGlzKTtpZighZSlyZXR1cm4hMDt2YXIgdD1bZVswXSwwLGVbMF0sdGhpcy5jb3VudENvbHMoKS0xXSxuPXQuam9pbigiLCIpPT1lLmpvaW4oIiwiKTtyZXR1cm4gZVsxXTwwfHx0aGlzLmNvdW50Q29scygpPj10aGlzLmdldFNldHRpbmdzKCkubWF4Q29sc3x8bn19LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksUix7dmFsdWU6e2tleTpSLG5hbWU6IlJlbW92ZSByb3ciLGNhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5lbmQucm93LXQuc3RhcnQucm93KzE7dGhpcy5hbHRlcigicmVtb3ZlX3JvdyIsdC5zdGFydC5yb3csbil9LGRpc2FibGVkOmZ1bmN0aW9uKCl7dmFyIGU9Zyh0aGlzKTtpZighZXx8dGhpcy5zZWxlY3Rpb24uc2VsZWN0ZWRIZWFkZXIuY29scylyZXR1cm4hMDt2YXIgdD1bMCxlWzFdLHRoaXMuY291bnRSb3dzKCktMSxlWzFdXTtyZXR1cm4gdC5qb2luKCIsIik9PT1lLmpvaW4oIiwiKX0saGlkZGVuOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZ2V0U2V0dGluZ3MoKS5hbGxvd1JlbW92ZVJvd319LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksUyx7dmFsdWU6e2tleTpTLG5hbWU6IlJlbW92ZSBjb2x1bW4iLGNhbGxiYWNrOmZ1bmN0aW9uKGUsdCl7dmFyIG49dC5lbmQuY29sLXQuc3RhcnQuY29sKzE7dGhpcy5hbHRlcigicmVtb3ZlX2NvbCIsdC5zdGFydC5jb2wsbil9LGRpc2FibGVkOmZ1bmN0aW9uKCl7dmFyIGU9Zyh0aGlzKTtpZighZXx8dGhpcy5zZWxlY3Rpb24uc2VsZWN0ZWRIZWFkZXIucm93cylyZXR1cm4hMDtpZighdGhpcy5pc0NvbHVtbk1vZGlmaWNhdGlvbkFsbG93ZWQoKSlyZXR1cm4hMDt2YXIgdD1bZVswXSwwLGVbMF0sdGhpcy5jb3VudENvbHMoKS0xXSxuPXQuam9pbigiLCIpPT1lLmpvaW4oIiwiKTtyZXR1cm4gZVsxXTwwfHxufSxoaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5nZXRTZXR0aW5ncygpLmFsbG93UmVtb3ZlQ29sdW1ufX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxFLHt2YWx1ZTp7a2V5OkUsbmFtZToiVW5kbyIsY2FsbGJhY2s6ZnVuY3Rpb24oKXt0aGlzLnVuZG8oKX0sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bmRvUmVkbyYmIXRoaXMudW5kb1JlZG8uaXNVbmRvQXZhaWxhYmxlKCl9fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFQse3ZhbHVlOntrZXk6VCxuYW1lOiJSZWRvIixjYWxsYmFjazpmdW5jdGlvbigpe3RoaXMucmVkbygpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVuZG9SZWRvJiYhdGhpcy51bmRvUmVkby5pc1JlZG9BdmFpbGFibGUoKX19LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksTSx7dmFsdWU6e2tleTpNLG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9IlJlYWQgb25seSIsbj1tKHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKS5yZWFkT25seX0pO3JldHVybiBuJiYodD13KHQpKSx0fSxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxuPW0odCxmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldENlbGxNZXRhKHQsbikucmVhZE9ubHl9KTt0LmZvckFsbChmdW5jdGlvbih0LG8pe2UuZ2V0Q2VsbE1ldGEodCxvKS5yZWFkT25seT0hbn0pLHRoaXMucmVuZGVyKCl9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpfX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxPLHt2YWx1ZTp7a2V5Ok8sbmFtZToiQWxpZ25tZW50IixkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKX0sc3VibWVudTp7aXRlbXM6W3trZXk6TysiOmxlZnQiLG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9IkxlZnQiLG49bSh0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxmdW5jdGlvbih0LG4pe3ZhciBvPWUuZ2V0Q2VsbE1ldGEodCxuKS5jbGFzc05hbWU7cmV0dXJuIG8mJi0xIT09by5pbmRleE9mKCJodExlZnQiKT8hMDp2b2lkIDB9KTtyZXR1cm4gbiYmKHQ9dyh0KSksdH0sY2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksbj1wKHQsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRDZWxsTWV0YSh0LG4pLmNsYXNzTmFtZTsKfSksbz0iaG9yaXpvbnRhbCIscj0iaHRMZWZ0Ijt0aGlzLnJ1bkhvb2tzKCJiZWZvcmVDZWxsQWxpZ25tZW50IixuLHQsbyxyKSxmKHQsbyxyLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKX0pLHRoaXMucmVuZGVyKCl9LGRpc2FibGVkOiExfSx7a2V5Ok8rIjpjZW50ZXIiLG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9IkNlbnRlciIsbj1tKHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLGZ1bmN0aW9uKHQsbil7dmFyIG89ZS5nZXRDZWxsTWV0YSh0LG4pLmNsYXNzTmFtZTtyZXR1cm4gbyYmLTEhPT1vLmluZGV4T2YoImh0Q2VudGVyIik/ITA6dm9pZCAwfSk7cmV0dXJuIG4mJih0PXcodCkpLHR9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLG49cCh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKS5jbGFzc05hbWV9KSxvPSJob3Jpem9udGFsIixyPSJodENlbnRlciI7dGhpcy5ydW5Ib29rcygiYmVmb3JlQ2VsbEFsaWdubWVudCIsbix0LG8sciksZih0LG8scixmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldENlbGxNZXRhKHQsbil9KSx0aGlzLnJlbmRlcigpfSxkaXNhYmxlZDohMX0se2tleTpPKyI6cmlnaHQiLG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9IlJpZ2h0IixuPW0odGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksZnVuY3Rpb24odCxuKXt2YXIgbz1lLmdldENlbGxNZXRhKHQsbikuY2xhc3NOYW1lO3JldHVybiBvJiYtMSE9PW8uaW5kZXhPZigiaHRSaWdodCIpPyEwOnZvaWQgMH0pO3JldHVybiBuJiYodD13KHQpKSx0fSxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxuPXAodCxmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldENlbGxNZXRhKHQsbikuY2xhc3NOYW1lfSksbz0iaG9yaXpvbnRhbCIscj0iaHRSaWdodCI7dGhpcy5ydW5Ib29rcygiYmVmb3JlQ2VsbEFsaWdubWVudCIsbix0LG8sciksZih0LG8scixmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldENlbGxNZXRhKHQsbil9KSx0aGlzLnJlbmRlcigpfSxkaXNhYmxlZDohMX0se2tleTpPKyI6anVzdGlmeSIsbmFtZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0iSnVzdGlmeSIsbj1tKHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLGZ1bmN0aW9uKHQsbil7dmFyIG89ZS5nZXRDZWxsTWV0YSh0LG4pLmNsYXNzTmFtZTtyZXR1cm4gbyYmLTEhPT1vLmluZGV4T2YoImh0SnVzdGlmeSIpPyEwOnZvaWQgMH0pO3JldHVybiBuJiYodD13KHQpKSx0fSxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxuPXAodCxmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldENlbGxNZXRhKHQsbikuY2xhc3NOYW1lfSksbz0iaG9yaXpvbnRhbCIscj0iaHRKdXN0aWZ5Ijt0aGlzLnJ1bkhvb2tzKCJiZWZvcmVDZWxsQWxpZ25tZW50IixuLHQsbyxyKSxmKHQsbyxyLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKX0pLHRoaXMucmVuZGVyKCl9LGRpc2FibGVkOiExfSx7bmFtZTprfSx7a2V5Ok8rIjp0b3AiLG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9IlRvcCIsbj1tKHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLGZ1bmN0aW9uKHQsbil7dmFyIG89ZS5nZXRDZWxsTWV0YSh0LG4pLmNsYXNzTmFtZTtyZXR1cm4gbyYmLTEhPT1vLmluZGV4T2YoImh0VG9wIik/ITA6dm9pZCAwfSk7cmV0dXJuIG4mJih0PXcodCkpLHR9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLG49cCh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKS5jbGFzc05hbWV9KSxvPSJ2ZXJ0aWNhbCIscj0iaHRUb3AiO3RoaXMucnVuSG9va3MoImJlZm9yZUNlbGxBbGlnbm1lbnQiLG4sdCxvLHIpLGYodCxvLHIsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRDZWxsTWV0YSh0LG4pfSksdGhpcy5yZW5kZXIoKX0sZGlzYWJsZWQ6ITF9LHtrZXk6TysiOm1pZGRsZSIsbmFtZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD0iTWlkZGxlIixuPW0odGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksZnVuY3Rpb24odCxuKXt2YXIgbz1lLmdldENlbGxNZXRhKHQsbikuY2xhc3NOYW1lO3JldHVybiBvJiYtMSE9PW8uaW5kZXhPZigiaHRNaWRkbGUiKT8hMDp2b2lkIDB9KTtyZXR1cm4gbiYmKHQ9dyh0KSksdH0sY2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksbj1wKHQsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5nZXRDZWxsTWV0YSh0LG4pLmNsYXNzTmFtZX0pLG89InZlcnRpY2FsIixyPSJodE1pZGRsZSI7dGhpcy5ydW5Ib29rcygiYmVmb3JlQ2VsbEFsaWdubWVudCIsbix0LG8sciksZih0LG8scixmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldENlbGxNZXRhKHQsbil9KSx0aGlzLnJlbmRlcigpfSxkaXNhYmxlZDohMX0se2tleTpPKyI6Ym90dG9tIixuYW1lOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSJCb3R0b20iLG49bSh0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxmdW5jdGlvbih0LG4pe3ZhciBvPWUuZ2V0Q2VsbE1ldGEodCxuKS5jbGFzc05hbWU7cmV0dXJuIG8mJi0xIT09by5pbmRleE9mKCJodEJvdHRvbSIpPyEwOnZvaWQgMH0pO3JldHVybiBuJiYodD13KHQpKSx0fSxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSxuPXAodCxmdW5jdGlvbih0LG4pe3JldHVybiBlLmdldENlbGxNZXRhKHQsbikuY2xhc3NOYW1lfSksbz0idmVydGljYWwiLHI9Imh0Qm90dG9tIjt0aGlzLnJ1bkhvb2tzKCJiZWZvcmVDZWxsQWxpZ25tZW50IixuLHQsbyxyKSxmKHQsbyxyLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuZ2V0Q2VsbE1ldGEodCxuKX0pLHRoaXMucmVuZGVyKCl9LGRpc2FibGVkOiExfV19fSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMH0pLGkpfSx7ImhlbHBlcnMvbnVtYmVyIjo1MSwiaGVscGVycy9vYmplY3QiOjUyLHV0aWxzOjczfV0sNzM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm57c3RhcnQ6ZS5nZXRUb3BMZWZ0Q29ybmVyKCksZW5kOmUuZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKX19ZnVuY3Rpb24gcihlKXtyZXR1cm4gRShlLCJodFNlcGFyYXRvciIpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIEUoZSwiaHRTdWJtZW51Iil9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gRShlLCJodERpc2FibGVkIil9ZnVuY3Rpb24gbChlKXtyZXR1cm4gRShlLCJodFNlbGVjdGlvbkRpc2FibGVkIil9ZnVuY3Rpb24gYShlKXt2YXIgdD1lLmdldFNlbGVjdGVkKCk7cmV0dXJuIHQ/dFswXTwwP251bGw6dDpudWxsfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4tMSE9ZS5pbmRleE9mKHQpP2U6KGU9ZS5yZXBsYWNlKCJodFRvcCIsIiIpLnJlcGxhY2UoImh0TWlkZGxlIiwiIikucmVwbGFjZSgiaHRCb3R0b20iLCIiKS5yZXBsYWNlKCIgICIsIiIpLGUrPSIgIit0KX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuLTEhPWUuaW5kZXhPZih0KT9lOihlPWUucmVwbGFjZSgiaHRMZWZ0IiwiIikucmVwbGFjZSgiaHRDZW50ZXIiLCIiKS5yZXBsYWNlKCJodFJpZ2h0IiwiIikucmVwbGFjZSgiaHRKdXN0aWZ5IiwiIikucmVwbGFjZSgiICAiLCIiKSxlKz0iICIrdCl9ZnVuY3Rpb24gaChlLHQpe2Zvcih2YXIgbj17fSxvPWUuZnJvbS5yb3c7bzw9ZS50by5yb3c7bysrKWZvcih2YXIgcj1lLmZyb20uY29sO3I8PWUudG8uY29sO3IrKyluW29dfHwobltvXT1bXSksbltvXVtyXT10KG8scik7cmV0dXJuIG59ZnVuY3Rpb24gZChlLHQsbixvKXtpZihlLmZyb20ucm93PT1lLnRvLnJvdyYmZS5mcm9tLmNvbD09ZS50by5jb2wpZihlLmZyb20ucm93LGUuZnJvbS5jb2wsdCxuLG8pO2Vsc2UgZm9yKHZhciByPWUuZnJvbS5yb3c7cjw9ZS50by5yb3c7cisrKWZvcih2YXIgaT1lLmZyb20uY29sO2k8PWUudG8uY29sO2krKylmKHIsaSx0LG4sbyl9ZnVuY3Rpb24gZihlLHQsbixvLHIpe3ZhciBpPXIoZSx0KSxzPW87aS5jbGFzc05hbWUmJihzPSJ2ZXJ0aWNhbCI9PT1uP3UoaS5jbGFzc05hbWUsbyk6YyhpLmNsYXNzTmFtZSxvKSksaS5jbGFzc05hbWU9c31mdW5jdGlvbiBwKGUsdCl7dmFyIG49ITE7cmV0dXJuIGUmJmUuZm9yQWxsKGZ1bmN0aW9uKGUsbyl7cmV0dXJuIHQoZSxvKT8obj0hMCwhMSk6dm9pZCAwfSksbn1mdW5jdGlvbiBnKGUpe3JldHVybic8c3BhbiBjbGFzcz0ic2VsZWN0ZWQiPicrU3RyaW5nLmZyb21DaGFyQ29kZSgxMDAwMykrIjwvc3Bhbj4iK2V9ZnVuY3Rpb24gbShlLHQpe3JldHVybiFlLmhpZGRlbnx8ISgiZnVuY3Rpb24iPT10eXBlb2YgZS5oaWRkZW4mJmUuaGlkZGVuLmNhbGwodCkpfWZ1bmN0aW9uIHcoZSx0KXtmb3IodmFyIG49ZS5zbGljZSgwKSxvPTA7bzxuLmxlbmd0aCYmbltvXS5uYW1lPT09dDspbi5zaGlmdCgpO3JldHVybiBufWZ1bmN0aW9uIHYoZSx0KXt2YXIgbj1lLnNsaWNlKDApO3JldHVybiBuLnJldmVyc2UoKSxuPXcobix0KSxuLnJldmVyc2UoKSxufWZ1bmN0aW9uIHkoZSl7dmFyIHQ9W107cmV0dXJuIFMoZSxmdW5jdGlvbihlLG4pe24+MD90W3QubGVuZ3RoLTFdLm5hbWUhPT1lLm5hbWUmJnQucHVzaChlKTp0LnB1c2goZSl9KSx0fWZ1bmN0aW9uIGIoZSl7dmFyIHQ9dm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpULG49ZS5zbGljZSgwKTtyZXR1cm4gbj13KG4sdCksbj12KG4sdCksbj15KG4pfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se25vcm1hbGl6ZVNlbGVjdGlvbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxpc1NlcGFyYXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9fSxoYXNTdWJNZW51OntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LGlzRGlzYWJsZWQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBzfX0saXNTZWxlY3Rpb25EaXNhYmxlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9fSxnZXRWYWxpZFNlbGVjdGlvbjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF9fSxwcmVwYXJlVmVydGljYWxBbGlnbkNsYXNzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19LHByZXBhcmVIb3Jpem9udGFsQWxpZ25DbGFzczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGN9fSxnZXRBbGlnbm1lbnRDbGFzc2VzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaH19LGFsaWduOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZH19LGNoZWNrU2VsZWN0aW9uQ29uc2lzdGVuY3k6e2dldDpmdW5jdGlvbigpe3JldHVybiBwfX0sbWFya0xhYmVsQXNTZWxlY3RlZDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGd9fSxpc0l0ZW1IaWRkZW46e2dldDpmdW5jdGlvbigpe3JldHVybiBtfX0sZmlsdGVyU2VwYXJhdG9yczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGJ9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgQyxfLFIsUz0oQz1lKCJoZWxwZXJzL2FycmF5IiksQyYmQy5fX2VzTW9kdWxlJiZDfHx7ImRlZmF1bHQiOkN9KS5hcnJheUVhY2gsRT0oXz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksXyYmXy5fX2VzTW9kdWxlJiZffHx7ImRlZmF1bHQiOl99KS5oYXNDbGFzcyxUPShSPWUoInByZWRlZmluZWRJdGVtcyIpLFImJlIuX19lc01vZHVsZSYmUnx8eyJkZWZhdWx0IjpSfSkuU0VQQVJBVE9SfSx7ImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NixwcmVkZWZpbmVkSXRlbXM6NzJ9XSw3NDpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtDb250ZXh0TWVudUNvcHlQYXN0ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHd9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxsLGEsdSxjPShvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0saD0ocj1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KS5yZW1vdmVDbGFzcyxkPShpPWUoImhlbHBlcnMvYXJyYXkiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmFycmF5RWFjaCxmPShzPWUoImV2ZW50TWFuYWdlciIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuRXZlbnRNYW5hZ2VyLHA9KGw9ZSgicGx1Z2lucyIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkucmVnaXN0ZXJQbHVnaW4sZz0oYT1lKCJfYmFzZSIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSlbImRlZmF1bHQiXSxtPSh1PWUoInplcm9jbGlwYm9hcmQiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pWyJkZWZhdWx0Il0sdz1mdW5jdGlvbihlKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3Rvcih2KS5jYWxsKHRoaXMsZSksdGhpcy5ldmVudE1hbmFnZXI9bmV3IGYodGhpcyksdGhpcy5zd2ZQYXRoPW51bGwsdGhpcy5vdXRzaWRlQ2xpY2tEZXNlbGVjdHNDYWNoZT1udWxsfSx2PXc7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKHcse2lzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdC5nZXRTZXR0aW5ncygpLmNvbnRleHRNZW51Q29weVBhc3RlfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLmVuYWJsZWQpeyJvYmplY3QiPT10eXBlb2YgdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5jb250ZXh0TWVudUNvcHlQYXN0ZSYmKHRoaXMuc3dmUGF0aD10aGlzLmhvdC5nZXRTZXR0aW5ncygpLmNvbnRleHRNZW51Q29weVBhc3RlLnN3ZlBhdGgpLCJ1bmRlZmluZWQiPT10eXBlb2YgbSYmY29uc29sZS5lcnJvcigiVG8gYmUgYWJsZSB0byB1c2UgdGhlIENvcHkvUGFzdGUgZmVhdHVyZSBmcm9tIHRoZSBjb250ZXh0IG1lbnUsIHlvdSBuZWVkIHRvIG1hbnVhbGx5IGluY2x1ZGUgWmVyb0NsaXBib2FyZC5qcyBmaWxlIHRvIHlvdXIgd2Vic2l0ZS4iKTt0cnl7bmV3IEFjdGl2ZVhPYmplY3QoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoIil9Y2F0Y2godCl7InVuZGVmaW5lZCI9PXR5cGVvZiBuYXZpZ2F0b3IubWltZVR5cGVzWyJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCJdJiZjb25zb2xlLmVycm9yKCJUbyBiZSBhYmxlIHRvIHVzZSB0aGUgQ29weS9QYXN0ZSBmZWF0dXJlIGZyb20gdGhlIGNvbnRleHQgbWVudSwgeW91ciBicm93c2VyIG5lZWRzIHRvIGhhdmUgRmxhc2ggUGx1Z2luIGluc3RhbGxlZC4iKX10aGlzLnN3ZlBhdGgmJm0uY29uZmlnKHtzd2ZQYXRoOnRoaXMuc3dmUGF0aH0pLHRoaXMuaG90LmFkZEhvb2soImFmdGVyQ29udGV4dE1lbnVTaG93IixmdW5jdGlvbigpe3JldHVybiBlLm9uQWZ0ZXJDb250ZXh0TWVudVNob3coKX0pLHRoaXMuaG90LmFkZEhvb2soImFmdGVyQ29udGV4dE1lbnVEZWZhdWx0T3B0aW9ucyIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25BZnRlckNvbnRleHRNZW51RGVmYXVsdE9wdGlvbnModCl9KSx0aGlzLnJlZ2lzdGVyRXZlbnRzKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsdi5wcm90b3R5cGUsImVuYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9fSxkaXNhYmxlUGx1Z2luOmZ1bmN0aW9uKCl7JHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsdi5wcm90b3R5cGUsImRpc2FibGVQbHVnaW4iKS5jYWxsKHRoaXMpfSxyZWdpc3RlckV2ZW50czpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwibW91c2VlbnRlciIsZnVuY3Rpb24oKXtyZXR1cm4gZS5yZW1vdmVDdXJyZW50Q2xhc3MoKX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7cmV0dXJuIGUucmVtb3ZlWmVyb0NsaXBib2FyZENsYXNzKCl9KX0sZ2V0Q29weVZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG90LmNvcHlQYXN0ZS5zZXRDb3B5YWJsZVRleHQoKSx0aGlzLmhvdC5jb3B5UGFzdGUuY29weVBhc3RlSW5zdGFuY2UuZWxUZXh0YXJlYS52YWx1ZX0sb25BZnRlckNvbnRleHRNZW51RGVmYXVsdE9wdGlvbnM6ZnVuY3Rpb24oZSl7ZS5pdGVtcy51bnNoaWZ0KHtrZXk6ImNvcHkiLG5hbWU6IkNvcHkifSx7a2V5OiJwYXN0ZSIsbmFtZToiUGFzdGUiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5jb3B5UGFzdGUudHJpZ2dlclBhc3RlKCl9fSxjLnBsdWdpbnMuQ29udGV4dE1lbnUuU0VQQVJBVE9SKX0sb25BZnRlckNvbnRleHRNZW51U2hvdzpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmhvdC5nZXRQbHVnaW4oImNvbnRleHRNZW51Iiksbj10Lm1lbnUuaG90TWVudS5nZXRTb3VyY2VEYXRhKCk7ZChuLGZ1bmN0aW9uKG4sbyl7aWYoImNvcHkiPT09bi5rZXkpe3ZhciByPW5ldyBtKHQubWVudS5ob3RNZW51LmdldENlbGwobywwKSk7cmV0dXJuIHIub2ZmKCksci5vbigiY29weSIsZnVuY3Rpb24odCl7dmFyIG49dC5jbGlwYm9hcmREYXRhO24uc2V0RGF0YSgidGV4dC9wbGFpbiIsZS5nZXRDb3B5VmFsdWUoKSksZS5ob3QuZ2V0U2V0dGluZ3MoKS5vdXRzaWRlQ2xpY2tEZXNlbGVjdHM9ZS5vdXRzaWRlQ2xpY2tEZXNlbGVjdHNDYWNoZX0pLCExfX0pfSxyZW1vdmVDdXJyZW50Q2xhc3M6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvdC5nZXRQbHVnaW4oImNvbnRleHRNZW51Iik7aWYoZS5tZW51LmlzT3BlbmVkKCkpe3ZhciB0PWUubWVudS5ob3RNZW51LnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoInRkLmN1cnJlbnQiKTt0JiZoKHQsImN1cnJlbnQiKX10aGlzLm91dHNpZGVDbGlja0Rlc2VsZWN0c0NhY2hlPXRoaXMuaG90LmdldFNldHRpbmdzKCkub3V0c2lkZUNsaWNrRGVzZWxlY3RzLHRoaXMuaG90LmdldFNldHRpbmdzKCkub3V0c2lkZUNsaWNrRGVzZWxlY3RzPSExfSxyZW1vdmVaZXJvQ2xpcGJvYXJkQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvdC5nZXRQbHVnaW4oImNvbnRleHRNZW51Iik7aWYoZS5tZW51LmlzT3BlbmVkKCkpe3ZhciB0PWUubWVudS5ob3RNZW51LnJvb3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoInRkLnplcm9jbGlwYm9hcmQtaXMtaG92ZXIiKTt0JiZoKHQsInplcm9jbGlwYm9hcmQtaXMtaG92ZXIiKX10aGlzLmhvdC5nZXRTZXR0aW5ncygpLm91dHNpZGVDbGlja0Rlc2VsZWN0cz10aGlzLm91dHNpZGVDbGlja0Rlc2VsZWN0c0NhY2hlfX0se30sZykscCgiY29udGV4dE1lbnVDb3B5UGFzdGUiLHcpfSx7X2Jhc2U6NjAsYnJvd3NlcjoyMyxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NixwbHVnaW5zOjU5LHplcm9jbGlwYm9hcmQ6Inplcm9jbGlwYm9hcmQifV0sNzU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtmdW5jdGlvbiB0KCl7ZS5pc0xpc3RlbmluZygpJiZlLnNlbGVjdGlvbi5lbXB0eSgpfWZ1bmN0aW9uIG4odCl7dmFyIG4sbyxyLGkscyxsLGEsdSxjLGg7aWYoZS5pc0xpc3RlbmluZygpJiZlLnNlbGVjdGlvbi5pc1NlbGVjdGVkKCkpe249dCxvPXkucGFyc2Uobikscj1lLmdldFNlbGVjdGVkKCksaT1uZXcgSChyWzBdLHJbMV0pLHM9bmV3IEgoclsyXSxyWzNdKSxsPW5ldyBEKGksaSxzKSxhPWwuZ2V0VG9wTGVmdENvcm5lcigpLHU9bC5nZXRCb3R0b21SaWdodENvcm5lcigpLGM9YSxoPW5ldyBIKE1hdGgubWF4KHUucm93LG8ubGVuZ3RoLTErYS5yb3cpLE1hdGgubWF4KHUuY29sLG9bMF0ubGVuZ3RoLTErYS5jb2wpKTt2YXIgZD1zLnJvdy1pLnJvdz49by5sZW5ndGgtMSxmPXMuY29sLWkuY29sPj1vWzBdLmxlbmd0aC0xO2UuYWRkSG9va09uY2UoImFmdGVyQ2hhbmdlIixmdW5jdGlvbih0LG4pe3ZhciBvPXQ/dC5sZW5ndGg6MDtpZihvKXt2YXIgcj17cm93OjAsY29sOjB9LGk9LTE7Uih0LGZ1bmN0aW9uKGUsbil7dmFyIHM9bz5uKzE/dFtuKzFdOm51bGw7cyYmKGR8fChyLnJvdz1yLnJvdytNYXRoLm1heChzWzBdLWVbMF0tMSwwKSksIWYmJmVbMV0+aSYmKGk9ZVsxXSxyLmNvbD1yLmNvbCtNYXRoLm1heChzWzFdLWVbMV0tMSwwKSkpfSksZS5zZWxlY3RDZWxsKGMucm93LGMuY29sLGgucm93K3Iucm93LGguY29sK3IuY29sKX19KSxlLnBvcHVsYXRlRnJvbUFycmF5KGMucm93LGMuY29sLG8saC5yb3csaC5jb2wsInBhc3RlIixlLmdldFNldHRpbmdzKCkucGFzdGVNb2RlKX19ZnVuY3Rpb24gbyh0KXtpZihlLmdldFNlbGVjdGVkKCkmJiEoZS5nZXRBY3RpdmVFZGl0b3IoKSYmZS5nZXRBY3RpdmVFZGl0b3IoKS5pc09wZW5lZCgpfHxNKHQpKSl7aWYoXyh0LmtleUNvZGUpKXtpZihlLmdldFNldHRpbmdzKCkuZnJhZ21lbnRTZWxlY3Rpb24mJk8oKSlyZXR1cm47cmV0dXJuIHIuc2V0Q29weWFibGVUZXh0KCksdm9pZCBUKHQpfXZhciBuPSh0LmN0cmxLZXl8fHQubWV0YUtleSkmJiF0LmFsdEtleTt0LmtleUNvZGU9PUMuQSYmbiYmZS5fcmVnaXN0ZXJUaW1lb3V0KHNldFRpbWVvdXQoayhyLnNldENvcHlhYmxlVGV4dCxyKSwwKSl9fXZhciByPXRoaXM7dGhpcy5jb3B5UGFzdGVJbnN0YW5jZT12KCksdGhpcy5jb3B5UGFzdGVJbnN0YW5jZS5vbkN1dCh0KSx0aGlzLmNvcHlQYXN0ZUluc3RhbmNlLm9uUGFzdGUobiksdGhpcy5vblBhc3RlPW4sZS5hZGRIb29rKCJiZWZvcmVLZXlEb3duIixvKSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmNvcHlQYXN0ZUluc3RhbmNlJiYodGhpcy5jb3B5UGFzdGVJbnN0YW5jZS5yZW1vdmVDYWxsYmFjayh0KSx0aGlzLmNvcHlQYXN0ZUluc3RhbmNlLnJlbW92ZUNhbGxiYWNrKG4pLHRoaXMuY29weVBhc3RlSW5zdGFuY2UuZGVzdHJveSgpLHRoaXMuY29weVBhc3RlSW5zdGFuY2U9bnVsbCksZS5yZW1vdmVIb29rKCJiZWZvcmVLZXlEb3duIixvKX0sZS5hZGRIb29rKCJhZnRlckRlc3Ryb3kiLGsodGhpcy5kZXN0cm95LHRoaXMpKSx0aGlzLnRyaWdnZXJQYXN0ZT1rKHRoaXMuY29weVBhc3RlSW5zdGFuY2UudHJpZ2dlclBhc3RlLHRoaXMuY29weVBhc3RlSW5zdGFuY2UpLHRoaXMudHJpZ2dlckN1dD1rKHRoaXMuY29weVBhc3RlSW5zdGFuY2UudHJpZ2dlckN1dCx0aGlzLmNvcHlQYXN0ZUluc3RhbmNlKSx0aGlzLnNldENvcHlhYmxlVGV4dD1mdW5jdGlvbigpe3ZhciB0PWUuZ2V0U2V0dGluZ3MoKSxuPXQuY29weVJvd3NMaW1pdCxvPXQuY29weUNvbHNMaW1pdCxyPWUuZ2V0U2VsZWN0ZWRSYW5nZSgpLGk9ci5nZXRUb3BMZWZ0Q29ybmVyKCkscz1yLmdldEJvdHRvbVJpZ2h0Q29ybmVyKCksbD1pLnJvdyxhPWkuY29sLHU9cy5yb3csYz1zLmNvbCxoPU1hdGgubWluKHUsbCtuLTEpLGQ9TWF0aC5taW4oYyxhK28tMSksZj1bXTtmLnB1c2goe3N0YXJ0Um93Omwsc3RhcnRDb2w6YSxlbmRSb3c6aCxlbmRDb2w6ZH0pLGY9dy5ob29rcy5ydW4oZSwibW9kaWZ5Q29weWFibGVSYW5nZSIsZik7dmFyIHA9dGhpcy5nZXRSYW5nZWRDb3B5YWJsZURhdGEoZik7ZS5jb3B5UGFzdGUuY29weVBhc3RlSW5zdGFuY2UuY29weWFibGUocCksdT09PWgmJmM9PT1kfHx3Lmhvb2tzLnJ1bihlLCJhZnRlckNvcHlMaW1pdCIsdS1sKzEsYy1hKzEsbixvKX0sdGhpcy5nZXRSYW5nZWRDb3B5YWJsZURhdGE9ZnVuY3Rpb24odCl7dmFyIG49W10sbz1bXSxyPVtdO3JldHVybiBSKHQsZnVuY3Rpb24oZSl7UyhlLnN0YXJ0Um93LGUuZW5kUm93LGZ1bmN0aW9uKGUpey0xPT09by5pbmRleE9mKGUpJiZvLnB1c2goZSl9KSxTKGUuc3RhcnRDb2wsZS5lbmRDb2wsZnVuY3Rpb24oZSl7LTE9PT1yLmluZGV4T2YoZSkmJnIucHVzaChlKX0pfSksUihvLGZ1bmN0aW9uKHQpe3ZhciBvPVtdO1IocixmdW5jdGlvbihuKXtvLnB1c2goZS5nZXRDb3B5YWJsZURhdGEodCxuKSl9KSxuLnB1c2gobyl9KSx5LnN0cmluZ2lmeShuKX19ZnVuY3Rpb24gcigpe3ZhciBlPXRoaXMsdD1lLmdldFNldHRpbmdzKCkuY29weVBhc3RlIT09ITE7dCYmIWUuY29weVBhc3RlP2UuY29weVBhc3RlPW5ldyBvKGUpOiF0JiZlLmNvcHlQYXN0ZSYmKGUuY29weVBhc3RlLmRlc3Ryb3koKSxlLmNvcHlQYXN0ZT1udWxsKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtDb3B5UGFzdGVQbHVnaW46e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGkscyxsLGEsdSxjLGgsZCxmLHAsZyxtLHc9KGk9ZSgiYnJvd3NlciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSlbImRlZmF1bHQiXSx2PShzPWUoImNvcHlQYXN0ZSIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSlbImRlZmF1bHQiXSx5PShsPWUoIlNoZWV0Q2xpcCIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSlbImRlZmF1bHQiXSxiPShhPWUoImhlbHBlcnMvdW5pY29kZSIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSksQz1iLktFWV9DT0RFUyxfPWIuaXNDdHJsS2V5LFI9KHU9ZSgiaGVscGVycy9hcnJheSIpLHUmJnUuX19lc01vZHVsZSYmdXx8eyJkZWZhdWx0Ijp1fSkuYXJyYXlFYWNoLFM9KGM9ZSgiaGVscGVycy9udW1iZXIiKSxjJiZjLl9fZXNNb2R1bGUmJmN8fHsiZGVmYXVsdCI6Y30pLnJhbmdlRWFjaCxFPShoPWUoImhlbHBlcnMvZG9tL2V2ZW50IiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KSxUPUUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLE09RS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCxPPShkPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxkJiZkLl9fZXNNb2R1bGUmJmR8fHsiZGVmYXVsdCI6ZH0pLmdldFNlbGVjdGlvblRleHQsaz0oZj1lKCJoZWxwZXJzL2Z1bmN0aW9uIiksZiYmZi5fX2VzTW9kdWxlJiZmfHx7ImRlZmF1bHQiOmZ9KS5wcm94eSxIPSgocD1lKCJwbHVnaW5zIikscCYmcC5fX2VzTW9kdWxlJiZwfHx7ImRlZmF1bHQiOnB9KS5yZWdpc3RlclBsdWdpbiwoZz1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9jb29yZHMiKSxnJiZnLl9fZXNNb2R1bGUmJmd8fHsiZGVmYXVsdCI6Z30pLldhbGtvbnRhYmxlQ2VsbENvb3JkcyksRD0obT1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9yYW5nZSIpLG0mJm0uX19lc01vZHVsZSYmbXx8eyJkZWZhdWx0IjptfSkuV2Fsa29udGFibGVDZWxsUmFuZ2U7dy5ob29rcy5hZGQoImFmdGVySW5pdCIsciksdy5ob29rcy5hZGQoImFmdGVyVXBkYXRlU2V0dGluZ3MiLHIpLHcuaG9va3MucmVnaXN0ZXIoImFmdGVyQ29weUxpbWl0Iiksdy5ob29rcy5yZWdpc3RlcigibW9kaWZ5Q29weWFibGVSYW5nZSIpfSx7IjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyI6NSwiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvcmFuZ2UiOjYsU2hlZXRDbGlwOiJTaGVldENsaXAiLGJyb3dzZXI6MjMsY29weVBhc3RlOiJjb3B5UGFzdGUiLCJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9kb20vZWxlbWVudCI6NDYsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NywiaGVscGVycy9mdW5jdGlvbiI6NDksImhlbHBlcnMvbnVtYmVyIjo1MSwiaGVscGVycy91bmljb2RlIjo1NSxwbHVnaW5zOjU5fV0sNzY6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbygpe312YXIgcixpLHMsbCxhLHU9KHI9ZSgiYnJvd3NlciIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSlbImRlZmF1bHQiXSxjPSgoaT1lKCJwbHVnaW5zIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5yZWdpc3RlclBsdWdpbiwocz1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9yYW5nZSIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuV2Fsa29udGFibGVDZWxsUmFuZ2UpLGg9KGw9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL3NlbGVjdGlvbiIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuV2Fsa29udGFibGVTZWxlY3Rpb24sZD1mdW5jdGlvbihlKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBlJiZlPT09ITA/ITA6Im9iamVjdCI9PXR5cGVvZiBlJiZlLmxlbmd0aD4wfSxmPWZ1bmN0aW9uKCl7ZCh0aGlzLmdldFNldHRpbmdzKCkuY3VzdG9tQm9yZGVycykmJih0aGlzLmN1c3RvbUJvcmRlcnN8fChhPXRoaXMsdGhpcy5jdXN0b21Cb3JkZXJzPW5ldyBvKSl9LHA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxhLnZpZXcud3Quc2VsZWN0aW9ucy5sZW5ndGg7dCsrKWlmKGEudmlldy53dC5zZWxlY3Rpb25zW3RdLnNldHRpbmdzLmNsYXNzTmFtZT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sZz1mdW5jdGlvbihlKXt2YXIgdD17cm93OmUucm93LGNvbDplLmNvbH0sbj1uZXcgaChlLG5ldyBjKHQsdCx0KSksbz1wKGUuY2xhc3NOYW1lKTtvPj0wP2Eudmlldy53dC5zZWxlY3Rpb25zW29dPW46YS52aWV3Lnd0LnNlbGVjdGlvbnMucHVzaChuKX0sbT1mdW5jdGlvbihlLHQsbil7dmFyIG89XyhlLHQpO289UihvLG4pLHRoaXMuc2V0Q2VsbE1ldGEoZSx0LCJib3JkZXJzIixvKSxnKG8pfSx3PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnJhbmdlLG49dC5mcm9tLnJvdztuPD10LnRvLnJvdztuKyspZm9yKHZhciBvPXQuZnJvbS5jb2w7bzw9dC50by5jb2w7bysrKXt2YXIgcj1fKG4sbyksaT0wO249PXQuZnJvbS5yb3cmJihpKyssZS5oYXNPd25Qcm9wZXJ0eSgidG9wIikmJihyLnRvcD1lLnRvcCkpLG49PXQudG8ucm93JiYoaSsrLGUuaGFzT3duUHJvcGVydHkoImJvdHRvbSIpJiYoci5ib3R0b209ZS5ib3R0b20pKSxvPT10LmZyb20uY29sJiYoaSsrLGUuaGFzT3duUHJvcGVydHkoImxlZnQiKSYmKHIubGVmdD1lLmxlZnQpKSxvPT10LnRvLmNvbCYmKGkrKyxlLmhhc093blByb3BlcnR5KCJyaWdodCIpJiYoci5yaWdodD1lLnJpZ2h0KSksaT4wJiYodGhpcy5zZXRDZWxsTWV0YShuLG8sImJvcmRlcnMiLHIpLGcocikpfX0sdj1mdW5jdGlvbihlLHQpe3JldHVybiJib3JkZXJfcm93IitlKyJjb2wiK3R9LHk9ZnVuY3Rpb24oKXtyZXR1cm57d2lkdGg6MSxjb2xvcjoiIzAwMCJ9fSxiPWZ1bmN0aW9uKCl7cmV0dXJue2hpZGU6ITB9fSxDPWZ1bmN0aW9uKCl7cmV0dXJue3dpZHRoOjEsY29sb3I6IiMwMDAiLGNvcm5lclZpc2libGU6ITF9fSxfPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2NsYXNzTmFtZTp2KGUsdCksYm9yZGVyOkMoKSxyb3c6ZSxjb2w6dCx0b3A6YigpLHJpZ2h0OmIoKSxib3R0b206YigpLGxlZnQ6YigpfX0sUj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lmhhc093blByb3BlcnR5KCJib3JkZXIiKSYmKGUuYm9yZGVyPXQuYm9yZGVyKSx0Lmhhc093blByb3BlcnR5KCJ0b3AiKSYmKGUudG9wPXQudG9wKSx0Lmhhc093blByb3BlcnR5KCJyaWdodCIpJiYoZS5yaWdodD10LnJpZ2h0KSx0Lmhhc093blByb3BlcnR5KCJib3R0b20iKSYmKGUuYm90dG9tPXQuYm90dG9tKSx0Lmhhc093blByb3BlcnR5KCJsZWZ0IikmJihlLmxlZnQ9dC5sZWZ0KSxlfSxTPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuIitlKSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYodFtuXSYmIlREIiE9dFtuXS5ub2RlTmFtZSl7dmFyIG89dFtuXS5wYXJlbnROb2RlO28ucGFyZW50Tm9kZSYmby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pfX0sRT1mdW5jdGlvbihlLHQpe3ZhciBuPXYoZSx0KTtTKG4pLHRoaXMucmVtb3ZlQ2VsbE1ldGEoZSx0LCJib3JkZXJzIil9LFQ9ZnVuY3Rpb24oZSx0LG4sbyl7dmFyIHI9dGhpcy5nZXRDZWxsTWV0YShlLHQpLmJvcmRlcnM7ciYmdm9pZCAwIT1yLmJvcmRlcnx8KHI9XyhlLHQpKSxvP3Jbbl09YigpOnJbbl09eSgpLHRoaXMuc2V0Q2VsbE1ldGEoZSx0LCJib3JkZXJzIixyKTt2YXIgaT12KGUsdCk7UyhpKSxnKHIpLHRoaXMucmVuZGVyKCl9LE09ZnVuY3Rpb24oZSx0LG4pe2lmKGUuZnJvbS5yb3c9PWUudG8ucm93JiZlLmZyb20uY29sPT1lLnRvLmNvbCkibm9Cb3JkZXJzIj09dD9FLmNhbGwodGhpcyxlLmZyb20ucm93LGUuZnJvbS5jb2wpOlQuY2FsbCh0aGlzLGUuZnJvbS5yb3csZS5mcm9tLmNvbCx0LG4pO2Vsc2Ugc3dpdGNoKHQpe2Nhc2Uibm9Cb3JkZXJzIjpmb3IodmFyIG89ZS5mcm9tLmNvbDtvPD1lLnRvLmNvbDtvKyspZm9yKHZhciByPWUuZnJvbS5yb3c7cjw9ZS50by5yb3c7cisrKUUuY2FsbCh0aGlzLHIsbyk7YnJlYWs7Y2FzZSJ0b3AiOmZvcih2YXIgaT1lLmZyb20uY29sO2k8PWUudG8uY29sO2krKylULmNhbGwodGhpcyxlLmZyb20ucm93LGksdCxuKTticmVhaztjYXNlInJpZ2h0Ijpmb3IodmFyIHM9ZS5mcm9tLnJvdztzPD1lLnRvLnJvdztzKyspVC5jYWxsKHRoaXMscyxlLnRvLmNvbCx0KTticmVhaztjYXNlImJvdHRvbSI6Zm9yKHZhciBsPWUuZnJvbS5jb2w7bDw9ZS50by5jb2w7bCsrKVQuY2FsbCh0aGlzLGUudG8ucm93LGwsdCk7YnJlYWs7Y2FzZSJsZWZ0Ijpmb3IodmFyIGE9ZS5mcm9tLnJvdzthPD1lLnRvLnJvdzthKyspVC5jYWxsKHRoaXMsYSxlLmZyb20uY29sLHQpfX0sTz1mdW5jdGlvbihlLHQpe3ZhciBuPSExO3JldHVybiBlLmdldFNlbGVjdGVkUmFuZ2UoKS5mb3JBbGwoZnVuY3Rpb24obyxyKXt2YXIgaT1lLmdldENlbGxNZXRhKG8scikuYm9yZGVycztpZihpKXtpZighdClyZXR1cm4gbj0hMCwhMTtpZighaVt0XS5oYXNPd25Qcm9wZXJ0eSgiaGlkZSIpKXJldHVybiBuPSEwLCExfX0pLG59LGs9ZnVuY3Rpb24oZSl7cmV0dXJuJzxzcGFuIGNsYXNzPSJzZWxlY3RlZCI+JytTdHJpbmcuZnJvbUNoYXJDb2RlKDEwMDAzKSsiPC9zcGFuPiIrZX0sSD1mdW5jdGlvbihlKXt0aGlzLmdldFNldHRpbmdzKCkuY3VzdG9tQm9yZGVycyYmKGUuaXRlbXMucHVzaCh1LnBsdWdpbnMuQ29udGV4dE1lbnUuU0VQQVJBVE9SKSxlLml0ZW1zLnB1c2goe2tleToiYm9yZGVycyIsbmFtZToiQm9yZGVycyIsc3VibWVudTp7aXRlbXM6W3trZXk6ImJvcmRlcnM6dG9wIixuYW1lOmZ1bmN0aW9uKCl7dmFyIGU9IlRvcCIsdD1PKHRoaXMsInRvcCIpO3JldHVybiB0JiYoZT1rKGUpKSxlfSxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPU8odGhpcywidG9wIik7TS5jYWxsKHRoaXMsdGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksInRvcCIsZSl9LGRpc2FibGVkOiExfSx7a2V5OiJib3JkZXJzOnJpZ2h0IixuYW1lOmZ1bmN0aW9uKCl7dmFyIGU9IlJpZ2h0Iix0PU8odGhpcywicmlnaHQiKTtyZXR1cm4gdCYmKGU9ayhlKSksZX0sY2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT1PKHRoaXMsInJpZ2h0Iik7TS5jYWxsKHRoaXMsdGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksInJpZ2h0IixlKX0sZGlzYWJsZWQ6ITF9LHtrZXk6ImJvcmRlcnM6Ym90dG9tIixuYW1lOmZ1bmN0aW9uKCl7dmFyIGU9IkJvdHRvbSIsdD1PKHRoaXMsImJvdHRvbSIpO3JldHVybiB0JiYoZT1rKGUpKSxlfSxjYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPU8odGhpcywiYm90dG9tIik7TS5jYWxsKHRoaXMsdGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksImJvdHRvbSIsZSl9LGRpc2FibGVkOiExfSx7a2V5OiJib3JkZXJzOmxlZnQiLG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT0iTGVmdCIsdD1PKHRoaXMsImxlZnQiKTtyZXR1cm4gdCYmKGU9ayhlKSksZX0sY2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT1PKHRoaXMsImxlZnQiKTtNLmNhbGwodGhpcyx0aGlzLmdldFNlbGVjdGVkUmFuZ2UoKSwibGVmdCIsZSl9LGRpc2FibGVkOiExfSx7a2V5OiJib3JkZXJzOm5vX2JvcmRlcnMiLG5hbWU6IlJlbW92ZSBib3JkZXIocykiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7TS5jYWxsKHRoaXMsdGhpcy5nZXRTZWxlY3RlZFJhbmdlKCksIm5vQm9yZGVycyIpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiFPKHRoaXMpfX1dfX0pKX07dS5ob29rcy5hZGQoImJlZm9yZUluaXQiLGYpLHUuaG9va3MuYWRkKCJhZnRlckNvbnRleHRNZW51RGVmYXVsdE9wdGlvbnMiLEgpLHUuaG9va3MuYWRkKCJhZnRlckluaXQiLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZXR0aW5ncygpLmN1c3RvbUJvcmRlcnM7aWYoZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5yYW5nZT93LmNhbGwodGhpcyxlW3RdKTptLmNhbGwodGhpcyxlW3RdLnJvdyxlW3RdLmNvbCxlW3RdKTt0aGlzLnJlbmRlcigpLHRoaXMudmlldy53dC5kcmF3KCEwKX19KSx1LkN1c3RvbUJvcmRlcnM9b30seyIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9yYW5nZSI6NiwiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL3NlbGVjdGlvbiI6MTgsYnJvd3NlcjoyMyxwbHVnaW5zOjU5fV0sNzc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbygpe3RoaXMuYm91bmRhcmllcz1udWxsLHRoaXMuY2FsbGJhY2s9bnVsbH1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtEcmFnVG9TY3JvbGw6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaSxzLGw9KHI9ZSgiYnJvd3NlciIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSlbImRlZmF1bHQiXSxhPShpPWUoImV2ZW50TWFuYWdlciIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkuZXZlbnRNYW5hZ2VyOyhzPWUoInBsdWdpbnMiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLnJlZ2lzdGVyUGx1Z2luO2wucGx1Z2lucy5EcmFnVG9TY3JvbGw9byxvLnByb3RvdHlwZS5zZXRCb3VuZGFyaWVzPWZ1bmN0aW9uKGUpe3RoaXMuYm91bmRhcmllcz1lfSxvLnByb3RvdHlwZS5zZXRDYWxsYmFjaz1mdW5jdGlvbihlKXt0aGlzLmNhbGxiYWNrPWV9LG8ucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKGUsdCl7dmFyIG49MCxvPTA7dDx0aGlzLmJvdW5kYXJpZXMudG9wP289dC10aGlzLmJvdW5kYXJpZXMudG9wOnQ+dGhpcy5ib3VuZGFyaWVzLmJvdHRvbSYmKG89dC10aGlzLmJvdW5kYXJpZXMuYm90dG9tKSxlPHRoaXMuYm91bmRhcmllcy5sZWZ0P249ZS10aGlzLmJvdW5kYXJpZXMubGVmdDplPnRoaXMuYm91bmRhcmllcy5yaWdodCYmKG49ZS10aGlzLmJvdW5kYXJpZXMucmlnaHQpLHRoaXMuY2FsbGJhY2sobixvKX07dmFyIHUsYz1mdW5jdGlvbihlKXtlLmRyYWdUb1Njcm9sbExpc3RlbmluZz0hMTt2YXIgdD1lLnZpZXcud3Qud3RUYWJsZS5ob2xkZXI7dT1uZXcgbyx0IT09d2luZG93JiYodS5zZXRCb3VuZGFyaWVzKHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLHUuc2V0Q2FsbGJhY2soZnVuY3Rpb24oZSxuKXswPmU/dC5zY3JvbGxMZWZ0LT01MDplPjAmJih0LnNjcm9sbExlZnQrPTUwKSwwPm4/dC5zY3JvbGxUb3AtPTIwOm4+MCYmKHQuc2Nyb2xsVG9wKz0yMCl9KSxlLmRyYWdUb1Njcm9sbExpc3RlbmluZz0hMCl9O2wuaG9va3MuYWRkKCJhZnRlckluaXQiLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWEodGhpcyk7dC5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZXVwIixmdW5jdGlvbigpe2UuZHJhZ1RvU2Nyb2xsTGlzdGVuaW5nPSExfSksdC5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe2UuZHJhZ1RvU2Nyb2xsTGlzdGVuaW5nJiZ1LmNoZWNrKHQuY2xpZW50WCx0LmNsaWVudFkpfSl9KSxsLmhvb2tzLmFkZCgiYWZ0ZXJEZXN0cm95IixmdW5jdGlvbigpe2EodGhpcykuY2xlYXIoKX0pLGwuaG9va3MuYWRkKCJhZnRlck9uQ2VsbE1vdXNlRG93biIsZnVuY3Rpb24oKXtjKHRoaXMpfSksbC5ob29rcy5hZGQoImFmdGVyT25DZWxsQ29ybmVyTW91c2VEb3duIixmdW5jdGlvbigpe2ModGhpcyl9KSxsLnBsdWdpbnMuRHJhZ1RvU2Nyb2xsPW99LHticm93c2VyOjIzLGV2ZW50TWFuYWdlcjo0MSxwbHVnaW5zOjU5fV0sNzg6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7TWFudWFsQ29sdW1uRnJlZXplOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzPShvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sbD0ocj1lKCJfYmFzZSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSlbImRlZmF1bHQiXSxhPShpPWUoInBsdWdpbnMiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLnJlZ2lzdGVyUGx1Z2luLHU9ZnVuY3Rpb24oZSl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoYykuY2FsbCh0aGlzLGUpLHRoaXMubWFudWFsQ29sdW1uTW92ZVBsdWdpbj1udWxsLHRoaXMuZnJvemVuQ29sdW1uc0Jhc2VQb3NpdGlvbnM9W119LGM9dTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3ModSx7aXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmhvdC5nZXRTZXR0aW5ncygpLm1hbnVhbENvbHVtbkZyZWV6ZX0sZW5hYmxlUGx1Z2luOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmVuYWJsZWR8fCh0aGlzLmFkZEhvb2soIm1vZGlmeUNvbCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb2RpZnlDb2wodCl9KSx0aGlzLmFkZEhvb2soImFmdGVyQ29udGV4dE1lbnVEZWZhdWx0T3B0aW9ucyIsZnVuY3Rpb24odCl7cmV0dXJuIGUuYWRkQ29udGV4dE1lbnVFbnRyeSh0KX0pLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGMucHJvdG90eXBlLCJlbmFibGVQbHVnaW4iKS5jYWxsKHRoaXMpKX0saW5pdDpmdW5jdGlvbigpeyR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGMucHJvdG90eXBlLCJpbml0IikuY2FsbCh0aGlzKSx0aGlzLmZpeGVkQ29sdW1uc0NvdW50PXRoaXMuaG90LmdldFNldHRpbmdzKCkuZml4ZWRDb2x1bW5zTGVmdH0sZ2V0TWFudWFsQ29sdW1uTW92ZVBsdWdpbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hbnVhbENvbHVtbk1vdmVQbHVnaW58fCh0aGlzLm1hbnVhbENvbHVtbk1vdmVQbHVnaW49dGhpcy5ob3QuZ2V0UGx1Z2luKCJtYW51YWxDb2x1bW5Nb3ZlIikpLHRoaXMubWFudWFsQ29sdW1uTW92ZVBsdWdpbn0sb25Nb2RpZnlDb2w6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0TWFudWFsQ29sdW1uTW92ZVBsdWdpbigpLmlzRW5hYmxlZCgpP2U6dGhpcy5nZXRMb2dpY2FsQ29sdW1uSW5kZXgoZSl9LGFkZENvbnRleHRNZW51RW50cnk6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLml0ZW1zLnB1c2gocy5wbHVnaW5zLkNvbnRleHRNZW51LlNFUEFSQVRPUix7a2V5OiJmcmVlemVfY29sdW1uIixuYW1lOmZ1bmN0aW9uKCl7dmFyIGU9dC5ob3QuZ2V0U2VsZWN0ZWQoKVsxXTtyZXR1cm4gZT50LmZpeGVkQ29sdW1uc0NvdW50LTE/IkZyZWV6ZSB0aGlzIGNvbHVtbiI6IlVuZnJlZXplIHRoaXMgY29sdW1uIn0sZGlzYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgZT10LmhvdC5nZXRTZWxlY3RlZCgpO3JldHVybiBlWzFdIT09ZVszXX0sY2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgZT10LmhvdC5nZXRTZWxlY3RlZCgpWzFdO2U+dC5maXhlZENvbHVtbnNDb3VudC0xP3QuZnJlZXplQ29sdW1uKGUpOnQudW5mcmVlemVDb2x1bW4oZSl9fSl9LGZyZWV6ZUNvbHVtbjpmdW5jdGlvbihlKXtlPD10aGlzLmZpeGVkQ29sdW1uc0NvdW50LTF8fChlIT09dGhpcy5nZXRMb2dpY2FsQ29sdW1uSW5kZXgoZSkmJih0aGlzLmZyb3plbkNvbHVtbnNCYXNlUG9zaXRpb25zW3RoaXMuZml4ZWRDb2x1bW5zQ291bnRdPWUpLHRoaXMuY2hhbmdlQ29sdW1uUG9zaXRpb25zKGUsdGhpcy5maXhlZENvbHVtbnNDb3VudCksdGhpcy5hZGRGaXhlZENvbHVtbigpLHRoaXMuaG90LnZpZXcud3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5yZWZyZXNoKCksdGhpcy5ob3Qudmlldy53dC53dE92ZXJsYXlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpKX0sdW5mcmVlemVDb2x1bW46ZnVuY3Rpb24oZSl7aWYoIShlPnRoaXMuZml4ZWRDb2x1bW5zQ291bnQtMSkpe3ZhciB0PXRoaXMuZ2V0QmVzdENvbHVtblJldHVyblBvc2l0aW9uKGUpO3RoaXMuY2hhbmdlQ29sdW1uUG9zaXRpb25zKGUsdCksdGhpcy5yZW1vdmVGaXhlZENvbHVtbigpLHRoaXMuaG90LnZpZXcud3Qud3RPdmVybGF5cy5sZWZ0T3ZlcmxheS5yZWZyZXNoKCksdGhpcy5ob3Qudmlldy53dC53dE92ZXJsYXlzLmFkanVzdEVsZW1lbnRzU2l6ZSgpfX0sYWRkRml4ZWRDb2x1bW46ZnVuY3Rpb24oKXt0aGlzLmhvdC51cGRhdGVTZXR0aW5ncyh7Zml4ZWRDb2x1bW5zTGVmdDp0aGlzLmZpeGVkQ29sdW1uc0NvdW50KzF9KSx0aGlzLmZpeGVkQ29sdW1uc0NvdW50Kyt9LHJlbW92ZUZpeGVkQ29sdW1uOmZ1bmN0aW9uKCl7dGhpcy5ob3QudXBkYXRlU2V0dGluZ3Moe2ZpeGVkQ29sdW1uc0xlZnQ6dGhpcy5maXhlZENvbHVtbnNDb3VudC0xfSksdGhpcy5maXhlZENvbHVtbnNDb3VudC0tfSxnZXRCZXN0Q29sdW1uUmV0dXJuUG9zaXRpb246ZnVuY3Rpb24oZSl7dmFyIHQsbj10aGlzLmZpeGVkQ29sdW1uc0NvdW50LG89dGhpcy5nZXRMb2dpY2FsQ29sdW1uSW5kZXgobik7aWYobnVsbD09dGhpcy5mcm96ZW5Db2x1bW5zQmFzZVBvc2l0aW9uc1tlXSlmb3IodD10aGlzLmdldExvZ2ljYWxDb2x1bW5JbmRleChlKTt0Pm87KW4rKyxvPXRoaXMuZ2V0TG9naWNhbENvbHVtbkluZGV4KG4pO2Vsc2V7Zm9yKHQ9dGhpcy5mcm96ZW5Db2x1bW5zQmFzZVBvc2l0aW9uc1tlXSx0aGlzLmZyb3plbkNvbHVtbnNCYXNlUG9zaXRpb25zW2VdPXZvaWQgMDt0Pj1vOyluKyssbz10aGlzLmdldExvZ2ljYWxDb2x1bW5JbmRleChuKTtuPW99cmV0dXJuIG4tMX0sZ2V0VmlzaWJsZUNvbHVtbkluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldE1hbnVhbENvbHVtbk1vdmVQbHVnaW4oKS5nZXRWaXNpYmxlQ29sdW1uSW5kZXgoZSl9LGdldExvZ2ljYWxDb2x1bW5JbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRNYW51YWxDb2x1bW5Nb3ZlUGx1Z2luKCkuZ2V0TG9naWNhbENvbHVtbkluZGV4KGUpfSxjaGFuZ2VDb2x1bW5Qb3NpdGlvbnM6ZnVuY3Rpb24oZSx0KXt0aGlzLmdldE1hbnVhbENvbHVtbk1vdmVQbHVnaW4oKS5jaGFuZ2VDb2x1bW5Qb3NpdGlvbnMoZSx0KX19LHt9LGwpLGEoIm1hbnVhbENvbHVtbkZyZWV6ZSIsdSl9LHtfYmFzZTo2MCxicm93c2VyOjIzLHBsdWdpbnM6NTl9XSw3OTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtNYW51YWxDb2x1bW5Nb3ZlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGwsYSx1LGMsaD0obz1lKCJfYmFzZS5qcyIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxkPShyPWUoImJyb3dzZXIiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0sZj0oaT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSxwPWYuYWRkQ2xhc3MsZz1mLmhhc0NsYXNzLG09Zi5yZW1vdmVDbGFzcyx3PWYub3V0ZXJIZWlnaHQsdj0ocz1lKCJoZWxwZXJzL2FycmF5IikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KSx5PXYuYXJyYXlFYWNoLGI9di5hcnJheU1hcCxDPShsPWUoImhlbHBlcnMvbnVtYmVyIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5yYW5nZUVhY2gsXz0oYT1lKCJldmVudE1hbmFnZXIiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLmV2ZW50TWFuYWdlcixSPSh1PWUoImhlbHBlcnMvZG9tL2V2ZW50IiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KSxTPVIucGFnZVgsRT0oUi5wYWdlWSwoYz1lKCJwbHVnaW5zIiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KS5yZWdpc3RlclBsdWdpbiksVD1uZXcgV2Vha01hcCxNPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoTykuY2FsbCh0aGlzLGUpLFQuc2V0KHRoaXMse2d1aWRlQ2xhc3NOYW1lOiJtYW51YWxDb2x1bW5Nb3Zlckd1aWRlIixoYW5kbGVDbGFzc05hbWU6Im1hbnVhbENvbHVtbk1vdmVyIixzdGFydE9mZnNldDpudWxsLHByZXNzZWQ6bnVsbCxzdGFydENvbDpudWxsLGVuZENvbDpudWxsLGN1cnJlbnRDb2w6bnVsbCxzdGFydFg6bnVsbCxzdGFydFk6bnVsbH0pLHRoaXMuZ3VpZGVFbGVtZW50PW51bGwsdGhpcy5oYW5kbGVFbGVtZW50PW51bGwsdGhpcy5jdXJyZW50VEg9bnVsbCx0aGlzLmNvbHVtblBvc2l0aW9ucz1bXSx0aGlzLmV2ZW50TWFuYWdlcj1fKHRoaXMpLHRoaXMuYWRkSG9vaygiaW5pdCIsZnVuY3Rpb24oKXtyZXR1cm4gdC5vbkluaXQoKX0pfSxPPU07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKE0se2lzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5tYW51YWxDb2x1bW5Nb3ZlfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9VC5nZXQodGhpcyksbj10aGlzLmhvdC5nZXRTZXR0aW5ncygpLm1hbnVhbENvbHVtbk1vdmUsbz10aGlzLmxvYWRNYW51YWxDb2x1bW5Qb3NpdGlvbnMoKTt0aGlzLmhhbmRsZUVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdGhpcy5oYW5kbGVFbGVtZW50LmNsYXNzTmFtZT10LmhhbmRsZUNsYXNzTmFtZSx0aGlzLmd1aWRlRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmd1aWRlRWxlbWVudC5jbGFzc05hbWU9dC5ndWlkZUNsYXNzTmFtZSx0aGlzLmFkZEhvb2soIm1vZGlmeUNvbCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb2RpZnlDb2wodCl9KSx0aGlzLmFkZEhvb2soInVubW9kaWZ5Q29sIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vblVubW9kaWZ5Q29sKHQpfSksdGhpcy5hZGRIb29rKCJhZnRlclJlbW92ZUNvbCIsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5vbkFmdGVyUmVtb3ZlQ29sKHQsbil9KSx0aGlzLmFkZEhvb2soImFmdGVyQ3JlYXRlQ29sIixmdW5jdGlvbih0LG4pe3JldHVybiBlLm9uQWZ0ZXJDcmVhdGVDb2wodCxuKX0pLHRoaXMucmVnaXN0ZXJFdmVudHMoKSwidW5kZWZpbmVkIiE9dHlwZW9mIG8/dGhpcy5jb2x1bW5Qb3NpdGlvbnM9bzpBcnJheS5pc0FycmF5KG4pP3RoaXMuY29sdW1uUG9zaXRpb25zPW46biYmdm9pZCAwIT09dGhpcy5jb2x1bW5Qb3NpdGlvbnN8fCh0aGlzLmNvbHVtblBvc2l0aW9ucz1bXSksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsTy5wcm90b3R5cGUsImVuYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9LHVwZGF0ZVBsdWdpbjpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZVBsdWdpbigpLHRoaXMuZW5hYmxlUGx1Z2luKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsTy5wcm90b3R5cGUsInVwZGF0ZVBsdWdpbiIpLmNhbGwodGhpcyl9LGRpc2FibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvdC5nZXRTZXR0aW5ncygpLm1hbnVhbENvbHVtbk1vdmU7QXJyYXkuaXNBcnJheShlKSYmKHRoaXMudW5yZWdpc3RlckV2ZW50cygpLHRoaXMuY29sdW1uUG9zaXRpb25zPVtdKSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxPLnByb3RvdHlwZSwiZGlzYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9LHJlZ2lzdGVyRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuaG90LnJvb3RFbGVtZW50LCJtb3VzZW92ZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VPdmVyKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmhvdC5yb290RWxlbWVudCwibW91c2Vkb3duIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlRG93bih0KX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VNb3ZlKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIm1vdXNldXAiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VVcCh0KX0pfSx1bnJlZ2lzdGVyRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5ldmVudE1hbmFnZXIuY2xlYXIoKX0sc2F2ZU1hbnVhbENvbHVtblBvc2l0aW9uczpmdW5jdGlvbigpe2QuaG9va3MucnVuKHRoaXMuaG90LCJwZXJzaXN0ZW50U3RhdGVTYXZlIiwibWFudWFsQ29sdW1uUG9zaXRpb25zIix0aGlzLmNvbHVtblBvc2l0aW9ucyl9LGxvYWRNYW51YWxDb2x1bW5Qb3NpdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZC5ob29rcy5ydW4odGhpcy5ob3QsInBlcnNpc3RlbnRTdGF0ZUxvYWQiLCJtYW51YWxDb2x1bW5Qb3NpdGlvbnMiLGUpLGUudmFsdWV9LGNvbXBsZXRlU2V0dGluZ3NBcnJheTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmhvdC5jb3VudENvbHMoKTt0aGlzLmNvbHVtblBvc2l0aW9ucy5sZW5ndGghPT10JiZDKDAsdC0xLGZ1bmN0aW9uKHQpey0xPT09ZS5jb2x1bW5Qb3NpdGlvbnMuaW5kZXhPZih0KSYmZS5jb2x1bW5Qb3NpdGlvbnMucHVzaCh0KX0pfSxzZXR1cEhhbmRsZVBvc2l0aW9uOmZ1bmN0aW9uKGUpe3RoaXMuY3VycmVudFRIPWU7dmFyIHQ9VC5nZXQodGhpcyksbj10aGlzLmhvdC52aWV3Lnd0Lnd0VGFibGUuZ2V0Q29vcmRzKGUpLmNvbCxvPXcodGhpcy5jdXJyZW50VEgpO2lmKG4+PTApe3ZhciByPXRoaXMuY3VycmVudFRILmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3QuY3VycmVudENvbD1uLHQuc3RhcnRPZmZzZXQ9ci5sZWZ0LHRoaXMuaGFuZGxlRWxlbWVudC5zdHlsZS50b3A9ci50b3ArInB4Iix0aGlzLmhhbmRsZUVsZW1lbnQuc3R5bGUubGVmdD10LnN0YXJ0T2Zmc2V0KyJweCIsdGhpcy5oYW5kbGVFbGVtZW50LnN0eWxlLmhlaWdodD1vKyJweCIsdGhpcy5ob3Qucm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5oYW5kbGVFbGVtZW50KX19LHJlZnJlc2hIYW5kbGVQb3NpdGlvbjpmdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz02O3Q+MD90aGlzLmhhbmRsZUVsZW1lbnQuc3R5bGUubGVmdD1uLmxlZnQrbi53aWR0aC1vKyJweCI6dGhpcy5oYW5kbGVFbGVtZW50LnN0eWxlLmxlZnQ9bi5sZWZ0KyJweCJ9LHNldHVwR3VpZGVQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuY3VycmVudFRILmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHQ9VC5nZXQodGhpcyksbj1wYXJzZUludCh3KHRoaXMuaGFuZGxlRWxlbWVudCksMTApLG89cGFyc2VJbnQodGhpcy5oYW5kbGVFbGVtZW50LnN0eWxlLnRvcCwxMCkrbixyPXBhcnNlSW50KHRoaXMuaG90LnZpZXcubWF4aW11bVZpc2libGVFbGVtZW50SGVpZ2h0KDApLDEwKTtwKHRoaXMuaGFuZGxlRWxlbWVudCwiYWN0aXZlIikscCh0aGlzLmd1aWRlRWxlbWVudCwiYWN0aXZlIiksdGhpcy5ndWlkZUVsZW1lbnQuc3R5bGUud2lkdGg9ZS53aWR0aCsicHgiLHRoaXMuZ3VpZGVFbGVtZW50LnN0eWxlLmhlaWdodD1yLW4rInB4Iix0aGlzLmd1aWRlRWxlbWVudC5zdHlsZS50b3A9bysicHgiLHRoaXMuZ3VpZGVFbGVtZW50LnN0eWxlLmxlZnQ9dC5zdGFydE9mZnNldCsicHgiLHRoaXMuaG90LnJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZ3VpZGVFbGVtZW50KX0scmVmcmVzaEd1aWRlUG9zaXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9VC5nZXQodGhpcyk7dGhpcy5ndWlkZUVsZW1lbnQuc3R5bGUubGVmdD10LnN0YXJ0T2Zmc2V0K2UrInB4In0saGlkZUhhbmRsZUFuZEd1aWRlOmZ1bmN0aW9uKCl7bSh0aGlzLmhhbmRsZUVsZW1lbnQsImFjdGl2ZSIpLG0odGhpcy5ndWlkZUVsZW1lbnQsImFjdGl2ZSIpfSxjaGVja0NvbHVtbkhlYWRlcjpmdW5jdGlvbihlKXtpZihlIT10aGlzLmhvdC5yb290RWxlbWVudCl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiJUSEVBRCI9PT10LnRhZ05hbWU/ITA6dGhpcy5jaGVja0NvbHVtbkhlYWRlcih0KX1yZXR1cm4hMX0sY3JlYXRlUG9zaXRpb25EYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuY29sdW1uUG9zaXRpb25zO3QubGVuZ3RoPGUmJkModC5sZW5ndGgsZS0xLGZ1bmN0aW9uKGUpe3RbZV09ZX0pfSxnZXRUSEZyb21UYXJnZXRFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiJUQUJMRSIhPWUudGFnTmFtZT8iVEgiPT1lLnRhZ05hbWU/ZTp0aGlzLmdldFRIRnJvbVRhcmdldEVsZW1lbnQoZS5wYXJlbnROb2RlKTpudWxsfSxjaGFuZ2VDb2x1bW5Qb3NpdGlvbnM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1NYXRoLm1heChlLHQpO24+dGhpcy5jb2x1bW5Qb3NpdGlvbnMubGVuZ3RoLTEmJnRoaXMuY3JlYXRlUG9zaXRpb25EYXRhKG4rMSksdGhpcy5jb2x1bW5Qb3NpdGlvbnMuc3BsaWNlKHQsMCx0aGlzLmNvbHVtblBvc2l0aW9ucy5zcGxpY2UoZSwxKVswXSl9LGdldFZpc2libGVDb2x1bW5JbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gZT50aGlzLmNvbHVtblBvc2l0aW9ucy5sZW5ndGgtMSYmdGhpcy5jcmVhdGVQb3NpdGlvbkRhdGEoZSksdGhpcy5jb2x1bW5Qb3NpdGlvbnMuaW5kZXhPZihlKX0sZ2V0TG9naWNhbENvbHVtbkluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbHVtblBvc2l0aW9uc1tlXX0sb25Nb3VzZU92ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9VC5nZXQodGhpcyk7aWYodGhpcy5jaGVja0NvbHVtbkhlYWRlcihlLnRhcmdldCkpe3ZhciBuPXRoaXMuZ2V0VEhGcm9tVGFyZ2V0RWxlbWVudChlLnRhcmdldCk7aWYobilpZih0LnByZXNzZWQpe3ZhciBvPXRoaXMuaG90LnZpZXcud3Qud3RUYWJsZS5nZXRDb29yZHMobikuY29sO28+PTAmJih0LmVuZENvbD1vLHRoaXMucmVmcmVzaEhhbmRsZVBvc2l0aW9uKG4sdC5lbmRDb2wtdC5zdGFydENvbCkpfWVsc2UgdGhpcy5zZXR1cEhhbmRsZVBvc2l0aW9uKG4pfX0sb25Nb3VzZURvd246ZnVuY3Rpb24oZSl7dmFyIHQ9VC5nZXQodGhpcyk7ZyhlLnRhcmdldCx0LmhhbmRsZUNsYXNzTmFtZSkmJih0LnN0YXJ0WD1TKGUpLHRoaXMuc2V0dXBHdWlkZVBvc2l0aW9uKCksdC5wcmVzc2VkPXRoaXMuaG90LHQuc3RhcnRDb2w9dC5jdXJyZW50Q29sLHQuZW5kQ29sPXQuY3VycmVudENvbCl9LG9uTW91c2VNb3ZlOmZ1bmN0aW9uKGUpe3ZhciB0PVQuZ2V0KHRoaXMpO3QucHJlc3NlZCYmdGhpcy5yZWZyZXNoR3VpZGVQb3NpdGlvbihTKGUpLXQuc3RhcnRYKX0sb25Nb3VzZVVwOmZ1bmN0aW9uKGUpe3ZhciB0PVQuZ2V0KHRoaXMpO3QucHJlc3NlZCYmKHRoaXMuaGlkZUhhbmRsZUFuZEd1aWRlKCksdC5wcmVzc2VkPSExLHRoaXMuY3JlYXRlUG9zaXRpb25EYXRhKHRoaXMuaG90LmNvdW50Q29scygpKSx0aGlzLmNoYW5nZUNvbHVtblBvc2l0aW9ucyh0LnN0YXJ0Q29sLHQuZW5kQ29sKSxkLmhvb2tzLnJ1bih0aGlzLmhvdCwiYmVmb3JlQ29sdW1uTW92ZSIsdC5zdGFydENvbCx0LmVuZENvbCksdGhpcy5ob3QuZm9yY2VGdWxsUmVuZGVyPSEwLHRoaXMuaG90LnZpZXcucmVuZGVyKCksdGhpcy5zYXZlTWFudWFsQ29sdW1uUG9zaXRpb25zKCksZC5ob29rcy5ydW4odGhpcy5ob3QsImFmdGVyQ29sdW1uTW92ZSIsdC5zdGFydENvbCx0LmVuZENvbCksdGhpcy5zZXR1cEhhbmRsZVBvc2l0aW9uKHRoaXMuY3VycmVudFRIKSl9LG9uTW9kaWZ5Q29sOmZ1bmN0aW9uKGUpe3JldHVybi0xPT10eXBlb2YgdGhpcy5nZXRWaXNpYmxlQ29sdW1uSW5kZXgoZSkmJnRoaXMuY3JlYXRlUG9zaXRpb25EYXRhKGUrMSksdGhpcy5nZXRMb2dpY2FsQ29sdW1uSW5kZXgoZSl9LG9uVW5tb2RpZnlDb2w6ZnVuY3Rpb24oZSl7cmV0dXJuLTE9PXR5cGVvZiB0aGlzLmdldFZpc2libGVDb2x1bW5JbmRleChlKSYmdGhpcy5jcmVhdGVQb3NpdGlvbkRhdGEoZSsxKSx0aGlzLmdldFZpc2libGVDb2x1bW5JbmRleChlKX0sb25BZnRlclJlbW92ZUNvbDpmdW5jdGlvbihlLHQpe2lmKHRoaXMuaXNFbmFibGVkKCkpe3ZhciBuLG89dGhpcy5jb2x1bW5Qb3NpdGlvbnM7bj1vLnNwbGljZShlLHQpLG89YihvLGZ1bmN0aW9uKGUsdCl7dmFyIG89ZTtyZXR1cm4geShuLGZ1bmN0aW9uKHQsbil7ZT50JiZvLS19KSxvfSksdGhpcy5jb2x1bW5Qb3NpdGlvbnM9b319LG9uQWZ0ZXJDcmVhdGVDb2w6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmlzRW5hYmxlZCgpKXt2YXIgbj10aGlzLmNvbHVtblBvc2l0aW9ucztpZihuLmxlbmd0aCl7dmFyIG89W107QygwLHQtMSxmdW5jdGlvbih0KXtvLnB1c2goZSt0KX0pLGU+PW4ubGVuZ3RoP24uY29uY2F0KG8pOihuPWIobixmdW5jdGlvbihuLG8pe3JldHVybiBuPj1lP24rdDpufSksbi5zcGxpY2UuYXBwbHkobixbZSwwXS5jb25jYXQobykpKSx0aGlzLmNvbHVtblBvc2l0aW9ucz1ufX19LG9uSW5pdDpmdW5jdGlvbigpe3RoaXMuY29tcGxldGVTZXR0aW5nc0FycmF5KCl9fSx7fSxoKSxFKCJtYW51YWxDb2x1bW5Nb3ZlIixNKSxkLmhvb2tzLnJlZ2lzdGVyKCJiZWZvcmVDb2x1bW5Nb3ZlIiksZC5ob29rcy5yZWdpc3RlcigiYWZ0ZXJDb2x1bW5Nb3ZlIiksZC5ob29rcy5yZWdpc3RlcigidW5tb2RpZnlDb2wiKX0seyJfYmFzZS5qcyI6NjAsYnJvd3NlcjoyMyxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9kb20vZXZlbnQiOjQ3LCJoZWxwZXJzL251bWJlciI6NTEscGx1Z2luczo1OX1dLDgwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se01hbnVhbENvbHVtblJlc2l6ZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFN9fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgbyxyLGkscyxsLGEsdSxjLGg9KG89ZSgiYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxkPShyPWUoIl9iYXNlLmpzIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KVsiZGVmYXVsdCJdLGY9KGk9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkscD1mLmFkZENsYXNzLGc9Zi5oYXNDbGFzcyxtPWYucmVtb3ZlQ2xhc3Msdz1mLm91dGVySGVpZ2h0LHY9KHM9ZSgiZXZlbnRNYW5hZ2VyIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5ldmVudE1hbmFnZXIseT0obD1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSksYj15LnBhZ2VYLEM9KHkucGFnZVksKGE9ZSgiaGVscGVycy9hcnJheSIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuYXJyYXlFYWNoKSxfPSh1PWUoImhlbHBlcnMvbnVtYmVyIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5yYW5nZUVhY2gsUj0oYz1lKCJwbHVnaW5zIiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KS5yZWdpc3RlclBsdWdpbixTPWZ1bmN0aW9uKGUpeyR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKEUpLmNhbGwodGhpcyxlKSx0aGlzLmN1cnJlbnRUSD1udWxsLHRoaXMuY3VycmVudENvbD1udWxsLHRoaXMuc2VsZWN0ZWRDb2xzPVtdLHRoaXMuY3VycmVudFdpZHRoPW51bGwsdGhpcy5uZXdTaXplPW51bGwsdGhpcy5zdGFydFk9bnVsbCx0aGlzLnN0YXJ0V2lkdGg9bnVsbCx0aGlzLnN0YXJ0T2Zmc2V0PW51bGwsdGhpcy5oYW5kbGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdGhpcy5ndWlkZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmV2ZW50TWFuYWdlcj12KHRoaXMpLHRoaXMucHJlc3NlZD1udWxsLHRoaXMuZGJsY2xpY2s9MCx0aGlzLmF1dG9yZXNpemVUaW1lb3V0PW51bGwsdGhpcy5tYW51YWxDb2x1bW5XaWR0aHM9W10scCh0aGlzLmhhbmRsZSwibWFudWFsQ29sdW1uUmVzaXplciIpLHAodGhpcy5ndWlkZSwibWFudWFsQ29sdW1uUmVzaXplckd1aWRlIil9LEU9UzskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoUyx7aXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG90LmdldFNldHRpbmdzKCkubWFudWFsQ29sdW1uUmVzaXplfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLmVuYWJsZWQpe3RoaXMubWFudWFsQ29sdW1uV2lkdGhzPVtdOwp2YXIgdD10aGlzLmhvdC5nZXRTZXR0aW5ncygpLm1hbnVhbENvbHVtblJlc2l6ZSxuPXRoaXMubG9hZE1hbnVhbENvbHVtbldpZHRocygpO3RoaXMuYWRkSG9vaygibW9kaWZ5Q29sV2lkdGgiLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUub25Nb2RpZnlDb2xXaWR0aCh0LG4pfSksdGhpcy5hZGRIb29rKCJiZWZvcmVTdHJldGNoaW5nQ29sdW1uV2lkdGgiLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUub25CZWZvcmVTdHJldGNoaW5nQ29sdW1uV2lkdGgodCxuKX0pLHRoaXMuYWRkSG9vaygiYmVmb3JlQ29sdW1uUmVzaXplIixmdW5jdGlvbih0LG4sbyl7cmV0dXJuIGUub25CZWZvcmVDb2x1bW5SZXNpemUodCxuLG8pfSksInVuZGVmaW5lZCIhPXR5cGVvZiBuP3RoaXMubWFudWFsQ29sdW1uV2lkdGhzPW46QXJyYXkuaXNBcnJheSh0KT90aGlzLm1hbnVhbENvbHVtbldpZHRocz10OnRoaXMubWFudWFsQ29sdW1uV2lkdGhzPVtdLGguaG9va3MucmVnaXN0ZXIoImJlZm9yZUNvbHVtblJlc2l6ZSIpLGguaG9va3MucmVnaXN0ZXIoImFmdGVyQ29sdW1uUmVzaXplIiksdGhpcy5iaW5kRXZlbnRzKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsRS5wcm90b3R5cGUsImVuYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9fSx1cGRhdGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvdC5nZXRTZXR0aW5ncygpLm1hbnVhbENvbHVtblJlc2l6ZTtBcnJheS5pc0FycmF5KGUpP3RoaXMubWFudWFsQ29sdW1uV2lkdGhzPWU6ZXx8KHRoaXMubWFudWFsQ29sdW1uV2lkdGhzPVtdKX0sZGlzYWJsZVBsdWdpbjpmdW5jdGlvbigpeyR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLEUucHJvdG90eXBlLCJkaXNhYmxlUGx1Z2luIikuY2FsbCh0aGlzKX0sc2F2ZU1hbnVhbENvbHVtbldpZHRoczpmdW5jdGlvbigpe3RoaXMuaG90LnJ1bkhvb2tzKCJwZXJzaXN0ZW50U3RhdGVTYXZlIiwibWFudWFsQ29sdW1uV2lkdGhzIix0aGlzLm1hbnVhbENvbHVtbldpZHRocyl9LGxvYWRNYW51YWxDb2x1bW5XaWR0aHM6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdGhpcy5ob3QucnVuSG9va3MoInBlcnNpc3RlbnRTdGF0ZUxvYWQiLCJtYW51YWxDb2x1bW5XaWR0aHMiLGUpLGUudmFsdWV9LHNldHVwSGFuZGxlUG9zaXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighZS5wYXJlbnROb2RlKXJldHVybiExO3RoaXMuY3VycmVudFRIPWU7dmFyIG49dGhpcy5ob3Qudmlldy53dC53dFRhYmxlLmdldENvb3JkcyhlKS5jb2wsbz13KHRoaXMuY3VycmVudFRIKTtpZihuPj0wKXt2YXIgcj10aGlzLmN1cnJlbnRUSC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZih0aGlzLmN1cnJlbnRDb2w9bix0aGlzLnNlbGVjdGVkQ29scz1bXSx0aGlzLmhvdC5zZWxlY3Rpb24uaXNTZWxlY3RlZCgpJiZ0aGlzLmhvdC5zZWxlY3Rpb24uc2VsZWN0ZWRIZWFkZXIuY29scyl7dmFyIGk9dGhpcy5ob3QuZ2V0U2VsZWN0ZWRSYW5nZSgpLHM9aS5mcm9tLGw9aS50byxhPXMuY29sLHU9bC5jb2w7YT49dSYmKGE9bC5jb2wsdT1zLmNvbCksdGhpcy5jdXJyZW50Q29sPj1hJiZ0aGlzLmN1cnJlbnRDb2w8PXU/XyhhLHUsZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2VsZWN0ZWRDb2xzLnB1c2goZSl9KTp0aGlzLnNlbGVjdGVkQ29scy5wdXNoKHRoaXMuY3VycmVudENvbCl9ZWxzZSB0aGlzLnNlbGVjdGVkQ29scy5wdXNoKHRoaXMuY3VycmVudENvbCk7dGhpcy5zdGFydE9mZnNldD1yLmxlZnQtNix0aGlzLnN0YXJ0V2lkdGg9cGFyc2VJbnQoci53aWR0aCwxMCksdGhpcy5oYW5kbGUuc3R5bGUudG9wPXIudG9wKyJweCIsdGhpcy5oYW5kbGUuc3R5bGUubGVmdD10aGlzLnN0YXJ0T2Zmc2V0K3RoaXMuc3RhcnRXaWR0aCsicHgiLHRoaXMuaGFuZGxlLnN0eWxlLmhlaWdodD1vKyJweCIsdGhpcy5ob3Qucm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5oYW5kbGUpfX0scmVmcmVzaEhhbmRsZVBvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy5oYW5kbGUuc3R5bGUubGVmdD10aGlzLnN0YXJ0T2Zmc2V0K3RoaXMuY3VycmVudFdpZHRoKyJweCJ9LHNldHVwR3VpZGVQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBlPXBhcnNlSW50KHcodGhpcy5oYW5kbGUpLDEwKSx0PXBhcnNlSW50KHRoaXMuaGFuZGxlLnN0eWxlLnRvcCwxMCkrZSxuPXBhcnNlSW50KHRoaXMuaG90LnZpZXcubWF4aW11bVZpc2libGVFbGVtZW50SGVpZ2h0KDApLDEwKTtwKHRoaXMuaGFuZGxlLCJhY3RpdmUiKSxwKHRoaXMuZ3VpZGUsImFjdGl2ZSIpLHRoaXMuZ3VpZGUuc3R5bGUudG9wPXQrInB4Iix0aGlzLmd1aWRlLnN0eWxlLmxlZnQ9dGhpcy5oYW5kbGUuc3R5bGUubGVmdCx0aGlzLmd1aWRlLnN0eWxlLmhlaWdodD1uLWUrInB4Iix0aGlzLmhvdC5yb290RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmd1aWRlKX0scmVmcmVzaEd1aWRlUG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLmd1aWRlLnN0eWxlLmxlZnQ9dGhpcy5oYW5kbGUuc3R5bGUubGVmdH0saGlkZUhhbmRsZUFuZEd1aWRlOmZ1bmN0aW9uKCl7bSh0aGlzLmhhbmRsZSwiYWN0aXZlIiksbSh0aGlzLmd1aWRlLCJhY3RpdmUiKX0sY2hlY2tJZkNvbHVtbkhlYWRlcjpmdW5jdGlvbihlKXtpZihlIT10aGlzLmhvdC5yb290RWxlbWVudCl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiJUSEVBRCI9PT10LnRhZ05hbWU/ITA6dGhpcy5jaGVja0lmQ29sdW1uSGVhZGVyKHQpfXJldHVybiExfSxnZXRUSEZyb21UYXJnZXRFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiJUQUJMRSIhPWUudGFnTmFtZT8iVEgiPT1lLnRhZ05hbWU/ZTp0aGlzLmdldFRIRnJvbVRhcmdldEVsZW1lbnQoZS5wYXJlbnROb2RlKTpudWxsfSxvbk1vdXNlT3ZlcjpmdW5jdGlvbihlKXtpZih0aGlzLmNoZWNrSWZDb2x1bW5IZWFkZXIoZS50YXJnZXQpKXt2YXIgdD10aGlzLmdldFRIRnJvbVRhcmdldEVsZW1lbnQoZS50YXJnZXQpO2lmKCF0KXJldHVybjt2YXIgbj10LmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpOyF0fHxudWxsIT09biYmMSE9PW58fHRoaXMucHJlc3NlZHx8dGhpcy5zZXR1cEhhbmRsZVBvc2l0aW9uKHQpfX0sYWZ0ZXJNb3VzZURvd25UaW1lb3V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWZ1bmN0aW9uKCl7ZS5ob3QuZm9yY2VGdWxsUmVuZGVyPSEwLGUuaG90LnZpZXcucmVuZGVyKCksZS5ob3Qudmlldy53dC53dE92ZXJsYXlzLmFkanVzdEVsZW1lbnRzU2l6ZSghMCl9LG49ZnVuY3Rpb24obixvKXt2YXIgcj1lLmhvdC5ydW5Ib29rcygiYmVmb3JlQ29sdW1uUmVzaXplIixuLGUubmV3U2l6ZSwhMCk7dm9pZCAwIT09ciYmKGUubmV3U2l6ZT1yKSwiYWxsIj09PWUuaG90LmdldFNldHRpbmdzKCkuc3RyZXRjaEg/ZS5jbGVhck1hbnVhbFNpemUobik6ZS5zZXRNYW51YWxTaXplKG4sZS5uZXdTaXplKSxvJiZ0KCksZS5zYXZlTWFudWFsQ29sdW1uV2lkdGhzKCksZS5ob3QucnVuSG9va3MoImFmdGVyQ29sdW1uUmVzaXplIixuLGUubmV3U2l6ZSwhMCl9O2lmKHRoaXMuZGJsY2xpY2s+PTIpe3ZhciBvPXRoaXMuc2VsZWN0ZWRDb2xzLmxlbmd0aDtvPjE/KEModGhpcy5zZWxlY3RlZENvbHMsZnVuY3Rpb24oZSl7bihlKX0pLHQoKSk6Qyh0aGlzLnNlbGVjdGVkQ29scyxmdW5jdGlvbihlKXtuKGUsITApfSl9dGhpcy5kYmxjbGljaz0wLHRoaXMuYXV0b3Jlc2l6ZVRpbWVvdXQ9bnVsbH0sb25Nb3VzZURvd246ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztnKGUudGFyZ2V0LCJtYW51YWxDb2x1bW5SZXNpemVyIikmJih0aGlzLnNldHVwR3VpZGVQb3NpdGlvbigpLHRoaXMucHJlc3NlZD10aGlzLmhvdCxudWxsPT09dGhpcy5hdXRvcmVzaXplVGltZW91dCYmKHRoaXMuYXV0b3Jlc2l6ZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0LmFmdGVyTW91c2VEb3duVGltZW91dCgpfSw1MDApLHRoaXMuaG90Ll9yZWdpc3RlclRpbWVvdXQodGhpcy5hdXRvcmVzaXplVGltZW91dCkpLHRoaXMuZGJsY2xpY2srKyx0aGlzLnN0YXJ0WD1iKGUpLHRoaXMubmV3U2l6ZT10aGlzLnN0YXJ0V2lkdGgpfSxvbk1vdXNlTW92ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMucHJlc3NlZCYmKHRoaXMuY3VycmVudFdpZHRoPXRoaXMuc3RhcnRXaWR0aCsoYihlKS10aGlzLnN0YXJ0WCksQyh0aGlzLnNlbGVjdGVkQ29scyxmdW5jdGlvbihlKXt0Lm5ld1NpemU9dC5zZXRNYW51YWxTaXplKGUsdC5jdXJyZW50V2lkdGgpfSksdGhpcy5yZWZyZXNoSGFuZGxlUG9zaXRpb24oKSx0aGlzLnJlZnJlc2hHdWlkZVBvc2l0aW9uKCkpfSxvbk1vdXNlVXA6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWZ1bmN0aW9uKCl7dC5ob3QuZm9yY2VGdWxsUmVuZGVyPSEwLHQuaG90LnZpZXcucmVuZGVyKCksdC5ob3Qudmlldy53dC53dE92ZXJsYXlzLmFkanVzdEVsZW1lbnRzU2l6ZSghMCl9LG89ZnVuY3Rpb24oZSxvKXt0LmhvdC5ydW5Ib29rcygiYmVmb3JlQ29sdW1uUmVzaXplIixlLHQubmV3U2l6ZSksbyYmbigpLHQuc2F2ZU1hbnVhbENvbHVtbldpZHRocygpLHQuaG90LnJ1bkhvb2tzKCJhZnRlckNvbHVtblJlc2l6ZSIsZSx0Lm5ld1NpemUpfTtpZih0aGlzLnByZXNzZWQpe2lmKHRoaXMuaGlkZUhhbmRsZUFuZEd1aWRlKCksdGhpcy5wcmVzc2VkPSExLHRoaXMubmV3U2l6ZSE9dGhpcy5zdGFydFdpZHRoKXt2YXIgcj10aGlzLnNlbGVjdGVkQ29scy5sZW5ndGg7cj4xPyhDKHRoaXMuc2VsZWN0ZWRDb2xzLGZ1bmN0aW9uKGUpe28oZSl9KSxuKCkpOkModGhpcy5zZWxlY3RlZENvbHMsZnVuY3Rpb24oZSl7byhlLCEwKX0pfXRoaXMuc2V0dXBIYW5kbGVQb3NpdGlvbih0aGlzLmN1cnJlbnRUSCl9fSxiaW5kRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuaG90LnJvb3RFbGVtZW50LCJtb3VzZW92ZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VPdmVyKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmhvdC5yb290RWxlbWVudCwibW91c2Vkb3duIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlRG93bih0KX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VNb3ZlKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIm1vdXNldXAiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VVcCh0KX0pfSxzZXRNYW51YWxTaXplOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9TWF0aC5tYXgodCwyMCksZT10aGlzLmhvdC5ydW5Ib29rcygibW9kaWZ5Q29sIixlKSx0aGlzLm1hbnVhbENvbHVtbldpZHRoc1tlXT10LHR9LGNsZWFyTWFudWFsU2l6ZTpmdW5jdGlvbihlKXtlPXRoaXMuaG90LnJ1bkhvb2tzKCJtb2RpZnlDb2wiLGUpLHRoaXMubWFudWFsQ29sdW1uV2lkdGhzW2VdPXZvaWQgMH0sb25Nb2RpZnlDb2xXaWR0aDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVuYWJsZWQmJih0PXRoaXMuaG90LnJ1bkhvb2tzKCJtb2RpZnlDb2wiLHQpLHRoaXMuaG90LmdldFNldHRpbmdzKCkubWFudWFsQ29sdW1uUmVzaXplJiZ0aGlzLm1hbnVhbENvbHVtbldpZHRoc1t0XSk/dGhpcy5tYW51YWxDb2x1bW5XaWR0aHNbdF06ZX0sb25CZWZvcmVTdHJldGNoaW5nQ29sdW1uV2lkdGg6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLm1hbnVhbENvbHVtbldpZHRoc1t0XTtyZXR1cm4gdm9pZCAwPT09biYmKG49ZSksbn0sb25CZWZvcmVDb2x1bW5SZXNpemU6ZnVuY3Rpb24oKXt0aGlzLmhvdC52aWV3Lnd0Lnd0Vmlld3BvcnQuaGFzT3ZlcnNpemVkQ29sdW1uSGVhZGVyc01hcmtlZD17fX19LHt9LGQpLFIoIm1hbnVhbENvbHVtblJlc2l6ZSIsUyl9LHsiX2Jhc2UuanMiOjYwLGJyb3dzZXI6MjMsZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9kb20vZWxlbWVudCI6NDYsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NywiaGVscGVycy9udW1iZXIiOjUxLHBsdWdpbnM6NTl9XSw4MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtNYW51YWxSb3dNb3ZlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGwsYSx1LGMsaD0obz1lKCJfYmFzZS5qcyIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxkPShyPWUoImJyb3dzZXIiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0sZj0oaT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSxwPWYuYWRkQ2xhc3MsZz1mLmhhc0NsYXNzLG09Zi5yZW1vdmVDbGFzcyx3PWYub3V0ZXJXaWR0aCx2PShzPWUoImhlbHBlcnMvYXJyYXkiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLHk9di5hcnJheUVhY2gsYj12LmFycmF5TWFwLEM9KGw9ZSgiaGVscGVycy9udW1iZXIiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLnJhbmdlRWFjaCxfPShhPWUoImV2ZW50TWFuYWdlciIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuZXZlbnRNYW5hZ2VyLFI9KHU9ZSgiaGVscGVycy9kb20vZXZlbnQiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLFM9KFIucGFnZVgsUi5wYWdlWSksRT0oYz1lKCJwbHVnaW5zIiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KS5yZWdpc3RlclBsdWdpbixUPW5ldyBXZWFrTWFwLE09ZnVuY3Rpb24oZSl7JHRyYWNldXJSdW50aW1lLnN1cGVyQ29uc3RydWN0b3IoTykuY2FsbCh0aGlzLGUpLFQuc2V0KHRoaXMse2d1aWRlQ2xhc3NOYW1lOiJtYW51YWxSb3dNb3Zlckd1aWRlIixoYW5kbGVDbGFzc05hbWU6Im1hbnVhbFJvd01vdmVyIixzdGFydE9mZnNldDpudWxsLHByZXNzZWQ6bnVsbCxzdGFydFJvdzpudWxsLGVuZFJvdzpudWxsLGN1cnJlbnRSb3c6bnVsbCxzdGFydFg6bnVsbCxzdGFydFk6bnVsbH0pLHRoaXMuZ3VpZGVFbGVtZW50PW51bGwsdGhpcy5oYW5kbGVFbGVtZW50PW51bGwsdGhpcy5jdXJyZW50VEg9bnVsbCx0aGlzLnJvd1Bvc2l0aW9ucz1bXSx0aGlzLmV2ZW50TWFuYWdlcj1fKHRoaXMpfSxPPU07JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKE0se2lzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5ob3QuZ2V0U2V0dGluZ3MoKS5tYW51YWxSb3dNb3ZlfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9VC5nZXQodGhpcyksbj10aGlzLmhvdC5nZXRTZXR0aW5ncygpLm1hbnVhbFJvd01vdmUsbz10aGlzLmxvYWRNYW51YWxSb3dQb3NpdGlvbnMoKTt0aGlzLmhhbmRsZUVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksdGhpcy5oYW5kbGVFbGVtZW50LmNsYXNzTmFtZT10LmhhbmRsZUNsYXNzTmFtZSx0aGlzLmd1aWRlRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmd1aWRlRWxlbWVudC5jbGFzc05hbWU9dC5ndWlkZUNsYXNzTmFtZSx0aGlzLmFkZEhvb2soIm1vZGlmeVJvdyIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb2RpZnlSb3codCl9KSx0aGlzLmFkZEhvb2soImFmdGVyUmVtb3ZlUm93IixmdW5jdGlvbih0LG4pe3JldHVybiBlLm9uQWZ0ZXJSZW1vdmVSb3codCxuKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJDcmVhdGVSb3ciLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUub25BZnRlckNyZWF0ZVJvdyh0LG4pfSksdGhpcy5hZGRIb29rKCJpbml0IixmdW5jdGlvbigpe3JldHVybiBlLm9uSW5pdCgpfSksdGhpcy5yZWdpc3RlckV2ZW50cygpLCJ1bmRlZmluZWQiIT10eXBlb2Ygbz90aGlzLnJvd1Bvc2l0aW9ucz1vOkFycmF5LmlzQXJyYXkobik/dGhpcy5yb3dQb3NpdGlvbnM9bjpuJiZ2b2lkIDAhPT10aGlzLnJvd1Bvc2l0aW9uc3x8KHRoaXMucm93UG9zaXRpb25zPVtdKSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxPLnByb3RvdHlwZSwiZW5hYmxlUGx1Z2luIikuY2FsbCh0aGlzKX0sdXBkYXRlUGx1Z2luOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlUGx1Z2luKCksdGhpcy5lbmFibGVQbHVnaW4oKSwkdHJhY2V1clJ1bnRpbWUuc3VwZXJHZXQodGhpcyxPLnByb3RvdHlwZSwidXBkYXRlUGx1Z2luIikuY2FsbCh0aGlzKX0sZGlzYWJsZVBsdWdpbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuaG90LmdldFNldHRpbmdzKCkubWFudWFsUm93TW92ZTtBcnJheS5pc0FycmF5KGUpJiYodGhpcy51bnJlZ2lzdGVyRXZlbnRzKCksdGhpcy5yb3dQb3NpdGlvbnM9W10pLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLE8ucHJvdG90eXBlLCJkaXNhYmxlUGx1Z2luIikuY2FsbCh0aGlzKX0scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ob3Qucm9vdEVsZW1lbnQsIm1vdXNlb3ZlciIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb3VzZU92ZXIodCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuaG90LnJvb3RFbGVtZW50LCJtb3VzZWRvd24iLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VEb3duKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIm1vdXNlbW92ZSIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb3VzZU1vdmUodCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHdpbmRvdywibW91c2V1cCIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25Nb3VzZVVwKHQpfSl9LHVucmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLmV2ZW50TWFuYWdlci5jbGVhcigpfSxzYXZlTWFudWFsUm93UG9zaXRpb25zOmZ1bmN0aW9uKCl7ZC5ob29rcy5ydW4odGhpcy5ob3QsInBlcnNpc3RlbnRTdGF0ZVNhdmUiLCJtYW51YWxSb3dQb3NpdGlvbnMiLHRoaXMucm93UG9zaXRpb25zKX0sbG9hZE1hbnVhbFJvd1Bvc2l0aW9uczpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBkLmhvb2tzLnJ1bih0aGlzLmhvdCwicGVyc2lzdGVudFN0YXRlTG9hZCIsIm1hbnVhbFJvd1Bvc2l0aW9ucyIsZSksZS52YWx1ZX0sY29tcGxldGVTZXR0aW5nc0FycmF5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuaG90LmNvdW50Um93cygpO3RoaXMucm93UG9zaXRpb25zLmxlbmd0aCE9PXQmJkMoMCx0LTEsZnVuY3Rpb24odCl7LTE9PT1lLnJvd1Bvc2l0aW9ucy5pbmRleE9mKHQpJiZlLnJvd1Bvc2l0aW9ucy5wdXNoKHQpfSl9LHNldHVwSGFuZGxlUG9zaXRpb246ZnVuY3Rpb24oZSl7dGhpcy5jdXJyZW50VEg9ZTt2YXIgdD1ULmdldCh0aGlzKSxuPXRoaXMuaG90LnZpZXcud3Qud3RUYWJsZS5nZXRDb29yZHMoZSkucm93LG89dyh0aGlzLmN1cnJlbnRUSCk7aWYobj49MCl7dmFyIHI9dGhpcy5jdXJyZW50VEguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dC5jdXJyZW50Um93PW4sdC5zdGFydE9mZnNldD1yLnRvcCx0aGlzLmhhbmRsZUVsZW1lbnQuc3R5bGUudG9wPXQuc3RhcnRPZmZzZXQrInB4Iix0aGlzLmhhbmRsZUVsZW1lbnQuc3R5bGUubGVmdD1yLmxlZnQrInB4Iix0aGlzLmhhbmRsZUVsZW1lbnQuc3R5bGUud2lkdGg9bysicHgiLHRoaXMuaG90LnJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuaGFuZGxlRWxlbWVudCl9fSxyZWZyZXNoSGFuZGxlUG9zaXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89Njt0PjA/dGhpcy5oYW5kbGVFbGVtZW50LnN0eWxlLnRvcD1uLnRvcCtuLmhlaWdodC1vKyJweCI6dGhpcy5oYW5kbGVFbGVtZW50LnN0eWxlLnRvcD1uLnRvcCsicHgifSxzZXR1cEd1aWRlUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmN1cnJlbnRUSC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0PVQuZ2V0KHRoaXMpLG49cGFyc2VJbnQodyh0aGlzLmhhbmRsZUVsZW1lbnQpLDEwKSxvPXBhcnNlSW50KHRoaXMuaGFuZGxlRWxlbWVudC5zdHlsZS5sZWZ0LDEwKStuLHI9cGFyc2VJbnQodGhpcy5ob3Qudmlldy5tYXhpbXVtVmlzaWJsZUVsZW1lbnRXaWR0aCgwKSwxMCk7cCh0aGlzLmhhbmRsZUVsZW1lbnQsImFjdGl2ZSIpLHAodGhpcy5ndWlkZUVsZW1lbnQsImFjdGl2ZSIpLHRoaXMuZ3VpZGVFbGVtZW50LnN0eWxlLmhlaWdodD1lLmhlaWdodCsicHgiLHRoaXMuZ3VpZGVFbGVtZW50LnN0eWxlLndpZHRoPXItbisicHgiLHRoaXMuZ3VpZGVFbGVtZW50LnN0eWxlLnRvcD10LnN0YXJ0T2Zmc2V0KyJweCIsdGhpcy5ndWlkZUVsZW1lbnQuc3R5bGUubGVmdD1vKyJweCIsdGhpcy5ob3Qucm9vdEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5ndWlkZUVsZW1lbnQpfSxyZWZyZXNoR3VpZGVQb3NpdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1ULmdldCh0aGlzKTt0aGlzLmd1aWRlRWxlbWVudC5zdHlsZS50b3A9dC5zdGFydE9mZnNldCtlKyJweCJ9LGhpZGVIYW5kbGVBbmRHdWlkZTpmdW5jdGlvbigpe20odGhpcy5oYW5kbGVFbGVtZW50LCJhY3RpdmUiKSxtKHRoaXMuZ3VpZGVFbGVtZW50LCJhY3RpdmUiKX0sY2hlY2tSb3dIZWFkZXI6ZnVuY3Rpb24oZSl7aWYoZSE9dGhpcy5ob3Qucm9vdEVsZW1lbnQpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4iVEJPRFkiPT09dC50YWdOYW1lPyEwOnRoaXMuY2hlY2tSb3dIZWFkZXIodCl9cmV0dXJuITF9LGNyZWF0ZVBvc2l0aW9uRGF0YTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJvd1Bvc2l0aW9uczt0Lmxlbmd0aDxlJiZDKHQubGVuZ3RoLGUtMSxmdW5jdGlvbihlKXt0W2VdPWV9KX0sZ2V0VEhGcm9tVGFyZ2V0RWxlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4iVEFCTEUiIT1lLnRhZ05hbWU/IlRIIj09ZS50YWdOYW1lP2U6dGhpcy5nZXRUSEZyb21UYXJnZXRFbGVtZW50KGUucGFyZW50Tm9kZSk6bnVsbH0sY2hhbmdlUm93UG9zaXRpb25zOmZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5tYXgoZSx0KTtuPnRoaXMucm93UG9zaXRpb25zLmxlbmd0aC0xJiZ0aGlzLmNyZWF0ZVBvc2l0aW9uRGF0YShuKzEpLHRoaXMucm93UG9zaXRpb25zLnNwbGljZSh0LDAsdGhpcy5yb3dQb3NpdGlvbnMuc3BsaWNlKGUsMSlbMF0pfSxnZXRWaXNpYmxlUm93SW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU+dGhpcy5yb3dQb3NpdGlvbnMubGVuZ3RoLTEmJnRoaXMuY3JlYXRlUG9zaXRpb25EYXRhKGUpLHRoaXMucm93UG9zaXRpb25zLmluZGV4T2YoZSl9LGdldExvZ2ljYWxSb3dJbmRleDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yb3dQb3NpdGlvbnNbZV19LG9uTW91c2VPdmVyOmZ1bmN0aW9uKGUpe3ZhciB0PVQuZ2V0KHRoaXMpO2lmKHRoaXMuY2hlY2tSb3dIZWFkZXIoZS50YXJnZXQpKXt2YXIgbj10aGlzLmdldFRIRnJvbVRhcmdldEVsZW1lbnQoZS50YXJnZXQpO24mJih0LnByZXNzZWQ/KHQuZW5kUm93PXRoaXMuaG90LnZpZXcud3Qud3RUYWJsZS5nZXRDb29yZHMobikucm93LHRoaXMucmVmcmVzaEhhbmRsZVBvc2l0aW9uKG4sdC5lbmRSb3ctdC5zdGFydFJvdykpOnRoaXMuc2V0dXBIYW5kbGVQb3NpdGlvbihuKSl9fSxvbk1vdXNlRG93bjpmdW5jdGlvbihlKXt2YXIgdD1ULmdldCh0aGlzKTtnKGUudGFyZ2V0LHQuaGFuZGxlQ2xhc3NOYW1lKSYmKHQuc3RhcnRZPVMoZSksdGhpcy5zZXR1cEd1aWRlUG9zaXRpb24oKSx0LnByZXNzZWQ9dGhpcy5ob3QsdC5zdGFydFJvdz10LmN1cnJlbnRSb3csdC5lbmRSb3c9dC5jdXJyZW50Um93KX0sb25Nb3VzZU1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9VC5nZXQodGhpcyk7dC5wcmVzc2VkJiZ0aGlzLnJlZnJlc2hHdWlkZVBvc2l0aW9uKFMoZSktdC5zdGFydFkpfSxvbk1vdXNlVXA6ZnVuY3Rpb24oZSl7dmFyIHQ9VC5nZXQodGhpcyk7dC5wcmVzc2VkJiYodGhpcy5oaWRlSGFuZGxlQW5kR3VpZGUoKSx0LnByZXNzZWQ9ITEsdGhpcy5jcmVhdGVQb3NpdGlvbkRhdGEodGhpcy5ob3QuY291bnRSb3dzKCkpLHRoaXMuY2hhbmdlUm93UG9zaXRpb25zKHQuc3RhcnRSb3csdC5lbmRSb3cpLGQuaG9va3MucnVuKHRoaXMuaG90LCJiZWZvcmVSb3dNb3ZlIix0LnN0YXJ0Um93LHQuZW5kUm93KSx0aGlzLmhvdC5mb3JjZUZ1bGxSZW5kZXI9ITAsdGhpcy5ob3Qudmlldy5yZW5kZXIoKSx0aGlzLnNhdmVNYW51YWxSb3dQb3NpdGlvbnMoKSxkLmhvb2tzLnJ1bih0aGlzLmhvdCwiYWZ0ZXJSb3dNb3ZlIix0LnN0YXJ0Um93LHQuZW5kUm93KSx0aGlzLnNldHVwSGFuZGxlUG9zaXRpb24odGhpcy5jdXJyZW50VEgpKX0sb25Nb2RpZnlSb3c6ZnVuY3Rpb24oZSl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLmdldFZpc2libGVSb3dJbmRleChlKSYmdGhpcy5jcmVhdGVQb3NpdGlvbkRhdGEoZSsxKSx0aGlzLmdldExvZ2ljYWxSb3dJbmRleChlKX0sb25BZnRlclJlbW92ZVJvdzpmdW5jdGlvbihlLHQpe2lmKHRoaXMuaXNFbmFibGVkKCkpe3ZhciBuLG89dGhpcy5yb3dQb3NpdGlvbnM7bj1vLnNwbGljZShlLHQpLG89YihvLGZ1bmN0aW9uKGUsdCl7dmFyIG89ZTtyZXR1cm4geShuLGZ1bmN0aW9uKHQsbil7ZT50JiZvLS19KSxvfSksdGhpcy5yb3dQb3NpdGlvbnM9b319LG9uQWZ0ZXJDcmVhdGVSb3c6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmlzRW5hYmxlZCgpKXt2YXIgbj10aGlzLnJvd1Bvc2l0aW9ucztpZihuLmxlbmd0aCl7Zm9yKHZhciBvPVtdLHI9MDt0PnI7cisrKW8ucHVzaChlK3IpO2U+PW4ubGVuZ3RoP24uY29uY2F0KG8pOihuPWIobixmdW5jdGlvbihuLG8pe3JldHVybiBuPj1lP24rdDpufSksbi5zcGxpY2UuYXBwbHkobixbZSwwXS5jb25jYXQobykpKSx0aGlzLnJvd1Bvc2l0aW9ucz1ufX19LG9uSW5pdDpmdW5jdGlvbigpe3RoaXMuY29tcGxldGVTZXR0aW5nc0FycmF5KCl9fSx7fSxoKSxFKCJNYW51YWxSb3dNb3ZlIixNKSxkLmhvb2tzLnJlZ2lzdGVyKCJiZWZvcmVSb3dNb3ZlIiksZC5ob29rcy5yZWdpc3RlcigiYWZ0ZXJSb3dNb3ZlIil9LHsiX2Jhc2UuanMiOjYwLGJyb3dzZXI6MjMsZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9kb20vZWxlbWVudCI6NDYsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NywiaGVscGVycy9udW1iZXIiOjUxLHBsdWdpbnM6NTl9XSw4MjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtNYW51YWxSb3dSZXNpemU6e2dldDpmdW5jdGlvbigpe3JldHVybiBTfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsbCxhLHUsYyxoPShvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sZD0ocj1lKCJfYmFzZS5qcyIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSlbImRlZmF1bHQiXSxmPShpPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLHA9Zi5hZGRDbGFzcyxnPWYuaGFzQ2xhc3MsbT1mLnJlbW92ZUNsYXNzLHc9Zi5vdXRlcldpZHRoLHY9KHM9ZSgiZXZlbnRNYW5hZ2VyIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5ldmVudE1hbmFnZXIseT0obD1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSksYj0oeS5wYWdlWCx5LnBhZ2VZKSxDPShhPWUoImhlbHBlcnMvYXJyYXkiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLmFycmF5RWFjaCxfPSh1PWUoImhlbHBlcnMvbnVtYmVyIiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5yYW5nZUVhY2gsUj0oYz1lKCJwbHVnaW5zIiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KS5yZWdpc3RlclBsdWdpbixTPWZ1bmN0aW9uKGUpeyR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKEUpLmNhbGwodGhpcyxlKSx0aGlzLmN1cnJlbnRUSD1udWxsLHRoaXMuY3VycmVudFJvdz1udWxsLHRoaXMuc2VsZWN0ZWRSb3dzPVtdLHRoaXMuY3VycmVudEhlaWdodD1udWxsLHRoaXMubmV3U2l6ZT1udWxsLHRoaXMuc3RhcnRZPW51bGwsdGhpcy5zdGFydEhlaWdodD1udWxsLHRoaXMuc3RhcnRPZmZzZXQ9bnVsbCx0aGlzLmhhbmRsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSx0aGlzLmd1aWRlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLHRoaXMuZXZlbnRNYW5hZ2VyPXYodGhpcyksdGhpcy5wcmVzc2VkPW51bGwsdGhpcy5kYmxjbGljaz0wLHRoaXMuYXV0b3Jlc2l6ZVRpbWVvdXQ9bnVsbCx0aGlzLm1hbnVhbFJvd0hlaWdodHM9W10scCh0aGlzLmhhbmRsZSwibWFudWFsUm93UmVzaXplciIpLHAodGhpcy5ndWlkZSwibWFudWFsUm93UmVzaXplckd1aWRlIil9LEU9UzskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MoUyx7aXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG90LmdldFNldHRpbmdzKCkubWFudWFsUm93UmVzaXplfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCF0aGlzLmVuYWJsZWQpe3RoaXMubWFudWFsUm93SGVpZ2h0cz1bXTt2YXIgdD10aGlzLmhvdC5nZXRTZXR0aW5ncygpLm1hbnVhbFJvd1Jlc2l6ZSxuPXRoaXMubG9hZE1hbnVhbFJvd0hlaWdodHMoKTsidW5kZWZpbmVkIiE9dHlwZW9mIG4/dGhpcy5tYW51YWxSb3dIZWlnaHRzPW46QXJyYXkuaXNBcnJheSh0KT90aGlzLm1hbnVhbFJvd0hlaWdodHM9dDp0aGlzLm1hbnVhbFJvd0hlaWdodHM9W10sdGhpcy5hZGRIb29rKCJtb2RpZnlSb3dIZWlnaHQiLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUub25Nb2RpZnlSb3dIZWlnaHQodCxuKX0pLGguaG9va3MucmVnaXN0ZXIoImJlZm9yZVJvd1Jlc2l6ZSIpLGguaG9va3MucmVnaXN0ZXIoImFmdGVyUm93UmVzaXplIiksdGhpcy5iaW5kRXZlbnRzKCksJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsRS5wcm90b3R5cGUsImVuYWJsZVBsdWdpbiIpLmNhbGwodGhpcyl9fSx1cGRhdGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvdC5nZXRTZXR0aW5ncygpLm1hbnVhbFJvd1Jlc2l6ZTtBcnJheS5pc0FycmF5KGUpP3RoaXMubWFudWFsUm93SGVpZ2h0cz1lOmV8fCh0aGlzLm1hbnVhbFJvd0hlaWdodHM9W10pfSxkaXNhYmxlUGx1Z2luOmZ1bmN0aW9uKCl7JHRyYWNldXJSdW50aW1lLnN1cGVyR2V0KHRoaXMsRS5wcm90b3R5cGUsImRpc2FibGVQbHVnaW4iKS5jYWxsKHRoaXMpfSxzYXZlTWFudWFsUm93SGVpZ2h0czpmdW5jdGlvbigpe3RoaXMuaG90LnJ1bkhvb2tzKCJwZXJzaXN0ZW50U3RhdGVTYXZlIiwibWFudWFsUm93SGVpZ2h0cyIsdGhpcy5tYW51YWxSb3dIZWlnaHRzKX0sbG9hZE1hbnVhbFJvd0hlaWdodHM6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdGhpcy5ob3QucnVuSG9va3MoInBlcnNpc3RlbnRTdGF0ZUxvYWQiLCJtYW51YWxSb3dIZWlnaHRzIixlKSxlLnZhbHVlfSxzZXR1cEhhbmRsZVBvc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5jdXJyZW50VEg9ZTt2YXIgbj10aGlzLmhvdC52aWV3Lnd0Lnd0VGFibGUuZ2V0Q29vcmRzKGUpLnJvdyxvPXcodGhpcy5jdXJyZW50VEgpO2lmKG4+PTApe3ZhciByPXRoaXMuY3VycmVudFRILmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKHRoaXMuY3VycmVudFJvdz1uLHRoaXMuc2VsZWN0ZWRSb3dzPVtdLHRoaXMuaG90LnNlbGVjdGlvbi5pc1NlbGVjdGVkKCkmJnRoaXMuaG90LnNlbGVjdGlvbi5zZWxlY3RlZEhlYWRlci5yb3dzKXt2YXIgaT10aGlzLmhvdC5nZXRTZWxlY3RlZFJhbmdlKCkscz1pLmZyb20sbD1pLnRvLGE9cy5yb3csdT1sLnJvdzthPj11JiYoYT1sLnJvdyx1PXMucm93KSx0aGlzLmN1cnJlbnRSb3c+PWEmJnRoaXMuY3VycmVudFJvdzw9dT9fKGEsdSxmdW5jdGlvbihlKXtyZXR1cm4gdC5zZWxlY3RlZFJvd3MucHVzaChlKX0pOnRoaXMuc2VsZWN0ZWRSb3dzLnB1c2godGhpcy5jdXJyZW50Um93KX1lbHNlIHRoaXMuc2VsZWN0ZWRSb3dzLnB1c2godGhpcy5jdXJyZW50Um93KTt0aGlzLnN0YXJ0T2Zmc2V0PXIudG9wLTYsdGhpcy5zdGFydEhlaWdodD1wYXJzZUludChyLmhlaWdodCwxMCksdGhpcy5oYW5kbGUuc3R5bGUubGVmdD1yLmxlZnQrInB4Iix0aGlzLmhhbmRsZS5zdHlsZS50b3A9dGhpcy5zdGFydE9mZnNldCt0aGlzLnN0YXJ0SGVpZ2h0KyJweCIsdGhpcy5oYW5kbGUuc3R5bGUud2lkdGg9bysicHgiLHRoaXMuaG90LnJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuaGFuZGxlKX19LHJlZnJlc2hIYW5kbGVQb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMuaGFuZGxlLnN0eWxlLnRvcD10aGlzLnN0YXJ0T2Zmc2V0K3RoaXMuY3VycmVudEhlaWdodCsicHgifSxzZXR1cEd1aWRlUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgZT1wYXJzZUludCh3KHRoaXMuaGFuZGxlKSwxMCksdD1wYXJzZUludCh0aGlzLmhhbmRsZS5zdHlsZS5sZWZ0LDEwKStlLG49cGFyc2VJbnQodGhpcy5ob3Qudmlldy5tYXhpbXVtVmlzaWJsZUVsZW1lbnRXaWR0aCgwKSwxMCk7cCh0aGlzLmhhbmRsZSwiYWN0aXZlIikscCh0aGlzLmd1aWRlLCJhY3RpdmUiKSx0aGlzLmd1aWRlLnN0eWxlLnRvcD10aGlzLmhhbmRsZS5zdHlsZS50b3AsdGhpcy5ndWlkZS5zdHlsZS5sZWZ0PXQrInB4Iix0aGlzLmd1aWRlLnN0eWxlLndpZHRoPW4tZSsicHgiLHRoaXMuaG90LnJvb3RFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuZ3VpZGUpfSxyZWZyZXNoR3VpZGVQb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMuZ3VpZGUuc3R5bGUudG9wPXRoaXMuaGFuZGxlLnN0eWxlLnRvcH0saGlkZUhhbmRsZUFuZEd1aWRlOmZ1bmN0aW9uKCl7bSh0aGlzLmhhbmRsZSwiYWN0aXZlIiksbSh0aGlzLmd1aWRlLCJhY3RpdmUiKX0sY2hlY2tJZlJvd0hlYWRlcjpmdW5jdGlvbihlKXtpZihlIT10aGlzLmhvdC5yb290RWxlbWVudCl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiJUQk9EWSI9PT10LnRhZ05hbWU/ITA6dGhpcy5jaGVja0lmUm93SGVhZGVyKHQpfXJldHVybiExfSxnZXRUSEZyb21UYXJnZXRFbGVtZW50OmZ1bmN0aW9uKGUpe3JldHVybiJUQUJMRSIhPWUudGFnTmFtZT8iVEgiPT1lLnRhZ05hbWU/ZTp0aGlzLmdldFRIRnJvbVRhcmdldEVsZW1lbnQoZS5wYXJlbnROb2RlKTpudWxsfSxvbk1vdXNlT3ZlcjpmdW5jdGlvbihlKXtpZih0aGlzLmNoZWNrSWZSb3dIZWFkZXIoZS50YXJnZXQpKXt2YXIgdD10aGlzLmdldFRIRnJvbVRhcmdldEVsZW1lbnQoZS50YXJnZXQpO3QmJih0aGlzLnByZXNzZWR8fHRoaXMuc2V0dXBIYW5kbGVQb3NpdGlvbih0KSl9fSxhZnRlck1vdXNlRG93blRpbWVvdXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZnVuY3Rpb24oKXtlLmhvdC5mb3JjZUZ1bGxSZW5kZXI9ITAsZS5ob3Qudmlldy5yZW5kZXIoKSxlLmhvdC52aWV3Lnd0Lnd0T3ZlcmxheXMuYWRqdXN0RWxlbWVudHNTaXplKCEwKX0sbj1mdW5jdGlvbihuLG8pe3ZhciByPWUuaG90LnJ1bkhvb2tzKCJiZWZvcmVSb3dSZXNpemUiLG4sZS5uZXdTaXplLCEwKTt2b2lkIDAhPT1yJiYoZS5uZXdTaXplPXIpLGUuc2V0TWFudWFsU2l6ZShuLGUubmV3U2l6ZSksbyYmdCgpLGUuaG90LnJ1bkhvb2tzKCJhZnRlclJvd1Jlc2l6ZSIsbixlLm5ld1NpemUsITApfTtpZih0aGlzLmRibGNsaWNrPj0yKXt2YXIgbz10aGlzLnNlbGVjdGVkUm93cy5sZW5ndGg7bz4xPyhDKHRoaXMuc2VsZWN0ZWRSb3dzLGZ1bmN0aW9uKGUpe24oZSl9KSx0KCkpOkModGhpcy5zZWxlY3RlZFJvd3MsZnVuY3Rpb24oZSl7bihlLCEwKX0pfXRoaXMuZGJsY2xpY2s9MCx0aGlzLmF1dG9yZXNpemVUaW1lb3V0PW51bGx9LG9uTW91c2VEb3duOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZyhlLnRhcmdldCwibWFudWFsUm93UmVzaXplciIpJiYodGhpcy5zZXR1cEd1aWRlUG9zaXRpb24oKSx0aGlzLnByZXNzZWQ9dGhpcy5ob3QsbnVsbD09dGhpcy5hdXRvcmVzaXplVGltZW91dCYmKHRoaXMuYXV0b3Jlc2l6ZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB0LmFmdGVyTW91c2VEb3duVGltZW91dCgpfSw1MDApLHRoaXMuaG90Ll9yZWdpc3RlclRpbWVvdXQodGhpcy5hdXRvcmVzaXplVGltZW91dCkpLHRoaXMuZGJsY2xpY2srKyx0aGlzLnN0YXJ0WT1iKGUpLHRoaXMubmV3U2l6ZT10aGlzLnN0YXJ0SGVpZ2h0KX0sb25Nb3VzZU1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLnByZXNzZWQmJih0aGlzLmN1cnJlbnRIZWlnaHQ9dGhpcy5zdGFydEhlaWdodCsoYihlKS10aGlzLnN0YXJ0WSksQyh0aGlzLnNlbGVjdGVkUm93cyxmdW5jdGlvbihlKXt0Lm5ld1NpemU9dC5zZXRNYW51YWxTaXplKGUsdC5jdXJyZW50SGVpZ2h0KX0pLHRoaXMucmVmcmVzaEhhbmRsZVBvc2l0aW9uKCksdGhpcy5yZWZyZXNoR3VpZGVQb3NpdGlvbigpKX0sb25Nb3VzZVVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1mdW5jdGlvbigpe3QuaG90LmZvcmNlRnVsbFJlbmRlcj0hMCx0LmhvdC52aWV3LnJlbmRlcigpLHQuaG90LnZpZXcud3Qud3RPdmVybGF5cy5hZGp1c3RFbGVtZW50c1NpemUoITApfSxvPWZ1bmN0aW9uKGUsbyl7dC5ob3QucnVuSG9va3MoImJlZm9yZVJvd1Jlc2l6ZSIsZSx0Lm5ld1NpemUpLG8mJm4oKSx0LnNhdmVNYW51YWxSb3dIZWlnaHRzKCksdC5ob3QucnVuSG9va3MoImFmdGVyUm93UmVzaXplIixlLHQubmV3U2l6ZSl9O2lmKHRoaXMucHJlc3NlZCl7aWYodGhpcy5oaWRlSGFuZGxlQW5kR3VpZGUoKSx0aGlzLnByZXNzZWQ9ITEsdGhpcy5uZXdTaXplIT10aGlzLnN0YXJ0SGVpZ2h0KXt2YXIgcj10aGlzLnNlbGVjdGVkUm93cy5sZW5ndGg7cj4xPyhDKHRoaXMuc2VsZWN0ZWRSb3dzLGZ1bmN0aW9uKGUpe28oZSl9KSxuKCkpOkModGhpcy5zZWxlY3RlZFJvd3MsZnVuY3Rpb24oZSl7byhlLCEwKX0pfXRoaXMuc2V0dXBIYW5kbGVQb3NpdGlvbih0aGlzLmN1cnJlbnRUSCl9fSxiaW5kRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuaG90LnJvb3RFbGVtZW50LCJtb3VzZW92ZXIiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VPdmVyKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmhvdC5yb290RWxlbWVudCwibW91c2Vkb3duIixmdW5jdGlvbih0KXtyZXR1cm4gZS5vbk1vdXNlRG93bih0KX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIod2luZG93LCJtb3VzZW1vdmUiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VNb3ZlKHQpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csIm1vdXNldXAiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uTW91c2VVcCh0KX0pfSxzZXRNYW51YWxTaXplOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9dGhpcy5ob3QucnVuSG9va3MoIm1vZGlmeVJvdyIsZSksdGhpcy5tYW51YWxSb3dIZWlnaHRzW2VdPXQsdH0sb25Nb2RpZnlSb3dIZWlnaHQ6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmVuYWJsZWQpe3ZhciBuPXRoaXMuaG90LmdldFBsdWdpbigiYXV0b1Jvd1NpemUiKSxvPW4/bi5oZWlnaHRzW3RdOm51bGw7dD10aGlzLmhvdC5ydW5Ib29rcygibW9kaWZ5Um93Iix0KTt2YXIgcj10aGlzLm1hbnVhbFJvd0hlaWdodHNbdF07aWYodm9pZCAwIT09ciYmKHI9PT1vfHxyPihlfHwwKSkpcmV0dXJuIHJ9cmV0dXJuIGV9fSx7fSxkKSxSKCJtYW51YWxSb3dSZXNpemUiLFMpfSx7Il9iYXNlLmpzIjo2MCxicm93c2VyOjIzLGV2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9hcnJheSI6NDIsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LCJoZWxwZXJzL2RvbS9ldmVudCI6NDcsImhlbHBlcnMvbnVtYmVyIjo1MSxwbHVnaW5zOjU5fV0sODM6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbygpe3ZhciBlPVtdO3JldHVybiBlLmdldEluZm89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxvPXRoaXMubGVuZ3RoO28+bjtuKyspaWYodGhpc1tuXS5yb3c8PWUmJnRoaXNbbl0ucm93K3RoaXNbbl0ucm93c3Bhbi0xPj1lJiZ0aGlzW25dLmNvbDw9dCYmdGhpc1tuXS5jb2wrdGhpc1tuXS5jb2xzcGFuLTE+PXQpcmV0dXJuIHRoaXNbbl19LGUuc2V0SW5mbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMubGVuZ3RoO24+dDt0KyspaWYodGhpc1t0XS5yb3c9PT1lLnJvdyYmdGhpc1t0XS5jb2w9PT1lLmNvbClyZXR1cm4gdm9pZCh0aGlzW3RdPWUpO3RoaXMucHVzaChlKX0sZS5yZW1vdmVJbmZvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAsbz10aGlzLmxlbmd0aDtvPm47bisrKWlmKHRoaXNbbl0ucm93PT09ZSYmdGhpc1tuXS5jb2w9PT10KXt0aGlzLnNwbGljZShuLDEpO2JyZWFrfX0sZX1mdW5jdGlvbiByKGUpe2lmKHRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uPW5ldyBvLEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciB0PTAsbj1lLmxlbmd0aDtuPnQ7dCsrKXRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLnNldEluZm8oZVt0XSl9ZnVuY3Rpb24gaShlLHQpe3ZhciBuPXRoaXMuZ2V0U2V0dGluZ3MoKS5tZXJnZUNlbGxzO2lmKG4mJiF0aGlzLnNlbGVjdGlvbi5pc011bHRpcGxlKCkpe3ZhciBvPXRoaXMubWVyZ2VDZWxscy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24uZ2V0SW5mbyhlWzBdLGVbMV0pO28mJihlWzBdPW8ucm93LGVbMV09by5jb2wsZVsyXT1vLnJvdytvLnJvd3NwYW4tMSxlWzNdPW8uY29sK28uY29sc3Bhbi0xKX19ZnVuY3Rpb24gcyhlLHQpe3RoaXMubWVyZ2VDZWxscyYmdGhpcy5tZXJnZUNlbGxzLnNoaWZ0Q29sbGVjdGlvbigicmlnaHQiLGUsdCl9ZnVuY3Rpb24gbChlLHQpe3RoaXMubWVyZ2VDZWxscyYmdGhpcy5tZXJnZUNlbGxzLnNoaWZ0Q29sbGVjdGlvbigibGVmdCIsZSx0KX1mdW5jdGlvbiBhKGUsdCl7dGhpcy5tZXJnZUNlbGxzJiZ0aGlzLm1lcmdlQ2VsbHMuc2hpZnRDb2xsZWN0aW9uKCJkb3duIixlLHQpfWZ1bmN0aW9uIHUoZSx0KXt0aGlzLm1lcmdlQ2VsbHMmJnRoaXMubWVyZ2VDZWxscy5zaGlmdENvbGxlY3Rpb24oInVwIixlLHQpfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se01lcmdlQ2VsbHM6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGMsaCxkLGYscCxnLG09KGM9ZSgiYnJvd3NlciIpLGMmJmMuX19lc01vZHVsZSYmY3x8eyJkZWZhdWx0IjpjfSlbImRlZmF1bHQiXSx3PSgoaD1lKCJwbHVnaW5zIiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KS5yZWdpc3RlclBsdWdpbiwoZD1lKCJoZWxwZXJzL2RvbS9ldmVudCIpLGQmJmQuX19lc01vZHVsZSYmZHx8eyJkZWZhdWx0IjpkfSkuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSx2PShmPWUoIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyIpLGYmJmYuX19lc01vZHVsZSYmZnx8eyJkZWZhdWx0IjpmfSkuV2Fsa29udGFibGVDZWxsQ29vcmRzLHk9KHA9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NlbGwvcmFuZ2UiKSxwJiZwLl9fZXNNb2R1bGUmJnB8fHsiZGVmYXVsdCI6cH0pLldhbGtvbnRhYmxlQ2VsbFJhbmdlLGI9KGc9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL3RhYmxlIiksZyYmZy5fX2VzTW9kdWxlJiZnfHx7ImRlZmF1bHQiOmd9KS5XYWxrb250YWJsZVRhYmxlO3IucHJvdG90eXBlLmNhbk1lcmdlUmFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIWUuaXNTaW5nbGUoKX0sci5wcm90b3R5cGUubWVyZ2VSYW5nZT1mdW5jdGlvbihlKXtpZih0aGlzLmNhbk1lcmdlUmFuZ2UoZSkpe3ZhciB0PWUuZ2V0VG9wTGVmdENvcm5lcigpLG49ZS5nZXRCb3R0b21SaWdodENvcm5lcigpLG89e307by5yb3c9dC5yb3csby5jb2w9dC5jb2wsby5yb3dzcGFuPW4ucm93LXQucm93KzEsby5jb2xzcGFuPW4uY29sLXQuY29sKzEsdGhpcy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24uc2V0SW5mbyhvKX19LHIucHJvdG90eXBlLm1lcmdlT3JVbm1lcmdlU2VsZWN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmdldEluZm8oZS5mcm9tLnJvdyxlLmZyb20uY29sKTt0P3RoaXMudW5tZXJnZVNlbGVjdGlvbihlLmZyb20pOnRoaXMubWVyZ2VTZWxlY3Rpb24oZSl9LHIucHJvdG90eXBlLm1lcmdlU2VsZWN0aW9uPWZ1bmN0aW9uKGUpe3RoaXMubWVyZ2VSYW5nZShlKX0sci5wcm90b3R5cGUudW5tZXJnZVNlbGVjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5nZXRJbmZvKGUucm93LGUuY29sKTt0aGlzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5yZW1vdmVJbmZvKHQucm93LHQuY29sKX0sci5wcm90b3R5cGUuYXBwbHlTcGFuUHJvcGVydGllcz1mdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24uZ2V0SW5mbyh0LG4pO28/by5yb3c9PT10JiZvLmNvbD09PW4/KGUuc2V0QXR0cmlidXRlKCJyb3dzcGFuIixvLnJvd3NwYW4pLGUuc2V0QXR0cmlidXRlKCJjb2xzcGFuIixvLmNvbHNwYW4pKTooZS5yZW1vdmVBdHRyaWJ1dGUoInJvd3NwYW4iKSxlLnJlbW92ZUF0dHJpYnV0ZSgiY29sc3BhbiIpLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIpOihlLnJlbW92ZUF0dHJpYnV0ZSgicm93c3BhbiIpLGUucmVtb3ZlQXR0cmlidXRlKCJjb2xzcGFuIikpfSxyLnByb3RvdHlwZS5tb2RpZnlUcmFuc2Zvcm09ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucm93Pj1lLnJvdyYmdC5yb3c8PWUucm93K2Uucm93c3Bhbi0xfSxyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY29sPj1lLmNvbCYmdC5jb2w8PWUuY29sK2UuY29sc3Bhbi0xfSxpPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdih0LnRvLnJvdytlLnJvdyx0LnRvLmNvbCtlLmNvbCl9LHM9e3JvdzpuLnJvdyxjb2w6bi5jb2x9O2lmKCJtb2RpZnlUcmFuc2Zvcm1TdGFydCI9PWUpe3RoaXMubGFzdERlc2lyZWRDb29yZHN8fCh0aGlzLmxhc3REZXNpcmVkQ29vcmRzPW5ldyB2KG51bGwsbnVsbCkpO2Zvcih2YXIgbCxhPW5ldyB2KHQuaGlnaGxpZ2h0LnJvdyx0LmhpZ2hsaWdodC5jb2wpLHU9dGhpcy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24uZ2V0SW5mbyhhLnJvdyxhLmNvbCksYz0wLGg9dGhpcy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24ubGVuZ3RoO2g+YztjKyspe3ZhciBkPXRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uW2NdO2lmKGQ9bmV3IHYoZC5yb3crZC5yb3dzcGFuLTEsZC5jb2wrZC5jb2xzcGFuLTEpLHQuaW5jbHVkZXMoZCkpe2w9ITA7YnJlYWt9fWlmKHUpe3ZhciBmPW5ldyB2KHUucm93LHUuY29sKSxwPW5ldyB2KHUucm93K3Uucm93c3Bhbi0xLHUuY29sK3UuY29sc3Bhbi0xKSxnPW5ldyB5KGYsZixwKTtnLmluY2x1ZGVzKHRoaXMubGFzdERlc2lyZWRDb29yZHMpfHwodGhpcy5sYXN0RGVzaXJlZENvb3Jkcz1uZXcgdihudWxsLG51bGwpKSxzLnJvdz10aGlzLmxhc3REZXNpcmVkQ29vcmRzLnJvdz90aGlzLmxhc3REZXNpcmVkQ29vcmRzLnJvdy1hLnJvdzpzLnJvdyxzLmNvbD10aGlzLmxhc3REZXNpcmVkQ29vcmRzLmNvbD90aGlzLmxhc3REZXNpcmVkQ29vcmRzLmNvbC1hLmNvbDpzLmNvbCxuLnJvdz4wP3Mucm93PXUucm93K3Uucm93c3Bhbi0xLWEucm93K24ucm93Om4ucm93PDAmJihzLnJvdz1hLnJvdy11LnJvdytuLnJvdyksbi5jb2w+MD9zLmNvbD11LmNvbCt1LmNvbHNwYW4tMS1hLmNvbCtuLmNvbDpuLmNvbDwwJiYocy5jb2w9YS5jb2wtdS5jb2wrbi5jb2wpfXZhciBtPW5ldyB2KHQuaGlnaGxpZ2h0LnJvdytzLnJvdyx0LmhpZ2hsaWdodC5jb2wrcy5jb2wpLHc9dGhpcy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24uZ2V0SW5mbyhtLnJvdyxtLmNvbCk7dyYmKHRoaXMubGFzdERlc2lyZWRDb29yZHM9bSxzPXtyb3c6dy5yb3ctYS5yb3csY29sOncuY29sLWEuY29sfSl9ZWxzZSBpZigibW9kaWZ5VHJhbnNmb3JtRW5kIj09ZSlmb3IodmFyIGM9MCxoPXRoaXMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmxlbmd0aDtoPmM7YysrKXt2YXIgYj10aGlzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbltjXSxmPW5ldyB2KGIucm93LGIuY29sKSxwPW5ldyB2KGIucm93K2Iucm93c3Bhbi0xLGIuY29sK2IuY29sc3Bhbi0xKSxDPW5ldyB5KGYsZixwKSxfPXQuZ2V0Qm9yZGVyc1NoYXJlZFdpdGgoQyk7aWYoQy5pc0VxdWFsKHQpKXQuc2V0RGlyZWN0aW9uKCJOVy1TRSIpO2Vsc2UgaWYoXy5sZW5ndGg+MCl7dmFyIFI9dC5oaWdobGlnaHQuaXNFcXVhbChDLmZyb20pO18uaW5kZXhPZigidG9wIik+LTE/dC50by5pc1NvdXRoRWFzdE9mKEMuZnJvbSkmJlI/dC5zZXREaXJlY3Rpb24oIk5XLVNFIik6dC50by5pc1NvdXRoV2VzdE9mKEMuZnJvbSkmJlImJnQuc2V0RGlyZWN0aW9uKCJORS1TVyIpOl8uaW5kZXhPZigiYm90dG9tIik+LTEmJih0LnRvLmlzTm9ydGhFYXN0T2YoQy5mcm9tKSYmUj90LnNldERpcmVjdGlvbigiU1ctTkUiKTp0LnRvLmlzTm9ydGhXZXN0T2YoQy5mcm9tKSYmUiYmdC5zZXREaXJlY3Rpb24oIlNFLU5XIikpfXZhciBtPWkocyksUz1vKGIsbSksRT1yKGIsbSk7dC5pbmNsdWRlc1JhbmdlKEMpJiYoQy5pbmNsdWRlcyhtKXx8U3x8RSkmJihTJiYocy5yb3c8MD9zLnJvdy09Yi5yb3dzcGFuLTE6cy5yb3c+MCYmKHMucm93Kz1iLnJvd3NwYW4tMSkpLEUmJihzLmNvbDwwP3MuY29sLT1iLmNvbHNwYW4tMTpzLmNvbD4wJiYocy5jb2wrPWIuY29sc3Bhbi0xKSkpfTAhPT1zLnJvdyYmKG4ucm93PXMucm93KSwwIT09cy5jb2wmJihuLmNvbD1zLmNvbCl9LHIucHJvdG90eXBlLnNoaWZ0Q29sbGVjdGlvbj1mdW5jdGlvbihlLHQsbil7dmFyIG89WzAsMF07c3dpdGNoKGUpe2Nhc2UicmlnaHQiOm9bMF0rPTE7YnJlYWs7Y2FzZSJsZWZ0IjpvWzBdLT0xO2JyZWFrO2Nhc2UiZG93biI6b1sxXSs9MTticmVhaztjYXNlInVwIjpvWzFdLT0xfWZvcih2YXIgcj0wO3I8dGhpcy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24ubGVuZ3RoO3IrKyl7dmFyIGk9dGhpcy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb25bcl07InJpZ2h0Ij09PWV8fCJsZWZ0Ij09PWU/dDw9aS5jb2wmJihpLmNvbCs9b1swXSk6dDw9aS5yb3cmJihpLnJvdys9b1sxXSl9fTt2YXIgQz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLmdldFNldHRpbmdzKCkubWVyZ2VDZWxsczt0JiYoZS5tZXJnZUNlbGxzfHwoZS5tZXJnZUNlbGxzPW5ldyByKHQpKSl9LF89ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UubWVyZ2VDZWxscyYmKGUudmlldy53dC53dFRhYmxlLmdldENlbGw9ZnVuY3Rpb24odCl7aWYoZS5nZXRTZXR0aW5ncygpLm1lcmdlQ2VsbHMpe3ZhciBuPWUubWVyZ2VDZWxscy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24uZ2V0SW5mbyh0LnJvdyx0LmNvbCk7biYmKHQ9bil9cmV0dXJuIGIucHJvdG90eXBlLmdldENlbGwuY2FsbCh0aGlzLHQpfSl9LFI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5nZXRTZXR0aW5ncygpLm1lcmdlQ2VsbHM7aWYodClpZihlLm1lcmdlQ2VsbHMpe2lmKGUubWVyZ2VDZWxscy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb249bmV3IG8sQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIG49MCxpPXQubGVuZ3RoO2k+bjtuKyspZS5tZXJnZUNlbGxzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5zZXRJbmZvKHRbbl0pfWVsc2UgZS5tZXJnZUNlbGxzPW5ldyByKHQpO2Vsc2UgZS5tZXJnZUNlbGxzJiYoZS5tZXJnZUNlbGxzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbj1uZXcgbyl9LFM9ZnVuY3Rpb24oZSl7aWYodGhpcy5tZXJnZUNlbGxzKXt2YXIgdD0oZS5jdHJsS2V5fHxlLm1ldGFLZXkpJiYhZS5hbHRLZXk7dCYmNzc9PT1lLmtleUNvZGUmJih0aGlzLm1lcmdlQ2VsbHMubWVyZ2VPclVubWVyZ2VTZWxlY3Rpb24odGhpcy5nZXRTZWxlY3RlZFJhbmdlKCkpLHRoaXMucmVuZGVyKCksdyhlKSl9fSxFPWZ1bmN0aW9uKGUpe3RoaXMuZ2V0U2V0dGluZ3MoKS5tZXJnZUNlbGxzJiYoZS5pdGVtcy5wdXNoKG0ucGx1Z2lucy5Db250ZXh0TWVudS5TRVBBUkFUT1IpLGUuaXRlbXMucHVzaCh7a2V5OiJtZXJnZUNlbGxzIixuYW1lOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRTZWxlY3RlZCgpLHQ9dGhpcy5tZXJnZUNlbGxzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5nZXRJbmZvKGVbMF0sZVsxXSk7cmV0dXJuIHQ/IlVubWVyZ2UgY2VsbHMiOiJNZXJnZSBjZWxscyJ9LGNhbGxiYWNrOmZ1bmN0aW9uKCl7dGhpcy5tZXJnZUNlbGxzLm1lcmdlT3JVbm1lcmdlU2VsZWN0aW9uKHRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpKSx0aGlzLnJlbmRlcigpfSxkaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiExfX0pKX0sVD1mdW5jdGlvbihlLHQsbixvLHIsaSl7dGhpcy5tZXJnZUNlbGxzJiZ0aGlzLm1lcmdlQ2VsbHMuYXBwbHlTcGFuUHJvcGVydGllcyhlLHQsbil9LE09ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuZ2V0U2V0dGluZ3MoKS5tZXJnZUNlbGxzO2lmKG4pe3ZhciBvPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpO2lmKHRoaXMubWVyZ2VDZWxscy5tb2RpZnlUcmFuc2Zvcm0oZSxvLHQpLCJtb2RpZnlUcmFuc2Zvcm1FbmQiPT09ZSl7dmFyIHI9dGhpcy5jb3VudFJvd3MoKSxpPXRoaXMuY291bnRDb2xzKCk7by5mcm9tLnJvdzwwP28uZnJvbS5yb3c9MDpvLmZyb20ucm93PjAmJm8uZnJvbS5yb3c+PXImJihvLmZyb20ucm93PW8uZnJvbS0xKSxvLmZyb20uY29sPDA/by5mcm9tLmNvbD0wOm8uZnJvbS5jb2w+MCYmby5mcm9tLmNvbD49aSYmKG8uZnJvbS5jb2w9aS0xKX19fX0sTz1mdW5jdGlvbihlKXt0aGlzLmxhc3REZXNpcmVkQ29vcmRzPW51bGw7dmFyIHQ9dGhpcy5nZXRTZXR0aW5ncygpLm1lcmdlQ2VsbHM7aWYodCl7dmFyIG49dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCk7bi5oaWdobGlnaHQ9bmV3IHYobi5oaWdobGlnaHQucm93LG4uaGlnaGxpZ2h0LmNvbCksbi50bz1lO3ZhciBvPSExO2Rve289ITE7Zm9yKHZhciByPTAsaT10aGlzLm1lcmdlQ2VsbHMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmxlbmd0aDtpPnI7cisrKXt2YXIgcz10aGlzLm1lcmdlQ2VsbHMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uW3JdLGw9bmV3IHYocy5yb3cscy5jb2wpLGE9bmV3IHYocy5yb3crcy5yb3dzcGFuLTEscy5jb2wrcy5jb2xzcGFuLTEpLHU9bmV3IHkobCxsLGEpO24uZXhwYW5kQnlSYW5nZSh1KSYmKGUucm93PW4udG8ucm93LGUuY29sPW4udG8uY29sLG89ITApfX13aGlsZShvKX19LGs9ZnVuY3Rpb24oZSx0KXtpZih0JiYiYXJlYSI9PXQpe3ZhciBuPXRoaXMuZ2V0U2V0dGluZ3MoKS5tZXJnZUNlbGxzO2lmKG4pZm9yKHZhciBvPXRoaXMuZ2V0U2VsZWN0ZWRSYW5nZSgpLHI9bmV3IHkoby5mcm9tLG8uZnJvbSxvLmZyb20pLGk9bmV3IHkoby50byxvLnRvLG8udG8pLHM9MCxsPXRoaXMubWVyZ2VDZWxscy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24ubGVuZ3RoO2w+cztzKyspe3ZhciBhPXRoaXMubWVyZ2VDZWxscy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb25bc10sdT1uZXcgdihhLnJvdyxhLmNvbCksYz1uZXcgdihhLnJvdythLnJvd3NwYW4tMSxhLmNvbCthLmNvbHNwYW4tMSksaD1uZXcgeSh1LHUsYyk7ci5leHBhbmRCeVJhbmdlKGgpJiYoZVswXT1yLmZyb20ucm93LGVbMV09ci5mcm9tLmNvbCksaS5leHBhbmRCeVJhbmdlKGgpJiYoZVsyXT1pLmZyb20ucm93LGVbM109aS5mcm9tLmNvbCl9fX0sSD1mdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcy5nZXRTZXR0aW5ncygpLm1lcmdlQ2VsbHM7aWYobyl7dmFyIHI9dGhpcy5tZXJnZUNlbGxzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5nZXRJbmZvKGUsdCk7IXJ8fHIucm93PT1lJiZyLmNvbD09dHx8KG4uY29weWFibGU9ITEpfX0sRD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFNldHRpbmdzKCkubWVyZ2VDZWxscztpZih0KWZvcih2YXIgbixvPXRoaXMuY291bnRDb2xzKCkscj0wO28+cjtyKyspe2lmKG49dGhpcy5tZXJnZUNlbGxzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5nZXRJbmZvKGUuc3RhcnRSb3csciksbiYmbi5yb3c8ZS5zdGFydFJvdylyZXR1cm4gZS5zdGFydFJvdz1uLnJvdyxELmNhbGwodGhpcyxlKTtpZihuPXRoaXMubWVyZ2VDZWxscy5tZXJnZWRDZWxsSW5mb0NvbGxlY3Rpb24uZ2V0SW5mbyhlLmVuZFJvdyxyKSl7dmFyIGk9bi5yb3crbi5yb3dzcGFuLTE7aWYoaT5lLmVuZFJvdylyZXR1cm4gZS5lbmRSb3c9aSxELmNhbGwodGhpcyxlKX19fSxBPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0U2V0dGluZ3MoKS5tZXJnZUNlbGxzO2lmKHQpZm9yKHZhciBuLG89dGhpcy5jb3VudFJvd3MoKSxyPTA7bz5yO3IrKyl7aWYobj10aGlzLm1lcmdlQ2VsbHMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLmdldEluZm8ocixlLnN0YXJ0Q29sdW1uKSxuJiZuLmNvbDxlLnN0YXJ0Q29sdW1uKXJldHVybiBlLnN0YXJ0Q29sdW1uPW4uY29sLEEuY2FsbCh0aGlzLGUpO2lmKG49dGhpcy5tZXJnZUNlbGxzLm1lcmdlZENlbGxJbmZvQ29sbGVjdGlvbi5nZXRJbmZvKHIsZS5lbmRDb2x1bW4pKXt2YXIgaT1uLmNvbCtuLmNvbHNwYW4tMTtpZihpPmUuZW5kQ29sdW1uKXJldHVybiBlLmVuZENvbHVtbj1pLEEuY2FsbCh0aGlzLGUpfX19LHg9ZnVuY3Rpb24oZSl7aWYoZSYmdGhpcy5tZXJnZUNlbGxzKXt2YXIgdD10aGlzLm1lcmdlQ2VsbHMubWVyZ2VkQ2VsbEluZm9Db2xsZWN0aW9uLG49dGhpcy5nZXRTZWxlY3RlZFJhbmdlKCk7Zm9yKHZhciBvIGluIHQpaWYobi5oaWdobGlnaHQucm93PT10W29dLnJvdyYmbi5oaWdobGlnaHQuY29sPT10W29dLmNvbCYmbi50by5yb3c9PXRbb10ucm93K3Rbb10ucm93c3Bhbi0xJiZuLnRvLmNvbD09dFtvXS5jb2wrdFtvXS5jb2xzcGFuLTEpcmV0dXJuITF9cmV0dXJuIGV9O20uaG9va3MuYWRkKCJiZWZvcmVJbml0IixDKSxtLmhvb2tzLmFkZCgiYWZ0ZXJJbml0IixfKSxtLmhvb2tzLmFkZCgiYWZ0ZXJVcGRhdGVTZXR0aW5ncyIsUiksbS5ob29rcy5hZGQoImJlZm9yZUtleURvd24iLFMpLG0uaG9va3MuYWRkKCJtb2RpZnlUcmFuc2Zvcm1TdGFydCIsTSgibW9kaWZ5VHJhbnNmb3JtU3RhcnQiKSksbS5ob29rcy5hZGQoIm1vZGlmeVRyYW5zZm9ybUVuZCIsTSgibW9kaWZ5VHJhbnNmb3JtRW5kIikpLG0uaG9va3MuYWRkKCJiZWZvcmVTZXRSYW5nZUVuZCIsTyksbS5ob29rcy5hZGQoImJlZm9yZURyYXdCb3JkZXJzIixrKSxtLmhvb2tzLmFkZCgiYWZ0ZXJJc011bHRpcGxlU2VsZWN0aW9uIix4KSxtLmhvb2tzLmFkZCgiYWZ0ZXJSZW5kZXJlciIsVCksbS5ob29rcy5hZGQoImFmdGVyQ29udGV4dE1lbnVEZWZhdWx0T3B0aW9ucyIsRSksbS5ob29rcy5hZGQoImFmdGVyR2V0Q2VsbE1ldGEiLEgpLG0uaG9va3MuYWRkKCJhZnRlclZpZXdwb3J0Um93Q2FsY3VsYXRvck92ZXJyaWRlIixEKSxtLmhvb2tzLmFkZCgiYWZ0ZXJWaWV3cG9ydENvbHVtbkNhbGN1bGF0b3JPdmVycmlkZSIsQSksbS5ob29rcy5hZGQoImFmdGVyQXV0b2ZpbGxBcHBseVZhbHVlcyIsaSksbS5ob29rcy5hZGQoImFmdGVyQ3JlYXRlQ29sIixzKSxtLmhvb2tzLmFkZCgiYWZ0ZXJSZW1vdmVDb2wiLGwpLG0uaG9va3MuYWRkKCJhZnRlckNyZWF0ZVJvdyIsYSksbS5ob29rcy5hZGQoImFmdGVyUmVtb3ZlUm93Iix1KSxtLk1lcmdlQ2VsbHM9cn0seyIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9jb29yZHMiOjUsIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL3JhbmdlIjo2LCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvdGFibGUiOjIwLGJyb3dzZXI6MjMsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NyxwbHVnaW5zOjU5fV0sODQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7TXVsdGlwbGVTZWxlY3Rpb25IYW5kbGVzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gd319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGwsYSx1PSgobz1lKCJicm93c2VyIiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KVsiZGVmYXVsdCJdLHI9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSksYz11LmdldFdpbmRvd1Njcm9sbFRvcCxoPXUuaGFzQ2xhc3MsZD11LmdldFdpbmRvd1Njcm9sbExlZnQsZj0oaT1lKCJoZWxwZXJzL2Jyb3dzZXIiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmlzTW9iaWxlQnJvd3NlcixwPShzPWUoIl9iYXNlIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KVsiZGVmYXVsdCJdLGc9KGw9ZSgiZXZlbnRNYW5hZ2VyIiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KS5FdmVudE1hbmFnZXIsbT0oYT1lKCJwbHVnaW5zIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5yZWdpc3RlclBsdWdpbix3PWZ1bmN0aW9uKGUpeyR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yKHYpLmNhbGwodGhpcyxlKSx0aGlzLmRyYWdnZWQ9W10sdGhpcy5ldmVudE1hbmFnZXI9bnVsbCx0aGlzLmxhc3RTZXRDZWxsPW51bGx9LHY9dzskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3Modyx7aXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIGYoKX0sZW5hYmxlUGx1Z2luOmZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkfHwodGhpcy5ldmVudE1hbmFnZXJ8fCh0aGlzLmV2ZW50TWFuYWdlcj1uZXcgZyh0aGlzKSksdGhpcy5yZWdpc3Rlckxpc3RlbmVycygpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLHYucHJvdG90eXBlLCJlbmFibGVQbHVnaW4iKS5jYWxsKHRoaXMpKX0scmVnaXN0ZXJMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2lmKDE9PT10LmRyYWdnZWQubGVuZ3RoKXJldHVybiB0LmRyYWdnZWQuc3BsaWNlKDAsdC5kcmFnZ2VkLmxlbmd0aCksITA7dmFyIG49dC5kcmFnZ2VkLmluZGV4T2YoZSk7cmV0dXJuLTE9PW4/ITE6dm9pZCgwPT09bj90LmRyYWdnZWQ9dC5kcmFnZ2VkLnNsaWNlKDAsMSk6MT09biYmKHQuZHJhZ2dlZD10LmRyYWdnZWQuc2xpY2UoLTEpKSl9dmFyIHQ9dGhpczt0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuaG90LnJvb3RFbGVtZW50LCJ0b3VjaHN0YXJ0IixmdW5jdGlvbihlKXt2YXIgbjtyZXR1cm4gaChlLnRhcmdldCwidG9wTGVmdFNlbGVjdGlvbkhhbmRsZS1IaXRBcmVhIik/KG49dC5ob3QuZ2V0U2VsZWN0ZWRSYW5nZSgpLHQuZHJhZ2dlZC5wdXNoKCJ0b3BMZWZ0IiksdC50b3VjaFN0YXJ0UmFuZ2U9e3dpZHRoOm4uZ2V0V2lkdGgoKSxoZWlnaHQ6bi5nZXRIZWlnaHQoKSxkaXJlY3Rpb246bi5nZXREaXJlY3Rpb24oKX0sZS5wcmV2ZW50RGVmYXVsdCgpLCExKTpoKGUudGFyZ2V0LCJib3R0b21SaWdodFNlbGVjdGlvbkhhbmRsZS1IaXRBcmVhIik/KG49dC5ob3QuZ2V0U2VsZWN0ZWRSYW5nZSgpLHQuZHJhZ2dlZC5wdXNoKCJib3R0b21SaWdodCIpLHQudG91Y2hTdGFydFJhbmdlPXt3aWR0aDpuLmdldFdpZHRoKCksaGVpZ2h0Om4uZ2V0SGVpZ2h0KCksZGlyZWN0aW9uOm4uZ2V0RGlyZWN0aW9uKCl9LGUucHJldmVudERlZmF1bHQoKSwhMSk6dm9pZCAwfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmhvdC5yb290RWxlbWVudCwidG91Y2hlbmQiLGZ1bmN0aW9uKG4pe3JldHVybiBoKG4udGFyZ2V0LCJ0b3BMZWZ0U2VsZWN0aW9uSGFuZGxlLUhpdEFyZWEiKT8oZS5jYWxsKHQsInRvcExlZnQiKSx0LnRvdWNoU3RhcnRSYW5nZT12b2lkIDAsbi5wcmV2ZW50RGVmYXVsdCgpLCExKTpoKG4udGFyZ2V0LCJib3R0b21SaWdodFNlbGVjdGlvbkhhbmRsZS1IaXRBcmVhIik/KGUuY2FsbCh0LCJib3R0b21SaWdodCIpLHQudG91Y2hTdGFydFJhbmdlPXZvaWQgMCxuLnByZXZlbnREZWZhdWx0KCksITEpOnZvaWQgMH0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ob3Qucm9vdEVsZW1lbnQsInRvdWNobW92ZSIsZnVuY3Rpb24oZSl7CnZhciBuLG8scixpLHMsbCxhLHU9YygpLGg9ZCgpOzAhPT10LmRyYWdnZWQubGVuZ3RoJiYobj1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGUudG91Y2hlc1swXS5zY3JlZW5YLWgsZS50b3VjaGVzWzBdLnNjcmVlblktdSksbiYmbiE9PXQubGFzdFNldENlbGwmJigiVEQiIT1uLm5vZGVOYW1lJiYiVEgiIT1uLm5vZGVOYW1lfHwobz10LmhvdC5nZXRDb29yZHMobiksLTE9PW8uY29sJiYoby5jb2w9MCkscj10LmhvdC5nZXRTZWxlY3RlZFJhbmdlKCksaT1yLmdldFdpZHRoKCkscz1yLmdldEhlaWdodCgpLGw9ci5nZXREaXJlY3Rpb24oKSwxPT1pJiYxPT1zJiZ0LmhvdC5zZWxlY3Rpb24uc2V0UmFuZ2VFbmQobyksYT10LmdldEN1cnJlbnRSYW5nZUNvb3JkcyhyLG8sdC50b3VjaFN0YXJ0UmFuZ2UuZGlyZWN0aW9uLGwsdC5kcmFnZ2VkWzBdKSxudWxsIT09YS5zdGFydCYmdC5ob3Quc2VsZWN0aW9uLnNldFJhbmdlU3RhcnQoYS5zdGFydCksdC5ob3Quc2VsZWN0aW9uLnNldFJhbmdlRW5kKGEuZW5kKSx0Lmxhc3RTZXRDZWxsPW4pLGUucHJldmVudERlZmF1bHQoKSkpfSl9LGdldEN1cnJlbnRSYW5nZUNvb3JkczpmdW5jdGlvbihlLHQsbixvLHIpe3ZhciBpPWUuZ2V0VG9wTGVmdENvcm5lcigpLHM9ZS5nZXRCb3R0b21SaWdodENvcm5lcigpLGw9ZS5nZXRCb3R0b21MZWZ0Q29ybmVyKCksYT1lLmdldFRvcFJpZ2h0Q29ybmVyKCksdT17c3RhcnQ6bnVsbCxlbmQ6bnVsbH07c3dpdGNoKG4pe2Nhc2UiTkUtU1ciOnN3aXRjaChvKXtjYXNlIk5FLVNXIjpjYXNlIk5XLVNFIjp1PSJ0b3BMZWZ0Ij09cj97c3RhcnQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3Jkcyh0LnJvdyxlLmhpZ2hsaWdodC5jb2wpLGVuZDpuZXcgV2Fsa29udGFibGVDZWxsQ29vcmRzKGwucm93LHQuY29sKX06e3N0YXJ0Om5ldyBXYWxrb250YWJsZUNlbGxDb29yZHMoZS5oaWdobGlnaHQucm93LHQuY29sKSxlbmQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3Jkcyh0LnJvdyxpLmNvbCl9O2JyZWFrO2Nhc2UiU0UtTlciOiJib3R0b21SaWdodCI9PXImJih1PXtzdGFydDpuZXcgV2Fsa29udGFibGVDZWxsQ29vcmRzKHMucm93LHQuY29sKSxlbmQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3Jkcyh0LnJvdyxpLmNvbCl9KX1icmVhaztjYXNlIk5XLVNFIjpzd2l0Y2gobyl7Y2FzZSJORS1TVyI6InRvcExlZnQiPT1yP3U9e3N0YXJ0OnQsZW5kOmx9OnUuZW5kPXQ7YnJlYWs7Y2FzZSJOVy1TRSI6InRvcExlZnQiPT1yP3U9e3N0YXJ0OnQsZW5kOnN9OnUuZW5kPXQ7YnJlYWs7Y2FzZSJTRS1OVyI6InRvcExlZnQiPT1yP3U9e3N0YXJ0OnQsZW5kOml9OnUuZW5kPXQ7YnJlYWs7Y2FzZSJTVy1ORSI6InRvcExlZnQiPT1yP3U9e3N0YXJ0OnQsZW5kOmF9OnUuZW5kPXR9YnJlYWs7Y2FzZSJTVy1ORSI6c3dpdGNoKG8pe2Nhc2UiTlctU0UiOnU9ImJvdHRvbVJpZ2h0Ij09cj97c3RhcnQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3Jkcyh0LnJvdyxpLmNvbCksZW5kOm5ldyBXYWxrb250YWJsZUNlbGxDb29yZHMobC5yb3csdC5jb2wpfTp7c3RhcnQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3JkcyhpLnJvdyx0LmNvbCksZW5kOm5ldyBXYWxrb250YWJsZUNlbGxDb29yZHModC5yb3cscy5jb2wpfTticmVhaztjYXNlIlNXLU5FIjp1PSJ0b3BMZWZ0Ij09cj97c3RhcnQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3JkcyhlLmhpZ2hsaWdodC5yb3csdC5jb2wpLGVuZDpuZXcgV2Fsa29udGFibGVDZWxsQ29vcmRzKHQucm93LHMuY29sKX06e3N0YXJ0Om5ldyBXYWxrb250YWJsZUNlbGxDb29yZHModC5yb3csaS5jb2wpLGVuZDpuZXcgV2Fsa29udGFibGVDZWxsQ29vcmRzKGkucm93LHQuY29sKX07YnJlYWs7Y2FzZSJTRS1OVyI6ImJvdHRvbVJpZ2h0Ij09cj91PXtzdGFydDpuZXcgV2Fsa29udGFibGVDZWxsQ29vcmRzKHQucm93LGEuY29sKSxlbmQ6bmV3IFdhbGtvbnRhYmxlQ2VsbENvb3JkcyhpLnJvdyx0LmNvbCl9OiJ0b3BMZWZ0Ij09ciYmKHU9e3N0YXJ0OmwsZW5kOnR9KX1icmVhaztjYXNlIlNFLU5XIjpzd2l0Y2gobyl7Y2FzZSJOVy1TRSI6Y2FzZSJORS1TVyI6Y2FzZSJTVy1ORSI6InRvcExlZnQiPT1yJiYodS5lbmQ9dCk7YnJlYWs7Y2FzZSJTRS1OVyI6InRvcExlZnQiPT1yP3UuZW5kPXQ6dT17c3RhcnQ6dCxlbmQ6aX19fXJldHVybiB1fSxpc0RyYWdnZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmFnZ2VkLmxlbmd0aD4wfX0se30scCksbSgibXVsdGlwbGVTZWxlY3Rpb25IYW5kbGVzIix3KX0se19iYXNlOjYwLGJyb3dzZXI6MjMsZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2Jyb3dzZXIiOjQzLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NixwbHVnaW5zOjU5fV0sODU6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7RGF0YU9ic2VydmVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaH19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGw9KG89ZSgianNvbnBhdGNoIiksbyYmby5fX2VzTW9kdWxlJiZvfHx7ImRlZmF1bHQiOm99KVsiZGVmYXVsdCJdLGE9KHI9ZSgiLi4vLi4vbWl4aW5zL2xvY2FsSG9va3MiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLmxvY2FsSG9va3MsdT0oaT1lKCIuLi8uLi9oZWxwZXJzL29iamVjdCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSkubWl4aW4sYz0ocz1lKCJ1dGlscyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuY2xlYW5QYXRjaGVzLGg9ZnVuY3Rpb24oZSl7dGhpcy5vYnNlcnZlZERhdGE9bnVsbCx0aGlzLm9ic2VydmVyPW51bGwsdGhpcy5wYXVzZWQ9ITEsdGhpcy5zZXRPYnNlcnZlZERhdGEoZSl9OyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhoLHtzZXRPYnNlcnZlZERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLm9ic2VydmVyJiZsLnVub2JzZXJ2ZSh0aGlzLm9ic2VydmVkRGF0YSx0aGlzLm9ic2VydmVyKSx0aGlzLm9ic2VydmVkRGF0YT1lLHRoaXMub2JzZXJ2ZXI9bC5vYnNlcnZlKHRoaXMub2JzZXJ2ZWREYXRhLGZ1bmN0aW9uKGUpe3JldHVybiB0Lm9uQ2hhbmdlKGUpfSl9LGlzUGF1c2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF1c2VkfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMucGF1c2VkPSEwfSxyZXN1bWU6ZnVuY3Rpb24oKXt0aGlzLnBhdXNlZD0hMX0sb25DaGFuZ2U6ZnVuY3Rpb24oZSl7dGhpcy5ydW5Mb2NhbEhvb2tzKCJjaGFuZ2UiLGMoZSkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bC51bm9ic2VydmUodGhpcy5vYnNlcnZlZERhdGEsdGhpcy5vYnNlcnZlciksdGhpcy5vYnNlcnZlZERhdGE9bnVsbCx0aGlzLm9ic2VydmVyPW51bGx9fSx7fSksdShoLGEpfSx7Ii4uLy4uL2hlbHBlcnMvb2JqZWN0Ijo1MiwiLi4vLi4vbWl4aW5zL2xvY2FsSG9va3MiOjU2LGpzb25wYXRjaDoianNvbnBhdGNoIix1dGlsczo4N31dLDg2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se09ic2VydmVDaGFuZ2VzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcH19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGwsYSx1PShvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sYz0ocj1lKCJfYmFzZSIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSlbImRlZmF1bHQiXSxoPSgoaT1lKCJqc29ucGF0Y2giKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pWyJkZWZhdWx0Il0sKHM9ZSgiZGF0YU9ic2VydmVyIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5EYXRhT2JzZXJ2ZXIpLGQ9KGw9ZSgiaGVscGVycy9hcnJheSIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkuYXJyYXlFYWNoLGY9KGE9ZSgicGx1Z2lucyIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkucmVnaXN0ZXJQbHVnaW47dS5ob29rcy5yZWdpc3RlcigiYWZ0ZXJDaGFuZ2VzT2JzZXJ2ZWQiKTt2YXIgcD1mdW5jdGlvbihlKXskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3RvcihnKS5jYWxsKHRoaXMsZSksdGhpcy5vYnNlcnZlcj1udWxsfSxnPXA7JHRyYWNldXJSdW50aW1lLmNyZWF0ZUNsYXNzKHAse2lzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdC5nZXRTZXR0aW5ncygpLm9ic2VydmVDaGFuZ2VzfSxlbmFibGVQbHVnaW46ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuZW5hYmxlZHx8KHRoaXMub2JzZXJ2ZXJ8fCh0aGlzLm9ic2VydmVyPW5ldyBoKHRoaXMuaG90LmdldFNvdXJjZURhdGEoKSksdGhpcy5fZXhwb3NlUHVibGljQXBpKCkpLHRoaXMub2JzZXJ2ZXIuYWRkTG9jYWxIb29rKCJjaGFuZ2UiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uRGF0YUNoYW5nZSh0KX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJDcmVhdGVSb3ciLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlclRhYmxlQWx0ZXIoKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJSZW1vdmVSb3ciLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlclRhYmxlQWx0ZXIoKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJDcmVhdGVDb2wiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlclRhYmxlQWx0ZXIoKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJSZW1vdmVDb2wiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlclRhYmxlQWx0ZXIoKX0pLHRoaXMuYWRkSG9vaygiYWZ0ZXJDaGFuZ2UiLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUub25BZnRlclRhYmxlQWx0ZXIobil9KSx0aGlzLmFkZEhvb2soImFmdGVyTG9hZERhdGEiLGZ1bmN0aW9uKHQpe3JldHVybiBlLm9uQWZ0ZXJMb2FkRGF0YSh0KX0pLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGcucHJvdG90eXBlLCJlbmFibGVQbHVnaW4iKS5jYWxsKHRoaXMpKX0sZGlzYWJsZVBsdWdpbjpmdW5jdGlvbigpe3RoaXMub2JzZXJ2ZXImJih0aGlzLm9ic2VydmVyLmRlc3Ryb3koKSx0aGlzLm9ic2VydmVyPW51bGwsdGhpcy5fZGVsZXRlUHVibGljQXBpKCkpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGcucHJvdG90eXBlLCJkaXNhYmxlUGx1Z2luIikuY2FsbCh0aGlzKX0sb25EYXRhQ2hhbmdlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aWYoIXRoaXMub2JzZXJ2ZXIuaXNQYXVzZWQoKSl7dmFyIG49e2FkZDpmdW5jdGlvbihlKXtpc05hTihlLmNvbCk/dC5ob3QucnVuSG9va3MoImFmdGVyQ3JlYXRlUm93IixlLnJvdyk6dC5ob3QucnVuSG9va3MoImFmdGVyQ3JlYXRlQ29sIixlLmNvbCl9LHJlbW92ZTpmdW5jdGlvbihlKXtpc05hTihlLmNvbCk/dC5ob3QucnVuSG9va3MoImFmdGVyUmVtb3ZlUm93IixlLnJvdywxKTp0LmhvdC5ydW5Ib29rcygiYWZ0ZXJSZW1vdmVDb2wiLGUuY29sLDEpfSxyZXBsYWNlOmZ1bmN0aW9uKGUpe3QuaG90LnJ1bkhvb2tzKCJhZnRlckNoYW5nZSIsW2Uucm93LGUuY29sLG51bGwsZS52YWx1ZV0sImV4dGVybmFsIil9fTtkKGUsZnVuY3Rpb24oZSl7bltlLm9wXSYmbltlLm9wXShlKX0pLHRoaXMuaG90LnJlbmRlcigpfXRoaXMuaG90LnJ1bkhvb2tzKCJhZnRlckNoYW5nZXNPYnNlcnZlZCIpfSxvbkFmdGVyVGFibGVBbHRlcjpmdW5jdGlvbihlKXt2YXIgdD10aGlzOyJsb2FkRGF0YSIhPT1lJiYodGhpcy5vYnNlcnZlci5wYXVzZSgpLHRoaXMuaG90LmFkZEhvb2tPbmNlKCJhZnRlckNoYW5nZXNPYnNlcnZlZCIsZnVuY3Rpb24oKXtyZXR1cm4gdC5vYnNlcnZlci5yZXN1bWUoKX0pKX0sb25BZnRlckxvYWREYXRhOmZ1bmN0aW9uKGUpe2V8fHRoaXMub2JzZXJ2ZXIuc2V0T2JzZXJ2ZWREYXRhKHRoaXMuaG90LmdldFNvdXJjZURhdGEoKSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmVyJiYodGhpcy5vYnNlcnZlci5kZXN0cm95KCksdGhpcy5fZGVsZXRlUHVibGljQXBpKCkpLCR0cmFjZXVyUnVudGltZS5zdXBlckdldCh0aGlzLGcucHJvdG90eXBlLCJkZXN0cm95IikuY2FsbCh0aGlzKX0sX2V4cG9zZVB1YmxpY0FwaTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLmhvdDt0LnBhdXNlT2JzZXJ2aW5nQ2hhbmdlcz1mdW5jdGlvbigpe3JldHVybiBlLm9ic2VydmVyLnBhdXNlKCl9LHQucmVzdW1lT2JzZXJ2aW5nQ2hhbmdlcz1mdW5jdGlvbigpe3JldHVybiBlLm9ic2VydmVyLnJlc3VtZSgpfSx0LmlzUGF1c2VkT2JzZXJ2aW5nQ2hhbmdlcz1mdW5jdGlvbigpe3JldHVybiBlLm9ic2VydmVyLmlzUGF1c2VkKCl9fSxfZGVsZXRlUHVibGljQXBpOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3Q7ZGVsZXRlIGUucGF1c2VPYnNlcnZpbmdDaGFuZ2VzLGRlbGV0ZSBlLnJlc3VtZU9ic2VydmluZ0NoYW5nZXMsZGVsZXRlIGUuaXNQYXVzZWRPYnNlcnZpbmdDaGFuZ2VzfX0se30sYyksZigib2JzZXJ2ZUNoYW5nZXMiLHApfSx7X2Jhc2U6NjAsYnJvd3NlcjoyMyxkYXRhT2JzZXJ2ZXI6ODUsImhlbHBlcnMvYXJyYXkiOjQyLGpzb25wYXRjaDoianNvbnBhdGNoIixwbHVnaW5zOjU5fV0sODc6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXt2YXIgdD1bXTtyZXR1cm4gZT1sKGUsZnVuY3Rpb24oZSl7cmV0dXJuL1tcL11sZW5ndGgvZ2kudGVzdChlLnBhdGgpPyExOiEhcihlLnBhdGgpfSksZT1hKGUsZnVuY3Rpb24oZSl7dmFyIHQ9cihlLnBhdGgpO3JldHVybiBlLnJvdz10LnJvdyxlLmNvbD10LmNvbCxlfSksZT1sKGUsZnVuY3Rpb24oZSl7aWYoLTEhPT1bImFkZCIsInJlbW92ZSJdLmluZGV4T2YoZS5vcCkmJiFpc05hTihlLmNvbCkpe2lmKC0xIT09dC5pbmRleE9mKGUuY29sKSlyZXR1cm4hMTt0LnB1c2goZS5jb2wpfXJldHVybiEwfSksdC5sZW5ndGg9MCxlfWZ1bmN0aW9uIHIoZSl7dmFyIHQ9ZS5tYXRjaCgvXlwvKFxkKylcLz8oLiopPyQvKTtpZighdClyZXR1cm4gbnVsbDt2YXIgbj10LG89blsxXSxyPW5bMl07cmV0dXJue3JvdzpwYXJzZUludChvLDEwKSxjb2w6L15cZCokLy50ZXN0KHIpP3BhcnNlSW50KHIsMTApOnJ9fU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se2NsZWFuUGF0Y2hlczp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxwYXJzZVBhdGg6e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIGkscz0oaT1lKCIuLi8uLi9oZWxwZXJzL2FycmF5IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSxsPXMuYXJyYXlGaWx0ZXIsYT1zLmFycmF5TWFwfSx7Ii4uLy4uL2hlbHBlcnMvYXJyYXkiOjQyfV0sODg6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXt2YXIgdCxuPWZ1bmN0aW9uKCl7d2luZG93LmxvY2FsU3RvcmFnZVtlKyJfX3BlcnNpc3RlbnRTdGF0ZUtleXMiXT1KU09OLnN0cmluZ2lmeSh0KX0sbz1mdW5jdGlvbigpe3ZhciBuPXdpbmRvdy5sb2NhbFN0b3JhZ2VbZSsiX19wZXJzaXN0ZW50U3RhdGVLZXlzIl0sbz0ic3RyaW5nIj09dHlwZW9mIG4/SlNPTi5wYXJzZShuKTp2b2lkIDA7dD1vP286W119LHI9ZnVuY3Rpb24oKXt0PVtdLG4oKX07bygpLHRoaXMuc2F2ZVZhbHVlPWZ1bmN0aW9uKG8scil7d2luZG93LmxvY2FsU3RvcmFnZVtlKyJfIitvXT1KU09OLnN0cmluZ2lmeShyKSwtMT09dC5pbmRleE9mKG8pJiYodC5wdXNoKG8pLG4oKSl9LHRoaXMubG9hZFZhbHVlPWZ1bmN0aW9uKHQsbil7dD0idW5kZWZpbmVkIj09dHlwZW9mIHQ/bjp0O3ZhciBvPXdpbmRvdy5sb2NhbFN0b3JhZ2VbZSsiXyIrdF07cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBvP3ZvaWQgMDpKU09OLnBhcnNlKG8pfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKHQpe3dpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKyJfIit0KX0sdGhpcy5yZXNldEFsbD1mdW5jdGlvbigpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKyJfIit0W25dKTtyKCl9fWZ1bmN0aW9uIHIoKXtmdW5jdGlvbiBlKCl7dmFyIGU9dGhpcztmb3IodmFyIHQgaW4gcilyLmhhc093blByb3BlcnR5KHQpJiZlLmFkZEhvb2sodCxyW3RdKX1mdW5jdGlvbiB0KCl7dmFyIGU9dGhpcztmb3IodmFyIHQgaW4gcilyLmhhc093blByb3BlcnR5KHQpJiZlLnJlbW92ZUhvb2sodCxyW3RdKX12YXIgbj10aGlzO3RoaXMuaW5pdD1mdW5jdGlvbigpe3ZhciByPXRoaXMsaT1yLmdldFNldHRpbmdzKCkucGVyc2lzdGVudFN0YXRlO3JldHVybiBuLmVuYWJsZWQ9ISFpLG4uZW5hYmxlZD8oci5zdG9yYWdlfHwoci5zdG9yYWdlPW5ldyBvKHIucm9vdEVsZW1lbnQuaWQpKSxyLnJlc2V0U3RhdGU9bi5yZXNldFZhbHVlLHZvaWQgZS5jYWxsKHIpKTp2b2lkIHQuY2FsbChyKX0sdGhpcy5zYXZlVmFsdWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO24uc3RvcmFnZS5zYXZlVmFsdWUoZSx0KX0sdGhpcy5sb2FkVmFsdWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzO3QudmFsdWU9bi5zdG9yYWdlLmxvYWRWYWx1ZShlKX0sdGhpcy5yZXNldFZhbHVlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7InVuZGVmaW5lZCI9PXR5cGVvZiBlP3Quc3RvcmFnZS5yZXNldEFsbCgpOnQuc3RvcmFnZS5yZXNldChlKX07dmFyIHI9e3BlcnNpc3RlbnRTdGF0ZVNhdmU6bi5zYXZlVmFsdWUscGVyc2lzdGVudFN0YXRlTG9hZDpuLmxvYWRWYWx1ZSxwZXJzaXN0ZW50U3RhdGVSZXNldDpuLnJlc2V0VmFsdWV9O2Zvcih2YXIgaSBpbiByKXIuaGFzT3duUHJvcGVydHkoaSkmJmwuaG9va3MucmVnaXN0ZXIoaSl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7SGFuZHNvbnRhYmxlUGVyc2lzdGVudFN0YXRlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBpLHMsbD0oaT1lKCJicm93c2VyIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KVsiZGVmYXVsdCJdLGE9KChzPWUoInBsdWdpbnMiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLnJlZ2lzdGVyUGx1Z2luLG5ldyByKTtsLmhvb2tzLmFkZCgiYmVmb3JlSW5pdCIsYS5pbml0KSxsLmhvb2tzLmFkZCgiYWZ0ZXJVcGRhdGVTZXR0aW5ncyIsYS5pbml0KX0se2Jyb3dzZXI6MjMscGx1Z2luczo1OX1dLDg5OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oKXt2YXIgZT10aGlzLHQ9ISFlLmdldFNldHRpbmdzKCkuc2VhcmNoO3Q/ZS5zZWFyY2g9bmV3IGwuU2VhcmNoKGUpOmRlbGV0ZSBlLnNlYXJjaH12YXIgcixpLHMsbD0ocj1lKCJicm93c2VyIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KVsiZGVmYXVsdCJdLGE9KGk9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSksdT1hLmFkZENsYXNzLGM9YS5yZW1vdmVDbGFzcyxoPShzPWUoInJlbmRlcmVycyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksZD1oLnJlZ2lzdGVyUmVuZGVyZXIsZj1oLmdldFJlbmRlcmVyO2wuU2VhcmNoPWZ1bmN0aW9uKGUpe3RoaXMucXVlcnk9ZnVuY3Rpb24odCxuLG8pe3ZhciByPWUuY291bnRSb3dzKCksaT1lLmNvdW50Q29scygpLHM9W107bnx8KG49bC5TZWFyY2guZ2xvYmFsLmdldERlZmF1bHRDYWxsYmFjaygpKSxvfHwobz1sLlNlYXJjaC5nbG9iYWwuZ2V0RGVmYXVsdFF1ZXJ5TWV0aG9kKCkpO2Zvcih2YXIgYT0wO3I+YTthKyspZm9yKHZhciB1PTA7aT51O3UrKyl7dmFyIGM9ZS5nZXREYXRhQXRDZWxsKGEsdSksaD1lLmdldENlbGxNZXRhKGEsdSksZD1oLnNlYXJjaC5jYWxsYmFja3x8bixmPWguc2VhcmNoLnF1ZXJ5TWV0aG9kfHxvLHA9Zih0LGMpO2lmKHApe3ZhciBnPXtyb3c6YSxjb2w6dSxkYXRhOmN9O3MucHVzaChnKX1kJiZkKGUsYSx1LGMscCl9cmV0dXJuIHN9fSxsLlNlYXJjaC5ERUZBVUxUX0NBTExCQUNLPWZ1bmN0aW9uKGUsdCxuLG8scil7ZS5nZXRDZWxsTWV0YSh0LG4pLmlzU2VhcmNoUmVzdWx0PXJ9LGwuU2VhcmNoLkRFRkFVTFRfUVVFUllfTUVUSE9EPWZ1bmN0aW9uKGUsdCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBlJiZudWxsIT1lJiZlLnRvTG93ZXJDYXNlJiYwIT09ZS5sZW5ndGg/InVuZGVmaW5lZCI9PXR5cGVvZiB0fHxudWxsPT10PyExOi0xIT10LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSk6ITF9LGwuU2VhcmNoLkRFRkFVTFRfU0VBUkNIX1JFU1VMVF9DTEFTUz0iaHRTZWFyY2hSZXN1bHQiLGwuU2VhcmNoLmdsb2JhbD1mdW5jdGlvbigpe3ZhciBlPWwuU2VhcmNoLkRFRkFVTFRfQ0FMTEJBQ0ssdD1sLlNlYXJjaC5ERUZBVUxUX1FVRVJZX01FVEhPRCxuPWwuU2VhcmNoLkRFRkFVTFRfU0VBUkNIX1JFU1VMVF9DTEFTUztyZXR1cm57Z2V0RGVmYXVsdENhbGxiYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGV9LHNldERlZmF1bHRDYWxsYmFjazpmdW5jdGlvbih0KXtlPXR9LGdldERlZmF1bHRRdWVyeU1ldGhvZDpmdW5jdGlvbigpe3JldHVybiB0fSxzZXREZWZhdWx0UXVlcnlNZXRob2Q6ZnVuY3Rpb24oZSl7dD1lfSxnZXREZWZhdWx0U2VhcmNoUmVzdWx0Q2xhc3M6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0RGVmYXVsdFNlYXJjaFJlc3VsdENsYXNzOmZ1bmN0aW9uKGUpe249ZX19fSgpLGwuU2VhcmNoQ2VsbERlY29yYXRvcj1mdW5jdGlvbihlLHQsbixvLHIsaSxzKXt2YXIgYT1udWxsIT09cy5zZWFyY2gmJiJvYmplY3QiPT10eXBlb2Ygcy5zZWFyY2gmJnMuc2VhcmNoLnNlYXJjaFJlc3VsdENsYXNzfHxsLlNlYXJjaC5nbG9iYWwuZ2V0RGVmYXVsdFNlYXJjaFJlc3VsdENsYXNzKCk7cy5pc1NlYXJjaFJlc3VsdD91KHQsYSk6Yyh0LGEpfTt2YXIgcD1mKCJiYXNlIik7ZCgiYmFzZSIsZnVuY3Rpb24oZSx0LG4sbyxyLGkscyl7cC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbC5TZWFyY2hDZWxsRGVjb3JhdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLGwuaG9va3MuYWRkKCJhZnRlckluaXQiLG8pLGwuaG9va3MuYWRkKCJhZnRlclVwZGF0ZVNldHRpbmdzIixvKX0se2Jyb3dzZXI6MjMsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LHJlbmRlcmVyczo5Mn1dLDkwOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1RvdWNoU2Nyb2xsOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZn19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBvLHIsaSxzLGw9KG89ZSgiYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxhPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLHU9YS5hZGRDbGFzcyxjPWEucmVtb3ZlQ2xhc3MsaD0oaT1lKCJfYmFzZSIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSlbImRlZmF1bHQiXSxkPShzPWUoInBsdWdpbnMiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLnJlZ2lzdGVyUGx1Z2luLGY9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczskdHJhY2V1clJ1bnRpbWUuc3VwZXJDb25zdHJ1Y3RvcihwKS5jYWxsKHRoaXMsZSksdGhpcy5ob3QuYWRkSG9vaygiYWZ0ZXJJbml0IixmdW5jdGlvbigpe3JldHVybiB0LmFmdGVySW5pdCgpfSksdGhpcy5ob3QuYWRkSG9vaygiYWZ0ZXJVcGRhdGVTZXR0aW5ncyIsZnVuY3Rpb24oKXtyZXR1cm4gdC5vbkFmdGVyVXBkYXRlU2V0dGluZ3MoKX0pLHRoaXMuc2Nyb2xsYmFycz1bXSx0aGlzLmNsb25lcz1bXX0scD1mOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhmLHthZnRlckluaXQ6ZnVuY3Rpb24oKXt0aGlzLnJlZ2lzdGVyRXZlbnRzKCksdGhpcy5vbkFmdGVyVXBkYXRlU2V0dGluZ3MoKX0sb25BZnRlclVwZGF0ZVNldHRpbmdzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmhvdC5hZGRIb29rT25jZSgiYWZ0ZXJSZW5kZXIiLGZ1bmN0aW9uKCl7dmFyIHQ9ZS5ob3Qudmlldy53dC53dE92ZXJsYXlzO2Uuc2Nyb2xsYmFycz1bXSxlLnNjcm9sbGJhcnMucHVzaCh0LnRvcE92ZXJsYXkpLHQuYm90dG9tT3ZlcmxheS5jbG9uZSYmZS5zY3JvbGxiYXJzLnB1c2godC5ib3R0b21PdmVybGF5KSxlLnNjcm9sbGJhcnMucHVzaCh0LmxlZnRPdmVybGF5KSx0LnRvcExlZnRDb3JuZXJPdmVybGF5JiZlLnNjcm9sbGJhcnMucHVzaCh0LnRvcExlZnRDb3JuZXJPdmVybGF5KSx0LmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5JiZ0LmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5LmNsb25lJiZlLnNjcm9sbGJhcnMucHVzaCh0LmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5KSxlLmNsb25lcz1bXSx0LnRvcE92ZXJsYXkubmVlZEZ1bGxSZW5kZXImJmUuY2xvbmVzLnB1c2godC50b3BPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpLHQuYm90dG9tT3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmZS5jbG9uZXMucHVzaCh0LmJvdHRvbU92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSksdC5sZWZ0T3ZlcmxheS5uZWVkRnVsbFJlbmRlciYmZS5jbG9uZXMucHVzaCh0LmxlZnRPdmVybGF5LmNsb25lLnd0VGFibGUuaG9sZGVyLnBhcmVudE5vZGUpLHQudG9wTGVmdENvcm5lck92ZXJsYXkmJmUuY2xvbmVzLnB1c2godC50b3BMZWZ0Q29ybmVyT3ZlcmxheS5jbG9uZS53dFRhYmxlLmhvbGRlci5wYXJlbnROb2RlKSx0LmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5JiZ0LmJvdHRvbUxlZnRDb3JuZXJPdmVybGF5LmNsb25lJiZlLmNsb25lcy5wdXNoKHQuYm90dG9tTGVmdENvcm5lck92ZXJsYXkuY2xvbmUud3RUYWJsZS5ob2xkZXIucGFyZW50Tm9kZSl9KX0scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuaG90LmFkZEhvb2soImJlZm9yZVRvdWNoU2Nyb2xsIixmdW5jdGlvbigpe3JldHVybiBlLm9uQmVmb3JlVG91Y2hTY3JvbGwoKX0pLHRoaXMuaG90LmFkZEhvb2soImFmdGVyTW9tZW50dW1TY3JvbGwiLGZ1bmN0aW9uKCl7cmV0dXJuIGUub25BZnRlck1vbWVudHVtU2Nyb2xsKCl9KX0sb25CZWZvcmVUb3VjaFNjcm9sbDpmdW5jdGlvbigpe2wuZnJlZXplT3ZlcmxheXM9ITA7Zm9yKHZhciBlPTAsdD10aGlzLmNsb25lcy5sZW5ndGg7dD5lO2UrKyl1KHRoaXMuY2xvbmVzW2VdLCJoaWRlLXR3ZWVuIil9LG9uQWZ0ZXJNb21lbnR1bVNjcm9sbDpmdW5jdGlvbigpe2wuZnJlZXplT3ZlcmxheXM9ITE7Zm9yKHZhciBlPXRoaXMsdD0wLG49dGhpcy5jbG9uZXMubGVuZ3RoO24+dDt0KyspYyh0aGlzLmNsb25lc1t0XSwiaGlkZS10d2VlbiIpO2Zvcih2YXIgbz0wLHI9dGhpcy5jbG9uZXMubGVuZ3RoO3I+bztvKyspdSh0aGlzLmNsb25lc1tvXSwic2hvdy10d2VlbiIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxuPWUuY2xvbmVzLmxlbmd0aDtuPnQ7dCsrKWMoZS5jbG9uZXNbdF0sInNob3ctdHdlZW4iKX0sNDAwKTtmb3IodmFyIGk9MCxzPXRoaXMuc2Nyb2xsYmFycy5sZW5ndGg7cz5pO2krKyl0aGlzLnNjcm9sbGJhcnNbaV0ucmVmcmVzaCgpLHRoaXMuc2Nyb2xsYmFyc1tpXS5yZXNldEZpeGVkUG9zaXRpb24oKTt0aGlzLmhvdC52aWV3Lnd0Lnd0T3ZlcmxheXMuc3luY1Njcm9sbFdpdGhNYXN0ZXIoKX19LHt9LGgpLGQoInRvdWNoU2Nyb2xsIixmKX0se19iYXNlOjYwLGJyb3dzZXI6MjMsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LHBsdWdpbnM6NTl9XSw5MTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKCl7dmFyIGU9dGhpcyx0PSJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRTZXR0aW5ncygpLnVuZG98fGUuZ2V0U2V0dGluZ3MoKS51bmRvO3Q/ZS51bmRvUmVkb3x8KGUudW5kb1JlZG89bmV3IGYuVW5kb1JlZG8oZSkscyhlKSxlLmFkZEhvb2soImJlZm9yZUtleURvd24iLHIpLGUuYWRkSG9vaygiYWZ0ZXJDaGFuZ2UiLGkpKTplLnVuZG9SZWRvJiYoZGVsZXRlIGUudW5kb1JlZG8sbChlKSxlLnJlbW92ZUhvb2soImJlZm9yZUtleURvd24iLHIpLGUucmVtb3ZlSG9vaygiYWZ0ZXJDaGFuZ2UiLGkpKX1mdW5jdGlvbiByKGUpe3ZhciB0PXRoaXMsbj0oZS5jdHJsS2V5fHxlLm1ldGFLZXkpJiYhZS5hbHRLZXk7biYmKDg5PT09ZS5rZXlDb2RlfHxlLnNoaWZ0S2V5JiY5MD09PWUua2V5Q29kZT8odC51bmRvUmVkby5yZWRvKCkseShlKSk6OTA9PT1lLmtleUNvZGUmJih0LnVuZG9SZWRvLnVuZG8oKSx5KGUpKSl9ZnVuY3Rpb24gaShlLHQpe3ZhciBuPXRoaXM7cmV0dXJuImxvYWREYXRhIj09dD9uLnVuZG9SZWRvLmNsZWFyKCk6dm9pZCAwfWZ1bmN0aW9uIHMoZSl7ZS51bmRvPWZ1bmN0aW9uKCl7cmV0dXJuIGUudW5kb1JlZG8udW5kbygpfSxlLnJlZG89ZnVuY3Rpb24oKXtyZXR1cm4gZS51bmRvUmVkby5yZWRvKCl9LGUuaXNVbmRvQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGUudW5kb1JlZG8uaXNVbmRvQXZhaWxhYmxlKCl9LGUuaXNSZWRvQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIGUudW5kb1JlZG8uaXNSZWRvQXZhaWxhYmxlKCl9LGUuY2xlYXJVbmRvPWZ1bmN0aW9uKCl7cmV0dXJuIGUudW5kb1JlZG8uY2xlYXIoKX19ZnVuY3Rpb24gbChlKXtkZWxldGUgZS51bmRvLGRlbGV0ZSBlLnJlZG8sZGVsZXRlIGUuaXNVbmRvQXZhaWxhYmxlLGRlbGV0ZSBlLmlzUmVkb0F2YWlsYWJsZSxkZWxldGUgZS5jbGVhclVuZG99dmFyIGEsdSxjLGgsZCxmPShhPWUoImJyb3dzZXIiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pWyJkZWZhdWx0Il0scD0odT1lKCJoZWxwZXJzL2FycmF5IiksdSYmdS5fX2VzTW9kdWxlJiZ1fHx7ImRlZmF1bHQiOnV9KS5hcnJheU1hcCxnPShjPWUoImhlbHBlcnMvbnVtYmVyIiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KS5yYW5nZUVhY2gsbT0oaD1lKCJoZWxwZXJzL29iamVjdCIpLGgmJmguX19lc01vZHVsZSYmaHx8eyJkZWZhdWx0IjpofSksdz1tLmluaGVyaXQsdj1tLmRlZXBDbG9uZSx5PShkPWUoImhlbHBlcnMvZG9tL2V2ZW50IiksZCYmZC5fX2VzTW9kdWxlJiZkfHx7ImRlZmF1bHQiOmR9KS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247Zi5VbmRvUmVkbz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuaW5zdGFuY2U9ZSx0aGlzLmRvbmVBY3Rpb25zPVtdLHRoaXMudW5kb25lQWN0aW9ucz1bXSx0aGlzLmlnbm9yZU5ld0FjdGlvbnM9ITEsZS5hZGRIb29rKCJhZnRlckNoYW5nZSIsZnVuY3Rpb24oZSxuKXtpZihlKXt2YXIgbz1uZXcgZi5VbmRvUmVkby5DaGFuZ2VBY3Rpb24oZSk7dC5kb25lKG8pfX0pLGUuYWRkSG9vaygiYWZ0ZXJDcmVhdGVSb3ciLGZ1bmN0aW9uKGUsbixvKXtpZighbyl7dmFyIHI9bmV3IGYuVW5kb1JlZG8uQ3JlYXRlUm93QWN0aW9uKGUsbik7dC5kb25lKHIpfX0pLGUuYWRkSG9vaygiYmVmb3JlUmVtb3ZlUm93IixmdW5jdGlvbihlLG4pe3ZhciBvPXQuaW5zdGFuY2UuZ2V0U291cmNlRGF0YSgpO2U9KG8ubGVuZ3RoK2UpJW8ubGVuZ3RoO3ZhciByPW8uc2xpY2UoZSxlK24pLGk9bmV3IGYuVW5kb1JlZG8uUmVtb3ZlUm93QWN0aW9uKGUscik7dC5kb25lKGkpfSksZS5hZGRIb29rKCJhZnRlckNyZWF0ZUNvbCIsZnVuY3Rpb24oZSxuLG8pe2lmKCFvKXt2YXIgcj1uZXcgZi5VbmRvUmVkby5DcmVhdGVDb2x1bW5BY3Rpb24oZSxuKTt0LmRvbmUocil9fSksZS5hZGRIb29rKCJiZWZvcmVSZW1vdmVDb2wiLGZ1bmN0aW9uKG4sbyl7dmFyIHI9dC5pbnN0YW5jZS5nZXREYXRhKCk7bj0odC5pbnN0YW5jZS5jb3VudENvbHMoKStuKSV0Lmluc3RhbmNlLmNvdW50Q29scygpO3ZhciBpPVtdLHM9W10sbD1bXTtnKDAsci5sZW5ndGgtMSxmdW5jdGlvbihlKXtpW2VdPXJbZV0uc2xpY2UobixuK28pfSksZygwLG8tMSxmdW5jdGlvbih0KXtsLnB1c2goZS5ydW5Ib29rcygibW9kaWZ5Q29sIixuK3QpKX0pLEFycmF5LmlzQXJyYXkoZS5nZXRTZXR0aW5ncygpLmNvbEhlYWRlcnMpJiZnKDAsby0xLGZ1bmN0aW9uKHQpe3MucHVzaChlLmdldFNldHRpbmdzKCkuY29sSGVhZGVyc1tlLnJ1bkhvb2tzKCJtb2RpZnlDb2wiLG4rdCldfHxudWxsKX0pO3ZhciBhPXQuaW5zdGFuY2UuZ2V0UGx1Z2luKCJtYW51YWxDb2x1bW5Nb3ZlIiksdT1uZXcgZi5VbmRvUmVkby5SZW1vdmVDb2x1bW5BY3Rpb24obCxpLHMsYT9hLmNvbHVtblBvc2l0aW9uczpbXSk7dC5kb25lKHUpfSksZS5hZGRIb29rKCJiZWZvcmVDZWxsQWxpZ25tZW50IixmdW5jdGlvbihlLG4sbyxyKXt2YXIgaT1uZXcgZi5VbmRvUmVkby5DZWxsQWxpZ25tZW50QWN0aW9uKGUsbixvLHIpO3QuZG9uZShpKX0pLGUuYWRkSG9vaygiYmVmb3JlRmlsdGVyIixmdW5jdGlvbihlKXt0LmRvbmUobmV3IGYuVW5kb1JlZG8uRmlsdGVyc0FjdGlvbihlKSl9KX0sZi5VbmRvUmVkby5wcm90b3R5cGUuZG9uZT1mdW5jdGlvbihlKXt0aGlzLmlnbm9yZU5ld0FjdGlvbnN8fCh0aGlzLmRvbmVBY3Rpb25zLnB1c2goZSksdGhpcy51bmRvbmVBY3Rpb25zLmxlbmd0aD0wKX0sZi5VbmRvUmVkby5wcm90b3R5cGUudW5kbz1mdW5jdGlvbigpe2lmKHRoaXMuaXNVbmRvQXZhaWxhYmxlKCkpe3ZhciBlPXRoaXMuZG9uZUFjdGlvbnMucG9wKCk7dGhpcy5pZ25vcmVOZXdBY3Rpb25zPSEwO3ZhciB0PXRoaXM7ZS51bmRvKHRoaXMuaW5zdGFuY2UsZnVuY3Rpb24oKXt0Lmlnbm9yZU5ld0FjdGlvbnM9ITEsdC51bmRvbmVBY3Rpb25zLnB1c2goZSl9KX19LGYuVW5kb1JlZG8ucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oKXtpZih0aGlzLmlzUmVkb0F2YWlsYWJsZSgpKXt2YXIgZT10aGlzLnVuZG9uZUFjdGlvbnMucG9wKCk7dGhpcy5pZ25vcmVOZXdBY3Rpb25zPSEwO3ZhciB0PXRoaXM7ZS5yZWRvKHRoaXMuaW5zdGFuY2UsZnVuY3Rpb24oKXt0Lmlnbm9yZU5ld0FjdGlvbnM9ITEsdC5kb25lQWN0aW9ucy5wdXNoKGUpfSl9fSxmLlVuZG9SZWRvLnByb3RvdHlwZS5pc1VuZG9BdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb25lQWN0aW9ucy5sZW5ndGg+MH0sZi5VbmRvUmVkby5wcm90b3R5cGUuaXNSZWRvQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5kb25lQWN0aW9ucy5sZW5ndGg+MH0sZi5VbmRvUmVkby5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmRvbmVBY3Rpb25zLmxlbmd0aD0wLHRoaXMudW5kb25lQWN0aW9ucy5sZW5ndGg9MH0sZi5VbmRvUmVkby5BY3Rpb249ZnVuY3Rpb24oKXt9LGYuVW5kb1JlZG8uQWN0aW9uLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKCl7fSxmLlVuZG9SZWRvLkFjdGlvbi5wcm90b3R5cGUucmVkbz1mdW5jdGlvbigpe30sZi5VbmRvUmVkby5DaGFuZ2VBY3Rpb249ZnVuY3Rpb24oZSl7dGhpcy5jaGFuZ2VzPWV9LHcoZi5VbmRvUmVkby5DaGFuZ2VBY3Rpb24sZi5VbmRvUmVkby5BY3Rpb24pLGYuVW5kb1JlZG8uQ2hhbmdlQWN0aW9uLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXYodGhpcy5jaGFuZ2VzKSxvPWUuY291bnRFbXB0eVJvd3MoITApLHI9ZS5jb3VudEVtcHR5Q29scyghMCksaT0wLHM9bi5sZW5ndGg7cz5pO2krKyluW2ldLnNwbGljZSgzLDEpO2UuYWRkSG9va09uY2UoImFmdGVyQ2hhbmdlIix0KSxlLnNldERhdGFBdFJvd1Byb3AobixudWxsLG51bGwsInVuZG8iKTtmb3IodmFyIGk9MCxzPW4ubGVuZ3RoO3M+aTtpKyspZS5nZXRTZXR0aW5ncygpLm1pblNwYXJlUm93cyYmbltpXVswXSsxK2UuZ2V0U2V0dGluZ3MoKS5taW5TcGFyZVJvd3M9PT1lLmNvdW50Um93cygpJiZvPT1lLmdldFNldHRpbmdzKCkubWluU3BhcmVSb3dzJiYoZS5hbHRlcigicmVtb3ZlX3JvdyIscGFyc2VJbnQobltpXVswXSsxLDEwKSxlLmdldFNldHRpbmdzKCkubWluU3BhcmVSb3dzKSxlLnVuZG9SZWRvLmRvbmVBY3Rpb25zLnBvcCgpKSxlLmdldFNldHRpbmdzKCkubWluU3BhcmVDb2xzJiZuW2ldWzFdKzErZS5nZXRTZXR0aW5ncygpLm1pblNwYXJlQ29scz09PWUuY291bnRDb2xzKCkmJnI9PWUuZ2V0U2V0dGluZ3MoKS5taW5TcGFyZUNvbHMmJihlLmFsdGVyKCJyZW1vdmVfY29sIixwYXJzZUludChuW2ldWzFdKzEsMTApLGUuZ2V0U2V0dGluZ3MoKS5taW5TcGFyZUNvbHMpLGUudW5kb1JlZG8uZG9uZUFjdGlvbnMucG9wKCkpfSxmLlVuZG9SZWRvLkNoYW5nZUFjdGlvbi5wcm90b3R5cGUucmVkbz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj12KHRoaXMuY2hhbmdlcyksbz0wLHI9bi5sZW5ndGg7cj5vO28rKyluW29dLnNwbGljZSgyLDEpO2UuYWRkSG9va09uY2UoImFmdGVyQ2hhbmdlIix0KSxlLnNldERhdGFBdFJvd1Byb3AobixudWxsLG51bGwsInJlZG8iKX0sZi5VbmRvUmVkby5DcmVhdGVSb3dBY3Rpb249ZnVuY3Rpb24oZSx0KXt0aGlzLmluZGV4PWUsdGhpcy5hbW91bnQ9dH0sdyhmLlVuZG9SZWRvLkNyZWF0ZVJvd0FjdGlvbixmLlVuZG9SZWRvLkFjdGlvbiksZi5VbmRvUmVkby5DcmVhdGVSb3dBY3Rpb24ucHJvdG90eXBlLnVuZG89ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmNvdW50Um93cygpLG89ZS5nZXRTZXR0aW5ncygpLm1pblNwYXJlUm93czt0aGlzLmluZGV4Pj1uJiZ0aGlzLmluZGV4LW88biYmKHRoaXMuaW5kZXgtPW8pLGUuYWRkSG9va09uY2UoImFmdGVyUmVtb3ZlUm93Iix0KSxlLmFsdGVyKCJyZW1vdmVfcm93Iix0aGlzLmluZGV4LHRoaXMuYW1vdW50KX0sZi5VbmRvUmVkby5DcmVhdGVSb3dBY3Rpb24ucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oZSx0KXtlLmFkZEhvb2tPbmNlKCJhZnRlckNyZWF0ZVJvdyIsdCksZS5hbHRlcigiaW5zZXJ0X3JvdyIsdGhpcy5pbmRleCsxLHRoaXMuYW1vdW50KX0sZi5VbmRvUmVkby5SZW1vdmVSb3dBY3Rpb249ZnVuY3Rpb24oZSx0KXt0aGlzLmluZGV4PWUsdGhpcy5kYXRhPXR9LHcoZi5VbmRvUmVkby5SZW1vdmVSb3dBY3Rpb24sZi5VbmRvUmVkby5BY3Rpb24pLGYuVW5kb1JlZG8uUmVtb3ZlUm93QWN0aW9uLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKGUsdCl7dmFyIG49W3RoaXMuaW5kZXgsMF07QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkobix0aGlzLmRhdGEpLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuYXBwbHkoZS5nZXRTb3VyY2VEYXRhKCksbiksZS5hZGRIb29rT25jZSgiYWZ0ZXJSZW5kZXIiLHQpLGUucmVuZGVyKCl9LGYuVW5kb1JlZG8uUmVtb3ZlUm93QWN0aW9uLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKGUsdCl7ZS5hZGRIb29rT25jZSgiYWZ0ZXJSZW1vdmVSb3ciLHQpLGUuYWx0ZXIoInJlbW92ZV9yb3ciLHRoaXMuaW5kZXgsdGhpcy5kYXRhLmxlbmd0aCl9LGYuVW5kb1JlZG8uQ3JlYXRlQ29sdW1uQWN0aW9uPWZ1bmN0aW9uKGUsdCl7dGhpcy5pbmRleD1lLHRoaXMuYW1vdW50PXR9LHcoZi5VbmRvUmVkby5DcmVhdGVDb2x1bW5BY3Rpb24sZi5VbmRvUmVkby5BY3Rpb24pLGYuVW5kb1JlZG8uQ3JlYXRlQ29sdW1uQWN0aW9uLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKGUsdCl7ZS5hZGRIb29rT25jZSgiYWZ0ZXJSZW1vdmVDb2wiLHQpLGUuYWx0ZXIoInJlbW92ZV9jb2wiLHRoaXMuaW5kZXgsdGhpcy5hbW91bnQpfSxmLlVuZG9SZWRvLkNyZWF0ZUNvbHVtbkFjdGlvbi5wcm90b3R5cGUucmVkbz1mdW5jdGlvbihlLHQpe2UuYWRkSG9va09uY2UoImFmdGVyQ3JlYXRlQ29sIix0KSxlLmFsdGVyKCJpbnNlcnRfY29sIix0aGlzLmluZGV4KzEsdGhpcy5hbW91bnQpfSxmLlVuZG9SZWRvLkNlbGxBbGlnbm1lbnRBY3Rpb249ZnVuY3Rpb24oZSx0LG4sbyl7dGhpcy5zdGF0ZUJlZm9yZT1lLHRoaXMucmFuZ2U9dCx0aGlzLnR5cGU9bix0aGlzLmFsaWdubWVudD1vfSxmLlVuZG9SZWRvLkNlbGxBbGlnbm1lbnRBY3Rpb24ucHJvdG90eXBlLnVuZG89ZnVuY3Rpb24oZSx0KXtpZihlLmdldFBsdWdpbigiY29udGV4dE1lbnUiKS5pc0VuYWJsZWQoKSl7Zm9yKHZhciBuPXRoaXMucmFuZ2UuZnJvbS5yb3c7bjw9dGhpcy5yYW5nZS50by5yb3c7bisrKWZvcih2YXIgbz10aGlzLnJhbmdlLmZyb20uY29sO288PXRoaXMucmFuZ2UudG8uY29sO28rKyllLnNldENlbGxNZXRhKG4sbywiY2xhc3NOYW1lIix0aGlzLnN0YXRlQmVmb3JlW25dW29dfHwiIGh0TGVmdCIpO2UuYWRkSG9va09uY2UoImFmdGVyUmVuZGVyIix0KSxlLnJlbmRlcigpfX0sZi5VbmRvUmVkby5DZWxsQWxpZ25tZW50QWN0aW9uLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKGUsdCl7ZS5nZXRQbHVnaW4oImNvbnRleHRNZW51IikuaXNFbmFibGVkKCkmJihlLnNlbGVjdENlbGwodGhpcy5yYW5nZS5mcm9tLnJvdyx0aGlzLnJhbmdlLmZyb20uY29sLHRoaXMucmFuZ2UudG8ucm93LHRoaXMucmFuZ2UudG8uY29sKSxlLmdldFBsdWdpbigiY29udGV4dE1lbnUiKS5leGVjdXRlQ29tbWFuZCgiYWxpZ25tZW50OiIrdGhpcy5hbGlnbm1lbnQucmVwbGFjZSgiaHQiLCIiKS50b0xvd2VyQ2FzZSgpKSxlLmFkZEhvb2tPbmNlKCJhZnRlclJlbmRlciIsdCksZS5yZW5kZXIoKSl9LGYuVW5kb1JlZG8uUmVtb3ZlQ29sdW1uQWN0aW9uPWZ1bmN0aW9uKGUsdCxuLG8pe3RoaXMuaW5kZXhlcz1lLHRoaXMuZGF0YT10LHRoaXMuYW1vdW50PXRoaXMuZGF0YVswXS5sZW5ndGgsdGhpcy5oZWFkZXJzPW4sdGhpcy5jb2x1bW5Qb3NpdGlvbnM9by5zbGljZSgwKX0sdyhmLlVuZG9SZWRvLlJlbW92ZUNvbHVtbkFjdGlvbixmLlVuZG9SZWRvLkFjdGlvbiksZi5VbmRvUmVkby5SZW1vdmVDb2x1bW5BY3Rpb24ucHJvdG90eXBlLnVuZG89ZnVuY3Rpb24oZSx0KXt2YXIgbixvPXRoaXMscj10aGlzLmluZGV4ZXMuc2xpY2UoMCkuc29ydCgpLGk9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuW28uaW5kZXhlcy5pbmRleE9mKHJbdF0pXX0scz1bXTtnKDAsdGhpcy5kYXRhLmxlbmd0aC0xLGZ1bmN0aW9uKGUpe3NbZV09cChvLmRhdGFbZV0saSl9KTt2YXIgbD1bXTtsPXAodGhpcy5oZWFkZXJzLGkpLGcoMCx0aGlzLmRhdGEubGVuZ3RoLTEsZnVuY3Rpb24odCl7bj1lLmdldFNvdXJjZURhdGFBdFJvdyh0KSxnKDAsci5sZW5ndGgtMSxmdW5jdGlvbihlKXtuLnNwbGljZShyW2VdLDAsc1t0XVtlXSl9KX0pLCJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5oZWFkZXJzJiZnKDAsbC5sZW5ndGgtMSxmdW5jdGlvbih0KXtlLmdldFNldHRpbmdzKCkuY29sSGVhZGVycy5zcGxpY2Uoclt0XSwwLGxbdF0pfSksZS5nZXRQbHVnaW4oIm1hbnVhbENvbHVtbk1vdmUiKSYmKGUuZ2V0UGx1Z2luKCJtYW51YWxDb2x1bW5Nb3ZlIikuY29sdW1uUG9zaXRpb25zPXRoaXMuY29sdW1uUG9zaXRpb25zKSxlLmFkZEhvb2tPbmNlKCJhZnRlclJlbmRlciIsdCksZS5yZW5kZXIoKX0sZi5VbmRvUmVkby5SZW1vdmVDb2x1bW5BY3Rpb24ucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oZSx0KXtlLmFkZEhvb2tPbmNlKCJhZnRlclJlbW92ZUNvbCIsdCksZS5hbHRlcigicmVtb3ZlX2NvbCIsZS5ydW5Ib29rcygidW5tb2RpZnlDb2wiLHRoaXMuaW5kZXhlc1swXSksdGhpcy5hbW91bnQpfSxmLlVuZG9SZWRvLkZpbHRlcnNBY3Rpb249ZnVuY3Rpb24oZSl7dGhpcy5mb3JtdWxhU3RhY2tzPWV9LHcoZi5VbmRvUmVkby5GaWx0ZXJzQWN0aW9uLGYuVW5kb1JlZG8uQWN0aW9uKSxmLlVuZG9SZWRvLkZpbHRlcnNBY3Rpb24ucHJvdG90eXBlLnVuZG89ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmdldFBsdWdpbigiZmlsdGVycyIpO2UuYWRkSG9va09uY2UoImFmdGVyUmVuZGVyIix0KSxuLmZvcm11bGFDb2xsZWN0aW9uLmltcG9ydEFsbEZvcm11bGFzKHRoaXMuZm9ybXVsYVN0YWNrcy5zbGljZSgwLHRoaXMuZm9ybXVsYVN0YWNrcy5sZW5ndGgtMSkpLG4uZmlsdGVyKCl9LGYuVW5kb1JlZG8uRmlsdGVyc0FjdGlvbi5wcm90b3R5cGUucmVkbz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0UGx1Z2luKCJmaWx0ZXJzIik7ZS5hZGRIb29rT25jZSgiYWZ0ZXJSZW5kZXIiLHQpLG4uZm9ybXVsYUNvbGxlY3Rpb24uaW1wb3J0QWxsRm9ybXVsYXModGhpcy5mb3JtdWxhU3RhY2tzKSxuLmZpbHRlcigpfSxmLmhvb2tzLmFkZCgiYWZ0ZXJJbml0IixvKSxmLmhvb2tzLmFkZCgiYWZ0ZXJVcGRhdGVTZXR0aW5ncyIsbyl9LHticm93c2VyOjIzLCJoZWxwZXJzL2FycmF5Ijo0MiwiaGVscGVycy9kb20vZXZlbnQiOjQ3LCJoZWxwZXJzL251bWJlciI6NTEsImhlbHBlcnMvb2JqZWN0Ijo1Mn1dLDkyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0KXt2YXIgbjtjW2VdPXQsbj11KGUpKyJSZW5kZXJlciIsYS5yZW5kZXJlcnNbbl09dCxhW25dPXQsImJhc2UiPT09ZSYmKGEucmVuZGVyZXJzLmNlbGxEZWNvcmF0b3I9dCl9ZnVuY3Rpb24gcihlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSlyZXR1cm4gZTtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgRXJyb3IoJ09ubHkgc3RyaW5ncyBhbmQgZnVuY3Rpb25zIGNhbiBiZSBwYXNzZWQgYXMgInJlbmRlcmVyIiBwYXJhbWV0ZXInKTtpZighKGUgaW4gYykpdGhyb3cgRXJyb3IoJ05vIGVkaXRvciByZWdpc3RlcmVkIHVuZGVyIG5hbWUgIicrZSsnIicpO3JldHVybiBjW2VdfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUgaW4gY31PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtyZWdpc3RlclJlbmRlcmVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LGdldFJlbmRlcmVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcn19LGhhc1JlbmRlcmVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaX19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciBzLGwsYT0ocz1lKCJicm93c2VyIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KVsiZGVmYXVsdCJdLHU9KGw9ZSgiaGVscGVycy9zdHJpbmciKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLnRvVXBwZXJDYXNlRmlyc3QsYz17fTthLnJlbmRlcmVycz1hLnJlbmRlcmVyc3x8e30sYS5yZW5kZXJlcnMucmVnaXN0ZXJSZW5kZXJlcj1vLGEucmVuZGVyZXJzLmdldFJlbmRlcmVyPXJ9LHticm93c2VyOjIzLCJoZWxwZXJzL3N0cmluZyI6NTR9XSw5MzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCxuLG8scixpLHMpe3MuY2xhc3NOYW1lJiYodC5jbGFzc05hbWU/dC5jbGFzc05hbWU9dC5jbGFzc05hbWUrIiAiK3MuY2xhc3NOYW1lOnQuY2xhc3NOYW1lPXMuY2xhc3NOYW1lKSxzLnJlYWRPbmx5JiZsKHQscy5yZWFkT25seUNlbGxDbGFzc05hbWUpLHMudmFsaWQ9PT0hMSYmcy5pbnZhbGlkQ2VsbENsYXNzTmFtZT9sKHQscy5pbnZhbGlkQ2VsbENsYXNzTmFtZSk6YSh0LHMuaW52YWxpZENlbGxDbGFzc05hbWUpLHMud29yZFdyYXA9PT0hMSYmcy5ub1dvcmRXcmFwQ2xhc3NOYW1lJiZsKHQscy5ub1dvcmRXcmFwQ2xhc3NOYW1lKSwhaSYmcy5wbGFjZWhvbGRlciYmbCh0LHMucGxhY2Vob2xkZXJDZWxsQ2xhc3NOYW1lKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtjZWxsRGVjb3JhdG9yOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGkscz0ocj1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSxsPXMuYWRkQ2xhc3MsYT1zLnJlbW92ZUNsYXNzLHU9KGk9ZSgicmVuZGVyZXJzIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5yZWdpc3RlclJlbmRlcmVyO3UoImJhc2UiLG8pfSx7ImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LHJlbmRlcmVyczo5Mn1dLDk0OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0LG4sbyxyLGkscyl7dmFyIGw9KG0uY2xvbmVOb2RlKCEwKSx3LmNsb25lTm9kZSghMCkpO2lmKGYoInRleHQiKShlLHQsbixvLHIsaSxzKSx0LmFwcGVuZENoaWxkKGwpLHUodCwiaHRBdXRvY29tcGxldGUiKSx0LmZpcnN0Q2hpbGR8fHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU3RyaW5nLmZyb21DaGFyQ29kZSgxNjApKSksIWUuYWNBcnJvd0xpc3RlbmVyKXt2YXIgYT1oKGUpO2UuYWNBcnJvd0xpc3RlbmVyPWZ1bmN0aW9uKHIpe2Moci50YXJnZXQsImh0QXV0b2NvbXBsZXRlQXJyb3ciKSYmZS52aWV3Lnd0LmdldFNldHRpbmcoIm9uQ2VsbERibENsaWNrIixudWxsLG5ldyBnKG4sbyksdCl9LGEuYWRkRXZlbnRMaXN0ZW5lcihlLnJvb3RFbGVtZW50LCJtb3VzZWRvd24iLGUuYWNBcnJvd0xpc3RlbmVyKSxlLmFkZEhvb2tPbmNlKCJhZnRlckRlc3Ryb3kiLGZ1bmN0aW9uKCl7YS5kZXN0cm95KCl9KX19T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7YXV0b2NvbXBsZXRlUmVuZGVyZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaSxzLGwsYT0ocj1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KSx1PWEuYWRkQ2xhc3MsYz1hLmhhc0NsYXNzLGg9KGEuZW1wdHksKGk9ZSgiZXZlbnRNYW5hZ2VyIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5ldmVudE1hbmFnZXIpLGQ9KHM9ZSgicmVuZGVyZXJzIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KSxmPWQuZ2V0UmVuZGVyZXIscD1kLnJlZ2lzdGVyUmVuZGVyZXIsZz0obD1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY2VsbC9jb29yZHMiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLldhbGtvbnRhYmxlQ2VsbENvb3JkcyxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpO20uY2xhc3NOYW1lPSJodEF1dG9jb21wbGV0ZVdyYXBwZXIiO3ZhciB3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpO3cuY2xhc3NOYW1lPSJodEF1dG9jb21wbGV0ZUFycm93Iix3LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFN0cmluZy5mcm9tQ2hhckNvZGUoOTY2MCkpKTtwKCJhdXRvY29tcGxldGUiLG8pfSx7IjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyI6NSxldmVudE1hbmFnZXI6NDEsImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LHJlbmRlcmVyczo5Mn1dLDk1OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0LG4sbyx1LGMsaCl7ZnVuY3Rpb24gZChlKXt2YXIgdD1bRS5TUEFDRSxFLkVOVEVSLEUuREVMRVRFLEUuQkFDS1NQQUNFXTstMT09PXQuaW5kZXhPZihlLmtleUNvZGUpfHxPKGUpfHxnKGZ1bmN0aW9uKCl7TShlKSxlLnByZXZlbnREZWZhdWx0KCl9KSxlLmtleUNvZGUhPT1FLlNQQUNFJiZlLmtleUNvZGUhPT1FLkVOVEVSfHxmKCksZS5rZXlDb2RlIT09RS5ERUxFVEUmJmUua2V5Q29kZSE9PUUuQkFDS1NQQUNFfHxmKCExKX1mdW5jdGlvbiBmKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO2coZnVuY3Rpb24odCl7Zm9yKHZhciBuPTAsbz10Lmxlbmd0aDtvPm47bisrKXtpZih5KHRbbl0sRCkmJm51bGw9PT1lKXJldHVybjtwKHRbbl0sZSl9fSl9ZnVuY3Rpb24gcChlKXt2YXIgdD12b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7bnVsbD09PXQ/ZS5jaGVja2VkPSFlLmNoZWNrZWQ6ZS5jaGVja2VkPXQsbS5maXJlRXZlbnQoZSwiY2hhbmdlIil9ZnVuY3Rpb24gZyh0KXt2YXIgbj1lLmdldFNlbGVjdGVkUmFuZ2UoKTtpZihuKWZvcih2YXIgbz1uLmdldFRvcExlZnRDb3JuZXIoKSxyPW4uZ2V0Qm90dG9tUmlnaHRDb3JuZXIoKSxpPW8ucm93O2k8PXIucm93O2krKylmb3IodmFyIHM9by5jb2w7czw9ci5jb2w7cysrKXt2YXIgbD1lLmdldENlbGwoaSxzKSxhPWUuZ2V0Q2VsbE1ldGEoaSxzKSx1PWwucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbdHlwZT1jaGVja2JveF0iKTt1Lmxlbmd0aD4wJiYhYS5yZWFkT25seSYmdCh1KX19UigiYmFzZSIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgbT1uZXcgQyhlKSxfPXIoKSxTPWgubGFiZWwsVD0hMTtpZigidW5kZWZpbmVkIj09dHlwZW9mIGguY2hlY2tlZFRlbXBsYXRlJiYoaC5jaGVja2VkVGVtcGxhdGU9ITApLCJ1bmRlZmluZWQiPT10eXBlb2YgaC51bmNoZWNrZWRUZW1wbGF0ZSYmKGgudW5jaGVja2VkVGVtcGxhdGU9ITEpLHcodCksYz09PWguY2hlY2tlZFRlbXBsYXRlfHxiKGMsaC5jaGVja2VkVGVtcGxhdGUpP18uY2hlY2tlZD0hMDpjPT09aC51bmNoZWNrZWRUZW1wbGF0ZXx8YihjLGgudW5jaGVja2VkVGVtcGxhdGUpP18uY2hlY2tlZD0hMTpudWxsPT09Yz92KF8sIm5vVmFsdWUiKTooXy5zdHlsZS5kaXNwbGF5PSJub25lIix2KF8sRCksVD0hMCksXy5zZXRBdHRyaWJ1dGUoImRhdGEtcm93IixuKSxfLnNldEF0dHJpYnV0ZSgiZGF0YS1jb2wiLG8pLCFUJiZTKXt2YXIgQT0iIjtTLnZhbHVlP0E9ImZ1bmN0aW9uIj09dHlwZW9mIFMudmFsdWU/Uy52YWx1ZS5jYWxsKHRoaXMsbixvLHUsYyk6Uy52YWx1ZTpTLnByb3BlcnR5JiYoQT1lLmdldERhdGFBdFJvd1Byb3AobixTLnByb3BlcnR5KSk7dmFyIHg9aShBKTsiYmVmb3JlIj09PVMucG9zaXRpb24/eC5hcHBlbmRDaGlsZChfKTp4Lmluc2VydEJlZm9yZShfLHguZmlyc3RDaGlsZCksXz14fXQuYXBwZW5kQ2hpbGQoXyksVCYmdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiI2JhZC12YWx1ZSMiKSksSC5oYXMoZSl8fChoLnJlYWRPbmx5P20uYWRkRXZlbnRMaXN0ZW5lcihlLnJvb3RFbGVtZW50LCJjbGljayIscyk6KG0uYWRkRXZlbnRMaXN0ZW5lcihlLnJvb3RFbGVtZW50LCJtb3VzZXVwIixmdW5jdGlvbih0KXtyZXR1cm4gbCh0LGUpfSksbS5hZGRFdmVudExpc3RlbmVyKGUucm9vdEVsZW1lbnQsImNoYW5nZSIsZnVuY3Rpb24odCl7cmV0dXJuIGEodCxlKX0pKSxILnNldChlLCEwKSksay5oYXMoZSl8fChrLnNldChlLCEwKSxlLmFkZEhvb2soImJlZm9yZUtleURvd24iLGQpKX1mdW5jdGlvbiByKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtyZXR1cm4gZS5jbGFzc05hbWU9Imh0Q2hlY2tib3hSZW5kZXJlcklucHV0IixlLnR5cGU9ImNoZWNrYm94IixlLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIiksZS5zZXRBdHRyaWJ1dGUoInRhYmluZGV4IiwiLTEiKSxlLmNsb25lTm9kZSghMSl9ZnVuY3Rpb24gaShlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpO3JldHVybiB0LmNsYXNzTmFtZT0iaHRDaGVja2JveFJlbmRlcmVyTGFiZWwiLHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSkpLHQuY2xvbmVOb2RlKCEwKX1mdW5jdGlvbiBzKGUpe3UoZS50YXJnZXQpJiZlLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gbChlLHQpe3UoZS50YXJnZXQpJiZzZXRUaW1lb3V0KHQubGlzdGVuLDEwKX1mdW5jdGlvbiBhKGUsdCl7aWYoIXUoZS50YXJnZXQpKXJldHVybiExO3ZhciBuPXBhcnNlSW50KGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgiZGF0YS1yb3ciKSwxMCksbz1wYXJzZUludChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImRhdGEtY29sIiksMTApLHI9dC5nZXRDZWxsTWV0YShuLG8pO3Quc2V0RGF0YUF0Q2VsbChuLG8sZS50YXJnZXQuY2hlY2tlZD9yLmNoZWNrZWRUZW1wbGF0ZXx8ITA6ci51bmNoZWNrZWRUZW1wbGF0ZXx8ITEpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIklOUFVUIj09PWUudGFnTmFtZSYmImNoZWNrYm94Ij09PWUuZ2V0QXR0cmlidXRlKCJ0eXBlIil9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7Y2hlY2tib3hSZW5kZXJlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgYyxoLGQsZixwLGcsbT0oYz1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksYyYmYy5fX2VzTW9kdWxlJiZjfHx7ImRlZmF1bHQiOmN9KSx3PW0uZW1wdHksdj1tLmFkZENsYXNzLHk9bS5oYXNDbGFzcyxiPShoPWUoImhlbHBlcnMvc3RyaW5nIiksaCYmaC5fX2VzTW9kdWxlJiZofHx7ImRlZmF1bHQiOmh9KS5lcXVhbHNJZ25vcmVDYXNlLEM9KGQ9ZSgiZXZlbnRNYW5hZ2VyIiksZCYmZC5fX2VzTW9kdWxlJiZkfHx7ImRlZmF1bHQiOmR9KS5FdmVudE1hbmFnZXIsXz0oZj1lKCJyZW5kZXJlcnMiKSxmJiZmLl9fZXNNb2R1bGUmJmZ8fHsiZGVmYXVsdCI6Zn0pLFI9Xy5nZXRSZW5kZXJlcixTPV8ucmVnaXN0ZXJSZW5kZXJlcixFPShwPWUoImhlbHBlcnMvdW5pY29kZSIpLHAmJnAuX19lc01vZHVsZSYmcHx8eyJkZWZhdWx0IjpwfSkuS0VZX0NPREVTLFQ9KGc9ZSgiaGVscGVycy9kb20vZXZlbnQiKSxnJiZnLl9fZXNNb2R1bGUmJmd8fHsiZGVmYXVsdCI6Z30pLE09KFQuc3RvcFByb3BhZ2F0aW9uLFQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSxPPVQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQsaz1uZXcgV2Vha01hcCxIPW5ldyBXZWFrTWFwLEQ9Imh0QmFkVmFsdWUiO1MoImNoZWNrYm94IixvKX0se2V2ZW50TWFuYWdlcjo0MSwiaGVscGVycy9kb20vZWxlbWVudCI6NDYsImhlbHBlcnMvZG9tL2V2ZW50Ijo0NywiaGVscGVycy9zdHJpbmciOjU0LCJoZWxwZXJzL3VuaWNvZGUiOjU1LHJlbmRlcmVyczo5Mn1dLDk2OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0LG4sbyxyLGksbCl7YSgiYmFzZSIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxudWxsIT09aSYmdm9pZCAwIT09aXx8KGk9IiIpLHModCxpKX1PYmplY3QuZGVmaW5lUHJvcGVydGllcyhuLHtodG1sUmVuZGVyZXI6e2dldDpmdW5jdGlvbigpe3JldHVybiBvfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIHIsaSxzPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLmZhc3RJbm5lckhUTUwsbD0oaT1lKCJyZW5kZXJlcnMiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLGE9bC5nZXRSZW5kZXJlcix1PWwucmVnaXN0ZXJSZW5kZXJlcjt1KCJodG1sIixvKX0seyJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NixyZW5kZXJlcnM6OTJ9XSw5NzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCxuLG8scixpLHMpe2lmKGgoaSkpeyJ1bmRlZmluZWQiIT10eXBlb2Ygcy5sYW5ndWFnZSYmbC5sYW5ndWFnZShzLmxhbmd1YWdlKSxpPWwoaSkuZm9ybWF0KHMuZm9ybWF0fHwiMCIpO3ZhciBhPXMuY2xhc3NOYW1lfHwiIixjPWEubGVuZ3RoP2Euc3BsaXQoIiAiKTpbXTtjLmluZGV4T2YoImh0TGVmdCIpPDAmJmMuaW5kZXhPZigiaHRDZW50ZXIiKTwwJiZjLmluZGV4T2YoImh0UmlnaHQiKTwwJiZjLmluZGV4T2YoImh0SnVzdGlmeSIpPDAmJmMucHVzaCgiaHRSaWdodCIpLGMuaW5kZXhPZigiaHROdW1lcmljIik8MCYmYy5wdXNoKCJodE51bWVyaWMiKSxzLmNsYXNzTmFtZT1jLmpvaW4oIiAiKX11KCJ0ZXh0IikoZSx0LG4sbyxyLGkscyl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7bnVtZXJpY1JlbmRlcmVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGkscyxsPShyPWUoIm51bWVyYWwiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0sYT0oaT1lKCJyZW5kZXJlcnMiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLHU9YS5nZXRSZW5kZXJlcixjPWEucmVnaXN0ZXJSZW5kZXJlcixoPShzPWUoImhlbHBlcnMvbnVtYmVyIikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5pc051bWVyaWM7YygibnVtZXJpYyIsbyl9LHsiaGVscGVycy9udW1iZXIiOjUxLG51bWVyYWw6Im51bWVyYWwiLHJlbmRlcmVyczo5Mn1dLDk4OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0LG4sbyxyLGksbCl7YSgidGV4dCIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxpPXQuaW5uZXJIVE1MO3ZhciB1LGM9bC5oYXNoTGVuZ3RofHxpLmxlbmd0aCxoPWwuaGFzaFN5bWJvbHx8IioiO2Zvcih1PSIiO3Uuc3BsaXQoaCkubGVuZ3RoLTE8Yzt1Kz1oKTtzKHQsdSl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7cGFzc3dvcmRSZW5kZXJlcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHM9KHI9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLHImJnIuX19lc01vZHVsZSYmcnx8eyJkZWZhdWx0IjpyfSkuZmFzdElubmVySFRNTCxsPShpPWUoInJlbmRlcmVycyIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSksYT1sLmdldFJlbmRlcmVyLHU9bC5yZWdpc3RlclJlbmRlcmVyO3UoInBhc3N3b3JkIixvKX0seyJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NixyZW5kZXJlcnM6OTJ9XSw5OTpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKGUsdCxuLG8scixpLHMpe2QoImJhc2UiKS5hcHBseSh0aGlzLGFyZ3VtZW50cyksIWkmJnMucGxhY2Vob2xkZXImJihpPXMucGxhY2Vob2xkZXIpO3ZhciBsPWMoaSk7aWYoZS5nZXRTZXR0aW5ncygpLnRyaW1XaGl0ZXNwYWNlfHwobD1sLnJlcGxhY2UoLyAvZyxTdHJpbmcuZnJvbUNoYXJDb2RlKDE2MCkpKSxzLnJlbmRlcmVyVGVtcGxhdGUpe2EodCk7dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEVNUExBVEUiKTtoLnNldEF0dHJpYnV0ZSgiYmluZCIsInt7fX0iKSxoLmlubmVySFRNTD1zLnJlbmRlcmVyVGVtcGxhdGUsSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZShoKSxoLm1vZGVsPWUuZ2V0U291cmNlRGF0YUF0Um93KG4pLHQuYXBwZW5kQ2hpbGQoaCl9ZWxzZSB1KHQsbCl9T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7dGV4dFJlbmRlcmVyOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb319LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGkscyxsPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGE9bC5lbXB0eSx1PWwuZmFzdElubmVyVGV4dCxjPShpPWUoImhlbHBlcnMvbWl4ZWQiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLnN0cmluZ2lmeSxoPShzPWUoInJlbmRlcmVycyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSksZD1oLmdldFJlbmRlcmVyLGY9aC5yZWdpc3RlclJlbmRlcmVyO2YoInRleHQiLG8pfSx7ImhlbHBlcnMvZG9tL2VsZW1lbnQiOjQ2LCJoZWxwZXJzL21peGVkIjo1MCxyZW5kZXJlcnM6OTJ9XSwxMDA6W2Z1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cmV0dXJue2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHZhbHVlOmUsd3JpdGFibGU6ITB9fWZ1bmN0aW9uIG4oKXtyZXR1cm4iX18kIitNYXRoLmZsb29yKDFlOSpNYXRoLnJhbmRvbSgpKSsiJCIrICsrQSsiJF9fIn1mdW5jdGlvbiBvKGUpe3JldHVybiBXW2VdfWZ1bmN0aW9uIHIoKXt2YXIgZT1uKCk7cmV0dXJuIFdbZV09ITAsZX1mdW5jdGlvbiBpKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZSYmZSBpbnN0YW5jZW9mIGF9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gaShlKT8ic3ltYm9sIjp0eXBlb2YgZX1mdW5jdGlvbiBsKGUpe3ZhciB0PW5ldyBhKGUpO2lmKCEodGhpcyBpbnN0YW5jZW9mIGwpKXJldHVybiB0O3Rocm93IG5ldyBUeXBlRXJyb3IoIlN5bWJvbCBjYW5ub3QgYmUgbmV3J2VkIil9ZnVuY3Rpb24gYShlKXt2YXIgdD1uKCk7RSh0aGlzLE4se3ZhbHVlOnRoaXN9KSxFKHRoaXMseCx7dmFsdWU6dH0pLEUodGhpcyxQLHt2YWx1ZTplfSksYyh0aGlzKSxMW3RdPXRoaXN9ZnVuY3Rpb24gdShlKXt2YXIgdD1lW0ldO3JldHVybiB0JiZ0LnNlbGY9PT1lP3Q6SChlKT8oVi5oYXNoLnZhbHVlPUYrKyxWLnNlbGYudmFsdWU9ZSxqLnZhbHVlPVIobnVsbCxWKSxFKGUsSSxqKSxqLnZhbHVlKTp2b2lkIDB9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gdShlKSxULmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBoKGUpe3JldHVybiBMW2VdfHxXW2VdfWZ1bmN0aW9uIGQoZSl7cmV0dXJuIGkoZSk/ZVt4XTplfWZ1bmN0aW9uIGYoZSl7Zm9yKHZhciB0PVtdLG49TyhlKSxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciByPUxbbltvXV07ciYmdC5wdXNoKHIpfXJldHVybiB0fWZ1bmN0aW9uIHAodCl7CnJldHVybiBlLnRyYWNldXImJmUudHJhY2V1ci5vcHRpb25zW3RdfWZ1bmN0aW9uIGcoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylmb3IodmFyIG49Tyhhcmd1bWVudHNbdF0pLG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIHI9bltvXTtoKHIpfHwhZnVuY3Rpb24odCxuKXtFKGUsbix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbbl19LGVudW1lcmFibGU6ITB9KX0oYXJndW1lbnRzW3RdLG5bb10pfXJldHVybiBlfWZ1bmN0aW9uIG0oZSl7cmV0dXJuIG51bGwhPWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKX1mdW5jdGlvbiB3KGUpe2lmKG51bGw9PWUpdGhyb3cgXygpO3JldHVybiBDKGUpfWZ1bmN0aW9uIHYoZSl7aWYobnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJWYWx1ZSBjYW5ub3QgYmUgY29udmVydGVkIHRvIGFuIE9iamVjdCIpO3JldHVybiBlfWZ1bmN0aW9uIHkoZSx0KXtlLlN5bWJvbHx8KGUuU3ltYm9sPXQsT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz1mKSxlLlN5bWJvbC5pdGVyYXRvcnx8KGUuU3ltYm9sLml0ZXJhdG9yPXQoIlN5bWJvbC5pdGVyYXRvciIpKX1mdW5jdGlvbiBiKGUpe3koZSxsKSxlLlJlZmxlY3Q9ZS5SZWZsZWN0fHx7fSxlLlJlZmxlY3QuZ2xvYmFsPWUuUmVmbGVjdC5nbG9iYWx8fGV9aWYoIWUuJHRyYWNldXJSdW50aW1lKXt2YXIgQz1PYmplY3QsXz1UeXBlRXJyb3IsUj1DLmNyZWF0ZSxTPUMuZGVmaW5lUHJvcGVydGllcyxFPUMuZGVmaW5lUHJvcGVydHksVD1DLmZyZWV6ZSxNPUMuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLE89Qy5nZXRPd25Qcm9wZXJ0eU5hbWVzLGs9Qy5rZXlzLEg9T2JqZWN0LmlzRXh0ZW5zaWJsZSxEPXQsQT0wLHg9bigpLFA9bigpLE49bigpLEw9UihudWxsKSxXPVIobnVsbCk7RShsLnByb3RvdHlwZSwiY29uc3RydWN0b3IiLHQobCkpLEUobC5wcm90b3R5cGUsInRvU3RyaW5nIixEKGZ1bmN0aW9uKCl7dmFyIGU9dGhpc1tOXTtpZighcCgic3ltYm9scyIpKXJldHVybiBlW3hdO2lmKCFlKXRocm93IFR5cGVFcnJvcigiQ29udmVyc2lvbiBmcm9tIHN5bWJvbCB0byBzdHJpbmciKTt2YXIgdD1lW1BdO3JldHVybiB2b2lkIDA9PT10JiYodD0iIiksIlN5bWJvbCgiK3QrIikifSkpLEUobC5wcm90b3R5cGUsInZhbHVlT2YiLEQoZnVuY3Rpb24oKXt2YXIgZT10aGlzW05dO2lmKCFlKXRocm93IFR5cGVFcnJvcigiQ29udmVyc2lvbiBmcm9tIHN5bWJvbCB0byBzdHJpbmciKTtyZXR1cm4gcCgic3ltYm9scyIpP2U6ZVt4XX0pKSxFKGEucHJvdG90eXBlLCJjb25zdHJ1Y3RvciIsdChsKSksRShhLnByb3RvdHlwZSwidG9TdHJpbmciLHt2YWx1ZTpsLnByb3RvdHlwZS50b1N0cmluZyxlbnVtZXJhYmxlOiExfSksRShhLnByb3RvdHlwZSwidmFsdWVPZiIse3ZhbHVlOmwucHJvdG90eXBlLnZhbHVlT2YsZW51bWVyYWJsZTohMX0pO3ZhciBJPXIoKSxqPXt2YWx1ZTp2b2lkIDB9LFY9e2hhc2g6e3ZhbHVlOnZvaWQgMH0sc2VsZjp7dmFsdWU6dm9pZCAwfX0sRj0wO2MoYS5wcm90b3R5cGUpLGIoZSksZS4kdHJhY2V1clJ1bnRpbWU9e2NoZWNrT2JqZWN0Q29lcmNpYmxlOnYsY3JlYXRlUHJpdmF0ZU5hbWU6cixkZWZpbmVQcm9wZXJ0aWVzOlMsZGVmaW5lUHJvcGVydHk6RSxleHBvcnRTdGFyOmcsZ2V0T3duSGFzaE9iamVjdDp1LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpNLGdldE93blByb3BlcnR5TmFtZXM6Tyxpc09iamVjdDptLGlzUHJpdmF0ZU5hbWU6byxpc1N5bWJvbFN0cmluZzpoLGtleXM6ayxzZXR1cEdsb2JhbHM6Yix0b09iamVjdDp3LHRvUHJvcGVydHk6ZCwidHlwZW9mIjpzfX19KHdpbmRvdyksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZSgpe2Zvcih2YXIgZSxuPVtdLG89MCxyPTA7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIGk9JHRyYWNldXJSdW50aW1lLmNoZWNrT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50c1tyXSk7ImZ1bmN0aW9uIiE9dHlwZW9mIGlbdChTeW1ib2wuaXRlcmF0b3IpXSYmKGlbdChTeW1ib2wuaXRlcmF0b3IpXT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1lLmxlbmd0aCxuPTA7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXt2YXIgbz17ZG9uZTohMH07cmV0dXJuIHQ+biYmKG8uZG9uZT0hMSxvLnZhbHVlPWVbbl0sKytuKSxvfX19KTtmb3IodmFyIHM9aVt0KFN5bWJvbC5pdGVyYXRvcildKCk7IShlPXMubmV4dCgpKS5kb25lOyluW28rK109ZS52YWx1ZX1yZXR1cm4gbn12YXIgdD0kdHJhY2V1clJ1bnRpbWUudG9Qcm9wZXJ0eTskdHJhY2V1clJ1bnRpbWUuc3ByZWFkPWV9KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZShlLHQpe3ZhciBuPWcoZSk7ZG97dmFyIG89cChuLHQpO2lmKG8pcmV0dXJuIG87bj1nKG4pfXdoaWxlKG4pfWZ1bmN0aW9uIHQoZSl7cmV0dXJuIGUuX19wcm90b19ffWZ1bmN0aW9uIG4oZSx0LG4scil7cmV0dXJuIG8oZSx0LG4pLmFwcGx5KGUscil9ZnVuY3Rpb24gbyh0LG4sbyl7dmFyIHI9ZShuLG8pO3JldHVybiByP3IuZ2V0P3IuZ2V0LmNhbGwodCk6ci52YWx1ZTp2b2lkIDB9ZnVuY3Rpb24gcih0LG4sbyxyKXt2YXIgaT1lKG4sbyk7aWYoaSYmaS5zZXQpcmV0dXJuIGkuc2V0LmNhbGwodCxyKSxyO3Rocm93IGMoInN1cGVyIGhhcyBubyBzZXR0ZXIgJyIrbysiJy4iKX1mdW5jdGlvbiBpKGUpe2Zvcih2YXIgdD17fSxuPXYoZSksbz0wO288bi5sZW5ndGg7bysrKXt2YXIgcj1uW29dO3Rbcl09cChlLHIpfWZvcih2YXIgaT15KGUpLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIHM9aVtvXTt0W20ocyldPXAoZSxtKHMpKX1yZXR1cm4gdH1mdW5jdGlvbiBzKGUsdCxuLG8pe3JldHVybiBmKHQsImNvbnN0cnVjdG9yIix7dmFsdWU6ZSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMH0pLGFyZ3VtZW50cy5sZW5ndGg+Mz8oImZ1bmN0aW9uIj09dHlwZW9mIG8mJihlLl9fcHJvdG9fXz1vKSxlLnByb3RvdHlwZT1oKGwobyksaSh0KSkpOmUucHJvdG90eXBlPXQsZihlLCJwcm90b3R5cGUiLHtjb25maWd1cmFibGU6ITEsd3JpdGFibGU6ITF9KSxkKGUsaShuKSl9ZnVuY3Rpb24gbChlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSl7dmFyIHQ9ZS5wcm90b3R5cGU7aWYodSh0KT09PXR8fG51bGw9PT10KXJldHVybiBlLnByb3RvdHlwZTt0aHJvdyBuZXcgYygic3VwZXIgcHJvdG90eXBlIG11c3QgYmUgYW4gT2JqZWN0IG9yIG51bGwiKX1pZihudWxsPT09ZSlyZXR1cm4gbnVsbDt0aHJvdyBuZXcgYygiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiBlKyIuIil9ZnVuY3Rpb24gYShlLHQsbyl7bnVsbCE9PWcodCkmJm4oZSx0LCJjb25zdHJ1Y3RvciIsbyl9dmFyIHU9T2JqZWN0LGM9VHlwZUVycm9yLGg9dS5jcmVhdGUsZD0kdHJhY2V1clJ1bnRpbWUuZGVmaW5lUHJvcGVydGllcyxmPSR0cmFjZXVyUnVudGltZS5kZWZpbmVQcm9wZXJ0eSxwPSR0cmFjZXVyUnVudGltZS5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsZz1PYmplY3QuZ2V0UHJvdG90eXBlT2YsbT0kdHJhY2V1clJ1bnRpbWUudG9Qcm9wZXJ0eSx3PU9iamVjdCx2PXcuZ2V0T3duUHJvcGVydHlOYW1lcyx5PXcuZ2V0T3duUHJvcGVydHlTeW1ib2xzOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcz1zLCR0cmFjZXVyUnVudGltZS5kZWZhdWx0U3VwZXJDYWxsPWEsJHRyYWNldXJSdW50aW1lLnN1cGVyQ2FsbD1uLCR0cmFjZXVyUnVudGltZS5zdXBlckNvbnN0cnVjdG9yPXQsJHRyYWNldXJSdW50aW1lLnN1cGVyR2V0PW8sJHRyYWNldXJSdW50aW1lLnN1cGVyU2V0PXJ9KCl9LHt9XSwxMDE6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXt2YXIgdD10aGlzLG49dGhpczt0aGlzLmV2ZW50TWFuYWdlcj1fKGUpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLnNldHRpbmdzPWUuZ2V0U2V0dGluZ3MoKSx0aGlzLnNlbGVjdGlvbk1vdXNlRG93bj0hMTt2YXIgbz1lLnJvb3RFbGVtZW50LmdldEF0dHJpYnV0ZSgic3R5bGUiKTtvJiZlLnJvb3RFbGVtZW50LnNldEF0dHJpYnV0ZSgiZGF0YS1vcmlnaW5hbHN0eWxlIixvKSxmKGUucm9vdEVsZW1lbnQsImhhbmRzb250YWJsZSIpO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlRBQkxFIik7ZihyLCJodENvcmUiKSxlLmdldFNldHRpbmdzKCkudGFibGVDbGFzc05hbWUmJmYocixlLmdldFNldHRpbmdzKCkudGFibGVDbGFzc05hbWUpLHRoaXMuVEhFQUQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEhFQUQiKSxyLmFwcGVuZENoaWxkKHRoaXMuVEhFQUQpLHRoaXMuVEJPRFk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiVEJPRFkiKSxyLmFwcGVuZENoaWxkKHRoaXMuVEJPRFkpLGUudGFibGU9cixlLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUocixlLmNvbnRhaW5lci5maXJzdENoaWxkKSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGUucm9vdEVsZW1lbnQsIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3Rpb25Nb3VzZURvd249ITAsbi5pc1RleHRTZWxlY3Rpb25BbGxvd2VkKGUudGFyZ2V0KXx8KHMoKSxlLnByZXZlbnREZWZhdWx0KCksd2luZG93LmZvY3VzKCkpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihlLnJvb3RFbGVtZW50LCJtb3VzZXVwIixmdW5jdGlvbihlKXt0aGlzLnNlbGVjdGlvbk1vdXNlRG93bj0hMX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZS5yb290RWxlbWVudCwibW91c2Vtb3ZlIixmdW5jdGlvbihlKXt0aGlzLnNlbGVjdGlvbk1vdXNlRG93biYmIW4uaXNUZXh0U2VsZWN0aW9uQWxsb3dlZChlLnRhcmdldCkmJihzKCksZS5wcmV2ZW50RGVmYXVsdCgpKX0pLHRoaXMuZXZlbnRNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCJrZXl1cCIsZnVuY3Rpb24odCl7ZS5zZWxlY3Rpb24uaXNJblByb2dyZXNzKCkmJiF0LnNoaWZ0S2V5JiZlLnNlbGVjdGlvbi5maW5pc2goKX0pO3ZhciBpO3RoaXMuaXNNb3VzZURvd249ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIm1vdXNldXAiLGZ1bmN0aW9uKHQpe2Uuc2VsZWN0aW9uLmlzSW5Qcm9ncmVzcygpJiYxPT09dC53aGljaCYmZS5zZWxlY3Rpb24uZmluaXNoKCksaT0hMSxDKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpJiZlLnVubGlzdGVuKCl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwibW91c2Vkb3duIixmdW5jdGlvbih0KXt2YXIgbz10LnRhcmdldCxyPXQudGFyZ2V0LHM9dC54fHx0LmNsaWVudFgsbD10Lnl8fHQuY2xpZW50WTtpZighaSYmZS5yb290RWxlbWVudCl7aWYocj09PWUudmlldy53dC53dFRhYmxlLmhvbGRlcil7dmFyIGE9dygpO2lmKGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQocythLGwpIT09ZS52aWV3Lnd0Lnd0VGFibGUuaG9sZGVyfHxkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHMsbCthKSE9PWUudmlldy53dC53dFRhYmxlLmhvbGRlcilyZXR1cm59ZWxzZSBmb3IoO3IhPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7KXtpZihudWxsPT09cil7aWYodC5pc1RhcmdldFdlYkNvbXBvbmVudClicmVhaztyZXR1cm59aWYocj09PWUucm9vdEVsZW1lbnQpcmV0dXJuO3I9ci5wYXJlbnROb2RlfXZhciB1PSJmdW5jdGlvbiI9PXR5cGVvZiBuLnNldHRpbmdzLm91dHNpZGVDbGlja0Rlc2VsZWN0cz9uLnNldHRpbmdzLm91dHNpZGVDbGlja0Rlc2VsZWN0cyhvKTpuLnNldHRpbmdzLm91dHNpZGVDbGlja0Rlc2VsZWN0czt1P2UuZGVzZWxlY3RDZWxsKCk6ZS5kZXN0cm95RWRpdG9yKCl9fSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihyLCJzZWxlY3RzdGFydCIsZnVuY3Rpb24oZSl7bi5zZXR0aW5ncy5mcmFnbWVudFNlbGVjdGlvbnx8YihlLnRhcmdldCl8fGUucHJldmVudERlZmF1bHQoKX0pO3ZhciBzPWZ1bmN0aW9uKCl7d2luZG93LmdldFNlbGVjdGlvbj93aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZW1wdHk/d2luZG93LmdldFNlbGVjdGlvbigpLmVtcHR5KCk6d2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcyYmd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpOmRvY3VtZW50LnNlbGVjdGlvbiYmZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCl9LGw9W25ldyBNKHtjbGFzc05hbWU6ImN1cnJlbnQiLGJvcmRlcjp7d2lkdGg6Mixjb2xvcjoiIzUyOTJGNyIsY29ybmVyVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiBuLnNldHRpbmdzLmZpbGxIYW5kbGUmJiFuLmlzQ2VsbEVkaXRlZCgpJiYhZS5zZWxlY3Rpb24uaXNNdWx0aXBsZSgpfSxtdWx0aXBsZVNlbGVjdGlvbkhhbmRsZXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIW4uaXNDZWxsRWRpdGVkKCkmJiFlLnNlbGVjdGlvbi5pc011bHRpcGxlKCl9fX0pLG5ldyBNKHtjbGFzc05hbWU6ImFyZWEiLGJvcmRlcjp7d2lkdGg6MSxjb2xvcjoiIzg5QUZGOSIsY29ybmVyVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiBuLnNldHRpbmdzLmZpbGxIYW5kbGUmJiFuLmlzQ2VsbEVkaXRlZCgpJiZlLnNlbGVjdGlvbi5pc011bHRpcGxlKCl9LG11bHRpcGxlU2VsZWN0aW9uSGFuZGxlc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4hbi5pc0NlbGxFZGl0ZWQoKSYmZS5zZWxlY3Rpb24uaXNNdWx0aXBsZSgpfX19KSxuZXcgTSh7Y2xhc3NOYW1lOiJoaWdobGlnaHQiLGhpZ2hsaWdodFJvd0NsYXNzTmFtZTpuLnNldHRpbmdzLmN1cnJlbnRSb3dDbGFzc05hbWUsaGlnaGxpZ2h0Q29sdW1uQ2xhc3NOYW1lOm4uc2V0dGluZ3MuY3VycmVudENvbENsYXNzTmFtZX0pLG5ldyBNKHtjbGFzc05hbWU6ImZpbGwiLGJvcmRlcjp7d2lkdGg6MSxjb2xvcjoicmVkIn19KV07bC5jdXJyZW50PWxbMF0sbC5hcmVhPWxbMV0sbC5oaWdobGlnaHQ9bFsyXSxsLmZpbGw9bFszXTt2YXIgYT17ZGVidWc6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXR0aW5ncy5kZWJ1Z30sZXh0ZXJuYWxSb3dDYWxjdWxhdG9yOnRoaXMuaW5zdGFuY2UuZ2V0UGx1Z2luKCJhdXRvUm93U2l6ZSIpJiZ0aGlzLmluc3RhbmNlLmdldFBsdWdpbigiYXV0b1Jvd1NpemUiKS5pc0VuYWJsZWQoKSx0YWJsZTpyLHByZXZlbnRPdmVyZmxvdzpmdW5jdGlvbigpe3JldHVybiB0LnNldHRpbmdzLnByZXZlbnRPdmVyZmxvd30sc3RyZXRjaEg6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXR0aW5ncy5zdHJldGNoSH0sZGF0YTplLmdldERhdGFBdENlbGwsdG90YWxSb3dzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuY291bnRSb3dzKCl9LHRvdGFsQ29sdW1uczpmdW5jdGlvbigpe3JldHVybiBlLmNvdW50Q29scygpfSxmaXhlZENvbHVtbnNMZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2V0dGluZ3MuZml4ZWRDb2x1bW5zTGVmdH0sZml4ZWRSb3dzVG9wOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2V0dGluZ3MuZml4ZWRSb3dzVG9wfSxmaXhlZFJvd3NCb3R0b206ZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXR0aW5ncy5maXhlZFJvd3NCb3R0b219LG1pblNwYXJlUm93czpmdW5jdGlvbigpe3JldHVybiBuLnNldHRpbmdzLm1pblNwYXJlUm93c30scmVuZGVyQWxsUm93czpuLnNldHRpbmdzLnJlbmRlckFsbFJvd3Mscm93SGVhZGVyczpmdW5jdGlvbigpe3ZhciB0PVtdO3JldHVybiBlLmhhc1Jvd0hlYWRlcnMoKSYmdC5wdXNoKGZ1bmN0aW9uKGUsdCl7bi5hcHBlbmRSb3dIZWFkZXIoZSx0KX0pLGguaG9va3MucnVuKGUsImFmdGVyR2V0Um93SGVhZGVyUmVuZGVyZXJzIix0KSx0fSxjb2x1bW5IZWFkZXJzOmZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIGUuaGFzQ29sSGVhZGVycygpJiZ0LnB1c2goZnVuY3Rpb24oZSx0KXtuLmFwcGVuZENvbEhlYWRlcihlLHQpfSksaC5ob29rcy5ydW4oZSwiYWZ0ZXJHZXRDb2x1bW5IZWFkZXJSZW5kZXJlcnMiLHQpLHR9LGNvbHVtbldpZHRoOmUuZ2V0Q29sV2lkdGgscm93SGVpZ2h0OmUuZ2V0Um93SGVpZ2h0LGNlbGxSZW5kZXJlcjpmdW5jdGlvbihlLHQsbyl7dmFyIHI9bi5pbnN0YW5jZS5nZXRDZWxsTWV0YShlLHQpLGk9bi5pbnN0YW5jZS5jb2xUb1Byb3AodCkscz1uLmluc3RhbmNlLmdldERhdGFBdFJvd1Byb3AoZSxpKTtoLmhvb2tzLnJ1bihuLmluc3RhbmNlLCJiZWZvcmVSZW5kZXJlciIsbyxlLHQsaSxzLHIpLG4uaW5zdGFuY2UuZ2V0Q2VsbFJlbmRlcmVyKHIpKG4uaW5zdGFuY2UsbyxlLHQsaSxzLHIpLGguaG9va3MucnVuKG4uaW5zdGFuY2UsImFmdGVyUmVuZGVyZXIiLG8sZSx0LGkscyxyKX0sc2VsZWN0aW9uczpsLGhpZGVCb3JkZXJPbk1vdXNlRG93bk92ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zZXR0aW5ncy5mcmFnbWVudFNlbGVjdGlvbn0sb25DZWxsTW91c2VEb3duOmZ1bmN0aW9uKHQsbyxyLHMpe2lmKGUubGlzdGVuKCksbi5hY3RpdmVXdD1zLGk9ITAsaC5ob29rcy5ydW4oZSwiYmVmb3JlT25DZWxsTW91c2VEb3duIix0LG8sciksIUUodCkpe3ZhciBsPWUuZ2V0U2VsZWN0ZWRSYW5nZSgpLGE9ZS5zZWxlY3Rpb24sdT1hLnNlbGVjdGVkSGVhZGVyO2lmKHQuc2hpZnRLZXkmJmwpby5yb3c+PTAmJm8uY29sPj0wPyhhLnNldFJhbmdlRW5kKG8pLGEuc2V0U2VsZWN0ZWRIZWFkZXJzKCExLCExKSk6KHUuY29sc3x8dS5yb3dzKSYmby5yb3c+PTAmJm8uY29sPj0wPyhhLnNldFJhbmdlRW5kKG5ldyBUKG8ucm93LG8uY29sKSksYS5zZXRTZWxlY3RlZEhlYWRlcnMoITEsITEpKTp1LmNvbHMmJm8ucm93PDA/YS5zZXRSYW5nZUVuZChuZXcgVChsLnRvLnJvdyxvLmNvbCkpOnUucm93cyYmby5jb2w8MD9hLnNldFJhbmdlRW5kKG5ldyBUKG8ucm93LGwudG8uY29sKSk6IXUuY29scyYmIXUucm93cyYmby5jb2w8MHx8dS5jb2xzJiZvLmNvbDwwPyhhLnNldFJhbmdlU3RhcnRPbmx5KG5ldyBUKGwuZnJvbS5yb3csMCkpLGEuc2V0UmFuZ2VFbmQobmV3IFQoby5yb3csZS5jb3VudENvbHMoKS0xKSksYS5zZXRTZWxlY3RlZEhlYWRlcnMoITAsITEpKTooIXUuY29scyYmIXUucm93cyYmby5yb3c8MHx8dS5yb3dzJiZvLnJvdzwwKSYmKGEuc2V0UmFuZ2VTdGFydE9ubHkobmV3IFQoMCxsLmZyb20uY29sKSksYS5zZXRSYW5nZUVuZChuZXcgVChlLmNvdW50Um93cygpLTEsby5jb2wpKSxhLnNldFNlbGVjdGVkSGVhZGVycyghMSwhMCkpO2Vsc2V7dmFyIGM9ITA7aWYobCl7dmFyIGQ9bCxmPWQuZnJvbSxwPWQudG8sZz0hYS5pbkluU2VsZWN0aW9uKG8pO2lmKG8ucm93PDAmJnUuY29scyl7dmFyIG09TWF0aC5taW4oZi5jb2wscC5jb2wpLHc9TWF0aC5tYXgoZi5jb2wscC5jb2wpO2M9by5jb2w8bXx8by5jb2w+d31lbHNlIGlmKG8uY29sPDAmJnUucm93cyl7dmFyIHY9TWF0aC5taW4oZi5yb3cscC5yb3cpLHk9TWF0aC5tYXgoZi5yb3cscC5yb3cpO2M9by5yb3c8dnx8by5yb3c+eX1lbHNlIGM9Z30oMD09PXQuYnV0dG9ufHwyPT09dC5idXR0b24mJmMpJiYoby5yb3c8MCYmby5jb2w+PTA/KGEuc2V0U2VsZWN0ZWRIZWFkZXJzKCExLCEwKSxhLnNldFJhbmdlU3RhcnRPbmx5KG5ldyBUKDAsby5jb2wpKSxhLnNldFJhbmdlRW5kKG5ldyBUKGUuY291bnRSb3dzKCktMSxvLmNvbCksITEpKTpvLmNvbDwwJiZvLnJvdz49MD8oYS5zZXRTZWxlY3RlZEhlYWRlcnMoITAsITEpLGEuc2V0UmFuZ2VTdGFydE9ubHkobmV3IFQoby5yb3csMCkpLGEuc2V0UmFuZ2VFbmQobmV3IFQoby5yb3csZS5jb3VudENvbHMoKS0xKSwhMSkpOihvLnJvdz1vLnJvdzwwPzA6by5yb3csby5jb2w9by5jb2w8MD8wOm8uY29sLGEuc2V0U2VsZWN0ZWRIZWFkZXJzKCExLCExKSxhLnNldFJhbmdlU3RhcnQobykpKX1oLmhvb2tzLnJ1bihlLCJhZnRlck9uQ2VsbE1vdXNlRG93biIsdCxvLHIpLG4uYWN0aXZlV3Q9bi53dH19LG9uQ2VsbE1vdXNlT3ZlcjpmdW5jdGlvbih0LG8scixzKXt2YXIgbD17cm93OiExLGNvbHVtbjohMX07bi5hY3RpdmVXdD1zLGguaG9va3MucnVuKGUsImJlZm9yZU9uQ2VsbE1vdXNlT3ZlciIsdCxvLHIsbCksMD09PXQuYnV0dG9uJiYoby5yb3c+PTAmJm8uY29sPj0wP2kmJmUuc2VsZWN0aW9uLnNldFJhbmdlRW5kKG8pOmkmJihvLnJvdzwwJiYhbC5jb2x1bW4mJihlLnNlbGVjdGlvbi5zZWxlY3RlZEhlYWRlci5jb2xzPyhlLnNlbGVjdGlvbi5zZXRSYW5nZUVuZChuZXcgVChlLmNvdW50Um93cygpLTEsby5jb2wpLCExKSxlLnNlbGVjdGlvbi5zZXRTZWxlY3RlZEhlYWRlcnMoITEsITApKTplLnNlbGVjdGlvbi5zZXRSYW5nZUVuZChuZXcgVChvLnJvdyxvLmNvbCksITEpKSxvLmNvbDwwJiYhbC5yb3cmJihlLnNlbGVjdGlvbi5zZWxlY3RlZEhlYWRlci5yb3dzPyhlLnNlbGVjdGlvbi5zZXRSYW5nZUVuZChuZXcgVChvLnJvdyxlLmNvdW50Q29scygpLTEpLCExKSxlLnNlbGVjdGlvbi5zZXRTZWxlY3RlZEhlYWRlcnMoITAsITEpKTplLnNlbGVjdGlvbi5zZXRSYW5nZUVuZChuZXcgVChvLnJvdyxvLmNvbCksITEpKSkpLGguaG9va3MucnVuKGUsImFmdGVyT25DZWxsTW91c2VPdmVyIix0LG8sciksbi5hY3RpdmVXdD1uLnd0fSxvbkNlbGxDb3JuZXJNb3VzZURvd246ZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLGguaG9va3MucnVuKGUsImFmdGVyT25DZWxsQ29ybmVyTW91c2VEb3duIix0KX0sYmVmb3JlRHJhdzpmdW5jdGlvbihlKXtuLmJlZm9yZVJlbmRlcihlKX0sb25EcmF3OmZ1bmN0aW9uKGUpe24ub25EcmF3KGUpfSxvblNjcm9sbFZlcnRpY2FsbHk6ZnVuY3Rpb24oKXtlLnJ1bkhvb2tzKCJhZnRlclNjcm9sbFZlcnRpY2FsbHkiKX0sb25TY3JvbGxIb3Jpem9udGFsbHk6ZnVuY3Rpb24oKXtlLnJ1bkhvb2tzKCJhZnRlclNjcm9sbEhvcml6b250YWxseSIpfSxvbkJlZm9yZURyYXdCb3JkZXJzOmZ1bmN0aW9uKHQsbil7ZS5ydW5Ib29rcygiYmVmb3JlRHJhd0JvcmRlcnMiLHQsbil9LG9uQmVmb3JlVG91Y2hTY3JvbGw6ZnVuY3Rpb24oKXtlLnJ1bkhvb2tzKCJiZWZvcmVUb3VjaFNjcm9sbCIpfSxvbkFmdGVyTW9tZW50dW1TY3JvbGw6ZnVuY3Rpb24oKXtlLnJ1bkhvb2tzKCJhZnRlck1vbWVudHVtU2Nyb2xsIil9LG9uQmVmb3JlU3RyZXRjaGluZ0NvbHVtbldpZHRoOmZ1bmN0aW9uKHQsbil7cmV0dXJuIGUucnVuSG9va3MoImJlZm9yZVN0cmV0Y2hpbmdDb2x1bW5XaWR0aCIsdCxuKX0sdmlld3BvcnRSb3dDYWxjdWxhdG9yT3ZlcnJpZGU6ZnVuY3Rpb24odCl7dmFyIG89ZS5jb3VudFJvd3MoKSxyPW4uc2V0dGluZ3Mudmlld3BvcnRSb3dSZW5kZXJpbmdPZmZzZXQ7aWYoImF1dG8iPT09ciYmbi5zZXR0aW5ncy5maXhlZFJvd3NUb3AmJihyPTEwKSwibnVtYmVyIj09dHlwZW9mIHImJih0LnN0YXJ0Um93PU1hdGgubWF4KHQuc3RhcnRSb3ctciwwKSx0LmVuZFJvdz1NYXRoLm1pbih0LmVuZFJvdytyLG8tMSkpLCJhdXRvIj09PXIpe3ZhciBpPXQuc3RhcnRSb3crdC5lbmRSb3ctdC5zdGFydFJvdyxzPU1hdGguY2VpbChpL28qMTIpO3Quc3RhcnRSb3c9TWF0aC5tYXgodC5zdGFydFJvdy1zLDApLHQuZW5kUm93PU1hdGgubWluKHQuZW5kUm93K3Msby0xKX1lLnJ1bkhvb2tzKCJhZnRlclZpZXdwb3J0Um93Q2FsY3VsYXRvck92ZXJyaWRlIix0KX0sdmlld3BvcnRDb2x1bW5DYWxjdWxhdG9yT3ZlcnJpZGU6ZnVuY3Rpb24odCl7dmFyIG89ZS5jb3VudENvbHMoKSxyPW4uc2V0dGluZ3Mudmlld3BvcnRDb2x1bW5SZW5kZXJpbmdPZmZzZXQ7aWYoImF1dG8iPT09ciYmbi5zZXR0aW5ncy5maXhlZENvbHVtbnNMZWZ0JiYocj0xMCksIm51bWJlciI9PXR5cGVvZiByJiYodC5zdGFydENvbHVtbj1NYXRoLm1heCh0LnN0YXJ0Q29sdW1uLXIsMCksdC5lbmRDb2x1bW49TWF0aC5taW4odC5lbmRDb2x1bW4rcixvLTEpKSwiYXV0byI9PT1yKXt2YXIgaT10LnN0YXJ0Q29sdW1uK3QuZW5kQ29sdW1uLXQuc3RhcnRDb2x1bW4scz1NYXRoLmNlaWwoaS9vKjEyKTt0LnN0YXJ0Um93PU1hdGgubWF4KHQuc3RhcnRDb2x1bW4tcywwKSx0LmVuZENvbHVtbj1NYXRoLm1pbih0LmVuZENvbHVtbitzLG8tMSl9ZS5ydW5Ib29rcygiYWZ0ZXJWaWV3cG9ydENvbHVtbkNhbGN1bGF0b3JPdmVycmlkZSIsdCl9LHJvd0hlYWRlcldpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc2V0dGluZ3Mucm93SGVhZGVyV2lkdGh9LGNvbHVtbkhlYWRlckhlaWdodDpmdW5jdGlvbigpe3ZhciB0PWUucnVuSG9va3MoIm1vZGlmeUNvbHVtbkhlYWRlckhlaWdodCIpO3JldHVybiBuLnNldHRpbmdzLmNvbHVtbkhlYWRlckhlaWdodHx8dH19O2guaG9va3MucnVuKGUsImJlZm9yZUluaXRXYWxrb250YWJsZSIsYSksdGhpcy53dD1uZXcgTyhhKSx0aGlzLmFjdGl2ZVd0PXRoaXMud3QsdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihuLnd0Lnd0VGFibGUuc3ByZWFkZXIsIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7ZS50YXJnZXQ9PT1uLnd0Lnd0VGFibGUuc3ByZWFkZXImJjM9PT1lLndoaWNoJiZTKGUpfSksdGhpcy5ldmVudE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihuLnd0Lnd0VGFibGUuc3ByZWFkZXIsImNvbnRleHRtZW51IixmdW5jdGlvbihlKXtlLnRhcmdldD09PW4ud3Qud3RUYWJsZS5zcHJlYWRlciYmMz09PWUud2hpY2gmJlMoZSl9KSx0aGlzLmV2ZW50TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwiY2xpY2siLGZ1bmN0aW9uKCl7bi5zZXR0aW5ncy5vYnNlcnZlRE9NVmlzaWJpbGl0eSYmbi53dC5kcmF3SW50ZXJydXB0ZWQmJihuLmluc3RhbmNlLmZvcmNlRnVsbFJlbmRlcj0hMCxuLnJlbmRlcigpKX0pfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se1RhYmxlVmlldzp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHMsbCxhLHUsYyxoPShyPWUoImJyb3dzZXIiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0sZD0oaT1lKCJoZWxwZXJzL2RvbS9lbGVtZW50IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KSxmPWQuYWRkQ2xhc3MscD1kLmVtcHR5LGc9ZC5mYXN0SW5uZXJIVE1MLG09ZC5mYXN0SW5uZXJUZXh0LHc9ZC5nZXRTY3JvbGxiYXJXaWR0aCx2PWQuaGFzQ2xhc3MseT1kLmlzQ2hpbGRPZixiPWQuaXNJbnB1dCxDPWQuaXNPdXRzaWRlSW5wdXQsXz0ocz1lKCJldmVudE1hbmFnZXIiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLmV2ZW50TWFuYWdlcixSPShsPWUoImhlbHBlcnMvZG9tL2V2ZW50IiksbCYmbC5fX2VzTW9kdWxlJiZsfHx7ImRlZmF1bHQiOmx9KSxTPVIuc3RvcFByb3BhZ2F0aW9uLEU9Ui5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCxUPShhPWUoIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkuV2Fsa29udGFibGVDZWxsQ29vcmRzLE09KHU9ZSgiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL3NlbGVjdGlvbiIpLHUmJnUuX19lc01vZHVsZSYmdXx8eyJkZWZhdWx0Ijp1fSkuV2Fsa29udGFibGVTZWxlY3Rpb24sTz0oYz1lKCIzcmRwYXJ0eS93YWxrb250YWJsZS9zcmMvY29yZSIpLGMmJmMuX19lc01vZHVsZSYmY3x8eyJkZWZhdWx0IjpjfSkuV2Fsa29udGFibGU7aC5UYWJsZVZpZXc9byxvLnByb3RvdHlwZS5pc1RleHRTZWxlY3Rpb25BbGxvd2VkPWZ1bmN0aW9uKGUpe2lmKGIoZSkpcmV0dXJuITA7dmFyIHQ9eShlLHRoaXMuaW5zdGFuY2Uudmlldy53dC53dFRhYmxlLnNwcmVhZGVyKTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5mcmFnbWVudFNlbGVjdGlvbj09PSEwJiZ0PyEwOiJjZWxsIj09PXRoaXMuc2V0dGluZ3MuZnJhZ21lbnRTZWxlY3Rpb24mJnRoaXMuaXNTZWxlY3RlZE9ubHlDZWxsKCkmJnQ/ITA6ISh0aGlzLnNldHRpbmdzLmZyYWdtZW50U2VsZWN0aW9ufHwhdGhpcy5pc0NlbGxFZGl0ZWQoKXx8IXRoaXMuaXNTZWxlY3RlZE9ubHlDZWxsKCkpfSxvLnByb3RvdHlwZS5pc1NlbGVjdGVkT25seUNlbGw9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldFNlbGVjdGVkKCl8fFtdLHQ9ZVswXSxuPWVbMV0sbz1lWzJdLHI9ZVszXTtyZXR1cm4gdm9pZCAwIT09dCYmdD09PW8mJm49PT1yfSxvLnByb3RvdHlwZS5pc0NlbGxFZGl0ZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldEFjdGl2ZUVkaXRvcigpO3JldHVybiBlJiZlLmlzT3BlbmVkKCl9LG8ucHJvdG90eXBlLmJlZm9yZVJlbmRlcj1mdW5jdGlvbihlKXtlJiZoLmhvb2tzLnJ1bih0aGlzLmluc3RhbmNlLCJiZWZvcmVSZW5kZXIiLHRoaXMuaW5zdGFuY2UuZm9yY2VGdWxsUmVuZGVyKX0sby5wcm90b3R5cGUub25EcmF3PWZ1bmN0aW9uKGUpe2UmJmguaG9va3MucnVuKHRoaXMuaW5zdGFuY2UsImFmdGVyUmVuZGVyIix0aGlzLmluc3RhbmNlLmZvcmNlRnVsbFJlbmRlcil9LG8ucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3RoaXMud3QuZHJhdyghdGhpcy5pbnN0YW5jZS5mb3JjZUZ1bGxSZW5kZXIpLHRoaXMuaW5zdGFuY2UuZm9yY2VGdWxsUmVuZGVyPSExLHRoaXMuaW5zdGFuY2UucmVuZGVyQ2FsbD0hMX0sby5wcm90b3R5cGUuZ2V0Q2VsbEF0Q29vcmRzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy53dC5nZXRDZWxsKGUsdCk7cmV0dXJuIDA+bj9udWxsOm59LG8ucHJvdG90eXBlLnNjcm9sbFZpZXdwb3J0PWZ1bmN0aW9uKGUpe3RoaXMud3Quc2Nyb2xsVmlld3BvcnQoZSl9LG8ucHJvdG90eXBlLmFwcGVuZFJvd0hlYWRlcj1mdW5jdGlvbihlLHQpe2lmKHQuZmlyc3RDaGlsZCl7dmFyIG49dC5maXJzdENoaWxkO2lmKCF2KG4sInJlbGF0aXZlIikpcmV0dXJuIHAodCksdm9pZCB0aGlzLmFwcGVuZFJvd0hlYWRlcihlLHQpO3RoaXMudXBkYXRlQ2VsbEhlYWRlcihuLnF1ZXJ5U2VsZWN0b3IoIi5yb3dIZWFkZXIiKSxlLHRoaXMuaW5zdGFuY2UuZ2V0Um93SGVhZGVyKX1lbHNle3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO28uY2xhc3NOYW1lPSJyZWxhdGl2ZSIsci5jbGFzc05hbWU9InJvd0hlYWRlciIsdGhpcy51cGRhdGVDZWxsSGVhZGVyKHIsZSx0aGlzLmluc3RhbmNlLmdldFJvd0hlYWRlciksby5hcHBlbmRDaGlsZChyKSx0LmFwcGVuZENoaWxkKG8pfWguaG9va3MucnVuKHRoaXMuaW5zdGFuY2UsImFmdGVyR2V0Um93SGVhZGVyIixlLHQpfSxvLnByb3RvdHlwZS5hcHBlbmRDb2xIZWFkZXI9ZnVuY3Rpb24oZSx0KXtpZih0LmZpcnN0Q2hpbGQpe3ZhciBuPXQuZmlyc3RDaGlsZDt2KG4sInJlbGF0aXZlIik/dGhpcy51cGRhdGVDZWxsSGVhZGVyKG4ucXVlcnlTZWxlY3RvcigiLmNvbEhlYWRlciIpLGUsdGhpcy5pbnN0YW5jZS5nZXRDb2xIZWFkZXIpOihwKHQpLHRoaXMuYXBwZW5kQ29sSGVhZGVyKGUsdCkpfWVsc2V7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iikscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7by5jbGFzc05hbWU9InJlbGF0aXZlIixyLmNsYXNzTmFtZT0iY29sSGVhZGVyIix0aGlzLnVwZGF0ZUNlbGxIZWFkZXIocixlLHRoaXMuaW5zdGFuY2UuZ2V0Q29sSGVhZGVyKSxvLmFwcGVuZENoaWxkKHIpLHQuYXBwZW5kQ2hpbGQobyl9aC5ob29rcy5ydW4odGhpcy5pbnN0YW5jZSwiYWZ0ZXJHZXRDb2xIZWFkZXIiLGUsdCl9LG8ucHJvdG90eXBlLnVwZGF0ZUNlbGxIZWFkZXI9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXQscj10aGlzLnd0Lnd0T3ZlcmxheXMuZ2V0UGFyZW50T3ZlcmxheShlKXx8dGhpcy53dDtlLnBhcmVudE5vZGUmJih2KGUsImNvbEhlYWRlciIpP289ci53dFRhYmxlLmNvbHVtbkZpbHRlci5zb3VyY2VUb1JlbmRlcmVkKHQpOnYoZSwicm93SGVhZGVyIikmJihvPXIud3RUYWJsZS5yb3dGaWx0ZXIuc291cmNlVG9SZW5kZXJlZCh0KSkpLG8+LTE/ZyhlLG4odCkpOihtKGUsU3RyaW5nLmZyb21DaGFyQ29kZSgxNjApKSxmKGUsImNvcm5lckhlYWRlciIpKX0sby5wcm90b3R5cGUubWF4aW11bVZpc2libGVFbGVtZW50V2lkdGg9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy53dC53dFZpZXdwb3J0LmdldFdvcmtzcGFjZVdpZHRoKCksbj10LWU7cmV0dXJuIG4+MD9uOjB9LG8ucHJvdG90eXBlLm1heGltdW1WaXNpYmxlRWxlbWVudEhlaWdodD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnd0Lnd0Vmlld3BvcnQuZ2V0V29ya3NwYWNlSGVpZ2h0KCksbj10LWU7cmV0dXJuIG4+MD9uOjB9LG8ucHJvdG90eXBlLm1haW5WaWV3SXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53dD09PXRoaXMuYWN0aXZlV3R9LG8ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnd0LmRlc3Ryb3koKSx0aGlzLmV2ZW50TWFuYWdlci5kZXN0cm95KCl9fSx7IjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9jZWxsL2Nvb3JkcyI6NSwiM3JkcGFydHkvd2Fsa29udGFibGUvc3JjL2NvcmUiOjcsIjNyZHBhcnR5L3dhbGtvbnRhYmxlL3NyYy9zZWxlY3Rpb24iOjE4LGJyb3dzZXI6MjMsZXZlbnRNYW5hZ2VyOjQxLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9kb20vZXZlbnQiOjQ3fV0sMTAyOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0dob3N0VGFibGU6e2dldDpmdW5jdGlvbigpe3JldHVybiBnfX0sX19lc01vZHVsZTp7dmFsdWU6ITB9fSk7dmFyIG8scixpLHMsbCxhLHU9KG89ZSgiYnJvd3NlciIpLG8mJm8uX19lc01vZHVsZSYmb3x8eyJkZWZhdWx0IjpvfSlbImRlZmF1bHQiXSxjPShyPWUoImhlbHBlcnMvZG9tL2VsZW1lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pLGg9Yy5hZGRDbGFzcyxkPWMub3V0ZXJIZWlnaHQsZj1jLm91dGVyV2lkdGgscD0oaT1lKCJoZWxwZXJzL2FycmF5IiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5hcnJheUVhY2gsZz0oKHM9ZSgiaGVscGVycy9vYmplY3QiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLm9iamVjdEVhY2gsKGw9ZSgiaGVscGVycy9udW1iZXIiKSxsJiZsLl9fZXNNb2R1bGUmJmx8fHsiZGVmYXVsdCI6bH0pLnJhbmdlRWFjaCwoYT1lKCJoZWxwZXJzL21peGVkIiksYSYmYS5fX2VzTW9kdWxlJiZhfHx7ImRlZmF1bHQiOmF9KS5zdHJpbmdpZnksZnVuY3Rpb24oZSl7dGhpcy5ob3Q9ZSx0aGlzLmNvbnRhaW5lcj1udWxsLHRoaXMuaW5qZWN0ZWQ9ITEsdGhpcy5yb3dzPVtdLHRoaXMuY29sdW1ucz1bXSx0aGlzLnNhbXBsZXM9bnVsbCx0aGlzLnNldHRpbmdzPXt1c2VIZWFkZXJzOiEwfX0pOyR0cmFjZXVyUnVudGltZS5jcmVhdGVDbGFzcyhnLHthZGRSb3c6ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmNvbHVtbnMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiRG9lc24ndCBzdXBwb3J0IG11bHRpLWRpbWVuc2lvbmFsIHRhYmxlIik7dGhpcy5yb3dzLmxlbmd0aHx8KHRoaXMuY29udGFpbmVyPXRoaXMuY3JlYXRlQ29udGFpbmVyKHRoaXMuaG90LnJvb3RFbGVtZW50LmNsYXNzTmFtZSkpO3ZhciBuPXtyb3c6ZX07dGhpcy5yb3dzLnB1c2gobiksdGhpcy5zYW1wbGVzPXQsdGhpcy50YWJsZT10aGlzLmNyZWF0ZVRhYmxlKHRoaXMuaG90LnRhYmxlLmNsYXNzTmFtZSksdGhpcy50YWJsZS5jb2xHcm91cC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUNvbEdyb3Vwc0NvbCgpKSx0aGlzLnRhYmxlLnRyLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlUm93KGUpKSx0aGlzLmNvbnRhaW5lci5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50YWJsZS5mcmFnbWVudCksbi50YWJsZT10aGlzLnRhYmxlLnRhYmxlfSxhZGRDb2x1bW5IZWFkZXJzUm93OmZ1bmN0aW9uKGUpe2lmKG51bGwhPXRoaXMuaG90LmdldENvbEhlYWRlcigwKSl7dmFyIHQ9e3JvdzotMX07dGhpcy5yb3dzLnB1c2godCksdGhpcy5jb250YWluZXI9dGhpcy5jcmVhdGVDb250YWluZXIodGhpcy5ob3Qucm9vdEVsZW1lbnQuY2xhc3NOYW1lKSx0aGlzLnNhbXBsZXM9ZSx0aGlzLnRhYmxlPXRoaXMuY3JlYXRlVGFibGUodGhpcy5ob3QudGFibGUuY2xhc3NOYW1lKSx0aGlzLnRhYmxlLmNvbEdyb3VwLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlQ29sR3JvdXBzQ29sKCkpLHRoaXMudGFibGUudEhlYWQuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVDb2x1bW5IZWFkZXJzUm93KCkpLHRoaXMuY29udGFpbmVyLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlLmZyYWdtZW50KSx0LnRhYmxlPXRoaXMudGFibGUudGFibGV9fSxhZGRDb2x1bW46ZnVuY3Rpb24oZSx0KXtpZih0aGlzLnJvd3MubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiRG9lc24ndCBzdXBwb3J0IG11bHRpLWRpbWVuc2lvbmFsIHRhYmxlIik7dGhpcy5jb2x1bW5zLmxlbmd0aHx8KHRoaXMuY29udGFpbmVyPXRoaXMuY3JlYXRlQ29udGFpbmVyKHRoaXMuaG90LnJvb3RFbGVtZW50LmNsYXNzTmFtZSkpO3ZhciBuPXtjb2w6ZX07dGhpcy5jb2x1bW5zLnB1c2gobiksdGhpcy5zYW1wbGVzPXQsdGhpcy50YWJsZT10aGlzLmNyZWF0ZVRhYmxlKHRoaXMuaG90LnRhYmxlLmNsYXNzTmFtZSksdGhpcy5nZXRTZXR0aW5nKCJ1c2VIZWFkZXJzIikmJm51bGwhPT10aGlzLmhvdC5nZXRDb2xIZWFkZXIoZSkmJnRoaXMuaG90LnZpZXcuYXBwZW5kQ29sSGVhZGVyKGUsdGhpcy50YWJsZS50aCksdGhpcy50YWJsZS50Qm9keS5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUNvbChlKSksdGhpcy5jb250YWluZXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudGFibGUuZnJhZ21lbnQpLG4udGFibGU9dGhpcy50YWJsZS50YWJsZX0sZ2V0SGVpZ2h0czpmdW5jdGlvbihlKXt0aGlzLmluamVjdGVkfHx0aGlzLmluamVjdFRhYmxlKCkscCh0aGlzLnJvd3MsZnVuY3Rpb24odCl7ZSh0LnJvdyxkKHQudGFibGUpLTEpfSl9LGdldFdpZHRoczpmdW5jdGlvbihlKXt0aGlzLmluamVjdGVkfHx0aGlzLmluamVjdFRhYmxlKCkscCh0aGlzLmNvbHVtbnMsZnVuY3Rpb24odCl7ZSh0LmNvbCxmKHQudGFibGUpKX0pfSxzZXRTZXR0aW5nczpmdW5jdGlvbihlKXt0aGlzLnNldHRpbmdzPWV9LHNldFNldHRpbmc6ZnVuY3Rpb24oZSx0KXt0aGlzLnNldHRpbmdzfHwodGhpcy5zZXR0aW5ncz17fSksdGhpcy5zZXR0aW5nc1tlXT10fSxnZXRTZXR0aW5nczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldHRpbmdzfSxnZXRTZXR0aW5nOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNldHRpbmdzP3RoaXMuc2V0dGluZ3NbZV06bnVsbH0sY3JlYXRlQ29sR3JvdXBzQ29sOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWRvY3VtZW50LG49dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIHRoaXMuaG90Lmhhc1Jvd0hlYWRlcnMoKSYmbi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUNvbEVsZW1lbnQoLTEpKSx0aGlzLnNhbXBsZXMuZm9yRWFjaChmdW5jdGlvbih0KXtwKHQuc3RyaW5ncyxmdW5jdGlvbih0KXtuLmFwcGVuZENoaWxkKGUuY3JlYXRlQ29sRWxlbWVudCh0LmNvbCkpfSl9KSxufSxjcmVhdGVSb3c6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWRvY3VtZW50LG89bi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscj1uLmNyZWF0ZUVsZW1lbnQoInRoIik7cmV0dXJuIHRoaXMuaG90Lmhhc1Jvd0hlYWRlcnMoKSYmKHRoaXMuaG90LnZpZXcuYXBwZW5kUm93SGVhZGVyKGUsciksby5hcHBlbmRDaGlsZChyKSksdGhpcy5zYW1wbGVzLmZvckVhY2goZnVuY3Rpb24ocil7cChyLnN0cmluZ3MsZnVuY3Rpb24ocil7dmFyIGk9ci5jb2wscz10LmhvdC5nZXRDZWxsTWV0YShlLGkpO3MuY29sPWkscy5yb3c9ZTt2YXIgbD10LmhvdC5nZXRDZWxsUmVuZGVyZXIocyksYT1uLmNyZWF0ZUVsZW1lbnQoInRkIik7bCh0LmhvdCxhLGUsaSx0LmhvdC5jb2xUb1Byb3AoaSksci52YWx1ZSxzKSxvLmFwcGVuZENoaWxkKGEpfSl9KSxvfSxjcmVhdGVDb2x1bW5IZWFkZXJzUm93OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWRvY3VtZW50LG49dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYodGhpcy5ob3QuaGFzUm93SGVhZGVycygpKXt2YXIgbz10LmNyZWF0ZUVsZW1lbnQoInRoIik7dGhpcy5ob3Qudmlldy5hcHBlbmRDb2xIZWFkZXIoLTEsbyksbi5hcHBlbmRDaGlsZChvKX1yZXR1cm4gdGhpcy5zYW1wbGVzLmZvckVhY2goZnVuY3Rpb24obyl7cChvLnN0cmluZ3MsZnVuY3Rpb24obyl7dmFyIHI9by5jb2wsaT10LmNyZWF0ZUVsZW1lbnQoInRoIik7ZS5ob3Qudmlldy5hcHBlbmRDb2xIZWFkZXIocixpKSxuLmFwcGVuZENoaWxkKGkpfSl9KSxufSxjcmVhdGVDb2w6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWRvY3VtZW50LG89bi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIHRoaXMuc2FtcGxlcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3Aoci5zdHJpbmdzLGZ1bmN0aW9uKHIpe3ZhciBpPXIucm93LHM9dC5ob3QuZ2V0Q2VsbE1ldGEoaSxlKTtzLmNvbD1lLHMucm93PWk7dmFyIGw9dC5ob3QuZ2V0Q2VsbFJlbmRlcmVyKHMpLGE9bi5jcmVhdGVFbGVtZW50KCJ0ZCIpLHU9bi5jcmVhdGVFbGVtZW50KCJ0ciIpO2wodC5ob3QsYSxpLGUsdC5ob3QuY29sVG9Qcm9wKGUpLHIudmFsdWUscyksdS5hcHBlbmRDaGlsZChhKSxvLmFwcGVuZENoaWxkKHUpfSl9KSxvfSxjbGVhbjpmdW5jdGlvbigpe3RoaXMucm93cy5sZW5ndGg9MCx0aGlzLnJvd3NbLTFdPXZvaWQgMCx0aGlzLmNvbHVtbnMubGVuZ3RoPTAsdGhpcy5zYW1wbGVzJiZ0aGlzLnNhbXBsZXMuY2xlYXIoKSx0aGlzLnNhbXBsZXM9bnVsbCx0aGlzLnJlbW92ZVRhYmxlKCl9LGluamVjdFRhYmxlOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpudWxsO3RoaXMuaW5qZWN0ZWR8fCgoZXx8dGhpcy5ob3Qucm9vdEVsZW1lbnQpLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyLmZyYWdtZW50KSx0aGlzLmluamVjdGVkPSEwKX0scmVtb3ZlVGFibGU6ZnVuY3Rpb24oKXt0aGlzLmluamVjdGVkJiZ0aGlzLmNvbnRhaW5lci5jb250YWluZXIucGFyZW50Tm9kZSYmKHRoaXMuY29udGFpbmVyLmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyLmNvbnRhaW5lciksdGhpcy5jb250YWluZXI9bnVsbCx0aGlzLmluamVjdGVkPSExKX0sY3JlYXRlQ29sRWxlbWVudDpmdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudCxuPXQuY3JlYXRlRWxlbWVudCgiY29sIik7cmV0dXJuIG4uc3R5bGUud2lkdGg9dGhpcy5ob3Qudmlldy53dC53dFRhYmxlLmdldFN0cmV0Y2hlZENvbHVtbldpZHRoKGUpKyJweCIsbn0sY3JlYXRlVGFibGU6ZnVuY3Rpb24oKXt2YXIgZT12b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiIiLHQ9ZG9jdW1lbnQsbj10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxvPXQuY3JlYXRlRWxlbWVudCgidGFibGUiKSxyPXQuY3JlYXRlRWxlbWVudCgidGhlYWQiKSxpPXQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSxzPXQuY3JlYXRlRWxlbWVudCgiY29sZ3JvdXAiKSxsPXQuY3JlYXRlRWxlbWVudCgidHIiKSxhPXQuY3JlYXRlRWxlbWVudCgidGgiKTtyZXR1cm4gdGhpcy5pc1ZlcnRpY2FsKCkmJm8uYXBwZW5kQ2hpbGQocyksdGhpcy5pc0hvcml6b250YWwoKSYmKGwuYXBwZW5kQ2hpbGQoYSksci5hcHBlbmRDaGlsZChsKSxvLnN0eWxlLnRhYmxlTGF5b3V0PSJhdXRvIixvLnN0eWxlLndpZHRoPSJhdXRvIiksby5hcHBlbmRDaGlsZChyKSx0aGlzLmlzVmVydGljYWwoKSYmaS5hcHBlbmRDaGlsZChsKSxvLmFwcGVuZENoaWxkKGkpLGgobyxlKSxuLmFwcGVuZENoaWxkKG8pLHtmcmFnbWVudDpuLHRhYmxlOm8sdEhlYWQ6cix0Qm9keTppLGNvbEdyb3VwOnMsdHI6bCx0aDphfX0sY3JlYXRlQ29udGFpbmVyOmZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToiIix0PWRvY3VtZW50LG49dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbz10LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiBlPSJodEdob3N0VGFibGUgaHRBdXRvU2l6ZSAiK2UudHJpbSgpLGgobyxlKSxuLmFwcGVuZENoaWxkKG8pLHtmcmFnbWVudDpuLGNvbnRhaW5lcjpvfX0saXNWZXJ0aWNhbDpmdW5jdGlvbigpe3JldHVybiEoIXRoaXMucm93cy5sZW5ndGh8fHRoaXMuY29sdW1ucy5sZW5ndGgpfSxpc0hvcml6b250YWw6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLmNvbHVtbnMubGVuZ3RofHx0aGlzLnJvd3MubGVuZ3RoKX19LHt9KSx1LnV0aWxzLkdob3N0VGFibGU9Z30se2Jyb3dzZXI6MjMsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9taXhlZCI6NTAsImhlbHBlcnMvbnVtYmVyIjo1MSwiaGVscGVycy9vYmplY3QiOjUyfV0sMTAzOltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYvZnBzJC8udGVzdChlKSYmKGU9MWUzL3BhcnNlSW50KGUucmVwbGFjZSgiZnBzIiwiIil8fDAsMTApKSxlfU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG4se0ludGVydmFsOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcH19LF9fZXNNb2R1bGU6e3ZhbHVlOiEwfX0pO3ZhciByLGkscyxsLGEsdSxjPShyPWUoImJyb3dzZXIiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0saD0oaT1lKCJoZWxwZXJzL2ZlYXR1cmUiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLGQ9aC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsZj1oLmNhbmNlbEFuaW1hdGlvbkZyYW1lLHA9KChzPWUoImhlbHBlcnMvYXJyYXkiKSxzJiZzLl9fZXNNb2R1bGUmJnN8fHsiZGVmYXVsdCI6c30pLmFycmF5RWFjaCwobD1lKCJoZWxwZXJzL29iamVjdCIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSkub2JqZWN0RWFjaCwoYT1lKCJoZWxwZXJzL251bWJlciIpLGEmJmEuX19lc01vZHVsZSYmYXx8eyJkZWZhdWx0IjphfSkucmFuZ2VFYWNoLCh1PWUoImhlbHBlcnMvbWl4ZWQiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLnN0cmluZ2lmeSxmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dGhpcy50aW1lcj1udWxsLHRoaXMuZnVuYz1lLHRoaXMuZGVsYXk9byh0KSx0aGlzLnN0b3BwZWQ9ITAsdGhpcy5fdGhlbj1udWxsLHRoaXMuX2NhbGxiYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIG4uX19jYWxsYmFjaygpfX0pLGc9cDskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MocCx7c3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdG9wcGVkJiYodGhpcy5fdGhlbj1EYXRlLm5vdygpLHRoaXMuc3RvcHBlZD0hMSx0aGlzLnRpbWVyPWQodGhpcy5fY2FsbGJhY2spKSx0aGlzfSxzdG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RvcHBlZHx8KHRoaXMuc3RvcHBlZD0hMCxmKHRoaXMudGltZXIpLHRoaXMudGltZXI9bnVsbCksdGhpc30sX19jYWxsYmFjazpmdW5jdGlvbigpe2lmKHRoaXMudGltZXI9ZCh0aGlzLl9jYWxsYmFjayksdGhpcy5kZWxheSl7dmFyIGU9RGF0ZS5ub3coKSx0PWUtdGhpcy5fdGhlbjt0PnRoaXMuZGVsYXkmJih0aGlzLl90aGVuPWUtdCV0aGlzLmRlbGF5LHRoaXMuZnVuYygpKX1lbHNlIHRoaXMuZnVuYygpfX0se2NyZWF0ZTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgZyhlLHQpfX0pLGMudXRpbHMuSW50ZXJ2YWw9cH0se2Jyb3dzZXI6MjMsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2ZlYXR1cmUiOjQ4LCJoZWxwZXJzL21peGVkIjo1MCwiaGVscGVycy9udW1iZXIiOjUxLCJoZWxwZXJzL29iamVjdCI6NTJ9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIG87T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobix7U2FtcGxlc0dlbmVyYXRvcjp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG19fSxfX2VzTW9kdWxlOnt2YWx1ZTohMH19KTt2YXIgcixpLHMsbCxhLHUsYz0ocj1lKCJicm93c2VyIiksciYmci5fX2VzTW9kdWxlJiZyfHx7ImRlZmF1bHQiOnJ9KVsiZGVmYXVsdCJdLGg9KGk9ZSgiaGVscGVycy9kb20vZWxlbWVudCIpLGkmJmkuX19lc01vZHVsZSYmaXx8eyJkZWZhdWx0IjppfSksZD0oaC5hZGRDbGFzcyxoLm91dGVySGVpZ2h0LGgub3V0ZXJXaWR0aCwocz1lKCJoZWxwZXJzL2FycmF5IikscyYmcy5fX2VzTW9kdWxlJiZzfHx7ImRlZmF1bHQiOnN9KS5hcnJheUVhY2gsbD1lKCJoZWxwZXJzL29iamVjdCIpLGwmJmwuX19lc01vZHVsZSYmbHx8eyJkZWZhdWx0IjpsfSksZj0oZC5vYmplY3RFYWNoLGQuaXNPYmplY3QpLHA9KGE9ZSgiaGVscGVycy9udW1iZXIiKSxhJiZhLl9fZXNNb2R1bGUmJmF8fHsiZGVmYXVsdCI6YX0pLnJhbmdlRWFjaCxnPSh1PWUoImhlbHBlcnMvbWl4ZWQiKSx1JiZ1Ll9fZXNNb2R1bGUmJnV8fHsiZGVmYXVsdCI6dX0pLnN0cmluZ2lmeSxtPWZ1bmN0aW9uKGUpe3RoaXMuc2FtcGxlcz1udWxsLHRoaXMuZGF0YUZhY3Rvcnk9ZSx0aGlzLmN1c3RvbVNhbXBsZUNvdW50PW51bGx9LHc9bTskdHJhY2V1clJ1bnRpbWUuY3JlYXRlQ2xhc3MobSwobz17fSxPYmplY3QuZGVmaW5lUHJvcGVydHkobywiZ2V0U2FtcGxlQ291bnQiLHt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1c3RvbVNhbXBsZUNvdW50P3RoaXMuY3VzdG9tU2FtcGxlQ291bnQ6dy5TQU1QTEVfQ09VTlR9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sImdlbmVyYXRlUm93U2FtcGxlcyIse3ZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVTYW1wbGVzKCJyb3ciLHQsZSl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sImdlbmVyYXRlQ29sdW1uU2FtcGxlcyIse3ZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVTYW1wbGVzKCJjb2wiLHQsZSl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sImdlbmVyYXRlU2FtcGxlcyIse3ZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz10aGlzLHI9bmV3IE1hcDtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIG4mJihuPXtmcm9tOm4sdG86bn0pLHAobi5mcm9tLG4udG8sZnVuY3Rpb24obil7dmFyIGk9by5nZW5lcmF0ZVNhbXBsZShlLHQsbik7ci5zZXQobixpKX0pLHJ9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sImdlbmVyYXRlU2FtcGxlIix7dmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBvLHI9dGhpcyxpPW5ldyBNYXAscz1bXTtyZXR1cm4gcCh0LmZyb20sdC50byxmdW5jdGlvbih0KXt2YXIgbCxhO2lmKCJyb3ciPT09ZSlhPXIuZGF0YUZhY3Rvcnkobix0KTtlbHNle2lmKCJjb2wiIT09ZSl0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIHNhbXBsZSB0eXBlIik7YT1yLmRhdGFGYWN0b3J5KHQsbil9bz1mKGEpP09iamVjdC5rZXlzKGEpLmxlbmd0aDpBcnJheS5pc0FycmF5KGEpP2EubGVuZ3RoOmcoYSkubGVuZ3RoLGkuaGFzKG8pfHxpLnNldChvLHtuZWVkZWQ6ci5nZXRTYW1wbGVDb3VudCgpLHN0cmluZ3M6W119KTt2YXIgdT1pLmdldChvKTtpZih1Lm5lZWRlZCl7dmFyIGM9cy5pbmRleE9mKGEpPi0xO2lmKCFjKXt2YXIgaD0icm93Ij09PWU/ImNvbCI6InJvdyI7dS5zdHJpbmdzLnB1c2goKGw9e30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGwsInZhbHVlIix7dmFsdWU6YSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLGgse3ZhbHVlOnQsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsd3JpdGFibGU6ITB9KSxsKSkscy5wdXNoKGEpLHUubmVlZGVkLS19fX0pLGl9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHdyaXRhYmxlOiEwfSksbykse2dldCBTQU1QTEVfQ09VTlQoKXtyZXR1cm4gM319KSxjLnV0aWxzLlNhbXBsZXNHZW5lcmF0b3I9bX0se2Jyb3dzZXI6MjMsImhlbHBlcnMvYXJyYXkiOjQyLCJoZWxwZXJzL2RvbS9lbGVtZW50Ijo0NiwiaGVscGVycy9taXhlZCI6NTAsImhlbHBlcnMvbnVtYmVyIjo1MSwiaGVscGVycy9vYmplY3QiOjUyfV0sMTA1OltmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8oZSx0KXt2YXIgbj1lLG89InN0cmluZyI9PXR5cGVvZiBuP24udG9Mb3dlckNhc2UoKTpudWxsO3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHI9ITEsaT0wLHM9ZS5sZW5ndGg7cz5pO2krKyl7aWYobj09PWVbaV0pe3I9ITA7YnJlYWt9aWYobz09PWwoZVtpXSkudG9Mb3dlckNhc2UoKSl7cj0hMDticmVha319dChyKX19dmFyIHIsaSxzPShyPWUoImJyb3dzZXIiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0sbD0oaT1lKCJoZWxwZXJzL21peGVkIiksaSYmaS5fX2VzTW9kdWxlJiZpfHx7ImRlZmF1bHQiOml9KS5zdHJpbmdpZnk7cy5BdXRvY29tcGxldGVWYWxpZGF0b3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZSYmKGU9IiIpLHRoaXMuYWxsb3dFbXB0eSYmIiI9PT1lP3ZvaWQgdCghMCk6dm9pZCh0aGlzLnN0cmljdCYmdGhpcy5zb3VyY2U/ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuc291cmNlP3RoaXMuc291cmNlKGUsbyhlLHQpKTpvKGUsdCkodGhpcy5zb3VyY2UpOnQoITApKX19LHticm93c2VyOjIzLCJoZWxwZXJzL21peGVkIjo1MH1dLDEwNjpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxyLGkscyxsPShvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0sYT0ocj1lKCJtb21lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0sdT0oaT1lKCIuLi9oZWxwZXJzL2RhdGUiKSxpJiZpLl9fZXNNb2R1bGUmJml8fHsiZGVmYXVsdCI6aX0pLmdldE5vcm1hbGl6ZWREYXRlLGM9KHM9ZSgiZWRpdG9ycyIpLHMmJnMuX19lc01vZHVsZSYmc3x8eyJkZWZhdWx0IjpzfSkuZ2V0RWRpdG9yO2wuRGF0ZVZhbGlkYXRvcj1mdW5jdGlvbihlLHQpe3ZhciBuPSEwLG89YygiZGF0ZSIsdGhpcy5pbnN0YW5jZSk7bnVsbD09ZSYmKGU9IiIpO3ZhciByPWEobmV3IERhdGUoZSkpLmlzVmFsaWQoKSxpPWEoZSx0aGlzLmRhdGVGb3JtYXR8fG8uZGVmYXVsdERhdGVGb3JtYXQsITApLmlzVmFsaWQoKTtpZih0aGlzLmFsbG93RW1wdHkmJiIiPT09ZSYmKHI9ITAsaT0hMCkscnx8KG49ITEpLCFyJiZpJiYobj0hMCksciYmIWkpaWYodGhpcy5jb3JyZWN0Rm9ybWF0PT09ITApe3ZhciBzPWgoZSx0aGlzLmRhdGVGb3JtYXQpO3RoaXMuaW5zdGFuY2Uuc2V0RGF0YUF0Q2VsbCh0aGlzLnJvdyx0aGlzLmNvbCxzLCJkYXRlVmFsaWRhdG9yIiksbj0hMH1lbHNlIG49ITE7dChuKX07dmFyIGg9ZnVuY3Rpb24oZSx0KXt2YXIgbj1hKHUoZSkpLG89bi5mb3JtYXQoIllZWVkiKSxyPWEoKS5mb3JtYXQoIllZWVkiKTtyZXR1cm4gby5zdWJzdHIoMCwyKSE9PXIuc3Vic3RyKDAsMik/ZS5tYXRjaChuZXcgUmVnRXhwKG8pKXx8bi55ZWFyKG8ucmVwbGFjZShvLnN1YnN0cigwLDIpLHIuc3Vic3RyKDAsMikpKTpvLmxlbmd0aD40JiZuLnllYXIoKG4ueWVhcigpKyIiKS5zdWJzdHIoMCw0KSksbi5mb3JtYXQodCl9fSx7Ii4uL2hlbHBlcnMvZGF0ZSI6NDUsYnJvd3NlcjoyMyxlZGl0b3JzOjI5LG1vbWVudDoibW9tZW50In1dLDEwNzpbZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgbyxyPShvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il07ci5OdW1lcmljVmFsaWRhdG9yPWZ1bmN0aW9uKGUsdCl7bnVsbD09ZSYmKGU9IiIpLHQodGhpcy5hbGxvd0VtcHR5JiYiIj09PWU/ITA6IiI9PT1lPyExOi9eLT9cZCooXC58XCwpP1xkKiQvLnRlc3QoZSkpfX0se2Jyb3dzZXI6MjN9XSwxMDg6W2Z1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIG8scixpPShvPWUoImJyb3dzZXIiKSxvJiZvLl9fZXNNb2R1bGUmJm98fHsiZGVmYXVsdCI6b30pWyJkZWZhdWx0Il0scz0ocj1lKCJtb21lbnQiKSxyJiZyLl9fZXNNb2R1bGUmJnJ8fHsiZGVmYXVsdCI6cn0pWyJkZWZhdWx0Il0sbD1bIllZWVktTU0tRERUSEg6bW06c3MuU1NTWiIsIlgiLCJ4Il07aS5UaW1lVmFsaWRhdG9yPWZ1bmN0aW9uKGUsdCl7dmFyIG49ITAsbz10aGlzLnRpbWVGb3JtYXR8fCJoOm1tOnNzIGEiO251bGw9PT1lJiYoZT0iIiksZT0vXlxkezMsfSQvLnRlc3QoZSk/cGFyc2VJbnQoZSwxMCk6ZTt2YXIgcj0vXlxkezEsMn0kLy50ZXN0KGUpO3ImJihlKz0iOjAwIik7dmFyIGk9cyhlLGwsITApLmlzVmFsaWQoKT9zKGUpOnMoZSxvKSxhPWkuaXNWYWxpZCgpLHU9cyhlLG8sITApLmlzVmFsaWQoKSYmIXI7aWYodGhpcy5hbGxvd0VtcHR5JiYiIj09PWUmJihhPSEwLHU9ITApLGF8fChuPSExKSwhYSYmdSYmKG49ITApLGEmJiF1KWlmKHRoaXMuY29ycmVjdEZvcm1hdD09PSEwKXt2YXIgYz1pLmZvcm1hdChvKTt0aGlzLmluc3RhbmNlLnNldERhdGFBdENlbGwodGhpcy5yb3csdGhpcy5jb2wsYywidGltZVZhbGlkYXRvciIpLG49ITB9ZWxzZSBuPSExO3Qobil9fSx7YnJvd3NlcjoyMyxtb21lbnQ6Im1vbWVudCJ9XSxTaGVldENsaXA6W2Z1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGUuc3BsaXQoJyInKS5sZW5ndGgtMX12YXIgbz17cGFyc2U6ZnVuY3Rpb24oZSl7dmFyIG4sbyxyLGkscyxsLGEsdT1bXSxjPTA7Zm9yKHI9ZS5zcGxpdCgiXG4iKSxyLmxlbmd0aD4xJiYiIj09PXJbci5sZW5ndGgtMV0mJnIucG9wKCksbj0wLG89ci5sZW5ndGg7bz5uO24rPTEpe2ZvcihyW25dPXJbbl0uc3BsaXQoIgkiKSxpPTAscz1yW25dLmxlbmd0aDtzPmk7aSs9MSl1W2NdfHwodVtjXT1bXSksbCYmMD09PWk/KGE9dVtjXS5sZW5ndGgtMSx1W2NdW2FdPXVbY11bYV0rIlxuIityW25dWzBdLGwmJjEmdChyW25dWzBdKSYmKGw9ITEsdVtjXVthXT11W2NdW2FdLnN1YnN0cmluZygwLHVbY11bYV0ubGVuZ3RoLTEpLnJlcGxhY2UoLyIiL2csJyInKSkpOmk9PT1zLTEmJjA9PT1yW25dW2ldLmluZGV4T2YoJyInKSYmMSZ0KHJbbl1baV0pPyh1W2NdLnB1c2gocltuXVtpXS5zdWJzdHJpbmcoMSkucmVwbGFjZSgvIiIvZywnIicpKSxsPSEwKToodVtjXS5wdXNoKHJbbl1baV0ucmVwbGFjZSgvIiIvZywnIicpKSxsPSExKTtsfHwoYys9MSl9cmV0dXJuIHV9LHN0cmluZ2lmeTpmdW5jdGlvbihlKXt2YXIgdCxuLG8scixpLHM9IiI7Zm9yKHQ9MCxuPWUubGVuZ3RoO24+dDt0Kz0xKXtmb3Iocj1lW3RdLmxlbmd0aCxvPTA7cj5vO28rPTEpbz4wJiYocys9IgkiKSxpPWVbdF1bb10scys9InN0cmluZyI9PXR5cGVvZiBpP2kuaW5kZXhPZigiXG4iKT4tMT8nIicraS5yZXBsYWNlKC8iL2csJyIiJykrJyInOmk6bnVsbD09PWl8fHZvaWQgMD09PWk/IiI6aTtzKz0iXG4ifXJldHVybiBzfX07InVuZGVmaW5lZCIhPXR5cGVvZiBuPyhuLnBhcnNlPW8ucGFyc2Usbi5zdHJpbmdpZnk9by5zdHJpbmdpZnkpOmUuU2hlZXRDbGlwPW99KHdpbmRvdyl9LHt9XSxhdXRvUmVzaXplOltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gbygpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGUuY3VycmVudFN0eWxlfHxkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUpfXZhciB0LG49e21pbkhlaWdodDoyMDAsbWF4SGVpZ2h0OjMwMCxtaW5XaWR0aDoxMDAsbWF4V2lkdGg6MzAwfSxvPWRvY3VtZW50LmJvZHkscj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIiksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJTUEFOIikscz1mdW5jdGlvbihlLHQsbil7d2luZG93LmF0dGFjaEV2ZW50P2UuYXR0YWNoRXZlbnQoIm9uIit0LG4pOmUuYWRkRXZlbnRMaXN0ZW5lcih0LG4sITEpfSxsPWZ1bmN0aW9uKGUsdCxuKXt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLCExKTplLmRldGFjaEV2ZW50KCJvbiIrdCxuKX0sYT1mdW5jdGlvbihzKXt2YXIgbCxhO3M/L15bYS16QS1aIFwuLFxcXC9cfDAtOV0kLy50ZXN0KHMpfHwocz0iLiIpOnM9IiIsdm9pZCAwIT09ci50ZXh0Q29udGVudD9yLnRleHRDb250ZW50PXQudmFsdWUrczpyLmRhdGE9dC52YWx1ZStzLGkuc3R5bGUuZm9udFNpemU9ZSh0KS5mb250U2l6ZSxpLnN0eWxlLmZvbnRGYW1pbHk9ZSh0KS5mb250RmFtaWx5LGkuc3R5bGUud2hpdGVTcGFjZT0icHJlIixvLmFwcGVuZENoaWxkKGkpLGw9aS5jbGllbnRXaWR0aCsyLG8ucmVtb3ZlQ2hpbGQoaSksdC5zdHlsZS5oZWlnaHQ9bi5taW5IZWlnaHQrInB4IixuLm1pbldpZHRoPmw/dC5zdHlsZS53aWR0aD1uLm1pbldpZHRoKyJweCI6bD5uLm1heFdpZHRoP3Quc3R5bGUud2lkdGg9bi5tYXhXaWR0aCsicHgiOnQuc3R5bGUud2lkdGg9bCsicHgiLGE9dC5zY3JvbGxIZWlnaHQ/dC5zY3JvbGxIZWlnaHQtMTowLG4ubWluSGVpZ2h0PmE/dC5zdHlsZS5oZWlnaHQ9bi5taW5IZWlnaHQrInB4IjpuLm1heEhlaWdodDxhPyh0LnN0eWxlLmhlaWdodD1uLm1heEhlaWdodCsicHgiLHQuc3R5bGUub3ZlcmZsb3dZPSJ2aXNpYmxlIik6dC5zdHlsZS5oZWlnaHQ9YSsicHgifSx1PWZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQoYSwwKX0sYz1mdW5jdGlvbihlKXtpZihlJiZlLm1pbkhlaWdodClpZigiaW5oZXJpdCI9PWUubWluSGVpZ2h0KW4ubWluSGVpZ2h0PXQuY2xpZW50SGVpZ2h0O2Vsc2V7dmFyIG89cGFyc2VJbnQoZS5taW5IZWlnaHQpO2lzTmFOKG8pfHwobi5taW5IZWlnaHQ9byl9aWYoZSYmZS5tYXhIZWlnaHQpaWYoImluaGVyaXQiPT1lLm1heEhlaWdodCluLm1heEhlaWdodD10LmNsaWVudEhlaWdodDtlbHNle3ZhciBzPXBhcnNlSW50KGUubWF4SGVpZ2h0KTtpc05hTihzKXx8KG4ubWF4SGVpZ2h0PXMpfWlmKGUmJmUubWluV2lkdGgpaWYoImluaGVyaXQiPT1lLm1pbldpZHRoKW4ubWluV2lkdGg9dC5jbGllbnRXaWR0aDtlbHNle3ZhciBsPXBhcnNlSW50KGUubWluV2lkdGgpO2lzTmFOKGwpfHwobi5taW5XaWR0aD1sKX1pZihlJiZlLm1heFdpZHRoKWlmKCJpbmhlcml0Ij09ZS5tYXhXaWR0aCluLm1heFdpZHRoPXQuY2xpZW50V2lkdGg7ZWxzZXt2YXIgYT1wYXJzZUludChlLm1heFdpZHRoKTtpc05hTihhKXx8KG4ubWF4V2lkdGg9YSl9aS5maXJzdENoaWxkfHwoaS5jbGFzc05hbWU9ImF1dG9SZXNpemUiLGkuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIixpLmFwcGVuZENoaWxkKHIpKX0saD1mdW5jdGlvbihlLG8scil7dD1lLGMobyksIlRFWFRBUkVBIj09dC5ub2RlTmFtZSYmKHQuc3R5bGUucmVzaXplPSJub25lIix0LnN0eWxlLm92ZXJmbG93WT0iIix0LnN0eWxlLmhlaWdodD1uLm1pbkhlaWdodCsicHgiLHQuc3R5bGUubWluV2lkdGg9bi5taW5XaWR0aCsicHgiLHQuc3R5bGUubWF4V2lkdGg9bi5tYXhXaWR0aCsicHgiLHQuc3R5bGUub3ZlcmZsb3dZPSJoaWRkZW4iKSxyJiYocyh0LCJjaGFuZ2UiLGEpLHModCwiY3V0Iix1KSxzKHQsInBhc3RlIix1KSxzKHQsImRyb3AiLHUpLHModCwia2V5ZG93biIsdSkscyh0LCJmb2N1cyIsYSkpLGEoKX07cmV0dXJue2luaXQ6ZnVuY3Rpb24oZSx0LG4pe2goZSx0LG4pfSx1bk9ic2VydmU6ZnVuY3Rpb24oKXtsKHQsImNoYW5nZSIsYSksbCh0LCJjdXQiLHUpLGwodCwicGFzdGUiLHUpLGwodCwiZHJvcCIsdSksbCh0LCJrZXlkb3duIix1KSxsKHQsImZvY3VzIixhKX0scmVzaXplOmF9fSJ1bmRlZmluZWQiIT10eXBlb2YgbiYmKHQuZXhwb3J0cz1vKX0se31dLGNvcHlQYXN0ZTpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIG8oKXtyZXR1cm4gaT9pLmhhc0JlZW5EZXN0cm95ZWQoKSYmaS5pbml0KCk6aT1uZXcgcixpLnJlZkNvdW50ZXIrKyxpfWZ1bmN0aW9uIHIoKXt0aGlzLnJlZkNvdW50ZXI9MCx0aGlzLmluaXQoKTsKfXZhciBpOyJ1bmRlZmluZWQiIT10eXBlb2YgbiYmKHQuZXhwb3J0cz1vKSxyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGUsdDt0aGlzLmNvcHlDYWxsYmFja3M9W10sdGhpcy5jdXRDYWxsYmFja3M9W10sdGhpcy5wYXN0ZUNhbGxiYWNrcz1bXSx0PWRvY3VtZW50LmJvZHksZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIkNvcHlQYXN0ZURpdiIpPyh0aGlzLmVsRGl2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJDb3B5UGFzdGVEaXYiKSx0aGlzLmVsVGV4dGFyZWE9dGhpcy5lbERpdi5maXJzdENoaWxkKToodGhpcy5lbERpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLmVsRGl2LmlkPSJDb3B5UGFzdGVEaXYiLGU9dGhpcy5lbERpdi5zdHlsZSxlLnBvc2l0aW9uPSJmaXhlZCIsZS50b3A9Ii0xMDAwMHB4IixlLmxlZnQ9Ii0xMDAwMHB4Iix0LmFwcGVuZENoaWxkKHRoaXMuZWxEaXYpLHRoaXMuZWxUZXh0YXJlYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpLHRoaXMuZWxUZXh0YXJlYS5jbGFzc05hbWU9ImNvcHlQYXN0ZSIsdGhpcy5lbFRleHRhcmVhLm9ucGFzdGU9ZnVuY3Rpb24oZSl7dmFyIHQsbjsiV2Via2l0QXBwZWFyYW5jZSJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUmJih0PWUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCJUZXh0IiksLTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlNhZmFyaSIpJiYtMT09PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQ2hyb21lIikmJihuPXQuc3BsaXQoIlxuIiksIiI9PT1uW24ubGVuZ3RoLTFdJiZuLnBvcCgpLHQ9bi5qb2luKCJcbiIpKSx0aGlzLnZhbHVlPXQsZS5wcmV2ZW50RGVmYXVsdCgpKX0sZT10aGlzLmVsVGV4dGFyZWEuc3R5bGUsZS53aWR0aD0iMTAwMDBweCIsZS5oZWlnaHQ9IjEwMDAwcHgiLGUub3ZlcmZsb3c9ImhpZGRlbiIsdGhpcy5lbERpdi5hcHBlbmRDaGlsZCh0aGlzLmVsVGV4dGFyZWEpLCJ1bmRlZmluZWQiIT10eXBlb2YgZS5vcGFjaXR5JiYoZS5vcGFjaXR5PTApKSx0aGlzLm9uS2V5RG93blJlZj10aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLm9uS2V5RG93blJlZiwhMSl9LHIucHJvdG90eXBlLm9uS2V5RG93bj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGU9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtyZXR1cm4gZS5zaGFkb3dSb290JiZlLnNoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudCYmKGU9ZS5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQpLFsiSU5QVVQiLCJTRUxFQ1QiLCJURVhUQVJFQSJdLmluZGV4T2YoZS5ub2RlTmFtZSk+LTF8fCJ0cnVlIj09PWUuY29udGVudEVkaXRhYmxlfXZhciBuPXRoaXMsbz0hMTtpZihlLm1ldGFLZXk/bz0hMDplLmN0cmxLZXkmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNYWMiKSYmKG89ITApLG8pe2lmKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT10aGlzLmVsVGV4dGFyZWEmJigiIiE9PXRoaXMuZ2V0U2VsZWN0aW9uVGV4dCgpfHx0KCkpKXJldHVybjt0aGlzLnNlbGVjdE5vZGVUZXh0KHRoaXMuZWxUZXh0YXJlYSksc2V0VGltZW91dChmdW5jdGlvbigpe2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT1uLmVsVGV4dGFyZWEmJm4uc2VsZWN0Tm9kZVRleHQobi5lbFRleHRhcmVhKX0sMCl9ZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uRW5hYmxlZD09PSExfHwhb3x8NjchPT1lLmtleUNvZGUmJjg2IT09ZS5rZXlDb2RlJiY4OCE9PWUua2V5Q29kZXx8KDg4PT09ZS5rZXlDb2RlP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnRyaWdnZXJDdXQoZSl9LDApOjg2PT09ZS5rZXlDb2RlJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi50cmlnZ2VyUGFzdGUoZSl9LDApKX0sci5wcm90b3R5cGUuc2VsZWN0Tm9kZVRleHQ9ZnVuY3Rpb24oZSl7ZSYmZS5zZWxlY3QoKX0sci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uVGV4dD1mdW5jdGlvbigpe3ZhciBlPSIiO3JldHVybiB3aW5kb3cuZ2V0U2VsZWN0aW9uP2U9d2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk6ZG9jdW1lbnQuc2VsZWN0aW9uJiYiQ29udHJvbCIhPT1kb2N1bWVudC5zZWxlY3Rpb24udHlwZSYmKGU9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkudGV4dCksZX0sci5wcm90b3R5cGUuY29weWFibGU9ZnVuY3Rpb24oZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlJiZ2b2lkIDA9PT1lLnRvU3RyaW5nKXRocm93IG5ldyBFcnJvcigiY29weWFibGUgcmVxdWlyZXMgc3RyaW5nIHBhcmFtZXRlciIpO3RoaXMuZWxUZXh0YXJlYS52YWx1ZT1lLHRoaXMuc2VsZWN0Tm9kZVRleHQodGhpcy5lbFRleHRhcmVhKX0sci5wcm90b3R5cGUub25DdXQ9ZnVuY3Rpb24oZSl7dGhpcy5jdXRDYWxsYmFja3MucHVzaChlKX0sci5wcm90b3R5cGUub25QYXN0ZT1mdW5jdGlvbihlKXt0aGlzLnBhc3RlQ2FsbGJhY2tzLnB1c2goZSl9LHIucHJvdG90eXBlLnJlbW92ZUNhbGxiYWNrPWZ1bmN0aW9uKGUpe3ZhciB0LG47Zm9yKHQ9MCxuPXRoaXMuY29weUNhbGxiYWNrcy5sZW5ndGg7bj50O3QrKylpZih0aGlzLmNvcHlDYWxsYmFja3NbdF09PT1lKXJldHVybiB0aGlzLmNvcHlDYWxsYmFja3Muc3BsaWNlKHQsMSksITA7Zm9yKHQ9MCxuPXRoaXMuY3V0Q2FsbGJhY2tzLmxlbmd0aDtuPnQ7dCsrKWlmKHRoaXMuY3V0Q2FsbGJhY2tzW3RdPT09ZSlyZXR1cm4gdGhpcy5jdXRDYWxsYmFja3Muc3BsaWNlKHQsMSksITA7Zm9yKHQ9MCxuPXRoaXMucGFzdGVDYWxsYmFja3MubGVuZ3RoO24+dDt0KyspaWYodGhpcy5wYXN0ZUNhbGxiYWNrc1t0XT09PWUpcmV0dXJuIHRoaXMucGFzdGVDYWxsYmFja3Muc3BsaWNlKHQsMSksITA7cmV0dXJuITF9LHIucHJvdG90eXBlLnRyaWdnZXJDdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0LmN1dENhbGxiYWNrcyYmc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgbj0wLG89dC5jdXRDYWxsYmFja3MubGVuZ3RoO28+bjtuKyspdC5jdXRDYWxsYmFja3Nbbl0oZSl9LDUwKX0sci5wcm90b3R5cGUudHJpZ2dlclBhc3RlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztuLnBhc3RlQ2FsbGJhY2tzJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBvPXR8fG4uZWxUZXh0YXJlYS52YWx1ZSxyPTAsaT1uLnBhc3RlQ2FsbGJhY2tzLmxlbmd0aDtpPnI7cisrKW4ucGFzdGVDYWxsYmFja3Nbcl0obyxlKX0sNTApfSxyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5oYXNCZWVuRGVzdHJveWVkKCl8fDAhPT0tLXRoaXMucmVmQ291bnRlcnx8KHRoaXMuZWxEaXYmJnRoaXMuZWxEaXYucGFyZW50Tm9kZSYmKHRoaXMuZWxEaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsRGl2KSx0aGlzLmVsRGl2PW51bGwsdGhpcy5lbFRleHRhcmVhPW51bGwpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLm9uS2V5RG93blJlZiksdGhpcy5vbktleURvd25SZWY9bnVsbCl9LHIucHJvdG90eXBlLmhhc0JlZW5EZXN0cm95ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5yZWZDb3VudGVyfX0se31dLGVzNmNvbGxlY3Rpb25zOltmdW5jdGlvbihlLHQsbil7LyohCiAqIENvcHlyaWdodCAoQykgMjAxMSBieSBBbmRyZWEgR2lhbW1hcmNoaSwgQFdlYlJlZmxlY3Rpb24KICoKICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQogKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAogKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CiAqCiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgogKgogKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgogKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTgogKiBUSEUgU09GVFdBUkUuCiAqLwohZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoZSx0KXtmdW5jdGlvbiBvKGUpe3JldHVybiB0aGlzJiZ0aGlzLmNvbnN0cnVjdG9yPT09bz8odGhpcy5fa2V5cz1bXSx0aGlzLl92YWx1ZXM9W10sdGhpcy5faXRwPVtdLHRoaXMub2JqZWN0T25seT10LHZvaWQoZSYmbi5jYWxsKHRoaXMsZSkpKTpuZXcgbyhlKX1yZXR1cm4gdHx8eShlLCJzaXplIix7Z2V0Om19KSxlLmNvbnN0cnVjdG9yPW8sby5wcm90b3R5cGU9ZSxvfWZ1bmN0aW9uIG4oZSl7dGhpcy5hZGQ/ZS5mb3JFYWNoKHRoaXMuYWRkLHRoaXMpOmUuZm9yRWFjaChmdW5jdGlvbihlKXt0aGlzLnNldChlWzBdLGVbMV0pfSx0aGlzKX1mdW5jdGlvbiBvKGUpe3JldHVybiB0aGlzLmhhcyhlKSYmKHRoaXMuX2tleXMuc3BsaWNlKHYsMSksdGhpcy5fdmFsdWVzLnNwbGljZSh2LDEpLHRoaXMuX2l0cC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3Y8ZVswXSYmZVswXS0tfSkpLHY+LTF9ZnVuY3Rpb24gcihlKXtyZXR1cm4gdGhpcy5oYXMoZSk/dGhpcy5fdmFsdWVzW3ZdOnZvaWQgMH1mdW5jdGlvbiBpKGUsdCl7aWYodGhpcy5vYmplY3RPbmx5JiZ0IT09T2JqZWN0KHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgdmFsdWUgdXNlZCBhcyB3ZWFrIGNvbGxlY3Rpb24ga2V5Iik7aWYodCE9dHx8MD09PXQpZm9yKHY9ZS5sZW5ndGg7di0tJiYhYihlW3ZdLHQpOyk7ZWxzZSB2PWUuaW5kZXhPZih0KTtyZXR1cm4gdj4tMX1mdW5jdGlvbiBzKGUpe3JldHVybiBpLmNhbGwodGhpcyx0aGlzLl92YWx1ZXMsZSl9ZnVuY3Rpb24gbChlKXtyZXR1cm4gaS5jYWxsKHRoaXMsdGhpcy5fa2V5cyxlKX1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuIHRoaXMuaGFzKGUpP3RoaXMuX3ZhbHVlc1t2XT10OnRoaXMuX3ZhbHVlc1t0aGlzLl9rZXlzLnB1c2goZSktMV09dCx0aGlzfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIHRoaXMuaGFzKGUpfHx0aGlzLl92YWx1ZXMucHVzaChlKSx0aGlzfWZ1bmN0aW9uIGMoKXt0aGlzLl92YWx1ZXMubGVuZ3RoPTB9ZnVuY3Rpb24gaCgpe3JldHVybiBnKHRoaXMuX2l0cCx0aGlzLl9rZXlzKX1mdW5jdGlvbiBkKCl7cmV0dXJuIGcodGhpcy5faXRwLHRoaXMuX3ZhbHVlcyl9ZnVuY3Rpb24gZigpe3JldHVybiBnKHRoaXMuX2l0cCx0aGlzLl9rZXlzLHRoaXMuX3ZhbHVlcyl9ZnVuY3Rpb24gcCgpe3JldHVybiBnKHRoaXMuX2l0cCx0aGlzLl92YWx1ZXMsdGhpcy5fdmFsdWVzKX1mdW5jdGlvbiBnKGUsdCxuKXt2YXIgbz1bMF0scj0hMTtyZXR1cm4gZS5wdXNoKG8pLHtuZXh0OmZ1bmN0aW9uKCl7dmFyIGkscz1vWzBdO3JldHVybiFyJiZzPHQubGVuZ3RoPyhpPW4/W3Rbc10sbltzXV06dFtzXSxvWzBdKyspOihyPSEwLGUuc3BsaWNlKGUuaW5kZXhPZihvKSwxKSkse2RvbmU6cix2YWx1ZTppfX19fWZ1bmN0aW9uIG0oKXtyZXR1cm4gdGhpcy5fdmFsdWVzLmxlbmd0aH1mdW5jdGlvbiB3KGUsdCl7Zm9yKHZhciBuPXRoaXMuZW50cmllcygpOzspe3ZhciBvPW4ubmV4dCgpO2lmKG8uZG9uZSlicmVhaztlLmNhbGwodCxvLnZhbHVlWzFdLG8udmFsdWVbMF0sdGhpcyl9fXZhciB2LHk9T2JqZWN0LmRlZmluZVByb3BlcnR5LGI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaXNOYU4oZSk/aXNOYU4odCk6ZT09PXR9OyJ1bmRlZmluZWQiPT10eXBlb2YgV2Vha01hcCYmKGUuV2Vha01hcD10KHsiZGVsZXRlIjpvLGNsZWFyOmMsZ2V0OnIsaGFzOmwsc2V0OmF9LCEwKSksInVuZGVmaW5lZCI9PXR5cGVvZiBNYXAmJihlLk1hcD10KHsiZGVsZXRlIjpvLGhhczpsLGdldDpyLHNldDphLGtleXM6aCx2YWx1ZXM6ZCxlbnRyaWVzOmYsZm9yRWFjaDp3LGNsZWFyOmN9KSksInVuZGVmaW5lZCI9PXR5cGVvZiBTZXQmJihlLlNldD10KHtoYXM6cyxhZGQ6dSwiZGVsZXRlIjpvLGNsZWFyOmMsa2V5czpkLHZhbHVlczpkLGVudHJpZXM6cCxmb3JFYWNoOnd9KSksInVuZGVmaW5lZCI9PXR5cGVvZiBXZWFrU2V0JiYoZS5XZWFrU2V0PXQoeyJkZWxldGUiOm8sYWRkOnUsY2xlYXI6YyxoYXM6c30sITApKX0oInVuZGVmaW5lZCIhPXR5cGVvZiBuJiYidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6d2luZG93KX0se31dLGpzb25wYXRjaDpbZnVuY3Rpb24oZSx0LG4pey8qIQogKiBodHRwczovL2dpdGh1Yi5jb20vU3RhcmNvdW50ZXItSmFjay9KU09OLVBhdGNoCiAqIGpzb24tcGF0Y2gtZHVwbGV4LmpzIHZlcnNpb246IDAuNS43CiAqIChjKSAyMDEzIEpvYWNoaW0gV2VzdGVyCiAqIE1JVCBsaWNlbnNlCiAqLwp2YXIgbyxyPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBvIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShvKSYmKGVbb109dFtvXSk7ZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KToobi5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IG4pfSxpPUVycm9yOyFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbil7c3dpdGNoKHR5cGVvZiBlKXtjYXNlInVuZGVmaW5lZCI6Y2FzZSJib29sZWFuIjpjYXNlInN0cmluZyI6Y2FzZSJudW1iZXIiOnJldHVybiBlPT09bjtjYXNlIm9iamVjdCI6aWYobnVsbD09PWUpcmV0dXJuIG51bGw9PT1uO2lmKFQoZSkpe2lmKCFUKG4pfHxlLmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbz0wLHI9ZS5sZW5ndGg7cj5vO28rKylpZighdChlW29dLG5bb10pKXJldHVybiExO3JldHVybiEwfXZhciBpPXkobikscz1pLmxlbmd0aDtpZih5KGUpLmxlbmd0aCE9PXMpcmV0dXJuITE7Zm9yKHZhciBvPTA7cz5vO28rKylpZighdChlW29dLG5bb10pKXJldHVybiExO3JldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIG4oZSl7cmV0dXJuLTE9PT1lLmluZGV4T2YoIi8iKSYmLTE9PT1lLmluZGV4T2YoIn4iKT9lOmUucmVwbGFjZSgvfi9nLCJ+MCIpLnJlcGxhY2UoL1wvL2csIn4xIil9ZnVuY3Rpb24gbyhlKXtmb3IodmFyIHQ9MCxuPVIubGVuZ3RoO24+dDt0KyspaWYoUlt0XS5vYmo9PT1lKXJldHVybiBSW3RdfWZ1bmN0aW9uIHMoZSx0KXtmb3IodmFyIG49MCxvPWUub2JzZXJ2ZXJzLmxlbmd0aDtvPm47bisrKWlmKGUub2JzZXJ2ZXJzW25dLmNhbGxiYWNrPT09dClyZXR1cm4gZS5vYnNlcnZlcnNbbl0ub2JzZXJ2ZXJ9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgbj0wLG89ZS5vYnNlcnZlcnMubGVuZ3RoO28+bjtuKyspaWYoZS5vYnNlcnZlcnNbbl0ub2JzZXJ2ZXI9PT10KXJldHVybiB2b2lkIGUub2JzZXJ2ZXJzLnNwbGljZShuLDEpfWZ1bmN0aW9uIGEoZSx0KXt0LnVub2JzZXJ2ZSgpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP0pTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpOmV9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuLHI9W10sYT1vKGUpO2lmKGE/bj1zKGEsdCk6KGE9bmV3IFMoZSksUi5wdXNoKGEpKSxuKXJldHVybiBuO2lmKG49e30sYS52YWx1ZT11KGUpLHQpe24uY2FsbGJhY2s9dCxuLm5leHQ9bnVsbDt2YXIgYz10aGlzLmludGVydmFsc3x8WzEwMCwxZTMsMWU0LDZlNF07aWYodm9pZCAwPT09Yy5wdXNoKXRocm93IG5ldyBpKCJqc29ucGF0Y2guaW50ZXJ2YWxzIG11c3QgYmUgYW4gYXJyYXkiKTt2YXIgZD0wLGY9ZnVuY3Rpb24oKXtoKG4pfSxwPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KG4ubmV4dCksbi5uZXh0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtmKCksZD0wLG4ubmV4dD1zZXRUaW1lb3V0KGcsY1tkKytdKX0sMCl9LGc9ZnVuY3Rpb24oKXtmKCksZD09Yy5sZW5ndGgmJihkPWMubGVuZ3RoLTEpLG4ubmV4dD1zZXRUaW1lb3V0KGcsY1tkKytdKX07InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcj8od2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIscCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHApLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIixwKSk6KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRhY2hFdmVudCgib25tb3VzZWRvd24iLHApLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hdHRhY2hFdmVudCgib25tb3VzZXVwIixwKSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXR0YWNoRXZlbnQoIm9ua2V5ZG93biIscCkpKSxuLm5leHQ9c2V0VGltZW91dChnLGNbZCsrXSl9cmV0dXJuIG4ucGF0Y2hlcz1yLG4ub2JqZWN0PWUsbi51bm9ic2VydmU9ZnVuY3Rpb24oKXtoKG4pLGNsZWFyVGltZW91dChuLm5leHQpLGwoYSxuKSwidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyPyh3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIixwKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIscCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLHApKTooZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRldGFjaEV2ZW50KCJvbm1vdXNlZG93biIscCksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRldGFjaEV2ZW50KCJvbm1vdXNldXAiLHApLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kZXRhY2hFdmVudCgib25rZXlkb3duIixwKSkpfSxhLm9ic2VydmVycy5wdXNoKG5ldyBFKHQsbikpLG59ZnVuY3Rpb24gaChlKXtmb3IodmFyIHQsbj0wLG89Ui5sZW5ndGg7bz5uO24rKylpZihSW25dLm9iaj09PWUub2JqZWN0KXt0PVJbbl07YnJlYWt9ZCh0LnZhbHVlLGUub2JqZWN0LGUucGF0Y2hlcywiIiksZS5wYXRjaGVzLmxlbmd0aCYmcCh0LnZhbHVlLGUucGF0Y2hlcyk7dmFyIHI9ZS5wYXRjaGVzO3JldHVybiByLmxlbmd0aD4wJiYoZS5wYXRjaGVzPVtdLGUuY2FsbGJhY2smJmUuY2FsbGJhY2socikpLHJ9ZnVuY3Rpb24gZChlLHQsbyxyKXtmb3IodmFyIGk9eSh0KSxzPXkoZSksbD0hMSxhPSExLGM9cy5sZW5ndGgtMTtjPj0wO2MtLSl7dmFyIGg9c1tjXSxmPWVbaF07aWYodC5oYXNPd25Qcm9wZXJ0eShoKSl7dmFyIHA9dFtoXTsib2JqZWN0Ij09dHlwZW9mIGYmJm51bGwhPWYmJiJvYmplY3QiPT10eXBlb2YgcCYmbnVsbCE9cD9kKGYscCxvLHIrIi8iK24oaCkpOmYhPXAmJihsPSEwLG8ucHVzaCh7b3A6InJlcGxhY2UiLHBhdGg6cisiLyIrbihoKSx2YWx1ZTp1KHApfSkpfWVsc2Ugby5wdXNoKHtvcDoicmVtb3ZlIixwYXRoOnIrIi8iK24oaCl9KSxhPSEwfWlmKGF8fGkubGVuZ3RoIT1zLmxlbmd0aClmb3IodmFyIGM9MDtjPGkubGVuZ3RoO2MrKyl7dmFyIGg9aVtjXTtlLmhhc093blByb3BlcnR5KGgpfHxvLnB1c2goe29wOiJhZGQiLHBhdGg6cisiLyIrbihoKSx2YWx1ZTp1KHRbaF0pfSl9fWZ1bmN0aW9uIGYoZSl7Zm9yKHZhciB0LG49MCxvPWUubGVuZ3RoO28+bjspe3Q9ZS5jaGFyQ29kZUF0KG4pO3tpZighKHQ+PTQ4JiY1Nz49dCkpcmV0dXJuITE7bisrfX1yZXR1cm4hMH1mdW5jdGlvbiBwKGUsdCxuKXtmb3IodmFyIG8scixpPSExLHM9MCxsPXQubGVuZ3RoO2w+czspe289dFtzXSxzKys7Zm9yKHZhciBhPW8ucGF0aHx8IiIsdT1hLnNwbGl0KCIvIiksYz1lLGg9MSxkPXUubGVuZ3RoLHA9dm9pZCAwOzspe2lmKHI9dVtoXSxuJiZ2b2lkIDA9PT1wJiYodm9pZCAwPT09Y1tyXT9wPXUuc2xpY2UoMCxoKS5qb2luKCIvIik6aD09ZC0xJiYocD1vLnBhdGgpLHZvaWQgMCE9PXAmJnRoaXMudmFsaWRhdG9yKG8scy0xLGUscCkpLGgrKyx2b2lkIDA9PT1yJiZoPj1kKXtpPV9bby5vcF0uY2FsbChvLGMscixlKTticmVha31pZihUKGMpKXtpZigiLSI9PT1yKXI9Yy5sZW5ndGg7ZWxzZXtpZihuJiYhZihyKSl0aHJvdyBuZXcgTSgiRXhwZWN0ZWQgYW4gdW5zaWduZWQgYmFzZS0xMCBpbnRlZ2VyIHZhbHVlLCBtYWtpbmcgdGhlIG5ldyByZWZlcmVuY2VkIHZhbHVlIHRoZSBhcnJheSBlbGVtZW50IHdpdGggdGhlIHplcm8tYmFzZWQgaW5kZXgiLCJPUEVSQVRJT05fUEFUSF9JTExFR0FMX0FSUkFZX0lOREVYIixzLTEsby5wYXRoLG8pO3I9cGFyc2VJbnQociwxMCl9aWYoaD49ZCl7aWYobiYmImFkZCI9PT1vLm9wJiZyPmMubGVuZ3RoKXRocm93IG5ldyBNKCJUaGUgc3BlY2lmaWVkIGluZGV4IE1VU1QgTk9UIGJlIGdyZWF0ZXIgdGhhbiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHRoZSBhcnJheSIsIk9QRVJBVElPTl9WQUxVRV9PVVRfT0ZfQk9VTkRTIixzLTEsby5wYXRoLG8pO2k9Q1tvLm9wXS5jYWxsKG8sYyxyLGUpO2JyZWFrfX1lbHNlIGlmKHImJi0xIT1yLmluZGV4T2YoIn4iKSYmKHI9ci5yZXBsYWNlKC9+MS9nLCIvIikucmVwbGFjZSgvfjAvZywifiIpKSxoPj1kKXtpPWJbby5vcF0uY2FsbChvLGMscixlKTticmVha31jPWNbcl19fXJldHVybiBpfWZ1bmN0aW9uIGcoZSx0KXt2YXIgbj1bXTtyZXR1cm4gZChlLHQsbiwiIiksbn1mdW5jdGlvbiBtKGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuITA7aWYoImFycmF5Ij09dHlwZW9mIGV8fCJvYmplY3QiPT10eXBlb2YgZSlmb3IodmFyIHQgaW4gZSlpZihtKGVbdF0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHcodCxuLG8scil7aWYoIm9iamVjdCIhPXR5cGVvZiB0fHxudWxsPT09dHx8VCh0KSl0aHJvdyBuZXcgTSgiT3BlcmF0aW9uIGlzIG5vdCBhbiBvYmplY3QiLCJPUEVSQVRJT05fTk9UX0FOX09CSkVDVCIsbix0LG8pO2lmKCFiW3Qub3BdKXRocm93IG5ldyBNKCJPcGVyYXRpb24gYG9wYCBwcm9wZXJ0eSBpcyBub3Qgb25lIG9mIG9wZXJhdGlvbnMgZGVmaW5lZCBpbiBSRkMtNjkwMiIsIk9QRVJBVElPTl9PUF9JTlZBTElEIixuLHQsbyk7aWYoInN0cmluZyIhPXR5cGVvZiB0LnBhdGgpdGhyb3cgbmV3IE0oIk9wZXJhdGlvbiBgcGF0aGAgcHJvcGVydHkgaXMgbm90IGEgc3RyaW5nIiwiT1BFUkFUSU9OX1BBVEhfSU5WQUxJRCIsbix0LG8pO2lmKCgibW92ZSI9PT10Lm9wfHwiY29weSI9PT10Lm9wKSYmInN0cmluZyIhPXR5cGVvZiB0LmZyb20pdGhyb3cgbmV3IE0oIk9wZXJhdGlvbiBgZnJvbWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYG1vdmVgIGFuZCBgY29weWAgb3BlcmF0aW9ucykiLCJPUEVSQVRJT05fRlJPTV9SRVFVSVJFRCIsbix0LG8pO2lmKCgiYWRkIj09PXQub3B8fCJyZXBsYWNlIj09PXQub3B8fCJ0ZXN0Ij09PXQub3ApJiZ2b2lkIDA9PT10LnZhbHVlKXRocm93IG5ldyBNKCJPcGVyYXRpb24gYHZhbHVlYCBwcm9wZXJ0eSBpcyBub3QgcHJlc2VudCAoYXBwbGljYWJsZSBpbiBgYWRkYCwgYHJlcGxhY2VgIGFuZCBgdGVzdGAgb3BlcmF0aW9ucykiLCJPUEVSQVRJT05fVkFMVUVfUkVRVUlSRUQiLG4sdCxvKTtpZigoImFkZCI9PT10Lm9wfHwicmVwbGFjZSI9PT10Lm9wfHwidGVzdCI9PT10Lm9wKSYmbSh0LnZhbHVlKSl0aHJvdyBuZXcgTSgiT3BlcmF0aW9uIGB2YWx1ZWAgcHJvcGVydHkgaXMgbm90IHByZXNlbnQgKGFwcGxpY2FibGUgaW4gYGFkZGAsIGByZXBsYWNlYCBhbmQgYHRlc3RgIG9wZXJhdGlvbnMpIiwiT1BFUkFUSU9OX1ZBTFVFX0NBTk5PVF9DT05UQUlOX1VOREVGSU5FRCIsbix0LG8pO2lmKG8paWYoImFkZCI9PXQub3Ape3ZhciBpPXQucGF0aC5zcGxpdCgiLyIpLmxlbmd0aCxzPXIuc3BsaXQoIi8iKS5sZW5ndGg7aWYoaSE9PXMrMSYmaSE9PXMpdGhyb3cgbmV3IE0oIkNhbm5vdCBwZXJmb3JtIGFuIGBhZGRgIG9wZXJhdGlvbiBhdCB0aGUgZGVzaXJlZCBwYXRoIiwiT1BFUkFUSU9OX1BBVEhfQ0FOTk9UX0FERCIsbix0LG8pfWVsc2UgaWYoInJlcGxhY2UiPT09dC5vcHx8InJlbW92ZSI9PT10Lm9wfHwiX2dldCI9PT10Lm9wKXtpZih0LnBhdGghPT1yKXRocm93IG5ldyBNKCJDYW5ub3QgcGVyZm9ybSB0aGUgb3BlcmF0aW9uIGF0IGEgcGF0aCB0aGF0IGRvZXMgbm90IGV4aXN0IiwiT1BFUkFUSU9OX1BBVEhfVU5SRVNPTFZBQkxFIixuLHQsbyl9ZWxzZSBpZigibW92ZSI9PT10Lm9wfHwiY29weSI9PT10Lm9wKXt2YXIgbD17b3A6Il9nZXQiLHBhdGg6dC5mcm9tLHZhbHVlOnZvaWQgMH0sYT1lLnZhbGlkYXRlKFtsXSxvKTtpZihhJiYiT1BFUkFUSU9OX1BBVEhfVU5SRVNPTFZBQkxFIj09PWEubmFtZSl0aHJvdyBuZXcgTSgiQ2Fubm90IHBlcmZvcm0gdGhlIG9wZXJhdGlvbiBmcm9tIGEgcGF0aCB0aGF0IGRvZXMgbm90IGV4aXN0IiwiT1BFUkFUSU9OX0ZST01fVU5SRVNPTFZBQkxFIixuLHQsbyl9fWZ1bmN0aW9uIHYoZSx0KXt0cnl7aWYoIVQoZSkpdGhyb3cgbmV3IE0oIlBhdGNoIHNlcXVlbmNlIG11c3QgYmUgYW4gYXJyYXkiLCJTRVFVRU5DRV9OT1RfQU5fQVJSQVkiKTtpZih0KXQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSkscC5jYWxsKHRoaXMsdCxlLCEwKTtlbHNlIGZvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXRoaXMudmFsaWRhdG9yKGVbbl0sbil9Y2F0Y2gobyl7aWYobyBpbnN0YW5jZW9mIE0pcmV0dXJuIG87dGhyb3cgb319dmFyIHk9ZnVuY3Rpb24oZSl7aWYoVChlKSl7Zm9yKHZhciB0PW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248dC5sZW5ndGg7bisrKXRbbl09IiIrbjtyZXR1cm4gdH1pZihPYmplY3Qua2V5cylyZXR1cm4gT2JqZWN0LmtleXMoZSk7dmFyIHQ9W107Zm9yKHZhciBvIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShvKSYmdC5wdXNoKG8pO3JldHVybiB0fSxiPXthZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT10aGlzLnZhbHVlLCEwfSxyZW1vdmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZGVsZXRlIGVbdF0sITB9LHJlcGxhY2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT10aGlzLnZhbHVlLCEwfSxtb3ZlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz17b3A6Il9nZXQiLHBhdGg6dGhpcy5mcm9tfTtyZXR1cm4gcChuLFtvXSkscChuLFt7b3A6InJlbW92ZSIscGF0aDp0aGlzLmZyb219XSkscChuLFt7b3A6ImFkZCIscGF0aDp0aGlzLnBhdGgsdmFsdWU6by52YWx1ZX1dKSwhMH0sY29weTpmdW5jdGlvbihlLHQsbil7dmFyIG89e29wOiJfZ2V0IixwYXRoOnRoaXMuZnJvbX07cmV0dXJuIHAobixbb10pLHAobixbe29wOiJhZGQiLHBhdGg6dGhpcy5wYXRoLHZhbHVlOm8udmFsdWV9XSksITB9LHRlc3Q6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdChlW25dLHRoaXMudmFsdWUpfSxfZ2V0OmZ1bmN0aW9uKGUsdCl7dGhpcy52YWx1ZT1lW3RdfX0sQz17YWRkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3BsaWNlKHQsMCx0aGlzLnZhbHVlKSwhMH0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc3BsaWNlKHQsMSksITB9LHJlcGxhY2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT10aGlzLnZhbHVlLCEwfSxtb3ZlOmIubW92ZSxjb3B5OmIuY29weSx0ZXN0OmIudGVzdCxfZ2V0OmIuX2dldH0sXz17YWRkOmZ1bmN0aW9uKGUpe18ucmVtb3ZlLmNhbGwodGhpcyxlKTtmb3IodmFyIHQgaW4gdGhpcy52YWx1ZSl0aGlzLnZhbHVlLmhhc093blByb3BlcnR5KHQpJiYoZVt0XT10aGlzLnZhbHVlW3RdKTtyZXR1cm4hMH0scmVtb3ZlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWUuaGFzT3duUHJvcGVydHkodCkmJmIucmVtb3ZlLmNhbGwodGhpcyxlLHQpO3JldHVybiEwfSxyZXBsYWNlOmZ1bmN0aW9uKGUpe3JldHVybiBwKGUsW3tvcDoicmVtb3ZlIixwYXRoOnRoaXMucGF0aH1dKSxwKGUsW3tvcDoiYWRkIixwYXRoOnRoaXMucGF0aCx2YWx1ZTp0aGlzLnZhbHVlfV0pLCEwfSxtb3ZlOmIubW92ZSxjb3B5OmIuY29weSx0ZXN0OmZ1bmN0aW9uKGUpe3JldHVybiBKU09OLnN0cmluZ2lmeShlKT09PUpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUpfSxfZ2V0OmZ1bmN0aW9uKGUpe3RoaXMudmFsdWU9ZX19LFI9W10sUz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5vYnNlcnZlcnM9W10sdGhpcy5vYmo9ZX1yZXR1cm4gZX0oKSxFPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuY2FsbGJhY2s9ZSx0aGlzLm9ic2VydmVyPXR9cmV0dXJuIGV9KCk7ZS51bm9ic2VydmU9YSxlLm9ic2VydmU9YyxlLmdlbmVyYXRlPWg7dmFyIFQ7VD1BcnJheS5pc0FycmF5P0FycmF5LmlzQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucHVzaCYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aH0sZS5hcHBseT1wLGUuY29tcGFyZT1nO3ZhciBNPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuLG8scixpKXtlLmNhbGwodGhpcyx0KSx0aGlzLm1lc3NhZ2U9dCx0aGlzLm5hbWU9bix0aGlzLmluZGV4PW8sdGhpcy5vcGVyYXRpb249cix0aGlzLnRyZWU9aX1yZXR1cm4gcih0LGUpLHR9KGkpO2UuSnNvblBhdGNoRXJyb3I9TSxlLkVycm9yPU0sZS52YWxpZGF0b3I9dyxlLnZhbGlkYXRlPXZ9KG98fChvPXt9KSksInVuZGVmaW5lZCIhPXR5cGVvZiBuJiYobi5hcHBseT1vLmFwcGx5LG4ub2JzZXJ2ZT1vLm9ic2VydmUsbi51bm9ic2VydmU9by51bm9ic2VydmUsbi5nZW5lcmF0ZT1vLmdlbmVyYXRlLG4uY29tcGFyZT1vLmNvbXBhcmUsbi52YWxpZGF0ZT1vLnZhbGlkYXRlLG4udmFsaWRhdG9yPW8udmFsaWRhdG9yLG4uSnNvblBhdGNoRXJyb3I9by5Kc29uUGF0Y2hFcnJvcixuLkVycm9yPW8uRXJyb3IpfSx7fV0sbW9tZW50OltmdW5jdGlvbih0LG4sbyl7IWZ1bmN0aW9uKHQscil7Im9iamVjdCI9PXR5cGVvZiBvJiYidW5kZWZpbmVkIiE9dHlwZW9mIG4/bi5leHBvcnRzPXIoKToiZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5hbWQ/ZShyKTp0Lm1vbWVudD1yKCl9KHRoaXMsZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZSgpe3JldHVybiBlby5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbyhlKXtlbz1lfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBBcnJheXx8IltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBpKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRGF0ZXx8IltvYmplY3QgRGF0ZV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIHMoZSx0KXt2YXIgbixvPVtdO2ZvcihuPTA7bjxlLmxlbmd0aDsrK24pby5wdXNoKHQoZVtuXSxuKSk7cmV0dXJuIG99ZnVuY3Rpb24gbChlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX1mdW5jdGlvbiBhKGUsdCl7Zm9yKHZhciBuIGluIHQpbCh0LG4pJiYoZVtuXT10W25dKTtyZXR1cm4gbCh0LCJ0b1N0cmluZyIpJiYoZS50b1N0cmluZz10LnRvU3RyaW5nKSxsKHQsInZhbHVlT2YiKSYmKGUudmFsdWVPZj10LnZhbHVlT2YpLGV9ZnVuY3Rpb24gdShlLHQsbixvKXtyZXR1cm4gTGUoZSx0LG4sbywhMCkudXRjKCl9ZnVuY3Rpb24gYygpe3JldHVybntlbXB0eTohMSx1bnVzZWRUb2tlbnM6W10sdW51c2VkSW5wdXQ6W10sb3ZlcmZsb3c6LTIsY2hhcnNMZWZ0T3ZlcjowLG51bGxJbnB1dDohMSxpbnZhbGlkTW9udGg6bnVsbCxpbnZhbGlkRm9ybWF0OiExLHVzZXJJbnZhbGlkYXRlZDohMSxpc286ITF9fWZ1bmN0aW9uIGgoZSl7cmV0dXJuIG51bGw9PWUuX3BmJiYoZS5fcGY9YygpKSxlLl9wZn1mdW5jdGlvbiBkKGUpe2lmKG51bGw9PWUuX2lzVmFsaWQpe3ZhciB0PWgoZSk7ZS5faXNWYWxpZD0hKGlzTmFOKGUuX2QuZ2V0VGltZSgpKXx8ISh0Lm92ZXJmbG93PDApfHx0LmVtcHR5fHx0LmludmFsaWRNb250aHx8dC5pbnZhbGlkV2Vla2RheXx8dC5udWxsSW5wdXR8fHQuaW52YWxpZEZvcm1hdHx8dC51c2VySW52YWxpZGF0ZWQpLGUuX3N0cmljdCYmKGUuX2lzVmFsaWQ9ZS5faXNWYWxpZCYmMD09PXQuY2hhcnNMZWZ0T3ZlciYmMD09PXQudW51c2VkVG9rZW5zLmxlbmd0aCYmdm9pZCAwPT09dC5iaWdIb3VyKX1yZXR1cm4gZS5faXNWYWxpZH1mdW5jdGlvbiBmKGUpe3ZhciB0PXUoTmFOKTtyZXR1cm4gbnVsbCE9ZT9hKGgodCksZSk6aCh0KS51c2VySW52YWxpZGF0ZWQ9ITAsdH1mdW5jdGlvbiBwKGUpe3JldHVybiB2b2lkIDA9PT1lfWZ1bmN0aW9uIGcoZSx0KXt2YXIgbixvLHI7aWYocCh0Ll9pc0FNb21lbnRPYmplY3QpfHwoZS5faXNBTW9tZW50T2JqZWN0PXQuX2lzQU1vbWVudE9iamVjdCkscCh0Ll9pKXx8KGUuX2k9dC5faSkscCh0Ll9mKXx8KGUuX2Y9dC5fZikscCh0Ll9sKXx8KGUuX2w9dC5fbCkscCh0Ll9zdHJpY3QpfHwoZS5fc3RyaWN0PXQuX3N0cmljdCkscCh0Ll90em0pfHwoZS5fdHptPXQuX3R6bSkscCh0Ll9pc1VUQyl8fChlLl9pc1VUQz10Ll9pc1VUQykscCh0Ll9vZmZzZXQpfHwoZS5fb2Zmc2V0PXQuX29mZnNldCkscCh0Ll9wZil8fChlLl9wZj1oKHQpKSxwKHQuX2xvY2FsZSl8fChlLl9sb2NhbGU9dC5fbG9jYWxlKSx0by5sZW5ndGg+MClmb3IobiBpbiB0bylvPXRvW25dLHI9dFtvXSxwKHIpfHwoZVtvXT1yKTtyZXR1cm4gZX1mdW5jdGlvbiBtKHQpe2codGhpcyx0KSx0aGlzLl9kPW5ldyBEYXRlKG51bGwhPXQuX2Q/dC5fZC5nZXRUaW1lKCk6TmFOKSxubz09PSExJiYobm89ITAsZS51cGRhdGVPZmZzZXQodGhpcyksbm89ITEpfWZ1bmN0aW9uIHcoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBtfHxudWxsIT1lJiZudWxsIT1lLl9pc0FNb21lbnRPYmplY3R9ZnVuY3Rpb24gdihlKXtyZXR1cm4gMD5lP01hdGguY2VpbChlKTpNYXRoLmZsb29yKGUpfWZ1bmN0aW9uIHkoZSl7dmFyIHQ9K2Usbj0wO3JldHVybiAwIT09dCYmaXNGaW5pdGUodCkmJihuPXYodCkpLG59ZnVuY3Rpb24gYihlLHQsbil7dmFyIG8scj1NYXRoLm1pbihlLmxlbmd0aCx0Lmxlbmd0aCksaT1NYXRoLmFicyhlLmxlbmd0aC10Lmxlbmd0aCkscz0wO2ZvcihvPTA7cj5vO28rKykobiYmZVtvXSE9PXRbb118fCFuJiZ5KGVbb10pIT09eSh0W29dKSkmJnMrKztyZXR1cm4gcytpfWZ1bmN0aW9uIEModCl7ZS5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3M9PT0hMSYmInVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybigiRGVwcmVjYXRpb24gd2FybmluZzogIit0KX1mdW5jdGlvbiBfKGUsdCl7dmFyIG49ITA7cmV0dXJuIGEoZnVuY3Rpb24oKXtyZXR1cm4gbiYmKEMoZSsiXG5Bcmd1bWVudHM6ICIrQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5qb2luKCIsICIpKyJcbiIrKG5ldyBFcnJvcikuc3RhY2spLG49ITEpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0KX1mdW5jdGlvbiBSKGUsdCl7b29bZV18fChDKHQpLG9vW2VdPSEwKX1mdW5jdGlvbiBTKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRnVuY3Rpb258fCJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gRShlKXtyZXR1cm4iW29iamVjdCBPYmplY3RdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBUKGUpe3ZhciB0LG47Zm9yKG4gaW4gZSl0PWVbbl0sUyh0KT90aGlzW25dPXQ6dGhpc1siXyIrbl09dDt0aGlzLl9jb25maWc9ZSx0aGlzLl9vcmRpbmFsUGFyc2VMZW5pZW50PW5ldyBSZWdFeHAodGhpcy5fb3JkaW5hbFBhcnNlLnNvdXJjZSsifCIrL1xkezEsMn0vLnNvdXJjZSl9ZnVuY3Rpb24gTShlLHQpe3ZhciBuLG89YSh7fSxlKTtmb3IobiBpbiB0KWwodCxuKSYmKEUoZVtuXSkmJkUodFtuXSk/KG9bbl09e30sYShvW25dLGVbbl0pLGEob1tuXSx0W25dKSk6bnVsbCE9dFtuXT9vW25dPXRbbl06ZGVsZXRlIG9bbl0pO3JldHVybiBvfWZ1bmN0aW9uIE8oZSl7bnVsbCE9ZSYmdGhpcy5zZXQoZSl9ZnVuY3Rpb24gayhlKXtyZXR1cm4gZT9lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgiXyIsIi0iKTplfWZ1bmN0aW9uIEgoZSl7Zm9yKHZhciB0LG4sbyxyLGk9MDtpPGUubGVuZ3RoOyl7Zm9yKHI9ayhlW2ldKS5zcGxpdCgiLSIpLHQ9ci5sZW5ndGgsbj1rKGVbaSsxXSksbj1uP24uc3BsaXQoIi0iKTpudWxsO3Q+MDspe2lmKG89RChyLnNsaWNlKDAsdCkuam9pbigiLSIpKSlyZXR1cm4gbztpZihuJiZuLmxlbmd0aD49dCYmYihyLG4sITApPj10LTEpYnJlYWs7dC0tfWkrK31yZXR1cm4gbnVsbH1mdW5jdGlvbiBEKGUpe3ZhciBvPW51bGw7aWYoIWlvW2VdJiYidW5kZWZpbmVkIiE9dHlwZW9mIG4mJm4mJm4uZXhwb3J0cyl0cnl7bz1yby5fYWJicix0KCIuL2xvY2FsZS8iK2UpLEEobyl9Y2F0Y2gocil7fXJldHVybiBpb1tlXX1mdW5jdGlvbiBBKGUsdCl7dmFyIG47cmV0dXJuIGUmJihuPXAodCk/TihlKTp4KGUsdCksbiYmKHJvPW4pKSxyby5fYWJicn1mdW5jdGlvbiB4KGUsdCl7cmV0dXJuIG51bGwhPT10Pyh0LmFiYnI9ZSxudWxsIT1pb1tlXT8oUigiZGVmaW5lTG9jYWxlT3ZlcnJpZGUiLCJ1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSBhbiBleGlzdGluZyBsb2NhbGUuIG1vbWVudC5kZWZpbmVMb2NhbGUobG9jYWxlTmFtZSwgY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGUiKSx0PU0oaW9bZV0uX2NvbmZpZyx0KSk6bnVsbCE9dC5wYXJlbnRMb2NhbGUmJihudWxsIT1pb1t0LnBhcmVudExvY2FsZV0/dD1NKGlvW3QucGFyZW50TG9jYWxlXS5fY29uZmlnLHQpOlIoInBhcmVudExvY2FsZVVuZGVmaW5lZCIsInNwZWNpZmllZCBwYXJlbnRMb2NhbGUgaXMgbm90IGRlZmluZWQgeWV0IikpLGlvW2VdPW5ldyBPKHQpLEEoZSksaW9bZV0pOihkZWxldGUgaW9bZV0sbnVsbCl9ZnVuY3Rpb24gUChlLHQpe2lmKG51bGwhPXQpe3ZhciBuO251bGwhPWlvW2VdJiYodD1NKGlvW2VdLl9jb25maWcsdCkpLG49bmV3IE8odCksbi5wYXJlbnRMb2NhbGU9aW9bZV0saW9bZV09bixBKGUpfWVsc2UgbnVsbCE9aW9bZV0mJihudWxsIT1pb1tlXS5wYXJlbnRMb2NhbGU/aW9bZV09aW9bZV0ucGFyZW50TG9jYWxlOm51bGwhPWlvW2VdJiZkZWxldGUgaW9bZV0pO3JldHVybiBpb1tlXX1mdW5jdGlvbiBOKGUpe3ZhciB0O2lmKGUmJmUuX2xvY2FsZSYmZS5fbG9jYWxlLl9hYmJyJiYoZT1lLl9sb2NhbGUuX2FiYnIpLCFlKXJldHVybiBybztpZighcihlKSl7aWYodD1EKGUpKXJldHVybiB0O2U9W2VdfXJldHVybiBIKGUpfWZ1bmN0aW9uIEwoKXtyZXR1cm4gT2JqZWN0LmtleXMoaW8pfWZ1bmN0aW9uIFcoZSx0KXt2YXIgbj1lLnRvTG93ZXJDYXNlKCk7c29bbl09c29bbisicyJdPXNvW3RdPWV9ZnVuY3Rpb24gSShlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGU/c29bZV18fHNvW2UudG9Mb3dlckNhc2UoKV06dm9pZCAwfWZ1bmN0aW9uIGooZSl7dmFyIHQsbixvPXt9O2ZvcihuIGluIGUpbChlLG4pJiYodD1JKG4pLHQmJihvW3RdPWVbbl0pKTtyZXR1cm4gb31mdW5jdGlvbiBWKHQsbil7cmV0dXJuIGZ1bmN0aW9uKG8pe3JldHVybiBudWxsIT1vPyhCKHRoaXMsdCxvKSxlLnVwZGF0ZU9mZnNldCh0aGlzLG4pLHRoaXMpOkYodGhpcyx0KX19ZnVuY3Rpb24gRihlLHQpe3JldHVybiBlLmlzVmFsaWQoKT9lLl9kWyJnZXQiKyhlLl9pc1VUQz8iVVRDIjoiIikrdF0oKTpOYU59ZnVuY3Rpb24gQihlLHQsbil7ZS5pc1ZhbGlkKCkmJmUuX2RbInNldCIrKGUuX2lzVVRDPyJVVEMiOiIiKSt0XShuKX1mdW5jdGlvbiB6KGUsdCl7dmFyIG47aWYoIm9iamVjdCI9PXR5cGVvZiBlKWZvcihuIGluIGUpdGhpcy5zZXQobixlW25dKTtlbHNlIGlmKGU9SShlKSxTKHRoaXNbZV0pKXJldHVybiB0aGlzW2VdKHQpO3JldHVybiB0aGlzfWZ1bmN0aW9uIFkoZSx0LG4pe3ZhciBvPSIiK01hdGguYWJzKGUpLHI9dC1vLmxlbmd0aCxpPWU+PTA7cmV0dXJuKGk/bj8iKyI6IiI6Ii0iKStNYXRoLnBvdygxMCxNYXRoLm1heCgwLHIpKS50b1N0cmluZygpLnN1YnN0cigxKStvfWZ1bmN0aW9uIFUoZSx0LG4sbyl7dmFyIHI9bzsic3RyaW5nIj09dHlwZW9mIG8mJihyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbb10oKX0pLGUmJihjb1tlXT1yKSx0JiYoY29bdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gWShyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0WzFdLHRbMl0pfSksbiYmKGNvW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZSl9KX1mdW5jdGlvbiBHKGUpe3JldHVybiBlLm1hdGNoKC9cW1tcc1xTXS8pP2UucmVwbGFjZSgvXlxbfFxdJC9nLCIiKTplLnJlcGxhY2UoL1xcL2csIiIpfWZ1bmN0aW9uICQoZSl7dmFyIHQsbixvPWUubWF0Y2gobG8pO2Zvcih0PTAsbj1vLmxlbmd0aDtuPnQ7dCsrKWNvW29bdF1dP29bdF09Y29bb1t0XV06b1t0XT1HKG9bdF0pO3JldHVybiBmdW5jdGlvbihyKXt2YXIgaT0iIjtmb3IodD0wO24+dDt0KyspaSs9b1t0XWluc3RhbmNlb2YgRnVuY3Rpb24/b1t0XS5jYWxsKHIsZSk6b1t0XTtyZXR1cm4gaX19ZnVuY3Rpb24gWChlLHQpe3JldHVybiBlLmlzVmFsaWQoKT8odD1LKHQsZS5sb2NhbGVEYXRhKCkpLHVvW3RdPXVvW3RdfHwkKHQpLHVvW3RdKGUpKTplLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpfWZ1bmN0aW9uIEsoZSx0KXtmdW5jdGlvbiBuKGUpe3JldHVybiB0LmxvbmdEYXRlRm9ybWF0KGUpfHxlfXZhciBvPTU7Zm9yKGFvLmxhc3RJbmRleD0wO28+PTAmJmFvLnRlc3QoZSk7KWU9ZS5yZXBsYWNlKGFvLG4pLGFvLmxhc3RJbmRleD0wLG8tPTE7cmV0dXJuIGV9ZnVuY3Rpb24gcShlLHQsbil7a29bZV09Uyh0KT90OmZ1bmN0aW9uKGUsbyl7cmV0dXJuIGUmJm4/bjp0fX1mdW5jdGlvbiBaKGUsdCl7cmV0dXJuIGwoa28sZSk/a29bZV0odC5fc3RyaWN0LHQuX2xvY2FsZSk6bmV3IFJlZ0V4cChKKGUpKX1mdW5jdGlvbiBKKGUpe3JldHVybiBRKGUucmVwbGFjZSgiXFwiLCIiKS5yZXBsYWNlKC9cXChcWyl8XFwoXF0pfFxbKFteXF1cW10qKVxdfFxcKC4pL2csZnVuY3Rpb24oZSx0LG4sbyxyKXtyZXR1cm4gdHx8bnx8b3x8cn0pKX1mdW5jdGlvbiBRKGUpe3JldHVybiBlLnJlcGxhY2UoL1stXC9cXF4kKis/LigpfFtcXXt9XS9nLCJcXCQmIil9ZnVuY3Rpb24gZWUoZSx0KXt2YXIgbixvPXQ7Zm9yKCJzdHJpbmciPT10eXBlb2YgZSYmKGU9W2VdKSwibnVtYmVyIj09dHlwZW9mIHQmJihvPWZ1bmN0aW9uKGUsbil7blt0XT15KGUpfSksbj0wO248ZS5sZW5ndGg7bisrKUhvW2Vbbl1dPW99ZnVuY3Rpb24gdGUoZSx0KXtlZShlLGZ1bmN0aW9uKGUsbixvLHIpe28uX3c9by5fd3x8e30sdChlLG8uX3csbyxyKX0pfWZ1bmN0aW9uIG5lKGUsdCxuKXtudWxsIT10JiZsKEhvLGUpJiZIb1tlXSh0LG4uX2EsbixlKX1mdW5jdGlvbiBvZShlLHQpe3JldHVybiBuZXcgRGF0ZShEYXRlLlVUQyhlLHQrMSwwKSkuZ2V0VVRDRGF0ZSgpfWZ1bmN0aW9uIHJlKGUsdCl7cmV0dXJuIHIodGhpcy5fbW9udGhzKT90aGlzLl9tb250aHNbZS5tb250aCgpXTp0aGlzLl9tb250aHNbVm8udGVzdCh0KT8iZm9ybWF0Ijoic3RhbmRhbG9uZSJdW2UubW9udGgoKV19ZnVuY3Rpb24gaWUoZSx0KXtyZXR1cm4gcih0aGlzLl9tb250aHNTaG9ydCk/dGhpcy5fbW9udGhzU2hvcnRbZS5tb250aCgpXTp0aGlzLl9tb250aHNTaG9ydFtWby50ZXN0KHQpPyJmb3JtYXQiOiJzdGFuZGFsb25lIl1bZS5tb250aCgpXX1mdW5jdGlvbiBzZShlLHQsbil7dmFyIG8scixpO2Zvcih0aGlzLl9tb250aHNQYXJzZXx8KHRoaXMuX21vbnRoc1BhcnNlPVtdLHRoaXMuX2xvbmdNb250aHNQYXJzZT1bXSx0aGlzLl9zaG9ydE1vbnRoc1BhcnNlPVtdKSxvPTA7MTI+bztvKyspe2lmKHI9dShbMmUzLG9dKSxuJiYhdGhpcy5fbG9uZ01vbnRoc1BhcnNlW29dJiYodGhpcy5fbG9uZ01vbnRoc1BhcnNlW29dPW5ldyBSZWdFeHAoIl4iK3RoaXMubW9udGhzKHIsIiIpLnJlcGxhY2UoIi4iLCIiKSsiJCIsImkiKSx0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW29dPW5ldyBSZWdFeHAoIl4iK3RoaXMubW9udGhzU2hvcnQociwiIikucmVwbGFjZSgiLiIsIiIpKyIkIiwiaSIpKSxufHx0aGlzLl9tb250aHNQYXJzZVtvXXx8KGk9Il4iK3RoaXMubW9udGhzKHIsIiIpKyJ8XiIrdGhpcy5tb250aHNTaG9ydChyLCIiKSx0aGlzLl9tb250aHNQYXJzZVtvXT1uZXcgUmVnRXhwKGkucmVwbGFjZSgiLiIsIiIpLCJpIikpLG4mJiJNTU1NIj09PXQmJnRoaXMuX2xvbmdNb250aHNQYXJzZVtvXS50ZXN0KGUpKXJldHVybiBvO2lmKG4mJiJNTU0iPT09dCYmdGhpcy5fc2hvcnRNb250aHNQYXJzZVtvXS50ZXN0KGUpKXJldHVybiBvO2lmKCFuJiZ0aGlzLl9tb250aHNQYXJzZVtvXS50ZXN0KGUpKXJldHVybiBvfX1mdW5jdGlvbiBsZShlLHQpe3ZhciBuO2lmKCFlLmlzVmFsaWQoKSlyZXR1cm4gZTtpZigic3RyaW5nIj09dHlwZW9mIHQpaWYoL15cZCskLy50ZXN0KHQpKXQ9eSh0KTtlbHNlIGlmKHQ9ZS5sb2NhbGVEYXRhKCkubW9udGhzUGFyc2UodCksIm51bWJlciIhPXR5cGVvZiB0KXJldHVybiBlO3JldHVybiBuPU1hdGgubWluKGUuZGF0ZSgpLG9lKGUueWVhcigpLHQpKSxlLl9kWyJzZXQiKyhlLl9pc1VUQz8iVVRDIjoiIikrIk1vbnRoIl0odCxuKSxlfWZ1bmN0aW9uIGFlKHQpe3JldHVybiBudWxsIT10PyhsZSh0aGlzLHQpLGUudXBkYXRlT2Zmc2V0KHRoaXMsITApLHRoaXMpOkYodGhpcywiTW9udGgiKX1mdW5jdGlvbiB1ZSgpe3JldHVybiBvZSh0aGlzLnllYXIoKSx0aGlzLm1vbnRoKCkpfWZ1bmN0aW9uIGNlKGUpe3JldHVybiB0aGlzLl9tb250aHNQYXJzZUV4YWN0PyhsKHRoaXMsIl9tb250aHNSZWdleCIpfHxkZS5jYWxsKHRoaXMpLGU/dGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleDp0aGlzLl9tb250aHNTaG9ydFJlZ2V4KTp0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4JiZlP3RoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg6dGhpcy5fbW9udGhzU2hvcnRSZWdleH1mdW5jdGlvbiBoZShlKXtyZXR1cm4gdGhpcy5fbW9udGhzUGFyc2VFeGFjdD8obCh0aGlzLCJfbW9udGhzUmVnZXgiKXx8ZGUuY2FsbCh0aGlzKSxlP3RoaXMuX21vbnRoc1N0cmljdFJlZ2V4OnRoaXMuX21vbnRoc1JlZ2V4KTp0aGlzLl9tb250aHNTdHJpY3RSZWdleCYmZT90aGlzLl9tb250aHNTdHJpY3RSZWdleDp0aGlzLl9tb250aHNSZWdleH1mdW5jdGlvbiBkZSgpe2Z1bmN0aW9uIGUoZSx0KXtyZXR1cm4gdC5sZW5ndGgtZS5sZW5ndGh9dmFyIHQsbixvPVtdLHI9W10saT1bXTtmb3IodD0wOzEyPnQ7dCsrKW49dShbMmUzLHRdKSxvLnB1c2godGhpcy5tb250aHNTaG9ydChuLCIiKSksci5wdXNoKHRoaXMubW9udGhzKG4sIiIpKSxpLnB1c2godGhpcy5tb250aHMobiwiIikpLGkucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG4sIiIpKTtmb3Ioby5zb3J0KGUpLHIuc29ydChlKSxpLnNvcnQoZSksdD0wOzEyPnQ7dCsrKW9bdF09UShvW3RdKSxyW3RdPVEoclt0XSksaVt0XT1RKGlbdF0pO3RoaXMuX21vbnRoc1JlZ2V4PW5ldyBSZWdFeHAoIl4oIitpLmpvaW4oInwiKSsiKSIsImkiKSx0aGlzLl9tb250aHNTaG9ydFJlZ2V4PXRoaXMuX21vbnRoc1JlZ2V4LHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4PW5ldyBSZWdFeHAoIl4oIityLmpvaW4oInwiKSsiKSQiLCJpIiksdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleD1uZXcgUmVnRXhwKCJeKCIrby5qb2luKCJ8IikrIikkIiwiaSIpfWZ1bmN0aW9uIGZlKGUpe3ZhciB0LG49ZS5fYTtyZXR1cm4gbiYmLTI9PT1oKGUpLm92ZXJmbG93JiYodD1uW0FvXTwwfHxuW0FvXT4xMT9BbzpuW3hvXTwxfHxuW3hvXT5vZShuW0RvXSxuW0FvXSk/eG86bltQb108MHx8bltQb10+MjR8fDI0PT09bltQb10mJigwIT09bltOb118fDAhPT1uW0xvXXx8MCE9PW5bV29dKT9QbzpuW05vXTwwfHxuW05vXT41OT9ObzpuW0xvXTwwfHxuW0xvXT41OT9MbzpuW1dvXTwwfHxuW1dvXT45OTk/V286LTEsaChlKS5fb3ZlcmZsb3dEYXlPZlllYXImJihEbz50fHx0PnhvKSYmKHQ9eG8pLGgoZSkuX292ZXJmbG93V2Vla3MmJi0xPT09dCYmKHQ9SW8pLGgoZSkuX292ZXJmbG93V2Vla2RheSYmLTE9PT10JiYodD1qbyksaChlKS5vdmVyZmxvdz10KSxlfWZ1bmN0aW9uIHBlKGUpe3ZhciB0LG4sbyxyLGkscyxsPWUuX2ksYT1Vby5leGVjKGwpfHxHby5leGVjKGwpO2lmKGEpe2ZvcihoKGUpLmlzbz0hMCx0PTAsbj1Yby5sZW5ndGg7bj50O3QrKylpZihYb1t0XVsxXS5leGVjKGFbMV0pKXtyPVhvW3RdWzBdLG89WG9bdF1bMl0hPT0hMTticmVha31pZihudWxsPT1yKXJldHVybiB2b2lkKGUuX2lzVmFsaWQ9ITEpO2lmKGFbM10pe2Zvcih0PTAsbj1Lby5sZW5ndGg7bj50O3QrKylpZihLb1t0XVsxXS5leGVjKGFbM10pKXtpPShhWzJdfHwiICIpK0tvW3RdWzBdO2JyZWFrfWlmKG51bGw9PWkpcmV0dXJuIHZvaWQoZS5faXNWYWxpZD0hMSl9aWYoIW8mJm51bGwhPWkpcmV0dXJuIHZvaWQoZS5faXNWYWxpZD0hMSk7aWYoYVs0XSl7aWYoISRvLmV4ZWMoYVs0XSkpcmV0dXJuIHZvaWQoZS5faXNWYWxpZD0hMSk7cz0iWiJ9ZS5fZj1yKyhpfHwiIikrKHN8fCIiKSxrZShlKX1lbHNlIGUuX2lzVmFsaWQ9ITF9ZnVuY3Rpb24gZ2UodCl7dmFyIG49cW8uZXhlYyh0Ll9pKTtyZXR1cm4gbnVsbCE9PW4/dm9pZCh0Ll9kPW5ldyBEYXRlKCtuWzFdKSk6KHBlKHQpLHZvaWQodC5faXNWYWxpZD09PSExJiYoZGVsZXRlIHQuX2lzVmFsaWQsZS5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayh0KSkpKX1mdW5jdGlvbiBtZShlLHQsbixvLHIsaSxzKXt2YXIgbD1uZXcgRGF0ZShlLHQsbixvLHIsaSxzKTtyZXR1cm4gMTAwPmUmJmU+PTAmJmlzRmluaXRlKGwuZ2V0RnVsbFllYXIoKSkmJmwuc2V0RnVsbFllYXIoZSksbH1mdW5jdGlvbiB3ZShlKXt2YXIgdD1uZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLGFyZ3VtZW50cykpO3JldHVybiAxMDA+ZSYmZT49MCYmaXNGaW5pdGUodC5nZXRVVENGdWxsWWVhcigpKSYmdC5zZXRVVENGdWxsWWVhcihlKSx0fWZ1bmN0aW9uIHZlKGUpe3JldHVybiB5ZShlKT8zNjY6MzY1fWZ1bmN0aW9uIHllKGUpe3JldHVybiBlJTQ9PT0wJiZlJTEwMCE9PTB8fGUlNDAwPT09MH1mdW5jdGlvbiBiZSgpe3JldHVybiB5ZSh0aGlzLnllYXIoKSl9ZnVuY3Rpb24gQ2UoZSx0LG4pe3ZhciBvPTcrdC1uLHI9KDcrd2UoZSwwLG8pLmdldFVUQ0RheSgpLXQpJTc7cmV0dXJuLXIrby0xfWZ1bmN0aW9uIF9lKGUsdCxuLG8scil7dmFyIGkscyxsPSg3K24tbyklNyxhPUNlKGUsbyxyKSx1PTErNyoodC0xKStsK2E7cmV0dXJuIDA+PXU/KGk9ZS0xLHM9dmUoaSkrdSk6dT52ZShlKT8oaT1lKzEscz11LXZlKGUpKTooaT1lLHM9dSkse3llYXI6aSxkYXlPZlllYXI6c319ZnVuY3Rpb24gUmUoZSx0LG4pe3ZhciBvLHIsaT1DZShlLnllYXIoKSx0LG4pLHM9TWF0aC5mbG9vcigoZS5kYXlPZlllYXIoKS1pLTEpLzcpKzE7cmV0dXJuIDE+cz8ocj1lLnllYXIoKS0xLG89cytTZShyLHQsbikpOnM+U2UoZS55ZWFyKCksdCxuKT8obz1zLVNlKGUueWVhcigpLHQsbikscj1lLnllYXIoKSsxKToocj1lLnllYXIoKSxvPXMpLHt3ZWVrOm8seWVhcjpyfX1mdW5jdGlvbiBTZShlLHQsbil7dmFyIG89Q2UoZSx0LG4pLHI9Q2UoZSsxLHQsbik7cmV0dXJuKHZlKGUpLW8rcikvN31mdW5jdGlvbiBFZShlLHQsbil7cmV0dXJuIG51bGwhPWU/ZTpudWxsIT10P3Q6bn1mdW5jdGlvbiBUZSh0KXt2YXIgbj1uZXcgRGF0ZShlLm5vdygpKTtyZXR1cm4gdC5fdXNlVVRDP1tuLmdldFVUQ0Z1bGxZZWFyKCksbi5nZXRVVENNb250aCgpLG4uZ2V0VVRDRGF0ZSgpXTpbbi5nZXRGdWxsWWVhcigpLG4uZ2V0TW9udGgoKSxuLmdldERhdGUoKV19ZnVuY3Rpb24gTWUoZSl7dmFyIHQsbixvLHIsaT1bXTtpZighZS5fZCl7Zm9yKG89VGUoZSksZS5fdyYmbnVsbD09ZS5fYVt4b10mJm51bGw9PWUuX2FbQW9dJiZPZShlKSxlLl9kYXlPZlllYXImJihyPUVlKGUuX2FbRG9dLG9bRG9dKSxlLl9kYXlPZlllYXI+dmUocikmJihoKGUpLl9vdmVyZmxvd0RheU9mWWVhcj0hMCksbj13ZShyLDAsZS5fZGF5T2ZZZWFyKSxlLl9hW0FvXT1uLmdldFVUQ01vbnRoKCksZS5fYVt4b109bi5nZXRVVENEYXRlKCkpLHQ9MDszPnQmJm51bGw9PWUuX2FbdF07Kyt0KWUuX2FbdF09aVt0XT1vW3RdO2Zvcig7Nz50O3QrKyllLl9hW3RdPWlbdF09bnVsbD09ZS5fYVt0XT8yPT09dD8xOjA6ZS5fYVt0XTsyND09PWUuX2FbUG9dJiYwPT09ZS5fYVtOb10mJjA9PT1lLl9hW0xvXSYmMD09PWUuX2FbV29dJiYoZS5fbmV4dERheT0hMCxlLl9hW1BvXT0wKSxlLl9kPShlLl91c2VVVEM/d2U6bWUpLmFwcGx5KG51bGwsaSksbnVsbCE9ZS5fdHptJiZlLl9kLnNldFVUQ01pbnV0ZXMoZS5fZC5nZXRVVENNaW51dGVzKCktZS5fdHptKSxlLl9uZXh0RGF5JiYoZS5fYVtQb109MjQpfX1mdW5jdGlvbiBPZShlKXt2YXIgdCxuLG8scixpLHMsbCxhO3Q9ZS5fdyxudWxsIT10LkdHfHxudWxsIT10Lld8fG51bGwhPXQuRT8oaT0xLHM9NCxuPUVlKHQuR0csZS5fYVtEb10sUmUoV2UoKSwxLDQpLnllYXIpLG89RWUodC5XLDEpLHI9RWUodC5FLDEpLCgxPnJ8fHI+NykmJihhPSEwKSk6KGk9ZS5fbG9jYWxlLl93ZWVrLmRvdyxzPWUuX2xvY2FsZS5fd2Vlay5kb3ksbj1FZSh0LmdnLGUuX2FbRG9dLFJlKFdlKCksaSxzKS55ZWFyKSxvPUVlKHQudywxKSxudWxsIT10LmQ/KHI9dC5kLCgwPnJ8fHI+NikmJihhPSEwKSk6bnVsbCE9dC5lPyhyPXQuZStpLCh0LmU8MHx8dC5lPjYpJiYoYT0hMCkpOnI9aSksMT5vfHxvPlNlKG4saSxzKT9oKGUpLl9vdmVyZmxvd1dlZWtzPSEwOm51bGwhPWE/aChlKS5fb3ZlcmZsb3dXZWVrZGF5PSEwOihsPV9lKG4sbyxyLGkscyksZS5fYVtEb109bC55ZWFyLGUuX2RheU9mWWVhcj1sLmRheU9mWWVhcil9ZnVuY3Rpb24ga2UodCl7aWYodC5fZj09PWUuSVNPXzg2MDEpcmV0dXJuIHZvaWQgcGUodCk7dC5fYT1bXSxoKHQpLmVtcHR5PSEwO3ZhciBuLG8scixpLHMsbD0iIit0Ll9pLGE9bC5sZW5ndGgsdT0wO2ZvcihyPUsodC5fZix0Ll9sb2NhbGUpLm1hdGNoKGxvKXx8W10sbj0wO248ci5sZW5ndGg7bisrKWk9cltuXSxvPShsLm1hdGNoKFooaSx0KSl8fFtdKVswXSxvJiYocz1sLnN1YnN0cigwLGwuaW5kZXhPZihvKSkscy5sZW5ndGg+MCYmaCh0KS51bnVzZWRJbnB1dC5wdXNoKHMpLGw9bC5zbGljZShsLmluZGV4T2Yobykrby5sZW5ndGgpLHUrPW8ubGVuZ3RoKSxjb1tpXT8obz9oKHQpLmVtcHR5PSExOmgodCkudW51c2VkVG9rZW5zLnB1c2goaSksbmUoaSxvLHQpKTp0Ll9zdHJpY3QmJiFvJiZoKHQpLnVudXNlZFRva2Vucy5wdXNoKGkpO2godCkuY2hhcnNMZWZ0T3Zlcj1hLXUsbC5sZW5ndGg+MCYmaCh0KS51bnVzZWRJbnB1dC5wdXNoKGwpLGgodCkuYmlnSG91cj09PSEwJiZ0Ll9hW1BvXTw9MTImJnQuX2FbUG9dPjAmJihoKHQpLmJpZ0hvdXI9dm9pZCAwKSx0Ll9hW1BvXT1IZSh0Ll9sb2NhbGUsdC5fYVtQb10sdC5fbWVyaWRpZW0pLE1lKHQpLGZlKHQpfWZ1bmN0aW9uIEhlKGUsdCxuKXt2YXIgbztyZXR1cm4gbnVsbD09bj90Om51bGwhPWUubWVyaWRpZW1Ib3VyP2UubWVyaWRpZW1Ib3VyKHQsbik6bnVsbCE9ZS5pc1BNPyhvPWUuaXNQTShuKSxvJiYxMj50JiYodCs9MTIpLG98fDEyIT09dHx8KHQ9MCksdCk6dH1mdW5jdGlvbiBEZShlKXt2YXIgdCxuLG8scixpO2lmKDA9PT1lLl9mLmxlbmd0aClyZXR1cm4gaChlKS5pbnZhbGlkRm9ybWF0PSEwLHZvaWQoZS5fZD1uZXcgRGF0ZShOYU4pKTtmb3Iocj0wO3I8ZS5fZi5sZW5ndGg7cisrKWk9MCx0PWcoe30sZSksbnVsbCE9ZS5fdXNlVVRDJiYodC5fdXNlVVRDPWUuX3VzZVVUQyksdC5fZj1lLl9mW3JdLGtlKHQpLGQodCkmJihpKz1oKHQpLmNoYXJzTGVmdE92ZXIsaSs9MTAqaCh0KS51bnVzZWRUb2tlbnMubGVuZ3RoLGgodCkuc2NvcmU9aSwobnVsbD09b3x8bz5pKSYmKG89aSxuPXQpKTthKGUsbnx8dCl9ZnVuY3Rpb24gQWUoZSl7aWYoIWUuX2Qpe3ZhciB0PWooZS5faSk7ZS5fYT1zKFt0LnllYXIsdC5tb250aCx0LmRheXx8dC5kYXRlLHQuaG91cix0Lm1pbnV0ZSx0LnNlY29uZCx0Lm1pbGxpc2Vjb25kXSxmdW5jdGlvbihlKXtyZXR1cm4gZSYmcGFyc2VJbnQoZSwxMCl9KSxNZShlKX19ZnVuY3Rpb24geGUoZSl7dmFyIHQ9bmV3IG0oZmUoUGUoZSkpKTtyZXR1cm4gdC5fbmV4dERheSYmKHQuYWRkKDEsImQiKSx0Ll9uZXh0RGF5PXZvaWQgMCksdH1mdW5jdGlvbiBQZShlKXt2YXIgdD1lLl9pLG49ZS5fZjtyZXR1cm4gZS5fbG9jYWxlPWUuX2xvY2FsZXx8TihlLl9sKSxudWxsPT09dHx8dm9pZCAwPT09biYmIiI9PT10P2Yoe251bGxJbnB1dDohMH0pOigic3RyaW5nIj09dHlwZW9mIHQmJihlLl9pPXQ9ZS5fbG9jYWxlLnByZXBhcnNlKHQpKSx3KHQpP25ldyBtKGZlKHQpKToocihuKT9EZShlKTpuP2tlKGUpOmkodCk/ZS5fZD10Ok5lKGUpLGQoZSl8fChlLl9kPW51bGwpLGUpKX1mdW5jdGlvbiBOZSh0KXt2YXIgbj10Ll9pO3ZvaWQgMD09PW4/dC5fZD1uZXcgRGF0ZShlLm5vdygpKTppKG4pP3QuX2Q9bmV3IERhdGUoK24pOiJzdHJpbmciPT10eXBlb2Ygbj9nZSh0KTpyKG4pPyh0Ll9hPXMobi5zbGljZSgwKSxmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KSxNZSh0KSk6Im9iamVjdCI9PXR5cGVvZiBuP0FlKHQpOiJudW1iZXIiPT10eXBlb2Ygbj90Ll9kPW5ldyBEYXRlKG4pOmUuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sodCl9ZnVuY3Rpb24gTGUoZSx0LG4sbyxyKXt2YXIgaT17fTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBuJiYobz1uLG49dm9pZCAwKSxpLl9pc0FNb21lbnRPYmplY3Q9ITAsaS5fdXNlVVRDPWkuX2lzVVRDPXIsaS5fbD1uLGkuX2k9ZSxpLl9mPXQsaS5fc3RyaWN0PW8seGUoaSl9ZnVuY3Rpb24gV2UoZSx0LG4sbyl7cmV0dXJuIExlKGUsdCxuLG8sITEpfWZ1bmN0aW9uIEllKGUsdCl7dmFyIG4sbztpZigxPT09dC5sZW5ndGgmJnIodFswXSkmJih0PXRbMF0pLCF0Lmxlbmd0aClyZXR1cm4gV2UoKTtmb3Iobj10WzBdLG89MTtvPHQubGVuZ3RoOysrbyl0W29dLmlzVmFsaWQoKSYmIXRbb11bZV0obil8fChuPXRbb10pO3JldHVybiBufWZ1bmN0aW9uIGplKCl7dmFyIGU9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIEllKCJpc0JlZm9yZSIsZSl9ZnVuY3Rpb24gVmUoKXt2YXIgZT1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtyZXR1cm4gSWUoImlzQWZ0ZXIiLGUpfWZ1bmN0aW9uIEZlKGUpe3ZhciB0PWooZSksbj10LnllYXJ8fDAsbz10LnF1YXJ0ZXJ8fDAscj10Lm1vbnRofHwwLGk9dC53ZWVrfHwwLHM9dC5kYXl8fDAsbD10LmhvdXJ8fDAsYT10Lm1pbnV0ZXx8MCx1PXQuc2Vjb25kfHwwLGM9dC5taWxsaXNlY29uZHx8MDt0aGlzLl9taWxsaXNlY29uZHM9K2MrMWUzKnUrNmU0KmErMzZlNSpsLHRoaXMuX2RheXM9K3MrNyppLHRoaXMuX21vbnRocz0rciszKm8rMTIqbix0aGlzLl9kYXRhPXt9LHRoaXMuX2xvY2FsZT1OKCksdGhpcy5fYnViYmxlKCl9ZnVuY3Rpb24gQmUoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBGZX1mdW5jdGlvbiB6ZShlLHQpe1UoZSwwLDAsZnVuY3Rpb24oKXt2YXIgZT10aGlzLnV0Y09mZnNldCgpLG49IisiO3JldHVybiAwPmUmJihlPS1lLG49Ii0iKSxuK1kofn4oZS82MCksMikrdCtZKH5+ZSU2MCwyKX0pfWZ1bmN0aW9uIFllKGUsdCl7dmFyIG49KHR8fCIiKS5tYXRjaChlKXx8W10sbz1uW24ubGVuZ3RoLTFdfHxbXSxyPShvKyIiKS5tYXRjaCh0cil8fFsiLSIsMCwwXSxpPSsoNjAqclsxXSkreShyWzJdKTtyZXR1cm4iKyI9PT1yWzBdP2k6LWl9ZnVuY3Rpb24gVWUodCxuKXt2YXIgbyxyO3JldHVybiBuLl9pc1VUQz8obz1uLmNsb25lKCkscj0odyh0KXx8aSh0KT8rdDorV2UodCkpLStvLG8uX2Quc2V0VGltZSgrby5fZCtyKSxlLnVwZGF0ZU9mZnNldChvLCExKSxvKTpXZSh0KS5sb2NhbCgpfWZ1bmN0aW9uIEdlKGUpe3JldHVybiAxNSotTWF0aC5yb3VuZChlLl9kLmdldFRpbWV6b25lT2Zmc2V0KCkvMTUpfWZ1bmN0aW9uICRlKHQsbil7dmFyIG8scj10aGlzLl9vZmZzZXR8fDA7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP251bGwhPXQ/KCJzdHJpbmciPT10eXBlb2YgdD90PVllKFRvLHQpOk1hdGguYWJzKHQpPDE2JiYodD02MCp0KSwhdGhpcy5faXNVVEMmJm4mJihvPUdlKHRoaXMpKSx0aGlzLl9vZmZzZXQ9dCx0aGlzLl9pc1VUQz0hMCxudWxsIT1vJiZ0aGlzLmFkZChvLCJtIiksciE9PXQmJighbnx8dGhpcy5fY2hhbmdlSW5Qcm9ncmVzcz9jdCh0aGlzLHJ0KHQtciwibSIpLDEsITEpOnRoaXMuX2NoYW5nZUluUHJvZ3Jlc3N8fCh0aGlzLl9jaGFuZ2VJblByb2dyZXNzPSEwLGUudXBkYXRlT2Zmc2V0KHRoaXMsITApLHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3M9bnVsbCkpLHRoaXMpOnRoaXMuX2lzVVRDP3I6R2UodGhpcyk6bnVsbCE9dD90aGlzOk5hTn1mdW5jdGlvbiBYZShlLHQpe3JldHVybiBudWxsIT1lPygic3RyaW5nIiE9dHlwZW9mIGUmJihlPS1lKSx0aGlzLnV0Y09mZnNldChlLHQpLHRoaXMpOi10aGlzLnV0Y09mZnNldCgpfWZ1bmN0aW9uIEtlKGUpe3JldHVybiB0aGlzLnV0Y09mZnNldCgwLGUpfWZ1bmN0aW9uIHFlKGUpe3JldHVybiB0aGlzLl9pc1VUQyYmKHRoaXMudXRjT2Zmc2V0KDAsZSksdGhpcy5faXNVVEM9ITEsZSYmdGhpcy5zdWJ0cmFjdChHZSh0aGlzKSwibSIpKSx0aGlzfWZ1bmN0aW9uIFplKCl7cmV0dXJuIHRoaXMuX3R6bT90aGlzLnV0Y09mZnNldCh0aGlzLl90em0pOiJzdHJpbmciPT10eXBlb2YgdGhpcy5faSYmdGhpcy51dGNPZmZzZXQoWWUoRW8sdGhpcy5faSkpLHRoaXN9ZnVuY3Rpb24gSmUoZSl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpPyhlPWU/V2UoZSkudXRjT2Zmc2V0KCk6MCwodGhpcy51dGNPZmZzZXQoKS1lKSU2MD09PTApOiExfWZ1bmN0aW9uIFFlKCl7cmV0dXJuIHRoaXMudXRjT2Zmc2V0KCk+dGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpfHx0aGlzLnV0Y09mZnNldCgpPnRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKX1mdW5jdGlvbiBldCgpe2lmKCFwKHRoaXMuX2lzRFNUU2hpZnRlZCkpcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDt2YXIgZT17fTtpZihnKGUsdGhpcyksZT1QZShlKSxlLl9hKXt2YXIgdD1lLl9pc1VUQz91KGUuX2EpOldlKGUuX2EpO3RoaXMuX2lzRFNUU2hpZnRlZD10aGlzLmlzVmFsaWQoKSYmYihlLl9hLHQudG9BcnJheSgpKT4wfWVsc2UgdGhpcy5faXNEU1RTaGlmdGVkPSExO3JldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWR9ZnVuY3Rpb24gdHQoKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCk/IXRoaXMuX2lzVVRDOiExfWZ1bmN0aW9uIG50KCl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP3RoaXMuX2lzVVRDOiExfWZ1bmN0aW9uIG90KCl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP3RoaXMuX2lzVVRDJiYwPT09dGhpcy5fb2Zmc2V0OiExfWZ1bmN0aW9uIHJ0KGUsdCl7dmFyIG4sbyxyLGk9ZSxzPW51bGw7cmV0dXJuIEJlKGUpP2k9e21zOmUuX21pbGxpc2Vjb25kcyxkOmUuX2RheXMsTTplLl9tb250aHN9OiJudW1iZXIiPT10eXBlb2YgZT8oaT17fSx0P2lbdF09ZTppLm1pbGxpc2Vjb25kcz1lKToocz1uci5leGVjKGUpKT8obj0iLSI9PT1zWzFdPy0xOjEsaT17eTowLGQ6eShzW3hvXSkqbixoOnkoc1tQb10pKm4sbTp5KHNbTm9dKSpuLHM6eShzW0xvXSkqbixtczp5KHNbV29dKSpufSk6KHM9b3IuZXhlYyhlKSk/KG49Ii0iPT09c1sxXT8tMToxLGk9e3k6aXQoc1syXSxuKSxNOml0KHNbM10sbiksdzppdChzWzRdLG4pLGQ6aXQoc1s1XSxuKSxoOml0KHNbNl0sbiksbTppdChzWzddLG4pLHM6aXQoc1s4XSxuKX0pOm51bGw9PWk/aT17fToib2JqZWN0Ij09dHlwZW9mIGkmJigiZnJvbSJpbiBpfHwidG8iaW4gaSkmJihyPWx0KFdlKGkuZnJvbSksV2UoaS50bykpLGk9e30saS5tcz1yLm1pbGxpc2Vjb25kcyxpLk09ci5tb250aHMpLG89bmV3IEZlKGkpLEJlKGUpJiZsKGUsIl9sb2NhbGUiKSYmKG8uX2xvY2FsZT1lLl9sb2NhbGUpLG99ZnVuY3Rpb24gaXQoZSx0KXt2YXIgbj1lJiZwYXJzZUZsb2F0KGUucmVwbGFjZSgiLCIsIi4iKSk7cmV0dXJuKGlzTmFOKG4pPzA6bikqdH1mdW5jdGlvbiBzdChlLHQpe3ZhciBuPXttaWxsaXNlY29uZHM6MCxtb250aHM6MH07cmV0dXJuIG4ubW9udGhzPXQubW9udGgoKS1lLm1vbnRoKCkrMTIqKHQueWVhcigpLWUueWVhcigpKSxlLmNsb25lKCkuYWRkKG4ubW9udGhzLCJNIikuaXNBZnRlcih0KSYmLS1uLm1vbnRocyxuLm1pbGxpc2Vjb25kcz0rdC0rZS5jbG9uZSgpLmFkZChuLm1vbnRocywiTSIpLG59ZnVuY3Rpb24gbHQoZSx0KXt2YXIgbjtyZXR1cm4gZS5pc1ZhbGlkKCkmJnQuaXNWYWxpZCgpPyh0PVVlKHQsZSksZS5pc0JlZm9yZSh0KT9uPXN0KGUsdCk6KG49c3QodCxlKSxuLm1pbGxpc2Vjb25kcz0tbi5taWxsaXNlY29uZHMsbi5tb250aHM9LW4ubW9udGhzKSxuKTp7bWlsbGlzZWNvbmRzOjAsbW9udGhzOjB9fWZ1bmN0aW9uIGF0KGUpe3JldHVybiAwPmU/LTEqTWF0aC5yb3VuZCgtMSplKTpNYXRoLnJvdW5kKGUpfWZ1bmN0aW9uIHV0KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4sbyl7dmFyIHIsaTtyZXR1cm4gbnVsbD09PW98fGlzTmFOKCtvKXx8KFIodCwibW9tZW50KCkuIit0KyIocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuIit0KyIobnVtYmVyLCBwZXJpb2QpLiIpLGk9bixuPW8sbz1pKSxuPSJzdHJpbmciPT10eXBlb2Ygbj8rbjpuLHI9cnQobixvKSxjdCh0aGlzLHIsZSksdGhpc319ZnVuY3Rpb24gY3QodCxuLG8scil7dmFyIGk9bi5fbWlsbGlzZWNvbmRzLHM9YXQobi5fZGF5cyksbD1hdChuLl9tb250aHMpO3QuaXNWYWxpZCgpJiYocj1udWxsPT1yPyEwOnIsaSYmdC5fZC5zZXRUaW1lKCt0Ll9kK2kqbykscyYmQih0LCJEYXRlIixGKHQsIkRhdGUiKStzKm8pLGwmJmxlKHQsRih0LCJNb250aCIpK2wqbyksciYmZS51cGRhdGVPZmZzZXQodCxzfHxsKSl9ZnVuY3Rpb24gaHQoZSx0KXt2YXIgbj1lfHxXZSgpLG89VWUobix0aGlzKS5zdGFydE9mKCJkYXkiKSxyPXRoaXMuZGlmZihvLCJkYXlzIiwhMCksaT0tNj5yPyJzYW1lRWxzZSI6LTE+cj8ibGFzdFdlZWsiOjA+cj8ibGFzdERheSI6MT5yPyJzYW1lRGF5IjoyPnI/Im5leHREYXkiOjc+cj8ibmV4dFdlZWsiOiJzYW1lRWxzZSIscz10JiYoUyh0W2ldKT90W2ldKCk6dFtpXSk7cmV0dXJuIHRoaXMuZm9ybWF0KHN8fHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGksdGhpcyxXZShuKSkpfWZ1bmN0aW9uIGR0KCl7cmV0dXJuIG5ldyBtKHRoaXMpfWZ1bmN0aW9uIGZ0KGUsdCl7dmFyIG49dyhlKT9lOldlKGUpO3JldHVybiB0aGlzLmlzVmFsaWQoKSYmbi5pc1ZhbGlkKCk/KHQ9SShwKHQpPyJtaWxsaXNlY29uZCI6dCksIm1pbGxpc2Vjb25kIj09PXQ/K3RoaXM+K246K248K3RoaXMuY2xvbmUoKS5zdGFydE9mKHQpKTohMX1mdW5jdGlvbiBwdChlLHQpe3ZhciBuPXcoZSk/ZTpXZShlKTtyZXR1cm4gdGhpcy5pc1ZhbGlkKCkmJm4uaXNWYWxpZCgpPyh0PUkocCh0KT8ibWlsbGlzZWNvbmQiOnQpLCJtaWxsaXNlY29uZCI9PT10PytuPit0aGlzOit0aGlzLmNsb25lKCkuZW5kT2YodCk8K24pOiExfWZ1bmN0aW9uIGd0KGUsdCxuKXtyZXR1cm4gdGhpcy5pc0FmdGVyKGUsbikmJnRoaXMuaXNCZWZvcmUodCxuKX1mdW5jdGlvbiBtdChlLHQpe3ZhciBuLG89dyhlKT9lOldlKGUpO3JldHVybiB0aGlzLmlzVmFsaWQoKSYmby5pc1ZhbGlkKCk/KHQ9SSh0fHwibWlsbGlzZWNvbmQiKSwibWlsbGlzZWNvbmQiPT09dD8rdGhpcz09PStvOihuPStvLCt0aGlzLmNsb25lKCkuc3RhcnRPZih0KTw9biYmbjw9K3RoaXMuY2xvbmUoKS5lbmRPZih0KSkpOiExfWZ1bmN0aW9uIHd0KGUsdCl7cmV0dXJuIHRoaXMuaXNTYW1lKGUsdCl8fHRoaXMuaXNBZnRlcihlLHQpfWZ1bmN0aW9uIHZ0KGUsdCl7cmV0dXJuIHRoaXMuaXNTYW1lKGUsdCl8fHRoaXMuaXNCZWZvcmUoZSx0KX1mdW5jdGlvbiB5dChlLHQsbil7dmFyIG8scixpLHM7cmV0dXJuIHRoaXMuaXNWYWxpZCgpPyhvPVVlKGUsdGhpcyksby5pc1ZhbGlkKCk/KHI9NmU0KihvLnV0Y09mZnNldCgpLXRoaXMudXRjT2Zmc2V0KCkpLHQ9SSh0KSwieWVhciI9PT10fHwibW9udGgiPT09dHx8InF1YXJ0ZXIiPT09dD8ocz1idCh0aGlzLG8pLCJxdWFydGVyIj09PXQ/cy89MzoieWVhciI9PT10JiYocy89MTIpKTooaT10aGlzLW8scz0ic2Vjb25kIj09PXQ/aS8xZTM6Im1pbnV0ZSI9PT10P2kvNmU0OiJob3VyIj09PXQ/aS8zNmU1OiJkYXkiPT09dD8oaS1yKS84NjRlNToid2VlayI9PT10PyhpLXIpLzYwNDhlNTppKSxuP3M6dihzKSk6TmFOKTpOYU59ZnVuY3Rpb24gYnQoZSx0KXt2YXIgbixvLHI9MTIqKHQueWVhcigpLWUueWVhcigpKSsodC5tb250aCgpLWUubW9udGgoKSksaT1lLmNsb25lKCkuYWRkKHIsIm1vbnRocyIpO3JldHVybiAwPnQtaT8obj1lLmNsb25lKCkuYWRkKHItMSwibW9udGhzIiksbz0odC1pKS8oaS1uKSk6KG49ZS5jbG9uZSgpLmFkZChyKzEsIm1vbnRocyIpLG89KHQtaSkvKG4taSkpLC0ocitvKX1mdW5jdGlvbiBDdCgpe3JldHVybiB0aGlzLmNsb25lKCkubG9jYWxlKCJlbiIpLmZvcm1hdCgiZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWloiKX1mdW5jdGlvbiBfdCgpe3ZhciBlPXRoaXMuY2xvbmUoKS51dGMoKTtyZXR1cm4gMDxlLnllYXIoKSYmZS55ZWFyKCk8PTk5OTk/UyhEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZyk/dGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpOlgoZSwiWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXSIpOlgoZSwiWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdIil9ZnVuY3Rpb24gUnQodCl7dmFyIG49WCh0aGlzLHR8fGUuZGVmYXVsdEZvcm1hdCk7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQobil9ZnVuY3Rpb24gU3QoZSx0KXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCkmJih3KGUpJiZlLmlzVmFsaWQoKXx8V2UoZSkuaXNWYWxpZCgpKT9ydCh7dG86dGhpcyxmcm9tOmV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXQpOnRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCl9ZnVuY3Rpb24gRXQoZSl7cmV0dXJuIHRoaXMuZnJvbShXZSgpLGUpfWZ1bmN0aW9uIFR0KGUsdCl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpJiYodyhlKSYmZS5pc1ZhbGlkKCl8fFdlKGUpLmlzVmFsaWQoKSk/cnQoe2Zyb206dGhpcyx0bzplfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF0KTp0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpfWZ1bmN0aW9uIE10KGUpe3JldHVybiB0aGlzLnRvKFdlKCksZSl9ZnVuY3Rpb24gT3QoZSl7dmFyIHQ7cmV0dXJuIHZvaWQgMD09PWU/dGhpcy5fbG9jYWxlLl9hYmJyOih0PU4oZSksbnVsbCE9dCYmKHRoaXMuX2xvY2FsZT10KSx0aGlzKX1mdW5jdGlvbiBrdCgpe3JldHVybiB0aGlzLl9sb2NhbGV9ZnVuY3Rpb24gSHQoZSl7c3dpdGNoKGU9SShlKSl7Y2FzZSJ5ZWFyIjp0aGlzLm1vbnRoKDApO2Nhc2UicXVhcnRlciI6Y2FzZSJtb250aCI6dGhpcy5kYXRlKDEpO2Nhc2Uid2VlayI6Y2FzZSJpc29XZWVrIjpjYXNlImRheSI6dGhpcy5ob3VycygwKTtjYXNlImhvdXIiOnRoaXMubWludXRlcygwKTtjYXNlIm1pbnV0ZSI6dGhpcy5zZWNvbmRzKDApO2Nhc2Uic2Vjb25kIjp0aGlzLm1pbGxpc2Vjb25kcygwKX1yZXR1cm4id2VlayI9PT1lJiZ0aGlzLndlZWtkYXkoMCksImlzb1dlZWsiPT09ZSYmdGhpcy5pc29XZWVrZGF5KDEpLCJxdWFydGVyIj09PWUmJnRoaXMubW9udGgoMypNYXRoLmZsb29yKHRoaXMubW9udGgoKS8zKSksdGhpc31mdW5jdGlvbiBEdChlKXtyZXR1cm4gZT1JKGUpLHZvaWQgMD09PWV8fCJtaWxsaXNlY29uZCI9PT1lP3RoaXM6dGhpcy5zdGFydE9mKGUpLmFkZCgxLCJpc29XZWVrIj09PWU/IndlZWsiOmUpLnN1YnRyYWN0KDEsIm1zIil9ZnVuY3Rpb24gQXQoKXtyZXR1cm4rdGhpcy5fZC02ZTQqKHRoaXMuX29mZnNldHx8MCl9ZnVuY3Rpb24geHQoKXtyZXR1cm4gTWF0aC5mbG9vcigrdGhpcy8xZTMpfWZ1bmN0aW9uIFB0KCl7cmV0dXJuIHRoaXMuX29mZnNldD9uZXcgRGF0ZSgrdGhpcyk6dGhpcy5fZH1mdW5jdGlvbiBOdCgpe3ZhciBlPXRoaXM7cmV0dXJuW2UueWVhcigpLGUubW9udGgoKSxlLmRhdGUoKSxlLmhvdXIoKSxlLm1pbnV0ZSgpLGUuc2Vjb25kKCksZS5taWxsaXNlY29uZCgpXX1mdW5jdGlvbiBMdCgpe3ZhciBlPXRoaXM7cmV0dXJue3llYXJzOmUueWVhcigpLG1vbnRoczplLm1vbnRoKCksZGF0ZTplLmRhdGUoKSxob3VyczplLmhvdXJzKCksbWludXRlczplLm1pbnV0ZXMoKSxzZWNvbmRzOmUuc2Vjb25kcygpLG1pbGxpc2Vjb25kczplLm1pbGxpc2Vjb25kcygpfX1mdW5jdGlvbiBXdCgpe3JldHVybiB0aGlzLmlzVmFsaWQoKT90aGlzLnRvSVNPU3RyaW5nKCk6bnVsbH1mdW5jdGlvbiBJdCgpe3JldHVybiBkKHRoaXMpfWZ1bmN0aW9uIGp0KCl7cmV0dXJuIGEoe30saCh0aGlzKSl9ZnVuY3Rpb24gVnQoKXtyZXR1cm4gaCh0aGlzKS5vdmVyZmxvd31mdW5jdGlvbiBGdCgpe3JldHVybntpbnB1dDp0aGlzLl9pLGZvcm1hdDp0aGlzLl9mLGxvY2FsZTp0aGlzLl9sb2NhbGUsaXNVVEM6dGhpcy5faXNVVEMsc3RyaWN0OnRoaXMuX3N0cmljdH19ZnVuY3Rpb24gQnQoZSx0KXtVKDAsW2UsZS5sZW5ndGhdLDAsdCl9ZnVuY3Rpb24genQoZSl7cmV0dXJuICR0LmNhbGwodGhpcyxlLHRoaXMud2VlaygpLHRoaXMud2Vla2RheSgpLHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyx0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpfWZ1bmN0aW9uIFl0KGUpe3JldHVybiAkdC5jYWxsKHRoaXMsZSx0aGlzLmlzb1dlZWsoKSx0aGlzLmlzb1dlZWtkYXkoKSwxLDQpfWZ1bmN0aW9uIFV0KCl7cmV0dXJuIFNlKHRoaXMueWVhcigpLDEsNCl9ZnVuY3Rpb24gR3QoKXt2YXIgZT10aGlzLmxvY2FsZURhdGEoKS5fd2VlaztyZXR1cm4gU2UodGhpcy55ZWFyKCksZS5kb3csZS5kb3kpfWZ1bmN0aW9uICR0KGUsdCxuLG8scil7dmFyIGk7cmV0dXJuIG51bGw9PWU/UmUodGhpcyxvLHIpLnllYXI6KGk9U2UoZSxvLHIpLHQ+aSYmKHQ9aSksWHQuY2FsbCh0aGlzLGUsdCxuLG8scikpfWZ1bmN0aW9uIFh0KGUsdCxuLG8scil7dmFyIGk9X2UoZSx0LG4sbyxyKSxzPXdlKGkueWVhciwwLGkuZGF5T2ZZZWFyKTtyZXR1cm4gdGhpcy55ZWFyKHMuZ2V0VVRDRnVsbFllYXIoKSksdGhpcy5tb250aChzLmdldFVUQ01vbnRoKCkpLHRoaXMuZGF0ZShzLmdldFVUQ0RhdGUoKSksdGhpc31mdW5jdGlvbiBLdChlKXtyZXR1cm4gbnVsbD09ZT9NYXRoLmNlaWwoKHRoaXMubW9udGgoKSsxKS8zKTp0aGlzLm1vbnRoKDMqKGUtMSkrdGhpcy5tb250aCgpJTMpfWZ1bmN0aW9uIHF0KGUpe3JldHVybiBSZShlLHRoaXMuX3dlZWsuZG93LHRoaXMuX3dlZWsuZG95KS53ZWVrfWZ1bmN0aW9uIFp0KCl7cmV0dXJuIHRoaXMuX3dlZWsuZG93fWZ1bmN0aW9uIEp0KCl7cmV0dXJuIHRoaXMuX3dlZWsuZG95fWZ1bmN0aW9uIFF0KGUpe3ZhciB0PXRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7cmV0dXJuIG51bGw9PWU/dDp0aGlzLmFkZCg3KihlLXQpLCJkIil9ZnVuY3Rpb24gZW4oZSl7dmFyIHQ9UmUodGhpcywxLDQpLndlZWs7cmV0dXJuIG51bGw9PWU/dDp0aGlzLmFkZCg3KihlLXQpLCJkIil9ZnVuY3Rpb24gdG4oZSx0KXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/ZTppc05hTihlKT8oZT10LndlZWtkYXlzUGFyc2UoZSksIm51bWJlciI9PXR5cGVvZiBlP2U6bnVsbCk6cGFyc2VJbnQoZSwxMCl9ZnVuY3Rpb24gbm4oZSx0KXtyZXR1cm4gcih0aGlzLl93ZWVrZGF5cyk/dGhpcy5fd2Vla2RheXNbZS5kYXkoKV06dGhpcy5fd2Vla2RheXNbdGhpcy5fd2Vla2RheXMuaXNGb3JtYXQudGVzdCh0KT8iZm9ybWF0Ijoic3RhbmRhbG9uZSJdW2UuZGF5KCldfWZ1bmN0aW9uIG9uKGUpe3JldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0W2UuZGF5KCldfWZ1bmN0aW9uIHJuKGUpe3JldHVybiB0aGlzLl93ZWVrZGF5c01pbltlLmRheSgpXX1mdW5jdGlvbiBzbihlLHQsbil7dmFyIG8scixpO2Zvcih0aGlzLl93ZWVrZGF5c1BhcnNlfHwodGhpcy5fd2Vla2RheXNQYXJzZT1bXSx0aGlzLl9taW5XZWVrZGF5c1BhcnNlPVtdLHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZT1bXSx0aGlzLl9mdWxsV2Vla2RheXNQYXJzZT1bXSksbz0wOzc+bztvKyspe2lmKHI9V2UoWzJlMywxXSkuZGF5KG8pLG4mJiF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtvXSYmKHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW29dPW5ldyBSZWdFeHAoIl4iK3RoaXMud2Vla2RheXMociwiIikucmVwbGFjZSgiLiIsIi4/IikrIiQiLCJpIiksdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW29dPW5ldyBSZWdFeHAoIl4iK3RoaXMud2Vla2RheXNTaG9ydChyLCIiKS5yZXBsYWNlKCIuIiwiLj8iKSsiJCIsImkiKSx0aGlzLl9taW5XZWVrZGF5c1BhcnNlW29dPW5ldyBSZWdFeHAoIl4iK3RoaXMud2Vla2RheXNNaW4ociwiIikucmVwbGFjZSgiLiIsIi4/IikrIiQiLCJpIikpLHRoaXMuX3dlZWtkYXlzUGFyc2Vbb118fChpPSJeIit0aGlzLndlZWtkYXlzKHIsIiIpKyJ8XiIrdGhpcy53ZWVrZGF5c1Nob3J0KHIsIiIpKyJ8XiIrdGhpcy53ZWVrZGF5c01pbihyLCIiKSwKdGhpcy5fd2Vla2RheXNQYXJzZVtvXT1uZXcgUmVnRXhwKGkucmVwbGFjZSgiLiIsIiIpLCJpIikpLG4mJiJkZGRkIj09PXQmJnRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW29dLnRlc3QoZSkpcmV0dXJuIG87aWYobiYmImRkZCI9PT10JiZ0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2Vbb10udGVzdChlKSlyZXR1cm4gbztpZihuJiYiZGQiPT09dCYmdGhpcy5fbWluV2Vla2RheXNQYXJzZVtvXS50ZXN0KGUpKXJldHVybiBvO2lmKCFuJiZ0aGlzLl93ZWVrZGF5c1BhcnNlW29dLnRlc3QoZSkpcmV0dXJuIG99fWZ1bmN0aW9uIGxuKGUpe2lmKCF0aGlzLmlzVmFsaWQoKSlyZXR1cm4gbnVsbCE9ZT90aGlzOk5hTjt2YXIgdD10aGlzLl9pc1VUQz90aGlzLl9kLmdldFVUQ0RheSgpOnRoaXMuX2QuZ2V0RGF5KCk7cmV0dXJuIG51bGwhPWU/KGU9dG4oZSx0aGlzLmxvY2FsZURhdGEoKSksdGhpcy5hZGQoZS10LCJkIikpOnR9ZnVuY3Rpb24gYW4oZSl7aWYoIXRoaXMuaXNWYWxpZCgpKXJldHVybiBudWxsIT1lP3RoaXM6TmFOO3ZhciB0PSh0aGlzLmRheSgpKzctdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSU3O3JldHVybiBudWxsPT1lP3Q6dGhpcy5hZGQoZS10LCJkIil9ZnVuY3Rpb24gdW4oZSl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP251bGw9PWU/dGhpcy5kYXkoKXx8Nzp0aGlzLmRheSh0aGlzLmRheSgpJTc/ZTplLTcpOm51bGwhPWU/dGhpczpOYU59ZnVuY3Rpb24gY24oZSl7dmFyIHQ9TWF0aC5yb3VuZCgodGhpcy5jbG9uZSgpLnN0YXJ0T2YoImRheSIpLXRoaXMuY2xvbmUoKS5zdGFydE9mKCJ5ZWFyIikpLzg2NGU1KSsxO3JldHVybiBudWxsPT1lP3Q6dGhpcy5hZGQoZS10LCJkIil9ZnVuY3Rpb24gaG4oKXtyZXR1cm4gdGhpcy5ob3VycygpJTEyfHwxMn1mdW5jdGlvbiBkbihlLHQpe1UoZSwwLDAsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0odGhpcy5ob3VycygpLHRoaXMubWludXRlcygpLHQpfSl9ZnVuY3Rpb24gZm4oZSx0KXtyZXR1cm4gdC5fbWVyaWRpZW1QYXJzZX1mdW5jdGlvbiBwbihlKXtyZXR1cm4icCI9PT0oZSsiIikudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCl9ZnVuY3Rpb24gZ24oZSx0LG4pe3JldHVybiBlPjExP24/InBtIjoiUE0iOm4/ImFtIjoiQU0ifWZ1bmN0aW9uIG1uKGUsdCl7dFtXb109eSgxZTMqKCIwLiIrZSkpfWZ1bmN0aW9uIHduKCl7cmV0dXJuIHRoaXMuX2lzVVRDPyJVVEMiOiIifWZ1bmN0aW9uIHZuKCl7cmV0dXJuIHRoaXMuX2lzVVRDPyJDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZSI6IiJ9ZnVuY3Rpb24geW4oZSl7cmV0dXJuIFdlKDFlMyplKX1mdW5jdGlvbiBibigpe3JldHVybiBXZS5hcHBseShudWxsLGFyZ3VtZW50cykucGFyc2Vab25lKCl9ZnVuY3Rpb24gQ24oZSx0LG4pe3ZhciBvPXRoaXMuX2NhbGVuZGFyW2VdO3JldHVybiBTKG8pP28uY2FsbCh0LG4pOm99ZnVuY3Rpb24gX24oZSl7dmFyIHQ9dGhpcy5fbG9uZ0RhdGVGb3JtYXRbZV0sbj10aGlzLl9sb25nRGF0ZUZvcm1hdFtlLnRvVXBwZXJDYXNlKCldO3JldHVybiB0fHwhbj90Oih0aGlzLl9sb25nRGF0ZUZvcm1hdFtlXT1uLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLGZ1bmN0aW9uKGUpe3JldHVybiBlLnNsaWNlKDEpfSksdGhpcy5fbG9uZ0RhdGVGb3JtYXRbZV0pfWZ1bmN0aW9uIFJuKCl7cmV0dXJuIHRoaXMuX2ludmFsaWREYXRlfWZ1bmN0aW9uIFNuKGUpe3JldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoIiVkIixlKX1mdW5jdGlvbiBFbihlKXtyZXR1cm4gZX1mdW5jdGlvbiBUbihlLHQsbixvKXt2YXIgcj10aGlzLl9yZWxhdGl2ZVRpbWVbbl07cmV0dXJuIFMocik/cihlLHQsbixvKTpyLnJlcGxhY2UoLyVkL2ksZSl9ZnVuY3Rpb24gTW4oZSx0KXt2YXIgbj10aGlzLl9yZWxhdGl2ZVRpbWVbZT4wPyJmdXR1cmUiOiJwYXN0Il07cmV0dXJuIFMobik/bih0KTpuLnJlcGxhY2UoLyVzL2ksdCl9ZnVuY3Rpb24gT24oZSx0LG4sbyl7dmFyIHI9TigpLGk9dSgpLnNldChvLHQpO3JldHVybiByW25dKGksZSl9ZnVuY3Rpb24ga24oZSx0LG4sbyxyKXtpZigibnVtYmVyIj09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8IiIsbnVsbCE9dClyZXR1cm4gT24oZSx0LG4scik7dmFyIGkscz1bXTtmb3IoaT0wO28+aTtpKyspc1tpXT1PbihlLGksbixyKTtyZXR1cm4gc31mdW5jdGlvbiBIbihlLHQpe3JldHVybiBrbihlLHQsIm1vbnRocyIsMTIsIm1vbnRoIil9ZnVuY3Rpb24gRG4oZSx0KXtyZXR1cm4ga24oZSx0LCJtb250aHNTaG9ydCIsMTIsIm1vbnRoIil9ZnVuY3Rpb24gQW4oZSx0KXtyZXR1cm4ga24oZSx0LCJ3ZWVrZGF5cyIsNywiZGF5Iil9ZnVuY3Rpb24geG4oZSx0KXtyZXR1cm4ga24oZSx0LCJ3ZWVrZGF5c1Nob3J0Iiw3LCJkYXkiKX1mdW5jdGlvbiBQbihlLHQpe3JldHVybiBrbihlLHQsIndlZWtkYXlzTWluIiw3LCJkYXkiKX1mdW5jdGlvbiBObigpe3ZhciBlPXRoaXMuX2RhdGE7cmV0dXJuIHRoaXMuX21pbGxpc2Vjb25kcz1Ncih0aGlzLl9taWxsaXNlY29uZHMpLHRoaXMuX2RheXM9TXIodGhpcy5fZGF5cyksdGhpcy5fbW9udGhzPU1yKHRoaXMuX21vbnRocyksZS5taWxsaXNlY29uZHM9TXIoZS5taWxsaXNlY29uZHMpLGUuc2Vjb25kcz1NcihlLnNlY29uZHMpLGUubWludXRlcz1NcihlLm1pbnV0ZXMpLGUuaG91cnM9TXIoZS5ob3VycyksZS5tb250aHM9TXIoZS5tb250aHMpLGUueWVhcnM9TXIoZS55ZWFycyksdGhpc31mdW5jdGlvbiBMbihlLHQsbixvKXt2YXIgcj1ydCh0LG4pO3JldHVybiBlLl9taWxsaXNlY29uZHMrPW8qci5fbWlsbGlzZWNvbmRzLGUuX2RheXMrPW8qci5fZGF5cyxlLl9tb250aHMrPW8qci5fbW9udGhzLGUuX2J1YmJsZSgpfWZ1bmN0aW9uIFduKGUsdCl7cmV0dXJuIExuKHRoaXMsZSx0LDEpfWZ1bmN0aW9uIEluKGUsdCl7cmV0dXJuIExuKHRoaXMsZSx0LC0xKX1mdW5jdGlvbiBqbihlKXtyZXR1cm4gMD5lP01hdGguZmxvb3IoZSk6TWF0aC5jZWlsKGUpfWZ1bmN0aW9uIFZuKCl7dmFyIGUsdCxuLG8scixpPXRoaXMuX21pbGxpc2Vjb25kcyxzPXRoaXMuX2RheXMsbD10aGlzLl9tb250aHMsYT10aGlzLl9kYXRhO3JldHVybiBpPj0wJiZzPj0wJiZsPj0wfHwwPj1pJiYwPj1zJiYwPj1sfHwoaSs9ODY0ZTUqam4oQm4obCkrcykscz0wLGw9MCksYS5taWxsaXNlY29uZHM9aSUxZTMsZT12KGkvMWUzKSxhLnNlY29uZHM9ZSU2MCx0PXYoZS82MCksYS5taW51dGVzPXQlNjAsbj12KHQvNjApLGEuaG91cnM9biUyNCxzKz12KG4vMjQpLHI9dihGbihzKSksbCs9cixzLT1qbihCbihyKSksbz12KGwvMTIpLGwlPTEyLGEuZGF5cz1zLGEubW9udGhzPWwsYS55ZWFycz1vLHRoaXN9ZnVuY3Rpb24gRm4oZSl7cmV0dXJuIDQ4MDAqZS8xNDYwOTd9ZnVuY3Rpb24gQm4oZSl7cmV0dXJuIDE0NjA5NyplLzQ4MDB9ZnVuY3Rpb24gem4oZSl7dmFyIHQsbixvPXRoaXMuX21pbGxpc2Vjb25kcztpZihlPUkoZSksIm1vbnRoIj09PWV8fCJ5ZWFyIj09PWUpcmV0dXJuIHQ9dGhpcy5fZGF5cytvLzg2NGU1LG49dGhpcy5fbW9udGhzK0ZuKHQpLCJtb250aCI9PT1lP246bi8xMjtzd2l0Y2godD10aGlzLl9kYXlzK01hdGgucm91bmQoQm4odGhpcy5fbW9udGhzKSksZSl7Y2FzZSJ3ZWVrIjpyZXR1cm4gdC83K28vNjA0OGU1O2Nhc2UiZGF5IjpyZXR1cm4gdCtvLzg2NGU1O2Nhc2UiaG91ciI6cmV0dXJuIDI0KnQrby8zNmU1O2Nhc2UibWludXRlIjpyZXR1cm4gMTQ0MCp0K28vNmU0O2Nhc2Uic2Vjb25kIjpyZXR1cm4gODY0MDAqdCtvLzFlMztjYXNlIm1pbGxpc2Vjb25kIjpyZXR1cm4gTWF0aC5mbG9vcig4NjRlNSp0KStvO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIHVuaXQgIitlKX19ZnVuY3Rpb24gWW4oKXtyZXR1cm4gdGhpcy5fbWlsbGlzZWNvbmRzKzg2NGU1KnRoaXMuX2RheXMrdGhpcy5fbW9udGhzJTEyKjI1OTJlNiszMTUzNmU2KnkodGhpcy5fbW9udGhzLzEyKX1mdW5jdGlvbiBVbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcyhlKX19ZnVuY3Rpb24gR24oZSl7cmV0dXJuIGU9SShlKSx0aGlzW2UrInMiXSgpfWZ1bmN0aW9uICRuKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhW2VdfX1mdW5jdGlvbiBYbigpe3JldHVybiB2KHRoaXMuZGF5cygpLzcpfWZ1bmN0aW9uIEtuKGUsdCxuLG8scil7cmV0dXJuIHIucmVsYXRpdmVUaW1lKHR8fDEsISFuLGUsbyl9ZnVuY3Rpb24gcW4oZSx0LG4pe3ZhciBvPXJ0KGUpLmFicygpLHI9enIoby5hcygicyIpKSxpPXpyKG8uYXMoIm0iKSkscz16cihvLmFzKCJoIikpLGw9enIoby5hcygiZCIpKSxhPXpyKG8uYXMoIk0iKSksdT16cihvLmFzKCJ5IikpLGM9cjxZci5zJiZbInMiLHJdfHwxPj1pJiZbIm0iXXx8aTxZci5tJiZbIm1tIixpXXx8MT49cyYmWyJoIl18fHM8WXIuaCYmWyJoaCIsc118fDE+PWwmJlsiZCJdfHxsPFlyLmQmJlsiZGQiLGxdfHwxPj1hJiZbIk0iXXx8YTxZci5NJiZbIk1NIixhXXx8MT49dSYmWyJ5Il18fFsieXkiLHVdO3JldHVybiBjWzJdPXQsY1szXT0rZT4wLGNbNF09bixLbi5hcHBseShudWxsLGMpfWZ1bmN0aW9uIFpuKGUsdCl7cmV0dXJuIHZvaWQgMD09PVlyW2VdPyExOnZvaWQgMD09PXQ/WXJbZV06KFlyW2VdPXQsITApfWZ1bmN0aW9uIEpuKGUpe3ZhciB0PXRoaXMubG9jYWxlRGF0YSgpLG49cW4odGhpcywhZSx0KTtyZXR1cm4gZSYmKG49dC5wYXN0RnV0dXJlKCt0aGlzLG4pKSx0LnBvc3Rmb3JtYXQobil9ZnVuY3Rpb24gUW4oKXt2YXIgZSx0LG4sbz1Vcih0aGlzLl9taWxsaXNlY29uZHMpLzFlMyxyPVVyKHRoaXMuX2RheXMpLGk9VXIodGhpcy5fbW9udGhzKTtlPXYoby82MCksdD12KGUvNjApLG8lPTYwLGUlPTYwLG49dihpLzEyKSxpJT0xMjt2YXIgcz1uLGw9aSxhPXIsdT10LGM9ZSxoPW8sZD10aGlzLmFzU2Vjb25kcygpO3JldHVybiBkPygwPmQ/Ii0iOiIiKSsiUCIrKHM/cysiWSI6IiIpKyhsP2wrIk0iOiIiKSsoYT9hKyJEIjoiIikrKHV8fGN8fGg/IlQiOiIiKSsodT91KyJIIjoiIikrKGM/YysiTSI6IiIpKyhoP2grIlMiOiIiKToiUDBEIn12YXIgZW8sdG89ZS5tb21lbnRQcm9wZXJ0aWVzPVtdLG5vPSExLG9vPXt9O2Uuc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzPSExO3ZhciBybyxpbz17fSxzbz17fSxsbz0vKFxbW15cW10qXF0pfChcXCk/KFtIaF1tbShzcyk/fE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFFvP3xZWVlZWVl8WVlZWVl8WVlZWXxZWXxnZyhnZ2c/KT98R0coR0dHPyk/fGV8RXxhfEF8aGg/fEhIP3xtbT98c3M/fFN7MSw5fXx4fFh8eno/fFpaP3wuKS9nLGFvPS8oXFtbXlxbXSpcXSl8KFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nLHVvPXt9LGNvPXt9LGhvPS9cZC8sZm89L1xkXGQvLHBvPS9cZHszfS8sZ289L1xkezR9Lyxtbz0vWystXT9cZHs2fS8sd289L1xkXGQ/Lyx2bz0vXGRcZFxkXGQ/Lyx5bz0vXGRcZFxkXGRcZFxkPy8sYm89L1xkezEsM30vLENvPS9cZHsxLDR9Lyxfbz0vWystXT9cZHsxLDZ9LyxSbz0vXGQrLyxTbz0vWystXT9cZCsvLEVvPS9afFsrLV1cZFxkOj9cZFxkL2dpLFRvPS9afFsrLV1cZFxkKD86Oj9cZFxkKT8vZ2ksTW89L1srLV0/XGQrKFwuXGR7MSwzfSk/LyxPbz0vWzAtOV0qWydhLXpcdTAwQTAtXHUwNUZGXHUwNzAwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSt8W1x1MDYwMC1cdTA2RkZcL10rKFxzKj9bXHUwNjAwLVx1MDZGRl0rKXsxLDJ9L2ksa289e30sSG89e30sRG89MCxBbz0xLHhvPTIsUG89MyxObz00LExvPTUsV289NixJbz03LGpvPTg7VSgiTSIsWyJNTSIsMl0sIk1vIixmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vbnRoKCkrMX0pLFUoIk1NTSIsMCwwLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHNTaG9ydCh0aGlzLGUpfSksVSgiTU1NTSIsMCwwLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHModGhpcyxlKX0pLFcoIm1vbnRoIiwiTSIpLHEoIk0iLHdvKSxxKCJNTSIsd28sZm8pLHEoIk1NTSIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5tb250aHNTaG9ydFJlZ2V4KGUpfSkscSgiTU1NTSIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5tb250aHNSZWdleChlKX0pLGVlKFsiTSIsIk1NIl0sZnVuY3Rpb24oZSx0KXt0W0FvXT15KGUpLTF9KSxlZShbIk1NTSIsIk1NTU0iXSxmdW5jdGlvbihlLHQsbixvKXt2YXIgcj1uLl9sb2NhbGUubW9udGhzUGFyc2UoZSxvLG4uX3N0cmljdCk7bnVsbCE9cj90W0FvXT1yOmgobikuaW52YWxpZE1vbnRoPWV9KTt2YXIgVm89L0Rbb0RdPyhcW1teXFtcXV0qXF18XHMrKStNTU1NPy8sRm89IkphbnVhcnlfRmVicnVhcnlfTWFyY2hfQXByaWxfTWF5X0p1bmVfSnVseV9BdWd1c3RfU2VwdGVtYmVyX09jdG9iZXJfTm92ZW1iZXJfRGVjZW1iZXIiLnNwbGl0KCJfIiksQm89Ikphbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjIi5zcGxpdCgiXyIpLHpvPU9vLFlvPU9vLFVvPS9eXHMqKCg/OlsrLV1cZHs2fXxcZHs0fSktKD86XGRcZC1cZFxkfFdcZFxkLVxkfFdcZFxkfFxkXGRcZHxcZFxkKSkoPzooVHwgKShcZFxkKD86OlxkXGQoPzo6XGRcZCg/OlsuLF1cZCspPyk/KT8pKFtcK1wtXVxkXGQoPzo6P1xkXGQpP3xccypaKT8pPy8sR289L15ccyooKD86WystXVxkezZ9fFxkezR9KSg/OlxkXGRcZFxkfFdcZFxkXGR8V1xkXGR8XGRcZFxkfFxkXGQpKSg/OihUfCApKFxkXGQoPzpcZFxkKD86XGRcZCg/OlsuLF1cZCspPyk/KT8pKFtcK1wtXVxkXGQoPzo6P1xkXGQpP3xccypaKT8pPy8sJG89L1p8WystXVxkXGQoPzo6P1xkXGQpPy8sWG89W1siWVlZWVlZLU1NLUREIiwvWystXVxkezZ9LVxkXGQtXGRcZC9dLFsiWVlZWS1NTS1ERCIsL1xkezR9LVxkXGQtXGRcZC9dLFsiR0dHRy1bV11XVy1FIiwvXGR7NH0tV1xkXGQtXGQvXSxbIkdHR0ctW1ddV1ciLC9cZHs0fS1XXGRcZC8sITFdLFsiWVlZWS1EREQiLC9cZHs0fS1cZHszfS9dLFsiWVlZWS1NTSIsL1xkezR9LVxkXGQvLCExXSxbIllZWVlZWU1NREQiLC9bKy1dXGR7MTB9L10sWyJZWVlZTU1ERCIsL1xkezh9L10sWyJHR0dHW1ddV1dFIiwvXGR7NH1XXGR7M30vXSxbIkdHR0dbV11XVyIsL1xkezR9V1xkezJ9LywhMV0sWyJZWVlZREREIiwvXGR7N30vXV0sS289W1siSEg6bW06c3MuU1NTUyIsL1xkXGQ6XGRcZDpcZFxkXC5cZCsvXSxbIkhIOm1tOnNzLFNTU1MiLC9cZFxkOlxkXGQ6XGRcZCxcZCsvXSxbIkhIOm1tOnNzIiwvXGRcZDpcZFxkOlxkXGQvXSxbIkhIOm1tIiwvXGRcZDpcZFxkL10sWyJISG1tc3MuU1NTUyIsL1xkXGRcZFxkXGRcZFwuXGQrL10sWyJISG1tc3MsU1NTUyIsL1xkXGRcZFxkXGRcZCxcZCsvXSxbIkhIbW1zcyIsL1xkXGRcZFxkXGRcZC9dLFsiSEhtbSIsL1xkXGRcZFxkL10sWyJISCIsL1xkXGQvXV0scW89L15cLz9EYXRlXCgoXC0/XGQrKS9pO2UuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2s9XygibW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUuIFRoaXMgaXMgZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB1cGNvbWluZyBtYWpvciByZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MDcgZm9yIG1vcmUgaW5mby4iLGZ1bmN0aW9uKGUpe2UuX2Q9bmV3IERhdGUoZS5faSsoZS5fdXNlVVRDPyIgVVRDIjoiIikpfSksVSgiWSIsMCwwLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy55ZWFyKCk7cmV0dXJuIDk5OTk+PWU/IiIrZToiKyIrZX0pLFUoMCxbIllZIiwyXSwwLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueWVhcigpJTEwMH0pLFUoMCxbIllZWVkiLDRdLDAsInllYXIiKSxVKDAsWyJZWVlZWSIsNV0sMCwieWVhciIpLFUoMCxbIllZWVlZWSIsNiwhMF0sMCwieWVhciIpLFcoInllYXIiLCJ5IikscSgiWSIsU28pLHEoIllZIix3byxmbykscSgiWVlZWSIsQ28sZ28pLHEoIllZWVlZIixfbyxtbykscSgiWVlZWVlZIixfbyxtbyksZWUoWyJZWVlZWSIsIllZWVlZWSJdLERvKSxlZSgiWVlZWSIsZnVuY3Rpb24odCxuKXtuW0RvXT0yPT09dC5sZW5ndGg/ZS5wYXJzZVR3b0RpZ2l0WWVhcih0KTp5KHQpfSksZWUoIllZIixmdW5jdGlvbih0LG4pe25bRG9dPWUucGFyc2VUd29EaWdpdFllYXIodCl9KSxlZSgiWSIsZnVuY3Rpb24oZSx0KXt0W0RvXT1wYXJzZUludChlLDEwKX0pLGUucGFyc2VUd29EaWdpdFllYXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHkoZSkrKHkoZSk+Njg/MTkwMDoyZTMpfTt2YXIgWm89VigiRnVsbFllYXIiLCExKTtlLklTT184NjAxPWZ1bmN0aW9uKCl7fTt2YXIgSm89XygibW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWF4IGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNTQ4IixmdW5jdGlvbigpe3ZhciBlPVdlLmFwcGx5KG51bGwsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5pc1ZhbGlkKCkmJmUuaXNWYWxpZCgpP3RoaXM+ZT90aGlzOmU6ZigpfSksUW89XygibW9tZW50KCkubWF4IGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNTQ4IixmdW5jdGlvbigpe3ZhciBlPVdlLmFwcGx5KG51bGwsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5pc1ZhbGlkKCkmJmUuaXNWYWxpZCgpP2U+dGhpcz90aGlzOmU6ZigpfSksZXI9ZnVuY3Rpb24oKXtyZXR1cm4gRGF0ZS5ub3c/RGF0ZS5ub3coKTorbmV3IERhdGV9O3plKCJaIiwiOiIpLHplKCJaWiIsIiIpLHEoIloiLFRvKSxxKCJaWiIsVG8pLGVlKFsiWiIsIlpaIl0sZnVuY3Rpb24oZSx0LG4pe24uX3VzZVVUQz0hMCxuLl90em09WWUoVG8sZSl9KTt2YXIgdHI9LyhbXCtcLV18XGRcZCkvZ2k7ZS51cGRhdGVPZmZzZXQ9ZnVuY3Rpb24oKXt9O3ZhciBucj0vXihcLSk/KD86KFxkKilbLiBdKT8oXGQrKVw6KFxkKykoPzpcOihcZCspXC4/KFxkezN9KT9cZCopPyQvLG9yPS9eKC0pP1AoPzooWzAtOSwuXSopWSk/KD86KFswLTksLl0qKU0pPyg/OihbMC05LC5dKilXKT8oPzooWzAtOSwuXSopRCk/KD86VCg/OihbMC05LC5dKilIKT8oPzooWzAtOSwuXSopTSk/KD86KFswLTksLl0qKVMpPyk/JC87cnQuZm49RmUucHJvdG90eXBlO3ZhciBycj11dCgxLCJhZGQiKSxpcj11dCgtMSwic3VidHJhY3QiKTtlLmRlZmF1bHRGb3JtYXQ9IllZWVktTU0tRERUSEg6bW06c3NaIjt2YXIgc3I9XygibW9tZW50KCkubGFuZygpIGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQsIHVzZSBtb21lbnQoKS5sb2NhbGVEYXRhKCkgdG8gZ2V0IHRoZSBsYW5ndWFnZSBjb25maWd1cmF0aW9uLiBVc2UgbW9tZW50KCkubG9jYWxlKCkgdG8gY2hhbmdlIGxhbmd1YWdlcy4iLGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lP3RoaXMubG9jYWxlRGF0YSgpOnRoaXMubG9jYWxlKGUpfSk7VSgwLFsiZ2ciLDJdLDAsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWVrWWVhcigpJTEwMH0pLFUoMCxbIkdHIiwyXSwwLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNvV2Vla1llYXIoKSUxMDB9KSxCdCgiZ2dnZyIsIndlZWtZZWFyIiksQnQoImdnZ2dnIiwid2Vla1llYXIiKSxCdCgiR0dHRyIsImlzb1dlZWtZZWFyIiksQnQoIkdHR0dHIiwiaXNvV2Vla1llYXIiKSxXKCJ3ZWVrWWVhciIsImdnIiksVygiaXNvV2Vla1llYXIiLCJHRyIpLHEoIkciLFNvKSxxKCJnIixTbykscSgiR0ciLHdvLGZvKSxxKCJnZyIsd28sZm8pLHEoIkdHR0ciLENvLGdvKSxxKCJnZ2dnIixDbyxnbykscSgiR0dHR0ciLF9vLG1vKSxxKCJnZ2dnZyIsX28sbW8pLHRlKFsiZ2dnZyIsImdnZ2dnIiwiR0dHRyIsIkdHR0dHIl0sZnVuY3Rpb24oZSx0LG4sbyl7dFtvLnN1YnN0cigwLDIpXT15KGUpfSksdGUoWyJnZyIsIkdHIl0sZnVuY3Rpb24odCxuLG8scil7bltyXT1lLnBhcnNlVHdvRGlnaXRZZWFyKHQpfSksVSgiUSIsMCwiUW8iLCJxdWFydGVyIiksVygicXVhcnRlciIsIlEiKSxxKCJRIixobyksZWUoIlEiLGZ1bmN0aW9uKGUsdCl7dFtBb109MyooeShlKS0xKX0pLFUoInciLFsid3ciLDJdLCJ3byIsIndlZWsiKSxVKCJXIixbIldXIiwyXSwiV28iLCJpc29XZWVrIiksVygid2VlayIsInciKSxXKCJpc29XZWVrIiwiVyIpLHEoInciLHdvKSxxKCJ3dyIsd28sZm8pLHEoIlciLHdvKSxxKCJXVyIsd28sZm8pLHRlKFsidyIsInd3IiwiVyIsIldXIl0sZnVuY3Rpb24oZSx0LG4sbyl7dFtvLnN1YnN0cigwLDEpXT15KGUpfSk7dmFyIGxyPXtkb3c6MCxkb3k6Nn07VSgiRCIsWyJERCIsMl0sIkRvIiwiZGF0ZSIpLFcoImRhdGUiLCJEIikscSgiRCIsd28pLHEoIkREIix3byxmbykscSgiRG8iLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/dC5fb3JkaW5hbFBhcnNlOnQuX29yZGluYWxQYXJzZUxlbmllbnR9KSxlZShbIkQiLCJERCJdLHhvKSxlZSgiRG8iLGZ1bmN0aW9uKGUsdCl7dFt4b109eShlLm1hdGNoKHdvKVswXSwxMCl9KTt2YXIgYXI9VigiRGF0ZSIsITApO1UoImQiLDAsImRvIiwiZGF5IiksVSgiZGQiLDAsMCxmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcyxlKX0pLFUoImRkZCIsMCwwLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsZSl9KSxVKCJkZGRkIiwwLDAsZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsZSl9KSxVKCJlIiwwLDAsIndlZWtkYXkiKSxVKCJFIiwwLDAsImlzb1dlZWtkYXkiKSxXKCJkYXkiLCJkIiksVygid2Vla2RheSIsImUiKSxXKCJpc29XZWVrZGF5IiwiRSIpLHEoImQiLHdvKSxxKCJlIix3bykscSgiRSIsd28pLHEoImRkIixPbykscSgiZGRkIixPbykscSgiZGRkZCIsT28pLHRlKFsiZGQiLCJkZGQiLCJkZGRkIl0sZnVuY3Rpb24oZSx0LG4sbyl7dmFyIHI9bi5fbG9jYWxlLndlZWtkYXlzUGFyc2UoZSxvLG4uX3N0cmljdCk7bnVsbCE9cj90LmQ9cjpoKG4pLmludmFsaWRXZWVrZGF5PWV9KSx0ZShbImQiLCJlIiwiRSJdLGZ1bmN0aW9uKGUsdCxuLG8pe3Rbb109eShlKX0pO3ZhciB1cj0iU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXkiLnNwbGl0KCJfIiksY3I9IlN1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCIuc3BsaXQoIl8iKSxocj0iU3VfTW9fVHVfV2VfVGhfRnJfU2EiLnNwbGl0KCJfIik7VSgiREREIixbIkREREQiLDNdLCJERERvIiwiZGF5T2ZZZWFyIiksVygiZGF5T2ZZZWFyIiwiREREIikscSgiREREIixibykscSgiRERERCIscG8pLGVlKFsiREREIiwiRERERCJdLGZ1bmN0aW9uKGUsdCxuKXtuLl9kYXlPZlllYXI9eShlKX0pLFUoIkgiLFsiSEgiLDJdLDAsImhvdXIiKSxVKCJoIixbImhoIiwyXSwwLGhuKSxVKCJobW0iLDAsMCxmdW5jdGlvbigpe3JldHVybiIiK2huLmFwcGx5KHRoaXMpK1kodGhpcy5taW51dGVzKCksMil9KSxVKCJobW1zcyIsMCwwLGZ1bmN0aW9uKCl7cmV0dXJuIiIraG4uYXBwbHkodGhpcykrWSh0aGlzLm1pbnV0ZXMoKSwyKStZKHRoaXMuc2Vjb25kcygpLDIpfSksVSgiSG1tIiwwLDAsZnVuY3Rpb24oKXtyZXR1cm4iIit0aGlzLmhvdXJzKCkrWSh0aGlzLm1pbnV0ZXMoKSwyKX0pLFUoIkhtbXNzIiwwLDAsZnVuY3Rpb24oKXtyZXR1cm4iIit0aGlzLmhvdXJzKCkrWSh0aGlzLm1pbnV0ZXMoKSwyKStZKHRoaXMuc2Vjb25kcygpLDIpfSksZG4oImEiLCEwKSxkbigiQSIsITEpLFcoImhvdXIiLCJoIikscSgiYSIsZm4pLHEoIkEiLGZuKSxxKCJIIix3bykscSgiaCIsd28pLHEoIkhIIix3byxmbykscSgiaGgiLHdvLGZvKSxxKCJobW0iLHZvKSxxKCJobW1zcyIseW8pLHEoIkhtbSIsdm8pLHEoIkhtbXNzIix5byksZWUoWyJIIiwiSEgiXSxQbyksZWUoWyJhIiwiQSJdLGZ1bmN0aW9uKGUsdCxuKXtuLl9pc1BtPW4uX2xvY2FsZS5pc1BNKGUpLG4uX21lcmlkaWVtPWV9KSxlZShbImgiLCJoaCJdLGZ1bmN0aW9uKGUsdCxuKXt0W1BvXT15KGUpLGgobikuYmlnSG91cj0hMH0pLGVlKCJobW0iLGZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1lLmxlbmd0aC0yO3RbUG9dPXkoZS5zdWJzdHIoMCxvKSksdFtOb109eShlLnN1YnN0cihvKSksaChuKS5iaWdIb3VyPSEwfSksZWUoImhtbXNzIixmdW5jdGlvbihlLHQsbil7dmFyIG89ZS5sZW5ndGgtNCxyPWUubGVuZ3RoLTI7dFtQb109eShlLnN1YnN0cigwLG8pKSx0W05vXT15KGUuc3Vic3RyKG8sMikpLHRbTG9dPXkoZS5zdWJzdHIocikpLGgobikuYmlnSG91cj0hMH0pLGVlKCJIbW0iLGZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1lLmxlbmd0aC0yO3RbUG9dPXkoZS5zdWJzdHIoMCxvKSksdFtOb109eShlLnN1YnN0cihvKSl9KSxlZSgiSG1tc3MiLGZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1lLmxlbmd0aC00LHI9ZS5sZW5ndGgtMjt0W1BvXT15KGUuc3Vic3RyKDAsbykpLHRbTm9dPXkoZS5zdWJzdHIobywyKSksdFtMb109eShlLnN1YnN0cihyKSl9KTt2YXIgZHI9L1thcF1cLj9tP1wuPy9pLGZyPVYoIkhvdXJzIiwhMCk7VSgibSIsWyJtbSIsMl0sMCwibWludXRlIiksVygibWludXRlIiwibSIpLHEoIm0iLHdvKSxxKCJtbSIsd28sZm8pLGVlKFsibSIsIm1tIl0sTm8pO3ZhciBwcj1WKCJNaW51dGVzIiwhMSk7VSgicyIsWyJzcyIsMl0sMCwic2Vjb25kIiksVygic2Vjb25kIiwicyIpLHEoInMiLHdvKSxxKCJzcyIsd28sZm8pLGVlKFsicyIsInNzIl0sTG8pO3ZhciBncj1WKCJTZWNvbmRzIiwhMSk7VSgiUyIsMCwwLGZ1bmN0aW9uKCl7cmV0dXJufn4odGhpcy5taWxsaXNlY29uZCgpLzEwMCl9KSxVKDAsWyJTUyIsMl0sMCxmdW5jdGlvbigpe3JldHVybn5+KHRoaXMubWlsbGlzZWNvbmQoKS8xMCl9KSxVKDAsWyJTU1MiLDNdLDAsIm1pbGxpc2Vjb25kIiksVSgwLFsiU1NTUyIsNF0sMCxmdW5jdGlvbigpe3JldHVybiAxMCp0aGlzLm1pbGxpc2Vjb25kKCl9KSxVKDAsWyJTU1NTUyIsNV0sMCxmdW5jdGlvbigpe3JldHVybiAxMDAqdGhpcy5taWxsaXNlY29uZCgpfSksVSgwLFsiU1NTU1NTIiw2XSwwLGZ1bmN0aW9uKCl7cmV0dXJuIDFlMyp0aGlzLm1pbGxpc2Vjb25kKCl9KSxVKDAsWyJTU1NTU1NTIiw3XSwwLGZ1bmN0aW9uKCl7cmV0dXJuIDFlNCp0aGlzLm1pbGxpc2Vjb25kKCl9KSxVKDAsWyJTU1NTU1NTUyIsOF0sMCxmdW5jdGlvbigpe3JldHVybiAxZTUqdGhpcy5taWxsaXNlY29uZCgpfSksVSgwLFsiU1NTU1NTU1NTIiw5XSwwLGZ1bmN0aW9uKCl7cmV0dXJuIDFlNip0aGlzLm1pbGxpc2Vjb25kKCl9KSxXKCJtaWxsaXNlY29uZCIsIm1zIikscSgiUyIsYm8saG8pLHEoIlNTIixibyxmbykscSgiU1NTIixibyxwbyk7dmFyIG1yO2Zvcihtcj0iU1NTUyI7bXIubGVuZ3RoPD05O21yKz0iUyIpcShtcixSbyk7Zm9yKG1yPSJTIjttci5sZW5ndGg8PTk7bXIrPSJTIillZShtcixtbik7dmFyIHdyPVYoIk1pbGxpc2Vjb25kcyIsITEpO1UoInoiLDAsMCwiem9uZUFiYnIiKSxVKCJ6eiIsMCwwLCJ6b25lTmFtZSIpO3ZhciB2cj1tLnByb3RvdHlwZTt2ci5hZGQ9cnIsdnIuY2FsZW5kYXI9aHQsdnIuY2xvbmU9ZHQsdnIuZGlmZj15dCx2ci5lbmRPZj1EdCx2ci5mb3JtYXQ9UnQsdnIuZnJvbT1TdCx2ci5mcm9tTm93PUV0LHZyLnRvPVR0LHZyLnRvTm93PU10LHZyLmdldD16LHZyLmludmFsaWRBdD1WdCx2ci5pc0FmdGVyPWZ0LHZyLmlzQmVmb3JlPXB0LHZyLmlzQmV0d2Vlbj1ndCx2ci5pc1NhbWU9bXQsdnIuaXNTYW1lT3JBZnRlcj13dCx2ci5pc1NhbWVPckJlZm9yZT12dCx2ci5pc1ZhbGlkPUl0LHZyLmxhbmc9c3IsdnIubG9jYWxlPU90LHZyLmxvY2FsZURhdGE9a3QsdnIubWF4PVFvLHZyLm1pbj1Kbyx2ci5wYXJzaW5nRmxhZ3M9anQsdnIuc2V0PXosdnIuc3RhcnRPZj1IdCx2ci5zdWJ0cmFjdD1pcix2ci50b0FycmF5PU50LHZyLnRvT2JqZWN0PUx0LHZyLnRvRGF0ZT1QdCx2ci50b0lTT1N0cmluZz1fdCx2ci50b0pTT049V3QsdnIudG9TdHJpbmc9Q3QsdnIudW5peD14dCx2ci52YWx1ZU9mPUF0LHZyLmNyZWF0aW9uRGF0YT1GdCx2ci55ZWFyPVpvLHZyLmlzTGVhcFllYXI9YmUsdnIud2Vla1llYXI9enQsdnIuaXNvV2Vla1llYXI9WXQsdnIucXVhcnRlcj12ci5xdWFydGVycz1LdCx2ci5tb250aD1hZSx2ci5kYXlzSW5Nb250aD11ZSx2ci53ZWVrPXZyLndlZWtzPVF0LHZyLmlzb1dlZWs9dnIuaXNvV2Vla3M9ZW4sdnIud2Vla3NJblllYXI9R3QsdnIuaXNvV2Vla3NJblllYXI9VXQsdnIuZGF0ZT1hcix2ci5kYXk9dnIuZGF5cz1sbix2ci53ZWVrZGF5PWFuLHZyLmlzb1dlZWtkYXk9dW4sdnIuZGF5T2ZZZWFyPWNuLHZyLmhvdXI9dnIuaG91cnM9ZnIsdnIubWludXRlPXZyLm1pbnV0ZXM9cHIsdnIuc2Vjb25kPXZyLnNlY29uZHM9Z3IsdnIubWlsbGlzZWNvbmQ9dnIubWlsbGlzZWNvbmRzPXdyLHZyLnV0Y09mZnNldD0kZSx2ci51dGM9S2UsdnIubG9jYWw9cWUsdnIucGFyc2Vab25lPVplLHZyLmhhc0FsaWduZWRIb3VyT2Zmc2V0PUplLHZyLmlzRFNUPVFlLHZyLmlzRFNUU2hpZnRlZD1ldCx2ci5pc0xvY2FsPXR0LHZyLmlzVXRjT2Zmc2V0PW50LHZyLmlzVXRjPW90LHZyLmlzVVRDPW90LHZyLnpvbmVBYmJyPXduLHZyLnpvbmVOYW1lPXZuLHZyLmRhdGVzPV8oImRhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuIixhciksdnIubW9udGhzPV8oIm1vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCIsYWUpLHZyLnllYXJzPV8oInllYXJzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSB5ZWFyIGluc3RlYWQiLFpvKSx2ci56b25lPV8oIm1vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTc3OSIsWGUpO3ZhciB5cj12cixicj17c2FtZURheToiW1RvZGF5IGF0XSBMVCIsbmV4dERheToiW1RvbW9ycm93IGF0XSBMVCIsbmV4dFdlZWs6ImRkZGQgW2F0XSBMVCIsbGFzdERheToiW1llc3RlcmRheSBhdF0gTFQiLGxhc3RXZWVrOiJbTGFzdF0gZGRkZCBbYXRdIExUIixzYW1lRWxzZToiTCJ9LENyPXtMVFM6Img6bW06c3MgQSIsTFQ6Img6bW0gQSIsTDoiTU0vREQvWVlZWSIsTEw6Ik1NTU0gRCwgWVlZWSIsTExMOiJNTU1NIEQsIFlZWVkgaDptbSBBIixMTExMOiJkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBIn0sX3I9IkludmFsaWQgZGF0ZSIsUnI9IiVkIixTcj0vXGR7MSwyfS8sRXI9e2Z1dHVyZToiaW4gJXMiLHBhc3Q6IiVzIGFnbyIsczoiYSBmZXcgc2Vjb25kcyIsbToiYSBtaW51dGUiLG1tOiIlZCBtaW51dGVzIixoOiJhbiBob3VyIixoaDoiJWQgaG91cnMiLGQ6ImEgZGF5IixkZDoiJWQgZGF5cyIsTToiYSBtb250aCIsTU06IiVkIG1vbnRocyIseToiYSB5ZWFyIix5eToiJWQgeWVhcnMifSxUcj1PLnByb3RvdHlwZTtUci5fY2FsZW5kYXI9YnIsVHIuY2FsZW5kYXI9Q24sVHIuX2xvbmdEYXRlRm9ybWF0PUNyLFRyLmxvbmdEYXRlRm9ybWF0PV9uLFRyLl9pbnZhbGlkRGF0ZT1fcixUci5pbnZhbGlkRGF0ZT1SbixUci5fb3JkaW5hbD1ScixUci5vcmRpbmFsPVNuLFRyLl9vcmRpbmFsUGFyc2U9U3IsVHIucHJlcGFyc2U9RW4sVHIucG9zdGZvcm1hdD1FbixUci5fcmVsYXRpdmVUaW1lPUVyLFRyLnJlbGF0aXZlVGltZT1UbixUci5wYXN0RnV0dXJlPU1uLFRyLnNldD1ULFRyLm1vbnRocz1yZSxUci5fbW9udGhzPUZvLFRyLm1vbnRoc1Nob3J0PWllLFRyLl9tb250aHNTaG9ydD1CbyxUci5tb250aHNQYXJzZT1zZSxUci5fbW9udGhzUmVnZXg9WW8sVHIubW9udGhzUmVnZXg9aGUsVHIuX21vbnRoc1Nob3J0UmVnZXg9em8sVHIubW9udGhzU2hvcnRSZWdleD1jZSxUci53ZWVrPXF0LFRyLl93ZWVrPWxyLFRyLmZpcnN0RGF5T2ZZZWFyPUp0LFRyLmZpcnN0RGF5T2ZXZWVrPVp0LFRyLndlZWtkYXlzPW5uLFRyLl93ZWVrZGF5cz11cixUci53ZWVrZGF5c01pbj1ybixUci5fd2Vla2RheXNNaW49aHIsVHIud2Vla2RheXNTaG9ydD1vbixUci5fd2Vla2RheXNTaG9ydD1jcixUci53ZWVrZGF5c1BhcnNlPXNuLFRyLmlzUE09cG4sVHIuX21lcmlkaWVtUGFyc2U9ZHIsVHIubWVyaWRpZW09Z24sQSgiZW4iLHtvcmRpbmFsUGFyc2U6L1xkezEsMn0odGh8c3R8bmR8cmQpLyxvcmRpbmFsOmZ1bmN0aW9uKGUpe3ZhciB0PWUlMTAsbj0xPT09eShlJTEwMC8xMCk/InRoIjoxPT09dD8ic3QiOjI9PT10PyJuZCI6Mz09PXQ/InJkIjoidGgiO3JldHVybiBlK259fSksZS5sYW5nPV8oIm1vbWVudC5sYW5nIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlIGluc3RlYWQuIixBKSxlLmxhbmdEYXRhPV8oIm1vbWVudC5sYW5nRGF0YSBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZURhdGEgaW5zdGVhZC4iLE4pO3ZhciBNcj1NYXRoLmFicyxPcj1VbigibXMiKSxrcj1VbigicyIpLEhyPVVuKCJtIiksRHI9VW4oImgiKSxBcj1VbigiZCIpLHhyPVVuKCJ3IiksUHI9VW4oIk0iKSxOcj1VbigieSIpLExyPSRuKCJtaWxsaXNlY29uZHMiKSxXcj0kbigic2Vjb25kcyIpLElyPSRuKCJtaW51dGVzIiksanI9JG4oImhvdXJzIiksVnI9JG4oImRheXMiKSxGcj0kbigibW9udGhzIiksQnI9JG4oInllYXJzIiksenI9TWF0aC5yb3VuZCxZcj17czo0NSxtOjQ1LGg6MjIsZDoyNixNOjExfSxVcj1NYXRoLmFicyxHcj1GZS5wcm90b3R5cGU7R3IuYWJzPU5uLEdyLmFkZD1XbixHci5zdWJ0cmFjdD1JbixHci5hcz16bixHci5hc01pbGxpc2Vjb25kcz1PcixHci5hc1NlY29uZHM9a3IsR3IuYXNNaW51dGVzPUhyLEdyLmFzSG91cnM9RHIsR3IuYXNEYXlzPUFyLEdyLmFzV2Vla3M9eHIsR3IuYXNNb250aHM9UHIsR3IuYXNZZWFycz1OcixHci52YWx1ZU9mPVluLEdyLl9idWJibGU9Vm4sR3IuZ2V0PUduLEdyLm1pbGxpc2Vjb25kcz1McixHci5zZWNvbmRzPVdyLEdyLm1pbnV0ZXM9SXIsR3IuaG91cnM9anIsR3IuZGF5cz1WcixHci53ZWVrcz1YbixHci5tb250aHM9RnIsR3IueWVhcnM9QnIsR3IuaHVtYW5pemU9Sm4sR3IudG9JU09TdHJpbmc9UW4sR3IudG9TdHJpbmc9UW4sR3IudG9KU09OPVFuLEdyLmxvY2FsZT1PdCxHci5sb2NhbGVEYXRhPWt0LEdyLnRvSXNvU3RyaW5nPV8oInRvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpIixRbiksR3IubGFuZz1zcixVKCJYIiwwLDAsInVuaXgiKSxVKCJ4IiwwLDAsInZhbHVlT2YiKSxxKCJ4IixTbykscSgiWCIsTW8pLGVlKCJYIixmdW5jdGlvbihlLHQsbil7bi5fZD1uZXcgRGF0ZSgxZTMqcGFyc2VGbG9hdChlLDEwKSl9KSxlZSgieCIsZnVuY3Rpb24oZSx0LG4pe24uX2Q9bmV3IERhdGUoeShlKSl9KSxlLnZlcnNpb249IjIuMTIuMCIsbyhXZSksZS5mbj15cixlLm1pbj1qZSxlLm1heD1WZSxlLm5vdz1lcixlLnV0Yz11LGUudW5peD15bixlLm1vbnRocz1IbixlLmlzRGF0ZT1pLGUubG9jYWxlPUEsZS5pbnZhbGlkPWYsZS5kdXJhdGlvbj1ydCxlLmlzTW9tZW50PXcsZS53ZWVrZGF5cz1BbixlLnBhcnNlWm9uZT1ibixlLmxvY2FsZURhdGE9TixlLmlzRHVyYXRpb249QmUsZS5tb250aHNTaG9ydD1EbixlLndlZWtkYXlzTWluPVBuLGUuZGVmaW5lTG9jYWxlPXgsZS51cGRhdGVMb2NhbGU9UCxlLmxvY2FsZXM9TCxlLndlZWtkYXlzU2hvcnQ9eG4sZS5ub3JtYWxpemVVbml0cz1JLGUucmVsYXRpdmVUaW1lVGhyZXNob2xkPVpuLGUucHJvdG90eXBlPXlyO3ZhciAkcj1lO3JldHVybiAkcn0pfSx7fV0sbnVtZXJhbDpbZnVuY3Rpb24odCxuLG8pey8qIQogKiBudW1lcmFsLmpzCiAqIHZlcnNpb24gOiAxLjUuMwogKiBhdXRob3IgOiBBZGFtIERyYXBlcgogKiBsaWNlbnNlIDogTUlUCiAqIGh0dHA6Ly9hZGFtd2RyYXBlci5naXRodWIuY29tL051bWVyYWwtanMvCiAqLwooZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RoaXMuX3ZhbHVlPWV9ZnVuY3Rpb24gbyhlLHQsbixvKXt2YXIgcixpLHM9TWF0aC5wb3coMTAsdCk7cmV0dXJuIGk9KG4oZSpzKS9zKS50b0ZpeGVkKHQpLG8mJihyPW5ldyBSZWdFeHAoIjB7MSwiK28rIn0kIiksaT1pLnJlcGxhY2UociwiIikpLGl9ZnVuY3Rpb24gcihlLHQsbil7dmFyIG87cmV0dXJuIG89dC5pbmRleE9mKCIkIik+LTE/cyhlLHQsbik6dC5pbmRleE9mKCIlIik+LTE/bChlLHQsbik6dC5pbmRleE9mKCI6Iik+LTE/YShlLHQpOmMoZS5fdmFsdWUsdCxuKX1mdW5jdGlvbiBpKGUsdCl7dmFyIG4sbyxyLGkscyxsPXQsYT1bIktCIiwiTUIiLCJHQiIsIlRCIiwiUEIiLCJFQiIsIlpCIiwiWUIiXSxjPSExO2lmKHQuaW5kZXhPZigiOiIpPi0xKWUuX3ZhbHVlPXUodCk7ZWxzZSBpZih0PT09dillLl92YWx1ZT0wO2Vsc2V7Zm9yKCIuIiE9PW1bd10uZGVsaW1pdGVycy5kZWNpbWFsJiYodD10LnJlcGxhY2UoL1wuL2csIiIpLnJlcGxhY2UobVt3XS5kZWxpbWl0ZXJzLmRlY2ltYWwsIi4iKSksbj1uZXcgUmVnRXhwKCJbXmEtekEtWl0iK21bd10uYWJicmV2aWF0aW9ucy50aG91c2FuZCsiKD86XFwpfChcXCIrbVt3XS5jdXJyZW5jeS5zeW1ib2wrIik/KD86XFwpKT8pPyQiKSxvPW5ldyBSZWdFeHAoIlteYS16QS1aXSIrbVt3XS5hYmJyZXZpYXRpb25zLm1pbGxpb24rIig/OlxcKXwoXFwiK21bd10uY3VycmVuY3kuc3ltYm9sKyIpPyg/OlxcKSk/KT8kIikscj1uZXcgUmVnRXhwKCJbXmEtekEtWl0iK21bd10uYWJicmV2aWF0aW9ucy5iaWxsaW9uKyIoPzpcXCl8KFxcIittW3ddLmN1cnJlbmN5LnN5bWJvbCsiKT8oPzpcXCkpPyk/JCIpLGk9bmV3IFJlZ0V4cCgiW15hLXpBLVpdIittW3ddLmFiYnJldmlhdGlvbnMudHJpbGxpb24rIig/OlxcKXwoXFwiK21bd10uY3VycmVuY3kuc3ltYm9sKyIpPyg/OlxcKSk/KT8kIikscz0wO3M8PWEubGVuZ3RoJiYhKGM9dC5pbmRleE9mKGFbc10pPi0xP01hdGgucG93KDEwMjQscysxKTohMSk7cysrKTtlLl92YWx1ZT0oYz9jOjEpKihsLm1hdGNoKG4pP01hdGgucG93KDEwLDMpOjEpKihsLm1hdGNoKG8pP01hdGgucG93KDEwLDYpOjEpKihsLm1hdGNoKHIpP01hdGgucG93KDEwLDkpOjEpKihsLm1hdGNoKGkpP01hdGgucG93KDEwLDEyKToxKSoodC5pbmRleE9mKCIlIik+LTE/LjAxOjEpKigodC5zcGxpdCgiLSIpLmxlbmd0aCtNYXRoLm1pbih0LnNwbGl0KCIoIikubGVuZ3RoLTEsdC5zcGxpdCgiKSIpLmxlbmd0aC0xKSklMj8xOi0xKSpOdW1iZXIodC5yZXBsYWNlKC9bXjAtOVwuXSsvZywiIikpLGUuX3ZhbHVlPWM/TWF0aC5jZWlsKGUuX3ZhbHVlKTplLl92YWx1ZX1yZXR1cm4gZS5fdmFsdWV9ZnVuY3Rpb24gcyhlLHQsbil7dmFyIG8scixpPXQuaW5kZXhPZigiJCIpLHM9dC5pbmRleE9mKCIoIiksbD10LmluZGV4T2YoIi0iKSxhPSIiO3JldHVybiB0LmluZGV4T2YoIiAkIik+LTE/KGE9IiAiLHQ9dC5yZXBsYWNlKCIgJCIsIiIpKTp0LmluZGV4T2YoIiQgIik+LTE/KGE9IiAiLHQ9dC5yZXBsYWNlKCIkICIsIiIpKTp0PXQucmVwbGFjZSgiJCIsIiIpLHI9YyhlLl92YWx1ZSx0LG4pLDE+PWk/ci5pbmRleE9mKCIoIik+LTF8fHIuaW5kZXhPZigiLSIpPi0xPyhyPXIuc3BsaXQoIiIpLG89MSwocz5pfHxsPmkpJiYobz0wKSxyLnNwbGljZShvLDAsbVt3XS5jdXJyZW5jeS5zeW1ib2wrYSkscj1yLmpvaW4oIiIpKTpyPW1bd10uY3VycmVuY3kuc3ltYm9sK2ErcjpyLmluZGV4T2YoIikiKT4tMT8ocj1yLnNwbGl0KCIiKSxyLnNwbGljZSgtMSwwLGErbVt3XS5jdXJyZW5jeS5zeW1ib2wpLHI9ci5qb2luKCIiKSk6cj1yK2ErbVt3XS5jdXJyZW5jeS5zeW1ib2wscn1mdW5jdGlvbiBsKGUsdCxuKXt2YXIgbyxyPSIiLGk9MTAwKmUuX3ZhbHVlO3JldHVybiB0LmluZGV4T2YoIiAlIik+LTE/KHI9IiAiLHQ9dC5yZXBsYWNlKCIgJSIsIiIpKTp0PXQucmVwbGFjZSgiJSIsIiIpLG89YyhpLHQsbiksby5pbmRleE9mKCIpIik+LTE/KG89by5zcGxpdCgiIiksby5zcGxpY2UoLTEsMCxyKyIlIiksbz1vLmpvaW4oIiIpKTpvPW8rcisiJSIsb31mdW5jdGlvbiBhKGUpe3ZhciB0PU1hdGguZmxvb3IoZS5fdmFsdWUvNjAvNjApLG49TWF0aC5mbG9vcigoZS5fdmFsdWUtNjAqdCo2MCkvNjApLG89TWF0aC5yb3VuZChlLl92YWx1ZS02MCp0KjYwLTYwKm4pO3JldHVybiB0KyI6IisoMTA+bj8iMCIrbjpuKSsiOiIrKDEwPm8/IjAiK286byl9ZnVuY3Rpb24gdShlKXt2YXIgdD1lLnNwbGl0KCI6Iiksbj0wO3JldHVybiAzPT09dC5sZW5ndGg/KG4rPTYwKk51bWJlcih0WzBdKSo2MCxuKz02MCpOdW1iZXIodFsxXSksbis9TnVtYmVyKHRbMl0pKToyPT09dC5sZW5ndGgmJihuKz02MCpOdW1iZXIodFswXSksbis9TnVtYmVyKHRbMV0pKSxOdW1iZXIobil9ZnVuY3Rpb24gYyhlLHQsbil7dmFyIHIsaSxzLGwsYSx1LGM9ITEsaD0hMSxkPSExLGY9IiIscD0hMSxnPSExLHk9ITEsYj0hMSxDPSExLF89IiIsUj0iIixTPU1hdGguYWJzKGUpLEU9WyJCIiwiS0IiLCJNQiIsIkdCIiwiVEIiLCJQQiIsIkVCIiwiWkIiLCJZQiJdLFQ9IiIsTT0hMTtpZigwPT09ZSYmbnVsbCE9PXYpcmV0dXJuIHY7aWYodC5pbmRleE9mKCIoIik+LTE/KGM9ITAsdD10LnNsaWNlKDEsLTEpKTp0LmluZGV4T2YoIisiKT4tMSYmKGg9ITAsdD10LnJlcGxhY2UoL1wrL2csIiIpKSx0LmluZGV4T2YoImEiKT4tMSYmKHA9dC5pbmRleE9mKCJhSyIpPj0wLGc9dC5pbmRleE9mKCJhTSIpPj0wLHk9dC5pbmRleE9mKCJhQiIpPj0wLGI9dC5pbmRleE9mKCJhVCIpPj0wLEM9cHx8Z3x8eXx8Yix0LmluZGV4T2YoIiBhIik+LTE/KGY9IiAiLHQ9dC5yZXBsYWNlKCIgYSIsIiIpKTp0PXQucmVwbGFjZSgiYSIsIiIpLFM+PU1hdGgucG93KDEwLDEyKSYmIUN8fGI/KGYrPW1bd10uYWJicmV2aWF0aW9ucy50cmlsbGlvbixlLz1NYXRoLnBvdygxMCwxMikpOlM8TWF0aC5wb3coMTAsMTIpJiZTPj1NYXRoLnBvdygxMCw5KSYmIUN8fHk/KGYrPW1bd10uYWJicmV2aWF0aW9ucy5iaWxsaW9uLGUvPU1hdGgucG93KDEwLDkpKTpTPE1hdGgucG93KDEwLDkpJiZTPj1NYXRoLnBvdygxMCw2KSYmIUN8fGc/KGYrPW1bd10uYWJicmV2aWF0aW9ucy5taWxsaW9uLGUvPU1hdGgucG93KDEwLDYpKTooUzxNYXRoLnBvdygxMCw2KSYmUz49TWF0aC5wb3coMTAsMykmJiFDfHxwKSYmKGYrPW1bd10uYWJicmV2aWF0aW9ucy50aG91c2FuZCxlLz1NYXRoLnBvdygxMCwzKSkpLHQuaW5kZXhPZigiYiIpPi0xKWZvcih0LmluZGV4T2YoIiBiIik+LTE/KF89IiAiLHQ9dC5yZXBsYWNlKCIgYiIsIiIpKTp0PXQucmVwbGFjZSgiYiIsIiIpLHM9MDtzPD1FLmxlbmd0aDtzKyspaWYocj1NYXRoLnBvdygxMDI0LHMpLGk9TWF0aC5wb3coMTAyNCxzKzEpLGU+PXImJmk+ZSl7Xys9RVtzXSxyPjAmJihlLz1yKTticmVha31yZXR1cm4gdC5pbmRleE9mKCJvIik+LTEmJih0LmluZGV4T2YoIiBvIik+LTE/KFI9IiAiLHQ9dC5yZXBsYWNlKCIgbyIsIiIpKTp0PXQucmVwbGFjZSgibyIsIiIpLFIrPW1bd10ub3JkaW5hbChlKSksdC5pbmRleE9mKCJbLl0iKT4tMSYmKGQ9ITAsdD10LnJlcGxhY2UoIlsuXSIsIi4iKSksbD1lLnRvU3RyaW5nKCkuc3BsaXQoIi4iKVswXSxhPXQuc3BsaXQoIi4iKVsxXSx1PXQuaW5kZXhPZigiLCIpLGE/KGEuaW5kZXhPZigiWyIpPi0xPyhhPWEucmVwbGFjZSgiXSIsIiIpLGE9YS5zcGxpdCgiWyIpLFQ9byhlLGFbMF0ubGVuZ3RoK2FbMV0ubGVuZ3RoLG4sYVsxXS5sZW5ndGgpKTpUPW8oZSxhLmxlbmd0aCxuKSxsPVQuc3BsaXQoIi4iKVswXSxUPVQuc3BsaXQoIi4iKVsxXS5sZW5ndGg/bVt3XS5kZWxpbWl0ZXJzLmRlY2ltYWwrVC5zcGxpdCgiLiIpWzFdOiIiLGQmJjA9PT1OdW1iZXIoVC5zbGljZSgxKSkmJihUPSIiKSk6bD1vKGUsbnVsbCxuKSxsLmluZGV4T2YoIi0iKT4tMSYmKGw9bC5zbGljZSgxKSxNPSEwKSx1Pi0xJiYobD1sLnRvU3RyaW5nKCkucmVwbGFjZSgvKFxkKSg/PShcZHszfSkrKD8hXGQpKS9nLCIkMSIrbVt3XS5kZWxpbWl0ZXJzLnRob3VzYW5kcykpLDA9PT10LmluZGV4T2YoIi4iKSYmKGw9IiIpLChjJiZNPyIoIjoiIikrKCFjJiZNPyItIjoiIikrKCFNJiZoPyIrIjoiIikrbCtUKyhSP1I6IiIpKyhmP2Y6IiIpKyhfP186IiIpKyhjJiZNPyIpIjoiIil9ZnVuY3Rpb24gaChlLHQpe21bZV09dH1mdW5jdGlvbiBkKGUpe3ZhciB0PWUudG9TdHJpbmcoKS5zcGxpdCgiLiIpO3JldHVybiB0Lmxlbmd0aDwyPzE6TWF0aC5wb3coMTAsdFsxXS5sZW5ndGgpfWZ1bmN0aW9uIGYoKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuPWQoZSksbz1kKHQpO3JldHVybiBuPm8/bjpvfSwtKDEvMCkpfXZhciBwLGc9IjEuNS4zIixtPXt9LHc9ImVuIix2PW51bGwseT0iMCwwIixiPSJ1bmRlZmluZWQiIT10eXBlb2YgbiYmbi5leHBvcnRzO3A9ZnVuY3Rpb24oZSl7cmV0dXJuIHAuaXNOdW1lcmFsKGUpP2U9ZS52YWx1ZSgpOjA9PT1lfHwidW5kZWZpbmVkIj09dHlwZW9mIGU/ZT0wOk51bWJlcihlKXx8KGU9cC5mbi51bmZvcm1hdChlKSksbmV3IHQoTnVtYmVyKGUpKX0scC52ZXJzaW9uPWcscC5pc051bWVyYWw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0fSxwLmxhbmd1YWdlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIHc7aWYoZSYmIXQpe2lmKCFtW2VdKXRocm93IG5ldyBFcnJvcigiVW5rbm93biBsYW5ndWFnZSA6ICIrZSk7dz1lfXJldHVybiF0JiZtW2VdfHxoKGUsdCkscH0scC5sYW5ndWFnZURhdGE9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIG1bd107aWYoIW1bZV0pdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGxhbmd1YWdlIDogIitlKTtyZXR1cm4gbVtlXX0scC5sYW5ndWFnZSgiZW4iLHtkZWxpbWl0ZXJzOnt0aG91c2FuZHM6IiwiLGRlY2ltYWw6Ii4ifSxhYmJyZXZpYXRpb25zOnt0aG91c2FuZDoiayIsbWlsbGlvbjoibSIsYmlsbGlvbjoiYiIsdHJpbGxpb246InQifSxvcmRpbmFsOmZ1bmN0aW9uKGUpe3ZhciB0PWUlMTA7cmV0dXJuIDE9PT1+fihlJTEwMC8xMCk/InRoIjoxPT09dD8ic3QiOjI9PT10PyJuZCI6Mz09PXQ/InJkIjoidGgifSxjdXJyZW5jeTp7c3ltYm9sOiIkIn19KSxwLnplcm9Gb3JtYXQ9ZnVuY3Rpb24oZSl7dj0ic3RyaW5nIj09dHlwZW9mIGU/ZTpudWxsfSxwLmRlZmF1bHRGb3JtYXQ9ZnVuY3Rpb24oZSl7eT0ic3RyaW5nIj09dHlwZW9mIGU/ZToiMC4wIn0scC52YWxpZGF0ZT1mdW5jdGlvbihlLHQpe3ZhciBuLG8scixpLHMsbCxhLHU7aWYoInN0cmluZyIhPXR5cGVvZiBlJiYoZSs9IiIsY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oIk51bWVyYWwuanM6IFZhbHVlIGlzIG5vdCBzdHJpbmcuIEl0IGhhcyBiZWVuIGNvLWVyY2VkIHRvOiAiLGUpKSxlPWUudHJpbSgpLCIiPT09ZSlyZXR1cm4hMTtlPWUucmVwbGFjZSgvXlsrLV0/LywiIik7dHJ5e2E9cC5sYW5ndWFnZURhdGEodCl9Y2F0Y2goYyl7YT1wLmxhbmd1YWdlRGF0YShwLmxhbmd1YWdlKCkpfXJldHVybiByPWEuY3VycmVuY3kuc3ltYm9sLHM9YS5hYmJyZXZpYXRpb25zLG49YS5kZWxpbWl0ZXJzLmRlY2ltYWwsbz0iLiI9PT1hLmRlbGltaXRlcnMudGhvdXNhbmRzPyJcXC4iOmEuZGVsaW1pdGVycy50aG91c2FuZHMsdT1lLm1hdGNoKC9eW15cZFwuXCxdKy8pLG51bGwhPT11JiYoZT1lLnN1YnN0cigxKSx1WzBdIT09cik/ITE6KHU9ZS5tYXRjaCgvW15cZF0rJC8pLG51bGwhPT11JiYoZT1lLnNsaWNlKDAsLTEpLHVbMF0hPT1zLnRob3VzYW5kJiZ1WzBdIT09cy5taWxsaW9uJiZ1WzBdIT09cy5iaWxsaW9uJiZ1WzBdIT09cy50cmlsbGlvbik/ITE6ZS5tYXRjaCgvXlxkKyQvKT8hMDoobD1uZXcgUmVnRXhwKG8rInsyfSIpLGUubWF0Y2goL1teXGQuLF0vZyk/ITE6KGk9ZS5zcGxpdChuKSxpLmxlbmd0aD4yPyExOmkubGVuZ3RoPDI/ISFpWzBdLm1hdGNoKC9eXGQrLipcZCQvKSYmIWlbMF0ubWF0Y2gobCk6IiI9PT1pWzBdPyFpWzBdLm1hdGNoKGwpJiYhIWlbMV0ubWF0Y2goL15cZCskLyk6MT09PWlbMF0ubGVuZ3RoPyEhaVswXS5tYXRjaCgvXlxkKyQvKSYmIWlbMF0ubWF0Y2gobCkmJiEhaVsxXS5tYXRjaCgvXlxkKyQvKTohIWlbMF0ubWF0Y2goL15cZCsuKlxkJC8pJiYhaVswXS5tYXRjaChsKSYmISFpWzFdLm1hdGNoKC9eXGQrJC8pKSkpfSwiZnVuY3Rpb24iIT10eXBlb2YgQXJyYXkucHJvdG90eXBlLnJlZHVjZSYmKEFycmF5LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7aWYobnVsbD09PXRoaXN8fCJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcnJheS5wcm90b3R5cGUucmVkdWNlIGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZCIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uIik7dmFyIG4sbyxyPXRoaXMubGVuZ3RoPj4+MCxpPSExO2ZvcigxPGFyZ3VtZW50cy5sZW5ndGgmJihvPXQsaT0hMCksbj0wO3I+bjsrK24pdGhpcy5oYXNPd25Qcm9wZXJ0eShuKSYmKGk/bz1lKG8sdGhpc1tuXSxuLHRoaXMpOihvPXRoaXNbbl0saT0hMCkpO2lmKCFpKXRocm93IG5ldyBUeXBlRXJyb3IoIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTtyZXR1cm4gb30pLHAuZm49dC5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpcyl9LGZvcm1hdDpmdW5jdGlvbihlLHQpe3JldHVybiByKHRoaXMsZT9lOnksdm9pZCAwIT09dD90Ok1hdGgucm91bmQpfSx1bmZvcm1hdDpmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBOdW1iZXJdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKT9lOmkodGhpcyxlP2U6eSl9LHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfSx2YWx1ZU9mOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZhbHVlfSxzZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3ZhbHVlPU51bWJlcihlKSx0aGlzfSxhZGQ6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQsbyxyKXtyZXR1cm4gZStuKnR9dmFyIG49Zi5jYWxsKG51bGwsdGhpcy5fdmFsdWUsZSk7cmV0dXJuIHRoaXMuX3ZhbHVlPVt0aGlzLl92YWx1ZSxlXS5yZWR1Y2UodCwwKS9uLHRoaXN9LHN1YnRyYWN0OmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG8scil7cmV0dXJuIGUtbip0fXZhciBuPWYuY2FsbChudWxsLHRoaXMuX3ZhbHVlLGUpO3JldHVybiB0aGlzLl92YWx1ZT1bZV0ucmVkdWNlKHQsdGhpcy5fdmFsdWUqbikvbix0aGlzfSxtdWx0aXBseTpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxuLG8pe3ZhciByPWYoZSx0KTtyZXR1cm4gZSpyKih0KnIpLyhyKnIpfXJldHVybiB0aGlzLl92YWx1ZT1bdGhpcy5fdmFsdWUsZV0ucmVkdWNlKHQsMSksdGhpc30sZGl2aWRlOmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4sbyl7dmFyIHI9ZihlLHQpO3JldHVybiBlKnIvKHQqcil9cmV0dXJuIHRoaXMuX3ZhbHVlPVt0aGlzLl92YWx1ZSxlXS5yZWR1Y2UodCksdGhpc30sZGlmZmVyZW5jZTpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5hYnMocCh0aGlzLl92YWx1ZSkuc3VidHJhY3QoZSkudmFsdWUoKSl9fSxiJiYobi5leHBvcnRzPXApLCJ1bmRlZmluZWQiPT10eXBlb2YgZW5kZXImJih0aGlzLm51bWVyYWw9cCksImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuYW1kJiZlKFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHB9KX0pLmNhbGwod2luZG93KX0se31dLHBpa2FkYXk6W2Z1bmN0aW9uKHQsbixvKXsvKiEKICogUGlrYWRheQogKgogKiBDb3B5cmlnaHQgwqkgMjAxNCBEYXZpZCBCdXNoZWxsIHwgQlNEICYgTUlUIGxpY2Vuc2UgfCBodHRwczovL2dpdGh1Yi5jb20vZGJ1c2hlbGwvUGlrYWRheQogKi8KIWZ1bmN0aW9uKHIsaSl7InVzZSBzdHJpY3QiO3ZhciBzO2lmKCJvYmplY3QiPT10eXBlb2Ygbyl7dHJ5e3M9dCgibW9tZW50Iil9Y2F0Y2gobCl7fW4uZXhwb3J0cz1pKHMpfWVsc2UiZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5hbWQ/ZShmdW5jdGlvbihlKXt2YXIgdD0ibW9tZW50Ijt0cnl7cz1lKHQpfWNhdGNoKG4pe31yZXR1cm4gaShzKX0pOnIuUGlrYWRheT1pKHIubW9tZW50KX0odGhpcyxmdW5jdGlvbihlKXsidXNlIHN0cmljdCI7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGUsbj0hIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyLG89d2luZG93LmRvY3VtZW50LHI9d2luZG93LnNldFRpbWVvdXQsaT1mdW5jdGlvbihlLHQsbyxyKXtuP2UuYWRkRXZlbnRMaXN0ZW5lcih0LG8sISFyKTplLmF0dGFjaEV2ZW50KCJvbiIrdCxvKX0scz1mdW5jdGlvbihlLHQsbyxyKXtuP2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG8sISFyKTplLmRldGFjaEV2ZW50KCJvbiIrdCxvKX0sbD1mdW5jdGlvbihlLHQsbil7dmFyIHI7by5jcmVhdGVFdmVudD8ocj1vLmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIiksci5pbml0RXZlbnQodCwhMCwhMSkscj15KHIsbiksZS5kaXNwYXRjaEV2ZW50KHIpKTpvLmNyZWF0ZUV2ZW50T2JqZWN0JiYocj1vLmNyZWF0ZUV2ZW50T2JqZWN0KCkscj15KHIsbiksZS5maXJlRXZlbnQoIm9uIit0LHIpKX0sYT1mdW5jdGlvbihlKXtyZXR1cm4gZS50cmltP2UudHJpbSgpOmUucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfSx1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuLTEhPT0oIiAiK2UuY2xhc3NOYW1lKyIgIikuaW5kZXhPZigiICIrdCsiICIpfSxjPWZ1bmN0aW9uKGUsdCl7dShlLHQpfHwoZS5jbGFzc05hbWU9IiI9PT1lLmNsYXNzTmFtZT90OmUuY2xhc3NOYW1lKyIgIit0KX0saD1mdW5jdGlvbihlLHQpe2UuY2xhc3NOYW1lPWEoKCIgIitlLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoIiAiK3QrIiAiLCIgIikpfSxkPWZ1bmN0aW9uKGUpe3JldHVybi9BcnJheS8udGVzdChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpfSxmPWZ1bmN0aW9uKGUpe3JldHVybi9EYXRlLy50ZXN0KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkmJiFpc05hTihlLmdldFRpbWUoKSl9LHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXREYXkoKTtyZXR1cm4gMD09PXR8fDY9PT10fSxnPWZ1bmN0aW9uKGUpe3JldHVybiBlJTQ9PT0wJiZlJTEwMCE9PTB8fGUlNDAwPT09MH0sbT1mdW5jdGlvbihlLHQpe3JldHVyblszMSxnKGUpPzI5OjI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXVt0XX0sdz1mdW5jdGlvbihlKXtmKGUpJiZlLnNldEhvdXJzKDAsMCwwLDApfSx2PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0VGltZSgpPT09dC5nZXRUaW1lKCl9LHk9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvLHI7Zm9yKG8gaW4gdClyPXZvaWQgMCE9PWVbb10sciYmIm9iamVjdCI9PXR5cGVvZiB0W29dJiZudWxsIT09dFtvXSYmdm9pZCAwPT09dFtvXS5ub2RlTmFtZT9mKHRbb10pP24mJihlW29dPW5ldyBEYXRlKHRbb10uZ2V0VGltZSgpKSk6ZCh0W29dKT9uJiYoZVtvXT10W29dLnNsaWNlKDApKTplW29dPXkoe30sdFtvXSxuKTohbiYmcnx8KGVbb109dFtvXSk7cmV0dXJuIGV9LGI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubW9udGg8MCYmKGUueWVhci09TWF0aC5jZWlsKE1hdGguYWJzKGUubW9udGgpLzEyKSxlLm1vbnRoKz0xMiksZS5tb250aD4xMSYmKGUueWVhcis9TWF0aC5mbG9vcihNYXRoLmFicyhlLm1vbnRoKS8xMiksZS5tb250aC09MTIpLGV9LEM9e2ZpZWxkOm51bGwsYm91bmQ6dm9pZCAwLHBvc2l0aW9uOiJib3R0b20gbGVmdCIscmVwb3NpdGlvbjohMCxmb3JtYXQ6IllZWVktTU0tREQiLGRlZmF1bHREYXRlOm51bGwsc2V0RGVmYXVsdERhdGU6ITEsZmlyc3REYXk6MCxtaW5EYXRlOm51bGwsbWF4RGF0ZTpudWxsLHllYXJSYW5nZToxMCxzaG93V2Vla051bWJlcjohMSxtaW5ZZWFyOjAsbWF4WWVhcjo5OTk5LG1pbk1vbnRoOnZvaWQgMCxtYXhNb250aDp2b2lkIDAsc3RhcnRSYW5nZTpudWxsLGVuZFJhbmdlOm51bGwsaXNSVEw6ITEseWVhclN1ZmZpeDoiIixzaG93TW9udGhBZnRlclllYXI6ITEsbnVtYmVyT2ZNb250aHM6MSxtYWluQ2FsZW5kYXI6ImxlZnQiLGNvbnRhaW5lcjp2b2lkIDAsaTE4bjp7cHJldmlvdXNNb250aDoiUHJldmlvdXMgTW9udGgiLG5leHRNb250aDoiTmV4dCBNb250aCIsbW9udGhzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSx3ZWVrZGF5czpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sd2Vla2RheXNTaG9ydDpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdfSx0aGVtZTpudWxsLG9uU2VsZWN0Om51bGwsb25PcGVuOm51bGwsb25DbG9zZTpudWxsLG9uRHJhdzpudWxsfSxfPWZ1bmN0aW9uKGUsdCxuKXtmb3IodCs9ZS5maXJzdERheTt0Pj03Oyl0LT03O3JldHVybiBuP2UuaTE4bi53ZWVrZGF5c1Nob3J0W3RdOmUuaTE4bi53ZWVrZGF5c1t0XX0sUj1mdW5jdGlvbihlKXtpZihlLmlzRW1wdHkpcmV0dXJuJzx0ZCBjbGFzcz0iaXMtZW1wdHkiPjwvdGQ+Jzt2YXIgdD1bXTtyZXR1cm4gZS5pc0Rpc2FibGVkJiZ0LnB1c2goImlzLWRpc2FibGVkIiksZS5pc1RvZGF5JiZ0LnB1c2goImlzLXRvZGF5IiksZS5pc1NlbGVjdGVkJiZ0LnB1c2goImlzLXNlbGVjdGVkIiksZS5pc0luUmFuZ2UmJnQucHVzaCgiaXMtaW5yYW5nZSIpLGUuaXNTdGFydFJhbmdlJiZ0LnB1c2goImlzLXN0YXJ0cmFuZ2UiKSxlLmlzRW5kUmFuZ2UmJnQucHVzaCgiaXMtZW5kcmFuZ2UiKSwnPHRkIGRhdGEtZGF5PSInK2UuZGF5KyciIGNsYXNzPSInK3Quam9pbigiICIpKyciPjxidXR0b24gY2xhc3M9InBpa2EtYnV0dG9uIHBpa2EtZGF5IiB0eXBlPSJidXR0b24iIGRhdGEtcGlrYS15ZWFyPSInK2UueWVhcisnIiBkYXRhLXBpa2EtbW9udGg9IicrZS5tb250aCsnIiBkYXRhLXBpa2EtZGF5PSInK2UuZGF5KyciPicrZS5kYXkrIjwvYnV0dG9uPjwvdGQ+In0sUz1mdW5jdGlvbihlLHQsbil7dmFyIG89bmV3IERhdGUobiwwLDEpLHI9TWF0aC5jZWlsKCgobmV3IERhdGUobix0LGUpLW8pLzg2NGU1K28uZ2V0RGF5KCkrMSkvNyk7cmV0dXJuJzx0ZCBjbGFzcz0icGlrYS13ZWVrIj4nK3IrIjwvdGQ+In0sRT1mdW5jdGlvbihlLHQpe3JldHVybiI8dHI+IisodD9lLnJldmVyc2UoKTplKS5qb2luKCIiKSsiPC90cj4ifSxUPWZ1bmN0aW9uKGUpe3JldHVybiI8dGJvZHk+IitlLmpvaW4oIiIpKyI8L3Rib2R5PiJ9LE09ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtmb3IoZS5zaG93V2Vla051bWJlciYmbi5wdXNoKCI8dGg+PC90aD4iKSx0PTA7Nz50O3QrKyluLnB1c2goJzx0aCBzY29wZT0iY29sIj48YWJiciB0aXRsZT0iJytfKGUsdCkrJyI+JytfKGUsdCwhMCkrIjwvYWJicj48L3RoPiIpO3JldHVybiI8dGhlYWQ+IisoZS5pc1JUTD9uLnJldmVyc2UoKTpuKS5qb2luKCIiKSsiPC90aGVhZD4ifSxPPWZ1bmN0aW9uKGUsdCxuLG8scil7dmFyIGkscyxsLGEsdSxjPWUuX28saD1uPT09Yy5taW5ZZWFyLGY9bj09PWMubWF4WWVhcixwPSc8ZGl2IGNsYXNzPSJwaWthLXRpdGxlIj4nLGc9ITAsbT0hMDtmb3IobD1bXSxpPTA7MTI+aTtpKyspbC5wdXNoKCc8b3B0aW9uIHZhbHVlPSInKyhuPT09cj9pLXQ6MTIraS10KSsnIicrKGk9PT1vPyIgc2VsZWN0ZWQiOiIiKSsoaCYmaTxjLm1pbk1vbnRofHxmJiZpPmMubWF4TW9udGg/ImRpc2FibGVkIjoiIikrIj4iK2MuaTE4bi5tb250aHNbaV0rIjwvb3B0aW9uPiIpO2ZvcihhPSc8ZGl2IGNsYXNzPSJwaWthLWxhYmVsIj4nK2MuaTE4bi5tb250aHNbb10rJzxzZWxlY3QgY2xhc3M9InBpa2Etc2VsZWN0IHBpa2Etc2VsZWN0LW1vbnRoIiB0YWJpbmRleD0iLTEiPicrbC5qb2luKCIiKSsiPC9zZWxlY3Q+PC9kaXY+IixkKGMueWVhclJhbmdlKT8oaT1jLnllYXJSYW5nZVswXSxzPWMueWVhclJhbmdlWzFdKzEpOihpPW4tYy55ZWFyUmFuZ2Uscz0xK24rYy55ZWFyUmFuZ2UpLGw9W107cz5pJiZpPD1jLm1heFllYXI7aSsrKWk+PWMubWluWWVhciYmbC5wdXNoKCc8b3B0aW9uIHZhbHVlPSInK2krJyInKyhpPT09bj8iIHNlbGVjdGVkIjoiIikrIj4iK2krIjwvb3B0aW9uPiIpO3JldHVybiB1PSc8ZGl2IGNsYXNzPSJwaWthLWxhYmVsIj4nK24rYy55ZWFyU3VmZml4Kyc8c2VsZWN0IGNsYXNzPSJwaWthLXNlbGVjdCBwaWthLXNlbGVjdC15ZWFyIiB0YWJpbmRleD0iLTEiPicrbC5qb2luKCIiKSsiPC9zZWxlY3Q+PC9kaXY+IixwKz1jLnNob3dNb250aEFmdGVyWWVhcj91K2E6YSt1LGgmJigwPT09b3x8Yy5taW5Nb250aD49bykmJihnPSExKSxmJiYoMTE9PT1vfHxjLm1heE1vbnRoPD1vKSYmKG09ITEpLDA9PT10JiYocCs9JzxidXR0b24gY2xhc3M9InBpa2EtcHJldicrKGc/IiI6IiBpcy1kaXNhYmxlZCIpKyciIHR5cGU9ImJ1dHRvbiI+JytjLmkxOG4ucHJldmlvdXNNb250aCsiPC9idXR0b24+IiksdD09PWUuX28ubnVtYmVyT2ZNb250aHMtMSYmKHArPSc8YnV0dG9uIGNsYXNzPSJwaWthLW5leHQnKyhtPyIiOiIgaXMtZGlzYWJsZWQiKSsnIiB0eXBlPSJidXR0b24iPicrYy5pMThuLm5leHRNb250aCsiPC9idXR0b24+IikscCs9IjwvZGl2PiJ9LGs9ZnVuY3Rpb24oZSx0KXtyZXR1cm4nPHRhYmxlIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgY2xhc3M9InBpa2EtdGFibGUiPicrTShlKStUKHQpKyI8L3RhYmxlPiJ9LEg9ZnVuY3Rpb24ocyl7dmFyIGw9dGhpcyxhPWwuY29uZmlnKHMpO2wuX29uTW91c2VEb3duPWZ1bmN0aW9uKGUpe2lmKGwuX3Ype2U9ZXx8d2luZG93LmV2ZW50O3ZhciB0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQ7aWYodClpZih1KHQsImlzLWRpc2FibGVkIil8fCh1KHQsInBpa2EtYnV0dG9uIikmJiF1KHQsImlzLWVtcHR5Iik/KGwuc2V0RGF0ZShuZXcgRGF0ZSh0LmdldEF0dHJpYnV0ZSgiZGF0YS1waWthLXllYXIiKSx0LmdldEF0dHJpYnV0ZSgiZGF0YS1waWthLW1vbnRoIiksdC5nZXRBdHRyaWJ1dGUoImRhdGEtcGlrYS1kYXkiKSkpLGEuYm91bmQmJnIoZnVuY3Rpb24oKXtsLmhpZGUoKSxhLmZpZWxkJiZhLmZpZWxkLmJsdXIoKX0sMTAwKSk6dSh0LCJwaWthLXByZXYiKT9sLnByZXZNb250aCgpOnUodCwicGlrYS1uZXh0IikmJmwubmV4dE1vbnRoKCkpLHUodCwicGlrYS1zZWxlY3QiKSlsLl9jPSEwO2Vsc2V7aWYoIWUucHJldmVudERlZmF1bHQpcmV0dXJuIGUucmV0dXJuVmFsdWU9ITEsITE7ZS5wcmV2ZW50RGVmYXVsdCgpfX19LGwuX29uQ2hhbmdlPWZ1bmN0aW9uKGUpe2U9ZXx8d2luZG93LmV2ZW50O3ZhciB0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQ7dCYmKHUodCwicGlrYS1zZWxlY3QtbW9udGgiKT9sLmdvdG9Nb250aCh0LnZhbHVlKTp1KHQsInBpa2Etc2VsZWN0LXllYXIiKSYmbC5nb3RvWWVhcih0LnZhbHVlKSl9LGwuX29uSW5wdXRDaGFuZ2U9ZnVuY3Rpb24obil7dmFyIG87bi5maXJlZEJ5IT09bCYmKHQ/KG89ZShhLmZpZWxkLnZhbHVlLGEuZm9ybWF0KSxvPW8mJm8uaXNWYWxpZCgpP28udG9EYXRlKCk6bnVsbCk6bz1uZXcgRGF0ZShEYXRlLnBhcnNlKGEuZmllbGQudmFsdWUpKSxmKG8pJiZsLnNldERhdGUobyksbC5fdnx8bC5zaG93KCkpfSxsLl9vbklucHV0Rm9jdXM9ZnVuY3Rpb24oKXtsLnNob3coKX0sbC5fb25JbnB1dENsaWNrPWZ1bmN0aW9uKCl7bC5zaG93KCl9LGwuX29uSW5wdXRCbHVyPWZ1bmN0aW9uKCl7dmFyIGU9by5hY3RpdmVFbGVtZW50O2RvIGlmKHUoZSwicGlrYS1zaW5nbGUiKSlyZXR1cm47d2hpbGUoZT1lLnBhcmVudE5vZGUpO2wuX2N8fChsLl9iPXIoZnVuY3Rpb24oKXtsLmhpZGUoKX0sNTApKSxsLl9jPSExfSxsLl9vbkNsaWNrPWZ1bmN0aW9uKGUpe2U9ZXx8d2luZG93LmV2ZW50O3ZhciB0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQsbz10O2lmKHQpeyFuJiZ1KHQsInBpa2Etc2VsZWN0IikmJih0Lm9uY2hhbmdlfHwodC5zZXRBdHRyaWJ1dGUoIm9uY2hhbmdlIiwicmV0dXJuOyIpLGkodCwiY2hhbmdlIixsLl9vbkNoYW5nZSkpKTtkbyBpZih1KG8sInBpa2Etc2luZ2xlIil8fG89PT1hLnRyaWdnZXIpcmV0dXJuO3doaWxlKG89by5wYXJlbnROb2RlKTtsLl92JiZ0IT09YS50cmlnZ2VyJiZvIT09YS50cmlnZ2VyJiZsLmhpZGUoKX19LGwuZWw9by5jcmVhdGVFbGVtZW50KCJkaXYiKSxsLmVsLmNsYXNzTmFtZT0icGlrYS1zaW5nbGUiKyhhLmlzUlRMPyIgaXMtcnRsIjoiIikrKGEudGhlbWU/IiAiK2EudGhlbWU6IiIpLGkobC5lbCwibW91c2Vkb3duIixsLl9vbk1vdXNlRG93biwhMCksaShsLmVsLCJ0b3VjaGVuZCIsbC5fb25Nb3VzZURvd24sITApLGkobC5lbCwiY2hhbmdlIixsLl9vbkNoYW5nZSksYS5maWVsZCYmKGEuY29udGFpbmVyP2EuY29udGFpbmVyLmFwcGVuZENoaWxkKGwuZWwpOmEuYm91bmQ/by5ib2R5LmFwcGVuZENoaWxkKGwuZWwpOmEuZmllbGQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobC5lbCxhLmZpZWxkLm5leHRTaWJsaW5nKSxpKGEuZmllbGQsImNoYW5nZSIsbC5fb25JbnB1dENoYW5nZSksYS5kZWZhdWx0RGF0ZXx8KHQmJmEuZmllbGQudmFsdWU/YS5kZWZhdWx0RGF0ZT1lKGEuZmllbGQudmFsdWUsYS5mb3JtYXQpLnRvRGF0ZSgpOmEuZGVmYXVsdERhdGU9bmV3IERhdGUoRGF0ZS5wYXJzZShhLmZpZWxkLnZhbHVlKSksYS5zZXREZWZhdWx0RGF0ZT0hMCkpO3ZhciBjPWEuZGVmYXVsdERhdGU7ZihjKT9hLnNldERlZmF1bHREYXRlP2wuc2V0RGF0ZShjLCEwKTpsLmdvdG9EYXRlKGMpOmwuZ290b0RhdGUobmV3IERhdGUpLGEuYm91bmQ/KHRoaXMuaGlkZSgpLGwuZWwuY2xhc3NOYW1lKz0iIGlzLWJvdW5kIixpKGEudHJpZ2dlciwiY2xpY2siLGwuX29uSW5wdXRDbGljayksaShhLnRyaWdnZXIsImZvY3VzIixsLl9vbklucHV0Rm9jdXMpLGkoYS50cmlnZ2VyLCJibHVyIixsLl9vbklucHV0Qmx1cikpOnRoaXMuc2hvdygpfTtyZXR1cm4gSC5wcm90b3R5cGU9e2NvbmZpZzpmdW5jdGlvbihlKXt0aGlzLl9vfHwodGhpcy5fbz15KHt9LEMsITApKTt2YXIgdD15KHRoaXMuX28sZSwhMCk7dC5pc1JUTD0hIXQuaXNSVEwsdC5maWVsZD10LmZpZWxkJiZ0LmZpZWxkLm5vZGVOYW1lP3QuZmllbGQ6bnVsbCx0LnRoZW1lPSJzdHJpbmciPT10eXBlb2YgdC50aGVtZSYmdC50aGVtZT90LnRoZW1lOm51bGwsdC5ib3VuZD0hISh2b2lkIDAhPT10LmJvdW5kP3QuZmllbGQmJnQuYm91bmQ6dC5maWVsZCksdC50cmlnZ2VyPXQudHJpZ2dlciYmdC50cmlnZ2VyLm5vZGVOYW1lP3QudHJpZ2dlcjp0LmZpZWxkLHQuZGlzYWJsZVdlZWtlbmRzPSEhdC5kaXNhYmxlV2Vla2VuZHMsdC5kaXNhYmxlRGF5Rm49ImZ1bmN0aW9uIj09dHlwZW9mIHQuZGlzYWJsZURheUZuP3QuZGlzYWJsZURheUZuOm51bGw7dmFyIG49cGFyc2VJbnQodC5udW1iZXJPZk1vbnRocywxMCl8fDE7aWYodC5udW1iZXJPZk1vbnRocz1uPjQ/NDpuLGYodC5taW5EYXRlKXx8KHQubWluRGF0ZT0hMSksZih0Lm1heERhdGUpfHwodC5tYXhEYXRlPSExKSx0Lm1pbkRhdGUmJnQubWF4RGF0ZSYmdC5tYXhEYXRlPHQubWluRGF0ZSYmKHQubWF4RGF0ZT10Lm1pbkRhdGU9ITEpLHQubWluRGF0ZSYmdGhpcy5zZXRNaW5EYXRlKHQubWluRGF0ZSksdC5tYXhEYXRlJiZ0aGlzLnNldE1heERhdGUodC5tYXhEYXRlKSxkKHQueWVhclJhbmdlKSl7dmFyIG89KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLTEwO3QueWVhclJhbmdlWzBdPXBhcnNlSW50KHQueWVhclJhbmdlWzBdLDEwKXx8byx0LnllYXJSYW5nZVsxXT1wYXJzZUludCh0LnllYXJSYW5nZVsxXSwxMCl8fG99ZWxzZSB0LnllYXJSYW5nZT1NYXRoLmFicyhwYXJzZUludCh0LnllYXJSYW5nZSwxMCkpfHxDLnllYXJSYW5nZSx0LnllYXJSYW5nZT4xMDAmJih0LnllYXJSYW5nZT0xMDApO3JldHVybiB0fSx0b1N0cmluZzpmdW5jdGlvbihuKXtyZXR1cm4gZih0aGlzLl9kKT90P2UodGhpcy5fZCkuZm9ybWF0KG58fHRoaXMuX28uZm9ybWF0KTp0aGlzLl9kLnRvRGF0ZVN0cmluZygpOiIifSxnZXRNb21lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdD9lKHRoaXMuX2QpOm51bGx9LHNldE1vbWVudDpmdW5jdGlvbihuLG8pe3QmJmUuaXNNb21lbnQobikmJnRoaXMuc2V0RGF0ZShuLnRvRGF0ZSgpLG8pfSxnZXREYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGYodGhpcy5fZCk/bmV3IERhdGUodGhpcy5fZC5nZXRUaW1lKCkpOm51bGx9LHNldERhdGU6ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gdGhpcy5fZD1udWxsLHRoaXMuX28uZmllbGQmJih0aGlzLl9vLmZpZWxkLnZhbHVlPSIiLGwodGhpcy5fby5maWVsZCwiY2hhbmdlIix7ZmlyZWRCeTp0aGlzfSkpLHRoaXMuZHJhdygpO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmKGU9bmV3IERhdGUoRGF0ZS5wYXJzZShlKSkpLGYoZSkpe3ZhciBuPXRoaXMuX28ubWluRGF0ZSxvPXRoaXMuX28ubWF4RGF0ZTtmKG4pJiZuPmU/ZT1uOmYobykmJmU+byYmKGU9byksdGhpcy5fZD1uZXcgRGF0ZShlLmdldFRpbWUoKSksdyh0aGlzLl9kKSx0aGlzLmdvdG9EYXRlKHRoaXMuX2QpLHRoaXMuX28uZmllbGQmJih0aGlzLl9vLmZpZWxkLnZhbHVlPXRoaXMudG9TdHJpbmcoKSxsKHRoaXMuX28uZmllbGQsImNoYW5nZSIse2ZpcmVkQnk6dGhpc30pKSx0fHwiZnVuY3Rpb24iIT10eXBlb2YgdGhpcy5fby5vblNlbGVjdHx8dGhpcy5fby5vblNlbGVjdC5jYWxsKHRoaXMsdGhpcy5nZXREYXRlKCkpfX0sZ290b0RhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ITA7aWYoZihlKSl7aWYodGhpcy5jYWxlbmRhcnMpe3ZhciBuPW5ldyBEYXRlKHRoaXMuY2FsZW5kYXJzWzBdLnllYXIsdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgsMSksbz1uZXcgRGF0ZSh0aGlzLmNhbGVuZGFyc1t0aGlzLmNhbGVuZGFycy5sZW5ndGgtMV0ueWVhcix0aGlzLmNhbGVuZGFyc1t0aGlzLmNhbGVuZGFycy5sZW5ndGgtMV0ubW9udGgsMSkscj1lLmdldFRpbWUoKTtvLnNldE1vbnRoKG8uZ2V0TW9udGgoKSsxKSxvLnNldERhdGUoby5nZXREYXRlKCktMSksdD1yPG4uZ2V0VGltZSgpfHxvLmdldFRpbWUoKTxyfXQmJih0aGlzLmNhbGVuZGFycz1be21vbnRoOmUuZ2V0TW9udGgoKSx5ZWFyOmUuZ2V0RnVsbFllYXIoKX1dLCJyaWdodCI9PT10aGlzLl9vLm1haW5DYWxlbmRhciYmKHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoKz0xLXRoaXMuX28ubnVtYmVyT2ZNb250aHMpKSx0aGlzLmFkanVzdENhbGVuZGFycygpfX0sYWRqdXN0Q2FsZW5kYXJzOmZ1bmN0aW9uKCl7dGhpcy5jYWxlbmRhcnNbMF09Yih0aGlzLmNhbGVuZGFyc1swXSk7Zm9yKHZhciBlPTE7ZTx0aGlzLl9vLm51bWJlck9mTW9udGhzO2UrKyl0aGlzLmNhbGVuZGFyc1tlXT1iKHttb250aDp0aGlzLmNhbGVuZGFyc1swXS5tb250aCtlLHllYXI6dGhpcy5jYWxlbmRhcnNbMF0ueWVhcn0pO3RoaXMuZHJhdygpfSxnb3RvVG9kYXk6ZnVuY3Rpb24oKXt0aGlzLmdvdG9EYXRlKG5ldyBEYXRlKX0sZ290b01vbnRoOmZ1bmN0aW9uKGUpe2lzTmFOKGUpfHwodGhpcy5jYWxlbmRhcnNbMF0ubW9udGg9cGFyc2VJbnQoZSwxMCksdGhpcy5hZGp1c3RDYWxlbmRhcnMoKSl9LG5leHRNb250aDpmdW5jdGlvbigpe3RoaXMuY2FsZW5kYXJzWzBdLm1vbnRoKyssdGhpcy5hZGp1c3RDYWxlbmRhcnMoKX0scHJldk1vbnRoOmZ1bmN0aW9uKCl7dGhpcy5jYWxlbmRhcnNbMF0ubW9udGgtLSx0aGlzLmFkanVzdENhbGVuZGFycygpfSxnb3RvWWVhcjpmdW5jdGlvbihlKXtpc05hTihlKXx8KHRoaXMuY2FsZW5kYXJzWzBdLnllYXI9cGFyc2VJbnQoZSwxMCksdGhpcy5hZGp1c3RDYWxlbmRhcnMoKSl9LHNldE1pbkRhdGU6ZnVuY3Rpb24oZSl7dyhlKSx0aGlzLl9vLm1pbkRhdGU9ZSx0aGlzLl9vLm1pblllYXI9ZS5nZXRGdWxsWWVhcigpLHRoaXMuX28ubWluTW9udGg9ZS5nZXRNb250aCgpLHRoaXMuZHJhdygpfSxzZXRNYXhEYXRlOmZ1bmN0aW9uKGUpe3coZSksdGhpcy5fby5tYXhEYXRlPWUsdGhpcy5fby5tYXhZZWFyPWUuZ2V0RnVsbFllYXIoKSx0aGlzLl9vLm1heE1vbnRoPWUuZ2V0TW9udGgoKSx0aGlzLmRyYXcoKX0sc2V0U3RhcnRSYW5nZTpmdW5jdGlvbihlKXt0aGlzLl9vLnN0YXJ0UmFuZ2U9ZX0sc2V0RW5kUmFuZ2U6ZnVuY3Rpb24oZSl7dGhpcy5fby5lbmRSYW5nZT1lfSxkcmF3OmZ1bmN0aW9uKGUpe2lmKHRoaXMuX3Z8fGUpe3ZhciB0PXRoaXMuX28sbj10Lm1pblllYXIsbz10Lm1heFllYXIsaT10Lm1pbk1vbnRoLHM9dC5tYXhNb250aCxsPSIiO3RoaXMuX3k8PW4mJih0aGlzLl95PW4sIWlzTmFOKGkpJiZ0aGlzLl9tPGkmJih0aGlzLl9tPWkpKSx0aGlzLl95Pj1vJiYodGhpcy5feT1vLCFpc05hTihzKSYmdGhpcy5fbT5zJiYodGhpcy5fbT1zKSk7Zm9yKHZhciBhPTA7YTx0Lm51bWJlck9mTW9udGhzO2ErKylsKz0nPGRpdiBjbGFzcz0icGlrYS1sZW5kYXIiPicrTyh0aGlzLGEsdGhpcy5jYWxlbmRhcnNbYV0ueWVhcix0aGlzLmNhbGVuZGFyc1thXS5tb250aCx0aGlzLmNhbGVuZGFyc1swXS55ZWFyKSt0aGlzLnJlbmRlcih0aGlzLmNhbGVuZGFyc1thXS55ZWFyLHRoaXMuY2FsZW5kYXJzW2FdLm1vbnRoKSsiPC9kaXY+IjtpZih0aGlzLmVsLmlubmVySFRNTD1sLHQuYm91bmQmJiJoaWRkZW4iIT09dC5maWVsZC50eXBlJiZyKGZ1bmN0aW9uKCl7dC50cmlnZ2VyLmZvY3VzKCl9LDEpLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl9vLm9uRHJhdyl7dmFyIHU9dGhpcztyKGZ1bmN0aW9uKCl7dS5fby5vbkRyYXcuY2FsbCh1KX0sMCl9fX0sYWRqdXN0UG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixpLHMsbCxhLHUsYztpZighdGhpcy5fby5jb250YWluZXIpe2lmKHRoaXMuZWwuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixlPXRoaXMuX28udHJpZ2dlcix0PWUsbj10aGlzLmVsLm9mZnNldFdpZHRoLHI9dGhpcy5lbC5vZmZzZXRIZWlnaHQsaT13aW5kb3cuaW5uZXJXaWR0aHx8by5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgscz13aW5kb3cuaW5uZXJIZWlnaHR8fG8uZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxsPXdpbmRvdy5wYWdlWU9mZnNldHx8by5ib2R5LnNjcm9sbFRvcHx8by5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCljPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYT1jLmxlZnQrd2luZG93LnBhZ2VYT2Zmc2V0LHU9Yy5ib3R0b20rd2luZG93LnBhZ2VZT2Zmc2V0O2Vsc2UgZm9yKGE9dC5vZmZzZXRMZWZ0LHU9dC5vZmZzZXRUb3ArdC5vZmZzZXRIZWlnaHQ7dD10Lm9mZnNldFBhcmVudDspYSs9dC5vZmZzZXRMZWZ0LHUrPXQub2Zmc2V0VG9wOyh0aGlzLl9vLnJlcG9zaXRpb24mJmErbj5pfHx0aGlzLl9vLnBvc2l0aW9uLmluZGV4T2YoInJpZ2h0Iik+LTEmJmEtbitlLm9mZnNldFdpZHRoPjApJiYoYT1hLW4rZS5vZmZzZXRXaWR0aCksKHRoaXMuX28ucmVwb3NpdGlvbiYmdStyPnMrbHx8dGhpcy5fby5wb3NpdGlvbi5pbmRleE9mKCJ0b3AiKT4tMSYmdS1yLWUub2Zmc2V0SGVpZ2h0PjApJiYodT11LXItZS5vZmZzZXRIZWlnaHQpLHRoaXMuZWwuc3R5bGUubGVmdD1hKyJweCIsdGhpcy5lbC5zdHlsZS50b3A9dSsicHgifX0scmVuZGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fbyxvPW5ldyBEYXRlLHI9bShlLHQpLGk9bmV3IERhdGUoZSx0LDEpLmdldERheSgpLHM9W10sbD1bXTt3KG8pLG4uZmlyc3REYXk+MCYmKGktPW4uZmlyc3REYXksMD5pJiYoaSs9NykpO2Zvcih2YXIgYT1yK2ksdT1hO3U+NzspdS09NzthKz03LXU7Zm9yKHZhciBjPTAsaD0wO2E+YztjKyspe3ZhciBkPW5ldyBEYXRlKGUsdCwxKyhjLWkpKSxnPWYodGhpcy5fZCk/dihkLHRoaXMuX2QpOiExLHk9dihkLG8pLGI9aT5jfHxjPj1yK2ksQz1uLnN0YXJ0UmFuZ2UmJnYobi5zdGFydFJhbmdlLGQpLF89bi5lbmRSYW5nZSYmdihuLmVuZFJhbmdlLGQpLFQ9bi5zdGFydFJhbmdlJiZuLmVuZFJhbmdlJiZuLnN0YXJ0UmFuZ2U8ZCYmZDxuLmVuZFJhbmdlLE09bi5taW5EYXRlJiZkPG4ubWluRGF0ZXx8bi5tYXhEYXRlJiZkPm4ubWF4RGF0ZXx8bi5kaXNhYmxlV2Vla2VuZHMmJnAoZCl8fG4uZGlzYWJsZURheUZuJiZuLmRpc2FibGVEYXlGbihkKSxPPXtkYXk6MSsoYy1pKSxtb250aDp0LHllYXI6ZSxpc1NlbGVjdGVkOmcsaXNUb2RheTp5LGlzRGlzYWJsZWQ6TSxpc0VtcHR5OmIsaXNTdGFydFJhbmdlOkMsaXNFbmRSYW5nZTpfLGlzSW5SYW5nZTpUfTtsLnB1c2goUihPKSksNz09PSsraCYmKG4uc2hvd1dlZWtOdW1iZXImJmwudW5zaGlmdChTKGMtaSx0LGUpKSxzLnB1c2goRShsLG4uaXNSVEwpKSxsPVtdLGg9MCl9cmV0dXJuIGsobixzKX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Z9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLl92fHwoaCh0aGlzLmVsLCJpcy1oaWRkZW4iKSx0aGlzLl92PSEwLHRoaXMuZHJhdygpLHRoaXMuX28uYm91bmQmJihpKG8sImNsaWNrIix0aGlzLl9vbkNsaWNrKSx0aGlzLmFkanVzdFBvc2l0aW9uKCkpLCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl9vLm9uT3BlbiYmdGhpcy5fby5vbk9wZW4uY2FsbCh0aGlzKSl9LGhpZGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl92O2UhPT0hMSYmKHRoaXMuX28uYm91bmQmJnMobywiY2xpY2siLHRoaXMuX29uQ2xpY2spLHRoaXMuZWwuc3R5bGUucG9zaXRpb249InN0YXRpYyIsdGhpcy5lbC5zdHlsZS5sZWZ0PSJhdXRvIix0aGlzLmVsLnN0eWxlLnRvcD0iYXV0byIsYyh0aGlzLmVsLCJpcy1oaWRkZW4iKSx0aGlzLl92PSExLHZvaWQgMCE9PWUmJiJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLl9vLm9uQ2xvc2UmJnRoaXMuX28ub25DbG9zZS5jYWxsKHRoaXMpKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGlkZSgpLHModGhpcy5lbCwibW91c2Vkb3duIix0aGlzLl9vbk1vdXNlRG93biwhMCkscyh0aGlzLmVsLCJ0b3VjaGVuZCIsdGhpcy5fb25Nb3VzZURvd24sITApLHModGhpcy5lbCwiY2hhbmdlIix0aGlzLl9vbkNoYW5nZSksdGhpcy5fby5maWVsZCYmKHModGhpcy5fby5maWVsZCwiY2hhbmdlIix0aGlzLl9vbklucHV0Q2hhbmdlKSx0aGlzLl9vLmJvdW5kJiYocyh0aGlzLl9vLnRyaWdnZXIsImNsaWNrIix0aGlzLl9vbklucHV0Q2xpY2spLHModGhpcy5fby50cmlnZ2VyLCJmb2N1cyIsdGhpcy5fb25JbnB1dEZvY3VzKSxzKHRoaXMuX28udHJpZ2dlciwiYmx1ciIsdGhpcy5fb25JbnB1dEJsdXIpKSksdGhpcy5lbC5wYXJlbnROb2RlJiZ0aGlzLmVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbCl9fSxIfSl9LHttb21lbnQ6Im1vbWVudCJ9XSx6ZXJvY2xpcGJvYXJkOltmdW5jdGlvbih0LG4sbyl7LyohCiAqIFplcm9DbGlwYm9hcmQKICogVGhlIFplcm9DbGlwYm9hcmQgbGlicmFyeSBwcm92aWRlcyBhbiBlYXN5IHdheSB0byBjb3B5IHRleHQgdG8gdGhlIGNsaXBib2FyZCB1c2luZyBhbiBpbnZpc2libGUgQWRvYmUgRmxhc2ggbW92aWUgYW5kIGEgSmF2YVNjcmlwdCBpbnRlcmZhY2UuCiAqIENvcHlyaWdodCAoYykgMjAwOS0yMDE0IEpvbiBSb2hhbiwgSmFtZXMgTS4gR3JlZW5lCiAqIExpY2Vuc2VkIE1JVAogKiBodHRwOi8vemVyb2NsaXBib2FyZC5vcmcvCiAqIHYyLjIuMAogKi8KIWZ1bmN0aW9uKHQsbyl7InVzZSBzdHJpY3QiO3ZhciByLGkscyxsPXQsYT1sLmRvY3VtZW50LHU9bC5uYXZpZ2F0b3IsYz1sLnNldFRpbWVvdXQsaD1sLmNsZWFyVGltZW91dCxkPWwuc2V0SW50ZXJ2YWwsZj1sLmNsZWFySW50ZXJ2YWwscD1sLmdldENvbXB1dGVkU3R5bGUsZz1sLmVuY29kZVVSSUNvbXBvbmVudCxtPWwuQWN0aXZlWE9iamVjdCx3PWwuRXJyb3Isdj1sLk51bWJlci5wYXJzZUludHx8bC5wYXJzZUludCx5PWwuTnVtYmVyLnBhcnNlRmxvYXR8fGwucGFyc2VGbG9hdCxiPWwuTnVtYmVyLmlzTmFOfHxsLmlzTmFOLEM9bC5EYXRlLm5vdyxfPWwuT2JqZWN0LmtleXMsUj1sLk9iamVjdC5kZWZpbmVQcm9wZXJ0eSxTPWwuT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxFPWwuQXJyYXkucHJvdG90eXBlLnNsaWNlLFQ9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbihlKXtyZXR1cm4gZX07aWYoImZ1bmN0aW9uIj09dHlwZW9mIGwud3JhcCYmImZ1bmN0aW9uIj09dHlwZW9mIGwudW53cmFwKXRyeXt2YXIgdD1hLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG49bC51bndyYXAodCk7MT09PXQubm9kZVR5cGUmJm4mJjE9PT1uLm5vZGVUeXBlJiYoZT1sLnVud3JhcCl9Y2F0Y2gobyl7fXJldHVybiBlfSgpLE09ZnVuY3Rpb24oZSl7cmV0dXJuIEUuY2FsbChlLDApfSxPPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxzLGw9TShhcmd1bWVudHMpLGE9bFswXXx8e307Zm9yKGU9MSx0PWwubGVuZ3RoO3Q+ZTtlKyspaWYobnVsbCE9KG49bFtlXSkpZm9yKHIgaW4gbilTLmNhbGwobixyKSYmKGk9YVtyXSxzPW5bcl0sYSE9PXMmJnMhPT1vJiYoYVtyXT1zKSk7cmV0dXJuIGF9LGs9ZnVuY3Rpb24oZSl7dmFyIHQsbixvLHI7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHxudWxsPT1lfHwibnVtYmVyIj09dHlwZW9mIGUubm9kZVR5cGUpdD1lO2Vsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aClmb3IodD1bXSxuPTAsbz1lLmxlbmd0aDtvPm47bisrKVMuY2FsbChlLG4pJiYodFtuXT1rKGVbbl0pKTtlbHNle3Q9e307Zm9yKHIgaW4gZSlTLmNhbGwoZSxyKSYmKHRbcl09ayhlW3JdKSl9cmV0dXJuIHR9LEg9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e30sbz0wLHI9dC5sZW5ndGg7cj5vO28rKyl0W29daW4gZSYmKG5bdFtvXV09ZVt0W29dXSk7cmV0dXJuIG59LEQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIG8gaW4gZSktMT09PXQuaW5kZXhPZihvKSYmKG5bb109ZVtvXSk7cmV0dXJuIG59LEE9ZnVuY3Rpb24oZSl7aWYoZSlmb3IodmFyIHQgaW4gZSlTLmNhbGwoZSx0KSYmZGVsZXRlIGVbdF07cmV0dXJuIGV9LHg9ZnVuY3Rpb24oZSx0KXtpZihlJiYxPT09ZS5ub2RlVHlwZSYmZS5vd25lckRvY3VtZW50JiZ0JiYoMT09PXQubm9kZVR5cGUmJnQub3duZXJEb2N1bWVudCYmdC5vd25lckRvY3VtZW50PT09ZS5vd25lckRvY3VtZW50fHw5PT09dC5ub2RlVHlwZSYmIXQub3duZXJEb2N1bWVudCYmdD09PWUub3duZXJEb2N1bWVudCkpZG97aWYoZT09PXQpcmV0dXJuITA7ZT1lLnBhcmVudE5vZGV9d2hpbGUoZSk7cmV0dXJuITF9LFA9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZlJiYodD1lLnNwbGl0KCIjIilbMF0uc3BsaXQoIj8iKVswXSx0PWUuc2xpY2UoMCxlLmxhc3RJbmRleE9mKCIvIikrMSkpLHR9LE49ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJmUmJihuPWUubWF0Y2goL14oPzp8W146QF0qQHwuK1wpQCg/PWh0dHBbc10/fGZpbGUpfC4rP1xzKyg/OiBhdCB8QCkoPzpbXjpcKF0rICkqW1woXT8pKCg/Omh0dHBbc10/fGZpbGUpOlwvXC9bXC9dPy4rP1wvW146XCldKj8pKD86OlxkKykoPzo6XGQrKT8vKSxuJiZuWzFdP3Q9blsxXToobj1lLm1hdGNoKC9cKUAoKD86aHR0cFtzXT98ZmlsZSk6XC9cL1tcL10/Lis/XC9bXjpcKV0qPykoPzo6XGQrKSg/OjpcZCspPy8pLG4mJm5bMV0mJih0PW5bMV0pKSksdH0sTD1mdW5jdGlvbigpe3ZhciBlLHQ7dHJ5e3Rocm93IG5ldyB3fWNhdGNoKG4pe3Q9bn1yZXR1cm4gdCYmKGU9dC5zb3VyY2VVUkx8fHQuZmlsZU5hbWV8fE4odC5zdGFjaykpLGV9LFc9ZnVuY3Rpb24oKXt2YXIgZSx0LG47aWYoYS5jdXJyZW50U2NyaXB0JiYoZT1hLmN1cnJlbnRTY3JpcHQuc3JjKSlyZXR1cm4gZTtpZih0PWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLDE9PT10Lmxlbmd0aClyZXR1cm4gdFswXS5zcmN8fG87aWYoInJlYWR5U3RhdGUiaW4gdFswXSlmb3Iobj10Lmxlbmd0aDtuLS07KWlmKCJpbnRlcmFjdGl2ZSI9PT10W25dLnJlYWR5U3RhdGUmJihlPXRbbl0uc3JjKSlyZXR1cm4gZTtyZXR1cm4ibG9hZGluZyI9PT1hLnJlYWR5U3RhdGUmJihlPXRbdC5sZW5ndGgtMV0uc3JjKT9lOihlPUwoKSk/ZTpvfSxJPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0Iik7Zm9yKGU9ci5sZW5ndGg7ZS0tOyl7aWYoIShuPXJbZV0uc3JjKSl7dD1udWxsO2JyZWFrfWlmKG49UChuKSxudWxsPT10KXQ9bjtlbHNlIGlmKHQhPT1uKXt0PW51bGw7YnJlYWt9fXJldHVybiB0fHxvfSxqPWZ1bmN0aW9uKCl7dmFyIGU9UChXKCkpfHxJKCl8fCIiO3JldHVybiBlKyJaZXJvQ2xpcGJvYXJkLnN3ZiJ9LFY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dC5vcGVuZXImJighIXQudG9wJiZ0IT10LnRvcHx8ISF0LnBhcmVudCYmdCE9dC5wYXJlbnQpfSgpLEY9e2JyaWRnZTpudWxsLHZlcnNpb246IjAuMC4wIixwbHVnaW5UeXBlOiJ1bmtub3duIixkaXNhYmxlZDpudWxsLG91dGRhdGVkOm51bGwsc2FuZGJveGVkOm51bGwsdW5hdmFpbGFibGU6bnVsbCxkZWdyYWRlZDpudWxsLGRlYWN0aXZhdGVkOm51bGwsb3ZlcmR1ZTpudWxsLHJlYWR5Om51bGx9LEI9IjExLjAuMCIsej17fSxZPXt9LFU9bnVsbCxHPTAsJD0wLFg9e3JlYWR5OiJGbGFzaCBjb21tdW5pY2F0aW9uIGlzIGVzdGFibGlzaGVkIixlcnJvcjp7ImZsYXNoLWRpc2FibGVkIjoiRmxhc2ggaXMgZGlzYWJsZWQgb3Igbm90IGluc3RhbGxlZC4gTWF5IGFsc28gYmUgYXR0ZW1wdGluZyB0byBydW4gRmxhc2ggaW4gYSBzYW5kYm94ZWQgaWZyYW1lLCB3aGljaCBpcyBpbXBvc3NpYmxlLiIsImZsYXNoLW91dGRhdGVkIjoiRmxhc2ggaXMgdG9vIG91dGRhdGVkIHRvIHN1cHBvcnQgWmVyb0NsaXBib2FyZCIsImZsYXNoLXNhbmRib3hlZCI6IkF0dGVtcHRpbmcgdG8gcnVuIEZsYXNoIGluIGEgc2FuZGJveGVkIGlmcmFtZSwgd2hpY2ggaXMgaW1wb3NzaWJsZSIsImZsYXNoLXVuYXZhaWxhYmxlIjoiRmxhc2ggaXMgdW5hYmxlIHRvIGNvbW11bmljYXRlIGJpZGlyZWN0aW9uYWxseSB3aXRoIEphdmFTY3JpcHQiLCJmbGFzaC1kZWdyYWRlZCI6IkZsYXNoIGlzIHVuYWJsZSB0byBwcmVzZXJ2ZSBkYXRhIGZpZGVsaXR5IHdoZW4gY29tbXVuaWNhdGluZyB3aXRoIEphdmFTY3JpcHQiLCJmbGFzaC1kZWFjdGl2YXRlZCI6IkZsYXNoIGlzIHRvbyBvdXRkYXRlZCBmb3IgeW91ciBicm93c2VyIGFuZC9vciBpcyBjb25maWd1cmVkIGFzIGNsaWNrLXRvLWFjdGl2YXRlLlxuVGhpcyBtYXkgYWxzbyBtZWFuIHRoYXQgdGhlIFplcm9DbGlwYm9hcmQgU1dGIG9iamVjdCBjb3VsZCBub3QgYmUgbG9hZGVkLCBzbyBwbGVhc2UgY2hlY2sgeW91ciBgc3dmUGF0aGAgY29uZmlndXJhdGlvbiBhbmQvb3IgbmV0d29yayBjb25uZWN0aXZpdHkuXG5NYXkgYWxzbyBiZSBhdHRlbXB0aW5nIHRvIHJ1biBGbGFzaCBpbiBhIHNhbmRib3hlZCBpZnJhbWUsIHdoaWNoIGlzIGltcG9zc2libGUuIiwiZmxhc2gtb3ZlcmR1ZSI6IkZsYXNoIGNvbW11bmljYXRpb24gd2FzIGVzdGFibGlzaGVkIGJ1dCBOT1Qgd2l0aGluIHRoZSBhY2NlcHRhYmxlIHRpbWUgbGltaXQiLCJ2ZXJzaW9uLW1pc21hdGNoIjoiWmVyb0NsaXBib2FyZCBKUyB2ZXJzaW9uIG51bWJlciBkb2VzIG5vdCBtYXRjaCBaZXJvQ2xpcGJvYXJkIFNXRiB2ZXJzaW9uIG51bWJlciIsImNsaXBib2FyZC1lcnJvciI6IkF0IGxlYXN0IG9uZSBlcnJvciB3YXMgdGhyb3duIHdoaWxlIFplcm9DbGlwYm9hcmQgd2FzIGF0dGVtcHRpbmcgdG8gaW5qZWN0IHlvdXIgZGF0YSBpbnRvIHRoZSBjbGlwYm9hcmQiLCJjb25maWctbWlzbWF0Y2giOiJaZXJvQ2xpcGJvYXJkIGNvbmZpZ3VyYXRpb24gZG9lcyBub3QgbWF0Y2ggRmxhc2gncyByZWFsaXR5Iiwic3dmLW5vdC1mb3VuZCI6IlRoZSBaZXJvQ2xpcGJvYXJkIFNXRiBvYmplY3QgY291bGQgbm90IGJlIGxvYWRlZCwgc28gcGxlYXNlIGNoZWNrIHlvdXIgYHN3ZlBhdGhgIGNvbmZpZ3VyYXRpb24gYW5kL29yIG5ldHdvcmsgY29ubmVjdGl2aXR5In19LEs9WyJmbGFzaC11bmF2YWlsYWJsZSIsImZsYXNoLWRlZ3JhZGVkIiwiZmxhc2gtb3ZlcmR1ZSIsInZlcnNpb24tbWlzbWF0Y2giLCJjb25maWctbWlzbWF0Y2giLCJjbGlwYm9hcmQtZXJyb3IiXSxxPVsiZmxhc2gtZGlzYWJsZWQiLCJmbGFzaC1vdXRkYXRlZCIsImZsYXNoLXNhbmRib3hlZCIsImZsYXNoLXVuYXZhaWxhYmxlIiwiZmxhc2gtZGVncmFkZWQiLCJmbGFzaC1kZWFjdGl2YXRlZCIsImZsYXNoLW92ZXJkdWUiXSxaPW5ldyBSZWdFeHAoIl5mbGFzaC0oIitxLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eZmxhc2gtLywiIil9KS5qb2luKCJ8IikrIikkIiksSj1uZXcgUmVnRXhwKCJeZmxhc2gtKCIrcS5zbGljZSgxKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXmZsYXNoLS8sIiIpfSkuam9pbigifCIpKyIpJCIpLFE9e3N3ZlBhdGg6aigpLHRydXN0ZWREb21haW5zOnQubG9jYXRpb24uaG9zdD9bdC5sb2NhdGlvbi5ob3N0XTpbXSxjYWNoZUJ1c3Q6ITAsZm9yY2VFbmhhbmNlZENsaXBib2FyZDohMSxmbGFzaExvYWRUaW1lb3V0OjNlNCxhdXRvQWN0aXZhdGU6ITAsYnViYmxlRXZlbnRzOiEwLGNvbnRhaW5lcklkOiJnbG9iYWwtemVyb2NsaXBib2FyZC1odG1sLWJyaWRnZSIsY29udGFpbmVyQ2xhc3M6Imdsb2JhbC16ZXJvY2xpcGJvYXJkLWNvbnRhaW5lciIsc3dmT2JqZWN0SWQ6Imdsb2JhbC16ZXJvY2xpcGJvYXJkLWZsYXNoLWJyaWRnZSIsaG92ZXJDbGFzczoiemVyb2NsaXBib2FyZC1pcy1ob3ZlciIsYWN0aXZlQ2xhc3M6Inplcm9jbGlwYm9hcmQtaXMtYWN0aXZlIixmb3JjZUhhbmRDdXJzb3I6ITEsdGl0bGU6bnVsbCx6SW5kZXg6OTk5OTk5OTk5fSxlZT1mdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPT1lKWZvcih2YXIgdCBpbiBlKWlmKFMuY2FsbChlLHQpKWlmKC9eKD86Zm9yY2VIYW5kQ3Vyc29yfHRpdGxlfHpJbmRleHxidWJibGVFdmVudHMpJC8udGVzdCh0KSlRW3RdPWVbdF07ZWxzZSBpZihudWxsPT1GLmJyaWRnZSlpZigiY29udGFpbmVySWQiPT09dHx8InN3Zk9iamVjdElkIj09PXQpe2lmKCFnZShlW3RdKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzcGVjaWZpZWQgYCIrdCsiYCB2YWx1ZSBpcyBub3QgdmFsaWQgYXMgYW4gSFRNTDQgRWxlbWVudCBJRCIpO1FbdF09ZVt0XX1lbHNlIFFbdF09ZVt0XTt7aWYoInN0cmluZyIhPXR5cGVvZiBlfHwhZSlyZXR1cm4gayhRKTtpZihTLmNhbGwoUSxlKSlyZXR1cm4gUVtlXX19LHRlPWZ1bmN0aW9uKCl7cmV0dXJuICRlKCkse2Jyb3dzZXI6SCh1LFsidXNlckFnZW50IiwicGxhdGZvcm0iLCJhcHBOYW1lIl0pLGZsYXNoOkQoRixbImJyaWRnZSJdKSx6ZXJvY2xpcGJvYXJkOnt2ZXJzaW9uOktlLnZlcnNpb24sY29uZmlnOktlLmNvbmZpZygpfX19LG5lPWZ1bmN0aW9uKCl7cmV0dXJuISEoRi5kaXNhYmxlZHx8Ri5vdXRkYXRlZHx8Ri5zYW5kYm94ZWR8fEYudW5hdmFpbGFibGV8fEYuZGVncmFkZWR8fEYuZGVhY3RpdmF0ZWQpfSxvZT1mdW5jdGlvbihlLHQpe3ZhciBuLGkscyxsPXt9O2lmKCJzdHJpbmciPT10eXBlb2YgZSYmZSlzPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgvXHMrLyk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGUmJmUmJiJ1bmRlZmluZWQiPT10eXBlb2YgdClmb3IobiBpbiBlKVMuY2FsbChlLG4pJiYic3RyaW5nIj09dHlwZW9mIG4mJm4mJiJmdW5jdGlvbiI9PXR5cGVvZiBlW25dJiZLZS5vbihuLGVbbl0pO2lmKHMmJnMubGVuZ3RoKXtmb3Iobj0wLGk9cy5sZW5ndGg7aT5uO24rKyllPXNbbl0ucmVwbGFjZSgvXm9uLywiIiksbFtlXT0hMCx6W2VdfHwoeltlXT1bXSkseltlXS5wdXNoKHQpO2lmKGwucmVhZHkmJkYucmVhZHkmJktlLmVtaXQoe3R5cGU6InJlYWR5In0pLGwuZXJyb3Ipe2ZvcihuPTAsaT1xLmxlbmd0aDtpPm47bisrKWlmKEZbcVtuXS5yZXBsYWNlKC9eZmxhc2gtLywiIildPT09ITApe0tlLmVtaXQoe3R5cGU6ImVycm9yIixuYW1lOnFbbl19KTticmVha31yIT09byYmS2UudmVyc2lvbiE9PXImJktlLmVtaXQoe3R5cGU6ImVycm9yIixuYW1lOiJ2ZXJzaW9uLW1pc21hdGNoIixqc1ZlcnNpb246S2UudmVyc2lvbixzd2ZWZXJzaW9uOnJ9KX19cmV0dXJuIEtlfSxyZT1mdW5jdGlvbihlLHQpe3ZhciBuLG8scixpLHM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpaT1fKHopO2Vsc2UgaWYoInN0cmluZyI9PXR5cGVvZiBlJiZlKWk9ZS5zcGxpdCgvXHMrLyk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGUmJmUmJiJ1bmRlZmluZWQiPT10eXBlb2YgdClmb3IobiBpbiBlKVMuY2FsbChlLG4pJiYic3RyaW5nIj09dHlwZW9mIG4mJm4mJiJmdW5jdGlvbiI9PXR5cGVvZiBlW25dJiZLZS5vZmYobixlW25dKTtpZihpJiZpLmxlbmd0aClmb3Iobj0wLG89aS5sZW5ndGg7bz5uO24rKylpZihlPWlbbl0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9eb24vLCIiKSxzPXpbZV0scyYmcy5sZW5ndGgpaWYodClmb3Iocj1zLmluZGV4T2YodCk7LTEhPT1yOylzLnNwbGljZShyLDEpLHI9cy5pbmRleE9mKHQscik7ZWxzZSBzLmxlbmd0aD0wO3JldHVybiBLZX0saWU9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9InN0cmluZyI9PXR5cGVvZiBlJiZlP2soeltlXSl8fG51bGw6ayh6KX0sc2U9ZnVuY3Rpb24oZSl7dmFyIHQsbixvO3JldHVybiBlPW1lKGUpLGUmJiFSZShlKT8icmVhZHkiPT09ZS50eXBlJiZGLm92ZXJkdWU9PT0hMD9LZS5lbWl0KHt0eXBlOiJlcnJvciIsbmFtZToiZmxhc2gtb3ZlcmR1ZSJ9KToodD1PKHt9LGUpLENlLmNhbGwodGhpcyx0KSwiY29weSI9PT1lLnR5cGUmJihvPURlKFkpLG49by5kYXRhLFU9by5mb3JtYXRNYXApLG4pOnZvaWQgMH0sbGU9ZnVuY3Rpb24oKXt2YXIgZT1GLnNhbmRib3hlZDtpZigkZSgpLCJib29sZWFuIiE9dHlwZW9mIEYucmVhZHkmJihGLnJlYWR5PSExKSxGLnNhbmRib3hlZCE9PWUmJkYuc2FuZGJveGVkPT09ITApRi5yZWFkeT0hMSxLZS5lbWl0KHt0eXBlOiJlcnJvciIsbmFtZToiZmxhc2gtc2FuZGJveGVkIn0pO2Vsc2UgaWYoIUtlLmlzRmxhc2hVbnVzYWJsZSgpJiZudWxsPT09Ri5icmlkZ2Upe3ZhciB0PVEuZmxhc2hMb2FkVGltZW91dDsibnVtYmVyIj09dHlwZW9mIHQmJnQ+PTAmJihHPWMoZnVuY3Rpb24oKXsiYm9vbGVhbiIhPXR5cGVvZiBGLmRlYWN0aXZhdGVkJiYoRi5kZWFjdGl2YXRlZD0hMCksRi5kZWFjdGl2YXRlZD09PSEwJiZLZS5lbWl0KHt0eXBlOiJlcnJvciIsbmFtZToiZmxhc2gtZGVhY3RpdmF0ZWQifSl9LHQpKSxGLm92ZXJkdWU9ITEsa2UoKX19LGFlPWZ1bmN0aW9uKCl7S2UuY2xlYXJEYXRhKCksS2UuYmx1cigpLEtlLmVtaXQoImRlc3Ryb3kiKSxIZSgpLEtlLm9mZigpfSx1ZT1mdW5jdGlvbihlLHQpe3ZhciBuO2lmKCJvYmplY3QiPT10eXBlb2YgZSYmZSYmInVuZGVmaW5lZCI9PXR5cGVvZiB0KW49ZSxLZS5jbGVhckRhdGEoKTtlbHNle2lmKCJzdHJpbmciIT10eXBlb2YgZXx8IWUpcmV0dXJuO249e30sbltlXT10fWZvcih2YXIgbyBpbiBuKSJzdHJpbmciPT10eXBlb2YgbyYmbyYmUy5jYWxsKG4sbykmJiJzdHJpbmciPT10eXBlb2YgbltvXSYmbltvXSYmKFlbb109bltvXSl9LGNlPWZ1bmN0aW9uKGUpeyJ1bmRlZmluZWQiPT10eXBlb2YgZT8oQShZKSxVPW51bGwpOiJzdHJpbmciPT10eXBlb2YgZSYmUy5jYWxsKFksZSkmJmRlbGV0ZSBZW2VdfSxoZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/ayhZKToic3RyaW5nIj09dHlwZW9mIGUmJlMuY2FsbChZLGUpP1lbZV06dm9pZCAwfSxkZT1mdW5jdGlvbihlKXtpZihlJiYxPT09ZS5ub2RlVHlwZSl7aSYmKGplKGksUS5hY3RpdmVDbGFzcyksaSE9PWUmJmplKGksUS5ob3ZlckNsYXNzKSksaT1lLEllKGUsUS5ob3ZlckNsYXNzKTt2YXIgdD1lLmdldEF0dHJpYnV0ZSgidGl0bGUiKXx8US50aXRsZTtpZigic3RyaW5nIj09dHlwZW9mIHQmJnQpe3ZhciBuPU9lKEYuYnJpZGdlKTtuJiZuLnNldEF0dHJpYnV0ZSgidGl0bGUiLHQpfXZhciBvPVEuZm9yY2VIYW5kQ3Vyc29yPT09ITB8fCJwb2ludGVyIj09PVZlKGUsImN1cnNvciIpO1VlKG8pLFllKCl9fSxmZT1mdW5jdGlvbigpe3ZhciBlPU9lKEYuYnJpZGdlKTtlJiYoZS5yZW1vdmVBdHRyaWJ1dGUoInRpdGxlIiksZS5zdHlsZS5sZWZ0PSIwcHgiLGUuc3R5bGUudG9wPSItOTk5OXB4IixlLnN0eWxlLndpZHRoPSIxcHgiLGUuc3R5bGUuaGVpZ2h0PSIxcHgiKSxpJiYoamUoaSxRLmhvdmVyQ2xhc3MpLGplKGksUS5hY3RpdmVDbGFzcyksaT1udWxsKX0scGU9ZnVuY3Rpb24oKXtyZXR1cm4gaXx8bnVsbH0sZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZlJiYvXltBLVphLXpdW0EtWmEtejAtOV86XC1cLl0qJC8udGVzdChlKX0sbWU9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoInN0cmluZyI9PXR5cGVvZiBlJiZlPyh0PWUsZT17fSk6Im9iamVjdCI9PXR5cGVvZiBlJiZlJiYic3RyaW5nIj09dHlwZW9mIGUudHlwZSYmZS50eXBlJiYodD1lLnR5cGUpLHQpe3Q9dC50b0xvd2VyQ2FzZSgpLCFlLnRhcmdldCYmKC9eKGNvcHl8YWZ0ZXJjb3B5fF9jbGljaykkLy50ZXN0KHQpfHwiZXJyb3IiPT09dCYmImNsaXBib2FyZC1lcnJvciI9PT1lLm5hbWUpJiYoZS50YXJnZXQ9cyksTyhlLHt0eXBlOnQsdGFyZ2V0OmUudGFyZ2V0fHxpfHxudWxsLHJlbGF0ZWRUYXJnZXQ6ZS5yZWxhdGVkVGFyZ2V0fHxudWxsLGN1cnJlbnRUYXJnZXQ6RiYmRi5icmlkZ2V8fG51bGwsdGltZVN0YW1wOmUudGltZVN0YW1wfHxDKCl8fG51bGx9KTt2YXIgbj1YW2UudHlwZV07cmV0dXJuImVycm9yIj09PWUudHlwZSYmZS5uYW1lJiZuJiYobj1uW2UubmFtZV0pLG4mJihlLm1lc3NhZ2U9biksInJlYWR5Ij09PWUudHlwZSYmTyhlLHt0YXJnZXQ6bnVsbCx2ZXJzaW9uOkYudmVyc2lvbn0pLCJlcnJvciI9PT1lLnR5cGUmJihaLnRlc3QoZS5uYW1lKSYmTyhlLHt0YXJnZXQ6bnVsbCxtaW5pbXVtVmVyc2lvbjpCfSksSi50ZXN0KGUubmFtZSkmJk8oZSx7dmVyc2lvbjpGLnZlcnNpb259KSksImNvcHkiPT09ZS50eXBlJiYoZS5jbGlwYm9hcmREYXRhPXtzZXREYXRhOktlLnNldERhdGEsY2xlYXJEYXRhOktlLmNsZWFyRGF0YX0pLCJhZnRlcmNvcHkiPT09ZS50eXBlJiYoZT1BZShlLFUpKSxlLnRhcmdldCYmIWUucmVsYXRlZFRhcmdldCYmKGUucmVsYXRlZFRhcmdldD13ZShlLnRhcmdldCkpLHZlKGUpfX0sd2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJkYXRhLWNsaXBib2FyZC10YXJnZXQiKTtyZXR1cm4gdD9hLmdldEVsZW1lbnRCeUlkKHQpOm51bGx9LHZlPWZ1bmN0aW9uKGUpe2lmKGUmJi9eXyg/OmNsaWNrfG1vdXNlKD86b3ZlcnxvdXR8ZG93bnx1cHxtb3ZlKSkkLy50ZXN0KGUudHlwZSkpe3ZhciB0PWUudGFyZ2V0LG49Il9tb3VzZW92ZXIiPT09ZS50eXBlJiZlLnJlbGF0ZWRUYXJnZXQ/ZS5yZWxhdGVkVGFyZ2V0Om8scj0iX21vdXNlb3V0Ij09PWUudHlwZSYmZS5yZWxhdGVkVGFyZ2V0P2UucmVsYXRlZFRhcmdldDpvLGk9RmUodCkscz1sLnNjcmVlbkxlZnR8fGwuc2NyZWVuWHx8MCx1PWwuc2NyZWVuVG9wfHxsLnNjcmVlbll8fDAsYz1hLmJvZHkuc2Nyb2xsTGVmdCthLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LGg9YS5ib2R5LnNjcm9sbFRvcCthLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AsZD1pLmxlZnQrKCJudW1iZXIiPT10eXBlb2YgZS5fc3RhZ2VYP2UuX3N0YWdlWDowKSxmPWkudG9wKygibnVtYmVyIj09dHlwZW9mIGUuX3N0YWdlWT9lLl9zdGFnZVk6MCkscD1kLWMsZz1mLWgsbT1zK3Asdz11K2csdj0ibnVtYmVyIj09dHlwZW9mIGUubW92ZW1lbnRYP2UubW92ZW1lbnRYOjAseT0ibnVtYmVyIj09dHlwZW9mIGUubW92ZW1lbnRZP2UubW92ZW1lbnRZOjA7ZGVsZXRlIGUuX3N0YWdlWCxkZWxldGUgZS5fc3RhZ2VZLE8oZSx7c3JjRWxlbWVudDp0LGZyb21FbGVtZW50Om4sdG9FbGVtZW50OnIsc2NyZWVuWDptLHNjcmVlblk6dyxwYWdlWDpkLHBhZ2VZOmYsY2xpZW50WDpwLGNsaWVudFk6Zyx4OnAseTpnLG1vdmVtZW50WDp2LG1vdmVtZW50WTp5LG9mZnNldFg6MCxvZmZzZXRZOjAsbGF5ZXJYOjAsbGF5ZXJZOjB9KX1yZXR1cm4gZX0seWU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmInN0cmluZyI9PXR5cGVvZiBlLnR5cGUmJmUudHlwZXx8IiI7cmV0dXJuIS9eKD86KD86YmVmb3JlKT9jb3B5fGRlc3Ryb3kpJC8udGVzdCh0KX0sYmU9ZnVuY3Rpb24oZSx0LG4sbyl7bz9jKGZ1bmN0aW9uKCl7ZS5hcHBseSh0LG4pfSwwKTplLmFwcGx5KHQsbil9LENlPWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZSYmZSYmZS50eXBlKXt2YXIgdD15ZShlKSxuPXpbIioiXXx8W10sbz16W2UudHlwZV18fFtdLHI9bi5jb25jYXQobyk7aWYociYmci5sZW5ndGgpe3ZhciBpLHMsYSx1LGMsaD10aGlzO2ZvcihpPTAscz1yLmxlbmd0aDtzPmk7aSsrKWE9cltpXSx1PWgsInN0cmluZyI9PXR5cGVvZiBhJiYiZnVuY3Rpb24iPT10eXBlb2YgbFthXSYmKGE9bFthXSksIm9iamVjdCI9PXR5cGVvZiBhJiZhJiYiZnVuY3Rpb24iPT10eXBlb2YgYS5oYW5kbGVFdmVudCYmKHU9YSxhPWEuaGFuZGxlRXZlbnQpLCJmdW5jdGlvbiI9PXR5cGVvZiBhJiYoYz1PKHt9LGUpLGJlKGEsdSxbY10sdCkpfXJldHVybiB0aGlzfX0sX2U9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtyZXR1cm4oVj09PSExfHxlJiYiZXJyb3IiPT09ZS50eXBlJiZlLm5hbWUmJi0xIT09Sy5pbmRleE9mKGUubmFtZSkpJiYodD0hMSksdH0sUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXR8fGl8fG51bGwsbj0ic3dmIj09PWUuX3NvdXJjZTtzd2l0Y2goZGVsZXRlIGUuX3NvdXJjZSxlLnR5cGUpe2Nhc2UiZXJyb3IiOnZhciBvPSJmbGFzaC1zYW5kYm94ZWQiPT09ZS5uYW1lfHxfZShlKTsiYm9vbGVhbiI9PXR5cGVvZiBvJiYoRi5zYW5kYm94ZWQ9byksLTEhPT1xLmluZGV4T2YoZS5uYW1lKT9PKEYse2Rpc2FibGVkOiJmbGFzaC1kaXNhYmxlZCI9PT1lLm5hbWUsb3V0ZGF0ZWQ6ImZsYXNoLW91dGRhdGVkIj09PWUubmFtZSx1bmF2YWlsYWJsZToiZmxhc2gtdW5hdmFpbGFibGUiPT09ZS5uYW1lLGRlZ3JhZGVkOiJmbGFzaC1kZWdyYWRlZCI9PT1lLm5hbWUsZGVhY3RpdmF0ZWQ6ImZsYXNoLWRlYWN0aXZhdGVkIj09PWUubmFtZSxvdmVyZHVlOiJmbGFzaC1vdmVyZHVlIj09PWUubmFtZSxyZWFkeTohMX0pOiJ2ZXJzaW9uLW1pc21hdGNoIj09PWUubmFtZSYmKHI9ZS5zd2ZWZXJzaW9uLE8oRix7ZGlzYWJsZWQ6ITEsb3V0ZGF0ZWQ6ITEsdW5hdmFpbGFibGU6ITEsZGVncmFkZWQ6ITEsZGVhY3RpdmF0ZWQ6ITEsb3ZlcmR1ZTohMSxyZWFkeTohMX0pKSx6ZSgpO2JyZWFrO2Nhc2UicmVhZHkiOnI9ZS5zd2ZWZXJzaW9uO3ZhciBsPUYuZGVhY3RpdmF0ZWQ9PT0hMDtPKEYse2Rpc2FibGVkOiExLG91dGRhdGVkOiExLHNhbmRib3hlZDohMSx1bmF2YWlsYWJsZTohMSxkZWdyYWRlZDohMSxkZWFjdGl2YXRlZDohMSxvdmVyZHVlOmwscmVhZHk6IWx9KSx6ZSgpO2JyZWFrO2Nhc2UiYmVmb3JlY29weSI6cz10O2JyZWFrO2Nhc2UiY29weSI6dmFyIGEsdSxjPWUucmVsYXRlZFRhcmdldDshWVsidGV4dC9odG1sIl0mJiFZWyJ0ZXh0L3BsYWluIl0mJmMmJih1PWMudmFsdWV8fGMub3V0ZXJIVE1MfHxjLmlubmVySFRNTCkmJihhPWMudmFsdWV8fGMudGV4dENvbnRlbnR8fGMuaW5uZXJUZXh0KT8oZS5jbGlwYm9hcmREYXRhLmNsZWFyRGF0YSgpLGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCJ0ZXh0L3BsYWluIixhKSx1IT09YSYmZS5jbGlwYm9hcmREYXRhLnNldERhdGEoInRleHQvaHRtbCIsdSkpOiFZWyJ0ZXh0L3BsYWluIl0mJmUudGFyZ2V0JiYoYT1lLnRhcmdldC5nZXRBdHRyaWJ1dGUoImRhdGEtY2xpcGJvYXJkLXRleHQiKSkmJihlLmNsaXBib2FyZERhdGEuY2xlYXJEYXRhKCksZS5jbGlwYm9hcmREYXRhLnNldERhdGEoInRleHQvcGxhaW4iLGEpKTticmVhaztjYXNlImFmdGVyY29weSI6U2UoZSksS2UuY2xlYXJEYXRhKCksdCYmdCE9PVdlKCkmJnQuZm9jdXMmJnQuZm9jdXMoKTticmVhaztjYXNlIl9tb3VzZW92ZXIiOktlLmZvY3VzKHQpLFEuYnViYmxlRXZlbnRzPT09ITAmJm4mJih0JiZ0IT09ZS5yZWxhdGVkVGFyZ2V0JiYheChlLnJlbGF0ZWRUYXJnZXQsdCkmJkVlKE8oe30sZSx7dHlwZToibW91c2VlbnRlciIsYnViYmxlczohMSxjYW5jZWxhYmxlOiExfSkpLEVlKE8oe30sZSx7dHlwZToibW91c2VvdmVyIn0pKSk7YnJlYWs7Y2FzZSJfbW91c2VvdXQiOktlLmJsdXIoKSxRLmJ1YmJsZUV2ZW50cz09PSEwJiZuJiYodCYmdCE9PWUucmVsYXRlZFRhcmdldCYmIXgoZS5yZWxhdGVkVGFyZ2V0LHQpJiZFZShPKHt9LGUse3R5cGU6Im1vdXNlbGVhdmUiLGJ1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pKSxFZShPKHt9LGUse3R5cGU6Im1vdXNlb3V0In0pKSk7YnJlYWs7Y2FzZSJfbW91c2Vkb3duIjpJZSh0LFEuYWN0aXZlQ2xhc3MpLFEuYnViYmxlRXZlbnRzPT09ITAmJm4mJkVlKE8oe30sZSx7dHlwZTplLnR5cGUuc2xpY2UoMSl9KSk7YnJlYWs7Y2FzZSJfbW91c2V1cCI6amUodCxRLmFjdGl2ZUNsYXNzKSxRLmJ1YmJsZUV2ZW50cz09PSEwJiZuJiZFZShPKHt9LGUse3R5cGU6ZS50eXBlLnNsaWNlKDEpfSkpO2JyZWFrO2Nhc2UiX2NsaWNrIjpzPW51bGwsUS5idWJibGVFdmVudHM9PT0hMCYmbiYmRWUoTyh7fSxlLHt0eXBlOmUudHlwZS5zbGljZSgxKX0pKTticmVhaztjYXNlIl9tb3VzZW1vdmUiOlEuYnViYmxlRXZlbnRzPT09ITAmJm4mJkVlKE8oe30sZSx7dHlwZTplLnR5cGUuc2xpY2UoMSl9KSl9cmV0dXJuL15fKD86Y2xpY2t8bW91c2UoPzpvdmVyfG91dHxkb3dufHVwfG1vdmUpKSQvLnRlc3QoZS50eXBlKT8hMDp2b2lkIDB9LFNlPWZ1bmN0aW9uKGUpe2lmKGUuZXJyb3JzJiZlLmVycm9ycy5sZW5ndGg+MCl7dmFyIHQ9ayhlKTtPKHQse3R5cGU6ImVycm9yIixuYW1lOiJjbGlwYm9hcmQtZXJyb3IifSksZGVsZXRlIHQuc3VjY2VzcyxjKGZ1bmN0aW9uKCl7S2UuZW1pdCh0KX0sMCl9fSxFZT1mdW5jdGlvbihlKXtpZihlJiYic3RyaW5nIj09dHlwZW9mIGUudHlwZSYmZSl7dmFyIHQsbj1lLnRhcmdldHx8bnVsbCxvPW4mJm4ub3duZXJEb2N1bWVudHx8YSxyPXt2aWV3Om8uZGVmYXVsdFZpZXd8fGwsY2FuQnViYmxlOiEwLGNhbmNlbGFibGU6ITAsZGV0YWlsOiJjbGljayI9PT1lLnR5cGU/MTowLGJ1dHRvbjoibnVtYmVyIj09dHlwZW9mIGUud2hpY2g/ZS53aGljaC0xOiJudW1iZXIiPT10eXBlb2YgZS5idXR0b24/ZS5idXR0b246by5jcmVhdGVFdmVudD8wOjF9LGk9TyhyLGUpO24mJm8uY3JlYXRlRXZlbnQmJm4uZGlzcGF0Y2hFdmVudCYmKGk9W2kudHlwZSxpLmNhbkJ1YmJsZSxpLmNhbmNlbGFibGUsaS52aWV3LGkuZGV0YWlsLGkuc2NyZWVuWCxpLnNjcmVlblksaS5jbGllbnRYLGkuY2xpZW50WSxpLmN0cmxLZXksaS5hbHRLZXksaS5zaGlmdEtleSxpLm1ldGFLZXksaS5idXR0b24saS5yZWxhdGVkVGFyZ2V0XSx0PW8uY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnRzIiksdC5pbml0TW91c2VFdmVudCYmKHQuaW5pdE1vdXNlRXZlbnQuYXBwbHkodCxpKSx0Ll9zb3VyY2U9ImpzIixuLmRpc3BhdGNoRXZlbnQodCkpKX19LFRlPWZ1bmN0aW9uKCl7dmFyIGU9US5mbGFzaExvYWRUaW1lb3V0O2lmKCJudW1iZXIiPT10eXBlb2YgZSYmZT49MCl7dmFyIHQ9TWF0aC5taW4oMWUzLGUvMTApLG49US5zd2ZPYmplY3RJZCsiX2ZhbGxiYWNrQ29udGVudCI7JD1kKGZ1bmN0aW9uKCl7dmFyIGU9YS5nZXRFbGVtZW50QnlJZChuKTtCZShlKSYmKHplKCksRi5kZWFjdGl2YXRlZD1udWxsLEtlLmVtaXQoe3R5cGU6ImVycm9yIixuYW1lOiJzd2Ytbm90LWZvdW5kIn0pKX0sdCl9fSxNZT1mdW5jdGlvbigpe3ZhciBlPWEuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuaWQ9US5jb250YWluZXJJZCxlLmNsYXNzTmFtZT1RLmNvbnRhaW5lckNsYXNzLGUuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixlLnN0eWxlLmxlZnQ9IjBweCIsZS5zdHlsZS50b3A9Ii05OTk5cHgiLGUuc3R5bGUud2lkdGg9IjFweCIsZS5zdHlsZS5oZWlnaHQ9IjFweCIsZS5zdHlsZS56SW5kZXg9IiIrR2UoUS56SW5kZXgpLGV9LE9lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lJiZlLnBhcmVudE5vZGU7dCYmIk9CSkVDVCI9PT10Lm5vZGVOYW1lJiZ0LnBhcmVudE5vZGU7KXQ9dC5wYXJlbnROb2RlO3JldHVybiB0fHxudWxsfSxrZT1mdW5jdGlvbigpe3ZhciBlLHQ9Ri5icmlkZ2Usbj1PZSh0KTtpZighdCl7dmFyIG89TGUobC5sb2NhdGlvbi5ob3N0LFEpLHI9Im5ldmVyIj09PW8/Im5vbmUiOiJhbGwiLGk9UGUoTyh7anNWZXJzaW9uOktlLnZlcnNpb259LFEpKSxzPVEuc3dmUGF0aCt4ZShRLnN3ZlBhdGgsUSk7bj1NZSgpO3ZhciB1PWEuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5hcHBlbmRDaGlsZCh1KSxhLmJvZHkuYXBwZW5kQ2hpbGQobik7dmFyIGM9YS5jcmVhdGVFbGVtZW50KCJkaXYiKSxoPSJhY3RpdmV4Ij09PUYucGx1Z2luVHlwZTtjLmlubmVySFRNTD0nPG9iamVjdCBpZD0iJytRLnN3Zk9iamVjdElkKyciIG5hbWU9IicrUS5zd2ZPYmplY3RJZCsnIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiAnKyhoPydjbGFzc2lkPSJjbHNpZDpkMjdjZGI2ZS1hZTZkLTExY2YtOTZiOC00NDQ1NTM1NDAwMDAiJzondHlwZT0iYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giIGRhdGE9IicrcysnIicpKyI+IisoaD8nPHBhcmFtIG5hbWU9Im1vdmllIiB2YWx1ZT0iJytzKyciLz4nOiIiKSsnPHBhcmFtIG5hbWU9ImFsbG93U2NyaXB0QWNjZXNzIiB2YWx1ZT0iJytvKyciLz48cGFyYW0gbmFtZT0iYWxsb3dOZXR3b3JraW5nIiB2YWx1ZT0iJytyKyciLz48cGFyYW0gbmFtZT0ibWVudSIgdmFsdWU9ImZhbHNlIi8+PHBhcmFtIG5hbWU9Indtb2RlIiB2YWx1ZT0idHJhbnNwYXJlbnQiLz48cGFyYW0gbmFtZT0iZmxhc2h2YXJzIiB2YWx1ZT0iJytpKyciLz48ZGl2IGlkPSInK1Euc3dmT2JqZWN0SWQrJ19mYWxsYmFja0NvbnRlbnQiPiZuYnNwOzwvZGl2Pjwvb2JqZWN0PicsdD1jLmZpcnN0Q2hpbGQsYz1udWxsLFQodCkuWmVyb0NsaXBib2FyZD1LZSxuLnJlcGxhY2VDaGlsZCh0LHUpLFRlKCl9cmV0dXJuIHR8fCh0PWFbUS5zd2ZPYmplY3RJZF0sdCYmKGU9dC5sZW5ndGgpJiYodD10W2UtMV0pLCF0JiZuJiYodD1uLmZpcnN0Q2hpbGQpKSxGLmJyaWRnZT10fHxudWxsLHR9LEhlPWZ1bmN0aW9uKCl7dmFyIGU9Ri5icmlkZ2U7aWYoZSl7dmFyIHQ9T2UoZSk7dCYmKCJhY3RpdmV4Ij09PUYucGx1Z2luVHlwZSYmInJlYWR5U3RhdGUiaW4gZT8oZS5zdHlsZS5kaXNwbGF5PSJub25lIixmdW5jdGlvbiBuKCl7aWYoND09PWUucmVhZHlTdGF0ZSl7Zm9yKHZhciBvIGluIGUpImZ1bmN0aW9uIj09dHlwZW9mIGVbb10mJihlW29dPW51bGwpO2UucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfWVsc2UgYyhuLDEwKX0oKSk6KGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpKSksemUoKSxGLnJlYWR5PW51bGwsRi5icmlkZ2U9bnVsbCxGLmRlYWN0aXZhdGVkPW51bGwscj1vfX0sRGU9ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj17fTtpZigib2JqZWN0Ij09dHlwZW9mIGUmJmUpe2Zvcih2YXIgbyBpbiBlKWlmKG8mJlMuY2FsbChlLG8pJiYic3RyaW5nIj09dHlwZW9mIGVbb10mJmVbb10pc3dpdGNoKG8udG9Mb3dlckNhc2UoKSl7Y2FzZSJ0ZXh0L3BsYWluIjpjYXNlInRleHQiOmNhc2UiYWlyOnRleHQiOmNhc2UiZmxhc2g6dGV4dCI6dC50ZXh0PWVbb10sbi50ZXh0PW87YnJlYWs7Y2FzZSJ0ZXh0L2h0bWwiOmNhc2UiaHRtbCI6Y2FzZSJhaXI6aHRtbCI6Y2FzZSJmbGFzaDpodG1sIjp0Lmh0bWw9ZVtvXSxuLmh0bWw9bzticmVhaztjYXNlImFwcGxpY2F0aW9uL3J0ZiI6Y2FzZSJ0ZXh0L3J0ZiI6Y2FzZSJydGYiOmNhc2UicmljaHRleHQiOmNhc2UiYWlyOnJ0ZiI6Y2FzZSJmbGFzaDpydGYiOnQucnRmPWVbb10sbi5ydGY9b31yZXR1cm57ZGF0YTp0LGZvcm1hdE1hcDpufX19LEFlPWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHwhZXx8Im9iamVjdCIhPXR5cGVvZiB0fHwhdClyZXR1cm4gZTt2YXIgbj17fTtmb3IodmFyIG8gaW4gZSlpZihTLmNhbGwoZSxvKSlpZigiZXJyb3JzIj09PW8pe25bb109ZVtvXT9lW29dLnNsaWNlKCk6W107Zm9yKHZhciByPTAsaT1uW29dLmxlbmd0aDtpPnI7cisrKW5bb11bcl0uZm9ybWF0PXRbbltvXVtyXS5mb3JtYXRdfWVsc2UgaWYoInN1Y2Nlc3MiIT09byYmImRhdGEiIT09byluW29dPWVbb107ZWxzZXtuW29dPXt9O3ZhciBzPWVbb107Zm9yKHZhciBsIGluIHMpbCYmUy5jYWxsKHMsbCkmJlMuY2FsbCh0LGwpJiYobltvXVt0W2xdXT1zW2xdKX1yZXR1cm4gbn0seGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT10fHx0JiZ0LmNhY2hlQnVzdD09PSEwO3JldHVybiBuPygtMT09PWUuaW5kZXhPZigiPyIpPyI/IjoiJiIpKyJub0NhY2hlPSIrQygpOiIifSxQZT1mdW5jdGlvbihlKXt2YXIgdCxuLG8scixpPSIiLHM9W107aWYoZS50cnVzdGVkRG9tYWlucyYmKCJzdHJpbmciPT10eXBlb2YgZS50cnVzdGVkRG9tYWlucz9yPVtlLnRydXN0ZWREb21haW5zXToib2JqZWN0Ij09dHlwZW9mIGUudHJ1c3RlZERvbWFpbnMmJiJsZW5ndGgiaW4gZS50cnVzdGVkRG9tYWlucyYmKHI9ZS50cnVzdGVkRG9tYWlucykpLHImJnIubGVuZ3RoKWZvcih0PTAsbj1yLmxlbmd0aDtuPnQ7dCsrKWlmKFMuY2FsbChyLHQpJiZyW3RdJiYic3RyaW5nIj09dHlwZW9mIHJbdF0pe2lmKG89TmUoclt0XSksIW8pY29udGludWU7aWYoIioiPT09byl7cy5sZW5ndGg9MCxzLnB1c2gobyk7YnJlYWt9cy5wdXNoLmFwcGx5KHMsW28sIi8vIitvLGwubG9jYXRpb24ucHJvdG9jb2wrIi8vIitvXSl9cmV0dXJuIHMubGVuZ3RoJiYoaSs9InRydXN0ZWRPcmlnaW5zPSIrZyhzLmpvaW4oIiwiKSkpLGUuZm9yY2VFbmhhbmNlZENsaXBib2FyZD09PSEwJiYoaSs9KGk/IiYiOiIiKSsiZm9yY2VFbmhhbmNlZENsaXBib2FyZD10cnVlIiksInN0cmluZyI9PXR5cGVvZiBlLnN3Zk9iamVjdElkJiZlLnN3Zk9iamVjdElkJiYoaSs9KGk/IiYiOiIiKSsic3dmT2JqZWN0SWQ9IitnKGUuc3dmT2JqZWN0SWQpKSwic3RyaW5nIj09dHlwZW9mIGUuanNWZXJzaW9uJiZlLmpzVmVyc2lvbiYmKGkrPShpPyImIjoiIikrImpzVmVyc2lvbj0iK2coZS5qc1ZlcnNpb24pKSxpfSxOZT1mdW5jdGlvbihlKXtpZihudWxsPT1lfHwiIj09PWUpcmV0dXJuIG51bGw7aWYoZT1lLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKSwiIj09PWUpcmV0dXJuIG51bGw7dmFyIHQ9ZS5pbmRleE9mKCIvLyIpO2U9LTE9PT10P2U6ZS5zbGljZSh0KzIpO3ZhciBuPWUuaW5kZXhPZigiLyIpO3JldHVybiBlPS0xPT09bj9lOi0xPT09dHx8MD09PW4/bnVsbDplLnNsaWNlKDAsbiksZSYmIi5zd2YiPT09ZS5zbGljZSgtNCkudG9Mb3dlckNhc2UoKT9udWxsOmV8fG51bGx9LExlPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixvLHI9W107aWYoInN0cmluZyI9PXR5cGVvZiBlJiYoZT1bZV0pLCJvYmplY3QiIT10eXBlb2YgZXx8IWV8fCJudW1iZXIiIT10eXBlb2YgZS5sZW5ndGgpcmV0dXJuIHI7Zm9yKHQ9MCxuPWUubGVuZ3RoO24+dDt0KyspaWYoUy5jYWxsKGUsdCkmJihvPU5lKGVbdF0pKSl7aWYoIioiPT09byl7ci5sZW5ndGg9MCxyLnB1c2goIioiKTticmVha30tMT09PXIuaW5kZXhPZihvKSYmci5wdXNoKG8pfXJldHVybiByfTtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgbz1OZShuLnN3ZlBhdGgpO251bGw9PT1vJiYobz10KTt2YXIgcj1lKG4udHJ1c3RlZERvbWFpbnMpLGk9ci5sZW5ndGg7aWYoaT4wKXtpZigxPT09aSYmIioiPT09clswXSlyZXR1cm4iYWx3YXlzIjtpZigtMSE9PXIuaW5kZXhPZih0KSlyZXR1cm4gMT09PWkmJnQ9PT1vPyJzYW1lRG9tYWluIjoiYWx3YXlzIn1yZXR1cm4ibmV2ZXIifX0oKSxXZT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gYS5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe3JldHVybiBudWxsfX0sSWU9ZnVuY3Rpb24oZSx0KXt2YXIgbixvLHIsaT1bXTtpZigic3RyaW5nIj09dHlwZW9mIHQmJnQmJihpPXQuc3BsaXQoL1xzKy8pKSxlJiYxPT09ZS5ub2RlVHlwZSYmaS5sZW5ndGg+MClpZihlLmNsYXNzTGlzdClmb3Iobj0wLG89aS5sZW5ndGg7bz5uO24rKyllLmNsYXNzTGlzdC5hZGQoaVtuXSk7ZWxzZSBpZihlLmhhc093blByb3BlcnR5KCJjbGFzc05hbWUiKSl7Zm9yKHI9IiAiK2UuY2xhc3NOYW1lKyIgIixuPTAsbz1pLmxlbmd0aDtvPm47bisrKS0xPT09ci5pbmRleE9mKCIgIitpW25dKyIgIikmJihyKz1pW25dKyIgIik7ZS5jbGFzc05hbWU9ci5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9cmV0dXJuIGV9LGplPWZ1bmN0aW9uKGUsdCl7dmFyIG4sbyxyLGk9W107aWYoInN0cmluZyI9PXR5cGVvZiB0JiZ0JiYoaT10LnNwbGl0KC9ccysvKSksZSYmMT09PWUubm9kZVR5cGUmJmkubGVuZ3RoPjApaWYoZS5jbGFzc0xpc3QmJmUuY2xhc3NMaXN0Lmxlbmd0aD4wKWZvcihuPTAsbz1pLmxlbmd0aDtvPm47bisrKWUuY2xhc3NMaXN0LnJlbW92ZShpW25dKTtlbHNlIGlmKGUuY2xhc3NOYW1lKXtmb3Iocj0oIiAiK2UuY2xhc3NOYW1lKyIgIikucmVwbGFjZSgvW1xyXG5cdF0vZywiICIpLG49MCxvPWkubGVuZ3RoO28+bjtuKyspcj1yLnJlcGxhY2UoIiAiK2lbbl0rIiAiLCIgIik7ZS5jbGFzc05hbWU9ci5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9cmV0dXJuIGV9LFZlPWZ1bmN0aW9uKGUsdCl7dmFyIG49cChlLG51bGwpLmdldFByb3BlcnR5VmFsdWUodCk7cmV0dXJuImN1cnNvciIhPT10fHxuJiYiYXV0byIhPT1ufHwiQSIhPT1lLm5vZGVOYW1lP246InBvaW50ZXIifSxGZT1mdW5jdGlvbihlKXt2YXIgdD17bGVmdDowLHRvcDowLHdpZHRoOjAsaGVpZ2h0OjB9O2lmKGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KXt2YXIgbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89bC5wYWdlWE9mZnNldCxyPWwucGFnZVlPZmZzZXQsaT1hLmRvY3VtZW50RWxlbWVudC5jbGllbnRMZWZ0fHwwLHM9YS5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wfHwwLHU9MCxjPTA7aWYoInJlbGF0aXZlIj09PVZlKGEuYm9keSwicG9zaXRpb24iKSl7dmFyIGg9YS5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGQ9YS5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dT1oLmxlZnQtZC5sZWZ0fHwwLGM9aC50b3AtZC50b3B8fDB9dC5sZWZ0PW4ubGVmdCtvLWktdSx0LnRvcD1uLnRvcCtyLXMtYyx0LndpZHRoPSJ3aWR0aCJpbiBuP24ud2lkdGg6bi5yaWdodC1uLmxlZnQsdC5oZWlnaHQ9ImhlaWdodCJpbiBuP24uaGVpZ2h0Om4uYm90dG9tLW4udG9wfXJldHVybiB0fSxCZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMTt2YXIgdD1wKGUsbnVsbCksbj15KHQuaGVpZ2h0KT4wLG89eSh0LndpZHRoKT4wLHI9eSh0LnRvcCk+PTAsaT15KHQubGVmdCk+PTAscz1uJiZvJiZyJiZpLGw9cz9udWxsOkZlKGUpLGE9Im5vbmUiIT09dC5kaXNwbGF5JiYiY29sbGFwc2UiIT09dC52aXNpYmlsaXR5JiYoc3x8ISFsJiYobnx8bC5oZWlnaHQ+MCkmJihvfHxsLndpZHRoPjApJiYocnx8bC50b3A+PTApJiYoaXx8bC5sZWZ0Pj0wKSk7cmV0dXJuIGF9LHplPWZ1bmN0aW9uKCl7aChHKSxHPTAsZigkKSwkPTB9LFllPWZ1bmN0aW9uKCl7dmFyIGU7aWYoaSYmKGU9T2UoRi5icmlkZ2UpKSl7dmFyIHQ9RmUoaSk7TyhlLnN0eWxlLHt3aWR0aDp0LndpZHRoKyJweCIsaGVpZ2h0OnQuaGVpZ2h0KyJweCIsdG9wOnQudG9wKyJweCIsbGVmdDp0LmxlZnQrInB4Iix6SW5kZXg6IiIrR2UoUS56SW5kZXgpfSl9fSxVZT1mdW5jdGlvbihlKXtGLnJlYWR5PT09ITAmJihGLmJyaWRnZSYmImZ1bmN0aW9uIj09dHlwZW9mIEYuYnJpZGdlLnNldEhhbmRDdXJzb3I/Ri5icmlkZ2Uuc2V0SGFuZEN1cnNvcihlKTpGLnJlYWR5PSExKX0sR2U9ZnVuY3Rpb24oZSl7aWYoL14oPzphdXRvfGluaGVyaXQpJC8udGVzdChlKSlyZXR1cm4gZTt2YXIgdDtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIGV8fGIoZSk/InN0cmluZyI9PXR5cGVvZiBlJiYodD1HZSh2KGUsMTApKSk6dD1lLCJudW1iZXIiPT10eXBlb2YgdD90OiJhdXRvIn0sJGU9ZnVuY3Rpb24oZSl7dmFyIG4sbyxyLGk9Ri5zYW5kYm94ZWQscz1udWxsO2lmKGU9ZT09PSEwLFY9PT0hMSlzPSExO2Vsc2V7dHJ5e289dC5mcmFtZUVsZW1lbnR8fG51bGx9Y2F0Y2gobCl7cj17bmFtZTpsLm5hbWUsbWVzc2FnZTpsLm1lc3NhZ2V9fWlmKG8mJjE9PT1vLm5vZGVUeXBlJiYiSUZSQU1FIj09PW8ubm9kZU5hbWUpdHJ5e3M9by5oYXNBdHRyaWJ1dGUoInNhbmRib3giKX1jYXRjaChsKXtzPW51bGx9ZWxzZXt0cnl7bj1kb2N1bWVudC5kb21haW58fG51bGx9Y2F0Y2gobCl7bj1udWxsfShudWxsPT09bnx8ciYmIlNlY3VyaXR5RXJyb3IiPT09ci5uYW1lJiYvKF58W1xzXChcW0BdKXNhbmRib3goZXN8ZWR8aW5nfFtcc1wuLCFcKVxdQF18JCkvLnRlc3Qoci5tZXNzYWdlLnRvTG93ZXJDYXNlKCkpKSYmKHM9ITApfX1yZXR1cm4gRi5zYW5kYm94ZWQ9cyxpPT09c3x8ZXx8WGUobSksc30sWGU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgdD1lLm1hdGNoKC9bXGRdKy9nKTtyZXR1cm4gdC5sZW5ndGg9Myx0LmpvaW4oIi4iKX1mdW5jdGlvbiBuKGUpe3JldHVybiEhZSYmKGU9ZS50b0xvd2VyQ2FzZSgpKSYmKC9eKHBlcGZsYXNocGxheWVyXC5kbGx8bGlicGVwZmxhc2hwbGF5ZXJcLnNvfHBlcHBlcmZsYXNocGxheWVyXC5wbHVnaW4pJC8udGVzdChlKXx8ImNocm9tZS5wbHVnaW4iPT09ZS5zbGljZSgtMTMpKX1mdW5jdGlvbiBvKGUpe2UmJihsPSEwLGUudmVyc2lvbiYmKGg9dChlLnZlcnNpb24pKSwhaCYmZS5kZXNjcmlwdGlvbiYmKGg9dChlLmRlc2NyaXB0aW9uKSksZS5maWxlbmFtZSYmKGM9bihlLmZpbGVuYW1lKSkpfXZhciByLGkscyxsPSExLGE9ITEsYz0hMSxoPSIiO2lmKHUucGx1Z2lucyYmdS5wbHVnaW5zLmxlbmd0aClyPXUucGx1Z2luc1siU2hvY2t3YXZlIEZsYXNoIl0sbyhyKSx1LnBsdWdpbnNbIlNob2Nrd2F2ZSBGbGFzaCAyLjAiXSYmKGw9ITAsaD0iMi4wLjAuMTEiKTtlbHNlIGlmKHUubWltZVR5cGVzJiZ1Lm1pbWVUeXBlcy5sZW5ndGgpcz11Lm1pbWVUeXBlc1siYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giXSxyPXMmJnMuZW5hYmxlZFBsdWdpbixvKHIpO2Vsc2UgaWYoInVuZGVmaW5lZCIhPXR5cGVvZiBlKXthPSEwO3RyeXtpPW5ldyBlKCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaC43IiksbD0hMCxoPXQoaS5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKSl9Y2F0Y2goZCl7dHJ5e2k9bmV3IGUoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLjYiKSxsPSEwLGg9IjYuMC4yMSJ9Y2F0Y2goZil7dHJ5e2k9bmV3IGUoIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoIiksbD0hMCxoPXQoaS5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKSl9Y2F0Y2gocCl7YT0hMX19fX1GLmRpc2FibGVkPWwhPT0hMCxGLm91dGRhdGVkPWgmJnkoaCk8eShCKSxGLnZlcnNpb249aHx8IjAuMC4wIixGLnBsdWdpblR5cGU9Yz8icGVwcGVyIjphPyJhY3RpdmV4IjpsPyJuZXRzY2FwZSI6InVua25vd24ifTtYZShtKSwkZSghMCk7dmFyIEtlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBLZT92b2lkKCJmdW5jdGlvbiI9PXR5cGVvZiBLZS5fY3JlYXRlQ2xpZW50JiZLZS5fY3JlYXRlQ2xpZW50LmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKSk6bmV3IEtlfTtSKEtlLCJ2ZXJzaW9uIix7dmFsdWU6IjIuMi4wIix3cml0YWJsZTohMSxjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMH0pLEtlLmNvbmZpZz1mdW5jdGlvbigpe3JldHVybiBlZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LEtlLnN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRlLmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sS2UuaXNGbGFzaFVudXNhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIG5lLmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sS2Uub249ZnVuY3Rpb24oKXtyZXR1cm4gb2UuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxLZS5vZmY9ZnVuY3Rpb24oKXtyZXR1cm4gcmUuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxLZS5oYW5kbGVycz1mdW5jdGlvbigpe3JldHVybiBpZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LEtlLmVtaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gc2UuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxLZS5jcmVhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbGUuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxLZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIGFlLmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sS2Uuc2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB1ZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LEtlLmNsZWFyRGF0YT1mdW5jdGlvbigpe3JldHVybiBjZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LEtlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gaGUuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxLZS5mb2N1cz1LZS5hY3RpdmF0ZT1mdW5jdGlvbigpe3JldHVybiBkZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LEtlLmJsdXI9S2UuZGVhY3RpdmF0ZT1mdW5jdGlvbigpe3JldHVybiBmZS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LEtlLmFjdGl2ZUVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gcGUuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfTt2YXIgcWU9MCxaZT17fSxKZT0wLFFlPXt9LGV0PXt9O08oUSx7YXV0b0FjdGl2YXRlOiEwfSk7dmFyIHR0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5pZD0iIitxZSsrLFplW3QuaWRdPXtpbnN0YW5jZTp0LGVsZW1lbnRzOltdLGhhbmRsZXJzOnt9fSxlJiZ0LmNsaXAoZSksS2Uub24oIioiLGZ1bmN0aW9uKGUpe3JldHVybiB0LmVtaXQoZSl9KSxLZS5vbigiZGVzdHJveSIsZnVuY3Rpb24oKXt0LmRlc3Ryb3koKX0pLEtlLmNyZWF0ZSgpfSxudD1mdW5jdGlvbihlLHQpe3ZhciBuLGkscyxsPXt9LGE9WmVbdGhpcy5pZF0sdT1hJiZhLmhhbmRsZXJzO2lmKCFhKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIGFkZCBuZXcgbGlzdGVuZXIocykgdG8gYSBkZXN0cm95ZWQgWmVyb0NsaXBib2FyZCBjbGllbnQgaW5zdGFuY2UiKTtpZigic3RyaW5nIj09dHlwZW9mIGUmJmUpcz1lLnRvTG93ZXJDYXNlKCkuc3BsaXQoL1xzKy8pO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBlJiZlJiYidW5kZWZpbmVkIj09dHlwZW9mIHQpZm9yKG4gaW4gZSlTLmNhbGwoZSxuKSYmInN0cmluZyI9PXR5cGVvZiBuJiZuJiYiZnVuY3Rpb24iPT10eXBlb2YgZVtuXSYmdGhpcy5vbihuLGVbbl0pO2lmKHMmJnMubGVuZ3RoKXtmb3Iobj0wLGk9cy5sZW5ndGg7aT5uO24rKyllPXNbbl0ucmVwbGFjZSgvXm9uLywiIiksbFtlXT0hMCx1W2VdfHwodVtlXT1bXSksdVtlXS5wdXNoKHQpO2lmKGwucmVhZHkmJkYucmVhZHkmJnRoaXMuZW1pdCh7dHlwZToicmVhZHkiLGNsaWVudDp0aGlzfSksbC5lcnJvcil7Zm9yKG49MCxpPXEubGVuZ3RoO2k+bjtuKyspaWYoRltxW25dLnJlcGxhY2UoL15mbGFzaC0vLCIiKV0pe3RoaXMuZW1pdCh7dHlwZToiZXJyb3IiLG5hbWU6cVtuXSxjbGllbnQ6dGhpc30pO2JyZWFrfXIhPT1vJiZLZS52ZXJzaW9uIT09ciYmdGhpcy5lbWl0KHt0eXBlOiJlcnJvciIsbmFtZToidmVyc2lvbi1taXNtYXRjaCIsanNWZXJzaW9uOktlLnZlcnNpb24sc3dmVmVyc2lvbjpyfSl9fXJldHVybiB0aGlzfSxvdD1mdW5jdGlvbihlLHQpe3ZhciBuLG8scixpLHMsbD1aZVt0aGlzLmlkXSxhPWwmJmwuaGFuZGxlcnM7aWYoIWEpcmV0dXJuIHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpaT1fKGEpO2Vsc2UgaWYoInN0cmluZyI9PXR5cGVvZiBlJiZlKWk9ZS5zcGxpdCgvXHMrLyk7ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIGUmJmUmJiJ1bmRlZmluZWQiPT10eXBlb2YgdClmb3IobiBpbiBlKVMuY2FsbChlLG4pJiYic3RyaW5nIj09dHlwZW9mIG4mJm4mJiJmdW5jdGlvbiI9PXR5cGVvZiBlW25dJiZ0aGlzLm9mZihuLGVbbl0pO2lmKGkmJmkubGVuZ3RoKWZvcihuPTAsbz1pLmxlbmd0aDtvPm47bisrKWlmKGU9aVtuXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL15vbi8sIiIpLHM9YVtlXSxzJiZzLmxlbmd0aClpZih0KWZvcihyPXMuaW5kZXhPZih0KTstMSE9PXI7KXMuc3BsaWNlKHIsMSkscj1zLmluZGV4T2YodCxyKTtlbHNlIHMubGVuZ3RoPTA7cmV0dXJuIHRoaXN9LHJ0PWZ1bmN0aW9uKGUpe3ZhciB0PW51bGwsbj1aZVt0aGlzLmlkXSYmWmVbdGhpcy5pZF0uaGFuZGxlcnM7cmV0dXJuIG4mJih0PSJzdHJpbmciPT10eXBlb2YgZSYmZT9uW2VdP25bZV0uc2xpY2UoMCk6W106ayhuKSksdH0saXQ9ZnVuY3Rpb24oZSl7aWYoY3QuY2FsbCh0aGlzLGUpKXsib2JqZWN0Ij09dHlwZW9mIGUmJmUmJiJzdHJpbmciPT10eXBlb2YgZS50eXBlJiZlLnR5cGUmJihlPU8oe30sZSkpO3ZhciB0PU8oe30sbWUoZSkse2NsaWVudDp0aGlzfSk7aHQuY2FsbCh0aGlzLHQpfXJldHVybiB0aGlzfSxzdD1mdW5jdGlvbihlKXtpZighWmVbdGhpcy5pZF0pdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gY2xpcCBlbGVtZW50KHMpIHRvIGEgZGVzdHJveWVkIFplcm9DbGlwYm9hcmQgY2xpZW50IGluc3RhbmNlIik7ZT1kdChlKTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZihTLmNhbGwoZSx0KSYmZVt0XSYmMT09PWVbdF0ubm9kZVR5cGUpe2VbdF0uemNDbGlwcGluZ0lkPy0xPT09UWVbZVt0XS56Y0NsaXBwaW5nSWRdLmluZGV4T2YodGhpcy5pZCkmJlFlW2VbdF0uemNDbGlwcGluZ0lkXS5wdXNoKHRoaXMuaWQpOihlW3RdLnpjQ2xpcHBpbmdJZD0iemNDbGlwcGluZ0lkXyIrSmUrKyxRZVtlW3RdLnpjQ2xpcHBpbmdJZF09W3RoaXMuaWRdLFEuYXV0b0FjdGl2YXRlPT09ITAmJmZ0KGVbdF0pKTt2YXIgbj1aZVt0aGlzLmlkXSYmWmVbdGhpcy5pZF0uZWxlbWVudHM7LTE9PT1uLmluZGV4T2YoZVt0XSkmJm4ucHVzaChlW3RdKX1yZXR1cm4gdGhpc30sbHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9WmVbdGhpcy5pZF07aWYoIXQpcmV0dXJuIHRoaXM7dmFyIG4sbz10LmVsZW1lbnRzO2U9InVuZGVmaW5lZCI9PXR5cGVvZiBlP28uc2xpY2UoMCk6ZHQoZSk7Zm9yKHZhciByPWUubGVuZ3RoO3ItLTspaWYoUy5jYWxsKGUscikmJmVbcl0mJjE9PT1lW3JdLm5vZGVUeXBlKXtmb3Iobj0wOy0xIT09KG49by5pbmRleE9mKGVbcl0sbikpOylvLnNwbGljZShuLDEpO3ZhciBpPVFlW2Vbcl0uemNDbGlwcGluZ0lkXTtpZihpKXtmb3Iobj0wOy0xIT09KG49aS5pbmRleE9mKHRoaXMuaWQsbikpOylpLnNwbGljZShuLDEpOzA9PT1pLmxlbmd0aCYmKFEuYXV0b0FjdGl2YXRlPT09ITAmJnB0KGVbcl0pLGRlbGV0ZSBlW3JdLnpjQ2xpcHBpbmdJZCl9fXJldHVybiB0aGlzfSxhdD1mdW5jdGlvbigpe3ZhciBlPVplW3RoaXMuaWRdO3JldHVybiBlJiZlLmVsZW1lbnRzP2UuZWxlbWVudHMuc2xpY2UoMCk6W119LHV0PWZ1bmN0aW9uKCl7WmVbdGhpcy5pZF0mJih0aGlzLnVuY2xpcCgpLHRoaXMub2ZmKCksZGVsZXRlIFplW3RoaXMuaWRdKX0sY3Q9ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnR5cGUpcmV0dXJuITE7aWYoZS5jbGllbnQmJmUuY2xpZW50IT09dGhpcylyZXR1cm4hMTt2YXIgdD1aZVt0aGlzLmlkXSxuPXQmJnQuZWxlbWVudHMsbz0hIW4mJm4ubGVuZ3RoPjAscj0hZS50YXJnZXR8fG8mJi0xIT09bi5pbmRleE9mKGUudGFyZ2V0KSxpPWUucmVsYXRlZFRhcmdldCYmbyYmLTEhPT1uLmluZGV4T2YoZS5yZWxhdGVkVGFyZ2V0KSxzPWUuY2xpZW50JiZlLmNsaWVudD09PXRoaXM7cmV0dXJuISghdHx8IShyfHxpfHxzKSl9LGh0PWZ1bmN0aW9uKGUpe3ZhciB0PVplW3RoaXMuaWRdO2lmKCJvYmplY3QiPT10eXBlb2YgZSYmZSYmZS50eXBlJiZ0KXt2YXIgbj15ZShlKSxvPXQmJnQuaGFuZGxlcnNbIioiXXx8W10scj10JiZ0LmhhbmRsZXJzW2UudHlwZV18fFtdLGk9by5jb25jYXQocik7aWYoaSYmaS5sZW5ndGgpe3ZhciBzLGEsdSxjLGgsZD10aGlzO2ZvcihzPTAsYT1pLmxlbmd0aDthPnM7cysrKXU9aVtzXSxjPWQsInN0cmluZyI9PXR5cGVvZiB1JiYiZnVuY3Rpb24iPT10eXBlb2YgbFt1XSYmKHU9bFt1XSksIm9iamVjdCI9PXR5cGVvZiB1JiZ1JiYiZnVuY3Rpb24iPT10eXBlb2YgdS5oYW5kbGVFdmVudCYmKGM9dSx1PXUuaGFuZGxlRXZlbnQpLCJmdW5jdGlvbiI9PXR5cGVvZiB1JiYoaD1PKHt9LGUpLGJlKHUsYyxbaF0sbikpfX19LGR0PWZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmKGU9W10pLCJudW1iZXIiIT10eXBlb2YgZS5sZW5ndGg/W2VdOmV9LGZ0PWZ1bmN0aW9uKGUpe2lmKGUmJjE9PT1lLm5vZGVUeXBlKXt2YXIgdD1mdW5jdGlvbihlKXsoZXx8KGU9bC5ldmVudCkpJiYoImpzIiE9PWUuX3NvdXJjZSYmKGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksZS5wcmV2ZW50RGVmYXVsdCgpKSxkZWxldGUgZS5fc291cmNlKX0sbj1mdW5jdGlvbihuKXsobnx8KG49bC5ldmVudCkpJiYodChuKSxLZS5mb2N1cyhlKSl9O2UuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIixuLCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3V0Iix0LCExKSxlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZW50ZXIiLHQsITEpLGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsdCwhMSksZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHQsITEpLGV0W2UuemNDbGlwcGluZ0lkXT17bW91c2VvdmVyOm4sbW91c2VvdXQ6dCxtb3VzZWVudGVyOnQsbW91c2VsZWF2ZTp0LG1vdXNlbW92ZTp0fX19LHB0PWZ1bmN0aW9uKGUpe2lmKGUmJjE9PT1lLm5vZGVUeXBlKXt2YXIgdD1ldFtlLnpjQ2xpcHBpbmdJZF07aWYoIm9iamVjdCI9PXR5cGVvZiB0JiZ0KXtmb3IodmFyIG4sbyxyPVsibW92ZSIsImxlYXZlIiwiZW50ZXIiLCJvdXQiLCJvdmVyIl0saT0wLHM9ci5sZW5ndGg7cz5pO2krKyluPSJtb3VzZSIrcltpXSxvPXRbbl0sImZ1bmN0aW9uIj09dHlwZW9mIG8mJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLG8sITEpO2RlbGV0ZSBldFtlLnpjQ2xpcHBpbmdJZF19fX07S2UuX2NyZWF0ZUNsaWVudD1mdW5jdGlvbigpe3R0LmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sS2UucHJvdG90eXBlLm9uPWZ1bmN0aW9uKCl7cmV0dXJuIG50LmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sS2UucHJvdG90eXBlLm9mZj1mdW5jdGlvbigpe3JldHVybiBvdC5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LEtlLnByb3RvdHlwZS5oYW5kbGVycz1mdW5jdGlvbigpe3JldHVybiBydC5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSl9LEtlLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKCl7cmV0dXJuIGl0LmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sS2UucHJvdG90eXBlLmNsaXA9ZnVuY3Rpb24oKXtyZXR1cm4gc3QuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxLZS5wcm90b3R5cGUudW5jbGlwPWZ1bmN0aW9uKCl7cmV0dXJuIGx0LmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sS2UucHJvdG90eXBlLmVsZW1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGF0LmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKX0sS2UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtyZXR1cm4gdXQuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSxLZS5wcm90b3R5cGUuc2V0VGV4dD1mdW5jdGlvbihlKXtpZighWmVbdGhpcy5pZF0pdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gc2V0IHBlbmRpbmcgY2xpcGJvYXJkIGRhdGEgZnJvbSBhIGRlc3Ryb3llZCBaZXJvQ2xpcGJvYXJkIGNsaWVudCBpbnN0YW5jZSIpO3JldHVybiBLZS5zZXREYXRhKCJ0ZXh0L3BsYWluIixlKSx0aGlzfSxLZS5wcm90b3R5cGUuc2V0SHRtbD1mdW5jdGlvbihlKXtpZighWmVbdGhpcy5pZF0pdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gc2V0IHBlbmRpbmcgY2xpcGJvYXJkIGRhdGEgZnJvbSBhIGRlc3Ryb3llZCBaZXJvQ2xpcGJvYXJkIGNsaWVudCBpbnN0YW5jZSIpO3JldHVybiBLZS5zZXREYXRhKCJ0ZXh0L2h0bWwiLGUpLHRoaXN9LEtlLnByb3RvdHlwZS5zZXRSaWNoVGV4dD1mdW5jdGlvbihlKXtpZighWmVbdGhpcy5pZF0pdGhyb3cgbmV3IEVycm9yKCJBdHRlbXB0ZWQgdG8gc2V0IHBlbmRpbmcgY2xpcGJvYXJkIGRhdGEgZnJvbSBhIGRlc3Ryb3llZCBaZXJvQ2xpcGJvYXJkIGNsaWVudCBpbnN0YW5jZSIpO3JldHVybiBLZS5zZXREYXRhKCJhcHBsaWNhdGlvbi9ydGYiLGUpLHRoaXN9LEtlLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKCl7aWYoIVplW3RoaXMuaWRdKXRocm93IG5ldyBFcnJvcigiQXR0ZW1wdGVkIHRvIHNldCBwZW5kaW5nIGNsaXBib2FyZCBkYXRhIGZyb20gYSBkZXN0cm95ZWQgWmVyb0NsaXBib2FyZCBjbGllbnQgaW5zdGFuY2UiKTtyZXR1cm4gS2Uuc2V0RGF0YS5hcHBseSh0aGlzLE0oYXJndW1lbnRzKSksdGhpc30sS2UucHJvdG90eXBlLmNsZWFyRGF0YT1mdW5jdGlvbigpe2lmKCFaZVt0aGlzLmlkXSl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byBjbGVhciBwZW5kaW5nIGNsaXBib2FyZCBkYXRhIGZyb20gYSBkZXN0cm95ZWQgWmVyb0NsaXBib2FyZCBjbGllbnQgaW5zdGFuY2UiKTtyZXR1cm4gS2UuY2xlYXJEYXRhLmFwcGx5KHRoaXMsTShhcmd1bWVudHMpKSx0aGlzfSxLZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe2lmKCFaZVt0aGlzLmlkXSl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byBnZXQgcGVuZGluZyBjbGlwYm9hcmQgZGF0YSBmcm9tIGEgZGVzdHJveWVkIFplcm9DbGlwYm9hcmQgY2xpZW50IGluc3RhbmNlIik7cmV0dXJuIEtlLmdldERhdGEuYXBwbHkodGhpcyxNKGFyZ3VtZW50cykpfSwiZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5hbWQ/ZShmdW5jdGlvbigpe3JldHVybiBLZX0pOiJvYmplY3QiPT10eXBlb2YgbiYmbiYmIm9iamVjdCI9PXR5cGVvZiBuLmV4cG9ydHMmJm4uZXhwb3J0cz9uLmV4cG9ydHM9S2U6dC5aZXJvQ2xpcGJvYXJkPUtlfShmdW5jdGlvbigpe3JldHVybiB0aGlzfHx3aW5kb3d9KCkpfSx7fV19LHt9LFsyMyw2MSw2Myw2Miw2NCw4NSw4Niw4Nyw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4OCw4OSw5MCw5MSwxMDUsMTA2LDEwNywxMDgsOTQsOTUsOTYsOTcsOTgsOTksMzEsMzUsMzIsMzMsNDAsMzQsMzYsMzcsMzgsMzldKSgyMyl9KTs="></script>
<script src="data:application/x-javascript;base64,LyohIAogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiBiZWxnaXVtLWR1dGNoIChiZS1ubCkKICogYXV0aG9yIDogRGlldGVyIEx1eXBhZXJ0IDogaHR0cHM6Ly9naXRodWIuY29tL21vZXJpa2kKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcgJywKICAgICAgICAgICAgZGVjaW1hbCAgOiAnLCcKICAgICAgICB9LAogICAgICAgIGFiYnJldmlhdGlvbnM6IHsKICAgICAgICAgICAgdGhvdXNhbmQgOiAnaycsCiAgICAgICAgICAgIG1pbGxpb24gIDogJyBtbG4nLAogICAgICAgICAgICBiaWxsaW9uICA6ICcgbWxkJywKICAgICAgICAgICAgdHJpbGxpb24gOiAnIGJsbicKICAgICAgICB9LAogICAgICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyKSB7CiAgICAgICAgICAgIHZhciByZW1haW5kZXIgPSBudW1iZXIgJSAxMDA7CiAgICAgICAgICAgIHJldHVybiAobnVtYmVyICE9PSAwICYmIHJlbWFpbmRlciA8PSAxIHx8IHJlbWFpbmRlciA9PT0gOCB8fCByZW1haW5kZXIgPj0gMjApID8gJ3N0ZScgOiAnZGUnOwogICAgICAgIH0sCiAgICAgICAgY3VycmVuY3k6IHsKICAgICAgICAgICAgc3ltYm9sOiAn4oKsICcKICAgICAgICB9CiAgICB9OwoKICAgIC8vIE5vZGUKICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgICAgIG1vZHVsZS5leHBvcnRzID0gbGFuZ3VhZ2U7CiAgICB9CiAgICAvLyBCcm93c2VyCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5udW1lcmFsICYmIHRoaXMubnVtZXJhbC5sYW5ndWFnZSkgewogICAgICAgIHRoaXMubnVtZXJhbC5sYW5ndWFnZSgnYmUtbmwnLCBsYW5ndWFnZSk7CiAgICB9Cn0oKSk7Ci8qISANCiAqIG51bWVyYWwuanMgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbg0KICogbGFuZ3VhZ2UgOiBzaW1wbGlmaWVkIGNoaW5lc2UNCiAqIGF1dGhvciA6IGJhZHBsdW0gOiBodHRwczovL2dpdGh1Yi5jb20vYmFkcGx1bQ0KICovDQooZnVuY3Rpb24gKCkgew0KICAgIHZhciBsYW5ndWFnZSA9IHsNCiAgICAgICAgZGVsaW1pdGVyczogew0KICAgICAgICAgICAgdGhvdXNhbmRzOiAnLCcsDQogICAgICAgICAgICBkZWNpbWFsOiAnLicNCiAgICAgICAgfSwNCiAgICAgICAgYWJicmV2aWF0aW9uczogew0KICAgICAgICAgICAgdGhvdXNhbmQ6ICfljYMnLA0KICAgICAgICAgICAgbWlsbGlvbjogJ+eZvuS4hycsDQogICAgICAgICAgICBiaWxsaW9uOiAn5Y2B5Lq/JywNCiAgICAgICAgICAgIHRyaWxsaW9uOiAn5YWGJw0KICAgICAgICB9LA0KICAgICAgICBvcmRpbmFsOiBmdW5jdGlvbiAobnVtYmVyKSB7DQogICAgICAgICAgICByZXR1cm4gJy4nOw0KICAgICAgICB9LA0KICAgICAgICBjdXJyZW5jeTogew0KICAgICAgICAgICAgc3ltYm9sOiAnwqUnDQogICAgICAgIH0NCiAgICB9Ow0KDQogICAgLy8gTm9kZQ0KICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgew0KICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOw0KICAgIH0NCiAgICAvLyBCcm93c2VyDQogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsNCiAgICAgICAgdGhpcy5udW1lcmFsLmxhbmd1YWdlKCdjaHMnLCBsYW5ndWFnZSk7DQogICAgfQ0KfSgpKTsNCgovKiEKICogbnVtZXJhbC5qcyBsYW5ndWFnZSBjb25maWd1cmF0aW9uCiAqIGxhbmd1YWdlIDogY3plY2ggKGNzKQogKiBhdXRob3IgOiBBbmF0b2xpIFBhcGlyb3Zza2kgOiBodHRwczovL2dpdGh1Yi5jb20vYXBhcGlyb3Zza2kKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcgJywKICAgICAgICAgICAgZGVjaW1hbDogJywnCiAgICAgICAgfSwKICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgIHRob3VzYW5kOiAndGlzLicsCiAgICAgICAgICAgIG1pbGxpb246ICdtaWwuJywKICAgICAgICAgICAgYmlsbGlvbjogJ2InLAogICAgICAgICAgICB0cmlsbGlvbjogJ3QnCiAgICAgICAgfSwKICAgICAgICBvcmRpbmFsOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiAnLic7CiAgICAgICAgfSwKICAgICAgICBjdXJyZW5jeTogewogICAgICAgICAgICBzeW1ib2w6ICdLxI0nCiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ2NzJywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwoKLyohIAogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiBkYW5pc2ggZGVubWFyayAoZGspCiAqIGF1dGhvciA6IE1pY2hhZWwgU3RvcmdhYXJkIDogaHR0cHM6Ly9naXRodWIuY29tL21zdG9yZ2FhcmQKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcuJywKICAgICAgICAgICAgZGVjaW1hbDogJywnCiAgICAgICAgfSwKICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgIHRob3VzYW5kOiAnaycsCiAgICAgICAgICAgIG1pbGxpb246ICdtaW8nLAogICAgICAgICAgICBiaWxsaW9uOiAnbWlhJywKICAgICAgICAgICAgdHJpbGxpb246ICdiJwogICAgICAgIH0sCiAgICAgICAgb3JkaW5hbDogZnVuY3Rpb24gKG51bWJlcikgewogICAgICAgICAgICByZXR1cm4gJy4nOwogICAgICAgIH0sCiAgICAgICAgY3VycmVuY3k6IHsKICAgICAgICAgICAgc3ltYm9sOiAnREtLJwogICAgICAgIH0KICAgIH07CgogICAgLy8gTm9kZQogICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBsYW5ndWFnZTsKICAgIH0KICAgIC8vIEJyb3dzZXIKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm51bWVyYWwgJiYgdGhpcy5udW1lcmFsLmxhbmd1YWdlKSB7CiAgICAgICAgdGhpcy5udW1lcmFsLmxhbmd1YWdlKCdkYS1kaycsIGxhbmd1YWdlKTsKICAgIH0KfSgpKTsKLyohIAogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiBHZXJtYW4gaW4gU3dpdHplcmxhbmQgKGRlLWNoKQogKiBhdXRob3IgOiBNaWNoYWVsIFBpZWZlbCA6IGh0dHBzOi8vZ2l0aHViLmNvbS9waWVmZWwgKGJhc2VkIG9uIHdvcmsgZnJvbSBNYXJjbyBLcmFnZSA6IGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5reSkKICovIAooZnVuY3Rpb24gKCkgewogICAgdmFyIGxhbmd1YWdlID0gewogICAgICAgIGRlbGltaXRlcnM6IHsKICAgICAgICAgICAgdGhvdXNhbmRzOiAnICcsCiAgICAgICAgICAgIGRlY2ltYWw6ICcsJwogICAgICAgIH0sCiAgICAgICAgYWJicmV2aWF0aW9uczogewogICAgICAgICAgICB0aG91c2FuZDogJ2snLAogICAgICAgICAgICBtaWxsaW9uOiAnbScsCiAgICAgICAgICAgIGJpbGxpb246ICdiJywKICAgICAgICAgICAgdHJpbGxpb246ICd0JwogICAgICAgIH0sCiAgICAgICAgb3JkaW5hbDogZnVuY3Rpb24gKG51bWJlcikgewogICAgICAgICAgICByZXR1cm4gJy4nOwogICAgICAgIH0sCiAgICAgICAgY3VycmVuY3k6IHsKICAgICAgICAgICAgc3ltYm9sOiAnQ0hGJwogICAgICAgIH0KICAgIH07CgogICAgLy8gTm9kZQogICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBsYW5ndWFnZTsKICAgIH0KICAgIC8vIEJyb3dzZXIKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm51bWVyYWwgJiYgdGhpcy5udW1lcmFsLmxhbmd1YWdlKSB7CiAgICAgICAgdGhpcy5udW1lcmFsLmxhbmd1YWdlKCdkZS1jaCcsIGxhbmd1YWdlKTsKICAgIH0KfSgpKTsKLyohIAogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiBHZXJtYW4gKGRlKSDigJMgZ2VuZXJhbGx5IHVzZWZ1bCBpbiBHZXJtYW55LCBBdXN0cmlhLCBMdXhlbWJvdXJnLCBCZWxnaXVtCiAqIGF1dGhvciA6IE1hcmNvIEtyYWdlIDogaHR0cHM6Ly9naXRodWIuY29tL3Npbmt5CiAqLwooZnVuY3Rpb24gKCkgewogICAgdmFyIGxhbmd1YWdlID0gewogICAgICAgIGRlbGltaXRlcnM6IHsKICAgICAgICAgICAgdGhvdXNhbmRzOiAnICcsCiAgICAgICAgICAgIGRlY2ltYWw6ICcsJwogICAgICAgIH0sCiAgICAgICAgYWJicmV2aWF0aW9uczogewogICAgICAgICAgICB0aG91c2FuZDogJ2snLAogICAgICAgICAgICBtaWxsaW9uOiAnbScsCiAgICAgICAgICAgIGJpbGxpb246ICdiJywKICAgICAgICAgICAgdHJpbGxpb246ICd0JwogICAgICAgIH0sCiAgICAgICAgb3JkaW5hbDogZnVuY3Rpb24gKG51bWJlcikgewogICAgICAgICAgICByZXR1cm4gJy4nOwogICAgICAgIH0sCiAgICAgICAgY3VycmVuY3k6IHsKICAgICAgICAgICAgc3ltYm9sOiAn4oKsJwogICAgICAgIH0KICAgIH07CgogICAgLy8gTm9kZQogICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBsYW5ndWFnZTsKICAgIH0KICAgIC8vIEJyb3dzZXIKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm51bWVyYWwgJiYgdGhpcy5udW1lcmFsLmxhbmd1YWdlKSB7CiAgICAgICAgdGhpcy5udW1lcmFsLmxhbmd1YWdlKCdkZScsIGxhbmd1YWdlKTsKICAgIH0KfSgpKTsKLyohIAogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiBlbmdsaXNoIHVuaXRlZCBraW5nZG9tICh1aykKICogYXV0aG9yIDogRGFuIFJpc3RpYyA6IGh0dHBzOi8vZ2l0aHViLmNvbS9kcmlzdGljCiAqLwooZnVuY3Rpb24gKCkgewogICAgdmFyIGxhbmd1YWdlID0gewogICAgICAgIGRlbGltaXRlcnM6IHsKICAgICAgICAgICAgdGhvdXNhbmRzOiAnLCcsCiAgICAgICAgICAgIGRlY2ltYWw6ICcuJwogICAgICAgIH0sCiAgICAgICAgYWJicmV2aWF0aW9uczogewogICAgICAgICAgICB0aG91c2FuZDogJ2snLAogICAgICAgICAgICBtaWxsaW9uOiAnbScsCiAgICAgICAgICAgIGJpbGxpb246ICdiJywKICAgICAgICAgICAgdHJpbGxpb246ICd0JwogICAgICAgIH0sCiAgICAgICAgb3JkaW5hbDogZnVuY3Rpb24gKG51bWJlcikgewogICAgICAgICAgICB2YXIgYiA9IG51bWJlciAlIDEwOwogICAgICAgICAgICByZXR1cm4gKH5+IChudW1iZXIgJSAxMDAgLyAxMCkgPT09IDEpID8gJ3RoJyA6CiAgICAgICAgICAgICAgICAoYiA9PT0gMSkgPyAnc3QnIDoKICAgICAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOgogICAgICAgICAgICAgICAgKGIgPT09IDMpID8gJ3JkJyA6ICd0aCc7CiAgICAgICAgfSwKICAgICAgICBjdXJyZW5jeTogewogICAgICAgICAgICBzeW1ib2w6ICfCoycKICAgICAgICB9CiAgICB9OwoKICAgIC8vIE5vZGUKICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgICAgIG1vZHVsZS5leHBvcnRzID0gbGFuZ3VhZ2U7CiAgICB9CiAgICAvLyBCcm93c2VyCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5udW1lcmFsICYmIHRoaXMubnVtZXJhbC5sYW5ndWFnZSkgewogICAgICAgIHRoaXMubnVtZXJhbC5sYW5ndWFnZSgnZW4tZ2InLCBsYW5ndWFnZSk7CiAgICB9Cn0oKSk7Ci8qISAKICogbnVtZXJhbC5qcyBsYW5ndWFnZSBjb25maWd1cmF0aW9uCiAqIGxhbmd1YWdlIDogc3BhbmlzaCBTcGFpbgogKiBhdXRob3IgOiBIZXJuYW4gR2FyY2lhIDogaHR0cHM6Ly9naXRodWIuY29tL2hnYXJjaWEKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcuJywKICAgICAgICAgICAgZGVjaW1hbDogJywnCiAgICAgICAgfSwKICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgIHRob3VzYW5kOiAnaycsCiAgICAgICAgICAgIG1pbGxpb246ICdtbScsCiAgICAgICAgICAgIGJpbGxpb246ICdiJywKICAgICAgICAgICAgdHJpbGxpb246ICd0JwogICAgICAgIH0sCiAgICAgICAgb3JkaW5hbDogZnVuY3Rpb24gKG51bWJlcikgewogICAgICAgICAgICB2YXIgYiA9IG51bWJlciAlIDEwOwogICAgICAgICAgICByZXR1cm4gKGIgPT09IDEgfHwgYiA9PT0gMykgPyAnZXInIDoKICAgICAgICAgICAgICAgIChiID09PSAyKSA/ICdkbycgOgogICAgICAgICAgICAgICAgICAgIChiID09PSA3IHx8IGIgPT09IDApID8gJ21vJyA6CiAgICAgICAgICAgICAgICAgICAgICAgIChiID09PSA4KSA/ICd2bycgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgKGIgPT09IDkpID8gJ25vJyA6ICd0byc7CiAgICAgICAgfSwKICAgICAgICBjdXJyZW5jeTogewogICAgICAgICAgICBzeW1ib2w6ICfigqwnCiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ2VzJywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwoKLyohIAogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiBzcGFuaXNoCiAqIGF1dGhvciA6IEhlcm5hbiBHYXJjaWEgOiBodHRwczovL2dpdGh1Yi5jb20vaGdhcmNpYQogKi8KKGZ1bmN0aW9uICgpIHsKICAgIHZhciBsYW5ndWFnZSA9IHsKICAgICAgICBkZWxpbWl0ZXJzOiB7CiAgICAgICAgICAgIHRob3VzYW5kczogJy4nLAogICAgICAgICAgICBkZWNpbWFsOiAnLCcKICAgICAgICB9LAogICAgICAgIGFiYnJldmlhdGlvbnM6IHsKICAgICAgICAgICAgdGhvdXNhbmQ6ICdrJywKICAgICAgICAgICAgbWlsbGlvbjogJ21tJywKICAgICAgICAgICAgYmlsbGlvbjogJ2InLAogICAgICAgICAgICB0cmlsbGlvbjogJ3QnCiAgICAgICAgfSwKICAgICAgICBvcmRpbmFsOiBmdW5jdGlvbiAobnVtYmVyKSB7CiAgICAgICAgICAgIHZhciBiID0gbnVtYmVyICUgMTA7CiAgICAgICAgICAgIHJldHVybiAoYiA9PT0gMSB8fCBiID09PSAzKSA/ICdlcicgOgogICAgICAgICAgICAgICAgKGIgPT09IDIpID8gJ2RvJyA6CiAgICAgICAgICAgICAgICAoYiA9PT0gNyB8fCBiID09PSAwKSA/ICdtbycgOiAKCQkoYiA9PT0gOCkgPyAndm8nIDoKCQkoYiA9PT0gOSkgPyAnbm8nIDogJ3RvJzsKICAgICAgICB9LAogICAgICAgIGN1cnJlbmN5OiB7CiAgICAgICAgICAgIHN5bWJvbDogJyQnCiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ2VzJywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwoKLyohIAogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiBFc3RvbmlhbgogKiBhdXRob3IgOiBJbGxpbWFyIFRhbWJlayA6IGh0dHBzOi8vZ2l0aHViLmNvbS9yYWd1bGthCiAqCiAqIE5vdGU6IGluIEVzdG9uaWFuLCBhYmJyZXZpYXRpb25zIGFyZSBhbHdheXMgc2VwYXJhdGVkCiAqIGZyb20gbnVtYmVycyB3aXRoIGEgc3BhY2UKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcgJywKICAgICAgICAgICAgZGVjaW1hbDogJywnCiAgICAgICAgfSwKICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgIHRob3VzYW5kOiAnIHR1aCcsCiAgICAgICAgICAgIG1pbGxpb246ICcgbWxuJywKICAgICAgICAgICAgYmlsbGlvbjogJyBtbGQnLAogICAgICAgICAgICB0cmlsbGlvbjogJyB0cmwnCiAgICAgICAgfSwKICAgICAgICBvcmRpbmFsOiBmdW5jdGlvbiAobnVtYmVyKSB7CiAgICAgICAgICAgIHJldHVybiAnLic7CiAgICAgICAgfSwKICAgICAgICBjdXJyZW5jeTogewogICAgICAgICAgICBzeW1ib2w6ICfigqwnCiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ2V0JywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwoKLyohIAogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiBGaW5uaXNoCiAqIGF1dGhvciA6IFNhbWkgU2FhZGEgOiBodHRwczovL2dpdGh1Yi5jb20vc2FtaXRoZWJlcmJlcgogKi8KKGZ1bmN0aW9uICgpIHsKICAgIHZhciBsYW5ndWFnZSA9IHsKICAgICAgICBkZWxpbWl0ZXJzOiB7CiAgICAgICAgICAgIHRob3VzYW5kczogJyAnLAogICAgICAgICAgICBkZWNpbWFsOiAnLCcKICAgICAgICB9LAogICAgICAgIGFiYnJldmlhdGlvbnM6IHsKICAgICAgICAgICAgdGhvdXNhbmQ6ICdrJywKICAgICAgICAgICAgbWlsbGlvbjogJ00nLAogICAgICAgICAgICBiaWxsaW9uOiAnRycsCiAgICAgICAgICAgIHRyaWxsaW9uOiAnVCcKICAgICAgICB9LAogICAgICAgIG9yZGluYWw6IGZ1bmN0aW9uIChudW1iZXIpIHsKICAgICAgICAgICAgcmV0dXJuICcuJzsKICAgICAgICB9LAogICAgICAgIGN1cnJlbmN5OiB7CiAgICAgICAgICAgIHN5bWJvbDogJ+KCrCcKICAgICAgICB9CiAgICB9OwoKICAgIC8vIE5vZGUKICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgICAgIG1vZHVsZS5leHBvcnRzID0gbGFuZ3VhZ2U7CiAgICB9CiAgICAvLyBCcm93c2VyCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5udW1lcmFsICYmIHRoaXMubnVtZXJhbC5sYW5ndWFnZSkgewogICAgICAgIHRoaXMubnVtZXJhbC5sYW5ndWFnZSgnZmknLCBsYW5ndWFnZSk7CiAgICB9Cn0oKSk7CgovKiEKICogbnVtZXJhbC5qcyBsYW5ndWFnZSBjb25maWd1cmF0aW9uCiAqIGxhbmd1YWdlIDogZnJlbmNoIChDYW5hZGEpIChmci1DQSkKICogYXV0aG9yIDogTMOpbyBSZW5hdWQtQWxsYWlyZSA6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZW5hdWRsZW8KICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcgJywKICAgICAgICAgICAgZGVjaW1hbDogJywnCiAgICAgICAgfSwKICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgIHRob3VzYW5kOiAnaycsCiAgICAgICAgICAgIG1pbGxpb246ICdNJywKICAgICAgICAgICAgYmlsbGlvbjogJ0cnLAogICAgICAgICAgICB0cmlsbGlvbjogJ1QnCiAgICAgICAgfSwKICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikgewogICAgICAgICAgICByZXR1cm4gbnVtYmVyID09PSAxID8gJ2VyJyA6ICdlJzsKICAgICAgICB9LAogICAgICAgIGN1cnJlbmN5OiB7CiAgICAgICAgICAgIHN5bWJvbDogJyQnCiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ2ZyLUNBJywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwovKiEgCiAqIG51bWVyYWwuanMgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbgogKiBsYW5ndWFnZSA6IGZyZW5jaCAoZnItY2gpCiAqIGF1dGhvciA6IEFkYW0gRHJhcGVyIDogaHR0cHM6Ly9naXRodWIuY29tL2FkYW13ZHJhcGVyCiAqLwooZnVuY3Rpb24gKCkgewogICAgdmFyIGxhbmd1YWdlID0gewogICAgICAgIGRlbGltaXRlcnM6IHsKICAgICAgICAgICAgdGhvdXNhbmRzOiAnXCcnLAogICAgICAgICAgICBkZWNpbWFsOiAnLicKICAgICAgICB9LAogICAgICAgIGFiYnJldmlhdGlvbnM6IHsKICAgICAgICAgICAgdGhvdXNhbmQ6ICdrJywKICAgICAgICAgICAgbWlsbGlvbjogJ20nLAogICAgICAgICAgICBiaWxsaW9uOiAnYicsCiAgICAgICAgICAgIHRyaWxsaW9uOiAndCcKICAgICAgICB9LAogICAgICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyKSB7CiAgICAgICAgICAgIHJldHVybiBudW1iZXIgPT09IDEgPyAnZXInIDogJ2UnOwogICAgICAgIH0sCiAgICAgICAgY3VycmVuY3k6IHsKICAgICAgICAgICAgc3ltYm9sOiAnQ0hGJwogICAgICAgIH0KICAgIH07CgogICAgLy8gTm9kZQogICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBsYW5ndWFnZTsKICAgIH0KICAgIC8vIEJyb3dzZXIKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm51bWVyYWwgJiYgdGhpcy5udW1lcmFsLmxhbmd1YWdlKSB7CiAgICAgICAgdGhpcy5udW1lcmFsLmxhbmd1YWdlKCdmci1jaCcsIGxhbmd1YWdlKTsKICAgIH0KfSgpKTsKCi8qISAKICogbnVtZXJhbC5qcyBsYW5ndWFnZSBjb25maWd1cmF0aW9uCiAqIGxhbmd1YWdlIDogZnJlbmNoIChmcikKICogYXV0aG9yIDogQWRhbSBEcmFwZXIgOiBodHRwczovL2dpdGh1Yi5jb20vYWRhbXdkcmFwZXIKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcgJywKICAgICAgICAgICAgZGVjaW1hbDogJywnCiAgICAgICAgfSwKICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgIHRob3VzYW5kOiAnaycsCiAgICAgICAgICAgIG1pbGxpb246ICdtJywKICAgICAgICAgICAgYmlsbGlvbjogJ2InLAogICAgICAgICAgICB0cmlsbGlvbjogJ3QnCiAgICAgICAgfSwKICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikgewogICAgICAgICAgICByZXR1cm4gbnVtYmVyID09PSAxID8gJ2VyJyA6ICdlJzsKICAgICAgICB9LAogICAgICAgIGN1cnJlbmN5OiB7CiAgICAgICAgICAgIHN5bWJvbDogJ+KCrCcKICAgICAgICB9CiAgICB9OwoKICAgIC8vIE5vZGUKICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgICAgIG1vZHVsZS5leHBvcnRzID0gbGFuZ3VhZ2U7CiAgICB9CiAgICAvLyBCcm93c2VyCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5udW1lcmFsICYmIHRoaXMubnVtZXJhbC5sYW5ndWFnZSkgewogICAgICAgIHRoaXMubnVtZXJhbC5sYW5ndWFnZSgnZnInLCBsYW5ndWFnZSk7CiAgICB9Cn0oKSk7Ci8qIQogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiBIdW5nYXJpYW4gKGh1KQogKiBhdXRob3IgOiBQZXRlciBCYWtvbmR5IDogaHR0cHM6Ly9naXRodWIuY29tL3BiYWtvbmR5CiAqLwooZnVuY3Rpb24gKCkgewogICAgdmFyIGxhbmd1YWdlID0gewogICAgICAgIGRlbGltaXRlcnM6IHsKICAgICAgICAgICAgdGhvdXNhbmRzOiAnICcsCiAgICAgICAgICAgIGRlY2ltYWw6ICcsJwogICAgICAgIH0sCiAgICAgICAgYWJicmV2aWF0aW9uczogewogICAgICAgICAgICB0aG91c2FuZDogJ0UnLCAgLy8gZXplcgogICAgICAgICAgICBtaWxsaW9uOiAnTScsICAgLy8gbWlsbGnDswogICAgICAgICAgICBiaWxsaW9uOiAnTXJkJywgLy8gbWlsbGnDoXJkCiAgICAgICAgICAgIHRyaWxsaW9uOiAnVCcgICAvLyB0cmlsbGnDswogICAgICAgIH0sCiAgICAgICAgb3JkaW5hbDogZnVuY3Rpb24gKG51bWJlcikgewogICAgICAgICAgICByZXR1cm4gJy4nOwogICAgICAgIH0sCiAgICAgICAgY3VycmVuY3k6IHsKICAgICAgICAgICAgc3ltYm9sOiAnIEZ0JwogICAgICAgIH0KICAgIH07CgogICAgLy8gTm9kZQogICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBsYW5ndWFnZTsKICAgIH0KICAgIC8vIEJyb3dzZXIKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm51bWVyYWwgJiYgdGhpcy5udW1lcmFsLmxhbmd1YWdlKSB7CiAgICAgICAgdGhpcy5udW1lcmFsLmxhbmd1YWdlKCdodScsIGxhbmd1YWdlKTsKICAgIH0KfSgpKTsKLyohIAogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiBpdGFsaWFuIEl0YWx5IChpdCkKICogYXV0aG9yIDogR2lhY29tbyBUcm9tYmkgOiBodHRwOi8vY2lucXVlcHVudGkuaXQKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcuJywKICAgICAgICAgICAgZGVjaW1hbDogJywnCiAgICAgICAgfSwKICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgIHRob3VzYW5kOiAnbWlsYScsCiAgICAgICAgICAgIG1pbGxpb246ICdtaWwnLAogICAgICAgICAgICBiaWxsaW9uOiAnYicsCiAgICAgICAgICAgIHRyaWxsaW9uOiAndCcKICAgICAgICB9LAogICAgICAgIG9yZGluYWw6IGZ1bmN0aW9uIChudW1iZXIpIHsKICAgICAgICAgICAgcmV0dXJuICfCuic7CiAgICAgICAgfSwKICAgICAgICBjdXJyZW5jeTogewogICAgICAgICAgICBzeW1ib2w6ICfigqwnCiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ2l0JywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwovKiEgCiAqIG51bWVyYWwuanMgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbgogKiBsYW5ndWFnZSA6IGphcGFuZXNlCiAqIGF1dGhvciA6IHRlcHBlaXMgOiBodHRwczovL2dpdGh1Yi5jb20vdGVwcGVpcwogKi8KKGZ1bmN0aW9uICgpIHsKICAgIHZhciBsYW5ndWFnZSA9IHsKICAgICAgICBkZWxpbWl0ZXJzOiB7CiAgICAgICAgICAgIHRob3VzYW5kczogJywnLAogICAgICAgICAgICBkZWNpbWFsOiAnLicKICAgICAgICB9LAogICAgICAgIGFiYnJldmlhdGlvbnM6IHsKICAgICAgICAgICAgdGhvdXNhbmQ6ICfljYMnLAogICAgICAgICAgICBtaWxsaW9uOiAn55m+5LiHJywKICAgICAgICAgICAgYmlsbGlvbjogJ+WNgeWEhCcsCiAgICAgICAgICAgIHRyaWxsaW9uOiAn5YWGJwogICAgICAgIH0sCiAgICAgICAgb3JkaW5hbDogZnVuY3Rpb24gKG51bWJlcikgewogICAgICAgICAgICByZXR1cm4gJy4nOwogICAgICAgIH0sCiAgICAgICAgY3VycmVuY3k6IHsKICAgICAgICAgICAgc3ltYm9sOiAnwqUnCiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ2phJywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwoKLyohIAogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiBuZXRoZXJsYW5kcy1kdXRjaCAobmwtbmwpCiAqIGF1dGhvciA6IERhdmUgQ2xheXRvbiA6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZlZHgKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcuJywKICAgICAgICAgICAgZGVjaW1hbCAgOiAnLCcKICAgICAgICB9LAogICAgICAgIGFiYnJldmlhdGlvbnM6IHsKICAgICAgICAgICAgdGhvdXNhbmQgOiAnaycsCiAgICAgICAgICAgIG1pbGxpb24gIDogJ21sbicsCiAgICAgICAgICAgIGJpbGxpb24gIDogJ21yZCcsCiAgICAgICAgICAgIHRyaWxsaW9uIDogJ2JsbicKICAgICAgICB9LAogICAgICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyKSB7CiAgICAgICAgICAgIHZhciByZW1haW5kZXIgPSBudW1iZXIgJSAxMDA7CiAgICAgICAgICAgIHJldHVybiAobnVtYmVyICE9PSAwICYmIHJlbWFpbmRlciA8PSAxIHx8IHJlbWFpbmRlciA9PT0gOCB8fCByZW1haW5kZXIgPj0gMjApID8gJ3N0ZScgOiAnZGUnOwogICAgICAgIH0sCiAgICAgICAgY3VycmVuY3k6IHsKICAgICAgICAgICAgc3ltYm9sOiAn4oKsICcKICAgICAgICB9CiAgICB9OwoKICAgIC8vIE5vZGUKICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgICAgIG1vZHVsZS5leHBvcnRzID0gbGFuZ3VhZ2U7CiAgICB9CiAgICAvLyBCcm93c2VyCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5udW1lcmFsICYmIHRoaXMubnVtZXJhbC5sYW5ndWFnZSkgewogICAgICAgIHRoaXMubnVtZXJhbC5sYW5ndWFnZSgnbmwtbmwnLCBsYW5ndWFnZSk7CiAgICB9Cn0oKSk7Ci8qISAKICogbnVtZXJhbC5qcyBsYW5ndWFnZSBjb25maWd1cmF0aW9uCiAqIGxhbmd1YWdlIDogcG9saXNoIChwbCkKICogYXV0aG9yIDogRG9taW5payBCdWxhaiA6IGh0dHBzOi8vZ2l0aHViLmNvbS9kb21pbmlrYnVsYWoKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcgJywKICAgICAgICAgICAgZGVjaW1hbDogJywnCiAgICAgICAgfSwKICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgIHRob3VzYW5kOiAndHlzLicsCiAgICAgICAgICAgIG1pbGxpb246ICdtbG4nLAogICAgICAgICAgICBiaWxsaW9uOiAnbWxkJywKICAgICAgICAgICAgdHJpbGxpb246ICdibG4nCiAgICAgICAgfSwKICAgICAgICBvcmRpbmFsOiBmdW5jdGlvbiAobnVtYmVyKSB7CiAgICAgICAgICAgIHJldHVybiAnLic7CiAgICAgICAgfSwKICAgICAgICBjdXJyZW5jeTogewogICAgICAgICAgICBzeW1ib2w6ICdQTE4nCiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ3BsJywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwovKiEgCiAqIG51bWVyYWwuanMgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbgogKiBsYW5ndWFnZSA6IHBvcnR1Z3Vlc2UgYnJhemlsIChwdC1icikKICogYXV0aG9yIDogUmFtaXJvIFZhcmFuZGFzIEpyIDogaHR0cHM6Ly9naXRodWIuY29tL3JhbWlyb3ZqcgogKi8KKGZ1bmN0aW9uICgpIHsKICAgIHZhciBsYW5ndWFnZSA9IHsKICAgICAgICBkZWxpbWl0ZXJzOiB7CiAgICAgICAgICAgIHRob3VzYW5kczogJy4nLAogICAgICAgICAgICBkZWNpbWFsOiAnLCcKICAgICAgICB9LAogICAgICAgIGFiYnJldmlhdGlvbnM6IHsKICAgICAgICAgICAgdGhvdXNhbmQ6ICdtaWwnLAogICAgICAgICAgICBtaWxsaW9uOiAnbWlsaMO1ZXMnLAogICAgICAgICAgICBiaWxsaW9uOiAnYicsCiAgICAgICAgICAgIHRyaWxsaW9uOiAndCcKICAgICAgICB9LAogICAgICAgIG9yZGluYWw6IGZ1bmN0aW9uIChudW1iZXIpIHsKICAgICAgICAgICAgcmV0dXJuICfCuic7CiAgICAgICAgfSwKICAgICAgICBjdXJyZW5jeTogewogICAgICAgICAgICBzeW1ib2w6ICdSJCcKICAgICAgICB9CiAgICB9OwoKICAgIC8vIE5vZGUKICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgICAgIG1vZHVsZS5leHBvcnRzID0gbGFuZ3VhZ2U7CiAgICB9CiAgICAvLyBCcm93c2VyCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5udW1lcmFsICYmIHRoaXMubnVtZXJhbC5sYW5ndWFnZSkgewogICAgICAgIHRoaXMubnVtZXJhbC5sYW5ndWFnZSgncHQtYnInLCBsYW5ndWFnZSk7CiAgICB9Cn0oKSk7Ci8qISAKICogbnVtZXJhbC5qcyBsYW5ndWFnZSBjb25maWd1cmF0aW9uCiAqIGxhbmd1YWdlIDogcG9ydHVndWVzZSAocHQtcHQpCiAqIGF1dGhvciA6IERpb2dvIFJlc2VuZGUgOiBodHRwczovL2dpdGh1Yi5jb20vZHJlc2VuZGUKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcgJywKICAgICAgICAgICAgZGVjaW1hbDogJywnCiAgICAgICAgfSwKICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgIHRob3VzYW5kOiAnaycsCiAgICAgICAgICAgIG1pbGxpb246ICdtJywKICAgICAgICAgICAgYmlsbGlvbjogJ2InLAogICAgICAgICAgICB0cmlsbGlvbjogJ3QnCiAgICAgICAgfSwKICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikgewogICAgICAgICAgICByZXR1cm4gJ8K6JzsKICAgICAgICB9LAogICAgICAgIGN1cnJlbmN5OiB7CiAgICAgICAgICAgIHN5bWJvbDogJ+KCrCcKICAgICAgICB9CiAgICB9OwoKICAgIC8vIE5vZGUKICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgICAgIG1vZHVsZS5leHBvcnRzID0gbGFuZ3VhZ2U7CiAgICB9CiAgICAvLyBCcm93c2VyCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5udW1lcmFsICYmIHRoaXMubnVtZXJhbC5sYW5ndWFnZSkgewogICAgICAgIHRoaXMubnVtZXJhbC5sYW5ndWFnZSgncHQtcHQnLCBsYW5ndWFnZSk7CiAgICB9Cn0oKSk7CgovLyBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KLy8gbGFuZ3VhZ2UgOiBSdXNzaWFuIGZvciB0aGUgVWtyYWluZSAocnUtVUEpCi8vIGF1dGhvciA6IEFuYXRvbGkgUGFwaXJvdnNraSA6IGh0dHBzOi8vZ2l0aHViLmNvbS9hcGFwaXJvdnNraQooZnVuY3Rpb24gKCkgewogICAgdmFyIGxhbmd1YWdlID0gewogICAgICAgIGRlbGltaXRlcnM6IHsKICAgICAgICAgICAgdGhvdXNhbmRzOiAnICcsCiAgICAgICAgICAgIGRlY2ltYWw6ICcsJwogICAgICAgIH0sCiAgICAgICAgYWJicmV2aWF0aW9uczogewogICAgICAgICAgICB0aG91c2FuZDogJ9GC0YvRgS4nLAogICAgICAgICAgICBtaWxsaW9uOiAn0LzQu9C9JywKICAgICAgICAgICAgYmlsbGlvbjogJ2InLAogICAgICAgICAgICB0cmlsbGlvbjogJ3QnCiAgICAgICAgfSwKICAgICAgICBvcmRpbmFsOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8vIG5vdCBpZGVhbCwgYnV0IHNpbmNlIGluIFJ1c3NpYW4gaXQgY2FuIHRha2VuIG9uIAogICAgICAgICAgICAvLyBkaWZmZXJlbnQgZm9ybXMgKG1hc2N1bGluZSwgZmVtaW5pbmUsIG5ldXRlcikKICAgICAgICAgICAgLy8gdGhpcyBpcyBhbGwgd2UgY2FuIGRvCiAgICAgICAgICAgIHJldHVybiAnLic7IAogICAgICAgIH0sCiAgICAgICAgY3VycmVuY3k6IHsKICAgICAgICAgICAgc3ltYm9sOiAnXHUyMEI0JwogICAgICAgIH0KICAgIH07CgogICAgLy8gTm9kZQogICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBsYW5ndWFnZTsKICAgIH0KICAgIC8vIEJyb3dzZXIKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0aGlzLm51bWVyYWwgJiYgdGhpcy5udW1lcmFsLmxhbmd1YWdlKSB7CiAgICAgICAgdGhpcy5udW1lcmFsLmxhbmd1YWdlKCdydS1VQScsIGxhbmd1YWdlKTsKICAgIH0KfSgpKTsKCi8qISAKICogbnVtZXJhbC5qcyBsYW5ndWFnZSBjb25maWd1cmF0aW9uCiAqIGxhbmd1YWdlIDogcnVzc2lhbiAocnUpCiAqIGF1dGhvciA6IEFuYXRvbGkgUGFwaXJvdnNraSA6IGh0dHBzOi8vZ2l0aHViLmNvbS9hcGFwaXJvdnNraQogKi8KKGZ1bmN0aW9uICgpIHsKICAgIHZhciBsYW5ndWFnZSA9IHsKICAgICAgICBkZWxpbWl0ZXJzOiB7CiAgICAgICAgICAgIHRob3VzYW5kczogJyAnLAogICAgICAgICAgICBkZWNpbWFsOiAnLCcKICAgICAgICB9LAogICAgICAgIGFiYnJldmlhdGlvbnM6IHsKICAgICAgICAgICAgdGhvdXNhbmQ6ICfRgtGL0YEuJywKICAgICAgICAgICAgbWlsbGlvbjogJ9C80LvQvScsCiAgICAgICAgICAgIGJpbGxpb246ICdiJywKICAgICAgICAgICAgdHJpbGxpb246ICd0JwogICAgICAgIH0sCiAgICAgICAgb3JkaW5hbDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyBub3QgaWRlYWwsIGJ1dCBzaW5jZSBpbiBSdXNzaWFuIGl0IGNhbiB0YWtlbiBvbiAKICAgICAgICAgICAgLy8gZGlmZmVyZW50IGZvcm1zIChtYXNjdWxpbmUsIGZlbWluaW5lLCBuZXV0ZXIpCiAgICAgICAgICAgIC8vIHRoaXMgaXMgYWxsIHdlIGNhbiBkbwogICAgICAgICAgICByZXR1cm4gJy4nOyAKICAgICAgICB9LAogICAgICAgIGN1cnJlbmN5OiB7CiAgICAgICAgICAgIHN5bWJvbDogJ9GA0YPQsS4nCiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ3J1JywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwoKLyohCiAqIG51bWVyYWwuanMgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbgogKiBsYW5ndWFnZSA6IHNsb3ZhayAoc2spCiAqIGF1dGhvciA6IEFobWVkIEFsIEhhZm91ZGggOiBodHRwOi8vd3d3LmZyZWV2aXNpb24uc2sKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcgJywKICAgICAgICAgICAgZGVjaW1hbDogJywnCiAgICAgICAgfSwKICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgIHRob3VzYW5kOiAndGlzLicsCiAgICAgICAgICAgIG1pbGxpb246ICdtaWwuJywKICAgICAgICAgICAgYmlsbGlvbjogJ2InLAogICAgICAgICAgICB0cmlsbGlvbjogJ3QnCiAgICAgICAgfSwKICAgICAgICBvcmRpbmFsOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiAnLic7CiAgICAgICAgfSwKICAgICAgICBjdXJyZW5jeTogewogICAgICAgICAgICBzeW1ib2w6ICfigqwnCiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ3NrJywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwoKLyohIAogKiBudW1lcmFsLmpzIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24KICogbGFuZ3VhZ2UgOiB0aGFpICh0aCkKICogYXV0aG9yIDogU2F0aGl0IEppdHRhbnVwYXQgOiBodHRwczovL2dpdGh1Yi5jb20vam9qb3NhdGkKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgbGFuZ3VhZ2UgPSB7CiAgICAgICAgZGVsaW1pdGVyczogewogICAgICAgICAgICB0aG91c2FuZHM6ICcsJywKICAgICAgICAgICAgZGVjaW1hbDogJy4nCiAgICAgICAgfSwKICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgIHRob3VzYW5kOiAn4Lie4Lix4LiZJywKICAgICAgICAgICAgbWlsbGlvbjogJ+C4peC5ieC4suC4mScsCiAgICAgICAgICAgIGJpbGxpb246ICfguJ7guLHguJnguKXguYnguLLguJknLAogICAgICAgICAgICB0cmlsbGlvbjogJ+C4peC5ieC4suC4meC4peC5ieC4suC4mScKICAgICAgICB9LAogICAgICAgIG9yZGluYWw6IGZ1bmN0aW9uIChudW1iZXIpIHsKICAgICAgICAgICAgcmV0dXJuICcuJzsKICAgICAgICB9LAogICAgICAgIGN1cnJlbmN5OiB7CiAgICAgICAgICAgIHN5bWJvbDogJ+C4vycKICAgICAgICB9CiAgICB9OwoKICAgIC8vIE5vZGUKICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgICAgIG1vZHVsZS5leHBvcnRzID0gbGFuZ3VhZ2U7CiAgICB9CiAgICAvLyBCcm93c2VyCiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdGhpcy5udW1lcmFsICYmIHRoaXMubnVtZXJhbC5sYW5ndWFnZSkgewogICAgICAgIHRoaXMubnVtZXJhbC5sYW5ndWFnZSgndGgnLCBsYW5ndWFnZSk7CiAgICB9Cn0oKSk7CgovKiEgCiAqIG51bWVyYWwuanMgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbgogKiBsYW5ndWFnZSA6IHR1cmtpc2ggKHRyKQogKiBhdXRob3IgOiBFY21lbCBFcmNhbiA6IGh0dHBzOi8vZ2l0aHViLmNvbS9lY21lbCwgRXJoYW4gR3VuZG9nYW4gOiBodHRwczovL2dpdGh1Yi5jb20vZXJoYW5ndW5kb2dhbiwgQnVyYWsgWWnEn2l0IEtheWE6IGh0dHBzOi8vZ2l0aHViLmNvbS9CWUsKICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgc3VmZml4ZXMgPSB7CiAgICAgICAgICAgIDE6ICdcJ2luY2knLAogICAgICAgICAgICA1OiAnXCdpbmNpJywKICAgICAgICAgICAgODogJ1wnaW5jaScsCiAgICAgICAgICAgIDcwOiAnXCdpbmNpJywKICAgICAgICAgICAgODA6ICdcJ2luY2knLAoKICAgICAgICAgICAgMjogJ1wnbmNpJywKICAgICAgICAgICAgNzogJ1wnbmNpJywKICAgICAgICAgICAgMjA6ICdcJ25jaScsCiAgICAgICAgICAgIDUwOiAnXCduY2knLAoKICAgICAgICAgICAgMzogJ1wnw7xuY8O8JywKICAgICAgICAgICAgNDogJ1wnw7xuY8O8JywKICAgICAgICAgICAgMTAwOiAnXCfDvG5jw7wnLAoKICAgICAgICAgICAgNjogJ1wnbmPEsScsCgogICAgICAgICAgICA5OiAnXCd1bmN1JywKICAgICAgICAgICAgMTA6ICdcJ3VuY3UnLAogICAgICAgICAgICAzMDogJ1wndW5jdScsCgogICAgICAgICAgICA2MDogJ1wnxLFuY8SxJywKICAgICAgICAgICAgOTA6ICdcJ8SxbmPEsScKICAgICAgICB9LAogICAgICAgIGxhbmd1YWdlID0gewogICAgICAgICAgICBkZWxpbWl0ZXJzOiB7CiAgICAgICAgICAgICAgICB0aG91c2FuZHM6ICcuJywKICAgICAgICAgICAgICAgIGRlY2ltYWw6ICcsJwogICAgICAgICAgICB9LAogICAgICAgICAgICBhYmJyZXZpYXRpb25zOiB7CiAgICAgICAgICAgICAgICB0aG91c2FuZDogJ2JpbicsCiAgICAgICAgICAgICAgICBtaWxsaW9uOiAnbWlseW9uJywKICAgICAgICAgICAgICAgIGJpbGxpb246ICdtaWx5YXInLAogICAgICAgICAgICAgICAgdHJpbGxpb246ICd0cmlseW9uJwogICAgICAgICAgICB9LAogICAgICAgICAgICBvcmRpbmFsOiBmdW5jdGlvbiAobnVtYmVyKSB7CiAgICAgICAgICAgICAgICBpZiAobnVtYmVyID09PSAwKSB7ICAvLyBzcGVjaWFsIGNhc2UgZm9yIHplcm8KICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1wnxLFuY8SxJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2YXIgYSA9IG51bWJlciAlIDEwLAogICAgICAgICAgICAgICAgICAgIGIgPSBudW1iZXIgJSAxMDAgLSBhLAogICAgICAgICAgICAgICAgICAgIGMgPSBudW1iZXIgPj0gMTAwID8gMTAwIDogbnVsbDsKCiAgICAgICAgICAgICAgcmV0dXJuIHN1ZmZpeGVzW2FdIHx8IHN1ZmZpeGVzW2JdIHx8IHN1ZmZpeGVzW2NdOwogICAgICAgICAgICB9LAogICAgICAgICAgICBjdXJyZW5jeTogewogICAgICAgICAgICAgICAgc3ltYm9sOiAnXHUyMEJBJwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ3RyJywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwoKLy8gbnVtZXJhbC5qcyBsYW5ndWFnZSBjb25maWd1cmF0aW9uCi8vIGxhbmd1YWdlIDogVWtyYWluaWFuIGZvciB0aGUgVWtyYWluZSAodWstVUEpCi8vIGF1dGhvciA6IE1pY2hhZWwgUGllZmVsIDogaHR0cHM6Ly9naXRodWIuY29tL3BpZWZlbCAod2l0aCBoZWxwIGZyb20gVGV0eWFuYSBLdXptZW5rbykKKGZ1bmN0aW9uICgpIHsKICAgIHZhciBsYW5ndWFnZSA9IHsKICAgICAgICBkZWxpbWl0ZXJzOiB7CiAgICAgICAgICAgIHRob3VzYW5kczogJyAnLAogICAgICAgICAgICBkZWNpbWFsOiAnLCcKICAgICAgICB9LAogICAgICAgIGFiYnJldmlhdGlvbnM6IHsKICAgICAgICAgICAgdGhvdXNhbmQ6ICfRgtC40YEuJywKICAgICAgICAgICAgbWlsbGlvbjogJ9C80LvQvScsCiAgICAgICAgICAgIGJpbGxpb246ICfQvNC70YDQtCcsCiAgICAgICAgICAgIHRyaWxsaW9uOiAn0LHQu9C9JwogICAgICAgIH0sCiAgICAgICAgb3JkaW5hbDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyBub3QgaWRlYWwsIGJ1dCBzaW5jZSBpbiBVa3JhaW5pYW4gaXQgY2FuIHRha2VuIG9uIAogICAgICAgICAgICAvLyBkaWZmZXJlbnQgZm9ybXMgKG1hc2N1bGluZSwgZmVtaW5pbmUsIG5ldXRlcikKICAgICAgICAgICAgLy8gdGhpcyBpcyBhbGwgd2UgY2FuIGRvCiAgICAgICAgICAgIHJldHVybiAnJzsgCiAgICAgICAgfSwKICAgICAgICBjdXJyZW5jeTogewogICAgICAgICAgICBzeW1ib2w6ICdcdTIwQjQnCiAgICAgICAgfQogICAgfTsKCiAgICAvLyBOb2RlCiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGxhbmd1YWdlOwogICAgfQogICAgLy8gQnJvd3NlcgogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHRoaXMubnVtZXJhbCAmJiB0aGlzLm51bWVyYWwubGFuZ3VhZ2UpIHsKICAgICAgICB0aGlzLm51bWVyYWwubGFuZ3VhZ2UoJ3VrLVVBJywgbGFuZ3VhZ2UpOwogICAgfQp9KCkpOwo="></script>
<script src="data:application/x-javascript;base64,LyoKY2hyb21hLmpzIC0gSmF2YVNjcmlwdCBsaWJyYXJ5IGZvciBjb2xvciBjb252ZXJzaW9ucwoKQ29weXJpZ2h0IChjKSAyMDExLTIwMTUsIEdyZWdvciBBaXNjaApBbGwgcmlnaHRzIHJlc2VydmVkLgoKUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0Cm1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OgoKMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzCiAgIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLgoKMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLAogICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uCiAgIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLgoKMy4gVGhlIG5hbWUgR3JlZ29yIEFpc2NoIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yIHByb21vdGUgcHJvZHVjdHMKICAgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uCgpUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTICJBUyBJUyIKQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRQpJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUKRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgR1JFR09SIEFJU0NIIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsCklORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLApCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLApEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZCk9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HCk5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwKRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS4KCiovCihmdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHosQSxCLEMsRCxFLEYsRyxILEksSixLLEwsTSxOLE8sUCxRLFIsUyxULFUsVixXLFgsWSxaLCQsXyxhYSxiYSxjYSxkYSxlYSxmYSxnYSxoYSxpYSxqYSxrYSxsYSxtYSxuYSxvYSxwYSxxYSxyYSxzYSx0YSx1YSx2YSx3YSx4YSx5YSx6YT1bXS5zbGljZTt1YT1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGU7Zm9yKGE9e30sZT0iQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIFVuZGVmaW5lZCBOdWxsIi5zcGxpdCgiICIpLGQ9MCxiPWUubGVuZ3RoO2I+ZDtkKyspYz1lW2RdLGFbIltvYmplY3QgIitjKyJdIl09Yy50b0xvd2VyQ2FzZSgpO3JldHVybiBmdW5jdGlvbihiKXt2YXIgYztyZXR1cm4gYz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYiksYVtjXXx8Im9iamVjdCJ9fSgpLFM9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT1iJiYoYj0wKSxudWxsPT1jJiYoYz0xKSxiPmEmJihhPWIpLGE+YyYmKGE9YyksYX0sdmE9ZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoPj0zP1tdLnNsaWNlLmNhbGwoYSk6YVswXX0sdD1mdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKTM+Yj8oYVtiXTwwJiYoYVtiXT0wKSxhW2JdPjI1NSYmKGFbYl09MjU1KSk6Mz09PWImJihhW2JdPDAmJihhW2JdPTApLGFbYl0+MSYmKGFbYl09MSkpO3JldHVybiBhfSxkPU1hdGguUEkscGE9TWF0aC5yb3VuZCx3PU1hdGguY29zLEI9TWF0aC5mbG9vcixfPU1hdGgucG93LFQ9TWF0aC5sb2cscmE9TWF0aC5zaW4sc2E9TWF0aC5zcXJ0LG09TWF0aC5hdGFuMixXPU1hdGgubWF4LGw9TWF0aC5hYnMsZz0yKmQsZT1kLzMsYj1kLzE4MCxmPTE4MC9kLHM9ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdaW5zdGFuY2VvZiBhP2FyZ3VtZW50c1swXTpmdW5jdGlvbihhLGIsYyl7Yy5wcm90b3R5cGU9YS5wcm90b3R5cGU7dmFyIGQ9bmV3IGMsZT1hLmFwcGx5KGQsYik7cmV0dXJuIE9iamVjdChlKT09PWU/ZTpkfShhLGFyZ3VtZW50cyxmdW5jdGlvbigpe30pfSxrPVtdLCJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlJiZudWxsIT09bW9kdWxlJiZudWxsIT1tb2R1bGUuZXhwb3J0cyYmKG1vZHVsZS5leHBvcnRzPXMpLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHN9KToob2E9InVuZGVmaW5lZCIhPXR5cGVvZiBleHBvcnRzJiZudWxsIT09ZXhwb3J0cz9leHBvcnRzOnRoaXMsb2EuY2hyb21hPXMpLHMudmVyc2lvbj0iMS4xLjEiLGo9e30saD1bXSxpPSExLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGEsYixjLGQsZSxmLGcsayxsO2ZvcihmPXRoaXMsYj1bXSxrPTAsZD1hcmd1bWVudHMubGVuZ3RoO2Q+aztrKyspYT1hcmd1bWVudHNba10sbnVsbCE9YSYmYi5wdXNoKGEpO2lmKGc9YltiLmxlbmd0aC0xXSxudWxsIT1qW2ddKWYuX3JnYj10KGpbZ10odmEoYi5zbGljZSgwLC0xKSkpKTtlbHNle2ZvcihpfHwoaD1oLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5wLWEucH0pLGk9ITApLGw9MCxlPWgubGVuZ3RoO2U+bCYmKGM9aFtsXSwhKGc9Yy50ZXN0LmFwcGx5KGMsYikpKTtsKyspO2cmJihmLl9yZ2I9dChqW2ddLmFwcGx5KGosYikpKX1udWxsPT1mLl9yZ2ImJmNvbnNvbGUud2FybigidW5rbm93biBmb3JtYXQ6ICIrYiksbnVsbD09Zi5fcmdiJiYoZi5fcmdiPVswLDAsMF0pLDM9PT1mLl9yZ2IubGVuZ3RoJiZmLl9yZ2IucHVzaCgxKX1yZXR1cm4gYS5wcm90b3R5cGUuYWxwaGE9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3JnYlszXT1hLHRoaXMpOnRoaXMuX3JnYlszXX0sYS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lKCl9LGF9KCkscy5faW5wdXQ9aixzLmJyZXdlcj1xPXtPclJkOlsiI2ZmZjdlYyIsIiNmZWU4YzgiLCIjZmRkNDllIiwiI2ZkYmI4NCIsIiNmYzhkNTkiLCIjZWY2NTQ4IiwiI2Q3MzAxZiIsIiNiMzAwMDAiLCIjN2YwMDAwIl0sUHVCdTpbIiNmZmY3ZmIiLCIjZWNlN2YyIiwiI2QwZDFlNiIsIiNhNmJkZGIiLCIjNzRhOWNmIiwiIzM2OTBjMCIsIiMwNTcwYjAiLCIjMDQ1YThkIiwiIzAyMzg1OCJdLEJ1UHU6WyIjZjdmY2ZkIiwiI2UwZWNmNCIsIiNiZmQzZTYiLCIjOWViY2RhIiwiIzhjOTZjNiIsIiM4YzZiYjEiLCIjODg0MTlkIiwiIzgxMGY3YyIsIiM0ZDAwNGIiXSxPcmFuZ2VzOlsiI2ZmZjVlYiIsIiNmZWU2Y2UiLCIjZmRkMGEyIiwiI2ZkYWU2YiIsIiNmZDhkM2MiLCIjZjE2OTEzIiwiI2Q5NDgwMSIsIiNhNjM2MDMiLCIjN2YyNzA0Il0sQnVHbjpbIiNmN2ZjZmQiLCIjZTVmNWY5IiwiI2NjZWNlNiIsIiM5OWQ4YzkiLCIjNjZjMmE0IiwiIzQxYWU3NiIsIiMyMzhiNDUiLCIjMDA2ZDJjIiwiIzAwNDQxYiJdLFlsT3JCcjpbIiNmZmZmZTUiLCIjZmZmN2JjIiwiI2ZlZTM5MSIsIiNmZWM0NGYiLCIjZmU5OTI5IiwiI2VjNzAxNCIsIiNjYzRjMDIiLCIjOTkzNDA0IiwiIzY2MjUwNiJdLFlsR246WyIjZmZmZmU1IiwiI2Y3ZmNiOSIsIiNkOWYwYTMiLCIjYWRkZDhlIiwiIzc4YzY3OSIsIiM0MWFiNWQiLCIjMjM4NDQzIiwiIzAwNjgzNyIsIiMwMDQ1MjkiXSxSZWRzOlsiI2ZmZjVmMCIsIiNmZWUwZDIiLCIjZmNiYmExIiwiI2ZjOTI3MiIsIiNmYjZhNGEiLCIjZWYzYjJjIiwiI2NiMTgxZCIsIiNhNTBmMTUiLCIjNjcwMDBkIl0sUmRQdTpbIiNmZmY3ZjMiLCIjZmRlMGRkIiwiI2ZjYzVjMCIsIiNmYTlmYjUiLCIjZjc2OGExIiwiI2RkMzQ5NyIsIiNhZTAxN2UiLCIjN2EwMTc3IiwiIzQ5MDA2YSJdLEdyZWVuczpbIiNmN2ZjZjUiLCIjZTVmNWUwIiwiI2M3ZTljMCIsIiNhMWQ5OWIiLCIjNzRjNDc2IiwiIzQxYWI1ZCIsIiMyMzhiNDUiLCIjMDA2ZDJjIiwiIzAwNDQxYiJdLFlsR25CdTpbIiNmZmZmZDkiLCIjZWRmOGIxIiwiI2M3ZTliNCIsIiM3ZmNkYmIiLCIjNDFiNmM0IiwiIzFkOTFjMCIsIiMyMjVlYTgiLCIjMjUzNDk0IiwiIzA4MWQ1OCJdLFB1cnBsZXM6WyIjZmNmYmZkIiwiI2VmZWRmNSIsIiNkYWRhZWIiLCIjYmNiZGRjIiwiIzllOWFjOCIsIiM4MDdkYmEiLCIjNmE1MWEzIiwiIzU0Mjc4ZiIsIiMzZjAwN2QiXSxHbkJ1OlsiI2Y3ZmNmMCIsIiNlMGYzZGIiLCIjY2NlYmM1IiwiI2E4ZGRiNSIsIiM3YmNjYzQiLCIjNGViM2QzIiwiIzJiOGNiZSIsIiMwODY4YWMiLCIjMDg0MDgxIl0sR3JleXM6WyIjZmZmZmZmIiwiI2YwZjBmMCIsIiNkOWQ5ZDkiLCIjYmRiZGJkIiwiIzk2OTY5NiIsIiM3MzczNzMiLCIjNTI1MjUyIiwiIzI1MjUyNSIsIiMwMDAwMDAiXSxZbE9yUmQ6WyIjZmZmZmNjIiwiI2ZmZWRhMCIsIiNmZWQ5NzYiLCIjZmViMjRjIiwiI2ZkOGQzYyIsIiNmYzRlMmEiLCIjZTMxYTFjIiwiI2JkMDAyNiIsIiM4MDAwMjYiXSxQdVJkOlsiI2Y3ZjRmOSIsIiNlN2UxZWYiLCIjZDRiOWRhIiwiI2M5OTRjNyIsIiNkZjY1YjAiLCIjZTcyOThhIiwiI2NlMTI1NiIsIiM5ODAwNDMiLCIjNjcwMDFmIl0sQmx1ZXM6WyIjZjdmYmZmIiwiI2RlZWJmNyIsIiNjNmRiZWYiLCIjOWVjYWUxIiwiIzZiYWVkNiIsIiM0MjkyYzYiLCIjMjE3MWI1IiwiIzA4NTE5YyIsIiMwODMwNmIiXSxQdUJ1R246WyIjZmZmN2ZiIiwiI2VjZTJmMCIsIiNkMGQxZTYiLCIjYTZiZGRiIiwiIzY3YTljZiIsIiMzNjkwYzAiLCIjMDI4MThhIiwiIzAxNmM1OSIsIiMwMTQ2MzYiXSxTcGVjdHJhbDpbIiM5ZTAxNDIiLCIjZDUzZTRmIiwiI2Y0NmQ0MyIsIiNmZGFlNjEiLCIjZmVlMDhiIiwiI2ZmZmZiZiIsIiNlNmY1OTgiLCIjYWJkZGE0IiwiIzY2YzJhNSIsIiMzMjg4YmQiLCIjNWU0ZmEyIl0sUmRZbEduOlsiI2E1MDAyNiIsIiNkNzMwMjciLCIjZjQ2ZDQzIiwiI2ZkYWU2MSIsIiNmZWUwOGIiLCIjZmZmZmJmIiwiI2Q5ZWY4YiIsIiNhNmQ5NmEiLCIjNjZiZDYzIiwiIzFhOTg1MCIsIiMwMDY4MzciXSxSZEJ1OlsiIzY3MDAxZiIsIiNiMjE4MmIiLCIjZDY2MDRkIiwiI2Y0YTU4MiIsIiNmZGRiYzciLCIjZjdmN2Y3IiwiI2QxZTVmMCIsIiM5MmM1ZGUiLCIjNDM5M2MzIiwiIzIxNjZhYyIsIiMwNTMwNjEiXSxQaVlHOlsiIzhlMDE1MiIsIiNjNTFiN2QiLCIjZGU3N2FlIiwiI2YxYjZkYSIsIiNmZGUwZWYiLCIjZjdmN2Y3IiwiI2U2ZjVkMCIsIiNiOGUxODYiLCIjN2ZiYzQxIiwiIzRkOTIyMSIsIiMyNzY0MTkiXSxQUkduOlsiIzQwMDA0YiIsIiM3NjJhODMiLCIjOTk3MGFiIiwiI2MyYTVjZiIsIiNlN2Q0ZTgiLCIjZjdmN2Y3IiwiI2Q5ZjBkMyIsIiNhNmRiYTAiLCIjNWFhZTYxIiwiIzFiNzgzNyIsIiMwMDQ0MWIiXSxSZFlsQnU6WyIjYTUwMDI2IiwiI2Q3MzAyNyIsIiNmNDZkNDMiLCIjZmRhZTYxIiwiI2ZlZTA5MCIsIiNmZmZmYmYiLCIjZTBmM2Y4IiwiI2FiZDllOSIsIiM3NGFkZDEiLCIjNDU3NWI0IiwiIzMxMzY5NSJdLEJyQkc6WyIjNTQzMDA1IiwiIzhjNTEwYSIsIiNiZjgxMmQiLCIjZGZjMjdkIiwiI2Y2ZThjMyIsIiNmNWY1ZjUiLCIjYzdlYWU1IiwiIzgwY2RjMSIsIiMzNTk3OGYiLCIjMDE2NjVlIiwiIzAwM2MzMCJdLFJkR3k6WyIjNjcwMDFmIiwiI2IyMTgyYiIsIiNkNjYwNGQiLCIjZjRhNTgyIiwiI2ZkZGJjNyIsIiNmZmZmZmYiLCIjZTBlMGUwIiwiI2JhYmFiYSIsIiM4Nzg3ODciLCIjNGQ0ZDRkIiwiIzFhMWExYSJdLFB1T3I6WyIjN2YzYjA4IiwiI2IzNTgwNiIsIiNlMDgyMTQiLCIjZmRiODYzIiwiI2ZlZTBiNiIsIiNmN2Y3ZjciLCIjZDhkYWViIiwiI2IyYWJkMiIsIiM4MDczYWMiLCIjNTQyNzg4IiwiIzJkMDA0YiJdLFNldDI6WyIjNjZjMmE1IiwiI2ZjOGQ2MiIsIiM4ZGEwY2IiLCIjZTc4YWMzIiwiI2E2ZDg1NCIsIiNmZmQ5MmYiLCIjZTVjNDk0IiwiI2IzYjNiMyJdLEFjY2VudDpbIiM3ZmM5N2YiLCIjYmVhZWQ0IiwiI2ZkYzA4NiIsIiNmZmZmOTkiLCIjMzg2Y2IwIiwiI2YwMDI3ZiIsIiNiZjViMTciLCIjNjY2NjY2Il0sU2V0MTpbIiNlNDFhMWMiLCIjMzc3ZWI4IiwiIzRkYWY0YSIsIiM5ODRlYTMiLCIjZmY3ZjAwIiwiI2ZmZmYzMyIsIiNhNjU2MjgiLCIjZjc4MWJmIiwiIzk5OTk5OSJdLFNldDM6WyIjOGRkM2M3IiwiI2ZmZmZiMyIsIiNiZWJhZGEiLCIjZmI4MDcyIiwiIzgwYjFkMyIsIiNmZGI0NjIiLCIjYjNkZTY5IiwiI2ZjY2RlNSIsIiNkOWQ5ZDkiLCIjYmM4MGJkIiwiI2NjZWJjNSIsIiNmZmVkNmYiXSxEYXJrMjpbIiMxYjllNzciLCIjZDk1ZjAyIiwiIzc1NzBiMyIsIiNlNzI5OGEiLCIjNjZhNjFlIiwiI2U2YWIwMiIsIiNhNjc2MWQiLCIjNjY2NjY2Il0sUGFpcmVkOlsiI2E2Y2VlMyIsIiMxZjc4YjQiLCIjYjJkZjhhIiwiIzMzYTAyYyIsIiNmYjlhOTkiLCIjZTMxYTFjIiwiI2ZkYmY2ZiIsIiNmZjdmMDAiLCIjY2FiMmQ2IiwiIzZhM2Q5YSIsIiNmZmZmOTkiLCIjYjE1OTI4Il0sUGFzdGVsMjpbIiNiM2UyY2QiLCIjZmRjZGFjIiwiI2NiZDVlOCIsIiNmNGNhZTQiLCIjZTZmNWM5IiwiI2ZmZjJhZSIsIiNmMWUyY2MiLCIjY2NjY2NjIl0sUGFzdGVsMTpbIiNmYmI0YWUiLCIjYjNjZGUzIiwiI2NjZWJjNSIsIiNkZWNiZTQiLCIjZmVkOWE2IiwiI2ZmZmZjYyIsIiNlNWQ4YmQiLCIjZmRkYWVjIiwiI2YyZjJmMiJdfSx3YT17aW5kaWdvOiIjNGIwMDgyIixnb2xkOiIjZmZkNzAwIixob3RwaW5rOiIjZmY2OWI0IixmaXJlYnJpY2s6IiNiMjIyMjIiLGluZGlhbnJlZDoiI2NkNWM1YyIseWVsbG93OiIjZmZmZjAwIixtaXN0eXJvc2U6IiNmZmU0ZTEiLGRhcmtvbGl2ZWdyZWVuOiIjNTU2YjJmIixvbGl2ZToiIzgwODAwMCIsZGFya3NlYWdyZWVuOiIjOGZiYzhmIixwaW5rOiIjZmZjMGNiIix0b21hdG86IiNmZjYzNDciLGxpZ2h0Y29yYWw6IiNmMDgwODAiLG9yYW5nZXJlZDoiI2ZmNDUwMCIsbmF2YWpvd2hpdGU6IiNmZmRlYWQiLGxpbWU6IiMwMGZmMDAiLHBhbGVncmVlbjoiIzk4ZmI5OCIsZGFya3NsYXRlZ3JleToiIzJmNGY0ZiIsZ3JlZW55ZWxsb3c6IiNhZGZmMmYiLGJ1cmx5d29vZDoiI2RlYjg4NyIsc2Vhc2hlbGw6IiNmZmY1ZWUiLG1lZGl1bXNwcmluZ2dyZWVuOiIjMDBmYTlhIixmdWNoc2lhOiIjZmYwMGZmIixwYXBheWF3aGlwOiIjZmZlZmQ1IixibGFuY2hlZGFsbW9uZDoiI2ZmZWJjZCIsY2hhcnRyZXVzZToiIzdmZmYwMCIsZGltZ3JheToiIzY5Njk2OSIsYmxhY2s6IiMwMDAwMDAiLHBlYWNocHVmZjoiI2ZmZGFiOSIsc3ByaW5nZ3JlZW46IiMwMGZmN2YiLGFxdWFtYXJpbmU6IiM3ZmZmZDQiLHdoaXRlOiIjZmZmZmZmIixvcmFuZ2U6IiNmZmE1MDAiLGxpZ2h0c2FsbW9uOiIjZmZhMDdhIixkYXJrc2xhdGVncmF5OiIjMmY0ZjRmIixicm93bjoiI2E1MmEyYSIsaXZvcnk6IiNmZmZmZjAiLGRvZGdlcmJsdWU6IiMxZTkwZmYiLHBlcnU6IiNjZDg1M2YiLGxhd25ncmVlbjoiIzdjZmMwMCIsY2hvY29sYXRlOiIjZDI2OTFlIixjcmltc29uOiIjZGMxNDNjIixmb3Jlc3RncmVlbjoiIzIyOGIyMiIsZGFya2dyZXk6IiNhOWE5YTkiLGxpZ2h0c2VhZ3JlZW46IiMyMGIyYWEiLGN5YW46IiMwMGZmZmYiLG1pbnRjcmVhbToiI2Y1ZmZmYSIsc2lsdmVyOiIjYzBjMGMwIixhbnRpcXVld2hpdGU6IiNmYWViZDciLG1lZGl1bW9yY2hpZDoiI2JhNTVkMyIsc2t5Ymx1ZToiIzg3Y2VlYiIsZ3JheToiIzgwODA4MCIsZGFya3R1cnF1b2lzZToiIzAwY2VkMSIsZ29sZGVucm9kOiIjZGFhNTIwIixkYXJrZ3JlZW46IiMwMDY0MDAiLGZsb3JhbHdoaXRlOiIjZmZmYWYwIixkYXJrdmlvbGV0OiIjOTQwMGQzIixkYXJrZ3JheToiI2E5YTlhOSIsbW9jY2FzaW46IiNmZmU0YjUiLHNhZGRsZWJyb3duOiIjOGI0NTEzIixncmV5OiIjODA4MDgwIixkYXJrc2xhdGVibHVlOiIjNDgzZDhiIixsaWdodHNreWJsdWU6IiM4N2NlZmEiLGxpZ2h0cGluazoiI2ZmYjZjMSIsbWVkaXVtdmlvbGV0cmVkOiIjYzcxNTg1IixzbGF0ZWdyZXk6IiM3MDgwOTAiLHJlZDoiI2ZmMDAwMCIsZGVlcHBpbms6IiNmZjE0OTMiLGxpbWVncmVlbjoiIzMyY2QzMiIsZGFya21hZ2VudGE6IiM4YjAwOGIiLHBhbGVnb2xkZW5yb2Q6IiNlZWU4YWEiLHBsdW06IiNkZGEwZGQiLHR1cnF1b2lzZToiIzQwZTBkMCIsbGlnaHRncmV5OiIjZDNkM2QzIixsaWdodGdvbGRlbnJvZHllbGxvdzoiI2ZhZmFkMiIsZGFya2dvbGRlbnJvZDoiI2I4ODYwYiIsbGF2ZW5kZXI6IiNlNmU2ZmEiLG1hcm9vbjoiIzgwMDAwMCIseWVsbG93Z3JlZW46IiM5YWNkMzIiLHNhbmR5YnJvd246IiNmNGE0NjAiLHRoaXN0bGU6IiNkOGJmZDgiLHZpb2xldDoiI2VlODJlZSIsbmF2eToiIzAwMDA4MCIsbWFnZW50YToiI2ZmMDBmZiIsZGltZ3JleToiIzY5Njk2OSIsdGFuOiIjZDJiNDhjIixyb3N5YnJvd246IiNiYzhmOGYiLG9saXZlZHJhYjoiIzZiOGUyMyIsYmx1ZToiIzAwMDBmZiIsbGlnaHRibHVlOiIjYWRkOGU2IixnaG9zdHdoaXRlOiIjZjhmOGZmIixob25leWRldzoiI2YwZmZmMCIsY29ybmZsb3dlcmJsdWU6IiM2NDk1ZWQiLHNsYXRlYmx1ZToiIzZhNWFjZCIsbGluZW46IiNmYWYwZTYiLGRhcmtibHVlOiIjMDAwMDhiIixwb3dkZXJibHVlOiIjYjBlMGU2IixzZWFncmVlbjoiIzJlOGI1NyIsZGFya2toYWtpOiIjYmRiNzZiIixzbm93OiIjZmZmYWZhIixzaWVubmE6IiNhMDUyMmQiLG1lZGl1bWJsdWU6IiMwMDAwY2QiLHJveWFsYmx1ZToiIzQxNjllMSIsbGlnaHRjeWFuOiIjZTBmZmZmIixncmVlbjoiIzAwODAwMCIsbWVkaXVtcHVycGxlOiIjOTM3MGRiIixtaWRuaWdodGJsdWU6IiMxOTE5NzAiLGNvcm5zaWxrOiIjZmZmOGRjIixwYWxldHVycXVvaXNlOiIjYWZlZWVlIixiaXNxdWU6IiNmZmU0YzQiLHNsYXRlZ3JheToiIzcwODA5MCIsZGFya2N5YW46IiMwMDhiOGIiLGtoYWtpOiIjZjBlNjhjIix3aGVhdDoiI2Y1ZGViMyIsdGVhbDoiIzAwODA4MCIsZGFya29yY2hpZDoiIzk5MzJjYyIsZGVlcHNreWJsdWU6IiMwMGJmZmYiLHNhbG1vbjoiI2ZhODA3MiIsZGFya3JlZDoiIzhiMDAwMCIsc3RlZWxibHVlOiIjNDY4MmI0IixwYWxldmlvbGV0cmVkOiIjZGI3MDkzIixsaWdodHNsYXRlZ3JheToiIzc3ODg5OSIsYWxpY2VibHVlOiIjZjBmOGZmIixsaWdodHNsYXRlZ3JleToiIzc3ODg5OSIsbGlnaHRncmVlbjoiIzkwZWU5MCIsb3JjaGlkOiIjZGE3MGQ2IixnYWluc2Jvcm86IiNkY2RjZGMiLG1lZGl1bXNlYWdyZWVuOiIjM2NiMzcxIixsaWdodGdyYXk6IiNkM2QzZDMiLG1lZGl1bXR1cnF1b2lzZToiIzQ4ZDFjYyIsbGVtb25jaGlmZm9uOiIjZmZmYWNkIixjYWRldGJsdWU6IiM1ZjllYTAiLGxpZ2h0eWVsbG93OiIjZmZmZmUwIixsYXZlbmRlcmJsdXNoOiIjZmZmMGY1Iixjb3JhbDoiI2ZmN2Y1MCIscHVycGxlOiIjODAwMDgwIixhcXVhOiIjMDBmZmZmIix3aGl0ZXNtb2tlOiIjZjVmNWY1IixtZWRpdW1zbGF0ZWJsdWU6IiM3YjY4ZWUiLGRhcmtvcmFuZ2U6IiNmZjhjMDAiLG1lZGl1bWFxdWFtYXJpbmU6IiM2NmNkYWEiLGRhcmtzYWxtb246IiNlOTk2N2EiLGJlaWdlOiIjZjVmNWRjIixibHVldmlvbGV0OiIjOGEyYmUyIixhenVyZToiI2YwZmZmZiIsbGlnaHRzdGVlbGJsdWU6IiNiMGM0ZGUiLG9sZGxhY2U6IiNmZGY1ZTYiLHJlYmVjY2FwdXJwbGU6IiM2NjMzOTkifSxzLmNvbG9ycz12PXdhLE49ZnVuY3Rpb24oKXt2YXIgYSxiLGQsZSxmLGcsaCxpLGo7cmV0dXJuIGI9dmEoYXJndW1lbnRzKSxmPWJbMF0sYT1iWzFdLGQ9YlsyXSxpPShmKzE2KS8xMTYsaD1pc05hTihhKT9pOmkrYS81MDAsaj1pc05hTihkKT9pOmktZC8yMDAsaT1jLlluKk8oaSksaD1jLlhuKk8oaCksaj1jLlpuKk8oaiksZz15YSgzLjI0MDQ1NDIqaC0xLjUzNzEzODUqaS0uNDk4NTMxNCpqKSxlPXlhKC0uOTY5MjY2KmgrMS44NzYwMTA4KmkrLjA0MTU1NipqKSxkPXlhKC4wNTU2NDM0KmgtLjIwNDAyNTkqaSsxLjA1NzIyNTIqaiksZz1TKGcsMCwyNTUpLGU9UyhlLDAsMjU1KSxkPVMoZCwwLDI1NSksW2csZSxkLGIubGVuZ3RoPjM/YlszXToxXX0seWE9ZnVuY3Rpb24oYSl7cmV0dXJuIHBhKDI1NSooLjAwMzA0Pj1hPzEyLjkyKmE6MS4wNTUqXyhhLDEvMi40KS0uMDU1KSl9LE89ZnVuY3Rpb24oYSl7cmV0dXJuIGE+Yy50MT9hKmEqYTpjLnQyKihhLWMudDApfSxjPXtLbjoxOCxYbjouOTUwNDcsWW46MSxabjoxLjA4ODgzLHQwOi4xMzc5MzEwMzQsdDE6LjIwNjg5NjU1Mix0MjouMTI4NDE4NTUsdDM6LjAwODg1NjQ1Mn0sZ2E9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZyxoO3JldHVybiBkPXZhKGFyZ3VtZW50cyksYz1kWzBdLGI9ZFsxXSxhPWRbMl0sZT1sYShjLGIsYSksZj1lWzBdLGc9ZVsxXSxoPWVbMl0sWzExNipnLTE2LDUwMCooZi1nKSwyMDAqKGctaCldfSxtYT1mdW5jdGlvbihhKXtyZXR1cm4oYS89MjU1KTw9LjA0MDQ1P2EvMTIuOTI6XygoYSsuMDU1KS8xLjA1NSwyLjQpfSx4YT1mdW5jdGlvbihhKXtyZXR1cm4gYT5jLnQzP18oYSwxLzMpOmEvYy50MitjLnQwfSxsYT1mdW5jdGlvbigpe3ZhciBhLGIsZCxlLGYsZyxoO3JldHVybiBlPXZhKGFyZ3VtZW50cyksZD1lWzBdLGI9ZVsxXSxhPWVbMl0sZD1tYShkKSxiPW1hKGIpLGE9bWEoYSksZj14YSgoLjQxMjQ1NjQqZCsuMzU3NTc2MSpiKy4xODA0Mzc1KmEpL2MuWG4pLGc9eGEoKC4yMTI2NzI5KmQrLjcxNTE1MjIqYisuMDcyMTc1KmEpL2MuWW4pLGg9eGEoKC4wMTkzMzM5KmQrLjExOTE5MipiKy45NTAzMDQxKmEpL2MuWm4pLFtmLGcsaF19LHMubGFiPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXtjLnByb3RvdHlwZT1hLnByb3RvdHlwZTt2YXIgZD1uZXcgYyxlPWEuYXBwbHkoZCxiKTtyZXR1cm4gT2JqZWN0KGUpPT09ZT9lOmR9KGEsemEuY2FsbChhcmd1bWVudHMpLmNvbmNhdChbImxhYiJdKSxmdW5jdGlvbigpe30pfSxqLmxhYj1OLGEucHJvdG90eXBlLmxhYj1mdW5jdGlvbigpe3JldHVybiBnYSh0aGlzLl9yZ2IpfSxuPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGw7cmV0dXJuIGE9ZnVuY3Rpb24oKXt2YXIgYixjLGQ7Zm9yKGQ9W10sYz0wLGI9YS5sZW5ndGg7Yj5jO2MrKyllPWFbY10sZC5wdXNoKHMoZSkpO3JldHVybiBkfSgpLDI9PT1hLmxlbmd0aD8oaj1mdW5jdGlvbigpe3ZhciBiLGMsZDtmb3IoZD1bXSxjPTAsYj1hLmxlbmd0aDtiPmM7YysrKWU9YVtjXSxkLnB1c2goZS5sYWIoKSk7cmV0dXJuIGR9KCksZj1qWzBdLGc9alsxXSxiPWZ1bmN0aW9uKGEpe3ZhciBiLGM7cmV0dXJuIGM9ZnVuY3Rpb24oKXt2YXIgYyxkO2ZvcihkPVtdLGI9Yz0wOzI+PWM7Yj0rK2MpZC5wdXNoKGZbYl0rYSooZ1tiXS1mW2JdKSk7cmV0dXJuIGR9KCkscy5sYWIuYXBwbHkocyxjKX0pOjM9PT1hLmxlbmd0aD8oaz1mdW5jdGlvbigpe3ZhciBiLGMsZDtmb3IoZD1bXSxjPTAsYj1hLmxlbmd0aDtiPmM7YysrKWU9YVtjXSxkLnB1c2goZS5sYWIoKSk7cmV0dXJuIGR9KCksZj1rWzBdLGc9a1sxXSxoPWtbMl0sYj1mdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBjPWZ1bmN0aW9uKCl7dmFyIGMsZDtmb3IoZD1bXSxiPWM9MDsyPj1jO2I9KytjKWQucHVzaCgoMS1hKSooMS1hKSpmW2JdKzIqKDEtYSkqYSpnW2JdK2EqYSpoW2JdKTtyZXR1cm4gZH0oKSxzLmxhYi5hcHBseShzLGMpfSk6ND09PWEubGVuZ3RoPyhsPWZ1bmN0aW9uKCl7dmFyIGIsYyxkO2ZvcihkPVtdLGM9MCxiPWEubGVuZ3RoO2I+YztjKyspZT1hW2NdLGQucHVzaChlLmxhYigpKTtyZXR1cm4gZH0oKSxmPWxbMF0sZz1sWzFdLGg9bFsyXSxpPWxbM10sYj1mdW5jdGlvbihhKXt2YXIgYixjO3JldHVybiBjPWZ1bmN0aW9uKCl7dmFyIGMsZDtmb3IoZD1bXSxiPWM9MDsyPj1jO2I9KytjKWQucHVzaCgoMS1hKSooMS1hKSooMS1hKSpmW2JdKzMqKDEtYSkqKDEtYSkqYSpnW2JdKzMqKDEtYSkqYSphKmhbYl0rYSphKmEqaVtiXSk7cmV0dXJuIGR9KCkscy5sYWIuYXBwbHkocyxjKX0pOjU9PT1hLmxlbmd0aCYmKGM9bihhLnNsaWNlKDAsMykpLGQ9bihhLnNsaWNlKDIsNSkpLGI9ZnVuY3Rpb24oYSl7cmV0dXJuLjU+YT9jKDIqYSk6ZCgyKihhLS41KSl9KSxifSxzLmJlemllcj1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gYj1uKGEpLGIuc2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gcy5zY2FsZShiKX0sYn0scy5jdWJlaGVsaXg9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixoLGk7cmV0dXJuIG51bGw9PWEmJihhPTMwMCksbnVsbD09YiYmKGI9LTEuNSksbnVsbD09YyYmKGM9MSksbnVsbD09ZCYmKGQ9MSksbnVsbD09ZSYmKGU9WzAsMV0pLGg9ZVsxXS1lWzBdLGY9MCxpPWZ1bmN0aW9uKGkpe3ZhciBqLGssbCxtLG4sbyxwLHEscjtyZXR1cm4gaj1nKigoYSsxMjApLzM2MCtiKmkpLHA9XyhlWzBdK2gqaSxkKSxvPTAhPT1mP2NbMF0raSpmOmMsaz1vKnAqKDEtcCkvMixtPXcoaikscj1yYShqKSxxPXArayooLS4xNDg2MSptKzEuNzgyNzcqciksbj1wK2sqKC0uMjkyMjcqbS0uOTA2NDkqciksbD1wKzEuOTcyOTQqayptLHModChbMjU1KnEsMjU1Km4sMjU1KmxdKSl9LGkuc3RhcnQ9ZnVuY3Rpb24oYil7cmV0dXJuIG51bGw9PWI/YTooYT1iLGkpfSxpLnJvdGF0aW9ucz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9iOihiPWEsaSl9LGkuZ2FtbWE9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/ZDooZD1hLGkpfSxpLmh1ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9jOihjPWEsImFycmF5Ij09PXVhKGMpPyhmPWNbMV0tY1swXSwwPT09ZiYmKGM9Y1sxXSkpOmY9MCxpKX0saS5saWdodG5lc3M9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/ZTooZT1hLCJhcnJheSI9PT11YShlKT8oaD1lWzFdLWVbMF0sMD09PWgmJihlPWVbMV0pKTpoPTAsaSl9LGkuc2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gcy5zY2FsZShpKX0saS5odWUoYyksaX0scy5yYW5kb209ZnVuY3Rpb24oKXt2YXIgYixjLGQsZTtmb3IoYz0iMDEyMzQ1Njc4OWFiY2RlZiIsYj0iIyIsZD1lPTA7Nj5lO2Q9KytlKWIrPWMuY2hhckF0KEIoMTYqTWF0aC5yYW5kb20oKSkpO3JldHVybiBuZXcgYShiKX0sai5yZ2I9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZDtiPXZhKGFyZ3VtZW50cyksYz1bXTtmb3IoYSBpbiBiKWQ9YlthXSxjLnB1c2goZCk7cmV0dXJuIGN9LHMucmdiPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXtjLnByb3RvdHlwZT1hLnByb3RvdHlwZTt2YXIgZD1uZXcgYyxlPWEuYXBwbHkoZCxiKTtyZXR1cm4gT2JqZWN0KGUpPT09ZT9lOmR9KGEsemEuY2FsbChhcmd1bWVudHMpLmNvbmNhdChbInJnYiJdKSxmdW5jdGlvbigpe30pfSxhLnByb3RvdHlwZS5yZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmdiLnNsaWNlKDAsMyl9LGEucHJvdG90eXBlLnJnYmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmdifSxoLnB1c2goe3A6MTUsdGVzdDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gYj12YShhcmd1bWVudHMpLCJhcnJheSI9PT11YShiKSYmMz09PWIubGVuZ3RoPyJyZ2IiOjQ9PT1iLmxlbmd0aCYmIm51bWJlciI9PT11YShiWzNdKSYmYlszXT49MCYmYlszXTw9MT8icmdiIjp2b2lkIDB9fSksQz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGc7aWYoYS5tYXRjaCgvXiM/KFtBLUZhLWYwLTldezZ9fFtBLUZhLWYwLTldezN9KSQvKSlyZXR1cm4oND09PWEubGVuZ3RofHw3PT09YS5sZW5ndGgpJiYoYT1hLnN1YnN0cigxKSksMz09PWEubGVuZ3RoJiYoYT1hLnNwbGl0KCIiKSxhPWFbMF0rYVswXSthWzFdK2FbMV0rYVsyXSthWzJdKSxnPXBhcnNlSW50KGEsMTYpLGU9Zz4+MTYsZD1nPj44JjI1NSxjPTI1NSZnLFtlLGQsYywxXTtpZihhLm1hdGNoKC9eIz8oW0EtRmEtZjAtOV17OH0pJC8pKXJldHVybiA5PT09YS5sZW5ndGgmJihhPWEuc3Vic3RyKDEpKSxnPXBhcnNlSW50KGEsMTYpLGU9Zz4+MjQmMjU1LGQ9Zz4+MTYmMjU1LGM9Zz4+OCYyNTUsYj1wYSgoMjU1JmcpLzI1NSoxMDApLzEwMCxbZSxkLGMsYl07aWYobnVsbCE9ai5jc3MmJihmPWouY3NzKGEpKSlyZXR1cm4gZjt0aHJvdyJ1bmtub3duIGNvbG9yOiAiK2F9LGNhPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoLGk7cmV0dXJuIG51bGw9PWImJihiPSJyZ2IiKSxnPWFbMF0sZT1hWzFdLGQ9YVsyXSxjPWFbM10saT1nPDwxNnxlPDw4fGQsaD0iMDAwMDAwIitpLnRvU3RyaW5nKDE2KSxoPWguc3Vic3RyKGgubGVuZ3RoLTYpLGY9IjAiK3BhKDI1NSpjKS50b1N0cmluZygxNiksZj1mLnN1YnN0cihmLmxlbmd0aC0yKSwiIyIrZnVuY3Rpb24oKXtzd2l0Y2goYi50b0xvd2VyQ2FzZSgpKXtjYXNlInJnYmEiOnJldHVybiBoK2Y7Y2FzZSJhcmdiIjpyZXR1cm4gZitoO2RlZmF1bHQ6cmV0dXJuIGh9fSgpfSxqLmhleD1mdW5jdGlvbihhKXtyZXR1cm4gQyhhKX0scy5oZXg9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe2MucHJvdG90eXBlPWEucHJvdG90eXBlO3ZhciBkPW5ldyBjLGU9YS5hcHBseShkLGIpO3JldHVybiBPYmplY3QoZSk9PT1lP2U6ZH0oYSx6YS5jYWxsKGFyZ3VtZW50cykuY29uY2F0KFsiaGV4Il0pLGZ1bmN0aW9uKCl7fSl9LGEucHJvdG90eXBlLmhleD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YSYmKGE9InJnYiIpLGNhKHRoaXMuX3JnYixhKX0saC5wdXNoKHtwOjEwLHRlc3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09PXVhKGEpPyJoZXgiOnZvaWQgMH19KSxGPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpLGosayxsLG0sbjtpZihhPXZhKGFyZ3VtZW50cyksZT1hWzBdLGs9YVsxXSxnPWFbMl0sMD09PWspaT1kPWI9MjU1Kmc7ZWxzZXtmb3Iobj1bMCwwLDBdLGM9WzAsMCwwXSxtPS41Pmc/ZyooMStrKTpnK2stZyprLGw9MipnLW0sZS89MzYwLG5bMF09ZSsxLzMsblsxXT1lLG5bMl09ZS0xLzMsZj1oPTA7Mj49aDtmPSsraCluW2ZdPDAmJihuW2ZdKz0xKSxuW2ZdPjEmJihuW2ZdLT0xKSw2Km5bZl08MT9jW2ZdPWwrNioobS1sKSpuW2ZdOjIqbltmXTwxP2NbZl09bTozKm5bZl08Mj9jW2ZdPWwrKG0tbCkqKDIvMy1uW2ZdKSo2OmNbZl09bDtqPVtwYSgyNTUqY1swXSkscGEoMjU1KmNbMV0pLHBhKDI1NSpjWzJdKV0saT1qWzBdLGQ9alsxXSxiPWpbMl19cmV0dXJuIGEubGVuZ3RoPjM/W2ksZCxiLGFbM11dOltpLGQsYl19LGVhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoO3JldHVybiB2b2lkIDAhPT1hJiZhLmxlbmd0aD49MyYmKGc9YSxhPWdbMF0sYj1nWzFdLGM9Z1syXSksYS89MjU1LGIvPTI1NSxjLz0yNTUsZj1NYXRoLm1pbihhLGIsYyksVz1NYXRoLm1heChhLGIsYyksZT0oVytmKS8yLFc9PT1mPyhoPTAsZD1OdW1iZXIuTmFOKTpoPS41PmU/KFctZikvKFcrZik6KFctZikvKDItVy1mKSxhPT09Vz9kPShiLWMpLyhXLWYpOmI9PT1XP2Q9MisoYy1hKS8oVy1mKTpjPT09VyYmKGQ9NCsoYS1iKS8oVy1mKSksZCo9NjAsMD5kJiYoZCs9MzYwKSxbZCxoLGVdfSxzLmhzbD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyl7Yy5wcm90b3R5cGU9YS5wcm90b3R5cGU7dmFyIGQ9bmV3IGMsZT1hLmFwcGx5KGQsYik7cmV0dXJuIE9iamVjdChlKT09PWU/ZTpkfShhLHphLmNhbGwoYXJndW1lbnRzKS5jb25jYXQoWyJoc2wiXSksZnVuY3Rpb24oKXt9KX0sai5oc2w9RixhLnByb3RvdHlwZS5oc2w9ZnVuY3Rpb24oKXtyZXR1cm4gZWEodGhpcy5fcmdiKX0sRz1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscjtpZihhPXZhKGFyZ3VtZW50cyksZT1hWzBdLHA9YVsxXSxyPWFbMl0scio9MjU1LDA9PT1wKWk9ZD1iPXI7ZWxzZSBzd2l0Y2goMzYwPT09ZSYmKGU9MCksZT4zNjAmJihlLT0zNjApLDA+ZSYmKGUrPTM2MCksZS89NjAsZj1CKGUpLGM9ZS1mLGc9ciooMS1wKSxoPXIqKDEtcCpjKSxxPXIqKDEtcCooMS1jKSksZil7Y2FzZSAwOmo9W3IscSxnXSxpPWpbMF0sZD1qWzFdLGI9alsyXTticmVhaztjYXNlIDE6az1baCxyLGddLGk9a1swXSxkPWtbMV0sYj1rWzJdO2JyZWFrO2Nhc2UgMjpsPVtnLHIscV0saT1sWzBdLGQ9bFsxXSxiPWxbMl07YnJlYWs7Y2FzZSAzOm09W2csaCxyXSxpPW1bMF0sZD1tWzFdLGI9bVsyXTticmVhaztjYXNlIDQ6bj1bcSxnLHJdLGk9blswXSxkPW5bMV0sYj1uWzJdO2JyZWFrO2Nhc2UgNTpvPVtyLGcsaF0saT1vWzBdLGQ9b1sxXSxiPW9bMl19cmV0dXJuIGk9cGEoaSksZD1wYShkKSxiPXBhKGIpLFtpLGQsYixhLmxlbmd0aD4zP2FbM106MV19LGZhPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpO3JldHVybiBnPXZhKGFyZ3VtZW50cyksZj1nWzBdLGM9Z1sxXSxhPWdbMl0sZT1NYXRoLm1pbihmLGMsYSksVz1NYXRoLm1heChmLGMsYSksYj1XLWUsaT1XLzI1NSwwPT09Vz8oZD1OdW1iZXIuTmFOLGg9MCk6KGg9Yi9XLGY9PT1XJiYoZD0oYy1hKS9iKSxjPT09VyYmKGQ9MisoYS1mKS9iKSxhPT09VyYmKGQ9NCsoZi1jKS9iKSxkKj02MCwwPmQmJihkKz0zNjApKSxbZCxoLGldfSxzLmhzdj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhLGIsYyl7Yy5wcm90b3R5cGU9YS5wcm90b3R5cGU7dmFyIGQ9bmV3IGMsZT1hLmFwcGx5KGQsYik7cmV0dXJuIE9iamVjdChlKT09PWU/ZTpkfShhLHphLmNhbGwoYXJndW1lbnRzKS5jb25jYXQoWyJoc3YiXSksZnVuY3Rpb24oKXt9KX0sai5oc3Y9RyxhLnByb3RvdHlwZS5oc3Y9ZnVuY3Rpb24oKXtyZXR1cm4gZmEodGhpcy5fcmdiKX0sWj1mdW5jdGlvbihhKXt2YXIgYixjLGQ7cmV0dXJuIm51bWJlciI9PT11YShhKSYmYT49MCYmMTY3NzcyMTU+PWE/KGQ9YT4+MTYsYz1hPj44JjI1NSxiPTI1NSZhLFtkLGMsYiwxXSk6KGNvbnNvbGUud2FybigidW5rbm93biBudW0gY29sb3I6ICIrYSksWzAsMCwwLDFdKX0samE9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZDtyZXR1cm4gZD12YShhcmd1bWVudHMpLGM9ZFswXSxiPWRbMV0sYT1kWzJdLChjPDwxNikrKGI8PDgpK2F9LHMubnVtPWZ1bmN0aW9uKGIpe3JldHVybiBuZXcgYShiLCJudW0iKX0sYS5wcm90b3R5cGUubnVtPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hJiYoYT0icmdiIiksamEodGhpcy5fcmdiLGEpfSxqLm51bT1aLGgucHVzaCh7cDoxMCx0ZXN0OmZ1bmN0aW9uKGEpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aCYmIm51bWJlciI9PT11YShhKSYmYT49MCYmMTY3NzcyMTU+PWE/Im51bSI6dm9pZCAwfX0pLHg9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaTtpZihhPWEudG9Mb3dlckNhc2UoKSxudWxsIT1zLmNvbG9ycyYmcy5jb2xvcnNbYV0pcmV0dXJuIEMocy5jb2xvcnNbYV0pO2lmKGY9YS5tYXRjaCgvcmdiXChccyooXC0/XGQrKSxccyooXC0/XGQrKVxzKixccyooXC0/XGQrKVxzKlwpLykpe2ZvcihoPWYuc2xpY2UoMSw0KSxlPWc9MDsyPj1nO2U9KytnKWhbZV09K2hbZV07aFszXT0xfWVsc2UgaWYoZj1hLm1hdGNoKC9yZ2JhXChccyooXC0/XGQrKSxccyooXC0/XGQrKVxzKixccyooXC0/XGQrKVxzKixccyooWzAxXXxbMDFdP1wuXGQrKVwpLykpZm9yKGg9Zi5zbGljZSgxLDUpLGU9aT0wOzM+PWk7ZT0rK2kpaFtlXT0raFtlXTtlbHNlIGlmKGY9YS5tYXRjaCgvcmdiXChccyooXC0/XGQrKD86XC5cZCspPyklLFxzKihcLT9cZCsoPzpcLlxkKyk/KSVccyosXHMqKFwtP1xkKyg/OlwuXGQrKT8pJVxzKlwpLykpe2ZvcihoPWYuc2xpY2UoMSw0KSxlPWI9MDsyPj1iO2U9KytiKWhbZV09cGEoMi41NSpoW2VdKTtoWzNdPTF9ZWxzZSBpZihmPWEubWF0Y2goL3JnYmFcKFxzKihcLT9cZCsoPzpcLlxkKyk/KSUsXHMqKFwtP1xkKyg/OlwuXGQrKT8pJVxzKixccyooXC0/XGQrKD86XC5cZCspPyklXHMqLFxzKihbMDFdfFswMV0/XC5cZCspXCkvKSl7Zm9yKGg9Zi5zbGljZSgxLDUpLGU9Yz0wOzI+PWM7ZT0rK2MpaFtlXT1wYSgyLjU1KmhbZV0pO2hbM109K2hbM119ZWxzZShmPWEubWF0Y2goL2hzbFwoXHMqKFwtP1xkKyg/OlwuXGQrKT8pLFxzKihcLT9cZCsoPzpcLlxkKyk/KSVccyosXHMqKFwtP1xkKyg/OlwuXGQrKT8pJVxzKlwpLykpPyhkPWYuc2xpY2UoMSw0KSxkWzFdKj0uMDEsZFsyXSo9LjAxLGg9RihkKSxoWzNdPTEpOihmPWEubWF0Y2goL2hzbGFcKFxzKihcLT9cZCsoPzpcLlxkKyk/KSxccyooXC0/XGQrKD86XC5cZCspPyklXHMqLFxzKihcLT9cZCsoPzpcLlxkKyk/KSVccyosXHMqKFswMV18WzAxXT9cLlxkKylcKS8pKSYmKGQ9Zi5zbGljZSgxLDQpLGRbMV0qPS4wMSxkWzJdKj0uMDEsaD1GKGQpLGhbM109K2ZbNF0pO3JldHVybiBofSxiYT1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gYj1hWzNdPDE/InJnYmEiOiJyZ2IiLCJyZ2IiPT09Yj9iKyIoIithLnNsaWNlKDAsMykubWFwKHBhKS5qb2luKCIsIikrIikiOiJyZ2JhIj09PWI/YisiKCIrYS5zbGljZSgwLDMpLm1hcChwYSkuam9pbigiLCIpKyIsIithWzNdKyIpIjp2b2lkIDB9LG5hPWZ1bmN0aW9uKGEpe3JldHVybiBwYSgxMDAqYSkvMTAwfSxFPWZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuIGM9MT5iPyJoc2xhIjoiaHNsIixhWzBdPW5hKGFbMF18fDApLGFbMV09bmEoMTAwKmFbMV0pKyIlIixhWzJdPW5hKDEwMCphWzJdKSsiJSIsImhzbGEiPT09YyYmKGFbM109YiksYysiKCIrYS5qb2luKCIsIikrIikifSxqLmNzcz1mdW5jdGlvbihhKXtyZXR1cm4geChhKX0scy5jc3M9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe2MucHJvdG90eXBlPWEucHJvdG90eXBlO3ZhciBkPW5ldyBjLGU9YS5hcHBseShkLGIpO3JldHVybiBPYmplY3QoZSk9PT1lP2U6ZH0oYSx6YS5jYWxsKGFyZ3VtZW50cykuY29uY2F0KFsiY3NzIl0pLGZ1bmN0aW9uKCl7fSl9LGEucHJvdG90eXBlLmNzcz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YSYmKGE9InJnYiIpLCJyZ2IiPT09YS5zbGljZSgwLDMpP2JhKHRoaXMuX3JnYik6ImhzbCI9PT1hLnNsaWNlKDAsMyk/RSh0aGlzLmhzbCgpLHRoaXMuYWxwaGEoKSk6dm9pZCAwfSxqLm5hbWVkPWZ1bmN0aW9uKGEpe3JldHVybiBDKHdhW2FdKX0saC5wdXNoKHtwOjIwLHRlc3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoJiZudWxsIT13YVthXT8ibmFtZWQiOnZvaWQgMH19KSxhLnByb3RvdHlwZS5uYW1lPWZ1bmN0aW9uKGEpe3ZhciBiLGM7YXJndW1lbnRzLmxlbmd0aCYmKHdhW2FdJiYodGhpcy5fcmdiPUMod2FbYV0pKSx0aGlzLl9yZ2JbM109MSksYj10aGlzLmhleCgpO2ZvcihjIGluIHdhKWlmKGI9PT13YVtjXSlyZXR1cm4gYztyZXR1cm4gYn0sUD1mdW5jdGlvbigpe3ZhciBhLGMsZCxlO3JldHVybiBlPXZhKGFyZ3VtZW50cyksZD1lWzBdLGE9ZVsxXSxjPWVbMl0sYyo9YixbZCx3KGMpKmEscmEoYykqYV19LFE9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZyxoLGksaixrO3JldHVybiBjPXZhKGFyZ3VtZW50cyksaD1jWzBdLGU9Y1sxXSxnPWNbMl0saj1QKGgsZSxnKSxhPWpbMF0sYj1qWzFdLGQ9alsyXSxrPU4oYSxiLGQpLGk9a1swXSxmPWtbMV0sZD1rWzJdLFtTKGksMCwyNTUpLFMoZiwwLDI1NSksUyhkLDAsMjU1KSxjLmxlbmd0aD4zP2NbM106MV19LE09ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGc7cmV0dXJuIGc9dmEoYXJndW1lbnRzKSxlPWdbMF0sYT1nWzFdLGI9Z1syXSxjPXNhKGEqYStiKmIpLGQ9KG0oYixhKSpmKzM2MCklMzYwLDA9PT1wYSgxZTQqYykmJihkPU51bWJlci5OYU4pLFtlLGMsZF19LGhhPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc7cmV0dXJuIGY9dmEoYXJndW1lbnRzKSxlPWZbMF0sYz1mWzFdLGI9ZlsyXSxnPWdhKGUsYyxiKSxkPWdbMF0sYT1nWzFdLGI9Z1syXSxNKGQsYSxiKX0scy5sY2g9ZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gYj12YShhcmd1bWVudHMpLG5ldyBhKGIsImxjaCIpfSxzLmhjbD1mdW5jdGlvbigpe3ZhciBiO3JldHVybiBiPXZhKGFyZ3VtZW50cyksbmV3IGEoYiwiaGNsIil9LGoubGNoPVEsai5oY2w9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZDtyZXR1cm4gZD12YShhcmd1bWVudHMpLGI9ZFswXSxhPWRbMV0sYz1kWzJdLFEoW2MsYSxiXSl9LGEucHJvdG90eXBlLmxjaD1mdW5jdGlvbigpe3JldHVybiBoYSh0aGlzLl9yZ2IpfSxhLnByb3RvdHlwZS5oY2w9ZnVuY3Rpb24oKXtyZXR1cm4gaGEodGhpcy5fcmdiKS5yZXZlcnNlKCl9LGFhPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksajtyZXR1cm4gbnVsbD09YSYmKGE9InJnYiIpLGk9dmEoYXJndW1lbnRzKSxoPWlbMF0sZT1pWzFdLGI9aVsyXSxoLz0yNTUsZS89MjU1LGIvPTI1NSxmPTEtTWF0aC5tYXgoaCxNYXRoLm1heChlLGIpKSxkPTE+Zj8xLygxLWYpOjAsYz0oMS1oLWYpKmQsZz0oMS1lLWYpKmQsaj0oMS1iLWYpKmQsW2MsZyxqLGZdfSx1PWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpO3JldHVybiBiPXZhKGFyZ3VtZW50cyksZD1iWzBdLGc9YlsxXSxpPWJbMl0sZj1iWzNdLGE9Yi5sZW5ndGg+ND9iWzRdOjEsMT09PWY/WzAsMCwwLGFdOihoPWQ+PTE/MDpwYSgyNTUqKDEtZCkqKDEtZikpLGU9Zz49MT8wOnBhKDI1NSooMS1nKSooMS1mKSksYz1pPj0xPzA6cGEoMjU1KigxLWkpKigxLWYpKSxbaCxlLGMsYV0pfSxqLmNteWs9ZnVuY3Rpb24oKXtyZXR1cm4gdSh2YShhcmd1bWVudHMpKX0scy5jbXlrPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXtjLnByb3RvdHlwZT1hLnByb3RvdHlwZTt2YXIgZD1uZXcgYyxlPWEuYXBwbHkoZCxiKTtyZXR1cm4gT2JqZWN0KGUpPT09ZT9lOmR9KGEsemEuY2FsbChhcmd1bWVudHMpLmNvbmNhdChbImNteWsiXSksZnVuY3Rpb24oKXt9KX0sYS5wcm90b3R5cGUuY215az1mdW5jdGlvbigpe3JldHVybiBhYSh0aGlzLl9yZ2IpfSxqLmdsPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZTtmb3IoZD1mdW5jdGlvbigpe3ZhciBhLGM7YT12YShhcmd1bWVudHMpLGM9W107Zm9yKGIgaW4gYSllPWFbYl0sYy5wdXNoKGUpO3JldHVybiBjfS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYT1jPTA7Mj49YzthPSsrYylkW2FdKj0yNTU7cmV0dXJuIGR9LHMuZ2w9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe2MucHJvdG90eXBlPWEucHJvdG90eXBlO3ZhciBkPW5ldyBjLGU9YS5hcHBseShkLGIpO3JldHVybiBPYmplY3QoZSk9PT1lP2U6ZH0oYSx6YS5jYWxsKGFyZ3VtZW50cykuY29uY2F0KFsiZ2wiXSksZnVuY3Rpb24oKXt9KX0sYS5wcm90b3R5cGUuZ2w9ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gYT10aGlzLl9yZ2IsW2FbMF0vMjU1LGFbMV0vMjU1LGFbMl0vMjU1LGFbM11dfSxpYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGQ9dmEoYXJndW1lbnRzKSxhPWRbMF0sYj1kWzFdLGM9ZFsyXSxhPVUoYSksYj1VKGIpLGM9VShjKSwuMjEyNiphKy43MTUyKmIrLjA3MjIqY30sVT1mdW5jdGlvbihhKXtyZXR1cm4gYS89MjU1LC4wMzkyOD49YT9hLzEyLjkyOl8oKGErLjA1NSkvMS4wNTUsMi40KX0saz1bXSxIPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoO2ZvcihudWxsPT1jJiYoYz0uNSksbnVsbD09ZCYmKGQ9InJnYiIpLCJvYmplY3QiIT09dWEoYSkmJihhPXMoYSkpLCJvYmplY3QiIT09dWEoYikmJihiPXMoYikpLGc9MCxmPWsubGVuZ3RoO2Y+ZztnKyspaWYoZT1rW2ddLGQ9PT1lWzBdKXtoPWVbMV0oYSxiLGMsZCk7YnJlYWt9aWYobnVsbD09aCl0aHJvdyJjb2xvciBtb2RlICIrZCsiIGlzIG5vdCBzdXBwb3J0ZWQiO3JldHVybiBoLmFscGhhKGEuYWxwaGEoKStjKihiLmFscGhhKCktYS5hbHBoYSgpKSksaH0scy5pbnRlcnBvbGF0ZT1ILGEucHJvdG90eXBlLmludGVycG9sYXRlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gSCh0aGlzLGEsYixjKX0scy5taXg9SCxhLnByb3RvdHlwZS5taXg9YS5wcm90b3R5cGUuaW50ZXJwb2xhdGUsTD1mdW5jdGlvbihiLGMsZCxlKXt2YXIgZixnO3JldHVybiBmPWIuX3JnYixnPWMuX3JnYixuZXcgYShmWzBdK2QqKGdbMF0tZlswXSksZlsxXStkKihnWzFdLWZbMV0pLGZbMl0rZCooZ1syXS1mWzJdKSxlKX0say5wdXNoKFsicmdiIixMXSksYS5wcm90b3R5cGUubHVtaW5hbmNlPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY7cmV0dXJuIG51bGw9PWImJihiPSJyZ2IiKSxhcmd1bWVudHMubGVuZ3RoPygwPT09YT90aGlzLl9yZ2I9WzAsMCwwLHRoaXMuX3JnYlszXV06MT09PWE/dGhpcy5fcmdiPVsyNTUsMjU1LDI1NSx0aGlzLl9yZ2JbM11dOihkPTFlLTcsZT0yMCxmPWZ1bmN0aW9uKGMsZyl7dmFyIGgsaTtyZXR1cm4gaT1jLmludGVycG9sYXRlKGcsLjUsYiksaD1pLmx1bWluYW5jZSgpLE1hdGguYWJzKGEtaCk8ZHx8IWUtLT9pOmg+YT9mKGMsaSk6ZihpLGcpfSxjPWlhKHRoaXMuX3JnYiksdGhpcy5fcmdiPShjPmE/ZihzKCJibGFjayIpLHRoaXMpOmYodGhpcyxzKCJ3aGl0ZSIpKSkucmdiYSgpKSx0aGlzKTppYSh0aGlzLl9yZ2IpfSx0YT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZTtyZXR1cm4gZT1hLzEwMCw2Nj5lPyhkPTI1NSxjPS0xNTUuMjU0ODU1NjI3MDkxNzktLjQ0NTk2OTUwNDY5NTc5MTMzKihjPWUtMikrMTA0LjQ5MjE2MTk5MzkzODg4KlQoYyksYj0yMD5lPzA6LTI1NC43NjkzNTE4NDEyMDkwMisuODI3NDA5NjA2NDAwNzM5NSooYj1lLTEwKSsxMTUuNjc5OTQ0MDEwNjYxNDcqVChiKSk6KGQ9MzUxLjk3NjkwNTY2ODA1NjkzKy4xMTQyMDY0NTM3ODQxNjUqKGQ9ZS01NSktNDAuMjUzNjYzMDkzMzIxMjcqVChkKSxjPTMyNS40NDk0MTI1NzExOTc0Ky4wNzk0MzQ1NjUzNjY2MjM0MiooYz1lLTUwKS0yOC4wODUyOTYzNTA3OTU3KlQoYyksYj0yNTUpLHQoW2QsYyxiXSl9LGthPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxpO2ZvcihnPXZhKGFyZ3VtZW50cyksZj1nWzBdLGM9Z1sxXSxhPWdbMl0sZT0xZTMsZD00ZTQsYj0uNDtkLWU+YjspaT0uNSooZCtlKSxoPXRhKGkpLGhbMl0vaFswXT49YS9mP2Q9aTplPWk7cmV0dXJuIHBhKGkpfSxzLnRlbXBlcmF0dXJlPXMua2VsdmluPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixjKXtjLnByb3RvdHlwZT1hLnByb3RvdHlwZTt2YXIgZD1uZXcgYyxlPWEuYXBwbHkoZCxiKTtyZXR1cm4gT2JqZWN0KGUpPT09ZT9lOmR9KGEsemEuY2FsbChhcmd1bWVudHMpLmNvbmNhdChbInRlbXBlcmF0dXJlIl0pLGZ1bmN0aW9uKCl7fSl9LGoudGVtcGVyYXR1cmU9ai5rZWx2aW49ai5LPXRhLGEucHJvdG90eXBlLnRlbXBlcmF0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIGthKHRoaXMuX3JnYil9LGEucHJvdG90eXBlLmtlbHZpbj1hLnByb3RvdHlwZS50ZW1wZXJhdHVyZSxzLmNvbnRyYXN0PWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGc7cmV0dXJuKCJzdHJpbmciPT09KGY9dWEoYikpfHwibnVtYmVyIj09PWYpJiYoYj1uZXcgYShiKSksKCJzdHJpbmciPT09KGc9dWEoYykpfHwibnVtYmVyIj09PWcpJiYoYz1uZXcgYShjKSksZD1iLmx1bWluYW5jZSgpLGU9Yy5sdW1pbmFuY2UoKSxkPmU/KGQrLjA1KS8oZSsuMDUpOihlKy4wNSkvKGQrLjA1KX0sYS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZztyZXR1cm4gZD10aGlzLGY9YS5zcGxpdCgiLiIpLGU9ZlswXSxiPWZbMV0sZz1kW2VdKCksYj8oYz1lLmluZGV4T2YoYiksYz4tMT9nW2NdOmNvbnNvbGUud2FybigidW5rbm93biBjaGFubmVsICIrYisiIGluIG1vZGUgIitlKSk6Z30sYS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoO2lmKGU9dGhpcyxnPWEuc3BsaXQoIi4iKSxmPWdbMF0sYz1nWzFdLGMpaWYoaD1lW2ZdKCksZD1mLmluZGV4T2YoYyksZD4tMSlpZigic3RyaW5nIj09PXVhKGIpKXN3aXRjaChiLmNoYXJBdCgwKSl7Y2FzZSIrIjpoW2RdKz0rYjticmVhaztjYXNlIi0iOmhbZF0rPStiO2JyZWFrO2Nhc2UiKiI6aFtkXSo9K2Iuc3Vic3RyKDEpO2JyZWFrO2Nhc2UiLyI6aFtkXS89K2Iuc3Vic3RyKDEpO2JyZWFrO2RlZmF1bHQ6aFtkXT0rYn1lbHNlIGhbZF09YjtlbHNlIGNvbnNvbGUud2FybigidW5rbm93biBjaGFubmVsICIrYysiIGluIG1vZGUgIitmKTtlbHNlIGg9YjtyZXR1cm4gZS5fcmdiPXMoaCxmKS5hbHBoYShlLmFscGhhKCkpLl9yZ2IsZX0sYS5wcm90b3R5cGUuZGFya2VuPWZ1bmN0aW9uKGEpe3ZhciBiLGQ7cmV0dXJuIG51bGw9PWEmJihhPTEpLGQ9dGhpcyxiPWQubGFiKCksYlswXS09Yy5LbiphLHMubGFiKGIpLmFscGhhKGQuYWxwaGEoKSl9LGEucHJvdG90eXBlLmJyaWdodGVuPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hJiYoYT0xKSx0aGlzLmRhcmtlbigtYSl9LGEucHJvdG90eXBlLmRhcmtlcj1hLnByb3RvdHlwZS5kYXJrZW4sYS5wcm90b3R5cGUuYnJpZ2h0ZXI9YS5wcm90b3R5cGUuYnJpZ2h0ZW4sYS5wcm90b3R5cGUuc2F0dXJhdGU9ZnVuY3Rpb24oYSl7dmFyIGIsZDtyZXR1cm4gbnVsbD09YSYmKGE9MSksZD10aGlzLGI9ZC5sY2goKSxiWzFdKz1hKmMuS24sYlsxXTwwJiYoYlsxXT0wKSxzLmxjaChiKS5hbHBoYShkLmFscGhhKCkpfSxhLnByb3RvdHlwZS5kZXNhdHVyYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hJiYoYT0xKSx0aGlzLnNhdHVyYXRlKC1hKX0sYS5wcm90b3R5cGUucHJlbXVsdGlwbHk9ZnVuY3Rpb24oKXt2YXIgYSxiO3JldHVybiBiPXRoaXMucmdiKCksYT10aGlzLmFscGhhKCkscyhiWzBdKmEsYlsxXSphLGJbMl0qYSxhKX0sbz1mdW5jdGlvbihhLGIsYyl7aWYoIW9bY10pdGhyb3cidW5rbm93biBibGVuZCBtb2RlICIrYztyZXR1cm4gb1tjXShhLGIpfSxwPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3ZhciBkLGU7cmV0dXJuIGQ9cyhjKS5yZ2IoKSxlPXMoYikucmdiKCkscyhhKGQsZSksInJnYiIpfX0sQT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXt2YXIgZCxlLGY7Zm9yKGY9W10sZD1lPTA7Mz49ZTtkPSsrZSlmW2RdPWEoYltkXSxjW2RdKTtyZXR1cm4gZn19LFk9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYX0sWD1mdW5jdGlvbihhLGIpe3JldHVybiBhKmIvMjU1fSx5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+Yj9iOmF9LFI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT5iP2E6Yn0scWE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMjU1KigxLSgxLWEvMjU1KSooMS1iLzI1NSkpfSwkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIDEyOD5iPzIqYSpiLzI1NToyNTUqKDEtMiooMS1hLzI1NSkqKDEtYi8yNTUpKX0scj1mdW5jdGlvbihhLGIpe3JldHVybiAyNTUqKDEtKDEtYi8yNTUpLyhhLzI1NSkpfSx6PWZ1bmN0aW9uKGEsYil7cmV0dXJuIDI1NT09PWE/MjU1OihhPTI1NSooYi8yNTUpLygxLWEvMjU1KSxhPjI1NT8yNTU6YSl9LG8ubm9ybWFsPXAoQShZKSksby5tdWx0aXBseT1wKEEoWCkpLG8uc2NyZWVuPXAoQShxYSkpLG8ub3ZlcmxheT1wKEEoJCkpLG8uZGFya2VuPXAoQSh5KSksby5saWdodGVuPXAoQShSKSksby5kb2RnZT1wKEEoeikpLG8uYnVybj1wKEEocikpLHMuYmxlbmQ9byxzLmFuYWx5emU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7Zm9yKGQ9e21pbjpOdW1iZXIuTUFYX1ZBTFVFLG1heDotMSpOdW1iZXIuTUFYX1ZBTFVFLHN1bTowLHZhbHVlczpbXSxjb3VudDowfSxjPTAsYj1hLmxlbmd0aDtiPmM7YysrKWU9YVtjXSxudWxsPT1lfHxpc05hTihlKXx8KGQudmFsdWVzLnB1c2goZSksZC5zdW0rPWUsZTxkLm1pbiYmKGQubWluPWUpLGU+ZC5tYXgmJihkLm1heD1lKSxkLmNvdW50Kz0xKTtyZXR1cm4gZC5kb21haW49W2QubWluLGQubWF4XSxkLmxpbWl0cz1mdW5jdGlvbihhLGIpe3JldHVybiBzLmxpbWl0cyhkLGEsYil9LGR9LHMuc2NhbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscix0LHUsdix3LHg7cmV0dXJuIGs9InJnYiIsbD1zKCIjY2NjIikscD0wLGg9ITEsZz1bMCwxXSxvPVtdLG49WzAsMF0sYz0hMSxlPVtdLG09ITEsaj0wLGk9MSxmPSExLGQ9e30sdz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZixnLGgsaTtpZihudWxsPT1hJiYoYT1bIiNmZmYiLCIjMDAwIl0pLG51bGwhPWEmJiJzdHJpbmciPT09dWEoYSkmJm51bGwhPShudWxsIT0oZj1zLmJyZXdlcik/ZlthXTp2b2lkIDApJiYoYT1zLmJyZXdlclthXSksImFycmF5Ij09PXVhKGEpKXtmb3IoYT1hLnNsaWNlKDApLGI9ZD0wLGc9YS5sZW5ndGgtMTtnPj0wP2c+PWQ6ZD49ZztiPWc+PTA/KytkOi0tZCljPWFbYl0sInN0cmluZyI9PT11YShjKSYmKGFbYl09cyhjKSk7Zm9yKG8ubGVuZ3RoPTAsYj1pPTAsaD1hLmxlbmd0aC0xO2g+PTA/aD49aTppPj1oO2I9aD49MD8rK2k6LS1pKW8ucHVzaChiLyhhLmxlbmd0aC0xKSl9cmV0dXJuIHYoKSxlPWF9LHQ9ZnVuY3Rpb24oYSl7dmFyIGIsZDtpZihudWxsIT1jKXtmb3IoZD1jLmxlbmd0aC0xLGI9MDtkPmImJmE+PWNbYl07KWIrKztyZXR1cm4gYi0xfXJldHVybiAwfSx4PWZ1bmN0aW9uKGEpe3JldHVybiBhfSxxPWZ1bmN0aW9uKGEpe3ZhciBiLGQsZSxmLGc7cmV0dXJuIGc9YSxjLmxlbmd0aD4yJiYoZj1jLmxlbmd0aC0xLGI9dChhKSxlPWNbMF0rKGNbMV0tY1swXSkqKDArLjUqcCksZD1jW2YtMV0rKGNbZl0tY1tmLTFdKSooMS0uNSpwKSxnPWorKGNbYl0rLjUqKGNbYisxXS1jW2JdKS1lKS8oZC1lKSooaS1qKSksZ30sdT1mdW5jdGlvbihhLGIpe3ZhciBmLGcsaCxtLHAscSxyLHU7aWYobnVsbD09YiYmKGI9ITEpLGlzTmFOKGEpKXJldHVybiBsO2lmKGI/dT1hOmMmJmMubGVuZ3RoPjI/KGY9dChhKSx1PWYvKGMubGVuZ3RoLTIpLHU9blswXSt1KigxLW5bMF0tblsxXSkpOmkhPT1qPyh1PShhLWopLyhpLWopLHU9blswXSt1KigxLW5bMF0tblsxXSksdT1NYXRoLm1pbigxLE1hdGgubWF4KDAsdSkpKTp1PTEsYnx8KHU9eCh1KSksbT1NYXRoLmZsb29yKDFlNCp1KSxkW21dKWc9ZFttXTtlbHNle2lmKCJhcnJheSI9PT11YShlKSlmb3IoaD1wPTAscj1vLmxlbmd0aC0xO3I+PTA/cj49cDpwPj1yO2g9cj49MD8rK3A6LS1wKXtpZihxPW9baF0scT49dSl7Zz1lW2hdO2JyZWFrfWlmKHU+PXEmJmg9PT1vLmxlbmd0aC0xKXtnPWVbaF07YnJlYWt9aWYodT5xJiZ1PG9baCsxXSl7dT0odS1xKS8ob1toKzFdLXEpLGc9cy5pbnRlcnBvbGF0ZShlW2hdLGVbaCsxXSx1LGspO2JyZWFrfX1lbHNlImZ1bmN0aW9uIj09PXVhKGUpJiYoZz1lKHUpKTtkW21dPWd9cmV0dXJuIGd9LHY9ZnVuY3Rpb24oKXtyZXR1cm4gZD17fX0sdyhhKSxyPWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBiPXModShhKSksbSYmYlttXT9iW21dKCk6Yn0sci5jbGFzc2VzPWZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBudWxsIT1hPygiYXJyYXkiPT09dWEoYSk/KGM9YSxnPVthWzBdLGFbYS5sZW5ndGgtMV1dKTooYj1zLmFuYWx5emUoZyksYz0wPT09YT9bYi5taW4sYi5tYXhdOnMubGltaXRzKGIsImUiLGEpKSxyKTpjfSxyLmRvbWFpbj1mdW5jdGlvbihhKXt2YXIgYixjLGQsZixoLGssbDtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gZztpZihqPWFbMF0saT1hW2EubGVuZ3RoLTFdLG89W10sZD1lLmxlbmd0aCxhLmxlbmd0aD09PWQmJmohPT1pKWZvcihoPTAsZj1hLmxlbmd0aDtmPmg7aCsrKWM9YVtoXSxvLnB1c2goKGMtaikvKGktaikpO2Vsc2UgZm9yKGI9bD0wLGs9ZC0xO2s+PTA/az49bDpsPj1rO2I9az49MD8rK2w6LS1sKW8ucHVzaChiLyhkLTEpKTtyZXR1cm4gZz1baixpXSxyfSxyLm1vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGs9YSx2KCkscik6a30sci5yYW5nZT1mdW5jdGlvbihhLGIpe3JldHVybiB3KGEsYikscn0sci5vdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG09YSxyfSxyLnNwcmVhZD1mdW5jdGlvbihhKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8ocD1hLHIpOnB9LHIuY29ycmVjdExpZ2h0bmVzcz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YSYmKGE9ITApLGY9YSx2KCkseD1mP2Z1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksajtmb3IoYj11KDAsITApLmxhYigpWzBdLGM9dSgxLCEwKS5sYWIoKVswXSxoPWI+YyxkPXUoYSwhMCkubGFiKClbMF0sZj1iKyhjLWIpKmEsZT1kLWYsaT0wLGo9MSxnPTIwO01hdGguYWJzKGUpPi4wMSYmZy0tPjA7KSFmdW5jdGlvbigpe3JldHVybiBoJiYoZSo9LTEpLDA+ZT8oaT1hLGErPS41KihqLWEpKTooaj1hLGErPS41KihpLWEpKSxkPXUoYSwhMCkubGFiKClbMF0sZT1kLWZ9KCk7cmV0dXJuIGF9OmZ1bmN0aW9uKGEpe3JldHVybiBhfSxyfSxyLnBhZGRpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/KCJudW1iZXIiPT09dWEoYSkmJihhPVthLGFdKSxuPWEscik6bn0sci5jb2xvcnM9ZnVuY3Rpb24oKXt2YXIgYixkLGUsZixoLGksaixrLGw7aWYoZj0wLGg9ImhleCIsMT09PWFyZ3VtZW50cy5sZW5ndGgmJigic3RyaW5nIj09PXVhKGFyZ3VtZW50c1swXSk/aD1hcmd1bWVudHNbMF06Zj1hcmd1bWVudHNbMF0pLDI9PT1hcmd1bWVudHMubGVuZ3RoJiYoZj1hcmd1bWVudHNbMF0saD1hcmd1bWVudHNbMV0pLGYpcmV0dXJuIGQ9Z1swXSxiPWdbMV0tZCxmdW5jdGlvbigpe2o9W107Zm9yKHZhciBhPTA7Zj49MD9mPmE6YT5mO2Y+PTA/YSsrOmEtLSlqLnB1c2goYSk7cmV0dXJuIGp9LmFwcGx5KHRoaXMpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gcihkK2EvKGYtMSkqYilbaF0oKX0pO2lmKGE9W10saz1bXSxjJiZjLmxlbmd0aD4yKWZvcihlPWw9MSxpPWMubGVuZ3RoO2k+PTE/aT5sOmw+aTtlPWk+PTE/KytsOi0tbClrLnB1c2goLjUqKGNbZS0xXStjW2VdKSk7ZWxzZSBrPWc7cmV0dXJuIGsubWFwKGZ1bmN0aW9uKGEpe3JldHVybiByKGEpW2hdKCl9KX0scn0sbnVsbD09cy5zY2FsZXMmJihzLnNjYWxlcz17fSkscy5zY2FsZXMuY29vbD1mdW5jdGlvbigpe3JldHVybiBzLnNjYWxlKFtzLmhzbCgxODAsMSwuOSkscy5oc2woMjUwLC43LC40KV0pfSxzLnNjYWxlcy5ob3Q9ZnVuY3Rpb24oKXtyZXR1cm4gcy5zY2FsZShbIiMwMDAiLCIjZjAwIiwiI2ZmMCIsIiNmZmYiXSxbMCwuMjUsLjc1LDFdKS5tb2RlKCJyZ2IiKX0scy5hbmFseXplPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksajtpZihoPXttaW46TnVtYmVyLk1BWF9WQUxVRSxtYXg6LTEqTnVtYmVyLk1BWF9WQUxVRSxzdW06MCx2YWx1ZXM6W10sY291bnQ6MH0sbnVsbD09YyYmKGM9ZnVuY3Rpb24oKXtyZXR1cm4hMH0pLGQ9ZnVuY3Rpb24oYSl7bnVsbD09YXx8aXNOYU4oYSl8fChoLnZhbHVlcy5wdXNoKGEpLGguc3VtKz1hLGE8aC5taW4mJihoLm1pbj1hKSxhPmgubWF4JiYoaC5tYXg9YSksaC5jb3VudCs9MSl9LGo9ZnVuY3Rpb24oYSxlKXtyZXR1cm4gYyhhLGUpP2QobnVsbCE9YiYmImZ1bmN0aW9uIj09PXVhKGIpP2IoYSk6bnVsbCE9YiYmInN0cmluZyI9PT11YShiKXx8Im51bWJlciI9PT11YShiKT9hW2JdOmEpOnZvaWQgMH0sImFycmF5Ij09PXVhKGEpKWZvcihnPTAsZj1hLmxlbmd0aDtmPmc7ZysrKWk9YVtnXSxqKGkpO2Vsc2UgZm9yKGUgaW4gYSlpPWFbZV0saihpLGUpO3JldHVybiBoLmRvbWFpbj1baC5taW4saC5tYXhdLGgubGltaXRzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHMubGltaXRzKGgsYSxiKX0saH0scy5saW1pdHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbSxuLG8scCxxLHIsdCx1LHYsdyx4LHkseixBLEMsRCxFLEYsRyxILEksSixLLEwsTSxOLE8sUCxRLFIsUyxVLFYsWCxZLFosJCxhYSxiYSxjYSxkYSxlYSxmYSxnYSxoYSxpYSxqYTtpZihudWxsPT1iJiYoYj0iZXF1YWwiKSxudWxsPT1jJiYoYz03KSwiYXJyYXkiPT09dWEoYSkmJihhPXMuYW5hbHl6ZShhKSksRT1hLm1pbixXPWEubWF4LGZhPWEuc3VtLGlhPWEudmFsdWVzLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSksQz1bXSwiYyI9PT1iLnN1YnN0cigwLDEpJiYoQy5wdXNoKEUpLEMucHVzaChXKSksImUiPT09Yi5zdWJzdHIoMCwxKSl7Zm9yKEMucHVzaChFKSx5PUs9MSxPPWMtMTtPPj0xP08+PUs6Sz49Tzt5PU8+PTE/KytLOi0tSylDLnB1c2goRSt5L2MqKFctRSkpO0MucHVzaChXKX1lbHNlIGlmKCJsIj09PWIuc3Vic3RyKDAsMSkpe2lmKDA+PUUpdGhyb3ciTG9nYXJpdGhtaWMgc2NhbGVzIGFyZSBvbmx5IHBvc3NpYmxlIGZvciB2YWx1ZXMgPiAwIjtmb3IoRj1NYXRoLkxPRzEwRSpUKEUpLEQ9TWF0aC5MT0cxMEUqVChXKSxDLnB1c2goRSkseT1qYT0xLFA9Yy0xO1A+PTE/UD49amE6amE+PVA7eT1QPj0xPysramE6LS1qYSlDLnB1c2goXygxMCxGK3kvYyooRC1GKSkpO0MucHVzaChXKX1lbHNlIGlmKCJxIj09PWIuc3Vic3RyKDAsMSkpe2ZvcihDLnB1c2goRSkseT1kPTEsWD1jLTE7WD49MT9YPj1kOmQ+PVg7eT1YPj0xPysrZDotLWQpTD1pYS5sZW5ndGgqeS9jLE09QihMKSxNPT09TD9DLnB1c2goaWFbTV0pOihOPUwtTSxDLnB1c2goaWFbTV0qTitpYVtNKzFdKigxLU4pKSk7Qy5wdXNoKFcpfWVsc2UgaWYoImsiPT09Yi5zdWJzdHIoMCwxKSl7Zm9yKEg9aWEubGVuZ3RoLHI9bmV3IEFycmF5KEgpLHc9bmV3IEFycmF5KGMpLGVhPSEwLEk9MCx1PW51bGwsdT1bXSx1LnB1c2goRSkseT1lPTEsWT1jLTE7WT49MT9ZPj1lOmU+PVk7eT1ZPj0xPysrZTotLWUpdS5wdXNoKEUreS9jKihXLUUpKTtmb3IodS5wdXNoKFcpO2VhOyl7Zm9yKHo9Zj0wLFo9Yy0xO1o+PTA/Wj49ZjpmPj1aO3o9Wj49MD8rK2Y6LS1mKXdbel09MDtmb3IoeT1nPTAsJD1ILTE7JD49MD8kPj1nOmc+PSQ7eT0kPj0wPysrZzotLWcpe2ZvcihoYT1pYVt5XSxHPU51bWJlci5NQVhfVkFMVUUsej1oPTAsYWE9Yy0xO2FhPj0wP2FhPj1oOmg+PWFhO3o9YWE+PTA/KytoOi0taCl4PWwodVt6XS1oYSksRz54JiYoRz14LHQ9eik7d1t0XSsrLHJbeV09dH1mb3IoSj1uZXcgQXJyYXkoYyksej1pPTAsYmE9Yy0xO2JhPj0wP2JhPj1pOmk+PWJhO3o9YmE+PTA/KytpOi0taSlKW3pdPW51bGw7Zm9yKHk9aj0wLGNhPUgtMTtjYT49MD9jYT49ajpqPj1jYTt5PWNhPj0wPysrajotLWopdj1yW3ldLG51bGw9PT1KW3ZdP0pbdl09aWFbeV06Slt2XSs9aWFbeV07Zm9yKHo9az0wLGRhPWMtMTtkYT49MD9kYT49azprPj1kYTt6PWRhPj0wPysrazotLWspSlt6XSo9MS93W3pdO2ZvcihlYT0hMSx6PW09MCxRPWMtMTtRPj0wP1E+PW06bT49UTt6PVE+PTA/KyttOi0tbSlpZihKW3pdIT09dVt5XSl7ZWE9ITA7YnJlYWt9dT1KLEkrKyxJPjIwMCYmKGVhPSExKX1mb3IoQT17fSx6PW49MCxSPWMtMTtSPj0wP1I+PW46bj49Ujt6PVI+PTA/KytuOi0tbilBW3pdPVtdO2Zvcih5PW89MCxTPUgtMTtTPj0wP1M+PW86bz49Uzt5PVM+PTA/KytvOi0tbyl2PXJbeV0sQVt2XS5wdXNoKGlhW3ldKTtmb3IoZ2E9W10sej1wPTAsVT1jLTE7VT49MD9VPj1wOnA+PVU7ej1VPj0wPysrcDotLXApZ2EucHVzaChBW3pdWzBdKSxnYS5wdXNoKEFbel1bQVt6XS5sZW5ndGgtMV0pO2ZvcihnYT1nYS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pLEMucHVzaChnYVswXSkseT1xPTEsVj1nYS5sZW5ndGgtMTtWPj1xO3k9cSs9Milpc05hTihnYVt5XSl8fEMucHVzaChnYVt5XSl9cmV0dXJuIEN9LEQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGYsaCxpO3JldHVybiBkPXZhKGFyZ3VtZW50cyksYT1kWzBdLGI9ZFsxXSxjPWRbMl0sYS89MzYwLDEvMz5hPyhmPSgxLWIpLzMsaT0oMStiKncoZyphKS93KGUtZyphKSkvMyxoPTEtKGYraSkpOjIvMz5hPyhhLT0xLzMsaT0oMS1iKS8zLGg9KDErYip3KGcqYSkvdyhlLWcqYSkpLzMsZj0xLShpK2gpKTooYS09Mi8zLGg9KDEtYikvMyxmPSgxK2IqdyhnKmEpL3coZS1nKmEpKS8zLGk9MS0oaCtmKSksaT1TKGMqaSozKSxoPVMoYypoKjMpLGY9UyhjKmYqMyksWzI1NSppLDI1NSpoLDI1NSpmLGQubGVuZ3RoPjM/ZFszXToxXX0sZGE9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsaCxpO3JldHVybiBoPXZhKGFyZ3VtZW50cyksZj1oWzBdLGI9aFsxXSxhPWhbMl0sZz0yKk1hdGguUEksZi89MjU1LGIvPTI1NSxhLz0yNTUsZT1NYXRoLm1pbihmLGIsYSksZD0oZitiK2EpLzMsaT0xLWUvZCwwPT09aT9jPTA6KGM9KGYtYisoZi1hKSkvMixjLz1NYXRoLnNxcnQoKGYtYikqKGYtYikrKGYtYSkqKGItYSkpLGM9TWF0aC5hY29zKGMpLGE+YiYmKGM9Zy1jKSxjLz1nKSxbMzYwKmMsaSxkXX0scy5oc2k9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGMpe2MucHJvdG90eXBlPWEucHJvdG90eXBlO3ZhciBkPW5ldyBjLGU9YS5hcHBseShkLGIpO3JldHVybiBPYmplY3QoZSk9PT1lP2U6ZH0oYSx6YS5jYWxsKGFyZ3VtZW50cykuY29uY2F0KFsiaHNpIl0pLGZ1bmN0aW9uKCl7fSl9LGouaHNpPUQsYS5wcm90b3R5cGUuaHNpPWZ1bmN0aW9uKCl7cmV0dXJuIGRhKHRoaXMuX3JnYil9LEk9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHE7cmV0dXJuImhzbCI9PT1kPyhwPWEuaHNsKCkscT1iLmhzbCgpKToiaHN2Ij09PWQ/KHA9YS5oc3YoKSxxPWIuaHN2KCkpOiJoc2kiPT09ZD8ocD1hLmhzaSgpLHE9Yi5oc2koKSk6KCJsY2giPT09ZHx8ImhjbCI9PT1kKSYmKGQ9ImhjbCIscD1hLmhjbCgpLHE9Yi5oY2woKSksImgiPT09ZC5zdWJzdHIoMCwxKSYmKGc9cFswXSxuPXBbMV0saj1wWzJdLGg9cVswXSxvPXFbMV0saz1xWzJdKSxpc05hTihnKXx8aXNOYU4oaCk/aXNOYU4oZyk/aXNOYU4oaCk/Zj1OdW1iZXIuTmFOOihmPWgsMSE9PWomJjAhPT1qfHwiaHN2Ij09PWR8fChtPW8pKTooZj1nLDEhPT1rJiYwIT09a3x8ImhzdiI9PT1kfHwobT1uKSk6KGU9aD5nJiZoLWc+MTgwP2gtKGcrMzYwKTpnPmgmJmctaD4xODA/aCszNjAtZzpoLWcsZj1nK2MqZSksbnVsbD09bSYmKG09bitjKihvLW4pKSxpPWorYyooay1qKSxsPXNbZF0oZixtLGkpfSxrPWsuY29uY2F0KGZ1bmN0aW9uKCl7dmFyIGEsYixjLGQ7Zm9yKGM9WyJoc3YiLCJoc2wiLCJoc2kiLCJoY2wiLCJsY2giXSxkPVtdLGI9MCxhPWMubGVuZ3RoO2E+YjtiKyspVj1jW2JdLGQucHVzaChbVixJXSk7cmV0dXJuIGR9KCkpLEs9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZjtyZXR1cm4gZT1hLm51bSgpLGY9Yi5udW0oKSxzLm51bShlKyhmLWUpKmMsIm51bSIpfSxrLnB1c2goWyJudW0iLEtdKSxKPWZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmLGcsaDtyZXR1cm4gZz1iLmxhYigpLGg9Yy5sYWIoKSxmPW5ldyBhKGdbMF0rZCooaFswXS1nWzBdKSxnWzFdK2QqKGhbMV0tZ1sxXSksZ1syXStkKihoWzJdLWdbMl0pLGUpOwp9LGsucHVzaChbImxhYiIsSl0pfSkuY2FsbCh0aGlzKTs="></script>
<script src="data:application/x-javascript;base64,LyohIGpRdWVyeSB2Mi4yLjEgfCAoYykgalF1ZXJ5IEZvdW5kYXRpb24gfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi8KIWZ1bmN0aW9uKGEsYil7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiBiKGEpfTpiKGEpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9YS5kb2N1bWVudCxlPWMuc2xpY2UsZj1jLmNvbmNhdCxnPWMucHVzaCxoPWMuaW5kZXhPZixpPXt9LGo9aS50b1N0cmluZyxrPWkuaGFzT3duUHJvcGVydHksbD17fSxtPSIyLjIuMSIsbj1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbi5mbi5pbml0KGEsYil9LG89L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLHA9L14tbXMtLyxxPS8tKFtcZGEtel0pL2dpLHI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfTtuLmZuPW4ucHJvdG90eXBlPXtqcXVlcnk6bSxjb25zdHJ1Y3RvcjpuLHNlbGVjdG9yOiIiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTplLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1uLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEpe3JldHVybiBuLmVhY2godGhpcyxhKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhuLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgsYz0rYSsoMD5hP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGM+PTAmJmI+Yz9bdGhpc1tjXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6Zyxzb3J0OmMuc29ydCxzcGxpY2U6Yy5zcGxpY2V9LG4uZXh0ZW5kPW4uZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGc9YXJndW1lbnRzWzBdfHx7fSxoPTEsaT1hcmd1bWVudHMubGVuZ3RoLGo9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGcmJihqPWcsZz1hcmd1bWVudHNbaF18fHt9LGgrKyksIm9iamVjdCI9PXR5cGVvZiBnfHxuLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2k+aDtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRzW2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYobi5pc1BsYWluT2JqZWN0KGQpfHwoZT1uLmlzQXJyYXkoZCkpKT8oZT8oZT0hMSxmPWMmJm4uaXNBcnJheShjKT9jOltdKTpmPWMmJm4uaXNQbGFpbk9iamVjdChjKT9jOnt9LGdbYl09bi5leHRlbmQoaixmLGQpKTp2b2lkIDAhPT1kJiYoZ1tiXT1kKSk7cmV0dXJuIGd9LG4uZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKyhtK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYSl7dGhyb3cgbmV3IEVycm9yKGEpfSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PT1uLnR5cGUoYSl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09PWEud2luZG93fSxpc051bWVyaWM6ZnVuY3Rpb24oYSl7dmFyIGI9YSYmYS50b1N0cmluZygpO3JldHVybiFuLmlzQXJyYXkoYSkmJmItcGFyc2VGbG9hdChiKSsxPj0wfSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiJvYmplY3QiIT09bi50eXBlKGEpfHxhLm5vZGVUeXBlfHxuLmlzV2luZG93KGEpPyExOmEuY29uc3RydWN0b3ImJiFrLmNhbGwoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKT8hMTohMH0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtmb3IoYiBpbiBhKXJldHVybiExO3JldHVybiEwfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP2ErIiI6Im9iamVjdCI9PXR5cGVvZiBhfHwiZnVuY3Rpb24iPT10eXBlb2YgYT9pW2ouY2FsbChhKV18fCJvYmplY3QiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ZXZhbDthPW4udHJpbShhKSxhJiYoMT09PWEuaW5kZXhPZigidXNlIHN0cmljdCIpPyhiPWQuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksYi50ZXh0PWEsZC5oZWFkLmFwcGVuZENoaWxkKGIpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmMoYSkpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShwLCJtcy0iKS5yZXBsYWNlKHEscil9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MDtpZihzKGEpKXtmb3IoYz1hLmxlbmd0aDtjPmQ7ZCsrKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVha31lbHNlIGZvcihkIGluIGEpaWYoYi5jYWxsKGFbZF0sZCxhW2RdKT09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOihhKyIiKS5yZXBsYWNlKG8sIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHMoT2JqZWN0KGEpKT9uLm1lcmdlKGMsInN0cmluZyI9PXR5cGVvZiBhP1thXTphKTpnLmNhbGwoYyxhKSksY30saW5BcnJheTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PWI/LTE6aC5jYWxsKGIsYSxjKX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO2M+ZDtkKyspYVtlKytdPWJbZF07cmV0dXJuIGEubGVuZ3RoPWUsYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9W10sZj0wLGc9YS5sZW5ndGgsaD0hYztnPmY7ZisrKWQ9IWIoYVtmXSxmKSxkIT09aCYmZS5wdXNoKGFbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZz0wLGg9W107aWYocyhhKSlmb3IoZD1hLmxlbmd0aDtkPmc7ZysrKWU9YihhW2ddLGcsYyksbnVsbCE9ZSYmaC5wdXNoKGUpO2Vsc2UgZm9yKGcgaW4gYSllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtyZXR1cm4gZi5hcHBseShbXSxoKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxmO3JldHVybiJzdHJpbmciPT10eXBlb2YgYiYmKGM9YVtiXSxiPWEsYT1jKSxuLmlzRnVuY3Rpb24oYSk/KGQ9ZS5jYWxsKGFyZ3VtZW50cywyKSxmPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxkLmNvbmNhdChlLmNhbGwoYXJndW1lbnRzKSkpfSxmLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8bi5ndWlkKyssZik6dm9pZCAwfSxub3c6RGF0ZS5ub3csc3VwcG9ydDpsfSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKG4uZm5bU3ltYm9sLml0ZXJhdG9yXT1jW1N5bWJvbC5pdGVyYXRvcl0pLG4uZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtpWyJbb2JqZWN0ICIrYisiXSJdPWIudG9Mb3dlckNhc2UoKX0pO2Z1bmN0aW9uIHMoYSl7dmFyIGI9ISFhJiYibGVuZ3RoImluIGEmJmEubGVuZ3RoLGM9bi50eXBlKGEpO3JldHVybiJmdW5jdGlvbiI9PT1jfHxuLmlzV2luZG93KGEpPyExOiJhcnJheSI9PT1jfHwwPT09Ynx8Im51bWJlciI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciB0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU9InNpenpsZSIrMSpuZXcgRGF0ZSx2PWEuZG9jdW1lbnQsdz0wLHg9MCx5PWdhKCksej1nYSgpLEE9Z2EoKSxCPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iJiYobD0hMCksMH0sQz0xPDwzMSxEPXt9Lmhhc093blByb3BlcnR5LEU9W10sRj1FLnBvcCxHPUUucHVzaCxIPUUucHVzaCxJPUUuc2xpY2UsSj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sSz0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLEw9IltcXHgyMFxcdFxcclxcblxcZl0iLE09Iig/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrIixOPSJcXFsiK0wrIiooIitNKyIpKD86IitMKyIqKFsqXiR8IX5dPz0pIitMKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrTSsiKSl8KSIrTCsiKlxcXSIsTz0iOigiK00rIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK04rIikqKXwuKilcXCl8KSIsUD1uZXcgUmVnRXhwKEwrIisiLCJnIiksUT1uZXcgUmVnRXhwKCJeIitMKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK0wrIiskIiwiZyIpLFI9bmV3IFJlZ0V4cCgiXiIrTCsiKiwiK0wrIioiKSxTPW5ldyBSZWdFeHAoIl4iK0wrIiooWz4rfl18IitMKyIpIitMKyIqIiksVD1uZXcgUmVnRXhwKCI9IitMKyIqKFteXFxdJ1wiXSo/KSIrTCsiKlxcXSIsImciKSxVPW5ldyBSZWdFeHAoTyksVj1uZXcgUmVnRXhwKCJeIitNKyIkIiksVz17SUQ6bmV3IFJlZ0V4cCgiXiMoIitNKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK00rIikiKSxUQUc6bmV3IFJlZ0V4cCgiXigiK00rInxbKl0pIiksQVRUUjpuZXcgUmVnRXhwKCJeIitOKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrTyksQ0hJTEQ6bmV3IFJlZ0V4cCgiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFwoIitMKyIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIitMKyIqKD86KFsrLV18KSIrTCsiKihcXGQrKXwpKSIrTCsiKlxcKXwpIiwiaSIpLGJvb2w6bmV3IFJlZ0V4cCgiXig/OiIrSysiKSQiLCJpIiksbmVlZHNDb250ZXh0Om5ldyBSZWdFeHAoIl4iK0wrIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrTCsiKigoPzotXFxkKT9cXGQqKSIrTCsiKlxcKXwpKD89W14tXXwkKSIsImkiKX0sWD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFk9L15oXGQkL2ksWj0vXltee10rXHtccypcW25hdGl2ZSBcdy8sJD0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLF89L1srfl0vLGFhPS8nfFxcL2csYmE9bmV3IFJlZ0V4cCgiXFxcXChbXFxkYS1mXXsxLDZ9IitMKyI/fCgiK0wrIil8LikiLCJpZyIpLGNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0iMHgiK2ItNjU1MzY7cmV0dXJuIGQhPT1kfHxjP2I6MD5kP1N0cmluZy5mcm9tQ2hhckNvZGUoZCs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShkPj4xMHw1NTI5NiwxMDIzJmR8NTYzMjApfSxkYT1mdW5jdGlvbigpe20oKX07dHJ5e0guYXBwbHkoRT1JLmNhbGwodi5jaGlsZE5vZGVzKSx2LmNoaWxkTm9kZXMpLEVbdi5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZWEpe0g9e2FwcGx5OkUubGVuZ3RoP2Z1bmN0aW9uKGEsYil7Ry5hcHBseShhLEkuY2FsbChiKSl9OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sZW5ndGgsZD0wO3doaWxlKGFbYysrXT1iW2QrK10pO2EubGVuZ3RoPWMtMX19fWZ1bmN0aW9uIGZhKGEsYixkLGUpe3ZhciBmLGgsaixrLGwsbyxyLHMsdz1iJiZiLm93bmVyRG9jdW1lbnQseD1iP2Iubm9kZVR5cGU6OTtpZihkPWR8fFtdLCJzdHJpbmciIT10eXBlb2YgYXx8IWF8fDEhPT14JiY5IT09eCYmMTEhPT14KXJldHVybiBkO2lmKCFlJiYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnYpIT09biYmbShiKSxiPWJ8fG4scCkpe2lmKDExIT09eCYmKG89JC5leGVjKGEpKSlpZihmPW9bMV0pe2lmKDk9PT14KXtpZighKGo9Yi5nZXRFbGVtZW50QnlJZChmKSkpcmV0dXJuIGQ7aWYoai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2UgaWYodyYmKGo9dy5nZXRFbGVtZW50QnlJZChmKSkmJnQoYixqKSYmai5pZD09PWYpcmV0dXJuIGQucHVzaChqKSxkfWVsc2V7aWYob1syXSlyZXR1cm4gSC5hcHBseShkLGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpLGQ7aWYoKGY9b1szXSkmJmMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGYpKSxkfWlmKGMucXNhJiYhQVthKyIgIl0mJighcXx8IXEudGVzdChhKSkpe2lmKDEhPT14KXc9YixzPWE7ZWxzZSBpZigib2JqZWN0IiE9PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7KGs9Yi5nZXRBdHRyaWJ1dGUoImlkIikpP2s9ay5yZXBsYWNlKGFhLCJcXCQmIik6Yi5zZXRBdHRyaWJ1dGUoImlkIixrPXUpLHI9ZyhhKSxoPXIubGVuZ3RoLGw9Vi50ZXN0KGspPyIjIitrOiJbaWQ9JyIraysiJ10iO3doaWxlKGgtLSlyW2hdPWwrIiAiK3FhKHJbaF0pO3M9ci5qb2luKCIsIiksdz1fLnRlc3QoYSkmJm9hKGIucGFyZW50Tm9kZSl8fGJ9aWYocyl0cnl7cmV0dXJuIEguYXBwbHkoZCx3LnF1ZXJ5U2VsZWN0b3JBbGwocykpLGR9Y2F0Y2goeSl7fWZpbmFsbHl7az09PXUmJmIucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGkoYS5yZXBsYWNlKFEsIiQxIiksYixkLGUpfWZ1bmN0aW9uIGdhKCl7dmFyIGE9W107ZnVuY3Rpb24gYihjLGUpe3JldHVybiBhLnB1c2goYysiICIpPmQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBiW2Euc2hpZnQoKV0sYltjKyIgIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBoYShhKXtyZXR1cm4gYVt1XT0hMCxhfWZ1bmN0aW9uIGlhKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiEhYShiKX1jYXRjaChjKXtyZXR1cm4hMX1maW5hbGx5e2IucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbH19ZnVuY3Rpb24gamEoYSxiKXt2YXIgYz1hLnNwbGl0KCJ8IiksZT1jLmxlbmd0aDt3aGlsZShlLS0pZC5hdHRySGFuZGxlW2NbZV1dPWJ9ZnVuY3Rpb24ga2EoYSxiKXt2YXIgYz1iJiZhLGQ9YyYmMT09PWEubm9kZVR5cGUmJjE9PT1iLm5vZGVUeXBlJiYofmIuc291cmNlSW5kZXh8fEMpLSh+YS5zb3VyY2VJbmRleHx8Qyk7aWYoZClyZXR1cm4gZDtpZihjKXdoaWxlKGM9Yy5uZXh0U2libGluZylpZihjPT09YilyZXR1cm4tMTtyZXR1cm4gYT8xOi0xfWZ1bmN0aW9uIGxhKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG1hKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1jfHwiYnV0dG9uIj09PWMpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBuYShhKXtyZXR1cm4gaGEoZnVuY3Rpb24oYil7cmV0dXJuIGI9K2IsaGEoZnVuY3Rpb24oYyxkKXt2YXIgZSxmPWEoW10sYy5sZW5ndGgsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pY1tlPWZbZ11dJiYoY1tlXT0hKGRbZV09Y1tlXSkpfSl9KX1mdW5jdGlvbiBvYShhKXtyZXR1cm4gYSYmInVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZhfWM9ZmEuc3VwcG9ydD17fSxmPWZhLmlzWE1MPWZ1bmN0aW9uKGEpe3ZhciBiPWEmJihhLm93bmVyRG9jdW1lbnR8fGEpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj8iSFRNTCIhPT1iLm5vZGVOYW1lOiExfSxtPWZhLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGUsZz1hP2Eub3duZXJEb2N1bWVudHx8YTp2O3JldHVybiBnIT09biYmOT09PWcubm9kZVR5cGUmJmcuZG9jdW1lbnRFbGVtZW50PyhuPWcsbz1uLmRvY3VtZW50RWxlbWVudCxwPSFmKG4pLChlPW4uZGVmYXVsdFZpZXcpJiZlLnRvcCE9PWUmJihlLmFkZEV2ZW50TGlzdGVuZXI/ZS5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGRhLCExKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsZGEpKSxjLmF0dHJpYnV0ZXM9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xhc3NOYW1lPSJpIiwhYS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksYy5nZXRFbGVtZW50c0J5VGFnTmFtZT1pYShmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBlbmRDaGlsZChuLmNyZWF0ZUNvbW1lbnQoIiIpKSwhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1aLnRlc3Qobi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxjLmdldEJ5SWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIG8uYXBwZW5kQ2hpbGQoYSkuaWQ9dSwhbi5nZXRFbGVtZW50c0J5TmFtZXx8IW4uZ2V0RWxlbWVudHNCeU5hbWUodSkubGVuZ3RofSksYy5nZXRCeUlkPyhkLmZpbmQuSUQ9ZnVuY3Rpb24oYSxiKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQmJnApe3ZhciBjPWIuZ2V0RWxlbWVudEJ5SWQoYSk7cmV0dXJuIGM/W2NdOltdfX0sZC5maWx0ZXIuSUQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGJhLGNhKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJpZCIpPT09Yn19KTooZGVsZXRlIGQuZmluZC5JRCxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSYmYS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBjJiZjLnZhbHVlPT09Yn19KSxkLmZpbmQuVEFHPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oYSxiKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWU/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTpjLnFzYT9iLnF1ZXJ5U2VsZWN0b3JBbGwoYSk6dm9pZCAwfTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0wLGY9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTtpZigiKiI9PT1hKXt3aGlsZShjPWZbZSsrXSkxPT09Yy5ub2RlVHlwZSYmZC5wdXNoKGMpO3JldHVybiBkfXJldHVybiBmfSxkLmZpbmQuQ0xBU1M9Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZwP2IuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKTp2b2lkIDB9LHI9W10scT1bXSwoYy5xc2E9Wi50ZXN0KG4ucXVlcnlTZWxlY3RvckFsbCkpJiYoaWEoZnVuY3Rpb24oYSl7by5hcHBlbmRDaGlsZChhKS5pbm5lckhUTUw9IjxhIGlkPSciK3UrIic+PC9hPjxzZWxlY3QgaWQ9JyIrdSsiLVxyXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IixhLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2FwdHVyZV49JyddIikubGVuZ3RoJiZxLnB1c2goIlsqXiRdPSIrTCsiKig/OicnfFwiXCIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxxLnB1c2goIlxcWyIrTCsiKig/OnZhbHVlfCIrSysiKSIpLGEucXVlcnlTZWxlY3RvckFsbCgiW2lkfj0iK3UrIi1dIikubGVuZ3RofHxxLnB1c2goIn49IiksYS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8cS5wdXNoKCI6Y2hlY2tlZCIpLGEucXVlcnlTZWxlY3RvckFsbCgiYSMiK3UrIisqIikubGVuZ3RofHxxLnB1c2goIi4jLitbK35dIil9KSxpYShmdW5jdGlvbihhKXt2YXIgYj1uLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKSxhLmFwcGVuZENoaWxkKGIpLnNldEF0dHJpYnV0ZSgibmFtZSIsIkQiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3RoJiZxLnB1c2goIm5hbWUiK0wrIipbKl4kfCF+XT89IiksYS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aHx8cS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEucXVlcnlTZWxlY3RvckFsbCgiKiw6eCIpLHEucHVzaCgiLC4qOiIpfSkpLChjLm1hdGNoZXNTZWxlY3Rvcj1aLnRlc3Qocz1vLm1hdGNoZXN8fG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxvLm1vek1hdGNoZXNTZWxlY3Rvcnx8by5vTWF0Y2hlc1NlbGVjdG9yfHxvLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmlhKGZ1bmN0aW9uKGEpe2MuZGlzY29ubmVjdGVkTWF0Y2g9cy5jYWxsKGEsImRpdiIpLHMuY2FsbChhLCJbcyE9JyddOngiKSxyLnB1c2goIiE9IixPKX0pLHE9cS5sZW5ndGgmJm5ldyBSZWdFeHAocS5qb2luKCJ8IikpLHI9ci5sZW5ndGgmJm5ldyBSZWdFeHAoci5qb2luKCJ8IikpLGI9Wi50ZXN0KG8uY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHQ9Ynx8Wi50ZXN0KG8uY29udGFpbnMpP2Z1bmN0aW9uKGEsYil7dmFyIGM9OT09PWEubm9kZVR5cGU/YS5kb2N1bWVudEVsZW1lbnQ6YSxkPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYT09PWR8fCEoIWR8fDEhPT1kLm5vZGVUeXBlfHwhKGMuY29udGFpbnM/Yy5jb250YWlucyhkKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGQpKSl9OmZ1bmN0aW9uKGEsYil7aWYoYil3aGlsZShiPWIucGFyZW50Tm9kZSlpZihiPT09YSlyZXR1cm4hMDtyZXR1cm4hMX0sQj1iP2Z1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgZD0hYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gZD9kOihkPShhLm93bmVyRG9jdW1lbnR8fGEpPT09KGIub3duZXJEb2N1bWVudHx8Yik/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKToxLDEmZHx8IWMuc29ydERldGFjaGVkJiZiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEpPT09ZD9hPT09bnx8YS5vd25lckRvY3VtZW50PT09diYmdCh2LGEpPy0xOmI9PT1ufHxiLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYik/MTprP0ooayxhKS1KKGssYik6MDo0JmQ/LTE6MSl9OmZ1bmN0aW9uKGEsYil7aWYoYT09PWIpcmV0dXJuIGw9ITAsMDt2YXIgYyxkPTAsZT1hLnBhcmVudE5vZGUsZj1iLnBhcmVudE5vZGUsZz1bYV0saD1bYl07aWYoIWV8fCFmKXJldHVybiBhPT09bj8tMTpiPT09bj8xOmU/LTE6Zj8xOms/SihrLGEpLUooayxiKTowO2lmKGU9PT1mKXJldHVybiBrYShhLGIpO2M9YTt3aGlsZShjPWMucGFyZW50Tm9kZSlnLnVuc2hpZnQoYyk7Yz1iO3doaWxlKGM9Yy5wYXJlbnROb2RlKWgudW5zaGlmdChjKTt3aGlsZShnW2RdPT09aFtkXSlkKys7cmV0dXJuIGQ/a2EoZ1tkXSxoW2RdKTpnW2RdPT09dj8tMTpoW2RdPT09dj8xOjB9LG4pOm59LGZhLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZmEoYSxudWxsLG51bGwsYil9LGZhLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe2lmKChhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSxiPWIucmVwbGFjZShULCI9JyQxJ10iKSxjLm1hdGNoZXNTZWxlY3RvciYmcCYmIUFbYisiICJdJiYoIXJ8fCFyLnRlc3QoYikpJiYoIXF8fCFxLnRlc3QoYikpKXRyeXt2YXIgZD1zLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBmYShiLG4sbnVsbCxbYV0pLmxlbmd0aD4wfSxmYS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKSx0KGEsYil9LGZhLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PW4mJm0oYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZELmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIXApOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IXA/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxmYS5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYSl9LGZhLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZD1bXSxlPTAsZj0wO2lmKGw9IWMuZGV0ZWN0RHVwbGljYXRlcyxrPSFjLnNvcnRTdGFibGUmJmEuc2xpY2UoMCksYS5zb3J0KEIpLGwpe3doaWxlKGI9YVtmKytdKWI9PT1hW2ZdJiYoZT1kLnB1c2goZikpO3doaWxlKGUtLSlhLnNwbGljZShkW2VdLDEpfXJldHVybiBrPW51bGwsYX0sZT1mYS5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiLGM9IiIsZD0wLGY9YS5ub2RlVHlwZTtpZihmKXtpZigxPT09Znx8OT09PWZ8fDExPT09Zil7aWYoInN0cmluZyI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9ZmEuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86aGEsbWF0Y2g6VyxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV09YVsxXS5yZXBsYWNlKGJhLGNhKSxhWzNdPShhWzNdfHxhWzRdfHxhWzVdfHwiIikucmVwbGFjZShiYSxjYSksIn49Ij09PWFbMl0mJihhWzNdPSIgIithWzNdKyIgIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksIm50aCI9PT1hWzFdLnNsaWNlKDAsMyk/KGFbM118fGZhLmVycm9yKGFbMF0pLGFbNF09KyhhWzRdP2FbNV0rKGFbNl18fDEpOjIqKCJldmVuIj09PWFbM118fCJvZGQiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fCJvZGQiPT09YVszXSkpOmFbM10mJmZhLmVycm9yKGFbMF0pLGF9LFBTRVVETzpmdW5jdGlvbihhKXt2YXIgYixjPSFhWzZdJiZhWzJdO3JldHVybiBXLkNISUxELnRlc3QoYVswXSk/bnVsbDooYVszXT9hWzJdPWFbNF18fGFbNV18fCIiOmMmJlUudGVzdChjKSYmKGI9ZyhjLCEwKSkmJihiPWMuaW5kZXhPZigiKSIsYy5sZW5ndGgtYiktYy5sZW5ndGgpJiYoYVswXT1hWzBdLnNsaWNlKDAsYiksYVsyXT1jLnNsaWNlKDAsYikpLGEuc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXlbYSsiICJdO3JldHVybiBifHwoYj1uZXcgUmVnRXhwKCIoXnwiK0wrIikiK2ErIigiK0wrInwkKSIpKSYmeShhLGZ1bmN0aW9uKGEpe3JldHVybiBiLnRlc3QoInN0cmluZyI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWZhLmF0dHIoZCxhKTtyZXR1cm4gbnVsbD09ZT8iIT0iPT09YjpiPyhlKz0iIiwiPSI9PT1iP2U9PT1jOiIhPSI9PT1iP2UhPT1jOiJePSI9PT1iP2MmJjA9PT1lLmluZGV4T2YoYyk6Iio9Ij09PWI/YyYmZS5pbmRleE9mKGMpPi0xOiIkPSI9PT1iP2MmJmUuc2xpY2UoLWMubGVuZ3RoKT09PWM6In49Ij09PWI/KCIgIitlLnJlcGxhY2UoUCwiICIpKyIgIikuaW5kZXhPZihjKT4tMToifD0iPT09Yj9lPT09Y3x8ZS5zbGljZSgwLGMubGVuZ3RoKzEpPT09YysiLSI6ITEpOiEwfX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0ibnRoIiE9PWEuc2xpY2UoMCwzKSxnPSJsYXN0IiE9PWEuc2xpY2UoLTQpLGg9Im9mLXR5cGUiPT09YjtyZXR1cm4gMT09PWQmJjA9PT1lP2Z1bmN0aW9uKGEpe3JldHVybiEhYS5wYXJlbnROb2RlfTpmdW5jdGlvbihiLGMsaSl7dmFyIGosayxsLG0sbixvLHA9ZiE9PWc/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixxPWIucGFyZW50Tm9kZSxyPWgmJmIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxzPSFpJiYhaCx0PSExO2lmKHEpe2lmKGYpe3doaWxlKHApe209Yjt3aGlsZShtPW1bcF0paWYoaD9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1tLm5vZGVUeXBlKXJldHVybiExO289cD0ib25seSI9PT1hJiYhbyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZihvPVtnP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF0sZyYmcyl7bT1xLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4mJmpbMl0sbT1uJiZxLmNoaWxkTm9kZXNbbl07d2hpbGUobT0rK24mJm0mJm1bcF18fCh0PW49MCl8fG8ucG9wKCkpaWYoMT09PW0ubm9kZVR5cGUmJisrdCYmbT09PWIpe2tbYV09W3csbix0XTticmVha319ZWxzZSBpZihzJiYobT1iLGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGo9a1thXXx8W10sbj1qWzBdPT09dyYmalsxXSx0PW4pLHQ9PT0hMSl3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigoaD9tLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1tLm5vZGVUeXBlKSYmKyt0JiYocyYmKGw9bVt1XXx8KG1bdV09e30pLGs9bFttLnVuaXF1ZUlEXXx8KGxbbS51bmlxdWVJRF09e30pLGtbYV09W3csdF0pLG09PT1iKSlicmVhaztyZXR1cm4gdC09ZSx0PT09ZHx8dCVkPT09MCYmdC9kPj0wfX19LFBTRVVETzpmdW5jdGlvbihhLGIpe3ZhciBjLGU9ZC5wc2V1ZG9zW2FdfHxkLnNldEZpbHRlcnNbYS50b0xvd2VyQ2FzZSgpXXx8ZmEuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIithKTtyZXR1cm4gZVt1XT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSwiIixiXSxkLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoYS50b0xvd2VyQ2FzZSgpKT9oYShmdW5jdGlvbihhLGMpe3ZhciBkLGY9ZShhLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWQ9SihhLGZbZ10pLGFbZF09IShjW2RdPWZbZ10pfSk6ZnVuY3Rpb24oYSl7cmV0dXJuIGUoYSwwLGMpfSk6ZX19LHBzZXVkb3M6e25vdDpoYShmdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdLGQ9aChhLnJlcGxhY2UoUSwiJDEiKSk7cmV0dXJuIGRbdV0/aGEoZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksYlswXT1udWxsLCFjLnBvcCgpfX0pLGhhczpoYShmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGZhKGEsYikubGVuZ3RoPjB9fSksY29udGFpbnM6aGEoZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKGJhLGNhKSxmdW5jdGlvbihiKXtyZXR1cm4oYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fGUoYikpLmluZGV4T2YoYSk+LTF9fSksbGFuZzpoYShmdW5jdGlvbihhKXtyZXR1cm4gVi50ZXN0KGF8fCIiKXx8ZmEuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrYSksYT1hLnJlcGxhY2UoYmEsY2EpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oYil7dmFyIGM7ZG8gaWYoYz1wP2IubGFuZzpiLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8Yi5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYSsiLSIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9YS5sb2NhdGlvbiYmYS5sb2NhdGlvbi5oYXNoO3JldHVybiBjJiZjLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihhKXtyZXR1cm4gYT09PW99LGZvY3VzOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bi5hY3RpdmVFbGVtZW50JiYoIW4uaGFzRm9jdXN8fG4uaGFzRm9jdXMoKSkmJiEhKGEudHlwZXx8YS5ocmVmfHx+YS50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMX0sZGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMH0sY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiEhYS5jaGVja2VkfHwib3B0aW9uIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBZLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBYLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiJidXR0b24iPT09YS50eXBlfHwiYnV0dG9uIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuImlucHV0Ij09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0Om5hKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpuYShmdW5jdGlvbihhLGIpe3JldHVybltiLTFdfSksZXE6bmEoZnVuY3Rpb24oYSxiLGMpe3JldHVyblswPmM/YytiOmNdfSksZXZlbjpuYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLG9kZDpuYShmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2I+YztjKz0yKWEucHVzaChjKTtyZXR1cm4gYX0pLGx0Om5hKGZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MD5jP2MrYjpjOy0tZD49MDspYS5wdXNoKGQpO3JldHVybiBhfSksZ3Q6bmEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7KytkPGI7KWEucHVzaChkKTtyZXR1cm4gYX0pfX0sZC5wc2V1ZG9zLm50aD1kLnBzZXVkb3MuZXE7Zm9yKGIgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pZC5wc2V1ZG9zW2JdPWxhKGIpO2ZvcihiIGlue3N1Ym1pdDohMCxyZXNldDohMH0pZC5wc2V1ZG9zW2JdPW1hKGIpO2Z1bmN0aW9uIHBhKCl7fXBhLnByb3RvdHlwZT1kLmZpbHRlcnM9ZC5wc2V1ZG9zLGQuc2V0RmlsdGVycz1uZXcgcGEsZz1mYS50b2tlbml6ZT1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGs9elthKyIgIl07aWYoaylyZXR1cm4gYj8wOmsuc2xpY2UoMCk7aD1hLGk9W10saj1kLnByZUZpbHRlcjt3aGlsZShoKXsoIWN8fChlPVIuZXhlYyhoKSkpJiYoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1TLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFEsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1XW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/ZmEuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBxYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHJhKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGosaz1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGo9Ylt1XXx8KGJbdV09e30pLGk9altiLnVuaXF1ZUlEXXx8KGpbYi51bmlxdWVJRF09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGtbMl09aFsyXTtpZihpW2RdPWssa1syXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmEoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHVhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJighY3x8YyhmLGQsZSkpJiYoZy5wdXNoKGYpLGomJmIucHVzaChoKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmEoZCkpLGUmJiFlW3VdJiYoZT12YShlLGYpKSxoYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YShifHwiKiIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp1YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dWEocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0ooZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXVhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpILmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlWyIgIl0saT1nPzE6MCxrPXJhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYShmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtyYShzYShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gdmEoaT4xJiZzYShtKSxpPjEmJnFhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09YVtpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoUSwiJDEiKSxjLGU+aSYmd2EoYS5zbGljZShpLGUpKSxmPmUmJndhKGE9YS5zbGljZShlKSksZj5lJiZxYShhKSl9bS5wdXNoKGMpfXJldHVybiBzYShtKX1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9IjAiLHQ9ZiYmW10sdT1bXSx2PWoseD1mfHxlJiZkLmZpbmQuVEFHKCIqIixrKSx5PXcrPW51bGw9PXY/MTpNYXRoLnJhbmRvbSgpfHwuMSx6PXgubGVuZ3RoO2ZvcihrJiYoaj1nPT09bnx8Z3x8ayk7cyE9PXomJm51bGwhPShsPXhbc10pO3MrKyl7aWYoZSYmbCl7bz0wLGd8fGwub3duZXJEb2N1bWVudD09PW58fChtKGwpLGg9IXApO3doaWxlKHE9YVtvKytdKWlmKHEobCxnfHxuLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9eSl9YyYmKChsPSFxJiZsKSYmci0tLGYmJnQucHVzaChsKSl9aWYocis9cyxjJiZzIT09cil7bz0wO3doaWxlKHE9YltvKytdKXEodCx1LGcsaCk7aWYoZil7aWYocj4wKXdoaWxlKHMtLSl0W3NdfHx1W3NdfHwodVtzXT1GLmNhbGwoaSkpO3U9dWEodSl9SC5hcHBseShpLHUpLGsmJiFmJiZ1Lmxlbmd0aD4wJiZyK2IubGVuZ3RoPjEmJmZhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXksaj12KSx0fTtyZXR1cm4gYz9oYShmKTpmfXJldHVybiBoPWZhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErIiAiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiYiSUQiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1XLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShiYSxjYSksXy50ZXN0KGpbMF0udHlwZSkmJm9hKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYShqKSwhYSlyZXR1cm4gSC5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSwhYnx8Xy50ZXN0KGEpJiZvYShiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGphKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGphKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxqYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwclsiOiJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlU29ydD1uLnVuaXF1ZT10LnVuaXF1ZVNvcnQsbi50ZXh0PXQuZ2V0VGV4dCxuLmlzWE1MRG9jPXQuaXNYTUwsbi5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sdj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY30sdz1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHg9L148KFtcdy1dKylccypcLz8+KD86PFwvXDE+fCkkLyx5PS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24geihhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih5LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBoLmNhbGwoYixhKT4tMSE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPXRoaXMubGVuZ3RoLGQ9W10sZT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2M+YjtiKyspaWYobi5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7Yz5iO2IrKyluLmZpbmQoYSxlW2JdLGQpO3JldHVybiBkPXRoaXMucHVzaFN0YWNrKGM+MT9uLnVuaXF1ZShkKTpkKSxkLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrYTphLGR9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEheih0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmdy50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgQSxCPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC8sQz1uLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxBLCJzdHJpbmciPT10eXBlb2YgYSl7aWYoZT0iPCI9PT1hWzBdJiYiPiI9PT1hW2EubGVuZ3RoLTFdJiZhLmxlbmd0aD49Mz9bbnVsbCxhLG51bGxdOkIuZXhlYyhhKSwhZXx8IWVbMV0mJmIpcmV0dXJuIWJ8fGIuanF1ZXJ5PyhifHxjKS5maW5kKGEpOnRoaXMuY29uc3RydWN0b3IoYikuZmluZChhKTtpZihlWzFdKXtpZihiPWIgaW5zdGFuY2VvZiBuP2JbMF06YixuLm1lcmdlKHRoaXMsbi5wYXJzZUhUTUwoZVsxXSxiJiZiLm5vZGVUeXBlP2Iub3duZXJEb2N1bWVudHx8YjpkLCEwKSkseC50ZXN0KGVbMV0pJiZuLmlzUGxhaW5PYmplY3QoYikpZm9yKGUgaW4gYiluLmlzRnVuY3Rpb24odGhpc1tlXSk/dGhpc1tlXShiW2VdKTp0aGlzLmF0dHIoZSxiW2VdKTtyZXR1cm4gdGhpc31yZXR1cm4gZj1kLmdldEVsZW1lbnRCeUlkKGVbMl0pLGYmJmYucGFyZW50Tm9kZSYmKHRoaXMubGVuZ3RoPTEsdGhpc1swXT1mKSx0aGlzLmNvbnRleHQ9ZCx0aGlzLnNlbGVjdG9yPWEsdGhpc31yZXR1cm4gYS5ub2RlVHlwZT8odGhpcy5jb250ZXh0PXRoaXNbMF09YSx0aGlzLmxlbmd0aD0xLHRoaXMpOm4uaXNGdW5jdGlvbihhKT92b2lkIDAhPT1jLnJlYWR5P2MucmVhZHkoYSk6YShuKToodm9pZCAwIT09YS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KSxuLm1ha2VBcnJheShhLHRoaXMpKX07Qy5wcm90b3R5cGU9bi5mbixBPW4oZCk7dmFyIEQ9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sRT17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtuLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiPW4oYSx0aGlzKSxjPWIubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2M+YTthKyspaWYobi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMsZD0wLGU9dGhpcy5sZW5ndGgsZj1bXSxnPXcudGVzdChhKXx8InN0cmluZyIhPXR5cGVvZiBhP24oYSxifHx0aGlzLmNvbnRleHQpOjA7ZT5kO2QrKylmb3IoYz10aGlzW2RdO2MmJmMhPT1iO2M9Yy5wYXJlbnROb2RlKWlmKGMubm9kZVR5cGU8MTEmJihnP2cuaW5kZXgoYyk+LTE6MT09PWMubm9kZVR5cGUmJm4uZmluZC5tYXRjaGVzU2VsZWN0b3IoYyxhKSkpe2YucHVzaChjKTticmVha31yZXR1cm4gdGhpcy5wdXNoU3RhY2soZi5sZW5ndGg+MT9uLnVuaXF1ZVNvcnQoZik6Zil9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhPyJzdHJpbmciPT10eXBlb2YgYT9oLmNhbGwobihhKSx0aGlzWzBdKTpoLmNhbGwodGhpcyxhLmpxdWVyeT9hWzBdOmEpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4udW5pcXVlU29ydChuLm1lcmdlKHRoaXMuZ2V0KCksbihhLGIpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFkZChudWxsPT1hP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKGEpKX19KTtmdW5jdGlvbiBGKGEsYil7d2hpbGUoKGE9YVtiXSkmJjEhPT1hLm5vZGVUeXBlKTtyZXR1cm4gYX1uLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJjExIT09Yi5ub2RlVHlwZT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBGKGEsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSwicHJldmlvdXNTaWJsaW5nIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHYoKGEucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYSl9LGNoaWxkcmVuOmZ1bmN0aW9uKGEpe3JldHVybiB2KGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8bi5tZXJnZShbXSxhLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oYSxiKXtuLmZuW2FdPWZ1bmN0aW9uKGMsZCl7dmFyIGU9bi5tYXAodGhpcyxiLGMpO3JldHVybiJVbnRpbCIhPT1hLnNsaWNlKC01KSYmKGQ9YyksZCYmInN0cmluZyI9PXR5cGVvZiBkJiYoZT1uLmZpbHRlcihkLGUpKSx0aGlzLmxlbmd0aD4xJiYoRVthXXx8bi51bmlxdWVTb3J0KGUpLEQudGVzdChhKSYmZS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBHPS9cUysvZztmdW5jdGlvbiBIKGEpe3ZhciBiPXt9O3JldHVybiBuLmVhY2goYS5tYXRjaChHKXx8W10sZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSksYn1uLkNhbGxiYWNrcz1mdW5jdGlvbihhKXthPSJzdHJpbmciPT10eXBlb2YgYT9IKGEpOm4uZXh0ZW5kKHt9LGEpO3ZhciBiLGMsZCxlLGY9W10sZz1bXSxoPS0xLGk9ZnVuY3Rpb24oKXtmb3IoZT1hLm9uY2UsZD1iPSEwO2cubGVuZ3RoO2g9LTEpe2M9Zy5zaGlmdCgpO3doaWxlKCsraDxmLmxlbmd0aClmW2hdLmFwcGx5KGNbMF0sY1sxXSk9PT0hMSYmYS5zdG9wT25GYWxzZSYmKGg9Zi5sZW5ndGgsYz0hMSl9YS5tZW1vcnl8fChjPSExKSxiPSExLGUmJihmPWM/W106IiIpfSxqPXthZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gZiYmKGMmJiFiJiYoaD1mLmxlbmd0aC0xLGcucHVzaChjKSksZnVuY3Rpb24gZChiKXtuLmVhY2goYixmdW5jdGlvbihiLGMpe24uaXNGdW5jdGlvbihjKT9hLnVuaXF1ZSYmai5oYXMoYyl8fGYucHVzaChjKTpjJiZjLmxlbmd0aCYmInN0cmluZyIhPT1uLnR5cGUoYykmJmQoYyl9KX0oYXJndW1lbnRzKSxjJiYhYiYmaSgpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe3ZhciBjO3doaWxlKChjPW4uaW5BcnJheShiLGYsYykpPi0xKWYuc3BsaWNlKGMsMSksaD49YyYmaC0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP24uaW5BcnJheShhLGYpPi0xOmYubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihmPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGU9Zz1bXSxmPWM9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hZn0sbG9jazpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sY3x8KGY9Yz0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFlfSxmaXJlV2l0aDpmdW5jdGlvbihhLGMpe3JldHVybiBlfHwoYz1jfHxbXSxjPVthLGMuc2xpY2U/Yy5zbGljZSgpOmNdLGcucHVzaChjKSxifHxpKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gai5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWR9fTtyZXR1cm4gan0sbi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbInJlc29sdmUiLCJkb25lIixuLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLG4uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLGM9InBlbmRpbmciLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gbi5EZWZlcnJlZChmdW5jdGlvbihjKXtuLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW4uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmbi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkucHJvZ3Jlc3MoYy5ub3RpZnkpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KTpjW2ZbMF0rIldpdGgiXSh0aGlzPT09ZD9jLnByb21pc2UoKTp0aGlzLGc/W2FdOmFyZ3VtZW50cyl9KX0pLGE9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9uLmV4dGVuZChhLGQpOmR9fSxlPXt9O3JldHVybiBkLnBpcGU9ZC50aGVuLG4uZWFjaChiLGZ1bmN0aW9uKGEsZil7dmFyIGc9ZlsyXSxoPWZbM107ZFtmWzFdXT1nLmFkZCxoJiZnLmFkZChmdW5jdGlvbigpe2M9aH0sYlsxXmFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKSxlW2ZbMF1dPWZ1bmN0aW9uKCl7cmV0dXJuIGVbZlswXSsiV2l0aCJdKHRoaXM9PT1lP2Q6dGhpcyxhcmd1bWVudHMpLHRoaXN9LGVbZlswXSsiV2l0aCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9ZS5jYWxsKGFyZ3VtZW50cyksZD1jLmxlbmd0aCxmPTEhPT1kfHxhJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9kOjAsZz0xPT09Zj9hOm4uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2UuY2FsbChhcmd1bWVudHMpOmQsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fSxpLGosaztpZihkPjEpZm9yKGk9bmV3IEFycmF5KGQpLGo9bmV3IEFycmF5KGQpLGs9bmV3IEFycmF5KGQpO2Q+YjtiKyspY1tiXSYmbi5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkucHJvZ3Jlc3MoaChiLGosaSkpLmRvbmUoaChiLGssYykpLmZhaWwoZy5yZWplY3QpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBJO24uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG4ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sbi5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/bi5yZWFkeVdhaXQrKzpuLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW4ucmVhZHlXYWl0Om4uaXNSZWFkeSl8fChuLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW4ucmVhZHlXYWl0PjB8fChJLnJlc29sdmVXaXRoKGQsW25dKSxuLmZuLnRyaWdnZXJIYW5kbGVyJiYobihkKS50cmlnZ2VySGFuZGxlcigicmVhZHkiKSxuKGQpLm9mZigicmVhZHkiKSkpKX19KTtmdW5jdGlvbiBKKCl7ZC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixKKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLEopLG4ucmVhZHkoKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7cmV0dXJuIEl8fChJPW4uRGVmZXJyZWQoKSwiY29tcGxldGUiPT09ZC5yZWFkeVN0YXRlfHwibG9hZGluZyIhPT1kLnJlYWR5U3RhdGUmJiFkLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9hLnNldFRpbWVvdXQobi5yZWFkeSk6KGQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSiksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixKKSkpLEkucHJvbWlzZShiKX0sbi5yZWFkeS5wcm9taXNlKCk7dmFyIEs9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9MCxpPWEubGVuZ3RoLGo9bnVsbD09YztpZigib2JqZWN0Ij09PW4udHlwZShjKSl7ZT0hMDtmb3IoaCBpbiBjKUsoYSxiLGgsY1toXSwhMCxmLGcpfWVsc2UgaWYodm9pZCAwIT09ZCYmKGU9ITAsbi5pc0Z1bmN0aW9uKGQpfHwoZz0hMCksaiYmKGc/KGIuY2FsbChhLGQpLGI9bnVsbCk6KGo9YixiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gai5jYWxsKG4oYSksYyl9KSksYikpZm9yKDtpPmg7aCsrKWIoYVtoXSxjLGc/ZDpkLmNhbGwoYVtoXSxoLGIoYVtoXSxjKSkpO3JldHVybiBlP2E6aj9iLmNhbGwoYSk6aT9iKGFbMF0sYyk6Zn0sTD1mdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV8fDk9PT1hLm5vZGVUeXBlfHwhK2Eubm9kZVR5cGV9O2Z1bmN0aW9uIE0oKXt0aGlzLmV4cGFuZG89bi5leHBhbmRvK00udWlkKyt9TS51aWQ9MSxNLnByb3RvdHlwZT17cmVnaXN0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHx7fTtyZXR1cm4gYS5ub2RlVHlwZT9hW3RoaXMuZXhwYW5kb109YzpPYmplY3QuZGVmaW5lUHJvcGVydHkoYSx0aGlzLmV4cGFuZG8se3ZhbHVlOmMsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksYVt0aGlzLmV4cGFuZG9dfSxjYWNoZTpmdW5jdGlvbihhKXtpZighTChhKSlyZXR1cm57fTt2YXIgYj1hW3RoaXMuZXhwYW5kb107cmV0dXJuIGJ8fChiPXt9LEwoYSkmJihhLm5vZGVUeXBlP2FbdGhpcy5leHBhbmRvXT1iOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLHRoaXMuZXhwYW5kbyx7dmFsdWU6Yixjb25maWd1cmFibGU6ITB9KSkpLGJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT10aGlzLmNhY2hlKGEpO2lmKCJzdHJpbmciPT10eXBlb2YgYillW2JdPWM7ZWxzZSBmb3IoZCBpbiBiKWVbZF09YltkXTtyZXR1cm4gZX0sZ2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHZvaWQgMD09PWI/dGhpcy5jYWNoZShhKTphW3RoaXMuZXhwYW5kb10mJmFbdGhpcy5leHBhbmRvXVtiXX0sYWNjZXNzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gdm9pZCAwPT09Ynx8YiYmInN0cmluZyI9PXR5cGVvZiBiJiZ2b2lkIDA9PT1jPyhkPXRoaXMuZ2V0KGEsYiksdm9pZCAwIT09ZD9kOnRoaXMuZ2V0KGEsbi5jYW1lbENhc2UoYikpKToodGhpcy5zZXQoYSxiLGMpLHZvaWQgMCE9PWM/YzpiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9YVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PWYpe2lmKHZvaWQgMD09PWIpdGhpcy5yZWdpc3RlcihhKTtlbHNle24uaXNBcnJheShiKT9kPWIuY29uY2F0KGIubWFwKG4uY2FtZWxDYXNlKSk6KGU9bi5jYW1lbENhc2UoYiksYiBpbiBmP2Q9W2IsZV06KGQ9ZSxkPWQgaW4gZj9bZF06ZC5tYXRjaChHKXx8W10pKSxjPWQubGVuZ3RoO3doaWxlKGMtLSlkZWxldGUgZltkW2NdXX0odm9pZCAwPT09Ynx8bi5pc0VtcHR5T2JqZWN0KGYpKSYmKGEubm9kZVR5cGU/YVt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgYVt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9YVt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT1iJiYhbi5pc0VtcHR5T2JqZWN0KGIpfX07dmFyIE49bmV3IE0sTz1uZXcgTSxQPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sUT0vW0EtWl0vZztmdW5jdGlvbiBSKGEsYixjKXt2YXIgZDtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSlpZihkPSJkYXRhLSIrYi5yZXBsYWNlKFEsIi0kJiIpLnRvTG93ZXJDYXNlKCksYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSJ0cnVlIj09PWM/ITA6ImZhbHNlIj09PWM/ITE6Im51bGwiPT09Yz9udWxsOitjKyIiPT09Yz8rYzpQLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9Ty5zZXQoYSxiLGMpOwp9ZWxzZSBjPXZvaWQgMDtyZXR1cm4gY31uLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gTy5oYXNEYXRhKGEpfHxOLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBPLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtPLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIE4uYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtOLnJlbW92ZShhLGIpfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9Ty5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFOLmdldChmLCJoYXNEYXRhQXR0cnMiKSkpe2M9Zy5sZW5ndGg7d2hpbGUoYy0tKWdbY10mJihkPWdbY10ubmFtZSwwPT09ZC5pbmRleE9mKCJkYXRhLSIpJiYoZD1uLmNhbWVsQ2FzZShkLnNsaWNlKDUpKSxSKGYsZCxlW2RdKSkpO04uc2V0KGYsImhhc0RhdGFBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXtPLnNldCh0aGlzLGEpfSk6Syh0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjLGQ7aWYoZiYmdm9pZCAwPT09Yil7aWYoYz1PLmdldChmLGEpfHxPLmdldChmLGEucmVwbGFjZShRLCItJCYiKS50b0xvd2VyQ2FzZSgpKSx2b2lkIDAhPT1jKXJldHVybiBjO2lmKGQ9bi5jYW1lbENhc2UoYSksYz1PLmdldChmLGQpLHZvaWQgMCE9PWMpcmV0dXJuIGM7aWYoYz1SKGYsZCx2b2lkIDApLHZvaWQgMCE9PWMpcmV0dXJuIGN9ZWxzZSBkPW4uY2FtZWxDYXNlKGEpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU8uZ2V0KHRoaXMsZCk7Ty5zZXQodGhpcyxkLGIpLGEuaW5kZXhPZigiLSIpPi0xJiZ2b2lkIDAhPT1jJiZPLnNldCh0aGlzLGEsYil9KX0sbnVsbCxiLGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Ty5yZW1vdmUodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1OLmdldChhLGIpLGMmJighZHx8bi5pc0FycmF5KGMpP2Q9Ti5hY2Nlc3MoYSxiLG4ubWFrZUFycmF5KGMpKTpkLnB1c2goYykpLGR8fFtdKTp2b2lkIDB9LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fCJmeCI7dmFyIGM9bi5xdWV1ZShhLGIpLGQ9Yy5sZW5ndGgsZT1jLnNoaWZ0KCksZj1uLl9xdWV1ZUhvb2tzKGEsYiksZz1mdW5jdGlvbigpe24uZGVxdWV1ZShhLGIpfTsiaW5wcm9ncmVzcyI9PT1lJiYoZT1jLnNoaWZ0KCksZC0tKSxlJiYoImZ4Ij09PWImJmMudW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBmLnN0b3AsZS5jYWxsKGEsZyxmKSksIWQmJmYmJmYuZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihhLGIpe3ZhciBjPWIrInF1ZXVlSG9va3MiO3JldHVybiBOLmdldChhLGMpfHxOLmFjY2VzcyhhLGMse2VtcHR5Om4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe04ucmVtb3ZlKGEsW2IrInF1ZXVlIixjXSl9KX0pfX0pLG4uZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIpe3ZhciBjPTI7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBhJiYoYj1hLGE9ImZ4IixjLS0pLGFyZ3VtZW50cy5sZW5ndGg8Yz9uLnF1ZXVlKHRoaXNbMF0sYSk6dm9pZCAwPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPW4ucXVldWUodGhpcyxhLGIpO24uX3F1ZXVlSG9va3ModGhpcyxhKSwiZngiPT09YSYmImlucHJvZ3Jlc3MiIT09Y1swXSYmbi5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5kZXF1ZXVlKHRoaXMsYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MSxlPW4uRGVmZXJyZWQoKSxmPXRoaXMsZz10aGlzLmxlbmd0aCxoPWZ1bmN0aW9uKCl7LS1kfHxlLnJlc29sdmVXaXRoKGYsW2ZdKX07InN0cmluZyIhPXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKSxhPWF8fCJmeCI7d2hpbGUoZy0tKWM9Ti5nZXQoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSk7dmFyIFM9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsVD1uZXcgUmVnRXhwKCJeKD86KFsrLV0pPXwpKCIrUysiKShbYS16JV0qKSQiLCJpIiksVT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLFY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1ifHxhLCJub25lIj09PW4uY3NzKGEsImRpc3BsYXkiKXx8IW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfTtmdW5jdGlvbiBXKGEsYixjLGQpe3ZhciBlLGY9MSxnPTIwLGg9ZD9mdW5jdGlvbigpe3JldHVybiBkLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBuLmNzcyhhLGIsIiIpfSxpPWgoKSxqPWMmJmNbM118fChuLmNzc051bWJlcltiXT8iIjoicHgiKSxrPShuLmNzc051bWJlcltiXXx8InB4IiE9PWomJitpKSYmVC5leGVjKG4uY3NzKGEsYikpO2lmKGsmJmtbM10hPT1qKXtqPWp8fGtbM10sYz1jfHxbXSxrPStpfHwxO2RvIGY9Znx8Ii41IixrLz1mLG4uc3R5bGUoYSxiLGsraik7d2hpbGUoZiE9PShmPWgoKS9pKSYmMSE9PWYmJi0tZyl9cmV0dXJuIGMmJihrPStrfHwraXx8MCxlPWNbMV0/aysoY1sxXSsxKSpjWzJdOitjWzJdLGQmJihkLnVuaXQ9aixkLnN0YXJ0PWssZC5lbmQ9ZSkpLGV9dmFyIFg9L14oPzpjaGVja2JveHxyYWRpbykkL2ksWT0vPChbXHc6LV0rKS8sWj0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksJD17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxfZGVmYXVsdDpbMCwiIiwiIl19OyQub3B0Z3JvdXA9JC5vcHRpb24sJC50Ym9keT0kLnRmb290PSQuY29sZ3JvdXA9JC5jYXB0aW9uPSQudGhlYWQsJC50aD0kLnRkO2Z1bmN0aW9uIF8oYSxiKXt2YXIgYz0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOltdO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sYyk6Y31mdW5jdGlvbiBhYShhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7ZD5jO2MrKylOLnNldChhW2NdLCJnbG9iYWxFdmFsIiwhYnx8Ti5nZXQoYltjXSwiZ2xvYmFsRXZhbCIpKX12YXIgYmE9Lzx8JiM/XHcrOy87ZnVuY3Rpb24gY2EoYSxiLGMsZCxlKXtmb3IodmFyIGYsZyxoLGksaixrLGw9Yi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbT1bXSxvPTAscD1hLmxlbmd0aDtwPm87bysrKWlmKGY9YVtvXSxmfHwwPT09ZilpZigib2JqZWN0Ij09PW4udHlwZShmKSluLm1lcmdlKG0sZi5ub2RlVHlwZT9bZl06Zik7ZWxzZSBpZihiYS50ZXN0KGYpKXtnPWd8fGwuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksaD0oWS5leGVjKGYpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGk9JFtoXXx8JC5fZGVmYXVsdCxnLmlubmVySFRNTD1pWzFdK24uaHRtbFByZWZpbHRlcihmKStpWzJdLGs9aVswXTt3aGlsZShrLS0pZz1nLmxhc3RDaGlsZDtuLm1lcmdlKG0sZy5jaGlsZE5vZGVzKSxnPWwuZmlyc3RDaGlsZCxnLnRleHRDb250ZW50PSIifWVsc2UgbS5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZikpO2wudGV4dENvbnRlbnQ9IiIsbz0wO3doaWxlKGY9bVtvKytdKWlmKGQmJm4uaW5BcnJheShmLGQpPi0xKWUmJmUucHVzaChmKTtlbHNlIGlmKGo9bi5jb250YWlucyhmLm93bmVyRG9jdW1lbnQsZiksZz1fKGwuYXBwZW5kQ2hpbGQoZiksInNjcmlwdCIpLGomJmFhKGcpLGMpe2s9MDt3aGlsZShmPWdbaysrXSlaLnRlc3QoZi50eXBlfHwiIikmJmMucHVzaChmKX1yZXR1cm4gbH0hZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxiPWEuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KCJkaXYiKSksYz1kLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGMuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGMuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGIuYXBwZW5kQ2hpbGQoYyksbC5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixsLm5vQ2xvbmVDaGVja2VkPSEhYi5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIGRhPS9ea2V5LyxlYT0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sZmE9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIGdhKCl7cmV0dXJuITB9ZnVuY3Rpb24gaGEoKXtyZXR1cm4hMX1mdW5jdGlvbiBpYSgpe3RyeXtyZXR1cm4gZC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gamEoYSxiLGMsZCxlLGYpe3ZhciBnLGg7aWYoIm9iamVjdCI9PXR5cGVvZiBiKXsic3RyaW5nIiE9dHlwZW9mIGMmJihkPWR8fGMsYz12b2lkIDApO2ZvcihoIGluIGIpamEoYSxoLGMsZCxiW2hdLGYpO3JldHVybiBhfWlmKG51bGw9PWQmJm51bGw9PWU/KGU9YyxkPWM9dm9pZCAwKTpudWxsPT1lJiYoInN0cmluZyI9PXR5cGVvZiBjPyhlPWQsZD12b2lkIDApOihlPWQsZD1jLGM9dm9pZCAwKSksZT09PSExKWU9aGE7ZWxzZSBpZighZSlyZXR1cm4gYTtyZXR1cm4gMT09PWYmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1uLmd1aWQrKykpLGEuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYixlLGQsYyl9KX1uLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPU4uZ2V0KGEpO2lmKHIpe2MuaGFuZGxlciYmKGY9YyxjPWYuaGFuZGxlcixlPWYuc2VsZWN0b3IpLGMuZ3VpZHx8KGMuZ3VpZD1uLmd1aWQrKyksKGk9ci5ldmVudHMpfHwoaT1yLmV2ZW50cz17fSksKGc9ci5oYW5kbGUpfHwoZz1yLmhhbmRsZT1mdW5jdGlvbihiKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIG4mJm4uZXZlbnQudHJpZ2dlcmVkIT09Yi50eXBlP24uZXZlbnQuZGlzcGF0Y2guYXBwbHkoYSxhcmd1bWVudHMpOnZvaWQgMH0pLGI9KGJ8fCIiKS5tYXRjaChHKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSloPWZhLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvJiYobD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGU/bC5kZWxlZ2F0ZVR5cGU6bC5iaW5kVHlwZSl8fG8sbD1uLmV2ZW50LnNwZWNpYWxbb118fHt9LGs9bi5leHRlbmQoe3R5cGU6byxvcmlnVHlwZTpxLGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmbi5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpwLmpvaW4oIi4iKX0sZiksKG09aVtvXSl8fChtPWlbb109W10sbS5kZWxlZ2F0ZUNvdW50PTAsbC5zZXR1cCYmbC5zZXR1cC5jYWxsKGEsZCxwLGcpIT09ITF8fGEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hZGRFdmVudExpc3RlbmVyKG8sZykpLGwuYWRkJiYobC5hZGQuY2FsbChhLGspLGsuaGFuZGxlci5ndWlkfHwoay5oYW5kbGVyLmd1aWQ9Yy5ndWlkKSksZT9tLnNwbGljZShtLmRlbGVnYXRlQ291bnQrKywwLGspOm0ucHVzaChrKSxuLmV2ZW50Lmdsb2JhbFtvXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9Ti5oYXNEYXRhKGEpJiZOLmdldChhKTtpZihyJiYoaT1yLmV2ZW50cykpe2I9KGJ8fCIiKS5tYXRjaChHKXx8WyIiXSxqPWIubGVuZ3RoO3doaWxlKGotLSlpZihoPWZhLmV4ZWMoYltqXSl8fFtdLG89cT1oWzFdLHA9KGhbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvKXtsPW4uZXZlbnQuc3BlY2lhbFtvXXx8e30sbz0oZD9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8byxtPWlbb118fFtdLGg9aFsyXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrcC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxnPWY9bS5sZW5ndGg7d2hpbGUoZi0tKWs9bVtmXSwhZSYmcSE9PWsub3JpZ1R5cGV8fGMmJmMuZ3VpZCE9PWsuZ3VpZHx8aCYmIWgudGVzdChrLm5hbWVzcGFjZSl8fGQmJmQhPT1rLnNlbGVjdG9yJiYoIioqIiE9PWR8fCFrLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksay5zZWxlY3RvciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxrKSk7ZyYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEscCxyLmhhbmRsZSkhPT0hMXx8bi5yZW1vdmVFdmVudChhLG8sci5oYW5kbGUpLGRlbGV0ZSBpW29dKX1lbHNlIGZvcihvIGluIGkpbi5ldmVudC5yZW1vdmUoYSxvK2Jbal0sYyxkLCEwKTtuLmlzRW1wdHlPYmplY3QoaSkmJk4ucmVtb3ZlKGEsImhhbmRsZSBldmVudHMiKX19LGRpc3BhdGNoOmZ1bmN0aW9uKGEpe2E9bi5ldmVudC5maXgoYSk7dmFyIGIsYyxkLGYsZyxoPVtdLGk9ZS5jYWxsKGFyZ3VtZW50cyksaj0oTi5nZXQodGhpcywiZXZlbnRzIil8fHt9KVthLnR5cGVdfHxbXSxrPW4uZXZlbnQuc3BlY2lhbFthLnR5cGVdfHx7fTtpZihpWzBdPWEsYS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFrLnByZURpc3BhdGNofHxrLnByZURpc3BhdGNoLmNhbGwodGhpcyxhKSE9PSExKXtoPW4uZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGEsaiksYj0wO3doaWxlKChmPWhbYisrXSkmJiFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2EuY3VycmVudFRhcmdldD1mLmVsZW0sYz0wO3doaWxlKChnPWYuaGFuZGxlcnNbYysrXSkmJiFhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpKCFhLnJuYW1lc3BhY2V8fGEucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKSkmJihhLmhhbmRsZU9iaj1nLGEuZGF0YT1nLmRhdGEsZD0oKG4uZXZlbnQuc3BlY2lhbFtnLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zy5oYW5kbGVyKS5hcHBseShmLmVsZW0saSksdm9pZCAwIT09ZCYmKGEucmVzdWx0PWQpPT09ITEmJihhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBrLnBvc3REaXNwYXRjaCYmay5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLGEpLGEucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnPVtdLGg9Yi5kZWxlZ2F0ZUNvdW50LGk9YS50YXJnZXQ7aWYoaCYmaS5ub2RlVHlwZSYmKCJjbGljayIhPT1hLnR5cGV8fGlzTmFOKGEuYnV0dG9uKXx8YS5idXR0b248MSkpZm9yKDtpIT09dGhpcztpPWkucGFyZW50Tm9kZXx8dGhpcylpZigxPT09aS5ub2RlVHlwZSYmKGkuZGlzYWJsZWQhPT0hMHx8ImNsaWNrIiE9PWEudHlwZSkpe2ZvcihkPVtdLGM9MDtoPmM7YysrKWY9YltjXSxlPWYuc2VsZWN0b3IrIiAiLHZvaWQgMD09PWRbZV0mJihkW2VdPWYubmVlZHNDb250ZXh0P24oZSx0aGlzKS5pbmRleChpKT4tMTpuLmZpbmQoZSx0aGlzLG51bGwsW2ldKS5sZW5ndGgpLGRbZV0mJmQucHVzaChmKTtkLmxlbmd0aCYmZy5wdXNoKHtlbGVtOmksaGFuZGxlcnM6ZH0pfXJldHVybiBoPGIubGVuZ3RoJiZnLnB1c2goe2VsZW06dGhpcyxoYW5kbGVyczpiLnNsaWNlKGgpfSksZ30scHJvcHM6ImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRldGFpbCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOiJjaGFyIGNoYXJDb2RlIGtleSBrZXlDb2RlIi5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hLndoaWNoJiYoYS53aGljaD1udWxsIT1iLmNoYXJDb2RlP2IuY2hhckNvZGU6Yi5rZXlDb2RlKSxhfX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGYsZz1iLmJ1dHRvbjtyZXR1cm4gbnVsbD09YS5wYWdlWCYmbnVsbCE9Yi5jbGllbnRYJiYoYz1hLnRhcmdldC5vd25lckRvY3VtZW50fHxkLGU9Yy5kb2N1bWVudEVsZW1lbnQsZj1jLmJvZHksYS5wYWdlWD1iLmNsaWVudFgrKGUmJmUuc2Nyb2xsTGVmdHx8ZiYmZi5zY3JvbGxMZWZ0fHwwKS0oZSYmZS5jbGllbnRMZWZ0fHxmJiZmLmNsaWVudExlZnR8fDApLGEucGFnZVk9Yi5jbGllbnRZKyhlJiZlLnNjcm9sbFRvcHx8ZiYmZi5zY3JvbGxUb3B8fDApLShlJiZlLmNsaWVudFRvcHx8ZiYmZi5jbGllbnRUb3B8fDApKSxhLndoaWNofHx2b2lkIDA9PT1nfHwoYS53aGljaD0xJmc/MToyJmc/Mzo0Jmc/MjowKSxhfX0sZml4OmZ1bmN0aW9uKGEpe2lmKGFbbi5leHBhbmRvXSlyZXR1cm4gYTt2YXIgYixjLGUsZj1hLnR5cGUsZz1hLGg9dGhpcy5maXhIb29rc1tmXTtofHwodGhpcy5maXhIb29rc1tmXT1oPWVhLnRlc3QoZik/dGhpcy5tb3VzZUhvb2tzOmRhLnRlc3QoZik/dGhpcy5rZXlIb29rczp7fSksZT1oLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGgucHJvcHMpOnRoaXMucHJvcHMsYT1uZXcgbi5FdmVudChnKSxiPWUubGVuZ3RoO3doaWxlKGItLSljPWVbYl0sYVtjXT1nW2NdO3JldHVybiBhLnRhcmdldHx8KGEudGFyZ2V0PWQpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGguZmlsdGVyP2guZmlsdGVyKGEsZyk6YX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1pYSgpJiZ0aGlzLmZvY3VzPyh0aGlzLmZvY3VzKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOiJmb2N1c2luIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzPT09aWEoKSYmdGhpcy5ibHVyPyh0aGlzLmJsdXIoKSwhMSk6dm9pZCAwfSxkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4iY2hlY2tib3giPT09dGhpcy50eXBlJiZ0aGlzLmNsaWNrJiZuLm5vZGVOYW1lKHRoaXMsImlucHV0Iik/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbi5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX19LG4ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9LG4uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG4uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5yZXR1cm5WYWx1ZT09PSExP2dhOmhhKTp0aGlzLnR5cGU9YSxiJiZuLmV4dGVuZCh0aGlzLGIpLHRoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxuLm5vdygpLHZvaWQodGhpc1tuLmV4cGFuZG9dPSEwKSk6bmV3IG4uRXZlbnQoYSxiKX0sbi5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm4uRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmhhLGlzUHJvcGFnYXRpb25TdG9wcGVkOmhhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmhhLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWdhLGEmJmEucHJldmVudERlZmF1bHQoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9Z2EsYSYmYS5zdG9wUHJvcGFnYXRpb24oKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Z2EsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sbi5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihhLGIpe24uZXZlbnQuc3BlY2lhbFthXT17ZGVsZWdhdGVUeXBlOmIsYmluZFR5cGU6YixoYW5kbGU6ZnVuY3Rpb24oYSl7dmFyIGMsZD10aGlzLGU9YS5yZWxhdGVkVGFyZ2V0LGY9YS5oYW5kbGVPYmo7cmV0dXJuKCFlfHxlIT09ZCYmIW4uY29udGFpbnMoZCxlKSkmJihhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLG4uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gamEodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBqYSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8ImZ1bmN0aW9uIj09dHlwZW9mIGIpJiYoYz1iLGI9dm9pZCAwKSxjPT09ITEmJihjPWhhKSx0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfX0pO3ZhciBrYT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6LV0rKVtePl0qKVwvPi9naSxsYT0vPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxtYT0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxuYT0vXnRydWVcLyguKikvLG9hPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBwYShhLGIpe3JldHVybiBuLm5vZGVOYW1lKGEsInRhYmxlIikmJm4ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLCJ0ciIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmF9ZnVuY3Rpb24gcWEoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PWEuZ2V0QXR0cmlidXRlKCJ0eXBlIikpKyIvIithLnR5cGUsYX1mdW5jdGlvbiByYShhKXt2YXIgYj1uYS5leGVjKGEudHlwZSk7cmV0dXJuIGI/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxhfWZ1bmN0aW9uIHNhKGEsYil7dmFyIGMsZCxlLGYsZyxoLGksajtpZigxPT09Yi5ub2RlVHlwZSl7aWYoTi5oYXNEYXRhKGEpJiYoZj1OLmFjY2VzcyhhKSxnPU4uc2V0KGIsZiksaj1mLmV2ZW50cykpe2RlbGV0ZSBnLmhhbmRsZSxnLmV2ZW50cz17fTtmb3IoZSBpbiBqKWZvcihjPTAsZD1qW2VdLmxlbmd0aDtkPmM7YysrKW4uZXZlbnQuYWRkKGIsZSxqW2VdW2NdKX1PLmhhc0RhdGEoYSkmJihoPU8uYWNjZXNzKGEpLGk9bi5leHRlbmQoe30saCksTy5zZXQoYixpKSl9fWZ1bmN0aW9uIHRhKGEsYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOyJpbnB1dCI9PT1jJiZYLnRlc3QoYS50eXBlKT9iLmNoZWNrZWQ9YS5jaGVja2VkOigiaW5wdXQiPT09Y3x8InRleHRhcmVhIj09PWMpJiYoYi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWUpfWZ1bmN0aW9uIHVhKGEsYixjLGQpe2I9Zi5hcHBseShbXSxiKTt2YXIgZSxnLGgsaSxqLGssbT0wLG89YS5sZW5ndGgscD1vLTEscT1iWzBdLHI9bi5pc0Z1bmN0aW9uKHEpO2lmKHJ8fG8+MSYmInN0cmluZyI9PXR5cGVvZiBxJiYhbC5jaGVja0Nsb25lJiZtYS50ZXN0KHEpKXJldHVybiBhLmVhY2goZnVuY3Rpb24oZSl7dmFyIGY9YS5lcShlKTtyJiYoYlswXT1xLmNhbGwodGhpcyxlLGYuaHRtbCgpKSksdWEoZixiLGMsZCl9KTtpZihvJiYoZT1jYShiLGFbMF0ub3duZXJEb2N1bWVudCwhMSxhLGQpLGc9ZS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT1nKSxnfHxkKSl7Zm9yKGg9bi5tYXAoXyhlLCJzY3JpcHQiKSxxYSksaT1oLmxlbmd0aDtvPm07bSsrKWo9ZSxtIT09cCYmKGo9bi5jbG9uZShqLCEwLCEwKSxpJiZuLm1lcmdlKGgsXyhqLCJzY3JpcHQiKSkpLGMuY2FsbChhW21dLGosbSk7aWYoaSlmb3Ioaz1oW2gubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsbi5tYXAoaCxyYSksbT0wO2k+bTttKyspaj1oW21dLFoudGVzdChqLnR5cGV8fCIiKSYmIU4uYWNjZXNzKGosImdsb2JhbEV2YWwiKSYmbi5jb250YWlucyhrLGopJiYoai5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChqLnNyYyk6bi5nbG9iYWxFdmFsKGoudGV4dENvbnRlbnQucmVwbGFjZShvYSwiIikpKX1yZXR1cm4gYX1mdW5jdGlvbiB2YShhLGIsYyl7Zm9yKHZhciBkLGU9Yj9uLmZpbHRlcihiLGEpOmEsZj0wO251bGwhPShkPWVbZl0pO2YrKyljfHwxIT09ZC5ub2RlVHlwZXx8bi5jbGVhbkRhdGEoXyhkKSksZC5wYXJlbnROb2RlJiYoYyYmbi5jb250YWlucyhkLm93bmVyRG9jdW1lbnQsZCkmJmFhKF8oZCwic2NyaXB0IikpLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSk7cmV0dXJuIGF9bi5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShrYSwiPCQxPjwvJDI+Iil9LGNsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuY2xvbmVOb2RlKCEwKSxpPW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpO2lmKCEobC5ub0Nsb25lQ2hlY2tlZHx8MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8bi5pc1hNTERvYyhhKSkpZm9yKGc9XyhoKSxmPV8oYSksZD0wLGU9Zi5sZW5ndGg7ZT5kO2QrKyl0YShmW2RdLGdbZF0pO2lmKGIpaWYoYylmb3IoZj1mfHxfKGEpLGc9Z3x8XyhoKSxkPTAsZT1mLmxlbmd0aDtlPmQ7ZCsrKXNhKGZbZF0sZ1tkXSk7ZWxzZSBzYShhLGgpO3JldHVybiBnPV8oaCwic2NyaXB0IiksZy5sZW5ndGg+MCYmYWEoZywhaSYmXyhhLCJzY3JpcHQiKSksaH0sY2xlYW5EYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQsZT1uLmV2ZW50LnNwZWNpYWwsZj0wO3ZvaWQgMCE9PShjPWFbZl0pO2YrKylpZihMKGMpKXtpZihiPWNbTi5leHBhbmRvXSl7aWYoYi5ldmVudHMpZm9yKGQgaW4gYi5ldmVudHMpZVtkXT9uLmV2ZW50LnJlbW92ZShjLGQpOm4ucmVtb3ZlRXZlbnQoYyxkLGIuaGFuZGxlKTtjW04uZXhwYW5kb109dm9pZCAwfWNbTy5leHBhbmRvXSYmKGNbTy5leHBhbmRvXT12b2lkIDApfX19KSxuLmZuLmV4dGVuZCh7ZG9tTWFuaXA6dWEsZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB2YSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZhKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpJiYodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB1YSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9cGEodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1wYSh0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspMT09PWEubm9kZVR5cGUmJihuLmNsZWFuRGF0YShfKGEsITEpKSxhLnRleHRDb250ZW50PSIiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT1udWxsPT1hPyExOmEsYj1udWxsPT1iP2E6Yix0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBuLmNsb25lKHRoaXMsYSxiKX0pfSxodG1sOmZ1bmN0aW9uKGEpe3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXXx8e30sYz0wLGQ9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09YSYmMT09PWIubm9kZVR5cGUpcmV0dXJuIGIuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmIWxhLnRlc3QoYSkmJiEkWyhZLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPW4uaHRtbFByZWZpbHRlcihhKTt0cnl7Zm9yKDtkPmM7YysrKWI9dGhpc1tjXXx8e30sMT09PWIubm9kZVR5cGUmJihuLmNsZWFuRGF0YShfKGIsITEpKSxiLmlubmVySFRNTD1hKTtiPTB9Y2F0Y2goZSl7fX1iJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGE9W107cmV0dXJuIHVhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMucGFyZW50Tm9kZTtuLmluQXJyYXkodGhpcyxhKTwwJiYobi5jbGVhbkRhdGEoXyh0aGlzKSksYyYmYy5yZXBsYWNlQ2hpbGQoYix0aGlzKSl9LGEpfX0pLG4uZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD1bXSxlPW4oYSksZj1lLmxlbmd0aC0xLGg9MDtmPj1oO2grKyljPWg9PT1mP3RoaXM6dGhpcy5jbG9uZSghMCksbihlW2hdKVtiXShjKSxnLmFwcGx5KGQsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGQpfX0pO3ZhciB3YSx4YT17SFRNTDoiYmxvY2siLEJPRFk6ImJsb2NrIn07ZnVuY3Rpb24geWEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sImRpc3BsYXkiKTtyZXR1cm4gYy5kZXRhY2goKSxkfWZ1bmN0aW9uIHphKGEpe3ZhciBiPWQsYz14YVthXTtyZXR1cm4gY3x8KGM9eWEoYSxiKSwibm9uZSIhPT1jJiZjfHwod2E9KHdhfHxuKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPXdhWzBdLmNvbnRlbnREb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGM9eWEoYSxiKSx3YS5kZXRhY2goKSkseGFbYV09YyksY312YXIgQWE9L15tYXJnaW4vLEJhPW5ldyBSZWdFeHAoIl4oIitTKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksQ2E9ZnVuY3Rpb24oYil7dmFyIGM9Yi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBjJiZjLm9wZW5lcnx8KGM9YSksYy5nZXRDb21wdXRlZFN0eWxlKGIpfSxEYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sRWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZz1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGg9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKTtpZihoLnN0eWxlKXtoLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsaC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGwuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1oLnN0eWxlLmJhY2tncm91bmRDbGlwLGcuc3R5bGUuY3NzVGV4dD0iYm9yZGVyOjA7d2lkdGg6OHB4O2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDtwYWRkaW5nOjA7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGUiLGcuYXBwZW5kQ2hpbGQoaCk7ZnVuY3Rpb24gaSgpe2guc3R5bGUuY3NzVGV4dD0iLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNpemluZzpib3JkZXItYm94O3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt0b3A6MSU7d2lkdGg6NTAlIixoLmlubmVySFRNTD0iIixFYS5hcHBlbmRDaGlsZChnKTt2YXIgZD1hLmdldENvbXB1dGVkU3R5bGUoaCk7Yj0iMSUiIT09ZC50b3AsZj0iMnB4Ij09PWQubWFyZ2luTGVmdCxjPSI0cHgiPT09ZC53aWR0aCxoLnN0eWxlLm1hcmdpblJpZ2h0PSI1MCUiLGU9IjRweCI9PT1kLm1hcmdpblJpZ2h0LEVhLnJlbW92ZUNoaWxkKGcpfW4uZXh0ZW5kKGwse3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gaSgpLGJ9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmkoKSxjfSxwaXhlbE1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmkoKSxlfSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09YyYmaSgpLGZ9LHJlbGlhYmxlTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXt2YXIgYixjPWguYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7cmV0dXJuIGMuc3R5bGUuY3NzVGV4dD1oLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowIixjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9IjAiLGguc3R5bGUud2lkdGg9IjFweCIsRWEuYXBwZW5kQ2hpbGQoZyksYj0hcGFyc2VGbG9hdChhLmdldENvbXB1dGVkU3R5bGUoYykubWFyZ2luUmlnaHQpLEVhLnJlbW92ZUNoaWxkKGcpLGgucmVtb3ZlQ2hpbGQoYyksYn19KX19KCk7ZnVuY3Rpb24gRmEoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5zdHlsZTtyZXR1cm4gYz1jfHxDYShhKSxnPWM/Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHxjW2JdOnZvaWQgMCwiIiE9PWcmJnZvaWQgMCE9PWd8fG4uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfHwoZz1uLnN0eWxlKGEsYikpLGMmJiFsLnBpeGVsTWFyZ2luUmlnaHQoKSYmQmEudGVzdChnKSYmQWEudGVzdChiKSYmKGQ9aC53aWR0aCxlPWgubWluV2lkdGgsZj1oLm1heFdpZHRoLGgubWluV2lkdGg9aC5tYXhXaWR0aD1oLndpZHRoPWcsZz1jLndpZHRoLGgud2lkdGg9ZCxoLm1pbldpZHRoPWUsaC5tYXhXaWR0aD1mKSx2b2lkIDAhPT1nP2crIiI6Z31mdW5jdGlvbiBHYShhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSgpP3ZvaWQgZGVsZXRlIHRoaXMuZ2V0Oih0aGlzLmdldD1iKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX12YXIgSGE9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLElhPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxKYT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn0sS2E9WyJXZWJraXQiLCJPIiwiTW96IiwibXMiXSxMYT1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlO2Z1bmN0aW9uIE1hKGEpe2lmKGEgaW4gTGEpcmV0dXJuIGE7dmFyIGI9YVswXS50b1VwcGVyQ2FzZSgpK2Euc2xpY2UoMSksYz1LYS5sZW5ndGg7d2hpbGUoYy0tKWlmKGE9S2FbY10rYixhIGluIExhKXJldHVybiBhfWZ1bmN0aW9uIE5hKGEsYixjKXt2YXIgZD1ULmV4ZWMoYik7cmV0dXJuIGQ/TWF0aC5tYXgoMCxkWzJdLShjfHwwKSkrKGRbM118fCJweCIpOmJ9ZnVuY3Rpb24gT2EoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkPyJib3JkZXIiOiJjb250ZW50Iik/NDoid2lkdGgiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKSJtYXJnaW4iPT09YyYmKGcrPW4uY3NzKGEsYytVW2ZdLCEwLGUpKSxkPygiY29udGVudCI9PT1jJiYoZy09bi5jc3MoYSwicGFkZGluZyIrVVtmXSwhMCxlKSksIm1hcmdpbiIhPT1jJiYoZy09bi5jc3MoYSwiYm9yZGVyIitVW2ZdKyJXaWR0aCIsITAsZSkpKTooZys9bi5jc3MoYSwicGFkZGluZyIrVVtmXSwhMCxlKSwicGFkZGluZyIhPT1jJiYoZys9bi5jc3MoYSwiYm9yZGVyIitVW2ZdKyJXaWR0aCIsITAsZSkpKTtyZXR1cm4gZ31mdW5jdGlvbiBQYShiLGMsZSl7dmFyIGY9ITAsZz0id2lkdGgiPT09Yz9iLm9mZnNldFdpZHRoOmIub2Zmc2V0SGVpZ2h0LGg9Q2EoYiksaT0iYm9yZGVyLWJveCI9PT1uLmNzcyhiLCJib3hTaXppbmciLCExLGgpO2lmKGQubXNGdWxsc2NyZWVuRWxlbWVudCYmYS50b3AhPT1hJiZiLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoZz1NYXRoLnJvdW5kKDEwMCpiLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2NdKSksMD49Z3x8bnVsbD09Zyl7aWYoZz1GYShiLGMsaCksKDA+Z3x8bnVsbD09ZykmJihnPWIuc3R5bGVbY10pLEJhLnRlc3QoZykpcmV0dXJuIGc7Zj1pJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxnPT09Yi5zdHlsZVtjXSksZz1wYXJzZUZsb2F0KGcpfHwwfXJldHVybiBnK09hKGIsYyxlfHwoaT8iYm9yZGVyIjoiY29udGVudCIpLGYsaCkrInB4In1mdW5jdGlvbiBRYShhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1OLmdldChkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlYoZCkmJihmW2ddPU4uYWNjZXNzKGQsIm9sZGRpc3BsYXkiLHphKGQubm9kZU5hbWUpKSkpOihlPVYoZCksIm5vbmUiPT09YyYmZXx8Ti5zZXQoZCwib2xkZGlzcGxheSIsZT9jOm4uY3NzKGQsImRpc3BsYXkiKSkpKTtmb3IoZz0wO2g+ZztnKyspZD1hW2ddLGQuc3R5bGUmJihiJiYibm9uZSIhPT1kLnN0eWxlLmRpc3BsYXkmJiIiIT09ZC5zdHlsZS5kaXNwbGF5fHwoZC5zdHlsZS5kaXNwbGF5PWI/ZltnXXx8IiI6Im5vbmUiKSk7cmV0dXJuIGF9bi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1GYShhLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1jPyIxIjpjfX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnsiZmxvYXQiOiJjc3NGbG9hdCJ9LHN0eWxlOmZ1bmN0aW9uKGEsYixjLGQpe2lmKGEmJjMhPT1hLm5vZGVUeXBlJiY4IT09YS5ub2RlVHlwZSYmYS5zdHlsZSl7dmFyIGUsZixnLGg9bi5jYW1lbENhc2UoYiksaT1hLnN0eWxlO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPU1hKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sdm9pZCAwPT09Yz9nJiYiZ2V0ImluIGcmJnZvaWQgMCE9PShlPWcuZ2V0KGEsITEsZCkpP2U6aVtiXTooZj10eXBlb2YgYywic3RyaW5nIj09PWYmJihlPVQuZXhlYyhjKSkmJmVbMV0mJihjPVcoYSxiLGUpLGY9Im51bWJlciIpLG51bGwhPWMmJmM9PT1jJiYoIm51bWJlciI9PT1mJiYoYys9ZSYmZVszXXx8KG4uY3NzTnVtYmVyW2hdPyIiOiJweCIpKSxsLmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1jfHwwIT09Yi5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fChpW2JdPSJpbmhlcml0IiksZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpfHwoaVtiXT1jKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKTtyZXR1cm4gYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1NYShoKXx8aCksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLGcmJiJnZXQiaW4gZyYmKGU9Zy5nZXQoYSwhMCxjKSksdm9pZCAwPT09ZSYmKGU9RmEoYSxiLGQpKSwibm9ybWFsIj09PWUmJmIgaW4gSmEmJihlPUphW2JdKSwiIj09PWN8fGM/KGY9cGFyc2VGbG9hdChlKSxjPT09ITB8fGlzRmluaXRlKGYpP2Z8fDA6ZSk6ZX19KSxuLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz9IYS50ZXN0KG4uY3NzKGEsImRpc3BsYXkiKSkmJjA9PT1hLm9mZnNldFdpZHRoP0RhKGEsSWEsZnVuY3Rpb24oKXtyZXR1cm4gUGEoYSxiLGQpfSk6UGEoYSxiLGQpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxmPWQmJkNhKGEpLGc9ZCYmT2EoYSxiLGQsImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxmKSxmKTtyZXR1cm4gZyYmKGU9VC5leGVjKGMpKSYmInB4IiE9PShlWzNdfHwicHgiKSYmKGEuc3R5bGVbYl09YyxjPW4uY3NzKGEsYikpLE5hKGEsYyxnKX19fSksbi5jc3NIb29rcy5tYXJnaW5MZWZ0PUdhKGwucmVsaWFibGVNYXJnaW5MZWZ0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/KHBhcnNlRmxvYXQoRmEoYSwibWFyZ2luTGVmdCIpKXx8YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LURhKGEse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCI6dm9pZCAwfSksbi5jc3NIb29rcy5tYXJnaW5SaWdodD1HYShsLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9EYShhLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSxGYSxbYSwibWFyZ2luUmlnaHQiXSk6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ND5kO2QrKyllW2ErVVtkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxBYS50ZXN0KGEpfHwobi5jc3NIb29rc1thK2JdLnNldD1OYSl9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihuLmlzQXJyYXkoYikpe2ZvcihkPUNhKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBRYSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBRYSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtWKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gUmEoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IFJhLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1SYSxSYS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlJhLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fG4uZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPVJhLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpSYS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1SYS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOlJhLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LFJhLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1SYS5wcm90b3R5cGUsUmEucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiAxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsIT1hLmVsZW1bYS5wcm9wXSYmbnVsbD09YS5lbGVtLnN0eWxlW2EucHJvcF0/YS5lbGVtW2EucHJvcF06KGI9bi5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6MSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbD09YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV0mJiFuLmNzc0hvb2tzW2EucHJvcF0/YS5lbGVtW2EucHJvcF09YS5ub3c6bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCl9fX0sUmEucHJvcEhvb2tzLnNjcm9sbFRvcD1SYS5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LG4uZng9UmEucHJvdG90eXBlLmluaXQsbi5meC5zdGVwPXt9O3ZhciBTYSxUYSxVYT0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sVmE9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBXYSgpe3JldHVybiBhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtTYT12b2lkIDB9KSxTYT1uLm5vdygpfWZ1bmN0aW9uIFhhKGEsYil7dmFyIGMsZD0wLGU9e2hlaWdodDphfTtmb3IoYj1iPzE6MDs0PmQ7ZCs9Mi1iKWM9VVtkXSxlWyJtYXJnaW4iK2NdPWVbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihlLm9wYWNpdHk9ZS53aWR0aD1hKSxlfWZ1bmN0aW9uIFlhKGEsYixjKXtmb3IodmFyIGQsZT0oX2EudHdlZW5lcnNbYl18fFtdKS5jb25jYXQoX2EudHdlZW5lcnNbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gWmEoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbD10aGlzLG09e30sbz1hLnN0eWxlLHA9YS5ub2RlVHlwZSYmVihhKSxxPU4uZ2V0KGEsImZ4c2hvdyIpO2MucXVldWV8fChoPW4uX3F1ZXVlSG9va3MoYSwiZngiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxsLmFsd2F5cyhmdW5jdGlvbigpe2wuYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG4ucXVldWUoYSwiZngiKS5sZW5ndGh8fGguZW1wdHkuZmlyZSgpfSl9KSksMT09PWEubm9kZVR5cGUmJigiaGVpZ2h0ImluIGJ8fCJ3aWR0aCJpbiBiKSYmKGMub3ZlcmZsb3c9W28ub3ZlcmZsb3csby5vdmVyZmxvd1gsby5vdmVyZmxvd1ldLGo9bi5jc3MoYSwiZGlzcGxheSIpLGs9Im5vbmUiPT09aj9OLmdldChhLCJvbGRkaXNwbGF5Iil8fHphKGEubm9kZU5hbWUpOmosImlubGluZSI9PT1rJiYibm9uZSI9PT1uLmNzcyhhLCJmbG9hdCIpJiYoby5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksYy5vdmVyZmxvdyYmKG8ub3ZlcmZsb3c9ImhpZGRlbiIsbC5hbHdheXMoZnVuY3Rpb24oKXtvLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0sby5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxvLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLFVhLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocD8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXF8fHZvaWQgMD09PXFbZF0pY29udGludWU7cD0hMH1tW2RdPXEmJnFbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChtKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP3phKGEubm9kZU5hbWUpOmopJiYoby5kaXNwbGF5PWopO2Vsc2V7cT8iaGlkZGVuImluIHEmJihwPXEuaGlkZGVuKTpxPU4uYWNjZXNzKGEsImZ4c2hvdyIse30pLGYmJihxLmhpZGRlbj0hcCkscD9uKGEpLnNob3coKTpsLmRvbmUoZnVuY3Rpb24oKXtuKGEpLmhpZGUoKX0pLGwuZG9uZShmdW5jdGlvbigpe3ZhciBiO04ucmVtb3ZlKGEsImZ4c2hvdyIpO2ZvcihiIGluIG0pbi5zdHlsZShhLGIsbVtiXSl9KTtmb3IoZCBpbiBtKWc9WWEocD9xW2RdOjAsZCxsKSxkIGluIHF8fChxW2RdPWcuc3RhcnQscCYmKGcuZW5kPWcuc3RhcnQsZy5zdGFydD0id2lkdGgiPT09ZHx8ImhlaWdodCI9PT1kPzE6MCkpfX1mdW5jdGlvbiAkYShhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPW4uY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sbi5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1uLmNzc0hvb2tzW2RdLGcmJiJleHBhbmQiaW4gZyl7Zj1nLmV4cGFuZChmKSxkZWxldGUgYVtkXTtmb3IoYyBpbiBmKWMgaW4gYXx8KGFbY109ZltjXSxiW2NdPWUpfWVsc2UgYltkXT1lfWZ1bmN0aW9uIF9hKGEsYixjKXt2YXIgZCxlLGY9MCxnPV9hLnByZWZpbHRlcnMubGVuZ3RoLGg9bi5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9U2F8fFdhKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm4uZXh0ZW5kKHt9LGIpLG9wdHM6bi5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOm4uZWFzaW5nLl9kZWZhdWx0fSxjKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6YyxzdGFydFRpbWU6U2F8fFdhKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYixjKXt2YXIgZD1uLlR3ZWVuKGEsai5vcHRzLGIsYyxqLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8ai5vcHRzLmVhc2luZyk7cmV0dXJuIGoudHdlZW5zLnB1c2goZCksZH0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLGQ9Yj9qLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2Q+YztjKyspai50d2VlbnNbY10ucnVuKDEpO3JldHVybiBiPyhoLm5vdGlmeVdpdGgoYSxbaiwxLDBdKSxoLnJlc29sdmVXaXRoKGEsW2osYl0pKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKCRhKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1fYS5wcmVmaWx0ZXJzW2ZdLmNhbGwoaixhLGssai5vcHRzKSlyZXR1cm4gbi5pc0Z1bmN0aW9uKGQuc3RvcCkmJihuLl9xdWV1ZUhvb2tzKGouZWxlbSxqLm9wdHMucXVldWUpLnN0b3A9bi5wcm94eShkLnN0b3AsZCkpLGQ7cmV0dXJuIG4ubWFwKGssWWEsaiksbi5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksbi5meC50aW1lcihuLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1uLkFuaW1hdGlvbj1uLmV4dGVuZChfYSx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGEsYik7cmV0dXJuIFcoYy5lbGVtLGEsVC5leGVjKGIpLGMpLGN9XX0sdHdlZW5lcjpmdW5jdGlvbihhLGIpe24uaXNGdW5jdGlvbihhKT8oYj1hLGE9WyIqIl0pOmE9YS5tYXRjaChHKTtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljPWFbZF0sX2EudHdlZW5lcnNbY109X2EudHdlZW5lcnNbY118fFtdLF9hLnR3ZWVuZXJzW2NdLnVuc2hpZnQoYil9LHByZWZpbHRlcnM6W1phXSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiP19hLnByZWZpbHRlcnMudW5zaGlmdChhKTpfYS5wcmVmaWx0ZXJzLnB1c2goYSl9fSksbi5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmIm9iamVjdCI9PXR5cGVvZiBhP24uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8bi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFuLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW4uZngub2ZmPzA6Im51bWJlciI9PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBuLmZ4LnNwZWVkcz9uLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpuLmZ4LnNwZWVkcy5fZGVmYXVsdCwobnVsbD09ZC5xdWV1ZXx8ZC5xdWV1ZT09PSEwKSYmKGQucXVldWU9ImZ4IiksZC5vbGQ9ZC5jb21wbGV0ZSxkLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5pc0Z1bmN0aW9uKGQub2xkKSYmZC5vbGQuY2FsbCh0aGlzKSxkLnF1ZXVlJiZuLmRlcXVldWUodGhpcyxkLnF1ZXVlKX0sZH0sbi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoVikuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bi5pc0VtcHR5T2JqZWN0KGEpLGY9bi5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPV9hKHRoaXMsbi5leHRlbmQoe30sYSksZik7KGV8fE4uZ2V0KHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07cmV0dXJuIGcuZmluaXNoPWcsZXx8Zi5xdWV1ZT09PSExP3RoaXMuZWFjaChnKTp0aGlzLnF1ZXVlKGYucXVldWUsZyl9LHN0b3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc3RvcDtkZWxldGUgYS5zdG9wLGIoYyl9O3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGM9YixiPWEsYT12b2lkIDApLGImJmEhPT0hMSYmdGhpcy5xdWV1ZShhfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErInF1ZXVlSG9va3MiLGY9bi50aW1lcnMsZz1OLmdldCh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZWYS50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyhifHwhYykmJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGZpbmlzaDpmdW5jdGlvbihhKXtyZXR1cm4gYSE9PSExJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixjPU4uZ2V0KHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoWGEoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOlhhKCJzaG93Iiksc2xpZGVVcDpYYSgiaGlkZSIpLHNsaWRlVG9nZ2xlOlhhKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPTAsYz1uLnRpbWVycztmb3IoU2E9bi5ub3coKTtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYSgpfHxjW2JdIT09YXx8Yy5zcGxpY2UoYi0tLDEpO2MubGVuZ3RofHxuLmZ4LnN0b3AoKSxTYT12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtUYXx8KFRhPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKFRhKSxUYT1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8ImZ4Iix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYT1kLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksYj1kLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGM9Yi5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTthLnR5cGU9ImNoZWNrYm94IixsLmNoZWNrT249IiIhPT1hLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Yy5zZWxlY3RlZCxiLmRpc2FibGVkPSEwLGwub3B0RGlzYWJsZWQ9IWMuZGlzYWJsZWQsYT1kLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksYS52YWx1ZT0idCIsYS50eXBlPSJyYWRpbyIsbC5yYWRpb1ZhbHVlPSJ0Ij09PWEudmFsdWV9KCk7dmFyIGFiLGJiPW4uZXhwci5hdHRySGFuZGxlO24uZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxuLmF0dHIsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24ucmVtb3ZlQXR0cih0aGlzLGEpfSl9fSksbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKDMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBhLmdldEF0dHJpYnV0ZT9uLnByb3AoYSxiLGMpOigxPT09ZiYmbi5pc1hNTERvYyhhKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGU9bi5hdHRySG9va3NbYl18fChuLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP2FiOnZvaWQgMCkpLHZvaWQgMCE9PWM/bnVsbD09PWM/dm9pZCBuLnJlbW92ZUF0dHIoYSxiKTplJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjKyIiKSxjKTplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOihkPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZD92b2lkIDA6ZCkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFsLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT1iJiZuLm5vZGVOYW1lKGEsImlucHV0Iikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEcpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZltlKytdKWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYykmJihhW2RdPSExKSxhLnJlbW92ZUF0dHJpYnV0ZShjKX19KSxhYj17c2V0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYj09PSExP24ucmVtb3ZlQXR0cihhLGMpOmEuc2V0QXR0cmlidXRlKGMsYyksY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPWJiW2JdfHxuLmZpbmQuYXR0cjtiYltiXT1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZjtyZXR1cm4gZHx8KGY9YmJbYl0sYmJbYl09ZSxlPW51bGwhPWMoYSxiLGQpP2IudG9Mb3dlckNhc2UoKTpudWxsLGJiW2JdPWYpLGV9fSk7dmFyIGNiPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksZGI9L14oPzphfGFyZWEpJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEsodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW24ucHJvcEZpeFthXXx8YV19KX19KSxuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPWEubm9kZVR5cGU7aWYoMyE9PWYmJjghPT1mJiYyIT09ZilyZXR1cm4gMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPW4ucHJvcEZpeFtiXXx8YiwKZT1uLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmImdldCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSwidGFiaW5kZXgiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTpjYi50ZXN0KGEubm9kZU5hbWUpfHxkYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KSxsLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH19KSxuLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe24ucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTt2YXIgZWI9L1tcdFxyXG5cZl0vZztmdW5jdGlvbiBmYihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUmJmEuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1uLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaT0wO2lmKG4uaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykuYWRkQ2xhc3MoYS5jYWxsKHRoaXMsYixmYih0aGlzKSkpfSk7aWYoInN0cmluZyI9PXR5cGVvZiBhJiZhKXtiPWEubWF0Y2goRyl8fFtdO3doaWxlKGM9dGhpc1tpKytdKWlmKGU9ZmIoYyksZD0xPT09Yy5ub2RlVHlwZSYmKCIgIitlKyIgIikucmVwbGFjZShlYiwiICIpKXtnPTA7d2hpbGUoZj1iW2crK10pZC5pbmRleE9mKCIgIitmKyIgIik8MCYmKGQrPWYrIiAiKTtoPW4udHJpbShkKSxlIT09aCYmYy5zZXRBdHRyaWJ1dGUoImNsYXNzIixoKX19cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsZmIodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoInN0cmluZyI9PXR5cGVvZiBhJiZhKXtiPWEubWF0Y2goRyl8fFtdO3doaWxlKGM9dGhpc1tpKytdKWlmKGU9ZmIoYyksZD0xPT09Yy5ub2RlVHlwZSYmKCIgIitlKyIgIikucmVwbGFjZShlYiwiICIpKXtnPTA7d2hpbGUoZj1iW2crK10pd2hpbGUoZC5pbmRleE9mKCIgIitmKyIgIik+LTEpZD1kLnJlcGxhY2UoIiAiK2YrIiAiLCIgIik7aD1uLnRyaW0oZCksZSE9PWgmJmMuc2V0QXR0cmlidXRlKCJjbGFzcyIsaCl9fXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhO3JldHVybiJib29sZWFuIj09dHlwZW9mIGImJiJzdHJpbmciPT09Yz9iP3RoaXMuYWRkQ2xhc3MoYSk6dGhpcy5yZW1vdmVDbGFzcyhhKTpuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGMpe24odGhpcykudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyxmYih0aGlzKSxiKSxiKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiLGQsZSxmO2lmKCJzdHJpbmciPT09Yyl7ZD0wLGU9bih0aGlzKSxmPWEubWF0Y2goRyl8fFtdO3doaWxlKGI9ZltkKytdKWUuaGFzQ2xhc3MoYik/ZS5yZW1vdmVDbGFzcyhiKTplLmFkZENsYXNzKGIpfWVsc2Uodm9pZCAwPT09YXx8ImJvb2xlYW4iPT09YykmJihiPWZiKHRoaXMpLGImJk4uc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLGIpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGJ8fGE9PT0hMT8iIjpOLmdldCh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTA7Yj0iICIrYSsiICI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJigiICIrZmIoYykrIiAiKS5yZXBsYWNlKGViLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KTt2YXIgZ2I9L1xyL2c7bi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW4uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxuKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT0iIjoibnVtYmVyIj09dHlwZW9mIGU/ZSs9IiI6bi5pc0FycmF5KGUpJiYoZT1uLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOmErIiJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYic2V0ImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSwidmFsdWUiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYiZ2V0ImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsInZhbHVlIikpP2M6KGM9ZS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKGdiLCIiKTpudWxsPT1jPyIiOmMpfX19KSxuLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBuLnRyaW0oYS52YWx1ZSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwoYy5zZWxlY3RlZHx8aT09PWUpJiYobC5vcHREaXNhYmxlZD8hYy5kaXNhYmxlZDpudWxsPT09Yy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IW4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0pZD1lW2ddLChkLnNlbGVjdGVkPW4uaW5BcnJheShuLnZhbEhvb2tzLm9wdGlvbi5nZXQoZCksZik+LTEpJiYoYz0hMCk7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGZ9fX19KSxuLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxsLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6YS52YWx1ZX0pfSk7dmFyIGhiPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLztuLmV4dGVuZChuLmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKGIsYyxlLGYpe3ZhciBnLGgsaSxqLGwsbSxvLHA9W2V8fGRdLHE9ay5jYWxsKGIsInR5cGUiKT9iLnR5cGU6YixyPWsuY2FsbChiLCJuYW1lc3BhY2UiKT9iLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKGg9aT1lPWV8fGQsMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiYhaGIudGVzdChxK24uZXZlbnQudHJpZ2dlcmVkKSYmKHEuaW5kZXhPZigiLiIpPi0xJiYocj1xLnNwbGl0KCIuIikscT1yLnNoaWZ0KCksci5zb3J0KCkpLGw9cS5pbmRleE9mKCI6Iik8MCYmIm9uIitxLGI9YltuLmV4cGFuZG9dP2I6bmV3IG4uRXZlbnQocSwib2JqZWN0Ij09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWY/MjozLGIubmFtZXNwYWNlPXIuam9pbigiLiIpLGIucm5hbWVzcGFjZT1iLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIityLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsYi5yZXN1bHQ9dm9pZCAwLGIudGFyZ2V0fHwoYi50YXJnZXQ9ZSksYz1udWxsPT1jP1tiXTpuLm1ha2VBcnJheShjLFtiXSksbz1uLmV2ZW50LnNwZWNpYWxbcV18fHt9LGZ8fCFvLnRyaWdnZXJ8fG8udHJpZ2dlci5hcHBseShlLGMpIT09ITEpKXtpZighZiYmIW8ubm9CdWJibGUmJiFuLmlzV2luZG93KGUpKXtmb3Ioaj1vLmRlbGVnYXRlVHlwZXx8cSxoYi50ZXN0KGorcSl8fChoPWgucGFyZW50Tm9kZSk7aDtoPWgucGFyZW50Tm9kZSlwLnB1c2goaCksaT1oO2k9PT0oZS5vd25lckRvY3VtZW50fHxkKSYmcC5wdXNoKGkuZGVmYXVsdFZpZXd8fGkucGFyZW50V2luZG93fHxhKX1nPTA7d2hpbGUoKGg9cFtnKytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSliLnR5cGU9Zz4xP2o6by5iaW5kVHlwZXx8cSxtPShOLmdldChoLCJldmVudHMiKXx8e30pW2IudHlwZV0mJk4uZ2V0KGgsImhhbmRsZSIpLG0mJm0uYXBwbHkoaCxjKSxtPWwmJmhbbF0sbSYmbS5hcHBseSYmTChoKSYmKGIucmVzdWx0PW0uYXBwbHkoaCxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO3JldHVybiBiLnR5cGU9cSxmfHxiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxvLl9kZWZhdWx0JiZvLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYykhPT0hMXx8IUwoZSl8fGwmJm4uaXNGdW5jdGlvbihlW3FdKSYmIW4uaXNXaW5kb3coZSkmJihpPWVbbF0saSYmKGVbbF09bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cSxlW3FdKCksbi5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGkmJihlW2xdPWkpKSxiLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uLmV4dGVuZChuZXcgbi5FdmVudCxjLHt0eXBlOmEsaXNTaW11bGF0ZWQ6ITB9KTtuLmV2ZW50LnRyaWdnZXIoZCxudWxsLGIpLGQuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19KSxuLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1swXTtyZXR1cm4gYz9uLmV2ZW50LnRyaWdnZXIoYSxiLGMsITApOnZvaWQgMH19KSxuLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSksbC5mb2N1c2luPSJvbmZvY3VzaW4iaW4gYSxsLmZvY3VzaW58fG4uZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhKXtuLmV2ZW50LnNpbXVsYXRlKGIsYS50YXJnZXQsbi5ldmVudC5maXgoYSkpfTtuLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9Ti5hY2Nlc3MoZCxiKTtlfHxkLmFkZEV2ZW50TGlzdGVuZXIoYSxjLCEwKSxOLmFjY2VzcyhkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPU4uYWNjZXNzKGQsYiktMTtlP04uYWNjZXNzKGQsYixlKTooZC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYywhMCksTi5yZW1vdmUoZCxiKSl9fX0pO3ZhciBpYj1hLmxvY2F0aW9uLGpiPW4ubm93KCksa2I9L1w/LztuLnBhcnNlSlNPTj1mdW5jdGlvbihhKXtyZXR1cm4gSlNPTi5wYXJzZShhKyIiKX0sbi5wYXJzZVhNTD1mdW5jdGlvbihiKXt2YXIgYztpZighYnx8InN0cmluZyIhPXR5cGVvZiBiKXJldHVybiBudWxsO3RyeXtjPShuZXcgYS5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhiLCJ0ZXh0L3htbCIpfWNhdGNoKGQpe2M9dm9pZCAwfXJldHVybighY3x8Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpJiZuLmVycm9yKCJJbnZhbGlkIFhNTDogIitiKSxjfTt2YXIgbGI9LyMuKiQvLG1iPS8oWz8mXSlfPVteJl0qLyxuYj0vXiguKj8pOlsgXHRdKihbXlxyXG5dKikkL2dtLG9iPS9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLHBiPS9eKD86R0VUfEhFQUQpJC8scWI9L15cL1wvLyxyYj17fSxzYj17fSx0Yj0iKi8iLmNvbmNhdCgiKiIpLHViPWQuY3JlYXRlRWxlbWVudCgiYSIpO3ViLmhyZWY9aWIuaHJlZjtmdW5jdGlvbiB2YihhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXsic3RyaW5nIiE9dHlwZW9mIGImJihjPWIsYj0iKiIpO3ZhciBkLGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8W107aWYobi5pc0Z1bmN0aW9uKGMpKXdoaWxlKGQ9ZltlKytdKSIrIj09PWRbMF0/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09c2I7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiB4YihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGMgaW4gYil2b2lkIDAhPT1iW2NdJiYoKGVbY10/YTpkfHwoZD17fSkpW2NdPWJbY10pO3JldHVybiBkJiZuLmV4dGVuZCghMCxhLGQpLGF9ZnVuY3Rpb24geWIoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWQmJihkPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihkKWZvcihlIGluIGgpaWYoaFtlXSYmaFtlXS50ZXN0KGQpKXtpLnVuc2hpZnQoZSk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGUgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tlKyIgIitpWzBdXSl7Zj1lO2JyZWFrfWd8fChnPWUpfWY9Znx8Z31yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gemIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6aWIuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6b2IudGVzdChpYi5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjp0Yix0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpuLnBhcnNlSlNPTiwidGV4dCB4bWwiOm4ucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe3JldHVybiBiP3hiKHhiKGEsbi5hamF4U2V0dGluZ3MpLGIpOnhiKG4uYWpheFNldHRpbmdzLGEpfSxhamF4UHJlZmlsdGVyOnZiKHJiKSxhamF4VHJhbnNwb3J0OnZiKHNiKSxhamF4OmZ1bmN0aW9uKGIsYyl7Im9iamVjdCI9PXR5cGVvZiBiJiYoYz1iLGI9dm9pZCAwKSxjPWN8fHt9O3ZhciBlLGYsZyxoLGksaixrLGwsbT1uLmFqYXhTZXR1cCh7fSxjKSxvPW0uY29udGV4dHx8bSxwPW0uY29udGV4dCYmKG8ubm9kZVR5cGV8fG8uanF1ZXJ5KT9uKG8pOm4uZXZlbnQscT1uLkRlZmVycmVkKCkscj1uLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxzPW0uc3RhdHVzQ29kZXx8e30sdD17fSx1PXt9LHY9MCx3PSJjYW5jZWxlZCIseD17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKDI9PT12KXtpZighaCl7aD17fTt3aGlsZShiPW5iLmV4ZWMoZykpaFtiWzFdLnRvTG93ZXJDYXNlKCldPWJbMl19Yj1oW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWI/bnVsbDpifSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXY/ZzpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO3JldHVybiB2fHwoYT11W2NdPXVbY118fGEsdFthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB2fHwobS5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoMj52KWZvcihiIGluIGEpc1tiXT1bc1tiXSxhW2JdXTtlbHNlIHguYWx3YXlzKGFbeC5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YXx8dztyZXR1cm4gZSYmZS5hYm9ydChiKSx6KDAsYiksdGhpc319O2lmKHEucHJvbWlzZSh4KS5jb21wbGV0ZT1yLmFkZCx4LnN1Y2Nlc3M9eC5kb25lLHguZXJyb3I9eC5mYWlsLG0udXJsPSgoYnx8bS51cmx8fGliLmhyZWYpKyIiKS5yZXBsYWNlKGxiLCIiKS5yZXBsYWNlKHFiLGliLnByb3RvY29sKyIvLyIpLG0udHlwZT1jLm1ldGhvZHx8Yy50eXBlfHxtLm1ldGhvZHx8bS50eXBlLG0uZGF0YVR5cGVzPW4udHJpbShtLmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2goRyl8fFsiIl0sbnVsbD09bS5jcm9zc0RvbWFpbil7aj1kLmNyZWF0ZUVsZW1lbnQoImEiKTt0cnl7ai5ocmVmPW0udXJsLGouaHJlZj1qLmhyZWYsbS5jcm9zc0RvbWFpbj11Yi5wcm90b2NvbCsiLy8iK3ViLmhvc3QhPWoucHJvdG9jb2wrIi8vIitqLmhvc3R9Y2F0Y2goeSl7bS5jcm9zc0RvbWFpbj0hMH19aWYobS5kYXRhJiZtLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIG0uZGF0YSYmKG0uZGF0YT1uLnBhcmFtKG0uZGF0YSxtLnRyYWRpdGlvbmFsKSksd2IocmIsbSxjLHgpLDI9PT12KXJldHVybiB4O2s9bi5ldmVudCYmbS5nbG9iYWwsayYmMD09PW4uYWN0aXZlKysmJm4uZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0IiksbS50eXBlPW0udHlwZS50b1VwcGVyQ2FzZSgpLG0uaGFzQ29udGVudD0hcGIudGVzdChtLnR5cGUpLGY9bS51cmwsbS5oYXNDb250ZW50fHwobS5kYXRhJiYoZj1tLnVybCs9KGtiLnRlc3QoZik/IiYiOiI/IikrbS5kYXRhLGRlbGV0ZSBtLmRhdGEpLG0uY2FjaGU9PT0hMSYmKG0udXJsPW1iLnRlc3QoZik/Zi5yZXBsYWNlKG1iLCIkMV89IitqYisrKTpmKyhrYi50ZXN0KGYpPyImIjoiPyIpKyJfPSIramIrKykpLG0uaWZNb2RpZmllZCYmKG4ubGFzdE1vZGlmaWVkW2ZdJiZ4LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixuLmxhc3RNb2RpZmllZFtmXSksbi5ldGFnW2ZdJiZ4LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLG4uZXRhZ1tmXSkpLChtLmRhdGEmJm0uaGFzQ29udGVudCYmbS5jb250ZW50VHlwZSE9PSExfHxjLmNvbnRlbnRUeXBlKSYmeC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLG0uY29udGVudFR5cGUpLHguc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixtLmRhdGFUeXBlc1swXSYmbS5hY2NlcHRzW20uZGF0YVR5cGVzWzBdXT9tLmFjY2VwdHNbbS5kYXRhVHlwZXNbMF1dKygiKiIhPT1tLmRhdGFUeXBlc1swXT8iLCAiK3RiKyI7IHE9MC4wMSI6IiIpOm0uYWNjZXB0c1siKiJdKTtmb3IobCBpbiBtLmhlYWRlcnMpeC5zZXRSZXF1ZXN0SGVhZGVyKGwsbS5oZWFkZXJzW2xdKTtpZihtLmJlZm9yZVNlbmQmJihtLmJlZm9yZVNlbmQuY2FsbChvLHgsbSk9PT0hMXx8Mj09PXYpKXJldHVybiB4LmFib3J0KCk7dz0iYWJvcnQiO2ZvcihsIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXhbbF0obVtsXSk7aWYoZT13YihzYixtLGMseCkpe2lmKHgucmVhZHlTdGF0ZT0xLGsmJnAudHJpZ2dlcigiYWpheFNlbmQiLFt4LG1dKSwyPT09dilyZXR1cm4geDttLmFzeW5jJiZtLnRpbWVvdXQ+MCYmKGk9YS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eC5hYm9ydCgidGltZW91dCIpfSxtLnRpbWVvdXQpKTt0cnl7dj0xLGUuc2VuZCh0LHopfWNhdGNoKHkpe2lmKCEoMj52KSl0aHJvdyB5O3ooLTEseSl9fWVsc2UgeigtMSwiTm8gVHJhbnNwb3J0Iik7ZnVuY3Rpb24geihiLGMsZCxoKXt2YXIgaixsLHQsdSx3LHk9YzsyIT09diYmKHY9MixpJiZhLmNsZWFyVGltZW91dChpKSxlPXZvaWQgMCxnPWh8fCIiLHgucmVhZHlTdGF0ZT1iPjA/NDowLGo9Yj49MjAwJiYzMDA+Ynx8MzA0PT09YixkJiYodT15YihtLHgsZCkpLHU9emIobSx1LHgsaiksaj8obS5pZk1vZGlmaWVkJiYodz14LmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksdyYmKG4ubGFzdE1vZGlmaWVkW2ZdPXcpLHc9eC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpLHcmJihuLmV0YWdbZl09dykpLDIwND09PWJ8fCJIRUFEIj09PW0udHlwZT95PSJub2NvbnRlbnQiOjMwND09PWI/eT0ibm90bW9kaWZpZWQiOih5PXUuc3RhdGUsbD11LmRhdGEsdD11LmVycm9yLGo9IXQpKToodD15LChifHwheSkmJih5PSJlcnJvciIsMD5iJiYoYj0wKSkpLHguc3RhdHVzPWIseC5zdGF0dXNUZXh0PShjfHx5KSsiIixqP3EucmVzb2x2ZVdpdGgobyxbbCx5LHhdKTpxLnJlamVjdFdpdGgobyxbeCx5LHRdKSx4LnN0YXR1c0NvZGUocykscz12b2lkIDAsayYmcC50cmlnZ2VyKGo/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbeCxtLGo/bDp0XSksci5maXJlV2l0aChvLFt4LHldKSxrJiYocC50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFt4LG1dKSwtLW4uYWN0aXZlfHxuLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4geH0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG4uZ2V0KGEsYixjLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihhLGIpe3JldHVybiBuLmdldChhLHZvaWQgMCxiLCJzY3JpcHQiKX19KSxuLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYSxiKXtuW2JdPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBuLmlzRnVuY3Rpb24oYykmJihlPWV8fGQsZD1jLGM9dm9pZCAwKSxuLmFqYXgobi5leHRlbmQoe3VybDphLHR5cGU6YixkYXRhVHlwZTplLGRhdGE6YyxzdWNjZXNzOmR9LG4uaXNQbGFpbk9iamVjdChhKSYmYSkpfX0pLG4uX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uYWpheCh7dXJsOmEsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX0sbi5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG4uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pOih0aGlzWzBdJiYoYj1uKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKSxiLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXM7d2hpbGUoYS5maXJzdEVsZW1lbnRDaGlsZClhPWEuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcykpLHRoaXMpfSx3cmFwSW5uZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS53cmFwSW5uZXIoYS5jYWxsKHRoaXMsYikpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9bih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1uLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7bi5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fG4odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG4uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMudmlzaWJsZShhKX0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aD4wfHxhLm9mZnNldEhlaWdodD4wfHxhLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPjB9O3ZhciBBYj0vJTIwL2csQmI9L1xbXF0kLyxDYj0vXHI/XG4vZyxEYj0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksRWI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEZiKGEsYixjLGQpe3ZhciBlO2lmKG4uaXNBcnJheShiKSluLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fEJiLnRlc3QoYSk/ZChhLGUpOkZiKGErIlsiKygib2JqZWN0Ij09dHlwZW9mIGUmJm51bGwhPWU/YjoiIikrIl0iLGUsYyxkKX0pO2Vsc2UgaWYoY3x8Im9iamVjdCIhPT1uLnR5cGUoYikpZChhLGIpO2Vsc2UgZm9yKGUgaW4gYilGYihhKyJbIitlKyJdIixiW2VdLGMsZCl9bi5wYXJhbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1mdW5jdGlvbihhLGIpe2I9bi5pc0Z1bmN0aW9uKGIpP2IoKTpudWxsPT1iPyIiOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2lmKHZvaWQgMD09PWImJihiPW4uYWpheFNldHRpbmdzJiZuLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksbi5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIW4uaXNQbGFpbk9iamVjdChhKSluLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKUZiKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKEFiLCIrIil9LG4uZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPW4ucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBhP24ubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIW4odGhpcykuaXMoIjpkaXNhYmxlZCIpJiZFYi50ZXN0KHRoaXMubm9kZU5hbWUpJiYhRGIudGVzdChhKSYmKHRoaXMuY2hlY2tlZHx8IVgudGVzdChhKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1uKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1jP251bGw6bi5pc0FycmF5KGMpP24ubWFwKGMsZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6Yi5uYW1lLHZhbHVlOmEucmVwbGFjZShDYiwiXHJcbiIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoQ2IsIlxyXG4iKX19KS5nZXQoKX19KSxuLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG5ldyBhLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGIpe319O3ZhciBHYj17MDoyMDAsMTIyMzoyMDR9LEhiPW4uYWpheFNldHRpbmdzLnhocigpO2wuY29ycz0hIUhiJiYid2l0aENyZWRlbnRpYWxzImluIEhiLGwuYWpheD1IYj0hIUhiLG4uYWpheFRyYW5zcG9ydChmdW5jdGlvbihiKXt2YXIgYyxkO3JldHVybiBsLmNvcnN8fEhiJiYhYi5jcm9zc0RvbWFpbj97c2VuZDpmdW5jdGlvbihlLGYpe3ZhciBnLGg9Yi54aHIoKTtpZihoLm9wZW4oYi50eXBlLGIudXJsLGIuYXN5bmMsYi51c2VybmFtZSxiLnBhc3N3b3JkKSxiLnhockZpZWxkcylmb3IoZyBpbiBiLnhockZpZWxkcyloW2ddPWIueGhyRmllbGRzW2ddO2IubWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlKGIubWltZVR5cGUpLGIuY3Jvc3NEb21haW58fGVbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGVbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZyBpbiBlKWguc2V0UmVxdWVzdEhlYWRlcihnLGVbZ10pO2M9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7YyYmKGM9ZD1oLm9ubG9hZD1oLm9uZXJyb3I9aC5vbmFib3J0PWgub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsImFib3J0Ij09PWE/aC5hYm9ydCgpOiJlcnJvciI9PT1hPyJudW1iZXIiIT10eXBlb2YgaC5zdGF0dXM/ZigwLCJlcnJvciIpOmYoaC5zdGF0dXMsaC5zdGF0dXNUZXh0KTpmKEdiW2guc3RhdHVzXXx8aC5zdGF0dXMsaC5zdGF0dXNUZXh0LCJ0ZXh0IiE9PShoLnJlc3BvbnNlVHlwZXx8InRleHQiKXx8InN0cmluZyIhPXR5cGVvZiBoLnJlc3BvbnNlVGV4dD97YmluYXJ5OmgucmVzcG9uc2V9Ont0ZXh0OmgucmVzcG9uc2VUZXh0fSxoLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxoLm9ubG9hZD1jKCksZD1oLm9uZXJyb3I9YygiZXJyb3IiKSx2b2lkIDAhPT1oLm9uYWJvcnQ/aC5vbmFib3J0PWQ6aC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09aC5yZWFkeVN0YXRlJiZhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjJiZkKCl9KX0sYz1jKCJhYm9ydCIpO3RyeXtoLnNlbmQoYi5oYXNDb250ZW50JiZiLmRhdGF8fG51bGwpfWNhdGNoKGkpe2lmKGMpdGhyb3cgaX19LGFib3J0OmZ1bmN0aW9uKCl7YyYmYygpfX06dm9pZCAwfSksbi5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9cYig/OmphdmF8ZWNtYSlzY3JpcHRcYi99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ2xvYmFsRXZhbChhKSxhfX19KSxuLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oYSl7dm9pZCAwPT09YS5jYWNoZSYmKGEuY2FjaGU9ITEpLGEuY3Jvc3NEb21haW4mJihhLnR5cGU9IkdFVCIpfSksbi5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKGEpe2lmKGEuY3Jvc3NEb21haW4pe3ZhciBiLGM7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxmKXtiPW4oIjxzY3JpcHQ+IikucHJvcCh7Y2hhcnNldDphLnNjcmlwdENoYXJzZXQsc3JjOmEudXJsfSkub24oImxvYWQgZXJyb3IiLGM9ZnVuY3Rpb24oYSl7Yi5yZW1vdmUoKSxjPW51bGwsYSYmZigiZXJyb3IiPT09YS50eXBlPzQwNDoyMDAsYS50eXBlKX0pLGQuaGVhZC5hcHBlbmRDaGlsZChiWzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKCl9fX19KTt2YXIgSWI9W10sSmI9Lyg9KVw/KD89JnwkKXxcP1w/LztuLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9SWIucG9wKCl8fG4uZXhwYW5kbysiXyIramIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKEpiLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmSmIudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKEpiLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShrYi50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1mP24oYSkucmVtb3ZlUHJvcChlKTphW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssSWIucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbC5jcmVhdGVIVE1MRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT1kLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikuYm9keTtyZXR1cm4gYS5pbm5lckhUTUw9Ijxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IiwyPT09YS5jaGlsZE5vZGVzLmxlbmd0aH0oKSxuLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gbnVsbDsiYm9vbGVhbiI9PXR5cGVvZiBiJiYoYz1iLGI9ITEpLGI9Ynx8KGwuY3JlYXRlSFRNTERvY3VtZW50P2QuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKTpkKTt2YXIgZT14LmV4ZWMoYSksZj0hYyYmW107cmV0dXJuIGU/W2IuY3JlYXRlRWxlbWVudChlWzFdKV06KGU9Y2EoW2FdLGIsZiksZiYmZi5sZW5ndGgmJm4oZikucmVtb3ZlKCksbi5tZXJnZShbXSxlLmNoaWxkTm9kZXMpKX07dmFyIEtiPW4uZm4ubG9hZDtuLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJzdHJpbmciIT10eXBlb2YgYSYmS2IpcmV0dXJuIEtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZCxlLGYsZz10aGlzLGg9YS5pbmRleE9mKCIgIik7cmV0dXJuIGg+LTEmJihkPW4udHJpbShhLnNsaWNlKGgpKSxhPWEuc2xpY2UoMCxoKSksbi5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJiJvYmplY3QiPT10eXBlb2YgYiYmKGU9IlBPU1QiKSxnLmxlbmd0aD4wJiZuLmFqYXgoe3VybDphLHR5cGU6ZXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6Yn0pLmRvbmUoZnVuY3Rpb24oYSl7Zj1hcmd1bWVudHMsZy5odG1sKGQ/bigiPGRpdj4iKS5hcHBlbmQobi5wYXJzZUhUTUwoYSkpLmZpbmQoZCk6YSl9KS5hbHdheXMoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goZnVuY3Rpb24oKXtjLmFwcGx5KGcsZnx8W2EucmVzcG9uc2VUZXh0LGIsYV0pfSl9KSx0aGlzfSxuLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihhLGIpe24uZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub24oYixhKX19KSxuLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gbi5ncmVwKG4udGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofTtmdW5jdGlvbiBMYihhKXtyZXR1cm4gbi5pc1dpbmRvdyhhKT9hOjk9PT1hLm5vZGVUeXBlJiZhLmRlZmF1bHRWaWV3fW4ub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9bi5jc3MoYSwicG9zaXRpb24iKSxsPW4oYSksbT17fTsic3RhdGljIj09PWsmJihhLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLGg9bC5vZmZzZXQoKSxmPW4uY3NzKGEsInRvcCIpLGk9bi5jc3MoYSwibGVmdCIpLGo9KCJhYnNvbHV0ZSI9PT1rfHwiZml4ZWQiPT09aykmJihmK2kpLmluZGV4T2YoImF1dG8iKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLG4uZXh0ZW5kKHt9LGgpKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXRoaXNbMF0sZT17dG9wOjAsbGVmdDowfSxmPWQmJmQub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixkKT8oZT1kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGM9TGIoZikse3RvcDplLnRvcCtjLnBhZ2VZT2Zmc2V0LWIuY2xpZW50VG9wLGxlZnQ6ZS5sZWZ0K2MucGFnZVhPZmZzZXQtYi5jbGllbnRMZWZ0fSk6ZX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYSxiLGM9dGhpc1swXSxkPXt0b3A6MCxsZWZ0OjB9O3JldHVybiJmaXhlZCI9PT1uLmNzcyhjLCJwb3NpdGlvbiIpP2I9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYT10aGlzLm9mZnNldFBhcmVudCgpLGI9dGhpcy5vZmZzZXQoKSxuLm5vZGVOYW1lKGFbMF0sImh0bWwiKXx8KGQ9YS5vZmZzZXQoKSksZC50b3ArPW4uY3NzKGFbMF0sImJvcmRlclRvcFdpZHRoIiwhMCksZC5sZWZ0Kz1uLmNzcyhhWzBdLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSkse3RvcDpiLnRvcC1kLnRvcC1uLmNzcyhjLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OmIubGVmdC1kLmxlZnQtbi5jc3MoYywibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGEmJiJzdGF0aWMiPT09bi5jc3MoYSwicG9zaXRpb24iKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxFYX0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPSJwYWdlWU9mZnNldCI9PT1iO24uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIEsodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9TGIoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9mW2JdOmFbZF06dm9pZChmP2Yuc2Nyb2xsVG8oYz9mLnBhZ2VYT2Zmc2V0OmUsYz9lOmYucGFnZVlPZmZzZXQpOmFbZF09ZSl9LGEsZCxhcmd1bWVudHMubGVuZ3RoKX19KSxuLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPUdhKGwucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihhLGMpe3JldHVybiBjPyhjPUZhKGEsYiksQmEudGVzdChjKT9uKGEpLnBvc2l0aW9uKClbYl0rInB4IjpjKTp2b2lkIDB9KX0pLG4uZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEsYil7bi5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OmIsIiI6Im91dGVyIithfSxmdW5jdGlvbihjLGQpe24uZm5bZF09ZnVuY3Rpb24oZCxlKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoJiYoY3x8ImJvb2xlYW4iIT10eXBlb2YgZCksZz1jfHwoZD09PSEwfHxlPT09ITA/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiBLKHRoaXMsZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiBuLmlzV2luZG93KGIpP2IuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1iLm5vZGVUeXBlPyhlPWIuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGIuYm9keVsic2Nyb2xsIithXSxlWyJzY3JvbGwiK2FdLGIuYm9keVsib2Zmc2V0IithXSxlWyJvZmZzZXQiK2FdLGVbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1kP24uY3NzKGIsYyxnKTpuLnN0eWxlKGIsYyxkLGcpfSxiLGY/ZDp2b2lkIDAsZixudWxsKX19KX0pLG4uZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihhLCIqKiIpOnRoaXMub2ZmKGIsYXx8IioqIixjKX0sc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH19KSxuLmZuLmFuZFNlbGY9bi5mbi5hZGRCYWNrLCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBufSk7dmFyIE1iPWEualF1ZXJ5LE5iPWEuJDtyZXR1cm4gbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe3JldHVybiBhLiQ9PT1uJiYoYS4kPU5iKSxiJiZhLmpRdWVyeT09PW4mJihhLmpRdWVyeT1NYiksbn0sYnx8KGEualF1ZXJ5PWEuJD1uKSxufSk7Cg=="></script>
<script src="data:application/x-javascript;base64,LyoganF1ZXJ5LnNwYXJrbGluZSAyLjEuMiAtIGh0dHA6Ly9vbW5pcG90ZW50Lm5ldC9qcXVlcnkuc3BhcmtsaW5lLyAKKiogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZSAtIHNlZSBhYm92ZSBzaXRlIGZvciBkZXRhaWxzICovCgooZnVuY3Rpb24oYSxiLGMpeyhmdW5jdGlvbihhKXt0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLGEpOmpRdWVyeSYmIWpRdWVyeS5mbi5zcGFya2xpbmUmJmEoalF1ZXJ5KX0pKGZ1bmN0aW9uKGQpeyJ1c2Ugc3RyaWN0Ijt2YXIgZT17fSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdCx1LHYsdyx4LHkseixBLEIsQyxELEUsRixHLEgsSSxKLEssTD0wO2Y9ZnVuY3Rpb24oKXtyZXR1cm57Y29tbW9uOnt0eXBlOiJsaW5lIixsaW5lQ29sb3I6IiMwMGYiLGZpbGxDb2xvcjoiI2NkZiIsZGVmYXVsdFBpeGVsc1BlclZhbHVlOjMsd2lkdGg6ImF1dG8iLGhlaWdodDoiYXV0byIsY29tcG9zaXRlOiExLHRhZ1ZhbHVlc0F0dHJpYnV0ZToidmFsdWVzIix0YWdPcHRpb25zUHJlZml4OiJzcGFyayIsZW5hYmxlVGFnT3B0aW9uczohMSxlbmFibGVIaWdobGlnaHQ6ITAsaGlnaGxpZ2h0TGlnaHRlbjoxLjQsdG9vbHRpcFNraXBOdWxsOiEwLHRvb2x0aXBQcmVmaXg6IiIsdG9vbHRpcFN1ZmZpeDoiIixkaXNhYmxlSGlkZGVuQ2hlY2s6ITEsbnVtYmVyRm9ybWF0dGVyOiExLG51bWJlckRpZ2l0R3JvdXBDb3VudDozLG51bWJlckRpZ2l0R3JvdXBTZXA6IiwiLG51bWJlckRlY2ltYWxNYXJrOiIuIixkaXNhYmxlVG9vbHRpcHM6ITEsZGlzYWJsZUludGVyYWN0aW9uOiExfSxsaW5lOntzcG90Q29sb3I6IiNmODAiLGhpZ2hsaWdodFNwb3RDb2xvcjoiIzVmNSIsaGlnaGxpZ2h0TGluZUNvbG9yOiIjZjIyIixzcG90UmFkaXVzOjEuNSxtaW5TcG90Q29sb3I6IiNmODAiLG1heFNwb3RDb2xvcjoiI2Y4MCIsbGluZVdpZHRoOjEsbm9ybWFsUmFuZ2VNaW46Yyxub3JtYWxSYW5nZU1heDpjLG5vcm1hbFJhbmdlQ29sb3I6IiNjY2MiLGRyYXdOb3JtYWxPblRvcDohMSxjaGFydFJhbmdlTWluOmMsY2hhcnRSYW5nZU1heDpjLGNoYXJ0UmFuZ2VNaW5YOmMsY2hhcnRSYW5nZU1heFg6Yyx0b29sdGlwRm9ybWF0Om5ldyBoKCc8c3BhbiBzdHlsZT0iY29sb3I6IHt7Y29sb3J9fSI+JiM5Njc5Ozwvc3Bhbj4ge3twcmVmaXh9fXt7eX19e3tzdWZmaXh9fScpfSxiYXI6e2JhckNvbG9yOiIjMzM2NmNjIixuZWdCYXJDb2xvcjoiI2Y0NCIsc3RhY2tlZEJhckNvbG9yOlsiIzMzNjZjYyIsIiNkYzM5MTIiLCIjZmY5OTAwIiwiIzEwOTYxOCIsIiM2NmFhMDAiLCIjZGQ0NDc3IiwiIzAwOTljNiIsIiM5OTAwOTkiXSx6ZXJvQ29sb3I6YyxudWxsQ29sb3I6Yyx6ZXJvQXhpczohMCxiYXJXaWR0aDo0LGJhclNwYWNpbmc6MSxjaGFydFJhbmdlTWF4OmMsY2hhcnRSYW5nZU1pbjpjLGNoYXJ0UmFuZ2VDbGlwOiExLGNvbG9yTWFwOmMsdG9vbHRpcEZvcm1hdDpuZXcgaCgnPHNwYW4gc3R5bGU9ImNvbG9yOiB7e2NvbG9yfX0iPiYjOTY3OTs8L3NwYW4+IHt7cHJlZml4fX17e3ZhbHVlfX17e3N1ZmZpeH19Jyl9LHRyaXN0YXRlOntiYXJXaWR0aDo0LGJhclNwYWNpbmc6MSxwb3NCYXJDb2xvcjoiIzZmNiIsbmVnQmFyQ29sb3I6IiNmNDQiLHplcm9CYXJDb2xvcjoiIzk5OSIsY29sb3JNYXA6e30sdG9vbHRpcEZvcm1hdDpuZXcgaCgnPHNwYW4gc3R5bGU9ImNvbG9yOiB7e2NvbG9yfX0iPiYjOTY3OTs8L3NwYW4+IHt7dmFsdWU6bWFwfX0nKSx0b29sdGlwVmFsdWVMb29rdXBzOnttYXA6eyItMSI6Ikxvc3MiLDA6IkRyYXciLDE6IldpbiJ9fX0sZGlzY3JldGU6e2xpbmVIZWlnaHQ6ImF1dG8iLHRocmVzaG9sZENvbG9yOmMsdGhyZXNob2xkVmFsdWU6MCxjaGFydFJhbmdlTWF4OmMsY2hhcnRSYW5nZU1pbjpjLGNoYXJ0UmFuZ2VDbGlwOiExLHRvb2x0aXBGb3JtYXQ6bmV3IGgoInt7cHJlZml4fX17e3ZhbHVlfX17e3N1ZmZpeH19Iil9LGJ1bGxldDp7dGFyZ2V0Q29sb3I6IiNmMzMiLHRhcmdldFdpZHRoOjMscGVyZm9ybWFuY2VDb2xvcjoiIzMzZiIscmFuZ2VDb2xvcnM6WyIjZDNkYWZlIiwiI2E4YjZmZiIsIiM3Zjk0ZmYiXSxiYXNlOmMsdG9vbHRpcEZvcm1hdDpuZXcgaCgie3tmaWVsZGtleTpmaWVsZHN9fSAtIHt7dmFsdWV9fSIpLHRvb2x0aXBWYWx1ZUxvb2t1cHM6e2ZpZWxkczp7cjoiUmFuZ2UiLHA6IlBlcmZvcm1hbmNlIix0OiJUYXJnZXQifX19LHBpZTp7b2Zmc2V0OjAsc2xpY2VDb2xvcnM6WyIjMzM2NmNjIiwiI2RjMzkxMiIsIiNmZjk5MDAiLCIjMTA5NjE4IiwiIzY2YWEwMCIsIiNkZDQ0NzciLCIjMDA5OWM2IiwiIzk5MDA5OSJdLGJvcmRlcldpZHRoOjAsYm9yZGVyQ29sb3I6IiMwMDAiLHRvb2x0aXBGb3JtYXQ6bmV3IGgoJzxzcGFuIHN0eWxlPSJjb2xvcjoge3tjb2xvcn19Ij4mIzk2Nzk7PC9zcGFuPiB7e3ZhbHVlfX0gKHt7cGVyY2VudC4xfX0lKScpfSxib3g6e3JhdzohMSxib3hMaW5lQ29sb3I6IiMwMDAiLGJveEZpbGxDb2xvcjoiI2NkZiIsd2hpc2tlckNvbG9yOiIjMDAwIixvdXRsaWVyTGluZUNvbG9yOiIjMzMzIixvdXRsaWVyRmlsbENvbG9yOiIjZmZmIixtZWRpYW5Db2xvcjoiI2YwMCIsc2hvd091dGxpZXJzOiEwLG91dGxpZXJJUVI6MS41LHNwb3RSYWRpdXM6MS41LHRhcmdldDpjLHRhcmdldENvbG9yOiIjNGEyIixjaGFydFJhbmdlTWF4OmMsY2hhcnRSYW5nZU1pbjpjLHRvb2x0aXBGb3JtYXQ6bmV3IGgoInt7ZmllbGQ6ZmllbGRzfX06IHt7dmFsdWV9fSIpLHRvb2x0aXBGb3JtYXRGaWVsZGxpc3RLZXk6ImZpZWxkIix0b29sdGlwVmFsdWVMb29rdXBzOntmaWVsZHM6e2xxOiJMb3dlciBRdWFydGlsZSIsbWVkOiJNZWRpYW4iLHVxOiJVcHBlciBRdWFydGlsZSIsbG86IkxlZnQgT3V0bGllciIscm86IlJpZ2h0IE91dGxpZXIiLGx3OiJMZWZ0IFdoaXNrZXIiLHJ3OiJSaWdodCBXaGlza2VyIn19fX19LEU9Jy5qcXN0b29sdGlwIHsgcG9zaXRpb246IGFic29sdXRlO2xlZnQ6IDBweDt0b3A6IDBweDt2aXNpYmlsaXR5OiBoaWRkZW47YmFja2dyb3VuZDogcmdiKDAsIDAsIDApIHRyYW5zcGFyZW50O2JhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC42KTtmaWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9Izk5MDAwMDAwLCBlbmRDb2xvcnN0cj0jOTkwMDAwMDApOy1tcy1maWx0ZXI6ICJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0jOTkwMDAwMDAsIGVuZENvbG9yc3RyPSM5OTAwMDAwMCkiO2NvbG9yOiB3aGl0ZTtmb250OiAxMHB4IGFyaWFsLCBzYW4gc2VyaWY7dGV4dC1hbGlnbjogbGVmdDt3aGl0ZS1zcGFjZTogbm93cmFwO3BhZGRpbmc6IDVweDtib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTt6LWluZGV4OiAxMDAwMDt9Lmpxc2ZpZWxkIHsgY29sb3I6IHdoaXRlO2ZvbnQ6IDEwcHggYXJpYWwsIHNhbiBzZXJpZjt0ZXh0LWFsaWduOiBsZWZ0O30nLGc9ZnVuY3Rpb24oKXt2YXIgYSxiO3JldHVybiBhPWZ1bmN0aW9uKCl7dGhpcy5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYXJndW1lbnRzLmxlbmd0aD4xPyhhcmd1bWVudHNbMF0/KGEucHJvdG90eXBlPWQuZXh0ZW5kKG5ldyBhcmd1bWVudHNbMF0sYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMV0pLGEuX3N1cGVyPWFyZ3VtZW50c1swXS5wcm90b3R5cGUpOmEucHJvdG90eXBlPWFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTFdLGFyZ3VtZW50cy5sZW5ndGg+MiYmKGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEsLTEpLGIudW5zaGlmdChhLnByb3RvdHlwZSksZC5leHRlbmQuYXBwbHkoZCxiKSkpOmEucHJvdG90eXBlPWFyZ3VtZW50c1swXSxhLnByb3RvdHlwZS5jbHM9YSxhfSxkLlNQRm9ybWF0Q2xhc3M9aD1nKHtmcmU6L1x7XHsoW1x3Ll0rPykoOiguKz8pKT9cfVx9L2cscHJlY3JlOi8oXHcrKVwuKFxkKykvLGluaXQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmZvcm1hdD1hLHRoaXMuZmNsYXNzPWJ9LHJlbmRlcjpmdW5jdGlvbihhLGIsZCl7dmFyIGU9dGhpcyxmPWEsZyxoLGksaixrO3JldHVybiB0aGlzLmZvcm1hdC5yZXBsYWNlKHRoaXMuZnJlLGZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGg9YXJndW1lbnRzWzFdLGk9YXJndW1lbnRzWzNdLGc9ZS5wcmVjcmUuZXhlYyhoKSxnPyhrPWdbMl0saD1nWzFdKTprPSExLGo9ZltoXSxqPT09Yz8iIjppJiZiJiZiW2ldPyhhPWJbaV0sYS5nZXQ/YltpXS5nZXQoail8fGo6YltpXVtqXXx8aik6KG4oaikmJihkLmdldCgibnVtYmVyRm9ybWF0dGVyIik/aj1kLmdldCgibnVtYmVyRm9ybWF0dGVyIikoaik6aj1zKGosayxkLmdldCgibnVtYmVyRGlnaXRHcm91cENvdW50IiksZC5nZXQoIm51bWJlckRpZ2l0R3JvdXBTZXAiKSxkLmdldCgibnVtYmVyRGVjaW1hbE1hcmsiKSkpLGopfSl9fSksZC5zcGZvcm1hdD1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgaChhLGIpfSxpPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYTxiP2I6YT5jP2M6YX0saj1mdW5jdGlvbihhLGMpe3ZhciBkO3JldHVybiBjPT09Mj8oZD1iLmZsb29yKGEubGVuZ3RoLzIpLGEubGVuZ3RoJTI/YVtkXTooYVtkLTFdK2FbZF0pLzIpOmEubGVuZ3RoJTI/KGQ9KGEubGVuZ3RoKmMrYykvNCxkJTE/KGFbYi5mbG9vcihkKV0rYVtiLmZsb29yKGQpLTFdKS8yOmFbZC0xXSk6KGQ9KGEubGVuZ3RoKmMrMikvNCxkJTE/KGFbYi5mbG9vcihkKV0rYVtiLmZsb29yKGQpLTFdKS8yOmFbZC0xXSl9LGs9ZnVuY3Rpb24oYSl7dmFyIGI7c3dpdGNoKGEpe2Nhc2UidW5kZWZpbmVkIjphPWM7YnJlYWs7Y2FzZSJudWxsIjphPW51bGw7YnJlYWs7Y2FzZSJ0cnVlIjphPSEwO2JyZWFrO2Nhc2UiZmFsc2UiOmE9ITE7YnJlYWs7ZGVmYXVsdDpiPXBhcnNlRmxvYXQoYSksYT09YiYmKGE9Yil9cmV0dXJuIGF9LGw9ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXTtmb3IoYj1hLmxlbmd0aDtiLS07KWNbYl09ayhhW2JdKTtyZXR1cm4gY30sbT1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1bXTtmb3IoYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylhW2NdIT09YiYmZS5wdXNoKGFbY10pO3JldHVybiBlfSxuPWZ1bmN0aW9uKGEpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KGEpKSYmaXNGaW5pdGUoYSl9LHM9ZnVuY3Rpb24oYSxiLGMsZSxmKXt2YXIgZyxoO2E9KGI9PT0hMT9wYXJzZUZsb2F0KGEpLnRvU3RyaW5nKCk6YS50b0ZpeGVkKGIpKS5zcGxpdCgiIiksZz0oZz1kLmluQXJyYXkoIi4iLGEpKTwwP2EubGVuZ3RoOmcsZzxhLmxlbmd0aCYmKGFbZ109Zik7Zm9yKGg9Zy1jO2g+MDtoLT1jKWEuc3BsaWNlKGgsMCxlKTtyZXR1cm4gYS5qb2luKCIiKX0sbz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7Zm9yKGQ9Yi5sZW5ndGg7ZC0tOyl7aWYoYyYmYltkXT09PW51bGwpY29udGludWU7aWYoYltkXSE9PWEpcmV0dXJuITF9cmV0dXJuITB9LHA9ZnVuY3Rpb24oYSl7dmFyIGI9MCxjO2ZvcihjPWEubGVuZ3RoO2MtLTspYis9dHlwZW9mIGFbY109PSJudW1iZXIiP2FbY106MDtyZXR1cm4gYn0scj1mdW5jdGlvbihhKXtyZXR1cm4gZC5pc0FycmF5KGEpP2E6W2FdfSxxPWZ1bmN0aW9uKGIpe3ZhciBjO2EuY3JlYXRlU3R5bGVTaGVldD9hLmNyZWF0ZVN0eWxlU2hlZXQoKS5jc3NUZXh0PWI6KGM9YS5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGMudHlwZT0idGV4dC9jc3MiLGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChjKSxjW3R5cGVvZiBhLmJvZHkuc3R5bGUuV2Via2l0QXBwZWFyYW5jZT09InN0cmluZyI/ImlubmVyVGV4dCI6ImlubmVySFRNTCJdPWIpfSxkLmZuLnNpbXBsZWRyYXc9ZnVuY3Rpb24oYixlLGYsZyl7dmFyIGgsaTtpZihmJiYoaD10aGlzLmRhdGEoIl9qcXNfdmNhbnZhcyIpKSlyZXR1cm4gaDtpZihkLmZuLnNwYXJrbGluZS5jYW52YXM9PT0hMSlyZXR1cm4hMTtpZihkLmZuLnNwYXJrbGluZS5jYW52YXM9PT1jKXt2YXIgaj1hLmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2lmKCFqLmdldENvbnRleHR8fCFqLmdldENvbnRleHQoIjJkIikpe2lmKCFhLm5hbWVzcGFjZXN8fCEhYS5uYW1lc3BhY2VzLnYpcmV0dXJuIGQuZm4uc3BhcmtsaW5lLmNhbnZhcz0hMSwhMTthLm5hbWVzcGFjZXMuYWRkKCJ2IiwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiLCIjZGVmYXVsdCNWTUwiKSxkLmZuLnNwYXJrbGluZS5jYW52YXM9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIG5ldyBKKGEsYixjKX19ZWxzZSBkLmZuLnNwYXJrbGluZS5jYW52YXM9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIG5ldyBJKGEsYixjLGQpfX1yZXR1cm4gYj09PWMmJihiPWQodGhpcykuaW5uZXJXaWR0aCgpKSxlPT09YyYmKGU9ZCh0aGlzKS5pbm5lckhlaWdodCgpKSxoPWQuZm4uc3BhcmtsaW5lLmNhbnZhcyhiLGUsdGhpcyxnKSxpPWQodGhpcykuZGF0YSgiX2pxc19taGFuZGxlciIpLGkmJmkucmVnaXN0ZXJDYW52YXMoaCksaH0sZC5mbi5jbGVhcmRyYXc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmRhdGEoIl9qcXNfdmNhbnZhcyIpO2EmJmEucmVzZXQoKX0sZC5SYW5nZU1hcENsYXNzPXQ9Zyh7aW5pdDpmdW5jdGlvbihhKXt2YXIgYixjLGQ9W107Zm9yKGIgaW4gYSlhLmhhc093blByb3BlcnR5KGIpJiZ0eXBlb2YgYj09InN0cmluZyImJmIuaW5kZXhPZigiOiIpPi0xJiYoYz1iLnNwbGl0KCI6IiksY1swXT1jWzBdLmxlbmd0aD09PTA/LUluZmluaXR5OnBhcnNlRmxvYXQoY1swXSksY1sxXT1jWzFdLmxlbmd0aD09PTA/SW5maW5pdHk6cGFyc2VGbG9hdChjWzFdKSxjWzJdPWFbYl0sZC5wdXNoKGMpKTt0aGlzLm1hcD1hLHRoaXMucmFuZ2VsaXN0PWR8fCExfSxnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yYW5nZWxpc3QsZCxlLGY7aWYoKGY9dGhpcy5tYXBbYV0pIT09YylyZXR1cm4gZjtpZihiKWZvcihkPWIubGVuZ3RoO2QtLTspe2U9YltkXTtpZihlWzBdPD1hJiZlWzFdPj1hKXJldHVybiBlWzJdfXJldHVybiBjfX0pLGQucmFuZ2VfbWFwPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgdChhKX0sdT1nKHtpbml0OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZChhKTt0aGlzLiRlbD1jLHRoaXMub3B0aW9ucz1iLHRoaXMuY3VycmVudFBhZ2VYPTAsdGhpcy5jdXJyZW50UGFnZVk9MCx0aGlzLmVsPWEsdGhpcy5zcGxpc3Q9W10sdGhpcy50b29sdGlwPW51bGwsdGhpcy5vdmVyPSExLHRoaXMuZGlzcGxheVRvb2x0aXBzPSFiLmdldCgiZGlzYWJsZVRvb2x0aXBzIiksdGhpcy5oaWdobGlnaHRFbmFibGVkPSFiLmdldCgiZGlzYWJsZUhpZ2hsaWdodCIpfSxyZWdpc3RlclNwYXJrbGluZTpmdW5jdGlvbihhKXt0aGlzLnNwbGlzdC5wdXNoKGEpLHRoaXMub3ZlciYmdGhpcy51cGRhdGVEaXNwbGF5KCl9LHJlZ2lzdGVyQ2FudmFzOmZ1bmN0aW9uKGEpe3ZhciBiPWQoYS5jYW52YXMpO3RoaXMuY2FudmFzPWEsdGhpcy4kY2FudmFzPWIsYi5tb3VzZWVudGVyKGQucHJveHkodGhpcy5tb3VzZWVudGVyLHRoaXMpKSxiLm1vdXNlbGVhdmUoZC5wcm94eSh0aGlzLm1vdXNlbGVhdmUsdGhpcykpLGIuY2xpY2soZC5wcm94eSh0aGlzLm1vdXNlY2xpY2ssdGhpcykpfSxyZXNldDpmdW5jdGlvbihhKXt0aGlzLnNwbGlzdD1bXSx0aGlzLnRvb2x0aXAmJmEmJih0aGlzLnRvb2x0aXAucmVtb3ZlKCksdGhpcy50b29sdGlwPWMpfSxtb3VzZWNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPWQuRXZlbnQoInNwYXJrbGluZUNsaWNrIik7Yi5vcmlnaW5hbEV2ZW50PWEsYi5zcGFya2xpbmVzPXRoaXMuc3BsaXN0LHRoaXMuJGVsLnRyaWdnZXIoYil9LG1vdXNlZW50ZXI6ZnVuY3Rpb24oYil7ZChhLmJvZHkpLnVuYmluZCgibW91c2Vtb3ZlLmpxcyIpLGQoYS5ib2R5KS5iaW5kKCJtb3VzZW1vdmUuanFzIixkLnByb3h5KHRoaXMubW91c2Vtb3ZlLHRoaXMpKSx0aGlzLm92ZXI9ITAsdGhpcy5jdXJyZW50UGFnZVg9Yi5wYWdlWCx0aGlzLmN1cnJlbnRQYWdlWT1iLnBhZ2VZLHRoaXMuY3VycmVudEVsPWIudGFyZ2V0LCF0aGlzLnRvb2x0aXAmJnRoaXMuZGlzcGxheVRvb2x0aXBzJiYodGhpcy50b29sdGlwPW5ldyB2KHRoaXMub3B0aW9ucyksdGhpcy50b29sdGlwLnVwZGF0ZVBvc2l0aW9uKGIucGFnZVgsYi5wYWdlWSkpLHRoaXMudXBkYXRlRGlzcGxheSgpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKCl7ZChhLmJvZHkpLnVuYmluZCgibW91c2Vtb3ZlLmpxcyIpO3ZhciBiPXRoaXMuc3BsaXN0LGM9Yi5sZW5ndGgsZT0hMSxmLGc7dGhpcy5vdmVyPSExLHRoaXMuY3VycmVudEVsPW51bGwsdGhpcy50b29sdGlwJiYodGhpcy50b29sdGlwLnJlbW92ZSgpLHRoaXMudG9vbHRpcD1udWxsKTtmb3IoZz0wO2c8YztnKyspZj1iW2ddLGYuY2xlYXJSZWdpb25IaWdobGlnaHQoKSYmKGU9ITApO2UmJnRoaXMuY2FudmFzLnJlbmRlcigpfSxtb3VzZW1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50UGFnZVg9YS5wYWdlWCx0aGlzLmN1cnJlbnRQYWdlWT1hLnBhZ2VZLHRoaXMuY3VycmVudEVsPWEudGFyZ2V0LHRoaXMudG9vbHRpcCYmdGhpcy50b29sdGlwLnVwZGF0ZVBvc2l0aW9uKGEucGFnZVgsYS5wYWdlWSksdGhpcy51cGRhdGVEaXNwbGF5KCl9LHVwZGF0ZURpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNwbGlzdCxiPWEubGVuZ3RoLGM9ITEsZT10aGlzLiRjYW52YXMub2Zmc2V0KCksZj10aGlzLmN1cnJlbnRQYWdlWC1lLmxlZnQsZz10aGlzLmN1cnJlbnRQYWdlWS1lLnRvcCxoLGksaixrLGw7aWYoIXRoaXMub3ZlcilyZXR1cm47Zm9yKGo9MDtqPGI7aisrKWk9YVtqXSxrPWkuc2V0UmVnaW9uSGlnaGxpZ2h0KHRoaXMuY3VycmVudEVsLGYsZyksayYmKGM9ITApO2lmKGMpe2w9ZC5FdmVudCgic3BhcmtsaW5lUmVnaW9uQ2hhbmdlIiksbC5zcGFya2xpbmVzPXRoaXMuc3BsaXN0LHRoaXMuJGVsLnRyaWdnZXIobCk7aWYodGhpcy50b29sdGlwKXtoPSIiO2ZvcihqPTA7ajxiO2orKylpPWFbal0saCs9aS5nZXRDdXJyZW50UmVnaW9uVG9vbHRpcCgpO3RoaXMudG9vbHRpcC5zZXRDb250ZW50KGgpfXRoaXMuZGlzYWJsZUhpZ2hsaWdodHx8dGhpcy5jYW52YXMucmVuZGVyKCl9az09PW51bGwmJnRoaXMubW91c2VsZWF2ZSgpfX0pLHY9Zyh7c2l6ZVN0eWxlOiJwb3NpdGlvbjogc3RhdGljICFpbXBvcnRhbnQ7ZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDt2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDtmbG9hdDogbGVmdCAhaW1wb3J0YW50OyIsaW5pdDpmdW5jdGlvbihiKXt2YXIgYz1iLmdldCgidG9vbHRpcENsYXNzbmFtZSIsImpxc3Rvb2x0aXAiKSxlPXRoaXMuc2l6ZVN0eWxlLGY7dGhpcy5jb250YWluZXI9Yi5nZXQoInRvb2x0aXBDb250YWluZXIiKXx8YS5ib2R5LHRoaXMudG9vbHRpcE9mZnNldFg9Yi5nZXQoInRvb2x0aXBPZmZzZXRYIiwxMCksdGhpcy50b29sdGlwT2Zmc2V0WT1iLmdldCgidG9vbHRpcE9mZnNldFkiLDEyKSxkKCIjanFzc2l6ZXRpcCIpLnJlbW92ZSgpLGQoIiNqcXN0b29sdGlwIikucmVtb3ZlKCksdGhpcy5zaXpldGlwPWQoIjxkaXYvPiIse2lkOiJqcXNzaXpldGlwIixzdHlsZTplLCJjbGFzcyI6Y30pLHRoaXMudG9vbHRpcD1kKCI8ZGl2Lz4iLHtpZDoianFzdG9vbHRpcCIsImNsYXNzIjpjfSkuYXBwZW5kVG8odGhpcy5jb250YWluZXIpLGY9dGhpcy50b29sdGlwLm9mZnNldCgpLHRoaXMub2Zmc2V0TGVmdD1mLmxlZnQsdGhpcy5vZmZzZXRUb3A9Zi50b3AsdGhpcy5oaWRkZW49ITAsZCh3aW5kb3cpLnVuYmluZCgicmVzaXplLmpxcyBzY3JvbGwuanFzIiksZCh3aW5kb3cpLmJpbmQoInJlc2l6ZS5qcXMgc2Nyb2xsLmpxcyIsZC5wcm94eSh0aGlzLnVwZGF0ZVdpbmRvd0RpbXMsdGhpcykpLHRoaXMudXBkYXRlV2luZG93RGltcygpfSx1cGRhdGVXaW5kb3dEaW1zOmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxUb3A9ZCh3aW5kb3cpLnNjcm9sbFRvcCgpLHRoaXMuc2Nyb2xsTGVmdD1kKHdpbmRvdykuc2Nyb2xsTGVmdCgpLHRoaXMuc2Nyb2xsUmlnaHQ9dGhpcy5zY3JvbGxMZWZ0K2Qod2luZG93KS53aWR0aCgpLHRoaXMudXBkYXRlUG9zaXRpb24oKX0sZ2V0U2l6ZTpmdW5jdGlvbihhKXt0aGlzLnNpemV0aXAuaHRtbChhKS5hcHBlbmRUbyh0aGlzLmNvbnRhaW5lciksdGhpcy53aWR0aD10aGlzLnNpemV0aXAud2lkdGgoKSsxLHRoaXMuaGVpZ2h0PXRoaXMuc2l6ZXRpcC5oZWlnaHQoKSx0aGlzLnNpemV0aXAucmVtb3ZlKCl9LHNldENvbnRlbnQ6ZnVuY3Rpb24oYSl7aWYoIWEpe3RoaXMudG9vbHRpcC5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKSx0aGlzLmhpZGRlbj0hMDtyZXR1cm59dGhpcy5nZXRTaXplKGEpLHRoaXMudG9vbHRpcC5odG1sKGEpLmNzcyh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsdmlzaWJpbGl0eToidmlzaWJsZSJ9KSx0aGlzLmhpZGRlbiYmKHRoaXMuaGlkZGVuPSExLHRoaXMudXBkYXRlUG9zaXRpb24oKSl9LHVwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7aWYoYT09PWMpe2lmKHRoaXMubW91c2V4PT09YylyZXR1cm47YT10aGlzLm1vdXNleC10aGlzLm9mZnNldExlZnQsYj10aGlzLm1vdXNleS10aGlzLm9mZnNldFRvcH1lbHNlIHRoaXMubW91c2V4PWEtPXRoaXMub2Zmc2V0TGVmdCx0aGlzLm1vdXNleT1iLT10aGlzLm9mZnNldFRvcDtpZighdGhpcy5oZWlnaHR8fCF0aGlzLndpZHRofHx0aGlzLmhpZGRlbilyZXR1cm47Yi09dGhpcy5oZWlnaHQrdGhpcy50b29sdGlwT2Zmc2V0WSxhKz10aGlzLnRvb2x0aXBPZmZzZXRYLGI8dGhpcy5zY3JvbGxUb3AmJihiPXRoaXMuc2Nyb2xsVG9wKSxhPHRoaXMuc2Nyb2xsTGVmdD9hPXRoaXMuc2Nyb2xsTGVmdDphK3RoaXMud2lkdGg+dGhpcy5zY3JvbGxSaWdodCYmKGE9dGhpcy5zY3JvbGxSaWdodC10aGlzLndpZHRoKSx0aGlzLnRvb2x0aXAuY3NzKHtsZWZ0OmEsdG9wOmJ9KX0scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy50b29sdGlwLnJlbW92ZSgpLHRoaXMuc2l6ZXRpcC5yZW1vdmUoKSx0aGlzLnNpemV0aXA9dGhpcy50b29sdGlwPWMsZCh3aW5kb3cpLnVuYmluZCgicmVzaXplLmpxcyBzY3JvbGwuanFzIil9fSksRj1mdW5jdGlvbigpe3EoRSl9LGQoRiksSz1bXSxkLmZuLnNwYXJrbGluZT1mdW5jdGlvbihiLGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZj1uZXcgZC5mbi5zcGFya2xpbmUub3B0aW9ucyh0aGlzLGUpLGc9ZCh0aGlzKSxoLGk7aD1mdW5jdGlvbigpe3ZhciBlLGgsaSxqLGssbCxtO2lmKGI9PT0iaHRtbCJ8fGI9PT1jKXttPXRoaXMuZ2V0QXR0cmlidXRlKGYuZ2V0KCJ0YWdWYWx1ZXNBdHRyaWJ1dGUiKSk7aWYobT09PWN8fG09PT1udWxsKW09Zy5odG1sKCk7ZT1tLnJlcGxhY2UoLyheXHMqPCEtLSl8KC0tPlxzKiQpfFxzKy9nLCIiKS5zcGxpdCgiLCIpfWVsc2UgZT1iO2g9Zi5nZXQoIndpZHRoIik9PT0iYXV0byI/ZS5sZW5ndGgqZi5nZXQoImRlZmF1bHRQaXhlbHNQZXJWYWx1ZSIpOmYuZ2V0KCJ3aWR0aCIpO2lmKGYuZ2V0KCJoZWlnaHQiKT09PSJhdXRvIil7aWYoIWYuZ2V0KCJjb21wb3NpdGUiKXx8IWQuZGF0YSh0aGlzLCJfanFzX3ZjYW52YXMiKSlqPWEuY3JlYXRlRWxlbWVudCgic3BhbiIpLGouaW5uZXJIVE1MPSJhIixnLmh0bWwoaiksaT1kKGopLmlubmVySGVpZ2h0KCl8fGQoaikuaGVpZ2h0KCksZChqKS5yZW1vdmUoKSxqPW51bGx9ZWxzZSBpPWYuZ2V0KCJoZWlnaHQiKTtmLmdldCgiZGlzYWJsZUludGVyYWN0aW9uIik/az0hMTooaz1kLmRhdGEodGhpcywiX2pxc19taGFuZGxlciIpLGs/Zi5nZXQoImNvbXBvc2l0ZSIpfHxrLnJlc2V0KCk6KGs9bmV3IHUodGhpcyxmKSxkLmRhdGEodGhpcywiX2pxc19taGFuZGxlciIsaykpKTtpZihmLmdldCgiY29tcG9zaXRlIikmJiFkLmRhdGEodGhpcywiX2pxc192Y2FudmFzIikpe2QuZGF0YSh0aGlzLCJfanFzX2Vycm5vdGlmeSIpfHwoYWxlcnQoIkF0dGVtcHRlZCB0byBhdHRhY2ggYSBjb21wb3NpdGUgc3BhcmtsaW5lIHRvIGFuIGVsZW1lbnQgd2l0aCBubyBleGlzdGluZyBzcGFya2xpbmUiKSxkLmRhdGEodGhpcywiX2pxc19lcnJub3RpZnkiLCEwKSk7cmV0dXJufWw9bmV3KGQuZm4uc3BhcmtsaW5lW2YuZ2V0KCJ0eXBlIildKSh0aGlzLGUsZixoLGkpLGwucmVuZGVyKCksayYmay5yZWdpc3RlclNwYXJrbGluZShsKX07aWYoZCh0aGlzKS5odG1sKCkmJiFmLmdldCgiZGlzYWJsZUhpZGRlbkNoZWNrIikmJmQodGhpcykuaXMoIjpoaWRkZW4iKXx8IWQodGhpcykucGFyZW50cygiYm9keSIpLmxlbmd0aCl7aWYoIWYuZ2V0KCJjb21wb3NpdGUiKSYmZC5kYXRhKHRoaXMsIl9qcXNfcGVuZGluZyIpKWZvcihpPUsubGVuZ3RoO2k7aS0tKUtbaS0xXVswXT09dGhpcyYmSy5zcGxpY2UoaS0xLDEpO0sucHVzaChbdGhpcyxoXSksZC5kYXRhKHRoaXMsIl9qcXNfcGVuZGluZyIsITApfWVsc2UgaC5jYWxsKHRoaXMpfSl9LGQuZm4uc3BhcmtsaW5lLmRlZmF1bHRzPWYoKSxkLnNwYXJrbGluZV9kaXNwbGF5X3Zpc2libGU9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZT1bXTtmb3IoYj0wLGM9Sy5sZW5ndGg7YjxjO2IrKylhPUtbYl1bMF0sZChhKS5pcygiOnZpc2libGUiKSYmIWQoYSkucGFyZW50cygpLmlzKCI6aGlkZGVuIik/KEtbYl1bMV0uY2FsbChhKSxkLmRhdGEoS1tiXVswXSwiX2pxc19wZW5kaW5nIiwhMSksZS5wdXNoKGIpKTohZChhKS5jbG9zZXN0KCJodG1sIikubGVuZ3RoJiYhZC5kYXRhKGEsIl9qcXNfcGVuZGluZyIpJiYoZC5kYXRhKEtbYl1bMF0sIl9qcXNfcGVuZGluZyIsITEpLGUucHVzaChiKSk7Zm9yKGI9ZS5sZW5ndGg7YjtiLS0pSy5zcGxpY2UoZVtiLTFdLDEpfSxkLmZuLnNwYXJrbGluZS5vcHRpb25zPWcoe2luaXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxmLGcsaDt0aGlzLnVzZXJPcHRpb25zPWI9Ynx8e30sdGhpcy50YWc9YSx0aGlzLnRhZ1ZhbENhY2hlPXt9LGY9ZC5mbi5zcGFya2xpbmUuZGVmYXVsdHMsZz1mLmNvbW1vbix0aGlzLnRhZ09wdGlvbnNQcmVmaXg9Yi5lbmFibGVUYWdPcHRpb25zJiYoYi50YWdPcHRpb25zUHJlZml4fHxnLnRhZ09wdGlvbnNQcmVmaXgpLGg9dGhpcy5nZXRUYWdTZXR0aW5nKCJ0eXBlIiksaD09PWU/Yz1mW2IudHlwZXx8Zy50eXBlXTpjPWZbaF0sdGhpcy5tZXJnZWRPcHRpb25zPWQuZXh0ZW5kKHt9LGcsYyxiKX0sZ2V0VGFnU2V0dGluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRhZ09wdGlvbnNQcmVmaXgsZCxmLGcsaDtpZihiPT09ITF8fGI9PT1jKXJldHVybiBlO2lmKHRoaXMudGFnVmFsQ2FjaGUuaGFzT3duUHJvcGVydHkoYSkpZD10aGlzLnRhZ1ZhbENhY2hlLmtleTtlbHNle2Q9dGhpcy50YWcuZ2V0QXR0cmlidXRlKGIrYSk7aWYoZD09PWN8fGQ9PT1udWxsKWQ9ZTtlbHNlIGlmKGQuc3Vic3RyKDAsMSk9PT0iWyIpe2Q9ZC5zdWJzdHIoMSxkLmxlbmd0aC0yKS5zcGxpdCgiLCIpO2ZvcihmPWQubGVuZ3RoO2YtLTspZFtmXT1rKGRbZl0ucmVwbGFjZSgvKF5ccyopfChccyokKS9nLCIiKSl9ZWxzZSBpZihkLnN1YnN0cigwLDEpPT09InsiKXtnPWQuc3Vic3RyKDEsZC5sZW5ndGgtMikuc3BsaXQoIiwiKSxkPXt9O2ZvcihmPWcubGVuZ3RoO2YtLTspaD1nW2ZdLnNwbGl0KCI6IiwyKSxkW2hbMF0ucmVwbGFjZSgvKF5ccyopfChccyokKS9nLCIiKV09ayhoWzFdLnJlcGxhY2UoLyheXHMqKXwoXHMqJCkvZywiIikpfWVsc2UgZD1rKGQpO3RoaXMudGFnVmFsQ2FjaGUua2V5PWR9cmV0dXJuIGR9LGdldDpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuZ2V0VGFnU2V0dGluZyhhKSxmO3JldHVybiBkIT09ZT9kOihmPXRoaXMubWVyZ2VkT3B0aW9uc1thXSk9PT1jP2I6Zn19KSxkLmZuLnNwYXJrbGluZS5fYmFzZT1nKHtkaXNhYmxlZDohMSxpbml0OmZ1bmN0aW9uKGEsYixlLGYsZyl7dGhpcy5lbD1hLHRoaXMuJGVsPWQoYSksdGhpcy52YWx1ZXM9Yix0aGlzLm9wdGlvbnM9ZSx0aGlzLndpZHRoPWYsdGhpcy5oZWlnaHQ9Zyx0aGlzLmN1cnJlbnRSZWdpb249Y30saW5pdFRhcmdldDpmdW5jdGlvbigpe3ZhciBhPSF0aGlzLm9wdGlvbnMuZ2V0KCJkaXNhYmxlSW50ZXJhY3Rpb24iKTsodGhpcy50YXJnZXQ9dGhpcy4kZWwuc2ltcGxlZHJhdyh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LHRoaXMub3B0aW9ucy5nZXQoImNvbXBvc2l0ZSIpLGEpKT8odGhpcy5jYW52YXNXaWR0aD10aGlzLnRhcmdldC5waXhlbFdpZHRoLHRoaXMuY2FudmFzSGVpZ2h0PXRoaXMudGFyZ2V0LnBpeGVsSGVpZ2h0KTp0aGlzLmRpc2FibGVkPSEwfSxyZW5kZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNhYmxlZD8odGhpcy5lbC5pbm5lckhUTUw9IiIsITEpOiEwfSxnZXRSZWdpb246ZnVuY3Rpb24oYSxiKXt9LHNldFJlZ2lvbkhpZ2hsaWdodDpmdW5jdGlvbihhLGIsZCl7dmFyIGU9dGhpcy5jdXJyZW50UmVnaW9uLGY9IXRoaXMub3B0aW9ucy5nZXQoImRpc2FibGVIaWdobGlnaHQiKSxnO3JldHVybiBiPnRoaXMuY2FudmFzV2lkdGh8fGQ+dGhpcy5jYW52YXNIZWlnaHR8fGI8MHx8ZDwwP251bGw6KGc9dGhpcy5nZXRSZWdpb24oYSxiLGQpLGUhPT1nPyhlIT09YyYmZiYmdGhpcy5yZW1vdmVIaWdobGlnaHQoKSx0aGlzLmN1cnJlbnRSZWdpb249ZyxnIT09YyYmZiYmdGhpcy5yZW5kZXJIaWdobGlnaHQoKSwhMCk6ITEpfSxjbGVhclJlZ2lvbkhpZ2hsaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRSZWdpb24hPT1jPyh0aGlzLnJlbW92ZUhpZ2hsaWdodCgpLHRoaXMuY3VycmVudFJlZ2lvbj1jLCEwKTohMX0scmVuZGVySGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dGhpcy5jaGFuZ2VIaWdobGlnaHQoITApfSxyZW1vdmVIaWdobGlnaHQ6ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZUhpZ2hsaWdodCghMSl9LGNoYW5nZUhpZ2hsaWdodDpmdW5jdGlvbihhKXt9LGdldEN1cnJlbnRSZWdpb25Ub29sdGlwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9IiIsZT1bXSxmLGcsaSxqLGssbCxtLG4sbyxwLHEscixzLHQ7aWYodGhpcy5jdXJyZW50UmVnaW9uPT09YylyZXR1cm4iIjtmPXRoaXMuZ2V0Q3VycmVudFJlZ2lvbkZpZWxkcygpLHE9YS5nZXQoInRvb2x0aXBGb3JtYXR0ZXIiKTtpZihxKXJldHVybiBxKHRoaXMsYSxmKTthLmdldCgidG9vbHRpcENoYXJ0VGl0bGUiKSYmKGIrPSc8ZGl2IGNsYXNzPSJqcXMganFzdGl0bGUiPicrYS5nZXQoInRvb2x0aXBDaGFydFRpdGxlIikrIjwvZGl2PlxuIiksZz10aGlzLm9wdGlvbnMuZ2V0KCJ0b29sdGlwRm9ybWF0Iik7aWYoIWcpcmV0dXJuIiI7ZC5pc0FycmF5KGcpfHwoZz1bZ10pLGQuaXNBcnJheShmKXx8KGY9W2ZdKSxtPXRoaXMub3B0aW9ucy5nZXQoInRvb2x0aXBGb3JtYXRGaWVsZGxpc3QiKSxuPXRoaXMub3B0aW9ucy5nZXQoInRvb2x0aXBGb3JtYXRGaWVsZGxpc3RLZXkiKTtpZihtJiZuKXtvPVtdO2ZvcihsPWYubGVuZ3RoO2wtLTspcD1mW2xdW25dLCh0PWQuaW5BcnJheShwLG0pKSE9LTEmJihvW3RdPWZbbF0pO2Y9b31pPWcubGVuZ3RoLHM9Zi5sZW5ndGg7Zm9yKGw9MDtsPGk7bCsrKXtyPWdbbF0sdHlwZW9mIHI9PSJzdHJpbmciJiYocj1uZXcgaChyKSksaj1yLmZjbGFzc3x8Impxc2ZpZWxkIjtmb3IodD0wO3Q8czt0KyspaWYoIWZbdF0uaXNOdWxsfHwhYS5nZXQoInRvb2x0aXBTa2lwTnVsbCIpKWQuZXh0ZW5kKGZbdF0se3ByZWZpeDphLmdldCgidG9vbHRpcFByZWZpeCIpLHN1ZmZpeDphLmdldCgidG9vbHRpcFN1ZmZpeCIpfSksaz1yLnJlbmRlcihmW3RdLGEuZ2V0KCJ0b29sdGlwVmFsdWVMb29rdXBzIiksYSksZS5wdXNoKCc8ZGl2IGNsYXNzPSInK2orJyI+JytrKyI8L2Rpdj4iKX1yZXR1cm4gZS5sZW5ndGg/YitlLmpvaW4oIlxuIik6IiJ9LGdldEN1cnJlbnRSZWdpb25GaWVsZHM6ZnVuY3Rpb24oKXt9LGNhbGNIaWdobGlnaHRDb2xvcjpmdW5jdGlvbihhLGMpe3ZhciBkPWMuZ2V0KCJoaWdobGlnaHRDb2xvciIpLGU9Yy5nZXQoImhpZ2hsaWdodExpZ2h0ZW4iKSxmLGcsaCxqO2lmKGQpcmV0dXJuIGQ7aWYoZSl7Zj0vXiMoWzAtOWEtZl0pKFswLTlhLWZdKShbMC05YS1mXSkkL2kuZXhlYyhhKXx8L14jKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pJC9pLmV4ZWMoYSk7aWYoZil7aD1bXSxnPWEubGVuZ3RoPT09ND8xNjoxO2ZvcihqPTA7ajwzO2orKyloW2pdPWkoYi5yb3VuZChwYXJzZUludChmW2orMV0sMTYpKmcqZSksMCwyNTUpO3JldHVybiJyZ2IoIitoLmpvaW4oIiwiKSsiKSJ9fXJldHVybiBhfX0pLHc9e2NoYW5nZUhpZ2hsaWdodDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmN1cnJlbnRSZWdpb24sYz10aGlzLnRhcmdldCxlPXRoaXMucmVnaW9uU2hhcGVzW2JdLGY7ZSYmKGY9dGhpcy5yZW5kZXJSZWdpb24oYixhKSxkLmlzQXJyYXkoZil8fGQuaXNBcnJheShlKT8oYy5yZXBsYWNlV2l0aFNoYXBlcyhlLGYpLHRoaXMucmVnaW9uU2hhcGVzW2JdPWQubWFwKGYsZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9KSk6KGMucmVwbGFjZVdpdGhTaGFwZShlLGYpLHRoaXMucmVnaW9uU2hhcGVzW2JdPWYuaWQpKX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52YWx1ZXMsYj10aGlzLnRhcmdldCxjPXRoaXMucmVnaW9uU2hhcGVzLGUsZixnLGg7aWYoIXRoaXMuY2xzLl9zdXBlci5yZW5kZXIuY2FsbCh0aGlzKSlyZXR1cm47Zm9yKGc9YS5sZW5ndGg7Zy0tOyl7ZT10aGlzLnJlbmRlclJlZ2lvbihnKTtpZihlKWlmKGQuaXNBcnJheShlKSl7Zj1bXTtmb3IoaD1lLmxlbmd0aDtoLS07KWVbaF0uYXBwZW5kKCksZi5wdXNoKGVbaF0uaWQpO2NbZ109Zn1lbHNlIGUuYXBwZW5kKCksY1tnXT1lLmlkO2Vsc2UgY1tnXT1udWxsfWIucmVuZGVyKCl9fSxkLmZuLnNwYXJrbGluZS5saW5lPXg9ZyhkLmZuLnNwYXJrbGluZS5fYmFzZSx7dHlwZToibGluZSIsaW5pdDpmdW5jdGlvbihhLGIsYyxkLGUpe3guX3N1cGVyLmluaXQuY2FsbCh0aGlzLGEsYixjLGQsZSksdGhpcy52ZXJ0aWNlcz1bXSx0aGlzLnJlZ2lvbk1hcD1bXSx0aGlzLnh2YWx1ZXM9W10sdGhpcy55dmFsdWVzPVtdLHRoaXMueW1pbm1heD1bXSx0aGlzLmhpZ2h0bGlnaHRTcG90SWQ9bnVsbCx0aGlzLmxhc3RTaGFwZUlkPW51bGwsdGhpcy5pbml0VGFyZ2V0KCl9LGdldFJlZ2lvbjpmdW5jdGlvbihhLGIsZCl7dmFyIGUsZj10aGlzLnJlZ2lvbk1hcDtmb3IoZT1mLmxlbmd0aDtlLS07KWlmKGZbZV0hPT1udWxsJiZiPj1mW2VdWzBdJiZiPD1mW2VdWzFdKXJldHVybiBmW2VdWzJdO3JldHVybiBjfSxnZXRDdXJyZW50UmVnaW9uRmllbGRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jdXJyZW50UmVnaW9uO3JldHVybntpc051bGw6dGhpcy55dmFsdWVzW2FdPT09bnVsbCx4OnRoaXMueHZhbHVlc1thXSx5OnRoaXMueXZhbHVlc1thXSxjb2xvcjp0aGlzLm9wdGlvbnMuZ2V0KCJsaW5lQ29sb3IiKSxmaWxsQ29sb3I6dGhpcy5vcHRpb25zLmdldCgiZmlsbENvbG9yIiksb2Zmc2V0OmF9fSxyZW5kZXJIaWdobGlnaHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmN1cnJlbnRSZWdpb24sYj10aGlzLnRhcmdldCxkPXRoaXMudmVydGljZXNbYV0sZT10aGlzLm9wdGlvbnMsZj1lLmdldCgic3BvdFJhZGl1cyIpLGc9ZS5nZXQoImhpZ2hsaWdodFNwb3RDb2xvciIpLGg9ZS5nZXQoImhpZ2hsaWdodExpbmVDb2xvciIpLGksajtpZighZClyZXR1cm47ZiYmZyYmKGk9Yi5kcmF3Q2lyY2xlKGRbMF0sZFsxXSxmLGMsZyksdGhpcy5oaWdobGlnaHRTcG90SWQ9aS5pZCxiLmluc2VydEFmdGVyU2hhcGUodGhpcy5sYXN0U2hhcGVJZCxpKSksaCYmKGo9Yi5kcmF3TGluZShkWzBdLHRoaXMuY2FudmFzVG9wLGRbMF0sdGhpcy5jYW52YXNUb3ArdGhpcy5jYW52YXNIZWlnaHQsaCksdGhpcy5oaWdobGlnaHRMaW5lSWQ9ai5pZCxiLmluc2VydEFmdGVyU2hhcGUodGhpcy5sYXN0U2hhcGVJZCxqKSl9LHJlbW92ZUhpZ2hsaWdodDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudGFyZ2V0O3RoaXMuaGlnaGxpZ2h0U3BvdElkJiYoYS5yZW1vdmVTaGFwZUlkKHRoaXMuaGlnaGxpZ2h0U3BvdElkKSx0aGlzLmhpZ2hsaWdodFNwb3RJZD1udWxsKSx0aGlzLmhpZ2hsaWdodExpbmVJZCYmKGEucmVtb3ZlU2hhcGVJZCh0aGlzLmhpZ2hsaWdodExpbmVJZCksdGhpcy5oaWdobGlnaHRMaW5lSWQ9bnVsbCl9LHNjYW5WYWx1ZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZhbHVlcyxjPWEubGVuZ3RoLGQ9dGhpcy54dmFsdWVzLGU9dGhpcy55dmFsdWVzLGY9dGhpcy55bWlubWF4LGcsaCxpLGosaztmb3IoZz0wO2c8YztnKyspaD1hW2ddLGk9dHlwZW9mIGFbZ109PSJzdHJpbmciLGo9dHlwZW9mIGFbZ109PSJvYmplY3QiJiZhW2ddaW5zdGFuY2VvZiBBcnJheSxrPWkmJmFbZ10uc3BsaXQoIjoiKSxpJiZrLmxlbmd0aD09PTI/KGQucHVzaChOdW1iZXIoa1swXSkpLGUucHVzaChOdW1iZXIoa1sxXSkpLGYucHVzaChOdW1iZXIoa1sxXSkpKTpqPyhkLnB1c2goaFswXSksZS5wdXNoKGhbMV0pLGYucHVzaChoWzFdKSk6KGQucHVzaChnKSxhW2ddPT09bnVsbHx8YVtnXT09PSJudWxsIj9lLnB1c2gobnVsbCk6KGUucHVzaChOdW1iZXIoaCkpLGYucHVzaChOdW1iZXIoaCkpKSk7dGhpcy5vcHRpb25zLmdldCgieHZhbHVlcyIpJiYoZD10aGlzLm9wdGlvbnMuZ2V0KCJ4dmFsdWVzIikpLHRoaXMubWF4eT10aGlzLm1heHlvcmc9Yi5tYXguYXBwbHkoYixmKSx0aGlzLm1pbnk9dGhpcy5taW55b3JnPWIubWluLmFwcGx5KGIsZiksdGhpcy5tYXh4PWIubWF4LmFwcGx5KGIsZCksdGhpcy5taW54PWIubWluLmFwcGx5KGIsZCksdGhpcy54dmFsdWVzPWQsdGhpcy55dmFsdWVzPWUsdGhpcy55bWlubWF4PWZ9LHByb2Nlc3NSYW5nZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsYj1hLmdldCgibm9ybWFsUmFuZ2VNaW4iKSxkPWEuZ2V0KCJub3JtYWxSYW5nZU1heCIpO2IhPT1jJiYoYjx0aGlzLm1pbnkmJih0aGlzLm1pbnk9YiksZD50aGlzLm1heHkmJih0aGlzLm1heHk9ZCkpLGEuZ2V0KCJjaGFydFJhbmdlTWluIikhPT1jJiYoYS5nZXQoImNoYXJ0UmFuZ2VDbGlwIil8fGEuZ2V0KCJjaGFydFJhbmdlTWluIik8dGhpcy5taW55KSYmKHRoaXMubWlueT1hLmdldCgiY2hhcnRSYW5nZU1pbiIpKSxhLmdldCgiY2hhcnRSYW5nZU1heCIpIT09YyYmKGEuZ2V0KCJjaGFydFJhbmdlQ2xpcCIpfHxhLmdldCgiY2hhcnRSYW5nZU1heCIpPnRoaXMubWF4eSkmJih0aGlzLm1heHk9YS5nZXQoImNoYXJ0UmFuZ2VNYXgiKSksYS5nZXQoImNoYXJ0UmFuZ2VNaW5YIikhPT1jJiYoYS5nZXQoImNoYXJ0UmFuZ2VDbGlwWCIpfHxhLmdldCgiY2hhcnRSYW5nZU1pblgiKTx0aGlzLm1pbngpJiYodGhpcy5taW54PWEuZ2V0KCJjaGFydFJhbmdlTWluWCIpKSxhLmdldCgiY2hhcnRSYW5nZU1heFgiKSE9PWMmJihhLmdldCgiY2hhcnRSYW5nZUNsaXBYIil8fGEuZ2V0KCJjaGFydFJhbmdlTWF4WCIpPnRoaXMubWF4eCkmJih0aGlzLm1heHg9YS5nZXQoImNoYXJ0UmFuZ2VNYXhYIikpfSxkcmF3Tm9ybWFsUmFuZ2U6ZnVuY3Rpb24oYSxkLGUsZixnKXt2YXIgaD10aGlzLm9wdGlvbnMuZ2V0KCJub3JtYWxSYW5nZU1pbiIpLGk9dGhpcy5vcHRpb25zLmdldCgibm9ybWFsUmFuZ2VNYXgiKSxqPWQrYi5yb3VuZChlLWUqKChpLXRoaXMubWlueSkvZykpLGs9Yi5yb3VuZChlKihpLWgpL2cpO3RoaXMudGFyZ2V0LmRyYXdSZWN0KGEsaixmLGssYyx0aGlzLm9wdGlvbnMuZ2V0KCJub3JtYWxSYW5nZUNvbG9yIikpLmFwcGVuZCgpfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMsZT10aGlzLnRhcmdldCxmPXRoaXMuY2FudmFzV2lkdGgsZz10aGlzLmNhbnZhc0hlaWdodCxoPXRoaXMudmVydGljZXMsaT1hLmdldCgic3BvdFJhZGl1cyIpLGo9dGhpcy5yZWdpb25NYXAsayxsLG0sbixvLHAscSxyLHMsdSx2LHcseSx6LEEsQixDLEQsRSxGLEcsSCxJLEosSztpZigheC5fc3VwZXIucmVuZGVyLmNhbGwodGhpcykpcmV0dXJuO3RoaXMuc2NhblZhbHVlcygpLHRoaXMucHJvY2Vzc1JhbmdlT3B0aW9ucygpLEk9dGhpcy54dmFsdWVzLEo9dGhpcy55dmFsdWVzO2lmKCF0aGlzLnltaW5tYXgubGVuZ3RofHx0aGlzLnl2YWx1ZXMubGVuZ3RoPDIpcmV0dXJuO249bz0wLGs9dGhpcy5tYXh4LXRoaXMubWlueD09PTA/MTp0aGlzLm1heHgtdGhpcy5taW54LGw9dGhpcy5tYXh5LXRoaXMubWlueT09PTA/MTp0aGlzLm1heHktdGhpcy5taW55LG09dGhpcy55dmFsdWVzLmxlbmd0aC0xLGkmJihmPGkqNHx8ZzxpKjQpJiYoaT0wKTtpZihpKXtHPWEuZ2V0KCJoaWdobGlnaHRTcG90Q29sb3IiKSYmIWEuZ2V0KCJkaXNhYmxlSW50ZXJhY3Rpb24iKTtpZihHfHxhLmdldCgibWluU3BvdENvbG9yIil8fGEuZ2V0KCJzcG90Q29sb3IiKSYmSlttXT09PXRoaXMubWlueSlnLT1iLmNlaWwoaSk7aWYoR3x8YS5nZXQoIm1heFNwb3RDb2xvciIpfHxhLmdldCgic3BvdENvbG9yIikmJkpbbV09PT10aGlzLm1heHkpZy09Yi5jZWlsKGkpLG4rPWIuY2VpbChpKTtpZihHfHwoYS5nZXQoIm1pblNwb3RDb2xvciIpfHxhLmdldCgibWF4U3BvdENvbG9yIikpJiYoSlswXT09PXRoaXMubWlueXx8SlswXT09PXRoaXMubWF4eSkpbys9Yi5jZWlsKGkpLGYtPWIuY2VpbChpKTtpZihHfHxhLmdldCgic3BvdENvbG9yIil8fGEuZ2V0KCJtaW5TcG90Q29sb3IiKXx8YS5nZXQoIm1heFNwb3RDb2xvciIpJiYoSlttXT09PXRoaXMubWlueXx8SlttXT09PXRoaXMubWF4eSkpZi09Yi5jZWlsKGkpfWctLSxhLmdldCgibm9ybWFsUmFuZ2VNaW4iKSE9PWMmJiFhLmdldCgiZHJhd05vcm1hbE9uVG9wIikmJnRoaXMuZHJhd05vcm1hbFJhbmdlKG8sbixnLGYsbCkscT1bXSxyPVtxXSx6PUE9bnVsbCxCPUoubGVuZ3RoO2ZvcihLPTA7SzxCO0srKylzPUlbS10sdj1JW0srMV0sdT1KW0tdLHc9bytiLnJvdW5kKChzLXRoaXMubWlueCkqKGYvaykpLHk9SzxCLTE/bytiLnJvdW5kKCh2LXRoaXMubWlueCkqKGYvaykpOmYsQT13Kyh5LXcpLzIsaltLXT1benx8MCxBLEtdLHo9QSx1PT09bnVsbD9LJiYoSltLLTFdIT09bnVsbCYmKHE9W10sci5wdXNoKHEpKSxoLnB1c2gobnVsbCkpOih1PHRoaXMubWlueSYmKHU9dGhpcy5taW55KSx1PnRoaXMubWF4eSYmKHU9dGhpcy5tYXh5KSxxLmxlbmd0aHx8cS5wdXNoKFt3LG4rZ10pLHA9W3csbitiLnJvdW5kKGctZyooKHUtdGhpcy5taW55KS9sKSldLHEucHVzaChwKSxoLnB1c2gocCkpO0M9W10sRD1bXSxFPXIubGVuZ3RoO2ZvcihLPTA7SzxFO0srKylxPXJbS10scS5sZW5ndGgmJihhLmdldCgiZmlsbENvbG9yIikmJihxLnB1c2goW3FbcS5sZW5ndGgtMV1bMF0sbitnXSksRC5wdXNoKHEuc2xpY2UoMCkpLHEucG9wKCkpLHEubGVuZ3RoPjImJihxWzBdPVtxWzBdWzBdLHFbMV1bMV1dKSxDLnB1c2gocSkpO0U9RC5sZW5ndGg7Zm9yKEs9MDtLPEU7SysrKWUuZHJhd1NoYXBlKERbS10sYS5nZXQoImZpbGxDb2xvciIpLGEuZ2V0KCJmaWxsQ29sb3IiKSkuYXBwZW5kKCk7YS5nZXQoIm5vcm1hbFJhbmdlTWluIikhPT1jJiZhLmdldCgiZHJhd05vcm1hbE9uVG9wIikmJnRoaXMuZHJhd05vcm1hbFJhbmdlKG8sbixnLGYsbCksRT1DLmxlbmd0aDtmb3IoSz0wO0s8RTtLKyspZS5kcmF3U2hhcGUoQ1tLXSxhLmdldCgibGluZUNvbG9yIiksYyxhLmdldCgibGluZVdpZHRoIikpLmFwcGVuZCgpO2lmKGkmJmEuZ2V0KCJ2YWx1ZVNwb3RzIikpe0Y9YS5nZXQoInZhbHVlU3BvdHMiKSxGLmdldD09PWMmJihGPW5ldyB0KEYpKTtmb3IoSz0wO0s8QjtLKyspSD1GLmdldChKW0tdKSxIJiZlLmRyYXdDaXJjbGUobytiLnJvdW5kKChJW0tdLXRoaXMubWlueCkqKGYvaykpLG4rYi5yb3VuZChnLWcqKChKW0tdLXRoaXMubWlueSkvbCkpLGksYyxIKS5hcHBlbmQoKX1pJiZhLmdldCgic3BvdENvbG9yIikmJkpbbV0hPT1udWxsJiZlLmRyYXdDaXJjbGUobytiLnJvdW5kKChJW0kubGVuZ3RoLTFdLXRoaXMubWlueCkqKGYvaykpLG4rYi5yb3VuZChnLWcqKChKW21dLXRoaXMubWlueSkvbCkpLGksYyxhLmdldCgic3BvdENvbG9yIikpLmFwcGVuZCgpLHRoaXMubWF4eSE9PXRoaXMubWlueW9yZyYmKGkmJmEuZ2V0KCJtaW5TcG90Q29sb3IiKSYmKHM9SVtkLmluQXJyYXkodGhpcy5taW55b3JnLEopXSxlLmRyYXdDaXJjbGUobytiLnJvdW5kKChzLXRoaXMubWlueCkqKGYvaykpLG4rYi5yb3VuZChnLWcqKCh0aGlzLm1pbnlvcmctdGhpcy5taW55KS9sKSksaSxjLGEuZ2V0KCJtaW5TcG90Q29sb3IiKSkuYXBwZW5kKCkpLGkmJmEuZ2V0KCJtYXhTcG90Q29sb3IiKSYmKHM9SVtkLmluQXJyYXkodGhpcy5tYXh5b3JnLEopXSxlLmRyYXdDaXJjbGUobytiLnJvdW5kKChzLXRoaXMubWlueCkqKGYvaykpLG4rYi5yb3VuZChnLWcqKCh0aGlzLm1heHlvcmctdGhpcy5taW55KS9sKSksaSxjLGEuZ2V0KCJtYXhTcG90Q29sb3IiKSkuYXBwZW5kKCkpKSx0aGlzLmxhc3RTaGFwZUlkPWUuZ2V0TGFzdFNoYXBlSWQoKSx0aGlzLmNhbnZhc1RvcD1uLGUucmVuZGVyKCl9fSksZC5mbi5zcGFya2xpbmUuYmFyPXk9ZyhkLmZuLnNwYXJrbGluZS5fYmFzZSx3LHt0eXBlOiJiYXIiLGluaXQ6ZnVuY3Rpb24oYSxlLGYsZyxoKXt2YXIgaj1wYXJzZUludChmLmdldCgiYmFyV2lkdGgiKSwxMCksbj1wYXJzZUludChmLmdldCgiYmFyU3BhY2luZyIpLDEwKSxvPWYuZ2V0KCJjaGFydFJhbmdlTWluIikscD1mLmdldCgiY2hhcnRSYW5nZU1heCIpLHE9Zi5nZXQoImNoYXJ0UmFuZ2VDbGlwIikscj1JbmZpbml0eSxzPS1JbmZpbml0eSx1LHYsdyx4LHosQSxCLEMsRCxFLEYsRyxILEksSixLLEwsTSxOLE8sUCxRLFI7eS5fc3VwZXIuaW5pdC5jYWxsKHRoaXMsYSxlLGYsZyxoKTtmb3IoQT0wLEI9ZS5sZW5ndGg7QTxCO0ErKyl7Tz1lW0FdLHU9dHlwZW9mIE89PSJzdHJpbmciJiZPLmluZGV4T2YoIjoiKT4tMTtpZih1fHxkLmlzQXJyYXkoTykpSj0hMCx1JiYoTz1lW0FdPWwoTy5zcGxpdCgiOiIpKSksTz1tKE8sbnVsbCksdj1iLm1pbi5hcHBseShiLE8pLHc9Yi5tYXguYXBwbHkoYixPKSx2PHImJihyPXYpLHc+cyYmKHM9dyl9dGhpcy5zdGFja2VkPUosdGhpcy5yZWdpb25TaGFwZXM9e30sdGhpcy5iYXJXaWR0aD1qLHRoaXMuYmFyU3BhY2luZz1uLHRoaXMudG90YWxCYXJXaWR0aD1qK24sdGhpcy53aWR0aD1nPWUubGVuZ3RoKmorKGUubGVuZ3RoLTEpKm4sdGhpcy5pbml0VGFyZ2V0KCkscSYmKEg9bz09PWM/LUluZmluaXR5Om8sST1wPT09Yz9JbmZpbml0eTpwKSx6PVtdLHg9Sj9bXTp6O3ZhciBTPVtdLFQ9W107Zm9yKEE9MCxCPWUubGVuZ3RoO0E8QjtBKyspaWYoSil7Sz1lW0FdLGVbQV09Tj1bXSxTW0FdPTAseFtBXT1UW0FdPTA7Zm9yKEw9MCxNPUsubGVuZ3RoO0w8TTtMKyspTz1OW0xdPXE/aShLW0xdLEgsSSk6S1tMXSxPIT09bnVsbCYmKE8+MCYmKFNbQV0rPU8pLHI8MCYmcz4wP088MD9UW0FdKz1iLmFicyhPKTp4W0FdKz1POnhbQV0rPWIuYWJzKE8tKE88MD9zOnIpKSx6LnB1c2goTykpfWVsc2UgTz1xP2koZVtBXSxILEkpOmVbQV0sTz1lW0FdPWsoTyksTyE9PW51bGwmJnoucHVzaChPKTt0aGlzLm1heD1HPWIubWF4LmFwcGx5KGIseiksdGhpcy5taW49Rj1iLm1pbi5hcHBseShiLHopLHRoaXMuc3RhY2tNYXg9cz1KP2IubWF4LmFwcGx5KGIsUyk6Ryx0aGlzLnN0YWNrTWluPXI9Sj9iLm1pbi5hcHBseShiLHopOkYsZi5nZXQoImNoYXJ0UmFuZ2VNaW4iKSE9PWMmJihmLmdldCgiY2hhcnRSYW5nZUNsaXAiKXx8Zi5nZXQoImNoYXJ0UmFuZ2VNaW4iKTxGKSYmKEY9Zi5nZXQoImNoYXJ0UmFuZ2VNaW4iKSksZi5nZXQoImNoYXJ0UmFuZ2VNYXgiKSE9PWMmJihmLmdldCgiY2hhcnRSYW5nZUNsaXAiKXx8Zi5nZXQoImNoYXJ0UmFuZ2VNYXgiKT5HKSYmKEc9Zi5nZXQoImNoYXJ0UmFuZ2VNYXgiKSksdGhpcy56ZXJvQXhpcz1EPWYuZ2V0KCJ6ZXJvQXhpcyIsITApLEY8PTAmJkc+PTAmJkQ/RT0wOkQ9PTA/RT1GOkY+MD9FPUY6RT1HLHRoaXMueGF4aXNPZmZzZXQ9RSxDPUo/Yi5tYXguYXBwbHkoYix4KStiLm1heC5hcHBseShiLFQpOkctRix0aGlzLmNhbnZhc0hlaWdodEVmPUQmJkY8MD90aGlzLmNhbnZhc0hlaWdodC0yOnRoaXMuY2FudmFzSGVpZ2h0LTEsRjxFPyhRPUomJkc+PTA/czpHLFA9KFEtRSkvQyp0aGlzLmNhbnZhc0hlaWdodCxQIT09Yi5jZWlsKFApJiYodGhpcy5jYW52YXNIZWlnaHRFZi09MixQPWIuY2VpbChQKSkpOlA9dGhpcy5jYW52YXNIZWlnaHQsdGhpcy55b2Zmc2V0PVAsZC5pc0FycmF5KGYuZ2V0KCJjb2xvck1hcCIpKT8odGhpcy5jb2xvck1hcEJ5SW5kZXg9Zi5nZXQoImNvbG9yTWFwIiksdGhpcy5jb2xvck1hcEJ5VmFsdWU9bnVsbCk6KHRoaXMuY29sb3JNYXBCeUluZGV4PW51bGwsdGhpcy5jb2xvck1hcEJ5VmFsdWU9Zi5nZXQoImNvbG9yTWFwIiksdGhpcy5jb2xvck1hcEJ5VmFsdWUmJnRoaXMuY29sb3JNYXBCeVZhbHVlLmdldD09PWMmJih0aGlzLmNvbG9yTWFwQnlWYWx1ZT1uZXcgdCh0aGlzLmNvbG9yTWFwQnlWYWx1ZSkpKSx0aGlzLnJhbmdlPUN9LGdldFJlZ2lvbjpmdW5jdGlvbihhLGQsZSl7dmFyIGY9Yi5mbG9vcihkL3RoaXMudG90YWxCYXJXaWR0aCk7cmV0dXJuIGY8MHx8Zj49dGhpcy52YWx1ZXMubGVuZ3RoP2M6Zn0sZ2V0Q3VycmVudFJlZ2lvbkZpZWxkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY3VycmVudFJlZ2lvbixiPXIodGhpcy52YWx1ZXNbYV0pLGM9W10sZCxlO2ZvcihlPWIubGVuZ3RoO2UtLTspZD1iW2VdLGMucHVzaCh7aXNOdWxsOmQ9PT1udWxsLHZhbHVlOmQsY29sb3I6dGhpcy5jYWxjQ29sb3IoZSxkLGEpLG9mZnNldDphfSk7cmV0dXJuIGN9LGNhbGNDb2xvcjpmdW5jdGlvbihhLGIsZSl7dmFyIGY9dGhpcy5jb2xvck1hcEJ5SW5kZXgsZz10aGlzLmNvbG9yTWFwQnlWYWx1ZSxoPXRoaXMub3B0aW9ucyxpLGo7cmV0dXJuIHRoaXMuc3RhY2tlZD9pPWguZ2V0KCJzdGFja2VkQmFyQ29sb3IiKTppPWI8MD9oLmdldCgibmVnQmFyQ29sb3IiKTpoLmdldCgiYmFyQ29sb3IiKSxiPT09MCYmaC5nZXQoInplcm9Db2xvciIpIT09YyYmKGk9aC5nZXQoInplcm9Db2xvciIpKSxnJiYoaj1nLmdldChiKSk/aT1qOmYmJmYubGVuZ3RoPmUmJihpPWZbZV0pLGQuaXNBcnJheShpKT9pW2ElaS5sZW5ndGhdOml9LHJlbmRlclJlZ2lvbjpmdW5jdGlvbihhLGUpe3ZhciBmPXRoaXMudmFsdWVzW2FdLGc9dGhpcy5vcHRpb25zLGg9dGhpcy54YXhpc09mZnNldCxpPVtdLGo9dGhpcy5yYW5nZSxrPXRoaXMuc3RhY2tlZCxsPXRoaXMudGFyZ2V0LG09YSp0aGlzLnRvdGFsQmFyV2lkdGgsbj10aGlzLmNhbnZhc0hlaWdodEVmLHA9dGhpcy55b2Zmc2V0LHEscixzLHQsdSx2LHcseCx5LHo7Zj1kLmlzQXJyYXkoZik/ZjpbZl0sdz1mLmxlbmd0aCx4PWZbMF0sdD1vKG51bGwsZiksej1vKGgsZiwhMCk7aWYodClyZXR1cm4gZy5nZXQoIm51bGxDb2xvciIpPyhzPWU/Zy5nZXQoIm51bGxDb2xvciIpOnRoaXMuY2FsY0hpZ2hsaWdodENvbG9yKGcuZ2V0KCJudWxsQ29sb3IiKSxnKSxxPXA+MD9wLTE6cCxsLmRyYXdSZWN0KG0scSx0aGlzLmJhcldpZHRoLTEsMCxzLHMpKTpjO3U9cDtmb3Iodj0wO3Y8dzt2Kyspe3g9Zlt2XTtpZihrJiZ4PT09aCl7aWYoIXp8fHkpY29udGludWU7eT0hMH1qPjA/cj1iLmZsb29yKG4qKGIuYWJzKHgtaCkvaikpKzE6cj0xLHg8aHx8eD09PWgmJnA9PT0wPyhxPXUsdSs9cik6KHE9cC1yLHAtPXIpLHM9dGhpcy5jYWxjQ29sb3Iodix4LGEpLGUmJihzPXRoaXMuY2FsY0hpZ2hsaWdodENvbG9yKHMsZykpLGkucHVzaChsLmRyYXdSZWN0KG0scSx0aGlzLmJhcldpZHRoLTEsci0xLHMscykpfXJldHVybiBpLmxlbmd0aD09PTE/aVswXTppfX0pLGQuZm4uc3BhcmtsaW5lLnRyaXN0YXRlPXo9ZyhkLmZuLnNwYXJrbGluZS5fYmFzZSx3LHt0eXBlOiJ0cmlzdGF0ZSIsaW5pdDpmdW5jdGlvbihhLGIsZSxmLGcpe3ZhciBoPXBhcnNlSW50KGUuZ2V0KCJiYXJXaWR0aCIpLDEwKSxpPXBhcnNlSW50KGUuZ2V0KCJiYXJTcGFjaW5nIiksMTApO3ouX3N1cGVyLmluaXQuY2FsbCh0aGlzLGEsYixlLGYsZyksdGhpcy5yZWdpb25TaGFwZXM9e30sdGhpcy5iYXJXaWR0aD1oLHRoaXMuYmFyU3BhY2luZz1pLHRoaXMudG90YWxCYXJXaWR0aD1oK2ksdGhpcy52YWx1ZXM9ZC5tYXAoYixOdW1iZXIpLHRoaXMud2lkdGg9Zj1iLmxlbmd0aCpoKyhiLmxlbmd0aC0xKSppLGQuaXNBcnJheShlLmdldCgiY29sb3JNYXAiKSk/KHRoaXMuY29sb3JNYXBCeUluZGV4PWUuZ2V0KCJjb2xvck1hcCIpLHRoaXMuY29sb3JNYXBCeVZhbHVlPW51bGwpOih0aGlzLmNvbG9yTWFwQnlJbmRleD1udWxsLHRoaXMuY29sb3JNYXBCeVZhbHVlPWUuZ2V0KCJjb2xvck1hcCIpLHRoaXMuY29sb3JNYXBCeVZhbHVlJiZ0aGlzLmNvbG9yTWFwQnlWYWx1ZS5nZXQ9PT1jJiYodGhpcy5jb2xvck1hcEJ5VmFsdWU9bmV3IHQodGhpcy5jb2xvck1hcEJ5VmFsdWUpKSksdGhpcy5pbml0VGFyZ2V0KCl9LGdldFJlZ2lvbjpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGIuZmxvb3IoYy90aGlzLnRvdGFsQmFyV2lkdGgpfSxnZXRDdXJyZW50UmVnaW9uRmllbGRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jdXJyZW50UmVnaW9uO3JldHVybntpc051bGw6dGhpcy52YWx1ZXNbYV09PT1jLHZhbHVlOnRoaXMudmFsdWVzW2FdLGNvbG9yOnRoaXMuY2FsY0NvbG9yKHRoaXMudmFsdWVzW2FdLGEpLG9mZnNldDphfX0sY2FsY0NvbG9yOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy52YWx1ZXMsZD10aGlzLm9wdGlvbnMsZT10aGlzLmNvbG9yTWFwQnlJbmRleCxmPXRoaXMuY29sb3JNYXBCeVZhbHVlLGcsaDtyZXR1cm4gZiYmKGg9Zi5nZXQoYSkpP2c9aDplJiZlLmxlbmd0aD5iP2c9ZVtiXTpjW2JdPDA/Zz1kLmdldCgibmVnQmFyQ29sb3IiKTpjW2JdPjA/Zz1kLmdldCgicG9zQmFyQ29sb3IiKTpnPWQuZ2V0KCJ6ZXJvQmFyQ29sb3IiKSxnfSxyZW5kZXJSZWdpb246ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLnZhbHVlcyxlPXRoaXMub3B0aW9ucyxmPXRoaXMudGFyZ2V0LGcsaCxpLGosayxsO2c9Zi5waXhlbEhlaWdodCxpPWIucm91bmQoZy8yKSxqPWEqdGhpcy50b3RhbEJhcldpZHRoLGRbYV08MD8oaz1pLGg9aS0xKTpkW2FdPjA/KGs9MCxoPWktMSk6KGs9aS0xLGg9MiksbD10aGlzLmNhbGNDb2xvcihkW2FdLGEpO2lmKGw9PT1udWxsKXJldHVybjtyZXR1cm4gYyYmKGw9dGhpcy5jYWxjSGlnaGxpZ2h0Q29sb3IobCxlKSksZi5kcmF3UmVjdChqLGssdGhpcy5iYXJXaWR0aC0xLGgtMSxsLGwpfX0pLGQuZm4uc3BhcmtsaW5lLmRpc2NyZXRlPUE9ZyhkLmZuLnNwYXJrbGluZS5fYmFzZSx3LHt0eXBlOiJkaXNjcmV0ZSIsaW5pdDpmdW5jdGlvbihhLGUsZixnLGgpe0EuX3N1cGVyLmluaXQuY2FsbCh0aGlzLGEsZSxmLGcsaCksdGhpcy5yZWdpb25TaGFwZXM9e30sdGhpcy52YWx1ZXM9ZT1kLm1hcChlLE51bWJlciksdGhpcy5taW49Yi5taW4uYXBwbHkoYixlKSx0aGlzLm1heD1iLm1heC5hcHBseShiLGUpLHRoaXMucmFuZ2U9dGhpcy5tYXgtdGhpcy5taW4sdGhpcy53aWR0aD1nPWYuZ2V0KCJ3aWR0aCIpPT09ImF1dG8iP2UubGVuZ3RoKjI6dGhpcy53aWR0aCx0aGlzLmludGVydmFsPWIuZmxvb3IoZy9lLmxlbmd0aCksdGhpcy5pdGVtV2lkdGg9Zy9lLmxlbmd0aCxmLmdldCgiY2hhcnRSYW5nZU1pbiIpIT09YyYmKGYuZ2V0KCJjaGFydFJhbmdlQ2xpcCIpfHxmLmdldCgiY2hhcnRSYW5nZU1pbiIpPHRoaXMubWluKSYmKHRoaXMubWluPWYuZ2V0KCJjaGFydFJhbmdlTWluIikpLGYuZ2V0KCJjaGFydFJhbmdlTWF4IikhPT1jJiYoZi5nZXQoImNoYXJ0UmFuZ2VDbGlwIil8fGYuZ2V0KCJjaGFydFJhbmdlTWF4Iik+dGhpcy5tYXgpJiYodGhpcy5tYXg9Zi5nZXQoImNoYXJ0UmFuZ2VNYXgiKSksdGhpcy5pbml0VGFyZ2V0KCksdGhpcy50YXJnZXQmJih0aGlzLmxpbmVIZWlnaHQ9Zi5nZXQoImxpbmVIZWlnaHQiKT09PSJhdXRvIj9iLnJvdW5kKHRoaXMuY2FudmFzSGVpZ2h0Ki4zKTpmLmdldCgibGluZUhlaWdodCIpKX0sZ2V0UmVnaW9uOmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYi5mbG9vcihjL3RoaXMuaXRlbVdpZHRoKX0sZ2V0Q3VycmVudFJlZ2lvbkZpZWxkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY3VycmVudFJlZ2lvbjtyZXR1cm57aXNOdWxsOnRoaXMudmFsdWVzW2FdPT09Yyx2YWx1ZTp0aGlzLnZhbHVlc1thXSxvZmZzZXQ6YX19LHJlbmRlclJlZ2lvbjpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMudmFsdWVzLGU9dGhpcy5vcHRpb25zLGY9dGhpcy5taW4sZz10aGlzLm1heCxoPXRoaXMucmFuZ2Usaj10aGlzLmludGVydmFsLGs9dGhpcy50YXJnZXQsbD10aGlzLmNhbnZhc0hlaWdodCxtPXRoaXMubGluZUhlaWdodCxuPWwtbSxvLHAscSxyO3JldHVybiBwPWkoZFthXSxmLGcpLHI9YSpqLG89Yi5yb3VuZChuLW4qKChwLWYpL2gpKSxxPWUuZ2V0KCJ0aHJlc2hvbGRDb2xvciIpJiZwPGUuZ2V0KCJ0aHJlc2hvbGRWYWx1ZSIpP2UuZ2V0KCJ0aHJlc2hvbGRDb2xvciIpOmUuZ2V0KCJsaW5lQ29sb3IiKSxjJiYocT10aGlzLmNhbGNIaWdobGlnaHRDb2xvcihxLGUpKSxrLmRyYXdMaW5lKHIsbyxyLG8rbSxxKX19KSxkLmZuLnNwYXJrbGluZS5idWxsZXQ9Qj1nKGQuZm4uc3BhcmtsaW5lLl9iYXNlLHt0eXBlOiJidWxsZXQiLGluaXQ6ZnVuY3Rpb24oYSxkLGUsZixnKXt2YXIgaCxpLGo7Qi5fc3VwZXIuaW5pdC5jYWxsKHRoaXMsYSxkLGUsZixnKSx0aGlzLnZhbHVlcz1kPWwoZCksaj1kLnNsaWNlKCksalswXT1qWzBdPT09bnVsbD9qWzJdOmpbMF0salsxXT1kWzFdPT09bnVsbD9qWzJdOmpbMV0saD1iLm1pbi5hcHBseShiLGQpLGk9Yi5tYXguYXBwbHkoYixkKSxlLmdldCgiYmFzZSIpPT09Yz9oPWg8MD9oOjA6aD1lLmdldCgiYmFzZSIpLHRoaXMubWluPWgsdGhpcy5tYXg9aSx0aGlzLnJhbmdlPWktaCx0aGlzLnNoYXBlcz17fSx0aGlzLnZhbHVlU2hhcGVzPXt9LHRoaXMucmVnaW9uZGF0YT17fSx0aGlzLndpZHRoPWY9ZS5nZXQoIndpZHRoIik9PT0iYXV0byI/IjQuMGVtIjpmLHRoaXMudGFyZ2V0PXRoaXMuJGVsLnNpbXBsZWRyYXcoZixnLGUuZ2V0KCJjb21wb3NpdGUiKSksZC5sZW5ndGh8fCh0aGlzLmRpc2FibGVkPSEwKSx0aGlzLmluaXRUYXJnZXQoKX0sZ2V0UmVnaW9uOmZ1bmN0aW9uKGEsYixkKXt2YXIgZT10aGlzLnRhcmdldC5nZXRTaGFwZUF0KGEsYixkKTtyZXR1cm4gZSE9PWMmJnRoaXMuc2hhcGVzW2VdIT09Yz90aGlzLnNoYXBlc1tlXTpjfSxnZXRDdXJyZW50UmVnaW9uRmllbGRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jdXJyZW50UmVnaW9uO3JldHVybntmaWVsZGtleTphLnN1YnN0cigwLDEpLHZhbHVlOnRoaXMudmFsdWVzW2Euc3Vic3RyKDEpXSxyZWdpb246YX19LGNoYW5nZUhpZ2hsaWdodDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmN1cnJlbnRSZWdpb24sYz10aGlzLnZhbHVlU2hhcGVzW2JdLGQ7ZGVsZXRlIHRoaXMuc2hhcGVzW2NdO3N3aXRjaChiLnN1YnN0cigwLDEpKXtjYXNlInIiOmQ9dGhpcy5yZW5kZXJSYW5nZShiLnN1YnN0cigxKSxhKTticmVhaztjYXNlInAiOmQ9dGhpcy5yZW5kZXJQZXJmb3JtYW5jZShhKTticmVhaztjYXNlInQiOmQ9dGhpcy5yZW5kZXJUYXJnZXQoYSl9dGhpcy52YWx1ZVNoYXBlc1tiXT1kLmlkLHRoaXMuc2hhcGVzW2QuaWRdPWIsdGhpcy50YXJnZXQucmVwbGFjZVdpdGhTaGFwZShjLGQpfSxyZW5kZXJSYW5nZTpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMudmFsdWVzW2FdLGU9Yi5yb3VuZCh0aGlzLmNhbnZhc1dpZHRoKigoZC10aGlzLm1pbikvdGhpcy5yYW5nZSkpLGY9dGhpcy5vcHRpb25zLmdldCgicmFuZ2VDb2xvcnMiKVthLTJdO3JldHVybiBjJiYoZj10aGlzLmNhbGNIaWdobGlnaHRDb2xvcihmLHRoaXMub3B0aW9ucykpLHRoaXMudGFyZ2V0LmRyYXdSZWN0KDAsMCxlLTEsdGhpcy5jYW52YXNIZWlnaHQtMSxmLGYpfSxyZW5kZXJQZXJmb3JtYW5jZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnZhbHVlc1sxXSxkPWIucm91bmQodGhpcy5jYW52YXNXaWR0aCooKGMtdGhpcy5taW4pL3RoaXMucmFuZ2UpKSxlPXRoaXMub3B0aW9ucy5nZXQoInBlcmZvcm1hbmNlQ29sb3IiKTtyZXR1cm4gYSYmKGU9dGhpcy5jYWxjSGlnaGxpZ2h0Q29sb3IoZSx0aGlzLm9wdGlvbnMpKSx0aGlzLnRhcmdldC5kcmF3UmVjdCgwLGIucm91bmQodGhpcy5jYW52YXNIZWlnaHQqLjMpLGQtMSxiLnJvdW5kKHRoaXMuY2FudmFzSGVpZ2h0Ki40KS0xLGUsZSl9LHJlbmRlclRhcmdldDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnZhbHVlc1swXSxkPWIucm91bmQodGhpcy5jYW52YXNXaWR0aCooKGMtdGhpcy5taW4pL3RoaXMucmFuZ2UpLXRoaXMub3B0aW9ucy5nZXQoInRhcmdldFdpZHRoIikvMiksZT1iLnJvdW5kKHRoaXMuY2FudmFzSGVpZ2h0Ki4xKSxmPXRoaXMuY2FudmFzSGVpZ2h0LWUqMixnPXRoaXMub3B0aW9ucy5nZXQoInRhcmdldENvbG9yIik7cmV0dXJuIGEmJihnPXRoaXMuY2FsY0hpZ2hsaWdodENvbG9yKGcsdGhpcy5vcHRpb25zKSksdGhpcy50YXJnZXQuZHJhd1JlY3QoZCxlLHRoaXMub3B0aW9ucy5nZXQoInRhcmdldFdpZHRoIiktMSxmLTEsZyxnKX0scmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52YWx1ZXMubGVuZ3RoLGI9dGhpcy50YXJnZXQsYyxkO2lmKCFCLl9zdXBlci5yZW5kZXIuY2FsbCh0aGlzKSlyZXR1cm47Zm9yKGM9MjtjPGE7YysrKWQ9dGhpcy5yZW5kZXJSYW5nZShjKS5hcHBlbmQoKSx0aGlzLnNoYXBlc1tkLmlkXT0iciIrYyx0aGlzLnZhbHVlU2hhcGVzWyJyIitjXT1kLmlkO3RoaXMudmFsdWVzWzFdIT09bnVsbCYmKGQ9dGhpcy5yZW5kZXJQZXJmb3JtYW5jZSgpLmFwcGVuZCgpLHRoaXMuc2hhcGVzW2QuaWRdPSJwMSIsdGhpcy52YWx1ZVNoYXBlcy5wMT1kLmlkKSx0aGlzLnZhbHVlc1swXSE9PW51bGwmJihkPXRoaXMucmVuZGVyVGFyZ2V0KCkuYXBwZW5kKCksdGhpcy5zaGFwZXNbZC5pZF09InQwIix0aGlzLnZhbHVlU2hhcGVzLnQwPWQuaWQpLGIucmVuZGVyKCl9fSksZC5mbi5zcGFya2xpbmUucGllPUM9ZyhkLmZuLnNwYXJrbGluZS5fYmFzZSx7dHlwZToicGllIixpbml0OmZ1bmN0aW9uKGEsYyxlLGYsZyl7dmFyIGg9MCxpO0MuX3N1cGVyLmluaXQuY2FsbCh0aGlzLGEsYyxlLGYsZyksdGhpcy5zaGFwZXM9e30sdGhpcy52YWx1ZVNoYXBlcz17fSx0aGlzLnZhbHVlcz1jPWQubWFwKGMsTnVtYmVyKSxlLmdldCgid2lkdGgiKT09PSJhdXRvIiYmKHRoaXMud2lkdGg9dGhpcy5oZWlnaHQpO2lmKGMubGVuZ3RoPjApZm9yKGk9Yy5sZW5ndGg7aS0tOyloKz1jW2ldO3RoaXMudG90YWw9aCx0aGlzLmluaXRUYXJnZXQoKSx0aGlzLnJhZGl1cz1iLmZsb29yKGIubWluKHRoaXMuY2FudmFzV2lkdGgsdGhpcy5jYW52YXNIZWlnaHQpLzIpfSxnZXRSZWdpb246ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXRoaXMudGFyZ2V0LmdldFNoYXBlQXQoYSxiLGQpO3JldHVybiBlIT09YyYmdGhpcy5zaGFwZXNbZV0hPT1jP3RoaXMuc2hhcGVzW2VdOmN9LGdldEN1cnJlbnRSZWdpb25GaWVsZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmN1cnJlbnRSZWdpb247cmV0dXJue2lzTnVsbDp0aGlzLnZhbHVlc1thXT09PWMsdmFsdWU6dGhpcy52YWx1ZXNbYV0scGVyY2VudDp0aGlzLnZhbHVlc1thXS90aGlzLnRvdGFsKjEwMCxjb2xvcjp0aGlzLm9wdGlvbnMuZ2V0KCJzbGljZUNvbG9ycyIpW2EldGhpcy5vcHRpb25zLmdldCgic2xpY2VDb2xvcnMiKS5sZW5ndGhdLG9mZnNldDphfX0sY2hhbmdlSGlnaGxpZ2h0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3VycmVudFJlZ2lvbixjPXRoaXMucmVuZGVyU2xpY2UoYixhKSxkPXRoaXMudmFsdWVTaGFwZXNbYl07ZGVsZXRlIHRoaXMuc2hhcGVzW2RdLHRoaXMudGFyZ2V0LnJlcGxhY2VXaXRoU2hhcGUoZCxjKSx0aGlzLnZhbHVlU2hhcGVzW2JdPWMuaWQsdGhpcy5zaGFwZXNbYy5pZF09Yn0scmVuZGVyU2xpY2U6ZnVuY3Rpb24oYSxkKXt2YXIgZT10aGlzLnRhcmdldCxmPXRoaXMub3B0aW9ucyxnPXRoaXMucmFkaXVzLGg9Zi5nZXQoImJvcmRlcldpZHRoIiksaT1mLmdldCgib2Zmc2V0Iiksaj0yKmIuUEksaz10aGlzLnZhbHVlcyxsPXRoaXMudG90YWwsbT1pPzIqYi5QSSooaS8zNjApOjAsbixvLHAscSxyO3E9ay5sZW5ndGg7Zm9yKHA9MDtwPHE7cCsrKXtuPW0sbz1tLGw+MCYmKG89bStqKihrW3BdL2wpKTtpZihhPT09cClyZXR1cm4gcj1mLmdldCgic2xpY2VDb2xvcnMiKVtwJWYuZ2V0KCJzbGljZUNvbG9ycyIpLmxlbmd0aF0sZCYmKHI9dGhpcy5jYWxjSGlnaGxpZ2h0Q29sb3IocixmKSksZS5kcmF3UGllU2xpY2UoZyxnLGctaCxuLG8sYyxyKTttPW99fSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRhcmdldCxkPXRoaXMudmFsdWVzLGU9dGhpcy5vcHRpb25zLGY9dGhpcy5yYWRpdXMsZz1lLmdldCgiYm9yZGVyV2lkdGgiKSxoLGk7aWYoIUMuX3N1cGVyLnJlbmRlci5jYWxsKHRoaXMpKXJldHVybjtnJiZhLmRyYXdDaXJjbGUoZixmLGIuZmxvb3IoZi1nLzIpLGUuZ2V0KCJib3JkZXJDb2xvciIpLGMsZykuYXBwZW5kKCk7Zm9yKGk9ZC5sZW5ndGg7aS0tOylkW2ldJiYoaD10aGlzLnJlbmRlclNsaWNlKGkpLmFwcGVuZCgpLHRoaXMudmFsdWVTaGFwZXNbaV09aC5pZCx0aGlzLnNoYXBlc1toLmlkXT1pKTthLnJlbmRlcigpfX0pLGQuZm4uc3BhcmtsaW5lLmJveD1EPWcoZC5mbi5zcGFya2xpbmUuX2Jhc2Use3R5cGU6ImJveCIsaW5pdDpmdW5jdGlvbihhLGIsYyxlLGYpe0QuX3N1cGVyLmluaXQuY2FsbCh0aGlzLGEsYixjLGUsZiksdGhpcy52YWx1ZXM9ZC5tYXAoYixOdW1iZXIpLHRoaXMud2lkdGg9Yy5nZXQoIndpZHRoIik9PT0iYXV0byI/IjQuMGVtIjplLHRoaXMuaW5pdFRhcmdldCgpLHRoaXMudmFsdWVzLmxlbmd0aHx8KHRoaXMuZGlzYWJsZWQ9MSl9LGdldFJlZ2lvbjpmdW5jdGlvbigpe3JldHVybiAxfSxnZXRDdXJyZW50UmVnaW9uRmllbGRzOmZ1bmN0aW9uKCl7dmFyIGE9W3tmaWVsZDoibHEiLHZhbHVlOnRoaXMucXVhcnRpbGVzWzBdfSx7ZmllbGQ6Im1lZCIsdmFsdWU6dGhpcy5xdWFydGlsZXMKWzFdfSx7ZmllbGQ6InVxIix2YWx1ZTp0aGlzLnF1YXJ0aWxlc1syXX1dO3JldHVybiB0aGlzLmxvdXRsaWVyIT09YyYmYS5wdXNoKHtmaWVsZDoibG8iLHZhbHVlOnRoaXMubG91dGxpZXJ9KSx0aGlzLnJvdXRsaWVyIT09YyYmYS5wdXNoKHtmaWVsZDoicm8iLHZhbHVlOnRoaXMucm91dGxpZXJ9KSx0aGlzLmx3aGlza2VyIT09YyYmYS5wdXNoKHtmaWVsZDoibHciLHZhbHVlOnRoaXMubHdoaXNrZXJ9KSx0aGlzLnJ3aGlza2VyIT09YyYmYS5wdXNoKHtmaWVsZDoicnciLHZhbHVlOnRoaXMucndoaXNrZXJ9KSxhfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRhcmdldCxkPXRoaXMudmFsdWVzLGU9ZC5sZW5ndGgsZj10aGlzLm9wdGlvbnMsZz10aGlzLmNhbnZhc1dpZHRoLGg9dGhpcy5jYW52YXNIZWlnaHQsaT1mLmdldCgiY2hhcnRSYW5nZU1pbiIpPT09Yz9iLm1pbi5hcHBseShiLGQpOmYuZ2V0KCJjaGFydFJhbmdlTWluIiksaz1mLmdldCgiY2hhcnRSYW5nZU1heCIpPT09Yz9iLm1heC5hcHBseShiLGQpOmYuZ2V0KCJjaGFydFJhbmdlTWF4IiksbD0wLG0sbixvLHAscSxyLHMsdCx1LHYsdztpZighRC5fc3VwZXIucmVuZGVyLmNhbGwodGhpcykpcmV0dXJuO2lmKGYuZ2V0KCJyYXciKSlmLmdldCgic2hvd091dGxpZXJzIikmJmQubGVuZ3RoPjU/KG49ZFswXSxtPWRbMV0scD1kWzJdLHE9ZFszXSxyPWRbNF0scz1kWzVdLHQ9ZFs2XSk6KG09ZFswXSxwPWRbMV0scT1kWzJdLHI9ZFszXSxzPWRbNF0pO2Vsc2V7ZC5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pLHA9aihkLDEpLHE9aihkLDIpLHI9aihkLDMpLG89ci1wO2lmKGYuZ2V0KCJzaG93T3V0bGllcnMiKSl7bT1zPWM7Zm9yKHU9MDt1PGU7dSsrKW09PT1jJiZkW3VdPnAtbypmLmdldCgib3V0bGllcklRUiIpJiYobT1kW3VdKSxkW3VdPHIrbypmLmdldCgib3V0bGllcklRUiIpJiYocz1kW3VdKTtuPWRbMF0sdD1kW2UtMV19ZWxzZSBtPWRbMF0scz1kW2UtMV19dGhpcy5xdWFydGlsZXM9W3AscSxyXSx0aGlzLmx3aGlza2VyPW0sdGhpcy5yd2hpc2tlcj1zLHRoaXMubG91dGxpZXI9bix0aGlzLnJvdXRsaWVyPXQsdz1nLyhrLWkrMSksZi5nZXQoInNob3dPdXRsaWVycyIpJiYobD1iLmNlaWwoZi5nZXQoInNwb3RSYWRpdXMiKSksZy09MipiLmNlaWwoZi5nZXQoInNwb3RSYWRpdXMiKSksdz1nLyhrLWkrMSksbjxtJiZhLmRyYXdDaXJjbGUoKG4taSkqdytsLGgvMixmLmdldCgic3BvdFJhZGl1cyIpLGYuZ2V0KCJvdXRsaWVyTGluZUNvbG9yIiksZi5nZXQoIm91dGxpZXJGaWxsQ29sb3IiKSkuYXBwZW5kKCksdD5zJiZhLmRyYXdDaXJjbGUoKHQtaSkqdytsLGgvMixmLmdldCgic3BvdFJhZGl1cyIpLGYuZ2V0KCJvdXRsaWVyTGluZUNvbG9yIiksZi5nZXQoIm91dGxpZXJGaWxsQ29sb3IiKSkuYXBwZW5kKCkpLGEuZHJhd1JlY3QoYi5yb3VuZCgocC1pKSp3K2wpLGIucm91bmQoaCouMSksYi5yb3VuZCgoci1wKSp3KSxiLnJvdW5kKGgqLjgpLGYuZ2V0KCJib3hMaW5lQ29sb3IiKSxmLmdldCgiYm94RmlsbENvbG9yIikpLmFwcGVuZCgpLGEuZHJhd0xpbmUoYi5yb3VuZCgobS1pKSp3K2wpLGIucm91bmQoaC8yKSxiLnJvdW5kKChwLWkpKncrbCksYi5yb3VuZChoLzIpLGYuZ2V0KCJsaW5lQ29sb3IiKSkuYXBwZW5kKCksYS5kcmF3TGluZShiLnJvdW5kKChtLWkpKncrbCksYi5yb3VuZChoLzQpLGIucm91bmQoKG0taSkqdytsKSxiLnJvdW5kKGgtaC80KSxmLmdldCgid2hpc2tlckNvbG9yIikpLmFwcGVuZCgpLGEuZHJhd0xpbmUoYi5yb3VuZCgocy1pKSp3K2wpLGIucm91bmQoaC8yKSxiLnJvdW5kKChyLWkpKncrbCksYi5yb3VuZChoLzIpLGYuZ2V0KCJsaW5lQ29sb3IiKSkuYXBwZW5kKCksYS5kcmF3TGluZShiLnJvdW5kKChzLWkpKncrbCksYi5yb3VuZChoLzQpLGIucm91bmQoKHMtaSkqdytsKSxiLnJvdW5kKGgtaC80KSxmLmdldCgid2hpc2tlckNvbG9yIikpLmFwcGVuZCgpLGEuZHJhd0xpbmUoYi5yb3VuZCgocS1pKSp3K2wpLGIucm91bmQoaCouMSksYi5yb3VuZCgocS1pKSp3K2wpLGIucm91bmQoaCouOSksZi5nZXQoIm1lZGlhbkNvbG9yIikpLmFwcGVuZCgpLGYuZ2V0KCJ0YXJnZXQiKSYmKHY9Yi5jZWlsKGYuZ2V0KCJzcG90UmFkaXVzIikpLGEuZHJhd0xpbmUoYi5yb3VuZCgoZi5nZXQoInRhcmdldCIpLWkpKncrbCksYi5yb3VuZChoLzItdiksYi5yb3VuZCgoZi5nZXQoInRhcmdldCIpLWkpKncrbCksYi5yb3VuZChoLzIrdiksZi5nZXQoInRhcmdldENvbG9yIikpLmFwcGVuZCgpLGEuZHJhd0xpbmUoYi5yb3VuZCgoZi5nZXQoInRhcmdldCIpLWkpKncrbC12KSxiLnJvdW5kKGgvMiksYi5yb3VuZCgoZi5nZXQoInRhcmdldCIpLWkpKncrbCt2KSxiLnJvdW5kKGgvMiksZi5nZXQoInRhcmdldENvbG9yIikpLmFwcGVuZCgpKSxhLnJlbmRlcigpfX0pLEc9Zyh7aW5pdDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLnRhcmdldD1hLHRoaXMuaWQ9Yix0aGlzLnR5cGU9Yyx0aGlzLmFyZ3M9ZH0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0LmFwcGVuZFNoYXBlKHRoaXMpLHRoaXN9fSksSD1nKHtfcHhyZWdleDovKFxkKykocHgpP1xzKiQvaSxpbml0OmZ1bmN0aW9uKGEsYixjKXtpZighYSlyZXR1cm47dGhpcy53aWR0aD1hLHRoaXMuaGVpZ2h0PWIsdGhpcy50YXJnZXQ9Yyx0aGlzLmxhc3RTaGFwZUlkPW51bGwsY1swXSYmKGM9Y1swXSksZC5kYXRhKGMsIl9qcXNfdmNhbnZhcyIsdGhpcyl9LGRyYXdMaW5lOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gdGhpcy5kcmF3U2hhcGUoW1thLGJdLFtjLGRdXSxlLGYpfSxkcmF3U2hhcGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuX2dlblNoYXBlKCJTaGFwZSIsW2EsYixjLGRdKX0sZHJhd0NpcmNsZTpmdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIHRoaXMuX2dlblNoYXBlKCJDaXJjbGUiLFthLGIsYyxkLGUsZl0pfSxkcmF3UGllU2xpY2U6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7cmV0dXJuIHRoaXMuX2dlblNoYXBlKCJQaWVTbGljZSIsW2EsYixjLGQsZSxmLGddKX0sZHJhd1JlY3Q6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiB0aGlzLl9nZW5TaGFwZSgiUmVjdCIsW2EsYixjLGQsZSxmXSl9LGdldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW52YXN9LGdldExhc3RTaGFwZUlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFzdFNoYXBlSWR9LHJlc2V0OmZ1bmN0aW9uKCl7YWxlcnQoInJlc2V0IG5vdCBpbXBsZW1lbnRlZCIpfSxfaW5zZXJ0OmZ1bmN0aW9uKGEsYil7ZChiKS5odG1sKGEpfSxfY2FsY3VsYXRlUGl4ZWxEaW1zOmZ1bmN0aW9uKGEsYixjKXt2YXIgZTtlPXRoaXMuX3B4cmVnZXguZXhlYyhiKSxlP3RoaXMucGl4ZWxIZWlnaHQ9ZVsxXTp0aGlzLnBpeGVsSGVpZ2h0PWQoYykuaGVpZ2h0KCksZT10aGlzLl9weHJlZ2V4LmV4ZWMoYSksZT90aGlzLnBpeGVsV2lkdGg9ZVsxXTp0aGlzLnBpeGVsV2lkdGg9ZChjKS53aWR0aCgpfSxfZ2VuU2hhcGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1MKys7cmV0dXJuIGIudW5zaGlmdChjKSxuZXcgRyh0aGlzLGMsYSxiKX0sYXBwZW5kU2hhcGU6ZnVuY3Rpb24oYSl7YWxlcnQoImFwcGVuZFNoYXBlIG5vdCBpbXBsZW1lbnRlZCIpfSxyZXBsYWNlV2l0aFNoYXBlOmZ1bmN0aW9uKGEsYil7YWxlcnQoInJlcGxhY2VXaXRoU2hhcGUgbm90IGltcGxlbWVudGVkIil9LGluc2VydEFmdGVyU2hhcGU6ZnVuY3Rpb24oYSxiKXthbGVydCgiaW5zZXJ0QWZ0ZXJTaGFwZSBub3QgaW1wbGVtZW50ZWQiKX0scmVtb3ZlU2hhcGVJZDpmdW5jdGlvbihhKXthbGVydCgicmVtb3ZlU2hhcGVJZCBub3QgaW1wbGVtZW50ZWQiKX0sZ2V0U2hhcGVBdDpmdW5jdGlvbihhLGIsYyl7YWxlcnQoImdldFNoYXBlQXQgbm90IGltcGxlbWVudGVkIil9LHJlbmRlcjpmdW5jdGlvbigpe2FsZXJ0KCJyZW5kZXIgbm90IGltcGxlbWVudGVkIil9fSksST1nKEgse2luaXQ6ZnVuY3Rpb24oYixlLGYsZyl7SS5fc3VwZXIuaW5pdC5jYWxsKHRoaXMsYixlLGYpLHRoaXMuY2FudmFzPWEuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksZlswXSYmKGY9ZlswXSksZC5kYXRhKGYsIl9qcXNfdmNhbnZhcyIsdGhpcyksZCh0aGlzLmNhbnZhcykuY3NzKHtkaXNwbGF5OiJpbmxpbmUtYmxvY2siLHdpZHRoOmIsaGVpZ2h0OmUsdmVydGljYWxBbGlnbjoidG9wIn0pLHRoaXMuX2luc2VydCh0aGlzLmNhbnZhcyxmKSx0aGlzLl9jYWxjdWxhdGVQaXhlbERpbXMoYixlLHRoaXMuY2FudmFzKSx0aGlzLmNhbnZhcy53aWR0aD10aGlzLnBpeGVsV2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0PXRoaXMucGl4ZWxIZWlnaHQsdGhpcy5pbnRlcmFjdD1nLHRoaXMuc2hhcGVzPXt9LHRoaXMuc2hhcGVzZXE9W10sdGhpcy5jdXJyZW50VGFyZ2V0U2hhcGVJZD1jLGQodGhpcy5jYW52YXMpLmNzcyh7d2lkdGg6dGhpcy5waXhlbFdpZHRoLGhlaWdodDp0aGlzLnBpeGVsSGVpZ2h0fSl9LF9nZXRDb250ZXh0OmZ1bmN0aW9uKGEsYixkKXt2YXIgZT10aGlzLmNhbnZhcy5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBhIT09YyYmKGUuc3Ryb2tlU3R5bGU9YSksZS5saW5lV2lkdGg9ZD09PWM/MTpkLGIhPT1jJiYoZS5maWxsU3R5bGU9YiksZX0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9nZXRDb250ZXh0KCk7YS5jbGVhclJlY3QoMCwwLHRoaXMucGl4ZWxXaWR0aCx0aGlzLnBpeGVsSGVpZ2h0KSx0aGlzLnNoYXBlcz17fSx0aGlzLnNoYXBlc2VxPVtdLHRoaXMuY3VycmVudFRhcmdldFNoYXBlSWQ9Y30sX2RyYXdTaGFwZTpmdW5jdGlvbihhLGIsZCxlLGYpe3ZhciBnPXRoaXMuX2dldENvbnRleHQoZCxlLGYpLGgsaTtnLmJlZ2luUGF0aCgpLGcubW92ZVRvKGJbMF1bMF0rLjUsYlswXVsxXSsuNSk7Zm9yKGg9MSxpPWIubGVuZ3RoO2g8aTtoKyspZy5saW5lVG8oYltoXVswXSsuNSxiW2hdWzFdKy41KTtkIT09YyYmZy5zdHJva2UoKSxlIT09YyYmZy5maWxsKCksdGhpcy50YXJnZXRYIT09YyYmdGhpcy50YXJnZXRZIT09YyYmZy5pc1BvaW50SW5QYXRoKHRoaXMudGFyZ2V0WCx0aGlzLnRhcmdldFkpJiYodGhpcy5jdXJyZW50VGFyZ2V0U2hhcGVJZD1hKX0sX2RyYXdDaXJjbGU6ZnVuY3Rpb24oYSxkLGUsZixnLGgsaSl7dmFyIGo9dGhpcy5fZ2V0Q29udGV4dChnLGgsaSk7ai5iZWdpblBhdGgoKSxqLmFyYyhkLGUsZiwwLDIqYi5QSSwhMSksdGhpcy50YXJnZXRYIT09YyYmdGhpcy50YXJnZXRZIT09YyYmai5pc1BvaW50SW5QYXRoKHRoaXMudGFyZ2V0WCx0aGlzLnRhcmdldFkpJiYodGhpcy5jdXJyZW50VGFyZ2V0U2hhcGVJZD1hKSxnIT09YyYmai5zdHJva2UoKSxoIT09YyYmai5maWxsKCl9LF9kcmF3UGllU2xpY2U6ZnVuY3Rpb24oYSxiLGQsZSxmLGcsaCxpKXt2YXIgaj10aGlzLl9nZXRDb250ZXh0KGgsaSk7ai5iZWdpblBhdGgoKSxqLm1vdmVUbyhiLGQpLGouYXJjKGIsZCxlLGYsZywhMSksai5saW5lVG8oYixkKSxqLmNsb3NlUGF0aCgpLGghPT1jJiZqLnN0cm9rZSgpLGkmJmouZmlsbCgpLHRoaXMudGFyZ2V0WCE9PWMmJnRoaXMudGFyZ2V0WSE9PWMmJmouaXNQb2ludEluUGF0aCh0aGlzLnRhcmdldFgsdGhpcy50YXJnZXRZKSYmKHRoaXMuY3VycmVudFRhcmdldFNoYXBlSWQ9YSl9LF9kcmF3UmVjdDpmdW5jdGlvbihhLGIsYyxkLGUsZixnKXtyZXR1cm4gdGhpcy5fZHJhd1NoYXBlKGEsW1tiLGNdLFtiK2QsY10sW2IrZCxjK2VdLFtiLGMrZV0sW2IsY11dLGYsZyl9LGFwcGVuZFNoYXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNoYXBlc1thLmlkXT1hLHRoaXMuc2hhcGVzZXEucHVzaChhLmlkKSx0aGlzLmxhc3RTaGFwZUlkPWEuaWQsYS5pZH0scmVwbGFjZVdpdGhTaGFwZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2hhcGVzZXEsZDt0aGlzLnNoYXBlc1tiLmlkXT1iO2ZvcihkPWMubGVuZ3RoO2QtLTspY1tkXT09YSYmKGNbZF09Yi5pZCk7ZGVsZXRlIHRoaXMuc2hhcGVzW2FdfSxyZXBsYWNlV2l0aFNoYXBlczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2hhcGVzZXEsZD17fSxlLGYsZztmb3IoZj1hLmxlbmd0aDtmLS07KWRbYVtmXV09ITA7Zm9yKGY9Yy5sZW5ndGg7Zi0tOyllPWNbZl0sZFtlXSYmKGMuc3BsaWNlKGYsMSksZGVsZXRlIHRoaXMuc2hhcGVzW2VdLGc9Zik7Zm9yKGY9Yi5sZW5ndGg7Zi0tOyljLnNwbGljZShnLDAsYltmXS5pZCksdGhpcy5zaGFwZXNbYltmXS5pZF09YltmXX0saW5zZXJ0QWZ0ZXJTaGFwZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2hhcGVzZXEsZDtmb3IoZD1jLmxlbmd0aDtkLS07KWlmKGNbZF09PT1hKXtjLnNwbGljZShkKzEsMCxiLmlkKSx0aGlzLnNoYXBlc1tiLmlkXT1iO3JldHVybn19LHJlbW92ZVNoYXBlSWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zaGFwZXNlcSxjO2ZvcihjPWIubGVuZ3RoO2MtLTspaWYoYltjXT09PWEpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9ZGVsZXRlIHRoaXMuc2hhcGVzW2FdfSxnZXRTaGFwZUF0OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy50YXJnZXRYPWIsdGhpcy50YXJnZXRZPWMsdGhpcy5yZW5kZXIoKSx0aGlzLmN1cnJlbnRUYXJnZXRTaGFwZUlkfSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNoYXBlc2VxLGI9dGhpcy5zaGFwZXMsYz1hLmxlbmd0aCxkPXRoaXMuX2dldENvbnRleHQoKSxlLGYsZztkLmNsZWFyUmVjdCgwLDAsdGhpcy5waXhlbFdpZHRoLHRoaXMucGl4ZWxIZWlnaHQpO2ZvcihnPTA7ZzxjO2crKyllPWFbZ10sZj1iW2VdLHRoaXNbIl9kcmF3IitmLnR5cGVdLmFwcGx5KHRoaXMsZi5hcmdzKTt0aGlzLmludGVyYWN0fHwodGhpcy5zaGFwZXM9e30sdGhpcy5zaGFwZXNlcT1bXSl9fSksSj1nKEgse2luaXQ6ZnVuY3Rpb24oYixjLGUpe3ZhciBmO0ouX3N1cGVyLmluaXQuY2FsbCh0aGlzLGIsYyxlKSxlWzBdJiYoZT1lWzBdKSxkLmRhdGEoZSwiX2pxc192Y2FudmFzIix0aGlzKSx0aGlzLmNhbnZhcz1hLmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxkKHRoaXMuY2FudmFzKS5jc3Moe2Rpc3BsYXk6ImlubGluZS1ibG9jayIscG9zaXRpb246InJlbGF0aXZlIixvdmVyZmxvdzoiaGlkZGVuIix3aWR0aDpiLGhlaWdodDpjLG1hcmdpbjoiMHB4IixwYWRkaW5nOiIwcHgiLHZlcnRpY2FsQWxpZ246InRvcCJ9KSx0aGlzLl9pbnNlcnQodGhpcy5jYW52YXMsZSksdGhpcy5fY2FsY3VsYXRlUGl4ZWxEaW1zKGIsYyx0aGlzLmNhbnZhcyksdGhpcy5jYW52YXMud2lkdGg9dGhpcy5waXhlbFdpZHRoLHRoaXMuY2FudmFzLmhlaWdodD10aGlzLnBpeGVsSGVpZ2h0LGY9Jzx2Omdyb3VwIGNvb3Jkb3JpZ2luPSIwIDAiIGNvb3Jkc2l6ZT0iJyt0aGlzLnBpeGVsV2lkdGgrIiAiK3RoaXMucGl4ZWxIZWlnaHQrJyInKycgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDonK3RoaXMucGl4ZWxXaWR0aCsicHg7aGVpZ2h0PSIrdGhpcy5waXhlbEhlaWdodCsncHg7Ij48L3Y6Z3JvdXA+Jyx0aGlzLmNhbnZhcy5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUVuZCIsZiksdGhpcy5ncm91cD1kKHRoaXMuY2FudmFzKS5jaGlsZHJlbigpWzBdLHRoaXMucmVuZGVyZWQ9ITEsdGhpcy5wcmVyZW5kZXI9IiJ9LF9kcmF3U2hhcGU6ZnVuY3Rpb24oYSxiLGQsZSxmKXt2YXIgZz1bXSxoLGksaixrLGwsbSxuO2ZvcihuPTAsbT1iLmxlbmd0aDtuPG07bisrKWdbbl09IiIrYltuXVswXSsiLCIrYltuXVsxXTtyZXR1cm4gaD1nLnNwbGljZSgwLDEpLGY9Zj09PWM/MTpmLGk9ZD09PWM/JyBzdHJva2VkPSJmYWxzZSIgJzonIHN0cm9rZVdlaWdodD0iJytmKydweCIgc3Ryb2tlQ29sb3I9IicrZCsnIiAnLGo9ZT09PWM/JyBmaWxsZWQ9ImZhbHNlIic6JyBmaWxsQ29sb3I9IicrZSsnIiBmaWxsZWQ9InRydWUiICcsaz1nWzBdPT09Z1tnLmxlbmd0aC0xXT8ieCAiOiIiLGw9Jzx2OnNoYXBlIGNvb3Jkb3JpZ2luPSIwIDAiIGNvb3Jkc2l6ZT0iJyt0aGlzLnBpeGVsV2lkdGgrIiAiK3RoaXMucGl4ZWxIZWlnaHQrJyIgJysnIGlkPSJqcXNzaGFwZScrYSsnIiAnK2kraisnIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O2hlaWdodDonK3RoaXMucGl4ZWxIZWlnaHQrInB4O3dpZHRoOiIrdGhpcy5waXhlbFdpZHRoKydweDtwYWRkaW5nOjBweDttYXJnaW46MHB4OyIgJysnIHBhdGg9Im0gJytoKyIgbCAiK2cuam9pbigiLCAiKSsiICIraysnZSI+JysiIDwvdjpzaGFwZT4iLGx9LF9kcmF3Q2lyY2xlOmZ1bmN0aW9uKGEsYixkLGUsZixnLGgpe3ZhciBpLGosaztyZXR1cm4gYi09ZSxkLT1lLGk9Zj09PWM/JyBzdHJva2VkPSJmYWxzZSIgJzonIHN0cm9rZVdlaWdodD0iJytoKydweCIgc3Ryb2tlQ29sb3I9IicrZisnIiAnLGo9Zz09PWM/JyBmaWxsZWQ9ImZhbHNlIic6JyBmaWxsQ29sb3I9IicrZysnIiBmaWxsZWQ9InRydWUiICcsaz0nPHY6b3ZhbCAgaWQ9Impxc3NoYXBlJythKyciICcraStqKycgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDonK2QrInB4OyBsZWZ0OiIrYisicHg7IHdpZHRoOiIrZSoyKyJweDsgaGVpZ2h0OiIrZSoyKydweCI+PC92Om92YWw+JyxrfSxfZHJhd1BpZVNsaWNlOmZ1bmN0aW9uKGEsZCxlLGYsZyxoLGksail7dmFyIGssbCxtLG4sbyxwLHEscjtpZihnPT09aClyZXR1cm4iIjtoLWc9PT0yKmIuUEkmJihnPTAsaD0yKmIuUEkpLGw9ZCtiLnJvdW5kKGIuY29zKGcpKmYpLG09ZStiLnJvdW5kKGIuc2luKGcpKmYpLG49ZCtiLnJvdW5kKGIuY29zKGgpKmYpLG89ZStiLnJvdW5kKGIuc2luKGgpKmYpO2lmKGw9PT1uJiZtPT09byl7aWYoaC1nPGIuUEkpcmV0dXJuIiI7bD1uPWQrZixtPW89ZX1yZXR1cm4gbD09PW4mJm09PT1vJiZoLWc8Yi5QST8iIjooaz1bZC1mLGUtZixkK2YsZStmLGwsbSxuLG9dLHA9aT09PWM/JyBzdHJva2VkPSJmYWxzZSIgJzonIHN0cm9rZVdlaWdodD0iMXB4IiBzdHJva2VDb2xvcj0iJytpKyciICcscT1qPT09Yz8nIGZpbGxlZD0iZmFsc2UiJzonIGZpbGxDb2xvcj0iJytqKyciIGZpbGxlZD0idHJ1ZSIgJyxyPSc8djpzaGFwZSBjb29yZG9yaWdpbj0iMCAwIiBjb29yZHNpemU9IicrdGhpcy5waXhlbFdpZHRoKyIgIit0aGlzLnBpeGVsSGVpZ2h0KyciICcrJyBpZD0ianFzc2hhcGUnK2ErJyIgJytwK3ErJyBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowcHg7dG9wOjBweDtoZWlnaHQ6Jyt0aGlzLnBpeGVsSGVpZ2h0KyJweDt3aWR0aDoiK3RoaXMucGl4ZWxXaWR0aCsncHg7cGFkZGluZzowcHg7bWFyZ2luOjBweDsiICcrJyBwYXRoPSJtICcrZCsiLCIrZSsiIHdhICIray5qb2luKCIsICIpKycgeCBlIj4nKyIgPC92OnNoYXBlPiIscil9LF9kcmF3UmVjdDpmdW5jdGlvbihhLGIsYyxkLGUsZixnKXtyZXR1cm4gdGhpcy5fZHJhd1NoYXBlKGEsW1tiLGNdLFtiLGMrZV0sW2IrZCxjK2VdLFtiK2QsY10sW2IsY11dLGYsZyl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5ncm91cC5pbm5lckhUTUw9IiJ9LGFwcGVuZFNoYXBlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbIl9kcmF3IithLnR5cGVdLmFwcGx5KHRoaXMsYS5hcmdzKTtyZXR1cm4gdGhpcy5yZW5kZXJlZD90aGlzLmdyb3VwLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlRW5kIixiKTp0aGlzLnByZXJlbmRlcis9Yix0aGlzLmxhc3RTaGFwZUlkPWEuaWQsYS5pZH0scmVwbGFjZVdpdGhTaGFwZTpmdW5jdGlvbihhLGIpe3ZhciBjPWQoIiNqcXNzaGFwZSIrYSksZT10aGlzWyJfZHJhdyIrYi50eXBlXS5hcHBseSh0aGlzLGIuYXJncyk7Y1swXS5vdXRlckhUTUw9ZX0scmVwbGFjZVdpdGhTaGFwZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1kKCIjanFzc2hhcGUiK2FbMF0pLGU9IiIsZj1iLmxlbmd0aCxnO2ZvcihnPTA7ZzxmO2crKyllKz10aGlzWyJfZHJhdyIrYltnXS50eXBlXS5hcHBseSh0aGlzLGJbZ10uYXJncyk7Y1swXS5vdXRlckhUTUw9ZTtmb3IoZz0xO2c8YS5sZW5ndGg7ZysrKWQoIiNqcXNzaGFwZSIrYVtnXSkucmVtb3ZlKCl9LGluc2VydEFmdGVyU2hhcGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1kKCIjanFzc2hhcGUiK2EpLGU9dGhpc1siX2RyYXciK2IudHlwZV0uYXBwbHkodGhpcyxiLmFyZ3MpO2NbMF0uaW5zZXJ0QWRqYWNlbnRIVE1MKCJhZnRlckVuZCIsZSl9LHJlbW92ZVNoYXBlSWQ6ZnVuY3Rpb24oYSl7dmFyIGI9ZCgiI2pxc3NoYXBlIithKTt0aGlzLmdyb3VwLnJlbW92ZUNoaWxkKGJbMF0pfSxnZXRTaGFwZUF0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmlkLnN1YnN0cig4KTtyZXR1cm4gZH0scmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlZHx8KHRoaXMuZ3JvdXAuaW5uZXJIVE1MPXRoaXMucHJlcmVuZGVyLHRoaXMucmVuZGVyZWQ9ITApfX0pfSl9KShkb2N1bWVudCxNYXRoKTs="></script>
<link href="data:text/css;charset=utf-8,%2Ehandsontable%20%2EcurrentRow%20%7B%0Abackground%2Dcolor%3A%20%23E7E8EF%3B%0A%7D%0A%2Ehandsontable%20%2EcurrentCol%20%7B%0Abackground%2Dcolor%3A%20%23F9F9FB%3B%0A%7D%0A%2Ehandsontable%20%7B%0Aoverflow%3A%20auto%3B%0A%7D%0A%0A%2Ejqstooltip%7B%0Awidth%3A%20auto%20%21important%3B%0Aheight%3A%20auto%20%21important%3B%0A%7D%0A%0A%2Edatepicker%20%7B%0Az%2Dindex%3A%201000%20%21important%3B%0A%7D%0A%2Ehandsontable%20table%20thead%20th%20%7B%0Awhite%2Dspace%3A%20pre%2Dline%3B%0A%0A%7D%0A" rel="stylesheet" />
<script src="data:application/x-javascript;base64,SFRNTFdpZGdldHMud2lkZ2V0KHsKCiAgbmFtZTogJ3JoYW5kc29udGFibGUnLAoKICB0eXBlOiAnb3V0cHV0JywKCiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oZWwsIHdpZHRoLCBoZWlnaHQpIHsKCiAgICByZXR1cm4gewoKICAgIH07CgogIH0sCgogIHJlbmRlclZhbHVlOiBmdW5jdGlvbihlbCwgeCwgaW5zdGFuY2UpIHsKCiAgICAvLyBjb252ZXJ0IGpzb24gdG8gYXJyYXkKICAgIGlmICh4LmRhdGEubGVuZ3RoID4gMCAmJiB4LmRhdGFbMF0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7CiAgICAgIHguZGF0YSA9IHguZGF0YTsKICAgIH0gZWxzZSB7CiAgICAgIHguZGF0YSA9IHRvQXJyYXkoeC5kYXRhLm1hcChmdW5jdGlvbihkKSB7CiAgICAgICAgcmV0dXJuIHguckNvbG5hbWVzLm1hcChmdW5jdGlvbihreSkgewogICAgICAgICAgcmV0dXJuIGRba3ldOwogICAgICAgIH0pOwogICAgICB9KSk7CiAgICB9CgogICAgaWYgKHguaXNIZWF0bWFwID09PSB0cnVlKSB7CiAgICAgIHguYWZ0ZXJMb2FkRGF0YSA9IHRoaXMuaW5pdEhlYXRtYXA7CiAgICAgIHguYmVmb3JlQ2hhbmdlUmVuZGVyID0gdGhpcy51cGRhdGVIZWF0bWFwOwogICAgfQoKICAgIGlmICh4Lm92ZXJmbG93KSB7CiAgICAgICQoIiMiICsgZWwuaWQpLmNzcygnb3ZlcmZsb3cnLCB4Lm92ZXJmbG93KTsKICAgIH0KCiAgICBpZiAoeC5yb3dIZWFkZXJXaWR0aCkgewogICAgICAkKCIjIiArIGVsLmlkKS5jc3MoJ2NvbC5yb3dIZWFkZXInLCB4LnJvd0hlYWRlcldpZHRoICsgJ3B4Jyk7CiAgICB9CgogICAgdGhpcy5hZnRlckNoYW5nZUNhbGxiYWNrKHgpOwogICAgdGhpcy5hZnRlckNlbGxNZXRhQ2FsbGJhY2soeCk7CiAgICB0aGlzLmFmdGVyUm93QW5kQ29sQ2hhbmdlKHgpOwoKICAgIGlmICh4LnNlbGVjdENhbGxiYWNrKSB7CiAgICAgIHRoaXMuYWZ0ZXJTZWxlY3RDYWxsYmFjayh4KTsKICAgIH0KCiAgICBpZiAoaW5zdGFuY2UuaG90KSB7IC8vIHVwZGF0ZSBleGlzdGluZyBpbnN0YW5jZQoKICAgICAgaW5zdGFuY2UuaG90LnVwZGF0ZVNldHRpbmdzKHgpOwoKICAgIH0gZWxzZSB7ICAvLyBjcmVhdGUgbmV3IGluc3RhbmNlCgogICAgICBpbnN0YW5jZS5ob3QgPSBuZXcgSGFuZHNvbnRhYmxlKGVsLCB4KTsKCiAgICB9CgogICAgaW5zdGFuY2UuaG90LnBhcmFtcyA9IHg7CiAgfSwKCiAgcmVzaXplOiBmdW5jdGlvbihlbCwgd2lkdGgsIGhlaWdodCwgaW5zdGFuY2UpIHsKCiAgICAvL2luc3RhbmNlLmhvdC51cGRhdGVTZXR0aW5ncyh7IHdpZHRoOiB3aWR0aCwKICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQKICAgIC8vfSk7CiAgICAvL2luc3RhbmNlLmhvdC5yZW5kZXIoKTsKCiAgfSwKCiAgYWZ0ZXJDaGFuZ2VDYWxsYmFjazogZnVuY3Rpb24oeCkgewoKICAgIHguYWZ0ZXJDaGFuZ2UgPSBmdW5jdGlvbihjaGFuZ2VzLCBzb3VyY2UpIHsKCiAgICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUgJiYgY2hhbmdlcykgewogICAgICAgIGlmICh0aGlzLnNvcnRJbmRleCAmJiB0aGlzLnNvcnRJbmRleC5sZW5ndGggIT09IDApIHsKICAgICAgICAgIGMgPSBbdGhpcy5zb3J0SW5kZXhbY2hhbmdlc1swXVswXV1bMF0sIGNoYW5nZXNbMF0uc2xpY2UoMSwgMSArIDMpXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYyA9IGNoYW5nZXM7CiAgICAgICAgfQoKICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKHRoaXMucm9vdEVsZW1lbnQuaWQsIHsKICAgICAgICAgIGRhdGE6IHRoaXMuZ2V0RGF0YSgpLAogICAgICAgICAgY2hhbmdlczogeyBldmVudDogImFmdGVyQ2hhbmdlIiwgY2hhbmdlczogYyB9LAogICAgICAgICAgcGFyYW1zOiB0aGlzLnBhcmFtcwogICAgICAgIH0pOwogICAgICB9CgogICAgfTsKICB9LAoKICBhZnRlckNlbGxNZXRhQ2FsbGJhY2s6IGZ1bmN0aW9uKHgpIHsKCiAgICB4LmFmdGVyU2V0Q2VsbE1ldGEgPSBmdW5jdGlvbihyLCBjLCBrZXksIHZhbCkgewoKICAgICAgaWYgKEhUTUxXaWRnZXRzLnNoaW55TW9kZSAmJiBrZXkgPT09ICJjb21tZW50IikgewogICAgICAgIGlmICh0aGlzLnNvcnRJbmRleCAmJiB0aGlzLnNvcnRJbmRleC5sZW5ndGggIT09IDApIHsKICAgICAgICAgIHIgPSB0aGlzLnNvcnRJbmRleFtyXVswXTsKICAgICAgICB9CgogICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UodGhpcy5yb290RWxlbWVudC5pZCArICJfY29tbWVudCIsIHsKICAgICAgICAgIGRhdGE6IHRoaXMuZ2V0RGF0YSgpLAogICAgICAgICAgY29tbWVudDogeyByOiByICsgMSwgYzogYyArIDEsIGtleToga2V5LCB2YWw6IHZhbH0sCiAgICAgICAgICBwYXJhbXM6IHRoaXMucGFyYW1zCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICB9OwogIH0sCgogIGFmdGVyU2VsZWN0Q2FsbGJhY2s6IGZ1bmN0aW9uKHgpIHsKCiAgICB4LmFmdGVyU2VsZWN0aW9uRW5kID0gZnVuY3Rpb24ociwgYywgcjIsIGMyKSB7CgogICAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7CiAgICAgICAgaWYgKHRoaXMuc29ydEluZGV4ICYmIHRoaXMuc29ydEluZGV4Lmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgciA9IHRoaXMuc29ydEluZGV4W3JdWzBdOwogICAgICAgICAgcjIgPSB0aGlzLnNvcnRJbmRleFtyMl1bMF07CiAgICAgICAgfQoKICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKHRoaXMucm9vdEVsZW1lbnQuaWQgKyAiX3NlbGVjdCIsIHsKICAgICAgICAgIGRhdGE6IHRoaXMuZ2V0RGF0YSgpLAogICAgICAgICAgc2VsZWN0OiB7IHI6IHIgKyAxLCBjOiBjICsgMSwgcjI6IHIyICsgMSwgYzI6IGMyICsgMX0sCiAgICAgICAgICBwYXJhbXM6IHRoaXMucGFyYW1zCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICB9OwogIH0sCgogIGFmdGVyUm93QW5kQ29sQ2hhbmdlOiBmdW5jdGlvbih4KSB7CgogICAgeC5hZnRlckNyZWF0ZVJvdyA9IGZ1bmN0aW9uKGluZCwgY3QpIHsKCiAgICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHsKCiAgICAgICAgZm9yKHZhciBpID0gMCwgY29sQ291bnQgPSB0aGlzLmNvdW50Q29scygpOyBpIDwgY29sQ291bnQgOyBpKyspIHsKICAgICAgICAgIHRoaXMuc2V0RGF0YUF0Q2VsbChpbmQsIGksIHRoaXMucGFyYW1zLmNvbHVtbnNbaV0uZGVmYXVsdCk7CiAgICAgICAgfQoKICAgICAgICBTaGlueS5vbklucHV0Q2hhbmdlKHRoaXMucm9vdEVsZW1lbnQuaWQsIHsKICAgICAgICAgIGRhdGE6IHRoaXMuZ2V0RGF0YSgpLAogICAgICAgICAgY2hhbmdlczogeyBldmVudDogImFmdGVyQ3JlYXRlUm93IiwgaW5kOiBpbmQsIGN0OiBjdCB9LAogICAgICAgICAgcGFyYW1zOiB0aGlzLnBhcmFtcwogICAgICAgIH0pOwogICAgICB9CiAgICB9OwoKICAgIHguYWZ0ZXJSZW1vdmVSb3cgPSBmdW5jdGlvbihpbmQsIGN0KSB7CgogICAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKQogICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UodGhpcy5yb290RWxlbWVudC5pZCwgewogICAgICAgICAgZGF0YTogdGhpcy5nZXREYXRhKCksCiAgICAgICAgICBjaGFuZ2VzOiB7IGV2ZW50OiAiYWZ0ZXJSZW1vdmVSb3ciLCBpbmQ6IGluZCwgY3Q6IGN0IH0sCiAgICAgICAgICBwYXJhbXM6IHRoaXMucGFyYW1zCiAgICAgICAgfSk7CiAgICB9OwoKICAgIHguYWZ0ZXJDcmVhdGVDb2wgPSBmdW5jdGlvbihpbmQsIGN0KSB7CgogICAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKQogICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UodGhpcy5yb290RWxlbWVudC5pZCwgewogICAgICAgICAgZGF0YTogdGhpcy5nZXREYXRhKCksCiAgICAgICAgICBjaGFuZ2VzOiB7IGV2ZW50OiAiYWZ0ZXJDcmVhdGVDb2wiLCBpbmQ6IGluZCwgY3Q6IGN0IH0sCiAgICAgICAgICBwYXJhbXM6IHRoaXMucGFyYW1zCiAgICAgICAgfSk7CiAgICB9OwoKICAgIHguYWZ0ZXJSZW1vdmVDb2wgPSBmdW5jdGlvbihpbmQsIGN0KSB7CgogICAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKQogICAgICAgIFNoaW55Lm9uSW5wdXRDaGFuZ2UodGhpcy5yb290RWxlbWVudC5pZCwgewogICAgICAgICAgZGF0YTogdGhpcy5nZXREYXRhKCksCiAgICAgICAgICBjaGFuZ2VzOiB7IGV2ZW50OiAiYWZ0ZXJSZW1vdmVDb2wiLCBpbmQ6IGluZCwgY3Q6IGN0IH0sCiAgICAgICAgICBwYXJhbXM6IHRoaXMucGFyYW1zCiAgICAgICAgfSk7CiAgICB9OwoKICB9LAoKICAvLyBzZWUgaHR0cDovL2hhbmRzb250YWJsZS5jb20vZGVtby9oZWF0bWFwcy5odG1sCiAgaW5pdEhlYXRtYXA6IGZ1bmN0aW9uKGZpcnN0VGltZSwgc291cmNlKSB7CiAgICB0aGlzLmhlYXRtYXAgPSBbXTsKCiAgICBmb3IodmFyIGkgPSAwLCBjb2xDb3VudCA9IHRoaXMuY291bnRDb2xzKCk7IGkgPCBjb2xDb3VudCA7IGkrKykgewogICAgICB0aGlzLmhlYXRtYXBbaV0gPSBnZW5lcmF0ZUhlYXRtYXBEYXRhLmNhbGwodGhpcywgaSk7CiAgICB9CiAgfSwKCiAgdXBkYXRlSGVhdG1hcDogZnVuY3Rpb24oY2hhbmdlLCBzb3VyY2UpIHsKICAgIHRoaXMuaGVhdG1hcFtjaGFuZ2VbMF1bMV1dID0gZ2VuZXJhdGVIZWF0bWFwRGF0YS5jYWxsKHRoaXMsIGNoYW5nZVswXVsxXSk7CiAgfQoKfSk7CgpmdW5jdGlvbiBnZW5lcmF0ZUhlYXRtYXBEYXRhKGNvbElkKSB7CgogIHZhciB2YWx1ZXMgPSB0aGlzLmdldERhdGFBdENvbChjb2xJZCk7CgogIHJldHVybiB7CiAgICBtaW46IE1hdGgubWluLmFwcGx5KG51bGwsIHZhbHVlcyksCiAgICBtYXg6IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcykKICB9Owp9CgovLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMjQ3NzYxMi9jb252ZXJ0aW5nLWFycmF5LW9mLW9iamVjdHMtaW50by1hcnJheS1vZi1hcnJheXMKZnVuY3Rpb24gdG9BcnJheShpbnB1dCkgewogIHZhciByZXN1bHQgPSBpbnB1dC5tYXAoZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24oa2V5KSB7CiAgICAgIHJldHVybiBvYmpba2V5XTsKICAgIH0pOwogIH0pOwogIHJldHVybiByZXN1bHQ7Cn0KCi8vIGNzdiBsb2dpYyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2p1YW50YXNjb24vanF1ZXJ5LWhhbmRzb250YWJsZS1jc3YKZnVuY3Rpb24gY3N2U3RyaW5nKGluc3RhbmNlKSB7CgogIHZhciBoZWFkZXJzID0gaW5zdGFuY2UuZ2V0Q29sSGVhZGVyKCk7CgogIHZhciBjc3YgPSBoZWFkZXJzLmpvaW4oIiwiKSArICJcbiI7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgaW5zdGFuY2UuY291bnRSb3dzKCk7IGkrKykgewogICAgICB2YXIgcm93ID0gW107CiAgICAgIGZvciAodmFyIGggaW4gaGVhZGVycykgewogICAgICAgICAgdmFyIHByb3AgPSBpbnN0YW5jZS5jb2xUb1Byb3AoaCk7CiAgICAgICAgICB2YXIgdmFsdWUgPSBpbnN0YW5jZS5nZXREYXRhQXRSb3dQcm9wKGksIHByb3ApOwogICAgICAgICAgcm93LnB1c2godmFsdWUpOwogICAgICB9CgogICAgICBjc3YgKz0gcm93LmpvaW4oIiwiKTsKICAgICAgY3N2ICs9ICJcbiI7CiAgfQoKICByZXR1cm4gY3N2Owp9CgpmdW5jdGlvbiBjdXN0b21SZW5kZXJlcihpbnN0YW5jZSwgVEQsIHJvdywgY29sLCBwcm9wLCB2YWx1ZSwgY2VsbFByb3BlcnRpZXMpIHsKICBpZiAodmFsdWUgPT09ICdOQScpIHsKICAgIHZhbHVlID0gJyc7CiAgICBIYW5kc29udGFibGUucmVuZGVyZXJzLmdldFJlbmRlcmVyKCd0ZXh0JykoaW5zdGFuY2UsIFRELCByb3csIGNvbCwgcHJvcCwgdmFsdWUsIGNlbGxQcm9wZXJ0aWVzKTsKICB9IGVsc2UgewogICAgaWYgKFsnZGF0ZScsICdoYW5kc29udGFibGUnLCAnZHJvcGRvd24nXS5pbmRleE9mKGNlbGxQcm9wZXJ0aWVzLnR5cGUpID4gLTEpIHsKICAgICAgdHlwZSA9ICdhdXRvY29tcGxldGUnOwogICAgfSBlbHNlIHsKICAgICAgdHlwZSA9IGNlbGxQcm9wZXJ0aWVzLnR5cGU7CiAgICB9CiAgICBIYW5kc29udGFibGUucmVuZGVyZXJzLmdldFJlbmRlcmVyKHR5cGUpKGluc3RhbmNlLCBURCwgcm93LCBjb2wsIHByb3AsIHZhbHVlLCBjZWxsUHJvcGVydGllcyk7CiAgfQp9CgpmdW5jdGlvbiByZW5kZXJTcGFya2xpbmUoaW5zdGFuY2UsIHRkLCByb3csIGNvbCwgcHJvcCwgdmFsdWUsIGNlbGxQcm9wZXJ0aWVzKSB7CiAgdHJ5IHsKICAgIHZhbCA9IEpTT04ucGFyc2UodmFsdWUpOwoKICAgIG5tID0gJ3NwYXJrbGluZXNfcicgKyByb3cgKyAnX2MnICsgY29sOwogICAgdGQuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwiJyArIG5tICsgJ1wiPjwvc3Bhbj4nOwoKICAgIC8vIGFkanVzdCBmb3IgY2VsbCBwYWRkaW5nCiAgICBpZiAodmFsLm9wdGlvbnMgJiYgdmFsLm9wdGlvbnMudHlwZSAmJgogICAgICBbJ2JhcicsICd0cmlzdGF0ZSddLmluZGV4T2YodmFsLm9wdGlvbnMudHlwZVswXSkgPiAtMSkgewogICAgICB2YWwub3B0aW9ucy5iYXJTcGFjaW5nID0gMTsKICAgICAgdmFsLm9wdGlvbnMuYmFyV2lkdGggPSBNYXRoLm1heCgxLCBNYXRoLnJvdW5kKChpbnN0YW5jZS5nZXRDb2xXaWR0aChjb2wpIC0gOCAtICh2YWwudmFsdWVzLmxlbmd0aCAtIDEpKSAvIHZhbC52YWx1ZXMubGVuZ3RoKSk7CiAgICB9IGVsc2UgewogICAgICBpZiAoIXZhbC5vcHRpb25zKSB7CiAgICAgICAgdmFsLm9wdGlvbnMgPSB7fTsKICAgICAgfQogICAgICB2YWwub3B0aW9ucy53aWR0aCA9IChpbnN0YW5jZS5nZXRDb2xXaWR0aChjb2wpIC0gOCkgKyAicHgiOwogICAgfQoKICAgICQoJy4nICsgbm0pLnNwYXJrbGluZSh2YWwudmFsdWVzLCB2YWwub3B0aW9ucyk7CiAgfSBjYXRjaChlcnIpIHsKICAgIHRkLmlubmVySFRNTCA9ICcnOwogIH0KCiAgcmV0dXJuIHRkOwp9CgovLyBodHRwOi8vZG9jcy5oYW5kc29udGFibGUuY29tLzAuMTYuMS9kZW1vLWN1c3RvbS1yZW5kZXJlcnMuaHRtbApmdW5jdGlvbiBzdHJpcF90YWdzKGlucHV0LCBhbGxvd2VkKSB7CiAgdmFyIHRhZ3MgPSAvPFwvPyhbYS16XVthLXowLTldKilcYltePl0qPi9naSwKICAgIGNvbW1lbnRzQW5kUGhwVGFncyA9IC88IS0tW1xzXFNdKj8tLT58PFw/KD86cGhwKT9bXHNcU10qP1w/Pi9naTsKCiAgLy8gbWFraW5nIHN1cmUgdGhlIGFsbG93ZWQgYXJnIGlzIGEgc3RyaW5nIGNvbnRhaW5pbmcgb25seSB0YWdzIGluIGxvd2VyY2FzZSAoPGE+PGI+PGM+KQogIGFsbG93ZWQgPSAoKChhbGxvd2VkIHx8ICIiKSArICIiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKC88W2Etel1bYS16MC05XSo+L2cpIHx8IFtdKS5qb2luKCcnKTsKCiAgcmV0dXJuIGlucHV0LnJlcGxhY2UoY29tbWVudHNBbmRQaHBUYWdzLCAnJykucmVwbGFjZSh0YWdzLCBmdW5jdGlvbiAoJDAsICQxKSB7CiAgICByZXR1cm4gYWxsb3dlZC5pbmRleE9mKCc8JyArICQxLnRvTG93ZXJDYXNlKCkgKyAnPicpID4gLTEgPyAkMCA6ICcnOwogIH0pOwp9CgpmdW5jdGlvbiBzYWZlSHRtbFJlbmRlcmVyKGluc3RhbmNlLCB0ZCwgcm93LCBjb2wsIHByb3AsIHZhbHVlLCBjZWxsUHJvcGVydGllcykgewogIHZhciBlc2NhcGVkID0gSGFuZHNvbnRhYmxlLmhlbHBlci5zdHJpbmdpZnkodmFsdWUpOwogIGlmIChpbnN0YW5jZS5nZXRTZXR0aW5ncygpLmFsbG93ZWRUYWdzKSB7CiAgICB0YWdzID0gaW5zdGFuY2UuZ2V0U2V0dGluZ3MoKS5hbGxvd2VkVGFncwogIH0gZWxzZSB7CiAgICB0YWdzID0gJzxlbT48Yj48c3Ryb25nPjxhPjxiaWc+JwogIH0KICBlc2NhcGVkID0gc3RyaXBfdGFncyhlc2NhcGVkLCB0YWdzKTsgLy9iZSBzdXJlIHlvdSBvbmx5IGFsbG93IGNlcnRhaW4gSFRNTCB0YWdzIHRvIGF2b2lkIFhTUyB0aHJlYXRzICh5b3Ugc2hvdWxkIGFsc28gcmVtb3ZlIHVud2FudGVkIEhUTUwgYXR0cmlidXRlcykKICB0ZC5pbm5lckhUTUwgPSBlc2NhcGVkOwoKICByZXR1cm4gdGQ7Cn0K"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">rhandsontable Introduction</h1>
<h4 class="author"><em>Jonathan Owen</em></h4>
<h4 class="date"><em>2016-07-06</em></h4>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>rhandsontable is a htmlwidget based on the <a href="https://www.handsontable.com">handsontable.js</a> library.</p>
<blockquote>
<p>Handsontable is a data grid component with an Excel-like appearance. Built in JavaScript, it integrates with any data source with peak efficiency. It comes with powerful features like data validation, sorting, grouping, data binding, formula support or column ordering. (<a href="https://www.handsontable.com">via</a>)</p>
</blockquote>
</div>
<div id="column-types" class="section level2">
<h2>Column Types</h2>
<p>The table includes support for numeric, logical, character and Date types. Logical values will appear as check boxes, and the <a href="https://github.com/dbushell/Pikaday">pikaday.js</a> library is used to specify Date values.</p>
<p>rhandsontable attempts to map R classes to an appropriate handsontable type. Factors will be mapped to <code>dropdown</code>, with the choices specified by <code>level</code> and <code>allowInvalid</code> set to <code>FALSE</code>. To allow new levels, set <code>allowInvalid</code> to <code>TRUE</code> (using <code>hot_col</code>; it may also be desirable to set <code>strict</code> to <code>FALSE</code>). When running in <code>shiny</code>, using <code>hot_to_r</code> will preserve custom factor ordering, and if new levels are allowed, they will be added to the end.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">integer =</span> <span class="dv">1</span>:<span class="dv">10</span>,
                   <span class="dt">numeric =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>),
                   <span class="dt">logical =</span> <span class="kw">rep</span>(<span class="ot">TRUE</span>, <span class="dv">10</span>), 
                   <span class="dt">character =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                   <span class="dt">factor =</span> <span class="kw">factor</span>(letters[<span class="dv">1</span>:<span class="dv">10</span>], <span class="dt">levels =</span> letters[<span class="dv">10</span>:<span class="dv">1</span>], 
                                   <span class="dt">ordered =</span> <span class="ot">TRUE</span>),
                   <span class="dt">factor_allow =</span> <span class="kw">factor</span>(letters[<span class="dv">1</span>:<span class="dv">10</span>], <span class="dt">levels =</span> letters[<span class="dv">10</span>:<span class="dv">1</span>], 
                                         <span class="dt">ordered =</span> <span class="ot">TRUE</span>),
                   <span class="dt">date =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                   <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;factor_allow&quot;</span>, <span class="dt">allowInvalid =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-3316" style="width:600px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-3316">{"x":{"data":[{"integer":1,"numeric":0.9187,"logical":true,"character":"A","factor":"a","factor_allow":"a","date":"07/06/2016"},{"integer":2,"numeric":0.1564,"logical":true,"character":"B","factor":"b","factor_allow":"b","date":"07/07/2016"},{"integer":3,"numeric":0.9213,"logical":true,"character":"C","factor":"c","factor_allow":"c","date":"07/08/2016"},{"integer":4,"numeric":-0.3427,"logical":true,"character":"D","factor":"d","factor_allow":"d","date":"07/09/2016"},{"integer":5,"numeric":-0.5177,"logical":true,"character":"E","factor":"e","factor_allow":"e","date":"07/10/2016"},{"integer":6,"numeric":0.4966,"logical":true,"character":"F","factor":"f","factor_allow":"f","date":"07/11/2016"},{"integer":7,"numeric":0.573,"logical":true,"character":"G","factor":"g","factor_allow":"g","date":"07/12/2016"},{"integer":8,"numeric":1.0646,"logical":true,"character":"H","factor":"h","factor_allow":"h","date":"07/13/2016"},{"integer":9,"numeric":1.0898,"logical":true,"character":"I","factor":"i","factor_allow":"i","date":"07/14/2016"},{"integer":10,"numeric":0.6875,"logical":true,"character":"J","factor":"j","factor_allow":"j","date":"07/15/2016"}],"rClass":"data.frame","rColClasses":{"integer":"integer","numeric":"numeric","logical":"logical","character":"character","factor":"factor","factor_allow":"factor","date":"Date"},"rColnames":["integer","numeric","logical","character","factor","factor_allow","date"],"rDataDim":[10,7],"selectCallback":false,"colHeaders":["integer","numeric","logical","character","factor","factor_allow","date"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"dropdown","source":["j","i","h","g","f","e","d","c","b","a"],"allowInvalid":false,"renderer":"customRenderer","default":null},{"type":"dropdown","source":["j","i","h","g","f","e","d","c","b","a"],"allowInvalid":true,"renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":600,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer","columns.6.renderer"],"jsHooks":[]}</script>
<p>To improve readability, <code>NA</code> values will be displayed as blank cells. This requires converting columns containing <code>NA</code> to characters, and in the case of factors and Dates, may not display the data in the desired format. It may be beneficial to concert these type of columns to character before passing to <code>rhandsontable</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF_na =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">integer =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="dv">2</span>:<span class="dv">10</span>), 
                   <span class="dt">logical =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="kw">rep</span>(<span class="ot">TRUE</span>, <span class="dv">9</span>)), 
                   <span class="dt">character =</span> <span class="kw">c</span>(<span class="ot">NA</span>, LETTERS[<span class="dv">1</span>:<span class="dv">9</span>]),
                   <span class="dt">factor =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="kw">factor</span>(letters[<span class="dv">1</span>:<span class="dv">9</span>])),
                   <span class="dt">date =</span> <span class="kw">c</span>(<span class="ot">NA</span>, <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, 
                                    <span class="dt">length.out =</span> <span class="dv">9</span>)),
                   <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

DF_na$factor_ch =<span class="st"> </span><span class="kw">as.character</span>(DF_na$factor)
DF_na$date_ch =<span class="st"> </span><span class="kw">c</span>(<span class="ot">NA</span>, <span class="kw">as.character</span>(<span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, 
                                       <span class="dt">length.out =</span> <span class="dv">9</span>)))

<span class="kw">rhandsontable</span>(DF_na, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>)</code></pre></div>
<div id="htmlwidget-6579" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-6579">{"x":{"data":[{"integer":"NA","logical":"NA","character":"NA","factor":"NA","date":"NA","factor_ch":"NA","date_ch":"NA"},{"integer":2,"logical":true,"character":"A","factor":1,"date":16988,"factor_ch":"1","date_ch":"2016-07-06"},{"integer":3,"logical":true,"character":"B","factor":2,"date":16989,"factor_ch":"2","date_ch":"2016-07-07"},{"integer":4,"logical":true,"character":"C","factor":3,"date":16990,"factor_ch":"3","date_ch":"2016-07-08"},{"integer":5,"logical":true,"character":"D","factor":4,"date":16991,"factor_ch":"4","date_ch":"2016-07-09"},{"integer":6,"logical":true,"character":"E","factor":5,"date":16992,"factor_ch":"5","date_ch":"2016-07-10"},{"integer":7,"logical":true,"character":"F","factor":6,"date":16993,"factor_ch":"6","date_ch":"2016-07-11"},{"integer":8,"logical":true,"character":"G","factor":7,"date":16994,"factor_ch":"7","date_ch":"2016-07-12"},{"integer":9,"logical":true,"character":"H","factor":8,"date":16995,"factor_ch":"8","date_ch":"2016-07-13"},{"integer":10,"logical":true,"character":"I","factor":9,"date":16996,"factor_ch":"9","date_ch":"2016-07-14"}],"rClass":"data.frame","rColClasses":{"integer":"integer","logical":"logical","character":"character","factor":"integer","date":"integer","factor_ch":"character","date_ch":"character"},"rColnames":["integer","logical","character","factor","date","factor_ch","date_ch"],"rDataDim":[10,7],"selectCallback":false,"colHeaders":["integer","logical","character","factor","date","factor_ch","date_ch"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer","columns.6.renderer"],"jsHooks":[]}</script>
<div id="dropdown-autocomplete" class="section level3">
<h3>Dropdown / Autocomplete</h3>
<p>To control character column values, the column type can be specified as <code>dropdown</code> or <code>autocomplete</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="co"># try updating big to a value not in the dropdown</span>
<span class="kw">rhandsontable</span>(DF, <span class="dt">rowHeaders =</span> <span class="ot">NULL</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dt">col =</span> <span class="st">&quot;big&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;dropdown&quot;</span>, <span class="dt">source =</span> LETTERS) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dt">col =</span> <span class="st">&quot;small&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;autocomplete&quot;</span>, <span class="dt">source =</span> letters,
          <span class="dt">strict =</span> <span class="ot">FALSE</span>)</code></pre></div>
<div id="htmlwidget-2278" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-2278">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"07/06/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"07/07/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"07/08/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"07/09/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"07/10/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"07/11/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"07/12/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/13/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/14/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/15/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":null,"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"dropdown","renderer":"customRenderer","default":null,"source":["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]},{"type":"autocomplete","renderer":"customRenderer","default":null,"source":["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],"strict":false},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
</div>
<div id="password" class="section level3">
<h3>Password</h3>
<p>A column can also be specified as a <code>password</code> type.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;small&quot;</span>, <span class="st">&quot;password&quot;</span>)</code></pre></div>
<div id="htmlwidget-7709" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-7709">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"07/06/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"07/07/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"07/08/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"07/09/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"07/10/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"07/11/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"07/12/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/13/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/14/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/15/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"password","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
</div>
<div id="sparkline" class="section level3">
<h3>Sparkline</h3>
<p>New in version 0.2, <a href="http://omnipotent.net/jquery.sparkline/">sparkline.js</a> charts can be added to the table. Thanks to the sparkline package and Ramnath Vaidyanathan for inspiration.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

DF$chart =<span class="st"> </span><span class="kw">c</span>(<span class="kw">sapply</span>(<span class="dv">1</span>:<span class="dv">5</span>,
                    function(x) jsonlite::<span class="kw">toJSON</span>(<span class="kw">list</span>(<span class="dt">values=</span><span class="kw">rnorm</span>(<span class="dv">10</span>),
                                                      <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;bar&quot;</span>)))),
             <span class="kw">sapply</span>(<span class="dv">1</span>:<span class="dv">5</span>,
                    function(x) jsonlite::<span class="kw">toJSON</span>(<span class="kw">list</span>(<span class="dt">values=</span><span class="kw">rnorm</span>(<span class="dv">10</span>),
                                                      <span class="dt">options =</span> <span class="kw">list</span>(<span class="dt">type =</span> <span class="st">&quot;line&quot;</span>)))))

<span class="kw">rhandsontable</span>(DF, <span class="dt">rowHeaders =</span> <span class="ot">NULL</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;chart&quot;</span>, <span class="dt">renderer =</span> htmlwidgets::<span class="kw">JS</span>(<span class="st">&quot;renderSparkline&quot;</span>))</code></pre></div>
<div id="htmlwidget-9524" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-9524">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"07/06/2016","chart":"{\"values\":[0.1828,-0.2239,0.2616,-0.3206,-0.1457,0.3306,1.3611,0.1101,0.5764,-0.48],\"options\":{\"type\":[\"bar\"]}}"},{"val":2,"bool":true,"big":"B","small":"b","dt":"07/07/2016","chart":"{\"values\":[1.5429,1.4754,-0.0179,1.181,0.3206,-1.1491,0.342,-0.0896,-0.9127,0.5776],\"options\":{\"type\":[\"bar\"]}}"},{"val":3,"bool":true,"big":"C","small":"c","dt":"07/08/2016","chart":"{\"values\":[0.5529,-0.6967,0.827,-0.3248,-0.2399,0.5578,1.3338,0.7227,-1.693,-0.6433],\"options\":{\"type\":[\"bar\"]}}"},{"val":4,"bool":true,"big":"D","small":"d","dt":"07/09/2016","chart":"{\"values\":[1.096,-1.7639,-0.5805,-0.4406,-0.4677,-0.4953,1.4791,-0.6991,0.3204,-0.2307],\"options\":{\"type\":[\"bar\"]}}"},{"val":5,"bool":true,"big":"E","small":"e","dt":"07/10/2016","chart":"{\"values\":[-0.5284,0.4985,-2.2779,0.09,0.872,1.6021,-0.2833,-0.1039,-0.3707,-0.6252],\"options\":{\"type\":[\"bar\"]}}"},{"val":6,"bool":true,"big":"F","small":"f","dt":"07/11/2016","chart":"{\"values\":[0.5749,-0.5225,-0.9015,0.012,-0.9109,0.122,1.0375,-0.5226,-1.6263,0.0589],\"options\":{\"type\":[\"line\"]}}"},{"val":7,"bool":true,"big":"G","small":"g","dt":"07/12/2016","chart":"{\"values\":[0.9674,-0.7841,1.1151,-1.0351,-0.5459,-0.2926,-0.9991,-1.6757,0.3142,-0.9534],\"options\":{\"type\":[\"line\"]}}"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/13/2016","chart":"{\"values\":[-0.4426,0.206,-0.7418,0.6377,0.0144,1.5805,0.9198,0.278,0.4666,0.759],\"options\":{\"type\":[\"line\"]}}"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/14/2016","chart":"{\"values\":[-1.0807,0.6041,-0.7137,-0.461,-0.1247,0.2271,-0.3583,1.3313,-0.7226,-0.1757],\"options\":{\"type\":[\"line\"]}}"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/15/2016","chart":"{\"values\":[1.0856,1.2836,-0.0759,0.4399,1.1338,-0.8835,0.9176,-0.1736,0.8182,-0.5041],\"options\":{\"type\":[\"line\"]}}"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date","chart":"character"},"rColnames":["val","bool","big","small","dt","chart"],"rDataDim":[10,6],"selectCallback":false,"colHeaders":["val","bool","big","small","dt","chart"],"rowHeaders":null,"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null},{"type":"text","renderer":"renderSparkline","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer"],"jsHooks":[]}</script>
</div>
<div id="custom-renderer" class="section level3">
<h3>Custom Renderer</h3>
<p>It’s also possible to define a custom column renderer function. For example, it may be desirable to include html in a cell. The example below mimics <a href="http://docs.handsontable.com/0.16.1/demo-custom-renderers.html">Custom renderers</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(
  <span class="dt">title =</span> <span class="kw">c</span>(
    <span class="st">&quot;&lt;a href='http://www.amazon.com/Professional-JavaScript-Developers-Nicholas-Zakas/dp/1118026691'&gt;Professional JavaScript for Web Developers&lt;/a&gt;&quot;</span>,
    <span class="st">&quot;&lt;a href='http://shop.oreilly.com/product/9780596517748.do'&gt;JavaScript: The Good Parts&lt;/a&gt;&quot;</span>,
    <span class="st">&quot;&lt;a href='http://shop.oreilly.com/product/9780596805531.do'&gt;JavaScript: The Definitive Guide&lt;/a&gt;&quot;</span>
  ),
  <span class="dt">desc =</span> <span class="kw">c</span>(
    <span class="st">&quot;This &lt;a href='http://bit.ly/sM1bDf'&gt;book&lt;/a&gt; provides a developer-level introduction along with more advanced and useful features of &lt;b&gt;JavaScript&lt;/b&gt;.&quot;</span>,
    <span class="st">&quot;This book provides a developer-level introduction along with &lt;b&gt;more advanced&lt;/b&gt; and useful features of JavaScript.&quot;</span>,
    <span class="st">&quot;&lt;em&gt;JavaScript: The Definitive Guide&lt;/em&gt; provides a thorough description of the core &lt;b&gt;JavaScript&lt;/b&gt; language and both the legacy and standard DOMs implemented in web browsers.&quot;</span>
  ),
  <span class="dt">comments =</span> <span class="kw">c</span>(
    <span class="st">&quot;I would rate it &amp;#x2605;&amp;#x2605;&amp;#x2605;&amp;#x2605;&amp;#x2606;&quot;</span>,
    <span class="st">&quot;This is the book about JavaScript&quot;</span>,
    <span class="st">&quot;I've never actually read it, but the &lt;a href='http://shop.oreilly.com/product/9780596805531.do'&gt;comments&lt;/a&gt; are highly &lt;strong&gt;positive&lt;/strong&gt;.&quot;</span>
  ), 
  <span class="dt">cover =</span> <span class="kw">c</span>(
    <span class="st">&quot;http://ecx.images-amazon.com/images/I/51bRhyVTVGL._SL50_.jpg&quot;</span>,
    <span class="st">&quot;http://ecx.images-amazon.com/images/I/51gdVAEfPUL._SL50_.jpg&quot;</span>,
    <span class="st">&quot;http://ecx.images-amazon.com/images/I/51VFNL4T7kL._SL50_.jpg&quot;</span>
 ),
 <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>
)

<span class="kw">rhandsontable</span>(DF, <span class="dt">allowedTags =</span> <span class="st">&quot;&lt;em&gt;&lt;b&gt;&lt;strong&gt;&lt;a&gt;&lt;big&gt;&quot;</span>, 
              <span class="dt">width =</span> <span class="dv">800</span>, <span class="dt">height =</span> <span class="dv">450</span>, <span class="dt">rowHeaders =</span> <span class="ot">FALSE</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">colWidths =</span> <span class="kw">c</span>(<span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">200</span>, <span class="dv">80</span>)) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dv">1</span>:<span class="dv">2</span>, <span class="dt">renderer =</span> <span class="st">&quot;html&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dv">1</span>:<span class="dv">3</span>, <span class="dt">renderer =</span> htmlwidgets::<span class="kw">JS</span>(<span class="st">&quot;safeHtmlRenderer&quot;</span>)) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dv">4</span>, <span class="dt">renderer =</span> <span class="st">&quot;</span>
<span class="st">    function(instance, td, row, col, prop, value, cellProperties) {</span>
<span class="st">      var escaped = Handsontable.helper.stringify(value),</span>
<span class="st">        img;</span>
<span class="st">  </span>
<span class="st">      if (escaped.indexOf('http') === 0) {</span>
<span class="st">        img = document.createElement('IMG');</span>
<span class="st">        img.src = value;</span>
<span class="st">  </span>
<span class="st">        Handsontable.Dom.addEvent(img, 'mousedown', function (e){</span>
<span class="st">          e.preventDefault(); // prevent selection quirk</span>
<span class="st">        });</span>
<span class="st">  </span>
<span class="st">        Handsontable.Dom.empty(td);</span>
<span class="st">        td.appendChild(img);</span>
<span class="st">      }</span>
<span class="st">      else {</span>
<span class="st">        // render as text</span>
<span class="st">        Handsontable.renderers.TextRenderer.apply(this, arguments);</span>
<span class="st">      }</span>
<span class="st">  </span>
<span class="st">      return td;</span>
<span class="st">    }&quot;</span>)</code></pre></div>
<div id="htmlwidget-7079" style="width:800px;height:450px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-7079">{"x":{"data":[{"title":"<a href='http://www.amazon.com/Professional-JavaScript-Developers-Nicholas-Zakas/dp/1118026691'>Professional JavaScript for Web Developers\u003c/a>","desc":"This <a href='http://bit.ly/sM1bDf'>book\u003c/a> provides a developer-level introduction along with more advanced and useful features of <b>JavaScript\u003c/b>.","comments":"I would rate it &#x2605;&#x2605;&#x2605;&#x2605;&#x2606;","cover":"http://ecx.images-amazon.com/images/I/51bRhyVTVGL._SL50_.jpg"},{"title":"<a href='http://shop.oreilly.com/product/9780596517748.do'>JavaScript: The Good Parts\u003c/a>","desc":"This book provides a developer-level introduction along with <b>more advanced\u003c/b> and useful features of JavaScript.","comments":"This is the book about JavaScript","cover":"http://ecx.images-amazon.com/images/I/51gdVAEfPUL._SL50_.jpg"},{"title":"<a href='http://shop.oreilly.com/product/9780596805531.do'>JavaScript: The Definitive Guide\u003c/a>","desc":"<em>JavaScript: The Definitive Guide\u003c/em> provides a thorough description of the core <b>JavaScript\u003c/b> language and both the legacy and standard DOMs implemented in web browsers.","comments":"I've never actually read it, but the <a href='http://shop.oreilly.com/product/9780596805531.do'>comments\u003c/a> are highly <strong>positive\u003c/strong>.","cover":"http://ecx.images-amazon.com/images/I/51VFNL4T7kL._SL50_.jpg"}],"rClass":"data.frame","rColClasses":{"title":"character","desc":"character","comments":"character","cover":"character"},"rColnames":["title","desc","comments","cover"],"rDataDim":[3,4],"selectCallback":false,"colHeaders":["title","desc","comments","cover"],"rowHeaders":false,"columns":[{"type":"text","renderer":"safeHtmlRenderer","default":null},{"type":"text","renderer":"safeHtmlRenderer","default":null},{"type":"text","renderer":"safeHtmlRenderer","default":null},{"type":"text","renderer":"\n    function(instance, td, row, col, prop, value, cellProperties) {\n      var escaped = Handsontable.helper.stringify(value),\n        img;\n  \n      if (escaped.indexOf('http') === 0) {\n        img = document.createElement('IMG');\n        img.src = value;\n  \n        Handsontable.Dom.addEvent(img, 'mousedown', function (e){\n          e.preventDefault(); // prevent selection quirk\n        });\n  \n        Handsontable.Dom.empty(td);\n        td.appendChild(img);\n      }\n      else {\n        // render as text\n        Handsontable.renderers.TextRenderer.apply(this, arguments);\n      }\n  \n      return td;\n    }","default":null}],"width":800,"height":450,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"allowedTags":"<em><b><strong><a><big>","colWidths":[200,200,200,80]},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer"],"jsHooks":[]}</script>
<p>For <code>shiny</code> apps, use <code>renderer = htmlwidgets::JS(&quot;safeHtmlRenderer&quot;)</code> to display columns with html data. The allowed html tags default to <code>&lt;em&gt;&lt;b&gt;&lt;strong&gt;&lt;a&gt;&lt;big&gt;</code>, but the (hidden) <code>allowedTags</code> parameter can in <code>rhandsontable</code> can be used to customize this list.</p>
</div>
</div>
<div id="right-click-menu" class="section level2">
<h2>Right-Click Menu</h2>
<p>Right-clicking in a cell will enable a context menu that includes customizable table actions via the <code>hot_context_menu</code> function. For shiny apps, formatting and comment updates made via the context menu are not currently retained.</p>
<p>To disable the context menu, set <code>contextMenu = FALSE</code> in <code>hot_table</code> (or <code>rhandsontable</code>).</p>
<div id="add-remove-rows-columns" class="section level3">
<h3>Add / Remove Rows &amp; Columns</h3>
<p>By default a user can add or remove table rows and columns, but this functionality can be disabled. Note that Handsontable does not allow column be added or deleted to the table if column types are defined (i.e. <code>useTypes == TRUE</code> in <code>rhandsontable</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_context_menu</span>(<span class="dt">allowRowEdit =</span> <span class="ot">FALSE</span>, <span class="dt">allowColEdit =</span> <span class="ot">FALSE</span>)</code></pre></div>
<div id="htmlwidget-6906" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-6906">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"07/06/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"07/07/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"07/08/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"07/09/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"07/10/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"07/11/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"07/12/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/13/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/14/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/15/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
</div>
<div id="customizing" class="section level3">
<h3>Customizing</h3>
<p>The <code>customOpts</code> parameter of <code>hot_context_menu</code> can be used to add custom functionality to the context menu. Below are a couple examples.</p>
<div id="export-to-csv" class="section level4">
<h4>Export to CSV</h4>
<p>This example illustrates how to add an option to export the table to a csv file.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_context_menu</span>(
    <span class="dt">customOpts =</span> <span class="kw">list</span>(
      <span class="dt">csv =</span> <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&quot;Download to CSV&quot;</span>,
                    <span class="dt">callback =</span> htmlwidgets::<span class="kw">JS</span>(
                      <span class="st">&quot;function (key, options) {</span>
<span class="st">                         var csv = csvString(instance);</span>

<span class="st">                         var link = document.createElement('a');</span>
<span class="st">                         link.setAttribute('href', 'data:text/plain;charset=utf-8,' +</span>
<span class="st">                           encodeURIComponent(csv));</span>
<span class="st">                         link.setAttribute('download', filename);</span>

<span class="st">                         document.body.appendChild(link);</span>
<span class="st">                         link.click();</span>
<span class="st">                         document.body.removeChild(link);</span>
<span class="st">                       }&quot;</span>))))</code></pre></div>
<div id="htmlwidget-9877" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-9877">{"x":{"data":[[-0.8578,-2.503,-1.9269,0.0335,-1.0014],[-0.5535,1.8868,-0.7617,-0.9093,-0.0549],[0.1983,0.3728,-0.7625,1.0227,0.2838],[-3.241,0.8387,2.0466,-1.3842,-0.4004],[-1.3137,-0.0616,1.6816,0.7576,-0.5279],[-0.9544,-0.7629,-0.2389,0.3322,-1.1146],[-0.2701,0.4969,-0.1325,-1.6314,1.2723],[-2.5437,-1.3046,-1.568,0.8594,0.7721],[-0.2475,0.0337,-1.3175,-0.2353,0.9388],[-0.7031,0.0018,0.8074,0.4514,-0.3196]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[],"hsep1":{"name":"---------"},"hsep2":{"name":"---------"},"col_left":[],"col_right":[],"remove_col":[],"hsep20":{"name":"---------"},"csv":{"name":"Download to CSV","callback":"function (key, options) {\n                         var csv = csvString(instance);\n\n                         var link = document.createElement('a');\n                         link.setAttribute('href', 'data:text/plain;charset=utf-8,' +\n                           encodeURIComponent(csv));\n                         link.setAttribute('download', filename);\n\n                         document.body.appendChild(link);\n                         link.click();\n                         document.body.removeChild(link);\n                       }"}}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","contextMenu.items.csv.callback"],"jsHooks":[]}</script>
</div>
<div id="search" class="section level4">
<h4>Search</h4>
<p>This example illustrates how to enable the search functionality in Handsontable.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>,
                <span class="dt">bool =</span> <span class="ot">TRUE</span>,
                <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> <span class="kw">factor</span>(letters[<span class="dv">1</span>:<span class="dv">10</span>]),
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">search =</span> <span class="ot">TRUE</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_context_menu</span>(
    <span class="dt">customOpts =</span> <span class="kw">list</span>(
      <span class="dt">search =</span> <span class="kw">list</span>(<span class="dt">name =</span> <span class="st">&quot;Search&quot;</span>,
                    <span class="dt">callback =</span> htmlwidgets::<span class="kw">JS</span>(
                      <span class="st">&quot;function (key, options) {</span>
<span class="st">                         var srch = prompt('Search criteria');</span>

<span class="st">                         this.search.query(srch);</span>
<span class="st">                         this.render();</span>
<span class="st">                       }&quot;</span>))))</code></pre></div>
<div id="htmlwidget-3159" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-3159">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"07/06/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"07/07/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"07/08/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"07/09/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"07/10/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"07/11/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"07/12/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/13/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/14/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/15/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"factor","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"dropdown","source":["a","b","c","d","e","f","g","h","i","j"],"allowInvalid":false,"renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[],"hsep1":{"name":"---------"},"hsep2":{"name":"---------"},"col_left":[],"col_right":[],"remove_col":[],"hsep20":{"name":"---------"},"search":{"name":"Search","callback":"function (key, options) {\n                         var srch = prompt('Search criteria');\n\n                         this.search.query(srch);\n                         this.render();\n                       }"}}},"search":true},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","contextMenu.items.search.callback"],"jsHooks":[]}</script>
<p>Future enhancements will look to expand export options.</p>
</div>
</div>
</div>
<div id="numeric-formatting" class="section level2">
<h2>Numeric Formatting</h2>
<p>Numeric columns are formatted using the <a href="http://numeraljs.com/">numeral.js</a> library.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">int =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">float =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>), <span class="dt">cur =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>) *<span class="st"> </span><span class="fl">1E5</span>,
                <span class="dt">lrg =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>) *<span class="st"> </span><span class="fl">1E8</span>, <span class="dt">pct =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>))

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;float&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;0.0&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;cur&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;$0,0.00&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;lrg&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;0a&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;pct&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;0%&quot;</span>)</code></pre></div>
<div id="htmlwidget-6281" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-6281">{"x":{"data":[{"int":1,"float":1.2376,"cur":-255094.2148,"lrg":138686579.1338,"pct":-0.3147},{"int":2,"float":0.4712,"cur":247149.4935,"lrg":26060688.5984,"pct":-1.2592},{"int":3,"float":-0.2872,"cur":-4305.6973,"lrg":107028190.4695,"pct":0.5481},{"int":4,"float":-1.2636,"cur":92016.2567,"lrg":-59121833.4249,"pct":1.7099},{"int":5,"float":1.5022,"cur":251779.7934,"lrg":-57007079.7276,"pct":1.2275},{"int":6,"float":-0.3423,"cur":7314.4169,"lrg":85108914.3119,"pct":-1.0312},{"int":7,"float":-0.7625,"cur":-29551.2137,"lrg":-152298124.9774,"pct":0.9435},{"int":8,"float":-0.8652,"cur":177549.9853,"lrg":198678833.4356,"pct":0.9705},{"int":9,"float":0.44,"cur":40533.3913,"lrg":80404782.7561,"pct":-0.9236},{"int":10,"float":-0.1629,"cur":-33374.7132,"lrg":7216849.3452,"pct":-0.4186}],"rClass":"data.frame","rColClasses":{"int":"integer","float":"numeric","cur":"numeric","lrg":"numeric","pct":"numeric"},"rColnames":["int","float","cur","lrg","pct"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["int","float","cur","lrg","pct"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.0","renderer":"customRenderer","default":null},{"type":"numeric","format":"$0,0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0a","renderer":"customRenderer","default":null},{"type":"numeric","format":"0%","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
<div id="specify-locale" class="section level3">
<h3>Specify Locale</h3>
<p>The <code>language</code> parameter for <code>hot_col</code> can be used to change the locale. See the <a href="http://numeraljs.com/">numeral.js</a> library for language options.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">dollar =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>), <span class="dt">euro =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>), <span class="dt">yen =</span> <span class="kw">rnorm</span>(<span class="dv">10</span>))

<span class="kw">rhandsontable</span>(DF *<span class="st"> </span><span class="dv">1000</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;dollar&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;$0,000.00&quot;</span>, <span class="dt">language =</span> <span class="st">&quot;en&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;euro&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;0,000.00 $&quot;</span>, <span class="dt">language =</span> <span class="st">&quot;de&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;yen&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;$0,000.00&quot;</span>, <span class="dt">language =</span> <span class="st">&quot;ja&quot;</span>)</code></pre></div>
<div id="htmlwidget-1214" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-1214">{"x":{"data":[{"dollar":-173.15,"euro":-61.9824,"yen":464.7347},{"dollar":-508.7418,"euro":315.5382,"yen":-953.9411},{"dollar":1732.2927,"euro":-329.4948,"yen":-38.3546},{"dollar":286.0145,"euro":188.8834,"yen":-1621.5006},{"dollar":-665.6347,"euro":-1334.8466,"yen":1117.6462},{"dollar":1337.8491,"euro":963.4466,"yen":-918.7625},{"dollar":483.3714,"euro":44.7763,"yen":-74.9627},{"dollar":1643.6366,"euro":-1712.0803,"yen":1965.2657},{"dollar":-1429.823,"euro":1209.5309,"yen":-1578.0596},{"dollar":-1694.3282,"euro":1620.7609,"yen":73.2549}],"rClass":"data.frame","rColClasses":{"dollar":"numeric","euro":"numeric","yen":"numeric"},"rColnames":["dollar","euro","yen"],"rDataDim":[10,3],"selectCallback":false,"colHeaders":["dollar","euro","yen"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"$0,000.00","renderer":"customRenderer","default":null,"language":"en"},{"type":"numeric","format":"0,000.00 $","renderer":"customRenderer","default":null,"language":"de"},{"type":"numeric","format":"$0,000.00","renderer":"customRenderer","default":null,"language":"ja"}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer"],"jsHooks":[]}</script>
</div>
</div>
<div id="read-only" class="section level2">
<h2>Read Only</h2>
<p>The whole table and individual columns can to set to <code>readOnly</code> to prevent the user from making changes.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">readOnly =</span> <span class="ot">TRUE</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;val&quot;</span>, <span class="dt">readOnly =</span> <span class="ot">FALSE</span>)</code></pre></div>
<div id="htmlwidget-3169" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-3169">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"07/06/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"07/07/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"07/08/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"07/09/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"07/10/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"07/11/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"07/12/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/13/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/14/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/15/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","readOnly":false,"renderer":"customRenderer","default":null},{"type":"checkbox","readOnly":true,"renderer":"customRenderer","default":null},{"type":"text","readOnly":true,"renderer":"customRenderer","default":null},{"type":"text","readOnly":true,"renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","readOnly":true,"renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
</div>
<div id="sorting" class="section level2">
<h2>Sorting</h2>
<p>Column sorting can be enabled; sorting only impacts the widget and will not reorder the original data set.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">columnSorting =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-9022" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-9022">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"07/06/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"07/07/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"07/08/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"07/09/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"07/10/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"07/11/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"07/12/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/13/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/14/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/15/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"columnSorting":true},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
</div>
<div id="highlight-rows-columns" class="section level2">
<h2>Highlight Rows &amp; Columns</h2>
<p>With larger tables it my be desirable to highlight the row and column for a selected cell.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="co"># click on a cell to see the highlighting</span>
<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_table</span>(<span class="dt">highlightCol =</span> <span class="ot">TRUE</span>, <span class="dt">highlightRow =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div id="htmlwidget-9389" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-9389">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"07/06/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"07/07/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"07/08/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"07/09/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"07/10/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"07/11/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"07/12/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/13/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/14/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/15/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"ishighlight":true,"currentRowClassName":"currentRow","currentColClassName":"currentCol"},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
</div>
<div id="sizing" class="section level2">
<h2>Sizing</h2>
<p>Column and row dimensions can be customized. For larger data sets, (multiple) top rows and left columns can be frozen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">600</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">colWidths =</span> <span class="dv">100</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_rows</span>(<span class="dt">rowHeights =</span> <span class="dv">50</span>)</code></pre></div>
<div id="htmlwidget-969" style="width:600px;height:600px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-969">{"x":{"data":[[0.3127,-0.4384,-0.9118,0.6619,-0.987],[1.2959,-1.4613,0.3052,2.1726,-1.6996],[-0.3565,0.4677,-0.2471,1.5879,-0.1766],[-0.7345,-0.5551,-0.7188,-0.1439,0.4364],[0.0515,0.8805,0.0611,-0.4778,-1.2622],[0.674,1.356,-1.3148,0.5692,0.1924],[-1.0841,-0.9636,0.3042,-0.874,0.0642],[0.7526,1.2889,0.2101,0.7557,-0.9176],[0.4983,1.6458,-0.1259,0.7721,-1.3306],[-1.6075,0.8179,1.624,-1.7431,-1.2795]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":600,"height":600,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"colWidths":100,"rowHeights":50},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
<div id="row-header-width" class="section level3">
<h3>Row Header Width</h3>
<p>The width of the row header column can be customized using <code>rowHeaderWidth</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(mtcars, <span class="dt">rowHeaderWidth =</span> <span class="dv">200</span>)</code></pre></div>
<div id="htmlwidget-5264" style="width:576px;height:576px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-5264">{"x":{"data":[{"mpg":21,"cyl":6,"disp":160,"hp":110,"drat":3.9,"wt":2.62,"qsec":16.46,"vs":0,"am":1,"gear":4,"carb":4},{"mpg":21,"cyl":6,"disp":160,"hp":110,"drat":3.9,"wt":2.875,"qsec":17.02,"vs":0,"am":1,"gear":4,"carb":4},{"mpg":22.8,"cyl":4,"disp":108,"hp":93,"drat":3.85,"wt":2.32,"qsec":18.61,"vs":1,"am":1,"gear":4,"carb":1},{"mpg":21.4,"cyl":6,"disp":258,"hp":110,"drat":3.08,"wt":3.215,"qsec":19.44,"vs":1,"am":0,"gear":3,"carb":1},{"mpg":18.7,"cyl":8,"disp":360,"hp":175,"drat":3.15,"wt":3.44,"qsec":17.02,"vs":0,"am":0,"gear":3,"carb":2},{"mpg":18.1,"cyl":6,"disp":225,"hp":105,"drat":2.76,"wt":3.46,"qsec":20.22,"vs":1,"am":0,"gear":3,"carb":1},{"mpg":14.3,"cyl":8,"disp":360,"hp":245,"drat":3.21,"wt":3.57,"qsec":15.84,"vs":0,"am":0,"gear":3,"carb":4},{"mpg":24.4,"cyl":4,"disp":146.7,"hp":62,"drat":3.69,"wt":3.19,"qsec":20,"vs":1,"am":0,"gear":4,"carb":2},{"mpg":22.8,"cyl":4,"disp":140.8,"hp":95,"drat":3.92,"wt":3.15,"qsec":22.9,"vs":1,"am":0,"gear":4,"carb":2},{"mpg":19.2,"cyl":6,"disp":167.6,"hp":123,"drat":3.92,"wt":3.44,"qsec":18.3,"vs":1,"am":0,"gear":4,"carb":4},{"mpg":17.8,"cyl":6,"disp":167.6,"hp":123,"drat":3.92,"wt":3.44,"qsec":18.9,"vs":1,"am":0,"gear":4,"carb":4},{"mpg":16.4,"cyl":8,"disp":275.8,"hp":180,"drat":3.07,"wt":4.07,"qsec":17.4,"vs":0,"am":0,"gear":3,"carb":3},{"mpg":17.3,"cyl":8,"disp":275.8,"hp":180,"drat":3.07,"wt":3.73,"qsec":17.6,"vs":0,"am":0,"gear":3,"carb":3},{"mpg":15.2,"cyl":8,"disp":275.8,"hp":180,"drat":3.07,"wt":3.78,"qsec":18,"vs":0,"am":0,"gear":3,"carb":3},{"mpg":10.4,"cyl":8,"disp":472,"hp":205,"drat":2.93,"wt":5.25,"qsec":17.98,"vs":0,"am":0,"gear":3,"carb":4},{"mpg":10.4,"cyl":8,"disp":460,"hp":215,"drat":3,"wt":5.424,"qsec":17.82,"vs":0,"am":0,"gear":3,"carb":4},{"mpg":14.7,"cyl":8,"disp":440,"hp":230,"drat":3.23,"wt":5.345,"qsec":17.42,"vs":0,"am":0,"gear":3,"carb":4},{"mpg":32.4,"cyl":4,"disp":78.7,"hp":66,"drat":4.08,"wt":2.2,"qsec":19.47,"vs":1,"am":1,"gear":4,"carb":1},{"mpg":30.4,"cyl":4,"disp":75.7,"hp":52,"drat":4.93,"wt":1.615,"qsec":18.52,"vs":1,"am":1,"gear":4,"carb":2},{"mpg":33.9,"cyl":4,"disp":71.1,"hp":65,"drat":4.22,"wt":1.835,"qsec":19.9,"vs":1,"am":1,"gear":4,"carb":1},{"mpg":21.5,"cyl":4,"disp":120.1,"hp":97,"drat":3.7,"wt":2.465,"qsec":20.01,"vs":1,"am":0,"gear":3,"carb":1},{"mpg":15.5,"cyl":8,"disp":318,"hp":150,"drat":2.76,"wt":3.52,"qsec":16.87,"vs":0,"am":0,"gear":3,"carb":2},{"mpg":15.2,"cyl":8,"disp":304,"hp":150,"drat":3.15,"wt":3.435,"qsec":17.3,"vs":0,"am":0,"gear":3,"carb":2},{"mpg":13.3,"cyl":8,"disp":350,"hp":245,"drat":3.73,"wt":3.84,"qsec":15.41,"vs":0,"am":0,"gear":3,"carb":4},{"mpg":19.2,"cyl":8,"disp":400,"hp":175,"drat":3.08,"wt":3.845,"qsec":17.05,"vs":0,"am":0,"gear":3,"carb":2},{"mpg":27.3,"cyl":4,"disp":79,"hp":66,"drat":4.08,"wt":1.935,"qsec":18.9,"vs":1,"am":1,"gear":4,"carb":1},{"mpg":26,"cyl":4,"disp":120.3,"hp":91,"drat":4.43,"wt":2.14,"qsec":16.7,"vs":0,"am":1,"gear":5,"carb":2},{"mpg":30.4,"cyl":4,"disp":95.1,"hp":113,"drat":3.77,"wt":1.513,"qsec":16.9,"vs":1,"am":1,"gear":5,"carb":2},{"mpg":15.8,"cyl":8,"disp":351,"hp":264,"drat":4.22,"wt":3.17,"qsec":14.5,"vs":0,"am":1,"gear":5,"carb":4},{"mpg":19.7,"cyl":6,"disp":145,"hp":175,"drat":3.62,"wt":2.77,"qsec":15.5,"vs":0,"am":1,"gear":5,"carb":6},{"mpg":15,"cyl":8,"disp":301,"hp":335,"drat":3.54,"wt":3.57,"qsec":14.6,"vs":0,"am":1,"gear":5,"carb":8},{"mpg":21.4,"cyl":4,"disp":121,"hp":109,"drat":4.11,"wt":2.78,"qsec":18.6,"vs":1,"am":1,"gear":4,"carb":2}],"rClass":"data.frame","rColClasses":{"mpg":"numeric","cyl":"numeric","disp":"numeric","hp":"numeric","drat":"numeric","wt":"numeric","qsec":"numeric","vs":"numeric","am":"numeric","gear":"numeric","carb":"numeric"},"rColnames":["mpg","cyl","disp","hp","drat","wt","qsec","vs","am","gear","carb"],"rDataDim":[32,11],"selectCallback":false,"colHeaders":["mpg","cyl","disp","hp","drat","wt","qsec","vs","am","gear","carb"],"rowHeaders":["Mazda RX4","Mazda RX4 Wag","Datsun 710","Hornet 4 Drive","Hornet Sportabout","Valiant","Duster 360","Merc 240D","Merc 230","Merc 280","Merc 280C","Merc 450SE","Merc 450SL","Merc 450SLC","Cadillac Fleetwood","Lincoln Continental","Chrysler Imperial","Fiat 128","Honda Civic","Toyota Corolla","Toyota Corona","Dodge Challenger","AMC Javelin","Camaro Z28","Pontiac Firebird","Fiat X1-9","Porsche 914-2","Lotus Europa","Ford Pantera L","Ferrari Dino","Maserati Bora","Volvo 142E"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":null,"height":null,"stretchH":"none","comments":false,"rowHeaderWidth":200,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer","columns.6.renderer","columns.7.renderer","columns.8.renderer","columns.9.renderer","columns.10.renderer"],"jsHooks":[]}</script>
</div>
<div id="streching" class="section level3">
<h3>Streching</h3>
<p>The table can be streched to the full width by using <code>stretchH</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">30</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">3</span>]))

<span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">600</span>, <span class="dt">height =</span> <span class="dv">300</span>, <span class="dt">stretchH =</span> <span class="st">&quot;all&quot;</span>)</code></pre></div>
<div id="htmlwidget-1020" style="width:600px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-1020">{"x":{"data":[[0.4683,-0.1799,-0.1192],[1.0494,0.5707,1.9065],[0.0085,-0.8129,0.7719],[1.261,-0.7881,-1.8099],[-1.4421,-1.0367,0.3619],[-0.6398,1.0637,-2.0259],[0.2992,2.5185,-0.3403],[-1.5211,1.26,0.916],[0.8645,-0.9547,-1.2376],[-2.0546,-1.8385,1.4714]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c"],"rDataDim":[10,3],"selectCallback":false,"colHeaders":["a","b","c"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":600,"height":300,"stretchH":"all","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer"],"jsHooks":[]}</script>
</div>
</div>
<div id="fixed-rows-columns" class="section level2">
<h2>Fixed Rows / Columns</h2>
<p>For larger data sets, (multiple) top rows and left columns can be frozen.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">26</span> *<span class="st"> </span><span class="dv">26</span>), <span class="dt">nrow =</span> <span class="dv">26</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS, letters))

<span class="co"># scroll through the table to see the fixed row and column</span>
<span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">fixedColumnsLeft =</span> <span class="dv">1</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_rows</span>(<span class="dt">fixedRowsTop =</span> <span class="dv">1</span>)</code></pre></div>
<div id="htmlwidget-8584" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-8584">{"x":{"data":[[-0.413,1.592,-1.6252,-0.1482,1.296,0.138,0.5661,0.9269,-0.4734,-1.4179,0.2081,-0.0345,1.048,1.62,-0.9989,-0.8404,0.1585,-0.3827,-0.473,-0.8124,-0.3575,-0.8812,0.1742,-1.3238,-1.1585,0.6723],[-0.3737,-0.7377,0.588,-0.497,-0.0134,-1.3848,-0.0789,0.7358,0.048,0.0829,1.5548,-1.5533,-0.4454,0.0976,-0.7428,0.0107,0.8648,0.6656,-0.4483,-0.4848,0.2703,-0.3112,-0.4731,-0.3745,-1.8418,-0.0551],[0.3304,-0.3239,0.0108,0.641,-0.2512,1.3945,-1.4788,-0.4994,0.9192,0.2335,0.7254,0.6035,-0.434,-0.9145,0.3192,-0.1659,0.7081,0.4777,-2.0245,-0.1628,0.9874,0.7097,1.5056,-1.4869,1.161,-0.0503],[0.0367,-0.294,0.9092,0.2799,-0.4962,-1.1544,0.8139,1.6272,-1.09,-0.327,1.0786,-0.875,-0.734,-0.6016,0.1674,0.1626,0.4011,-0.4791,0.5978,-0.2316,-0.0511,1.3022,-0.8768,0.228,-0.8599,-0.5405],[0.2495,-0.5759,0.2028,1.8288,-2.458,-1.6933,-0.1061,2.5499,0.3591,-0.4456,-0.9284,0.8007,1.7202,-1.146,0.2852,1.7292,0.6421,-2.0695,-0.4134,-2.3871,0.9035,-0.0072,-0.8743,-0.6847,-0.0568,-0.6223],[-0.9372,1.2355,-0.6357,-0.0164,0.568,-1.2896,0.5246,2.087,-0.142,1.4435,0.0313,-0.7104,-0.9148,-1.3077,-0.2238,0.4936,-0.0694,1.1053,-1.7506,-0.894,-0.124,-1.4678,1.5588,-0.6288,-0.8519,1.262],[0.0927,0.4776,0.703,-0.0789,0.0181,0.9661,0.6088,-0.771,0.0467,0.2112,0.173,0.2236,0.164,0.1383,0.2205,-0.8139,0.5469,0.4209,1.1068,-0.7397,0.1146,-0.0939,0.9311,-0.4826,0.3148,-0.5702],[-1.0113,0.89,-0.5107,-1.0359,1.3771,0.1324,-0.7014,0.056,0.8483,-0.9359,1.3609,1.488,-1.0643,-1.0427,-0.8174,-0.0199,0.7731,-0.4084,1.1729,1.3369,1.689,-0.039,1.3274,1.0984,-1.0364,-0.2459],[-1.7593,-0.242,1.5186,-0.2534,-1.3211,0.8608,-0.007,-0.9066,1.3652,-0.6682,-1.1761,0.1994,-0.8562,0.2044,1.1791,-0.261,0.6473,1.0391,-0.8724,-0.7416,0.2395,-1.3514,-0.6476,-0.3024,-0.0677,-0.795],[1.396,0.3835,-1.7062,-0.2479,0.1758,-0.9599,0.8416,1.5338,-0.339,1.4762,0.0281,1.2302,-1.3187,0.4182,-0.5776,-0.5817,0.9541,0.5889,-0.2764,-0.5311,0.9003,0.3068,-0.2418,-0.1357,1.0563,-0.4466],[0.4736,0.5182,0.1996,0.004,0.194,-0.9075,-0.1795,-1.7173,0.1631,0.3495,2.2903,2.9976,-0.5975,-0.0553,0.4827,-1.671,-0.799,-1.8666,0.4322,0.2333,2.256,0.6263,-0.9698,-0.3324,0.6824,0.9498],[0.6709,0.5132,-0.6228,0.7485,0.1224,0.1033,-0.499,0.4391,-1.8668,0.8345,-1.3067,1.2084,0.4218,1.4448,1.5895,-0.3457,1.4798,0.685,-0.1043,-0.6338,-1.1019,0.7962,-1.1324,1.8024,0.3261,-2.0768],[-0.0207,0.431,-0.1316,0.8875,-0.0185,-0.0078,-1.8379,1.3274,0.0663,-0.3249,-0.9588,-2.1973,0.6505,-0.1368,0.6674,-1.3139,-1.0076,0.2481,-0.4572,0.5794,-0.0901,0.568,1.1504,-0.3123,-0.1385,0.2076],[0.664,-1.2423,0.6221,1.4832,0.4137,-0.8398,-1.0024,0.9996,-0.8617,-0.8086,-1.0222,-0.7455,-0.5557,0.27,-0.1809,1.2501,0.5273,0.8988,0.4508,1.0459,0.6265,-0.4552,-2.2587,-2.3277,1.0218,0.5428],[-1.2477,2.0256,-0.8135,-1.3474,-0.5566,-1.2076,0.4186,-0.1382,2.0957,-0.0007,-1.643,0.9144,0.1972,1.5172,0.0723,0.431,1.6305,0.9115,0.3242,0.4466,-0.6059,0.3903,-0.4399,-0.8538,0.1493,1.1292],[-0.5043,0.2837,0.9572,-0.0366,-0.6347,-0.9895,-0.2222,-0.7124,0.7162,0.0179,-0.0651,0.4354,-0.8842,-0.4179,0.4533,-0.2679,-0.1546,1.0438,-0.0473,0.7083,-0.9435,-0.2504,-0.7413,0.7966,0.8421,-1.4461],[-0.4102,0.4114,-1.6031,0.1425,0.0793,0.5798,-1.2545,-1.1323,0.2444,2.6214,0.7956,-1.2182,0.0565,0.9028,1.3522,0.3423,-0.4843,0.4473,-1.3096,-0.5983,2.5023,-0.4955,0.0063,-0.6062,-0.8435,-0.8563],[0.5384,-1.0992,-0.6149,0.1609,-0.6504,1.8068,-0.395,-1.3088,1.1829,0.6794,-1.6673,1.0094,-0.335,1.282,0.1676,-0.7174,0.9037,-0.7972,0.9489,1.436,1.3976,-1.001,-0.1698,0.977,1.1882,-0.3955],[-1.3475,-0.4283,0.6893,0.1317,1.4097,-0.0926,-0.4966,1.6512,-0.8946,-1.3962,1.0716,-0.9476,0.8425,0.4063,-0.0495,-0.4127,0.7221,0.7959,0.7164,0.5798,-1.5203,-1.9728,0.5222,0.8425,-0.2562,3.0058],[-0.6535,-1.1744,-0.6266,-0.8545,-0.5156,1.7249,-1.2307,0.7018,0.3423,-1.1393,-1.6093,-0.9494,0.6532,-0.5768,-0.4404,-0.2143,0.3604,-1.505,-1.2705,-0.7693,1.5305,0.2352,-0.8034,-0.3302,-0.2873,0.067],[0.3297,-0.0177,0.9878,-0.1457,0.5182,0.0141,-0.8159,1.869,-0.5463,-0.4761,-0.9282,1.0622,0.6851,1.6826,1.9255,0.3202,-0.3189,1.5893,1.0467,0.4634,-0.3859,0.9006,-0.3041,0.4469,-1.4764,1.7701],[0.8123,1.7474,0.2615,0.4621,-0.3563,0.5141,-1.13,-0.5322,0.433,-1.1109,-1.4703,-0.5557,-0.9494,0.3364,0.5072,-0.3594,-0.047,1.1913,-2.0826,2.6196,0.6702,0.857,-1.5856,-0.6632,1.0239,-0.0972],[-0.8898,-0.0087,-0.829,0.0724,0.3592,0.4097,0.1882,1.0176,-0.1598,1.6065,-0.4933,0.6299,0.0236,-1.0016,0.2977,1.0769,-0.7863,0.0801,1.0296,0.8211,-0.1089,0.5672,0.9252,2.1639,1.1064,1.2101],[0.392,0.5812,-0.1875,-0.2608,1.433,0.3655,-2.4471,-0.3077,0.9364,0.2596,0.4508,0.1405,0.0369,-0.1572,-1.2196,0.309,-0.0899,-0.4104,0.2009,1.45,0.2797,-0.878,0.0085,0.1664,-1.3633,0.6199],[0.3637,0.8035,0.4513,-0.2639,0.0837,-2.1733,-0.3174,1.3052,0.793,1.2419,1.8496,-0.7268,2.5591,-0.1874,-1.0322,1.2668,-0.4454,-0.5043,0.9544,0.3618,1.5138,-0.6088,-1.3918,1.5756,-0.6364,-0.2153],[1.4819,-0.2958,-0.0654,0.2345,-0.3338,-0.9216,-0.7236,-0.1783,-1.2795,-0.0063,-0.1659,-0.7946,1.181,-1.472,2.1055,-0.3995,0.2355,1.0063,0.6028,0.93,0.0362,-0.6203,2.5604,0.0813,-1.0361,0.6603]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],"rDataDim":[26,26],"selectCallback":false,"colHeaders":["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"fixedColumnsLeft":1,"fixedRowsTop":1},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer","columns.6.renderer","columns.7.renderer","columns.8.renderer","columns.9.renderer","columns.10.renderer","columns.11.renderer","columns.12.renderer","columns.13.renderer","columns.14.renderer","columns.15.renderer","columns.16.renderer","columns.17.renderer","columns.18.renderer","columns.19.renderer","columns.20.renderer","columns.21.renderer","columns.22.renderer","columns.23.renderer","columns.24.renderer","columns.25.renderer"],"jsHooks":[]}</script>
</div>
<div id="cell-comments" class="section level2">
<h2>Cell Comments</h2>
<p>Comments (hover) can also be added to individual cells and will appear as red flags in the upper right of the cell.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cell</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="st">&quot;Test comment&quot;</span>)</code></pre></div>
<div id="htmlwidget-5681" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-5681">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"07/06/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"07/07/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"07/08/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"07/09/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"07/10/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"07/11/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"07/12/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/13/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/14/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/15/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":true,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[],"hsep1":{"name":"---------"},"hsep6":{"name":"---------"},"commentsAddEdit":[],"commentsRemove":[]}},"cell":[{"row":0,"col":0,"comment":"Test comment"}]},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
<p>Additionally, comments can be added via <code>data.frame</code> or <code>matrix</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT_comments =<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">ncol =</span> <span class="kw">ncol</span>(DF), <span class="dt">nrow =</span> <span class="kw">nrow</span>(DF))
MAT_comments[<span class="dv">1</span>, <span class="dv">1</span>] =<span class="st"> &quot;Test comment&quot;</span>
MAT_comments[<span class="dv">2</span>, <span class="dv">2</span>] =<span class="st"> &quot;Another test comment&quot;</span>

<span class="kw">rhandsontable</span>(DF, <span class="dt">comments =</span> MAT_comments, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>)</code></pre></div>
<div id="htmlwidget-4136" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-4136">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"07/06/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"07/07/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"07/08/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"07/09/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"07/10/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"07/11/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"07/12/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/13/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/14/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/15/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":true,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[],"hsep6":{"name":"---------"},"commentsAddEdit":[],"commentsRemove":[]}},"cell":[{"row":0,"col":0,"comment":"Test comment"},{"row":1,"col":1,"comment":"Another test comment"}]},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
<p>Finally, comments can also be added via the right-click context menu, but these updates will not currently be retained by shiny.</p>
</div>
<div id="borders" class="section level2">
<h2>Borders</h2>
<p>Custom borders can be drawn around cells to highlight specific items. Borders can also be added via the right-click context menu, but these updates will not currently be retained by shiny.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_table</span>(<span class="dt">customBorders =</span> <span class="kw">list</span>(<span class="kw">list</span>(
    <span class="dt">range =</span> <span class="kw">list</span>(<span class="dt">from =</span> <span class="kw">list</span>(<span class="dt">row =</span> <span class="dv">1</span>, <span class="dt">col =</span> <span class="dv">1</span>),
                 <span class="dt">to =</span> <span class="kw">list</span>(<span class="dt">row =</span> <span class="dv">2</span>, <span class="dt">col =</span> <span class="dv">2</span>)),
    <span class="dt">top =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>),
    <span class="dt">left =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>),
    <span class="dt">bottom =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>),
    <span class="dt">right =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>))))</code></pre></div>
<div id="htmlwidget-5721" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-5721">{"x":{"data":[[-1.5846,1.9471,0.174,-1.1131,-0.5971],[1.9369,0.0437,0.2195,0.6715,0.5507],[-1.9022,-0.8957,-2.4044,1.267,1.2945],[-0.4222,-0.5387,0.9027,0.7233,0.2888],[-1.4941,-0.9729,0.2005,-0.5761,-1.2226],[0.339,-0.4569,1.3911,0.869,-1.786],[-0.6618,0.7072,0.689,-0.6192,-0.2943],[-0.8545,-1.1496,0.6036,-0.809,-0.2673],[0.1007,1.1967,0.0007,0.2247,0.1857],[-0.4115,-0.602,-0.6783,0.2387,0.4419]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[],"hsep1":{"name":"---------"},"hsep7":{"name":"---------"},"borders":[]}},"customBorders":[{"range":{"from":{"row":1,"col":1},"to":{"row":2,"col":2}},"top":{"width":2,"color":"red"},"left":{"width":2,"color":"red"},"bottom":{"width":2,"color":"red"},"right":{"width":2,"color":"red"}}]},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
</div>
<div id="validation" class="section level2">
<h2>Validation</h2>
<div id="numeric-columns" class="section level3">
<h3>Numeric Columns</h3>
<p>Pre-defined validation can be added for numeric columns in two ways:</p>
<ul>
<li>specify a min and max and any values within the range to exclude</li>
<li>similar to a <code>dropdown</code> column, specify allowed values</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="kw">rhandsontable</span>(MAT *<span class="st"> </span><span class="dv">10</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_validate_numeric</span>(<span class="dt">col =</span> <span class="dv">1</span>, <span class="dt">min =</span> -<span class="dv">50</span>, <span class="dt">max =</span> <span class="dv">50</span>, <span class="dt">exclude =</span> <span class="dv">40</span>)</code></pre></div>
<div id="htmlwidget-6457" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-6457">{"x":{"data":[[-11.6034,-9.9557,6.8965,-8.2239,8.6903],[5.5088,-2.8909,-0.6178,4.0342,-0.1918],[-15.1761,-10.1987,-6.5007,-2.0035,-13.3916],[-9.3332,12.178,-5.4613,-10.4195,2.2453],[12.4047,-2.2716,17.2062,1.5172,-2.0251],[-0.3042,-2.149,5.8702,-2.3812,6.8449],[3.1059,8.1041,-11.1401,-9.9233,7.6072],[-5.8666,2.8681,18.4595,6.6306,-16.1987],[12.5559,1.4561,1.6525,1.8362,-0.9898],[3.9523,-12.5538,3.8896,-4.9803,-10.2436]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"function (value, callback) {\n         setTimeout(function(){\n           if (isNaN(parseFloat(value))) {\n             callback(false);\n           }\n           if (['40'].indexOf(value) > -1) { return callback(false); }\n           if (value < -50) { return callback(false); }\n           if (value > 50) { return callback(false); }\n           \n           return callback(true);\n         }, 500)\n       }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.0.validator","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(MAT *<span class="st"> </span><span class="dv">10</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_validate_numeric</span>(<span class="dt">col =</span> <span class="dv">1</span>, <span class="dt">choices =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">40</span>))</code></pre></div>
<div id="htmlwidget-1194" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-1194">{"x":{"data":[[-11.6034,-9.9557,6.8965,-8.2239,8.6903],[5.5088,-2.8909,-0.6178,4.0342,-0.1918],[-15.1761,-10.1987,-6.5007,-2.0035,-13.3916],[-9.3332,12.178,-5.4613,-10.4195,2.2453],[12.4047,-2.2716,17.2062,1.5172,-2.0251],[-0.3042,-2.149,5.8702,-2.3812,6.8449],[3.1059,8.1041,-11.1401,-9.9233,7.6072],[-5.8666,2.8681,18.4595,6.6306,-16.1987],[12.5559,1.4561,1.6525,1.8362,-0.9898],[3.9523,-12.5538,3.8896,-4.9803,-10.2436]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"function (value, callback) {\n         setTimeout(function(){\n           if (isNaN(parseFloat(value))) {\n             callback(false);\n           }\n           \n           \n           \n           if (['10','20','40'].indexOf(value) == -1) { return callback(false); }\n           return callback(true);\n         }, 500)\n       }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.0.validator","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
</div>
<div id="character-columns" class="section level3">
<h3>Character Columns</h3>
<p>For character columns, a vector of allowed options can be specified. A more user-friendly approach may be to use a <code>dropdown</code> column with <code>strict = TRUE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_validate_character</span>(<span class="dt">col =</span> <span class="st">&quot;big&quot;</span>, <span class="dt">choices =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>])</code></pre></div>
<div id="htmlwidget-7824" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-7824">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"07/06/2016"},{"val":2,"bool":true,"big":"B","small":"b","dt":"07/07/2016"},{"val":3,"bool":true,"big":"C","small":"c","dt":"07/08/2016"},{"val":4,"bool":true,"big":"D","small":"d","dt":"07/09/2016"},{"val":5,"bool":true,"big":"E","small":"e","dt":"07/10/2016"},{"val":6,"bool":true,"big":"F","small":"f","dt":"07/11/2016"},{"val":7,"bool":true,"big":"G","small":"g","dt":"07/12/2016"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/13/2016"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/14/2016"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/15/2016"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"rColnames":["val","bool","big","small","dt"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"numeric","format":"0","renderer":"customRenderer","default":null},{"type":"checkbox","renderer":"customRenderer","default":null},{"type":"text","renderer":"customRenderer","default":null,"validator":"function (value, callback) {\n         setTimeout(function() {\n           if (typeof(value) != 'string') {\n             return callback(false);\n           }\n           if (['A','B','C','D','E','F','G','H','I','J'].indexOf(value) > -1) { return callback(true); }\n           return callback(false);\n         }, 500)\n       }","allowInvalid":false},{"type":"text","renderer":"customRenderer","default":null},{"type":"date","correctFormat":true,"dateFormat":"MM/DD/YYYY","renderer":"customRenderer","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.2.validator","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
</div>
<div id="custom" class="section level3">
<h3>Custom</h3>
<p>It is also possible to create a custom validation function in JavaScript.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="co"># try to update any cell to 0</span>
<span class="kw">rhandsontable</span>(MAT *<span class="st"> </span><span class="dv">10</span>, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">validator =</span> <span class="st">&quot;</span>
<span class="st">           function (value, callback) {</span>
<span class="st">            setTimeout(function(){</span>
<span class="st">              callback(value != 0);</span>
<span class="st">            }, 1000)</span>
<span class="st">           }&quot;</span>,
           <span class="dt">allowInvalid =</span> <span class="ot">FALSE</span>)</code></pre></div>
<div id="htmlwidget-2288" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-2288">{"x":{"data":[[11.1999,4.443,-2.8819,-2.4486,0.608],[1.7124,-19.5786,-11.1137,-9.2114,8.5217],[12.5304,3.8156,-6.857,1.2135,5.4986],[20.5088,-12.1242,-8.3929,-4.4266,0.5114],[-5.0603,18.1304,6.574,-16.4175,-12.5762],[4.8379,10.4873,-5.6767,-0.6264,2.5292],[-2.6531,7.6565,15.2455,13.9644,8.2085],[5.6898,-5.0056,-1.5394,3.6112,1.0572],[0.575,-5.9893,-1.8914,-10.2588,0.452],[17.2533,0.1568,-3.0939,-9.297,-8.7749]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"\n           function (value, callback) {\n            setTimeout(function(){\n              callback(value != 0);\n            }, 1000)\n           }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"\n           function (value, callback) {\n            setTimeout(function(){\n              callback(value != 0);\n            }, 1000)\n           }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"\n           function (value, callback) {\n            setTimeout(function(){\n              callback(value != 0);\n            }, 1000)\n           }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"\n           function (value, callback) {\n            setTimeout(function(){\n              callback(value != 0);\n            }, 1000)\n           }","allowInvalid":false},{"type":"numeric","format":"0.00","renderer":"customRenderer","default":null,"validator":"\n           function (value, callback) {\n            setTimeout(function(){\n              callback(value != 0);\n            }, 1000)\n           }","allowInvalid":false}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.0.validator","columns.1.renderer","columns.1.validator","columns.2.renderer","columns.2.validator","columns.3.renderer","columns.3.validator","columns.4.renderer","columns.4.validator"],"jsHooks":[]}</script>
</div>
</div>
<div id="conditional-formatting" class="section level2">
<h2>Conditional Formatting</h2>
<p>Conditional formatting can also be specified via custom JavaScript function. Future enhancements will look to simplify this interface.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">runif</span>(<span class="dv">100</span>, -<span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">nrow =</span> <span class="dv">10</span>,
             <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>], LETTERS[<span class="dv">1</span>:<span class="dv">10</span>]))
<span class="kw">diag</span>(MAT) =<span class="st"> </span><span class="dv">1</span>
MAT[<span class="kw">upper.tri</span>(MAT)] =<span class="st"> </span>MAT[<span class="kw">lower.tri</span>(MAT)]
<span class="kw">rhandsontable</span>(MAT, <span class="dt">readOnly =</span> <span class="ot">TRUE</span>, <span class="dt">width =</span> <span class="dv">750</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">renderer =</span> <span class="st">&quot;</span>
<span class="st">           function (instance, td, row, col, prop, value, cellProperties) {</span>
<span class="st">             Handsontable.renderers.TextRenderer.apply(this, arguments);</span>
<span class="st">             if (row == col) {</span>
<span class="st">              td.style.background = 'lightgrey';</span>
<span class="st">             } else if (col &gt; row) {</span>
<span class="st">              td.style.background = 'grey';</span>
<span class="st">              td.style.color = 'grey';</span>
<span class="st">             } else if (value &lt; -0.75) {</span>
<span class="st">              td.style.background = 'pink';</span>
<span class="st">             } else if (value &gt; 0.75) {</span>
<span class="st">              td.style.background = 'lightgreen';</span>
<span class="st">             }</span>
<span class="st">           }&quot;</span>)</code></pre></div>
<div id="htmlwidget-6571" style="width:750px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-6571">{"x":{"data":[[1,-0.8731,-0.2917,0.8914,0.309,0.2619,-0.9024,0.0656,-0.0675,-0.0933],[-0.8731,1,-0.4241,-0.8365,0.5804,-0.9701,-0.3084,-0.8748,-0.3404,0.0131],[-0.2917,0.8346,1,-0.2083,-0.276,-0.3966,0.5595,0.5967,0.1358,-0.1415],[-0.4241,0.2619,0.5595,1,0.8346,0.8349,0.9769,0.9152,-0.9158,0.0819],[0.8914,-0.9701,0.9769,0.9152,1,0.9181,0.2058,-0.1094,0.1307,-0.4768],[-0.8365,-0.3966,0.2058,-0.1094,0.1358,1,-0.8306,0.8596,0.7931,0.5879],[-0.2083,0.8349,-0.8306,0.8596,-0.9158,-0.8708,1,-0.7999,-0.6928,0.9313],[0.309,0.9181,0.0656,-0.7999,0.1307,-0.0933,0.0819,1,-0.8708,-0.8015],[0.5804,-0.9024,-0.8748,-0.0675,0.7931,0.0131,-0.4768,0.9313,1,0.2638],[-0.276,-0.3084,0.5967,-0.3404,-0.6928,-0.1415,0.5879,-0.8015,0.2638,1]],"rClass":"matrix","rColClasses":"numeric","rColnames":["A","B","C","D","E","F","G","H","I","J"],"rDataDim":[10,10],"selectCallback":false,"colHeaders":["A","B","C","D","E","F","G","H","I","J"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null},{"type":"numeric","format":"0.00","readOnly":true,"renderer":"\n           function (instance, td, row, col, prop, value, cellProperties) {\n             Handsontable.renderers.TextRenderer.apply(this, arguments);\n             if (row == col) {\n              td.style.background = 'lightgrey';\n             } else if (col > row) {\n              td.style.background = 'grey';\n              td.style.color = 'grey';\n             } else if (value < -0.75) {\n              td.style.background = 'pink';\n             } else if (value > 0.75) {\n              td.style.background = 'lightgreen';\n             }\n           }","default":null}],"width":750,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}}},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer","columns.6.renderer","columns.7.renderer","columns.8.renderer","columns.9.renderer"],"jsHooks":[]}</script>
</div>
<div id="heatmap" class="section level2">
<h2>Heatmap</h2>
<p>The <a href="http://old.driven-by-data.net/about/chromajs/">chroma.js</a> library can be used to turn the table into a heatmap.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">550</span>, <span class="dt">height =</span> <span class="dv">300</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_heatmap</span>()</code></pre></div>
<div id="htmlwidget-4716" style="width:550px;height:300px;" class="rhandsontable html-widget"></div>
<script type="application/json" data-for="htmlwidget-4716">{"x":{"data":[[0.2127,-1.4773,-0.6602,0.1312,0.2827],[0.2049,0.8074,-0.4992,0.5138,-1.3907],[-0.674,0.3762,-0.514,-0.4384,0.1126],[-0.5329,0.1957,0.3336,0.4977,-1.2007],[1.3899,1.2373,-0.0308,-0.5352,0.926],[0.3167,-1.7422,-0.2576,-1.0563,-1.6398],[0.6862,-0.1386,-0.8461,0.806,-0.9233],[-1.5278,-0.253,1.3936,0.309,-1.0005],[1.4245,-1.4637,-0.5572,1.1045,-0.3486],[0.2454,0.1518,0.3414,0.9209,2.2894]],"rClass":"matrix","rColClasses":"numeric","rColnames":["a","b","c","d","e"],"rDataDim":[10,5],"selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"numeric","format":"0.00","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      ","default":null},{"type":"numeric","format":"0.00","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      ","default":null},{"type":"numeric","format":"0.00","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      ","default":null},{"type":"numeric","format":"0.00","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      ","default":null},{"type":"numeric","format":"0.00","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      ","default":null}],"width":550,"height":300,"stretchH":"none","comments":false,"contextMenu":{"items":{"row_above":[],"row_below":[],"remove_row":[],"hsep3":{"name":"---------"},"undo":[],"redo":[],"hsep4":{"name":"---------"},"alignment":[]}},"isHeatmap":true},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"],"jsHooks":[]}</script>
</div>
<div id="shiny" class="section level2">
<h2>Shiny</h2>
<p>The data grid will be editable by default and can be used as input to a <code>shiny</code> app. A few <code>shiny</code> and <code>shinydashboard</code> example links are listed below. Note that the shinyapps.io links may not work if the has hit the monthly usage limit.</p>
<p>When using <code>rhandsontable</code> and an input, these apps generally use the <code>hot_to_r</code> function to convert data to an R data.frame and <code>shiny::reactiveValues</code> to store a cached version of the data (see the <em>Data file editor</em> example below). The <code>rhandsontable</code> function also includes the <code>selectCallback</code> parameter, which will fire a callback event when a table cell is selected (see the <em>Table callback linked to chart</em> example below).</p>
<ul>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_output">Output only</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir = &quot;inst/examples/rhandsontable_output&quot;)</code></pre></li>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_datafile">Date file editor</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir = &quot;inst/examples/rhandsontable_datafile&quot;)</code></pre></li>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_portfolio">Calculation input</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir = &quot;inst/examples/rhandsontable_portfolio&quot;)</code></pre></li>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_corr">Table callback linked to chart</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir = &quot;inst/examples/rhandsontable_corr&quot;)</code></pre></li>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_frontier">Multiple input tables</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir = &quot;inst/examples/rhandsontable_frontier&quot;)</code></pre></li>
<li><p><a href="https://jrowen.shinyapps.io/rhandsontable_dash">A shinydashboard app</a></p>
<pre><code>shiny::runGitHub(&quot;rhandsontable&quot;, &quot;jrowen&quot;, 
             subdir=&quot;inst/examples/rhandsontable_dash&quot;)</code></pre></li>
</ul>
</div>
<div id="suggestions-contributions" class="section level2">
<h2>Suggestions &amp; Contributions</h2>
<p>Please file a issue if you experience any problems with the widget or have feature requests. Pull requests are also welcome.</p>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
