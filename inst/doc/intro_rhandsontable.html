<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Jonathan Owen" />

<meta name="date" content="2015-06-24" />

<title>rhandsontable Introduction</title>

<script src="data:application/x-javascript,%28function%28%29%20%7B%0A%20%20%2F%2F%20If%20window%2EHTMLWidgets%20is%20already%20defined%2C%20then%20use%20it%3B%20otherwise%20create%20a%0A%20%20%2F%2F%20new%20object%2E%20This%20allows%20preceding%20code%20to%20set%20options%20that%20affect%20the%0A%20%20%2F%2F%20initialization%20process%20%28though%20none%20currently%20exist%29%2E%0A%20%20window%2EHTMLWidgets%20%3D%20window%2EHTMLWidgets%20%7C%7C%20%7B%7D%3B%0A%0A%20%20%2F%2F%20See%20if%20we%27re%20running%20in%20a%20viewer%20pane%2E%20If%20not%2C%20we%27re%20in%20a%20web%20browser%2E%0A%20%20var%20viewerMode%20%3D%20window%2EHTMLWidgets%2EviewerMode%20%3D%0A%20%20%20%20%20%20%2F%5Cbviewer%5Fpane%3D1%5Cb%2F%2Etest%28window%2Elocation%29%3B%0A%0A%20%20%2F%2F%20See%20if%20we%27re%20running%20in%20Shiny%20mode%2E%20If%20not%2C%20it%27s%20a%20static%20document%2E%0A%20%20%2F%2F%20Note%20that%20static%20widgets%20can%20appear%20in%20both%20Shiny%20and%20static%20modes%2C%20but%0A%20%20%2F%2F%20obviously%2C%20Shiny%20widgets%20can%20only%20appear%20in%20Shiny%20apps%2Fdocuments%2E%0A%20%20var%20shinyMode%20%3D%20window%2EHTMLWidgets%2EshinyMode%20%3D%0A%20%20%20%20%20%20typeof%28window%2EShiny%29%20%21%3D%3D%20%22undefined%22%20%26%26%20%21%21window%2EShiny%2EoutputBindings%3B%0A%0A%20%20%2F%2F%20We%20can%27t%20count%20on%20jQuery%20being%20available%2C%20so%20we%20implement%20our%20own%0A%20%20%2F%2F%20version%20if%20necessary%2E%0A%20%20function%20querySelectorAll%28scope%2C%20selector%29%20%7B%0A%20%20%20%20if%20%28typeof%28jQuery%29%20%21%3D%3D%20%22undefined%22%20%26%26%20scope%20instanceof%20jQuery%29%20%7B%0A%20%20%20%20%20%20return%20scope%2Efind%28selector%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28scope%2EquerySelectorAll%29%20%7B%0A%20%20%20%20%20%20return%20scope%2EquerySelectorAll%28selector%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20asArray%28value%29%20%7B%0A%20%20%20%20if%20%28value%20%3D%3D%3D%20null%29%0A%20%20%20%20%20%20return%20%5B%5D%3B%0A%20%20%20%20if%20%28%24%2EisArray%28value%29%29%0A%20%20%20%20%20%20return%20value%3B%0A%20%20%20%20return%20%5Bvalue%5D%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Implement%20jQuery%27s%20extend%0A%20%20function%20extend%28target%20%2F%2A%2C%20%2E%2E%2E%20%2A%2F%29%20%7B%0A%20%20%20%20if%20%28arguments%2Elength%20%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20return%20target%3B%0A%20%20%20%20%7D%0A%20%20%20%20for%20%28var%20i%20%3D%201%3B%20i%20%3C%20arguments%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20var%20source%20%3D%20arguments%5Bi%5D%3B%0A%20%20%20%20%20%20for%20%28var%20prop%20in%20source%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28source%2EhasOwnProperty%28prop%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20target%5Bprop%5D%20%3D%20source%5Bprop%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20target%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20IE8%20doesn%27t%20support%20Array%2EforEach%2E%0A%20%20function%20forEach%28values%2C%20callback%2C%20thisArg%29%20%7B%0A%20%20%20%20if%20%28values%2EforEach%29%20%7B%0A%20%20%20%20%20%20values%2EforEach%28callback%2C%20thisArg%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20values%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20callback%2Ecall%28thisArg%2C%20values%5Bi%5D%2C%20i%2C%20values%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Replaces%20the%20specified%20method%20with%20the%20return%20value%20of%20funcSource%2E%0A%20%20%2F%2F%0A%20%20%2F%2F%20Note%20that%20funcSource%20should%20not%20BE%20the%20new%20method%2C%20it%20should%20be%20a%20function%0A%20%20%2F%2F%20that%20RETURNS%20the%20new%20method%2E%20funcSource%20receives%20a%20single%20argument%20that%20is%0A%20%20%2F%2F%20the%20overridden%20method%2C%20it%20can%20be%20called%20from%20the%20new%20method%2E%20The%20overridden%0A%20%20%2F%2F%20method%20can%20be%20called%20like%20a%20regular%20function%2C%20it%20has%20the%20target%20permanently%0A%20%20%2F%2F%20bound%20to%20it%20so%20%22this%22%20will%20work%20correctly%2E%0A%20%20function%20overrideMethod%28target%2C%20methodName%2C%20funcSource%29%20%7B%0A%20%20%20%20var%20superFunc%20%3D%20target%5BmethodName%5D%20%7C%7C%20function%28%29%20%7B%7D%3B%0A%20%20%20%20var%20superFuncBound%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20superFunc%2Eapply%28target%2C%20arguments%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20target%5BmethodName%5D%20%3D%20funcSource%28superFuncBound%29%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Implement%20a%20vague%20facsimilie%20of%20jQuery%27s%20data%20method%0A%20%20function%20elementData%28el%2C%20name%2C%20value%29%20%7B%0A%20%20%20%20if%20%28arguments%2Elength%20%3D%3D%202%29%20%7B%0A%20%20%20%20%20%20return%20el%5B%22htmlwidget%5Fdata%5F%22%20%2B%20name%5D%3B%0A%20%20%20%20%7D%20else%20if%20%28arguments%2Elength%20%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20el%5B%22htmlwidget%5Fdata%5F%22%20%2B%20name%5D%20%3D%20value%3B%0A%20%20%20%20%20%20return%20el%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Wrong%20number%20of%20arguments%20for%20elementData%3A%20%22%20%2B%0A%20%20%20%20%20%20%20%20arguments%2Elength%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20http%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F3446170%2Fescape%2Dstring%2Dfor%2Duse%2Din%2Djavascript%2Dregex%0A%20%20function%20escapeRegExp%28str%29%20%7B%0A%20%20%20%20return%20str%2Ereplace%28%2F%5B%5C%2D%5C%5B%5C%5D%5C%2F%5C%7B%5C%7D%5C%28%5C%29%5C%2A%5C%2B%5C%3F%5C%2E%5C%5C%5C%5E%5C%24%5C%7C%5D%2Fg%2C%20%22%5C%5C%24%26%22%29%3B%0A%20%20%7D%0A%0A%20%20function%20hasClass%28el%2C%20className%29%20%7B%0A%20%20%20%20var%20re%20%3D%20new%20RegExp%28%22%5C%5Cb%22%20%2B%20escapeRegExp%28className%29%20%2B%20%22%5C%5Cb%22%29%3B%0A%20%20%20%20return%20re%2Etest%28el%2EclassName%29%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20elements%20%2D%20array%20%28or%20array%2Dlike%20object%29%20of%20HTML%20elements%0A%20%20%2F%2F%20className%20%2D%20class%20name%20to%20test%20for%0A%20%20%2F%2F%20include%20%2D%20if%20true%2C%20only%20return%20elements%20with%20given%20className%3B%0A%20%20%2F%2F%20%20%20if%20false%2C%20only%20return%20elements%20%2Awithout%2A%20given%20className%0A%20%20function%20filterByClass%28elements%2C%20className%2C%20include%29%20%7B%0A%20%20%20%20var%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20elements%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28hasClass%28elements%5Bi%5D%2C%20className%29%20%3D%3D%20include%29%0A%20%20%20%20%20%20%20%20results%2Epush%28elements%5Bi%5D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20results%3B%0A%20%20%7D%0A%0A%20%20function%20on%28obj%2C%20eventName%2C%20func%29%20%7B%0A%20%20%20%20if%20%28obj%2EaddEventListener%29%20%7B%0A%20%20%20%20%20%20obj%2EaddEventListener%28eventName%2C%20func%2C%20false%29%3B%0A%20%20%20%20%7D%20else%20if%20%28obj%2EattachEvent%29%20%7B%0A%20%20%20%20%20%20obj%2EattachEvent%28eventName%2C%20func%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20off%28obj%2C%20eventName%2C%20func%29%20%7B%0A%20%20%20%20if%20%28obj%2EremoveEventListener%29%0A%20%20%20%20%20%20obj%2EremoveEventListener%28eventName%2C%20func%2C%20false%29%3B%0A%20%20%20%20else%20if%20%28obj%2EdetachEvent%29%20%7B%0A%20%20%20%20%20%20obj%2EdetachEvent%28eventName%2C%20func%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Translate%20array%20of%20values%20to%20top%2Fright%2Fbottom%2Fleft%2C%20as%20usual%20with%0A%20%20%2F%2F%20the%20%22padding%22%20CSS%20property%0A%20%20%2F%2F%20https%3A%2F%2Fdeveloper%2Emozilla%2Eorg%2Fen%2DUS%2Fdocs%2FWeb%2FCSS%2Fpadding%0A%20%20function%20unpackPadding%28value%29%20%7B%0A%20%20%20%20if%20%28typeof%28value%29%20%3D%3D%3D%20%22number%22%29%0A%20%20%20%20%20%20value%20%3D%20%5Bvalue%5D%3B%0A%20%20%20%20if%20%28value%2Elength%20%3D%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20return%20%7Btop%3A%20value%5B0%5D%2C%20right%3A%20value%5B0%5D%2C%20bottom%3A%20value%5B0%5D%2C%20left%3A%20value%5B0%5D%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28value%2Elength%20%3D%3D%3D%202%29%20%7B%0A%20%20%20%20%20%20return%20%7Btop%3A%20value%5B0%5D%2C%20right%3A%20value%5B1%5D%2C%20bottom%3A%20value%5B0%5D%2C%20left%3A%20value%5B1%5D%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28value%2Elength%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20return%20%7Btop%3A%20value%5B0%5D%2C%20right%3A%20value%5B1%5D%2C%20bottom%3A%20value%5B2%5D%2C%20left%3A%20value%5B1%5D%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28value%2Elength%20%3D%3D%3D%204%29%20%7B%0A%20%20%20%20%20%20return%20%7Btop%3A%20value%5B0%5D%2C%20right%3A%20value%5B1%5D%2C%20bottom%3A%20value%5B2%5D%2C%20left%3A%20value%5B3%5D%7D%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Convert%20an%20unpacked%20padding%20object%20to%20a%20CSS%20value%0A%20%20function%20paddingToCss%28paddingObj%29%20%7B%0A%20%20%20%20return%20paddingObj%2Etop%20%2B%20%22px%20%22%20%2B%20paddingObj%2Eright%20%2B%20%22px%20%22%20%2B%20paddingObj%2Ebottom%20%2B%20%22px%20%22%20%2B%20paddingObj%2Eleft%20%2B%20%22px%22%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Makes%20a%20number%20suitable%20for%20CSS%0A%20%20function%20px%28x%29%20%7B%0A%20%20%20%20if%20%28typeof%28x%29%20%3D%3D%3D%20%22number%22%29%0A%20%20%20%20%20%20return%20x%20%2B%20%22px%22%3B%0A%20%20%20%20else%0A%20%20%20%20%20%20return%20x%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Retrieves%20runtime%20widget%20sizing%20information%20for%20an%20element%2E%0A%20%20%2F%2F%20The%20return%20value%20is%20either%20null%2C%20or%20an%20object%20with%20fill%2C%20padding%2C%0A%20%20%2F%2F%20defaultWidth%2C%20defaultHeight%20fields%2E%0A%20%20function%20sizingPolicy%28el%29%20%7B%0A%20%20%20%20var%20sizingEl%20%3D%20document%2EquerySelector%28%22script%5Bdata%2Dfor%3D%27%22%20%2B%20el%2Eid%20%2B%20%22%27%5D%5Btype%3D%27application%2Fhtmlwidget%2Dsizing%27%5D%22%29%3B%0A%20%20%20%20if%20%28%21sizingEl%29%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20var%20sp%20%3D%20JSON%2Eparse%28sizingEl%2EtextContent%20%7C%7C%20sizingEl%2Etext%20%7C%7C%20%22%7B%7D%22%29%3B%0A%20%20%20%20if%20%28viewerMode%29%20%7B%0A%20%20%20%20%20%20return%20sp%2Eviewer%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20sp%2Ebrowser%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20initSizing%28el%29%20%7B%0A%20%20%20%20var%20sizing%20%3D%20sizingPolicy%28el%29%3B%0A%20%20%20%20if%20%28%21sizing%29%0A%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20var%20cel%20%3D%20document%2EgetElementById%28%22htmlwidget%5Fcontainer%22%29%3B%0A%20%20%20%20if%20%28%21cel%29%0A%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20if%20%28typeof%28sizing%2Epadding%29%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20document%2Ebody%2Estyle%2Emargin%20%3D%20%220%22%3B%0A%20%20%20%20%20%20document%2Ebody%2Estyle%2Epadding%20%3D%20paddingToCss%28unpackPadding%28sizing%2Epadding%29%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28sizing%2Efill%29%20%7B%0A%20%20%20%20%20%20document%2Ebody%2Estyle%2Eoverflow%20%3D%20%22hidden%22%3B%0A%20%20%20%20%20%20document%2Ebody%2Estyle%2Ewidth%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20document%2Ebody%2Estyle%2Eheight%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20document%2EdocumentElement%2Estyle%2Ewidth%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20document%2EdocumentElement%2Estyle%2Eheight%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20if%20%28cel%29%20%7B%0A%20%20%20%20%20%20%20%20cel%2Estyle%2Eposition%20%3D%20%22absolute%22%3B%0A%20%20%20%20%20%20%20%20var%20pad%20%3D%20unpackPadding%28sizing%2Epadding%29%3B%0A%20%20%20%20%20%20%20%20cel%2Estyle%2Etop%20%3D%20pad%2Etop%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20cel%2Estyle%2Eright%20%3D%20pad%2Eright%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20cel%2Estyle%2Ebottom%20%3D%20pad%2Ebottom%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20cel%2Estyle%2Eleft%20%3D%20pad%2Eleft%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20el%2Estyle%2Ewidth%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20%20%20el%2Estyle%2Eheight%20%3D%20%22100%25%22%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20getWidth%3A%20function%28%29%20%7B%20return%20cel%2EoffsetWidth%3B%20%7D%2C%0A%20%20%20%20%20%20%20%20getHeight%3A%20function%28%29%20%7B%20return%20cel%2EoffsetHeight%3B%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20el%2Estyle%2Ewidth%20%3D%20px%28sizing%2Ewidth%29%3B%0A%20%20%20%20%20%20el%2Estyle%2Eheight%20%3D%20px%28sizing%2Eheight%29%3B%0A%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20getWidth%3A%20function%28%29%20%7B%20return%20el%2EoffsetWidth%3B%20%7D%2C%0A%20%20%20%20%20%20%20%20getHeight%3A%20function%28%29%20%7B%20return%20el%2EoffsetHeight%3B%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Default%20implementations%20for%20methods%0A%20%20var%20defaults%20%3D%20%7B%0A%20%20%20%20find%3A%20function%28scope%29%20%7B%0A%20%20%20%20%20%20return%20querySelectorAll%28scope%2C%20%22%2E%22%20%2B%20this%2Ename%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20renderError%3A%20function%28el%2C%20err%29%20%7B%0A%20%20%20%20%20%20var%20%24el%20%3D%20%24%28el%29%3B%0A%0A%20%20%20%20%20%20this%2EclearError%28el%29%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Add%20all%20these%20error%20classes%2C%20as%20Shiny%20does%0A%20%20%20%20%20%20var%20errClass%20%3D%20%22shiny%2Doutput%2Derror%22%3B%0A%20%20%20%20%20%20if%20%28err%2Etype%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20use%20the%20classes%20of%20the%20error%20condition%20as%20CSS%20class%20names%0A%20%20%20%20%20%20%20%20errClass%20%3D%20errClass%20%2B%20%22%20%22%20%2B%20%24%2Emap%28asArray%28err%2Etype%29%2C%20function%28type%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20errClass%20%2B%20%22%2D%22%20%2B%20type%3B%0A%20%20%20%20%20%20%20%20%7D%29%2Ejoin%28%22%20%22%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20errClass%20%3D%20errClass%20%2B%20%22%20htmlwidgets%2Derror%22%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Is%20el%20inline%20or%20block%3F%20If%20inline%20or%20inline%2Dblock%2C%20just%20display%3Anone%20it%0A%20%20%20%20%20%20%2F%2F%20and%20add%20an%20inline%20error%2E%0A%20%20%20%20%20%20var%20display%20%3D%20%24el%2Ecss%28%22display%22%29%3B%0A%20%20%20%20%20%20%24el%2Edata%28%22restore%2Ddisplay%2Dmode%22%2C%20display%29%3B%0A%0A%20%20%20%20%20%20if%20%28display%20%3D%3D%3D%20%22inline%22%20%7C%7C%20display%20%3D%3D%3D%20%22inline%2Dblock%22%29%20%7B%0A%20%20%20%20%20%20%20%20%24el%2Ehide%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28err%2Emessage%20%21%3D%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20errorSpan%20%3D%20%24%28%22%3Cspan%3E%22%29%2EaddClass%28errClass%29%3B%0A%20%20%20%20%20%20%20%20%20%20errorSpan%2Etext%28err%2Emessage%29%3B%0A%20%20%20%20%20%20%20%20%20%20%24el%2Eafter%28errorSpan%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20%28display%20%3D%3D%3D%20%22block%22%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20If%20block%2C%20add%20an%20error%20just%20after%20the%20el%2C%20set%20visibility%3Anone%20on%20the%0A%20%20%20%20%20%20%20%20%2F%2F%20el%2C%20and%20position%20the%20error%20to%20be%20on%20top%20of%20the%20el%2E%0A%20%20%20%20%20%20%20%20%2F%2F%20Mark%20it%20with%20a%20unique%20ID%20and%20CSS%20class%20so%20we%20can%20remove%20it%20later%2E%0A%20%20%20%20%20%20%20%20%24el%2Ecss%28%22visibility%22%2C%20%22hidden%22%29%3B%0A%20%20%20%20%20%20%20%20if%20%28err%2Emessage%20%21%3D%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20errorDiv%20%3D%20%24%28%22%3Cdiv%3E%22%29%2EaddClass%28errClass%29%2Ecss%28%22position%22%2C%20%22absolute%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22top%22%2C%20el%2EoffsetTop%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22left%22%2C%20el%2EoffsetLeft%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20setting%20width%20can%20push%20out%20the%20page%20size%2C%20forcing%20otherwise%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20unnecessary%20scrollbars%20to%20appear%20and%20making%20it%20impossible%20for%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20element%20to%20shrink%3B%20so%20use%20max%2Dwidth%20instead%0A%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22maxWidth%22%2C%20el%2EoffsetWidth%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22height%22%2C%20el%2EoffsetHeight%29%3B%0A%20%20%20%20%20%20%20%20%20%20errorDiv%2Etext%28err%2Emessage%29%3B%0A%20%20%20%20%20%20%20%20%20%20%24el%2Eafter%28errorDiv%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Really%20dumb%20way%20to%20keep%20the%20size%2Fposition%20of%20the%20error%20in%20sync%20with%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20parent%20element%20as%20the%20window%20is%20resized%20or%20whatever%2E%0A%20%20%20%20%20%20%20%20%20%20var%20intId%20%3D%20setInterval%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21errorDiv%5B0%5D%2EparentElement%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20clearInterval%28intId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20errorDiv%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22top%22%2C%20el%2EoffsetTop%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22left%22%2C%20el%2EoffsetLeft%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22maxWidth%22%2C%20el%2EoffsetWidth%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Ecss%28%22height%22%2C%20el%2EoffsetHeight%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%20500%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20clearError%3A%20function%28el%29%20%7B%0A%20%20%20%20%20%20var%20%24el%20%3D%20%24%28el%29%3B%0A%20%20%20%20%20%20var%20display%20%3D%20%24el%2Edata%28%22restore%2Ddisplay%2Dmode%22%29%3B%0A%20%20%20%20%20%20%24el%2Edata%28%22restore%2Ddisplay%2Dmode%22%2C%20null%29%3B%0A%0A%20%20%20%20%20%20if%20%28display%20%3D%3D%3D%20%22inline%22%20%7C%7C%20display%20%3D%3D%3D%20%22inline%2Dblock%22%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28display%29%0A%20%20%20%20%20%20%20%20%20%20%24el%2Ecss%28%22display%22%2C%20display%29%3B%0A%20%20%20%20%20%20%20%20%24%28el%2EnextSibling%29%2Efilter%28%22%2Ehtmlwidgets%2Derror%22%29%2Eremove%28%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28display%20%3D%3D%3D%20%22block%22%29%7B%0A%20%20%20%20%20%20%20%20%24el%2Ecss%28%22visibility%22%2C%20%22inherit%22%29%3B%0A%20%20%20%20%20%20%20%20%24%28el%2EnextSibling%29%2Efilter%28%22%2Ehtmlwidgets%2Derror%22%29%2Eremove%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20sizing%3A%20%7B%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20Called%20by%20widget%20bindings%20to%20register%20a%20new%20type%20of%20widget%2E%20The%20definition%0A%20%20%2F%2F%20object%20can%20contain%20the%20following%20properties%3A%0A%20%20%2F%2F%20%2D%20name%20%28required%29%20%2D%20A%20string%20indicating%20the%20binding%20name%2C%20which%20will%20be%0A%20%20%2F%2F%20%20%20used%20by%20default%20as%20the%20CSS%20classname%20to%20look%20for%2E%0A%20%20%2F%2F%20%2D%20initialize%20%28optional%29%20%2D%20A%20function%28el%29%20that%20will%20be%20called%20once%20per%0A%20%20%2F%2F%20%20%20widget%20element%3B%20if%20a%20value%20is%20returned%2C%20it%20will%20be%20passed%20as%20the%20third%0A%20%20%2F%2F%20%20%20value%20to%20renderValue%2E%0A%20%20%2F%2F%20%2D%20renderValue%20%28required%29%20%2D%20A%20function%28el%2C%20data%2C%20initValue%29%20that%20will%20be%0A%20%20%2F%2F%20%20%20called%20with%20data%2E%20Static%20contexts%20will%20cause%20this%20to%20be%20called%20once%20per%0A%20%20%2F%2F%20%20%20element%3B%20Shiny%20apps%20will%20cause%20this%20to%20be%20called%20multiple%20times%20per%0A%20%20%2F%2F%20%20%20element%2C%20as%20the%20data%20changes%2E%0A%20%20window%2EHTMLWidgets%2Ewidget%20%3D%20function%28definition%29%20%7B%0A%20%20%20%20if%20%28%21definition%2Ename%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Widget%20must%20have%20a%20name%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%21definition%2Etype%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Widget%20must%20have%20a%20type%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%20Currently%20we%20only%20support%20output%20widgets%0A%20%20%20%20if%20%28definition%2Etype%20%21%3D%3D%20%22output%22%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Unrecognized%20widget%20type%20%27%22%20%2B%20definition%2Etype%20%2B%20%22%27%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%20TODO%3A%20Verify%20that%20%2Ename%20is%20a%20valid%20CSS%20classname%0A%20%20%20%20if%20%28%21definition%2ErenderValue%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Widget%20must%20have%20a%20renderValue%20function%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20For%20static%20rendering%20%28non%2DShiny%29%2C%20use%20a%20simple%20widget%20registration%0A%20%20%20%20%2F%2F%20scheme%2E%20We%20also%20use%20this%20scheme%20for%20Shiny%20apps%2Fdocuments%20that%20also%0A%20%20%20%20%2F%2F%20contain%20static%20widgets%2E%0A%20%20%20%20window%2EHTMLWidgets%2Ewidgets%20%3D%20window%2EHTMLWidgets%2Ewidgets%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%2F%2F%20Merge%20defaults%20into%20the%20definition%3B%20don%27t%20mutate%20the%20original%20definition%2E%0A%20%20%20%20var%20staticBinding%20%3D%20extend%28%7B%7D%2C%20defaults%2C%20definition%29%3B%0A%20%20%20%20overrideMethod%28staticBinding%2C%20%22find%22%2C%20function%28superfunc%29%20%7B%0A%20%20%20%20%20%20return%20function%28scope%29%20%7B%0A%20%20%20%20%20%20%20%20var%20results%20%3D%20superfunc%28scope%29%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20Filter%20out%20Shiny%20outputs%2C%20we%20only%20want%20the%20static%20kind%0A%20%20%20%20%20%20%20%20return%20filterByClass%28results%2C%20%22html%2Dwidget%2Doutput%22%2C%20false%29%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20window%2EHTMLWidgets%2Ewidgets%2Epush%28staticBinding%29%3B%0A%0A%20%20%20%20if%20%28shinyMode%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20Shiny%20is%20running%2E%20Register%20the%20definition%20as%20an%20output%20binding%2E%0A%0A%20%20%20%20%20%20%2F%2F%20Merge%20defaults%20into%20the%20definition%3B%20don%27t%20mutate%20the%20original%20definition%2E%0A%20%20%20%20%20%20%2F%2F%20The%20base%20object%20is%20a%20Shiny%20output%20binding%20if%20we%27re%20running%20in%20Shiny%20mode%2C%0A%20%20%20%20%20%20%2F%2F%20or%20an%20empty%20object%20if%20we%27re%20not%2E%0A%20%20%20%20%20%20var%20shinyBinding%20%3D%20extend%28new%20Shiny%2EOutputBinding%28%29%2C%20defaults%2C%20definition%29%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Wrap%20renderValue%20to%20handle%20initialization%2C%20which%20unfortunately%20isn%27t%0A%20%20%20%20%20%20%2F%2F%20supported%20natively%20by%20Shiny%20at%20the%20time%20of%20this%20writing%2E%0A%0A%20%20%20%20%20%20%2F%2F%20NB%3A%20shinyBinding%2Einitialize%20may%20be%20undefined%2C%20as%20it%27s%20optional%2E%0A%0A%20%20%20%20%20%20%2F%2F%20Rename%20initialize%20to%20make%20sure%20it%20isn%27t%20called%20by%20a%20future%20version%0A%20%20%20%20%20%20%2F%2F%20of%20Shiny%20that%20does%20support%20initialize%20directly%2E%0A%20%20%20%20%20%20shinyBinding%2E%5Fhtmlwidgets%5Finitialize%20%3D%20shinyBinding%2Einitialize%3B%0A%20%20%20%20%20%20delete%20shinyBinding%2Einitialize%3B%0A%0A%20%20%20%20%20%20overrideMethod%28shinyBinding%2C%20%22find%22%2C%20function%28superfunc%29%20%7B%0A%20%20%20%20%20%20%20%20return%20function%28scope%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20var%20results%20%3D%20superfunc%28scope%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Only%20return%20elements%20that%20are%20Shiny%20outputs%2C%20not%20static%20ones%0A%20%20%20%20%20%20%20%20%20%20var%20dynamicResults%20%3D%20results%2Efilter%28%22%2Ehtml%2Dwidget%2Doutput%22%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20It%27s%20possible%20that%20whatever%20caused%20Shiny%20to%20think%20there%20might%20be%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20new%20dynamic%20outputs%2C%20also%20caused%20there%20to%20be%20new%20static%20outputs%2E%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Since%20there%20might%20be%20lots%20of%20different%20htmlwidgets%20bindings%2C%20we%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20schedule%20execution%20for%20later%2D%2Dno%20need%20to%20staticRender%20multiple%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20times%2E%0A%20%20%20%20%20%20%20%20%20%20if%20%28results%2Elength%20%21%3D%3D%20dynamicResults%2Elength%29%0A%20%20%20%20%20%20%20%20%20%20%20%20scheduleStaticRender%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20return%20dynamicResults%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20overrideMethod%28shinyBinding%2C%20%22renderValue%22%2C%20function%28superfunc%29%20%7B%0A%20%20%20%20%20%20%20%20return%20function%28el%2C%20data%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Resolve%20strings%20marked%20as%20javascript%20literals%20to%20objects%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21%28data%2Eevals%20instanceof%20Array%29%29%20data%2Eevals%20%3D%20%5Bdata%2Eevals%5D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20data%2Eevals%20%26%26%20i%20%3C%20data%2Eevals%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window%2EHTMLWidgets%2EevaluateStringMember%28data%2Ex%2C%20data%2Eevals%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21this%2ErenderOnNullValue%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28data%2Ex%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20el%2Estyle%2Evisibility%20%3D%20%22hidden%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20el%2Estyle%2Evisibility%20%3D%20%22inherit%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21elementData%28el%2C%20%22initialized%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20initSizing%28el%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20elementData%28el%2C%20%22initialized%22%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fhtmlwidgets%5Finitialize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20result%20%3D%20this%2E%5Fhtmlwidgets%5Finitialize%28el%2C%20el%2EoffsetWidth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el%2EoffsetHeight%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20elementData%28el%2C%20%22init%5Fresult%22%2C%20result%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20Shiny%2ErenderDependencies%28data%2Edeps%29%3B%0A%20%20%20%20%20%20%20%20%20%20superfunc%28el%2C%20data%2Ex%2C%20elementData%28el%2C%20%22init%5Fresult%22%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20overrideMethod%28shinyBinding%2C%20%22resize%22%2C%20function%28superfunc%29%20%7B%0A%20%20%20%20%20%20%20%20return%20function%28el%2C%20width%2C%20height%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Shiny%20can%20call%20resize%20before%20initialize%2FrenderValue%20have%20been%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20called%2C%20which%20doesn%27t%20make%20sense%20for%20widgets%2E%0A%20%20%20%20%20%20%20%20%20%20if%20%28elementData%28el%2C%20%22initialized%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20superfunc%28el%2C%20width%2C%20height%2C%20elementData%28el%2C%20%22init%5Fresult%22%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20Shiny%2EoutputBindings%2Eregister%28shinyBinding%2C%20shinyBinding%2Ename%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20var%20scheduleStaticRenderTimerId%20%3D%20null%3B%0A%20%20function%20scheduleStaticRender%28%29%20%7B%0A%20%20%20%20if%20%28%21scheduleStaticRenderTimerId%29%20%7B%0A%20%20%20%20%20%20scheduleStaticRenderTimerId%20%3D%20setTimeout%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20scheduleStaticRenderTimerId%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20window%2EHTMLWidgets%2EstaticRender%28%29%3B%0A%20%20%20%20%20%20%7D%2C%201%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2F%20Render%20static%20widgets%20after%20the%20document%20finishes%20loading%0A%20%20%2F%2F%20Statically%20render%20all%20elements%20that%20are%20of%20this%20widget%27s%20class%0A%20%20window%2EHTMLWidgets%2EstaticRender%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20bindings%20%3D%20window%2EHTMLWidgets%2Ewidgets%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20forEach%28bindings%2C%20function%28binding%29%20%7B%0A%20%20%20%20%20%20var%20matches%20%3D%20binding%2Efind%28document%2EdocumentElement%29%3B%0A%20%20%20%20%20%20forEach%28matches%2C%20function%28el%29%20%7B%0A%20%20%20%20%20%20%20%20var%20sizeObj%20%3D%20initSizing%28el%2C%20binding%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28hasClass%28el%2C%20%22html%2Dwidget%2Dstatic%2Dbound%22%29%29%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20el%2EclassName%20%3D%20el%2EclassName%20%2B%20%22%20html%2Dwidget%2Dstatic%2Dbound%22%3B%0A%0A%20%20%20%20%20%20%20%20var%20initResult%3B%0A%20%20%20%20%20%20%20%20if%20%28binding%2Einitialize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20initResult%20%3D%20binding%2Einitialize%28el%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sizeObj%20%3F%20sizeObj%2EgetWidth%28%29%20%3A%20el%2EoffsetWidth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sizeObj%20%3F%20sizeObj%2EgetHeight%28%29%20%3A%20el%2EoffsetHeight%0A%20%20%20%20%20%20%20%20%20%20%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28binding%2Eresize%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20lastSize%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20resizeHandler%20%3D%20function%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20size%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%3A%20sizeObj%20%3F%20sizeObj%2EgetWidth%28%29%20%3A%20el%2EoffsetWidth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20h%3A%20sizeObj%20%3F%20sizeObj%2EgetHeight%28%29%20%3A%20el%2EoffsetHeight%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28size%2Ew%20%3D%3D%3D%200%20%26%26%20size%2Eh%20%3D%3D%3D%200%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28size%2Ew%20%3D%3D%3D%20lastSize%2Ew%20%26%26%20size%2Eh%20%3D%3D%3D%20lastSize%2Eh%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20lastSize%20%3D%20size%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20binding%2Eresize%28el%2C%20size%2Ew%2C%20size%2Eh%2C%20initResult%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20on%28window%2C%20%22resize%22%2C%20resizeHandler%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20This%20is%20needed%20for%20cases%20where%20we%27re%20running%20in%20a%20Shiny%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20app%2C%20but%20the%20widget%20itself%20is%20not%20a%20Shiny%20output%2C%20but%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20rather%20a%20simple%20static%20widget%2E%20One%20example%20of%20this%20is%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20an%20rmarkdown%20document%20that%20has%20runtime%3Ashiny%20and%20widget%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20that%20isn%27t%20in%20a%20render%20function%2E%20Shiny%20only%20knows%20to%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20call%20resize%20handlers%20for%20Shiny%20outputs%2C%20not%20for%20static%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20widgets%2C%20so%20we%20do%20it%20ourselves%2E%0A%20%20%20%20%20%20%20%20%20%20if%20%28window%2EjQuery%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window%2EjQuery%28document%29%2Eon%28%22shown%22%2C%20resizeHandler%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20window%2EjQuery%28document%29%2Eon%28%22hidden%22%2C%20resizeHandler%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20This%20is%20needed%20for%20the%20specific%20case%20of%20ioslides%2C%20which%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20flips%20slides%20between%20display%3Anone%20and%20display%3Ablock%2E%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Ideally%20we%20would%20not%20have%20to%20have%20ioslide%2Dspecific%20code%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20here%2C%20but%20rather%20have%20ioslides%20raise%20a%20generic%20event%2C%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20but%20the%20rmarkdown%20package%20just%20went%20to%20CRAN%20so%20the%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20window%20to%20getting%20that%20fixed%20may%20be%20long%2E%0A%20%20%20%20%20%20%20%20%20%20if%20%28window%2EaddEventListener%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20It%27s%20OK%20to%20limit%20this%20to%20window%2EaddEventListener%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20browsers%20because%20ioslides%20itself%20only%20supports%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20such%20browsers%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20on%28document%2C%20%22slideenter%22%2C%20resizeHandler%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20on%28document%2C%20%22slideleave%22%2C%20resizeHandler%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20var%20scriptData%20%3D%20document%2EquerySelector%28%22script%5Bdata%2Dfor%3D%27%22%20%2B%20el%2Eid%20%2B%20%22%27%5D%5Btype%3D%27application%2Fjson%27%5D%22%29%3B%0A%20%20%20%20%20%20%20%20if%20%28scriptData%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20data%20%3D%20JSON%2Eparse%28scriptData%2EtextContent%20%7C%7C%20scriptData%2Etext%29%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Resolve%20strings%20marked%20as%20javascript%20literals%20to%20objects%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21%28data%2Eevals%20instanceof%20Array%29%29%20data%2Eevals%20%3D%20%5Bdata%2Eevals%5D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20k%20%3D%200%3B%20data%2Eevals%20%26%26%20k%20%3C%20data%2Eevals%2Elength%3B%20k%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window%2EHTMLWidgets%2EevaluateStringMember%28data%2Ex%2C%20data%2Eevals%5Bk%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20binding%2ErenderValue%28el%2C%20data%2Ex%2C%20initResult%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20Wait%20until%20after%20the%20document%20has%20loaded%20to%20render%20the%20widgets%2E%0A%20%20if%20%28document%2EaddEventListener%29%20%7B%0A%20%20%20%20document%2EaddEventListener%28%22DOMContentLoaded%22%2C%20function%28%29%20%7B%0A%20%20%20%20%20%20document%2EremoveEventListener%28%22DOMContentLoaded%22%2C%20arguments%2Ecallee%2C%20false%29%3B%0A%20%20%20%20%20%20window%2EHTMLWidgets%2EstaticRender%28%29%3B%0A%20%20%20%20%7D%2C%20false%29%3B%0A%20%20%7D%20else%20if%20%28document%2EattachEvent%29%20%7B%0A%20%20%20%20document%2EattachEvent%28%22onreadystatechange%22%2C%20function%28%29%20%7B%0A%20%20%20%20%20%20if%20%28document%2EreadyState%20%3D%3D%3D%20%22complete%22%29%20%7B%0A%20%20%20%20%20%20%20%20document%2EdetachEvent%28%22onreadystatechange%22%2C%20arguments%2Ecallee%29%3B%0A%20%20%20%20%20%20%20%20window%2EHTMLWidgets%2EstaticRender%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%0A%0A%0A%20%20window%2EHTMLWidgets%2EgetAttachmentUrl%20%3D%20function%28depname%2C%20key%29%20%7B%0A%20%20%20%20%2F%2F%20If%20no%20key%2C%20default%20to%20the%20first%20item%0A%20%20%20%20if%20%28typeof%28key%29%20%3D%3D%3D%20%22undefined%22%29%0A%20%20%20%20%20%20key%20%3D%201%3B%0A%0A%20%20%20%20var%20link%20%3D%20document%2EgetElementById%28depname%20%2B%20%22%2D%22%20%2B%20key%20%2B%20%22%2Dattachment%22%29%3B%0A%20%20%20%20if%20%28%21link%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Attachment%20%22%20%2B%20depname%20%2B%20%22%2F%22%20%2B%20key%20%2B%20%22%20not%20found%20in%20document%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20link%2EgetAttribute%28%22href%22%29%3B%0A%20%20%7D%3B%0A%0A%20%20window%2EHTMLWidgets%2EdataframeToD3%20%3D%20function%28df%29%20%7B%0A%20%20%20%20var%20names%20%3D%20%5B%5D%3B%0A%20%20%20%20var%20length%3B%0A%20%20%20%20for%20%28var%20name%20in%20df%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28df%2EhasOwnProperty%28name%29%29%0A%20%20%20%20%20%20%20%20%20%20%20%20names%2Epush%28name%29%3B%0A%20%20%20%20%20%20%20%20if%20%28typeof%28df%5Bname%5D%29%20%21%3D%3D%20%22object%22%20%7C%7C%20typeof%28df%5Bname%5D%2Elength%29%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22All%20fields%20must%20be%20arrays%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28typeof%28length%29%20%21%3D%3D%20%22undefined%22%20%26%26%20length%20%21%3D%3D%20df%5Bname%5D%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22All%20fields%20must%20be%20arrays%20of%20the%20same%20length%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20length%20%3D%20df%5Bname%5D%2Elength%3B%0A%20%20%20%20%7D%0A%20%20%20%20var%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20var%20item%3B%0A%20%20%20%20for%20%28var%20row%20%3D%200%3B%20row%20%3C%20length%3B%20row%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20item%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20col%20%3D%200%3B%20col%20%3C%20names%2Elength%3B%20col%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20item%5Bnames%5Bcol%5D%5D%20%3D%20df%5Bnames%5Bcol%5D%5D%5Brow%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20results%2Epush%28item%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20results%3B%0A%20%20%7D%3B%0A%0A%20%20window%2EHTMLWidgets%2EtransposeArray2D%20%3D%20function%28array%29%20%7B%0A%20%20%20%20%20%20var%20newArray%20%3D%20array%5B0%5D%2Emap%28function%28col%2C%20i%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20array%2Emap%28function%28row%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20row%5Bi%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20return%20newArray%3B%0A%20%20%7D%3B%0A%20%20%2F%2F%20Split%20value%20at%20splitChar%2C%20but%20allow%20splitChar%20to%20be%20escaped%0A%20%20%2F%2F%20using%20escapeChar%2E%20Any%20other%20characters%20escaped%20by%20escapeChar%0A%20%20%2F%2F%20will%20be%20included%20as%20usual%20%28including%20escapeChar%20itself%29%2E%0A%20%20function%20splitWithEscape%28value%2C%20splitChar%2C%20escapeChar%29%20%7B%0A%20%20%20%20var%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20var%20escapeMode%20%3D%20false%3B%0A%20%20%20%20var%20currentResult%20%3D%20%22%22%3B%0A%20%20%20%20for%20%28var%20pos%20%3D%200%3B%20pos%20%3C%20value%2Elength%3B%20pos%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28%21escapeMode%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28value%5Bpos%5D%20%3D%3D%3D%20splitChar%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20results%2Epush%28currentResult%29%3B%0A%20%20%20%20%20%20%20%20%20%20currentResult%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28value%5Bpos%5D%20%3D%3D%3D%20escapeChar%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20escapeMode%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentResult%20%2B%3D%20value%5Bpos%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20currentResult%20%2B%3D%20value%5Bpos%5D%3B%0A%20%20%20%20%20%20%20%20escapeMode%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28currentResult%20%21%3D%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20results%2Epush%28currentResult%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20results%3B%0A%20%20%7D%0A%20%20%2F%2F%20Function%20authored%20by%20Yihui%2FJJ%20Allaire%0A%20%20window%2EHTMLWidgets%2EevaluateStringMember%20%3D%20function%28o%2C%20member%29%20%7B%0A%20%20%20%20var%20parts%20%3D%20splitWithEscape%28member%2C%20%27%2E%27%2C%20%27%5C%5C%27%29%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20l%20%3D%20parts%2Elength%3B%20i%20%3C%20l%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20var%20part%20%3D%20parts%5Bi%5D%3B%0A%20%20%20%20%20%20%2F%2F%20part%20may%20be%20a%20character%20or%20%27numeric%27%20member%20name%0A%20%20%20%20%20%20if%20%28o%20%21%3D%3D%20null%20%26%26%20typeof%20o%20%3D%3D%3D%20%22object%22%20%26%26%20part%20in%20o%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28i%20%3D%3D%20%28l%20%2D%201%29%29%20%7B%20%2F%2F%20if%20we%20are%20at%20the%20end%20of%20the%20line%20then%20evalulate%0A%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20o%5Bpart%5D%20%3D%3D%3D%20%22string%22%29%0A%20%20%20%20%20%20%20%20%20%20%20%20o%5Bpart%5D%20%3D%20eval%28%22%28%22%20%2B%20o%5Bpart%5D%20%2B%20%22%29%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%2F%2F%20otherwise%20continue%20to%20next%20embedded%20object%0A%20%20%20%20%20%20%20%20%20%20o%20%3D%20o%5Bpart%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%29%28%29%3B%0A%0A"></script>
<link href="data:text/css,%2F%2A%21%0A%20%2A%20Handsontable%200%2E14%2E1%0A%20%2A%20Handsontable%20is%20a%20JavaScript%20library%20for%20editable%20tables%20with%20basic%20copy%2Dpaste%20compatibility%20with%20Excel%20and%20Google%20Docs%0A%20%2A%0A%20%2A%20Copyright%20%28c%29%202012%2D2014%20Marcin%20Warpechowski%0A%20%2A%20Copyright%20%28c%29%202015%20Handsoncode%20sp%2E%20z%20o%2Eo%2E%20%3Chello%40handsontable%2Ecom%3E%0A%20%2A%20Licensed%20under%20the%20MIT%20license%2E%0A%20%2A%20http%3A%2F%2Fhandsontable%2Ecom%2F%0A%20%2A%0A%20%2A%20Date%3A%20Wed%20Apr%2008%202015%2010%3A00%3A22%20GMT%2B0200%20%28CEST%29%0A%20%2A%2F%0A%0A%2Ehandsontable%20%7B%0A%20%20position%3A%20relative%3B%0A%7D%0A%0A%2Ehandsontable%20%2Ehide%7B%0A%20%20display%3A%20none%3B%0A%7D%0A%2Ehandsontable%20%2Erelative%20%7B%0A%20%20position%3A%20relative%3B%0A%7D%0A%0A%2Ehandsontable%2EhtAutoColumnSize%20%7B%0A%20%20visibility%3A%20hidden%3B%0A%20%20left%3A%200%3B%0A%20%20position%3A%20absolute%3B%0A%20%20top%3A%200%3B%0A%7D%0A%0A%2Ehandsontable%20%2EwtHider%20%7B%0A%20%20width%3A%200%3B%0A%7D%0A%0A%2Ehandsontable%20%2EwtSpreader%20%7B%0A%20%20position%3A%20relative%3B%0A%20%20width%3A%200%3B%20%2F%2Amust%20be%200%2C%20otherwise%20blank%20space%20appears%20in%20scroll%20demo%20after%20scrolling%20max%20to%20the%20right%20%2A%2F%0A%20%20height%3A%20auto%3B%0A%7D%0A%0A%2Ehandsontable%20table%2C%0A%2Ehandsontable%20tbody%2C%0A%2Ehandsontable%20thead%2C%0A%2Ehandsontable%20td%2C%0A%2Ehandsontable%20th%2C%0A%2Ehandsontable%20input%2C%0A%2Ehandsontable%20textarea%2C%0A%2Ehandsontable%20div%20%7B%0A%20%20box%2Dsizing%3A%20content%2Dbox%3B%0A%20%20%2Dwebkit%2Dbox%2Dsizing%3A%20content%2Dbox%3B%0A%20%20%2Dmoz%2Dbox%2Dsizing%3A%20content%2Dbox%3B%0A%7D%0A%0A%2Ehandsontable%20input%2C%0A%2Ehandsontable%20textarea%20%7B%0A%20%20min%2Dheight%3A%20initial%3B%0A%7D%0A%0A%2Ehandsontable%20table%2EhtCore%20%7B%0A%20%20border%2Dcollapse%3A%20separate%3B%0A%20%20%2F%2Ait%20must%20be%20separate%2C%20otherwise%20there%20are%20offset%20miscalculations%20in%20WebKit%3A%20http%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F2655987%2Fborder%2Dcollapse%2Ddifferences%2Din%2Dff%2Dand%2Dwebkit%2A%2F%0A%20%20%2F%2Athis%20actually%20only%20changes%20appearance%20of%20user%20selection%20%2D%20does%20not%20make%20text%20unselectable%0A%20%20%2Dwebkit%2Duser%2Dselect%3A%20none%3B%0A%20%20%2Dkhtml%2Duser%2Dselect%3A%20none%3B%0A%20%20%2Dmoz%2Duser%2Dselect%3A%20none%3B%0A%20%20%2Do%2Duser%2Dselect%3A%20none%3B%0A%20%20%2Dms%2Duser%2Dselect%3A%20none%3B%0A%20%20%2F%2Auser%2Dselect%3A%20none%3B%20%2F%2Ano%20browser%20supports%20unprefixed%20version%2A%2F%0A%20%20border%2Dspacing%3A%200%3B%0A%20%20margin%3A%200%3B%0A%20%20border%2Dwidth%3A%200%3B%0A%20%20table%2Dlayout%3A%20fixed%3B%0A%20%20width%3A%200%3B%0A%20%20outline%2Dwidth%3A%200%3B%0A%20%20%2F%2A%20reset%20bootstrap%20table%20style%2E%20for%20more%20info%20see%3A%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fissues%2F224%20%2A%2F%0A%20%20max%2Dwidth%3A%20none%3B%0A%20%20max%2Dheight%3A%20none%3B%0A%7D%0A%0A%2Ehandsontable%20col%20%7B%0A%20%20width%3A%2050px%3B%0A%7D%0A%0A%2Ehandsontable%20col%2ErowHeader%20%7B%0A%20%20width%3A%2050px%3B%0A%7D%0A%0A%2Ehandsontable%20th%2C%0A%2Ehandsontable%20td%20%7B%0A%20%20border%2Dright%3A%201px%20solid%20%23CCC%3B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23CCC%3B%0A%20%20height%3A%2022px%3B%0A%20%20empty%2Dcells%3A%20show%3B%0A%20%20line%2Dheight%3A%2021px%3B%0A%20%20padding%3A%200%204px%200%204px%3B%0A%20%20%2F%2A%20top%2C%20bottom%20padding%20different%20than%200%20is%20handled%20poorly%20by%20FF%20with%20HTML5%20doctype%20%2A%2F%0A%20%20background%2Dcolor%3A%20%23FFF%3B%0A%20%20vertical%2Dalign%3A%20top%3B%0A%20%20overflow%3A%20hidden%3B%0A%20%20outline%2Dwidth%3A%200%3B%0A%20%20white%2Dspace%3A%20pre%2Dline%3B%0A%20%20%2F%2A%20preserve%20new%20line%20character%20in%20cell%20%2A%2F%0A%7D%0A%0A%2Ehandsontable%20td%2EhtInvalid%20%7B%0A%20%20background%2Dcolor%3A%20%23ff4c42%20%21important%3B%20%2F%2Agives%20priority%20over%20td%2Earea%20selection%20background%2A%2F%0A%7D%0A%0A%2Ehandsontable%20td%2EhtNoWrap%20%7B%0A%20%20white%2Dspace%3A%20nowrap%3B%0A%7D%0A%0A%2Ehandsontable%20th%3Alast%2Dchild%20%7B%0A%20%20%2F%2AFoundation%20framework%20fix%2A%2F%0A%20%20border%2Dright%3A%201px%20solid%20%23CCC%3B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23CCC%3B%0A%7D%0A%0A%2Ehandsontable%20tr%3Afirst%2Dchild%20th%2EhtNoFrame%2C%0A%2Ehandsontable%20th%3Afirst%2Dchild%2EhtNoFrame%2C%0A%2Ehandsontable%20th%2EhtNoFrame%20%7B%0A%20%20border%2Dleft%2Dwidth%3A%200%3B%0A%20%20background%2Dcolor%3A%20white%3B%0A%20%20border%2Dcolor%3A%20%23FFF%3B%0A%7D%0A%0A%2Ehandsontable%20th%3Afirst%2Dchild%2C%0A%2Ehandsontable%20td%3Afirst%2Dchild%2C%0A%2Ehandsontable%20%2EhtNoFrame%20%2B%20th%2C%0A%2Ehandsontable%20%2EhtNoFrame%20%2B%20td%20%7B%0A%20%20border%2Dleft%3A%201px%20solid%20%23CCC%3B%0A%7D%0A%0A%2Ehandsontable%20tr%3Afirst%2Dchild%20th%2C%0A%2Ehandsontable%20tr%3Afirst%2Dchild%20td%20%7B%0A%20%20border%2Dtop%3A%201px%20solid%20%23CCC%3B%0A%7D%0A%0A%2Ehandsontable%20thead%20tr%3Alast%2Dchild%20th%20%7B%0A%20%20border%2Dbottom%2Dwidth%3A%200%3B%0A%7D%0A%0A%2Ehandsontable%20thead%20tr%2ElastChild%20th%20%7B%0A%20%20border%2Dbottom%2Dwidth%3A%200%3B%0A%7D%0A%0A%2Ehandsontable%20th%20%7B%0A%20%20background%2Dcolor%3A%20%23EEE%3B%0A%20%20color%3A%20%23222%3B%0A%20%20text%2Dalign%3A%20center%3B%0A%20%20font%2Dweight%3A%20normal%3B%0A%20%20white%2Dspace%3A%20nowrap%3B%0A%7D%0A%0A%2Ehandsontable%20thead%20th%20%7B%0A%20%20padding%3A%200%3B%0A%7D%0A%0A%2Ehandsontable%20th%2Eactive%20%7B%0A%20%20background%2Dcolor%3A%20%23CCC%3B%0A%7D%0A%0A%2Ehandsontable%20thead%20th%20%2Erelative%20%7B%0A%20%20padding%3A%202px%204px%3B%0A%7D%0A%0A%2F%2A%20plugins%20%2A%2F%0A%0A%2Ehandsontable%20%2EmanualColumnMover%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20left%3A%200%3B%0A%20%20top%3A%200%3B%0A%20%20background%2Dcolor%3A%20transparent%3B%0A%20%20width%3A%205px%3B%0A%20%20height%3A%2025px%3B%0A%20%20z%2Dindex%3A%20999%3B%0A%20%20cursor%3A%20move%3B%0A%7D%0A%0A%2Ehandsontable%20%2EmanualRowMover%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20left%3A%20%2D4px%3B%0A%20%20top%3A%200%3B%0A%20%20background%2Dcolor%3A%20transparent%3B%0A%20%20height%3A%205px%3B%0A%20%20width%3A%2050px%3B%0A%20%20z%2Dindex%3A%20999%3B%0A%20%20cursor%3A%20move%3B%0A%7D%0A%0A%2Ehandsontable%20%2EmanualColumnMoverGuide%2C%0A%2Ehandsontable%20%2EmanualRowMoverGuide%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20left%3A%200%3B%0A%20%20top%3A%200%3B%0A%20%20background%2Dcolor%3A%20%23CCC%3B%0A%20%20width%3A%2025px%3B%0A%20%20height%3A%2025px%3B%0A%20%20opacity%3A%200%2E7%3B%0A%20%20display%3A%20none%3B%0A%7D%0A%0A%2Ehandsontable%20%2EmanualColumnMoverGuide%2Eactive%2C%0A%2Ehandsontable%20%2EmanualRowMoverGuide%2Eactive%20%7B%0A%20%20display%3A%20block%3B%0A%7D%0A%0A%2Ehandsontable%20%2EmanualColumnMover%3Ahover%2C%0A%2Ehandsontable%20%2EmanualColumnMover%2Eactive%2C%0A%2Ehandsontable%20%2EmanualRowMover%3Ahover%2C%0A%2Ehandsontable%20%2EmanualRowMover%2Eactive%7B%0A%20%20background%2Dcolor%3A%20%2388F%3B%0A%7D%0A%0A%2F%2A%20row%20%2B%20column%20resizer%2A%2F%0A%0A%2Ehandsontable%20%2EmanualColumnResizer%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20top%3A%200%3B%0A%20%20cursor%3A%20col%2Dresize%3B%0A%20%20z%2Dindex%3A%20110%3B%0A%20%20width%3A%205px%3B%0A%20%20height%3A%2025px%3B%0A%7D%0A%0A%2Ehandsontable%20%2EmanualRowResizer%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20left%3A%200%3B%0A%20%20cursor%3A%20row%2Dresize%3B%0A%20%20z%2Dindex%3A%20110%3B%0A%20%20height%3A%205px%3B%0A%20%20width%3A%2050px%3B%0A%7D%0A%0A%2Ehandsontable%20%2EmanualColumnResizer%3Ahover%2C%0A%2Ehandsontable%20%2EmanualColumnResizer%2Eactive%2C%0A%2Ehandsontable%20%2EmanualRowResizer%3Ahover%2C%0A%2Ehandsontable%20%2EmanualRowResizer%2Eactive%20%7B%0A%20%20background%2Dcolor%3A%20%23AAB%3B%0A%7D%0A%0A%2Ehandsontable%20%2EmanualColumnResizerGuide%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20right%3A%200%3B%0A%20%20top%3A%200%3B%0A%20%20background%2Dcolor%3A%20%23AAB%3B%0A%20%20display%3A%20none%3B%0A%20%20width%3A%200%3B%0A%20%20border%2Dright%3A%201px%20dashed%20%23777%3B%0A%20%20margin%2Dleft%3A%205px%3B%0A%7D%0A%0A%2Ehandsontable%20%2EmanualRowResizerGuide%20%7B%0A%20%20position%3A%20fixed%3B%0A%20%20left%3A%200%3B%0A%20%20bottom%3A%200%3B%0A%20%20background%2Dcolor%3A%20%23AAB%3B%0A%20%20display%3A%20none%3B%0A%20%20height%3A%200%3B%0A%20%20border%2Dbottom%3A%201px%20dashed%20%23777%3B%0A%20%20margin%2Dtop%3A%205px%3B%0A%7D%0A%0A%2Ehandsontable%20%2EmanualColumnResizerGuide%2Eactive%2C%0A%2Ehandsontable%20%2EmanualRowResizerGuide%2Eactive%20%7B%0A%20%20display%3A%20block%3B%0A%7D%0A%0A%2Ehandsontable%20%2EcolumnSorting%3Ahover%20%7B%0A%20%20text%2Ddecoration%3A%20underline%3B%0A%20%20cursor%3A%20pointer%3B%0A%7D%0A%0A%2F%2A%20border%20line%20%2A%2F%0A%0A%2Ehandsontable%20%2EwtBorder%20%7B%0A%20%20position%3A%20absolute%3B%0A%20%20font%2Dsize%3A%200%3B%0A%7D%0A%2Ehandsontable%20%2EwtBorder%2Ehidden%7B%0A%20%20display%3Anone%20%21important%3B%0A%7D%0A%0A%2Ehandsontable%20td%2Earea%20%7B%0A%20%20background%3A%20%2Dmoz%2Dlinear%2Dgradient%28top%2C%20%20rgba%28181%2C209%2C255%2C0%2E34%29%200%25%2C%20rgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3B%20%2F%2A%20FF3%2E6%2B%20%2A%2F%0A%20%20background%3A%20%2Dwebkit%2Dgradient%28linear%2C%20left%20top%2C%20left%20bottom%2C%20color%2Dstop%280%25%2Crgba%28181%2C209%2C255%2C0%2E34%29%29%2C%20color%2Dstop%28100%25%2Crgba%28181%2C209%2C255%2C0%2E34%29%29%29%3B%20%2F%2A%20Chrome%2CSafari4%2B%20%2A%2F%0A%20%20background%3A%20%2Dwebkit%2Dlinear%2Dgradient%28top%2C%20%20rgba%28181%2C209%2C255%2C0%2E34%29%200%25%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3B%20%2F%2A%20Chrome10%2B%2CSafari5%2E1%2B%20%2A%2F%0A%20%20background%3A%20%2Do%2Dlinear%2Dgradient%28top%2C%20%20rgba%28181%2C209%2C255%2C0%2E34%29%200%25%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3B%20%2F%2A%20Opera%2011%2E10%2B%20%2A%2F%0A%20%20background%3A%20%2Dms%2Dlinear%2Dgradient%28top%2C%20%20rgba%28181%2C209%2C255%2C0%2E34%29%200%25%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3B%20%2F%2A%20IE10%2B%20%2A%2F%0A%20%20background%3A%20linear%2Dgradient%28to%20bottom%2C%20%20rgba%28181%2C209%2C255%2C0%2E34%29%200%25%2Crgba%28181%2C209%2C255%2C0%2E34%29%20100%25%29%3B%20%2F%2A%20W3C%20%2A%2F%0A%20%20filter%3A%20progid%3ADXImageTransform%2EMicrosoft%2Egradient%28%20startColorstr%3D%27%2357b5d1ff%27%2C%20endColorstr%3D%27%2357b5d1ff%27%2CGradientType%3D0%20%29%3B%20%2F%2A%20IE6%2D9%20%2A%2F%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%7D%0A%0A%2F%2A%20fill%20handle%20%2A%2F%0A%0A%2Ehandsontable%20%2EwtBorder%2Ecorner%20%7B%0A%20%20font%2Dsize%3A%200%3B%0A%20%20cursor%3A%20crosshair%3B%0A%7D%0A%0A%2Ehandsontable%20%2EhtBorder%2EhtFillBorder%20%7B%0A%20%20background%3A%20red%3B%0A%20%20width%3A%201px%3B%0A%20%20height%3A%201px%3B%0A%7D%0A%0A%2EhandsontableInput%20%7B%0A%20%20border%3Anone%3B%0A%20%20outline%2Dwidth%3A%200%3B%0A%20%20margin%3A%200%20%3B%0A%20%20padding%3A%201px%205px%200%205px%3B%0A%20%20font%2Dfamily%3A%20inherit%3B%0A%20%20line%2Dheight%3A%2021px%3B%0A%20%20font%2Dsize%3A%20inherit%3B%0A%20%20box%2Dshadow%3A%200%200%200%202px%20%235292F7%20inset%3B%0A%20%20resize%3A%20none%3B%0A%20%20%2F%2Abelow%20are%20needed%20to%20overwrite%20stuff%20added%20by%20jQuery%20UI%20Bootstrap%20theme%2A%2F%0A%20%20display%3A%20inline%2Dblock%3B%0A%20%20color%3A%20%23000%3B%0A%20%20border%2Dradius%3A%200%3B%0A%20%20background%2Dcolor%3A%20%23FFF%3B%0A%20%20%2F%2Aoverwrite%20styles%20potentionally%20made%20by%20a%20framework%2A%2F%0A%7D%0A%0A%2EhandsontableInputHolder%20%7B%0A%20%20position%3A%20absolute%3B%0A%20%20top%3A%200%3B%0A%20%20left%3A%200%3B%0A%20%20z%2Dindex%3A%20100%3B%0A%7D%0A%0A%2EhtSelectEditor%20%7B%0A%20%20%2Dwebkit%2Dappearance%3A%20menulist%2Dbutton%20%21important%3B%0A%20%20position%3A%20absolute%3B%0A%20%20width%3A%20auto%3B%0A%7D%0A%0A%2F%2A%0ATextRenderer%20readOnly%20cell%0A%2A%2F%0A%0A%2Ehandsontable%20%2EhtDimmed%20%7B%0A%20%20color%3A%20%23777%3B%0A%7D%0A%0A%2Ehandsontable%20%2EhtSubmenu%20%7B%0A%20%20position%3A%20relative%3B%0A%7D%0A%0A%2Ehandsontable%20%2EhtSubmenu%20%3Aafter%7B%0A%20%20content%3A%20%27%E2%96%B6%27%3B%0A%20%20color%3A%20%23777%3B%0A%20%20position%3A%20absolute%3B%0A%20%20right%3A%205px%3B%0A%7D%0A%0A%0A%2F%2A%0ATextRenderer%20horizontal%20alignment%0A%2A%2F%0A%2Ehandsontable%20%2EhtLeft%7B%0A%20%20text%2Dalign%3A%20left%3B%0A%7D%0A%2Ehandsontable%20%2EhtCenter%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%2Ehandsontable%20%2EhtRight%7B%0A%20%20text%2Dalign%3A%20right%3B%0A%7D%0A%2Ehandsontable%20%2EhtJustify%7B%0A%20%20text%2Dalign%3A%20justify%3B%0A%7D%0A%2F%2A%0ATextRenderer%20vertical%20alignment%0A%2A%2F%0A%2Ehandsontable%20%2EhtTop%7B%0A%20%20vertical%2Dalign%3A%20top%3B%0A%7D%0A%2Ehandsontable%20%2EhtMiddle%7B%0A%20%20vertical%2Dalign%3A%20middle%3B%0A%7D%0A%2Ehandsontable%20%2EhtBottom%7B%0A%20%20vertical%2Dalign%3A%20bottom%3B%0A%7D%0A%0A%2F%2A%0ATextRenderer%20placeholder%20value%0A%2A%2F%0A%0A%2Ehandsontable%20%2EhtPlaceholder%20%7B%0A%20%20color%3A%20%23999%3B%0A%7D%0A%0A%2F%2A%0AAutocompleteRenderer%20down%20arrow%0A%2A%2F%0A%0A%2Ehandsontable%20%2EhtAutocompleteArrow%20%7B%0A%20%20float%3A%20right%3B%0A%20%20font%2Dsize%3A%2010px%3B%0A%20%20color%3A%20%23EEE%3B%0A%20%20cursor%3A%20default%3B%0A%20%20width%3A%2016px%3B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%2Ehandsontable%20td%20%2EhtAutocompleteArrow%3Ahover%20%7B%0A%20%20color%3A%20%23777%3B%0A%7D%0A%0A%2Ehandsontable%20td%2Earea%20%2EhtAutocompleteArrow%20%7B%0A%20%20color%3A%20%23d3d3d3%3B%0A%7D%0A%0A%2F%2A%0ACheckboxRenderer%0A%2A%2F%0A%0A%2Ehandsontable%20%2EhtCheckboxRendererInput%2EnoValue%20%7B%0A%20%20opacity%3A%200%2E5%3B%0A%7D%0A%0A%2F%2A%0ANumericRenderer%0A%2A%2F%0A%0A%2Ehandsontable%20%2EhtNumeric%20%7B%0A%20%20text%2Dalign%3A%20right%3B%0A%7D%0A%0A%2F%2A%0AComment%20For%20Cell%0A%2A%2F%0A%2EhtCommentCell%7B%0A%20%20position%3A%20relative%3B%0A%7D%0A%2EhtCommentCell%3Aafter%7B%0A%20%20content%3A%20%27%27%3B%0A%20%20position%3A%20absolute%3B%0A%20%20top%3A%200%3B%0A%20%20right%3A%200%3B%0A%20%20border%2Dleft%3A%206px%20solid%20transparent%3B%0A%20%20border%2Dtop%3A%206px%20solid%20red%3B%0A%7D%0A%0A%40%2Dwebkit%2Dkeyframes%20opacity%2Dhide%20%7B%0A%20%20from%20%7B%0A%20%20%20%20opacity%3A%201%3B%0A%20%20%7D%0A%20%20to%20%7B%0A%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%2F%2Adisplay%3A%20none%3B%2A%2F%0A%20%20%7D%0A%7D%0A%40keyframes%20opacity%2Dhide%20%7B%0A%20%20from%20%7B%0A%20%20%20%20%2F%2Adisplay%3A%20block%3B%2A%2F%0A%20%20%20%20opacity%3A%201%3B%0A%20%20%7D%0A%20%20to%20%7B%0A%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%2F%2Adisplay%3A%20none%3B%2A%2F%0A%20%20%7D%0A%7D%0A%0A%40%2Dwebkit%2Dkeyframes%20opacity%2Dshow%20%7B%0A%20%20from%20%7B%0A%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%2F%2Adisplay%3A%20none%3B%2A%2F%0A%20%20%7D%0A%20%20to%20%7B%0A%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%2F%2Adisplay%3A%20block%3B%2A%2F%0A%20%20%7D%0A%7D%0A%40keyframes%20opacity%2Dshow%20%7B%0A%20%20from%20%7B%0A%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%2F%2Adisplay%3A%20none%3B%2A%2F%0A%20%20%7D%0A%20%20to%20%7B%0A%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%2F%2Adisplay%3A%20block%3B%2A%2F%0A%20%20%7D%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20Handsontable%20in%20Handsontable%0A%20%2A%2F%0A%0A%2Ehandsontable%20%2Ehandsontable%2Eht%5Fclone%5Ftop%20%2EwtHider%20%7B%0A%20%20padding%3A%200%200%205px%200%3B%0A%7D%0A%0A%2Ehandsontable%20%2Ehandsontable%3Anot%28%2Eht%5Fmaster%29%20table%20%7B%0A%20%20%2Dwebkit%2Dbox%2Dshadow%3A%201px%202px%205px%20rgba%280%2C%200%2C%200%2C%200%2E4%29%3B%0A%20%20box%2Dshadow%3A%201px%202px%205px%20rgba%280%2C%200%2C%200%2C%200%2E4%29%3B%0A%7D%0A%0A%2F%2A%2A%0A%2A%20Autocomplete%20Editor%0A%2A%2F%0A%2Ehandsontable%20%2EautocompleteEditor%2Ehandsontable%20%7B%0A%20%20padding%2Dright%3A%2017px%3B%0A%7D%0A%2Ehandsontable%20%2EautocompleteEditor%2Ehandsontable%2EhtMacScroll%20%7B%0A%20%20padding%2Dright%3A%2015px%3B%0A%7D%0A%0A%0A%2F%2A%2A%0A%20%2A%20Handsontable%20listbox%20theme%0A%20%2A%2F%0A%0A%2Ehandsontable%2Elistbox%20%7B%0A%20%20margin%3A%200%3B%0A%7D%0A%0A%2Ehandsontable%2Elistbox%20%2Eht%5Fmaster%20table%20%7B%0A%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20border%2Dcollapse%3A%20separate%3B%0A%20%20background%3A%20white%3B%0A%7D%0A%0A%2Ehandsontable%2Elistbox%20th%2C%0A%2Ehandsontable%2Elistbox%20tr%3Afirst%2Dchild%20th%2C%0A%2Ehandsontable%2Elistbox%20tr%3Alast%2Dchild%20th%2C%0A%2Ehandsontable%2Elistbox%20tr%3Afirst%2Dchild%20td%2C%0A%2Ehandsontable%2Elistbox%20td%20%7B%0A%20%20border%2Dwidth%3A%200%3B%0A%7D%0A%0A%2Ehandsontable%2Elistbox%20th%2C%0A%2Ehandsontable%2Elistbox%20td%20%7B%0A%20%20white%2Dspace%3A%20nowrap%3B%0A%20%20text%2Doverflow%3A%20ellipsis%3B%0A%7D%0A%0A%2Ehandsontable%2Elistbox%20td%2EhtDimmed%20%7B%0A%20%20cursor%3A%20default%3B%0A%20%20color%3A%20inherit%3B%0A%20%20font%2Dstyle%3A%20inherit%3B%0A%7D%0A%0A%2Ehandsontable%2Elistbox%20%2EwtBorder%20%7B%0A%20%20visibility%3A%20hidden%3B%0A%7D%0A%0A%2Ehandsontable%2Elistbox%20tr%20td%2Ecurrent%2C%0A%2Ehandsontable%2Elistbox%20tr%3Ahover%20td%20%7B%0A%20%20background%3A%20%23eee%3B%0A%7D%0A%0A%2EhtContextMenu%20%7B%0A%20%20display%3A%20none%3B%0A%20%20position%3A%20absolute%3B%0A%20%20z%2Dindex%3A%201060%3B%20%2F%2Aneeds%20to%20be%20higher%20than%201050%20%2D%20z%2Dindex%20for%20Twitter%20Bootstrap%20modal%20%28%231569%29%2A%2F%0A%20%20overflow%3A%20hidden%3B%0A%7D%0A%0A%2EhtContextMenu%20%2Eht%5Fclone%5Ftop%2C%0A%2EhtContextMenu%20%2Eht%5Fclone%5Fleft%2C%0A%2EhtContextMenu%20%2Eht%5Fclone%5Fcorner%2C%0A%2EhtContextMenu%20%2Eht%5Fclone%5Fdebug%20%7B%0A%20%20display%3A%20none%3B%0A%7D%0A%0A%2Eht%5Fclone%5Ftop%20%7B%0A%20%20z%2Dindex%3A%20101%3B%0A%7D%0A%0A%2Eht%5Fclone%5Fleft%20%7B%0A%20%20z%2Dindex%3A%20102%3B%0A%7D%0A%0A%2Eht%5Fclone%5Fcorner%20%7B%0A%20%20z%2Dindex%3A%20103%3B%0A%7D%0A%0A%2Eht%5Fclone%5Fdebug%20%7B%0A%20%20z%2Dindex%3A%20103%3B%0A%7D%0A%0A%2EhtContextMenu%20table%2EhtCore%20%7B%0A%20%20border%3A%201px%20solid%20%23bbb%3B%0A%7D%0A%0A%2EhtContextMenu%20%2EwtBorder%20%7B%0A%20%20visibility%3A%20hidden%3B%0A%7D%0A%0A%2EhtContextMenu%20table%20tbody%20tr%20td%20%7B%0A%20%20background%3A%20white%3B%0A%20%20border%2Dwidth%3A%200%3B%0A%20%20padding%3A%204px%206px%200px%206px%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20overflow%3A%20hidden%3B%0A%20%20white%2Dspace%3A%20nowrap%3B%0A%20%20text%2Doverflow%3A%20ellipsis%3B%0A%7D%0A%0A%2EhtContextMenu%20table%20tbody%20tr%20td%3Afirst%2Dchild%20%7B%0A%20%20border%3A%200%3B%0A%7D%0A%0A%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtDimmed%7B%0A%20%20font%2Dstyle%3A%20normal%3B%0A%20%20color%3A%20%23323232%3B%0A%7D%0A%0A%2EhtContextMenu%20table%20tbody%20tr%20td%2Ecurrent%2C%0A%2EhtContextMenu%20table%20tbody%20tr%20td%2Ezeroclipboard%2Dis%2Dhover%20%7B%0A%20%20background%3A%20rgb%28233%2C%20233%2C%20233%29%3B%0A%7D%0A%0A%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtSeparator%20%7B%0A%20%20border%2Dtop%3A%201px%20solid%20%23bbb%3B%0A%20%20height%3A%200%3B%0A%20%20padding%3A%200%3B%0A%7D%0A%0A%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtDisabled%20%7B%0A%20%20color%3A%20%23999%3B%0A%7D%0A%0A%2EhtContextMenu%20table%20tbody%20tr%20td%2EhtDisabled%3Ahover%20%7B%0A%20%20background%3A%20white%3B%0A%20%20color%3A%20%23999%3B%0A%20%20cursor%3A%20default%3B%0A%7D%0A%2EhtContextMenu%20table%20tbody%20tr%20td%20div%7B%0A%20%20padding%2Dleft%3A%2010px%3B%0A%7D%0A%2EhtContextMenu%20table%20tbody%20tr%20td%20div%20span%2Eselected%7B%0A%20%20margin%2Dtop%3A%20%2D2px%3B%0A%20%20position%3A%20absolute%3B%0A%20%20left%3A%204px%3B%0A%7D%0A%0A%2EhtContextMenu%20%2Eht%5Fmaster%20%2EwtHolder%20%7B%0A%20%20overflow%3A%20hidden%3B%0A%7D%0A%0A%2Ehandsontable%20td%2EhtSearchResult%20%7B%0A%20%20background%3A%20%23fcedd9%3B%0A%20%20color%3A%20%23583707%3B%0A%7D%0A%0A%2F%2A%0ACell%20borders%0A%2A%2F%0A%2EhtBordered%7B%0A%20%20%2F%2Abox%2Dsizing%3A%20border%2Dbox%20%21important%3B%2A%2F%0A%20%20border%2Dwidth%3A%201px%3B%0A%7D%0A%2EhtBordered%2EhtTopBorderSolid%7B%0A%20%20border%2Dtop%2Dstyle%3A%20solid%3B%0A%20%20border%2Dtop%2Dcolor%3A%20%23000%3B%0A%7D%0A%2EhtBordered%2EhtRightBorderSolid%7B%0A%20%20border%2Dright%2Dstyle%3A%20solid%3B%0A%20%20border%2Dright%2Dcolor%3A%20%23000%3B%0A%7D%0A%2EhtBordered%2EhtBottomBorderSolid%7B%0A%20%20border%2Dbottom%2Dstyle%3A%20solid%3B%0A%20%20border%2Dbottom%2Dcolor%3A%20%23000%3B%0A%7D%0A%2EhtBordered%2EhtLeftBorderSolid%7B%0A%20%20border%2Dleft%2Dstyle%3A%20solid%3B%0A%20%20border%2Dleft%2Dcolor%3A%20%23000%3B%0A%7D%0A%0A%2EhtCommentTextArea%7B%0A%20%20background%2Dcolor%3A%20%23FFFACD%3B%0A%20%20box%2Dshadow%3A%201px%201px%202px%20%23bbb%3B%0A%20%20font%2Dfamily%3A%20%27Arial%27%3B%0A%20%20%2Dwebkit%2Dbox%2Dshadow%3A%201px%201px%202px%20%23bbb%3B%0A%20%20%2Dmoz%2Dbox%2Dshadow%3A%201px%201px%202px%20%23bbb%3B%0A%0A%7D%0A%0A%2F%2A%20Grouping%20indicators%20%2A%2F%0A%2Ehandsontable%20colgroup%20col%2ErowHeader%2EhtGroupCol%20%7B%0A%20%20width%3A%2025px%20%21important%3B%0A%7D%0A%2Ehandsontable%20colgroup%20col%2ErowHeader%2EhtGroupColClosest%20%7B%0A%20%20width%3A%2030px%20%21important%3B%0A%7D%0A%0A%2Ehandsontable%20%2EhtGroupIndicatorContainer%20%7B%0A%20%20background%3A%20%23fff%3B%0A%20%20border%3A%200px%3B%0A%20%20padding%2Dbottom%3A%200px%3B%0A%20%20vertical%2Dalign%3A%20bottom%3B%0A%20%20position%3A%20relative%3B%0A%7D%0A%0A%2Ehandsontable%20thead%20%2EhtGroupIndicatorContainer%20%7B%0A%20%20vertical%2Dalign%3A%20top%3B%0A%20%20border%2Dbottom%3A%200px%3B%0A%7D%0A%0A%2Ehandsontable%20tbody%20tr%20th%3Anth%2Dlast%2Dchild%282%29%20%7B%0A%20%20border%2Dright%3A%201px%20solid%20%23CCC%3B%0A%7D%0A%0A%2Ehandsontable%20thead%20tr%3Anth%2Dlast%2Dchild%282%29%20th%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23CCC%3B%0A%20%20padding%2Dbottom%3A%205px%3B%0A%7D%0A%0A%0A%2Eht%5Fclone%5Fcorner%20thead%20tr%20th%3Anth%2Dlast%2Dchild%282%29%20%7B%0A%20%20border%2Dright%3A%201px%20solid%20%23CCC%3B%0A%7D%0A%0A%2EhtVerticalGroup%20%7B%0A%20%20height%3A%20100%25%3B%0A%7D%0A%0A%2EhtHorizontalGroup%20%7B%0A%20%20width%3A%20100%25%3B%0A%20%20height%3A%20100%25%3B%0A%7D%0A%0A%2EhtVerticalGroup%3Anot%28%2EhtCollapseButton%29%3Aafter%20%7B%0A%20%20content%3A%20%22%22%3B%0A%20%20height%3A%20100%25%3B%0A%20%20width%3A%201px%3B%0A%20%20display%3A%20block%3B%0A%20%20background%3A%20%23ccc%3B%0A%20%20margin%2Dleft%3A%205px%3B%0A%7D%0A%0A%2EhtHorizontalGroup%3Anot%28%2EhtCollapseButton%29%3Aafter%20%7B%0A%20%20content%3A%20%22%22%3B%0A%20%20width%3A%20100%25%3B%0A%20%20height%3A%201px%3B%0A%20%20display%3A%20block%3B%0A%20%20background%3A%20%23ccc%3B%0A%20%20margin%2Dtop%3A%2020%25%3B%0A%7D%0A%0A%2EhtCollapseButton%20%7B%0A%20%20width%3A%2010px%3B%0A%20%20height%3A%2010px%3B%0A%20%20line%2Dheight%3A%2010px%3B%0A%20%20text%2Dalign%3A%20center%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%20%20border%3A%201px%20solid%20%23f3f3f3%3B%0A%20%20%2Dwebkit%2Dbox%2Dshadow%3A%201px%201px%203px%20rgba%280%2C%200%2C%200%2C%200%2E4%29%3B%0A%20%20box%2Dshadow%3A%201px%201px%203px%20rgba%280%2C%200%2C%200%2C%200%2E4%29%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20margin%2Dbottom%3A%203px%3B%0A%20%20position%3A%20relative%3B%0A%7D%0A%0A%2EhtCollapseButton%3Aafter%20%7B%0A%20%20content%3A%20%22%22%3B%0A%20%20height%3A%20300%25%3B%0A%20%20width%3A%201px%3B%0A%20%20display%3A%20block%3B%0A%20%20background%3A%20%23ccc%3B%0A%20%20margin%2Dleft%3A%204px%3B%0A%20%20position%3A%20absolute%3B%0A%20%20%2F%2Atop%3A%20%2D300%25%3B%2A%2F%0A%20%20bottom%3A%2010px%3B%0A%7D%0A%0A%0Athead%20%2EhtCollapseButton%20%7B%0A%20%20right%3A%205px%3B%0A%20%20position%3A%20absolute%3B%0A%20%20top%3A%205px%3B%0A%20%20background%3A%20%23fff%3B%0A%7D%0A%0Athead%20%2EhtCollapseButton%3Aafter%20%7B%0A%20%20height%3A%201px%3B%0A%20%20width%3A%20700%25%3B%0A%20%20right%3A%2010px%3B%0A%20%20top%3A%204px%3B%0A%7D%0A%0A%2Ehandsontable%20tr%20th%20%2EhtGroupStart%3Aafter%20%7B%0A%20%20background%3A%20transparent%3B%0A%20%20border%2Dleft%3A%201px%20solid%20%23ccc%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23ccc%3B%0A%20%20width%3A%205px%3B%0A%20%20position%3A%20relative%3B%0A%20%20top%3A%2050%25%3B%0A%7D%0A%0A%2Ehandsontable%20thead%20tr%20th%20%2EhtGroupStart%3Aafter%20%7B%0A%20%20background%3A%20transparent%3B%0A%20%20border%2Dleft%3A%201px%20solid%20%23ccc%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23ccc%3B%0A%20%20height%3A%205px%3B%0A%20%20width%3A%2050%25%3B%0A%20%20position%3A%20relative%3B%0A%20%20top%3A%200px%3B%0A%20%20left%3A%2050%25%3B%0A%7D%0A%0A%2Ehandsontable%20%2EhtGroupLevelTrigger%20%7B%0A%20%20%2Dwebkit%2Dbox%2Dshadow%3A%201px%201px%203px%20rgba%280%2C%200%2C%200%2C%200%2E4%29%3B%0A%20%20box%2Dshadow%3A%201px%201px%203px%20rgba%280%2C%200%2C%200%2C%200%2E4%29%3B%0A%20%20width%3A%2015px%3B%0A%20%20height%3A%2015px%3B%0A%20%20margin%3A%204px%20auto%3B%0A%20%20padding%3A%200px%3B%0A%20%20line%2Dheight%3A%2015px%3B%0A%20%20cursor%3A%20pointer%3B%0A%7D%0A%0A%2Ehandsontable%20tr%20th%20%2EhtExpandButton%20%7B%0A%20%20position%3A%20absolute%3B%0A%20%20width%3A%2010px%3B%0A%20%20height%3A%2010px%3B%0A%20%20line%2Dheight%3A%2010px%3B%0A%20%20text%2Dalign%3A%20center%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%20%20border%3A%201px%20solid%20%23f3f3f3%3B%0A%20%20%2Dwebkit%2Dbox%2Dshadow%3A%201px%201px%203px%20rgba%280%2C%200%2C%200%2C%200%2E4%29%3B%0A%20%20box%2Dshadow%3A%201px%201px%203px%20rgba%280%2C%200%2C%200%2C%200%2E4%29%3B%0A%20%20cursor%3A%20pointer%3B%0A%20%20top%3A%200px%3B%0A%20%20display%3A%20none%3B%0A%7D%0A%0A%2Ehandsontable%20thead%20tr%20th%20%2EhtExpandButton%20%7B%0A%20%20%2F%2Aleft%3A%205px%3B%2A%2F%0A%20%20top%3A%205px%3B%0A%7D%0A%0A%2Ehandsontable%20tr%20th%20%2EhtExpandButton%2Eclickable%20%7B%0A%20%20display%3A%20block%3B%0A%7D%0A%0A%2Ehandsontable%20col%2Ehidden%20%7B%0A%20%20width%3A%200px%20%21important%3B%0A%7D%0A%0A%2Ehandsontable%20tr%2Ehidden%2C%0A%2Ehandsontable%20tr%2Ehidden%20td%2C%0A%2Ehandsontable%20tr%2Ehidden%20th%20%7B%0A%20%20display%3A%20none%3B%0A%7D%0A%0A%2Eht%5Fmaster%2C%0A%2Eht%5Fclone%5Fleft%2C%0A%2Eht%5Fclone%5Ftop%20%7B%0A%20%20overflow%3A%20hidden%3B%0A%7D%0A%0A%2Eht%5Fmaster%20%2EwtHolder%20%7B%0A%20%20overflow%3A%20auto%3B%0A%7D%0A%0A%2Eht%5Fclone%5Fleft%20%2EwtHolder%20%7B%0A%20%20overflow%2Dx%3A%20hidden%3B%0A%20%20overflow%2Dy%3A%20auto%3B%0A%7D%0A%0A%2Eht%5Fclone%5Ftop%20%2EwtHolder%20%7B%0A%20%20overflow%2Dx%3A%20auto%3B%0A%20%20overflow%2Dy%3A%20hidden%3B%0A%7D%0A%0A%0A%2F%2AWalkontableDebugOverlay%2A%2F%0A%0A%2EwtDebugHidden%20%7B%0A%20%20display%3A%20none%3B%0A%7D%0A%0A%2EwtDebugVisible%20%7B%0A%20%20display%3A%20block%3B%0A%20%20%2Dwebkit%2Danimation%2Dduration%3A%200%2E5s%3B%0A%20%20%2Dwebkit%2Danimation%2Dname%3A%20wtFadeInFromNone%3B%0A%20%20animation%2Dduration%3A%200%2E5s%3B%0A%20%20animation%2Dname%3A%20wtFadeInFromNone%3B%0A%7D%0A%0A%40keyframes%20wtFadeInFromNone%20%7B%0A%20%200%25%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%20%20%20%20opacity%3A%200%3B%0A%20%20%7D%0A%0A%20%201%25%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20opacity%3A%200%3B%0A%20%20%7D%0A%0A%20%20100%25%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20opacity%3A%201%3B%0A%20%20%7D%0A%7D%0A%0A%40%2Dwebkit%2Dkeyframes%20wtFadeInFromNone%20%7B%0A%20%200%25%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%20%20%20%20opacity%3A%200%3B%0A%20%20%7D%0A%0A%20%201%25%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20opacity%3A%200%3B%0A%20%20%7D%0A%0A%20%20100%25%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20opacity%3A%201%3B%0A%20%20%7D%0A%7D%0A%0A%2F%2A%0A%0A%20Handsontable%20Mobile%20Text%20Editor%20stylesheet%0A%0A%20%2A%2F%0A%0A%2Ehandsontable%2Emobile%2C%0A%2Ehandsontable%2Emobile%20%2EwtHolder%20%7B%0A%20%20%2Dwebkit%2Dtouch%2Dcallout%3Anone%3B%0A%20%20%2Dwebkit%2Duser%2Dselect%3Anone%3B%0A%20%20%2Dkhtml%2Duser%2Dselect%3Anone%3B%0A%20%20%2Dmoz%2Duser%2Dselect%3Anone%3B%0A%20%20%2Dms%2Duser%2Dselect%3Anone%3B%0A%20%20user%2Dselect%3Anone%3B%0A%20%20%2Dwebkit%2Dtap%2Dhighlight%2Dcolor%3Argba%280%2C0%2C0%2C0%29%3B%0A%20%20%2Dwebkit%2Doverflow%2Dscrolling%3A%20touch%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%7B%0A%20%20display%3A%20none%3B%0A%20%20position%3A%20absolute%3B%0A%20%20top%3A%200%3B%0A%20%20width%3A%2070%25%3B%0A%20%20height%3A%2054pt%3B%0A%20%20background%3A%20%23f8f8f8%3B%0A%20%20border%2Dradius%3A%2020px%3B%0A%20%20border%3A%201px%20solid%20%23ebebeb%3B%0A%20%20z%2Dindex%3A%20999%3B%0A%20%20box%2Dsizing%3A%20border%2Dbox%3B%0A%20%20%2Dwebkit%2Dbox%2Dsizing%3A%20border%2Dbox%3B%0A%20%20%2Dwebkit%2Dtext%2Dsize%2Dadjust%3A%20none%3B%0A%7D%0A%0A%2EtopLeftSelectionHandle%3Anot%28%2Eht%5Fmaster%20%2EtopLeftSelectionHandle%29%2C%0A%2EtopLeftSelectionHandle%2DHitArea%3Anot%28%2Eht%5Fmaster%20%2EtopLeftSelectionHandle%2DHitArea%29%20%7B%0A%20%20z%2Dindex%3A%209999%3B%0A%7D%0A%0A%2F%2A%20Initial%20left%2Ftop%20coordinates%20%2D%20overwritten%20when%20actual%20position%20is%20set%20%2A%2F%0A%2EtopLeftSelectionHandle%2C%0A%2EtopLeftSelectionHandle%2DHitArea%2C%0A%2EbottomRightSelectionHandle%2C%0A%2EbottomRightSelectionHandle%2DHitArea%20%7B%0A%20%20left%3A%20%2D10000px%3B%0A%20%20top%3A%20%2D10000px%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%2Eactive%20%7B%0A%20%20display%3A%20block%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2Einputs%20%7B%0A%20%20position%3A%20absolute%3B%0A%20%20right%3A%20210pt%3B%0A%20%20bottom%3A%2010pt%3B%0A%20%20top%3A%2010pt%3B%0A%20%20left%3A%2014px%3B%0A%20%20height%3A%2034pt%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2Einputs%20textarea%20%7B%0A%20%20font%2Dsize%3A%2013pt%3B%0A%20%20border%3A%201px%20solid%20%23a1a1a1%3B%0A%20%20%2Dwebkit%2Dappearance%3A%20none%3B%0A%20%20%2Dwebkit%2Dbox%2Dshadow%3A%20none%3B%0A%20%20%2Dmoz%2Dbox%2Dshadow%3A%20none%3B%0A%20%20box%2Dshadow%3A%20none%3B%0A%20%20position%3A%20absolute%3B%0A%20%20left%3A%2014px%3B%0A%20%20right%3A%2014px%3B%0A%20%20top%3A%200%3B%0A%20%20bottom%3A%200%3B%0A%20%20padding%3A%207pt%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EcellPointer%20%7B%0A%20%20position%3A%20absolute%3B%0A%20%20top%3A%20%2D13pt%3B%0A%20%20height%3A%200%3B%0A%20%20width%3A%200%3B%0A%20%20left%3A%2030px%3B%0A%0A%20%20border%2Dleft%3A%2013pt%20solid%20transparent%3B%0A%20%20border%2Dright%3A%2013pt%20solid%20transparent%3B%0A%20%20border%2Dbottom%3A%2013pt%20solid%20%23ebebeb%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EcellPointer%2Ehidden%20%7B%0A%20%20display%3A%20none%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EcellPointer%3Abefore%20%7B%0A%20%20content%3A%20%27%27%3B%0A%20%20display%3A%20block%3B%0A%20%20position%3A%20absolute%3B%0A%20%20top%3A%202px%3B%0A%20%20height%3A%200%3B%0A%20%20width%3A%200%3B%0A%20%20left%3A%20%2D13pt%3B%0A%0A%20%20border%2Dleft%3A%2013pt%20solid%20transparent%3B%0A%20%20border%2Dright%3A%2013pt%20solid%20transparent%3B%0A%20%20border%2Dbottom%3A%2013pt%20solid%20%23f8f8f8%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EmoveHandle%20%7B%0A%20%20position%3A%20absolute%3B%0A%20%20top%3A%2010pt%3B%0A%20%20left%3A%205px%3B%0A%20%20width%3A%2030px%3B%0A%20%20bottom%3A%200px%3B%0A%20%20cursor%3A%20move%3B%0A%20%20z%2Dindex%3A%209999%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EmoveHandle%3Aafter%20%7B%0A%20%20content%3A%20%22%2E%2E%5Ca%2E%2E%5Ca%2E%2E%5Ca%2E%2E%22%3B%0A%20%20white%2Dspace%3A%20pre%3B%0A%20%20line%2Dheight%3A%2010px%3B%0A%20%20font%2Dsize%3A%2020pt%3B%0A%20%20display%3A%20inline%2Dblock%3B%0A%20%20margin%2Dtop%3A%20%2D8px%3B%0A%20%20color%3A%20%23ebebeb%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EpositionControls%20%7B%0A%20%20width%3A%20205pt%3B%0A%20%20position%3A%20absolute%3B%0A%20%20right%3A%205pt%3B%0A%20%20top%3A%200%3B%0A%20%20bottom%3A%200%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EpositionControls%20%3E%20div%20%7B%0A%20%20width%3A%2050pt%3B%0A%20%20height%3A%20100%25%3B%0A%20%20float%3A%20left%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EpositionControls%20%3E%20div%3Aafter%20%7B%0A%20%20content%3A%20%22%20%22%3B%0A%20%20display%3A%20block%3B%0A%20%20width%3A%2015pt%3B%0A%20%20height%3A%2015pt%3B%0A%20%20text%2Dalign%3A%20center%3B%0A%20%20line%2Dheight%3A%2050pt%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EleftButton%3Aafter%2C%0A%2EhtMobileEditorContainer%20%2ErightButton%3Aafter%2C%0A%2EhtMobileEditorContainer%20%2EupButton%3Aafter%2C%0A%2EhtMobileEditorContainer%20%2EdownButton%3Aafter%20%7B%0A%20%20transform%2Dorigin%3A%205pt%205pt%3B%0A%20%20%2Dwebkit%2Dtransform%2Dorigin%3A%205pt%205pt%3B%0A%20%20margin%3A%2021pt%200%200%2021pt%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EleftButton%3Aafter%20%7B%0A%20%20border%2Dtop%3A%202px%20solid%20%23288ffe%3B%0A%20%20border%2Dleft%3A%202px%20solid%20%23288ffe%3B%0A%20%20%2Dwebkit%2Dtransform%3A%20rotate%28%2D45deg%29%3B%0A%20%20%2F%2Amargin%2Dtop%3A%2017pt%3B%2A%2F%0A%20%20%2F%2Amargin%2Dleft%3A%2020pt%3B%2A%2F%0A%7D%0A%2EhtMobileEditorContainer%20%2EleftButton%3Aactive%3Aafter%20%7B%0A%20%20border%2Dcolor%3A%20%23cfcfcf%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2ErightButton%3Aafter%20%7B%0A%20%20border%2Dtop%3A%202px%20solid%20%23288ffe%3B%0A%20%20border%2Dleft%3A%202px%20solid%20%23288ffe%3B%0A%20%20%2Dwebkit%2Dtransform%3A%20rotate%28135deg%29%3B%0A%20%20%2F%2Amargin%2Dtop%3A%2017pt%3B%2A%2F%0A%20%20%2F%2Amargin%2Dleft%3A%2010pt%3B%2A%2F%0A%7D%0A%2EhtMobileEditorContainer%20%2ErightButton%3Aactive%3Aafter%20%7B%0A%20%20border%2Dcolor%3A%20%23cfcfcf%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EupButton%3Aafter%20%7B%0A%20%20%2F%2Aborder%2Dtop%3A%202px%20solid%20%23cfcfcf%3B%2A%2F%0A%20%20border%2Dtop%3A%202px%20solid%20%23288ffe%3B%0A%20%20border%2Dleft%3A%202px%20solid%20%23288ffe%3B%0A%20%20%2Dwebkit%2Dtransform%3A%20rotate%2845deg%29%3B%0A%20%20%2F%2Amargin%2Dtop%3A%2022pt%3B%2A%2F%0A%20%20%2F%2Amargin%2Dleft%3A%2015pt%3B%2A%2F%0A%7D%0A%2EhtMobileEditorContainer%20%2EupButton%3Aactive%3Aafter%20%7B%0A%20%20border%2Dcolor%3A%20%23cfcfcf%3B%0A%7D%0A%0A%2EhtMobileEditorContainer%20%2EdownButton%3Aafter%20%7B%0A%20%20border%2Dtop%3A%202px%20solid%20%23288ffe%3B%0A%20%20border%2Dleft%3A%202px%20solid%20%23288ffe%3B%0A%20%20%2Dwebkit%2Dtransform%3A%20rotate%28225deg%29%3B%0A%20%20%2F%2Amargin%2Dtop%3A%2015pt%3B%2A%2F%0A%20%20%2F%2Amargin%2Dleft%3A%2015pt%3B%2A%2F%0A%7D%0A%2EhtMobileEditorContainer%20%2EdownButton%3Aactive%3Aafter%20%7B%0A%20%20border%2Dcolor%3A%20%23cfcfcf%3B%0A%7D%0A%0A%2Ehandsontable%2Ehide%2Dtween%20%7B%0A%20%20%2Dwebkit%2Danimation%3A%20opacity%2Dhide%200%2E3s%3B%0A%20%20animation%3A%20opacity%2Dhide%200%2E3s%3B%0A%20%20animation%2Dfill%2Dmode%3A%20forwards%3B%0A%20%20%2Dwebkit%2Danimation%2Dfill%2Dmode%3A%20forwards%3B%0A%7D%0A%0A%2Ehandsontable%2Eshow%2Dtween%20%7B%0A%20%20%2Dwebkit%2Danimation%3A%20opacity%2Dshow%200%2E3s%3B%0A%20%20animation%3A%20opacity%2Dshow%200%2E3s%3B%0A%20%20animation%2Dfill%2Dmode%3A%20forwards%3B%0A%20%20%2Dwebkit%2Danimation%2Dfill%2Dmode%3A%20forwards%3B%0A%7D%0A" rel="stylesheet" />
<script src="data:application/x-javascript,%2F%2A%21%0A%20%2A%20Handsontable%200%2E14%2E1%0A%20%2A%20Handsontable%20is%20a%20JavaScript%20library%20for%20editable%20tables%20with%20basic%20copy%2Dpaste%20compatibility%20with%20Excel%20and%20Google%20Docs%0A%20%2A%0A%20%2A%20Copyright%20%28c%29%202012%2D2014%20Marcin%20Warpechowski%0A%20%2A%20Copyright%20%28c%29%202015%20Handsoncode%20sp%2E%20z%20o%2Eo%2E%20%3Chello%40handsontable%2Ecom%3E%0A%20%2A%20Licensed%20under%20the%20MIT%20license%2E%0A%20%2A%20http%3A%2F%2Fhandsontable%2Ecom%2F%0A%20%2A%0A%20%2A%20Date%3A%20Wed%20Apr%2008%202015%2010%3A00%3A22%20GMT%2B0200%20%28CEST%29%0A%20%2A%2F%0A%2F%2Ajslint%20white%3A%20true%2C%20browser%3A%20true%2C%20plusplus%3A%20true%2C%20indent%3A%204%2C%20maxerr%3A%2050%20%2A%2F%0A%0A%2F%2Fvar%20Handsontable%20%3D%20%7B%20%2F%2Fclass%20namespace%0A%2F%2F%20%20plugins%3A%20%7B%7D%2C%20%2F%2Fplugin%20namespace%0A%2F%2F%20%20helper%3A%20%7B%7D%20%2F%2Fhelper%20namespace%0A%2F%2F%7D%3B%0A%0Avar%20Handsontable%20%3D%20function%20%28rootElement%2C%20userSettings%29%20%7B%0A%20%20userSettings%20%3D%20userSettings%20%7C%7C%20%7B%7D%3B%0A%20%20var%20instance%20%3D%20new%20Handsontable%2ECore%28rootElement%2C%20userSettings%29%3B%0A%20%20instance%2Einit%28%29%3B%0A%20%20return%20instance%3B%0A%7D%3B%0AHandsontable%2Eplugins%20%3D%20%7B%7D%3B%0A%0A%28function%20%28window%2C%20Handsontable%29%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%2F%2Fhttp%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F3629183%2Fwhy%2Ddoesnt%2Dindexof%2Dwork%2Don%2Dan%2Darray%2Die8%0Aif%20%28%21Array%2Eprototype%2EindexOf%29%20%7B%0A%20%20Array%2Eprototype%2EindexOf%20%3D%20function%20%28elt%20%2F%2A%2C%20from%2A%2F%29%20%7B%0A%20%20%20%20var%20len%20%3D%20this%2Elength%20%3E%3E%3E%200%3B%0A%0A%20%20%20%20var%20from%20%3D%20Number%28arguments%5B1%5D%29%20%7C%7C%200%3B%0A%20%20%20%20from%20%3D%20%28from%20%3C%200%29%0A%20%20%20%20%20%20%3F%20Math%2Eceil%28from%29%0A%20%20%20%20%20%20%3A%20Math%2Efloor%28from%29%3B%0A%20%20%20%20if%20%28from%20%3C%200%29%0A%20%20%20%20%20%20from%20%2B%3D%20len%3B%0A%0A%20%20%20%20for%20%28%3B%20from%20%3C%20len%3B%20from%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28from%20in%20this%20%26%26%0A%20%20%20%20%20%20%20%20this%5Bfrom%5D%20%3D%3D%3D%20elt%29%0A%20%20%20%20%20%20%20%20return%20from%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20%2D1%3B%0A%20%20%7D%3B%0A%7D%0A%2F%2A%2A%0A%20%2A%20Array%2Efilter%28%29%20shim%20by%20Trevor%20Menagh%20%28https%3A%2F%2Fgithub%2Ecom%2Ftrevmex%29%20with%20some%20modifications%0A%20%2A%2F%0A%0Aif%20%28%21Array%2Eprototype%2Efilter%29%20%7B%0A%20%20Array%2Eprototype%2Efilter%20%3D%20function%20%28fun%2C%20thisp%29%20%7B%0A%20%20%20%20%22use%20strict%22%3B%0A%0A%20%20%20%20if%20%28typeof%20this%20%3D%3D%3D%20%22undefined%22%20%7C%7C%20this%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20throw%20new%20TypeError%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28typeof%20fun%20%21%3D%3D%20%22function%22%29%20%7B%0A%20%20%20%20%20%20throw%20new%20TypeError%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20thisp%20%3D%20thisp%20%7C%7C%20this%3B%0A%0A%20%20%20%20if%20%28isNodeList%28thisp%29%29%20%7B%0A%20%20%20%20%20%20thisp%20%3D%20convertNodeListToArray%28thisp%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20len%20%3D%20thisp%2Elength%2C%0A%20%20%20%20%20%20res%20%3D%20%5B%5D%2C%0A%20%20%20%20%20%20i%2C%0A%20%20%20%20%20%20val%3B%0A%0A%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20len%3B%20i%20%2B%3D%201%29%20%7B%0A%20%20%20%20%20%20if%20%28thisp%2EhasOwnProperty%28i%29%29%20%7B%0A%20%20%20%20%20%20%20%20val%20%3D%20thisp%5Bi%5D%3B%20%2F%2F%20in%20case%20fun%20mutates%20this%0A%20%20%20%20%20%20%20%20if%20%28fun%2Ecall%28thisp%2C%20val%2C%20i%2C%20thisp%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20res%2Epush%28val%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20res%3B%0A%0A%20%20%20%20function%20isNodeList%28object%29%20%7B%0A%20%20%20%20%20%20return%20%2FNodeList%2Fi%2Etest%28object%2Eitem%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20convertNodeListToArray%28nodeList%29%20%7B%0A%20%20%20%20%20%20var%20array%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20len%20%3D%20nodeList%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20array%5Bi%5D%20%3D%20nodeList%5Bi%5D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20array%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%0A%0Aif%20%28%21Array%2EisArray%29%20%7B%0A%20%20Array%2EisArray%20%3D%20function%28obj%29%20%7B%0A%20%20%20%20return%20toString%2Ecall%28obj%29%20%3D%3D%20%27%5Bobject%20Array%5D%27%3B%0A%20%20%7D%3B%0A%7D%0A%0A%2F%2F%20From%20https%3A%2F%2Fdeveloper%2Emozilla%2Eorg%2Fen%2DUS%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal%5FObjects%2FObject%2Fkeys%0A%2F%2F%20License%20CC%2DBY%2DSA%20v2%2E5%0Aif%20%28%21Object%2Ekeys%29%20%7B%0A%20%20Object%2Ekeys%20%3D%20%28function%28%29%20%7B%0A%20%20%20%20%27use%20strict%27%3B%0A%20%20%20%20var%20hasOwnProperty%20%3D%20Object%2Eprototype%2EhasOwnProperty%2C%0A%20%20%20%20%20%20hasDontEnumBug%20%3D%20%21%28%7B%20toString%3A%20null%20%7D%29%2EpropertyIsEnumerable%28%27toString%27%29%2C%0A%20%20%20%20%20%20dontEnums%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%27toString%27%2C%0A%20%20%20%20%20%20%20%20%27toLocaleString%27%2C%0A%20%20%20%20%20%20%20%20%27valueOf%27%2C%0A%20%20%20%20%20%20%20%20%27hasOwnProperty%27%2C%0A%20%20%20%20%20%20%20%20%27isPrototypeOf%27%2C%0A%20%20%20%20%20%20%20%20%27propertyIsEnumerable%27%2C%0A%20%20%20%20%20%20%20%20%27constructor%27%0A%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20dontEnumsLength%20%3D%20dontEnums%2Elength%3B%0A%0A%20%20%20%20return%20function%28obj%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20obj%20%21%3D%3D%20%27object%27%20%26%26%20%28typeof%20obj%20%21%3D%3D%20%27function%27%20%7C%7C%20obj%20%3D%3D%3D%20null%29%29%20%7B%0A%20%20%20%20%20%20%20%20throw%20new%20TypeError%28%27Object%2Ekeys%20called%20on%20non%2Dobject%27%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20result%20%3D%20%5B%5D%2C%20prop%2C%20i%3B%0A%0A%20%20%20%20%20%20for%20%28prop%20in%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28hasOwnProperty%2Ecall%28obj%2C%20prop%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20result%2Epush%28prop%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28hasDontEnumBug%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20dontEnumsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28hasOwnProperty%2Ecall%28obj%2C%20dontEnums%5Bi%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20result%2Epush%28dontEnums%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%28%29%29%3B%0A%7D%0A%0A%2F%2A%0A%20%2A%20Copyright%202012%20The%20Polymer%20Authors%2E%20All%20rights%20reserved%2E%0A%20%2A%20Use%20of%20this%20source%20code%20is%20governed%20by%20a%20BSD%2Dstyle%0A%20%2A%20license%20that%20can%20be%20found%20in%20the%20LICENSE%20file%2E%0A%20%2A%2F%0A%0Aif%20%28typeof%20WeakMap%20%3D%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%28function%28%29%20%7B%0A%20%20%20%20var%20defineProperty%20%3D%20Object%2EdefineProperty%3B%0A%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20var%20properDefineProperty%20%3D%20true%3B%0A%20%20%20%20%20%20defineProperty%28function%28%29%7B%7D%2C%20%27foo%27%2C%20%7B%7D%29%3B%0A%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20properDefineProperty%20%3D%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%0A%20%20%20%20%20%20IE8%20does%20not%20support%20Date%2Enow%28%29%20but%20IE8%20compatibility%20mode%20in%20IE9%20and%20IE10%20does%2E%0A%20%20%20%20%20%20M%24%20deserves%20a%20high%20five%20for%20this%20one%20%3A%29%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20var%20counter%20%3D%20%2B%28new%20Date%29%20%25%201e9%3B%0A%0A%20%20%20%20var%20WeakMap%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20this%2Ename%20%3D%20%27%5F%5Fst%27%20%2B%20%28Math%2Erandom%28%29%20%2A%201e9%20%3E%3E%3E%200%29%20%2B%20%28counter%2B%2B%20%2B%20%27%5F%5F%27%29%3B%0A%20%20%20%20%20%20if%28%21properDefineProperty%29%7B%0A%20%20%20%20%20%20%20%20this%2E%5FwmCache%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20if%28properDefineProperty%29%7B%0A%20%20%20%20%20%20WeakMap%2Eprototype%20%3D%20%7B%0A%20%20%20%20%20%20%20%20set%3A%20function%28key%2C%20value%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20entry%20%3D%20key%5Bthis%2Ename%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28entry%20%26%26%20entry%5B0%5D%20%3D%3D%3D%20key%29%0A%20%20%20%20%20%20%20%20%20%20%20%20entry%5B1%5D%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%20%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20defineProperty%28key%2C%20this%2Ename%2C%20%7Bvalue%3A%20%5Bkey%2C%20value%5D%2C%20writable%3A%20true%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20get%3A%20function%28key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20entry%3B%0A%20%20%20%20%20%20%20%20%20%20return%20%28entry%20%3D%20key%5Bthis%2Ename%5D%29%20%26%26%20entry%5B0%5D%20%3D%3D%3D%20key%20%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20entry%5B1%5D%20%3A%20undefined%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%27delete%27%3A%20function%28key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2Eset%28key%2C%20undefined%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20WeakMap%2Eprototype%20%3D%20%7B%0A%20%20%20%20%20%20%20%20set%3A%20function%28key%2C%20value%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20if%28typeof%20key%20%3D%3D%20%27undefined%27%20%7C%7C%20typeof%20value%20%3D%3D%20%27undefined%27%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20len%20%3D%20this%2E%5FwmCache%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this%2E%5FwmCache%5Bi%5D%2Ekey%20%3D%3D%20key%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FwmCache%5Bi%5D%2Evalue%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20this%2E%5FwmCache%2Epush%28%7Bkey%3A%20key%2C%20value%3A%20value%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20get%3A%20function%28key%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20if%28typeof%20key%20%3D%3D%20%27undefined%27%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20len%20%3D%20this%2E%5FwmCache%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this%2E%5FwmCache%5Bi%5D%2Ekey%20%3D%3D%20key%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%20this%2E%5FwmCache%5Bi%5D%2Evalue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%27delete%27%3A%20function%28key%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20if%28typeof%20key%20%3D%3D%20%27undefined%27%29%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20len%20%3D%20this%2E%5FwmCache%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28this%2E%5FwmCache%5Bi%5D%2Ekey%20%3D%3D%20key%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array%2Eprototype%2Eslice%2Ecall%28this%2E%5FwmCache%2C%20i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20window%2EWeakMap%20%3D%20WeakMap%3B%0A%20%20%7D%29%28%29%3B%0A%7D%0A%0AHandsontable%2EactiveGuid%20%3D%20null%3B%0A%0A%2F%2A%2A%0A%20%2A%20%40alias%20Handsontable%2ECore%0A%20%2A%20%40constructor%0A%20%2A%20%40description%0A%20%2A%0A%20%2A%20After%20Handsontable%20is%20constructed%2C%20you%20can%20modify%20the%20grid%20behavior%20using%20the%20available%20public%20methods%2E%0A%20%2A%0A%20%2A%20%2D%2D%2D%0A%20%2A%20%23%23%20How%20to%20call%20methods%0A%20%2A%0A%20%2A%20These%20are%202%20equal%20ways%20to%20call%20a%20Handsontable%20method%3A%0A%20%2A%0A%20%2A%20%40example%0A%20%2A%20%60%60%60js%0A%20%2A%20%2F%2F%20all%20following%20examples%20assume%20that%20you%20constructed%20Handsontable%20like%20this%0A%20%2A%20var%20exampleContainer1%20%3D%20document%2EgetElementById%28%27example1%27%29%3B%0A%20%2A%20var%20ht%20%3D%20new%20Handsontable%28exampleContainer1%2C%20options%29%3B%0A%20%2A%0A%20%2A%20%2F%2F%20now%2C%20to%20use%20setDataAtCell%20method%2C%20you%20can%20either%3A%0A%20%2A%20ht%2EsetDataAtCell%280%2C%200%2C%20%27new%20value%27%29%3B%0A%20%2A%20%60%60%60%0A%20%2A%0A%20%2A%20Alternatively%2C%20you%20can%20call%20the%20method%20using%20jQuery%20wrapper%20%28%5F%5Fobsolete%5F%5F%2C%20requires%20initialization%20using%20our%20jQuery%20guide%0A%20%2A%20%40example%0A%20%2A%20%60%60%60js%0A%20%2A%20%20%20%24%28%27%23example1%27%29%2Ehandsontable%28%27setDataAtCell%27%2C%200%2C%200%2C%20%27new%20value%27%29%3B%0A%20%2A%20%60%60%60%0A%20%2A%20%2D%2D%2D%0A%20%2A%2F%0AHandsontable%2ECore%20%3D%20function%20%28rootElement%2C%20userSettings%29%20%7B%0A%20%20var%20priv%0A%20%20%20%20%2C%20datamap%0A%20%20%20%20%2C%20grid%0A%20%20%20%20%2C%20selection%0A%20%20%20%20%2C%20editorManager%0A%20%20%20%20%2C%20instance%20%3D%20this%0A%20%20%20%20%2C%20GridSettings%20%3D%20function%20%28%29%20%7B%7D%0A%20%20%20%20%2C%20eventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%0A%20%20Handsontable%2Ehelper%2Eextend%28GridSettings%2Eprototype%2C%20DefaultSettings%2Eprototype%29%3B%20%2F%2Fcreate%20grid%20settings%20as%20a%20copy%20of%20default%20settings%0A%20%20Handsontable%2Ehelper%2Eextend%28GridSettings%2Eprototype%2C%20userSettings%29%3B%20%2F%2Foverwrite%20defaults%20with%20user%20settings%0A%20%20Handsontable%2Ehelper%2Eextend%28GridSettings%2Eprototype%2C%20expandType%28userSettings%29%29%3B%0A%0A%20%20this%2ErootElement%20%3D%20rootElement%3B%0A%20%20this%2EisHotTableEnv%20%3D%20Handsontable%2EDom%2EisChildOfWebComponentTable%28this%2ErootElement%29%3B%0A%20%20Handsontable%2EeventManager%2EisHotTableEnv%20%3D%20this%2EisHotTableEnv%3B%0A%0A%20%20this%2Econtainer%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%0A%20%20rootElement%2EinsertBefore%28this%2Econtainer%2C%20rootElement%2EfirstChild%29%3B%0A%0A%20%20this%2Eguid%20%3D%20%27ht%5F%27%20%2B%20Handsontable%2Ehelper%2ErandomString%28%29%3B%20%2F%2Fthis%20is%20the%20namespace%20for%20global%20events%0A%0A%20%20if%20%28%21this%2ErootElement%2Eid%20%7C%7C%20this%2ErootElement%2Eid%2Esubstring%280%2C%203%29%20%3D%3D%3D%20%22ht%5F%22%29%20%7B%0A%20%20%20%20this%2ErootElement%2Eid%20%3D%20this%2Eguid%3B%20%2F%2Fif%20root%20element%20does%20not%20have%20an%20id%2C%20assign%20a%20random%20id%0A%20%20%7D%0A%20%20priv%20%3D%20%7B%0A%20%20%20%20cellSettings%3A%20%5B%5D%2C%0A%20%20%20%20columnSettings%3A%20%5B%5D%2C%0A%20%20%20%20columnsSettingConflicts%3A%20%5B%27data%27%2C%20%27width%27%5D%2C%0A%20%20%20%20settings%3A%20new%20GridSettings%28%29%2C%20%2F%2F%20current%20settings%20instance%0A%20%20%20%20selRange%3A%20null%2C%20%2F%2Fexposed%20by%20public%20method%20%60getSelectedRange%60%0A%20%20%20%20isPopulated%3A%20null%2C%0A%20%20%20%20scrollable%3A%20null%2C%0A%20%20%20%20firstRun%3A%20true%0A%20%20%7D%3B%0A%0A%20%20grid%20%3D%20%7B%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Inserts%20or%20removes%20rows%20and%20columns%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20action%20Possible%20values%3A%20%22insert%5Frow%22%2C%20%22insert%5Fcol%22%2C%20%22remove%5Frow%22%2C%20%22remove%5Fcol%22%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20index%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20%5Bsource%5D%20Optional%2E%20Source%20of%20hook%20runner%2E%0A%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5BkeepEmptyRows%5D%20Optional%2E%20Flag%20for%20preventing%20deletion%20of%20empty%20rows%2E%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20alter%3A%20function%20%28action%2C%20index%2C%20amount%2C%20source%2C%20keepEmptyRows%29%20%7B%0A%20%20%20%20%20%20var%20delta%3B%0A%0A%20%20%20%20%20%20amount%20%3D%20amount%20%7C%7C%201%3B%0A%0A%20%20%20%20%20%20switch%20%28action%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%22insert%5Frow%22%3A%0A%20%20%20%20%20%20%20%20%20%20delta%20%3D%20datamap%2EcreateRow%28index%2C%20amount%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28delta%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28selection%2EisSelected%28%29%20%26%26%20priv%2EselRange%2Efrom%2Erow%20%3E%3D%20index%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20priv%2EselRange%2Efrom%2Erow%20%3D%20priv%2EselRange%2Efrom%2Erow%20%2B%20delta%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20selection%2EtransformEnd%28delta%2C%200%29%3B%20%2F%2Fwill%20call%20render%28%29%20internally%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20selection%2ErefreshBorders%28%29%3B%20%2F%2Fit%20will%20call%20render%20and%20prepare%20methods%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20%22insert%5Fcol%22%3A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%2F%2Fcolumn%20order%20may%20have%20changes%2C%20so%20we%20need%20to%20translate%20the%20selection%20column%20index%20%2D%3E%20source%20array%20index%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20index%20%3D%20instance%2ErunHooksAndReturn%28%27modifyCol%27%2C%20index%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20delta%20%3D%20datamap%2EcreateCol%28index%2C%20amount%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28delta%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28Array%2EisArray%28instance%2EgetSettings%28%29%2EcolHeaders%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20spliceArray%20%3D%20%5Bindex%2C%200%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20spliceArray%2Elength%20%2B%3D%20delta%3B%20%2F%2Finserts%20empty%20%28undefined%29%20elements%20at%20the%20end%20of%20an%20array%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Array%2Eprototype%2Esplice%2Eapply%28instance%2EgetSettings%28%29%2EcolHeaders%2C%20spliceArray%29%3B%20%2F%2Finserts%20empty%20%28undefined%29%20elements%20into%20the%20colHeader%20array%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28selection%2EisSelected%28%29%20%26%26%20priv%2EselRange%2Efrom%2Ecol%20%3E%3D%20index%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20priv%2EselRange%2Efrom%2Ecol%20%3D%20priv%2EselRange%2Efrom%2Ecol%20%2B%20delta%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20selection%2EtransformEnd%280%2C%20delta%29%3B%20%2F%2Fwill%20call%20render%28%29%20internally%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20selection%2ErefreshBorders%28%29%3B%20%2F%2Fit%20will%20call%20render%20and%20prepare%20methods%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20%22remove%5Frow%22%3A%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fcolumn%20order%20may%20have%20changes%2C%20so%20we%20need%20to%20translate%20the%20selection%20column%20index%20%2D%3E%20source%20array%20index%0A%20%20%20%20%20%20%20%20%20%20index%20%3D%20instance%2ErunHooks%28%27modifyCol%27%2C%20index%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20datamap%2EremoveRow%28index%2C%20amount%29%3B%0A%20%20%20%20%20%20%20%20%20%20priv%2EcellSettings%2Esplice%28index%2C%20amount%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20var%20fixedRowsTop%20%3D%20instance%2EgetSettings%28%29%2EfixedRowsTop%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28fixedRowsTop%20%3E%3D%20index%20%2B%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2EgetSettings%28%29%2EfixedRowsTop%20%2D%3D%20Math%2Emin%28amount%2C%20fixedRowsTop%20%2D%20index%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20grid%2EadjustRowsAndCols%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20selection%2ErefreshBorders%28%29%3B%20%2F%2Fit%20will%20call%20render%20and%20prepare%20methods%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20%22remove%5Fcol%22%3A%0A%20%20%20%20%20%20%20%20%20%20datamap%2EremoveCol%28index%2C%20amount%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20for%28var%20row%20%3D%200%2C%20len%20%3D%20datamap%2EgetAll%28%29%2Elength%3B%20row%20%3C%20len%3B%20row%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28row%20in%20priv%2EcellSettings%29%7B%20%20%2F%2Fif%20row%20hasn%27t%20been%20rendered%20it%20wouldn%27t%20have%20cellSettings%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20priv%2EcellSettings%5Brow%5D%2Esplice%28index%2C%20amount%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20var%20fixedColumnsLeft%20%3D%20instance%2EgetSettings%28%29%2EfixedColumnsLeft%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28fixedColumnsLeft%20%3E%3D%20index%20%2B%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2EgetSettings%28%29%2EfixedColumnsLeft%20%2D%3D%20Math%2Emin%28amount%2C%20fixedColumnsLeft%20%2D%20index%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20if%28Array%2EisArray%28instance%2EgetSettings%28%29%2EcolHeaders%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%28typeof%20index%20%3D%3D%20%27undefined%27%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20index%20%3D%20%2D1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2EgetSettings%28%29%2EcolHeaders%2Esplice%28index%2C%20amount%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fpriv%2EcolumnSettings%2Esplice%28index%2C%20amount%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20grid%2EadjustRowsAndCols%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20selection%2ErefreshBorders%28%29%3B%20%2F%2Fit%20will%20call%20render%20and%20prepare%20methods%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%27There%20is%20no%20such%20action%20%22%27%20%2B%20action%20%2B%20%27%22%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28%21keepEmptyRows%29%20%7B%0A%20%20%20%20%20%20%20%20grid%2EadjustRowsAndCols%28%29%3B%20%2F%2Fmakes%20sure%20that%20we%20did%20not%20add%20rows%20that%20will%20be%20removed%20in%20next%20refresh%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Makes%20sure%20there%20are%20empty%20rows%20at%20the%20bottom%20of%20the%20table%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20adjustRowsAndCols%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20r%2C%20rlen%2C%20emptyRows%2C%20emptyCols%3B%0A%0A%20%20%20%20%20%20%2F%2Fshould%20I%20add%20empty%20rows%20to%20data%20source%20to%20meet%20minRows%3F%0A%20%20%20%20%20%20rlen%20%3D%20instance%2EcountRows%28%29%3B%0A%20%20%20%20%20%20if%20%28rlen%20%3C%20priv%2Esettings%2EminRows%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28r%20%3D%200%3B%20r%20%3C%20priv%2Esettings%2EminRows%20%2D%20rlen%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20datamap%2EcreateRow%28instance%2EcountRows%28%29%2C%201%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20emptyRows%20%3D%20instance%2EcountEmptyRows%28true%29%3B%0A%0A%20%20%20%20%20%20%2F%2Fshould%20I%20add%20empty%20rows%20to%20meet%20minSpareRows%3F%0A%20%20%20%20%20%20if%20%28emptyRows%20%3C%20priv%2Esettings%2EminSpareRows%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28%3B%20emptyRows%20%3C%20priv%2Esettings%2EminSpareRows%20%26%26%20instance%2EcountRows%28%29%20%3C%20priv%2Esettings%2EmaxRows%3B%20emptyRows%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20datamap%2EcreateRow%28instance%2EcountRows%28%29%2C%201%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2Fcount%20currently%20empty%20cols%0A%20%20%20%20%20%20emptyCols%20%3D%20instance%2EcountEmptyCols%28true%29%3B%0A%0A%20%20%20%20%20%20%2F%2Fshould%20I%20add%20empty%20cols%20to%20meet%20minCols%3F%0A%20%20%20%20%20%20if%20%28%21priv%2Esettings%2Ecolumns%20%26%26%20instance%2EcountCols%28%29%20%3C%20priv%2Esettings%2EminCols%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28%3B%20instance%2EcountCols%28%29%20%3C%20priv%2Esettings%2EminCols%3B%20emptyCols%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20datamap%2EcreateCol%28instance%2EcountCols%28%29%2C%201%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2Fshould%20I%20add%20empty%20cols%20to%20meet%20minSpareCols%3F%0A%20%20%20%20%20%20if%20%28%21priv%2Esettings%2Ecolumns%20%26%26%20instance%2EdataType%20%3D%3D%3D%20%27array%27%20%26%26%20emptyCols%20%3C%20priv%2Esettings%2EminSpareCols%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28%3B%20emptyCols%20%3C%20priv%2Esettings%2EminSpareCols%20%26%26%20instance%2EcountCols%28%29%20%3C%20priv%2Esettings%2EmaxCols%3B%20emptyCols%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20datamap%2EcreateCol%28instance%2EcountCols%28%29%2C%201%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20if%20%28priv%2Esettings%2EenterBeginsEditing%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20%20%20for%20%28%3B%20%28%28%28priv%2Esettings%2EminRows%20%7C%7C%20priv%2Esettings%2EminSpareRows%29%20%26%26%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20instance%2EcountRows%28%29%20%3E%20priv%2Esettings%2EminRows%29%20%26%26%20%28priv%2Esettings%2EminSpareRows%20%26%26%20emptyRows%20%3E%20priv%2Esettings%2EminSpareRows%29%29%3B%20emptyRows%2D%2D%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20datamap%2EremoveRow%28%29%3B%0A%20%20%20%20%20%20%2F%2F%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20if%20%28priv%2Esettings%2EenterBeginsEditing%20%26%26%20%21priv%2Esettings%2Ecolumns%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20%20%20for%20%28%3B%20%28%28%28priv%2Esettings%2EminCols%20%7C%7C%20priv%2Esettings%2EminSpareCols%29%20%26%26%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20instance%2EcountCols%28%29%20%3E%20priv%2Esettings%2EminCols%29%20%26%26%20%28priv%2Esettings%2EminSpareCols%20%26%26%20emptyCols%20%3E%20priv%2Esettings%2EminSpareCols%29%29%3B%20emptyCols%2D%2D%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20%20%20%20%20datamap%2EremoveCol%28%29%3B%0A%20%20%20%20%20%20%2F%2F%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20%7D%0A%0A%20%20%20%20%20%20var%20rowCount%20%3D%20instance%2EcountRows%28%29%3B%0A%20%20%20%20%20%20var%20colCount%20%3D%20instance%2EcountCols%28%29%3B%0A%0A%20%20%20%20%20%20if%20%28rowCount%20%3D%3D%3D%200%20%7C%7C%20colCount%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20selection%2Edeselect%28%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28selection%2EisSelected%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20var%20selectionChanged%3B%0A%20%20%20%20%20%20%20%20var%20fromRow%20%3D%20priv%2EselRange%2Efrom%2Erow%3B%0A%20%20%20%20%20%20%20%20var%20fromCol%20%3D%20priv%2EselRange%2Efrom%2Ecol%3B%0A%20%20%20%20%20%20%20%20var%20toRow%20%3D%20priv%2EselRange%2Eto%2Erow%3B%0A%20%20%20%20%20%20%20%20var%20toCol%20%3D%20priv%2EselRange%2Eto%2Ecol%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2Fif%20selection%20is%20outside%2C%20move%20selection%20to%20last%20row%0A%20%20%20%20%20%20%20%20if%20%28fromRow%20%3E%20rowCount%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20fromRow%20%3D%20rowCount%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20selectionChanged%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28toRow%20%3E%20fromRow%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20toRow%20%3D%20fromRow%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28toRow%20%3E%20rowCount%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20toRow%20%3D%20rowCount%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20selectionChanged%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28fromRow%20%3E%20toRow%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20fromRow%20%3D%20toRow%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2Fif%20selection%20is%20outside%2C%20move%20selection%20to%20last%20row%0A%20%20%20%20%20%20%20%20if%20%28fromCol%20%3E%20colCount%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20fromCol%20%3D%20colCount%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20selectionChanged%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28toCol%20%3E%20fromCol%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20toCol%20%3D%20fromCol%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28toCol%20%3E%20colCount%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20toCol%20%3D%20colCount%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20selectionChanged%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28fromCol%20%3E%20toCol%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20fromCol%20%3D%20toCol%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28selectionChanged%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EselectCell%28fromRow%2C%20fromCol%2C%20toRow%2C%20toCol%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Populate%20cells%20at%20position%20with%202d%20array%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20start%20Start%20selection%20position%0A%20%20%20%20%20%2A%20%40param%20%7BArray%7D%20input%202d%20array%0A%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20%5Bend%5D%20End%20selection%20position%20%28only%20for%20drag%2Ddown%20mode%29%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20%5Bsource%3D%22populateFromArray%22%5D%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20%5Bmethod%3D%22overwrite%22%5D%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20direction%20%28left%7Cright%7Cup%7Cdown%29%0A%20%20%20%20%20%2A%20%40param%20%7BArray%7D%20deltas%20array%0A%20%20%20%20%20%2A%20%40returns%20%7BObject%7Cundefined%7D%20ending%20td%20in%20pasted%20area%20%28only%20if%20any%20cell%20was%20changed%29%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20populateFromArray%3A%20function%20%28start%2C%20input%2C%20end%2C%20source%2C%20method%2C%20direction%2C%20deltas%29%20%7B%0A%20%20%20%20%20%20var%20r%2C%20rlen%2C%20c%2C%20clen%2C%20setData%20%3D%20%5B%5D%2C%20current%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20rlen%20%3D%20input%2Elength%3B%0A%20%20%20%20%20%20if%20%28rlen%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20repeatCol%0A%20%20%20%20%20%20%20%20%2C%20repeatRow%0A%20%20%20%20%20%20%20%20%2C%20cmax%0A%20%20%20%20%20%20%20%20%2C%20rmax%3B%0A%0A%20%20%20%20%20%20%2F%2F%20insert%20data%20with%20specified%20pasteMode%20method%0A%20%20%20%20%20%20switch%20%28method%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%27shift%5Fdown%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20repeatCol%20%3D%20end%20%3F%20end%2Ecol%20%2D%20start%2Ecol%20%2B%201%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20repeatRow%20%3D%20end%20%3F%20end%2Erow%20%2D%20start%2Erow%20%2B%201%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20input%20%3D%20Handsontable%2Ehelper%2EtranslateRowsToColumns%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28c%20%3D%200%2C%20clen%20%3D%20input%2Elength%2C%20cmax%20%3D%20Math%2Emax%28clen%2C%20repeatCol%29%3B%20c%20%3C%20cmax%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28c%20%3C%20clen%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28r%20%3D%200%2C%20rlen%20%3D%20input%5Bc%5D%2Elength%3B%20r%20%3C%20repeatRow%20%2D%20rlen%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%5Bc%5D%2Epush%28input%5Bc%5D%5Br%20%25%20rlen%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%5Bc%5D%2Eunshift%28start%2Ecol%20%2B%20c%2C%20start%2Erow%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2EspliceCol%2Eapply%28instance%2C%20input%5Bc%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%5Bc%20%25%20clen%5D%5B0%5D%20%3D%20start%2Ecol%20%2B%20c%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2EspliceCol%2Eapply%28instance%2C%20input%5Bc%20%25%20clen%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20%27shift%5Fright%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20repeatCol%20%3D%20end%20%3F%20end%2Ecol%20%2D%20start%2Ecol%20%2B%201%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20repeatRow%20%3D%20end%20%3F%20end%2Erow%20%2D%20start%2Erow%20%2B%201%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28r%20%3D%200%2C%20rlen%20%3D%20input%2Elength%2C%20rmax%20%3D%20Math%2Emax%28rlen%2C%20repeatRow%29%3B%20r%20%3C%20rmax%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28r%20%3C%20rlen%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28c%20%3D%200%2C%20clen%20%3D%20input%5Br%5D%2Elength%3B%20c%20%3C%20repeatCol%20%2D%20clen%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%5Br%5D%2Epush%28input%5Br%5D%5Bc%20%25%20clen%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%5Br%5D%2Eunshift%28start%2Erow%20%2B%20r%2C%20start%2Ecol%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2EspliceRow%2Eapply%28instance%2C%20input%5Br%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%5Br%20%25%20rlen%5D%5B0%5D%20%3D%20start%2Erow%20%2B%20r%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2EspliceRow%2Eapply%28instance%2C%20input%5Br%20%25%20rlen%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20%20%20%20%20case%20%27overwrite%27%3A%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20overwrite%20and%20other%20not%20specified%20options%0A%20%20%20%20%20%20%20%20%20%20current%2Erow%20%3D%20start%2Erow%3B%0A%20%20%20%20%20%20%20%20%20%20current%2Ecol%20%3D%20start%2Ecol%3B%0A%0A%20%20%20%20%20%20%20%20%20%20var%20iterators%20%3D%20%7Brow%3A%200%2C%20col%3A%200%7D%2C%20%2F%2F%20number%20of%20packages%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20selected%20%3D%20%7B%20%2F%2F%20selected%20range%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20row%3A%20%28end%20%26%26%20start%29%20%3F%20%28end%2Erow%20%2D%20start%2Erow%20%2B%201%29%20%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20col%3A%20%28end%20%26%26%20start%29%20%3F%20%28end%2Ecol%20%2D%20start%2Ecol%20%2B%201%29%20%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28%5B%27up%27%2C%20%27left%27%5D%2EindexOf%28direction%29%20%21%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20iterators%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20row%3A%20Math%2Eceil%28selected%2Erow%20%2F%20rlen%29%20%7C%7C%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20col%3A%20Math%2Eceil%28selected%2Ecol%20%2F%20input%5B0%5D%2Elength%29%20%7C%7C%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%5B%27down%27%2C%20%27right%27%5D%2EindexOf%28direction%29%20%21%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20iterators%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20row%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20col%3A%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20%20%20for%20%28r%20%3D%200%3B%20r%20%3C%20rlen%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28end%20%26%26%20current%2Erow%20%3E%20end%2Erow%29%20%7C%7C%20%28%21priv%2Esettings%2EallowInsertRow%20%26%26%20current%2Erow%20%3E%20instance%2EcountRows%28%29%20%2D%201%29%20%7C%7C%20%28current%2Erow%20%3E%3D%20priv%2Esettings%2EmaxRows%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20current%2Ecol%20%3D%20start%2Ecol%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20clen%20%3D%20input%5Br%5D%20%3F%20input%5Br%5D%2Elength%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28c%20%3D%200%3B%20c%20%3C%20clen%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28end%20%26%26%20current%2Ecol%20%3E%20end%2Ecol%29%20%7C%7C%20%28%21priv%2Esettings%2EallowInsertColumn%20%26%26%20current%2Ecol%20%3E%20instance%2EcountCols%28%29%20%2D%201%29%20%7C%7C%20%28current%2Ecol%20%3E%3D%20priv%2Esettings%2EmaxCols%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21instance%2EgetCellMeta%28current%2Erow%2C%20current%2Ecol%29%2EreadOnly%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20result%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20input%5Br%5D%5Bc%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20index%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20row%3A%20r%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20col%3A%20c%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28source%20%3D%3D%3D%20%27autofill%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20instance%2ErunHooks%28%27beforeAutofillInsidePopulate%27%2C%20index%2C%20direction%2C%20input%2C%20deltas%2C%20iterators%2C%20selected%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28result%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iterators%20%3D%20typeof%28result%2Eiterators%29%20%21%3D%3D%20%27undefined%27%20%3F%20result%2Eiterators%20%3A%20iterators%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20typeof%28result%2Evalue%29%20%21%3D%3D%20%27undefined%27%20%3F%20result%2Evalue%20%3A%20value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Array%2EisArray%28value%29%20%7C%7C%20Handsontable%2Ehelper%2EisObject%28value%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20Handsontable%2Ehelper%2EdeepClone%28value%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setData%2Epush%28%5Bcurrent%2Erow%2C%20current%2Ecol%2C%20value%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20current%2Ecol%2B%2B%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28end%20%26%26%20c%20%3D%3D%3D%20clen%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c%20%3D%20%2D1%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%5B%27down%27%2C%20%27right%27%5D%2EindexOf%28direction%29%20%21%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iterators%2Ecol%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%5B%27up%27%2C%20%27left%27%5D%2EindexOf%28direction%29%20%21%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28iterators%2Ecol%20%3E%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iterators%2Ecol%2D%2D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20current%2Erow%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20iterators%2Ecol%20%3D%201%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28end%20%26%26%20r%20%3D%3D%3D%20rlen%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%20%3D%20%2D1%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%5B%27down%27%2C%20%27right%27%5D%2EindexOf%28direction%29%20%21%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iterators%2Erow%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%5B%27up%27%2C%20%27left%27%5D%2EindexOf%28direction%29%20%21%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28iterators%2Erow%20%3E%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20iterators%2Erow%2D%2D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20instance%2EsetDataAtCell%28setData%2C%20null%2C%20null%2C%20source%20%7C%7C%20%27populateFromArray%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20this%2Eselection%20%3D%20selection%20%3D%20%7B%20%2F%2Fthis%20public%20assignment%20is%20only%20temporary%0A%20%20%20%20inProgress%3A%20false%2C%0A%0A%20%20%20%20selectedHeader%3A%20%7B%0A%20%20%20%20%20%20cols%3A%20false%2C%0A%20%20%20%20%20%20rows%3A%20false%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20rows%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20cols%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20setSelectedHeaders%3A%20function%20%28rows%2C%20cols%29%20%7B%0A%20%20%20%20%20%20instance%2Eselection%2EselectedHeader%2Erows%20%3D%20rows%3B%0A%20%20%20%20%20%20instance%2Eselection%2EselectedHeader%2Ecols%20%3D%20cols%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Sets%20inProgress%20to%20%60true%60%2E%20This%20enables%20onSelectionEnd%20and%20onSelectionEndByProp%20to%20function%20as%20desired%2E%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20begin%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20instance%2Eselection%2EinProgress%20%3D%20true%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Sets%20inProgress%20to%20%60false%60%2E%20Triggers%20onSelectionEnd%20and%20onSelectionEndByProp%2E%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20finish%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20sel%20%3D%20instance%2EgetSelected%28%29%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%22afterSelectionEnd%22%2C%20sel%5B0%5D%2C%20sel%5B1%5D%2C%20sel%5B2%5D%2C%20sel%5B3%5D%29%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%22afterSelectionEndByProp%22%2C%20sel%5B0%5D%2C%20instance%2EcolToProp%28sel%5B1%5D%29%2C%20sel%5B2%5D%2C%20instance%2EcolToProp%28sel%5B3%5D%29%29%3B%0A%20%20%20%20%20%20instance%2Eselection%2EinProgress%20%3D%20false%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20isInProgress%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20instance%2Eselection%2EinProgress%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Starts%20selection%20range%20on%20given%20td%20object%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20coords%0A%20%20%20%20%20%2A%20%40param%20keepEditorOpened%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20setRangeStart%3A%20function%20%28coords%2C%20keepEditorOpened%29%20%7B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%22beforeSetRangeStart%22%2C%20coords%29%3B%0A%20%20%20%20%20%20priv%2EselRange%20%3D%20new%20WalkontableCellRange%28coords%2C%20coords%2C%20coords%29%3B%0A%20%20%20%20%20%20selection%2EsetRangeEnd%28coords%2C%20null%2C%20keepEditorOpened%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Ends%20selection%20range%20on%20given%20td%20object%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20coords%0A%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5BscrollToCell%3Dtrue%5D%20If%20%60true%60%2C%20viewport%20will%20be%20scrolled%20to%20range%20end%0A%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5BkeepEditorOpened%5D%20If%20%60true%60%2C%20cell%20editor%20will%20be%20still%20opened%20after%20changing%20selection%20range%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20setRangeEnd%3A%20function%20%28coords%2C%20scrollToCell%2C%20keepEditorOpened%29%20%7B%0A%20%20%20%20%20%20if%20%28priv%2EselRange%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20disableVisualSelection%3B%0A%0A%20%20%20%20%20%20%2F%2Ftrigger%20handlers%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%22beforeSetRangeEnd%22%2C%20coords%29%3B%0A%20%20%20%20%20%20instance%2Eselection%2Ebegin%28%29%3B%0A%20%20%20%20%20%20priv%2EselRange%2Eto%20%3D%20new%20WalkontableCellCoords%28coords%2Erow%2C%20coords%2Ecol%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21priv%2Esettings%2EmultiSelect%29%20%7B%0A%20%20%20%20%20%20%20%20priv%2EselRange%2Efrom%20%3D%20coords%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20set%20up%20current%20selection%0A%20%20%20%20%20%20instance%2Eview%2Ewt%2Eselections%2Ecurrent%2Eclear%28%29%3B%0A%0A%20%20%20%20%20%20disableVisualSelection%20%3D%20instance%2EgetCellMeta%28priv%2EselRange%2Ehighlight%2Erow%2C%20priv%2EselRange%2Ehighlight%2Ecol%29%2EdisableVisualSelection%3B%0A%0A%20%20%20%20%20%20if%20%28typeof%20disableVisualSelection%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20disableVisualSelection%20%3D%20%5BdisableVisualSelection%5D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28disableVisualSelection%20%3D%3D%3D%20false%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20Array%2EisArray%28disableVisualSelection%29%20%26%26%20disableVisualSelection%2EindexOf%28%27current%27%29%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2Eview%2Ewt%2Eselections%2Ecurrent%2Eadd%28priv%2EselRange%2Ehighlight%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20set%20up%20area%20selection%0A%20%20%20%20%20%20instance%2Eview%2Ewt%2Eselections%2Earea%2Eclear%28%29%3B%0A%0A%20%20%20%20%20%20if%20%28%28disableVisualSelection%20%3D%3D%3D%20false%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20Array%2EisArray%28disableVisualSelection%29%20%26%26%20disableVisualSelection%2EindexOf%28%27area%27%29%20%3D%3D%3D%20%2D1%29%20%26%26%0A%20%20%20%20%20%20%20%20%20%20selection%2EisMultiple%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2Eview%2Ewt%2Eselections%2Earea%2Eadd%28priv%2EselRange%2Efrom%29%3B%0A%20%20%20%20%20%20%20%20instance%2Eview%2Ewt%2Eselections%2Earea%2Eadd%28priv%2EselRange%2Eto%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20set%20up%20highlight%0A%20%20%20%20%20%20if%20%28priv%2Esettings%2EcurrentRowClassName%20%7C%7C%20priv%2Esettings%2EcurrentColClassName%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2Eview%2Ewt%2Eselections%2Ehighlight%2Eclear%28%29%3B%0A%20%20%20%20%20%20%20%20instance%2Eview%2Ewt%2Eselections%2Ehighlight%2Eadd%28priv%2EselRange%2Efrom%29%3B%0A%20%20%20%20%20%20%20%20instance%2Eview%2Ewt%2Eselections%2Ehighlight%2Eadd%28priv%2EselRange%2Eto%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2F%20trigger%20handlers%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%22afterSelection%22%2C%0A%20%20%20%20%20%20%20%20%20%20priv%2EselRange%2Efrom%2Erow%2C%20priv%2EselRange%2Efrom%2Ecol%2C%20priv%2EselRange%2Eto%2Erow%2C%20priv%2EselRange%2Eto%2Ecol%29%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%22afterSelectionByProp%22%2C%0A%20%20%20%20%20%20%20%20%20%20priv%2EselRange%2Efrom%2Erow%2C%20datamap%2EcolToProp%28priv%2EselRange%2Efrom%2Ecol%29%2C%20priv%2EselRange%2Eto%2Erow%2C%20datamap%2EcolToProp%28priv%2EselRange%2Eto%2Ecol%29%29%3B%0A%0A%20%20%20%20%20%20if%20%28scrollToCell%20%21%3D%3D%20false%20%26%26%20instance%2Eview%2EmainViewIsActive%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28priv%2EselRange%2Efrom%20%26%26%20%21selection%2EisMultiple%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2Eview%2EscrollViewport%28priv%2EselRange%2Efrom%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2Eview%2EscrollViewport%28coords%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20selection%2ErefreshBorders%28null%2C%20keepEditorOpened%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Destroys%20editor%2C%20redraws%20borders%20around%20cells%2C%20prepares%20editor%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5BrevertOriginal%5D%0A%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5BkeepEditor%5D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20refreshBorders%3A%20function%20%28revertOriginal%2C%20keepEditor%29%20%7B%0A%20%20%20%20%20%20if%20%28%21keepEditor%29%20%7B%0A%20%20%20%20%20%20%20%20editorManager%2EdestroyEditor%28revertOriginal%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20instance%2Eview%2Erender%28%29%3B%0A%20%20%20%20%20%20if%20%28selection%2EisSelected%28%29%20%26%26%20%21keepEditor%29%20%7B%0A%20%20%20%20%20%20%20%20editorManager%2EprepareEditor%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Returns%20information%20if%20we%20have%20a%20multiselection%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20isMultiple%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20isMultiple%20%3D%20%21%28priv%2EselRange%2Eto%2Ecol%20%3D%3D%3D%20priv%2EselRange%2Efrom%2Ecol%20%26%26%20priv%2EselRange%2Eto%2Erow%20%3D%3D%3D%20priv%2EselRange%2Efrom%2Erow%29%0A%20%20%20%20%20%20%20%20%2C%20modifier%20%3D%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterIsMultipleSelection%27%2C%20isMultiple%29%3B%0A%0A%20%20%20%20%20%20if%28isMultiple%29%20%7B%0A%20%20%20%20%20%20%20%20return%20modifier%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Selects%20cell%20relative%20to%20current%20cell%20%28if%20possible%29%2E%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20transformStart%3A%20function%20%28rowDelta%2C%20colDelta%2C%20force%2C%20keepEditorOpened%29%20%7B%0A%20%20%20%20%20%20var%20delta%20%3D%20new%20WalkontableCellCoords%28rowDelta%2C%20colDelta%29%3B%0A%20%20%20%20%20%20instance%2ErunHooks%28%27modifyTransformStart%27%2C%20delta%29%3B%0A%0A%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20%20%20if%20%28priv%2EselRange%2Ehighlight%2Erow%20%2B%20rowDelta%20%3E%20instance%2EcountRows%28%29%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28force%20%26%26%20priv%2Esettings%2EminSpareRows%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2Ealter%28%22insert%5Frow%22%2C%20instance%2EcountRows%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28priv%2Esettings%2EautoWrapCol%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20delta%2Erow%20%3D%201%20%2D%20instance%2EcountRows%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20delta%2Ecol%20%3D%20priv%2EselRange%2Ehighlight%2Ecol%20%2B%20delta%2Ecol%20%3D%3D%20instance%2EcountCols%28%29%20%2D%201%20%3F%201%20%2D%20instance%2EcountCols%28%29%20%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28priv%2Esettings%2EautoWrapCol%20%26%26%20priv%2EselRange%2Ehighlight%2Erow%20%2B%20delta%2Erow%20%3C%200%20%26%26%20priv%2EselRange%2Ehighlight%2Ecol%20%2B%20delta%2Ecol%20%3E%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20delta%2Erow%20%3D%20instance%2EcountRows%28%29%20%2D%201%3B%0A%20%20%20%20%20%20%20%20delta%2Ecol%20%3D%20priv%2EselRange%2Ehighlight%2Ecol%20%2B%20delta%2Ecol%20%3D%3D%200%20%3F%20instance%2EcountCols%28%29%20%2D%201%20%3A%20%2D1%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28priv%2EselRange%2Ehighlight%2Ecol%20%2B%20delta%2Ecol%20%3E%20instance%2EcountCols%28%29%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28force%20%26%26%20priv%2Esettings%2EminSpareCols%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2Ealter%28%22insert%5Fcol%22%2C%20instance%2EcountCols%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28priv%2Esettings%2EautoWrapRow%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20delta%2Erow%20%3D%20priv%2EselRange%2Ehighlight%2Erow%20%2B%20delta%2Erow%20%3D%3D%20instance%2EcountRows%28%29%20%2D%201%20%3F%201%20%2D%20instance%2EcountRows%28%29%20%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20delta%2Ecol%20%3D%201%20%2D%20instance%2EcountCols%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28priv%2Esettings%2EautoWrapRow%20%26%26%20priv%2EselRange%2Ehighlight%2Ecol%20%2B%20delta%2Ecol%20%3C%200%20%26%26%20priv%2EselRange%2Ehighlight%2Erow%20%2B%20delta%2Erow%20%3E%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20delta%2Erow%20%3D%20priv%2EselRange%2Ehighlight%2Erow%20%2B%20delta%2Erow%20%3D%3D%200%20%3F%20instance%2EcountRows%28%29%20%2D%201%20%3A%20%2D1%3B%0A%20%20%20%20%20%20%20%20delta%2Ecol%20%3D%20instance%2EcountCols%28%29%20%2D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%0A%20%20%20%20%20%20var%20totalRows%20%3D%20instance%2EcountRows%28%29%3B%0A%20%20%20%20%20%20var%20totalCols%20%3D%20instance%2EcountCols%28%29%3B%0A%20%20%20%20%20%20var%20coords%20%3D%20new%20WalkontableCellCoords%28priv%2EselRange%2Ehighlight%2Erow%20%2B%20delta%2Erow%2C%20priv%2EselRange%2Ehighlight%2Ecol%20%2B%20delta%2Ecol%29%3B%0A%0A%20%20%20%20%20%20if%20%28coords%2Erow%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20coords%2Erow%20%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28coords%2Erow%20%3E%200%20%26%26%20coords%2Erow%20%3E%3D%20totalRows%29%20%7B%0A%20%20%20%20%20%20%20%20coords%2Erow%20%3D%20totalRows%20%2D%201%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28coords%2Ecol%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20coords%2Ecol%20%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28coords%2Ecol%20%3E%200%20%26%26%20coords%2Ecol%20%3E%3D%20totalCols%29%20%7B%0A%20%20%20%20%20%20%20%20coords%2Ecol%20%3D%20totalCols%20%2D%201%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20selection%2EsetRangeStart%28coords%2C%20keepEditorOpened%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Sets%20selection%20end%20cell%20relative%20to%20current%20selection%20end%20cell%20%28if%20possible%29%2E%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20transformEnd%3A%20function%20%28rowDelta%2C%20colDelta%29%20%7B%0A%20%20%20%20%20%20var%20delta%20%3D%20new%20WalkontableCellCoords%28rowDelta%2C%20colDelta%29%3B%0A%20%20%20%20%20%20instance%2ErunHooks%28%27modifyTransformEnd%27%2C%20delta%29%3B%0A%0A%20%20%20%20%20%20%20%20var%20totalRows%20%3D%20instance%2EcountRows%28%29%3B%0A%20%20%20%20%20%20%20%20var%20totalCols%20%3D%20instance%2EcountCols%28%29%3B%0A%20%20%20%20%20%20%20%20var%20coords%20%3D%20new%20WalkontableCellCoords%28priv%2EselRange%2Eto%2Erow%20%2B%20delta%2Erow%2C%20priv%2EselRange%2Eto%2Ecol%20%2B%20delta%2Ecol%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28coords%2Erow%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20coords%2Erow%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28coords%2Erow%20%3E%200%20%26%26%20coords%2Erow%20%3E%3D%20totalRows%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20coords%2Erow%20%3D%20totalRows%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28coords%2Ecol%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20coords%2Ecol%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28coords%2Ecol%20%3E%200%20%26%26%20coords%2Ecol%20%3E%3D%20totalCols%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20coords%2Ecol%20%3D%20totalCols%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20selection%2EsetRangeEnd%28coords%2C%20true%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Returns%20%60true%60%20if%20currently%20there%20is%20a%20selection%20on%20screen%2C%20%60false%60%20otherwise%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20isSelected%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20%28priv%2EselRange%20%21%3D%3D%20null%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Returns%20%60true%60%20if%20coords%20is%20within%20current%20selection%20coords%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20coords%0A%20%20%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20inInSelection%3A%20function%20%28coords%29%20%7B%0A%20%20%20%20%20%20if%20%28%21selection%2EisSelected%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20priv%2EselRange%2Eincludes%28coords%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Deselects%20all%20selected%20cells%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20deselect%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20if%20%28%21selection%2EisSelected%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20instance%2Eselection%2EinProgress%20%3D%20false%3B%20%2F%2Fneeded%20by%20HT%20inception%0A%20%20%20%20%20%20priv%2EselRange%20%3D%20null%3B%0A%20%20%20%20%20%20instance%2Eview%2Ewt%2Eselections%2Ecurrent%2Eclear%28%29%3B%0A%20%20%20%20%20%20instance%2Eview%2Ewt%2Eselections%2Earea%2Eclear%28%29%3B%0A%20%20%20%20%20%20if%20%28priv%2Esettings%2EcurrentRowClassName%20%7C%7C%20priv%2Esettings%2EcurrentColClassName%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2Eview%2Ewt%2Eselections%2Ehighlight%2Eclear%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20editorManager%2EdestroyEditor%28%29%3B%0A%20%20%20%20%20%20selection%2ErefreshBorders%28%29%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterDeselect%27%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Select%20all%20cells%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20selectAll%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20if%20%28%21priv%2Esettings%2EmultiSelect%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20selection%2EsetRangeStart%28new%20WalkontableCellCoords%280%2C%200%29%29%3B%0A%20%20%20%20%20%20selection%2EsetRangeEnd%28new%20WalkontableCellCoords%28instance%2EcountRows%28%29%20%2D%201%2C%20instance%2EcountCols%28%29%20%2D%201%29%2C%20false%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Deletes%20data%20from%20selected%20cells%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20empty%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20if%20%28%21selection%2EisSelected%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20topLeft%20%3D%20priv%2EselRange%2EgetTopLeftCorner%28%29%3B%0A%20%20%20%20%20%20var%20bottomRight%20%3D%20priv%2EselRange%2EgetBottomRightCorner%28%29%3B%0A%20%20%20%20%20%20var%20r%2C%20c%2C%20changes%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28r%20%3D%20topLeft%2Erow%3B%20r%20%3C%3D%20bottomRight%2Erow%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28c%20%3D%20topLeft%2Ecol%3B%20c%20%3C%3D%20bottomRight%2Ecol%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21instance%2EgetCellMeta%28r%2C%20c%29%2EreadOnly%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20changes%2Epush%28%5Br%2C%20c%2C%20%27%27%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20instance%2EsetDataAtCell%28changes%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20this%2Einit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27beforeInit%27%29%3B%0A%0A%20%20%20%20if%28Handsontable%2EmobileBrowser%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28instance%2ErootElement%2C%20%27mobile%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2EupdateSettings%28priv%2Esettings%2C%20true%29%3B%0A%0A%20%20%20%20this%2Eview%20%3D%20new%20Handsontable%2ETableView%28this%29%3B%0A%20%20%20%20editorManager%20%3D%20new%20Handsontable%2EEditorManager%28instance%2C%20priv%2C%20selection%2C%20datamap%29%3B%0A%0A%20%20%20%20this%2EforceFullRender%20%3D%20true%3B%20%2F%2Fused%20when%20data%20was%20changed%0A%20%20%20%20this%2Eview%2Erender%28%29%3B%0A%0A%20%20%20%20if%20%28typeof%20priv%2EfirstRun%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterChange%27%2C%20priv%2EfirstRun%5B0%5D%2C%20priv%2EfirstRun%5B1%5D%29%3B%0A%20%20%20%20%20%20priv%2EfirstRun%20%3D%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterInit%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20function%20ValidatorsQueue%28%29%20%7B%20%2F%2Fmoved%20this%20one%20level%20up%20so%20it%20can%20be%20used%20in%20any%20function%20here%2E%20Probably%20this%20should%20be%20moved%20to%20a%20separate%20file%0A%20%20%20%20var%20resolved%20%3D%20false%3B%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20validatorsInQueue%3A%200%2C%0A%20%20%20%20%20%20addValidatorToQueue%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EvalidatorsInQueue%2B%2B%3B%0A%20%20%20%20%20%20%20%20resolved%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20removeValidatorFormQueue%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EvalidatorsInQueue%20%3D%20this%2EvalidatorsInQueue%20%2D%201%20%3C%200%20%3F%200%20%3A%20this%2EvalidatorsInQueue%20%2D%201%3B%0A%20%20%20%20%20%20%20%20this%2EcheckIfQueueIsEmpty%28%29%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20onQueueEmpty%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20checkIfQueueIsEmpty%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20%20%20%20%20if%20%28this%2EvalidatorsInQueue%20%3D%3D%200%20%26%26%20resolved%20%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20resolved%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20this%2EonQueueEmpty%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20function%20validateChanges%28changes%2C%20source%2C%20callback%29%20%7B%0A%20%20%20%20var%20waitingForValidator%20%3D%20new%20ValidatorsQueue%28%29%3B%0A%20%20%20%20waitingForValidator%2EonQueueEmpty%20%3D%20resolve%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%20changes%2Elength%20%2D%201%3B%20i%20%3E%3D%200%3B%20i%2D%2D%29%20%7B%0A%20%20%20%20%20%20if%20%28changes%5Bi%5D%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20changes%2Esplice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20var%20row%20%3D%20changes%5Bi%5D%5B0%5D%3B%0A%20%20%20%20%20%20%20%20var%20col%20%3D%20datamap%2EpropToCol%28changes%5Bi%5D%5B1%5D%29%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20column%20order%20may%20have%20changes%2C%20so%20we%20need%20to%20translate%20physical%20col%20index%20%28stored%20in%20datasource%29%20to%20logical%20%28displayed%20to%20user%29%0A%20%20%20%20%20%20%20%20var%20logicalCol%20%3D%20instance%2ErunHooks%28%27modifyCol%27%2C%20col%29%3B%0A%20%20%20%20%20%20%20%20var%20cellProperties%20%3D%20instance%2EgetCellMeta%28row%2C%20logicalCol%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28cellProperties%2Etype%20%3D%3D%3D%20%27numeric%27%20%26%26%20typeof%20changes%5Bi%5D%5B3%5D%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28changes%5Bi%5D%5B3%5D%2Elength%20%3E%200%20%26%26%20%28%2F%5E%2D%3F%5B%5Cd%5Cs%5D%2A%28%5C%2E%7C%5C%2C%29%3F%5Cd%2A%24%2F%2Etest%28changes%5Bi%5D%5B3%5D%29%20%7C%7C%20cellProperties%2Eformat%20%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20len%20%3D%20changes%5Bi%5D%5B3%5D%2Elength%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20cellProperties%2Elanguage%20%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20numeral%2Elanguage%28%27en%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20this%20input%20in%20format%20XXXX%2EXX%20is%20likely%20to%20come%20from%20paste%2E%20Let%27s%20parse%20it%20using%20international%20rules%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28changes%5Bi%5D%5B3%5D%2EindexOf%28%22%2E%22%29%20%3D%3D%3D%20len%20%2D%203%20%26%26%20changes%5Bi%5D%5B3%5D%2EindexOf%28%22%2C%22%29%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20numeral%2Elanguage%28%27en%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20numeral%2Elanguage%28cellProperties%2Elanguage%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28numeral%2Evalidate%28changes%5Bi%5D%5B3%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20changes%5Bi%5D%5B3%5D%20%3D%20numeral%28%29%2Eunformat%28changes%5Bi%5D%5B3%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20%20%20%20%20if%20%28instance%2EgetCellValidator%28cellProperties%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20waitingForValidator%2EaddValidatorToQueue%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20instance%2EvalidateCell%28changes%5Bi%5D%5B3%5D%2C%20cellProperties%2C%20%28function%20%28i%2C%20cellProperties%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20function%20%28result%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20result%20%21%3D%3D%20%27boolean%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22Validation%20error%3A%20result%20is%20not%20boolean%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28result%20%3D%3D%3D%20false%20%26%26%20cellProperties%2EallowInvalid%20%3D%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20changes%2Esplice%28i%2C%201%29%3B%20%20%20%20%20%20%20%20%20%2F%2F%20cancel%20the%20change%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cellProperties%2Evalid%20%3D%20true%3B%20%20%2F%2F%20we%20cancelled%20the%20change%2C%20so%20cell%20value%20is%20still%20valid%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2D%2Di%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20waitingForValidator%2EremoveValidatorFormQueue%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%29%28i%2C%20cellProperties%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20source%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20waitingForValidator%2EcheckIfQueueIsEmpty%28%29%3B%0A%0A%20%20%20%20function%20resolve%28%29%20%7B%0A%20%20%20%20%20%20var%20beforeChangeResult%3B%0A%0A%20%20%20%20%20%20if%20%28changes%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20beforeChangeResult%20%3D%20Handsontable%2Ehooks%2Erun%28instance%2C%20%22beforeChange%22%2C%20changes%2C%20source%29%3B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20beforeChangeResult%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20console%2Ewarn%28%22Your%20beforeChange%20callback%20returns%20a%20function%2E%20It%27s%20not%20supported%20since%20Handsontable%200%2E12%2E1%20%28and%20the%20returned%20function%20will%20not%20be%20executed%29%2E%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28beforeChangeResult%20%3D%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20changes%2Esplice%280%2C%20changes%2Elength%29%3B%20%2F%2Finvalidate%20all%20changes%20%28remove%20everything%20from%20array%29%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20callback%28%29%3B%20%2F%2Fcalled%20when%20async%20validators%20are%20resolved%20and%20beforeChange%20was%20not%20async%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Internal%20function%20to%20apply%20changes%2E%20Called%20after%20validateChanges%0A%20%20%20%2A%0A%20%20%20%2A%20%40private%0A%20%20%20%2A%20%40param%20%7BArray%7D%20changes%20Array%20in%20form%20of%20%5Brow%2C%20prop%2C%20oldValue%2C%20newValue%5D%0A%20%20%20%2A%20%40param%20%7BString%7D%20source%20String%20that%20identifies%20how%20this%20change%20will%20be%20described%20in%20changes%20array%20%28useful%20in%20onChange%20callback%29%0A%20%20%20%2A%2F%0A%20%20function%20applyChanges%28changes%2C%20source%29%20%7B%0A%20%20%20%20var%20i%20%3D%20changes%2Elength%20%2D%201%3B%0A%0A%20%20%20%20if%20%28i%20%3C%200%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20for%20%28%3B%200%20%3C%3D%20i%3B%20i%2D%2D%29%20%7B%0A%20%20%20%20%20%20if%20%28changes%5Bi%5D%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20changes%2Esplice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%28changes%5Bi%5D%5B2%5D%20%3D%3D%20null%20%26%26%20changes%5Bi%5D%5B3%5D%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28priv%2Esettings%2EallowInsertRow%29%20%7B%0A%20%20%20%20%20%20%20%20while%20%28changes%5Bi%5D%5B0%5D%20%3E%20instance%2EcountRows%28%29%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20datamap%2EcreateRow%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28instance%2EdataType%20%3D%3D%3D%20%27array%27%20%26%26%20priv%2Esettings%2EallowInsertColumn%29%20%7B%0A%20%20%20%20%20%20%20%20while%20%28datamap%2EpropToCol%28changes%5Bi%5D%5B1%5D%29%20%3E%20instance%2EcountCols%28%29%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20datamap%2EcreateCol%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20datamap%2Eset%28changes%5Bi%5D%5B0%5D%2C%20changes%5Bi%5D%5B1%5D%2C%20changes%5Bi%5D%5B3%5D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2EforceFullRender%20%3D%20true%3B%20%2F%2Fused%20when%20data%20was%20changed%0A%20%20%20%20grid%2EadjustRowsAndCols%28%29%3B%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27beforeChangeRender%27%2C%20changes%2C%20source%29%3B%0A%20%20%20%20selection%2ErefreshBorders%28null%2C%20true%29%3B%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterChange%27%2C%20changes%2C%20source%20%7C%7C%20%27edit%27%29%3B%0A%20%20%7D%0A%0A%20%20this%2EvalidateCell%20%3D%20function%20%28value%2C%20cellProperties%2C%20callback%2C%20source%29%20%7B%0A%20%20%20%20var%20validator%20%3D%20instance%2EgetCellValidator%28cellProperties%29%3B%0A%0A%20%20%20%20function%20done%28valid%29%20%7B%0A%20%20%20%20%20%20var%20col%20%3D%20cellProperties%2Ecol%2C%0A%20%20%20%20%20%20%20%20row%20%3D%20cellProperties%2Erow%2C%0A%20%20%20%20%20%20%20%20td%20%3D%20instance%2EgetCell%28row%2C%20col%2C%20true%29%3B%0A%0A%20%20%20%20%20%20if%20%28td%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2Eview%2Ewt%2EwtSettings%2Esettings%2EcellRenderer%28row%2C%20col%2C%20td%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20callback%28valid%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28Object%2Eprototype%2EtoString%2Ecall%28validator%29%20%3D%3D%3D%20%27%5Bobject%20RegExp%5D%27%29%20%7B%0A%20%20%20%20%20%20validator%20%3D%20%28function%20%28validator%29%20%7B%0A%20%20%20%20%20%20%20%20return%20function%20%28value%2C%20callback%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20callback%28validator%2Etest%28value%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%29%28validator%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28typeof%20validator%20%3D%3D%20%27function%27%29%20%7B%0A%0A%20%20%20%20%20%20value%20%3D%20Handsontable%2Ehooks%2Erun%28instance%2C%20%22beforeValidate%22%2C%20value%2C%20cellProperties%2Erow%2C%20cellProperties%2Eprop%2C%20source%29%3B%0A%0A%20%20%20%20%20%20%2F%2F%20To%20provide%20consistent%20behaviour%2C%20validation%20should%20be%20always%20asynchronous%0A%20%20%20%20%20%20instance%2E%5FregisterTimeout%28setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20validator%2Ecall%28cellProperties%2C%20value%2C%20function%20%28valid%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20valid%20%3D%20Handsontable%2Ehooks%2Erun%28instance%2C%20%22afterValidate%22%2C%20valid%2C%20value%2C%20cellProperties%2Erow%2C%20cellProperties%2Eprop%2C%20source%29%3B%0A%20%20%20%20%20%20%20%20%20%20cellProperties%2Evalid%20%3D%20valid%3B%0A%0A%20%20%20%20%20%20%20%20%20%20done%28valid%29%3B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%22postAfterValidate%22%2C%20valid%2C%20value%2C%20cellProperties%2Erow%2C%20cellProperties%2Eprop%2C%20source%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%2C%200%29%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%2F%2Fresolve%20callback%20even%20if%20validator%20function%20was%20not%20found%0A%20%20%20%20%20%20cellProperties%2Evalid%20%3D%20true%3B%0A%20%20%20%20%20%20done%28cellProperties%2Evalid%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20function%20setDataInputToArray%28row%2C%20propOrCol%2C%20value%29%20%7B%0A%20%20%20%20if%20%28typeof%20row%20%3D%3D%3D%20%22object%22%29%20%7B%20%2F%2Fis%20it%20an%20array%20of%20changes%0A%20%20%20%20%20%20return%20row%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%5Brow%2C%20propOrCol%2C%20value%5D%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Set%20new%20value%20to%20a%20cell%2E%20To%20change%20many%20cells%20at%20once%2C%20pass%20an%20array%20of%20%60changes%60%20in%20format%20%60%5B%5Brow%2C%20col%2C%20value%5D%2C%20%2E%2E%2E%5D%60%20as%0A%20%20%20%2A%20the%20only%20parameter%2E%20%60col%60%20is%20the%20index%20of%20%5F%5Fvisible%5F%5F%20column%20%28note%20that%20if%20columns%20were%20reordered%2C%0A%20%20%20%2A%20the%20current%20order%20will%20be%20used%29%2E%20%60source%60%20is%20a%20flag%20for%20before%2FafterChange%20events%2E%20If%20you%20pass%20only%20array%20of%0A%20%20%20%2A%20changes%20then%20%60source%60%20could%20be%20set%20as%20second%20parameter%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7CArray%7D%20row%20or%20array%20of%20changes%20in%20format%20%60%5B%5Brow%2C%20col%2C%20value%5D%2C%20%2E%2E%2E%5D%60%0A%20%20%20%2A%20%40param%20%7BNumber%7CString%7D%20col%20or%20source%20String%0A%20%20%20%2A%20%40param%20%7BString%7D%20value%0A%20%20%20%2A%20%40param%20%7BString%7D%20%5Bsource%5D%20String%20that%20identifies%20how%20this%20change%20will%20be%20described%20in%20changes%20array%20%28useful%20in%20onChange%20callback%29%0A%20%20%20%2A%2F%0A%20%20this%2EsetDataAtCell%20%3D%20function%20%28row%2C%20col%2C%20value%2C%20source%29%20%7B%0A%20%20%20%20var%20input%20%3D%20setDataInputToArray%28row%2C%20col%2C%20value%29%0A%20%20%20%20%20%20%2C%20i%0A%20%20%20%20%20%20%2C%20ilen%0A%20%20%20%20%20%20%2C%20changes%20%3D%20%5B%5D%0A%20%20%20%20%20%20%2C%20prop%3B%0A%0A%20%20%20%20for%20%28i%20%3D%200%2C%20ilen%20%3D%20input%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20input%5Bi%5D%20%21%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20%20%20throw%20new%20Error%28%27Method%20%60setDataAtCell%60%20accepts%20row%20number%20or%20changes%20array%20of%20arrays%20as%20its%20first%20parameter%27%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28typeof%20input%5Bi%5D%5B1%5D%20%21%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20%20%20throw%20new%20Error%28%27Method%20%60setDataAtCell%60%20accepts%20row%20and%20column%20number%20as%20its%20parameters%2E%20If%20you%20want%20to%20use%20object%20property%20name%2C%20use%20method%20%60setDataAtRowProp%60%27%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20prop%20%3D%20datamap%2EcolToProp%28input%5Bi%5D%5B1%5D%29%3B%0A%20%20%20%20%20%20changes%2Epush%28%5B%0A%20%20%20%20%20%20%20%20input%5Bi%5D%5B0%5D%2C%0A%20%20%20%20%20%20%20%20prop%2C%0A%20%20%20%20%20%20%20%20datamap%2Eget%28input%5Bi%5D%5B0%5D%2C%20prop%29%2C%0A%20%20%20%20%20%20%20%20input%5Bi%5D%5B2%5D%0A%20%20%20%20%20%20%5D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%21source%20%26%26%20typeof%20row%20%3D%3D%3D%20%22object%22%29%20%7B%0A%20%20%20%20%20%20source%20%3D%20col%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20validateChanges%28changes%2C%20source%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20applyChanges%28changes%2C%20source%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Same%20as%20above%2C%20except%20instead%20of%20%60col%60%2C%20you%20provide%20name%20of%20the%20object%20property%20%28e%2Eg%2E%20%60%5B0%2C%20%27first%2Ename%27%2C%20%27Jennifer%27%5D%60%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7CArray%7D%20row%20or%20array%20of%20changes%20in%20format%20%60%5B%5Brow%2C%20prop%2C%20value%5D%2C%20%2E%2E%2E%5D%60%0A%20%20%20%2A%20%40param%20%7BString%7D%20prop%20or%20source%20String%0A%20%20%20%2A%20%40param%20%7BString%7D%20value%0A%20%20%20%2A%20%40param%20%7BString%7D%20%5Bsource%5D%20String%20that%20identifies%20how%20this%20change%20will%20be%20described%20in%20changes%20array%20%28useful%20in%20onChange%20callback%29%0A%20%20%20%2A%2F%0A%20%20this%2EsetDataAtRowProp%20%3D%20function%20%28row%2C%20prop%2C%20value%2C%20source%29%20%7B%0A%20%20%20%20var%20input%20%3D%20setDataInputToArray%28row%2C%20prop%2C%20value%29%0A%20%20%20%20%20%20%2C%20i%0A%20%20%20%20%20%20%2C%20ilen%0A%20%20%20%20%20%20%2C%20changes%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20for%20%28i%20%3D%200%2C%20ilen%20%3D%20input%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20changes%2Epush%28%5B%0A%20%20%20%20%20%20%20%20input%5Bi%5D%5B0%5D%2C%0A%20%20%20%20%20%20%20%20input%5Bi%5D%5B1%5D%2C%0A%20%20%20%20%20%20%20%20datamap%2Eget%28input%5Bi%5D%5B0%5D%2C%20input%5Bi%5D%5B1%5D%29%2C%0A%20%20%20%20%20%20%20%20input%5Bi%5D%5B2%5D%0A%20%20%20%20%20%20%5D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%21source%20%26%26%20typeof%20row%20%3D%3D%3D%20%22object%22%29%20%7B%0A%20%20%20%20%20%20source%20%3D%20prop%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20validateChanges%28changes%2C%20source%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20applyChanges%28changes%2C%20source%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Listen%20to%20keyboard%20input%20on%20document%20body%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%2F%0A%20%20this%2Elisten%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20Handsontable%2EactiveGuid%20%3D%20instance%2Eguid%3B%0A%0A%20%20%20%20if%20%28document%2EactiveElement%20%26%26%20document%2EactiveElement%20%21%3D%3D%20document%2Ebody%29%20%7B%0A%20%20%20%20%20%20document%2EactiveElement%2Eblur%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28%21document%2EactiveElement%29%20%7B%20%2F%2FIE%0A%20%20%20%20%20%20document%2Ebody%2Efocus%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Stop%20listening%20to%20keyboard%20input%20on%20document%20body%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%2F%0A%20%20this%2Eunlisten%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20Handsontable%2EactiveGuid%20%3D%20null%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20%60true%60%20if%20current%20Handsontable%20instance%20is%20listening%20to%20keyboard%20input%20on%20document%20body%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%2A%2F%0A%20%20this%2EisListening%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20Handsontable%2EactiveGuid%20%3D%3D%3D%20instance%2Eguid%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Destroys%20current%20editor%2C%20renders%20and%20selects%20current%20cell%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5BrevertOriginal%5D%20If%20%21%3D%20%60true%60%2C%20edited%20data%20is%20saved%2E%20Otherwise%20previous%20value%20is%20restored%0A%20%20%20%2A%2F%0A%20%20this%2EdestroyEditor%20%3D%20function%20%28revertOriginal%29%20%7B%0A%20%20%20%20selection%2ErefreshBorders%28revertOriginal%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Populate%20cells%20at%20position%20with%202D%20input%20array%20%28e%2Eg%2E%20%60%5B%5B1%2C%202%5D%2C%20%5B3%2C%204%5D%5D%60%29%2E%0A%20%20%20%2A%20Use%20%60endRow%60%2C%20%60endCol%60%20when%20you%20want%20to%20cut%20input%20when%20certain%20row%20is%20reached%2E%0A%20%20%20%2A%20Optional%20%60source%60%20parameter%20%28default%20value%20%22populateFromArray%22%29%20is%20used%20to%20identify%20this%20call%20in%20the%20resulting%20events%20%28beforeChange%2C%20afterChange%29%2E%0A%20%20%20%2A%20Optional%20%60populateMethod%60%20parameter%20%28default%20value%20%22overwrite%22%2C%20possible%20values%20%22shift%5Fdown%22%20and%20%22shift%5Fright%22%29%0A%20%20%20%2A%20has%20the%20same%20effect%20as%20pasteMethod%20option%20%28see%20Options%20page%29%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E9%2E0%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%20Start%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%20Start%20column%0A%20%20%20%2A%20%40param%20%7BArray%7D%20input%202d%20array%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5BendRow%5D%20End%20row%20%28use%20when%20you%20want%20to%20cut%20input%20when%20certain%20row%20is%20reached%29%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5BendCol%5D%20End%20column%20%28use%20when%20you%20want%20to%20cut%20input%20when%20certain%20column%20is%20reached%29%0A%20%20%20%2A%20%40param%20%7BString%7D%20%5Bsource%3D%22populateFromArray%22%5D%0A%20%20%20%2A%20%40param%20%7BString%7D%20%5Bmethod%3D%22overwrite%22%5D%0A%20%20%20%2A%20%40param%20%7BString%7D%20direction%20edit%20%28left%7Cright%7Cup%7Cdown%29%0A%20%20%20%2A%20%40param%20%7BArray%7D%20deltas%20array%0A%20%20%20%2A%20%40returns%20%7BObject%7Cundefined%7D%20ending%20td%20in%20pasted%20area%20%28only%20if%20any%20cell%20was%20changed%29%0A%20%20%20%2A%2F%0A%20%20this%2EpopulateFromArray%20%3D%20function%20%28row%2C%20col%2C%20input%2C%20endRow%2C%20endCol%2C%20source%2C%20method%2C%20direction%2C%20deltas%29%20%7B%0A%20%20%20%20var%20c%3B%0A%0A%20%20%20%20if%20%28%21%28typeof%20input%20%3D%3D%3D%20%27object%27%20%26%26%20typeof%20input%5B0%5D%20%3D%3D%3D%20%27object%27%29%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22populateFromArray%20parameter%20%60input%60%20must%20be%20an%20array%20of%20arrays%22%29%3B%20%2F%2FAPI%20changed%20in%200%2E9%2Dbeta2%2C%20let%27s%20check%20if%20you%20use%20it%20correctly%0A%20%20%20%20%7D%0A%20%20%20%20c%20%3D%20typeof%20endRow%20%3D%3D%3D%20%27number%27%20%3F%20new%20WalkontableCellCoords%28endRow%2C%20endCol%29%20%3A%20null%3B%0A%0A%20%20%20%20return%20grid%2EpopulateFromArray%28new%20WalkontableCellCoords%28row%2C%20col%29%2C%20input%2C%20c%2C%20source%2C%20method%2C%20direction%2C%20deltas%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Adds%2Fremoves%20data%20from%20the%20column%2E%20This%20function%20works%20is%20modelled%20after%20Array%2Esplice%2E%0A%20%20%20%2A%20Parameter%20%60col%60%20is%20the%20index%20of%20column%20in%20which%20do%20you%20want%20to%20do%20splice%2E%0A%20%20%20%2A%20Parameter%20%60index%60%20is%20the%20row%20index%20at%20which%20to%20start%20changing%20the%20array%2E%0A%20%20%20%2A%20If%20negative%2C%20will%20begin%20that%20many%20elements%20from%20the%20end%2E%20Parameter%20%60amount%60%2C%20is%20the%20number%20of%20old%20array%20elements%20to%20remove%2E%0A%20%20%20%2A%20If%20the%20amount%20is%200%2C%20no%20elements%20are%20removed%2E%20Fourth%20and%20further%20parameters%20are%20the%20%60elements%60%20to%20add%20to%20the%20array%2E%0A%20%20%20%2A%20If%20you%20don%27t%20specify%20any%20elements%2C%20spliceCol%20simply%20removes%20elements%20from%20the%20array%2E%0A%20%20%20%2A%20%7B%40link%20Handsontable%2EDataMap%23spliceCol%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E9%2Dbeta2%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%20Index%20of%20column%20in%20which%20do%20you%20want%20to%20do%20splice%2E%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20index%20Index%20at%20which%20to%20start%20changing%20the%20array%2E%20If%20negative%2C%20will%20begin%20that%20many%20elements%20from%20the%20end%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%20An%20integer%20indicating%20the%20number%20of%20old%20array%20elements%20to%20remove%2E%20If%20amount%20is%200%2C%20no%20elements%20are%20removed%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20%5Belements%5D%20The%20elements%20to%20add%20to%20the%20array%2E%20If%20you%20don%27t%20specify%20any%20elements%2C%20spliceCol%20simply%20removes%20elements%20from%20the%20array%0A%20%20%20%2A%2F%0A%20%20this%2EspliceCol%20%3D%20function%20%28col%2C%20index%2C%20amount%2F%2A%2C%20elements%2E%2E%2E%20%2A%2F%29%20%7B%0A%20%20%20%20return%20datamap%2EspliceCol%2Eapply%28datamap%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Adds%2Fremoves%20data%20from%20the%20row%2E%20This%20function%20works%20is%20modelled%20after%20Array%2Esplice%2E%0A%20%20%20%2A%20Parameter%20%60row%60%20is%20the%20index%20of%20row%20in%20which%20do%20you%20want%20to%20do%20splice%2E%0A%20%20%20%2A%20Parameter%20%60index%60%20is%20the%20column%20index%20at%20which%20to%20start%20changing%20the%20array%2E%0A%20%20%20%2A%20If%20negative%2C%20will%20begin%20that%20many%20elements%20from%20the%20end%2E%20Parameter%20%60amount%60%2C%20is%20the%20number%20of%20old%20array%20elements%20to%20remove%2E%0A%20%20%20%2A%20If%20the%20amount%20is%200%2C%20no%20elements%20are%20removed%2E%20Fourth%20and%20further%20parameters%20are%20the%20%60elements%60%20to%20add%20to%20the%20array%2E%0A%20%20%20%2A%20If%20you%20don%27t%20specify%20any%20elements%2C%20spliceCol%20simply%20removes%20elements%20from%20the%20array%2E%0A%20%20%20%2A%20%7B%40link%20Handsontable%2EDataMap%23spliceRow%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%20Index%20of%20column%20in%20which%20do%20you%20want%20to%20do%20splice%2E%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20index%20Index%20at%20which%20to%20start%20changing%20the%20array%2E%20If%20negative%2C%20will%20begin%20that%20many%20elements%20from%20the%20end%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%20An%20integer%20indicating%20the%20number%20of%20old%20array%20elements%20to%20remove%2E%20If%20amount%20is%200%2C%20no%20elements%20are%20removed%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20%5Belements%5D%20The%20elements%20to%20add%20to%20the%20array%2E%20If%20you%20don%27t%20specify%20any%20elements%2C%20spliceCol%20simply%20removes%20elements%20from%20the%20array%0A%20%20%20%2A%2F%0A%20%20this%2EspliceRow%20%3D%20function%20%28row%2C%20index%2C%20amount%2F%2A%2C%20elements%2E%2E%2E%20%2A%2F%29%20%7B%0A%20%20%20%20return%20datamap%2EspliceRow%2Eapply%28datamap%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20index%20of%20the%20currently%20selected%20cells%20as%20an%20array%20%60%5BstartRow%2C%20startCol%2C%20endRow%2C%20endCol%5D%60%2E%0A%20%20%20%2A%0A%20%20%20%2A%20Start%20row%20and%20start%20col%20are%20the%20coordinates%20of%20the%20active%20cell%20%28where%20the%20selection%20was%20started%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetSelected%20%3D%20function%20%28%29%20%7B%20%2F%2Fhttps%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fissues%2F44%20%20%2F%2Fcjl%0A%20%20%20%20if%20%28selection%2EisSelected%28%29%29%20%7B%0A%20%20%20%20%20%20return%20%5Bpriv%2EselRange%2Efrom%2Erow%2C%20priv%2EselRange%2Efrom%2Ecol%2C%20priv%2EselRange%2Eto%2Erow%2C%20priv%2EselRange%2Eto%2Ecol%5D%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20current%20selection%20as%20a%20WalkontableCellRange%20object%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%20%40returns%20%7BWalkontableCellRange%7D%20Returns%20%60undefined%60%20if%20there%20is%20no%20selection%2E%0A%20%20%20%2A%2F%0A%20%20this%2EgetSelectedRange%20%3D%20function%20%28%29%20%7B%20%2F%2Fhttps%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fissues%2F44%20%20%2F%2Fcjl%0A%20%20%20%20if%20%28selection%2EisSelected%28%29%29%20%7B%0A%20%20%20%20%20%20return%20priv%2EselRange%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Rerender%20the%20table%2E%0A%20%20%20%2A%2F%0A%20%20this%2Erender%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28instance%2Eview%29%20%7B%0A%20%20%20%20%20%20instance%2EforceFullRender%20%3D%20true%3B%20%2F%2Fused%20when%20data%20was%20changed%0A%20%20%20%20%20%20selection%2ErefreshBorders%28null%2C%20true%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Reset%20all%20cells%20in%20the%20grid%20to%20contain%20data%20from%20the%20data%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BArray%7D%20data%0A%20%20%20%2A%2F%0A%20%20this%2EloadData%20%3D%20function%20%28data%29%20%7B%0A%20%20%20%20if%20%28typeof%20data%20%3D%3D%3D%20%27object%27%20%26%26%20data%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20if%20%28%21%28data%2Epush%20%26%26%20data%2Esplice%29%29%20%7B%20%2F%2Fcheck%20if%20data%20is%20array%2E%20Must%20use%20duck%2Dtype%20check%20so%20Backbone%20Collections%20also%20pass%20it%0A%20%20%20%20%20%20%20%20%2F%2Fwhen%20data%20is%20not%20an%20array%2C%20attempt%20to%20make%20a%20single%2Drow%20array%20of%20it%0A%20%20%20%20%20%20%20%20data%20%3D%20%5Bdata%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%28data%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20data%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20var%20row%3B%0A%20%20%20%20%20%20for%20%28var%20r%20%3D%200%2C%20rlen%20%3D%20priv%2Esettings%2EstartRows%3B%20r%20%3C%20rlen%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20row%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20c%20%3D%200%2C%20clen%20%3D%20priv%2Esettings%2EstartCols%3B%20c%20%3C%20clen%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20row%2Epush%28null%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20data%2Epush%28row%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22loadData%20only%20accepts%20array%20of%20objects%20or%20array%20of%20arrays%20%28%22%20%2B%20typeof%20data%20%2B%20%22%20given%29%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20priv%2EisPopulated%20%3D%20false%3B%0A%20%20%20%20GridSettings%2Eprototype%2Edata%20%3D%20data%3B%0A%0A%20%20%20%20if%20%28Array%2EisArray%28priv%2Esettings%2EdataSchema%29%20%7C%7C%20Array%2EisArray%28data%5B0%5D%29%29%20%7B%0A%20%20%20%20%20%20instance%2EdataType%20%3D%20%27array%27%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28typeof%20priv%2Esettings%2EdataSchema%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20instance%2EdataType%20%3D%20%27function%27%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20instance%2EdataType%20%3D%20%27object%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20datamap%20%3D%20new%20Handsontable%2EDataMap%28instance%2C%20priv%2C%20GridSettings%29%3B%0A%0A%20%20%20%20clearCellSettingCache%28%29%3B%0A%0A%20%20%20%20grid%2EadjustRowsAndCols%28%29%3B%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterLoadData%27%29%3B%0A%0A%20%20%20%20if%20%28priv%2EfirstRun%29%20%7B%0A%20%20%20%20%20%20priv%2EfirstRun%20%3D%20%5Bnull%2C%20%27loadData%27%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterChange%27%2C%20null%2C%20%27loadData%27%29%3B%0A%20%20%20%20%20%20instance%2Erender%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20priv%2EisPopulated%20%3D%20true%3B%0A%0A%0A%0A%20%20%20%20function%20clearCellSettingCache%28%29%20%7B%0A%20%20%20%20%20%20priv%2EcellSettings%2Elength%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20the%20current%20data%20object%20%28the%20same%20that%20was%20passed%20by%20%60data%60%20configuration%20option%20or%20%60loadData%60%20method%29%2E%0A%20%20%20%2A%20Optionally%20you%20can%20provide%20cell%20range%20%60row%60%2C%20%60col%60%2C%20%60row2%60%2C%20%60col2%60%20to%20get%20only%20a%20fragment%20of%20grid%20data%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Br%5D%20From%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Bc%5D%20From%20col%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Br2%5D%20To%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Bc2%5D%20To%20col%0A%20%20%20%2A%20%40returns%20%7BArray%7CObject%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetData%20%3D%20function%20%28r%2C%20c%2C%20r2%2C%20c2%29%20%7B%0A%20%20%20%20if%20%28typeof%20r%20%3D%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20return%20datamap%2EgetAll%28%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20datamap%2EgetRange%28new%20WalkontableCellCoords%28r%2C%20c%29%2C%20new%20WalkontableCellCoords%28r2%2C%20c2%29%2C%20datamap%2EDESTINATION%5FRENDERER%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Get%20value%20of%20selected%20range%2E%20Each%20column%20is%20separated%20by%20tab%2C%20each%20row%20is%20separated%20by%20new%20line%20character%2E%0A%20%20%20%2A%20%7B%40link%20Handsontable%2EDataMap%23getCopyableText%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20startRow%20From%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20startCol%20From%20col%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20endRow%20To%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20endCol%20To%20col%0A%20%20%20%2A%20%40returns%20%7BArray%7CObject%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetCopyableData%20%3D%20function%20%28startRow%2C%20startCol%2C%20endRow%2C%20endCol%29%20%7B%0A%20%20%20%20return%20datamap%2EgetCopyableText%28new%20WalkontableCellCoords%28startRow%2C%20startCol%29%2C%20new%20WalkontableCellCoords%28endRow%2C%20endCol%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Get%20schema%20provided%20by%20constructor%20settings%20or%20if%20it%20doesn%27t%20exist%20return%20schema%20based%20on%20data%0A%20%20%20%2A%20structure%20on%20the%20first%20row%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E13%2E2%0A%20%20%20%2A%20%40returns%20%7BObject%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetSchema%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20datamap%2EgetSchema%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Use%20it%20if%20you%20need%20to%20change%20configuration%20after%20initialization%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BObject%7D%20settings%20Settings%20to%20update%0A%20%20%20%2A%20%40param%20%7BBoolean%7D%20init%0A%20%20%20%2A%2F%0A%20%20this%2EupdateSettings%20%3D%20function%20%28settings%2C%20init%29%20%7B%0A%20%20%20%20var%20i%2C%20clen%3B%0A%0A%20%20%20%20if%20%28typeof%20settings%2Erows%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22%27rows%27%20setting%20is%20no%20longer%20supported%2E%20do%20you%20mean%20startRows%2C%20minRows%20or%20maxRows%3F%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28typeof%20settings%2Ecols%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22%27cols%27%20setting%20is%20no%20longer%20supported%2E%20do%20you%20mean%20startCols%2C%20minCols%20or%20maxCols%3F%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20for%20%28i%20in%20settings%29%20%7B%0A%20%20%20%20%20%20if%20%28i%20%3D%3D%3D%20%27data%27%29%20%7B%0A%20%20%20%20%20%20%20%20continue%3B%20%2F%2FloadData%20will%20be%20triggered%20later%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20%28Handsontable%2Ehooks%2Ehooks%5Bi%5D%20%21%3D%3D%20void%200%20%7C%7C%20Handsontable%2Ehooks%2Elegacy%5Bi%5D%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20settings%5Bi%5D%20%3D%3D%3D%20%27function%27%20%7C%7C%20Array%2EisArray%28settings%5Bi%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2EaddHook%28i%2C%20settings%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20Update%20settings%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21init%20%26%26%20settings%2EhasOwnProperty%28i%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20GridSettings%2Eprototype%5Bi%5D%20%3D%20settings%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Load%20data%20or%20create%20data%20map%0A%20%20%20%20if%20%28settings%2Edata%20%3D%3D%3D%20void%200%20%26%26%20priv%2Esettings%2Edata%20%3D%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20instance%2EloadData%28null%29%3B%20%2F%2Fdata%20source%20created%20just%20now%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28settings%2Edata%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20instance%2EloadData%28settings%2Edata%29%3B%20%2F%2Fdata%20source%20given%20as%20option%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28settings%2Ecolumns%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20datamap%2EcreateMap%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Init%20columns%20constructors%20configuration%0A%20%20%20%20clen%20%3D%20instance%2EcountCols%28%29%3B%0A%0A%20%20%20%20%2F%2FClear%20cellSettings%20cache%0A%20%20%20%20priv%2EcellSettings%2Elength%20%3D%200%3B%0A%0A%20%20%20%20if%20%28clen%20%3E%200%29%20%7B%0A%20%20%20%20%20%20var%20proto%2C%20column%3B%0A%0A%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20clen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20priv%2EcolumnSettings%5Bi%5D%20%3D%20Handsontable%2Ehelper%2EcolumnFactory%28GridSettings%2C%20priv%2EcolumnsSettingConflicts%29%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20shortcut%20for%20prototype%0A%20%20%20%20%20%20%20%20proto%20%3D%20priv%2EcolumnSettings%5Bi%5D%2Eprototype%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Use%20settings%20provided%20by%20user%0A%20%20%20%20%20%20%20%20if%20%28GridSettings%2Eprototype%2Ecolumns%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20column%20%3D%20GridSettings%2Eprototype%2Ecolumns%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2Eextend%28proto%2C%20column%29%3B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2Eextend%28proto%2C%20expandType%28column%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28typeof%20settings%2Ecell%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%2F%2A%20jshint%20%2DW089%20%2A%2F%0A%20%20%20%20%20%20for%20%28i%20in%20settings%2Ecell%29%20%7B%0A%20%20%20%20%20%20%20%20var%20cell%20%3D%20settings%2Ecell%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20instance%2EsetCellMetaObject%28cell%2Erow%2C%20cell%2Ecol%2C%20cell%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterCellMetaReset%27%29%3B%0A%0A%20%20%20%20if%20%28typeof%20settings%2EclassName%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20if%20%28GridSettings%2Eprototype%2EclassName%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28instance%2ErootElement%2CGridSettings%2Eprototype%2EclassName%29%3B%0A%2F%2F%20%20%20%20%20%20%20%20instance%2ErootElement%2EremoveClass%28GridSettings%2Eprototype%2EclassName%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28settings%2EclassName%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28instance%2ErootElement%2Csettings%2EclassName%29%3B%0A%2F%2F%20%20%20%20%20%20%20%20instance%2ErootElement%2EaddClass%28settings%2EclassName%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28typeof%20settings%2Eheight%20%21%3D%20%27undefined%27%29%7B%0A%20%20%20%20%20%20var%20height%20%3D%20settings%2Eheight%3B%0A%0A%20%20%20%20%20%20if%20%28typeof%20height%20%3D%3D%20%27function%27%29%7B%0A%20%20%20%20%20%20%20%20height%20%3D%20height%28%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20instance%2ErootElement%2Estyle%2Eheight%20%3D%20height%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28typeof%20settings%2Ewidth%20%21%3D%20%27undefined%27%29%7B%0A%20%20%20%20%20%20var%20width%20%3D%20settings%2Ewidth%3B%0A%0A%20%20%20%20%20%20if%20%28typeof%20width%20%3D%3D%20%27function%27%29%7B%0A%20%20%20%20%20%20%20%20width%20%3D%20width%28%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20instance%2ErootElement%2Estyle%2Ewidth%20%3D%20width%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20if%20%28height%29%7B%0A%20%20%20%20%20%20instance%2ErootElement%2Estyle%2Eoverflow%20%3D%20%27hidden%27%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%0A%20%20%20%20if%20%28%21init%29%20%7B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterUpdateSettings%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20grid%2EadjustRowsAndCols%28%29%3B%0A%20%20%20%20if%20%28instance%2Eview%20%26%26%20%21priv%2EfirstRun%29%20%7B%0A%20%20%20%20%20%20instance%2EforceFullRender%20%3D%20true%3B%20%2F%2Fused%20when%20data%20was%20changed%0A%20%20%20%20%20%20selection%2ErefreshBorders%28null%2C%20true%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Get%20value%20from%20selected%20cell%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%20%40returns%20%7B%2A%7D%20Returns%20value%20of%20selected%20cell%0A%20%20%20%2A%2F%0A%20%20this%2EgetValue%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20sel%20%3D%20instance%2EgetSelected%28%29%3B%0A%20%20%20%20if%20%28GridSettings%2Eprototype%2EgetValue%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20GridSettings%2Eprototype%2EgetValue%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%20GridSettings%2Eprototype%2EgetValue%2Ecall%28instance%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28sel%29%20%7B%0A%20%20%20%20%20%20%20%20return%20instance%2EgetData%28%29%5Bsel%5B0%5D%5D%5BGridSettings%2Eprototype%2EgetValue%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28sel%29%20%7B%0A%20%20%20%20%20%20return%20instance%2EgetDataAtCell%28sel%5B0%5D%2C%20sel%5B1%5D%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20function%20expandType%28obj%29%20%7B%0A%20%20%20%20if%20%28%21obj%2EhasOwnProperty%28%27type%27%29%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20ignore%20obj%2Eprototype%2Etype%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20type%2C%20expandedType%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20if%20%28typeof%20obj%2Etype%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20type%20%3D%20obj%2Etype%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28typeof%20obj%2Etype%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20type%20%3D%20Handsontable%2EcellTypes%5Bobj%2Etype%5D%3B%0A%20%20%20%20%20%20if%20%28type%20%3D%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20%20%20throw%20new%20Error%28%27You%20declared%20cell%20type%20%22%27%20%2B%20obj%2Etype%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%27%22%20as%20a%20string%20that%20is%20not%20mapped%20to%20a%20known%20object%2E%20Cell%20type%20must%20be%20an%20object%20or%20a%20string%20mapped%20to%20an%20object%20in%20Handsontable%2EcellTypes%27%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20for%20%28var%20i%20in%20type%29%20%7B%0A%20%20%20%20%20%20if%20%28type%2EhasOwnProperty%28i%29%20%26%26%20%21obj%2EhasOwnProperty%28i%29%29%20%7B%0A%20%20%20%20%20%20%20%20expandedType%5Bi%5D%20%3D%20type%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20expandedType%3B%0A%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Get%20object%20settings%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BObject%7D%20Returns%20an%20object%20containing%20the%20current%20grid%20settings%0A%20%20%20%2A%2F%0A%20%20this%2EgetSettings%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20priv%2Esettings%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Clears%20grid%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%2F%0A%20%20this%2Eclear%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20selection%2EselectAll%28%29%3B%0A%20%20%20%20selection%2Eempty%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Inserts%20or%20removes%20rows%20and%20columns%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BString%7D%20action%20See%20grid%2Ealter%20for%20possible%20values%3A%20%60%22insert%5Frow%22%60%2C%20%60%22insert%5Fcol%22%60%2C%20%60%22remove%5Frow%22%60%2C%20%60%22remove%5Fcol%22%60%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20index%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%0A%20%20%20%2A%20%40param%20%7BString%7D%20%5Bsource%5D%20Source%20of%20hook%20runner%0A%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5BkeepEmptyRows%5D%20Flag%20for%20preventing%20deletion%20of%20empty%20rows%0A%20%20%20%2A%0A%20%20%20%2A%20%40example%0A%20%20%20%2A%20Insert%20new%20row%28s%29%20above%20the%20row%20at%20given%20%60index%60%2E%20If%20index%20is%20%60null%60%20or%20%60undefined%60%2C%20the%20new%20row%20will%20be%0A%20%20%20%2A%20added%20after%20the%20current%20last%20row%2E%20Default%20%60amount%60%20equals%201%2E%0A%20%20%20%2A%20%60%60%60js%0A%20%20%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example%27%29%3B%0A%20%20%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%29%3B%0A%20%20%20%2A%20hot%2Ealter%28%27insert%5Frow%27%2C%2010%29%3B%0A%20%20%20%2A%20%60%60%60%0A%20%20%20%2A%0A%20%20%20%2A%20Insert%20new%20column%28s%29%20before%20the%20column%20at%20given%20%60index%60%2E%20If%20index%20is%20%60null%60%20or%20%60undefined%60%2C%20the%20new%20column%0A%20%20%20%2A%20will%20be%20added%20after%20the%20current%20last%20column%2E%20Default%20%60amount%60%20equals%201%0A%20%20%20%2A%20%60%60%60js%0A%20%20%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example%27%29%3B%0A%20%20%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%29%3B%0A%20%20%20%2A%20hot%2Ealter%28%27insert%5Fcol%27%2C%2010%29%3B%0A%20%20%20%2A%20%60%60%60%0A%20%20%20%2A%0A%20%20%20%2A%20Remove%20the%20row%28s%29%20at%20given%20%60index%60%2E%20Default%20%60amount%60%20equals%201%0A%20%20%20%2A%20%60%60%60js%0A%20%20%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example%27%29%3B%0A%20%20%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%29%3B%0A%20%20%20%2A%20hot%2Ealter%28%27remove%5Frow%27%2C%2010%29%3B%0A%20%20%20%2A%20%60%60%60%0A%20%20%20%2A%0A%20%20%20%2A%20Remove%20the%20column%28s%29%20at%20given%20%60index%60%2E%20Default%20%60amount%60%20equals%201%0A%20%20%20%2A%20%60%60%60js%0A%20%20%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example%27%29%3B%0A%20%20%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%29%3B%0A%20%20%20%2A%20hot%2Ealter%28%27remove%5Fcol%27%2C%2010%29%3B%0A%20%20%20%2A%20%60%60%60%0A%20%20%20%2A%2F%0A%20%20this%2Ealter%20%3D%20function%20%28action%2C%20index%2C%20amount%2C%20source%2C%20keepEmptyRows%29%20%7B%0A%20%20%20%20grid%2Ealter%28action%2C%20index%2C%20amount%2C%20source%2C%20keepEmptyRows%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20TD%20element%20for%20given%20%60row%60%2C%20%60col%60%20if%20it%20is%20rendered%20on%20screen%2E%0A%20%20%20%2A%20Returns%20%60null%60%20if%20the%20TD%20is%20not%20rendered%20on%20screen%20%28probably%20because%20that%20part%20of%20table%20is%20not%20visible%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40param%20%7BBoolean%7D%20topmost%0A%20%20%20%2A%20%40returns%20%7BElement%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetCell%20%3D%20function%20%28row%2C%20col%2C%20topmost%29%20%7B%0A%20%20%20%20return%20instance%2Eview%2EgetCellAtCoords%28new%20WalkontableCellCoords%28row%2C%20col%29%2C%20topmost%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20coordinates%20for%20the%20provided%20element%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BElement%7D%20elem%0A%20%20%20%2A%20%40returns%20%7BWalkontableCellCoords%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetCoords%20%3D%20function%28elem%29%20%7B%0A%20%20%20%20return%20this%2Eview%2Ewt%2EwtTable%2EgetCoords%2Ecall%28this%2Eview%2Ewt%2EwtTable%2C%20elem%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20property%20name%20that%20corresponds%20with%20the%20given%20column%20index%2E%20%7B%40link%20Handsontable%2EDataMap%23colToProp%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%20Column%20index%0A%20%20%20%2A%20%40returns%20%7BString%7D%0A%20%20%20%2A%2F%0A%20%20this%2EcolToProp%20%3D%20function%20%28col%29%20%7B%0A%20%20%20%20return%20datamap%2EcolToProp%28col%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20column%20index%20that%20corresponds%20with%20the%20given%20property%2E%20%7B%40link%20Handsontable%2EDataMap%23propToCol%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BString%7D%20prop%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%0A%20%20%20%2A%2F%0A%20%20this%2EpropToCol%20%3D%20function%20%28prop%29%20%7B%0A%20%20%20%20return%20datamap%2EpropToCol%28prop%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Return%20cell%20value%20at%20%60row%60%2C%20%60col%60%2E%20%60row%60%20and%20%60col%60%20are%20the%20%5F%5Fvisible%5F%5F%20indexes%20%28note%20that%20if%20columns%20were%20reordered%20or%20sorted%2C%0A%20%20%20%2A%20the%20current%20order%20will%20be%20used%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40returns%20%7B%2A%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetDataAtCell%20%3D%20function%20%28row%2C%20col%29%20%7B%0A%20%20%20%20return%20datamap%2Eget%28row%2C%20datamap%2EcolToProp%28col%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20value%20at%20%60row%60%2C%20%60prop%60%2E%20%7B%40link%20Handsontable%2EDataMap%23get%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BString%7D%20prop%0A%20%20%20%2A%20%40returns%20%7B%2A%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetDataAtRowProp%20%3D%20function%20%28row%2C%20prop%29%20%7B%0A%20%20%20%20return%20datamap%2Eget%28row%2C%20prop%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Returns%20array%20of%20column%20values%20from%20the%20data%20source%2E%20%60col%60%20is%20the%20%5F%5Fvisible%5F%5F%20index%20of%20the%20column%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E9%2Dbeta2%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetDataAtCol%20%3D%20function%20%28col%29%20%7B%0A%20%20%20%20var%20out%20%3D%20%5B%5D%3B%0A%20%20%20%20return%20out%2Econcat%2Eapply%28out%2C%20datamap%2EgetRange%28new%20WalkontableCellCoords%280%2C%20col%29%2C%20new%20WalkontableCellCoords%28priv%2Esettings%2Edata%2Elength%20%2D%201%2C%20col%29%2C%20datamap%2EDESTINATION%5FRENDERER%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Given%20the%20object%20property%20name%20%28e%2Eg%2E%20%60%27first%2Ename%27%60%29%2C%20returns%20array%20of%20column%20values%20from%20the%20data%20source%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E9%2Dbeta2%0A%20%20%20%2A%20%40param%20%7BString%7D%20prop%0A%20%20%20%2A%20%40returns%20%7BArray%7D%20%7B%2A%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetDataAtProp%20%3D%20function%20%28prop%29%20%7B%0A%20%20%20%20var%20out%20%3D%20%5B%5D%2C%0A%20%20%20%20%20%20range%3B%0A%0A%20%20%20%20range%20%3D%20datamap%2EgetRange%28%0A%20%20%20%20%20%20new%20WalkontableCellCoords%280%2C%20datamap%2EpropToCol%28prop%29%29%2C%0A%20%20%20%20%20%20new%20WalkontableCellCoords%28priv%2Esettings%2Edata%2Elength%20%2D%201%2C%20datamap%2EpropToCol%28prop%29%29%2C%0A%20%20%20%20%20%20datamap%2EDESTINATION%5FRENDERER%29%3B%0A%0A%20%20%20%20return%20out%2Econcat%2Eapply%28out%2C%20range%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20array%20of%20column%20values%20from%20the%20data%20source%2E%20%60col%60%20is%20the%20index%20of%20the%20row%20in%20the%20data%20source%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%2E0%2Dbeta3%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetSourceDataAtCol%20%3D%20function%20%28col%29%20%7B%0A%20%20%20%20var%20out%20%3D%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20data%20%3D%20priv%2Esettings%2Edata%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20data%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20out%2Epush%28data%5Bi%5D%5Bcol%5D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20out%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20a%20single%20row%20of%20the%20data%20%28array%20or%20object%2C%20depending%20on%20what%20you%20have%29%2E%20%60row%60%20is%20the%20index%20of%20the%20row%20in%20the%20data%20source%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%2E0%2Dbeta3%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40returns%20%7BArray%7CObject%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetSourceDataAtRow%20%3D%20function%20%28row%29%20%7B%0A%20%20%20%20return%20priv%2Esettings%2Edata%5Brow%5D%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Returns%20a%20single%20row%20of%20the%20data%20%28array%20or%20object%2C%20depending%20on%20what%20you%20have%29%2E%20%60row%60%20is%20the%20%5F%5Fvisible%5F%5F%20index%20of%20the%20row%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40returns%20%7B%2A%7D%0A%20%20%20%2A%20%40since%200%2E9%2Dbeta2%0A%20%20%20%2A%2F%0A%20%20this%2EgetDataAtRow%20%3D%20function%20%28row%29%20%7B%0A%20%20%20%20var%20data%20%3D%20datamap%2EgetRange%28new%20WalkontableCellCoords%28row%2C%200%29%2C%20new%20WalkontableCellCoords%28row%2C%20this%2EcountCols%28%29%20%2D%201%29%2C%20datamap%2EDESTINATION%5FRENDERER%29%3B%0A%20%20%20%20return%20data%5B0%5D%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Remove%20%60key%60%20property%20object%20from%20cell%20meta%20data%20corresponding%20to%20params%20%60row%60%2C%20%60col%60%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40param%20%7BString%7D%20key%0A%20%20%20%2A%2F%0A%20%20this%2EremoveCellMeta%20%3D%20function%28row%2C%20col%2C%20key%29%20%7B%0A%20%20%20%20var%20cellMeta%20%3D%20instance%2EgetCellMeta%28row%2C%20col%29%3B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20if%28cellMeta%5Bkey%5D%20%21%3D%20undefined%29%7B%0A%20%20%20%20%20%20delete%20priv%2EcellSettings%5Brow%5D%5Bcol%5D%5Bkey%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Set%20cell%20meta%20data%20object%20%60prop%60%20to%20corresponding%20params%20%60row%60%2C%20%60col%60%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40param%20%7BObject%7D%20prop%0A%20%20%20%2A%2F%0A%20%20this%2EsetCellMetaObject%20%3D%20function%20%28row%2C%20col%2C%20prop%29%20%7B%0A%20%20%20%20if%20%28typeof%20prop%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20%2F%2A%20jshint%20%2DW089%20%2A%2F%0A%20%20%20%20%20%20for%20%28var%20key%20in%20prop%29%20%7B%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20prop%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20this%2EsetCellMeta%28row%2C%20col%2C%20key%2C%20value%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Sets%20cell%20meta%20data%20object%20%60key%60%20corresponding%20to%20params%20%60row%60%2C%20%60col%60%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40param%20%7BString%7D%20key%0A%20%20%20%2A%20%40param%20%7BString%7D%20val%0A%20%20%20%2A%2F%0A%20%20this%2EsetCellMeta%20%3D%20function%20%28row%2C%20col%2C%20key%2C%20val%29%20%7B%0A%20%20%20%20if%20%28%21priv%2EcellSettings%5Brow%5D%29%20%7B%0A%20%20%20%20%20%20priv%2EcellSettings%5Brow%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%21priv%2EcellSettings%5Brow%5D%5Bcol%5D%29%20%7B%0A%20%20%20%20%20%20priv%2EcellSettings%5Brow%5D%5Bcol%5D%20%3D%20new%20priv%2EcolumnSettings%5Bcol%5D%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20priv%2EcellSettings%5Brow%5D%5Bcol%5D%5Bkey%5D%20%3D%20val%3B%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterSetCellMeta%27%2C%20row%2C%20col%2C%20key%2C%20val%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20cell%20properties%20for%20given%20%60row%60%2C%20%60col%60%20coordinates%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40returns%20%7BObject%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetCellMeta%20%3D%20function%20%28row%2C%20col%29%20%7B%0A%20%20%20%20var%20prop%20%3D%20datamap%2EcolToProp%28col%29%0A%20%20%20%20%20%20%2C%20cellProperties%3B%0A%0A%20%20%20%20row%20%3D%20translateRowIndex%28row%29%3B%0A%20%20%20%20col%20%3D%20translateColIndex%28col%29%3B%0A%0A%20%20%20%20if%20%28%21priv%2EcolumnSettings%5Bcol%5D%29%20%7B%0A%20%20%20%20%20%20priv%2EcolumnSettings%5Bcol%5D%20%3D%20Handsontable%2Ehelper%2EcolumnFactory%28GridSettings%2C%20priv%2EcolumnsSettingConflicts%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%21priv%2EcellSettings%5Brow%5D%29%20%7B%0A%20%20%20%20%20%20priv%2EcellSettings%5Brow%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%21priv%2EcellSettings%5Brow%5D%5Bcol%5D%29%20%7B%0A%20%20%20%20%20%20priv%2EcellSettings%5Brow%5D%5Bcol%5D%20%3D%20new%20priv%2EcolumnSettings%5Bcol%5D%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20cellProperties%20%3D%20priv%2EcellSettings%5Brow%5D%5Bcol%5D%3B%20%2F%2Fretrieve%20cellProperties%20from%20cache%0A%0A%20%20%20%20cellProperties%2Erow%20%3D%20row%3B%0A%20%20%20%20cellProperties%2Ecol%20%3D%20col%3B%0A%20%20%20%20cellProperties%2Eprop%20%3D%20prop%3B%0A%20%20%20%20cellProperties%2Einstance%20%3D%20instance%3B%0A%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27beforeGetCellMeta%27%2C%20row%2C%20col%2C%20cellProperties%29%3B%0A%20%20%20%20Handsontable%2Ehelper%2Eextend%28cellProperties%2C%20expandType%28cellProperties%29%29%3B%20%2F%2Ffor%20%60type%60%20added%20in%20beforeGetCellMeta%0A%0A%20%20%20%20if%20%28cellProperties%2Ecells%29%20%7B%0A%20%20%20%20%20%20var%20settings%20%3D%20cellProperties%2Ecells%2Ecall%28cellProperties%2C%20row%2C%20col%2C%20prop%29%3B%0A%0A%20%20%20%20%20%20if%20%28settings%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2Eextend%28cellProperties%2C%20settings%29%3B%0A%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2Eextend%28cellProperties%2C%20expandType%28settings%29%29%3B%20%2F%2Ffor%20%60type%60%20added%20in%20cells%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterGetCellMeta%27%2C%20row%2C%20col%2C%20cellProperties%29%3B%0A%0A%20%20%20%20return%20cellProperties%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20If%20displayed%20rows%20order%20is%20different%20than%20the%20order%20of%20rows%20stored%20in%20memory%20%28i%2Ee%2E%20sorting%20is%20applied%29%0A%20%20%20%2A%20we%20need%20to%20translate%20logical%20%28stored%29%20row%20index%20to%20physical%20%28displayed%29%20index%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%20Original%20row%20index%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Translated%20row%20index%0A%20%20%20%2A%2F%0A%20%20function%20translateRowIndex%28row%29%7B%0A%20%20%20%20return%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27modifyRow%27%2C%20row%29%3B%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20If%20displayed%20columns%20order%20is%20different%20than%20the%20order%20of%20columns%20stored%20in%20memory%20%28i%2Ee%2E%20column%20were%20moved%20using%20manualColumnMove%20plugin%29%0A%20%20%20%2A%20we%20need%20to%20translate%20logical%20%28stored%29%20column%20index%20to%20physical%20%28displayed%29%20index%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40private%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%20Original%20column%20index%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Translated%20column%20index%0A%20%20%20%2A%2F%0A%20%20function%20translateColIndex%28col%29%7B%0A%20%20%20%20%2F%2F%20warning%3A%20this%20must%20be%20done%20after%20datamap%2EcolToProp%0A%20%20%20%20return%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27modifyCol%27%2C%20col%29%3B%0A%20%20%7D%0A%0A%20%20var%20rendererLookup%20%3D%20Handsontable%2Ehelper%2EcellMethodLookupFactory%28%27renderer%27%29%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Get%20rederer%20type%20by%20%60row%60%20and%20%60col%60%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40returns%20%7BFunction%7D%20Returns%20rederer%20type%0A%20%20%20%2A%2F%0A%20%20this%2EgetCellRenderer%20%3D%20function%20%28row%2C%20col%29%20%7B%0A%20%20%20%20var%20renderer%20%3D%20rendererLookup%2Ecall%28this%2C%20row%2C%20col%29%3B%0A%0A%20%20%20%20return%20Handsontable%2Erenderers%2EgetRenderer%28renderer%29%3B%0A%20%20%7D%3B%0A%0A%20%20this%2EgetCellEditor%20%3D%20Handsontable%2Ehelper%2EcellMethodLookupFactory%28%27editor%27%29%3B%0A%0A%20%20this%2EgetCellValidator%20%3D%20Handsontable%2Ehelper%2EcellMethodLookupFactory%28%27validator%27%29%3B%0A%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Validates%20all%20cells%20using%20their%20validator%20functions%20and%20calls%20callback%20when%20finished%2E%20Does%20not%20render%20the%20view%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BFunction%7D%20callback%0A%20%20%20%2A%2F%0A%20%20this%2EvalidateCells%20%3D%20function%20%28callback%29%20%7B%0A%20%20%20%20var%20waitingForValidator%20%3D%20new%20ValidatorsQueue%28%29%3B%0A%20%20%20%20waitingForValidator%2EonQueueEmpty%20%3D%20callback%3B%0A%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20var%20i%20%3D%20instance%2EcountRows%28%29%20%2D%201%3B%0A%20%20%20%20while%20%28i%20%3E%3D%200%29%20%7B%0A%20%20%20%20%20%20var%20j%20%3D%20instance%2EcountCols%28%29%20%2D%201%3B%0A%20%20%20%20%20%20while%20%28j%20%3E%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20waitingForValidator%2EaddValidatorToQueue%28%29%3B%0A%20%20%20%20%20%20%20%20instance%2EvalidateCell%28instance%2EgetDataAtCell%28i%2C%20j%29%2C%20instance%2EgetCellMeta%28i%2C%20j%29%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20waitingForValidator%2EremoveValidatorFormQueue%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20%27validateCells%27%29%3B%0A%20%20%20%20%20%20%20%20j%2D%2D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20i%2D%2D%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%20%20waitingForValidator%2EcheckIfQueueIsEmpty%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20array%20of%20row%20headers%20%28if%20they%20are%20enabled%29%2E%20If%20param%20%60row%60%20given%2C%20return%20header%20at%20given%20row%20as%20string%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Brow%5D%0A%20%20%20%2A%20%40returns%20%7BArray%7CString%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetRowHeader%20%3D%20function%20%28row%29%20%7B%0A%20%20%20%20if%20%28row%20%3D%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20var%20out%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20instance%2EcountRows%28%29%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20out%2Epush%28instance%2EgetRowHeader%28i%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20out%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28Array%2EisArray%28priv%2Esettings%2ErowHeaders%29%20%26%26%20priv%2Esettings%2ErowHeaders%5Brow%5D%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20return%20priv%2Esettings%2ErowHeaders%5Brow%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28typeof%20priv%2Esettings%2ErowHeaders%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20return%20priv%2Esettings%2ErowHeaders%28row%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28priv%2Esettings%2ErowHeaders%20%26%26%20typeof%20priv%2Esettings%2ErowHeaders%20%21%3D%3D%20%27string%27%20%26%26%20typeof%20priv%2Esettings%2ErowHeaders%20%21%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20return%20row%20%2B%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20return%20priv%2Esettings%2ErowHeaders%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20information%20of%20this%20table%20is%20configured%20to%20display%20row%20headers%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%2F%0A%20%20this%2EhasRowHeaders%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20%21%21priv%2Esettings%2ErowHeaders%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20information%20of%20this%20table%20is%20configured%20to%20display%20column%20headers%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%2A%2F%0A%20%20this%2EhasColHeaders%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28priv%2Esettings%2EcolHeaders%20%21%3D%3D%20void%200%20%26%26%20priv%2Esettings%2EcolHeaders%20%21%3D%3D%20null%29%20%7B%20%2F%2FPolymer%20has%20empty%20value%20%3D%20null%0A%20%20%20%20%20%20return%20%21%21priv%2Esettings%2EcolHeaders%3B%0A%20%20%20%20%7D%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20instance%2EcountCols%28%29%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28instance%2EgetColHeader%28i%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20false%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20array%20of%20column%20headers%20%28if%20they%20are%20enabled%29%2E%20If%20param%20%60col%60%20given%2C%20return%20header%20at%20given%20column%20as%20string%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Bcol%5D%20Column%20index%0A%20%20%20%2A%20%40returns%20%7BArray%7CString%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetColHeader%20%3D%20function%20%28col%29%20%7B%0A%20%20%20%20if%20%28col%20%3D%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20var%20out%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20instance%2EcountCols%28%29%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20out%2Epush%28instance%2EgetColHeader%28i%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20out%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20var%20baseCol%20%3D%20col%3B%0A%0A%20%20%20%20%20%20col%20%3D%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27modifyCol%27%2C%20col%29%3B%0A%0A%20%20%20%20%20%20if%20%28priv%2Esettings%2Ecolumns%20%26%26%20priv%2Esettings%2Ecolumns%5Bcol%5D%20%26%26%20priv%2Esettings%2Ecolumns%5Bcol%5D%2Etitle%29%20%7B%0A%20%20%20%20%20%20%20%20return%20priv%2Esettings%2Ecolumns%5Bcol%5D%2Etitle%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28Array%2EisArray%28priv%2Esettings%2EcolHeaders%29%20%26%26%20priv%2Esettings%2EcolHeaders%5Bcol%5D%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20%20%20return%20priv%2Esettings%2EcolHeaders%5Bcol%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28typeof%20priv%2Esettings%2EcolHeaders%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%20priv%2Esettings%2EcolHeaders%28col%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28priv%2Esettings%2EcolHeaders%20%26%26%20typeof%20priv%2Esettings%2EcolHeaders%20%21%3D%3D%20%27string%27%20%26%26%20typeof%20priv%2Esettings%2EcolHeaders%20%21%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%20Handsontable%2Ehelper%2EspreadsheetColumnLabel%28baseCol%29%3B%20%2F%2Fsee%20%231458%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20priv%2Esettings%2EcolHeaders%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20column%20width%20from%20settings%20%28no%20guessing%29%2E%20Private%20use%20intended%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40private%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%0A%20%20%20%2A%2F%0A%20%20this%2E%5FgetColWidthFromSettings%20%3D%20function%20%28col%29%20%7B%0A%20%20%20%20var%20cellProperties%20%3D%20instance%2EgetCellMeta%280%2C%20col%29%3B%0A%20%20%20%20var%20width%20%3D%20cellProperties%2Ewidth%3B%0A%0A%20%20%20%20if%20%28width%20%3D%3D%3D%20void%200%20%7C%7C%20width%20%3D%3D%3D%20priv%2Esettings%2Ewidth%29%20%7B%0A%20%20%20%20%20%20width%20%3D%20cellProperties%2EcolWidths%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28width%20%21%3D%3D%20void%200%20%26%26%20width%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20switch%20%28typeof%20width%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%27object%27%3A%20%2F%2Farray%0A%20%20%20%20%20%20%20%20%20%20width%20%3D%20width%5Bcol%5D%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20%27function%27%3A%0A%20%20%20%20%20%20%20%20%20%20width%20%3D%20width%28col%29%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28typeof%20width%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20width%20%3D%20parseInt%28width%2C%2010%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20width%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20column%20width%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetColWidth%20%3D%20function%20%28col%29%20%7B%0A%20%20%20%20var%20width%20%3D%20instance%2E%5FgetColWidthFromSettings%28col%29%3B%0A%0A%20%20%20%20if%20%28%21width%29%20%7B%0A%20%20%20%20%20%20width%20%3D%2050%3B%0A%20%20%20%20%7D%0A%20%20%20%20width%20%3D%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27modifyColWidth%27%2C%20width%2C%20col%29%3B%0A%0A%20%20%20%20return%20width%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20row%20height%20from%20settings%20%28no%20guessing%29%2E%20Private%20use%20intended%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40private%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%0A%20%20%20%2A%2F%0A%20%20this%2E%5FgetRowHeightFromSettings%3D%20function%20%28row%29%20%7B%0A%20%20%20%20%2F%2A%20inefficient%0A%20%20%20%20var%20cellProperties%20%3D%20instance%2EgetCellMeta%280%2C%20row%29%3B%0A%20%20%20%20var%20height%20%3D%20cellProperties%2Eheight%3B%0A%20%20%20%20if%20%28height%20%3D%3D%3D%20void%200%20%7C%7C%20height%20%3D%3D%3D%20priv%2Esettings%2Eheight%29%20%7B%0A%20%20%20%20%20%20height%20%3D%20cellProperties%2ErowHeights%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2A%2F%0A%20%20%20%20var%20height%20%3D%20priv%2Esettings%2ErowHeights%3B%20%2F%2Fonly%20uses%20grid%20settings%0A%0A%20%20%20%20if%20%28height%20%21%3D%3D%20void%200%20%26%26%20height%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20switch%20%28typeof%20height%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%27object%27%3A%20%2F%2Farray%0A%20%20%20%20%20%20%20%20%20%20height%20%3D%20height%5Brow%5D%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20%27function%27%3A%0A%20%20%20%20%20%20%20%20%20%20height%20%3D%20height%28row%29%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28typeof%20height%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20height%20%3D%20parseInt%28height%2C%2010%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20height%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20row%20height%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%0A%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%2A%2F%0A%20%20this%2EgetRowHeight%20%3D%20function%20%28row%29%20%7B%0A%20%20%20%20var%20height%20%3D%20instance%2E%5FgetRowHeightFromSettings%28row%29%3B%0A%0A%20%20%20%20height%20%3D%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27modifyRowHeight%27%2C%20height%2C%20row%29%3B%0A%0A%20%20%20%20return%20height%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20total%20number%20of%20rows%20in%20the%20grid%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Total%20number%20in%20rows%20the%20grid%0A%20%20%20%2A%2F%0A%20%20this%2EcountRows%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20priv%2Esettings%2Edata%2Elength%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20total%20number%20of%20columns%20in%20the%20grid%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Total%20number%20of%20columns%0A%20%20%20%2A%2F%0A%20%20this%2EcountCols%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28instance%2EdataType%20%3D%3D%3D%20%27object%27%20%7C%7C%20instance%2EdataType%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20if%20%28priv%2Esettings%2Ecolumns%20%26%26%20priv%2Esettings%2Ecolumns%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20return%20priv%2Esettings%2Ecolumns%2Elength%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20datamap%2EcolToPropCache%2Elength%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28instance%2EdataType%20%3D%3D%3D%20%27array%27%29%20%7B%0A%20%20%20%20%20%20if%20%28priv%2Esettings%2Ecolumns%20%26%26%20priv%2Esettings%2Ecolumns%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20return%20priv%2Esettings%2Ecolumns%2Elength%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28priv%2Esettings%2Edata%20%26%26%20priv%2Esettings%2Edata%5B0%5D%20%26%26%20priv%2Esettings%2Edata%5B0%5D%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20return%20priv%2Esettings%2Edata%5B0%5D%2Elength%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Get%20index%20of%20first%20visible%20row%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Returns%20index%20of%20first%20visible%20row%0A%20%20%20%2A%2F%0A%20%20this%2ErowOffset%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20instance%2Eview%2Ewt%2EwtTable%2EgetFirstRenderedRow%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Get%20index%20of%20first%20visible%20column%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Return%20index%20of%20first%20visible%20column%2E%0A%20%20%20%2A%2F%0A%20%20this%2EcolOffset%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20instance%2Eview%2Ewt%2EwtTable%2EgetFirstRenderedColumn%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20number%20of%20rendered%20rows%20%28including%20rows%20partially%20or%20fully%20rendered%20outside%20viewport%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Returns%20%2D1%20if%20table%20is%20not%20visible%0A%20%20%20%2A%2F%0A%20%20this%2EcountRenderedRows%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20instance%2Eview%2Ewt%2Edrawn%20%3F%20instance%2Eview%2Ewt%2EwtTable%2EgetRenderedRowsCount%28%29%20%3A%20%2D1%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20number%20of%20visible%20rows%20%28rendered%20rows%20that%20fully%20fit%20inside%20viewport%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Returns%20%2D1%20if%20table%20is%20not%20visible%0A%20%20%20%2A%2F%0A%20%20this%2EcountVisibleRows%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20instance%2Eview%2Ewt%2Edrawn%20%3F%20instance%2Eview%2Ewt%2EwtTable%2EgetVisibleRowsCount%28%29%20%3A%20%2D1%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20number%20of%20visible%20columns%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Returns%20%2D1%20if%20table%20is%20not%20visible%0A%20%20%20%2A%2F%0A%20%20this%2EcountRenderedCols%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20instance%2Eview%2Ewt%2Edrawn%20%3F%20instance%2Eview%2Ewt%2EwtTable%2EgetRenderedColumnsCount%28%29%20%3A%20%2D1%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20number%20of%20visible%20columns%2E%20Returns%20%2D1%20if%20table%20is%20not%20visible%0A%20%20%20%2A%20%40return%20%7BNumber%7D%0A%20%20%20%2A%2F%0A%20%20this%2EcountVisibleCols%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20instance%2Eview%2Ewt%2Edrawn%20%3F%20instance%2Eview%2Ewt%2EwtTable%2EgetVisibleColumnsCount%28%29%20%3A%20%2D%201%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20number%20of%20empty%20rows%2E%20If%20the%20optional%20ending%20parameter%20is%201%2C%20returns%0A%20%20%20%2A%20number%20of%20empty%20rows%20at%20the%20bottom%20of%20the%20table%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5Bending%5D%20If%20%60true%60%2C%20will%20only%20count%20empty%20rows%20at%20the%20end%20of%20the%20data%20source%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Count%20empty%20rows%0A%20%20%20%2A%2F%0A%20%20this%2EcountEmptyRows%20%3D%20function%20%28ending%29%20%7B%0A%20%20%20%20var%20i%20%3D%20instance%2EcountRows%28%29%20%2D%201%2C%0A%20%20%20%20%20%20empty%20%3D%200%2C%0A%20%20%20%20%20%20row%3B%0A%0A%20%20%20%20while%20%28i%20%3E%3D%200%29%20%7B%0A%20%20%20%20%20%20row%20%3D%20Handsontable%2Ehooks%2Erun%28this%2C%20%27modifyRow%27%2C%20i%29%3B%0A%0A%20%20%20%20%20%20if%20%28instance%2EisEmptyRow%28row%29%29%20%7B%0A%20%20%20%20%20%20%20%20empty%20%2B%2B%3B%0A%0A%20%20%20%20%20%20%7D%20else%20if%20%28ending%29%20%7B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20i%2D%2D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20empty%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20number%20of%20empty%20columns%2E%20If%20the%20optional%20%60ending%60%20parameter%20is%20%60true%60%2C%20returns%20number%20of%20empty%0A%20%20%20%2A%20columns%20at%20right%20hand%20edge%20of%20the%20table%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5Bending%5D%20If%20%60true%60%2C%20will%20only%20count%20empty%20columns%20at%20the%20end%20of%20the%20data%20source%20row%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Count%20empty%20cols%0A%20%20%20%2A%2F%0A%20%20this%2EcountEmptyCols%20%3D%20function%20%28ending%29%20%7B%0A%20%20%20%20if%20%28instance%2EcountRows%28%29%20%3C%201%29%20%7B%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20i%20%3D%20instance%2EcountCols%28%29%20%2D%201%0A%20%20%20%20%20%20%2C%20empty%20%3D%200%3B%0A%20%20%20%20while%20%28i%20%3E%3D%200%29%20%7B%0A%20%20%20%20%20%20if%20%28instance%2EisEmptyCol%28i%29%29%20%7B%0A%20%20%20%20%20%20%20%20empty%2B%2B%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28ending%29%20%7B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20i%2D%2D%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20empty%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Check%20is%20%60row%60%20is%20empty%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%20Row%20index%0A%20%20%20%2A%20%40returns%20%7BBoolean%7D%20Return%20%60true%60%20if%20the%20row%20at%20the%20given%20%60row%60%20is%20empty%2C%20%60false%60%20otherwise%2E%0A%20%20%20%2A%2F%0A%20%20this%2EisEmptyRow%20%3D%20function%20%28row%29%20%7B%0A%20%20%20%20return%20priv%2Esettings%2EisEmptyRow%2Ecall%28instance%2C%20row%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Check%20is%20%60col%60%20is%20empty%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%20Column%20index%0A%20%20%20%2A%20%40returns%20%7BBoolean%7D%20Return%20%60true%60%20if%20the%20column%20at%20the%20given%20%60col%60%20is%20empty%2C%20%60false%60%20otherwise%2E%0A%20%20%20%2A%2F%0A%20%20this%2EisEmptyCol%20%3D%20function%20%28col%29%20%7B%0A%20%20%20%20return%20priv%2Esettings%2EisEmptyCol%2Ecall%28instance%2C%20col%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Select%20cell%20%60row%60%2C%20%60col%60%20or%20range%20finishing%20at%20%60endRow%60%2C%20%60endCol%60%2E%20By%20default%2C%20viewport%20will%20be%20scrolled%20to%20selection%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5BendRow%5D%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5BendCol%5D%0A%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5BscrollToCell%3Dtrue%5D%20If%20%60true%60%2C%20viewport%20will%20be%20scrolled%20to%20the%20selection%0A%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%2A%2F%0A%20%20this%2EselectCell%20%3D%20function%20%28row%2C%20col%2C%20endRow%2C%20endCol%2C%20scrollToCell%29%20%7B%0A%20%20%20%20if%20%28typeof%20row%20%21%3D%3D%20%27number%27%20%7C%7C%20row%20%3C%200%20%7C%7C%20row%20%3E%3D%20instance%2EcountRows%28%29%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28typeof%20col%20%21%3D%3D%20%27number%27%20%7C%7C%20col%20%3C%200%20%7C%7C%20col%20%3E%3D%20instance%2EcountCols%28%29%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28typeof%20endRow%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20endRow%20%21%3D%3D%20%27number%27%20%7C%7C%20endRow%20%3C%200%20%7C%7C%20endRow%20%3E%3D%20instance%2EcountRows%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28typeof%20endCol%20%21%3D%3D%20%27number%27%20%7C%7C%20endCol%20%3C%200%20%7C%7C%20endCol%20%3E%3D%20instance%2EcountCols%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20var%20coords%20%3D%20new%20WalkontableCellCoords%28row%2C%20col%29%3B%0A%20%20%20%20priv%2EselRange%20%3D%20new%20WalkontableCellRange%28coords%2C%20coords%2C%20coords%29%3B%0A%20%20%20%20if%20%28document%2EactiveElement%20%26%26%20document%2EactiveElement%20%21%3D%3D%20document%2EdocumentElement%20%26%26%20document%2EactiveElement%20%21%3D%3D%20document%2Ebody%29%20%7B%0A%20%20%20%20%20%20document%2EactiveElement%2Eblur%28%29%3B%20%2F%2Fneeded%20or%20otherwise%20prepare%20won%27t%20focus%20the%20cell%2E%20selectionSpec%20tests%20this%20%28should%20move%20focus%20to%20selected%20cell%29%0A%20%20%20%20%7D%0A%20%20%20%20instance%2Elisten%28%29%3B%0A%20%20%20%20if%20%28typeof%20endRow%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20selection%2EsetRangeEnd%28priv%2EselRange%2Efrom%2C%20scrollToCell%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20selection%2EsetRangeEnd%28new%20WalkontableCellCoords%28endRow%2C%20endCol%29%2C%20scrollToCell%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2Eselection%2Efinish%28%29%3B%0A%20%20%20%20return%20true%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Select%20cell%20%60row%60%2C%20%60prop%60%20or%20range%20finishing%20at%20%60endRow%60%2C%20%60endProp%60%2E%20By%20default%2C%20viewport%20will%20be%20scrolled%20to%20selection%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BObject%7D%20prop%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5BendRow%5D%0A%20%20%20%2A%20%40param%20%7BObject%7D%20%5BendProp%5D%0A%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5BscrollToCell%3Dtrue%5D%20If%20%60true%60%2C%20viewport%20will%20be%20scrolled%20to%20the%20selection%0A%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%2A%2F%0A%20%20this%2EselectCellByProp%20%3D%20function%20%28row%2C%20prop%2C%20endRow%2C%20endProp%2C%20scrollToCell%29%20%7B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20arguments%5B1%5D%20%3D%20datamap%2EpropToCol%28arguments%5B1%5D%29%3B%0A%20%20%20%20if%20%28typeof%20arguments%5B3%5D%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20arguments%5B3%5D%20%3D%20datamap%2EpropToCol%28arguments%5B3%5D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20instance%2EselectCell%2Eapply%28instance%2C%20arguments%29%3B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Deselects%20current%20cell%20selection%20on%20grid%2E%0A%20%20%20%2A%2F%0A%20%20this%2EdeselectCell%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20selection%2Edeselect%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Remove%20grid%20from%20DOM%2E%0A%20%20%20%2A%2F%0A%20%20this%2Edestroy%20%3D%20function%20%28%29%20%7B%0A%0A%20%20%20%20instance%2E%5FclearTimeouts%28%29%3B%0A%20%20%20%20if%20%28instance%2Eview%29%20%7B%20%2F%2Fin%20case%20HT%20is%20destroyed%20before%20initialization%20has%20finished%0A%20%20%20%20%20%20instance%2Eview%2Edestroy%28%29%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20Handsontable%2EDom%2Eempty%28instance%2ErootElement%29%3B%0A%20%20%20%20eventManager%2Eclear%28%29%3B%0A%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterDestroy%27%29%3B%0A%20%20%20%20Handsontable%2Ehooks%2Edestroy%28instance%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20in%20instance%29%20%7B%0A%20%20%20%20%20%20if%20%28instance%2EhasOwnProperty%28i%29%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2Freplace%20instance%20methods%20with%20post%20mortem%0A%20%20%20%20%20%20%20%20if%20%28typeof%20instance%5Bi%5D%20%3D%3D%3D%20%22function%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28i%20%21%3D%3D%20%22runHooks%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%5Bi%5D%20%3D%20postMortem%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%2Freplace%20instance%20properties%20with%20null%20%28restores%20memory%29%0A%20%20%20%20%20%20%20%20%2F%2Fit%20should%20not%20be%20necessary%20but%20this%20prevents%20a%20memory%20leak%20side%20effects%20that%20show%20itself%20in%20Jasmine%20tests%0A%20%20%20%20%20%20%20%20else%20if%20%28i%20%21%3D%3D%20%22guid%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%5Bi%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20%2F%2Freplace%20private%20properties%20with%20null%20%28restores%20memory%29%0A%20%20%20%20%2F%2Fit%20should%20not%20be%20necessary%20but%20this%20prevents%20a%20memory%20leak%20side%20effects%20that%20show%20itself%20in%20Jasmine%20tests%0A%20%20%20%20priv%20%3D%20null%3B%0A%20%20%20%20datamap%20%3D%20null%3B%0A%20%20%20%20grid%20%3D%20null%3B%0A%20%20%20%20selection%20%3D%20null%3B%0A%20%20%20%20editorManager%20%3D%20null%3B%0A%20%20%20%20instance%20%3D%20null%3B%0A%20%20%20%20GridSettings%20%3D%20null%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Replacement%20for%20all%20methods%20after%20Handsotnable%20was%20destroyed%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40private%0A%20%20%20%2A%2F%0A%20%20function%20postMortem%28%29%20%7B%0A%20%20%20%20throw%20new%20Error%28%22This%20method%20cannot%20be%20called%20because%20this%20Handsontable%20instance%20has%20been%20destroyed%22%29%3B%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20active%20editor%20object%2E%20%7B%40link%20Handsontable%2EEditorManager%23getActiveEditor%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BObject%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetActiveEditor%20%3D%20function%28%29%7B%0A%20%20%20%20return%20editorManager%2EgetActiveEditor%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20Handsontable%20instance%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BHandsontable%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetInstance%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20instance%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%7B%40link%20Handsontable%2EHooks%23add%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BString%7D%20key%0A%20%20%20%2A%20%40param%20%7BFunction%7D%20fn%0A%20%20%20%2A%2F%0A%20%20this%2EaddHook%20%3D%20function%20%28key%2C%20fn%29%20%7B%0A%20%20%20%20Handsontable%2Ehooks%2Eadd%28key%2C%20fn%2C%20instance%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%7B%40link%20Handsontable%2EHooks%23once%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BString%7D%20key%0A%20%20%20%2A%20%40param%20%7BFunction%7D%20fn%0A%20%20%20%2A%2F%0A%20%20this%2EaddHookOnce%20%3D%20function%20%28key%2C%20fn%29%20%7B%0A%20%20%20%20Handsontable%2Ehooks%2Eonce%28key%2C%20fn%2C%20instance%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%7B%40link%20Handsontable%2EHooks%23remove%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BString%7D%20key%0A%20%20%20%2A%20%40param%20%7BFunction%7D%20fn%0A%20%20%20%2A%2F%0A%20%20this%2EremoveHook%20%3D%20function%20%28key%2C%20fn%29%20%7B%0A%20%20%20%20Handsontable%2Ehooks%2Eremove%28key%2C%20fn%2C%20instance%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%7B%40link%20Handsontable%2EHooks%23run%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BString%7D%20key%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p1%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p2%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p3%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p4%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p5%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p6%0A%20%20%20%2A%2F%0A%20%20this%2ErunHooks%20%3D%20function%20%28key%2C%20p1%2C%20p2%2C%20p3%2C%20p4%2C%20p5%2C%20p6%29%20%7B%0A%20%20%20%20return%20Handsontable%2Ehooks%2Erun%28instance%2C%20key%2C%20p1%2C%20p2%2C%20p3%2C%20p4%2C%20p5%2C%20p6%29%3B%0A%20%20%7D%3B%0A%0A%20%20this%2Etimeouts%20%3D%20%5B%5D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Sets%20timeout%2E%20Purpose%20of%20this%20method%20is%20to%20clear%20all%20known%20timeouts%20when%20%60destroy%60%20method%20is%20called%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20handle%0A%20%20%20%2A%20%40private%0A%20%20%20%2A%2F%0A%20%20this%2E%5FregisterTimeout%20%3D%20function%20%28handle%29%20%7B%0A%20%20%20%20this%2Etimeouts%2Epush%28handle%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Clears%20all%20known%20timeouts%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40private%0A%20%20%20%2A%2F%0A%20%20this%2E%5FclearTimeouts%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20for%28var%20i%20%3D%200%2C%20ilen%20%3D%20this%2Etimeouts%2Elength%3B%20i%3Cilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20clearTimeout%28this%2Etimeouts%5Bi%5D%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Handsontable%20version%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7D%0A%20%20%20%2A%2F%0A%20%20this%2Eversion%20%3D%20%270%2E14%2E1%27%3B%20%2F%2Finserted%20by%20grunt%20from%20package%2Ejson%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20%40alias%20Handsontable%2EOptions%0A%20%2A%20%40constructor%0A%20%2A%20%40description%0A%0A%20%2A%20%23%23%20Constructor%20options%0A%20%2A%0A%20%2A%20Constructor%20options%20are%20applied%20using%20an%20object%20literal%20passed%20as%20a%20first%20argument%20to%20the%20Handsontable%20constructor%2E%0A%20%2A%0A%20%2A%20%40example%0A%20%2A%20%60%60%60js%0A%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example1%27%29%3B%0A%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%2C%20%7B%0A%20%2A%20%20%20data%3A%20myArray%2C%0A%20%2A%20%20%20width%3A%20400%2C%0A%20%2A%20%20%20height%3A%20300%0A%20%2A%20%7D%29%0A%20%2A%20%60%60%60%0A%20%2A%0A%20%2A%20%2D%2D%2D%0A%20%2A%20%23%23%20Cascading%20configuration%0A%20%2A%0A%20%2A%20Handsontable%200%2E9%20and%20newer%20is%20using%20%2ACascading%20Configuration%2A%2C%20which%20is%20fast%20way%20to%20provide%20configuration%20options%0A%20%2A%20for%20whole%20table%2C%20its%20columns%20and%20particular%20cells%2E%0A%20%2A%0A%20%2A%20Consider%20the%20following%20example%3A%0A%20%2A%20%60%60%60js%0A%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example%27%29%3B%0A%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%2C%20%7B%0A%20%2A%20%20%20readOnly%3A%20true%2C%0A%20%2A%20%20%20columns%3A%20%5B%0A%20%2A%20%20%20%20%20%7BreadOnly%3A%20false%7D%2C%0A%20%2A%20%20%20%20%20%7B%7D%2C%0A%20%2A%20%20%20%20%20%7B%7D%0A%20%2A%20%20%20%5D%2C%0A%20%2A%20%20%20cells%3A%20function%20%28row%2C%20col%2C%20prop%29%20%7B%0A%20%2A%20%20%20%20%20var%20cellProperties%20%3D%20%7B%7D%3B%0A%20%2A%0A%20%2A%20%20%20%20%20if%20%28row%20%3D%3D%3D%200%20%26%26%20col%20%3D%3D%3D%200%29%20%7B%0A%20%2A%20%20%20%20%20%20%20cellProperties%2EreadOnly%20%3D%20true%3B%0A%20%2A%20%20%20%20%20%7D%0A%20%2A%0A%20%2A%20%20%20%20%20return%20cellProperties%3B%0A%20%2A%20%20%20%7D%0A%20%2A%20%7D%29%3B%0A%20%2A%20%60%60%60%0A%20%2A%0A%20%2A%20The%20above%20notation%20will%20result%20in%20all%20TDs%20being%20%2Aread%20only%2A%2C%20except%20for%20first%20column%20TDs%20which%20will%20be%20%2Aeditable%2A%2C%20except%20for%20the%20TD%20in%20top%20left%20corner%20which%20will%20still%20be%20%2Aread%20only%2A%2E%0A%20%2A%0A%20%2A%20%23%23%23%20The%20Cascading%20Configuration%20model%0A%20%2A%0A%20%2A%20%23%23%23%23%23%201%2E%20Constructor%0A%20%2A%0A%20%2A%20Configuration%20options%20that%20are%20provided%20using%20first%2Dlevel%20%60handsontable%28container%2C%20%7Boption%3A%20%22value%22%7D%29%60%20and%20%60updateSettings%60%20method%2E%0A%20%2A%0A%20%2A%20%23%23%23%23%23%202%2E%20Columns%0A%20%2A%0A%20%2A%20Configuration%20options%20that%20are%20provided%20using%20second%2Dlevel%20object%20%60handsontable%28container%2C%20%7Bcolumns%3A%20%7Boption%3A%20%22value%22%7D%5D%7D%29%60%0A%20%2A%0A%20%2A%20%23%23%23%23%23%203%2E%20Cells%0A%20%2A%0A%20%2A%20Configuration%20options%20that%20are%20provided%20using%20second%2Dlevel%20function%20%60handsontable%28container%2C%20%7Bcells%3A%20function%3A%20%28row%2C%20col%2C%20prop%29%7B%20%7D%7D%29%60%0A%20%2A%0A%20%2A%20%2D%2D%2D%0A%20%2A%20%23%23%20Architecture%20performance%0A%20%2A%0A%20%2A%20The%20Cascading%20Configuration%20model%20is%20based%20on%20prototypical%20inheritance%2E%20It%20is%20much%20faster%20and%20memory%20efficient%20compared%0A%20%2A%20to%20the%20previous%20model%20that%20used%20jQuery%20extend%2E%20See%3A%20http%3A%2F%2Fjsperf%2Ecom%2Fextending%2Dsettings%2E%0A%20%2A%0A%20%2A%20%2D%2D%2D%0A%20%2A%20%5F%5FImportant%20notice%3A%5F%5F%20In%20order%20for%20the%20data%20separation%20to%20work%20properly%2C%20make%20sure%20that%20each%20instance%20of%20Handsontable%20has%20a%20unique%20%60id%60%2E%0A%20%2A%2F%0Avar%20DefaultSettings%20%3D%20function%20%28%29%20%7B%7D%3B%0A%0ADefaultSettings%2Eprototype%20%3D%20%7B%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Initial%20data%20source%20that%20will%20be%20bound%20to%20the%20data%20grid%20%5F%5Fby%20reference%5F%5F%20%28editing%20data%20grid%20alters%20the%20data%20source%29%2E%0A%20%20%20%2A%20Can%20be%20Array%20of%20Array%2C%20Array%20of%20Objects%20or%20Function%2E%0A%20%20%20%2A%0A%20%20%20%2A%20See%20%5BUnderstanding%20binding%20as%20reference%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Funderstanding%5Freference%2Ehtml%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BArray%7CFunction%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20data%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Defines%20the%20structure%20of%20a%20new%20row%20when%20data%20source%20is%20an%20object%2E%0A%20%20%20%2A%20Default%20like%20the%20first%20data%20row%20Array%20or%20Object%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%20See%20%5Bdemo%2Fdatasources%2Ehtml%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fdatasources%2Ehtml%29%20for%20examples%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BObject%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20dataSchema%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Width%20of%20the%20grid%2E%20Can%20be%20a%20number%20or%20a%20function%20that%20returns%20a%20number%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7CFunction%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20width%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Height%20of%20the%20grid%2E%20Can%20be%20a%20number%20or%20a%20function%20that%20returns%20a%20number%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7CFunction%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20height%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Initial%20number%20of%20rows%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%5F%5FNotice%3A%5F%5F%20This%20option%20only%20has%20effect%20in%20Handsontable%20constructor%20and%20only%20if%20%60data%60%20option%20is%20not%20provided%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%205%0A%20%20%20%2A%2F%0A%20%20startRows%3A%205%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Initial%20number%20of%20columns%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%5F%5FNotice%3A%5F%5F%20This%20option%20only%20has%20effect%20in%20Handsontable%20constructor%20and%20only%20if%20%60data%60%20option%20is%20not%20provided%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%205%0A%20%20%20%2A%2F%0A%20%20startCols%3A%205%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Setting%20%60true%60%20or%20%60false%60%20will%20enable%20or%20disable%20the%20default%20row%20headers%20%281%2C%202%2C%203%29%2E%0A%20%20%20%2A%20You%20can%20also%20define%20an%20array%20%60%5B%27One%27%2C%20%27Two%27%2C%20%27Three%27%2C%20%2E%2E%2E%5D%60%20or%20a%20function%20to%20define%20the%20headers%2E%0A%20%20%20%2A%20If%20a%20function%20is%20set%20the%20index%20of%20the%20row%20is%20passed%20as%20a%20parameter%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CArray%7CFunction%7D%0A%20%20%20%2A%20%40default%20null%0A%20%20%20%2A%20%40example%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%20%20%2F%2F%20as%20boolean%0A%20%20%20%2A%20%20rowHeaders%3A%20true%2C%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%20%20%2F%2F%20as%20array%0A%20%20%20%2A%20%20rowHeaders%3A%20%5B1%2C%202%2C%203%5D%2C%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%20%20%2F%2F%20as%20function%0A%20%20%20%2A%20%20rowHeaders%3A%20function%28index%29%20%7B%0A%20%20%20%2A%20%20%20%20return%20index%20%2B%20%27%3A%20AB%27%3B%0A%20%20%20%2A%20%20%7D%2C%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%2F%0A%20%20rowHeaders%3A%20null%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Setting%20%60true%60%20or%20%60false%60%20will%20enable%20or%20disable%20the%20default%20column%20headers%20%28A%2C%20B%2C%20C%29%2E%0A%20%20%20%2A%20You%20can%20also%20define%20an%20array%20%60%5B%27One%27%2C%20%27Two%27%2C%20%27Three%27%2C%20%2E%2E%2E%5D%60%20or%20a%20function%20to%20define%20the%20headers%2E%0A%20%20%20%2A%20If%20a%20function%20is%20set%20the%20index%20of%20the%20column%20is%20passed%20as%20a%20parameter%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CArray%7CFunction%7D%0A%20%20%20%2A%20%40default%20null%0A%20%20%20%2A%20%40example%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%20%20%2F%2F%20as%20boolean%0A%20%20%20%2A%20%20colHeaders%3A%20true%2C%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%20%20%2F%2F%20as%20array%0A%20%20%20%2A%20%20colHeaders%3A%20%5B%27A%27%2C%20%27B%27%2C%20%27C%27%5D%2C%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%20%20%2F%2F%20as%20function%0A%20%20%20%2A%20%20colHeaders%3A%20function%28index%29%20%7B%0A%20%20%20%2A%20%20%20%20return%20index%20%2B%20%27%3A%20AB%27%3B%0A%20%20%20%2A%20%20%7D%2C%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%2F%0A%20%20colHeaders%3A%20null%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Defines%20column%20widths%20in%20pixels%2E%20Accepts%20number%2C%20string%20%28that%20will%20be%20converted%20to%20number%29%2C%0A%20%20%20%2A%20array%20of%20numbers%20%28if%20you%20want%20to%20define%20column%20width%20separately%20for%20each%20column%29%20or%20a%0A%20%20%20%2A%20function%20%28if%20you%20want%20to%20set%20column%20width%20dynamically%20on%20each%20render%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BArray%7CFunction%7CNumber%7CString%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20colWidths%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Defines%20the%20cell%20properties%20and%20data%20binding%20for%20certain%20columns%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%5F%5FNotice%3A%5F%5F%20Using%20this%20option%20sets%20a%20fixed%20number%20of%20columns%20%28options%20%60startCols%60%2C%20%60minCols%60%2C%20%60maxCols%60%20will%20be%20ignored%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20See%20%5Bdemo%2Fdatasources%2Ehtml%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fdatasources%2Ehtml%29%20for%20examples%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BArray%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%20%40example%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example%27%29%3B%0A%20%20%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%2C%20%7B%0A%20%20%20%2A%20%20%20columns%3A%20%5B%0A%20%20%20%2A%20%20%20%20%20%7B%0A%20%20%20%2A%20%20%20%20%20%20%20%2F%2F%20column%20options%20for%20the%20first%20column%0A%20%20%20%2A%20%20%20%20%20%20%20type%3A%20%27numeric%27%2C%0A%20%20%20%2A%20%20%20%20%20%20%20format%3A%20%270%2C0%2E00%20%24%27%0A%20%20%20%2A%20%20%20%20%20%7D%2C%0A%20%20%20%2A%20%20%20%20%20%7B%0A%20%20%20%2A%20%20%20%20%20%20%20%2F%2F%20column%20options%20for%20the%20second%20column%0A%20%20%20%2A%20%20%20%20%20%20%20type%3A%20%27text%27%2C%0A%20%20%20%2A%20%20%20%20%20%20%20readOnly%3A%20true%0A%20%20%20%2A%20%20%20%20%20%7D%0A%20%20%20%2A%20%20%20%5D%0A%20%20%20%2A%20%7D%29%3B%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%2F%0A%20%20columns%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Defines%20the%20cell%20properties%20for%20given%20%60row%60%2C%20%60col%60%2C%20%60prop%60%20coordinates%2E%0A%20%20%20%2A%20Any%20constructor%20or%20column%20option%20may%20be%20overwritten%20for%20a%20particular%20cell%20%28row%2Fcolumn%20combination%29%2C%20using%20%60cell%60%0A%20%20%20%2A%20array%20passed%20to%20the%20Handsontable%20constructor%2E%20Or%20using%20%60cells%60%20function%20property%20to%20the%20Handsontable%20constructor%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BFunction%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%20%40example%0A%20%20%20%2A%20%60%60%60js%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example%27%29%3B%0A%20%20%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%2C%20%7B%0A%20%20%20%2A%20%20%20cells%3A%20function%20%28row%2C%20col%2C%20prop%29%20%7B%0A%20%20%20%2A%20%20%20%20%20var%20cellProperties%20%3D%20%7B%7D%3B%0A%20%20%20%2A%0A%20%20%20%2A%20%20%20%20%20if%20%28row%20%3D%3D%3D%200%20%26%26%20col%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%2A%20%20%20%20%20%20%20cellProperties%2EreadOnly%20%3D%20true%3B%0A%20%20%20%2A%20%20%20%20%20%7D%0A%20%20%20%2A%0A%20%20%20%2A%20%20%20%20%20return%20cellProperties%3B%0A%20%20%20%2A%20%20%20%7D%0A%20%20%20%2A%20%7D%29%3B%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%20%60%60%60%0A%20%20%20%2A%2F%0A%20%20cells%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Any%20constructor%20or%20column%20option%20may%20be%20overwritten%20for%20a%20particular%20cell%20%28row%2Fcolumn%20combination%29%2C%20using%20%60cell%60%0A%20%20%20%2A%20array%20passed%20to%20the%20Handsontable%20constructor%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BArray%7D%0A%20%20%20%2A%20%40default%20%5B%5D%0A%20%20%20%2A%20%40example%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example%27%29%3B%0A%20%20%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%2C%20%7B%0A%20%20%20%2A%20%20%20cell%3A%20%5B%0A%20%20%20%2A%20%20%20%20%20%7Brow%3A%200%2C%20col%3A%200%2C%20readOnly%3A%20true%7D%0A%20%20%20%2A%20%20%20%5D%0A%20%20%20%2A%20%7D%29%3B%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%2F%0A%20%20cell%3A%20%5B%5D%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20If%20%60true%60%2C%20enables%20Comments%20plugin%2C%20which%20enables%20applying%20cell%20comments%20through%20the%20context%20menu%0A%20%20%20%2A%20%28configurable%20with%20context%20menu%20keys%20commentsAddEdit%2C%20commentsRemove%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20To%20initialize%20Handsontable%20with%20predefined%20comments%2C%20provide%20cell%20coordinates%20and%20comment%20texts%20in%20form%20of%20an%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20See%20%5BComments%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fcomments%2Ehtml%29%20demo%20for%20examples%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%2E0%0A%20%20%20%2A%20%40type%20%7BBoolean%7CArray%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%20%40example%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example%27%29%3B%0A%20%20%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%2C%20%7B%0A%20%20%20%2A%20%20%20comments%3A%20%5B%7Brow%3A%201%2C%20col%3A%201%2C%20comment%3A%20%22Test%20comment%22%7D%5D%0A%20%20%20%2A%20%7D%29%3B%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%2F%0A%20%20comments%3A%20false%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20If%20%60true%60%2C%20enables%20Custom%20Borders%20plugin%2C%20which%20enables%20applying%20custom%20borders%20through%20the%20context%20menu%20%28configurable%20with%20context%20menu%20key%20borders%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20To%20initialize%20Handsontable%20with%20predefined%20custom%20borders%2C%20provide%20cell%20coordinates%20and%20border%20styles%20in%20form%20of%20an%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20See%20%5BCustom%20Borders%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fcustom%5Fborders%2Ehtml%29%20demo%20for%20examples%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40since%200%2E11%2E0%0A%20%20%20%2A%20%40type%20%7BBoolean%7CArray%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%20%40example%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example%27%29%3B%0A%20%20%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%2C%20%7B%0A%20%20%20%2A%20%20%20customBorders%3A%20%5B%7Brange%3A%20%7Bfrom%3A%20%7Brow%3A%201%2C%20col%3A%201%7D%2C%20to%3A%20%7Brow%3A%203%2C%20col%3A%204%7D%7D%2C%20left%3A%20%7B%7D%2C%20right%3A%20%7B%7D%2C%20top%3A%20%7B%7D%2C%20bottom%3A%20%7B%7D%7D%5D%2C%0A%20%20%20%2A%20%7D%29%3B%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%2F%2F%20or%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%20var%20exampleContainer%20%3D%20document%2EgetElementById%28%27example%27%29%3B%0A%20%20%20%2A%20var%20hot%20%3D%20new%20Handsontable%28exampleContainer%2C%20%7B%0A%20%20%20%2A%20%20%20customBorders%3A%20%5B%7Brow%3A%202%2C%20col%3A%202%2C%20left%3A%20%7Bwidth%3A%202%2C%20color%3A%20%27red%27%7D%2C%20right%3A%20%7Bwidth%3A%201%2C%20color%3A%20%27green%27%7D%2C%20top%3A%20%27%27%2C%20bottom%3A%20%27%27%7D%5D%2C%0A%20%20%20%2A%20%7D%29%3B%0A%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%2A%2F%0A%20%20customBorders%3A%20false%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Minimum%20number%20of%20rows%2E%20At%20least%20that%20many%20of%20rows%20will%20be%20created%20during%20initialization%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%200%0A%20%20%20%2A%2F%0A%20%20minRows%3A%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Minimum%20number%20of%20columns%2E%20At%20least%20that%20many%20of%20columns%20will%20be%20created%20during%20initialization%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%200%0A%20%20%20%2A%2F%0A%20%20minCols%3A%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Maximum%20number%20of%20rows%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%20Infinity%0A%20%20%20%2A%2F%0A%20%20maxRows%3A%20Infinity%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Maximum%20number%20of%20cols%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%20Infinity%0A%20%20%20%2A%2F%0A%20%20maxCols%3A%20Infinity%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20When%20set%20to%201%20%28or%20more%29%2C%20Handsontable%20will%20add%20a%20new%20row%20at%20the%20end%20of%20grid%20if%20there%20are%20no%20more%20empty%20rows%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%200%0A%20%20%20%2A%2F%0A%20%20minSpareRows%3A%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20When%20set%20to%201%20%28or%20more%29%2C%20Handsontable%20will%20add%20a%20new%20column%20at%20the%20end%20of%20grid%20if%20there%20are%20no%20more%20empty%20columns%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%200%0A%20%20%20%2A%2F%0A%20%20minSpareCols%3A%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%2F%0A%20%20allowInsertRow%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%2F%0A%20%20allowInsertColumn%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%2F%0A%20%20allowRemoveRow%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%2F%0A%20%20allowRemoveColumn%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20If%20true%2C%20selection%20of%20multiple%20cells%20using%20keyboard%20or%20mouse%20is%20allowed%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%2F%0A%20%20multiSelect%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Enables%20the%20fill%20handle%20%28drag%2Ddown%20and%20copy%2Ddown%29%20functionality%2C%20which%20shows%20the%20small%20rectangle%20in%20bottom%0A%20%20%20%2A%20right%20corner%20of%20the%20selected%20area%2C%20that%20let%27s%20you%20expand%20values%20to%20the%20adjacent%20cells%2E%0A%20%20%20%2A%0A%20%20%20%2A%20Possible%20values%3A%20%60true%60%20%28to%20enable%20in%20all%20directions%29%2C%20%60%22vertical%22%60%20or%20%60%22horizontal%22%60%20%28to%20enable%20in%20one%20direction%29%2C%0A%20%20%20%2A%20%60false%60%20%28to%20disable%20completely%29%2E%20Setting%20to%20%60true%60%20enables%20the%20fillHandle%20plugin%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CString%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%2F%0A%20%20fillHandle%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Allows%20to%20specify%20the%20number%20of%20rows%20fixed%20%28aka%20freezed%29%20on%20the%20top%20of%20the%20table%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%200%0A%20%20%20%2A%2F%0A%20%20fixedRowsTop%3A%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Allows%20to%20specify%20the%20number%20of%20columns%20fixed%20%28aka%20freezed%29%20on%20the%20left%20side%20of%20the%20table%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%200%0A%20%20%20%2A%2F%0A%20%20fixedColumnsLeft%3A%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20If%20%60true%60%2C%20mouse%20click%20outside%20the%20grid%20will%20deselect%20the%20current%20selection%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%2F%0A%20%20outsideClickDeselects%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20If%20%60true%60%2C%20%3Ckbd%3EENTER%3C%2Fkbd%3E%20begins%20editing%20mode%20%28like%20Google%20Docs%29%2E%20If%20%60false%60%2C%20%3Ckbd%3EENTER%3C%2Fkbd%3E%20moves%20to%20next%0A%20%20%20%2A%20row%20%28like%20Excel%29%20and%20adds%20new%20row%20if%20necessary%2E%20%3Ckbd%3ETAB%3C%2Fkbd%3E%20adds%20new%20column%20if%20necessary%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%2F%0A%20%20enterBeginsEditing%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Defines%20cursor%20move%20after%20%3Ckbd%3EENTER%3C%2Fkbd%3E%20is%20pressed%20%28%3Ckbd%3ESHIFT%3C%2Fkbd%3E%20%2B%20%3Ckbd%3EENTER%3C%2Fkbd%3E%20uses%20negative%20vector%29%2E%0A%20%20%20%2A%20Can%20be%20an%20object%20or%20a%20function%20that%20returns%20an%20object%2E%20The%20event%20argument%20passed%20to%20the%20function%0A%20%20%20%2A%20is%20a%20DOM%20Event%20object%20received%20after%20a%20%3Ckbd%3EENTER%3C%2Fkbd%3E%20key%20has%20been%20pressed%2E%20This%20event%20object%20can%20be%20used%20to%20check%0A%20%20%20%2A%20whether%20user%20pressed%20%3Ckbd%3EENTER%3C%2Fkbd%3E%20or%20%3Ckbd%3ESHIFT%3C%2Fkbd%3E%20%2B%20%3Ckbd%3EENTER%3C%2Fkbd%3E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BObject%7CFunction%7D%0A%20%20%20%2A%20%40default%20%7Brow%3A%201%2C%20col%3A%200%7D%0A%20%20%20%2A%2F%0A%20%20enterMoves%3A%20%7Brow%3A%201%2C%20col%3A%200%7D%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Defines%20cursor%20move%20after%20%3Ckbd%3ETAB%3C%2Fkbd%3E%20is%20pressed%20%28%3Ckbd%3ESHIFT%3C%2Fkbd%3E%20%2B%20%3Ckbd%3ETAB%3C%2Fkbd%3E%20uses%20negative%20vector%29%2E%0A%20%20%20%2A%20Can%20be%20an%20object%20or%20a%20function%20that%20returns%20an%20object%2E%20The%20event%20argument%20passed%20to%20the%20function%0A%20%20%20%2A%20is%20a%20DOM%20Event%20object%20received%20after%20a%20%3Ckbd%3ETAB%3C%2Fkbd%3E%20key%20has%20been%20pressed%2E%20This%20event%20object%20can%20be%20used%20to%20check%0A%20%20%20%2A%20whether%20user%20pressed%20%3Ckbd%3ETAB%3C%2Fkbd%3E%20or%20%3Ckbd%3ESHIFT%3C%2Fkbd%3E%20%2B%20%3Ckbd%3ETAB%3C%2Fkbd%3E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BObject%7D%0A%20%20%20%2A%20%40default%20%7Brow%3A%200%2C%20col%3A%201%7D%0A%20%20%20%2A%2F%0A%20%20tabMoves%3A%20%7Brow%3A%200%2C%20col%3A%201%7D%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20If%20%60true%60%2C%20pressing%20%3Ckbd%3ETAB%3C%2Fkbd%3E%20or%20right%20arrow%20in%20the%20last%20column%20will%20move%20to%20first%20column%20in%20next%20row%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%2F%0A%20%20autoWrapRow%3A%20false%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20If%20%60true%60%2C%20pressing%20%3Ckbd%3EENTER%3C%2Fkbd%3E%20or%20down%20arrow%20in%20the%20last%20row%20will%20move%20to%20first%20row%20in%20next%20column%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%2F%0A%20%20autoWrapCol%3A%20false%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Maximum%20number%20of%20rows%20than%20can%20be%20copied%20to%20clipboard%20using%20%3Ckbd%3ECTRL%3C%2Fkbd%3E%20%2B%20%3Ckbd%3EC%3C%2Fkbd%3E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%201000%0A%20%20%20%2A%2F%0A%20%20copyRowsLimit%3A%201000%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Maximum%20number%20of%20columns%20than%20can%20be%20copied%20to%20clipboard%20using%20%3Ckbd%3ECTRL%3C%2Fkbd%3E%20%2B%20%3Ckbd%3EC%3C%2Fkbd%3E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%201000%0A%20%20%20%2A%2F%0A%20%20copyColsLimit%3A%201000%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Defines%20paste%20%28%3Ckbd%3ECTRL%3C%2Fkbd%3E%20%2B%20%3Ckbd%3EV%3C%2Fkbd%3E%29%20behavior%2E%20Default%20value%20%60%22overwrite%22%60%20will%20paste%20clipboard%20value%20over%20current%20selection%2E%0A%20%20%20%2A%20When%20set%20to%20%60%22shift%5Fdown%22%60%2C%20clipboard%20data%20will%20be%20pasted%20in%20place%20of%20current%20selection%2C%20while%20all%20selected%20cells%20are%20moved%20down%2E%0A%20%20%20%2A%20When%20set%20to%20%60%22shift%5Fright%22%60%2C%20clipboard%20data%20will%20be%20pasted%20in%20place%20of%20current%20selection%2C%20while%20all%20selected%20cells%20are%20moved%20right%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7D%0A%20%20%20%2A%20%40default%20%27overwrite%27%0A%20%20%20%2A%2F%0A%20%20pasteMode%3A%20%27overwrite%27%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Turn%20on%20saving%20the%20state%20of%20column%20sorting%2C%20columns%20positions%20and%20columns%20sizes%20in%20local%20storage%2E%0A%20%20%20%2A%0A%20%20%20%2A%20You%20can%20save%20any%20sort%20of%20data%20in%20local%20storage%20in%20to%20preserve%20table%20state%20between%20page%20reloads%2E%0A%20%20%20%2A%20In%20order%20to%20enable%20data%20storage%20mechanism%2C%20%60persistentState%60%20option%20must%20be%20set%20to%20%60true%60%20%28you%20can%20set%20it%0A%20%20%20%2A%20either%20during%20Handsontable%20initialization%20or%20using%20the%20%60updateSettings%60%20method%29%2E%20When%20%60persistentState%60%20is%20enabled%20it%20exposes%203%20hooks%3A%0A%20%20%20%2A%0A%20%20%20%2A%20%5F%5FpersistentStateSave%5F%5F%20%28key%3A%20String%2C%20value%3A%20Mixed%29%0A%20%20%20%2A%0A%20%20%20%2A%20%20%20%2A%20Saves%20value%20under%20given%20key%20in%20browser%20local%20storage%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%5F%5FpersistentStateLoad%5F%5F%20%28key%3A%20String%2C%20valuePlaceholder%3A%20Object%29%0A%20%20%20%2A%0A%20%20%20%2A%20%20%20%2A%20Loads%20%60value%60%2C%20saved%20under%20given%20key%2C%20form%20browser%20local%20storage%2E%20The%20loaded%20%60value%60%20will%20be%20saved%20in%20%60valuePlaceholder%2Evalue%60%0A%20%20%20%2A%20%20%20%20%20%28this%20is%20due%20to%20specific%20behaviour%20of%20%60PluginHooks%2Eexecute%28%29%60%20method%29%2E%20If%20no%20value%20have%20been%20saved%20under%20key%20%60valuePlaceholder%2Evalue%60%0A%20%20%20%2A%20%20%20%20%20will%20be%20%60undefined%60%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%5F%5FpersistentStateReset%5F%5F%20%28key%3A%20String%29%0A%20%20%20%2A%0A%20%20%20%2A%20%20%20%2A%20Clears%20the%20value%20saved%20under%20%60key%60%2E%20If%20no%20%60key%60%20is%20given%2C%20all%20values%20associated%20with%20table%20will%20be%20cleared%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%5F%5FNote%3A%5F%5F%20The%20main%20reason%20behind%20using%20%60persistentState%60%20hooks%20rather%20than%20regular%20LocalStorage%20API%20is%20that%20it%0A%20%20%20%2A%20ensures%20separation%20of%20data%20stored%20by%20multiple%20Handsontable%20instances%2E%20In%20other%20words%2C%20if%20you%20have%20two%20%28or%20more%29%0A%20%20%20%2A%20instances%20of%20Handsontable%20on%20one%20page%2C%20data%20saved%20by%20one%20instance%20won%27t%20be%20accessible%20by%20the%20second%20instance%2E%0A%20%20%20%2A%20Those%20two%20instances%20can%20store%20data%20under%20the%20same%20key%20and%20no%20data%20would%20be%20overwritten%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%5F%5FImportant%3A%5F%5F%20In%20order%20for%20the%20data%20separation%20to%20work%20properly%2C%20make%20sure%20that%20each%20instance%20of%20Handsontable%20has%20a%20unique%20%60id%60%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%2F%0A%20%20persistentState%3A%20false%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Class%20name%20for%20all%20visible%20rows%20in%20current%20selection%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20currentRowClassName%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Class%20name%20for%20all%20visible%20columns%20in%20current%20selection%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20currentColClassName%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20%5BColumn%20stretching%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fscroll%2Ehtml%29%20mode%2E%20Possible%20values%3A%20%60%22none%22%60%2C%20%60%22last%22%60%2C%20%60%22all%22%60%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7D%0A%20%20%20%2A%20%40default%20%27none%27%0A%20%20%20%2A%2F%0A%20%20stretchH%3A%20%27none%27%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Lets%20you%20overwrite%20the%20default%20%60isEmptyRow%60%20method%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BFunction%7D%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%2A%2F%0A%20%20isEmptyRow%3A%20function%20%28row%29%20%7B%0A%20%20%20%20var%20col%2C%20colLen%2C%20value%2C%20meta%3B%0A%0A%20%20%20%20for%20%28col%20%3D%200%2C%20colLen%20%3D%20this%2EcountCols%28%29%3B%20col%20%3C%20colLen%3B%20col%20%2B%2B%29%20%7B%0A%20%20%20%20%20%20value%20%3D%20this%2EgetDataAtCell%28row%2C%20col%29%3B%0A%0A%20%20%20%20%20%20if%20%28value%20%21%3D%3D%20%27%27%20%26%26%20value%20%21%3D%3D%20null%20%26%26%20typeof%20value%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20value%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20meta%20%3D%20this%2EgetCellMeta%28row%2C%20col%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20return%20Handsontable%2Ehelper%2EisObjectEquals%28this%2EgetSchema%28%29%5Bmeta%2Eprop%5D%2C%20value%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20true%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Lets%20you%20overwrite%20the%20default%20%60isEmptyCol%60%20method%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BFunction%7D%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%2A%2F%0A%20%20isEmptyCol%3A%20function%20%28col%29%20%7B%0A%20%20%20%20var%20row%2C%20rowLen%2C%20value%3B%0A%0A%20%20%20%20for%20%28row%20%3D%200%2C%20rowLen%20%3D%20this%2EcountRows%28%29%3B%20row%20%3C%20rowLen%3B%20row%20%2B%2B%29%20%7B%0A%20%20%20%20%20%20value%20%3D%20this%2EgetDataAtCell%28row%2C%20col%29%3B%0A%0A%20%20%20%20%20%20if%20%28value%20%21%3D%3D%20%27%27%20%26%26%20value%20%21%3D%3D%20null%20%26%26%20typeof%20value%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20true%3B%0A%20%20%7D%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20When%20set%20to%20%60true%60%2C%20the%20table%20is%20rerendered%20when%20it%20is%20detected%20that%20it%20was%20made%20visible%20in%20DOM%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%2F%0A%20%20observeDOMVisibility%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20If%20set%20to%20%60true%60%2C%20cells%20will%20accept%20value%20that%20is%20marked%20as%20invalid%20by%20cell%20%60validator%60%2C%20with%20a%20background%20color%0A%20%20%20%2A%20automatically%20applied%20using%20CSS%20class%20%60htInvalid%60%2E%20If%20set%20to%20%60false%60%2C%20cells%20will%20not%20accept%20invalid%20value%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%20%40since%200%2E9%2E5%0A%20%20%20%2A%2F%0A%20%20allowInvalid%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20CSS%20class%20name%20for%20cells%20that%20did%20not%20pass%20validation%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7D%0A%20%20%20%2A%20%40default%20%27htInvalid%27%0A%20%20%20%2A%2F%0A%20%20invalidCellClassName%3A%20%27htInvalid%27%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20When%20set%20to%20an%20non%2Dempty%20string%2C%20displayed%20as%20the%20cell%20content%20for%20empty%20cells%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CString%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%2F%0A%20%20placeholder%3A%20false%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20CSS%20class%20name%20for%20cells%20that%20have%20a%20placeholder%20in%20use%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7D%0A%20%20%20%2A%20%40default%20%27htPlaceholder%27%0A%20%20%20%2A%2F%0A%20%20placeholderCellClassName%3A%20%27htPlaceholder%27%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20CSS%20class%20name%20for%20read%2Donly%20cells%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7D%0A%20%20%20%2A%20%40default%20%27htDimmed%27%0A%20%20%20%2A%2F%0A%20%20readOnlyCellClassName%3A%20%27htDimmed%27%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20String%20or%20rendering%20function%2E%0A%20%20%20%2A%20String%20may%20be%20one%20of%20the%20following%20predefined%20values%3A%20%60autocomplete%60%2C%20%60checkbox%60%2C%20%60text%60%2C%20%60numeric%60%2E%0A%20%20%20%2A%20Function%20will%20receive%20the%20following%20arguments%3A%20%60function%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%7D%60%0A%20%20%20%2A%20You%20can%20map%20your%20own%20function%20to%20a%20string%20like%20this%3A%20%60Handsontable%2EcellLookup%2Erenderer%2EmyRenderer%20%3D%20myRenderer%3B%60%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7CFunction%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20renderer%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40type%20%7BString%7D%0A%20%20%20%2A%20%40default%20%27htCommentCell%27%0A%20%20%20%2A%2F%0A%20%20commentedCellClassName%3A%20%27htCommentCell%27%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Setting%20to%20%60true%60%20enables%20selecting%20just%20a%20fragment%20of%20the%20text%20within%20a%20single%20cell%20or%20between%20adjacent%20cells%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%2F%0A%20%20fragmentSelection%3A%20false%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Make%20cell%20%5Bread%20only%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Freadonly%2Ehtml%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%2F%0A%20%20readOnly%3A%20false%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Setting%20to%20true%20enables%20the%20search%20plugin%20%28see%20%5Bdemo%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fsearch%2Ehtml%29%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%2F%0A%20%20search%3A%20false%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Shortcut%20to%20define%20combination%20of%20cell%20renderer%20and%20editor%20for%20the%20column%2E%0A%20%20%20%2A%0A%20%20%20%2A%20Possible%20values%3A%20text%2C%20%5Bnumeric%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fnumeric%2Ehtml%29%2C%20%5Bdate%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fdate%2Ehtml%29%2C%0A%20%20%20%2A%20%5Bcheckbox%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fcheckbox%2Ehtml%29%2C%20%5Bautocomplete%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fautocomplete%2Ehtml%29%2C%0A%20%20%20%2A%20%5Bhandsontable%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fhandsontable%2Ehtml%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7D%0A%20%20%20%2A%20%40default%20%27text%27%0A%20%20%20%2A%2F%0A%20%20type%3A%20%27text%27%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Make%20cell%20copyable%20%28pressing%20%3Ckbd%3ECTRL%3C%2Fkbd%3E%20%2B%20%3Ckbd%3EC%3C%2Fkbd%3E%20on%20your%20keyboard%20moves%20its%20value%20to%20system%20clipboard%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%5F%5FNote%3A%5F%5F%20this%20setting%20is%20%60false%60%20by%20default%20for%20cells%20with%20type%20%60password%60%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%20%40since%200%2E10%2E2%0A%20%20%20%2A%2F%0A%20%20copyable%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20String%20or%20rendering%20function%2E%0A%20%20%20%2A%20String%20may%20be%20one%20of%20the%20following%20predefined%20values%3A%20%60autocomplete%60%2C%20%60checkbox%60%2C%20%60text%60%2C%20%60date%60%2C%20%60handsontable%60%2E%0A%20%20%20%2A%20Function%20will%20receive%20the%20following%20arguments%3A%20%60function%28instance%2C%20td%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%7D%60%0A%20%20%20%2A%20You%20can%20map%20your%20own%20function%20to%20a%20string%20like%20this%3A%20%60Handsontable%2EcellLookup%2Erenderer%2EmyEditor%20%3D%20myEditor%3B%60%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7CFunction%7D%0A%20%20%20%2A%20%40default%20%27text%27%0A%20%20%20%2A%2F%0A%20%20editor%3A%20%27text%27%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Autocomplete%20definitions%2E%20See%20%5Bdemo%2Fautocomplete%2Ehtml%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fautocomplete%2Ehtml%29%20for%20examples%20and%20definitions%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BArray%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20autoComplete%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Setting%20to%20true%20enables%20the%20debug%20mode%2C%20currently%20used%20to%20test%20the%20correctness%20of%20the%20row%20and%20column%0A%20%20%20%2A%20header%20fixed%20positioning%20on%20a%20layer%20above%20the%20master%20table%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%2F%0A%20%20debug%3A%20false%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20When%20set%20to%20%60true%60%2C%20the%20text%20of%20the%20cell%20content%20is%20wrapped%20if%20it%20does%20not%20fit%20in%20the%20fixed%20column%20width%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20true%0A%20%20%20%2A%20%40since%200%2E11%2E0%0A%20%20%20%2A%2F%0A%20%20wordWrap%3A%20true%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20CSS%20class%20name%20added%20to%20cells%20with%20cell%20meta%20%60wordWrap%3A%20false%60%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BString%7D%0A%20%20%20%2A%20%40default%20%27htNoWrap%27%0A%20%20%20%2A%20%40since%200%2E11%2E0%0A%20%20%20%2A%2F%0A%20%20noWordWrapClassName%3A%20%27htNoWrap%27%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Defines%20if%20the%20right%2Dclick%20context%20menu%20should%20be%20enabled%2E%20Context%20menu%20allows%20to%20create%20new%20row%20or%0A%20%20%20%2A%20column%20at%20any%20place%20in%20the%20grid%2E%20Possible%20values%3A%20%60true%60%20%28to%20enable%20basic%20options%29%2C%20%60false%60%20%28to%20disable%20completely%29%0A%20%20%20%2A%20or%20array%20of%20any%20available%20strings%3A%20%60%5B%22row%5Fabove%22%2C%20%22row%5Fbelow%22%2C%20%22col%5Fleft%22%2C%20%22col%5Fright%22%2C%0A%20%20%20%2A%20%22remove%5Frow%22%2C%20%22remove%5Fcol%22%2C%20%22undo%22%2C%20%22redo%22%2C%20%22sep1%22%2C%20%22sep2%22%2C%20%22sep3%22%5D%60%2E%0A%20%20%20%2A%0A%20%20%20%2A%20See%20%5Bdemo%2Fcontextmenu%2Ehtml%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fcontextmenu%2Ehtml%29%20for%20examples%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CArray%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20contextMenu%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20If%20%60true%60%2C%20undo%2Fredo%20functionality%20is%20enabled%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20undo%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Turn%20on%20%5BColumn%20sorting%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fsorting%2Ehtml%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20columnSorting%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Turn%20on%20%5BManual%20column%20move%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fcolumn%5Fmove%2Ehtml%29%2C%20if%20set%20to%20a%20boolean%20or%20define%20initial%0A%20%20%20%2A%20column%20order%2C%20if%20set%20to%20an%20array%20of%20column%20indexes%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CArray%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20manualColumnMove%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Turn%20on%20%5BManual%20column%20resize%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fcolumn%5Fresize%2Ehtml%29%2C%20if%20set%20to%20a%20boolean%20or%20define%20initial%0A%20%20%20%2A%20column%20resized%20widths%2C%20if%20set%20to%20an%20array%20of%20numbers%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CArray%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%2F%0A%20%20manualColumnResize%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Turn%20on%20%5BManual%20row%20move%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fcolumn%5Fmove%2Ehtml%29%2C%20if%20set%20to%20a%20boolean%20or%20define%20initial%0A%20%20%20%2A%20row%20order%2C%20if%20set%20to%20an%20array%20of%20row%20indexes%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CArray%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%20%40since%200%2E11%2E0%0A%20%20%20%2A%2F%0A%20%20manualRowMove%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Turn%20on%20%5BManual%20row%20resize%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fcolumn%5Fresize%2Ehtml%29%2C%20if%20set%20to%20a%20boolean%20or%20define%20initial%0A%20%20%20%2A%20row%20resized%20heights%2C%20if%20set%20to%20an%20array%20of%20numbers%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CArray%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%20%40since%200%2E11%2E0%0A%20%20%20%2A%2F%0A%20%20manualRowResize%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Setting%20to%20true%20or%20array%20enables%20the%20mergeCells%20plugin%2C%20which%20enables%20the%20merging%20of%20the%20cells%2E%20%28see%20%5Bdemo%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fmerge%5Fcells%2Ehtml%29%29%2E%0A%20%20%20%2A%20You%20can%20provide%20the%20merged%20cells%20on%20the%20pageload%20if%20you%20feed%20the%20mergeCells%20option%20with%20an%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CArray%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%2F%0A%20%20mergeCells%3A%20false%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Number%20of%20rows%20to%20be%20prerendered%20before%20and%20after%20the%20viewport%20is%20changed%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%2010%0A%20%20%20%2A%2F%0A%20%20viewportRowRenderingOffset%3A%2010%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Number%20of%20columns%20to%20be%20prerendered%20before%20and%20after%20the%20viewport%20is%20changed%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BNumber%7D%0A%20%20%20%2A%20%40default%2010%0A%20%20%20%2A%2F%0A%20%20viewportColumnRenderingOffset%3A%2010%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20If%20%60true%60%2C%20enables%20Grouping%20plugin%2C%20which%20enables%20applying%20expandable%20row%20and%20column%20groups%2E%0A%20%20%20%2A%20To%20initialize%20Handsontable%20with%20predefined%20groups%2C%20provide%20row%20or%20column%20group%20start%20and%20end%20coordinates%20in%20form%20of%20an%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20See%20%5BGrouping%5D%28http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fgrouping%2Ehtml%29%20demo%20for%20examples%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CArray%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%20%40since%200%2E11%2E4%0A%20%20%20%2A%20%40example%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%20%20%2F%2F%20as%20boolean%0A%20%20%20%2A%20%20groups%3A%20true%2C%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%20%20%2F%2F%20as%20array%0A%20%20%20%2A%20%20groups%3A%20%5B%7Bcols%3A%20%5B0%2C%202%5D%7D%2C%20%7Bcols%3A%20%5B5%2C%2015%5D%2C%20rows%3A%20%5B0%2C%205%5D%7D%5D%2C%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%2F%0A%20%20groups%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20A%20usually%20small%20function%20or%20regular%20expression%20that%20validates%20the%20input%2E%0A%20%20%20%2A%20After%20you%20determine%20if%20the%20input%20is%20valid%2C%20execute%20%60callback%28true%29%60%20or%20%60callback%28false%29%60%20to%20proceed%20with%20the%20execution%2E%0A%20%20%20%2A%20In%20function%2C%20%60this%60%20binds%20to%20cellProperties%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BFunction%7CRegExp%7D%0A%20%20%20%2A%20%40default%20undefined%0A%20%20%20%2A%20%40since%200%2E9%2E5%0A%20%20%20%2A%2F%0A%20%20validator%3A%20void%200%2C%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40description%0A%20%20%20%2A%20Disable%20visual%20cells%20selection%2E%0A%20%20%20%2A%0A%20%20%20%2A%20Possible%20values%3A%0A%20%20%20%2A%20%20%60true%60%20%2D%20Disables%20any%20type%20of%20visual%20selection%20%28current%20and%20area%20selection%29%2C%0A%20%20%20%2A%20%20%60false%60%20%2D%20Enables%20any%20type%20of%20visual%20selection%2E%20This%20is%20default%20value%2E%0A%20%20%20%2A%20%20%60current%60%20%2D%20Disables%20to%20appear%20only%20current%20selected%20cell%2E%0A%20%20%20%2A%20%20%60area%60%20%2D%20Disables%20to%20appear%20only%20multiple%20selected%20cells%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40type%20%7BBoolean%7CString%7CArray%7D%0A%20%20%20%2A%20%40default%20false%0A%20%20%20%2A%20%40since%200%2E13%2E2%0A%20%20%20%2A%20%40example%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%20%20%2F%2F%20as%20boolean%0A%20%20%20%2A%20%20disableVisualSelection%3A%20true%2C%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%20%20%2F%2F%20as%20string%20%28%27current%27%20or%20%27area%27%29%0A%20%20%20%2A%20%20disableVisualSelection%3A%20%27current%27%2C%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%20%20%2F%2F%20as%20array%0A%20%20%20%2A%20%20disableVisualSelection%3A%20%5B%27current%27%2C%20%27area%27%5D%2C%0A%20%20%20%2A%20%20%2E%2E%2E%0A%20%20%20%2A%2F%0A%20%20disableVisualSelection%3A%20false%2C%0A%20%20manualColumnFreeze%3A%20void%200%2C%0A%20%20trimWhitespace%3A%20true%2C%0A%20%20settings%3A%20void%200%2C%0A%20%20source%3A%20void%200%2C%0A%20%20title%3A%20void%200%2C%0A%20%20checkedTemplate%3A%20void%200%2C%0A%20%20uncheckedTemplate%3A%20void%200%2C%0A%20%20format%3A%20void%200%2C%0A%20%20className%3A%20void%200%0A%7D%3B%0AHandsontable%2EDefaultSettings%20%3D%20DefaultSettings%3B%0A%0A%28function%20%28window%29%20%7B%0A%20%20%27use%20strict%27%3B%0A%0A%20%20function%20MultiMap%28%29%20%7B%0A%20%20%20%20var%20map%20%3D%20%7B%0A%20%20%20%20%20%20arrayMap%3A%20%5B%5D%2C%0A%20%20%20%20%20%20weakMap%3A%20new%20WeakMap%28%29%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%27get%27%3A%20function%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28canBeAnArrayMapKey%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20map%2EarrayMap%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28canBeAWeakMapKey%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20map%2EweakMap%2Eget%28key%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%27set%27%3A%20function%20%28key%2C%20value%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28canBeAnArrayMapKey%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20map%2EarrayMap%5Bkey%5D%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28canBeAWeakMapKey%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20map%2EweakMap%2Eset%28key%2C%20value%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%27Invalid%20key%20type%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%27delete%27%3A%20function%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28canBeAnArrayMapKey%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20delete%20map%2EarrayMap%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28canBeAWeakMapKey%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20map%2EweakMap%5B%27delete%27%5D%28key%29%3B%20%20%2F%2FDelete%20must%20be%20called%20using%20square%20bracket%20notation%2C%20because%20IE8%20does%20not%20handle%20using%20%60delete%60%20with%20dot%20notation%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%0A%0A%20%20%20%20function%20canBeAnArrayMapKey%28obj%29%7B%0A%20%20%20%20%20%20return%20obj%20%21%3D%3D%20null%20%26%26%20%21isNaNSymbol%28obj%29%20%26%26%20%28typeof%20obj%20%3D%3D%20%27string%27%20%7C%7C%20typeof%20obj%20%3D%3D%20%27number%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20canBeAWeakMapKey%28obj%29%7B%0A%20%20%20%20%20%20return%20obj%20%21%3D%3D%20null%20%26%26%20%28typeof%20obj%20%3D%3D%20%27object%27%20%7C%7C%20typeof%20obj%20%3D%3D%20%27function%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20isNaNSymbol%28obj%29%7B%0A%20%20%20%20%20%20return%20obj%20%21%3D%3D%20obj%3B%20%2F%2F%20NaN%20%3D%3D%3D%20NaN%20is%20always%20false%0A%20%20%20%20%7D%0A%0A%20%20%7D%0A%0A%20%20if%20%28%21window%2EMultiMap%29%7B%0A%20%20%20%20window%2EMultiMap%20%3D%20MultiMap%3B%0A%20%20%7D%0A%0A%7D%29%28window%29%3B%0A%2F%2A%2A%0A%20%2A%20DOM%20helper%20optimized%20for%20maximum%20performance%0A%20%2A%20It%20is%20recommended%20for%20Handsontable%20plugins%20and%20renderers%2C%20because%20it%20is%20much%20faster%20than%20jQuery%0A%20%2A%20%40type%20%7BObject%7D%0A%20%2A%2F%0Aif%20%28%21window%2EHandsontable%29%20%7B%0A%20%20var%20Handsontable%20%3D%20%7B%7D%3B%20%2F%2Frequired%20because%20Walkontable%20test%20suite%20uses%20this%20class%20directly%0A%7D%0AHandsontable%2EDom%20%3D%20%7B%7D%3B%0A%0A%0AHandsontable%2EDom%2EenableImmediatePropagation%20%3D%20function%20%28event%29%20%7B%0A%20%20if%20%28event%20%21%3D%20null%20%26%26%20event%2EisImmediatePropagationEnabled%20%3D%3D%20null%29%20%7B%0A%20%20%20%20event%2EstopImmediatePropagation%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20this%2EisImmediatePropagationEnabled%20%3D%20false%3B%0A%20%20%20%20%20%20this%2EcancelBubble%20%3D%20true%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20event%2EisImmediatePropagationEnabled%20%3D%20true%3B%0A%20%20%20%20event%2EisImmediatePropagationStopped%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20%21this%2EisImmediatePropagationEnabled%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Goes%20up%20the%20DOM%20tree%20%28including%20given%20element%29%20until%20it%20finds%20an%20element%20that%20matches%20the%20nodes%20or%20nodes%20name%2E%0A%20%2A%20This%20method%20goes%20up%20through%20web%20components%2E%0A%20%2A%0A%20%2A%20%40param%20%7BHTMLElement%7D%20element%20Element%20from%20which%20traversing%20is%20started%0A%20%2A%20%40param%20%7BArray%7D%20nodes%20Array%20of%20elements%20or%20Array%20of%20elements%20name%0A%20%2A%20%40param%20%7BHTMLElement%7D%20%5Buntil%5D%0A%20%2A%20%40returns%20%7BHTMLElement%7Cnull%7D%0A%20%2A%2F%0AHandsontable%2EDom%2Eclosest%20%3D%20function%20%28element%2C%20nodes%2C%20until%29%20%7B%0A%20%20while%20%28element%20%21%3D%20null%20%26%26%20element%20%21%3D%3D%20until%29%20%7B%0A%20%20%20%20if%20%28element%2EnodeType%20%3D%3D%3D%20Node%2EELEMENT%5FNODE%20%26%26%0A%20%20%20%20%20%20%28nodes%2EindexOf%28element%2EnodeName%29%20%3E%20%2D1%20%7C%7C%20nodes%2EindexOf%28element%29%20%3E%20%2D1%29%29%20%7B%0A%20%20%20%20%20%20return%20element%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28element%2Ehost%20%26%26%20element%2EnodeType%20%3D%3D%3D%20Node%2EDOCUMENT%5FFRAGMENT%5FNODE%29%20%7B%0A%20%20%20%20%20%20element%20%3D%20element%2Ehost%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20element%20%3D%20element%2EparentNode%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20return%20null%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Goes%20up%20the%20DOM%20tree%20and%20checks%20if%20element%20is%20child%20of%20another%20element%0A%20%2A%20%40param%20child%20Child%20element%0A%20%2A%20%40param%20%7BObject%7Cstring%7D%20parent%20Parent%20element%20OR%20selector%20of%20the%20parent%20element%2E%20If%20classname%20provided%2C%20function%20returns%20true%20for%20the%20first%20occurance%20of%20element%20with%20that%20class%2E%0A%20%2A%20%40returns%20%7Bboolean%7D%0A%20%2A%2F%0AHandsontable%2EDom%2EisChildOf%20%3D%20function%20%28child%2C%20parent%29%20%7B%0A%20%20var%20node%20%3D%20child%2EparentNode%3B%0A%20%20var%20queriedParents%20%3D%20%5B%5D%3B%0A%20%20if%20%28typeof%20parent%20%3D%3D%3D%20%22string%22%29%20%7B%0A%20%20%20%20queriedParents%20%3D%20Array%2Eprototype%2Eslice%2Ecall%28document%2EquerySelectorAll%28parent%29%2C%200%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20queriedParents%2Epush%28parent%29%3B%0A%20%20%7D%0A%0A%20%20while%20%28node%20%21%3D%20null%29%20%7B%0A%20%20%20%20if%20%28queriedParents%2EindexOf%28node%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20node%20%3D%20node%2EparentNode%3B%0A%20%20%7D%0A%20%20return%20false%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Check%20if%20an%20element%20is%20part%20of%20%60hot%2Dtable%60%20web%20component%2E%0A%20%2A%0A%20%2A%20%40param%20%7BElement%7D%20element%0A%20%2A%20%40returns%20%7BBoolean%7D%0A%20%2A%2F%0AHandsontable%2EDom%2EisChildOfWebComponentTable%20%3D%20function%28element%29%20%7B%0A%20%20var%20hotTableName%20%3D%20%27hot%2Dtable%27%2C%0A%20%20%20%20result%20%3D%20false%2C%0A%20%20%20%20parentNode%3B%0A%0A%20%20parentNode%20%3D%20Handsontable%2EDom%2EpolymerWrap%28element%29%3B%0A%0A%20%20function%20isHotTable%28element%29%20%7B%0A%20%20%20%20return%20element%2EnodeType%20%3D%3D%3D%20Node%2EELEMENT%5FNODE%20%26%26%20element%2EnodeName%20%3D%3D%3D%20hotTableName%2EtoUpperCase%28%29%3B%0A%20%20%7D%0A%0A%20%20while%20%28parentNode%20%21%3D%20null%29%20%7B%0A%20%20%20%20if%20%28isHotTable%28parentNode%29%29%20%7B%0A%20%20%20%20%20%20result%20%3D%20true%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28parentNode%2Ehost%20%26%26%20parentNode%2EnodeType%20%3D%3D%3D%20Node%2EDOCUMENT%5FFRAGMENT%5FNODE%29%20%7B%0A%20%20%20%20%20%20result%20%3D%20isHotTable%28parentNode%2Ehost%29%3B%0A%0A%20%20%20%20%20%20if%20%28result%29%20%7B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20parentNode%20%3D%20parentNode%2Ehost%3B%0A%20%20%20%20%7D%0A%20%20%20%20parentNode%20%3D%20parentNode%2EparentNode%3B%0A%20%20%7D%0A%0A%20%20return%20result%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Wrap%20element%20into%20polymer%2Fwebcomponent%20container%20if%20exists%0A%20%2A%0A%20%2A%20%40param%20element%0A%20%2A%20%40returns%20%7B%2A%7D%0A%20%2A%2F%0AHandsontable%2EDom%2EpolymerWrap%20%3D%20function%28element%29%20%7B%0A%20%20%2F%2A%20global%20Polymer%20%2A%2F%0A%20%20return%20typeof%20Polymer%20%21%3D%3D%20%27undefined%27%20%26%26%20typeof%20wrap%20%3D%3D%3D%20%27function%27%20%3F%20wrap%28element%29%20%3A%20element%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Unwrap%20element%20from%20polymer%2Fwebcomponent%20container%20if%20exists%0A%20%2A%0A%20%2A%20%40param%20element%0A%20%2A%20%40returns%20%7B%2A%7D%0A%20%2A%2F%0AHandsontable%2EDom%2EpolymerUnwrap%20%3D%20function%28element%29%20%7B%0A%20%20%2F%2A%20global%20Polymer%20%2A%2F%0A%20%20return%20typeof%20Polymer%20%21%3D%3D%20%27undefined%27%20%26%26%20typeof%20unwrap%20%3D%3D%3D%20%27function%27%20%3F%20unwrap%28element%29%20%3A%20element%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Checks%20if%20browser%20is%20support%20web%20components%20natively%0A%20%2A%0A%20%2A%20%40returns%20%7BBoolean%7D%0A%20%2A%2F%0AHandsontable%2EDom%2EisWebComponentSupportedNatively%20%3D%20function%28%29%20%7B%0A%20%20var%20test%20%3D%20document%2EcreateElement%28%27div%27%29%3B%0A%0A%20%20return%20test%2EcreateShadowRoot%20%26%26%20test%2EcreateShadowRoot%2EtoString%28%29%2Ematch%28%2F%5C%5Bnative%20code%5C%5D%2F%29%20%3F%20true%20%3A%20false%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Counts%20index%20of%20element%20within%20its%20parent%0A%20%2A%20WARNING%3A%20for%20performance%20reasons%2C%20assumes%20there%20are%20only%20element%20nodes%20%28no%20text%20nodes%29%2E%20This%20is%20true%20for%20Walkotnable%0A%20%2A%20Otherwise%20would%20need%20to%20check%20for%20nodeType%20or%20use%20previousElementSibling%0A%20%2A%20%40see%20http%3A%2F%2Fjsperf%2Ecom%2Fsibling%2Dindex%2F10%0A%20%2A%20%40param%20%7BElement%7D%20elem%0A%20%2A%20%40return%20%7BNumber%7D%0A%20%2A%2F%0AHandsontable%2EDom%2Eindex%20%3D%20function%20%28elem%29%20%7B%0A%20%20var%20i%20%3D%200%3B%0A%20%20if%20%28elem%2EpreviousSibling%29%20%7B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20while%20%28elem%20%3D%20elem%2EpreviousSibling%29%20%7B%0A%20%20%20%20%20%20%2B%2Bi%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%7D%0A%20%20return%20i%3B%0A%7D%3B%0A%0Aif%20%28document%2EdocumentElement%2EclassList%29%20%7B%0A%20%20var%20isSupportMultipleClassesArg%20%3D%20%28function%28%29%20%7B%0A%20%20%20%20var%20element%20%3D%20document%2EcreateElement%28%27div%27%29%3B%0A%0A%20%20%20%20element%2EclassList%2Eadd%28%27test%27%2C%20%27test2%27%29%3B%0A%0A%20%20%20%20return%20element%2EclassList%2Econtains%28%27test2%27%29%3B%0A%20%20%7D%28%29%29%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Checks%20if%20element%20has%20class%20name%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BHTMLElement%7D%20element%0A%20%20%20%2A%20%40param%20%7BString%7D%20className%20Class%20name%20to%20check%0A%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDom%2EhasClass%20%3D%20function%28element%2C%20className%29%20%7B%0A%20%20%20%20if%20%28className%20%3D%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20element%2EclassList%2Econtains%28className%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Add%20class%20name%20to%20an%20element%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BHTMLElement%7D%20element%0A%20%20%20%2A%20%40param%20%7BString%7CArray%7D%20className%20Class%20name%20as%20string%20or%20array%20of%20strings%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDom%2EaddClass%20%3D%20function%28element%2C%20className%29%20%7B%0A%20%20%20%20var%20len%20%3D%200%3B%0A%0A%20%20%20%20if%20%28typeof%20className%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20if%20%28className%20%3D%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20className%20%3D%20className%2Esplit%28%27%20%27%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28isSupportMultipleClassesArg%29%20%7B%0A%20%20%20%20%20%20element%2EclassList%2Eadd%2Eapply%28element%2EclassList%2C%20className%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20while%20%28className%20%26%26%20className%5Blen%5D%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28className%5Blen%5D%20%3D%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20element%2EclassList%2Eadd%28className%5Blen%5D%29%3B%0A%20%20%20%20%20%20%20%20len%20%2B%2B%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Remove%20class%20name%20from%20an%20element%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BHTMLElement%7D%20element%0A%20%20%20%2A%20%40param%20%7BString%7CArray%7D%20className%20Class%20name%20as%20string%20or%20array%20of%20strings%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDom%2EremoveClass%20%3D%20function%28element%2C%20className%29%20%7B%0A%20%20%20%20var%20len%20%3D%200%3B%0A%0A%20%20%20%20if%20%28typeof%20className%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20if%20%28className%20%3D%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20className%20%3D%20className%2Esplit%28%27%20%27%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28isSupportMultipleClassesArg%29%20%7B%0A%20%20%20%20%20%20element%2EclassList%2Eremove%2Eapply%28element%2EclassList%2C%20className%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20while%20%28className%20%26%26%20className%5Blen%5D%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28className%5Blen%5D%20%3D%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20element%2EclassList%2Eremove%28className%5Blen%5D%29%3B%0A%20%20%20%20%20%20%20%20len%20%2B%2B%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%7D%20else%20%7B%0A%20%20var%20createClassNameRegExp%20%3D%20function%20createClassNameRegExp%28className%29%20%7B%0A%20%20%20%20return%20new%20RegExp%28%27%28%5C%5Cs%7C%5E%29%27%20%2B%20className%20%2B%20%27%28%5C%5Cs%7C%24%29%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Checks%20if%20element%20has%20class%20name%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BHTMLElement%7D%20element%0A%20%20%20%2A%20%40param%20%7BString%7D%20className%0A%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDom%2EhasClass%20%3D%20function%28element%2C%20className%29%20%7B%0A%20%20%20%20%2F%2F%20http%3A%2F%2Fsnipplr%2Ecom%2Fview%2F3561%2Faddclass%2Dremoveclass%2Dhasclass%2F%0A%20%20%20%20return%20element%2EclassName%2Ematch%28createClassNameRegExp%28className%29%29%20%3F%20true%20%3A%20false%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Add%20class%20name%20to%20an%20element%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BHTMLElement%7D%20element%0A%20%20%20%2A%20%40param%20%7BString%7CArray%7D%20className%20Class%20name%20as%20string%20or%20array%20of%20strings%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDom%2EaddClass%20%3D%20function%28element%2C%20className%29%20%7B%0A%20%20%20%20var%20len%20%3D%200%2C%20%5FclassName%20%3D%20element%2EclassName%3B%0A%0A%20%20%20%20if%20%28typeof%20className%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20className%20%3D%20className%2Esplit%28%27%20%27%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%5FclassName%20%3D%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%5FclassName%20%3D%20className%2Ejoin%28%27%20%27%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20while%20%28className%5Blen%5D%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21createClassNameRegExp%28className%5Blen%5D%29%2Etest%28%5FclassName%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5FclassName%20%2B%3D%20%27%20%27%20%2B%20className%5Blen%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20len%20%2B%2B%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20element%2EclassName%20%3D%20%5FclassName%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Remove%20class%20name%20from%20an%20element%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BHTMLElement%7D%20element%0A%20%20%20%2A%20%40param%20%7BString%7CArray%7D%20className%20Class%20name%20as%20string%20or%20array%20of%20strings%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDom%2EremoveClass%20%3D%20function%28element%2C%20className%29%20%7B%0A%20%20%20%20var%20len%20%3D%200%2C%20%5FclassName%20%3D%20element%2EclassName%3B%0A%0A%20%20%20%20if%20%28typeof%20className%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20className%20%3D%20className%2Esplit%28%27%20%27%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20while%20%28className%5Blen%5D%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20String%2Eprototype%2Etrim%20is%20defined%20in%20polyfill%2Ejs%0A%20%20%20%20%20%20%5FclassName%20%3D%20%5FclassName%2Ereplace%28createClassNameRegExp%28className%5Blen%5D%29%2C%20%27%20%27%29%2Etrim%28%29%3B%0A%20%20%20%20%20%20len%20%2B%2B%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28element%2EclassName%20%21%3D%3D%20%5FclassName%29%20%7B%0A%20%20%20%20%20%20element%2EclassName%20%3D%20%5FclassName%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%0A%0AHandsontable%2EDom%2EremoveTextNodes%20%3D%20function%20%28elem%2C%20parent%29%20%7B%0A%20%20if%20%28elem%2EnodeType%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20parent%2EremoveChild%28elem%29%3B%20%2F%2Fbye%20text%20nodes%21%0A%20%20%7D%0A%20%20else%20if%20%28%5B%27TABLE%27%2C%20%27THEAD%27%2C%20%27TBODY%27%2C%20%27TFOOT%27%2C%20%27TR%27%5D%2EindexOf%28elem%2EnodeName%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20var%20childs%20%3D%20elem%2EchildNodes%3B%0A%20%20%20%20for%20%28var%20i%20%3D%20childs%2Elength%20%2D%201%3B%20i%20%3E%3D%200%3B%20i%2D%2D%29%20%7B%0A%20%20%20%20%20%20this%2EremoveTextNodes%28childs%5Bi%5D%2C%20elem%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Remove%20childs%20function%0A%20%2A%20WARNING%20%2D%20this%20doesn%27t%20unload%20events%20and%20data%20attached%20by%20jQuery%0A%20%2A%20http%3A%2F%2Fjsperf%2Ecom%2Fjquery%2Dhtml%2Dvs%2Dempty%2Dvs%2Dinnerhtml%2F9%0A%20%2A%20http%3A%2F%2Fjsperf%2Ecom%2Fjquery%2Dhtml%2Dvs%2Dempty%2Dvs%2Dinnerhtml%2F11%20%2D%20no%20siginificant%20improvement%20with%20Chrome%20remove%28%29%20method%0A%20%2A%20%40param%20element%0A%20%2A%20%40returns%20%7Bvoid%7D%0A%20%2A%2F%0A%2F%2F%0AHandsontable%2EDom%2Eempty%20%3D%20function%20%28element%29%20%7B%0A%20%20var%20child%3B%0A%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20while%20%28child%20%3D%20element%2ElastChild%29%20%7B%0A%20%20%20%20element%2EremoveChild%28child%29%3B%0A%20%20%7D%0A%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%7D%3B%0A%0AHandsontable%2EDom%2EHTML%5FCHARACTERS%20%3D%20%2F%28%3C%28%2E%2A%29%3E%7C%26%28%2E%2A%29%3B%29%2F%3B%0A%0A%2F%2A%2A%0A%20%2A%20Insert%20content%20into%20element%20trying%20avoid%20innerHTML%20method%2E%0A%20%2A%20%40return%20%7Bvoid%7D%0A%20%2A%2F%0AHandsontable%2EDom%2EfastInnerHTML%20%3D%20function%20%28element%2C%20content%29%20%7B%0A%20%20if%20%28this%2EHTML%5FCHARACTERS%2Etest%28content%29%29%20%7B%0A%20%20%20%20element%2EinnerHTML%20%3D%20content%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20this%2EfastInnerText%28element%2C%20content%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Insert%20text%20content%20into%20element%0A%20%2A%20%40return%20%7Bvoid%7D%0A%20%2A%2F%0Aif%20%28document%2EcreateTextNode%28%27test%27%29%2EtextContent%29%20%7B%20%2F%2FSTANDARDS%0A%20%20Handsontable%2EDom%2EfastInnerText%20%3D%20function%20%28element%2C%20content%29%20%7B%0A%20%20%20%20var%20child%20%3D%20element%2EfirstChild%3B%0A%20%20%20%20if%20%28child%20%26%26%20child%2EnodeType%20%3D%3D%3D%203%20%26%26%20child%2EnextSibling%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%2F%2Ffast%20lane%20%2D%20replace%20existing%20text%20node%0A%20%20%20%20%20%20%2F%2Fhttp%3A%2F%2Fjsperf%2Ecom%2Freplace%2Dtext%2Dvs%2Dreuse%0A%20%20%20%20%20%20child%2EtextContent%20%3D%20content%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%2F%2Fslow%20lane%20%2D%20empty%20element%20and%20insert%20a%20text%20node%0A%20%20%20%20%20%20this%2Eempty%28element%29%3B%0A%20%20%20%20%20%20element%2EappendChild%28document%2EcreateTextNode%28content%29%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%0Aelse%20%7B%20%2F%2FIE8%0A%20%20Handsontable%2EDom%2EfastInnerText%20%3D%20function%20%28element%2C%20content%29%20%7B%0A%20%20%20%20var%20child%20%3D%20element%2EfirstChild%3B%0A%20%20%20%20if%20%28child%20%26%26%20child%2EnodeType%20%3D%3D%3D%203%20%26%26%20child%2EnextSibling%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%2F%2Ffast%20lane%20%2D%20replace%20existing%20text%20node%0A%20%20%20%20%20%20%2F%2Fhttp%3A%2F%2Fjsperf%2Ecom%2Freplace%2Dtext%2Dvs%2Dreuse%0A%20%20%20%20%20%20child%2Edata%20%3D%20content%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%2F%2Fslow%20lane%20%2D%20empty%20element%20and%20insert%20a%20text%20node%0A%20%20%20%20%20%20this%2Eempty%28element%29%3B%0A%20%20%20%20%20%20element%2EappendChild%28document%2EcreateTextNode%28content%29%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20true%20if%20element%20is%20attached%20to%20the%20DOM%20and%20visible%2C%20false%20otherwise%0A%20%2A%20%40param%20elem%0A%20%2A%20%40returns%20%7Bboolean%7D%0A%20%2A%2F%0AHandsontable%2EDom%2EisVisible%20%3D%20function%20%28elem%29%20%7B%0A%20%20var%20next%20%3D%20elem%3B%0A%0A%20%20while%20%28Handsontable%2EDom%2EpolymerUnwrap%28next%29%20%21%3D%3D%20document%2EdocumentElement%29%20%7B%20%2F%2Funtil%20%3Chtml%3E%20reached%0A%20%20%20%20if%20%28next%20%3D%3D%3D%20null%29%20%7B%20%2F%2Fparent%20detached%20from%20DOM%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28next%2EnodeType%20%3D%3D%3D%20Node%2EDOCUMENT%5FFRAGMENT%5FNODE%29%20%7B%0A%20%20%20%20%20%20if%20%28next%2Ehost%29%20%7B%20%2F%2Fthis%20is%20Web%20Components%20Shadow%20DOM%0A%20%20%20%20%20%20%20%20%2F%2Fsee%3A%20http%3A%2F%2Fw3c%2Egithub%2Eio%2Fwebcomponents%2Fspec%2Fshadow%2F%23encapsulation%0A%20%20%20%20%20%20%20%20%2F%2Faccording%20to%20spec%2C%20should%20be%20if%20%28next%2EownerDocument%20%21%3D%3D%20window%2Edocument%29%2C%20but%20that%20doesn%27t%20work%20yet%0A%20%20%20%20%20%20%20%20if%20%28next%2Ehost%2Eimpl%29%20%7B%20%2F%2FChrome%2033%2E0%2E1723%2E0%20canary%20%282013%2D11%2D29%29%20Web%20Platform%20features%20disabled%0A%20%20%20%20%20%20%20%20%20%20return%20Handsontable%2EDom%2EisVisible%28next%2Ehost%2Eimpl%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28next%2Ehost%29%20%7B%20%2F%2FChrome%2033%2E0%2E1723%2E0%20canary%20%282013%2D11%2D29%29%20Web%20Platform%20features%20enabled%0A%20%20%20%20%20%20%20%20%20%20return%20Handsontable%2EDom%2EisVisible%28next%2Ehost%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22Lost%20in%20Web%20Components%20world%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%20%2F%2Fthis%20is%20a%20node%20detached%20from%20document%20in%20IE8%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28next%2Estyle%2Edisplay%20%3D%3D%3D%20%27none%27%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20next%20%3D%20next%2EparentNode%3B%0A%20%20%7D%0A%0A%20%20return%20true%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20elements%20top%20and%20left%20offset%20relative%20to%20the%20document%2E%20Function%20is%20not%20compatible%20with%20jQuery%20offset%2E%0A%20%2A%0A%20%2A%20%40param%20%7BHTMLElement%7D%20elem%0A%20%2A%20%40return%20%7BObject%7D%20Returns%20object%20with%20%60top%60%20and%20%60left%60%20props%0A%20%2A%2F%0AHandsontable%2EDom%2Eoffset%20%3D%20function%20%28elem%29%20%7B%0A%20%20var%20offsetLeft%2C%0A%20%20%20%20offsetTop%2C%0A%20%20%20%20lastElem%2C%0A%20%20%20%20docElem%2C%0A%20%20%20%20box%3B%0A%0A%20%20docElem%20%3D%20document%2EdocumentElement%3B%0A%0A%20%20if%20%28this%2EhasCaptionProblem%28%29%20%26%26%20elem%2EfirstChild%20%26%26%20elem%2EfirstChild%2EnodeName%20%3D%3D%3D%20%27CAPTION%27%29%20%7B%0A%20%20%20%20%2F%2F%20fixes%20problem%20with%20Firefox%20ignoring%20%3Ccaption%3E%20in%20TABLE%20offset%20%28see%20also%20Handsontable%2EDom%2EouterHeight%29%0A%20%20%20%20%2F%2F%20http%3A%2F%2Fjsperf%2Ecom%2Foffset%2Dvs%2Dgetboundingclientrect%2F8%0A%20%20%20%20box%20%3D%20elem%2EgetBoundingClientRect%28%29%3B%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20top%3A%20box%2Etop%20%2B%20%28window%2EpageYOffset%20%7C%7C%20docElem%2EscrollTop%29%20%2D%20%28docElem%2EclientTop%20%7C%7C%200%29%2C%0A%20%20%20%20%20%20left%3A%20box%2Eleft%20%2B%20%28window%2EpageXOffset%20%7C%7C%20docElem%2EscrollLeft%29%20%2D%20%28docElem%2EclientLeft%20%7C%7C%200%29%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%20%20offsetLeft%20%3D%20elem%2EoffsetLeft%3B%0A%20%20offsetTop%20%3D%20elem%2EoffsetTop%3B%0A%20%20lastElem%20%3D%20elem%3B%0A%0A%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20while%20%28elem%20%3D%20elem%2EoffsetParent%29%20%7B%0A%20%20%20%20%2F%2F%20from%20my%20observation%2C%20document%2Ebody%20always%20has%20scrollLeft%2FscrollTop%20%3D%3D%200%0A%20%20%20%20if%20%28elem%20%3D%3D%3D%20document%2Ebody%29%20%7B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%20%20offsetLeft%20%2B%3D%20elem%2EoffsetLeft%3B%0A%20%20%20%20offsetTop%20%2B%3D%20elem%2EoffsetTop%3B%0A%20%20%20%20lastElem%20%3D%20elem%3B%0A%20%20%7D%0A%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%0A%20%20%2F%2Fslow%20%2D%20http%3A%2F%2Fjsperf%2Ecom%2Foffset%2Dvs%2Dgetboundingclientrect%2F6%0A%20%20if%20%28lastElem%20%26%26%20lastElem%2Estyle%2Eposition%20%3D%3D%3D%20%27fixed%27%29%20%7B%0A%20%20%20%20%2F%2Fif%28lastElem%20%21%3D%3D%20document%2Ebody%29%20%7B%20%2F%2Ffaster%20but%20does%20gives%20false%20positive%20in%20Firefox%0A%20%20%20%20offsetLeft%20%2B%3D%20window%2EpageXOffset%20%7C%7C%20docElem%2EscrollLeft%3B%0A%20%20%20%20offsetTop%20%2B%3D%20window%2EpageYOffset%20%7C%7C%20docElem%2EscrollTop%3B%0A%20%20%7D%0A%0A%20%20return%20%7B%0A%20%20%20%20left%3A%20offsetLeft%2C%0A%20%20%20%20top%3A%20offsetTop%0A%20%20%7D%3B%0A%7D%3B%0A%0AHandsontable%2EDom%2EgetWindowScrollTop%20%3D%20function%20%28%29%20%7B%0A%20%20var%20res%20%3D%20window%2EscrollY%3B%0A%20%20if%20%28res%20%3D%3D%20void%200%29%20%7B%20%2F%2FIE8%2D11%0A%20%20%20%20res%20%3D%20document%2EdocumentElement%2EscrollTop%3B%0A%20%20%7D%0A%20%20return%20res%3B%0A%7D%3B%0A%0AHandsontable%2EDom%2EgetWindowScrollLeft%20%3D%20function%20%28%29%20%7B%0A%20%20var%20res%20%3D%20window%2EscrollX%3B%0A%20%20if%20%28res%20%3D%3D%20void%200%29%20%7B%20%2F%2FIE8%2D11%0A%20%20%20%20res%20%3D%20document%2EdocumentElement%2EscrollLeft%3B%0A%20%20%7D%0A%20%20return%20res%3B%0A%7D%3B%0A%0AHandsontable%2EDom%2EgetScrollTop%20%3D%20function%20%28elem%29%20%7B%0A%20%20if%20%28elem%20%3D%3D%3D%20window%29%20%7B%0A%20%20%20%20return%20Handsontable%2EDom%2EgetWindowScrollTop%28elem%29%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%20elem%2EscrollTop%3B%0A%20%20%7D%0A%7D%3B%0A%0AHandsontable%2EDom%2EgetScrollLeft%20%3D%20function%20%28elem%29%20%7B%0A%20%20if%20%28elem%20%3D%3D%3D%20window%29%20%7B%0A%20%20%20%20return%20Handsontable%2EDom%2EgetWindowScrollLeft%28elem%29%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%20elem%2EscrollLeft%3B%0A%20%20%7D%0A%7D%3B%0A%0AHandsontable%2EDom%2EgetScrollableElement%20%3D%20function%20%28element%29%20%7B%0A%20%20var%20el%20%3D%20element%2EparentNode%2C%0A%20%20%20%20props%20%3D%20%5B%27auto%27%2C%20%27scroll%27%5D%2C%0A%20%20%20%20overflow%2C%20overflowX%2C%20overflowY%2C%0A%20%20%20%20computedStyle%20%3D%20%27%27%2C%0A%20%20%20%20computedOverflow%20%3D%20%27%27%2C%0A%20%20%20%20computedOverflowY%20%3D%20%27%27%2C%0A%20%20%20%20computedOverflowX%20%3D%20%27%27%3B%0A%0A%20%20while%20%28el%20%26%26%20el%2Estyle%20%26%26%20document%2Ebody%20%21%3D%3D%20el%29%20%7B%0A%20%20%20%20overflow%20%3D%20el%2Estyle%2Eoverflow%3B%0A%20%20%20%20overflowX%20%3D%20el%2Estyle%2EoverflowX%3B%0A%20%20%20%20overflowY%20%3D%20el%2Estyle%2EoverflowY%3B%0A%0A%20%20%20%20if%20%28overflow%20%3D%3D%20%27scroll%27%20%7C%7C%20overflowX%20%3D%3D%20%27scroll%27%20%7C%7C%20overflowY%20%3D%3D%20%27scroll%27%29%20%7B%0A%20%20%20%20%20%20return%20el%3B%0A%20%20%20%20%7D%20else%20if%20%28window%2EgetComputedStyle%29%20%7B%0A%20%20%20%20%20%20%20%20computedStyle%20%3D%20window%2EgetComputedStyle%28el%29%3B%0A%20%20%20%20%20%20%20%20computedOverflow%20%3D%20computedStyle%2EgetPropertyValue%28%27overflow%27%29%3B%0A%20%20%20%20%20%20%20%20computedOverflowY%20%3D%20computedStyle%2EgetPropertyValue%28%27overflow%2Dy%27%29%3B%0A%20%20%20%20%20%20%20%20computedOverflowX%20%3D%20computedStyle%2EgetPropertyValue%28%27overflow%2Dx%27%29%3B%0A%0A%20%20%20%20%20%20if%20%28computedOverflow%20%3D%3D%3D%20%27scroll%27%20%7C%7C%20computedOverflowX%20%3D%3D%3D%20%27scroll%27%20%7C%7C%20computedOverflowY%20%3D%3D%3D%20%27scroll%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%20el%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28el%2EclientHeight%20%3C%3D%20el%2EscrollHeight%20%26%26%20%28props%2EindexOf%28overflowY%29%20%21%3D%3D%20%2D1%20%7C%7C%20props%2EindexOf%28overflow%29%20%21%3D%3D%20%2D1%20%7C%7C%0A%20%20%20%20%20%20props%2EindexOf%28computedOverflow%29%20%21%3D%3D%20%2D1%20%7C%7C%20props%2EindexOf%28computedOverflowY%29%20%21%3D%3D%20%2D1%29%29%20%7B%0A%20%20%20%20%20%20return%20el%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28el%2EclientWidth%20%3C%3D%20el%2EscrollWidth%20%26%26%20%28props%2EindexOf%28overflowX%29%20%21%3D%3D%20%2D1%20%7C%7C%20props%2EindexOf%28overflow%29%20%21%3D%3D%20%2D1%20%7C%7C%0A%20%20%20%20%20%20props%2EindexOf%28computedOverflow%29%20%21%3D%3D%20%2D1%20%7C%7C%20props%2EindexOf%28computedOverflowX%29%20%21%3D%3D%20%2D1%29%29%20%7B%0A%20%20%20%20%20%20return%20el%3B%0A%20%20%20%20%7D%0A%20%20%20%20el%20%3D%20el%2EparentNode%3B%0A%20%20%7D%0A%0A%20%20return%20window%3B%0A%7D%3B%0A%0AHandsontable%2EDom%2EgetTrimmingContainer%20%3D%20function%20%28base%29%20%7B%0A%20%20var%20el%20%3D%20base%2EparentNode%3B%0A%20%20while%20%28el%20%26%26%20el%2Estyle%20%26%26%20document%2Ebody%20%21%3D%3D%20el%29%20%7B%0A%20%20%20%20if%20%28el%2Estyle%2Eoverflow%20%21%3D%3D%20%27visible%27%20%26%26%20el%2Estyle%2Eoverflow%20%21%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20return%20el%3B%0A%20%20%20%20%7D%20else%20if%20%28window%2EgetComputedStyle%29%20%7B%0A%20%20%20%20%20%20var%20computedStyle%20%3D%20window%2EgetComputedStyle%28el%29%3B%0A%20%20%20%20%20%20if%20%28computedStyle%2EgetPropertyValue%28%27overflow%27%29%20%21%3D%3D%20%27visible%27%20%26%26%20computedStyle%2EgetPropertyValue%28%27overflow%27%29%20%21%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%20el%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20el%20%3D%20el%2EparentNode%3B%0A%20%20%7D%0A%20%20return%20window%3B%0A%7D%3B%0A%0AHandsontable%2EDom%2EgetStyle%20%3D%20function%20%28elem%2C%20prop%29%20%7B%0A%20%20if%20%28%21elem%29%20%7B%0A%20%20%20%20return%3B%0A%20%20%7D%20else%20if%20%28elem%20%3D%3D%3D%20window%29%20%7B%0A%20%20%20%20if%20%28prop%20%3D%3D%3D%20%27width%27%29%20%7B%0A%20%20%20%20%20%20return%20window%2EinnerWidth%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%20else%20if%20%28prop%20%3D%3D%3D%20%27height%27%29%20%7B%0A%20%20%20%20%20%20return%20window%2EinnerHeight%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20var%20styleProp%20%3D%20elem%2Estyle%5Bprop%5D%2C%0A%20%20%20%20computedStyle%3B%0A%20%20if%20%28styleProp%20%21%3D%3D%20%22%22%20%26%26%20styleProp%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20return%20styleProp%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20computedStyle%20%3D%20Handsontable%2EDom%2EgetComputedStyle%28elem%29%3B%0A%20%20%20%20if%20%28computedStyle%2Eprop%20%21%3D%3D%20%22%22%20%26%26%20computedStyle%2Eprop%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20return%20computedStyle%2Eprop%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20void%200%3B%0A%20%20%7D%0A%7D%3B%0A%0AHandsontable%2EDom%2EgetComputedStyle%20%3D%20function%20%28elem%29%20%7B%0A%20%20return%20elem%2EcurrentStyle%20%7C%7C%20document%2EdefaultView%2EgetComputedStyle%28elem%29%3B%0A%7D%3B%0A%0AHandsontable%2EDom%2EouterWidth%20%3D%20function%20%28elem%29%20%7B%0A%20%20return%20elem%2EoffsetWidth%3B%0A%7D%3B%0A%0AHandsontable%2EDom%2EouterHeight%20%3D%20function%20%28elem%29%20%7B%0A%20%20if%20%28this%2EhasCaptionProblem%28%29%20%26%26%20elem%2EfirstChild%20%26%26%20elem%2EfirstChild%2EnodeName%20%3D%3D%3D%20%27CAPTION%27%29%20%7B%0A%20%20%20%20%2F%2Ffixes%20problem%20with%20Firefox%20ignoring%20%3Ccaption%3E%20in%20TABLE%2EoffsetHeight%0A%20%20%20%20%2F%2FjQuery%20%281%2E10%2E1%29%20still%20has%20this%20unsolved%0A%20%20%20%20%2F%2Fmay%20be%20better%20to%20just%20switch%20to%20getBoundingClientRect%0A%20%20%20%20%2F%2Fhttp%3A%2F%2Fbililite%2Ecom%2Fblog%2F2009%2F03%2F27%2Ffinding%2Dthe%2Dsize%2Dof%2Da%2Dtable%2F%0A%20%20%20%20%2F%2Fhttp%3A%2F%2Flists%2Ew3%2Eorg%2FArchives%2FPublic%2Fwww%2Dstyle%2F2009Oct%2F0089%2Ehtml%0A%20%20%20%20%2F%2Fhttp%3A%2F%2Fbugs%2Ejquery%2Ecom%2Fticket%2F2196%0A%20%20%20%20%2F%2Fhttp%3A%2F%2Flists%2Ew3%2Eorg%2FArchives%2FPublic%2Fwww%2Dstyle%2F2009Oct%2F0140%2Ehtml%23start140%0A%20%20%20%20return%20elem%2EoffsetHeight%20%2B%20elem%2EfirstChild%2EoffsetHeight%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%20elem%2EoffsetHeight%3B%0A%20%20%7D%0A%7D%3B%0A%0AHandsontable%2EDom%2EinnerHeight%20%3D%20function%20%28elem%29%20%7B%0A%20%20return%20elem%2EclientHeight%20%7C%7C%20elem%2EinnerHeight%3B%0A%7D%3B%0A%0AHandsontable%2EDom%2EinnerWidth%20%3D%20function%20%28elem%29%20%7B%0A%20%20return%20elem%2EclientWidth%20%7C%7C%20elem%2EinnerWidth%3B%0A%7D%3B%0A%0AHandsontable%2EDom%2EaddEvent%20%3D%20function%20%28element%2C%20event%2C%20callback%29%20%7B%0A%20%20if%20%28window%2EaddEventListener%29%20%7B%0A%20%20%20%20element%2EaddEventListener%28event%2C%20callback%2C%20false%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20element%2EattachEvent%28%27on%27%20%2B%20event%2C%20callback%29%3B%0A%20%20%7D%0A%7D%3B%0A%0AHandsontable%2EDom%2EremoveEvent%20%3D%20function%20%28element%2C%20event%2C%20callback%29%20%7B%0A%20%20if%20%28window%2EremoveEventListener%29%20%7B%0A%20%20%20%20element%2EremoveEventListener%28event%2C%20callback%2C%20false%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20element%2EdetachEvent%28%27on%27%20%2B%20event%2C%20callback%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%0A%28function%20%28%29%20%7B%0A%20%20var%20hasCaptionProblem%3B%0A%0A%20%20function%20detectCaptionProblem%28%29%20%7B%0A%20%20%20%20var%20TABLE%20%3D%20document%2EcreateElement%28%27TABLE%27%29%3B%0A%20%20%20%20TABLE%2Estyle%2EborderSpacing%20%3D%200%3B%0A%20%20%20%20TABLE%2Estyle%2EborderWidth%20%3D%200%3B%0A%20%20%20%20TABLE%2Estyle%2Epadding%20%3D%200%3B%0A%20%20%20%20var%20TBODY%20%3D%20document%2EcreateElement%28%27TBODY%27%29%3B%0A%20%20%20%20TABLE%2EappendChild%28TBODY%29%3B%0A%20%20%20%20TBODY%2EappendChild%28document%2EcreateElement%28%27TR%27%29%29%3B%0A%20%20%20%20TBODY%2EfirstChild%2EappendChild%28document%2EcreateElement%28%27TD%27%29%29%3B%0A%20%20%20%20TBODY%2EfirstChild%2EfirstChild%2EinnerHTML%20%3D%20%27%3Ctr%3E%3Ctd%3Et%3Cbr%3Et%3C%2Ftd%3E%3C%2Ftr%3E%27%3B%0A%0A%20%20%20%20var%20CAPTION%20%3D%20document%2EcreateElement%28%27CAPTION%27%29%3B%0A%20%20%20%20CAPTION%2EinnerHTML%20%3D%20%27c%3Cbr%3Ec%3Cbr%3Ec%3Cbr%3Ec%27%3B%0A%20%20%20%20CAPTION%2Estyle%2Epadding%20%3D%200%3B%0A%20%20%20%20CAPTION%2Estyle%2Emargin%20%3D%200%3B%0A%20%20%20%20TABLE%2EinsertBefore%28CAPTION%2C%20TBODY%29%3B%0A%0A%20%20%20%20document%2Ebody%2EappendChild%28TABLE%29%3B%0A%20%20%20%20hasCaptionProblem%20%3D%20%28TABLE%2EoffsetHeight%20%3C%202%20%2A%20TABLE%2ElastChild%2EoffsetHeight%29%3B%20%2F%2Fboolean%0A%20%20%20%20document%2Ebody%2EremoveChild%28TABLE%29%3B%0A%20%20%7D%0A%0A%20%20Handsontable%2EDom%2EhasCaptionProblem%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28hasCaptionProblem%20%3D%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20detectCaptionProblem%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20hasCaptionProblem%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20caret%20position%20in%20text%20input%0A%20%20%20%2A%20%40author%20http%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F263743%2Fhow%2Dto%2Dget%2Dcaret%2Dposition%2Din%2Dtextarea%0A%20%20%20%2A%20%40return%20%7BNumber%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDom%2EgetCaretPosition%20%3D%20function%20%28el%29%20%7B%0A%20%20%20%20if%20%28el%2EselectionStart%29%20%7B%0A%20%20%20%20%20%20return%20el%2EselectionStart%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28document%2Eselection%29%20%7B%20%2F%2FIE8%0A%20%20%20%20%20%20el%2Efocus%28%29%3B%0A%20%20%20%20%20%20var%20r%20%3D%20document%2Eselection%2EcreateRange%28%29%3B%0A%20%20%20%20%20%20if%20%28r%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20re%20%3D%20el%2EcreateTextRange%28%29%2C%0A%20%20%20%20%20%20%20%20rc%20%3D%20re%2Eduplicate%28%29%3B%0A%20%20%20%20%20%20re%2EmoveToBookmark%28r%2EgetBookmark%28%29%29%3B%0A%20%20%20%20%20%20rc%2EsetEndPoint%28%27EndToStart%27%2C%20re%29%3B%0A%20%20%20%20%20%20return%20rc%2Etext%2Elength%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%200%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20end%20of%20the%20selection%20in%20text%20input%0A%20%20%20%2A%20%40return%20%7BNumber%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDom%2EgetSelectionEndPosition%20%3D%20function%20%28el%29%20%7B%0A%20%20%20%20if%20%28el%2EselectionEnd%29%20%7B%0A%20%20%20%20%20%20return%20el%2EselectionEnd%3B%0A%20%20%20%20%7D%20else%20if%20%28document%2Eselection%29%20%7B%20%2F%2FIE8%0A%20%20%20%20%20%20var%20r%20%3D%20document%2Eselection%2EcreateRange%28%29%3B%0A%20%20%20%20%20%20if%20%28r%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20re%20%3D%20el%2EcreateTextRange%28%29%3B%0A%0A%20%20%20%20%20%20return%20re%2Etext%2EindexOf%28r%2Etext%29%20%2B%20r%2Etext%2Elength%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Sets%20caret%20position%20in%20text%20input%0A%20%20%20%2A%20%40author%20http%3A%2F%2Fblog%2Evishalon%2Enet%2Findex%2Ephp%2Fjavascript%2Dgetting%2Dand%2Dsetting%2Dcaret%2Dposition%2Din%2Dtextarea%2F%0A%20%20%20%2A%20%40param%20%7BElement%7D%20el%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20pos%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20endPos%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDom%2EsetCaretPosition%20%3D%20function%20%28el%2C%20pos%2C%20endPos%29%20%7B%0A%20%20%20%20if%20%28endPos%20%3D%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20endPos%20%3D%20pos%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28el%2EsetSelectionRange%29%20%7B%0A%20%20%20%20%20%20el%2Efocus%28%29%3B%0A%20%20%20%20%20%20el%2EsetSelectionRange%28pos%2C%20endPos%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28el%2EcreateTextRange%29%20%7B%20%2F%2FIE8%0A%20%20%20%20%20%20var%20range%20%3D%20el%2EcreateTextRange%28%29%3B%0A%20%20%20%20%20%20range%2Ecollapse%28true%29%3B%0A%20%20%20%20%20%20range%2EmoveEnd%28%27character%27%2C%20endPos%29%3B%0A%20%20%20%20%20%20range%2EmoveStart%28%27character%27%2C%20pos%29%3B%0A%20%20%20%20%20%20range%2Eselect%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20var%20cachedScrollbarWidth%3B%0A%20%20%2F%2Fhttp%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F986937%2Fhow%2Dcan%2Di%2Dget%2Dthe%2Dbrowsers%2Dscrollbar%2Dsizes%0A%20%20function%20walkontableCalculateScrollbarWidth%28%29%20%7B%0A%20%20%20%20var%20inner%20%3D%20document%2EcreateElement%28%27p%27%29%3B%0A%20%20%20%20inner%2Estyle%2Ewidth%20%3D%20%22100%25%22%3B%0A%20%20%20%20inner%2Estyle%2Eheight%20%3D%20%22200px%22%3B%0A%0A%20%20%20%20var%20outer%20%3D%20document%2EcreateElement%28%27div%27%29%3B%0A%20%20%20%20outer%2Estyle%2Eposition%20%3D%20%22absolute%22%3B%0A%20%20%20%20outer%2Estyle%2Etop%20%3D%20%220px%22%3B%0A%20%20%20%20outer%2Estyle%2Eleft%20%3D%20%220px%22%3B%0A%20%20%20%20outer%2Estyle%2Evisibility%20%3D%20%22hidden%22%3B%0A%20%20%20%20outer%2Estyle%2Ewidth%20%3D%20%22200px%22%3B%0A%20%20%20%20outer%2Estyle%2Eheight%20%3D%20%22150px%22%3B%0A%20%20%20%20outer%2Estyle%2Eoverflow%20%3D%20%22hidden%22%3B%0A%20%20%20%20outer%2EappendChild%28inner%29%3B%0A%0A%20%20%20%20%28document%2Ebody%20%7C%7C%20document%2EdocumentElement%29%2EappendChild%28outer%29%3B%0A%20%20%20%20var%20w1%20%3D%20inner%2EoffsetWidth%3B%0A%20%20%20%20outer%2Estyle%2Eoverflow%20%3D%20%27scroll%27%3B%0A%20%20%20%20var%20w2%20%3D%20inner%2EoffsetWidth%3B%0A%20%20%20%20if%20%28w1%20%3D%3D%20w2%29%20%7B%0A%20%20%20%20%20%20w2%20%3D%20outer%2EclientWidth%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%28document%2Ebody%20%7C%7C%20document%2EdocumentElement%29%2EremoveChild%28outer%29%3B%0A%0A%20%20%20%20return%20%28w1%20%2D%20w2%29%3B%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20the%20computed%20width%20of%20the%20native%20browser%20scroll%20bar%0A%20%20%20%2A%20%40return%20%7BNumber%7D%20width%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDom%2EgetScrollbarWidth%20%3D%20function%20%28mockWidth%29%20%7B%0A%20%20%20%20if%20%28cachedScrollbarWidth%20%3D%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20cachedScrollbarWidth%20%3D%20walkontableCalculateScrollbarWidth%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28mockWidth%20%26%26%20cachedScrollbarWidth%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20return%2030%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20cachedScrollbarWidth%3B%0A%20%20%7D%3B%0A%0A%20%20var%20isIE8%20%3D%20%21%28document%2EcreateTextNode%28%27test%27%29%2EtextContent%29%3B%0A%20%20Handsontable%2EDom%2EisIE8%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20isIE8%3B%0A%20%20%7D%3B%0A%0A%20%20var%20isIE9%20%3D%20%21%21%28document%2EdocumentMode%29%3B%0A%20%20Handsontable%2EDom%2EisIE9%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20isIE9%3B%0A%20%20%7D%3B%0A%0A%20%20var%20isSafari%20%3D%20%28%2FSafari%2F%2Etest%28navigator%2EuserAgent%29%20%26%26%20%2FApple%20Computer%2F%2Etest%28navigator%2Evendor%29%29%3B%0A%20%20Handsontable%2EDom%2EisSafari%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20isSafari%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Sets%20overlay%20position%20depending%20on%20it%27s%20type%20and%20used%20browser%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDom%2EsetOverlayPosition%20%3D%20function%20%28overlayElem%2C%20left%2C%20top%29%20%7B%0A%20%20%20%20if%20%28isIE8%20%7C%7C%20isIE9%29%20%7B%0A%20%20%20%20%20%20overlayElem%2Estyle%2Etop%20%3D%20top%3B%0A%20%20%20%20%20%20overlayElem%2Estyle%2Eleft%20%3D%20left%3B%0A%20%20%20%20%7D%20else%20if%20%28isSafari%29%20%7B%0A%20%20%20%20%20%20overlayElem%2Estyle%5B%27%2Dwebkit%2Dtransform%27%5D%20%3D%20%27translate3d%28%27%20%2B%20left%20%2B%20%27%2C%27%20%2B%20top%20%2B%20%27%2C0%29%27%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20overlayElem%2Estyle%5B%27transform%27%5D%20%3D%20%27translate3d%28%27%20%2B%20left%20%2B%20%27%2C%27%20%2B%20top%20%2B%20%27%2C0%29%27%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EDom%2EgetCssTransform%20%3D%20function%20%28elem%29%20%7B%0A%20%20%20%20var%20transform%3B%0A%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20if%20%28elem%2Estyle%5B%27transform%27%5D%20%26%26%20%28transform%20%3D%20elem%2Estyle%5B%27transform%27%5D%29%20%21%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20return%20%5B%27transform%27%2C%20transform%5D%3B%0A%20%20%20%20%7D%20else%20if%20%28elem%2Estyle%5B%27%2Dwebkit%2Dtransform%27%5D%20%26%26%20%28transform%20%3D%20elem%2Estyle%5B%27%2Dwebkit%2Dtransform%27%5D%29%20%21%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20return%20%5B%27%2Dwebkit%2Dtransform%27%2C%20transform%5D%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20%2D1%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EDom%2EresetCssTransform%20%3D%20function%20%28elem%29%20%7B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20if%20%28elem%5B%27transform%27%5D%20%26%26%20elem%5B%27transform%27%5D%20%21%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20elem%5B%27transform%27%5D%20%3D%20%22%22%3B%0A%20%20%20%20%7D%20else%20if%20%28elem%5B%27%2Dwebkit%2Dtransform%27%5D%20%26%26%20elem%5B%27%2Dwebkit%2Dtransform%27%5D%20%21%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20elem%5B%27%2Dwebkit%2Dtransform%27%5D%20%3D%20%22%22%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%7D%3B%0A%0A%7D%29%28%29%3B%0A%0A%0Aif%28%21window%2EHandsontable%29%7B%0A%20%20var%20Handsontable%20%3D%20%7B%7D%3B%0A%7D%0A%0AHandsontable%2EcountEventManagerListeners%20%3D%200%3B%20%2F%2Fused%20to%20debug%20memory%20leaks%0A%0AHandsontable%2EeventManager%20%3D%20function%20%28instance%29%20%7B%0A%20%20var%0A%20%20%20%20addEvent%2C%0A%20%20%20%20removeEvent%2C%0A%20%20%20%20clearEvents%2C%0A%20%20%20%20fireEvent%3B%0A%0A%20%20if%20%28%21instance%29%20%7B%0A%20%20%20%20throw%20new%20Error%20%28%27instance%20not%20defined%27%29%3B%0A%20%20%7D%0A%20%20if%20%28%21instance%2EeventListeners%29%20%7B%0A%20%20%20%20instance%2EeventListeners%20%3D%20%5B%5D%3B%0A%20%20%7D%0A%0A%20%20function%20extendEvent%28event%29%20%7B%0A%20%20%20%20var%0A%20%20%20%20%20%20componentName%20%3D%20%27HOT%2DTABLE%27%2C%0A%20%20%20%20%20%20isHotTableSpotted%2C%0A%20%20%20%20%20%20fromElement%2C%0A%20%20%20%20%20%20realTarget%2C%0A%20%20%20%20%20%20target%2C%0A%20%20%20%20%20%20len%3B%0A%0A%20%20%20%20event%2EisTargetWebComponent%20%3D%20false%3B%0A%20%20%20%20event%2ErealTarget%20%3D%20event%2Etarget%3B%0A%0A%20%20%20%20if%20%28%21Handsontable%2EeventManager%2EisHotTableEnv%29%20%7B%0A%20%20%20%20%20%20return%20event%3B%0A%20%20%20%20%7D%0A%20%20%20%20event%20%3D%20Handsontable%2EDom%2EpolymerWrap%28event%29%3B%0A%20%20%20%20len%20%3D%20event%2Epath%2Elength%3B%0A%0A%20%20%20%20while%20%28len%20%2D%2D%29%20%7B%0A%20%20%20%20%20%20if%20%28event%2Epath%5Blen%5D%2EnodeName%20%3D%3D%3D%20componentName%29%20%7B%0A%20%20%20%20%20%20%20%20isHotTableSpotted%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%7D%20else%20if%20%28isHotTableSpotted%20%26%26%20event%2Epath%5Blen%5D%2EshadowRoot%29%20%7B%0A%20%20%20%20%20%20%20%20target%20%3D%20event%2Epath%5Blen%5D%3B%0A%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28len%20%3D%3D%3D%200%20%26%26%20%21target%29%20%7B%0A%20%20%20%20%20%20%20%20target%20%3D%20event%2Epath%5Blen%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%21target%29%20%7B%0A%20%20%20%20%20%20target%20%3D%20event%2Etarget%3B%0A%20%20%20%20%7D%0A%20%20%20%20event%2EisTargetWebComponent%20%3D%20true%3B%0A%0A%20%20%20%20if%20%28Handsontable%2EDom%2EisWebComponentSupportedNatively%28%29%29%20%7B%0A%20%20%20%20%20%20event%2ErealTarget%20%3D%20event%2EsrcElement%20%7C%7C%20event%2EtoElement%3B%0A%0A%20%20%20%20%7D%20else%20if%20%28instance%20instanceof%20Handsontable%2ECore%20%7C%7C%20instance%20instanceof%20Walkontable%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20Polymer%20doesn%27t%20support%20%60event%2Etarget%60%20property%20properly%20we%20must%20emulate%20it%20ourselves%0A%20%20%20%20%20%20if%20%28instance%20instanceof%20Handsontable%2ECore%29%20%7B%0A%20%20%20%20%20%20%20%20fromElement%20%3D%20instance%2Eview%2Ewt%2EwtTable%2ETABLE%3B%0A%0A%20%20%20%20%20%20%7D%20else%20if%20%28instance%20instanceof%20Walkontable%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20%2EwtHider%0A%20%20%20%20%20%20%20%20fromElement%20%3D%20instance%2EwtTable%2ETABLE%2EparentNode%2EparentNode%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20realTarget%20%3D%20Handsontable%2EDom%2Eclosest%28event%2Etarget%2C%20%5BcomponentName%5D%2C%20fromElement%29%3B%0A%0A%20%20%20%20%20%20if%20%28realTarget%29%20%7B%0A%20%20%20%20%20%20%20%20event%2ErealTarget%20%3D%20fromElement%2EquerySelector%28componentName%29%20%7C%7C%20event%2Etarget%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20event%2ErealTarget%20%3D%20event%2Etarget%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20Object%2EdefineProperty%28event%2C%20%27target%27%2C%20%7B%0A%20%20%20%20%20%20get%3A%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20Handsontable%2EDom%2EpolymerWrap%28target%29%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20enumerable%3A%20true%2C%0A%20%20%20%20%20%20configurable%3A%20true%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20return%20event%3B%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Add%20Event%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BElement%7D%20element%0A%20%20%20%2A%20%40param%20%7BString%7D%20event%0A%20%20%20%2A%20%40param%20%7BFunction%7D%20callback%0A%20%20%20%2A%20%40returns%20%7BFunction%7D%20Returns%20function%20which%20you%20can%20easily%20call%20to%20remove%20that%20event%0A%20%20%20%2A%2F%0A%20%20addEvent%20%3D%20function%20%28element%2C%20event%2C%20callback%29%20%7B%0A%20%20%20%20var%20callbackProxy%3B%0A%0A%20%20%20%20callbackProxy%20%3D%20function%20callbackProxy%28event%29%20%7B%0A%20%20%20%20%20%20if%20%28event%2Etarget%20%3D%3D%20void%200%20%26%26%20event%2EsrcElement%20%21%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28event%2EdefinePoperty%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20event%2EdefinePoperty%28%27target%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20event%2EsrcElement%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20event%2Etarget%20%3D%20event%2EsrcElement%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28event%2EpreventDefault%20%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28event%2EdefinePoperty%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20event%2EdefinePoperty%28%27preventDefault%27%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EreturnValue%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EreturnValue%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20event%20%3D%20extendEvent%28event%29%3B%0A%0A%20%20%20%20%20%20callback%2Ecall%28this%2C%20event%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20instance%2EeventListeners%2Epush%28%7B%0A%20%20%20%20%20%20element%3A%20element%2C%0A%20%20%20%20%20%20event%3A%20event%2C%0A%20%20%20%20%20%20callback%3A%20callback%2C%0A%20%20%20%20%20%20callbackProxy%3A%20callbackProxy%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20if%20%28window%2EaddEventListener%29%20%7B%0A%20%20%20%20%20%20element%2EaddEventListener%28event%2C%20callbackProxy%2C%20false%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20element%2EattachEvent%28%27on%27%20%2B%20event%2C%20callbackProxy%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20Handsontable%2EcountEventManagerListeners%20%2B%2B%3B%0A%0A%20%20%20%20return%20function%20%5FremoveEvent%28%29%20%7B%0A%20%20%20%20%20%20removeEvent%28element%2C%20event%2C%20callback%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Remove%20event%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BElement%7D%20element%0A%20%20%20%2A%20%40param%20%7BString%7D%20event%0A%20%20%20%2A%20%40param%20%7BFunction%7D%20callback%0A%20%20%20%2A%2F%0A%20%20removeEvent%20%3D%20function%20%28element%2C%20event%2C%20callback%29%20%7B%0A%20%20%20%20var%20len%20%3D%20instance%2EeventListeners%2Elength%2C%0A%20%20%20%20%20%20tmpEvent%3B%0A%0A%20%20%20%20while%20%28len%2D%2D%29%20%7B%0A%20%20%20%20%20%20tmpEvent%20%3D%20instance%2EeventListeners%5Blen%5D%3B%0A%0A%20%20%20%20%20%20if%20%28tmpEvent%2Eevent%20%3D%3D%20event%20%26%26%20tmpEvent%2Eelement%20%3D%3D%20element%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28callback%20%26%26%20callback%20%21%3D%20tmpEvent%2Ecallback%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20instance%2EeventListeners%2Esplice%28len%2C%201%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28tmpEvent%2Eelement%2EremoveEventListener%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20tmpEvent%2Eelement%2EremoveEventListener%28tmpEvent%2Eevent%2C%20tmpEvent%2EcallbackProxy%2C%20false%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20tmpEvent%2Eelement%2EdetachEvent%28%27on%27%20%2B%20tmpEvent%2Eevent%2C%20tmpEvent%2EcallbackProxy%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20Handsontable%2EcountEventManagerListeners%20%2D%2D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Clear%20all%20events%0A%20%20%20%2A%2F%0A%20%20clearEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20len%20%3D%20instance%2EeventListeners%2Elength%2C%0A%20%20%20%20%20%20event%3B%0A%0A%20%20%20%20while%20%28len%2D%2D%29%20%7B%0A%20%20%20%20%20%20event%20%3D%20instance%2EeventListeners%5Blen%5D%3B%0A%0A%20%20%20%20%20%20if%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20removeEvent%28event%2Eelement%2C%20event%2Eevent%2C%20event%2Ecallback%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Trigger%20event%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BElement%7D%20element%0A%20%20%20%2A%20%40param%20%7BString%7D%20type%0A%20%20%20%2A%2F%0A%20%20fireEvent%20%3D%20function%20%28element%2C%20type%29%20%7B%0A%20%20%20%20var%20options%2C%20event%3B%0A%0A%20%20%20%20options%20%3D%20%7B%0A%20%20%20%20%20%20bubbles%3A%20true%2C%0A%20%20%20%20%20%20cancelable%3A%20%28type%20%21%3D%3D%20%22mousemove%22%29%2C%0A%20%20%20%20%20%20view%3A%20window%2C%0A%20%20%20%20%20%20detail%3A%200%2C%0A%20%20%20%20%20%20screenX%3A%200%2C%0A%20%20%20%20%20%20screenY%3A%200%2C%0A%20%20%20%20%20%20clientX%3A%201%2C%0A%20%20%20%20%20%20clientY%3A%201%2C%0A%20%20%20%20%20%20ctrlKey%3A%20false%2C%0A%20%20%20%20%20%20altKey%3A%20false%2C%0A%20%20%20%20%20%20shiftKey%3A%20false%2C%0A%20%20%20%20%20%20metaKey%3A%20false%2C%0A%20%20%20%20%20%20button%3A%200%2C%0A%20%20%20%20%20%20relatedTarget%3A%20undefined%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20if%20%28document%2EcreateEvent%29%20%7B%0A%20%20%20%20%20%20event%20%3D%20document%2EcreateEvent%28%22MouseEvents%22%29%3B%0A%20%20%20%20%20%20event%2EinitMouseEvent%28type%2C%20options%2Ebubbles%2C%20options%2Ecancelable%2C%0A%20%20%20%20%20%20%20%20options%2Eview%2C%20options%2Edetail%2C%0A%20%20%20%20%20%20%20%20options%2EscreenX%2C%20options%2EscreenY%2C%20options%2EclientX%2C%20options%2EclientY%2C%0A%20%20%20%20%20%20%20%20options%2EctrlKey%2C%20options%2EaltKey%2C%20options%2EshiftKey%2C%20options%2EmetaKey%2C%0A%20%20%20%20%20%20%20%20options%2Ebutton%2C%20options%2ErelatedTarget%20%7C%7C%20document%2Ebody%2EparentNode%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20event%20%3D%20document%2EcreateEventObject%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28element%2EdispatchEvent%29%20%7B%0A%20%20%20%20%20%20element%2EdispatchEvent%28event%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20element%2EfireEvent%28%27on%27%20%2B%20type%2C%20event%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20return%20%7B%0A%20%20%20%20addEventListener%3A%20addEvent%2C%0A%20%20%20%20removeEventListener%3A%20removeEvent%2C%0A%20%20%20%20clear%3A%20clearEvents%2C%0A%20%20%20%20fireEvent%3A%20fireEvent%0A%20%20%7D%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Handsontable%20TableView%20constructor%0A%20%2A%20%40param%20%7BObject%7D%20instance%0A%20%2A%2F%0AHandsontable%2ETableView%20%3D%20function%20%28instance%29%20%7B%0A%20%20var%20that%20%3D%20this%3B%0A%0A%20%20this%2EeventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20this%2Esettings%20%3D%20instance%2EgetSettings%28%29%3B%0A%0A%0A%20%20var%20originalStyle%20%3D%20instance%2ErootElement%2EgetAttribute%28%27style%27%29%3B%0A%20%20if%28originalStyle%29%20%7B%0A%20%20%20%20instance%2ErootElement%2EsetAttribute%28%27data%2Doriginalstyle%27%2C%20originalStyle%29%3B%20%2F%2Fneeded%20to%20retrieve%20original%20style%20in%20jsFiddle%20link%20generator%20in%20HT%20examples%2E%20may%20be%20removed%20in%20future%20versions%0A%20%20%7D%0A%0A%20%20Handsontable%2EDom%2EaddClass%28instance%2ErootElement%2C%27handsontable%27%29%3B%0A%2F%2F%20%20instance%2ErootElement%2EaddClass%28%27handsontable%27%29%3B%0A%0A%20%20var%20table%20%3D%20document%2EcreateElement%28%27TABLE%27%29%3B%0A%20%20table%2EclassName%20%3D%20%27htCore%27%3B%0A%20%20this%2ETHEAD%20%3D%20document%2EcreateElement%28%27THEAD%27%29%3B%0A%20%20table%2EappendChild%28this%2ETHEAD%29%3B%0A%20%20this%2ETBODY%20%3D%20document%2EcreateElement%28%27TBODY%27%29%3B%0A%20%20table%2EappendChild%28this%2ETBODY%29%3B%0A%0A%20%20instance%2Etable%20%3D%20table%3B%0A%0A%0A%20%20instance%2Econtainer%2EinsertBefore%28table%2C%20instance%2Econtainer%2EfirstChild%29%3B%0A%0A%20%20this%2EeventManager%2EaddEventListener%28instance%2ErootElement%2C%27mousedown%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20if%20%28%21that%2EisTextSelectionAllowed%28event%2Etarget%29%29%20%7B%0A%20%20%20%20%20%20clearTextSelection%28%29%3B%0A%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20window%2Efocus%28%29%3B%20%2F%2Fmake%20sure%20that%20window%20that%20contains%20HOT%20is%20active%2E%20Important%20when%20HOT%20is%20in%20iframe%2E%0A%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%0A%20%20this%2EeventManager%2EaddEventListener%28document%2EdocumentElement%2C%20%27keyup%27%2Cfunction%20%28event%29%20%7B%0A%20%20%20%20if%20%28instance%2Eselection%2EisInProgress%28%29%20%26%26%20%21event%2EshiftKey%29%20%7B%0A%20%20%20%20%20%20instance%2Eselection%2Efinish%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%0A%20%20var%20isMouseDown%3B%0A%20%20this%2EisMouseDown%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20isMouseDown%3B%0A%20%20%7D%3B%0A%0A%20%20this%2EeventManager%2EaddEventListener%28document%2EdocumentElement%2C%20%27mouseup%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20if%20%28instance%2Eselection%2EisInProgress%28%29%20%26%26%20event%2Ewhich%20%3D%3D%3D%201%29%20%7B%20%2F%2Fis%20left%20mouse%20button%0A%20%20%20%20%20%20instance%2Eselection%2Efinish%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20isMouseDown%20%3D%20false%3B%0A%0A%20%20%20%20if%20%28Handsontable%2Ehelper%2EisOutsideInput%28document%2EactiveElement%29%29%20%7B%0A%20%20%20%20%20%20instance%2Eunlisten%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%0A%20%20this%2EeventManager%2EaddEventListener%28document%2EdocumentElement%2C%20%27mousedown%27%2Cfunction%20%28event%29%20%7B%0A%20%20%20%20var%20next%20%3D%20event%2Etarget%3B%0A%0A%20%20%20%20if%20%28isMouseDown%29%20%7B%0A%20%20%20%20%20%20return%3B%20%2F%2F%20it%20must%20have%20been%20started%20in%20a%20cell%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20immediate%20click%20on%20%22spreader%22%20means%20click%20on%20the%20right%20side%20of%20vertical%20scrollbar%0A%20%20%20%20if%20%28next%20%21%3D%3D%20instance%2Eview%2Ewt%2EwtTable%2Eholder%29%20%7B%0A%20%20%20%20%20%20while%20%28next%20%21%3D%3D%20document%2EdocumentElement%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28next%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28event%2EisTargetWebComponent%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20click%20on%20something%20that%20was%20a%20row%20but%20now%20is%20detached%20%28possibly%20because%20your%20click%20triggered%20a%20rerender%29%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28next%20%3D%3D%3D%20instance%2ErootElement%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20click%20inside%20container%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20next%20%3D%20next%2EparentNode%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20function%20did%20not%20return%20until%20here%2C%20we%20have%20an%20outside%20click%21%0A%20%20%20%20if%20%28that%2Esettings%2EoutsideClickDeselects%29%20%7B%0A%20%20%20%20%20%20instance%2EdeselectCell%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20instance%2EdestroyEditor%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%0A%0A%0A%20%20this%2EeventManager%2EaddEventListener%28table%2C%20%27selectstart%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20if%20%28that%2Esettings%2EfragmentSelection%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2Fhttps%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fissues%2F160%0A%20%20%20%20%2F%2Fselectstart%20is%20IE%20only%20event%2E%20Prevent%20text%20from%20being%20selected%20when%20performing%20drag%20down%20in%20IE8%0A%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20var%20clearTextSelection%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%2F%2Fhttp%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F3169786%2Fclear%2Dtext%2Dselection%2Dwith%2Djavascript%0A%20%20%20%20if%20%28window%2EgetSelection%29%20%7B%0A%20%20%20%20%20%20if%20%28window%2EgetSelection%28%29%2Eempty%29%20%7B%20%20%2F%2F%20Chrome%0A%20%20%20%20%20%20%20%20window%2EgetSelection%28%29%2Eempty%28%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28window%2EgetSelection%28%29%2EremoveAllRanges%29%20%7B%20%20%2F%2F%20Firefox%0A%20%20%20%20%20%20%20%20window%2EgetSelection%28%29%2EremoveAllRanges%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20if%20%28document%2Eselection%29%20%7B%20%20%2F%2F%20IE%3F%0A%20%20%20%20%20%20document%2Eselection%2Eempty%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20var%20selections%20%3D%20%5B%0A%20%20%20%20new%20WalkontableSelection%28%7B%0A%20%20%20%20%20%20className%3A%20%27current%27%2C%0A%20%20%20%20%20%20border%3A%20%7B%0A%20%20%20%20%20%20%20%20width%3A%202%2C%0A%20%20%20%20%20%20%20%20color%3A%20%27%235292F7%27%2C%0A%20%20%20%20%20%20%20%20%2F%2Fstyle%3A%20%27solid%27%2C%20%2F%2Fnot%20used%0A%20%20%20%20%20%20%20%20cornerVisible%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20that%2Esettings%2EfillHandle%20%26%26%20%21that%2EisCellEdited%28%29%20%26%26%20%21instance%2Eselection%2EisMultiple%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20multipleSelectionHandlesVisible%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%21that%2EisCellEdited%28%29%20%26%26%20%21instance%2Eselection%2EisMultiple%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%2C%0A%20%20%20%20new%20WalkontableSelection%28%7B%0A%20%20%20%20%20%20className%3A%20%27area%27%2C%0A%20%20%20%20%20%20border%3A%20%7B%0A%20%20%20%20%20%20%20%20width%3A%201%2C%0A%20%20%20%20%20%20%20%20color%3A%20%27%2389AFF9%27%2C%0A%20%20%20%20%20%20%20%20%2F%2Fstyle%3A%20%27solid%27%2C%20%2F%2F%20not%20used%0A%20%20%20%20%20%20%20%20cornerVisible%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20that%2Esettings%2EfillHandle%20%26%26%20%21that%2EisCellEdited%28%29%20%26%26%20instance%2Eselection%2EisMultiple%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20multipleSelectionHandlesVisible%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%21that%2EisCellEdited%28%29%20%26%26%20instance%2Eselection%2EisMultiple%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%2C%0A%20%20%20%20new%20WalkontableSelection%28%7B%0A%20%20%20%20%20%20className%3A%20%27highlight%27%2C%0A%20%20%20%20%20%20highlightRowClassName%3A%20that%2Esettings%2EcurrentRowClassName%2C%0A%20%20%20%20%20%20highlightColumnClassName%3A%20that%2Esettings%2EcurrentColClassName%0A%20%20%20%20%7D%29%2C%0A%20%20%20%20new%20WalkontableSelection%28%7B%0A%20%20%20%20%20%20className%3A%20%27fill%27%2C%0A%20%20%20%20%20%20border%3A%20%7B%0A%20%20%20%20%20%20%20%20width%3A%201%2C%0A%20%20%20%20%20%20%20%20color%3A%20%27red%27%0A%20%20%20%20%20%20%20%20%2F%2Fstyle%3A%20%27solid%27%20%2F%2F%20not%20used%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%0A%20%20%5D%3B%0A%20%20selections%2Ecurrent%20%3D%20selections%5B0%5D%3B%0A%20%20selections%2Earea%20%3D%20selections%5B1%5D%3B%0A%20%20selections%2Ehighlight%20%3D%20selections%5B2%5D%3B%0A%20%20selections%2Efill%20%3D%20selections%5B3%5D%3B%0A%0A%20%20var%20walkontableConfig%20%3D%20%7B%0A%20%20%20%20debug%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20that%2Esettings%2Edebug%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20table%3A%20table%2C%0A%20%20%20%20stretchH%3A%20this%2Esettings%2EstretchH%2C%0A%20%20%20%20data%3A%20instance%2EgetDataAtCell%2C%0A%20%20%20%20totalRows%3A%20instance%2EcountRows%2C%0A%20%20%20%20totalColumns%3A%20instance%2EcountCols%2C%0A%20%20%20%20fixedColumnsLeft%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20that%2Esettings%2EfixedColumnsLeft%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20fixedRowsTop%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20that%2Esettings%2EfixedRowsTop%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20renderAllRows%3A%20that%2Esettings%2ErenderAllRows%2C%0A%20%20%20%20rowHeaders%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20arr%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20if%28instance%2EhasRowHeaders%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20arr%2Epush%28function%20%28index%2C%20TH%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20that%2EappendRowHeader%28index%2C%20TH%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterGetRowHeaderRenderers%27%2C%20arr%29%3B%0A%20%20%20%20%20%20return%20arr%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20columnHeaders%3A%20function%20%28%29%20%7B%0A%0A%20%20%20%20%20%20var%20arr%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20if%28instance%2EhasColHeaders%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20arr%2Epush%28function%20%28index%2C%20TH%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20that%2EappendColHeader%28index%2C%20TH%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterGetColumnHeaderRenderers%27%2C%20arr%29%3B%0A%20%20%20%20%20%20return%20arr%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20columnWidth%3A%20instance%2EgetColWidth%2C%0A%20%20%20%20rowHeight%3A%20instance%2EgetRowHeight%2C%0A%20%20%20%20cellRenderer%3A%20function%20%28row%2C%20col%2C%20TD%29%20%7B%0A%0A%20%20%20%20%20%20var%20prop%20%3D%20that%2Einstance%2EcolToProp%28col%29%0A%20%20%20%20%20%20%20%20%2C%20cellProperties%20%3D%20that%2Einstance%2EgetCellMeta%28row%2C%20col%29%0A%20%20%20%20%20%20%20%20%2C%20renderer%20%3D%20that%2Einstance%2EgetCellRenderer%28cellProperties%29%3B%0A%0A%20%20%20%20%20%20var%20value%20%3D%20that%2Einstance%2EgetDataAtRowProp%28row%2C%20prop%29%3B%0A%0A%20%20%20%20%20%20renderer%28that%2Einstance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28that%2Einstance%2C%20%27afterRenderer%27%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%3B%0A%0A%20%20%20%20%7D%2C%0A%20%20%20%20selections%3A%20selections%2C%0A%20%20%20%20hideBorderOnMouseDownOver%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20that%2Esettings%2EfragmentSelection%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20onCellMouseDown%3A%20function%20%28event%2C%20coords%2C%20TD%2C%20wt%29%20%7B%0A%20%20%20%20%20%20instance%2Elisten%28%29%3B%0A%20%20%20%20%20%20that%2EactiveWt%20%3D%20wt%3B%0A%0A%20%20%20%20%20%20isMouseDown%20%3D%20true%3B%0A%0A%20%20%20%20%20%20Handsontable%2EDom%2EenableImmediatePropagation%28event%29%3B%0A%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27beforeOnCellMouseDown%27%2C%20event%2C%20coords%2C%20TD%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21event%2EisImmediatePropagationStopped%28%29%29%20%7B%0A%0A%20%20%20%20%20%20%20%20if%20%28event%2Ebutton%20%3D%3D%3D%202%20%26%26%20instance%2Eselection%2EinInSelection%28coords%29%29%20%7B%20%2F%2Fright%20mouse%20button%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fdo%20nothing%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28event%2EshiftKey%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28coords%2Erow%20%3E%3D%200%20%26%26%20coords%2Ecol%20%3E%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eselection%2EsetRangeEnd%28coords%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%28coords%2Erow%20%3C%200%20%7C%7C%20coords%2Ecol%20%3C%200%29%20%26%26%20%28coords%2Erow%20%3E%3D%200%20%7C%7C%20coords%2Ecol%20%3E%3D%200%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28coords%2Erow%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2EselectCell%280%2C%20coords%2Ecol%2C%20instance%2EcountRows%28%29%20%2D%201%2C%20coords%2Ecol%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eselection%2EsetSelectedHeaders%28false%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28coords%2Ecol%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2EselectCell%28coords%2Erow%2C%200%2C%20coords%2Erow%2C%20instance%2EcountCols%28%29%20%2D%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eselection%2EsetSelectedHeaders%28true%2C%20false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20coords%2Erow%20%3D%20coords%2Erow%20%3C%200%20%3F%200%20%3A%20coords%2Erow%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20coords%2Ecol%20%3D%20coords%2Ecol%20%3C%200%20%3F%200%20%3A%20coords%2Ecol%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eselection%2EsetRangeStart%28coords%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterOnCellMouseDown%27%2C%20event%2C%20coords%2C%20TD%29%3B%0A%0A%20%20%20%20%20%20%20%20that%2EactiveWt%20%3D%20that%2Ewt%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2AonCellMouseOut%3A%20function%20%28%2F%2Aevent%2C%20coords%2C%20TD%2A%20%2F%29%20%7B%0A%20%20%20%20%20if%20%28isMouseDown%20%26%26%20that%2Esettings%2EfragmentSelection%20%3D%3D%3D%20%27single%27%29%20%7B%0A%20%20%20%20%20clearTextSelection%28%29%3B%20%2F%2Fotherwise%20text%20selection%20blinks%20during%20multiple%20cells%20selection%0A%20%20%20%20%20%7D%0A%20%20%20%20%20%7D%2C%2A%2F%0A%20%20%20%20onCellMouseOver%3A%20function%20%28event%2C%20coords%2C%20TD%2C%20wt%29%20%7B%0A%20%20%20%20%20%20that%2EactiveWt%20%3D%20wt%3B%0A%20%20%20%20%20%20if%20%28coords%2Erow%20%3E%3D%200%20%26%26%20coords%2Ecol%20%3E%3D%200%29%20%7B%20%2F%2Fis%20not%20a%20header%0A%20%20%20%20%20%20%20%20if%20%28isMouseDown%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Aif%20%28that%2Esettings%2EfragmentSelection%20%3D%3D%3D%20%27single%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20clearTextSelection%28%29%3B%20%2F%2Fotherwise%20text%20selection%20blinks%20during%20multiple%20cells%20selection%0A%20%20%20%20%20%20%20%20%20%20%20%7D%2A%2F%0A%20%20%20%20%20%20%20%20%20%20instance%2Eselection%2EsetRangeEnd%28coords%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20%28isMouseDown%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20multi%20select%20columns%0A%20%20%20%20%20%20%20%20%20%20if%20%28coords%2Erow%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eselection%2EsetRangeEnd%28new%20WalkontableCellCoords%28instance%2EcountRows%28%29%20%2D%201%2C%20coords%2Ecol%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eselection%2EsetSelectedHeaders%28false%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20multi%20select%20rows%0A%20%20%20%20%20%20%20%20%20%20if%20%28coords%2Ecol%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eselection%2EsetRangeEnd%28new%20WalkontableCellCoords%28coords%2Erow%2C%20instance%2EcountCols%28%29%20%2D%201%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eselection%2EsetSelectedHeaders%28true%2C%20false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterOnCellMouseOver%27%2C%20event%2C%20coords%2C%20TD%29%3B%0A%20%20%20%20%20%20that%2EactiveWt%20%3D%20that%2Ewt%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20onCellCornerMouseDown%3A%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterOnCellCornerMouseDown%27%2C%20event%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20beforeDraw%3A%20function%20%28force%29%20%7B%0A%20%20%20%20%20%20that%2EbeforeRender%28force%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20onDraw%3A%20function%20%28force%29%20%7B%0A%20%20%20%20%20%20that%2EonDraw%28force%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20onScrollVertically%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20instance%2ErunHooks%28%27afterScrollVertically%27%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20onScrollHorizontally%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20instance%2ErunHooks%28%27afterScrollHorizontally%27%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20onBeforeDrawBorders%3A%20function%20%28corners%2C%20borderClassName%29%20%7B%0A%20%20%20%20%20%20instance%2ErunHooks%28%27beforeDrawBorders%27%2C%20corners%2C%20borderClassName%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20onBeforeTouchScroll%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20instance%2ErunHooks%28%27beforeTouchScroll%27%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20onAfterMomentumScroll%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20instance%2ErunHooks%28%27afterMomentumScroll%27%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20viewportRowCalculatorOverride%3A%20function%20%28calc%29%20%7B%0A%20%20%20%20%20%20if%20%28that%2Esettings%2EviewportRowRenderingOffset%29%20%7B%0A%20%20%20%20%20%20%20%20calc%2EstartRow%20%3D%20Math%2Emax%28calc%2EstartRow%20%2D%20that%2Esettings%2EviewportRowRenderingOffset%2C%200%29%3B%0A%20%20%20%20%20%20%20%20calc%2EendRow%20%3D%20Math%2Emin%28calc%2EendRow%20%2B%20that%2Esettings%2EviewportRowRenderingOffset%2C%20instance%2EcountRows%28%29%20%2D%201%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20instance%2ErunHooks%28%27afterViewportRowCalculatorOverride%27%2C%20calc%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20viewportColumnCalculatorOverride%3A%20function%20%28calc%29%20%7B%0A%20%20%20%20%20%20if%20%28that%2Esettings%2EviewportColumnRenderingOffset%29%20%7B%0A%20%20%20%20%20%20%20%20calc%2EstartColumn%20%3D%20Math%2Emax%28calc%2EstartColumn%20%2D%20that%2Esettings%2EviewportColumnRenderingOffset%2C%200%29%3B%0A%20%20%20%20%20%20%20%20calc%2EendColumn%20%3D%20Math%2Emin%28calc%2EendColumn%20%2B%20that%2Esettings%2EviewportColumnRenderingOffset%2C%20instance%2EcountCols%28%29%20%2D%201%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20instance%2ErunHooks%28%27afterViewportColumnCalculatorOverride%27%2C%20calc%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27beforeInitWalkontable%27%2C%20walkontableConfig%29%3B%0A%0A%20%20this%2Ewt%20%3D%20new%20Walkontable%28walkontableConfig%29%3B%0A%20%20this%2EactiveWt%20%3D%20this%2Ewt%3B%0A%0A%20%20this%2EeventManager%2EaddEventListener%28that%2Ewt%2EwtTable%2Espreader%2C%20%27mousedown%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20if%20%28event%2Etarget%20%3D%3D%3D%20that%2Ewt%2EwtTable%2Espreader%20%26%26%20event%2Ewhich%20%3D%3D%3D%203%29%20%7B%20%2F%2Fright%20mouse%20button%20exactly%20on%20spreader%20means%20right%20clickon%20the%20right%20hand%20side%20of%20vertical%20scrollbar%0A%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%0A%20%20this%2EeventManager%2EaddEventListener%28that%2Ewt%2EwtTable%2Espreader%2C%20%27contextmenu%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20if%20%28event%2Etarget%20%3D%3D%3D%20that%2Ewt%2EwtTable%2Espreader%20%26%26%20event%2Ewhich%20%3D%3D%3D%203%29%20%7B%20%2F%2Fright%20mouse%20button%20exactly%20on%20spreader%20means%20right%20clickon%20the%20right%20hand%20side%20of%20vertical%20scrollbar%0A%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%0A%0A%20%20this%2EeventManager%2EaddEventListener%28document%2EdocumentElement%2C%20%27click%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28that%2Esettings%2EobserveDOMVisibility%29%20%7B%0A%20%20%20%20%20%20if%20%28that%2Ewt%2EdrawInterrupted%29%20%7B%0A%20%20%20%20%20%20%20%20that%2Einstance%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20that%2Erender%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%7D%3B%0A%0AHandsontable%2ETableView%2Eprototype%2EisTextSelectionAllowed%20%3D%20function%20%28el%29%20%7B%0A%20%20if%20%28Handsontable%2Ehelper%2EisInput%28el%29%29%20%7B%0A%20%20%20%20return%20%28true%29%3B%0A%20%20%7D%0A%20%20if%20%28this%2Esettings%2EfragmentSelection%20%26%26%20Handsontable%2EDom%2EisChildOf%28el%2C%20this%2ETBODY%29%29%20%7B%0A%20%20%20%20return%20%28true%29%3B%0A%20%20%7D%0A%20%20return%20false%3B%0A%7D%3B%0A%0AHandsontable%2ETableView%2Eprototype%2EisCellEdited%20%3D%20function%20%28%29%20%7B%0A%20%20var%20activeEditor%20%3D%20this%2Einstance%2EgetActiveEditor%28%29%3B%0A%20%20return%20activeEditor%20%26%26%20activeEditor%2EisOpened%28%29%3B%0A%7D%3B%0A%0AHandsontable%2ETableView%2Eprototype%2EbeforeRender%20%3D%20function%20%28force%29%20%7B%0A%20%20if%20%28force%29%20%7B%20%2F%2Fforce%20%3D%20did%20Walkontable%20decide%20to%20do%20full%20render%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27beforeRender%27%2C%20this%2Einstance%2EforceFullRender%29%3B%20%2F%2Fthis%2Einstance%2EforceFullRender%20%3D%20did%20Handsontable%20request%20full%20render%3F%0A%20%20%7D%0A%7D%3B%0A%0AHandsontable%2ETableView%2Eprototype%2EonDraw%20%3D%20function%20%28force%29%20%7B%0A%20%20if%20%28force%29%20%7B%20%2F%2Fforce%20%3D%20did%20Walkontable%20decide%20to%20do%20full%20render%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27afterRender%27%2C%20this%2Einstance%2EforceFullRender%29%3B%20%2F%2Fthis%2Einstance%2EforceFullRender%20%3D%20did%20Handsontable%20request%20full%20render%3F%0A%20%20%7D%0A%7D%3B%0A%0AHandsontable%2ETableView%2Eprototype%2Erender%20%3D%20function%20%28%29%20%7B%0A%20%20this%2Ewt%2Edraw%28%21this%2Einstance%2EforceFullRender%29%3B%0A%20%20this%2Einstance%2EforceFullRender%20%3D%20false%3B%0A%2F%2F%20%20this%2Einstance%2ErootElement%2EtriggerHandler%28%27render%2Ehandsontable%27%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20td%20object%20given%20coordinates%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20coords%0A%20%2A%20%40param%20%7BBoolean%7D%20topmost%0A%20%2A%2F%0AHandsontable%2ETableView%2Eprototype%2EgetCellAtCoords%20%3D%20function%20%28coords%2C%20topmost%29%20%7B%0A%20%20var%20td%20%3D%20this%2Ewt%2EgetCell%28coords%2C%20topmost%29%3B%0A%20%20%2F%2Fvar%20td%20%3D%20this%2Ewt%2EwtTable%2EgetCell%28coords%29%3B%0A%20%20if%20%28td%20%3C%200%29%20%7B%20%2F%2Fthere%20was%20an%20exit%20code%20%28cell%20is%20out%20of%20bounds%29%0A%20%20%20%20return%20null%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%20td%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Scroll%20viewport%20to%20selection%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20coords%0A%20%2A%2F%0AHandsontable%2ETableView%2Eprototype%2EscrollViewport%20%3D%20function%20%28coords%29%20%7B%0A%20%20this%2Ewt%2EscrollViewport%28coords%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Append%20row%20header%20to%20a%20TH%20element%0A%20%2A%20%40param%20row%0A%20%2A%20%40param%20TH%0A%20%2A%2F%0AHandsontable%2ETableView%2Eprototype%2EappendRowHeader%20%3D%20function%20%28row%2C%20TH%29%20%7B%0A%20%20var%20DIV%20%3D%20document%2EcreateElement%28%27DIV%27%29%2C%0A%20%20%20%20SPAN%20%3D%20document%2EcreateElement%28%27SPAN%27%29%3B%0A%0A%20%20DIV%2EclassName%20%3D%20%27relative%27%3B%0A%20%20SPAN%2EclassName%20%3D%20%27rowHeader%27%3B%0A%0A%20%20if%20%28row%20%3E%20%2D1%29%20%7B%0A%20%20%20%20Handsontable%2EDom%2EfastInnerHTML%28SPAN%2C%20this%2Einstance%2EgetRowHeader%28row%29%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20Handsontable%2EDom%2EfastInnerText%28SPAN%2C%20String%2EfromCharCode%28160%29%29%3B%20%2F%2F%20workaround%20for%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fissues%2F1946%0A%20%20%7D%0A%0A%20%20DIV%2EappendChild%28SPAN%29%3B%0A%20%20Handsontable%2EDom%2Eempty%28TH%29%3B%0A%0A%20%20TH%2EappendChild%28DIV%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27afterGetRowHeader%27%2C%20row%2C%20TH%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Append%20column%20header%20to%20a%20TH%20element%0A%20%2A%20%40param%20col%0A%20%2A%20%40param%20TH%0A%20%2A%2F%0AHandsontable%2ETableView%2Eprototype%2EappendColHeader%20%3D%20function%20%28col%2C%20TH%29%20%7B%0A%20%20var%20DIV%20%3D%20document%2EcreateElement%28%27DIV%27%29%0A%20%20%20%20%2C%20SPAN%20%3D%20document%2EcreateElement%28%27SPAN%27%29%3B%0A%0A%20%20DIV%2EclassName%20%3D%20%27relative%27%3B%0A%20%20SPAN%2EclassName%20%3D%20%27colHeader%27%3B%0A%0A%20%20if%20%28col%20%3E%20%2D1%29%20%7B%0A%20%20%20%20Handsontable%2EDom%2EfastInnerHTML%28SPAN%2C%20this%2Einstance%2EgetColHeader%28col%29%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20Handsontable%2EDom%2EfastInnerText%28SPAN%2C%20String%2EfromCharCode%28160%29%29%3B%20%2F%2F%20workaround%20for%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fissues%2F1946%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28SPAN%2C%20%27cornerHeader%27%29%3B%0A%20%20%7D%0A%20%20DIV%2EappendChild%28SPAN%29%3B%0A%0A%20%20Handsontable%2EDom%2Eempty%28TH%29%3B%0A%20%20TH%2EappendChild%28DIV%29%3B%0A%20%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27afterGetColHeader%27%2C%20col%2C%20TH%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Given%20a%20element%27s%20left%20position%20relative%20to%20the%20viewport%2C%20returns%20maximum%20element%20width%20until%20the%20right%20edge%20of%20the%20viewport%20%28before%20scrollbar%29%0A%20%2A%20%40param%20%7BNumber%7D%20leftOffset%0A%20%2A%20%40return%20%7BNumber%7D%0A%20%2A%2F%0AHandsontable%2ETableView%2Eprototype%2EmaximumVisibleElementWidth%20%3D%20function%20%28leftOffset%29%20%7B%0A%20%20var%20workspaceWidth%20%3D%20this%2Ewt%2EwtViewport%2EgetWorkspaceWidth%28%29%3B%0A%20%20var%20maxWidth%20%3D%20workspaceWidth%20%2D%20leftOffset%3B%0A%20%20return%20maxWidth%20%3E%200%20%3F%20maxWidth%20%3A%200%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Given%20a%20element%27s%20top%20position%20relative%20to%20the%20viewport%2C%20returns%20maximum%20element%20height%20until%20the%20bottom%20edge%20of%20the%20viewport%20%28before%20scrollbar%29%0A%20%2A%20%40param%20%7BNumber%7D%20topOffset%0A%20%2A%20%40return%20%7BNumber%7D%0A%20%2A%2F%0AHandsontable%2ETableView%2Eprototype%2EmaximumVisibleElementHeight%20%3D%20function%20%28topOffset%29%20%7B%0A%20%20var%20workspaceHeight%20%3D%20this%2Ewt%2EwtViewport%2EgetWorkspaceHeight%28%29%3B%0A%20%20var%20maxHeight%20%3D%20workspaceHeight%20%2D%20topOffset%3B%0A%20%20return%20maxHeight%20%3E%200%20%3F%20maxHeight%20%3A%200%3B%0A%7D%3B%0A%0AHandsontable%2ETableView%2Eprototype%2EmainViewIsActive%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Ewt%20%3D%3D%3D%20this%2EactiveWt%3B%0A%7D%3B%0A%0AHandsontable%2ETableView%2Eprototype%2Edestroy%20%3D%20function%20%28%29%20%7B%0A%20%20this%2Ewt%2Edestroy%28%29%3B%0A%20%20this%2EeventManager%2Eclear%28%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Utility%20to%20register%20editors%20and%20common%20namespace%20for%20keeping%20reference%20to%20all%20editor%20classes%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0A%20%20%27use%20strict%27%3B%0A%0A%20%20function%20RegisteredEditor%28editorClass%29%20%7B%0A%20%20%20%20var%20Clazz%2C%20instances%3B%0A%0A%20%20%20%20instances%20%3D%20%7B%7D%3B%0A%20%20%20%20Clazz%20%3D%20editorClass%3B%0A%0A%20%20%20%20this%2EgetInstance%20%3D%20function%20%28hotInstance%29%20%7B%0A%20%20%20%20%20%20if%20%28%21%28hotInstance%2Eguid%20in%20instances%29%29%20%7B%0A%20%20%20%20%20%20%20%20instances%5BhotInstance%2Eguid%5D%20%3D%20new%20Clazz%28hotInstance%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20instances%5BhotInstance%2Eguid%5D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%7D%0A%0A%20%20var%20registeredEditorNames%20%3D%20%7B%7D%3B%0A%20%20var%20registeredEditorClasses%20%3D%20new%20WeakMap%28%29%3B%0A%0A%20%20Handsontable%2Eeditors%20%3D%20%7B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Registers%20editor%20under%20given%20name%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20editorName%0A%20%20%20%20%20%2A%20%40param%20%7BFunction%7D%20editorClass%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20registerEditor%3A%20function%20%28editorName%2C%20editorClass%29%20%7B%0A%20%20%20%20%20%20var%20editor%20%3D%20new%20RegisteredEditor%28editorClass%29%3B%0A%20%20%20%20%20%20if%20%28typeof%20editorName%20%3D%3D%3D%20%22string%22%29%20%7B%0A%20%20%20%20%20%20%20%20registeredEditorNames%5BeditorName%5D%20%3D%20editor%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20registeredEditorClasses%2Eset%28editorClass%2C%20editor%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Returns%20instance%20%28singleton%29%20of%20editor%20class%0A%20%20%20%20%20%2A%20%40param%20%7BString%7CFunction%7D%20editorName%2FeditorClass%0A%20%20%20%20%20%2A%20%40returns%20%7BFunction%7D%20editorClass%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20getEditor%3A%20function%20%28editorName%2C%20hotInstance%29%20%7B%0A%20%20%20%20%20%20var%20editor%3B%0A%20%20%20%20%20%20if%20%28typeof%20editorName%20%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21%28registeredEditorClasses%2Eget%28editorName%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EregisterEditor%28null%2C%20editorName%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20editor%20%3D%20registeredEditorClasses%2Eget%28editorName%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28typeof%20editorName%20%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20editor%20%3D%20registeredEditorNames%5BeditorName%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20throw%20Error%28%27Only%20strings%20and%20functions%20can%20be%20passed%20as%20%22editor%22%20parameter%20%27%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28%21editor%29%20%7B%0A%20%20%20%20%20%20%20%20throw%20Error%28%27No%20editor%20registered%20under%20name%20%22%27%20%2B%20editorName%20%2B%20%27%22%27%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20editor%2EgetInstance%28hotInstance%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%28Handsontable%29%7B%0A%20%20%27use%20strict%27%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40param%20%7BObject%7D%20instance%20Instance%20of%20Handsontable%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20priv%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20selection%0A%20%20%20%2A%20%40util%0A%20%20%20%2A%20%40class%20Handsontable%2EEditorManager%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EEditorManager%20%3D%20function%28instance%2C%20priv%2C%20selection%29%7B%0A%20%20%20%20var%20%5Fthis%20%3D%20this%2C%0A%20%20%20%20%20%20keyCodes%20%3D%20Handsontable%2Ehelper%2EkeyCode%2C%0A%20%20%20%20%20%20destroyed%20%3D%20false%2C%0A%20%20%20%20%20%20eventManager%2C%0A%20%20%20%20%20%20activeEditor%3B%0A%0A%20%20%20%20eventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%0A%20%20%20%20function%20moveSelectionAfterEnter%28shiftKey%29%20%7B%0A%20%20%20%20%20%20var%20enterMoves%20%3D%20typeof%20priv%2Esettings%2EenterMoves%20%3D%3D%3D%20%27function%27%20%3F%20priv%2Esettings%2EenterMoves%28event%29%20%3A%20priv%2Esettings%2EenterMoves%3B%0A%0A%20%20%20%20%20%20if%20%28shiftKey%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20move%20selection%20up%0A%20%20%20%20%20%20%20%20selection%2EtransformStart%28%2D%20enterMoves%2Erow%2C%20%2D%20enterMoves%2Ecol%29%3B%0A%0A%20%20%20%20%20%20%7D%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20move%20selection%20down%20%28add%20a%20new%20row%20if%20needed%29%0A%20%20%20%20%20%20%20%20selection%2EtransformStart%28enterMoves%2Erow%2C%20enterMoves%2Ecol%2C%20true%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20moveSelectionUp%28shiftKey%29%20%7B%0A%20%20%20%20%20%20if%20%28shiftKey%29%20%7B%0A%20%20%20%20%20%20%20%20selection%2EtransformEnd%28%2D1%2C%200%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20selection%2EtransformStart%28%2D1%2C%200%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20moveSelectionDown%28shiftKey%29%20%7B%0A%20%20%20%20%20%20if%20%28shiftKey%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20expanding%20selection%20down%20with%20shift%0A%20%20%20%20%20%20%20%20selection%2EtransformEnd%281%2C%200%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20move%20selection%20down%0A%20%20%20%20%20%20%20%20selection%2EtransformStart%281%2C%200%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20moveSelectionRight%28shiftKey%29%20%7B%0A%20%20%20%20%20%20if%20%28shiftKey%29%20%7B%0A%20%20%20%20%20%20%20%20selection%2EtransformEnd%280%2C%201%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20selection%2EtransformStart%280%2C%201%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20moveSelectionLeft%28shiftKey%29%20%7B%0A%20%20%20%20%20%20if%20%28shiftKey%29%20%7B%0A%20%20%20%20%20%20%20%20selection%2EtransformEnd%280%2C%20%2D1%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20selection%2EtransformStart%280%2C%20%2D1%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20onKeyDown%28event%29%20%7B%0A%20%20%20%20%20%20var%20ctrlDown%2C%20rangeModifier%3B%0A%0A%20%20%20%20%20%20if%20%28%21instance%2EisListening%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27beforeKeyDown%27%2C%20event%29%3B%0A%0A%20%20%20%20%20%20if%20%28destroyed%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20Handsontable%2EDom%2EenableImmediatePropagation%28event%29%3B%0A%0A%20%20%20%20%20%20if%20%28event%2EisImmediatePropagationStopped%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20priv%2ElastKeyCode%20%3D%20event%2EkeyCode%3B%0A%0A%20%20%20%20%20%20if%20%28%21selection%2EisSelected%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20catch%20CTRL%20but%20not%20right%20ALT%20%28which%20in%20some%20systems%20triggers%20ALT%2BCTRL%29%0A%20%20%20%20%20%20ctrlDown%20%3D%20%28event%2EctrlKey%20%7C%7C%20event%2EmetaKey%29%20%26%26%20%21event%2EaltKey%3B%0A%0A%20%20%20%20%20%20if%20%28activeEditor%20%26%26%20%21activeEditor%2EisWaiting%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21Handsontable%2Ehelper%2EisMetaKey%28event%2EkeyCode%29%20%26%26%20%21ctrlDown%20%26%26%20%21%5Fthis%2EisEditorOpened%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2EopenEditor%28%22%22%2C%20event%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20rangeModifier%20%3D%20event%2EshiftKey%20%3F%20selection%2EsetRangeEnd%20%3A%20selection%2EsetRangeStart%3B%0A%0A%20%20%20%20%20%20switch%20%28event%2EkeyCode%29%20%7B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EA%3A%0A%20%20%20%20%20%20%20%20%20%20if%20%28ctrlDown%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20selection%2EselectAll%28%29%3B%20%2F%2Fselect%20all%20cells%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EARROW%5FUP%3A%0A%20%20%20%20%20%20%20%20%20%20if%20%28%5Fthis%2EisEditorOpened%28%29%20%26%26%20activeEditor%20%26%26%20%21activeEditor%2EisWaiting%28%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Fthis%2EcloseEditorAndSaveChanges%28ctrlDown%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20moveSelectionUp%28event%2EshiftKey%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%20%2F%2Frequired%20by%20HandsontableEditor%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EARROW%5FDOWN%3A%0A%20%20%20%20%20%20%20%20%20%20if%20%28%5Fthis%2EisEditorOpened%28%29%20%26%26%20activeEditor%20%26%26%20%21activeEditor%2EisWaiting%28%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Fthis%2EcloseEditorAndSaveChanges%28ctrlDown%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20moveSelectionDown%28event%2EshiftKey%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%20%2F%2Frequired%20by%20HandsontableEditor%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EARROW%5FRIGHT%3A%0A%20%20%20%20%20%20%20%20%20%20if%28%5Fthis%2EisEditorOpened%28%29%20%20%26%26%20activeEditor%20%26%26%20%21activeEditor%2EisWaiting%28%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Fthis%2EcloseEditorAndSaveChanges%28ctrlDown%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20moveSelectionRight%28event%2EshiftKey%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%20%2F%2Frequired%20by%20HandsontableEditor%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EARROW%5FLEFT%3A%0A%20%20%20%20%20%20%20%20%20%20if%28%5Fthis%2EisEditorOpened%28%29%20%26%26%20activeEditor%20%26%26%20%21activeEditor%2EisWaiting%28%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Fthis%2EcloseEditorAndSaveChanges%28ctrlDown%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20moveSelectionLeft%28event%2EshiftKey%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%20%2F%2Frequired%20by%20HandsontableEditor%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2ETAB%3A%0A%20%20%20%20%20%20%20%20%20%20var%20tabMoves%20%3D%20typeof%20priv%2Esettings%2EtabMoves%20%3D%3D%3D%20%27function%27%20%3F%20priv%2Esettings%2EtabMoves%28event%29%20%3A%20priv%2Esettings%2EtabMoves%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28event%2EshiftKey%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20selection%2EtransformStart%28%2DtabMoves%2Erow%2C%20%2DtabMoves%2Ecol%29%3B%20%2F%2Fmove%20selection%20left%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20selection%2EtransformStart%28tabMoves%2Erow%2C%20tabMoves%2Ecol%2C%20true%29%3B%20%2F%2Fmove%20selection%20right%20%28add%20a%20new%20column%20if%20needed%29%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%20%2F%2Frequired%20by%20HandsontableEditor%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EBACKSPACE%3A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EDELETE%3A%0A%20%20%20%20%20%20%20%20%20%20selection%2Eempty%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2EprepareEditor%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EF2%3A%20%2F%2A%20F2%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2EopenEditor%28null%2C%20event%29%3B%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%20%2F%2Fprevent%20Opera%20from%20opening%20Go%20to%20Page%20dialog%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EENTER%3A%20%2F%2A%20return%2Fenter%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20if%28%5Fthis%2EisEditorOpened%28%29%29%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28activeEditor%20%26%26%20activeEditor%2Estate%20%21%3D%3D%20Handsontable%2EEditorState%2EWAITING%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Fthis%2EcloseEditorAndSaveChanges%28ctrlDown%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20moveSelectionAfterEnter%28event%2EshiftKey%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28instance%2EgetSettings%28%29%2EenterBeginsEditing%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Fthis%2EopenEditor%28null%2C%20event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20moveSelectionAfterEnter%28event%2EshiftKey%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%20%2F%2Fdon%27t%20add%20newline%20to%20field%0A%20%20%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%20%2F%2Frequired%20by%20HandsontableEditor%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EESCAPE%3A%0A%20%20%20%20%20%20%20%20%20%20if%28%5Fthis%2EisEditorOpened%28%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Fthis%2EcloseEditorAndRestoreOriginalValue%28ctrlDown%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EHOME%3A%0A%20%20%20%20%20%20%20%20%20%20if%20%28event%2EctrlKey%20%7C%7C%20event%2EmetaKey%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rangeModifier%28new%20WalkontableCellCoords%280%2C%20priv%2EselRange%2Efrom%2Ecol%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rangeModifier%28new%20WalkontableCellCoords%28priv%2EselRange%2Efrom%2Erow%2C%200%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%20%2F%2Fdon%27t%20scroll%20the%20window%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%20%2F%2Frequired%20by%20HandsontableEditor%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EEND%3A%0A%20%20%20%20%20%20%20%20%20%20if%20%28event%2EctrlKey%20%7C%7C%20event%2EmetaKey%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rangeModifier%28new%20WalkontableCellCoords%28instance%2EcountRows%28%29%20%2D%201%2C%20priv%2EselRange%2Efrom%2Ecol%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rangeModifier%28new%20WalkontableCellCoords%28priv%2EselRange%2Efrom%2Erow%2C%20instance%2EcountCols%28%29%20%2D%201%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%20%2F%2Fdon%27t%20scroll%20the%20window%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%20%2F%2Frequired%20by%20HandsontableEditor%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EPAGE%5FUP%3A%0A%20%20%20%20%20%20%20%20%20%20selection%2EtransformStart%28%2Dinstance%2EcountVisibleRows%28%29%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%20%2F%2Fdon%27t%20page%20up%20the%20window%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%20%2F%2Frequired%20by%20HandsontableEditor%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20keyCodes%2EPAGE%5FDOWN%3A%0A%20%20%20%20%20%20%20%20%20%20selection%2EtransformStart%28instance%2EcountVisibleRows%28%29%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%20%2F%2Fdon%27t%20page%20down%20the%20window%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%20%2F%2Frequired%20by%20HandsontableEditor%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20init%28%29%20%7B%0A%20%20%20%20%20%20instance%2EaddHook%28%27afterDocumentKeyDown%27%2C%20onKeyDown%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28document%2EdocumentElement%2C%20%27keydown%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2ErunHooks%28%27afterDocumentKeyDown%27%2C%20event%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20function%20onDblClick%28event%2C%20coords%2C%20elem%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20may%20be%20TD%20or%20TH%0A%20%20%20%20%20%20%20%20if%20%28elem%2EnodeName%20%3D%3D%20%22TD%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2EopenEditor%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20instance%2Eview%2Ewt%2Eupdate%28%27onCellDblClick%27%2C%20onDblClick%29%3B%0A%0A%20%20%20%20%20%20instance%2EaddHook%28%27afterDestroy%27%2C%20function%28%29%7B%0A%20%20%20%20%20%20%20%20destroyed%20%3D%20true%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Destroy%20current%20editor%2C%20if%20exists%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40function%20destroyEditor%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2EEditorManager%23%0A%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20revertOriginal%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EdestroyEditor%20%3D%20function%20%28revertOriginal%29%20%7B%0A%20%20%20%20%20%20this%2EcloseEditor%28revertOriginal%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Get%20active%20editor%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40function%20getActiveEditor%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2EEditorManager%23%0A%20%20%20%20%20%2A%20%40returns%20%7B%2A%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EgetActiveEditor%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20activeEditor%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Prepare%20text%20input%20to%20be%20displayed%20at%20given%20grid%20cell%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40function%20prepareEditor%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2EEditorManager%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EprepareEditor%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20row%2C%20col%2C%20prop%2C%20td%2C%20originalValue%2C%20cellProperties%2C%20editorClass%3B%0A%0A%20%20%20%20%20%20if%20%28activeEditor%20%26%26%20activeEditor%2EisWaiting%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EcloseEditor%28false%2C%20false%2C%20function%28dataSaved%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28dataSaved%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Fthis%2EprepareEditor%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20row%20%3D%20priv%2EselRange%2Ehighlight%2Erow%3B%0A%20%20%20%20%20%20col%20%3D%20priv%2EselRange%2Ehighlight%2Ecol%3B%0A%20%20%20%20%20%20prop%20%3D%20instance%2EcolToProp%28col%29%3B%0A%20%20%20%20%20%20td%20%3D%20instance%2EgetCell%28row%2C%20col%29%3B%0A%20%20%20%20%20%20originalValue%20%3D%20instance%2EgetDataAtCell%28row%2C%20col%29%3B%0A%20%20%20%20%20%20cellProperties%20%3D%20instance%2EgetCellMeta%28row%2C%20col%29%3B%0A%20%20%20%20%20%20editorClass%20%3D%20instance%2EgetCellEditor%28cellProperties%29%3B%0A%0A%20%20%20%20%20%20if%20%28editorClass%29%20%7B%0A%20%20%20%20%20%20%20%20activeEditor%20%3D%20Handsontable%2Eeditors%2EgetEditor%28editorClass%2C%20instance%29%3B%0A%20%20%20%20%20%20%20%20activeEditor%2Eprepare%28row%2C%20col%2C%20prop%2C%20td%2C%20originalValue%2C%20cellProperties%29%3B%0A%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20activeEditor%20%3D%20void%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Check%20is%20editor%20is%20opened%2Fshowed%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40function%20isEditorOpened%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2EEditorManager%23%0A%20%20%20%20%20%2A%20%40returns%20%7BBoolean%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EisEditorOpened%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20activeEditor%20%26%26%20activeEditor%2EisOpened%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Open%20editor%20with%20initial%20value%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40function%20openEditor%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2EEditorManager%23%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20initialValue%0A%20%20%20%20%20%2A%20%40param%20%7BDOMEvent%7D%20event%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EopenEditor%20%3D%20function%20%28initialValue%2C%20event%29%20%7B%0A%20%20%20%20%20%20if%20%28activeEditor%20%26%26%20%21activeEditor%2EcellProperties%2EreadOnly%29%20%7B%0A%20%20%20%20%20%20%20%20activeEditor%2EbeginEditing%28initialValue%2C%20event%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Close%20editor%2C%20finish%20editing%20cell%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40function%20closeEditor%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2EEditorManager%23%0A%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20restoreOriginalValue%0A%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5BctrlDown%5D%0A%20%20%20%20%20%2A%20%40param%20%7BFunction%7D%20%5Bcallback%5D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EcloseEditor%20%3D%20function%20%28restoreOriginalValue%2C%20ctrlDown%2C%20callback%29%20%7B%0A%20%20%20%20%20%20if%20%28%21activeEditor%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28callback%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20callback%28false%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20activeEditor%2EfinishEditing%28restoreOriginalValue%2C%20ctrlDown%2C%20callback%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Close%20editor%20and%20save%20changes%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40function%20closeEditorAndSaveChanges%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2EEditorManager%23%0A%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20ctrlDown%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EcloseEditorAndSaveChanges%20%3D%20function%28ctrlDown%29%7B%0A%20%20%20%20%20%20return%20this%2EcloseEditor%28false%2C%20ctrlDown%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Close%20editor%20and%20restore%20original%20value%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40function%20closeEditorAndRestoreOriginalValue%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2EEditorManager%23%0A%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20ctrlDown%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EcloseEditorAndRestoreOriginalValue%20%3D%20function%28ctrlDown%29%7B%0A%20%20%20%20%20%20return%20this%2EcloseEditor%28true%2C%20ctrlDown%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20init%28%29%3B%0A%20%20%7D%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20Utility%20to%20register%20renderers%20and%20common%20namespace%20for%20keeping%20reference%20to%20all%20renderers%20classes%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0A%20%20%27use%20strict%27%3B%0A%0A%20%20var%20registeredRenderers%20%3D%20%7B%7D%3B%0A%0A%20%20Handsontable%2Erenderers%20%3D%20%7B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Registers%20renderer%20under%20given%20name%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20rendererName%0A%20%20%20%20%20%2A%20%40param%20%7BFunction%7D%20rendererFunction%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20registerRenderer%3A%20function%20%28rendererName%2C%20rendererFunction%29%20%7B%0A%20%20%20%20%20%20registeredRenderers%5BrendererName%5D%20%3D%20rendererFunction%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40param%20%7BString%7CFunction%7D%20rendererName%2FrendererFunction%0A%20%20%20%20%20%2A%20%40returns%20%7BFunction%7D%20rendererFunction%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20getRenderer%3A%20function%20%28rendererName%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20rendererName%20%3D%3D%20%27function%27%29%7B%0A%20%20%20%20%20%20%20%20return%20rendererName%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28typeof%20rendererName%20%21%3D%20%27string%27%29%7B%0A%20%20%20%20%20%20%20%20throw%20Error%28%27Only%20strings%20and%20functions%20can%20be%20passed%20as%20%22renderer%22%20parameter%20%27%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28%21%28rendererName%20in%20registeredRenderers%29%29%20%7B%0A%20%20%20%20%20%20%20%20throw%20Error%28%27No%20editor%20registered%20under%20name%20%22%27%20%2B%20rendererName%20%2B%20%27%22%27%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20registeredRenderers%5BrendererName%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%0A%7D%29%28Handsontable%29%3B%0A%0AHandsontable%2Ehelper%20%3D%20%7B%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20true%20if%20keyCode%20represents%20a%20printable%20character%0A%20%2A%20%40param%20%7BNumber%7D%20keyCode%0A%20%2A%20%40return%20%7BBoolean%7D%0A%20%2A%2F%0AHandsontable%2Ehelper%2EisPrintableChar%20%3D%20function%20%28keyCode%29%20%7B%0A%20%20return%20%28%28keyCode%20%3D%3D%2032%29%20%7C%7C%20%2F%2Fspace%0A%20%20%20%20%28keyCode%20%3E%3D%2048%20%26%26%20keyCode%20%3C%3D%2057%29%20%7C%7C%20%2F%2F0%2D9%0A%20%20%20%20%28keyCode%20%3E%3D%2096%20%26%26%20keyCode%20%3C%3D%20111%29%20%7C%7C%20%2F%2Fnumpad%0A%20%20%20%20%28keyCode%20%3E%3D%20186%20%26%26%20keyCode%20%3C%3D%20192%29%20%7C%7C%20%2F%2F%3B%3D%2C%2D%2E%2F%60%0A%20%20%20%20%28keyCode%20%3E%3D%20219%20%26%26%20keyCode%20%3C%3D%20222%29%20%7C%7C%20%2F%2F%5B%5D%7B%7D%5C%7C%22%27%0A%20%20%20%20keyCode%20%3E%3D%20226%20%7C%7C%20%2F%2Fspecial%20chars%20%28229%20for%20Asian%20chars%29%0A%20%20%20%20%28keyCode%20%3E%3D%2065%20%26%26%20keyCode%20%3C%3D%2090%29%29%3B%20%2F%2Fa%2Dz%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EisMetaKey%20%3D%20function%20%28keyCode%29%20%7B%0A%20%20var%20keyCodes%20%3D%20Handsontable%2Ehelper%2EkeyCode%3B%0A%20%20var%20metaKeys%20%3D%20%5B%0A%20%20%20%20keyCodes%2EARROW%5FDOWN%2C%0A%20%20%20%20keyCodes%2EARROW%5FUP%2C%0A%20%20%20%20keyCodes%2EARROW%5FLEFT%2C%0A%20%20%20%20keyCodes%2EARROW%5FRIGHT%2C%0A%20%20%20%20keyCodes%2EHOME%2C%0A%20%20%20%20keyCodes%2EEND%2C%0A%20%20%20%20keyCodes%2EDELETE%2C%0A%20%20%20%20keyCodes%2EBACKSPACE%2C%0A%20%20%20%20keyCodes%2EF1%2C%0A%20%20%20%20keyCodes%2EF2%2C%0A%20%20%20%20keyCodes%2EF3%2C%0A%20%20%20%20keyCodes%2EF4%2C%0A%20%20%20%20keyCodes%2EF5%2C%0A%20%20%20%20keyCodes%2EF6%2C%0A%20%20%20%20keyCodes%2EF7%2C%0A%20%20%20%20keyCodes%2EF8%2C%0A%20%20%20%20keyCodes%2EF9%2C%0A%20%20%20%20keyCodes%2EF10%2C%0A%20%20%20%20keyCodes%2EF11%2C%0A%20%20%20%20keyCodes%2EF12%2C%0A%20%20%20%20keyCodes%2ETAB%2C%0A%20%20%20%20keyCodes%2EPAGE%5FDOWN%2C%0A%20%20%20%20keyCodes%2EPAGE%5FUP%2C%0A%20%20%20%20keyCodes%2EENTER%2C%0A%20%20%20%20keyCodes%2EESCAPE%2C%0A%20%20%20%20keyCodes%2ESHIFT%2C%0A%20%20%20%20keyCodes%2ECAPS%5FLOCK%2C%0A%20%20%20%20keyCodes%2EALT%0A%20%20%5D%3B%0A%0A%20%20return%20metaKeys%2EindexOf%28keyCode%29%20%21%3D%20%2D1%3B%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EisCtrlKey%20%3D%20function%20%28keyCode%29%20%7B%0A%0A%20%20var%20keys%20%3D%20Handsontable%2Ehelper%2EkeyCode%3B%0A%0A%20%20return%20%5Bkeys%2ECONTROL%5FLEFT%2C%20224%2C%20keys%2ECOMMAND%5FLEFT%2C%20keys%2ECOMMAND%5FRIGHT%5D%2EindexOf%28keyCode%29%20%21%3D%20%2D1%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Converts%20a%20value%20to%20string%0A%20%2A%20%40param%20value%0A%20%2A%20%40return%20%7BString%7D%0A%20%2A%2F%0AHandsontable%2Ehelper%2Estringify%20%3D%20function%20%28value%29%20%7B%0A%20%20switch%20%28typeof%20value%29%20%7B%0A%20%20%20%20case%20%27string%27%3A%0A%20%20%20%20case%20%27number%27%3A%0A%20%20%20%20%20%20return%20value%20%2B%20%27%27%3B%0A%0A%20%20%20%20case%20%27object%27%3A%0A%20%20%20%20%20%20if%20%28value%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%27%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20value%2EtoString%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%27undefined%27%3A%0A%20%20%20%20%20%20return%20%27%27%3B%0A%0A%20%20%20%20default%3A%0A%20%20%20%20%20%20return%20value%2EtoString%28%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Generates%20spreadsheet%2Dlike%20column%20names%3A%20A%2C%20B%2C%20C%2C%20%2E%2E%2E%2C%20Z%2C%20AA%2C%20AB%2C%20etc%0A%20%2A%20%40param%20index%0A%20%2A%20%40returns%20%7BString%7D%0A%20%2A%2F%0AHandsontable%2Ehelper%2EspreadsheetColumnLabel%20%3D%20function%20%28index%29%20%7B%0A%20%20var%20dividend%20%3D%20index%20%2B%201%3B%0A%20%20var%20columnLabel%20%3D%20%27%27%3B%0A%20%20var%20modulo%3B%0A%20%20while%20%28dividend%20%3E%200%29%20%7B%0A%20%20%20%20modulo%20%3D%20%28dividend%20%2D%201%29%20%25%2026%3B%0A%20%20%20%20columnLabel%20%3D%20String%2EfromCharCode%2865%20%2B%20modulo%29%20%2B%20columnLabel%3B%0A%20%20%20%20dividend%20%3D%20parseInt%28%28dividend%20%2D%20modulo%29%20%2F%2026%2C%2010%29%3B%0A%20%20%7D%0A%20%20return%20columnLabel%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Creates%202D%20array%20of%20Excel%2Dlike%20values%20%22A1%22%2C%20%22A2%22%2C%20%2E%2E%2E%0A%20%2A%20%40param%20rowCount%0A%20%2A%20%40param%20colCount%0A%20%2A%20%40returns%20%7BArray%7D%0A%20%2A%2F%0AHandsontable%2Ehelper%2EcreateSpreadsheetData%20%3D%20function%28rowCount%2C%20colCount%29%20%7B%0A%20%20rowCount%20%3D%20typeof%20rowCount%20%3D%3D%3D%20%27number%27%20%3F%20rowCount%20%3A%20100%3B%0A%20%20colCount%20%3D%20typeof%20colCount%20%3D%3D%3D%20%27number%27%20%3F%20colCount%20%3A%204%3B%0A%0A%20%20var%20rows%20%3D%20%5B%5D%0A%20%20%20%20%2C%20i%0A%20%20%20%20%2C%20j%3B%0A%0A%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20rowCount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20var%20row%20%3D%20%5B%5D%3B%0A%20%20%20%20for%20%28j%20%3D%200%3B%20j%20%3C%20colCount%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20row%2Epush%28Handsontable%2Ehelper%2EspreadsheetColumnLabel%28j%29%20%2B%20%28i%20%2B%201%29%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20rows%2Epush%28row%29%3B%0A%20%20%7D%0A%20%20return%20rows%3B%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EcreateSpreadsheetObjectData%20%3D%20function%28rowCount%2C%20colCount%29%20%7B%0A%20%20rowCount%20%3D%20typeof%20rowCount%20%3D%3D%3D%20%27number%27%20%3F%20rowCount%20%3A%20100%3B%0A%20%20colCount%20%3D%20typeof%20colCount%20%3D%3D%3D%20%27number%27%20%3F%20colCount%20%3A%204%3B%0A%0A%20%20var%20rows%20%3D%20%5B%5D%0A%20%20%20%20%2C%20i%0A%20%20%20%20%2C%20j%3B%0A%0A%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20rowCount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20var%20row%20%3D%20%7B%7D%3B%0A%20%20%20%20for%20%28j%20%3D%200%3B%20j%20%3C%20colCount%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20row%5B%27prop%27%20%2B%20j%5D%20%3D%20Handsontable%2Ehelper%2EspreadsheetColumnLabel%28j%29%20%2B%20%28i%20%2B%201%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20rows%2Epush%28row%29%3B%0A%20%20%7D%0A%20%20return%20rows%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Checks%20if%20value%20of%20n%20is%20a%20numeric%20one%0A%20%2A%20http%3A%2F%2Fjsperf%2Ecom%2Fisnan%2Dvs%2Disnumeric%2F4%0A%20%2A%20%40param%20n%0A%20%2A%20%40returns%20%7Bboolean%7D%0A%20%2A%2F%0AHandsontable%2Ehelper%2EisNumeric%20%3D%20function%20%28n%29%20%7B%0A%20%20%20%20var%20t%20%3D%20typeof%20n%3B%0A%20%20%20%20return%20t%20%3D%3D%20%27number%27%20%3F%20%21isNaN%28n%29%20%26%26%20isFinite%28n%29%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20t%20%3D%3D%20%27string%27%20%3F%20%21n%2Elength%20%3F%20false%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20n%2Elength%20%3D%3D%201%20%3F%20%2F%5Cd%2F%2Etest%28n%29%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%2F%5E%5Cs%2A%5B%2B%2D%5D%3F%5Cs%2A%28%3F%3A%28%3F%3A%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%28%3F%3Ae%5B%2B%2D%5D%3F%5Cd%2B%29%3F%29%7C%28%3F%3A0x%5Ba%2Df%5Cd%5D%2B%29%29%5Cs%2A%24%2Fi%2Etest%28n%29%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20t%20%3D%3D%20%27object%27%20%3F%20%21%21n%20%26%26%20typeof%20n%2EvalueOf%28%29%20%3D%3D%20%22number%22%20%26%26%20%21%28n%20instanceof%20Date%29%20%3A%20false%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Generates%20a%20random%20hex%20string%2E%20Used%20as%20namespace%20for%20Handsontable%20instance%20events%2E%0A%20%2A%20%40return%20%7BString%7D%20%2D%2016%20character%20random%20string%3A%20%2292b1bfc74ec4%22%0A%20%2A%2F%0AHandsontable%2Ehelper%2ErandomString%20%3D%20function%20%28%29%20%7B%0A%20%20return%20walkontableRandomString%28%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Inherit%20without%20without%20calling%20parent%20constructor%2C%20and%20setting%20%60Child%2Eprototype%2Econstructor%60%20to%20%60Child%60%20instead%20of%20%60Parent%60%2E%0A%20%2A%20Creates%20temporary%20dummy%20function%20to%20call%20it%20as%20constructor%2E%0A%20%2A%20Described%20in%20ticket%3A%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fpull%2F516%0A%20%2A%20%40param%20%20%7BObject%7D%20Child%20%20child%20class%0A%20%2A%20%40param%20%20%7BObject%7D%20Parent%20parent%20class%0A%20%2A%20%40return%20%7BObject%7D%20%20%20%20%20%20%20%20extended%20Child%0A%20%2A%2F%0AHandsontable%2Ehelper%2Einherit%20%3D%20function%20%28Child%2C%20Parent%29%20%7B%0A%20%20Parent%2Eprototype%2Econstructor%20%3D%20Parent%3B%0A%20%20Child%2Eprototype%20%3D%20new%20Parent%28%29%3B%0A%20%20Child%2Eprototype%2Econstructor%20%3D%20Child%3B%0A%20%20return%20Child%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Perform%20shallow%20extend%20of%20a%20target%20object%20with%20extension%27s%20own%20properties%0A%20%2A%20%40param%20%7BObject%7D%20target%20An%20object%20that%20will%20receive%20the%20new%20properties%0A%20%2A%20%40param%20%7BObject%7D%20extension%20An%20object%20containing%20additional%20properties%20to%20merge%20into%20the%20target%0A%20%2A%2F%0AHandsontable%2Ehelper%2Eextend%20%3D%20function%20%28target%2C%20extension%29%20%7B%0A%20%20for%20%28var%20i%20in%20extension%29%20%7B%0A%20%20%20%20if%20%28extension%2EhasOwnProperty%28i%29%29%20%7B%0A%20%20%20%20%20%20target%5Bi%5D%20%3D%20extension%5Bi%5D%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Perform%20deep%20extend%20of%20a%20target%20object%20with%20extension%27s%20own%20properties%0A%20%2A%20%40param%20%7BObject%7D%20target%20An%20object%20that%20will%20receive%20the%20new%20properties%0A%20%2A%20%40param%20%7BObject%7D%20extension%20An%20object%20containing%20additional%20properties%20to%20merge%20into%20the%20target%0A%20%2A%2F%0AHandsontable%2Ehelper%2EdeepExtend%20%3D%20function%20%28target%2C%20extension%29%20%7B%0A%20%20for%20%28var%20key%20in%20extension%29%20%7B%0A%20%20%20%20if%20%28extension%2EhasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20%20%20if%20%28extension%5Bkey%5D%20%26%26%20typeof%20extension%5Bkey%5D%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21target%5Bkey%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28Array%2EisArray%28extension%5Bkey%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20target%5Bkey%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20target%5Bkey%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EdeepExtend%28target%5Bkey%5D%2C%20extension%5Bkey%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20target%5Bkey%5D%20%3D%20extension%5Bkey%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Perform%20deep%20clone%20of%20an%20object%0A%20%2A%20WARNING%21%20Only%20clones%20JSON%20properties%2E%20Will%20cause%20error%20when%20%60obj%60%20contains%20a%20function%2C%20Date%2C%20etc%0A%20%2A%20%40param%20%7BObject%7D%20obj%20An%20object%20that%20will%20be%20cloned%0A%20%2A%20%40return%20%7BObject%7D%0A%20%2A%2F%0AHandsontable%2Ehelper%2EdeepClone%20%3D%20function%20%28obj%29%20%7B%0A%20%20if%20%28typeof%20obj%20%3D%3D%3D%20%22object%22%29%20%7B%0A%20%20%20%20return%20JSON%2Eparse%28JSON%2Estringify%28obj%29%29%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%20obj%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Checks%20if%20two%20objects%20or%20arrays%20are%20%28deep%29%20equal%0A%20%2A%0A%20%2A%20%40param%20%7BObject%7CArray%7D%20object1%0A%20%2A%20%40param%20%7BObject%7CArray%7D%20object2%0A%20%2A%20%40returns%20%7BBoolean%7D%0A%20%2A%2F%0AHandsontable%2Ehelper%2EisObjectEquals%20%3D%20function%28object1%2C%20object2%29%20%7B%0A%20%20return%20JSON%2Estringify%28object1%29%20%3D%3D%3D%20JSON%2Estringify%28object2%29%3B%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EgetPrototypeOf%20%3D%20function%20%28obj%29%20%7B%0A%20%20var%20prototype%3B%0A%0A%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20if%28typeof%20obj%2E%5F%5Fproto%5F%5F%20%3D%3D%20%22object%22%29%7B%0A%20%20%20%20prototype%20%3D%20obj%2E%5F%5Fproto%5F%5F%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20var%20oldConstructor%2C%0A%20%20%20%20%20%20%20%20constructor%20%3D%20obj%2Econstructor%3B%0A%0A%20%20%20%20if%20%28typeof%20obj%2Econstructor%20%3D%3D%20%22function%22%29%20%7B%0A%20%20%20%20%20%20oldConstructor%20%3D%20constructor%3B%0A%0A%20%20%20%20%20%20if%20%28delete%20obj%2Econstructor%29%7B%0A%20%20%20%20%20%20%20%20constructor%20%3D%20obj%2Econstructor%3B%20%2F%2F%20get%20real%20constructor%0A%20%20%20%20%20%20%20%20obj%2Econstructor%20%3D%20oldConstructor%3B%20%2F%2F%20restore%20constructor%0A%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20prototype%20%3D%20constructor%20%3F%20constructor%2Eprototype%20%3A%20null%3B%20%2F%2F%20needed%20for%20IE%0A%0A%20%20%7D%0A%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%0A%20%20return%20prototype%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Factory%20for%20columns%20constructors%2E%0A%20%2A%20%40param%20%7BObject%7D%20GridSettings%0A%20%2A%20%40param%20%7BArray%7D%20conflictList%0A%20%2A%20%40return%20%7BObject%7D%20ColumnSettings%0A%20%2A%2F%0AHandsontable%2Ehelper%2EcolumnFactory%20%3D%20function%20%28GridSettings%2C%20conflictList%29%20%7B%0A%20%20function%20ColumnSettings%20%28%29%20%7B%7D%0A%0A%20%20Handsontable%2Ehelper%2Einherit%28ColumnSettings%2C%20GridSettings%29%3B%0A%0A%20%20%2F%2F%20Clear%20conflict%20settings%0A%20%20for%20%28var%20i%20%3D%200%2C%20len%20%3D%20conflictList%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20ColumnSettings%2Eprototype%5BconflictList%5Bi%5D%5D%20%3D%20void%200%3B%0A%20%20%7D%0A%0A%20%20return%20ColumnSettings%3B%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EtranslateRowsToColumns%20%3D%20function%20%28input%29%20%7B%0A%20%20var%20i%0A%20%20%20%20%2C%20ilen%0A%20%20%20%20%2C%20j%0A%20%20%20%20%2C%20jlen%0A%20%20%20%20%2C%20output%20%3D%20%5B%5D%0A%20%20%20%20%2C%20olen%20%3D%200%3B%0A%0A%20%20for%20%28i%20%3D%200%2C%20ilen%20%3D%20input%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20for%20%28j%20%3D%200%2C%20jlen%20%3D%20input%5Bi%5D%2Elength%3B%20j%20%3C%20jlen%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28j%20%3D%3D%20olen%29%20%7B%0A%20%20%20%20%20%20%20%20output%2Epush%28%5B%5D%29%3B%0A%20%20%20%20%20%20%20%20olen%2B%2B%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20output%5Bj%5D%2Epush%28input%5Bi%5D%5Bj%5D%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20output%3B%0A%7D%3B%0A%0AHandsontable%2Ehelper%2Eto2dArray%20%3D%20function%20%28arr%29%20%7B%0A%20%20var%20i%20%3D%200%0A%20%20%20%20%2C%20ilen%20%3D%20arr%2Elength%3B%0A%20%20while%20%28i%20%3C%20ilen%29%20%7B%0A%20%20%20%20arr%5Bi%5D%20%3D%20%5Barr%5Bi%5D%5D%3B%0A%20%20%20%20i%2B%2B%3B%0A%20%20%7D%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EextendArray%20%3D%20function%20%28arr%2C%20extension%29%20%7B%0A%20%20var%20i%20%3D%200%0A%20%20%20%20%2C%20ilen%20%3D%20extension%2Elength%3B%0A%20%20while%20%28i%20%3C%20ilen%29%20%7B%0A%20%20%20%20arr%2Epush%28extension%5Bi%5D%29%3B%0A%20%20%20%20i%2B%2B%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Determines%20if%20the%20given%20DOM%20element%20is%20an%20input%20field%2E%0A%20%2A%20Notice%3A%20By%20%27input%27%20we%20mean%20input%2C%20textarea%20and%20select%20nodes%0A%20%2A%20%40param%20element%20%2D%20DOM%20element%0A%20%2A%20%40returns%20%7Bboolean%7D%0A%20%2A%2F%0AHandsontable%2Ehelper%2EisInput%20%3D%20function%20%28element%29%20%7B%0A%20%20var%20inputs%20%3D%20%5B%27INPUT%27%2C%20%27SELECT%27%2C%20%27TEXTAREA%27%5D%3B%0A%0A%20%20return%20inputs%2EindexOf%28element%2EnodeName%29%20%3E%20%2D1%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Determines%20if%20the%20given%20DOM%20element%20is%20an%20input%20field%20placed%20OUTSIDE%20of%20HOT%2E%0A%20%2A%20Notice%3A%20By%20%27input%27%20we%20mean%20input%2C%20textarea%20and%20select%20nodes%0A%20%2A%20%40param%20element%20%2D%20DOM%20element%0A%20%2A%20%40returns%20%7Bboolean%7D%0A%20%2A%2F%0AHandsontable%2Ehelper%2EisOutsideInput%20%3D%20function%20%28element%29%20%7B%0A%20%20return%20Handsontable%2Ehelper%2EisInput%28element%29%20%26%26%20element%2EclassName%2EindexOf%28%27handsontableInput%27%29%20%3D%3D%20%2D1%3B%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EkeyCode%20%3D%20%7B%0A%20%20MOUSE%5FLEFT%3A%201%2C%0A%20%20MOUSE%5FRIGHT%3A%203%2C%0A%20%20MOUSE%5FMIDDLE%3A%202%2C%0A%20%20BACKSPACE%3A%208%2C%0A%20%20COMMA%3A%20188%2C%0A%20%20INSERT%3A%2045%2C%0A%20%20DELETE%3A%2046%2C%0A%20%20END%3A%2035%2C%0A%20%20ENTER%3A%2013%2C%0A%20%20ESCAPE%3A%2027%2C%0A%20%20CONTROL%5FLEFT%3A%2091%2C%0A%20%20COMMAND%5FLEFT%3A%2017%2C%0A%20%20COMMAND%5FRIGHT%3A%2093%2C%0A%20%20ALT%3A%2018%2C%0A%20%20HOME%3A%2036%2C%0A%20%20PAGE%5FDOWN%3A%2034%2C%0A%20%20PAGE%5FUP%3A%2033%2C%0A%20%20PERIOD%3A%20190%2C%0A%20%20SPACE%3A%2032%2C%0A%20%20SHIFT%3A%2016%2C%0A%20%20CAPS%5FLOCK%3A%2020%2C%0A%20%20TAB%3A%209%2C%0A%20%20ARROW%5FRIGHT%3A%2039%2C%0A%20%20ARROW%5FLEFT%3A%2037%2C%0A%20%20ARROW%5FUP%3A%2038%2C%0A%20%20ARROW%5FDOWN%3A%2040%2C%0A%20%20F1%3A%20112%2C%0A%20%20F2%3A%20113%2C%0A%20%20F3%3A%20114%2C%0A%20%20F4%3A%20115%2C%0A%20%20F5%3A%20116%2C%0A%20%20F6%3A%20117%2C%0A%20%20F7%3A%20118%2C%0A%20%20F8%3A%20119%2C%0A%20%20F9%3A%20120%2C%0A%20%20F10%3A%20121%2C%0A%20%20F11%3A%20122%2C%0A%20%20F12%3A%20123%2C%0A%20%20A%3A%2065%2C%0A%20%20X%3A%2088%2C%0A%20%20C%3A%2067%2C%0A%20%20V%3A%2086%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Determines%20whether%20given%20object%20is%20a%20plain%20Object%2E%0A%20%2A%20Note%3A%20String%20and%20Array%20are%20not%20plain%20Objects%0A%20%2A%20%40param%20%7B%2A%7D%20obj%0A%20%2A%20%40returns%20%7Bboolean%7D%0A%20%2A%2F%0AHandsontable%2Ehelper%2EisObject%20%3D%20function%20%28obj%29%20%7B%0A%20%20return%20Object%2Eprototype%2EtoString%2Ecall%28obj%29%20%3D%3D%20%27%5Bobject%20Object%5D%27%3B%0A%7D%3B%0A%0AHandsontable%2Ehelper%2Epivot%20%3D%20function%20%28arr%29%20%7B%0A%20%20var%20pivotedArr%20%3D%20%5B%5D%3B%0A%0A%20%20if%28%21arr%20%7C%7C%20arr%2Elength%20%3D%3D%3D%200%20%7C%7C%20%21arr%5B0%5D%20%7C%7C%20arr%5B0%5D%2Elength%20%3D%3D%3D%200%29%7B%0A%20%20%20%20return%20pivotedArr%3B%0A%20%20%7D%0A%0A%20%20var%20rowCount%20%3D%20arr%2Elength%3B%0A%20%20var%20colCount%20%3D%20arr%5B0%5D%2Elength%3B%0A%0A%20%20for%28var%20i%20%3D%200%3B%20i%20%3C%20rowCount%3B%20i%2B%2B%29%7B%0A%20%20%20%20for%28var%20j%20%3D%200%3B%20j%20%3C%20colCount%3B%20j%2B%2B%29%7B%0A%20%20%20%20%20%20if%28%21pivotedArr%5Bj%5D%29%7B%0A%20%20%20%20%20%20%20%20pivotedArr%5Bj%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20pivotedArr%5Bj%5D%5Bi%5D%20%3D%20arr%5Bi%5D%5Bj%5D%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20return%20pivotedArr%3B%0A%0A%7D%3B%0A%0AHandsontable%2Ehelper%2Eproxy%20%3D%20function%20%28fun%2C%20context%29%20%7B%0A%20%20return%20function%20%28%29%20%7B%0A%20%20%20%20return%20fun%2Eapply%28context%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Factory%20that%20produces%20a%20function%20for%20searching%20methods%20%28or%20any%20properties%29%20which%20could%20be%20defined%20directly%20in%0A%20%2A%20table%20configuration%20or%20implicitly%2C%20within%20cell%20type%20definition%2E%0A%20%2A%0A%20%2A%20For%20example%3A%20renderer%20can%20be%20defined%20explicitly%20using%20%22renderer%22%20property%20in%20column%20configuration%20or%20it%20can%20be%0A%20%2A%20defined%20implicitly%20using%20%22type%22%20property%2E%0A%20%2A%0A%20%2A%20Methods%2Fproperties%20defined%20explicitly%20always%20takes%20precedence%20over%20those%20defined%20through%20%22type%22%2E%0A%20%2A%0A%20%2A%20If%20the%20method%2Fproperty%20is%20not%20found%20in%20an%20object%2C%20searching%20is%20continued%20recursively%20through%20prototype%20chain%2C%20until%0A%20%2A%20it%20reaches%20the%20Object%2Eprototype%2E%0A%20%2A%0A%20%2A%0A%20%2A%20%40param%20methodName%20%7BString%7D%20name%20of%20the%20method%2Fproperty%20to%20search%20%28i%2Ee%2E%20%27renderer%27%2C%20%27validator%27%2C%20%27copyable%27%29%0A%20%2A%20%40param%20allowUndefined%20%7BBoolean%7D%20%5Boptional%5D%20if%20false%2C%20the%20search%20is%20continued%20if%20methodName%20has%20not%20been%20found%20in%20cell%20%22type%22%0A%20%2A%20%40returns%20%7BFunction%7D%0A%20%2A%2F%0AHandsontable%2Ehelper%2EcellMethodLookupFactory%20%3D%20function%20%28methodName%2C%20allowUndefined%29%20%7B%0A%0A%20%20allowUndefined%20%3D%20typeof%20allowUndefined%20%3D%3D%20%27undefined%27%20%3F%20true%20%3A%20allowUndefined%3B%0A%0A%20%20return%20function%20cellMethodLookup%20%28row%2C%20col%29%20%7B%0A%0A%20%20%20%20return%20%28function%20getMethodFromProperties%28properties%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28%21properties%29%7B%0A%0A%20%20%20%20%20%20%20%20return%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fmethod%20not%20found%0A%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28properties%2EhasOwnProperty%28methodName%29%20%26%26%20properties%5BmethodName%5D%20%21%3D%3D%20void%200%29%20%7B%20%2F%2Fcheck%20if%20it%20is%20own%20and%20is%20not%20empty%0A%0A%20%20%20%20%20%20%20%20return%20properties%5BmethodName%5D%3B%20%20%2F%2Fmethod%20defined%20directly%0A%0A%20%20%20%20%20%20%7D%20else%20if%20%28properties%2EhasOwnProperty%28%27type%27%29%20%26%26%20properties%2Etype%29%20%7B%20%2F%2Fcheck%20if%20it%20is%20own%20and%20is%20not%20empty%0A%0A%20%20%20%20%20%20%20%20var%20type%3B%0A%0A%20%20%20%20%20%20%20%20if%28typeof%20properties%2Etype%20%21%3D%20%27string%27%20%29%7B%0A%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%27Cell%20type%20must%20be%20a%20string%20%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20type%20%3D%20translateTypeNameToObject%28properties%2Etype%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28type%2EhasOwnProperty%28methodName%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20type%5BmethodName%5D%3B%20%2F%2Fmethod%20defined%20in%20type%2E%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28allowUndefined%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%3B%20%2F%2Fmethod%20does%20not%20defined%20in%20type%20%28eg%2E%20validator%29%2C%20returns%20undefined%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20getMethodFromProperties%28Handsontable%2Ehelper%2EgetPrototypeOf%28properties%29%29%3B%0A%0A%20%20%20%20%7D%29%28typeof%20row%20%3D%3D%20%27number%27%20%3F%20this%2EgetCellMeta%28row%2C%20col%29%20%3A%20row%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20function%20translateTypeNameToObject%28typeName%29%20%7B%0A%20%20%20%20var%20type%20%3D%20Handsontable%2EcellTypes%5BtypeName%5D%3B%0A%0A%20%20%20%20if%28typeof%20type%20%3D%3D%20%27undefined%27%29%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%27You%20declared%20cell%20type%20%22%27%20%2B%20typeName%20%2B%20%27%22%20as%20a%20string%20that%20is%20not%20mapped%20to%20a%20known%20object%2E%20%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27Cell%20type%20must%20be%20an%20object%20or%20a%20string%20mapped%20to%20an%20object%20in%20Handsontable%2EcellTypes%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20type%3B%0A%20%20%7D%0A%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EisMobileBrowser%20%3D%20function%20%28userAgent%29%20%7B%0A%20%20if%28%21userAgent%29%20%7B%0A%20%20%20%20userAgent%20%3D%20navigator%2EuserAgent%3B%0A%20%20%7D%0A%20%20return%20%28%2FAndroid%7CwebOS%7CiPhone%7CiPad%7CiPod%7CBlackBerry%7CIEMobile%7COpera%20Mini%2Fi%2Etest%28userAgent%29%29%3B%0A%0A%20%20%2F%2F%20Logic%20for%20checking%20the%20specific%20mobile%20browser%0A%20%20%2F%2F%0A%20%20%2F%2A%20var%20type%20%3D%20type%20%21%3D%20void%200%20%3F%20type%2EtoLowerCase%28%29%20%3A%20%27%27%0A%20%20%20%20%2C%20result%3B%0A%20%20switch%28type%29%20%7B%0A%20%20%20%20case%20%27%27%3A%0A%20%20%20%20%20%20result%20%3D%20%28%2FAndroid%7CwebOS%7CiPhone%7CiPad%7CiPod%7CBlackBerry%7CIEMobile%7COpera%20Mini%2Fi%2Etest%28navigator%2EuserAgent%29%29%3B%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%27ipad%27%3A%0A%20%20%20%20%20%20return%20navigator%2EuserAgent%2EindexOf%28%27iPad%27%29%20%3E%20%2D1%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%27android%27%3A%0A%20%20%20%20%20%20return%20navigator%2EuserAgent%2EindexOf%28%27Android%27%29%20%3E%20%2D1%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%27windows%27%3A%0A%20%20%20%20%20%20return%20navigator%2EuserAgent%2EindexOf%28%27IEMobile%27%29%20%3E%20%2D1%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20default%3A%0A%20%20%20%20%20%20throw%20new%20Error%28%27Invalid%20isMobileBrowser%20argument%27%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%7D%20%2A%2F%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EisTouchSupported%20%3D%20function%20%28%29%20%7B%0A%20%20return%20%28%27ontouchstart%27%20in%20window%29%3B%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EstopPropagation%20%3D%20function%20%28event%29%20%7B%0A%20%20%2F%2F%20ie8%0A%20%20%2F%2Fhttp%3A%2F%2Fmsdn%2Emicrosoft%2Ecom%2Fen%2Dus%2Flibrary%2Fie%2Fff975462%28v%3Dvs%2E85%29%2Easpx%0A%20%20if%20%28typeof%20%28event%2EstopPropagation%29%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20event%2EstopPropagation%28%29%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20event%2EcancelBubble%20%3D%20true%3B%0A%20%20%7D%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EpageX%20%3D%20function%20%28event%29%20%7B%0A%20%20if%20%28event%2EpageX%29%20%7B%0A%20%20%20%20return%20event%2EpageX%3B%0A%20%20%7D%0A%0A%20%20var%20scrollLeft%20%3D%20Handsontable%2EDom%2EgetWindowScrollLeft%28%29%3B%0A%20%20var%20cursorX%20%3D%20event%2EclientX%20%2B%20scrollLeft%3B%0A%0A%20%20return%20cursorX%3B%0A%7D%3B%0A%0AHandsontable%2Ehelper%2EpageY%20%3D%20function%20%28event%29%20%7B%0A%20%20if%20%28event%2EpageY%29%20%7B%0A%20%20%20%20return%20event%2EpageY%3B%0A%20%20%7D%0A%0A%20%20var%20scrollTop%20%3D%20Handsontable%2EDom%2EgetWindowScrollTop%28%29%3B%0A%20%20var%20cursorY%20%3D%20event%2EclientY%20%2B%20scrollTop%3B%0A%0A%20%20return%20cursorY%3B%0A%7D%3B%0A%0A%0A%28function%20%28Handsontable%29%20%7B%0A%20%20%27use%20strict%27%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Utility%20class%20that%20gets%20and%20saves%20data%20from%2Fto%20the%20data%20source%20using%20mapping%20of%20columns%20numbers%20to%20object%20property%20names%0A%20%20%20%2A%20%40todo%20refactor%20arguments%20of%20methods%20getRange%2C%20getText%20to%20be%20numbers%20%28not%20objects%29%0A%20%20%20%2A%20%40todo%20remove%20priv%2C%20GridSettings%20from%20object%20constructor%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BObject%7D%20instance%20Instance%20of%20Handsontable%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20priv%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20GridSettings%20Grid%20settings%0A%20%20%20%2A%20%40util%0A%20%20%20%2A%20%40class%20Handsontable%2EDataMap%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%20%3D%20function%20%28instance%2C%20priv%2C%20GridSettings%29%20%7B%0A%20%20%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20%20%20this%2Epriv%20%3D%20priv%3B%0A%20%20%20%20this%2EGridSettings%20%3D%20GridSettings%3B%0A%20%20%20%20this%2EdataSource%20%3D%20this%2Einstance%2EgetSettings%28%29%2Edata%3B%0A%0A%20%20%20%20if%20%28this%2EdataSource%5B0%5D%29%20%7B%0A%20%20%20%20%20%20this%2EduckSchema%20%3D%20this%2ErecursiveDuckSchema%28this%2EdataSource%5B0%5D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20this%2EduckSchema%20%3D%20%7B%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2EcreateMap%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EDataMap%2Eprototype%2EDESTINATION%5FRENDERER%20%3D%201%3B%0A%20%20Handsontable%2EDataMap%2Eprototype%2EDESTINATION%5FCLIPBOARD%5FGENERATOR%20%3D%202%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40param%20%7BObject%7CArray%7D%20obj%0A%20%20%20%2A%20%40returns%20%7BObject%7CArray%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2ErecursiveDuckSchema%20%3D%20function%28obj%29%20%7B%0A%20%20%20%20var%20schema%3B%0A%0A%20%20%20%20if%20%28Array%2EisArray%28obj%29%29%20%7B%0A%20%20%20%20%20%20schema%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20schema%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20in%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28obj%2EhasOwnProperty%28i%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28obj%5Bi%5D%20%26%26%20typeof%20obj%5Bi%5D%20%3D%3D%3D%20%27object%27%20%26%26%20%21Array%2EisArray%28obj%5Bi%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20schema%5Bi%5D%20%3D%20this%2ErecursiveDuckSchema%28obj%5Bi%5D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28Array%2EisArray%28obj%5Bi%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28obj%5Bi%5D%2Elength%20%26%26%20typeof%20obj%5Bi%5D%5B0%5D%20%3D%3D%3D%20%27object%27%20%26%26%20%21Array%2EisArray%28obj%5Bi%5D%5B0%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20schema%5Bi%5D%20%3D%20%5Bthis%2ErecursiveDuckSchema%28obj%5Bi%5D%5B0%5D%29%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20schema%5Bi%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20schema%5Bi%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20schema%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40param%20%7BObject%7D%20schema%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20lastCol%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20parent%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2ErecursiveDuckColumns%20%3D%20function%20%28schema%2C%20lastCol%2C%20parent%29%20%7B%0A%20%20%20%20var%20prop%2C%20i%3B%0A%20%20%20%20if%20%28typeof%20lastCol%20%3D%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20lastCol%20%3D%200%3B%0A%20%20%20%20%20%20parent%20%3D%20%27%27%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28typeof%20schema%20%3D%3D%3D%20%22object%22%20%26%26%20%21Array%2EisArray%28schema%29%29%20%7B%0A%20%20%20%20%20%20for%20%28i%20in%20schema%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28schema%2EhasOwnProperty%28i%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28schema%5Bi%5D%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20prop%20%3D%20parent%20%2B%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EcolToPropCache%2Epush%28prop%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EpropToColCache%2Eset%28prop%2C%20lastCol%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20lastCol%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20lastCol%20%3D%20this%2ErecursiveDuckColumns%28schema%5Bi%5D%2C%20lastCol%2C%20i%20%2B%20%27%2E%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20lastCol%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EDataMap%2Eprototype%2EcreateMap%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20i%2C%20ilen%2C%20schema%20%3D%20this%2EgetSchema%28%29%3B%0A%20%20%20%20if%20%28typeof%20schema%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22trying%20to%20create%20%60columns%60%20definition%20but%20you%20didnt%27%20provide%20%60schema%60%20nor%20%60data%60%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2EcolToPropCache%20%3D%20%5B%5D%3B%0A%20%20%20%20this%2EpropToColCache%20%3D%20new%20MultiMap%28%29%3B%0A%20%20%20%20var%20columns%20%3D%20this%2Einstance%2EgetSettings%28%29%2Ecolumns%3B%0A%20%20%20%20if%20%28columns%29%20%7B%0A%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20ilen%20%3D%20columns%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%0A%20%20%20%20%20%20%20%20if%20%28typeof%20columns%5Bi%5D%2Edata%20%21%3D%20%27undefined%27%29%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EcolToPropCache%5Bi%5D%20%3D%20columns%5Bi%5D%2Edata%3B%0A%20%20%20%20%20%20%20%20%20%20this%2EpropToColCache%2Eset%28columns%5Bi%5D%2Edata%2C%20i%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20this%2ErecursiveDuckColumns%28schema%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20property%20name%20that%20corresponds%20with%20the%20given%20column%20index%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EcolToProp%20%3D%20function%20%28col%29%20%7B%0A%20%20%20%20col%20%3D%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27modifyCol%27%2C%20col%29%3B%0A%0A%20%20%20%20if%20%28this%2EcolToPropCache%20%26%26%20typeof%20this%2EcolToPropCache%5Bcol%5D%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20return%20this%2EcolToPropCache%5Bcol%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20col%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40param%20%7BObject%7D%20prop%0A%20%20%20%2A%20%40returns%20%7B%2A%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EpropToCol%20%3D%20function%20%28prop%29%20%7B%0A%20%20%20%20var%20col%3B%0A%0A%20%20%20%20if%20%28typeof%20this%2EpropToColCache%2Eget%28prop%29%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20col%20%3D%20this%2EpropToColCache%2Eget%28prop%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20col%20%3D%20prop%3B%0A%20%20%20%20%7D%0A%20%20%20%20col%20%3D%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27modifyCol%27%2C%20col%29%3B%0A%0A%20%20%20%20return%20col%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40returns%20%7BObject%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EgetSchema%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20schema%20%3D%20this%2Einstance%2EgetSettings%28%29%2EdataSchema%3B%0A%20%20%20%20if%20%28schema%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20schema%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%20schema%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20schema%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20this%2EduckSchema%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Creates%20row%20at%20the%20bottom%20of%20the%20data%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Bindex%5D%20Index%20of%20the%20row%20before%20which%20the%20new%20row%20will%20be%20inserted%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Returns%20number%20of%20created%20rows%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EcreateRow%20%3D%20function%20%28index%2C%20amount%2C%20createdAutomatically%29%20%7B%0A%20%20%20%20var%20row%0A%20%20%20%20%20%20%2C%20colCount%20%3D%20this%2Einstance%2EcountCols%28%29%0A%20%20%20%20%20%20%2C%20numberOfCreatedRows%20%3D%200%0A%20%20%20%20%20%20%2C%20currentIndex%3B%0A%0A%20%20%20%20if%20%28%21amount%29%20%7B%0A%20%20%20%20%20%20amount%20%3D%201%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28typeof%20index%20%21%3D%3D%20%27number%27%20%7C%7C%20index%20%3E%3D%20this%2Einstance%2EcountRows%28%29%29%20%7B%0A%20%20%20%20%20%20index%20%3D%20this%2Einstance%2EcountRows%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20currentIndex%20%3D%20index%3B%0A%20%20%20%20var%20maxRows%20%3D%20this%2Einstance%2EgetSettings%28%29%2EmaxRows%3B%0A%20%20%20%20while%20%28numberOfCreatedRows%20%3C%20amount%20%26%26%20this%2Einstance%2EcountRows%28%29%20%3C%20maxRows%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28this%2Einstance%2EdataType%20%3D%3D%3D%20%27array%27%29%20%7B%0A%20%20%20%20%20%20%20%20row%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20c%20%3D%200%3B%20c%20%3C%20colCount%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20row%2Epush%28null%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28this%2Einstance%2EdataType%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20row%20%3D%20this%2Einstance%2EgetSettings%28%29%2EdataSchema%28index%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20row%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EdeepExtend%28row%2C%20this%2EgetSchema%28%29%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28index%20%3D%3D%3D%20this%2Einstance%2EcountRows%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EdataSource%2Epush%28row%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20this%2EdataSource%2Esplice%28index%2C%200%2C%20row%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20numberOfCreatedRows%2B%2B%3B%0A%20%20%20%20%20%20currentIndex%2B%2B%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27afterCreateRow%27%2C%20index%2C%20numberOfCreatedRows%2C%20createdAutomatically%29%3B%0A%20%20%20%20this%2Einstance%2EforceFullRender%20%3D%20true%3B%20%2F%2Fused%20when%20data%20was%20changed%0A%0A%20%20%20%20return%20numberOfCreatedRows%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Creates%20col%20at%20the%20right%20of%20the%20data%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Bindex%5D%20Index%20of%20the%20column%20before%20which%20the%20new%20column%20will%20be%20inserted%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Bamount%5D%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%20Returns%20number%20of%20created%20columns%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EcreateCol%20%3D%20function%20%28index%2C%20amount%2C%20createdAutomatically%29%20%7B%0A%20%20%20%20if%20%28this%2Einstance%2EdataType%20%3D%3D%3D%20%27object%27%20%7C%7C%20this%2Einstance%2EgetSettings%28%29%2Ecolumns%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22Cannot%20create%20new%20column%2E%20When%20data%20source%20in%20an%20object%2C%20%22%20%2B%0A%20%20%20%20%20%20%20%20%22you%20can%20only%20have%20as%20much%20columns%20as%20defined%20in%20first%20data%20row%2C%20data%20schema%20or%20in%20the%20%27columns%27%20setting%2E%22%20%2B%0A%20%20%20%20%20%20%20%20%22If%20you%20want%20to%20be%20able%20to%20add%20new%20columns%2C%20you%20have%20to%20use%20array%20datasource%2E%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20var%20rlen%20%3D%20this%2Einstance%2EcountRows%28%29%0A%20%20%20%20%20%20%2C%20data%20%3D%20this%2EdataSource%0A%20%20%20%20%20%20%2C%20constructor%0A%20%20%20%20%20%20%2C%20numberOfCreatedCols%20%3D%200%0A%20%20%20%20%20%20%2C%20currentIndex%3B%0A%0A%20%20%20%20if%20%28%21amount%29%20%7B%0A%20%20%20%20%20%20amount%20%3D%201%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20currentIndex%20%3D%20index%3B%0A%0A%20%20%20%20var%20maxCols%20%3D%20this%2Einstance%2EgetSettings%28%29%2EmaxCols%3B%0A%20%20%20%20while%20%28numberOfCreatedCols%20%3C%20amount%20%26%26%20this%2Einstance%2EcountCols%28%29%20%3C%20maxCols%29%20%7B%0A%20%20%20%20%20%20constructor%20%3D%20Handsontable%2Ehelper%2EcolumnFactory%28this%2EGridSettings%2C%20this%2Epriv%2EcolumnsSettingConflicts%29%3B%0A%20%20%20%20%20%20if%20%28typeof%20index%20%21%3D%3D%20%27number%27%20%7C%7C%20index%20%3E%3D%20this%2Einstance%2EcountCols%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20r%20%3D%200%3B%20r%20%3C%20rlen%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20data%5Br%5D%20%3D%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20data%5Br%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20data%5Br%5D%2Epush%28null%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%2F%20Add%20new%20column%20constructor%0A%20%20%20%20%20%20%20%20this%2Epriv%2EcolumnSettings%2Epush%28constructor%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20r%20%3D%200%3B%20r%20%3C%20rlen%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20data%5Br%5D%2Esplice%28currentIndex%2C%200%2C%20null%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%2F%20Add%20new%20column%20constructor%20at%20given%20index%0A%20%20%20%20%20%20%20%20this%2Epriv%2EcolumnSettings%2Esplice%28currentIndex%2C%200%2C%20constructor%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20numberOfCreatedCols%2B%2B%3B%0A%20%20%20%20%20%20currentIndex%2B%2B%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27afterCreateCol%27%2C%20index%2C%20numberOfCreatedCols%2C%20createdAutomatically%29%3B%0A%20%20%20%20this%2Einstance%2EforceFullRender%20%3D%20true%3B%20%2F%2Fused%20when%20data%20was%20changed%0A%0A%20%20%20%20return%20numberOfCreatedCols%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Removes%20row%20from%20the%20data%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Bindex%5D%20Index%20of%20the%20row%20to%20be%20removed%2E%20If%20not%20provided%2C%20the%20last%20row%20will%20be%20removed%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Bamount%5D%20Amount%20of%20the%20rows%20to%20be%20removed%2E%20If%20not%20provided%2C%20one%20row%20will%20be%20removed%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EremoveRow%20%3D%20function%20%28index%2C%20amount%29%20%7B%0A%20%20%20%20if%20%28%21amount%29%20%7B%0A%20%20%20%20%20%20amount%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28typeof%20index%20%21%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20index%20%3D%20%2Damount%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20index%20%3D%20%28this%2Einstance%2EcountRows%28%29%20%2B%20index%29%20%25%20this%2Einstance%2EcountRows%28%29%3B%0A%0A%20%20%20%20%2F%2F%20We%20have%20to%20map%20the%20physical%20row%20ids%20to%20logical%20and%20than%20perform%20removing%20with%20%28possibly%29%20new%20row%20id%0A%20%20%20%20var%20logicRows%20%3D%20this%2EphysicalRowsToLogical%28index%2C%20amount%29%3B%0A%0A%20%20%20%20var%20actionWasNotCancelled%20%3D%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27beforeRemoveRow%27%2C%20index%2C%20amount%29%3B%0A%0A%20%20%20%20if%20%28actionWasNotCancelled%20%3D%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20data%20%3D%20this%2EdataSource%3B%0A%20%20%20%20var%20newData%20%3D%20data%2Efilter%28function%20%28row%2C%20index%29%20%7B%0A%20%20%20%20%20%20return%20logicRows%2EindexOf%28index%29%20%3D%3D%20%2D1%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20data%2Elength%20%3D%200%3B%0A%20%20%20%20Array%2Eprototype%2Epush%2Eapply%28data%2C%20newData%29%3B%0A%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27afterRemoveRow%27%2C%20index%2C%20amount%29%3B%0A%0A%20%20%20%20this%2Einstance%2EforceFullRender%20%3D%20true%3B%20%2F%2Fused%20when%20data%20was%20changed%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Removes%20column%20from%20the%20data%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Bindex%5D%20Index%20of%20the%20column%20to%20be%20removed%2E%20If%20not%20provided%2C%20the%20last%20column%20will%20be%20removed%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Bamount%5D%20Amount%20of%20the%20columns%20to%20be%20removed%2E%20If%20not%20provided%2C%20one%20column%20will%20be%20removed%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EremoveCol%20%3D%20function%20%28index%2C%20amount%29%20%7B%0A%20%20%20%20if%20%28this%2Einstance%2EdataType%20%3D%3D%3D%20%27object%27%20%7C%7C%20this%2Einstance%2EgetSettings%28%29%2Ecolumns%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22cannot%20remove%20column%20with%20object%20data%20source%20or%20columns%20option%20specified%22%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%21amount%29%20%7B%0A%20%20%20%20%20%20amount%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28typeof%20index%20%21%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20index%20%3D%20%2Damount%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20index%20%3D%20%28this%2Einstance%2EcountCols%28%29%20%2B%20index%29%20%25%20this%2Einstance%2EcountCols%28%29%3B%0A%0A%20%20%20%20var%20actionWasNotCancelled%20%3D%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27beforeRemoveCol%27%2C%20index%2C%20amount%29%3B%0A%0A%20%20%20%20if%20%28actionWasNotCancelled%20%3D%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20data%20%3D%20this%2EdataSource%3B%0A%20%20%20%20for%20%28var%20r%20%3D%200%2C%20rlen%20%3D%20this%2Einstance%2EcountRows%28%29%3B%20r%20%3C%20rlen%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20data%5Br%5D%2Esplice%28index%2C%20amount%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2Epriv%2EcolumnSettings%2Esplice%28index%2C%20amount%29%3B%0A%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27afterRemoveCol%27%2C%20index%2C%20amount%29%3B%0A%20%20%20%20this%2Einstance%2EforceFullRender%20%3D%20true%3B%20%2F%2Fused%20when%20data%20was%20changed%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Add%2FRemoves%20data%20from%20the%20column%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%20Index%20of%20column%20in%20which%20do%20you%20want%20to%20do%20splice%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20index%20Index%20at%20which%20to%20start%20changing%20the%20array%2E%20If%20negative%2C%20will%20begin%20that%20many%20elements%20from%20the%20end%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%20An%20integer%20indicating%20the%20number%20of%20old%20array%20elements%20to%20remove%2E%20If%20amount%20is%200%2C%20no%20elements%20are%20removed%0A%20%20%20%2A%20%40returns%20%7BArray%7D%20Returns%20removed%20portion%20of%20columns%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EspliceCol%20%3D%20function%20%28col%2C%20index%2C%20amount%2F%2A%2C%20elements%2E%2E%2E%2A%2F%29%20%7B%0A%20%20%20%20var%20elements%20%3D%204%20%3C%3D%20arguments%2Elength%20%3F%20%5B%5D%2Eslice%2Ecall%28arguments%2C%203%29%20%3A%20%5B%5D%3B%0A%0A%20%20%20%20var%20colData%20%3D%20this%2Einstance%2EgetDataAtCol%28col%29%3B%0A%20%20%20%20var%20removed%20%3D%20colData%2Eslice%28index%2C%20index%20%2B%20amount%29%3B%0A%20%20%20%20var%20after%20%3D%20colData%2Eslice%28index%20%2B%20amount%29%3B%0A%0A%20%20%20%20Handsontable%2Ehelper%2EextendArray%28elements%2C%20after%29%3B%0A%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20while%20%28i%20%3C%20amount%29%20%7B%0A%20%20%20%20%20%20elements%2Epush%28null%29%3B%20%2F%2Fadd%20null%20in%20place%20of%20removed%20elements%0A%20%20%20%20%20%20i%2B%2B%3B%0A%20%20%20%20%7D%0A%20%20%20%20Handsontable%2Ehelper%2Eto2dArray%28elements%29%3B%0A%20%20%20%20this%2Einstance%2EpopulateFromArray%28index%2C%20col%2C%20elements%2C%20null%2C%20null%2C%20%27spliceCol%27%29%3B%0A%0A%20%20%20%20return%20removed%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Add%2FRemoves%20data%20from%20the%20row%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%20Index%20of%20row%20in%20which%20do%20you%20want%20to%20do%20splice%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20index%20Index%20at%20which%20to%20start%20changing%20the%20array%2E%20If%20negative%2C%20will%20begin%20that%20many%20elements%20from%20the%20end%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%20An%20integer%20indicating%20the%20number%20of%20old%20array%20elements%20to%20remove%2E%20If%20amount%20is%200%2C%20no%20elements%20are%20removed%0A%20%20%20%2A%20%40returns%20%7BArray%7D%20Returns%20removed%20portion%20of%20rows%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EspliceRow%20%3D%20function%20%28row%2C%20index%2C%20amount%2F%2A%2C%20elements%2E%2E%2E%2A%2F%29%20%7B%0A%20%20%20%20var%20elements%20%3D%204%20%3C%3D%20arguments%2Elength%20%3F%20%5B%5D%2Eslice%2Ecall%28arguments%2C%203%29%20%3A%20%5B%5D%3B%0A%0A%20%20%20%20var%20rowData%20%3D%20this%2Einstance%2EgetSourceDataAtRow%28row%29%3B%0A%20%20%20%20var%20removed%20%3D%20rowData%2Eslice%28index%2C%20index%20%2B%20amount%29%3B%0A%20%20%20%20var%20after%20%3D%20rowData%2Eslice%28index%20%2B%20amount%29%3B%0A%0A%20%20%20%20Handsontable%2Ehelper%2EextendArray%28elements%2C%20after%29%3B%0A%20%20%20%20var%20i%20%3D%200%3B%0A%20%20%20%20while%20%28i%20%3C%20amount%29%20%7B%0A%20%20%20%20%20%20elements%2Epush%28null%29%3B%20%2F%2Fadd%20null%20in%20place%20of%20removed%20elements%0A%20%20%20%20%20%20i%2B%2B%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2Einstance%2EpopulateFromArray%28row%2C%20index%2C%20%5Belements%5D%2C%20null%2C%20null%2C%20%27spliceRow%27%29%3B%0A%0A%20%20%20%20return%20removed%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20single%20value%20from%20the%20data%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20prop%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2Eget%20%3D%20function%20%28row%2C%20prop%29%20%7B%0A%20%20%20%20row%20%3D%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27modifyRow%27%2C%20row%29%3B%0A%0A%20%20%20%20if%20%28typeof%20prop%20%3D%3D%3D%20%27string%27%20%26%26%20prop%2EindexOf%28%27%2E%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20var%20sliced%20%3D%20prop%2Esplit%28%22%2E%22%29%3B%0A%20%20%20%20%20%20var%20out%20%3D%20this%2EdataSource%5Brow%5D%3B%0A%20%20%20%20%20%20if%20%28%21out%29%20%7B%0A%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20sliced%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20out%20%3D%20out%5Bsliced%5Bi%5D%5D%3B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20out%20%3D%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20out%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28typeof%20prop%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%20allows%20for%20interacting%20with%20complex%20structures%2C%20for%20example%0A%20%20%20%20%20%20%20%2A%20%20d3%2FjQuery%20getter%2Fsetter%20properties%3A%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%20%20%20%7Bcolumns%3A%20%5B%7B%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20%20data%3A%20function%28row%2C%20value%29%7B%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20%20%20%20if%28arguments%2Elength%20%3D%3D%3D%201%29%7B%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20%20%20%20%20%20return%20row%2Eproperty%28%29%3B%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20%20%20%20row%2Eproperty%28value%29%3B%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%2A%20%20%20%20%7D%5D%7D%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20return%20prop%28this%2EdataSource%2Eslice%28%0A%20%20%20%20%20%20%20%20row%2C%0A%20%20%20%20%20%20%20%20row%20%2B%201%0A%20%20%20%20%20%20%29%5B0%5D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20return%20this%2EdataSource%5Brow%5D%20%3F%20this%2EdataSource%5Brow%5D%5Bprop%5D%20%3A%20null%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20var%20copyableLookup%20%3D%20Handsontable%2Ehelper%2EcellMethodLookupFactory%28%27copyable%27%2C%20false%29%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20single%20value%20from%20the%20data%20array%20%28intended%20for%20clipboard%20copy%20to%20an%20external%20application%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20prop%0A%20%20%20%2A%20%40returns%20%7BString%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EgetCopyable%20%3D%20function%20%28row%2C%20prop%29%20%7B%0A%20%20%20%20if%20%28copyableLookup%2Ecall%28this%2Einstance%2C%20row%2C%20this%2EpropToCol%28prop%29%29%29%20%7B%0A%20%20%20%20%20%20return%20this%2Eget%28row%2C%20prop%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20%27%27%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Saves%20single%20value%20to%20the%20data%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20prop%0A%20%20%20%2A%20%40param%20%7BString%7D%20value%0A%20%20%20%2A%20%40param%20%7BString%7D%20%5Bsource%5D%20Source%20of%20hook%20runner%2E%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2Eset%20%3D%20function%20%28row%2C%20prop%2C%20value%2C%20source%29%20%7B%0A%20%20%20%20row%20%3D%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27modifyRow%27%2C%20row%2C%20source%20%7C%7C%20%22datamapGet%22%29%3B%0A%0A%20%20%20%20if%20%28typeof%20prop%20%3D%3D%3D%20%27string%27%20%26%26%20prop%2EindexOf%28%27%2E%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20var%20sliced%20%3D%20prop%2Esplit%28%22%2E%22%29%3B%0A%20%20%20%20%20%20var%20out%20%3D%20this%2EdataSource%5Brow%5D%3B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20sliced%2Elength%20%2D%201%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%0A%20%20%20%20%20%20%20%20if%20%28typeof%20out%5Bsliced%5Bi%5D%5D%20%3D%3D%3D%20%27undefined%27%29%7B%0A%20%20%20%20%20%20%20%20%20%20out%5Bsliced%5Bi%5D%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20out%20%3D%20out%5Bsliced%5Bi%5D%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20out%5Bsliced%5Bi%5D%5D%20%3D%20value%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28typeof%20prop%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%2F%2A%20see%20the%20%60function%60%20handler%20in%20%60get%60%20%2A%2F%0A%20%20%20%20%20%20prop%28this%2EdataSource%2Eslice%28%0A%20%20%20%20%20%20%20%20row%2C%0A%20%20%20%20%20%20%20%20row%20%2B%201%0A%20%20%20%20%20%20%29%5B0%5D%2C%20value%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20this%2EdataSource%5Brow%5D%5Bprop%5D%20%3D%20value%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20This%20ridiculous%20piece%20of%20code%20maps%20rows%20Id%20that%20are%20present%20in%20table%20data%20to%20those%20displayed%20for%20user%2E%0A%20%20%20%2A%20The%20trick%20is%2C%20the%20physical%20row%20id%20%28stored%20in%20settings%2Edata%29%20is%20not%20necessary%20the%20same%0A%20%20%20%2A%20as%20the%20logical%20%28displayed%29%20row%20id%20%28e%2Eg%2E%20when%20sorting%20is%20applied%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20index%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%0A%20%20%20%2A%20%40returns%20%7BNumber%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EphysicalRowsToLogical%20%3D%20function%20%28index%2C%20amount%29%20%7B%0A%20%20%20%20var%20totalRows%20%3D%20this%2Einstance%2EcountRows%28%29%3B%0A%20%20%20%20var%20physicRow%20%3D%20%28totalRows%20%2B%20index%29%20%25%20totalRows%3B%0A%20%20%20%20var%20logicRows%20%3D%20%5B%5D%3B%0A%20%20%20%20var%20rowsToRemove%20%3D%20amount%3B%0A%20%20%20%20var%20row%3B%0A%0A%20%20%20%20while%20%28physicRow%20%3C%20totalRows%20%26%26%20rowsToRemove%29%20%7B%0A%20%20%20%20%20%20row%20%3D%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27modifyRow%27%2C%20physicRow%29%3B%0A%20%20%20%20%20%20logicRows%2Epush%28row%29%3B%0A%0A%20%20%20%20%20%20rowsToRemove%2D%2D%3B%0A%20%20%20%20%20%20physicRow%2B%2B%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20logicRows%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Clears%20the%20data%20array%2E%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2Eclear%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20for%20%28var%20r%20%3D%200%3B%20r%20%3C%20this%2Einstance%2EcountRows%28%29%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20for%20%28var%20c%20%3D%200%3B%20c%20%3C%20this%2Einstance%2EcountCols%28%29%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Eset%28r%2C%20this%2EcolToProp%28c%29%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20the%20data%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EgetAll%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20this%2EdataSource%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20data%20range%20as%20array%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BObject%7D%20%5Bstart%5D%20Start%20selection%20position%0A%20%20%20%2A%20%40param%20%7BObject%7D%20%5Bend%5D%20End%20selection%20position%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20destination%20Destination%20of%20datamap%2Eget%0A%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EgetRange%20%3D%20function%20%28start%2C%20end%2C%20destination%29%20%7B%0A%20%20%20%20var%20r%2C%20rlen%2C%20c%2C%20clen%2C%20output%20%3D%20%5B%5D%2C%20row%3B%0A%20%20%20%20var%20getFn%20%3D%20destination%20%3D%3D%3D%20this%2EDESTINATION%5FCLIPBOARD%5FGENERATOR%20%3F%20this%2EgetCopyable%20%3A%20this%2Eget%3B%0A%20%20%20%20rlen%20%3D%20Math%2Emax%28start%2Erow%2C%20end%2Erow%29%3B%0A%20%20%20%20clen%20%3D%20Math%2Emax%28start%2Ecol%2C%20end%2Ecol%29%3B%0A%20%20%20%20for%20%28r%20%3D%20Math%2Emin%28start%2Erow%2C%20end%2Erow%29%3B%20r%20%3C%3D%20rlen%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20row%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28c%20%3D%20Math%2Emin%28start%2Ecol%2C%20end%2Ecol%29%3B%20c%20%3C%3D%20clen%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20row%2Epush%28getFn%2Ecall%28this%2C%20r%2C%20this%2EcolToProp%28c%29%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20output%2Epush%28row%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20output%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20data%20as%20text%20%28tab%20separated%20columns%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BObject%7D%20%5Bstart%5D%20Start%20selection%20position%0A%20%20%20%2A%20%40param%20%7BObject%7D%20%5Bend%5D%20End%20selection%20position%0A%20%20%20%2A%20%40returns%20%7BString%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EgetText%20%3D%20function%20%28start%2C%20end%29%20%7B%0A%20%20%20%20return%20SheetClip%2Estringify%28this%2EgetRange%28start%2C%20end%2C%20this%2EDESTINATION%5FRENDERER%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Return%20data%20as%20copyable%20text%20%28tab%20separated%20columns%20intended%20for%20clipboard%20copy%20to%20an%20external%20application%29%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BObject%7D%20%5Bstart%5D%20Start%20selection%20position%0A%20%20%20%2A%20%40param%20%7BObject%7D%20%5Bend%5D%20End%20selection%20position%0A%20%20%20%2A%20%40returns%20%7BString%7D%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EDataMap%2Eprototype%2EgetCopyableText%20%3D%20function%20%28start%2C%20end%29%20%7B%0A%20%20%20%20return%20SheetClip%2Estringify%28this%2EgetRange%28start%2C%20end%2C%20this%2EDESTINATION%5FCLIPBOARD%5FGENERATOR%29%29%3B%0A%20%20%7D%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%20%28Handsontable%29%20%7B%0A%20%20%27use%20strict%27%3B%0A%0A%20%20%2F%2A%0A%20%20%20%20Adds%20appropriate%20CSS%20class%20to%20table%20cell%2C%20based%20on%20cellProperties%0A%20%20%20%2A%2F%0A%20%20Handsontable%2Erenderers%2EcellDecorator%20%3D%20function%20%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%0A%20%20%20%20if%20%28cellProperties%2EclassName%29%20%7B%0A%20%20%20%20%20%20if%28TD%2EclassName%29%20%7B%0A%20%20%20%20%20%20%20%20TD%2EclassName%20%3D%20TD%2EclassName%20%2B%20%22%20%22%20%2B%20cellProperties%2EclassName%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20TD%2EclassName%20%3D%20cellProperties%2EclassName%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28cellProperties%2EreadOnly%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20cellProperties%2EreadOnlyCellClassName%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28cellProperties%2Evalid%20%3D%3D%3D%20false%20%26%26%20cellProperties%2EinvalidCellClassName%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20cellProperties%2EinvalidCellClassName%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28TD%2C%20cellProperties%2EinvalidCellClassName%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28cellProperties%2EwordWrap%20%3D%3D%3D%20false%20%26%26%20cellProperties%2EnoWordWrapClassName%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20cellProperties%2EnoWordWrapClassName%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%21value%20%26%26%20cellProperties%2Eplaceholder%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20cellProperties%2EplaceholderCellClassName%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20Default%20text%20renderer%0A%20%2A%20%40param%20%7BObject%7D%20instance%20Handsontable%20instance%0A%20%2A%20%40param%20%7BElement%7D%20TD%20Table%20cell%20where%20to%20render%0A%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%2A%20%40param%20%7BString%7CNumber%7D%20prop%20Row%20object%20property%20name%0A%20%2A%20%40param%20value%20Value%20to%20render%20%28remember%20to%20escape%20unsafe%20HTML%20before%20inserting%20to%20DOM%21%29%0A%20%2A%20%40param%20%7BObject%7D%20cellProperties%20Cell%20properties%20%28shared%20by%20cell%20renderer%20and%20editor%29%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0A%20%20%27use%20strict%27%3B%0A%0A%20%20var%20TextRenderer%20%3D%20function%20%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%0A%0A%20%20%20%20Handsontable%2Erenderers%2EcellDecorator%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20if%20%28%21value%20%26%26%20cellProperties%2Eplaceholder%29%20%7B%0A%20%20%20%20%20%20value%20%3D%20cellProperties%2Eplaceholder%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20escaped%20%3D%20Handsontable%2Ehelper%2Estringify%28value%29%3B%0A%0A%20%20%20%20if%28%21instance%2EgetSettings%28%29%2EtrimWhitespace%29%20%7B%0A%20%20%20%20%20%20escaped%20%3D%20escaped%2Ereplace%28%2F%20%2Fg%2C%20String%2EfromCharCode%28160%29%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28cellProperties%2ErendererTemplate%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2Eempty%28TD%29%3B%0A%20%20%20%20%20%20var%20TEMPLATE%20%3D%20document%2EcreateElement%28%27TEMPLATE%27%29%3B%0A%20%20%20%20%20%20TEMPLATE%2EsetAttribute%28%27bind%27%2C%20%27%7B%7B%7D%7D%27%29%3B%0A%20%20%20%20%20%20TEMPLATE%2EinnerHTML%20%3D%20cellProperties%2ErendererTemplate%3B%0A%20%20%20%20%20%20HTMLTemplateElement%2Edecorate%28TEMPLATE%29%3B%0A%20%20%20%20%20%20TEMPLATE%2Emodel%20%3D%20instance%2EgetSourceDataAtRow%28row%29%3B%0A%20%20%20%20%20%20TD%2EappendChild%28TEMPLATE%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EfastInnerText%28TD%2C%20escaped%29%3B%20%2F%2Fthis%20is%20faster%20than%20innerHTML%2E%20See%3A%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fwiki%2FJavaScript%2D%26%2DDOM%2Dperformance%2Dtips%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20%2F%2FHandsontable%2ETextRenderer%20%3D%20TextRenderer%3B%20%2F%2FLeft%20for%20backward%20compatibility%0A%20%20Handsontable%2Erenderers%2ETextRenderer%20%3D%20TextRenderer%3B%0A%20%20Handsontable%2Erenderers%2EregisterRenderer%28%27text%27%2C%20TextRenderer%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%20%28Handsontable%29%20%7B%0A%0A%20%20var%20clonableWRAPPER%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20clonableWRAPPER%2EclassName%20%3D%20%27htAutocompleteWrapper%27%3B%0A%0A%20%20var%20clonableARROW%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20clonableARROW%2EclassName%20%3D%20%27htAutocompleteArrow%27%3B%0A%20%20clonableARROW%2EappendChild%28document%2EcreateTextNode%28String%2EfromCharCode%289660%29%29%29%3B%20%2F%2F%20workaround%20for%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fissues%2F1946%0A%2F%2Fthis%20is%20faster%20than%20innerHTML%2E%20See%3A%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fwiki%2FJavaScript%2D%26%2DDOM%2Dperformance%2Dtips%0A%0A%20%20var%20wrapTdContentWithWrapper%20%3D%20function%28TD%2C%20WRAPPER%29%7B%0A%20%20%20%20WRAPPER%2EinnerHTML%20%3D%20TD%2EinnerHTML%3B%0A%20%20%20%20Handsontable%2EDom%2Eempty%28TD%29%3B%0A%20%20%20%20TD%2EappendChild%28WRAPPER%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Autocomplete%20renderer%0A%20%20%20%2A%20%40param%20%7BObject%7D%20instance%20Handsontable%20instance%0A%20%20%20%2A%20%40param%20%7BElement%7D%20TD%20Table%20cell%20where%20to%20render%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%2A%20%40param%20%7BString%7CNumber%7D%20prop%20Row%20object%20property%20name%0A%20%20%20%2A%20%40param%20value%20Value%20to%20render%20%28remember%20to%20escape%20unsafe%20HTML%20before%20inserting%20to%20DOM%21%29%0A%20%20%20%2A%20%40param%20%7BObject%7D%20cellProperties%20Cell%20properites%20%28shared%20by%20cell%20renderer%20and%20editor%29%0A%20%20%20%2A%2F%0A%20%20var%20AutocompleteRenderer%20%3D%20function%20%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%0A%0A%20%20%20%20var%20WRAPPER%20%3D%20clonableWRAPPER%2EcloneNode%28true%29%3B%20%2F%2Fthis%20is%20faster%20than%20createElement%0A%20%20%20%20var%20ARROW%20%3D%20clonableARROW%2EcloneNode%28true%29%3B%20%2F%2Fthis%20is%20faster%20than%20createElement%0A%0A%20%20%20%20Handsontable%2Erenderers%2ETextRenderer%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%3B%0A%0A%20%20%20%20TD%2EappendChild%28ARROW%29%3B%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20%27htAutocomplete%27%29%3B%0A%0A%0A%20%20%20%20if%20%28%21TD%2EfirstChild%29%20%7B%20%2F%2Fhttp%3A%2F%2Fjsperf%2Ecom%2Fempty%2Dnode%2Dif%2Dneeded%0A%20%20%20%20%20%20%2F%2Fotherwise%20empty%20fields%20appear%20borderless%20in%20demo%2Frenderers%2Ehtml%20%28IE%29%0A%20%20%20%20%20%20TD%2EappendChild%28document%2EcreateTextNode%28String%2EfromCharCode%28160%29%29%29%3B%20%2F%2F%20workaround%20for%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fissues%2F1946%0A%20%20%20%20%20%20%2F%2Fthis%20is%20faster%20than%20innerHTML%2E%20See%3A%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fwiki%2FJavaScript%2D%26%2DDOM%2Dperformance%2Dtips%0A%20%20%20%20%7D%0A%0A%0A%0A%20%20%20%20if%20%28%21instance%2EacArrowListener%29%20%7B%0A%20%20%20%20%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%0A%20%20%20%20%20%20%2F%2Fnot%20very%20elegant%20but%20easy%20and%20fast%0A%20%20%20%20%20%20instance%2EacArrowListener%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28Handsontable%2EDom%2EhasClass%28event%2Etarget%2C%27htAutocompleteArrow%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2Eview%2Ewt%2EgetSetting%28%27onCellDblClick%27%2C%20null%2C%20new%20WalkontableCellCoords%28row%2C%20col%29%2C%20TD%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28instance%2ErootElement%2C%27mousedown%27%2Cinstance%2EacArrowListener%29%3B%0A%0A%20%20%20%20%20%20%2F%2FWe%20need%20to%20unbind%20the%20listener%20after%20the%20table%20has%20been%20destroyed%0A%20%20%20%20%20%20instance%2EaddHookOnce%28%27afterDestroy%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20eventManager%2Eclear%28%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EAutocompleteRenderer%20%3D%20AutocompleteRenderer%3B%0A%20%20Handsontable%2Erenderers%2EAutocompleteRenderer%20%3D%20AutocompleteRenderer%3B%0A%20%20Handsontable%2Erenderers%2EregisterRenderer%28%27autocomplete%27%2C%20AutocompleteRenderer%29%3B%0A%7D%29%28Handsontable%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20Checkbox%20renderer%0A%20%2A%20%40param%20%7BObject%7D%20instance%20Handsontable%20instance%0A%20%2A%20%40param%20%7BElement%7D%20TD%20Table%20cell%20where%20to%20render%0A%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%2A%20%40param%20%7BString%7CNumber%7D%20prop%20Row%20object%20property%20name%0A%20%2A%20%40param%20value%20Value%20to%20render%20%28remember%20to%20escape%20unsafe%20HTML%20before%20inserting%20to%20DOM%21%29%0A%20%2A%20%40param%20%7BObject%7D%20cellProperties%20Cell%20properites%20%28shared%20by%20cell%20renderer%20and%20editor%29%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0A%0A%20%20%27use%20strict%27%3B%0A%0A%20%20var%20clonableINPUT%20%3D%20document%2EcreateElement%28%27INPUT%27%29%3B%0A%20%20clonableINPUT%2EclassName%20%3D%20%27htCheckboxRendererInput%27%3B%0A%20%20clonableINPUT%2Etype%20%3D%20%27checkbox%27%3B%0A%20%20clonableINPUT%2EsetAttribute%28%27autocomplete%27%2C%20%27off%27%29%3B%0A%0A%20%20var%20CheckboxRenderer%20%3D%20function%20%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%0A%0A%20%20%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%0A%20%20%20%20if%20%28typeof%20cellProperties%2EcheckedTemplate%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20cellProperties%2EcheckedTemplate%20%3D%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28typeof%20cellProperties%2EuncheckedTemplate%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20cellProperties%2EuncheckedTemplate%20%3D%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2EDom%2Eempty%28TD%29%3B%20%2F%2FTODO%20identify%20under%20what%20circumstances%20this%20line%20can%20be%20removed%0A%0A%20%20%20%20var%20INPUT%20%3D%20clonableINPUT%2EcloneNode%28false%29%3B%20%2F%2Fthis%20is%20faster%20than%20createElement%0A%0A%20%20%20%20if%20%28value%20%3D%3D%3D%20cellProperties%2EcheckedTemplate%20%7C%7C%20value%20%3D%3D%3D%20Handsontable%2Ehelper%2Estringify%28cellProperties%2EcheckedTemplate%29%29%20%7B%0A%20%20%20%20%20%20INPUT%2Echecked%20%3D%20true%3B%0A%20%20%20%20%20%20TD%2EappendChild%28INPUT%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28value%20%3D%3D%3D%20cellProperties%2EuncheckedTemplate%20%7C%7C%20value%20%3D%3D%3D%20Handsontable%2Ehelper%2Estringify%28cellProperties%2EuncheckedTemplate%29%29%20%7B%0A%20%20%20%20%20%20TD%2EappendChild%28INPUT%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28value%20%3D%3D%3D%20null%29%20%7B%20%2F%2Fdefault%20value%0A%20%20%20%20%20%20INPUT%2EclassName%20%2B%3D%20%27%20noValue%27%3B%0A%20%20%20%20%20%20TD%2EappendChild%28INPUT%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EfastInnerText%28TD%2C%20%27%23bad%20value%23%27%29%3B%20%2F%2Fthis%20is%20faster%20than%20innerHTML%2E%20See%3A%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fwiki%2FJavaScript%2D%26%2DDOM%2Dperformance%2Dtips%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28cellProperties%2EreadOnly%29%20%7B%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28INPUT%2C%27click%27%2Cfunction%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28INPUT%2C%27mousedown%27%2Cfunction%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%20%2F%2Fotherwise%20can%20confuse%20cell%20mousedown%20handler%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28INPUT%2C%27mouseup%27%2Cfunction%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%20%2F%2Fotherwise%20can%20confuse%20cell%20dblclick%20handler%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28INPUT%2C%27change%27%2Cfunction%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28this%2Echecked%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EsetDataAtRowProp%28row%2C%20prop%2C%20cellProperties%2EcheckedTemplate%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EsetDataAtRowProp%28row%2C%20prop%2C%20cellProperties%2EuncheckedTemplate%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28%21instance%2ECheckboxRenderer%20%7C%7C%20%21instance%2ECheckboxRenderer%2EbeforeKeyDownHookBound%29%7B%0A%20%20%20%20%20%20instance%2ECheckboxRenderer%20%3D%20%7B%0A%20%20%20%20%20%20%20%20beforeKeyDownHookBound%20%3A%20true%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20instance%2EaddHook%28%27beforeKeyDown%27%2C%20function%28event%29%7B%0A%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EenableImmediatePropagation%28event%29%3B%0A%0A%20%20%20%20%20%20%20%20if%28event%2EkeyCode%20%3D%3D%20Handsontable%2Ehelper%2EkeyCode%2ESPACE%20%7C%7C%20event%2EkeyCode%20%3D%3D%20Handsontable%2Ehelper%2EkeyCode%2EENTER%29%7B%0A%0A%20%20%20%20%20%20%20%20%20%20var%20cell%2C%20checkbox%2C%20cellProperties%3B%0A%0A%20%20%20%20%20%20%20%20%20%20var%20selRange%20%3D%20instance%2EgetSelectedRange%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20var%20topLeft%20%3D%20selRange%2EgetTopLeftCorner%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20var%20bottomRight%20%3D%20selRange%2EgetBottomRightCorner%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20for%28var%20row%20%3D%20topLeft%2Erow%3B%20row%20%3C%3D%20bottomRight%2Erow%3B%20row%2B%2B%20%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28var%20col%20%3D%20topLeft%2Ecol%3B%20col%20%3C%3D%20bottomRight%2Ecol%3B%20col%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cell%20%3D%20instance%2EgetCell%28row%2C%20col%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20cellProperties%20%3D%20instance%2EgetCellMeta%28row%2C%20col%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20checkbox%20%3D%20cell%2EquerySelectorAll%28%27input%5Btype%3Dcheckbox%5D%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28checkbox%2Elength%20%3E%200%20%26%26%20%21cellProperties%2EreadOnly%29%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28%21event%2EisImmediatePropagationStopped%28%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20len%20%3D%20checkbox%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20checkbox%5Bi%5D%2Echecked%20%3D%20%21checkbox%5Bi%5D%2Echecked%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20eventManager%2EfireEvent%28checkbox%5Bi%5D%2C%20%27change%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2ECheckboxRenderer%20%3D%20CheckboxRenderer%3B%0A%20%20Handsontable%2Erenderers%2ECheckboxRenderer%20%3D%20CheckboxRenderer%3B%0A%20%20Handsontable%2Erenderers%2EregisterRenderer%28%27checkbox%27%2C%20CheckboxRenderer%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20Numeric%20cell%20renderer%0A%20%2A%20%40param%20%7BObject%7D%20instance%20Handsontable%20instance%0A%20%2A%20%40param%20%7BElement%7D%20TD%20Table%20cell%20where%20to%20render%0A%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%2A%20%40param%20%7BString%7CNumber%7D%20prop%20Row%20object%20property%20name%0A%20%2A%20%40param%20value%20Value%20to%20render%20%28remember%20to%20escape%20unsafe%20HTML%20before%20inserting%20to%20DOM%21%29%0A%20%2A%20%40param%20%7BObject%7D%20cellProperties%20Cell%20properties%20%28shared%20by%20cell%20renderer%20and%20editor%29%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0A%0A%20%20%27use%20strict%27%3B%0A%0A%20%20var%20NumericRenderer%20%3D%20function%20%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%0A%20%20%20%20if%20%28Handsontable%2Ehelper%2EisNumeric%28value%29%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20cellProperties%2Elanguage%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20numeral%2Elanguage%28cellProperties%2Elanguage%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20value%20%3D%20numeral%28value%29%2Eformat%28cellProperties%2Eformat%20%7C%7C%20%270%27%29%3B%20%2F%2Fdocs%3A%20http%3A%2F%2Fnumeraljs%2Ecom%2F%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20%27htNumeric%27%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20Handsontable%2Erenderers%2ETextRenderer%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2ENumericRenderer%20%3D%20NumericRenderer%3B%20%2F%2FLeft%20for%20backward%20compatibility%20with%20versions%20prior%200%2E10%2E0%0A%20%20Handsontable%2Erenderers%2ENumericRenderer%20%3D%20NumericRenderer%3B%0A%20%20Handsontable%2Erenderers%2EregisterRenderer%28%27numeric%27%2C%20NumericRenderer%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%28Handsontable%29%7B%0A%0A%20%20%27use%20strict%27%3B%0A%0A%20%20var%20PasswordRenderer%20%3D%20function%20%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%0A%20%20%20%20Handsontable%2Erenderers%2ETextRenderer%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20value%20%3D%20TD%2EinnerHTML%3B%0A%0A%20%20%20%20var%20hash%3B%0A%20%20%20%20var%20hashLength%20%3D%20cellProperties%2EhashLength%20%7C%7C%20value%2Elength%3B%0A%20%20%20%20var%20hashSymbol%20%3D%20cellProperties%2EhashSymbol%20%7C%7C%20%27%2A%27%3B%0A%0A%20%20%20%20for%20%28hash%20%3D%20%27%27%3B%20hash%2Esplit%28hashSymbol%29%2Elength%20%2D%201%20%3C%20hashLength%3B%20hash%20%2B%3D%20hashSymbol%29%20%7B%7D%0A%0A%20%20%20%20Handsontable%2EDom%2EfastInnerHTML%28TD%2C%20hash%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EPasswordRenderer%20%3D%20PasswordRenderer%3B%0A%20%20Handsontable%2Erenderers%2EPasswordRenderer%20%3D%20PasswordRenderer%3B%0A%20%20Handsontable%2Erenderers%2EregisterRenderer%28%27password%27%2C%20PasswordRenderer%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%20%28Handsontable%29%20%7B%0A%0A%20%20function%20HtmlRenderer%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%7B%0A%0A%20%20%20%20Handsontable%2Erenderers%2EcellDecorator%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20Handsontable%2EDom%2EfastInnerHTML%28TD%2C%20value%29%3B%0A%20%20%7D%0A%0A%20%20Handsontable%2Erenderers%2EregisterRenderer%28%27html%27%2C%20HtmlRenderer%29%3B%0A%20%20Handsontable%2Erenderers%2EHtmlRenderer%20%3D%20HtmlRenderer%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%20%28Handsontable%29%20%7B%0A%20%20%27use%20strict%27%3B%0A%0A%20%20Handsontable%2EEditorState%20%3D%20%7B%0A%20%20%20%20VIRGIN%3A%20%27STATE%5FVIRGIN%27%2C%20%2F%2Fbefore%20editing%0A%20%20%20%20EDITING%3A%20%27STATE%5FEDITING%27%2C%0A%20%20%20%20WAITING%3A%20%27STATE%5FWAITING%27%2C%20%2F%2Fwaiting%20for%20async%20validation%0A%20%20%20%20FINISHED%3A%20%27STATE%5FFINISHED%27%0A%20%20%7D%3B%0A%0A%20%20function%20BaseEditor%28instance%29%20%7B%0A%20%20%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20%20%20this%2Estate%20%3D%20Handsontable%2EEditorState%2EVIRGIN%3B%0A%0A%20%20%20%20this%2E%5Fopened%20%3D%20false%3B%0A%20%20%20%20this%2E%5FcloseCallback%20%3D%20null%3B%0A%0A%20%20%20%20this%2Einit%28%29%3B%0A%20%20%7D%0A%0A%20%20BaseEditor%2Eprototype%2E%5FfireCallbacks%20%3D%20function%28result%29%20%7B%0A%20%20%20%20if%28this%2E%5FcloseCallback%29%7B%0A%20%20%20%20%20%20this%2E%5FcloseCallback%28result%29%3B%0A%20%20%20%20%20%20this%2E%5FcloseCallback%20%3D%20null%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2Einit%20%3D%20function%28%29%7B%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2EgetValue%20%3D%20function%28%29%7B%0A%20%20%20%20throw%20Error%28%27Editor%20getValue%28%29%20method%20unimplemented%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2EsetValue%20%3D%20function%28newValue%29%7B%0A%20%20%20%20throw%20Error%28%27Editor%20setValue%28%29%20method%20unimplemented%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2Eopen%20%3D%20function%28%29%7B%0A%20%20%20%20throw%20Error%28%27Editor%20open%28%29%20method%20unimplemented%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2Eclose%20%3D%20function%28%29%7B%0A%20%20%20%20throw%20Error%28%27Editor%20close%28%29%20method%20unimplemented%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2Eprepare%20%3D%20function%28row%2C%20col%2C%20prop%2C%20td%2C%20originalValue%2C%20cellProperties%29%7B%0A%20%20%20%20this%2ETD%20%3D%20td%3B%0A%20%20%20%20this%2Erow%20%3D%20row%3B%0A%20%20%20%20this%2Ecol%20%3D%20col%3B%0A%20%20%20%20this%2Eprop%20%3D%20prop%3B%0A%20%20%20%20this%2EoriginalValue%20%3D%20originalValue%3B%0A%20%20%20%20this%2EcellProperties%20%3D%20cellProperties%3B%0A%0A%20%20%20%20this%2Estate%20%3D%20Handsontable%2EEditorState%2EVIRGIN%3B%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2Eextend%20%3D%20function%28%29%7B%0A%20%20%20%20var%20baseClass%20%3D%20this%2Econstructor%3B%0A%0A%20%20%20%20function%20Editor%28%29%20%7B%0A%20%20%20%20%20%20baseClass%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20function%20inherit%28Child%2C%20Parent%29%20%7B%0A%20%20%20%20%20%20function%20Bridge%28%29%20%7B%7D%0A%20%20%20%20%20%20Bridge%2Eprototype%20%3D%20Parent%2Eprototype%3B%0A%20%20%20%20%20%20Child%2Eprototype%20%3D%20new%20Bridge%28%29%3B%0A%20%20%20%20%20%20Child%2Eprototype%2Econstructor%20%3D%20Child%3B%0A%0A%20%20%20%20%20%20return%20Child%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20inherit%28Editor%2C%20baseClass%29%3B%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2EsaveValue%20%3D%20function%20%28val%2C%20ctrlDown%29%20%7B%0A%20%20%20%20var%20sel%2C%20tmp%3B%0A%0A%20%20%20%20%2F%2F%20if%20ctrl%2Benter%20and%20multiple%20cells%20selected%2C%20behave%20like%20Excel%20%28finish%20editing%20and%20apply%20to%20all%20cells%29%0A%20%20%20%20if%20%28ctrlDown%29%20%7B%0A%20%20%20%20%20%20sel%20%3D%20this%2Einstance%2EgetSelected%28%29%3B%0A%0A%20%20%20%20%20%20if%20%28sel%5B0%5D%20%3E%20sel%5B2%5D%29%20%7B%0A%20%20%20%20%20%20%20%20tmp%20%3D%20sel%5B0%5D%3B%0A%20%20%20%20%20%20%20%20sel%5B0%5D%20%3D%20sel%5B2%5D%3B%0A%20%20%20%20%20%20%20%20sel%5B2%5D%20%3D%20tmp%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28sel%5B1%5D%20%3E%20sel%5B3%5D%29%20%7B%0A%20%20%20%20%20%20%20%20tmp%20%3D%20sel%5B1%5D%3B%0A%20%20%20%20%20%20%20%20sel%5B1%5D%20%3D%20sel%5B3%5D%3B%0A%20%20%20%20%20%20%20%20sel%5B3%5D%20%3D%20tmp%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20this%2Einstance%2EpopulateFromArray%28sel%5B0%5D%2C%20sel%5B1%5D%2C%20val%2C%20sel%5B2%5D%2C%20sel%5B3%5D%2C%20%27edit%27%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20this%2Einstance%2EpopulateFromArray%28this%2Erow%2C%20this%2Ecol%2C%20val%2C%20null%2C%20null%2C%20%27edit%27%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2EbeginEditing%20%3D%20function%28initialValue%2C%20event%29%7B%0A%20%20%20%20if%20%28this%2Estate%20%21%3D%20Handsontable%2EEditorState%2EVIRGIN%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2Einstance%2Eview%2EscrollViewport%28new%20WalkontableCellCoords%28this%2Erow%2C%20this%2Ecol%29%29%3B%0A%20%20%20%20this%2Einstance%2Eview%2Erender%28%29%3B%0A%20%20%20%20this%2Estate%20%3D%20Handsontable%2EEditorState%2EEDITING%3B%0A%0A%20%20%20%20initialValue%20%3D%20typeof%20initialValue%20%3D%3D%20%27string%27%20%3F%20initialValue%20%3A%20this%2EoriginalValue%3B%0A%20%20%20%20this%2EsetValue%28Handsontable%2Ehelper%2Estringify%28initialValue%29%29%3B%0A%0A%20%20%20%20this%2Eopen%28event%29%3B%0A%20%20%20%20this%2E%5Fopened%20%3D%20true%3B%0A%20%20%20%20this%2Efocus%28%29%3B%0A%0A%20%20%20%20%2F%2F%20only%20rerender%20the%20selections%20%28FillHandle%20should%20disappear%20when%20beginediting%20is%20triggered%29%0A%20%20%20%20this%2Einstance%2Eview%2Erender%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2EfinishEditing%20%3D%20function%20%28restoreOriginalValue%2C%20ctrlDown%2C%20callback%29%20%7B%0A%20%20%20%20var%20%5Fthis%20%3D%20this%2C%0A%20%20%20%20%20%20val%3B%0A%0A%20%20%20%20if%20%28callback%29%20%7B%0A%20%20%20%20%20%20var%20previousCloseCallback%20%3D%20this%2E%5FcloseCallback%3B%0A%0A%20%20%20%20%20%20this%2E%5FcloseCallback%20%3D%20function%20%28result%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28previousCloseCallback%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20previousCloseCallback%28result%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20callback%28result%29%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28this%2EisWaiting%28%29%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28this%2Estate%20%3D%3D%20Handsontable%2EEditorState%2EVIRGIN%29%20%7B%0A%20%20%20%20%20%20this%2Einstance%2E%5FregisterTimeout%28setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%5Fthis%2E%5FfireCallbacks%28true%29%3B%0A%20%20%20%20%20%20%7D%2C%200%29%29%3B%0A%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28this%2Estate%20%3D%3D%20Handsontable%2EEditorState%2EEDITING%29%20%7B%0A%20%20%20%20%20%20if%20%28restoreOriginalValue%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EcancelChanges%28%29%3B%0A%20%20%20%20%20%20%20%20this%2Einstance%2Eview%2Erender%28%29%3B%0A%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28this%2Einstance%2EgetSettings%28%29%2EtrimWhitespace%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20String%2Eprototype%2Etrim%20is%20defined%20in%20Walkontable%20polyfill%2Ejs%0A%20%20%20%20%20%20%20%20val%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20We%20trim%20only%20string%20values%0A%20%20%20%20%20%20%20%20%20%20%5Btypeof%20this%2EgetValue%28%29%20%3D%3D%3D%20%27string%27%20%3F%20String%2Eprototype%2Etrim%2Ecall%28this%2EgetValue%28%29%20%7C%7C%20%27%27%29%20%3A%20this%2EgetValue%28%29%5D%0A%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20val%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%5Bthis%2EgetValue%28%29%5D%0A%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20this%2Estate%20%3D%20Handsontable%2EEditorState%2EWAITING%3B%0A%20%20%20%20%20%20this%2EsaveValue%28val%2C%20ctrlDown%29%3B%0A%0A%20%20%20%20%20%20if%20%28this%2Einstance%2EgetCellValidator%28this%2EcellProperties%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Einstance%2EaddHookOnce%28%27postAfterValidate%27%2C%20function%20%28result%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2Estate%20%3D%20Handsontable%2EEditorState%2EFINISHED%3B%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2EdiscardEditor%28result%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this%2Estate%20%3D%20Handsontable%2EEditorState%2EFINISHED%3B%0A%20%20%20%20%20%20%20%20this%2EdiscardEditor%28true%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2EcancelChanges%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2Estate%20%3D%20Handsontable%2EEditorState%2EFINISHED%3B%0A%20%20%20%20this%2EdiscardEditor%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2EdiscardEditor%20%3D%20function%20%28result%29%20%7B%0A%20%20%20%20if%20%28this%2Estate%20%21%3D%3D%20Handsontable%2EEditorState%2EFINISHED%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2F%20validator%20was%20defined%20and%20failed%0A%20%20%20%20if%20%28result%20%3D%3D%3D%20false%20%26%26%20this%2EcellProperties%2EallowInvalid%20%21%3D%3D%20true%29%20%7B%0A%20%20%20%20%20%20this%2Einstance%2EselectCell%28this%2Erow%2C%20this%2Ecol%29%3B%0A%20%20%20%20%20%20this%2Efocus%28%29%3B%0A%20%20%20%20%20%20this%2Estate%20%3D%20Handsontable%2EEditorState%2EEDITING%3B%0A%20%20%20%20%20%20this%2E%5FfireCallbacks%28false%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2Eclose%28%29%3B%0A%20%20%20%20%20%20this%2E%5Fopened%20%3D%20false%3B%0A%20%20%20%20%20%20this%2Estate%20%3D%20Handsontable%2EEditorState%2EVIRGIN%3B%0A%20%20%20%20%20%20this%2E%5FfireCallbacks%28true%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2EisOpened%20%3D%20function%28%29%7B%0A%20%20%20%20return%20this%2E%5Fopened%3B%0A%20%20%7D%3B%0A%0A%20%20BaseEditor%2Eprototype%2EisWaiting%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20this%2Estate%20%3D%3D%3D%20Handsontable%2EEditorState%2EWAITING%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Eeditors%2EBaseEditor%20%3D%20BaseEditor%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%28Handsontable%29%7B%0A%20%20var%20TextEditor%20%3D%20Handsontable%2Eeditors%2EBaseEditor%2Eprototype%2Eextend%28%29%3B%0A%0A%20%20TextEditor%2Eprototype%2Einit%20%3D%20function%28%29%7B%0A%20%20%20%20var%20that%20%3D%20this%3B%0A%20%20%20%20this%2EcreateElements%28%29%3B%0A%20%20%20%20this%2EeventManager%20%3D%20new%20Handsontable%2EeventManager%28this%29%3B%0A%20%20%20%20this%2EbindEvents%28%29%3B%0A%20%20%20%20this%2EautoResize%20%3D%20autoResize%28%29%3B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterDestroy%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20that%2Edestroy%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20TextEditor%2Eprototype%2EgetValue%20%3D%20function%28%29%7B%0A%20%20%20%20return%20this%2ETEXTAREA%2Evalue%3B%0A%20%20%7D%3B%0A%0A%20%20TextEditor%2Eprototype%2EsetValue%20%3D%20function%28newValue%29%7B%0A%20%20%20%20this%2ETEXTAREA%2Evalue%20%3D%20newValue%3B%0A%20%20%7D%3B%0A%0A%20%20var%20onBeforeKeyDown%20%3D%20%20function%20onBeforeKeyDown%28event%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%2C%0A%20%20%20%20%20%20that%20%3D%20instance%2EgetActiveEditor%28%29%2C%0A%20%20%20%20%20%20keyCodes%2C%20ctrlDown%3B%0A%0A%20%20%20%20keyCodes%20%3D%20Handsontable%2Ehelper%2EkeyCode%3B%0A%20%20%20%20ctrlDown%20%3D%20%28event%2EctrlKey%20%7C%7C%20event%2EmetaKey%29%20%26%26%20%21event%2EaltKey%3B%20%2F%2Fcatch%20CTRL%20but%20not%20right%20ALT%20%28which%20in%20some%20systems%20triggers%20ALT%2BCTRL%29%0A%20%20%20%20Handsontable%2EDom%2EenableImmediatePropagation%28event%29%3B%0A%0A%20%20%20%20%2F%2FProcess%20only%20events%20that%20have%20been%20fired%20in%20the%20editor%0A%20%20%20%20if%20%28event%2Etarget%20%21%3D%3D%20that%2ETEXTAREA%20%7C%7C%20event%2EisImmediatePropagationStopped%28%29%29%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28event%2EkeyCode%20%3D%3D%3D%2017%20%7C%7C%20event%2EkeyCode%20%3D%3D%3D%20224%20%7C%7C%20event%2EkeyCode%20%3D%3D%3D%2091%20%7C%7C%20event%2EkeyCode%20%3D%3D%3D%2093%29%20%7B%0A%20%20%20%20%20%20%2F%2Fwhen%20CTRL%20or%20its%20equivalent%20is%20pressed%20and%20cell%20is%20edited%2C%20don%27t%20prepare%20selectable%20text%20in%20textarea%0A%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20switch%20%28event%2EkeyCode%29%20%7B%0A%20%20%20%20%20%20case%20keyCodes%2EARROW%5FRIGHT%3A%0A%20%20%20%20%20%20%20%20if%20%28Handsontable%2EDom%2EgetCaretPosition%28that%2ETEXTAREA%29%20%21%3D%3D%20that%2ETEXTAREA%2Evalue%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20keyCodes%2EARROW%5FLEFT%3A%20%2F%2A%20arrow%20left%20%2A%2F%0A%20%20%20%20%20%20%20%20if%20%28Handsontable%2EDom%2EgetCaretPosition%28that%2ETEXTAREA%29%20%21%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20keyCodes%2EENTER%3A%0A%20%20%20%20%20%20%20%20var%20selected%20%3D%20that%2Einstance%2EgetSelected%28%29%3B%0A%20%20%20%20%20%20%20%20var%20isMultipleSelection%20%3D%20%21%28selected%5B0%5D%20%3D%3D%3D%20selected%5B2%5D%20%26%26%20selected%5B1%5D%20%3D%3D%3D%20selected%5B3%5D%29%3B%0A%20%20%20%20%20%20%20%20if%20%28%28ctrlDown%20%26%26%20%21isMultipleSelection%29%20%7C%7C%20event%2EaltKey%29%20%7B%20%2F%2Fif%20ctrl%2Benter%20or%20alt%2Benter%2C%20add%20new%20line%0A%20%20%20%20%20%20%20%20%20%20if%28that%2EisOpened%28%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20caretPosition%20%3D%20Handsontable%2EDom%2EgetCaretPosition%28that%2ETEXTAREA%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20that%2EgetValue%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newValue%20%3D%20value%2Eslice%280%2C%20caretPosition%29%20%2B%20%27%5Cn%27%20%2B%20value%2Eslice%28caretPosition%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20that%2EsetValue%28newValue%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EsetCaretPosition%28that%2ETEXTAREA%2C%20caretPosition%20%2B%201%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20that%2EbeginEditing%28that%2EoriginalValue%20%2B%20%27%5Cn%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%20%2F%2Fdon%27t%20add%20newline%20to%20field%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20keyCodes%2EA%3A%0A%20%20%20%20%20%20case%20keyCodes%2EX%3A%0A%20%20%20%20%20%20case%20keyCodes%2EC%3A%0A%20%20%20%20%20%20case%20keyCodes%2EV%3A%0A%20%20%20%20%20%20%20%20if%28ctrlDown%29%7B%0A%20%20%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%20%2F%2FCTRL%2BA%2C%20CTRL%2BC%2C%20CTRL%2BV%2C%20CTRL%2BX%20should%20only%20work%20locally%20when%20cell%20is%20edited%20%28not%20in%20table%20context%29%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20keyCodes%2EBACKSPACE%3A%0A%20%20%20%20%20%20case%20keyCodes%2EDELETE%3A%0A%20%20%20%20%20%20case%20keyCodes%2EHOME%3A%0A%20%20%20%20%20%20case%20keyCodes%2EEND%3A%0A%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%20%2F%2Fbackspace%2C%20delete%2C%20home%2C%20end%20should%20only%20work%20locally%20when%20cell%20is%20edited%20%28not%20in%20table%20context%29%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20that%2EautoResize%2Eresize%28String%2EfromCharCode%28event%2EkeyCode%29%29%3B%0A%20%20%7D%3B%0A%0A%0A%0A%20%20TextEditor%2Eprototype%2Eopen%20%3D%20function%28%29%7B%0A%20%20%20%20this%2ErefreshDimensions%28%29%3B%20%2F%2Fneed%20it%20instantly%2C%20to%20prevent%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fissues%2F348%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%20%20%7D%3B%0A%0A%20%20TextEditor%2Eprototype%2Eclose%20%3D%20function%28%29%7B%0A%20%20%20%20this%2EtextareaParentStyle%2Edisplay%20%3D%20%27none%27%3B%0A%0A%20%20%20%20this%2EautoResize%2EunObserve%28%29%3B%0A%0A%20%20%20%20if%20%28document%2EactiveElement%20%3D%3D%3D%20this%2ETEXTAREA%29%20%7B%0A%20%20%20%20%20%20this%2Einstance%2Elisten%28%29%3B%20%2F%2Fdon%27t%20refocus%20the%20table%20if%20user%20focused%20some%20cell%20outside%20of%20HT%20on%20purpose%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Einstance%2EremoveHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%20%20%7D%3B%0A%0A%20%20TextEditor%2Eprototype%2Efocus%20%3D%20function%28%29%7B%0A%20%20%20%20this%2ETEXTAREA%2Efocus%28%29%3B%0A%20%20%20%20Handsontable%2EDom%2EsetCaretPosition%28this%2ETEXTAREA%2C%20this%2ETEXTAREA%2Evalue%2Elength%29%3B%0A%20%20%7D%3B%0A%0A%20%20TextEditor%2Eprototype%2EcreateElements%20%3D%20function%20%28%29%20%7B%0A%2F%2F%20%20%20%20this%2E%24body%20%3D%20%24%28document%2Ebody%29%3B%0A%0A%20%20%20%20this%2ETEXTAREA%20%3D%20document%2EcreateElement%28%27TEXTAREA%27%29%3B%0A%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28this%2ETEXTAREA%2C%20%27handsontableInput%27%29%3B%0A%0A%20%20%20%20this%2EtextareaStyle%20%3D%20this%2ETEXTAREA%2Estyle%3B%0A%20%20%20%20this%2EtextareaStyle%2Ewidth%20%3D%200%3B%0A%20%20%20%20this%2EtextareaStyle%2Eheight%20%3D%200%3B%0A%0A%20%20%20%20this%2ETEXTAREA%5FPARENT%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28this%2ETEXTAREA%5FPARENT%2C%20%27handsontableInputHolder%27%29%3B%0A%0A%20%20%20%20this%2EtextareaParentStyle%20%3D%20this%2ETEXTAREA%5FPARENT%2Estyle%3B%0A%20%20%20%20this%2EtextareaParentStyle%2Etop%20%3D%200%3B%0A%20%20%20%20this%2EtextareaParentStyle%2Eleft%20%3D%200%3B%0A%20%20%20%20this%2EtextareaParentStyle%2Edisplay%20%3D%20%27none%27%3B%0A%0A%20%20%20%20this%2ETEXTAREA%5FPARENT%2EappendChild%28this%2ETEXTAREA%29%3B%0A%0A%20%20%20%20this%2Einstance%2ErootElement%2EappendChild%28this%2ETEXTAREA%5FPARENT%29%3B%0A%0A%20%20%20%20var%20that%20%3D%20this%3B%0A%20%20%20%20this%2Einstance%2E%5FregisterTimeout%28setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20that%2ErefreshDimensions%28%29%3B%0A%20%20%20%20%7D%2C%200%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20TextEditor%2Eprototype%2EcheckEditorSection%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%28this%2Erow%20%3C%20this%2Einstance%2EgetSettings%28%29%2EfixedRowsTop%29%20%7B%0A%20%20%20%20%20%20if%28this%2Ecol%20%3C%20this%2Einstance%2EgetSettings%28%29%2EfixedColumnsLeft%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%27corner%27%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%27top%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if%28this%2Ecol%20%3C%20this%2Einstance%2EgetSettings%28%29%2EfixedColumnsLeft%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%27left%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20TextEditor%2Eprototype%2EgetEditedCell%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20editorSection%20%3D%20this%2EcheckEditorSection%28%29%0A%20%20%20%20%20%20%2C%20editedCell%3B%0A%0A%20%20%20%20switch%20%28editorSection%29%20%7B%0A%20%20%20%20%20%20case%20%27top%27%3A%0A%20%20%20%20%20%20%20%20editedCell%20%3D%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopOverlay%2Eclone%2EwtTable%2EgetCell%28%7Brow%3A%20this%2Erow%2C%20col%3A%20this%2Ecol%7D%29%3B%0A%20%20%20%20%20%20%20%20this%2EtextareaParentStyle%2EzIndex%20%3D%20101%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27corner%27%3A%0A%20%20%20%20%20%20%20%20editedCell%20%3D%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopLeftCornerOverlay%2Eclone%2EwtTable%2EgetCell%28%7Brow%3A%20this%2Erow%2C%20col%3A%20this%2Ecol%7D%29%3B%0A%20%20%20%20%20%20%20%20this%2EtextareaParentStyle%2EzIndex%20%3D%20103%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27left%27%3A%0A%20%20%20%20%20%20%20%20editedCell%20%3D%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2Eclone%2EwtTable%2EgetCell%28%7Brow%3A%20this%2Erow%2C%20col%3A%20this%2Ecol%7D%29%3B%0A%20%20%20%20%20%20%20%20this%2EtextareaParentStyle%2EzIndex%20%3D%20102%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20default%20%3A%0A%20%20%20%20%20%20%20%20editedCell%20%3D%20this%2Einstance%2EgetCell%28this%2Erow%2C%20this%2Ecol%29%3B%0A%20%20%20%20%20%20%20%20this%2EtextareaParentStyle%2EzIndex%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20editedCell%20%21%3D%20%2D1%20%26%26%20editedCell%20%21%3D%20%2D2%20%3F%20editedCell%20%3A%20void%200%3B%0A%20%20%7D%3B%0A%0A%0A%20%20TextEditor%2Eprototype%2ErefreshDimensions%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28this%2Estate%20%21%3D%3D%20Handsontable%2EEditorState%2EEDITING%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%2Fstart%20prepare%20textarea%20position%0A%2F%2F%20%20%20%20this%2ETD%20%3D%20this%2Einstance%2EgetCell%28this%2Erow%2C%20this%2Ecol%29%3B%0A%20%20%20%20this%2ETD%20%3D%20this%2EgetEditedCell%28%29%3B%0A%0A%20%20%20%20if%20%28%21this%2ETD%29%20%7B%0A%20%20%20%20%20%20%2F%2FTD%20is%20outside%20of%20the%20viewport%2E%20Otherwise%20throws%20exception%20when%20scrolling%20the%20table%20while%20a%20cell%20is%20edited%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2Fvar%20%24td%20%3D%20%24%28this%2ETD%29%3B%20%2F%2Fbecause%20old%20td%20may%20have%20been%20scrolled%20out%20with%20scrollViewport%0A%0A%20%20%20%20var%20currentOffset%20%3D%20Handsontable%2EDom%2Eoffset%28this%2ETD%29%2C%0A%20%20%20%20%20%20containerOffset%20%3D%20Handsontable%2EDom%2Eoffset%28this%2Einstance%2ErootElement%29%2C%0A%09%20%20scrollableContainer%20%3D%20Handsontable%2EDom%2EgetScrollableElement%28this%2ETD%29%2C%0A%20%20%20%20%20%20editTop%20%3D%20currentOffset%2Etop%20%2D%20containerOffset%2Etop%20%2D%201%20%2D%20%28scrollableContainer%2EscrollTop%20%7C%7C%200%29%2C%0A%20%20%20%20%20%20editLeft%20%3D%20currentOffset%2Eleft%20%2D%20containerOffset%2Eleft%20%2D%201%20%2D%20%28scrollableContainer%2EscrollLeft%20%7C%7C%200%29%2C%0A%0A%20%20%20%20%20%20settings%20%3D%20this%2Einstance%2EgetSettings%28%29%2C%0A%20%20%20%20%20%20rowHeadersCount%20%3D%20settings%2ErowHeaders%20%20%3F%201%20%3A%200%2C%0A%20%20%20%20%20%20colHeadersCount%20%3D%20settings%2EcolHeaders%20%20%3F%201%20%3A%200%2C%0A%20%20%20%20%20%20editorSection%20%3D%20this%2EcheckEditorSection%28%29%2C%0A%20%20%20%20%20%20backgroundColor%20%3D%20this%2ETD%2Estyle%2EbackgroundColor%2C%0A%20%20%20%20%20%20cssTransformOffset%3B%0A%0A%20%20%20%20%2F%2F%20TODO%3A%20Refactor%20this%20to%20the%20new%20instance%2EgetCell%20method%20%28from%20%23ply%2D59%29%2C%20after%200%2E12%2E1%20is%20released%0A%20%20%20%20switch%28editorSection%29%20%7B%0A%20%20%20%20%20%20case%20%27top%27%3A%0A%20%20%20%20%20%20%20%20cssTransformOffset%20%3D%20Handsontable%2EDom%2EgetCssTransform%28this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopOverlay%2Eclone%2EwtTable%2Eholder%2EparentNode%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27left%27%3A%0A%20%20%20%20%20%20%20%20cssTransformOffset%20%3D%20Handsontable%2EDom%2EgetCssTransform%28this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2Eclone%2EwtTable%2Eholder%2EparentNode%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27corner%27%3A%0A%20%20%20%20%20%20%20%20cssTransformOffset%20%3D%20Handsontable%2EDom%2EgetCssTransform%28this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopLeftCornerOverlay%2Eclone%2EwtTable%2Eholder%2EparentNode%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28editTop%20%3C%200%29%20%7B%0A%20%20%20%20%20%20editTop%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28editLeft%20%3C%200%29%20%7B%0A%20%20%20%20%20%20editLeft%20%3D%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28colHeadersCount%20%26%26%20this%2Einstance%2EgetSelected%28%29%5B0%5D%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20editTop%20%2B%3D%201%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28cssTransformOffset%20%26%26%20cssTransformOffset%20%21%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20this%2EtextareaParentStyle%5BcssTransformOffset%5B0%5D%5D%20%3D%20cssTransformOffset%5B1%5D%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EresetCssTransform%28this%2EtextareaParentStyle%29%3B%0A%20%20%20%20%7D%0A%0A%0A%0A%20%20%20%20this%2EtextareaParentStyle%2Etop%20%3D%20editTop%20%2B%20%27px%27%3B%0A%20%20%20%20this%2EtextareaParentStyle%2Eleft%20%3D%20editLeft%20%2B%20%27px%27%3B%0A%0A%20%20%20%20%2F%2F%2Fend%20prepare%20textarea%20position%0A%0A%0A%20%20%20%20var%20cellTopOffset%20%3D%20this%2ETD%2EoffsetTop%20%2D%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopOverlay%2EgetScrollPosition%28%29%2C%0A%20%20%20%20%20%20%20%20cellLeftOffset%20%3D%20this%2ETD%2EoffsetLeft%20%2D%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2EgetScrollPosition%28%29%3B%0A%0A%20%20%20%20var%20width%20%3D%20Handsontable%2EDom%2EinnerWidth%28this%2ETD%29%20%2D%208%20%20%2F%2F%24td%2Ewidth%28%29%0A%20%20%20%20%20%20%2C%20maxWidth%20%3D%20this%2Einstance%2Eview%2EmaximumVisibleElementWidth%28cellLeftOffset%29%20%2D%2010%20%2F%2F10%20is%20TEXTAREAs%20padding%0A%0A%20%20%20%20%20%20%2C%20height%20%3D%20this%2ETD%2EscrollHeight%20%2B%201%0A%20%20%20%20%20%20%2C%20maxHeight%20%3D%20this%2Einstance%2Eview%2EmaximumVisibleElementHeight%28cellTopOffset%29%20%2D%202%3B%20%2F%2F10%20is%20TEXTAREAs%20border%20and%20padding%0A%0A%20%20%20%20if%20%28parseInt%28this%2ETD%2Estyle%2EborderTopWidth%2C%2010%29%20%3E%200%29%20%7B%0A%20%20%20%20%20%20height%20%2D%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28parseInt%28this%2ETD%2Estyle%2EborderLeftWidth%2C%2010%29%20%3E%200%29%20%7B%0A%20%20%20%20%20%20if%20%28rowHeadersCount%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20width%20%2D%3D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2ETEXTAREA%2Estyle%2EfontSize%20%3D%20Handsontable%2EDom%2EgetComputedStyle%28this%2ETD%29%2EfontSize%3B%0A%20%20%20%20this%2ETEXTAREA%2Estyle%2EfontFamily%20%3D%20Handsontable%2EDom%2EgetComputedStyle%28this%2ETD%29%2EfontFamily%3B%0A%0A%20%20%20%20this%2ETEXTAREA%2Estyle%2EbackgroundColor%20%3D%20%27%27%3B%20%2F%2FRESET%20STYLE%0A%0A%20%20%20%20this%2ETEXTAREA%2Estyle%2EbackgroundColor%20%3D%20backgroundColor%20%3F%20backgroundColor%20%3A%20Handsontable%2EDom%2EgetComputedStyle%28this%2ETEXTAREA%29%2EbackgroundColor%3B%0A%0A%20%20%20%20this%2EautoResize%2Einit%28this%2ETEXTAREA%2C%20%7B%0A%20%20%20%20%20%20minHeight%3A%20Math%2Emin%28height%2C%20maxHeight%29%2C%0A%20%20%20%20%20%20maxHeight%3A%20maxHeight%2C%20%2F%2FTEXTAREA%20should%20never%20be%20wider%20than%20visible%20part%20of%20the%20viewport%20%28should%20not%20cover%20the%20scrollbar%29%0A%20%20%20%20%20%20minWidth%3A%20Math%2Emin%28width%2C%20maxWidth%29%2C%0A%20%20%20%20%20%20maxWidth%3A%20maxWidth%20%2F%2FTEXTAREA%20should%20never%20be%20wider%20than%20visible%20part%20of%20the%20viewport%20%28should%20not%20cover%20the%20scrollbar%29%0A%20%20%20%20%7D%2C%20true%29%3B%0A%0A%20%20%20%20this%2EtextareaParentStyle%2Edisplay%20%3D%20%27block%27%3B%0A%20%20%7D%3B%0A%0A%20%20TextEditor%2Eprototype%2EbindEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20editor%20%3D%20this%3B%0A%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2ETEXTAREA%2C%20%27cut%27%2Cfunction%20%28event%29%7B%0A%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2ETEXTAREA%2C%20%27paste%27%2C%20function%20%28event%29%7B%0A%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%20%20%2F%2Fevent%2EstopPropagation%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterScrollVertically%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20editor%2ErefreshDimensions%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterColumnResize%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20editor%2ErefreshDimensions%28%29%3B%0A%20%20%20%20%20%20editor%2Efocus%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterRowResize%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20editor%2ErefreshDimensions%28%29%3B%0A%20%20%20%20%20%20editor%2Efocus%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterDestroy%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20editor%2EeventManager%2Eclear%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20TextEditor%2Eprototype%2Edestroy%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2EeventManager%2Eclear%28%29%3B%0A%20%20%7D%3B%0A%0A%0A%20%20Handsontable%2Eeditors%2ETextEditor%20%3D%20TextEditor%3B%0A%20%20Handsontable%2Eeditors%2EregisterEditor%28%27text%27%2C%20Handsontable%2Eeditors%2ETextEditor%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%20%28Handsontable%29%20%7B%0A%0A%20%20var%20MobileTextEditor%20%3D%20Handsontable%2Eeditors%2EBaseEditor%2Eprototype%2Eextend%28%29%3B%0A%0A%20%20var%20domDimensionsCache%20%3D%20%7B%7D%3B%0A%0A%20%20var%20createControls%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2Econtrols%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20this%2Econtrols%2EleftButton%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20this%2Econtrols%2EleftButton%2EclassName%20%3D%20%27leftButton%27%3B%0A%20%20%20%20this%2Econtrols%2ErightButton%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20this%2Econtrols%2ErightButton%2EclassName%20%3D%20%27rightButton%27%3B%0A%20%20%20%20this%2Econtrols%2EupButton%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20this%2Econtrols%2EupButton%2EclassName%20%3D%20%27upButton%27%3B%0A%20%20%20%20this%2Econtrols%2EdownButton%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20this%2Econtrols%2EdownButton%2EclassName%20%3D%20%27downButton%27%3B%0A%0A%20%20%20%20for%20%28var%20button%20in%20this%2Econtrols%29%20%7B%0A%20%20%20%20%20%20if%20%28this%2Econtrols%2EhasOwnProperty%28button%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EpositionControls%2EappendChild%28this%2Econtrols%5Bbutton%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2EvalueChanged%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20this%2EinitValue%20%21%3D%20this%2EgetValue%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2Einit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20that%20%3D%20this%3B%0A%20%20%20%20this%2EeventManager%20%3D%20new%20Handsontable%2EeventManager%28this%2Einstance%29%3B%0A%0A%20%20%20%20this%2EcreateElements%28%29%3B%0A%20%20%20%20this%2EbindEvents%28%29%3B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterDestroy%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20that%2Edestroy%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2EgetValue%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20this%2ETEXTAREA%2Evalue%3B%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2EsetValue%20%3D%20function%20%28newValue%29%20%7B%0A%20%20%20%20this%2EinitValue%20%3D%20newValue%3B%0A%0A%20%20%20%20this%2ETEXTAREA%2Evalue%20%3D%20newValue%3B%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2EcreateElements%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2EeditorContainer%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20this%2EeditorContainer%2EclassName%20%3D%20%22htMobileEditorContainer%22%3B%0A%0A%20%20%20%20this%2EcellPointer%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20this%2EcellPointer%2EclassName%20%3D%20%22cellPointer%22%3B%0A%0A%20%20%20%20this%2EmoveHandle%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20this%2EmoveHandle%2EclassName%20%3D%20%22moveHandle%22%3B%0A%0A%20%20%20%20this%2EinputPane%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20this%2EinputPane%2EclassName%20%3D%20%22inputs%22%3B%0A%0A%20%20%20%20this%2EpositionControls%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20this%2EpositionControls%2EclassName%20%3D%20%22positionControls%22%3B%0A%0A%20%20%20%20this%2ETEXTAREA%20%3D%20document%2EcreateElement%28%27TEXTAREA%27%29%3B%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28this%2ETEXTAREA%2C%20%27handsontableInput%27%29%3B%0A%0A%20%20%20%20this%2EinputPane%2EappendChild%28this%2ETEXTAREA%29%3B%0A%0A%20%20%20%20this%2EeditorContainer%2EappendChild%28this%2EcellPointer%29%3B%0A%20%20%20%20this%2EeditorContainer%2EappendChild%28this%2EmoveHandle%29%3B%0A%20%20%20%20this%2EeditorContainer%2EappendChild%28this%2EinputPane%29%3B%0A%20%20%20%20this%2EeditorContainer%2EappendChild%28this%2EpositionControls%29%3B%0A%0A%20%20%20%20createControls%2Ecall%28this%29%3B%0A%0A%20%20%20%20document%2Ebody%2EappendChild%28this%2EeditorContainer%29%3B%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2EonBeforeKeyDown%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20that%20%3D%20instance%2EgetActiveEditor%28%29%3B%0A%0A%20%20%20%20Handsontable%2EDom%2EenableImmediatePropagation%28event%29%3B%0A%0A%20%20%20%20if%20%28event%2Etarget%20%21%3D%3D%20that%2ETEXTAREA%20%7C%7C%20event%2EisImmediatePropagationStopped%28%29%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20keyCodes%20%3D%20Handsontable%2Ehelper%2EkeyCode%3B%0A%0A%20%20%20%20switch%20%28event%2EkeyCode%29%20%7B%0A%20%20%20%20%20%20case%20keyCodes%2EENTER%3A%0A%20%20%20%20%20%20%20%20that%2Eclose%28%29%3B%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%20%2F%2Fdon%27t%20add%20newline%20to%20field%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20keyCodes%2EBACKSPACE%3A%0A%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%20%2F%2Fbackspace%2C%20delete%2C%20home%2C%20end%20should%20only%20work%20locally%20when%20cell%20is%20edited%20%28not%20in%20table%20context%29%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2Eopen%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2Einstance%2EaddHook%28%27beforeKeyDown%27%2C%20this%2EonBeforeKeyDown%29%3B%0A%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28this%2EeditorContainer%2C%20%27active%27%29%3B%0A%20%20%20%20%2F%2Fthis%2EupdateEditorDimensions%28%29%3B%0A%20%20%20%20%2F%2Fthis%2EscrollToView%28%29%3B%0A%20%20%20%20Handsontable%2EDom%2EremoveClass%28this%2EcellPointer%2C%20%27hidden%27%29%3B%0A%0A%20%20%20%20this%2EupdateEditorPosition%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2Efocus%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2ETEXTAREA%2Efocus%28%29%3B%0A%20%20%20%20Handsontable%2EDom%2EsetCaretPosition%28this%2ETEXTAREA%2C%20this%2ETEXTAREA%2Evalue%2Elength%29%3B%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2Eclose%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2ETEXTAREA%2Eblur%28%29%3B%0A%20%20%20%20this%2Einstance%2EremoveHook%28%27beforeKeyDown%27%2C%20this%2EonBeforeKeyDown%29%3B%0A%0A%20%20%20%20Handsontable%2EDom%2EremoveClass%28this%2EeditorContainer%2C%20%27active%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2EscrollToView%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20coords%20%3D%20this%2Einstance%2EgetSelectedRange%28%29%2Ehighlight%3B%0A%20%20%20%20this%2Einstance%2Eview%2EscrollViewport%28coords%29%3B%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2EhideCellPointer%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28%21Handsontable%2EDom%2EhasClass%28this%2EcellPointer%2C%20%27hidden%27%29%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28this%2EcellPointer%2C%20%27hidden%27%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2EupdateEditorPosition%20%3D%20function%20%28x%2C%20y%29%20%7B%0A%20%20%20%20if%20%28x%20%26%26%20y%29%20%7B%0A%20%20%20%20%20%20x%20%3D%20parseInt%28x%2C%2010%29%3B%0A%20%20%20%20%20%20y%20%3D%20parseInt%28y%2C%2010%29%3B%0A%0A%20%20%20%20%20%20this%2EeditorContainer%2Estyle%2Etop%20%3D%20y%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20this%2EeditorContainer%2Estyle%2Eleft%20%3D%20x%20%2B%20%22px%22%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20var%20selection%20%3D%20this%2Einstance%2EgetSelected%28%29%0A%20%20%20%20%20%20%20%20%2C%20selectedCell%20%3D%20this%2Einstance%2EgetCell%28selection%5B0%5D%2C%20selection%5B1%5D%29%3B%0A%0A%20%20%20%20%20%20%2F%2Fcache%20sizes%0A%20%20%20%20%20%20if%20%28%21domDimensionsCache%2EcellPointer%29%20%7B%0A%20%20%20%20%20%20%20%20domDimensionsCache%2EcellPointer%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20height%3A%20Handsontable%2EDom%2EouterHeight%28this%2EcellPointer%29%2C%0A%20%20%20%20%20%20%20%20%20%20width%3A%20Handsontable%2EDom%2EouterWidth%28this%2EcellPointer%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28%21domDimensionsCache%2EeditorContainer%29%20%7B%0A%20%20%20%20%20%20%20%20domDimensionsCache%2EeditorContainer%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20width%3A%20Handsontable%2EDom%2EouterWidth%28this%2EeditorContainer%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28selectedCell%20%21%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20%20%20var%20scrollLeft%20%3D%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2EtrimmingContainer%20%3D%3D%20window%20%3F%0A%20%20%20%20%20%20%20%20%20%200%20%3A%20Handsontable%2EDom%2EgetScrollLeft%28this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2Eholder%29%3B%0A%20%20%20%20%20%20%20%20var%20scrollTop%20%3D%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopOverlay%2EtrimmingContainer%20%3D%3D%20window%20%3F%0A%20%20%20%20%20%20%20%20%20%200%20%3A%20Handsontable%2EDom%2EgetScrollTop%28this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopOverlay%2Eholder%29%3B%0A%0A%20%20%20%20%20%20%20%20var%20selectedCellOffset%20%3D%20Handsontable%2EDom%2Eoffset%28selectedCell%29%0A%20%20%20%20%20%20%20%20%20%20%2C%20selectedCellWidth%20%3D%20Handsontable%2EDom%2EouterWidth%28selectedCell%29%0A%20%20%20%20%20%20%20%20%20%20%2C%20currentScrollPosition%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20scrollLeft%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20scrollTop%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20this%2EeditorContainer%2Estyle%2Etop%20%3D%20parseInt%28selectedCellOffset%2Etop%20%2B%20Handsontable%2EDom%2EouterHeight%28selectedCell%29%20%2D%0A%20%20%20%20%20%20%20%20currentScrollPosition%2Ey%20%2B%20domDimensionsCache%2EcellPointer%2Eheight%2C%2010%29%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20this%2EeditorContainer%2Estyle%2Eleft%20%3D%20parseInt%28%28window%2EinnerWidth%20%2F%202%29%20%2D%0A%20%20%20%20%20%20%20%20%28domDimensionsCache%2EeditorContainer%2Ewidth%20%2F%202%29%2C%2010%29%20%2B%20%22px%22%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28selectedCellOffset%2Eleft%20%2B%20selectedCellWidth%20%2F%202%20%3E%20parseInt%28this%2EeditorContainer%2Estyle%2Eleft%2C%2010%29%20%2B%20domDimensionsCache%2EeditorContainer%2Ewidth%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EeditorContainer%2Estyle%2Eleft%20%3D%20window%2EinnerWidth%20%2D%20domDimensionsCache%2EeditorContainer%2Ewidth%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28selectedCellOffset%2Eleft%20%2B%20selectedCellWidth%20%2F%202%20%3C%20parseInt%28this%2EeditorContainer%2Estyle%2Eleft%2C%2010%29%20%2B%2020%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EeditorContainer%2Estyle%2Eleft%20%3D%200%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20this%2EcellPointer%2Estyle%2Eleft%20%3D%20parseInt%28selectedCellOffset%2Eleft%20%2D%20%28domDimensionsCache%2EcellPointer%2Ewidth%20%2F%202%29%20%2D%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2Eoffset%28this%2EeditorContainer%29%2Eleft%20%2B%20%28selectedCellWidth%20%2F%202%29%20%2D%20currentScrollPosition%2Ex%2C%2010%29%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2F%20For%20the%20optional%20dont%2Daffect%2Deditor%2Dby%2Dzooming%20feature%3A%0A%0A%20%20%2F%2FMobileTextEditor%2Eprototype%2EupdateEditorDimensions%20%3D%20function%20%28%29%20%7B%0A%20%20%2F%2F%20%20if%28%21this%2EbeginningWindowWidth%29%20%7B%0A%20%20%2F%2F%20%20%20%20this%2EbeginningWindowWidth%20%3D%20window%2EinnerWidth%3B%0A%20%20%2F%2F%20%20%20%20this%2EbeginningEditorWidth%20%3D%20Handsontable%2EDom%2EouterWidth%28this%2EeditorContainer%29%3B%0A%20%20%2F%2F%20%20%20%20this%2EscaleRatio%20%3D%20this%2EbeginningEditorWidth%20%2F%20this%2EbeginningWindowWidth%3B%0A%20%20%2F%2F%0A%20%20%2F%2F%20%20%20%20this%2EeditorContainer%2Estyle%2Ewidth%20%3D%20this%2EbeginningEditorWidth%20%2B%20%22px%22%3B%0A%20%20%2F%2F%20%20%20%20return%3B%0A%20%20%2F%2F%20%20%7D%0A%20%20%2F%2F%0A%20%20%2F%2F%20%20var%20currentScaleRatio%20%3D%20this%2EbeginningEditorWidth%20%2F%20window%2EinnerWidth%3B%0A%20%20%2F%2F%20%20%2F%2Fif%28currentScaleRatio%20%3E%20this%2EscaleRatio%20%2B%200%2E2%20%7C%7C%20currentScaleRatio%20%3C%20this%2EscaleRatio%20%2D%200%2E2%29%20%7B%0A%20%20%2F%2F%20%20if%28currentScaleRatio%20%21%3D%20this%2EscaleRatio%29%20%7B%0A%20%20%2F%2F%20%20%20%20this%2EeditorContainer%2Estyle%5B%22zoom%22%5D%20%3D%20%281%20%2D%20%28%28currentScaleRatio%20%2A%20this%2EscaleRatio%29%20%2D%20this%2EscaleRatio%29%29%20%2A%20100%20%2B%20%22%25%22%3B%0A%20%20%2F%2F%20%20%7D%0A%20%20%2F%2F%0A%20%20%2F%2F%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2EupdateEditorData%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20selected%20%3D%20this%2Einstance%2EgetSelected%28%29%0A%20%20%20%20%20%20%2C%20selectedValue%20%3D%20this%2Einstance%2EgetDataAtCell%28selected%5B0%5D%2C%20selected%5B1%5D%29%3B%0A%0A%20%20%20%20this%2Erow%20%3D%20selected%5B0%5D%3B%0A%20%20%20%20this%2Ecol%20%3D%20selected%5B1%5D%3B%0A%20%20%20%20this%2EsetValue%28selectedValue%29%3B%0A%20%20%20%20this%2EupdateEditorPosition%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2EprepareAndSave%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20val%3B%0A%0A%20%20%20%20if%20%28%21this%2EvalueChanged%28%29%29%20%7B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28this%2Einstance%2EgetSettings%28%29%2EtrimWhitespace%29%20%7B%0A%20%20%20%20%20%20val%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%5BString%2Eprototype%2Etrim%2Ecall%28this%2EgetValue%28%29%29%5D%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20val%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%5Bthis%2EgetValue%28%29%5D%0A%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20this%2EsaveValue%28val%29%3B%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2EbindEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20that%20%3D%20this%3B%0A%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2Econtrols%2EleftButton%2C%20%22touchend%22%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20that%2EprepareAndSave%28%29%3B%0A%20%20%20%20%20%20that%2Einstance%2Eselection%2EtransformStart%280%2C%20%2D1%2C%20null%2C%20true%29%3B%0A%20%20%20%20%20%20that%2EupdateEditorData%28%29%3B%0A%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2Econtrols%2ErightButton%2C%20%22touchend%22%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20that%2EprepareAndSave%28%29%3B%0A%20%20%20%20%20%20that%2Einstance%2Eselection%2EtransformStart%280%2C%201%2C%20null%2C%20true%29%3B%0A%20%20%20%20%20%20that%2EupdateEditorData%28%29%3B%0A%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2Econtrols%2EupButton%2C%20%22touchend%22%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20that%2EprepareAndSave%28%29%3B%0A%20%20%20%20%20%20that%2Einstance%2Eselection%2EtransformStart%28%2D1%2C%200%2C%20null%2C%20true%29%3B%0A%20%20%20%20%20%20that%2EupdateEditorData%28%29%3B%0A%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2Econtrols%2EdownButton%2C%20%22touchend%22%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20that%2EprepareAndSave%28%29%3B%0A%20%20%20%20%20%20that%2Einstance%2Eselection%2EtransformStart%281%2C%200%2C%20null%2C%20true%29%3B%0A%20%20%20%20%20%20that%2EupdateEditorData%28%29%3B%0A%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2EmoveHandle%2C%20%22touchstart%22%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20if%20%28event%2Etouches%2Elength%20%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20var%20touch%20%3D%20event%2Etouches%5B0%5D%0A%20%20%20%20%20%20%20%20%20%20%2C%20onTouchPosition%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20that%2EeditorContainer%2EoffsetLeft%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20that%2EeditorContainer%2EoffsetTop%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%2C%20onTouchOffset%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20x%3A%20touch%2EpageX%20%2D%20onTouchPosition%2Ex%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20touch%2EpageY%20%2D%20onTouchPosition%2Ey%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20that%2EeventManager%2EaddEventListener%28this%2C%20%22touchmove%22%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20touch%20%3D%20event%2Etouches%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20that%2EupdateEditorPosition%28touch%2EpageX%20%2D%20onTouchOffset%2Ex%2C%20touch%2EpageY%20%2D%20onTouchOffset%2Ey%29%3B%0A%20%20%20%20%20%20%20%20%20%20that%2EhideCellPointer%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28document%2Ebody%2C%20%22touchend%22%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20if%20%28%21Handsontable%2EDom%2EisChildOf%28event%2Etarget%2C%20that%2EeditorContainer%29%20%26%26%20%21Handsontable%2EDom%2EisChildOf%28event%2Etarget%2C%20that%2Einstance%2ErootElement%29%29%20%7B%0A%20%20%20%20%20%20%20%20that%2Eclose%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2Eholder%2C%20%22scroll%22%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20if%20%28that%2Einstance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2EtrimmingContainer%20%21%3D%20window%29%20%7B%0A%20%20%20%20%20%20%20%20that%2EhideCellPointer%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopOverlay%2Eholder%2C%20%22scroll%22%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20if%20%28that%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopOverlay%2EtrimmingContainer%20%21%3D%20window%29%20%7B%0A%20%20%20%20%20%20%20%20that%2EhideCellPointer%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20MobileTextEditor%2Eprototype%2Edestroy%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2EeventManager%2Eclear%28%29%3B%0A%0A%20%20%20%20this%2EeditorContainer%2EparentNode%2EremoveChild%28this%2EeditorContainer%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Eeditors%2EMobileTextEditor%20%3D%20MobileTextEditor%3B%0A%20%20Handsontable%2Eeditors%2EregisterEditor%28%27mobile%27%2C%20Handsontable%2Eeditors%2EMobileTextEditor%29%3B%0A%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%28Handsontable%29%7B%0A%0A%20%20%2F%2FBlank%20editor%2C%20because%20all%20the%20work%20is%20done%20by%20renderer%0A%20%20var%20CheckboxEditor%20%3D%20Handsontable%2Eeditors%2EBaseEditor%2Eprototype%2Eextend%28%29%3B%0A%0A%20%20CheckboxEditor%2Eprototype%2EbeginEditing%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20checkbox%20%3D%20this%2ETD%2EquerySelector%28%27input%5Btype%3D%22checkbox%22%5D%27%29%3B%0A%0A%20%20%20%20if%20%28checkbox%29%20%7B%0A%20%20%20%20%20%20checkbox%2Eclick%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20CheckboxEditor%2Eprototype%2EfinishEditing%20%3D%20function%20%28%29%20%7B%7D%3B%0A%0A%20%20CheckboxEditor%2Eprototype%2Einit%20%3D%20function%20%28%29%20%7B%7D%3B%0A%20%20CheckboxEditor%2Eprototype%2Eopen%20%3D%20function%20%28%29%20%7B%7D%3B%0A%20%20CheckboxEditor%2Eprototype%2Eclose%20%3D%20function%20%28%29%20%7B%7D%3B%0A%20%20CheckboxEditor%2Eprototype%2EgetValue%20%3D%20function%20%28%29%20%7B%7D%3B%0A%20%20CheckboxEditor%2Eprototype%2EsetValue%20%3D%20function%20%28%29%20%7B%7D%3B%0A%20%20CheckboxEditor%2Eprototype%2Efocus%20%3D%20function%20%28%29%20%7B%7D%3B%0A%0A%20%20Handsontable%2Eeditors%2ECheckboxEditor%20%3D%20CheckboxEditor%3B%0A%20%20Handsontable%2Eeditors%2EregisterEditor%28%27checkbox%27%2C%20CheckboxEditor%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%0A%28function%20%28Handsontable%29%20%7B%0A%20%20var%20DateEditor%20%3D%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Eextend%28%29%3B%0A%0A%20%20DateEditor%2Eprototype%2Einit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28typeof%20moment%20%21%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22You%20need%20to%20include%20moment%2Ejs%20to%20your%20project%2E%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28typeof%20Pikaday%20%21%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22You%20need%20to%20include%20Pikaday%20to%20your%20project%2E%22%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Einit%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20this%2EisCellEdited%20%3D%20false%3B%0A%20%20%20%20var%20that%20%3D%20this%3B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterDestroy%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20that%2EparentDestroyed%20%3D%20true%3B%0A%20%20%20%20%20%20that%2EdestroyElements%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20DateEditor%2Eprototype%2EcreateElements%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20that%20%3D%20this%3B%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2EcreateElements%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20this%2EdefaultDateFormat%20%3D%20%27DD%2FMM%2FYYYY%27%3B%0A%20%20%20%20this%2EdatePicker%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20this%2EdatePickerStyle%20%3D%20this%2EdatePicker%2Estyle%3B%0A%20%20%20%20this%2EdatePickerStyle%2Eposition%20%3D%20%27absolute%27%3B%0A%20%20%20%20this%2EdatePickerStyle%2Etop%20%3D%200%3B%0A%20%20%20%20this%2EdatePickerStyle%2Eleft%20%3D%200%3B%0A%20%20%20%20this%2EdatePickerStyle%2EzIndex%20%3D%209999%3B%0A%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28this%2EdatePicker%2C%20%27htDatepickerHolder%27%29%3B%0A%20%20%20%20document%2Ebody%2EappendChild%28this%2EdatePicker%29%3B%0A%0A%20%20%20%20var%20htInput%20%3D%20this%2ETEXTAREA%3B%0A%0A%20%20%20%20var%20defaultOptions%20%3D%20%7B%0A%20%20%20%20%20%20format%3A%20that%2EdefaultDateFormat%2C%0A%20%20%20%20%20%20field%3A%20htInput%2C%0A%20%20%20%20%20%20trigger%3A%20htInput%2C%0A%20%20%20%20%20%20container%3A%20that%2EdatePicker%2C%0A%20%20%20%20%20%20reposition%3A%20false%2C%0A%20%20%20%20%20%20bound%3A%20false%2C%0A%20%20%20%20%20%20onSelect%3A%20function%20%28dateStr%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21isNaN%28dateStr%2EgetTime%28%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20dateStr%20%3D%20moment%28dateStr%29%2Eformat%28that%2EcellProperties%2EdateFormat%20%7C%7C%20that%2EdefaultDateFormat%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20that%2EsetValue%28dateStr%29%3B%0A%20%20%20%20%20%20%20%20that%2EhideDatepicker%28%29%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20onClose%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20if%28%21that%2EparentDestroyed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20that%2EfinishEditing%28false%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2E%24datePicker%20%3D%20new%20Pikaday%28defaultOptions%29%3B%0A%0A%20%20%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28this%29%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Prevent%20recognizing%20clicking%20on%20datepicker%20as%20clicking%20outside%20of%20table%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20eventManager%2EaddEventListener%28this%2EdatePicker%2C%20%27mousedown%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2EhideDatepicker%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20DateEditor%2Eprototype%2EdestroyElements%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2E%24datePicker%2Edestroy%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20DateEditor%2Eprototype%2Eprepare%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2E%5Fopened%20%3D%20false%3B%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Eprepare%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20DateEditor%2Eprototype%2Eopen%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Eopen%2Ecall%28this%29%3B%0A%20%20%20%20this%2EshowDatepicker%28event%29%3B%0A%20%20%7D%3B%0A%0A%20%20DateEditor%2Eprototype%2Eclose%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20that%20%3D%20this%3B%0A%20%20%20%20this%2E%5Fopened%20%3D%20false%3B%0A%20%20%20%20this%2Einstance%2E%5FregisterTimeout%28setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20that%2Einstance%2Eselection%2ErefreshBorders%28%29%3B%0A%20%20%20%20%7D%2C%200%29%29%3B%0A%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Eclose%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20DateEditor%2Eprototype%2EfinishEditing%20%3D%20function%20%28isCancelled%2C%20ctrlDown%29%20%7B%0A%20%20%20%20if%20%28isCancelled%29%20%7B%20%2F%2F%20pressed%20ESC%2C%20restore%20original%20value%0A%20%20%20%20%20%20%2F%2Fvar%20value%20%3D%20this%2Einstance%2EgetDataAtCell%28this%2Erow%2C%20this%2Ecol%29%3B%0A%20%20%20%20%20%20var%20value%20%3D%20this%2EoriginalValue%3B%0A%20%20%20%20%20%20if%20%28value%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EsetValue%28value%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2EhideDatepicker%28%29%3B%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2EfinishEditing%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20DateEditor%2Eprototype%2EshowDatepicker%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20var%20offset%20%3D%20this%2ETD%2EgetBoundingClientRect%28%29%2C%0A%20%20%20%20%20%20dateFormat%20%3D%20this%2EcellProperties%2EdateFormat%20%7C%7C%20this%2EdefaultDateFormat%2C%0A%20%20%20%20%20%20datePickerConfig%20%3D%20this%2E%24datePicker%2Econfig%28%29%2C%0A%20%20%20%20%20%20dateStr%2C%0A%20%20%20%20%20%20isMouseDown%20%3D%20this%2Einstance%2Eview%2EisMouseDown%28%29%2C%0A%20%20%20%20%20%20isMeta%20%3D%20event%20%3F%20Handsontable%2Ehelper%2EisMetaKey%28event%2EkeyCode%29%20%3A%20false%3B%0A%0A%20%20%20%20this%2EdatePickerStyle%2Etop%20%3D%20%28window%2EpageYOffset%20%2B%20offset%2Etop%20%2B%20Handsontable%2EDom%2EouterHeight%28this%2ETD%29%29%20%2B%20%27px%27%3B%0A%20%20%20%20this%2EdatePickerStyle%2Eleft%20%3D%20%28window%2EpageXOffset%20%2B%20offset%2Eleft%29%20%2B%20%27px%27%3B%0A%0A%20%20%20%20this%2E%24datePicker%2E%5FonInputFocus%20%3D%20function%20%28%29%20%7B%7D%3B%0A%20%20%20%20datePickerConfig%2Eformat%20%3D%20dateFormat%3B%0A%0A%20%20%20%20if%20%28this%2EoriginalValue%29%20%7B%0A%20%20%20%20%20%20dateStr%20%3D%20this%2EoriginalValue%3B%0A%0A%20%20%20%20%20%20if%20%28moment%28dateStr%2C%20dateFormat%2C%20true%29%2EisValid%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2E%24datePicker%2EsetMoment%28moment%28dateStr%2C%20dateFormat%29%2C%20true%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28%21isMeta%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21isMouseDown%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EsetValue%28%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if%20%28this%2EcellProperties%2EdefaultDate%29%20%7B%0A%20%20%20%20%20%20%20%20dateStr%20%3D%20this%2EcellProperties%2EdefaultDate%3B%0A%0A%20%20%20%20%20%20%20%20datePickerConfig%2EdefaultDate%20%3D%20dateStr%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28moment%28dateStr%2C%20dateFormat%2C%20true%29%2EisValid%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2E%24datePicker%2EsetMoment%28moment%28dateStr%2C%20dateFormat%29%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28%21isMeta%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isMouseDown%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EsetValue%28%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%2Fthis%2EsetValue%28dateStr%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2EdatePickerStyle%2Edisplay%20%3D%20%27block%27%3B%0A%20%20%20%20this%2E%24datePicker%2Eshow%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20DateEditor%2Eprototype%2EhideDatepicker%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2EdatePickerStyle%2Edisplay%20%3D%20%27none%27%3B%0A%20%20%20%20this%2E%24datePicker%2Ehide%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Eeditors%2EDateEditor%20%3D%20DateEditor%3B%0A%20%20Handsontable%2Eeditors%2EregisterEditor%28%27date%27%2C%20DateEditor%29%3B%0A%7D%29%28Handsontable%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20This%20is%20inception%2E%20Using%20Handsontable%20as%20Handsontable%20editor%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20var%20HandsontableEditor%20%3D%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Eextend%28%29%3B%0A%0A%20%20HandsontableEditor%2Eprototype%2EcreateElements%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2EcreateElements%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20var%20DIV%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20DIV%2EclassName%20%3D%20%27handsontableEditor%27%3B%0A%20%20%20%20this%2ETEXTAREA%5FPARENT%2EappendChild%28DIV%29%3B%0A%0A%20%20%20%20this%2EhtContainer%20%3D%20DIV%3B%0A%20%20%20%20this%2EhtEditor%20%3D%20new%20Handsontable%28DIV%29%3B%0A%0A%20%20%20%20this%2EassignHooks%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20HandsontableEditor%2Eprototype%2Eprepare%20%3D%20function%20%28td%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%0A%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Eprepare%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20var%20parent%20%3D%20this%3B%0A%0A%20%20%20%20var%20options%20%3D%20%7B%0A%20%20%20%20%20%20startRows%3A%200%2C%0A%20%20%20%20%20%20startCols%3A%200%2C%0A%20%20%20%20%20%20minRows%3A%200%2C%0A%20%20%20%20%20%20minCols%3A%200%2C%0A%20%20%20%20%20%20className%3A%20%27listbox%27%2C%0A%20%20%20%20%20%20copyPaste%3A%20false%2C%0A%20%20%20%20%20%20cells%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20readOnly%3A%20true%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20fillHandle%3A%20false%2C%0A%20%20%20%20%20%20afterOnCellMouseDown%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20this%2EgetValue%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28value%20%21%3D%3D%20void%200%29%20%7B%20%2F%2Fif%20the%20value%20is%20undefined%20then%20it%20means%20we%20don%27t%20want%20to%20set%20the%20value%0A%20%20%20%20%20%20%20%20%20%20parent%2EsetValue%28value%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20parent%2Einstance%2EdestroyEditor%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20if%20%28this%2EcellProperties%2Ehandsontable%29%20%7B%0A%20%20%20%20%20%20Handsontable%2Ehelper%2Eextend%28options%2C%20cellProperties%2Ehandsontable%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28this%2EhtEditor%29%20%7B%0A%20%20%20%20%20%20this%2EhtEditor%2Edestroy%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2EhtEditor%20%3D%20new%20Handsontable%28this%2EhtContainer%2C%20options%29%3B%0A%0A%20%20%20%20%2F%2Fthis%2E%24htContainer%2Ehandsontable%28%27destroy%27%29%3B%0A%20%20%20%20%2F%2Fthis%2E%24htContainer%2Ehandsontable%28options%29%3B%0A%20%20%7D%3B%0A%0A%20%20var%20onBeforeKeyDown%20%3D%20function%20%28event%29%20%7B%0A%0A%20%20%20%20if%20%28event%20%21%3D%20null%20%26%26%20event%2EisImmediatePropagationEnabled%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20event%2EstopImmediatePropagation%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EisImmediatePropagationEnabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20this%2EcancelBubble%20%3D%20true%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20event%2EisImmediatePropagationEnabled%20%3D%20true%3B%0A%20%20%20%20%20%20event%2EisImmediatePropagationStopped%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%21this%2EisImmediatePropagationEnabled%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28event%2EisImmediatePropagationStopped%28%29%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20editor%20%3D%20this%2EgetActiveEditor%28%29%3B%0A%0A%20%20%20%20var%20innerHOT%20%3D%20editor%2EhtEditor%2EgetInstance%28%29%3B%20%2F%2FHandsontable%2EtmpHandsontable%28editor%2EhtContainer%2C%20%27getInstance%27%29%3B%0A%0A%20%20%20%20var%20rowToSelect%3B%0A%0A%20%20%20%20if%20%28event%2EkeyCode%20%3D%3D%20Handsontable%2Ehelper%2EkeyCode%2EARROW%5FDOWN%29%20%7B%0A%20%20%20%20%20%20if%20%28%21innerHOT%2EgetSelected%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20rowToSelect%20%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20var%20selectedRow%20%3D%20innerHOT%2EgetSelected%28%29%5B0%5D%3B%0A%20%20%20%20%20%20%20%20var%20lastRow%20%3D%20innerHOT%2EcountRows%28%29%20%2D%201%3B%0A%20%20%20%20%20%20%20%20rowToSelect%20%3D%20Math%2Emin%28lastRow%2C%20selectedRow%20%2B%201%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28event%2EkeyCode%20%3D%3D%20Handsontable%2Ehelper%2EkeyCode%2EARROW%5FUP%29%20%7B%0A%20%20%20%20%20%20if%20%28innerHOT%2EgetSelected%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20var%20selectedRow%20%3D%20innerHOT%2EgetSelected%28%29%5B0%5D%3B%0A%20%20%20%20%20%20%20%20rowToSelect%20%3D%20selectedRow%20%2D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28rowToSelect%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20if%20%28rowToSelect%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20innerHOT%2EdeselectCell%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20innerHOT%2EselectCell%28rowToSelect%2C%200%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%0A%20%20%20%20%20%20editor%2Einstance%2Elisten%28%29%3B%0A%20%20%20%20%20%20editor%2ETEXTAREA%2Efocus%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20HandsontableEditor%2Eprototype%2Eopen%20%3D%20function%20%28%29%20%7B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Eopen%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20%2F%2Fthis%2E%24htContainer%2Ehandsontable%28%27render%27%29%3B%0A%0A%20%20%20%20%2F%2FHandsontable%2EtmpHandsontable%28this%2EhtContainer%2C%20%27render%27%29%3B%0A%20%20%20%20this%2EhtEditor%2Erender%28%29%3B%0A%0A%20%20%20%20if%20%28this%2EcellProperties%2Estrict%29%20%7B%0A%20%20%20%20%20%20this%2EhtEditor%2EselectCell%280%2C0%29%3B%0A%20%20%20%20%20%20this%2ETEXTAREA%2Estyle%2Evisibility%20%3D%20%27hidden%27%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2EhtEditor%2EdeselectCell%28%29%3B%0A%20%20%20%20%20%20this%2ETEXTAREA%2Estyle%2Evisibility%20%3D%20%27visible%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2EDom%2EsetCaretPosition%28this%2ETEXTAREA%2C%200%2C%20this%2ETEXTAREA%2Evalue%2Elength%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20HandsontableEditor%2Eprototype%2Eclose%20%3D%20function%20%28%29%20%7B%0A%0A%20%20%20%20this%2Einstance%2EremoveHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%20%20%20%20this%2Einstance%2Elisten%28%29%3B%0A%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Eclose%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20HandsontableEditor%2Eprototype%2Efocus%20%3D%20function%20%28%29%20%7B%0A%0A%20%20%20%20this%2Einstance%2Elisten%28%29%3B%0A%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Efocus%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20HandsontableEditor%2Eprototype%2EbeginEditing%20%3D%20function%20%28initialValue%29%20%7B%0A%20%20%20%20var%20onBeginEditing%20%3D%20this%2Einstance%2EgetSettings%28%29%2EonBeginEditing%3B%0A%20%20%20%20if%20%28onBeginEditing%20%26%26%20onBeginEditing%28%29%20%3D%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2EbeginEditing%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20HandsontableEditor%2Eprototype%2EfinishEditing%20%3D%20function%20%28isCancelled%2C%20ctrlDown%29%20%7B%0A%20%20%20%20if%20%28this%2EhtEditor%2EisListening%28%29%29%20%7B%20%2F%2Fif%20focus%20is%20still%20in%20the%20HOT%20editor%0A%0A%20%20%20%20%20%20%2F%2Fif%20%28Handsontable%2EtmpHandsontable%28this%2EhtContainer%2C%27isListening%27%29%29%20%7B%20%2F%2Fif%20focus%20is%20still%20in%20the%20HOT%20editor%0A%20%20%20%20%2F%2Fif%20%28this%2E%24htContainer%2Ehandsontable%28%27isListening%27%29%29%20%7B%20%2F%2Fif%20focus%20is%20still%20in%20the%20HOT%20editor%0A%20%20%20%20%20%20this%2Einstance%2Elisten%28%29%3B%20%2F%2Freturn%20the%20focus%20to%20the%20parent%20HOT%20instance%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28this%2EhtEditor%2EgetSelected%28%29%29%7B%0A%20%20%20%20%2F%2Fif%20%28Handsontable%2EtmpHandsontable%28this%2EhtContainer%2C%27getSelected%27%29%29%20%7B%0A%20%20%20%20%2F%2Fif%20%28this%2E%24htContainer%2Ehandsontable%28%27getSelected%27%29%29%20%7B%0A%20%20%20%20%2F%2F%20%20var%20value%20%3D%20this%2E%24htContainer%2Ehandsontable%28%27getInstance%27%29%2EgetValue%28%29%3B%0A%20%20%20%20%20%20var%20value%20%3D%20this%2EhtEditor%2EgetInstance%28%29%2EgetValue%28%29%3B%0A%20%20%20%20%20%20%2F%2Fvar%20value%20%3D%20Handsontable%2EtmpHandsontable%28this%2EhtContainer%2C%27getInstance%27%29%2EgetValue%28%29%3B%0A%20%20%20%20%20%20if%20%28value%20%21%3D%3D%20void%200%29%20%7B%20%2F%2Fif%20the%20value%20is%20undefined%20then%20it%20means%20we%20don%27t%20want%20to%20set%20the%20value%0A%20%20%20%20%20%20%20%20this%2EsetValue%28value%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2EfinishEditing%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20HandsontableEditor%2Eprototype%2EassignHooks%20%3D%20function%20%28%29%20%7B%0A%20%20var%20that%20%3D%20this%3B%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterDestroy%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20if%20%28that%2EhtEditor%29%20%7B%0A%20%20%20%20%20%20%20%20that%2EhtEditor%2Edestroy%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Eeditors%2EHandsontableEditor%20%3D%20HandsontableEditor%3B%0A%20%20Handsontable%2Eeditors%2EregisterEditor%28%27handsontable%27%2C%20HandsontableEditor%29%3B%0A%0A%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%0A%0A%0A%0A%0A%28function%20%28Handsontable%29%20%7B%0A%20%20var%20AutocompleteEditor%20%3D%20Handsontable%2Eeditors%2EHandsontableEditor%2Eprototype%2Eextend%28%29%3B%0A%0A%20%20AutocompleteEditor%2Eprototype%2Einit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20Handsontable%2Eeditors%2EHandsontableEditor%2Eprototype%2Einit%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20this%2Equery%20%3D%20null%3B%0A%20%20%20%20this%2Echoices%20%3D%20%5B%5D%3B%0A%20%20%7D%3B%0A%0A%20%20AutocompleteEditor%2Eprototype%2EcreateElements%20%3D%20function%28%29%7B%0A%20%20%20%20Handsontable%2Eeditors%2EHandsontableEditor%2Eprototype%2EcreateElements%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20var%20getSystemSpecificPaddingClass%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20if%28window%2Enavigator%2Eplatform%2EindexOf%28%27Mac%27%29%20%21%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%22htMacScroll%22%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%22%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28this%2EhtContainer%2C%20%27autocompleteEditor%27%29%3B%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28this%2EhtContainer%2C%20getSystemSpecificPaddingClass%28%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20var%20skipOne%20%3D%20false%3B%0A%20%20var%20onBeforeKeyDown%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20skipOne%20%3D%20false%3B%0A%20%20%20%20var%20editor%20%3D%20this%2EgetActiveEditor%28%29%3B%0A%20%20%20%20var%20keyCodes%20%3D%20Handsontable%2Ehelper%2EkeyCode%3B%0A%0A%20%20%20%20if%20%28Handsontable%2Ehelper%2EisPrintableChar%28event%2EkeyCode%29%20%7C%7C%20event%2EkeyCode%20%3D%3D%3D%20keyCodes%2EBACKSPACE%20%7C%7C%20event%2EkeyCode%20%3D%3D%3D%20keyCodes%2EDELETE%20%20%7C%7C%20event%2EkeyCode%20%3D%3D%3D%20keyCodes%2EINSERT%29%20%7B%0A%20%20%20%20%20%20var%20timeOffset%20%3D%200%3B%0A%0A%20%20%20%20%20%20%2F%2F%20on%20ctl%2Bc%20%2F%20cmd%2Bc%20don%27t%20update%20suggestion%20list%0A%20%20%20%20%20%20if%28event%2EkeyCode%20%3D%3D%3D%20keyCodes%2EC%20%26%26%20%28event%2EctrlKey%20%7C%7C%20event%2EmetaKey%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%28%21editor%2EisOpened%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20timeOffset%20%2B%3D%2010%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20editor%2Einstance%2E%5FregisterTimeout%28setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20editor%2EqueryChoices%28editor%2ETEXTAREA%2Evalue%29%3B%0A%20%20%20%20%20%20%20%20skipOne%20%3D%20true%3B%0A%20%20%20%20%20%20%7D%2C%20timeOffset%29%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20AutocompleteEditor%2Eprototype%2Eprepare%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2Einstance%2EaddHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%20%20%20%20Handsontable%2Eeditors%2EHandsontableEditor%2Eprototype%2Eprepare%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20AutocompleteEditor%2Eprototype%2Eopen%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20Handsontable%2Eeditors%2EHandsontableEditor%2Eprototype%2Eopen%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20var%20choicesListHot%20%3D%20this%2EhtEditor%2EgetInstance%28%29%3B%0A%20%20%20%20var%20that%20%3D%20this%3B%0A%0A%20%20%20%20this%2ETEXTAREA%2Estyle%2Evisibility%20%3D%20%27visible%27%3B%0A%20%20%20%20this%2Efocus%28%29%3B%0A%0A%20%20%20%20choicesListHot%2EupdateSettings%28%7B%0A%20%20%20%20%20%20%27colWidths%27%3A%20%5BHandsontable%2EDom%2EouterWidth%28this%2ETEXTAREA%29%20%2D%202%5D%2C%0A%20%20%20%20%20%20afterRenderer%3A%20function%20%28TD%2C%20row%2C%20col%2C%20prop%2C%20value%29%20%7B%0A%20%20%20%20%20%20%20%20var%20caseSensitive%20%3D%20this%2EgetCellMeta%28row%2C%20col%29%2EfilteringCaseSensitive%20%3D%3D%3D%20true%2C%0A%20%20%20%20%20%20%20%20%20%20indexOfMatch%2C%0A%20%20%20%20%20%20%20%20%20%20match%3B%0A%0A%20%20%20%20%20%20%20%20if%28value%29%7B%0A%20%20%20%20%20%20%20%20%20%20indexOfMatch%20%3D%20%20caseSensitive%20%3F%20value%2EindexOf%28this%2Equery%29%20%3A%20value%2EtoLowerCase%28%29%2EindexOf%28that%2Equery%2EtoLowerCase%28%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%28indexOfMatch%20%21%3D%20%2D1%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20match%20%3D%20value%2Esubstr%28indexOfMatch%2C%20that%2Equery%2Elength%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20TD%2EinnerHTML%20%3D%20value%2Ereplace%28match%2C%20%27%3Cstrong%3E%27%20%2B%20match%20%2B%20%27%3C%2Fstrong%3E%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%2F%2F%20Add%20additional%20space%20for%20autocomplete%20holder%0A%20%20%20%20this%2EhtEditor%2Eview%2Ewt%2EwtTable%2Eholder%2Estyle%5B%27padding%2Dright%27%5D%20%3D%20Handsontable%2EDom%2EgetScrollbarWidth%28%29%20%2B%202%20%2B%20%27px%27%3B%0A%0A%20%20%20%20if%28skipOne%29%20%7B%0A%20%20%20%20%20%20skipOne%20%3D%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20that%2Einstance%2E%5FregisterTimeout%28setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20that%2EqueryChoices%28that%2ETEXTAREA%2Evalue%29%3B%0A%20%20%20%20%7D%2C%200%29%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20AutocompleteEditor%2Eprototype%2Eclose%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20Handsontable%2Eeditors%2EHandsontableEditor%2Eprototype%2Eclose%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20AutocompleteEditor%2Eprototype%2EqueryChoices%20%3D%20function%28query%29%7B%0A%20%20%20%20this%2Equery%20%3D%20query%3B%0A%0A%20%20%20%20if%20%28typeof%20this%2EcellProperties%2Esource%20%3D%3D%20%27function%27%29%7B%0A%20%20%20%20%20%20var%20that%20%3D%20this%3B%0A%0A%20%20%20%20%20%20this%2EcellProperties%2Esource%28query%2C%20function%28choices%29%7B%0A%20%20%20%20%20%20%20%20that%2EupdateChoicesList%28choices%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%7D%20else%20if%20%28Array%2EisArray%28this%2EcellProperties%2Esource%29%29%20%7B%0A%0A%20%20%20%20%20%20var%20choices%3B%0A%0A%20%20%20%20%20%20if%28%21query%20%7C%7C%20this%2EcellProperties%2Efilter%20%3D%3D%3D%20false%29%7B%0A%20%20%20%20%20%20%20%20choices%20%3D%20this%2EcellProperties%2Esource%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%0A%20%20%20%20%20%20%20%20var%20filteringCaseSensitive%20%3D%20this%2EcellProperties%2EfilteringCaseSensitive%20%3D%3D%3D%20true%3B%0A%20%20%20%20%20%20%20%20var%20lowerCaseQuery%20%3D%20query%2EtoLowerCase%28%29%3B%0A%0A%20%20%20%20%20%20%20%20choices%20%3D%20this%2EcellProperties%2Esource%2Efilter%28function%28choice%29%7B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28filteringCaseSensitive%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20choice%2EindexOf%28query%29%20%21%3D%20%2D1%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20choice%2EtoLowerCase%28%29%2EindexOf%28lowerCaseQuery%29%20%21%3D%20%2D1%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20this%2EupdateChoicesList%28choices%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2EupdateChoicesList%28%5B%5D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20AutocompleteEditor%2Eprototype%2EupdateChoicesList%20%3D%20function%20%28choices%29%20%7B%0A%20%20%20%20var%20pos%20%3D%20Handsontable%2EDom%2EgetCaretPosition%28this%2ETEXTAREA%29%2C%0A%20%20%20%20%20%20%20%20endPos%20%3D%20Handsontable%2EDom%2EgetSelectionEndPosition%28this%2ETEXTAREA%29%3B%0A%0A%20%20%20%20var%20orderByRelevance%20%3D%20AutocompleteEditor%2EsortByRelevance%28this%2EgetValue%28%29%2C%20choices%2C%20this%2EcellProperties%2EfilteringCaseSensitive%29%3B%0A%20%20%20%20var%20highlightIndex%3B%0A%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20if%20%28this%2EcellProperties%2Efilter%20%21%3D%20false%29%20%7B%0A%20%20%20%20%20%20var%20sorted%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20choicesCount%20%3D%20orderByRelevance%2Elength%3B%20i%20%3C%20choicesCount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20sorted%2Epush%28choices%5BorderByRelevance%5Bi%5D%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20highlightIndex%20%3D%200%3B%0A%20%20%20%20%20%20choices%20%3D%20sorted%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20highlightIndex%20%3D%20orderByRelevance%5B0%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%0A%20%20%20%20this%2Echoices%20%3D%20choices%3B%0A%0A%20%20%20%20this%2EhtEditor%2EloadData%28Handsontable%2Ehelper%2Epivot%28%5Bchoices%5D%29%29%3B%0A%0A%20%20%20%20this%2EupdateDropdownHeight%28%29%3B%0A%0A%20%20%20%20if%20%28this%2EcellProperties%2Estrict%20%3D%3D%3D%20true%29%20%7B%0A%20%20%20%20%20%20this%2EhighlightBestMatchingChoice%28highlightIndex%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Einstance%2Elisten%28%29%3B%0A%20%20%20%20this%2ETEXTAREA%2Efocus%28%29%3B%0A%20%20%20%20Handsontable%2EDom%2EsetCaretPosition%28this%2ETEXTAREA%2C%20pos%2C%20%28pos%20%21%3D%20endPos%20%3F%20endPos%20%3A%20void%200%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20AutocompleteEditor%2Eprototype%2EupdateDropdownHeight%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2EhtEditor%2EupdateSettings%28%7Bheight%3A%20this%2EgetDropdownHeight%28%29%7D%29%3B%0A%20%20%20%20this%2EhtEditor%2Eview%2Ewt%2EwtTable%2EalignOverlaysWithTrimmingContainer%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20AutocompleteEditor%2Eprototype%2EfinishEditing%20%3D%20function%20%28restoreOriginalValue%29%20%7B%0A%20%20%20%20if%20%28%21restoreOriginalValue%29%20%7B%0A%20%20%20%20%20%20this%2Einstance%2EremoveHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20Handsontable%2Eeditors%2EHandsontableEditor%2Eprototype%2EfinishEditing%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20AutocompleteEditor%2Eprototype%2EhighlightBestMatchingChoice%20%3D%20function%20%28index%29%20%7B%0A%20%20%20%20if%20%28typeof%20index%20%3D%3D%3D%20%22number%22%29%20%7B%0A%20%20%20%20%20%20%20this%2EhtEditor%2EselectCell%28index%2C%200%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2EhtEditor%2EdeselectCell%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Filters%20and%20sorts%20by%20relevance%0A%20%20%20%2A%20%40param%20value%0A%20%20%20%2A%20%40param%20choices%0A%20%20%20%2A%20%40param%20caseSensitive%0A%20%20%20%2A%20%40returns%20%7BArray%7D%20array%20of%20indexes%20in%20original%20choices%20array%0A%20%20%20%2A%2F%0A%20%20AutocompleteEditor%2EsortByRelevance%20%3D%20function%28value%2C%20choices%2C%20caseSensitive%29%20%7B%0A%0A%20%20%20%20var%20choicesRelevance%20%3D%20%5B%5D%0A%20%20%20%20%20%20%2C%20currentItem%0A%20%20%20%20%20%20%2C%20valueLength%20%3D%20value%2Elength%0A%20%20%20%20%20%20%2C%20valueIndex%0A%20%20%20%20%20%20%2C%20charsLeft%0A%20%20%20%20%20%20%2C%20result%20%3D%20%5B%5D%0A%20%20%20%20%20%20%2C%20i%0A%20%20%20%20%20%20%2C%20choicesCount%3B%0A%0A%20%20%20%20if%28valueLength%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20for%28i%20%3D%200%2C%20choicesCount%20%3D%20choices%2Elength%3B%20i%20%3C%20choicesCount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20result%2Epush%28i%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20for%28i%20%3D%200%2C%20choicesCount%20%3D%20choices%2Elength%3B%20i%20%3C%20choicesCount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20currentItem%20%3D%20choices%5Bi%5D%3B%0A%0A%20%20%20%20%20%20if%28caseSensitive%29%20%7B%0A%20%20%20%20%20%20%20%20valueIndex%20%3D%20currentItem%2EindexOf%28value%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20valueIndex%20%3D%20currentItem%2EtoLowerCase%28%29%2EindexOf%28value%2EtoLowerCase%28%29%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20if%28valueIndex%20%3D%3D%20%2D1%29%20%7B%20continue%3B%20%7D%0A%20%20%20%20%20%20charsLeft%20%3D%20%20currentItem%2Elength%20%2D%20valueIndex%20%2D%20valueLength%3B%0A%0A%20%20%20%20%20%20choicesRelevance%2Epush%28%7B%0A%20%20%20%20%20%20%20%20baseIndex%3A%20i%2C%0A%20%20%20%20%20%20%20%20index%3A%20valueIndex%2C%0A%20%20%20%20%20%20%20%20charsLeft%3A%20charsLeft%2C%0A%20%20%20%20%20%20%20%20value%3A%20currentItem%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20choicesRelevance%2Esort%28function%28a%2C%20b%29%20%7B%0A%0A%20%20%20%20%20%20if%28b%2Eindex%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%2D1%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%28a%2Eindex%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20return%201%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%28a%2Eindex%20%3C%20b%2Eindex%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%2D1%3B%0A%20%20%20%20%20%20%7D%20else%20if%28b%2Eindex%20%3C%20a%2Eindex%29%20%7B%0A%20%20%20%20%20%20%20%20return%201%3B%0A%20%20%20%20%20%20%7D%20else%20if%28a%2Eindex%20%3D%3D%3D%20b%2Eindex%29%20%7B%0A%20%20%20%20%20%20%20%20if%28a%2EcharsLeft%20%3C%20b%2EcharsLeft%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%2D1%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%28a%2EcharsLeft%20%3E%20b%2EcharsLeft%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%201%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20for%20%28i%20%3D%200%2C%20choicesCount%20%3D%20choicesRelevance%2Elength%3B%20i%20%3C%20choicesCount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20result%2Epush%28choicesRelevance%5Bi%5D%2EbaseIndex%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20result%3B%0A%20%20%7D%3B%0A%0A%20%20AutocompleteEditor%2Eprototype%2EgetDropdownHeight%20%3D%20function%28%29%7B%0A%20%20%20%20var%20firstRowHeight%20%3D%20this%2EhtEditor%2EgetInstance%28%29%2EgetRowHeight%280%29%20%7C%7C%2023%3B%0A%20%20%20%20return%20this%2Echoices%2Elength%20%3E%3D%2010%20%3F%2010%20%2A%20firstRowHeight%20%3A%20this%2Echoices%2Elength%20%2A%20firstRowHeight%20%2B%208%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Eeditors%2EAutocompleteEditor%20%3D%20AutocompleteEditor%3B%0A%20%20Handsontable%2Eeditors%2EregisterEditor%28%27autocomplete%27%2C%20AutocompleteEditor%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%28Handsontable%29%7B%0A%0A%20%20var%20PasswordEditor%20%3D%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Eextend%28%29%3B%0A%0A%20%20PasswordEditor%2Eprototype%2EcreateElements%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2EcreateElements%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20this%2ETEXTAREA%20%3D%20document%2EcreateElement%28%27input%27%29%3B%0A%20%20%20%20this%2ETEXTAREA%2EsetAttribute%28%27type%27%2C%20%27password%27%29%3B%0A%20%20%20%20this%2ETEXTAREA%2EclassName%20%3D%20%27handsontableInput%27%3B%0A%20%20%20%20this%2EtextareaStyle%20%3D%20this%2ETEXTAREA%2Estyle%3B%0A%20%20%20%20this%2EtextareaStyle%2Ewidth%20%3D%200%3B%0A%20%20%20%20this%2EtextareaStyle%2Eheight%20%3D%200%3B%0A%0A%20%20%20%20Handsontable%2EDom%2Eempty%28this%2ETEXTAREA%5FPARENT%29%3B%0A%20%20%20%20this%2ETEXTAREA%5FPARENT%2EappendChild%28this%2ETEXTAREA%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Eeditors%2EPasswordEditor%20%3D%20PasswordEditor%3B%0A%20%20Handsontable%2Eeditors%2EregisterEditor%28%27password%27%2C%20PasswordEditor%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%20%28Handsontable%29%20%7B%0A%0A%20%20var%20SelectEditor%20%3D%20Handsontable%2Eeditors%2EBaseEditor%2Eprototype%2Eextend%28%29%3B%0A%0A%20%20SelectEditor%2Eprototype%2Einit%20%3D%20function%28%29%7B%0A%20%20%20%20this%2Eselect%20%3D%20document%2EcreateElement%28%27SELECT%27%29%3B%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28this%2Eselect%2C%20%27htSelectEditor%27%29%3B%0A%20%20%20%20this%2Eselect%2Estyle%2Edisplay%20%3D%20%27none%27%3B%0A%20%20%20%20this%2Einstance%2ErootElement%2EappendChild%28this%2Eselect%29%3B%0A%20%20%7D%3B%0A%0A%20%20SelectEditor%2Eprototype%2Eprepare%20%3D%20function%28%29%7B%0A%20%20%20%20Handsontable%2Eeditors%2EBaseEditor%2Eprototype%2Eprepare%2Eapply%28this%2C%20arguments%29%3B%0A%0A%0A%20%20%20%20var%20selectOptions%20%3D%20this%2EcellProperties%2EselectOptions%3B%0A%20%20%20%20var%20options%3B%0A%0A%20%20%20%20if%20%28typeof%20selectOptions%20%3D%3D%20%27function%27%29%7B%0A%20%20%20%20%20%20options%20%3D%20%20this%2EprepareOptions%28selectOptions%28this%2Erow%2C%20this%2Ecol%2C%20this%2Eprop%29%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20options%20%3D%20%20this%2EprepareOptions%28selectOptions%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2EDom%2Eempty%28this%2Eselect%29%3B%0A%0A%20%20%20%20for%20%28var%20option%20in%20options%29%7B%0A%20%20%20%20%20%20if%20%28options%2EhasOwnProperty%28option%29%29%7B%0A%20%20%20%20%20%20%20%20var%20optionElement%20%3D%20document%2EcreateElement%28%27OPTION%27%29%3B%0A%20%20%20%20%20%20%20%20optionElement%2Evalue%20%3D%20option%3B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EfastInnerHTML%28optionElement%2C%20options%5Boption%5D%29%3B%0A%20%20%20%20%20%20%20%20this%2Eselect%2EappendChild%28optionElement%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20SelectEditor%2Eprototype%2EprepareOptions%20%3D%20function%28optionsToPrepare%29%7B%0A%0A%20%20%20%20var%20preparedOptions%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20if%20%28Array%2EisArray%28optionsToPrepare%29%29%7B%0A%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20len%20%3D%20optionsToPrepare%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20preparedOptions%5BoptionsToPrepare%5Bi%5D%5D%20%3D%20optionsToPrepare%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28typeof%20optionsToPrepare%20%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20preparedOptions%20%3D%20optionsToPrepare%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20preparedOptions%3B%0A%0A%20%20%7D%3B%0A%0A%20%20SelectEditor%2Eprototype%2EgetValue%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20this%2Eselect%2Evalue%3B%0A%20%20%7D%3B%0A%0A%20%20SelectEditor%2Eprototype%2EsetValue%20%3D%20function%20%28value%29%20%7B%0A%20%20%20%20this%2Eselect%2Evalue%20%3D%20value%3B%0A%20%20%7D%3B%0A%0A%20%20var%20onBeforeKeyDown%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20editor%20%3D%20instance%2EgetActiveEditor%28%29%3B%0A%0A%20%20%20%20if%20%28event%20%21%3D%20null%20%26%26%20event%2EisImmediatePropagationEnabled%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20event%2EstopImmediatePropagation%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EisImmediatePropagationEnabled%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20event%2EisImmediatePropagationEnabled%20%3D%20true%3B%0A%20%20%20%20%20%20event%2EisImmediatePropagationStopped%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%21this%2EisImmediatePropagationEnabled%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20switch%20%28event%2EkeyCode%29%7B%0A%20%20%20%20%20%20case%20Handsontable%2Ehelper%2EkeyCode%2EARROW%5FUP%3A%0A%20%20%20%20%20%20%20%20var%20previousOptionIndex%20%3D%20editor%2Eselect%2EselectedIndex%20%2D%201%3B%0A%20%20%20%20%20%20%20%20if%20%28previousOptionIndex%20%3E%3D%200%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20editor%2Eselect%5BpreviousOptionIndex%5D%2Eselected%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20Handsontable%2Ehelper%2EkeyCode%2EARROW%5FDOWN%3A%0A%20%20%20%20%20%20%20%20var%20nextOptionIndex%20%3D%20editor%2Eselect%2EselectedIndex%20%2B%201%3B%0A%20%20%20%20%20%20%20%20if%20%28nextOptionIndex%20%3C%3D%20editor%2Eselect%2Elength%20%2D%201%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20editor%2Eselect%5BnextOptionIndex%5D%2Eselected%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20TODO%3A%20Refactor%20this%20with%20the%20use%20of%20new%20getCell%28%29%20after%200%2E12%2E1%0A%20%20SelectEditor%2Eprototype%2EcheckEditorSection%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%28this%2Erow%20%3C%20this%2Einstance%2EgetSettings%28%29%2EfixedRowsTop%29%20%7B%0A%20%20%20%20%20%20if%28this%2Ecol%20%3C%20this%2Einstance%2EgetSettings%28%29%2EfixedColumnsLeft%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%27corner%27%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%27top%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if%28this%2Ecol%20%3C%20this%2Einstance%2EgetSettings%28%29%2EfixedColumnsLeft%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%27left%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20SelectEditor%2Eprototype%2Eopen%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20width%20%3D%20Handsontable%2EDom%2EouterWidth%28this%2ETD%29%3B%20%2F%2Fimportant%20%2D%20group%20layout%20reads%20together%20for%20better%20performance%0A%20%20%20%20var%20height%20%3D%20Handsontable%2EDom%2EouterHeight%28this%2ETD%29%3B%0A%20%20%20%20var%20rootOffset%20%3D%20Handsontable%2EDom%2Eoffset%28this%2Einstance%2ErootElement%29%3B%0A%20%20%20%20var%20tdOffset%20%3D%20Handsontable%2EDom%2Eoffset%28this%2ETD%29%3B%0A%20%20%20%20var%20editorSection%20%3D%20this%2EcheckEditorSection%28%29%3B%0A%20%20%20%20var%20cssTransformOffset%3B%0A%0A%20%20%20%20switch%28editorSection%29%20%7B%0A%20%20%20%20%20%20case%20%27top%27%3A%0A%20%20%20%20%20%20%20%20cssTransformOffset%20%3D%20Handsontable%2EDom%2EgetCssTransform%28this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopOverlay%2Eclone%2EwtTable%2Eholder%2EparentNode%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27left%27%3A%0A%20%20%20%20%20%20%20%20cssTransformOffset%20%3D%20Handsontable%2EDom%2EgetCssTransform%28this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2Eclone%2EwtTable%2Eholder%2EparentNode%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27corner%27%3A%0A%20%20%20%20%20%20%20%20cssTransformOffset%20%3D%20Handsontable%2EDom%2EgetCssTransform%28this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopLeftCornerOverlay%2Eclone%2EwtTable%2Eholder%2EparentNode%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20selectStyle%20%3D%20this%2Eselect%2Estyle%3B%0A%0A%20%20%20%20if%28cssTransformOffset%20%26%26%20cssTransformOffset%20%21%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20selectStyle%5BcssTransformOffset%5B0%5D%5D%20%3D%20cssTransformOffset%5B1%5D%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EresetCssTransform%28this%2Eselect%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20selectStyle%2Eheight%20%3D%20height%20%2B%20%27px%27%3B%0A%20%20%20%20selectStyle%2EminWidth%20%3D%20width%20%2B%20%27px%27%3B%0A%20%20%20%20selectStyle%2Etop%20%3D%20tdOffset%2Etop%20%2D%20rootOffset%2Etop%20%2B%20%27px%27%3B%0A%20%20%20%20selectStyle%2Eleft%20%3D%20tdOffset%2Eleft%20%2D%20rootOffset%2Eleft%20%2B%20%27px%27%3B%0A%20%20%20%20selectStyle%2Emargin%20%3D%20%270px%27%3B%0A%20%20%20%20selectStyle%2Edisplay%20%3D%20%27%27%3B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%20%20%7D%3B%0A%0A%20%20SelectEditor%2Eprototype%2Eclose%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2Eselect%2Estyle%2Edisplay%20%3D%20%27none%27%3B%0A%20%20%20%20this%2Einstance%2EremoveHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%20%20%7D%3B%0A%0A%20%20SelectEditor%2Eprototype%2Efocus%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2Eselect%2Efocus%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Eeditors%2ESelectEditor%20%3D%20SelectEditor%3B%0A%20%20Handsontable%2Eeditors%2EregisterEditor%28%27select%27%2C%20SelectEditor%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%20%28Handsontable%29%20%7B%0A%0A%20%20var%20DropdownEditor%20%3D%20Handsontable%2Eeditors%2EAutocompleteEditor%2Eprototype%2Eextend%28%29%3B%0A%0A%20%20DropdownEditor%2Eprototype%2Eprepare%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20Handsontable%2Eeditors%2EAutocompleteEditor%2Eprototype%2Eprepare%2Eapply%28this%2C%20arguments%29%3B%0A%0A%20%20%20%20this%2EcellProperties%2Efilter%20%3D%20false%3B%0A%20%20%20%20this%2EcellProperties%2Estrict%20%3D%20true%3B%0A%0A%20%20%7D%3B%0A%0A%0A%20%20Handsontable%2Eeditors%2EDropdownEditor%20%3D%20DropdownEditor%3B%0A%20%20Handsontable%2Eeditors%2EregisterEditor%28%27dropdown%27%2C%20DropdownEditor%29%3B%0A%0A%0A%7D%29%28Handsontable%29%3B%0A%28function%20%28Handsontable%29%20%7B%0A%0A%20%20%27use%20strict%27%3B%0A%0A%20%20var%20NumericEditor%20%3D%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%2Eextend%28%29%3B%0A%0A%20%20NumericEditor%2Eprototype%2EbeginEditing%20%3D%20function%20%28initialValue%29%20%7B%0A%0A%20%20%20%20var%20BaseEditor%20%3D%20Handsontable%2Eeditors%2ETextEditor%2Eprototype%3B%0A%0A%20%20%20%20if%20%28typeof%20%28initialValue%29%20%3D%3D%3D%20%27undefined%27%20%26%26%20this%2EoriginalValue%29%20%7B%0A%0A%20%20%20%20%20%20var%20value%20%3D%20%27%27%20%2B%20this%2EoriginalValue%3B%0A%0A%20%20%20%20%20%20if%20%28typeof%20this%2EcellProperties%2Elanguage%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20numeral%2Elanguage%28this%2EcellProperties%2Elanguage%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20decimalDelimiter%20%3D%20numeral%2ElanguageData%28%29%2Edelimiters%2Edecimal%3B%0A%20%20%20%20%20%20value%20%3D%20value%2Ereplace%28%27%2E%27%2C%20decimalDelimiter%29%3B%0A%0A%20%20%20%20%20%20BaseEditor%2EbeginEditing%2Eapply%28this%2C%20%5Bvalue%5D%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20BaseEditor%2EbeginEditing%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Eeditors%2ENumericEditor%20%3D%20NumericEditor%3B%0A%20%20Handsontable%2Eeditors%2EregisterEditor%28%27numeric%27%2C%20NumericEditor%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20Numeric%20cell%20validator%0A%20%2A%20%40param%20%7B%2A%7D%20value%20%2D%20Value%20of%20edited%20cell%0A%20%2A%20%40param%20%7B%2A%7D%20callback%20%2D%20Callback%20called%20with%20validation%20result%0A%20%2A%2F%0AHandsontable%2ENumericValidator%20%3D%20function%20%28value%2C%20callback%29%20%7B%0A%20%20if%20%28value%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20value%20%3D%20%27%27%3B%0A%20%20%7D%0A%20%20callback%28%2F%5E%2D%3F%5Cd%2A%28%5C%2E%7C%5C%2C%29%3F%5Cd%2A%24%2F%2Etest%28value%29%29%3B%0A%7D%3B%0A%2F%2A%2A%0A%20%2A%20Date%20cell%20validator%0A%20%2A%20%40param%20%7B%2A%7D%20value%20%2D%20Value%20of%20edited%20cell%0A%20%2A%20%40param%20%7B%2A%7D%20callback%20%2D%20Callback%20called%20with%20validation%20result%0A%20%2A%2F%0AHandsontable%2EDateValidator%20%3D%20function%20%28value%2C%20callback%29%20%7B%0A%20%20var%20correctedValue%20%3D%20null%2C%0A%20%20%20%20valid%20%3D%20true%2C%0A%20%20%20%20dateEditor%20%3D%20Handsontable%2Eeditors%2EgetEditor%28%27date%27%2C%20this%2Einstance%29%3B%0A%0A%20%20if%20%28value%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20value%20%3D%20%27%27%3B%0A%20%20%7D%0A%0A%20%20var%20isValidDate%20%3D%20moment%28new%20Date%28value%29%29%2EisValid%28%29%2C%20%2F%2F%20is%20value%20a%20valid%20date%20string%0A%20%20%20%20isValidFormat%20%3D%20moment%28value%2C%20this%2EdateFormat%20%7C%7C%20dateEditor%2EdefaultDateFormat%2C%20true%29%2EisValid%28%29%3B%20%2F%2F%20is%20it%20in%20the%20specified%20format%0A%0A%20%20if%20%28%21isValidDate%29%20%7B%0A%20%20%20%20valid%20%3D%20false%3B%0A%20%20%7D%0A%0A%20%20if%20%28%21isValidDate%20%26%26%20isValidFormat%29%20%7B%0A%20%20%20%20valid%20%3D%20true%3B%0A%20%20%7D%0A%0A%20%20if%20%28isValidDate%20%26%26%20%21isValidFormat%29%20%7B%0A%20%20%20%20if%20%28this%2EcorrectFormat%20%3D%3D%3D%20true%29%20%7B%20%2F%2F%20if%20format%20correction%20is%20enabled%0A%20%20%20%20%20%20correctedValue%20%3D%20correctFormat%28value%2C%20this%2EdateFormat%29%3B%0A%20%20%20%20%20%20this%2Einstance%2EsetDataAtCell%28this%2Erow%2C%20this%2Ecol%2C%20correctedValue%2C%20%27dateValidator%27%29%3B%0A%20%20%20%20%20%20valid%20%3D%20true%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20valid%20%3D%20false%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20callback%28valid%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Format%20the%20given%20string%20using%20moment%2Ejs%27%20format%20feature%0A%20%2A%20%40param%20value%0A%20%2A%20%40param%20dateFormat%0A%20%2A%20%40returns%20%7B%2A%7D%0A%20%2A%2F%0Avar%20correctFormat%20%3D%20function%20%28value%2C%20dateFormat%29%20%7B%0A%20%20value%20%3D%20moment%28new%20Date%28value%29%29%2Eformat%28dateFormat%29%3B%0A%20%20return%20value%3B%0A%7D%3B%0A%0A%0A%2F%2A%2A%0A%20%2A%20Function%20responsible%20for%20validation%20of%20autocomplete%20value%0A%20%2A%20%40param%20%7B%2A%7D%20value%20%2D%20Value%20of%20edited%20cell%0A%20%2A%20%40param%20%7B%2A%7D%20calback%20%2D%20Callback%20called%20with%20validation%20result%0A%20%2A%2F%0Avar%20process%20%3D%20function%20%28value%2C%20callback%29%20%7B%0A%0A%20%20var%20originalVal%20%20%3D%20value%3B%0A%20%20var%20lowercaseVal%20%3D%20typeof%20originalVal%20%3D%3D%3D%20%27string%27%20%3F%20originalVal%2EtoLowerCase%28%29%20%3A%20null%3B%0A%0A%20%20return%20function%20%28source%29%20%7B%0A%20%20%20%20var%20found%20%3D%20false%3B%0A%20%20%20%20for%20%28var%20s%20%3D%200%2C%20slen%20%3D%20source%2Elength%3B%20s%20%3C%20slen%3B%20s%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28originalVal%20%3D%3D%3D%20source%5Bs%5D%29%20%7B%0A%20%20%20%20%20%20%20%20found%20%3D%20true%3B%20%2F%2Fperfect%20match%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28lowercaseVal%20%3D%3D%3D%20source%5Bs%5D%2EtoLowerCase%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20changes%5Bi%5D%5B3%5D%20%3D%20source%5Bs%5D%3B%20%2F%2Fgood%20match%2C%20fix%20the%20case%20%3C%3C%20TODO%3F%0A%20%20%20%20%20%20%20%20found%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20callback%28found%29%3B%0A%20%20%7D%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Autocomplete%20cell%20validator%0A%20%2A%20%40param%20%7B%2A%7D%20value%20%2D%20Value%20of%20edited%20cell%0A%20%2A%20%40param%20%7B%2A%7D%20callback%20%2D%20Callback%20called%20with%20validation%20result%0A%20%2A%2F%0AHandsontable%2EAutocompleteValidator%20%3D%20function%20%28value%2C%20callback%29%20%7B%0A%20%20if%20%28this%2Estrict%20%26%26%20this%2Esource%29%20%7B%0A%20%20%20%20if%20%28%20typeof%20this%2Esource%20%3D%3D%3D%20%27function%27%20%29%20%7B%0A%20%20%20%20%20%20this%2Esource%28value%2C%20process%28value%2C%20callback%29%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20process%28value%2C%20callback%29%28this%2Esource%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%20else%20%7B%0A%20%20%20%20callback%28true%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Cell%20type%20is%20just%20a%20shortcut%20for%20setting%20bunch%20of%20cellProperties%20%28used%20in%20getCellMeta%29%0A%20%2A%2F%0A%0AHandsontable%2EmobileBrowser%20%3D%20Handsontable%2Ehelper%2EisMobileBrowser%28%29%3B%20%20%2F%2F%20check%20if%20viewed%20on%20a%20mobile%20device%0A%0AHandsontable%2EAutocompleteCell%20%3D%20%7B%0A%20%20editor%3A%20Handsontable%2Eeditors%2EAutocompleteEditor%2C%0A%20%20renderer%3A%20Handsontable%2Erenderers%2EAutocompleteRenderer%2C%0A%20%20validator%3A%20Handsontable%2EAutocompleteValidator%0A%7D%3B%0A%0AHandsontable%2ECheckboxCell%20%3D%20%7B%0A%20%20editor%3A%20Handsontable%2Eeditors%2ECheckboxEditor%2C%0A%20%20renderer%3A%20Handsontable%2Erenderers%2ECheckboxRenderer%0A%7D%3B%0A%0AHandsontable%2ETextCell%20%3D%20%7B%0A%20%20editor%3A%20Handsontable%2EmobileBrowser%20%3F%20Handsontable%2Eeditors%2EMobileTextEditor%20%3A%20Handsontable%2Eeditors%2ETextEditor%2C%0A%20%20renderer%3A%20Handsontable%2Erenderers%2ETextRenderer%0A%7D%3B%0A%0AHandsontable%2ENumericCell%20%3D%20%7B%0A%20%20editor%3A%20Handsontable%2Eeditors%2ENumericEditor%2C%0A%20%20renderer%3A%20Handsontable%2Erenderers%2ENumericRenderer%2C%0A%20%20validator%3A%20Handsontable%2ENumericValidator%2C%0A%20%20dataType%3A%20%27number%27%0A%7D%3B%0A%0AHandsontable%2EDateCell%20%3D%20%7B%0A%20%20editor%3A%20Handsontable%2Eeditors%2EDateEditor%2C%0A%20%20validator%3A%20Handsontable%2EDateValidator%2C%0A%20%20renderer%3A%20Handsontable%2Erenderers%2EAutocompleteRenderer%20%2F%2Fdisplays%20small%20gray%20arrow%20on%20right%20side%20of%20the%20cell%0A%7D%3B%0A%0AHandsontable%2EHandsontableCell%20%3D%20%7B%0A%20%20editor%3A%20Handsontable%2Eeditors%2EHandsontableEditor%2C%0A%20%20renderer%3A%20Handsontable%2Erenderers%2EAutocompleteRenderer%20%2F%2Fdisplays%20small%20gray%20arrow%20on%20right%20side%20of%20the%20cell%0A%7D%3B%0A%0AHandsontable%2EPasswordCell%20%3D%20%7B%0A%20%20editor%3A%20Handsontable%2Eeditors%2EPasswordEditor%2C%0A%20%20renderer%3A%20Handsontable%2Erenderers%2EPasswordRenderer%2C%0A%20%20copyable%3A%20false%0A%7D%3B%0A%0AHandsontable%2EDropdownCell%20%3D%20%7B%0A%20%20editor%3A%20Handsontable%2Eeditors%2EDropdownEditor%2C%0A%20%20renderer%3A%20Handsontable%2Erenderers%2EAutocompleteRenderer%2C%20%2F%2Fdisplays%20small%20gray%20arrow%20on%20right%20side%20of%20the%20cell%0A%20%20validator%3A%20Handsontable%2EAutocompleteValidator%0A%7D%3B%0A%0A%2F%2Fhere%20setup%20the%20friendly%20aliases%20that%20are%20used%20by%20cellProperties%2Etype%0AHandsontable%2EcellTypes%20%3D%20%7B%0A%20%20text%3A%20Handsontable%2ETextCell%2C%0A%20%20date%3A%20Handsontable%2EDateCell%2C%0A%20%20numeric%3A%20Handsontable%2ENumericCell%2C%0A%20%20checkbox%3A%20Handsontable%2ECheckboxCell%2C%0A%20%20autocomplete%3A%20Handsontable%2EAutocompleteCell%2C%0A%20%20handsontable%3A%20Handsontable%2EHandsontableCell%2C%0A%20%20password%3A%20Handsontable%2EPasswordCell%2C%0A%20%20dropdown%3A%20Handsontable%2EDropdownCell%0A%7D%3B%0A%0A%2F%2Fhere%20setup%20the%20friendly%20aliases%20that%20are%20used%20by%20cellProperties%2Erenderer%20and%20cellProperties%2Eeditor%0AHandsontable%2EcellLookup%20%3D%20%7B%0A%20%20validator%3A%20%7B%0A%20%20%20%20numeric%3A%20Handsontable%2ENumericValidator%2C%0A%20%20%20%20autocomplete%3A%20Handsontable%2EAutocompleteValidator%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20autoResize%20%2D%20resizes%20a%20DOM%20element%20to%20the%20width%20and%20height%20of%20another%20DOM%20element%0A%20%2A%0A%20%2A%20Copyright%202014%2C%20Marcin%20Warpechowski%0A%20%2A%20Licensed%20under%20the%20MIT%20license%0A%20%2A%2F%0Avar%20autoResize%20%3D%20function%20%28%29%20%7B%0A%20%20var%20defaults%20%3D%20%7B%0A%20%20%20%20%20%20minHeight%3A%20200%2C%0A%20%20%20%20%20%20maxHeight%3A%20300%2C%0A%20%20%20%20%20%20minWidth%3A%20100%2C%0A%20%20%20%20%20%20maxWidth%3A%20300%0A%20%20%20%20%7D%2C%0A%20%20%20%20el%2C%0A%20%20%20%20body%20%3D%20document%2Ebody%2C%0A%20%20%20%20text%20%3D%20document%2EcreateTextNode%28%27%27%29%2C%0A%20%20%20%20span%20%3D%20document%2EcreateElement%28%27SPAN%27%29%2C%0A%20%20%20%20observe%20%3D%20function%20%28element%2C%20event%2C%20handler%29%20%7B%0A%20%20%20%20%20%20if%20%28window%2EattachEvent%29%20%7B%0A%20%20%20%20%20%20%20%20element%2EattachEvent%28%27on%27%20%2B%20event%2C%20handler%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20element%2EaddEventListener%28event%2C%20handler%2C%20false%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20unObserve%20%3D%20function%20%28element%2C%20event%2C%20handler%29%20%7B%0A%20%20%20%20%20%20if%20%28window%2EremoveEventListener%29%20%7B%0A%20%20%20%20%20%20%20%20element%2EremoveEventListener%28event%2C%20handler%2C%20false%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20element%2EdetachEvent%28%27on%27%20%2B%20event%2C%20handler%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20resize%20%3D%20function%20%28newChar%29%20%7B%0A%20%20%20%20%20%20var%20width%2C%20scrollHeight%3B%0A%0A%20%20%20%20%20%20if%20%28%21newChar%29%20%7B%0A%20%20%20%20%20%20%20%20newChar%20%3D%20%22%22%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28%21%2F%5E%5Ba%2DzA%2DZ%20%5C%2E%2C%5C%5C%5C%2F%5C%7C0%2D9%5D%24%2F%2Etest%28newChar%29%29%20%7B%0A%20%20%20%20%20%20%20%20newChar%20%3D%20%22%2E%22%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28text%2EtextContent%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20%20%20text%2EtextContent%20%3D%20el%2Evalue%20%2B%20newChar%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20text%2Edata%20%3D%20el%2Evalue%20%2B%20newChar%3B%20%2F%2FIE8%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20span%2Estyle%2EfontSize%20%3D%20Handsontable%2EDom%2EgetComputedStyle%28el%29%2EfontSize%3B%0A%20%20%20%20%20%20span%2Estyle%2EfontFamily%20%3D%20Handsontable%2EDom%2EgetComputedStyle%28el%29%2EfontFamily%3B%0A%20%20%20%20%20%20span%2Estyle%2EwhiteSpace%20%3D%20%22pre%22%3B%0A%0A%20%20%20%20%20%20body%2EappendChild%28span%29%3B%0A%20%20%20%20%20%20width%20%3D%20span%2EclientWidth%20%2B%202%3B%0A%20%20%20%20%20%20body%2EremoveChild%28span%29%3B%0A%0A%20%20%20%20%20%20el%2Estyle%2Eheight%20%3D%20defaults%2EminHeight%20%2B%20%27px%27%3B%0A%0A%20%20%20%20%20%20if%20%28defaults%2EminWidth%20%3E%20width%29%20%7B%0A%20%20%20%20%20%20%20%20el%2Estyle%2Ewidth%20%3D%20defaults%2EminWidth%20%2B%20%27px%27%3B%0A%0A%20%20%20%20%20%20%7D%20else%20if%20%28width%20%3E%20defaults%2EmaxWidth%29%20%7B%0A%20%20%20%20%20%20%20%20el%2Estyle%2Ewidth%20%3D%20defaults%2EmaxWidth%20%2B%20%27px%27%3B%0A%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20el%2Estyle%2Ewidth%20%3D%20width%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20scrollHeight%20%3D%20el%2EscrollHeight%20%3F%20el%2EscrollHeight%20%2D%201%20%3A%200%3B%0A%0A%20%20%20%20%20%20if%20%28defaults%2EminHeight%20%3E%20scrollHeight%29%20%7B%0A%20%20%20%20%20%20%20%20el%2Estyle%2Eheight%20%3D%20defaults%2EminHeight%20%2B%20%27px%27%3B%0A%0A%20%20%20%20%20%20%7D%20else%20if%20%28defaults%2EmaxHeight%20%3C%20scrollHeight%29%20%7B%0A%20%20%20%20%20%20%20%20el%2Estyle%2Eheight%20%3D%20defaults%2EmaxHeight%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%20%20el%2Estyle%2EoverflowY%20%3D%20%27visible%27%3B%0A%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20el%2Estyle%2Eheight%20%3D%20scrollHeight%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20delayedResize%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20window%2EsetTimeout%28resize%2C%200%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20extendDefaults%20%3D%20function%20%28config%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28config%20%26%26%20config%2EminHeight%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28config%2EminHeight%20%3D%3D%20%27inherit%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20defaults%2EminHeight%20%3D%20el%2EclientHeight%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20minHeight%20%3D%20parseInt%28config%2EminHeight%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isNaN%28minHeight%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20defaults%2EminHeight%20%3D%20minHeight%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28config%20%26%26%20config%2EmaxHeight%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28config%2EmaxHeight%20%3D%3D%20%27inherit%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20defaults%2EmaxHeight%20%3D%20el%2EclientHeight%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20maxHeight%20%3D%20parseInt%28config%2EmaxHeight%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isNaN%28maxHeight%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20defaults%2EmaxHeight%20%3D%20maxHeight%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28config%20%26%26%20config%2EminWidth%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28config%2EminWidth%20%3D%3D%20%27inherit%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20defaults%2EminWidth%20%3D%20el%2EclientWidth%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20minWidth%20%3D%20parseInt%28config%2EminWidth%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isNaN%28minWidth%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20defaults%2EminWidth%20%3D%20minWidth%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28config%20%26%26%20config%2EmaxWidth%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28config%2EmaxWidth%20%3D%3D%20%27inherit%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20defaults%2EmaxWidth%20%3D%20el%2EclientWidth%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20maxWidth%20%3D%20parseInt%28config%2EmaxWidth%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21isNaN%28maxWidth%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20defaults%2EmaxWidth%20%3D%20maxWidth%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%28%21span%2EfirstChild%29%20%7B%0A%20%20%20%20%20%20%20%20span%2EclassName%20%3D%20%22autoResize%22%3B%0A%20%20%20%20%20%20%20%20span%2Estyle%2Edisplay%20%3D%20%27inline%2Dblock%27%3B%0A%20%20%20%20%20%20%20%20span%2EappendChild%28text%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20init%20%3D%20function%20%28el%5F%2C%20config%2C%20doObserve%29%20%7B%0A%20%20%20%20%20%20el%20%3D%20el%5F%3B%0A%20%20%20%20%20%20extendDefaults%28config%29%3B%0A%0A%20%20%20%20%20%20if%20%28el%2EnodeName%20%3D%3D%20%27TEXTAREA%27%29%20%7B%0A%0A%20%20%20%20%20%20%20%20el%2Estyle%2Eresize%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20%20%20el%2Estyle%2EoverflowY%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20el%2Estyle%2Eheight%20%3D%20defaults%2EminHeight%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%20%20el%2Estyle%2EminWidth%20%3D%20defaults%2EminWidth%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%20%20el%2Estyle%2EmaxWidth%20%3D%20defaults%2EmaxWidth%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%20%20el%2Estyle%2EoverflowY%20%3D%20%27hidden%27%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%28doObserve%29%20%7B%0A%20%20%20%20%20%20%20%20observe%28el%2C%20%27change%27%2C%20resize%29%3B%0A%20%20%20%20%20%20%20%20observe%28el%2C%20%27cut%27%2C%20delayedResize%29%3B%0A%20%20%20%20%20%20%20%20observe%28el%2C%20%27paste%27%2C%20delayedResize%29%3B%0A%20%20%20%20%20%20%20%20observe%28el%2C%20%27drop%27%2C%20delayedResize%29%3B%0A%20%20%20%20%20%20%20%20observe%28el%2C%20%27keydown%27%2C%20delayedResize%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20resize%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20return%20%7B%0A%20%20%20%20init%3A%20function%20%28el%5F%2C%20config%2C%20doObserve%29%20%7B%0A%20%20%20%20%20%20init%28el%5F%2C%20config%2C%20doObserve%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20unObserve%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20unObserve%28el%2C%20%27change%27%2C%20resize%29%3B%0A%20%20%20%20%20%20unObserve%28el%2C%20%27cut%27%2C%20delayedResize%29%3B%0A%20%20%20%20%20%20unObserve%28el%2C%20%27paste%27%2C%20delayedResize%29%3B%0A%20%20%20%20%20%20unObserve%28el%2C%20%27drop%27%2C%20delayedResize%29%3B%0A%20%20%20%20%20%20unObserve%28el%2C%20%27keydown%27%2C%20delayedResize%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20resize%3A%20resize%0A%20%20%7D%3B%0A%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20SheetClip%20%2D%20Spreadsheet%20Clipboard%20Parser%0A%20%2A%20version%200%2E2%0A%20%2A%0A%20%2A%20This%20tiny%20library%20transforms%20JavaScript%20arrays%20to%20strings%20that%20are%20pasteable%20by%20LibreOffice%2C%20OpenOffice%2C%0A%20%2A%20Google%20Docs%20and%20Microsoft%20Excel%2E%0A%20%2A%0A%20%2A%20Copyright%202012%2C%20Marcin%20Warpechowski%0A%20%2A%20Licensed%20under%20the%20MIT%20license%2E%0A%20%2A%20http%3A%2F%2Fgithub%2Ecom%2Fwarpech%2Fsheetclip%2F%0A%20%2A%2F%0A%2F%2Ajslint%20white%3A%20true%2A%2F%0A%28function%20%28global%29%20%7B%0A%20%20%22use%20strict%22%3B%0A%0A%20%20function%20countQuotes%28str%29%20%7B%0A%20%20%20%20return%20str%2Esplit%28%27%22%27%29%2Elength%20%2D%201%3B%0A%20%20%7D%0A%0A%20%20global%2ESheetClip%20%3D%20%7B%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Decode%20spreadsheet%20string%20into%20array%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20str%0A%20%20%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20parse%3A%20function%20%28str%29%20%7B%0A%20%20%20%20%20%20var%20r%2C%20rLen%2C%20rows%2C%20arr%20%3D%20%5B%5D%2C%20a%20%3D%200%2C%20c%2C%20cLen%2C%20multiline%2C%20last%3B%0A%0A%20%20%20%20%20%20rows%20%3D%20str%2Esplit%28%27%5Cn%27%29%3B%0A%0A%20%20%20%20%20%20if%20%28rows%2Elength%20%3E%201%20%26%26%20rows%5Brows%2Elength%20%2D%201%5D%20%3D%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20rows%2Epop%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20%28r%20%3D%200%2C%20rLen%20%3D%20rows%2Elength%3B%20r%20%3C%20rLen%3B%20r%20%2B%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20rows%5Br%5D%20%3D%20rows%5Br%5D%2Esplit%28%27%5Ct%27%29%3B%0A%0A%20%20%20%20%20%20%20%20for%20%28c%20%3D%200%2C%20cLen%20%3D%20rows%5Br%5D%2Elength%3B%20c%20%3C%20cLen%3B%20c%20%2B%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21arr%5Ba%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%5Ba%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20%28multiline%20%26%26%20c%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20last%20%3D%20arr%5Ba%5D%2Elength%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%5Ba%5D%5Blast%5D%20%3D%20arr%5Ba%5D%5Blast%5D%20%2B%20%27%5Cn%27%20%2B%20rows%5Br%5D%5B0%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28multiline%20%26%26%20%28countQuotes%28rows%5Br%5D%5B0%5D%29%20%26%201%29%29%20%7B%20%2F%2F%26%201%20is%20a%20bitwise%20way%20of%20performing%20mod%202%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20multiline%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20arr%5Ba%5D%5Blast%5D%20%3D%20arr%5Ba%5D%5Blast%5D%2Esubstring%280%2C%20arr%5Ba%5D%5Blast%5D%2Elength%20%2D%201%29%2Ereplace%28%2F%22%22%2Fg%2C%20%27%22%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28c%20%3D%3D%3D%20cLen%20%2D%201%20%26%26%20rows%5Br%5D%5Bc%5D%2EindexOf%28%27%22%27%29%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20arr%5Ba%5D%2Epush%28rows%5Br%5D%5Bc%5D%2Esubstring%281%29%2Ereplace%28%2F%22%22%2Fg%2C%20%27%22%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20multiline%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20arr%5Ba%5D%2Epush%28rows%5Br%5D%5Bc%5D%2Ereplace%28%2F%22%22%2Fg%2C%20%27%22%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20multiline%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28%21multiline%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20a%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20arr%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Encode%20array%20into%20valid%20spreadsheet%20string%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40param%20arr%0A%20%20%20%20%20%2A%20%40returns%20%7BString%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20stringify%3A%20function%20%28arr%29%20%7B%0A%20%20%20%20%20%20var%20r%2C%20rLen%2C%20c%2C%20cLen%2C%20str%20%3D%20%27%27%2C%20val%3B%0A%0A%20%20%20%20%20%20for%20%28r%20%3D%200%2C%20rLen%20%3D%20arr%2Elength%3B%20r%20%3C%20rLen%3B%20r%20%2B%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20cLen%20%3D%20arr%5Br%5D%2Elength%3B%0A%0A%20%20%20%20%20%20%20%20for%20%28c%20%3D%200%3B%20c%20%3C%20cLen%3B%20c%20%2B%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28c%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20str%20%2B%3D%20%27%5Ct%27%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20val%20%3D%20arr%5Br%5D%5Bc%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20val%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28val%2EindexOf%28%27%5Cn%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20str%20%2B%3D%20%27%22%27%20%2B%20val%2Ereplace%28%2F%22%2Fg%2C%20%27%22%22%27%29%20%2B%20%27%22%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20str%20%2B%3D%20val%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20if%20%28val%20%3D%3D%3D%20null%20%7C%7C%20val%20%3D%3D%3D%20void%200%29%20%7B%20%2F%2F%20void%200%20resolves%20to%20undefined%0A%20%20%20%20%20%20%20%20%20%20%20%20str%20%2B%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20str%20%2B%3D%20val%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20str%20%2B%3D%20%27%5Cn%27%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20str%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%28window%29%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20Creates%20a%20textarea%20that%20stays%20hidden%20on%20the%20page%20and%20gets%20focused%20when%20user%20presses%20CTRL%20while%20not%20having%20a%20form%0A%20%2A%20input%20focused%2E%0A%20%2A%20In%20future%20we%20may%20implement%20a%20better%20driver%20when%20better%20APIs%20are%20available%2E%0A%20%2A%0A%20%2A%20%40constructor%0A%20%2A%20%40private%0A%20%2A%2F%0Avar%20CopyPaste%20%3D%20%28function%20%28%29%20%7B%0A%20%20var%20instance%3B%0A%0A%20%20return%20%7B%0A%20%20%20%20getInstance%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20if%20%28%21instance%29%20%7B%0A%20%20%20%20%20%20%20%20instance%20%3D%20new%20CopyPasteClass%28%29%3B%0A%0A%20%20%20%20%20%20%7D%20else%20if%20%28instance%2EhasBeenDestroyed%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2Einit%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20instance%2ErefCounter%20%2B%2B%3B%0A%0A%20%20%20%20%20%20return%20instance%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%29%28%29%3B%0A%0Afunction%20CopyPasteClass%28%29%20%7B%0A%20%20this%2ErefCounter%20%3D%200%3B%0A%20%20this%2Einit%28%29%3B%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20Initialize%20CopyPaste%20class%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2Einit%20%3D%20function%20%28%29%20%7B%0A%20%20var%0A%20%20%20%20style%2C%0A%20%20%20%20parent%3B%0A%0A%20%20this%2EcopyCallbacks%20%3D%20%5B%5D%3B%0A%20%20this%2EcutCallbacks%20%3D%20%5B%5D%3B%0A%20%20this%2EpasteCallbacks%20%3D%20%5B%5D%3B%0A%20%20this%2E%5FeventManager%20%3D%20Handsontable%2EeventManager%28this%29%3B%0A%0A%20%20%2F%2F%20this%2ElistenerElement%20%3D%20document%2EdocumentElement%3B%0A%20%20parent%20%3D%20document%2Ebody%3B%0A%0A%20%20if%20%28document%2EgetElementById%28%27CopyPasteDiv%27%29%29%20%7B%0A%20%20%20%20this%2EelDiv%20%3D%20document%2EgetElementById%28%27CopyPasteDiv%27%29%3B%0A%20%20%20%20this%2EelTextarea%20%3D%20this%2EelDiv%2EfirstChild%3B%0A%0A%20%20%7D%20else%20%7B%0A%20%20%20%20this%2EelDiv%20%3D%20document%2EcreateElement%28%27div%27%29%3B%0A%20%20%20%20this%2EelDiv%2Eid%20%3D%20%27CopyPasteDiv%27%3B%0A%20%20%20%20style%20%3D%20this%2EelDiv%2Estyle%3B%0A%20%20%20%20style%2Eposition%20%3D%20%27fixed%27%3B%0A%20%20%20%20style%2Etop%20%3D%20%27%2D10000px%27%3B%0A%20%20%20%20style%2Eleft%20%3D%20%27%2D10000px%27%3B%0A%20%20%20%20parent%2EappendChild%28this%2EelDiv%29%3B%0A%0A%20%20%20%20this%2EelTextarea%20%3D%20document%2EcreateElement%28%27textarea%27%29%3B%0A%20%20%20%20this%2EelTextarea%2EclassName%20%3D%20%27copyPaste%27%3B%0A%20%20%20%20this%2EelTextarea%2Eonpaste%20%3D%20function%28event%29%20%7B%0A%20%20%20%20%20%20if%20%28%27WebkitAppearance%27%20in%20document%2EdocumentElement%2Estyle%29%20%7B%20%2F%2F%20chrome%20and%20safari%0A%20%20%20%20%20%20%20%20this%2Evalue%20%3D%20event%2EclipboardData%2EgetData%28%22Text%22%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20style%20%3D%20this%2EelTextarea%2Estyle%3B%0A%20%20%20%20style%2Ewidth%20%3D%20%2710000px%27%3B%0A%20%20%20%20style%2Eheight%20%3D%20%2710000px%27%3B%0A%20%20%20%20style%2Eoverflow%20%3D%20%27hidden%27%3B%0A%20%20%20%20this%2EelDiv%2EappendChild%28this%2EelTextarea%29%3B%0A%0A%20%20%20%20if%20%28typeof%20style%2Eopacity%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20style%2Eopacity%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20this%2EkeyDownRemoveEvent%20%3D%20this%2E%5FeventManager%2EaddEventListener%28document%2EdocumentElement%2C%20%27keydown%27%2C%20this%2EonKeyDown%2Ebind%28this%29%2C%20false%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Call%20method%20on%20every%20key%20down%20event%0A%20%2A%0A%20%2A%20%40param%20%7BDOMEvent%7D%20event%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2EonKeyDown%20%3D%20function%28event%29%20%7B%0A%20%20var%20%5Fthis%20%3D%20this%2C%0A%20%20%20%20isCtrlDown%20%3D%20false%3B%0A%0A%20%20function%20isActiveElementEditable%28%29%20%7B%0A%20%20%20%20var%20element%20%3D%20document%2EactiveElement%3B%0A%0A%20%20%20%20if%20%28element%2EshadowRoot%20%26%26%20element%2EshadowRoot%2EactiveElement%29%20%7B%0A%20%20%20%20%20%20element%20%3D%20element%2EshadowRoot%2EactiveElement%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%5B%27INPUT%27%2C%20%27SELECT%27%2C%20%27TEXTAREA%27%5D%2EindexOf%28element%2EnodeName%29%20%3E%20%2D1%3B%0A%20%20%7D%0A%0A%20%20%2F%2F%20mac%0A%20%20if%20%28event%2EmetaKey%29%20%7B%0A%20%20%20%20isCtrlDown%20%3D%20true%3B%0A%20%20%7D%0A%20%20%2F%2F%20pc%0A%20%20else%20if%20%28event%2EctrlKey%20%26%26%20navigator%2EuserAgent%2EindexOf%28%27Mac%27%29%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20isCtrlDown%20%3D%20true%3B%0A%20%20%7D%0A%20%20if%20%28isCtrlDown%29%20%7B%0A%20%20%20%20%2F%2F%20this%20is%20needed%20by%20fragmentSelection%20in%20Handsontable%2E%20Ignore%20copypaste%2Ejs%20behavior%20if%20fragment%20of%20cell%20text%20is%20selected%0A%20%20%20%20if%20%28document%2EactiveElement%20%21%3D%3D%20this%2EelTextarea%20%26%26%20%28this%2EgetSelectionText%28%29%20%21%3D%3D%20%27%27%20%7C%7C%20isActiveElementEditable%28%29%29%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2EselectNodeText%28this%2EelTextarea%29%3B%0A%20%20%20%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%5Fthis%2EselectNodeText%28%5Fthis%2EelTextarea%29%3B%0A%20%20%20%20%7D%2C%200%29%3B%0A%20%20%7D%0A%0A%20%20if%20%28isCtrlDown%20%26%26%0A%20%20%20%20%20%20%28event%2EkeyCode%20%3D%3D%3D%20Handsontable%2Ehelper%2EkeyCode%2EC%20%7C%7C%0A%20%20%20%20%20%20event%2EkeyCode%20%3D%3D%3D%20Handsontable%2Ehelper%2EkeyCode%2EV%20%7C%7C%0A%20%20%20%20%20%20event%2EkeyCode%20%3D%3D%3D%20Handsontable%2Ehelper%2EkeyCode%2EX%29%29%20%7B%0A%20%20%20%20%2F%2F%20works%20in%20all%20browsers%2C%20incl%2E%20Opera%20%3C%2012%2E12%0A%20%20%20%20if%20%28event%2EkeyCode%20%3D%3D%3D%2088%29%20%7B%0A%20%20%20%20%20%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%5Fthis%2EtriggerCut%28event%29%3B%0A%20%20%20%20%20%20%7D%2C%200%29%3B%0A%0A%20%20%20%20%7D%20else%20if%20%28event%2EkeyCode%20%3D%3D%3D%2086%29%20%7B%0A%20%20%20%20%20%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%5Fthis%2EtriggerPaste%28event%29%3B%0A%20%20%20%20%20%20%7D%2C%200%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2Fhttp%3A%2F%2Fjsperf%2Ecom%2Ftextara%2Dselection%0A%2F%2Fhttp%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F1502385%2Fhow%2Dcan%2Di%2Dmake%2Dthis%2Dcode%2Dwork%2Din%2Die%0A%2F%2A%2A%0A%20%2A%20Select%20all%20text%20contains%20in%20passed%20node%20element%0A%20%2A%0A%20%2A%20%40param%20%7BElement%7D%20element%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2EselectNodeText%20%3D%20function%28element%29%20%7B%0A%20%20if%20%28element%29%20%7B%0A%20%20%20%20element%2Eselect%28%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2Fhttp%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F5379120%2Fget%2Dthe%2Dhighlighted%2Dselected%2Dtext%0A%2F%2A%2A%0A%20%2A%20Get%20selection%20text%0A%20%2A%0A%20%2A%20%40returns%20%7BString%7D%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2EgetSelectionText%20%3D%20function%28%29%20%7B%0A%20%20var%20text%20%3D%20%27%27%3B%0A%0A%20%20if%20%28window%2EgetSelection%29%20%7B%0A%20%20%20%20text%20%3D%20window%2EgetSelection%28%29%2EtoString%28%29%3B%0A%0A%20%20%7D%20else%20if%20%28document%2Eselection%20%26%26%20document%2Eselection%2Etype%20%21%3D%3D%20%27Control%27%29%20%7B%0A%20%20%20%20text%20%3D%20document%2Eselection%2EcreateRange%28%29%2Etext%3B%0A%20%20%7D%0A%0A%20%20return%20text%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Make%20string%20copyable%0A%20%2A%0A%20%2A%20%40param%20%7BString%7D%20string%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2Ecopyable%20%3D%20function%28string%29%20%7B%0A%20%20if%20%28typeof%20string%20%21%3D%3D%20%27string%27%20%26%26%20string%2EtoString%20%3D%3D%3D%20void%200%29%20%7B%0A%20%20%20%20throw%20new%20Error%28%27copyable%20requires%20string%20parameter%27%29%3B%0A%20%20%7D%0A%20%20this%2EelTextarea%2Evalue%20%3D%20string%3B%0A%7D%3B%0A%0A%2F%2ACopyPasteClass%2Eprototype%2EonCopy%20%3D%20function%20%28fn%29%20%7B%0A%20%20this%2EcopyCallbacks%2Epush%28fn%29%3B%0A%7D%3B%2A%2F%0A%0A%2F%2A%2A%0A%20%2A%20Add%20function%20callback%20to%20onCut%20event%0A%20%2A%0A%20%2A%20%40param%20%7BFunction%7D%20callback%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2EonCut%20%3D%20function%28callback%29%20%7B%0A%20%20this%2EcutCallbacks%2Epush%28callback%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Add%20function%20callback%20to%20onPaste%20event%0A%20%2A%0A%20%2A%20%40param%20%7BFunction%7D%20callback%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2EonPaste%20%3D%20function%28callback%29%20%7B%0A%20%20this%2EpasteCallbacks%2Epush%28callback%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Remove%20callback%20from%20all%20events%0A%20%2A%0A%20%2A%20%40param%20%7BFunction%7D%20callback%0A%20%2A%20%40returns%20%7BBoolean%7D%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2EremoveCallback%20%3D%20function%28callback%29%20%7B%0A%20%20var%20i%2C%20len%3B%0A%0A%20%20for%20%28i%20%3D%200%2C%20len%20%3D%20this%2EcopyCallbacks%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20if%20%28this%2EcopyCallbacks%5Bi%5D%20%3D%3D%3D%20callback%29%20%7B%0A%20%20%20%20%20%20this%2EcopyCallbacks%2Esplice%28i%2C%201%29%3B%0A%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20for%20%28i%20%3D%200%2C%20len%20%3D%20this%2EcutCallbacks%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20if%20%28this%2EcutCallbacks%5Bi%5D%20%3D%3D%3D%20callback%29%20%7B%0A%20%20%20%20%20%20this%2EcutCallbacks%2Esplice%28i%2C%201%29%3B%0A%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20for%20%28i%20%3D%200%2C%20len%20%3D%20this%2EpasteCallbacks%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20if%20%28this%2EpasteCallbacks%5Bi%5D%20%3D%3D%3D%20callback%29%20%7B%0A%20%20%20%20%20%20this%2EpasteCallbacks%2Esplice%28i%2C%201%29%3B%0A%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20return%20false%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Trigger%20cut%20event%0A%20%2A%0A%20%2A%20%40param%20%7BDOMEvent%7D%20event%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2EtriggerCut%20%3D%20function%28event%29%20%7B%0A%20%20var%20%5Fthis%20%3D%20this%3B%0A%0A%20%20if%20%28%5Fthis%2EcutCallbacks%29%20%7B%0A%20%20%20%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20len%20%3D%20%5Fthis%2EcutCallbacks%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%5Fthis%2EcutCallbacks%5Bi%5D%28event%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%2050%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Trigger%20paste%20event%0A%20%2A%0A%20%2A%20%40param%20%7BDOMEvent%7D%20event%0A%20%2A%20%40param%20%7BString%7D%20string%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2EtriggerPaste%20%3D%20function%28event%2C%20string%29%20%7B%0A%20%20var%20%5Fthis%20%3D%20this%3B%0A%0A%20%20if%20%28%5Fthis%2EpasteCallbacks%29%20%7B%0A%20%20%20%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20val%20%3D%20string%20%7C%7C%20%5Fthis%2EelTextarea%2Evalue%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20len%20%3D%20%5Fthis%2EpasteCallbacks%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%5Fthis%2EpasteCallbacks%5Bi%5D%28val%2C%20event%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%2050%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Destroy%20instance%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2Edestroy%20%3D%20function%28%29%20%7B%0A%20%20if%20%28%21this%2EhasBeenDestroyed%28%29%20%26%26%20%2D%2Dthis%2ErefCounter%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20if%20%28this%2EelDiv%20%26%26%20this%2EelDiv%2EparentNode%29%20%7B%0A%20%20%20%20%20%20this%2EelDiv%2EparentNode%2EremoveChild%28this%2EelDiv%29%3B%0A%20%20%20%20%20%20this%2EelDiv%20%3D%20null%3B%0A%20%20%20%20%20%20this%2EelTextarea%20%3D%20null%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2EkeyDownRemoveEvent%28%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Check%20if%20instance%20has%20been%20destroyed%0A%20%2A%0A%20%2A%20%40returns%20%7BBoolean%7D%0A%20%2A%2F%0ACopyPasteClass%2Eprototype%2EhasBeenDestroyed%20%3D%20function%28%29%20%7B%0A%20%20return%20%21this%2ErefCounter%3B%0A%7D%3B%0A%0A%0A%0A%2F%2F%20json%2Dpatch%2Dduplex%2Ejs%200%2E3%2E6%0A%2F%2F%20%28c%29%202013%20Joachim%20Wester%0A%2F%2F%20MIT%20license%0Avar%20jsonpatch%3B%0A%28function%20%28jsonpatch%29%20%7B%0A%20%20%20%20var%20objOps%20%3D%20%7B%0A%20%20%20%20%20%20%20%20add%3A%20function%20%28obj%2C%20key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20obj%5Bkey%5D%20%3D%20this%2Evalue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20remove%3A%20function%20%28obj%2C%20key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20delete%20obj%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20replace%3A%20function%20%28obj%2C%20key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20obj%5Bkey%5D%20%3D%20this%2Evalue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20move%3A%20function%20%28obj%2C%20key%2C%20tree%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20temp%20%3D%20%7B%20op%3A%20%22%5Fget%22%2C%20path%3A%20this%2Efrom%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20apply%28tree%2C%20%5Btemp%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20apply%28tree%2C%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20op%3A%20%22remove%22%2C%20path%3A%20this%2Efrom%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20apply%28tree%2C%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20op%3A%20%22add%22%2C%20path%3A%20this%2Epath%2C%20value%3A%20temp%2Evalue%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20copy%3A%20function%20%28obj%2C%20key%2C%20tree%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20temp%20%3D%20%7B%20op%3A%20%22%5Fget%22%2C%20path%3A%20this%2Efrom%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20apply%28tree%2C%20%5Btemp%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20apply%28tree%2C%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20op%3A%20%22add%22%2C%20path%3A%20this%2Epath%2C%20value%3A%20temp%2Evalue%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20test%3A%20function%20%28obj%2C%20key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%28JSON%2Estringify%28obj%5Bkey%5D%29%20%3D%3D%3D%20JSON%2Estringify%28this%2Evalue%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5Fget%3A%20function%20%28obj%2C%20key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Evalue%20%3D%20obj%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20arrOps%20%3D%20%7B%0A%20%20%20%20%20%20%20%20add%3A%20function%20%28arr%2C%20i%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%2Esplice%28i%2C%200%2C%20this%2Evalue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20remove%3A%20function%20%28arr%2C%20i%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%2Esplice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20replace%3A%20function%20%28arr%2C%20i%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%5Bi%5D%20%3D%20this%2Evalue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20move%3A%20objOps%2Emove%2C%0A%20%20%20%20%20%20%20%20copy%3A%20objOps%2Ecopy%2C%0A%20%20%20%20%20%20%20%20test%3A%20objOps%2Etest%2C%0A%20%20%20%20%20%20%20%20%5Fget%3A%20objOps%2E%5Fget%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20observeOps%20%3D%20%7B%0A%20%20%20%20%20%20%20%20add%3A%20function%20%28patches%2C%20path%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20patch%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%3A%20%22add%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20path%3A%20path%20%2B%20escapePathComponent%28this%2Ename%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20this%2Eobject%5Bthis%2Ename%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20patches%2Epush%28patch%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%27delete%27%3A%20function%20%28patches%2C%20path%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20patch%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%3A%20%22remove%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20path%3A%20path%20%2B%20escapePathComponent%28this%2Ename%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20patches%2Epush%28patch%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20update%3A%20function%20%28patches%2C%20path%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20patch%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20op%3A%20%22replace%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20path%3A%20path%20%2B%20escapePathComponent%28this%2Ename%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%3A%20this%2Eobject%5Bthis%2Ename%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20patches%2Epush%28patch%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20function%20escapePathComponent%28str%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28str%2EindexOf%28%27%2F%27%29%20%3D%3D%3D%20%2D1%20%26%26%20str%2EindexOf%28%27%7E%27%29%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20str%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20str%2Ereplace%28%2F%7E%2Fg%2C%20%27%7E0%27%29%2Ereplace%28%2F%5C%2F%2Fg%2C%20%27%7E1%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20%5FgetPathRecursive%28root%2C%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20var%20found%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20key%20in%20root%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28root%2EhasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28root%5Bkey%5D%20%3D%3D%3D%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20escapePathComponent%28key%29%20%2B%20%27%2F%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28typeof%20root%5Bkey%5D%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20found%20%3D%20%5FgetPathRecursive%28root%5Bkey%5D%2C%20obj%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28found%20%21%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20escapePathComponent%28key%29%20%2B%20%27%2F%27%20%2B%20found%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20%27%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20getPath%28root%2C%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28root%20%3D%3D%3D%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%27%2F%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20path%20%3D%20%5FgetPathRecursive%28root%2C%20obj%29%3B%0A%20%20%20%20%20%20%20%20if%20%28path%20%3D%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22Object%20not%20found%20in%20root%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20%27%2F%27%20%2B%20path%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20beforeDict%20%3D%20%5B%5D%3B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20jsonpatch%2Eintervals%3B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%20%20var%20Mirror%20%3D%20%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20function%20Mirror%28obj%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Eobservers%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Eobj%20%3D%20obj%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20Mirror%3B%0A%20%20%20%20%7D%29%28%29%3B%0A%0A%20%20%20%20var%20ObserverInfo%20%3D%20%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20function%20ObserverInfo%28callback%2C%20observer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ecallback%20%3D%20callback%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Eobserver%20%3D%20observer%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20ObserverInfo%3B%0A%20%20%20%20%7D%29%28%29%3B%0A%0A%20%20%20%20function%20getMirror%28obj%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20beforeDict%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28beforeDict%5Bi%5D%2Eobj%20%3D%3D%3D%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20beforeDict%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20getObserverFromMirror%28mirror%2C%20callback%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20jlen%20%3D%20mirror%2Eobservers%2Elength%3B%20j%20%3C%20jlen%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28mirror%2Eobservers%5Bj%5D%2Ecallback%20%3D%3D%3D%20callback%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20mirror%2Eobservers%5Bj%5D%2Eobserver%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20removeObserverFromMirror%28mirror%2C%20observer%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20jlen%20%3D%20mirror%2Eobservers%2Elength%3B%20j%20%3C%20jlen%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28mirror%2Eobservers%5Bj%5D%2Eobserver%20%3D%3D%3D%20observer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mirror%2Eobservers%2Esplice%28j%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20unobserve%28root%2C%20observer%29%20%7B%0A%20%20%20%20%20%20%20%20generate%28observer%29%3B%0A%20%20%20%20%20%20%20%20if%20%28Object%2Eobserve%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Funobserve%28observer%2C%20root%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20clearTimeout%28observer%2Enext%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20var%20mirror%20%3D%20getMirror%28root%29%3B%0A%20%20%20%20%20%20%20%20removeObserverFromMirror%28mirror%2C%20observer%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20jsonpatch%2Eunobserve%20%3D%20unobserve%3B%0A%0A%20%20%20%20function%20observe%28obj%2C%20callback%29%20%7B%0A%20%20%20%20%20%20%20%20var%20patches%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20var%20root%20%3D%20obj%3B%0A%20%20%20%20%20%20%20%20var%20observer%3B%0A%20%20%20%20%20%20%20%20var%20mirror%20%3D%20getMirror%28obj%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28%21mirror%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20mirror%20%3D%20new%20Mirror%28obj%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20beforeDict%2Epush%28mirror%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20observer%20%3D%20getObserverFromMirror%28mirror%2C%20callback%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28observer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20observer%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28Object%2Eobserve%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20observer%20%3D%20function%20%28arr%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2FThis%20%22refresh%22%20is%20needed%20to%20begin%20observing%20new%20object%20properties%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Funobserve%28observer%2C%20obj%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Fobserve%28observer%2C%20obj%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20a%20%3D%200%2C%20alen%20%3D%20arr%2Elength%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20%28a%20%3C%20alen%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21%28arr%5Ba%5D%2Ename%20%3D%3D%3D%20%27length%27%20%26%26%20%5FisArray%28arr%5Ba%5D%2Eobject%29%29%20%26%26%20%21%28arr%5Ba%5D%2Ename%20%3D%3D%3D%20%27%5F%5FJasmine%5Fbeen%5Fhere%5Fbefore%5F%5F%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20type%20%3D%20arr%5Ba%5D%2Etype%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20switch%20%28type%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27new%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%20%3D%20%27add%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27deleted%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%20%3D%20%27delete%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27updated%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%20%3D%20%27update%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20observeOps%5Btype%5D%2Ecall%28arr%5Ba%5D%2C%20patches%2C%20getPath%28root%2C%20arr%5Ba%5D%2Eobject%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28patches%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28callback%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20callback%28patches%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20observer%2Epatches%20%3D%20patches%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20patches%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20observer%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20mirror%2Evalue%20%3D%20JSON%2Eparse%28JSON%2Estringify%28obj%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28callback%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fcallbacks%2Epush%28callback%29%3B%20this%20has%20no%20purpose%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20observer%2Ecallback%20%3D%20callback%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20observer%2Enext%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20intervals%20%3D%20this%2Eintervals%20%7C%7C%20%5B100%2C%201000%2C%2010000%2C%2060000%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20currentInterval%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20dirtyCheck%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20generate%28observer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20fastCheck%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clearTimeout%28observer%2Enext%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20observer%2Enext%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dirtyCheck%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentInterval%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20observer%2Enext%20%3D%20setTimeout%28slowCheck%2C%20intervals%5BcurrentInterval%2B%2B%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20slowCheck%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20dirtyCheck%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentInterval%20%3D%3D%20intervals%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentInterval%20%3D%20intervals%2Elength%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20observer%2Enext%20%3D%20setTimeout%28slowCheck%2C%20intervals%5BcurrentInterval%2B%2B%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20window%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28window%2EaddEventListener%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window%2EaddEventListener%28%27mousedown%27%2C%20fastCheck%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window%2EaddEventListener%28%27mouseup%27%2C%20fastCheck%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window%2EaddEventListener%28%27keydown%27%2C%20fastCheck%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window%2EattachEvent%28%27onmousedown%27%2C%20fastCheck%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window%2EattachEvent%28%27onmouseup%27%2C%20fastCheck%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window%2EattachEvent%28%27onkeydown%27%2C%20fastCheck%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20observer%2Enext%20%3D%20setTimeout%28slowCheck%2C%20intervals%5BcurrentInterval%2B%2B%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20observer%2Epatches%20%3D%20patches%3B%0A%20%20%20%20%20%20%20%20observer%2Eobject%20%3D%20obj%3B%0A%0A%20%20%20%20%20%20%20%20mirror%2Eobservers%2Epush%28new%20ObserverInfo%28callback%2C%20observer%29%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20%5Fobserve%28observer%2C%20obj%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20jsonpatch%2Eobserve%20%3D%20observe%3B%0A%0A%20%20%20%20%2F%2F%2F%20Listen%20to%20changes%20on%20an%20object%20tree%2C%20accumulate%20patches%0A%20%20%20%20function%20%5Fobserve%28observer%2C%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28Object%2Eobserve%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Object%2Eobserve%28obj%2C%20observer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20key%20in%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28obj%2EhasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20v%20%3D%20obj%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28v%20%26%26%20typeof%20%28v%29%20%3D%3D%3D%20%22object%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Fobserve%28observer%2C%20v%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20observer%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20%5Funobserve%28observer%2C%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28Object%2Eobserve%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Object%2Eunobserve%28obj%2C%20observer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20key%20in%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28obj%2EhasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20v%20%3D%20obj%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28v%20%26%26%20typeof%20%28v%29%20%3D%3D%3D%20%22object%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Funobserve%28observer%2C%20v%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20observer%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20generate%28observer%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28Object%2Eobserve%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Object%2EdeliverChangeRecords%28observer%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20mirror%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20beforeDict%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28beforeDict%5Bi%5D%2Eobj%20%3D%3D%3D%20observer%2Eobject%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mirror%20%3D%20beforeDict%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Fgenerate%28mirror%2Evalue%2C%20observer%2Eobject%2C%20observer%2Epatches%2C%20%22%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20temp%20%3D%20observer%2Epatches%3B%0A%20%20%20%20%20%20%20%20if%20%28temp%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20observer%2Epatches%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28observer%2Ecallback%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20observer%2Ecallback%28temp%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20temp%3B%0A%20%20%20%20%7D%0A%20%20%20%20jsonpatch%2Egenerate%20%3D%20generate%3B%0A%0A%20%20%20%20var%20%5FobjectKeys%3B%0A%20%20%20%20if%20%28Object%2Ekeys%29%20%7B%0A%20%20%20%20%20%20%20%20%5FobjectKeys%20%3D%20Object%2Ekeys%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%5FobjectKeys%20%3D%20function%20%28obj%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20keys%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20o%20in%20obj%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28obj%2EhasOwnProperty%28o%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20keys%2Epush%28o%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20keys%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Dirty%20check%20if%20obj%20is%20different%20from%20mirror%2C%20generate%20patches%20and%20update%20mirror%0A%20%20%20%20function%20%5Fgenerate%28mirror%2C%20obj%2C%20patches%2C%20path%29%20%7B%0A%20%20%20%20%20%20%20%20var%20newKeys%20%3D%20%5FobjectKeys%28obj%29%3B%0A%20%20%20%20%20%20%20%20var%20oldKeys%20%3D%20%5FobjectKeys%28mirror%29%3B%0A%20%20%20%20%20%20%20%20var%20changed%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20var%20deleted%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20for%20%28var%20t%20%3D%20oldKeys%2Elength%20%2D%201%3B%20t%20%3E%3D%200%3B%20t%2D%2D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20key%20%3D%20oldKeys%5Bt%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20oldVal%20%3D%20mirror%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28obj%2EhasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20newVal%20%3D%20obj%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28oldVal%20instanceof%20Object%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Fgenerate%28oldVal%2C%20newVal%2C%20patches%2C%20path%20%2B%20%22%2F%22%20%2B%20escapePathComponent%28key%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28oldVal%20%21%3D%20newVal%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20changed%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20patches%2Epush%28%7B%20op%3A%20%22replace%22%2C%20path%3A%20path%20%2B%20%22%2F%22%20%2B%20escapePathComponent%28key%29%2C%20value%3A%20newVal%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mirror%5Bkey%5D%20%3D%20newVal%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20patches%2Epush%28%7B%20op%3A%20%22remove%22%2C%20path%3A%20path%20%2B%20%22%2F%22%20%2B%20escapePathComponent%28key%29%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delete%20mirror%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deleted%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28%21deleted%20%26%26%20newKeys%2Elength%20%3D%3D%20oldKeys%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20for%20%28var%20t%20%3D%200%3B%20t%20%3C%20newKeys%2Elength%3B%20t%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20key%20%3D%20newKeys%5Bt%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21mirror%2EhasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20patches%2Epush%28%7B%20op%3A%20%22add%22%2C%20path%3A%20path%20%2B%20%22%2F%22%20%2B%20escapePathComponent%28key%29%2C%20value%3A%20obj%5Bkey%5D%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mirror%5Bkey%5D%20%3D%20JSON%2Eparse%28JSON%2Estringify%28obj%5Bkey%5D%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20%5FisArray%3B%0A%20%20%20%20if%20%28Array%2EisArray%29%20%7B%0A%20%20%20%20%20%20%20%20%5FisArray%20%3D%20Array%2EisArray%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%5FisArray%20%3D%20function%20%28obj%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20obj%2Epush%20%26%26%20typeof%20obj%2Elength%20%3D%3D%3D%20%27number%27%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%2F%20Apply%20a%20json%2Dpatch%20operation%20on%20an%20object%20tree%0A%20%20%20%20function%20apply%28tree%2C%20patches%29%20%7B%0A%20%20%20%20%20%20%20%20var%20result%20%3D%20false%2C%20p%20%3D%200%2C%20plen%20%3D%20patches%2Elength%2C%20patch%3B%0A%20%20%20%20%20%20%20%20while%20%28p%20%3C%20plen%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20patch%20%3D%20patches%5Bp%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Find%20the%20object%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20keys%20%3D%20patch%2Epath%2Esplit%28%27%2F%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20obj%20%3D%20tree%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20t%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20len%20%3D%20keys%2Elength%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20%28true%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%5FisArray%28obj%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20index%20%3D%20parseInt%28keys%5Bt%5D%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20t%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28t%20%3E%3D%20len%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20arrOps%5Bpatch%2Eop%5D%2Ecall%28patch%2C%20obj%2C%20index%2C%20tree%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj%20%3D%20obj%5Bindex%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20key%20%3D%20keys%5Bt%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28key%2EindexOf%28%27%7E%27%29%20%21%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20key%20%3D%20key%2Ereplace%28%2F%7E1%2Fg%2C%20%27%2F%27%29%2Ereplace%28%2F%7E0%2Fg%2C%20%27%7E%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20t%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28t%20%3E%3D%20len%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20objOps%5Bpatch%2Eop%5D%2Ecall%28patch%2C%20obj%2C%20key%2C%20tree%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20obj%20%3D%20obj%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20p%2B%2B%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%0A%20%20%20%20jsonpatch%2Eapply%20%3D%20apply%3B%0A%7D%29%28jsonpatch%20%7C%7C%20%28jsonpatch%20%3D%20%7B%7D%29%29%3B%0A%0Aif%20%28typeof%20exports%20%21%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20exports%2Eapply%20%3D%20jsonpatch%2Eapply%3B%0A%20%20%20%20exports%2Eobserve%20%3D%20jsonpatch%2Eobserve%3B%0A%20%20%20%20exports%2Eunobserve%20%3D%20jsonpatch%2Eunobserve%3B%0A%20%20%20%20exports%2Egenerate%20%3D%20jsonpatch%2Egenerate%3B%0A%7D%0A%0A%0A%2F%2A%2A%0A%20%2A%20%40description%0A%20%2A%20Handsontable%20events%20are%20the%20common%20interface%20that%20function%20in%202%20ways%3A%20as%20%5F%5Fcallbacks%5F%5F%20and%20as%20%5F%5Fplugin%20hooks%5F%5F%2E%0A%20%2A%0A%20%2A%20%40constructor%20Handsontable%2EHooks%0A%20%2A%20%40example%0A%20%2A%0A%20%2A%20%2F%2F%20%5F%5FUsing%20events%20as%20callbacks%3A%5F%5F%0A%20%2A%20%2E%2E%2E%0A%20%2A%20%24%28%27div%23example1%27%29%2Ehandsontable%28%7B%0A%20%2A%20%20%20afterChange%3A%20function%28changes%2C%20source%29%20%7B%0A%20%2A%20%20%20%20%20%24%2Eajax%28%7B%0A%20%2A%20%20%20%20%20%20%20url%3A%20%22save%2Ephp%22%2C%0A%20%2A%20%20%20%20%20%20%20data%3A%20change%0A%20%2A%20%20%20%20%20%7D%29%3B%0A%20%2A%20%20%20%7D%0A%20%2A%20%7D%29%3B%0A%20%2A%20%2E%2E%2E%0A%20%2A%0A%20%2A%20%2F%2F%20%5F%5FUsing%20events%20as%20plugin%20hooks%3A%5F%5F%0A%20%2A%20%2E%2E%2E%0A%20%2A%20%24%28%27%23example1%27%29%2Ehandsontable%28%7B%0A%20%2A%20%20%20%27myPlugin%27%3A%20true%0A%20%2A%20%7D%29%3B%0A%20%2A%0A%20%2A%20%24%28%27%23example2%27%29%2Ehandsontable%28%7B%0A%20%2A%20%20%20%27myPlugin%27%3A%20false%0A%20%2A%20%7D%29%3B%0A%20%2A%0A%20%2A%20%2F%2F%20global%20hook%0A%20%2A%20Handsontable%2EPluginHooks%2Eadd%28%27afterChange%27%2C%20function%28%29%20%7B%0A%20%2A%20%20%20if%28this%2EgetSettings%28%29%2EmyPlugin%29%20%7B%0A%20%2A%20%20%20%20%20%2F%2F%20function%20body%20%2D%20will%20only%20run%20in%20%23example1%0A%20%2A%20%20%20%7D%0A%20%2A%20%7D%29%3B%0A%20%2A%0A%20%2A%20%2F%2F%20local%20hook%20%28has%20same%20effect%20as%20a%20callback%29%0A%20%2A%20%24%28%27%23example2%27%29%2Ehandsontable%28%27getInstance%27%29%2EaddHook%28%27afterChange%27%2C%20function%28%29%20%7B%0A%20%2A%20%20%20%2F%2F%20function%20body%20%2D%20will%20only%20run%20in%20%23example2%0A%20%2A%20%7D%29%3B%0A%20%2A%20%2E%2E%2E%0A%20%2A%2F%0AHandsontable%2EPluginHookClass%20%3D%20%28function%20%28%29%20%7B%0A%0A%20%20var%20Hooks%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20before%20Walkontable%20instance%20is%20initiated%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeInitWalkontable%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeInitWalkontable%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40description%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20before%20Handsontable%20instance%20is%20initiated%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%5F%5FNote%3A%5F%5F%20This%20can%20be%20set%20only%20by%20global%20PluginHooks%20instance%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeInit%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeInit%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20before%20Handsontable%20table%20is%20rendered%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeRender%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20isForced%20If%20true%20rendering%20was%20triggered%20by%20a%20change%20of%20settings%20or%20data%3B%20or%20false%20if%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rendering%20was%20triggered%20by%20scrolling%20or%20moving%20selection%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeRender%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20before%20setting%20range%20is%20ended%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeSetRangeEnd%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BArray%7D%20coords%20WalkontableCellCoords%20array%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeSetRangeEnd%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeDrawBorders%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeDrawBorders%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20before%20one%20or%20more%20cells%20is%20changed%2E%20Its%20main%20purpose%20is%20to%20alter%20changes%20silently%20before%20input%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40example%0A%20%20%20%20%20%20%20%2A%20%2F%2F%20To%20disregard%20a%20single%20change%2C%20set%20changes%5Bi%5D%20to%20null%20or%20remove%20it%20from%20array%20using%20changes%2Esplice%28i%2C%201%29%2E%0A%20%20%20%20%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%20%20%20%20%2A%20%24%28%27div%23example1%27%29%2Ehandsontable%28%7B%0A%20%20%20%20%20%20%20%2A%20%20%20beforeChange%3A%20function%28changes%2C%20source%29%20%7B%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20%2F%2F%20%5B%5Brow%2C%20prop%2C%20oldVal%2C%20newVal%5D%2C%20%2E%2E%2E%5D%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20changes%5B0%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%20%2A%20%20%20%7D%0A%20%20%20%20%20%20%20%2A%20%7D%29%3B%0A%20%20%20%20%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%2F%2F%20To%20alter%20a%20single%20change%2C%20overwrite%20the%20desired%20value%20to%20changes%5Bi%5D%5B3%5D%2E%0A%20%20%20%20%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%20%20%20%20%2A%20%24%28%27div%23example1%27%29%2Ehandsontable%28%7B%0A%20%20%20%20%20%20%20%2A%20%20%20beforeChange%3A%20function%28changes%2C%20source%29%20%7B%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20%2F%2F%20%5B%5Brow%2C%20prop%2C%20oldVal%2C%20newVal%5D%2C%20%2E%2E%2E%5D%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20changes%5B0%5D%5B1%5D%20%3D%2010%3B%0A%20%20%20%20%20%20%20%2A%20%20%20%7D%0A%20%20%20%20%20%20%20%2A%20%7D%29%3B%0A%20%20%20%20%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%2F%2F%20To%20cancel%20all%20edit%2C%20return%20false%20from%20the%20callback%20or%20set%20array%20length%20to%200%20%28changes%2Elength%20%3D%200%29%2E%0A%20%20%20%20%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%20%20%20%20%2A%20%24%28%27div%23example1%27%29%2Ehandsontable%28%7B%0A%20%20%20%20%20%20%20%2A%20%20%20beforeChange%3A%20function%28changes%2C%20source%29%20%7B%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20%2F%2F%20%5B%5Brow%2C%20prop%2C%20oldVal%2C%20newVal%5D%2C%20%2E%2E%2E%5D%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%2A%20%20%20%7D%0A%20%20%20%20%20%20%20%2A%20%7D%29%3B%0A%20%20%20%20%20%20%20%2A%20%2E%2E%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeChange%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BArray%7D%20changes%202D%20array%20containing%20information%20about%20each%20of%20the%20edited%20cells%2E%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20source%20The%20name%20of%20a%20source%20of%20changes%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeChange%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeChangeRender%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeChangeRender%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20is%20fired%20when%20one%20or%20more%20columns%20are%20about%20to%20be%20removed%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeRemoveCol%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20index%20Index%20of%20starter%20column%2E%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%20Amount%20of%20columns%20to%20be%20removed%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeRemoveCol%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20is%20fired%20when%20one%20or%20more%20rows%20are%20about%20to%20be%20removed%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeRemoveRow%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20index%20Index%20of%20starter%20column%2E%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%20Amount%20of%20columns%20to%20be%20removed%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeRemoveRow%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40description%0A%20%20%20%20%20%20%20%2A%20A%20plugin%20hook%20executed%20before%20validator%20function%2C%20only%20if%20validator%20function%20is%20defined%2E%0A%20%20%20%20%20%20%20%2A%20This%20can%20be%20used%20to%20manipulate%20value%20of%20changed%20cell%20before%20it%20is%20applied%20to%20the%20validator%20function%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%5F%5FNotice%3A%5F%5F%20this%20will%20not%20affect%20values%20of%20changes%2E%20This%20will%20change%20value%20ONLY%20for%20validation%21%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeValidate%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E9%2E5%0A%20%20%20%20%20%20%20%2A%20%40param%20%7B%2A%7D%20value%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20prop%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20source%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeValidate%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20before%20getting%20cell%20settings%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeGetCellMeta%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20cellProperties%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeGetCellMeta%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeAutofill%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20start%20Object%20containing%20information%20about%20first%20filled%20cell%3A%20%60%7Brow%3A%202%2C%20col%3A%200%7D%60%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20end%20Object%20containing%20information%20about%20last%20filled%20cell%3A%20%60%7Brow%3A%204%2C%20col%3A%201%7D%60%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BArray%7D%20data%202D%20array%20containing%20information%20about%20fill%20pattern%3A%20%60%5B%5B%221%22%2C%20%22Ted%22%5D%2C%20%5B%221%22%2C%20%22John%22%5D%5D%60%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeAutofill%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20before%20keydown%20event%20is%20handled%2E%20It%20can%20be%20used%20to%20overwrite%20default%20key%20bindings%2E%0A%20%20%20%20%20%20%20%2A%20Caution%20%2D%20in%20your%20%60beforeKeyDown%60%20handler%20you%20need%20to%20call%20%60event%2EstopImmediatePropagation%28%29%60%20to%20prevent%20default%20key%20behavior%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeKeyDown%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E9%2E0%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20event%20Original%20DOM%20event%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeKeyDown%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeOnCellMouseDown%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeOnCellMouseDown%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23beforeTouchScroll%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20beforeTouchScroll%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20Handsontable%20instance%20is%20initiated%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterInit%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterInit%20%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20new%20data%20is%20loaded%20%28by%20%60loadData%60%20method%29%20into%20the%20data%20source%20array%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterLoadData%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterLoadData%20%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterLoadData%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterUpdateSettings%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20Handsontable%20table%20is%20rendered%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterRender%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20isForced%20Is%20%60true%60%20if%20rendering%20was%20triggered%20by%20a%20change%20of%20settings%20or%20data%3B%20or%20%60false%60%20if%0A%20%20%20%20%20%20%20%2A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rendering%20was%20triggered%20by%20scrolling%20or%20moving%20selection%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterRender%20%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterRenderer%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20TD%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20prop%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20value%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20cellProperties%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterRenderer%20%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40description%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20one%20or%20more%20cells%20is%20changed%2E%20Its%20main%20use%20case%20is%20to%20save%20the%20input%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%5F%5FNote%3A%5F%5F%20For%20performance%20reasons%2C%20the%20%60changes%60%20array%20is%20null%20for%20%60%22loadData%22%60%20source%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterChange%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BArray%7D%20changes%202D%20array%20containing%20information%20about%20each%20of%20the%20edited%20cells%20%60%5B%5Brow%2C%20prop%2C%20oldVal%2C%20newVal%5D%2C%20%2E%2E%2E%5D%60%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20source%20Is%20one%20of%20the%20strings%3A%20%60%22alter%22%2C%20%22empty%22%2C%20%22edit%22%2C%20%22populateFromArray%22%2C%20%22loadData%22%2C%20%22autofill%22%2C%20%22paste%22%60%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterChange%20%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40description%0A%20%20%20%20%20%20%20%2A%20A%20plugin%20hook%20executed%20after%20validator%20function%2C%20only%20if%20validator%20function%20is%20defined%2E%0A%20%20%20%20%20%20%20%2A%20Validation%20result%20is%20the%20first%20parameter%2E%20This%20can%20be%20used%20to%20determinate%20if%20validation%20passed%20successfully%20or%20not%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%5F%5FYou%20can%20cancel%20current%20change%20by%20returning%20false%2E%5F%5F%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterValidate%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E9%2E5%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20isValid%0A%20%20%20%20%20%20%20%2A%20%40param%20%7B%2A%7D%20value%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20prop%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20source%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterValidate%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20getting%20cell%20settings%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterGetCellMeta%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20cellProperties%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterGetCellMeta%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Called%20after%20cell%20meta%20was%20changed%2C%20e%2Eg%2E%20using%20the%20context%20menu%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterSetCellMeta%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%2E0%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20key%0A%20%20%20%20%20%20%20%2A%20%40param%20%7B%2A%7D%20value%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterSetCellMeta%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20getting%20info%20about%20column%20header%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterGetColHeader%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BElement%7D%20TH%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterGetColHeader%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterGetRowHeader%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterGetRowHeader%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20destroing%20Handsontable%20instance%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterDestroy%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterDestroy%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20is%20fired%20when%20one%20or%20more%20rows%20are%20removed%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterRemoveRow%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20index%20Is%20an%20index%20of%20starter%20row%2E%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%20Is%20an%20anount%20of%20removed%20rows%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterRemoveRow%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20is%20fired%20when%20a%20new%20row%20is%20created%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterCreateRow%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20index%20Represents%20the%20index%20of%20first%20newly%20created%20row%20in%20the%20data%20source%20array%2E%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%20Number%20of%20newly%20created%20rows%20in%20the%20data%20source%20array%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterCreateRow%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20is%20fired%20when%20one%20or%20more%20columns%20are%20removed%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterRemoveCol%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20index%20Is%20an%20index%20of%20starter%20column%2E%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%20Is%20an%20amount%20of%20removed%20columns%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterRemoveCol%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20is%20fired%20when%20a%20new%20column%20is%20created%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterCreateCol%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20index%20Represents%20the%20index%20of%20first%20newly%20created%20column%20in%20the%20data%20source%20array%2E%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20amount%20Number%20of%20newly%20created%20columns%20in%20the%20data%20source%20array%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterCreateCol%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Event%20called%20when%20current%20cell%20is%20deselected%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterDeselect%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterDeselect%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20while%20one%20or%20more%20cells%20are%20being%20selected%20%28on%20mouse%20move%29%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterSelection%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r%20Selection%20start%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20c%20Selection%20start%20column%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r2%20Selection%20end%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20c2%20Selection%20end%20column%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterSelection%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20The%20same%20as%20above%2C%20but%20data%20source%20object%20property%20name%20is%20used%20instead%20of%20the%20column%20number%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterSelectionByProp%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r%20Selection%20start%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20p%20Selection%20start%20data%20source%20object%20property%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r2%20Selection%20end%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20p2%20Selection%20end%20data%20source%20object%20property%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterSelectionByProp%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20one%20or%20more%20cells%20are%20selected%20%28on%20mouse%20up%29%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterSelectionEnd%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r%20Selection%20start%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20c%20Selection%20start%20column%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r2%20Selection%20end%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20c2%20Selection%20end%20column%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterSelectionEnd%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20The%20same%20as%20above%2C%20but%20data%20source%20object%20property%20name%20is%20used%20instead%20of%20the%20column%20number%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterSelectionEndByProp%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r%20Selection%20start%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20p%20Selection%20start%20data%20source%20object%20property%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r2%20Selection%20end%20row%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BString%7D%20p2%20Selection%20end%20data%20source%20object%20property%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterSelectionEndByProp%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20clicking%20on%20a%20cell%20or%20row%2Fcolumn%20header%2E%0A%20%20%20%20%20%20%20%2A%20In%20case%20the%20row%2Fcolumn%20header%20was%20clicked%2C%20the%20index%20is%20negative%2E%0A%20%20%20%20%20%20%20%2A%20For%20example%20clicking%20on%20the%20row%20header%20of%20cell%20%280%2C%200%29%20results%20with%20%60afterOnCellMouseDown%60%20called%20with%20coords%20%60%7Brow%3A%200%2C%20col%3A%20%2D1%7D%60%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterOnCellMouseDown%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20event%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20coords%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20TD%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterOnCellMouseDown%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20hovering%20a%20cell%20or%20row%2Fcolumn%20header%20with%20the%20mouse%20cursor%2E%0A%20%20%20%20%20%20%20%2A%20In%20case%20the%20row%2Fcolumn%20header%20was%20hovered%2C%20the%20index%20is%20negative%2E%0A%20%20%20%20%20%20%20%2A%20For%20example%20clicking%20on%20the%20row%20header%20of%20cell%20%280%2C%200%29%20results%20with%20%60afterOnCellMouseOver%60%20called%20with%20coords%20%60%7Brow%3A%200%2C%20col%3A%20%2D1%7D%60%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterOnCellMouseOver%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20event%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20coords%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20TD%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterOnCellMouseOver%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterOnCellCornerMouseDown%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20event%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterOnCellCornerMouseDown%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterScrollVertically%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterScrollVertically%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterScrollHorizontally%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterScrollHorizontally%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20reset%20cell%27s%20meta%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterCellMetaReset%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterCellMetaReset%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterIsMultipleSelectionCheck%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterIsMultipleSelectionCheck%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterDocumentKeyDown%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterDocumentKeyDown%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23afterMomentumScroll%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20afterMomentumScroll%3A%20%5B%5D%2C%0A%20%20%20%20%20%20beforeCellAlignment%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20modify%20column%27s%20width%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23modifyColWidth%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20width%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20modifyColWidth%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20modify%20height%20of%20row%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23modifyRowHeight%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20height%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20modifyRowHeight%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20row%20modify%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23modifyRow%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20row%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20modifyRow%3A%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Callback%20fired%20after%20column%20modify%2E%0A%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23modifyCol%0A%20%20%20%20%20%20%20%2A%20%40since%200%2E11%0A%20%20%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20modifyCol%3A%20%5B%5D%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20var%20legacy%20%3D%20%7B%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Now%20event%20is%20called%20%7B%40link%20event%3AmodifyCol%7D%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23onBeforeChange%0A%20%20%20%20%20%2A%20%40deprecated%0A%20%20%20%20%20%2A%20%40param%20%7BArray%7D%20changes%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20source%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20onBeforeChange%3A%20%22beforeChange%22%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Now%20event%20is%20called%20%7B%40link%20event%3AafterChange%7D%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23onChange%0A%20%20%20%20%20%2A%20%40deprecated%0A%20%20%20%20%20%2A%20%40param%20%7BArray%7D%20changes%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20source%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20onChange%3A%20%22afterChange%22%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23onCreateRow%0A%20%20%20%20%20%2A%20%40deprecated%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20onCreateRow%3A%20%22afterCreateRow%22%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23onCreateCol%0A%20%20%20%20%20%2A%20%40deprecated%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20onCreateCol%3A%20%22afterCreateCol%22%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Now%20event%20is%20called%20%7B%40link%20event%3AafterSelection%7D%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23onSelection%0A%20%20%20%20%20%2A%20%40deprecated%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20c%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r2%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20c2%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20onSelection%3A%20%22afterSelection%22%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Now%20event%20is%20called%20%7B%40link%20event%3AafterCopyLimit%7D%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23onCopyLimit%0A%20%20%20%20%20%2A%20%40deprecated%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20selectedRowsCount%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20selectedColsCount%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20copyRowsLimit%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20copyColsLimit%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20onCopyLimit%3A%20%22afterCopyLimit%22%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Now%20event%20is%20called%20%7B%40link%20event%3AafterSelectionEnd%7D%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23onSelectionEnd%0A%20%20%20%20%20%2A%20%40deprecated%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20c%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r2%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20c2%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20onSelectionEnd%3A%20%22afterSelectionEnd%22%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Now%20event%20is%20called%20%7B%40link%20event%3AafterSelectionByProp%7D%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23onSelectionByProp%0A%20%20%20%20%20%2A%20%40deprecated%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20p%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r2%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20p2%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20onSelectionByProp%3A%20%22afterSelectionByProp%22%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Now%20event%20is%20called%20%7B%40link%20event%3AafterSelectionEndByProp%7D%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40event%20Handsontable%2EHooks%23onSelectionEndByProp%0A%20%20%20%20%20%2A%20%40deprecated%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20p%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20r2%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20p2%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20onSelectionEndByProp%3A%20%22afterSelectionEndByProp%22%0A%20%20%7D%3B%0A%0A%20%20function%20PluginHookClass%28%29%20%7B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20this%2Ehooks%20%3D%20Hooks%28%29%3B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%20%20this%2EglobalBucket%20%3D%20%7B%7D%3B%0A%20%20%20%20this%2Elegacy%20%3D%20legacy%3B%0A%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Get%20hook%20bucket%20based%20on%20Handsontable%20instance%20or%20if%20instance%20is%20%60undefined%60%20get%20global%20hook%20bucked%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40memberof%20Handsontable%2EHooks%23%0A%20%20%20%2A%20%40function%20getBucket%0A%20%20%20%2A%20%40param%20%7BObject%7D%20instance%20Instance%20of%20Handsontable%0A%20%20%20%2A%20%40returns%20%7BObject%7D%20Returns%20global%20or%20handsontable%20instance%20bucket%0A%20%20%20%2A%2F%0A%20%20PluginHookClass%2Eprototype%2EgetBucket%20%3D%20function%20%28instance%29%20%7B%0A%20%20%20%20if%28instance%29%20%7B%0A%20%20%20%20%20%20if%28%21instance%2EpluginHookBucket%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2EpluginHookBucket%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20instance%2EpluginHookBucket%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20this%2EglobalBucket%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40memberof%20Handsontable%2EHooks%23%0A%20%20%20%2A%20%40function%20add%0A%20%20%20%2A%20%40param%20%7BString%7D%20key%20Hook%2FEvent%20name%0A%20%20%20%2A%20%40param%20%7BFunction%7D%20fn%20Callback%20function%0A%20%20%20%2A%20%40param%20%7BObject%7D%20instance%20Instance%20of%20Handsontable%0A%20%20%20%2A%20%40returns%20%7BHandsontable%2EHooks%7D%20Instance%20of%20Handsontable%2EHooks%0A%20%20%20%2A%2F%0A%20%20PluginHookClass%2Eprototype%2Eadd%20%3D%20function%20%28key%2C%20fn%2C%20instance%29%20%7B%0A%20%20%20%20%2F%2Fif%20fn%20is%20array%2C%20run%20this%20for%20all%20the%20array%20items%0A%20%20%20%20if%20%28Array%2EisArray%28fn%29%29%20%7B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20len%20%3D%20fn%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Eadd%28key%2C%20fn%5Bi%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%2F%2F%20provide%20support%20for%20old%20versions%20of%20HOT%0A%20%20%20%20%20%20if%20%28key%20in%20legacy%29%20%7B%0A%20%20%20%20%20%20%20%20key%20%3D%20legacy%5Bkey%5D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20bucket%20%3D%20this%2EgetBucket%28instance%29%3B%0A%0A%20%20%20%20%20%20if%20%28typeof%20bucket%5Bkey%5D%20%3D%3D%3D%20%22undefined%22%29%20%7B%0A%20%20%20%20%20%20%20%20bucket%5Bkey%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20fn%2Eskip%20%3D%20false%3B%0A%0A%20%20%20%20%20%20if%20%28bucket%5Bkey%5D%2EindexOf%28fn%29%20%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20bucket%5Bkey%5D%2Epush%28fn%29%3B%20%2F%2Fonly%20add%20a%20hook%20if%20it%20has%20not%20already%20been%20added%20%28adding%20the%20same%20hook%20twice%20is%20now%20silently%20ignored%29%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20this%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40memberof%20Handsontable%2EHooks%23%0A%20%20%20%2A%20%40function%20once%0A%20%20%20%2A%20%40param%20%7BString%7D%20key%20Hook%2FEvent%20name%0A%20%20%20%2A%20%40param%20%7BFunction%7D%20fn%20Callback%20function%0A%20%20%20%2A%20%40param%20%7BObject%7D%20instance%20of%20Handsontable%0A%20%20%20%2A%2F%0A%20%20PluginHookClass%2Eprototype%2Eonce%20%3D%20function%28key%2C%20fn%2C%20instance%29%7B%0A%0A%20%20%20%20if%28Array%2EisArray%28fn%29%29%7B%0A%0A%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20len%20%3D%20fn%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20fn%5Bi%5D%2ErunOnce%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20this%2Eadd%28key%2C%20fn%5Bi%5D%2C%20instance%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20fn%2ErunOnce%20%3D%20true%3B%0A%20%20%20%20%20%20this%2Eadd%28key%2C%20fn%2C%20instance%29%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40memberof%20Handsontable%2EHooks%23%0A%20%20%20%2A%20%40function%20remove%0A%20%20%20%2A%20%40param%20%7BString%7D%20key%20Hook%2FEvent%20name%0A%20%20%20%2A%20%40param%20%7BFunction%7D%20fn%20Callback%20function%0A%20%20%20%2A%20%40param%20%7BObject%7D%20instance%20of%20Handsontable%0A%20%20%20%2A%20%40return%20%7BBoolean%7D%0A%20%20%20%2A%2F%0A%20%20PluginHookClass%2Eprototype%2Eremove%20%3D%20function%20%28key%2C%20fn%2C%20instance%29%20%7B%0A%20%20%20%20var%20status%20%3D%20false%3B%0A%0A%20%20%20%20%2F%2F%20provide%20support%20for%20old%20versions%20of%20HOT%0A%20%20%20%20if%20%28key%20in%20legacy%29%20%7B%0A%20%20%20%20%20%20key%20%3D%20legacy%5Bkey%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20bucket%20%3D%20this%2EgetBucket%28instance%29%3B%0A%0A%20%20%20%20if%20%28typeof%20bucket%5Bkey%5D%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20leni%20%3D%20bucket%5Bkey%5D%2Elength%3B%20i%20%3C%20leni%3B%20i%2B%2B%29%20%7B%0A%0A%20%20%20%20%20%20%20%20if%20%28bucket%5Bkey%5D%5Bi%5D%20%3D%3D%20fn%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20bucket%5Bkey%5D%5Bi%5D%2Eskip%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20status%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20status%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40memberof%20Handsontable%2EHooks%23%0A%20%20%20%2A%20%40function%20run%0A%20%20%20%2A%20%40param%20%7BObject%7D%20instance%20of%20Handsontable%0A%20%20%20%2A%20%40param%20%7BString%7D%20key%20Hook%2FEvent%20name%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p1%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p2%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p3%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p4%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p5%0A%20%20%20%2A%20%40param%20%7B%2A%7D%20p6%0A%20%20%20%2A%20%40returns%20%7B%2A%7D%0A%20%20%20%2A%2F%0A%20%20PluginHookClass%2Eprototype%2Erun%20%3D%20function%20%28instance%2C%20key%2C%20p1%2C%20p2%2C%20p3%2C%20p4%2C%20p5%2C%20p6%29%20%7B%0A%20%20%20%20%2F%2F%20provide%20support%20for%20old%20versions%20of%20HOT%0A%20%20%20%20if%20%28key%20in%20legacy%29%20%7B%0A%20%20%20%20%20%20key%20%3D%20legacy%5Bkey%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20p1%20%3D%20this%2E%5FrunBucket%28this%2EglobalBucket%2C%20instance%2C%20key%2C%20p1%2C%20p2%2C%20p3%2C%20p4%2C%20p5%2C%20p6%29%3B%0A%20%20%20%20p1%20%3D%20this%2E%5FrunBucket%28this%2EgetBucket%28instance%29%2C%20instance%2C%20key%2C%20p1%2C%20p2%2C%20p3%2C%20p4%2C%20p5%2C%20p6%29%3B%0A%0A%20%20%20%20return%20p1%3B%0A%20%20%7D%3B%0A%0A%20%20PluginHookClass%2Eprototype%2E%5FrunBucket%20%3D%20function%20%28bucket%2C%20instance%2C%20key%2C%20p1%2C%20p2%2C%20p3%2C%20p4%2C%20p5%2C%20p6%29%20%7B%0A%20%20%20%20var%20handlers%20%3D%20bucket%5Bkey%5D%2C%0A%20%20%20%20%20%20%20%20res%2C%20i%2C%20len%3B%0A%0A%20%20%20%20%2F%2F%20performance%20considerations%20%2D%20http%3A%2F%2Fjsperf%2Ecom%2Fcall%2Dvs%2Dapply%2Dfor%2Da%2Dplugin%2Darchitecture%0A%20%20%20%20if%20%28handlers%29%20%7B%0A%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20len%20%3D%20handlers%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21handlers%5Bi%5D%2Eskip%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20res%20%3D%20handlers%5Bi%5D%2Ecall%28instance%2C%20p1%2C%20p2%2C%20p3%2C%20p4%2C%20p5%2C%20p6%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28res%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20p1%20%3D%20res%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28handlers%5Bi%5D%2ErunOnce%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Eremove%28key%2C%20handlers%5Bi%5D%2C%20bucket%20%3D%3D%3D%20this%2EglobalBucket%20%3F%20null%20%3A%20instance%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20p1%3B%0A%20%20%7D%3B%0A%0A%20%20PluginHookClass%2Eprototype%2Edestroy%20%3D%20function%20%28instance%29%20%7B%0A%20%20%20%20var%20bucket%20%3D%20this%2EgetBucket%28instance%29%3B%0A%20%20%20%20for%20%28var%20key%20in%20bucket%29%20%7B%0A%20%20%20%20%20%20if%20%28bucket%2EhasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20leni%20%3D%20bucket%5Bkey%5D%2Elength%3B%20i%20%3C%20leni%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2Eremove%28key%2C%20bucket%5Bkey%5D%2C%20instance%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Registers%20a%20hook%20name%20%28adds%20it%20to%20the%20list%20of%20the%20known%20hook%20names%29%2E%20Used%20by%20plugins%2E%20It%20is%20not%20neccessary%20to%20call%2C%0A%20%20%20%2A%20register%2C%20but%20if%20you%20use%20it%2C%20your%20plugin%20hook%20will%20be%20used%20returned%20by%20getRegistered%0A%20%20%20%2A%20%28which%20itself%20is%20used%20in%20the%20demo%20http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fcallbacks%2Ehtml%29%0A%20%20%20%2A%0A%20%20%20%2A%20%40memberof%20Handsontable%2EHooks%23%0A%20%20%20%2A%20%40function%20register%0A%20%20%20%2A%20%40private%0A%20%20%20%2A%20%40param%20key%20%7BString%7D%0A%20%20%20%2A%2F%0A%20%20PluginHookClass%2Eprototype%2Eregister%20%3D%20function%20%28key%29%20%7B%0A%20%20%20%20if%20%28%21this%2EisRegistered%28key%29%29%20%7B%0A%20%20%20%20%20%20this%2Ehooks%5Bkey%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Deregisters%20a%20hook%20name%20%28removes%20it%20from%20the%20list%20of%20known%20hook%20names%29%0A%20%20%20%2A%0A%20%20%20%2A%20%40memberof%20Handsontable%2EHooks%23%0A%20%20%20%2A%20%40function%20deregister%0A%20%20%20%2A%20%40private%0A%20%20%20%2A%20%40param%20key%20%7BString%7D%0A%20%20%20%2A%2F%0A%20%20PluginHookClass%2Eprototype%2Ederegister%20%3D%20function%20%28key%29%20%7B%0A%20%20%20%20delete%20this%2Ehooks%5Bkey%5D%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20boolean%20information%20if%20a%20hook%20by%20such%20name%20has%20been%20registered%0A%20%20%20%2A%0A%20%20%20%2A%20%40memberof%20Handsontable%2EHooks%23%0A%20%20%20%2A%20%40function%20isRegistered%0A%20%20%20%2A%20%40private%0A%20%20%20%2A%20%40param%20key%20%7BString%7D%0A%20%20%20%2A%2F%0A%20%20PluginHookClass%2Eprototype%2EisRegistered%20%3D%20function%20%28key%29%20%7B%0A%20%20%20%20return%20%28typeof%20this%2Ehooks%5Bkey%5D%20%21%3D%3D%20%22undefined%22%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Returns%20an%20array%20of%20registered%20hooks%0A%20%20%20%2A%0A%20%20%20%2A%20%40memberof%20Handsontable%2EHooks%23%0A%20%20%20%2A%20%40function%20getRegistered%0A%20%20%20%2A%20%40private%0A%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20PluginHookClass%2Eprototype%2EgetRegistered%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20Object%2Ekeys%28this%2Ehooks%29%3B%0A%20%20%7D%3B%0A%0A%20%20return%20PluginHookClass%3B%0A%0A%7D%29%28%29%3B%0A%0AHandsontable%2Ehooks%20%3D%20new%20Handsontable%2EPluginHookClass%28%29%3B%0AHandsontable%2EPluginHooks%20%3D%20Handsontable%2Ehooks%3B%20%2F%2Fin%20future%20move%20this%20line%20to%20legacy%2Ejs%0A%0A%2F%2A%2A%0A%20%2A%20%40plugin%0A%20%2A%20%40class%20Handsontable%2EAutoColumnSize%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0A%0A%20%20function%20HandsontableAutoColumnSize%28%29%20%7B%0A%20%20%20%20var%20plugin%20%3D%20this%0A%20%20%20%20%20%20%2C%20sampleCount%20%3D%205%3B%20%2F%2Fnumber%20of%20samples%20to%20take%20of%20each%20value%20length%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40private%0A%20%20%20%20%20%2A%20%40function%20beforeInit%0A%20%20%20%20%20%2A%20%40memberof%20Handsontable%2EAutoColumnSize%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EbeforeInit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20instance%2EautoColumnWidths%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20if%20%28instance%2EgetSettings%28%29%2EautoColumnSize%20%21%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21instance%2EautoColumnSizeTmp%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EautoColumnSizeTmp%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20table%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tableStyle%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20theadTh%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tbody%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20container%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20containerStyle%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20determineBeforeNextRender%3A%20true%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20instance%2EaddHook%28%27beforeRender%27%2C%20htAutoColumnSize%2EdetermineIfChanged%29%3B%0A%20%20%20%20%20%20%20%20%20%20instance%2EaddHook%28%27modifyColWidth%27%2C%20htAutoColumnSize%2EmodifyColWidth%29%3B%0A%20%20%20%20%20%20%20%20%20%20instance%2EaddHook%28%27afterDestroy%27%2C%20htAutoColumnSize%2EafterDestroy%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%20%20%2A%20%7B%40link%20Handsontable%2EAutoColumnSize%23determineColumnWidth%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%20%20%20%20%2A%20%40function%20determineColumnWidth%0A%20%20%20%20%20%20%20%20%20%20%20%2A%20%40alias%20determineColumnWidth%0A%20%20%20%20%20%20%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2ECore%23%0A%20%20%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20instance%2EdetermineColumnWidth%20%3D%20plugin%2EdetermineColumnWidth%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20%28instance%2EautoColumnSizeTmp%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EremoveHook%28%27beforeRender%27%2C%20htAutoColumnSize%2EdetermineIfChanged%29%3B%0A%20%20%20%20%20%20%20%20%20%20instance%2EremoveHook%28%27modifyColWidth%27%2C%20htAutoColumnSize%2EmodifyColWidth%29%3B%0A%20%20%20%20%20%20%20%20%20%20instance%2EremoveHook%28%27afterDestroy%27%2C%20htAutoColumnSize%2EafterDestroy%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20delete%20instance%2EdetermineColumnWidth%3B%0A%0A%20%20%20%20%20%20%20%20%20%20plugin%2EafterDestroy%2Ecall%28instance%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40private%0A%20%20%20%20%20%2A%20%40function%20determineIfChanged%0A%20%20%20%20%20%2A%20%40memberof%20Handsontable%2EAutoColumnSize%23%0A%20%20%20%20%20%2A%20%40param%20%7BBoolean%7D%20%5Bforce%5D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EdetermineIfChanged%20%3D%20function%20%28force%29%20%7B%0A%20%20%20%20%20%20if%20%28force%29%20%7B%0A%20%20%20%20%20%20%20%20htAutoColumnSize%2EdetermineColumnsWidth%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Get%20width%20column%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40function%20determineColumnWidth%0A%20%20%20%20%20%2A%20%40memberof%20Handsontable%2EAutoColumnSize%23%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%2A%20%40returns%20%7BNumber%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EdetermineColumnWidth%20%3D%20function%20%28col%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%0A%20%20%20%20%20%20%20%20%2C%20tmp%20%3D%20instance%2EautoColumnSizeTmp%3B%0A%0A%20%20%20%20%20%20if%20%28%21tmp%2Econtainer%29%20%7B%0A%20%20%20%20%20%20%20%20createTmpContainer%2Ecall%28tmp%2C%20instance%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20tmp%2Econtainer%2EclassName%20%3D%20instance%2ErootElement%2EclassName%20%2B%20%27%20htAutoColumnSize%27%3B%0A%20%20%20%20%20%20tmp%2Etable%2EclassName%20%3D%20instance%2Etable%2EclassName%3B%0A%0A%20%20%20%20%20%20var%20rows%20%3D%20instance%2EcountRows%28%29%3B%0A%20%20%20%20%20%20var%20samples%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20var%20maxLen%20%3D%200%3B%0A%20%20%20%20%20%20for%20%28var%20r%20%3D%200%3B%20r%20%3C%20rows%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20var%20value%20%3D%20Handsontable%2Ehelper%2Estringify%28instance%2EgetDataAtCell%28r%2C%20col%29%29%3B%0A%20%20%20%20%20%20%20%20var%20len%20%3D%20value%2Elength%3B%0A%20%20%20%20%20%20%20%20if%20%28len%20%3E%20maxLen%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20maxLen%20%3D%20len%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28%21samples%5Blen%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20samples%5Blen%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20needed%3A%20sampleCount%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20strings%3A%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28samples%5Blen%5D%2Eneeded%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20samples%5Blen%5D%2Estrings%2Epush%28%7Bvalue%3A%20value%2C%20row%3A%20r%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20samples%5Blen%5D%2Eneeded%2D%2D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20settings%20%3D%20instance%2EgetSettings%28%29%3B%0A%20%20%20%20%20%20if%20%28settings%2EcolHeaders%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2Eview%2EappendColHeader%28col%2C%20tmp%2EtheadTh%29%3B%20%2F%2FTH%20innerHTML%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20Handsontable%2EDom%2Eempty%28tmp%2Etbody%29%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20in%20samples%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28samples%2EhasOwnProperty%28i%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20jlen%20%3D%20samples%5Bi%5D%2Estrings%2Elength%3B%20j%20%3C%20jlen%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20row%20%3D%20samples%5Bi%5D%2Estrings%5Bj%5D%2Erow%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cellProperties%20%3D%20instance%2EgetCellMeta%28row%2C%20col%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cellProperties%2Ecol%20%3D%20col%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cellProperties%2Erow%20%3D%20row%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20renderer%20%3D%20instance%2EgetCellRenderer%28cellProperties%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20tr%20%3D%20document%2EcreateElement%28%27tr%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20td%20%3D%20document%2EcreateElement%28%27td%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20renderer%28instance%2C%20td%2C%20row%2C%20col%2C%20instance%2EcolToProp%28col%29%2C%20samples%5Bi%5D%2Estrings%5Bj%5D%2Evalue%2C%20cellProperties%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20r%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tr%2EappendChild%28td%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tmp%2Etbody%2EappendChild%28tr%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20parent%20%3D%20instance%2ErootElement%2EparentNode%3B%0A%20%20%20%20%20%20parent%2EappendChild%28tmp%2Econtainer%29%3B%0A%20%20%20%20%20%20var%20width%20%3D%20Handsontable%2EDom%2EouterWidth%28tmp%2Etable%29%3B%0A%20%20%20%20%20%20parent%2EremoveChild%28tmp%2Econtainer%29%3B%0A%0A%20%20%20%20%20%20return%20width%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40private%0A%20%20%20%20%20%2A%20%40function%20determineColumnsWidth%0A%20%20%20%20%20%2A%20%40memberof%20Handsontable%2EAutoColumnSize%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EdetermineColumnsWidth%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20var%20settings%20%3D%20this%2EgetSettings%28%29%3B%0A%20%20%20%20%20%20if%20%28settings%2EautoColumnSize%20%7C%7C%20%21settings%2EcolWidths%29%20%7B%0A%20%20%20%20%20%20%20%20var%20cols%20%3D%20this%2EcountCols%28%29%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20c%20%3D%200%3B%20c%20%3C%20cols%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21instance%2E%5FgetColWidthFromSettings%28c%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EautoColumnWidths%5Bc%5D%20%3D%20plugin%2EdetermineColumnWidth%2Ecall%28instance%2C%20c%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40private%0A%20%20%20%20%20%2A%20%40function%20modifyColWidth%0A%20%20%20%20%20%2A%20%40memberof%20Handsontable%2EAutoColumnSize%23%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20width%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%2A%20%40returns%20%7BNumber%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EmodifyColWidth%20%3D%20function%20%28width%2C%20col%29%20%7B%0A%20%20%20%20%20%20if%20%28this%2EautoColumnWidths%5Bcol%5D%20%26%26%20this%2EautoColumnWidths%5Bcol%5D%20%3E%20width%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2EautoColumnWidths%5Bcol%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20width%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40private%0A%20%20%20%20%20%2A%20%40function%20afterDestroy%0A%20%20%20%20%20%2A%20%40memberof%20Handsontable%2EAutoColumnSize%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EafterDestroy%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20if%20%28instance%2EautoColumnSizeTmp%20%26%26%20instance%2EautoColumnSizeTmp%2Econtainer%20%26%26%20instance%2EautoColumnSizeTmp%2Econtainer%2EparentNode%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2EautoColumnSizeTmp%2Econtainer%2EparentNode%2EremoveChild%28instance%2EautoColumnSizeTmp%2Econtainer%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20instance%2EautoColumnSizeTmp%20%3D%20null%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20function%20createTmpContainer%28instance%29%20%7B%0A%20%20%20%20%20%20var%20d%20%3D%20document%0A%20%20%20%20%20%20%20%20%2C%20tmp%20%3D%20this%3B%0A%0A%20%20%20%20%20%20tmp%2Etable%20%3D%20d%2EcreateElement%28%27table%27%29%3B%0A%20%20%20%20%20%20tmp%2EtheadTh%20%3D%20d%2EcreateElement%28%27th%27%29%3B%0A%20%20%20%20%20%20tmp%2Etable%2EappendChild%28d%2EcreateElement%28%27thead%27%29%29%2EappendChild%28d%2EcreateElement%28%27tr%27%29%29%2EappendChild%28tmp%2EtheadTh%29%3B%0A%0A%20%20%20%20%20%20tmp%2EtableStyle%20%3D%20tmp%2Etable%2Estyle%3B%0A%20%20%20%20%20%20tmp%2EtableStyle%2EtableLayout%20%3D%20%27auto%27%3B%0A%20%20%20%20%20%20tmp%2EtableStyle%2Ewidth%20%3D%20%27auto%27%3B%0A%0A%20%20%20%20%20%20tmp%2Etbody%20%3D%20d%2EcreateElement%28%27tbody%27%29%3B%0A%20%20%20%20%20%20tmp%2Etable%2EappendChild%28tmp%2Etbody%29%3B%0A%0A%20%20%20%20%20%20tmp%2Econtainer%20%3D%20d%2EcreateElement%28%27div%27%29%3B%0A%20%20%20%20%20%20tmp%2Econtainer%2EclassName%20%3D%20instance%2ErootElement%2EclassName%20%2B%20%27%20hidden%27%3B%0A%2F%2F%20%20%20%20%20%20tmp%2Econtainer%2EclassName%20%3D%20instance%2ErootElement%5B0%5D%2EclassName%20%2B%20%27%20hidden%27%3B%0A%20%20%20%20%20%20tmp%2EcontainerStyle%20%3D%20tmp%2Econtainer%2Estyle%3B%0A%0A%20%20%20%20%20%20tmp%2Econtainer%2EappendChild%28tmp%2Etable%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20var%20htAutoColumnSize%20%3D%20new%20HandsontableAutoColumnSize%28%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27beforeInit%27%2C%20htAutoColumnSize%2EbeforeInit%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20htAutoColumnSize%2EbeforeInit%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20This%20plugin%20sorts%20the%20view%20by%20a%20column%20%28but%20does%20not%20sort%20the%20data%20source%21%29%0A%20%2A%20%40constructor%0A%20%2A%20%40private%0A%20%2A%2F%0Afunction%20HandsontableColumnSorting%28%29%20%7B%0A%20%20var%20plugin%20%3D%20this%3B%0A%0A%20%20this%2Einit%20%3D%20function%20%28source%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20sortingSettings%20%3D%20instance%2EgetSettings%28%29%2EcolumnSorting%3B%0A%20%20%20%20var%20sortingColumn%2C%20sortingOrder%3B%0A%0A%20%20%20%20instance%2EsortingEnabled%20%3D%20%21%21%28sortingSettings%29%3B%0A%0A%20%20%20%20if%20%28instance%2EsortingEnabled%29%20%7B%0A%20%20%20%20%20%20instance%2EsortIndex%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20var%20loadedSortingState%20%3D%20loadSortingState%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%20%20if%20%28typeof%20loadedSortingState%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20sortingColumn%20%3D%20loadedSortingState%2EsortColumn%3B%0A%20%20%20%20%20%20%20%20sortingOrder%20%3D%20loadedSortingState%2EsortOrder%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20sortingColumn%20%3D%20sortingSettings%2Ecolumn%3B%0A%20%20%20%20%20%20%20%20sortingOrder%20%3D%20sortingSettings%2EsortOrder%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20plugin%2EsortByColumn%2Ecall%28instance%2C%20sortingColumn%2C%20sortingOrder%29%3B%0A%0A%20%20%20%20%20%20instance%2Esort%20%3D%20function%28%29%7B%0A%20%20%20%20%20%20%20%20var%20args%20%3D%20Array%2Eprototype%2Eslice%2Ecall%28arguments%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20plugin%2EsortByColumn%2Eapply%28instance%2C%20args%29%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20if%20%28typeof%20instance%2EgetSettings%28%29%2EobserveChanges%20%3D%3D%20%27undefined%27%29%7B%0A%20%20%20%20%20%20%20%20enableObserveChangesPlugin%2Ecall%28instance%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28source%20%3D%3D%20%27afterInit%27%29%20%7B%0A%20%20%20%20%20%20%20%20bindColumnSortingAfterClick%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%20%20%20%20instance%2EaddHook%28%27afterCreateRow%27%2C%20plugin%2EafterCreateRow%29%3B%0A%20%20%20%20%20%20%20%20instance%2EaddHook%28%27afterRemoveRow%27%2C%20plugin%2EafterRemoveRow%29%3B%0A%20%20%20%20%20%20%20%20instance%2EaddHook%28%27afterLoadData%27%2C%20plugin%2Einit%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20delete%20instance%2Esort%3B%0A%0A%20%20%20%20%20%20instance%2EremoveHook%28%27afterCreateRow%27%2C%20plugin%2EafterCreateRow%29%3B%0A%20%20%20%20%20%20instance%2EremoveHook%28%27afterRemoveRow%27%2C%20plugin%2EafterRemoveRow%29%3B%0A%20%20%20%20%20%20instance%2EremoveHook%28%27afterLoadData%27%2C%20plugin%2Einit%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20this%2EsetSortingColumn%20%3D%20function%20%28col%2C%20order%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20if%20%28typeof%20col%20%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20delete%20instance%2EsortColumn%3B%0A%20%20%20%20%20%20delete%20instance%2EsortOrder%3B%0A%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%20else%20if%20%28instance%2EsortColumn%20%3D%3D%3D%20col%20%26%26%20typeof%20order%20%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20instance%2EsortOrder%20%3D%20%21instance%2EsortOrder%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20instance%2EsortOrder%20%3D%20typeof%20order%20%21%3D%20%27undefined%27%20%3F%20order%20%3A%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2EsortColumn%20%3D%20col%3B%0A%0A%20%20%7D%3B%0A%0A%20%20this%2EsortByColumn%20%3D%20function%20%28col%2C%20order%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20plugin%2EsetSortingColumn%2Ecall%28instance%2C%20col%2C%20order%29%3B%0A%0A%20%20%20%20if%28typeof%20instance%2EsortColumn%20%3D%3D%20%27undefined%27%29%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27beforeColumnSort%27%2C%20instance%2EsortColumn%2C%20instance%2EsortOrder%29%3B%0A%0A%20%20%20%20plugin%2Esort%2Ecall%28instance%29%3B%0A%20%20%20%20instance%2Erender%28%29%3B%0A%0A%20%20%20%20saveSortingState%2Ecall%28instance%29%3B%0A%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterColumnSort%27%2C%20instance%2EsortColumn%2C%20instance%2EsortOrder%29%3B%0A%20%20%7D%3B%0A%0A%20%20var%20saveSortingState%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20var%20sortingState%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20if%20%28typeof%20instance%2EsortColumn%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20sortingState%2EsortColumn%20%3D%20instance%2EsortColumn%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28typeof%20instance%2EsortOrder%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20sortingState%2EsortOrder%20%3D%20instance%2EsortOrder%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28sortingState%2EhasOwnProperty%28%27sortColumn%27%29%20%7C%7C%20sortingState%2EhasOwnProperty%28%27sortOrder%27%29%29%20%7B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27persistentStateSave%27%2C%20%27columnSorting%27%2C%20sortingState%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20var%20loadSortingState%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20storedState%20%3D%20%7B%7D%3B%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27persistentStateLoad%27%2C%20%27columnSorting%27%2C%20storedState%29%3B%0A%0A%20%20%20%20return%20storedState%2Evalue%3B%0A%20%20%7D%3B%0A%0A%20%20var%20bindColumnSortingAfterClick%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%20%20%20%20eventManager%2EaddEventListener%28instance%2ErootElement%2C%20%27click%27%2C%20function%20%28e%29%7B%0A%20%20%20%20%20%20if%28Handsontable%2EDom%2EhasClass%28e%2Etarget%2C%20%27columnSorting%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20var%20col%20%3D%20getColumn%28e%2Etarget%29%3B%0A%20%20%20%20%20%20%20%20plugin%2EsortByColumn%2Ecall%28instance%2C%20col%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20function%20countRowHeaders%28%29%20%7B%0A%20%20%20%20%20%20var%20THs%20%3D%20instance%2Eview%2ETBODY%2EquerySelector%28%27tr%27%29%2EquerySelectorAll%28%27th%27%29%3B%0A%20%20%20%20%20%20return%20THs%2Elength%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20getColumn%28target%29%20%7B%0A%20%20%20%20%20%20var%20TH%20%3D%20Handsontable%2EDom%2Eclosest%28target%2C%20%27TH%27%29%3B%0A%20%20%20%20%20%20return%20Handsontable%2EDom%2Eindex%28TH%29%20%2D%20countRowHeaders%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20function%20enableObserveChangesPlugin%20%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20instance%2E%5FregisterTimeout%28setTimeout%28function%28%29%7B%0A%20%20%20%20%20%20instance%2EupdateSettings%28%7B%0A%20%20%20%20%20%20%20%20observeChanges%3A%20true%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%2C%200%29%29%3B%0A%20%20%7D%0A%0A%20%20function%20defaultSort%28sortOrder%29%20%7B%0A%20%20%20%20return%20function%20%28a%2C%20b%29%20%7B%0A%20%20%20%20%20%20if%28typeof%20a%5B1%5D%20%3D%3D%20%22string%22%29%20%7B%0A%20%20%20%20%20%20%20%20a%5B1%5D%20%3D%20a%5B1%5D%2EtoLowerCase%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%28typeof%20b%5B1%5D%20%3D%3D%20%22string%22%29%20%7B%0A%20%20%20%20%20%20%20%20b%5B1%5D%20%3D%20b%5B1%5D%2EtoLowerCase%28%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28a%5B1%5D%20%3D%3D%3D%20b%5B1%5D%29%20%7B%0A%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28a%5B1%5D%20%3D%3D%3D%20null%20%7C%7C%20a%5B1%5D%20%3D%3D%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20%20%20return%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28b%5B1%5D%20%3D%3D%3D%20null%20%7C%7C%20b%5B1%5D%20%3D%3D%3D%20%22%22%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%2D1%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28a%5B1%5D%20%3C%20b%5B1%5D%29%20%7B%0A%20%20%20%20%20%20%20%20return%20sortOrder%20%3F%20%2D1%20%3A%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28a%5B1%5D%20%3E%20b%5B1%5D%29%20%7B%0A%20%20%20%20%20%20%20%20return%20sortOrder%20%3F%201%20%3A%20%2D1%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20function%20dateSort%28sortOrder%29%20%7B%0A%20%20%20%20return%20function%20%28a%2C%20b%29%20%7B%0A%20%20%20%20%20%20if%20%28a%5B1%5D%20%3D%3D%3D%20b%5B1%5D%29%20%7B%0A%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28a%5B1%5D%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20return%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28b%5B1%5D%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%2D1%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20aDate%20%3D%20new%20Date%28a%5B1%5D%29%3B%0A%20%20%20%20%20%20var%20bDate%20%3D%20new%20Date%28b%5B1%5D%29%3B%0A%0A%20%20%20%20%20%20if%20%28aDate%20%3C%20bDate%29%20%7B%0A%20%20%20%20%20%20%20%20return%20sortOrder%20%3F%20%2D1%20%3A%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28aDate%20%3E%20bDate%29%20%7B%0A%20%20%20%20%20%20%20%20return%20sortOrder%20%3F%201%20%3A%20%2D1%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20this%2Esort%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20if%20%28typeof%20instance%2EsortOrder%20%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2EsortingEnabled%20%3D%20false%3B%20%2F%2Fthis%20is%20required%20by%20translateRow%20plugin%20hook%0A%20%20%20%20instance%2EsortIndex%2Elength%20%3D%200%3B%0A%0A%20%20%20%20var%20colOffset%20%3D%20this%2EcolOffset%28%29%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20this%2EcountRows%28%29%20%2D%20instance%2EgetSettings%28%29%5B%27minSpareRows%27%5D%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20this%2EsortIndex%2Epush%28%5Bi%2C%20instance%2EgetDataAtCell%28i%2C%20this%2EsortColumn%20%2B%20colOffset%29%5D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20colMeta%20%3D%20instance%2EgetCellMeta%280%2C%20instance%2EsortColumn%29%3B%0A%20%20%20%20var%20sortFunction%3B%0A%20%20%20%20switch%20%28colMeta%2Etype%29%20%7B%0A%20%20%20%20%20%20case%20%27date%27%3A%0A%20%20%20%20%20%20%20%20sortFunction%20%3D%20dateSort%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20sortFunction%20%3D%20defaultSort%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2EsortIndex%2Esort%28sortFunction%28instance%2EsortOrder%29%29%3B%0A%0A%20%20%20%20%2F%2FAppend%20spareRows%0A%20%20%20%20for%28var%20i%20%3D%20this%2EsortIndex%2Elength%3B%20i%20%3C%20instance%2EcountRows%28%29%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20this%2EsortIndex%2Epush%28%5Bi%2C%20instance%2EgetDataAtCell%28i%2C%20this%2EsortColumn%20%2B%20colOffset%29%5D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2EsortingEnabled%20%3D%20true%3B%20%2F%2Fthis%20is%20required%20by%20translateRow%20plugin%20hook%0A%20%20%7D%3B%0A%0A%20%20this%2EtranslateRow%20%3D%20function%20%28row%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20if%20%28instance%2EsortingEnabled%20%26%26%20instance%2EsortIndex%20%26%26%20instance%2EsortIndex%2Elength%20%26%26%20instance%2EsortIndex%5Brow%5D%29%20%7B%0A%20%20%20%20%20%20return%20instance%2EsortIndex%5Brow%5D%5B0%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20row%3B%0A%20%20%7D%3B%0A%0A%20%20this%2EuntranslateRow%20%3D%20function%20%28row%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20if%20%28instance%2EsortingEnabled%20%26%26%20instance%2EsortIndex%20%26%26%20instance%2EsortIndex%2Elength%29%20%7B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20instance%2EsortIndex%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28instance%2EsortIndex%5Bi%5D%5B0%5D%20%3D%3D%20row%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20i%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20this%2EgetColHeader%20%3D%20function%20%28col%2C%20TH%29%20%7B%0A%20%20%20%20if%20%28this%2EgetSettings%28%29%2EcolumnSorting%20%26%26%20col%20%3E%3D%200%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TH%2EquerySelector%28%27%2EcolHeader%27%29%2C%20%27columnSorting%27%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20function%20isSorted%28instance%29%7B%0A%20%20%20%20return%20typeof%20instance%2EsortColumn%20%21%3D%20%27undefined%27%3B%0A%20%20%7D%0A%0A%20%20this%2EafterCreateRow%20%3D%20function%28index%2C%20amount%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20if%28%21isSorted%28instance%29%29%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20for%28var%20i%20%3D%200%3B%20i%20%3C%20instance%2EsortIndex%2Elength%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20if%20%28instance%2EsortIndex%5Bi%5D%5B0%5D%20%3E%3D%20index%29%7B%0A%20%20%20%20%20%20%20%20instance%2EsortIndex%5Bi%5D%5B0%5D%20%2B%3D%20amount%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20for%28var%20i%3D0%3B%20i%20%3C%20amount%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20instance%2EsortIndex%2Esplice%28index%2Bi%2C%200%2C%20%5Bindex%2Bi%2C%20instance%2EgetData%28%29%5Bindex%2Bi%5D%5Binstance%2EsortColumn%20%2B%20instance%2EcolOffset%28%29%5D%5D%29%3B%0A%20%20%20%20%7D%0A%0A%0A%0A%20%20%20%20saveSortingState%2Ecall%28instance%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20this%2EafterRemoveRow%20%3D%20function%28index%2C%20amount%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20if%28%21isSorted%28instance%29%29%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20physicalRemovedIndex%20%3D%20plugin%2EtranslateRow%2Ecall%28instance%2C%20index%29%3B%0A%0A%20%20%20%20instance%2EsortIndex%2Esplice%28index%2C%20amount%29%3B%0A%0A%20%20%20%20for%28var%20i%20%3D%200%3B%20i%20%3C%20instance%2EsortIndex%2Elength%3B%20i%2B%2B%29%7B%0A%0A%20%20%20%20%20%20if%20%28instance%2EsortIndex%5Bi%5D%5B0%5D%20%3E%20physicalRemovedIndex%29%7B%0A%20%20%20%20%20%20%20%20instance%2EsortIndex%5Bi%5D%5B0%5D%20%2D%3D%20amount%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20saveSortingState%2Ecall%28instance%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20this%2EafterChangeSort%20%3D%20function%20%28changes%2F%2A%2C%20source%2A%2F%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20sortColumnChanged%20%3D%20false%3B%0A%20%20%20%20var%20selection%20%3D%20%7B%7D%3B%0A%20%20%20%20if%20%28%21changes%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20changes%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28changes%5Bi%5D%5B1%5D%20%3D%3D%20instance%2EsortColumn%29%20%7B%0A%20%20%20%20%20%20%20%20sortColumnChanged%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20selection%2Erow%20%3D%20plugin%2EtranslateRow%2Ecall%28instance%2C%20changes%5Bi%5D%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20selection%2Ecol%20%3D%20changes%5Bi%5D%5B1%5D%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28sortColumnChanged%29%20%7B%0A%20%20%20%20%20%20instance%2E%5FregisterTimeout%28setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20plugin%2Esort%2Ecall%28instance%29%3B%0A%20%20%20%20%20%20%20%20instance%2Erender%28%29%3B%0A%20%20%20%20%20%20%20%20instance%2EselectCell%28plugin%2EuntranslateRow%2Ecall%28instance%2C%20selection%2Erow%29%2C%20selection%2Ecol%29%3B%0A%20%20%20%20%20%20%7D%2C%200%29%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%0Avar%20htSortColumn%20%3D%20new%20HandsontableColumnSorting%28%29%3B%0A%0AHandsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20function%20%28%29%20%7B%0A%20%20htSortColumn%2Einit%2Ecall%28this%2C%20%27afterInit%27%29%3B%0A%7D%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20function%20%28%29%20%7B%0A%20%20htSortColumn%2Einit%2Ecall%28this%2C%20%27afterUpdateSettings%27%29%3B%0A%7D%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27modifyRow%27%2C%20htSortColumn%2EtranslateRow%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterGetColHeader%27%2C%20htSortColumn%2EgetColHeader%29%3B%0A%0AHandsontable%2Ehooks%2Eregister%28%27beforeColumnSort%27%29%3B%0AHandsontable%2Ehooks%2Eregister%28%27afterColumnSort%27%29%3B%0A%0A%0A%28function%20%28Handsontable%29%20%7B%0A%20%20%27use%20strict%27%3B%0A%0A%20%20function%20prepareVerticalAlignClass%28className%2C%20alignment%29%20%7B%0A%20%20%20%20if%20%28className%2EindexOf%28alignment%29%20%21%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20return%20className%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20className%20%3D%20className%0A%20%20%20%20%20%20%2Ereplace%28%27htTop%27%2C%20%27%27%29%0A%20%20%20%20%20%20%2Ereplace%28%27htMiddle%27%2C%20%27%27%29%0A%20%20%20%20%20%20%2Ereplace%28%27htBottom%27%2C%20%27%27%29%0A%20%20%20%20%20%20%2Ereplace%28%27%20%20%27%2C%20%27%27%29%3B%0A%0A%20%20%20%20className%20%2B%3D%20%22%20%22%20%2B%20alignment%3B%0A%20%20%20%20return%20className%3B%0A%20%20%7D%0A%0A%20%20function%20prepareHorizontalAlignClass%28className%2C%20alignment%29%20%7B%0A%20%20%20%20if%20%28className%2EindexOf%28alignment%29%20%21%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20return%20className%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20className%20%3D%20className%0A%20%20%20%20%20%20%2Ereplace%28%27htLeft%27%2C%20%27%27%29%0A%20%20%20%20%20%20%2Ereplace%28%27htCenter%27%2C%20%27%27%29%0A%20%20%20%20%20%20%2Ereplace%28%27htRight%27%2C%20%27%27%29%0A%20%20%20%20%20%20%2Ereplace%28%27htJustify%27%2C%20%27%27%29%0A%20%20%20%20%20%20%2Ereplace%28%27%20%20%27%2C%20%27%27%29%3B%0A%0A%20%20%20%20className%20%2B%3D%20%22%20%22%20%2B%20alignment%3B%0A%20%20%20%20return%20className%3B%0A%20%20%7D%0A%0A%20%20function%20getAlignmentClasses%28range%29%20%7B%0A%20%20%20%20var%20classesArray%20%3D%20%7B%7D%3B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20for%20%28var%20row%20%3D%20range%2Efrom%2Erow%3B%20row%20%3C%3D%20range%2Eto%2Erow%3B%20row%2B%2B%29%20%7B%0A%20%20%20%20%20%20for%20%28var%20col%20%3D%20range%2Efrom%2Ecol%3B%20col%20%3C%3D%20range%2Eto%2Ecol%3B%20col%2B%2B%29%20%7B%0A%0A%20%20%20%20%20%20%20%20if%28%21classesArray%5Brow%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20classesArray%5Brow%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20classesArray%5Brow%5D%5Bcol%5D%20%3D%20this%2EgetCellMeta%28row%2Ccol%29%2EclassName%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%0A%20%20%20%20return%20classesArray%3B%0A%20%20%7D%0A%0A%20%20function%20doAlign%28row%2C%20col%2C%20type%2C%20alignment%29%20%7B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20var%20cellMeta%20%3D%20this%2EgetCellMeta%28row%2C%20col%29%2C%0A%20%20%20%20%20%20className%20%3D%20alignment%3B%0A%0A%20%20%20%20if%20%28cellMeta%2EclassName%29%20%7B%0A%20%20%20%20%20%20if%20%28type%20%3D%3D%3D%20%27vertical%27%29%20%7B%0A%20%20%20%20%20%20%20%20className%20%3D%20prepareVerticalAlignClass%28cellMeta%2EclassName%2C%20alignment%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20className%20%3D%20prepareHorizontalAlignClass%28cellMeta%2EclassName%2C%20alignment%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2EsetCellMeta%28row%2C%20col%2C%20%27className%27%2C%20className%29%3B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%7D%0A%0A%20%20function%20align%28range%2C%20type%2C%20alignment%29%20%7B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%0A%20%20%20%20var%20stateBefore%20%3D%20getAlignmentClasses%2Ecall%28this%2C%20range%29%3B%0A%20%20%20%20this%2ErunHooks%28%27beforeCellAlignment%27%2C%20stateBefore%2C%20range%2C%20type%2C%20alignment%29%3B%0A%0A%20%20%20%20if%20%28range%2Efrom%2Erow%20%3D%3D%20range%2Eto%2Erow%20%26%26%20range%2Efrom%2Ecol%20%3D%3D%20range%2Eto%2Ecol%29%20%7B%0A%20%20%20%20%20%20doAlign%2Ecall%28this%2C%20range%2Efrom%2Erow%2C%20range%2Efrom%2Ecol%2C%20type%2C%20alignment%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20for%20%28var%20row%20%3D%20range%2Efrom%2Erow%3B%20row%20%3C%3D%20range%2Eto%2Erow%3B%20row%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20col%20%3D%20range%2Efrom%2Ecol%3B%20col%20%3C%3D%20range%2Eto%2Ecol%3B%20col%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20doAlign%2Ecall%28this%2C%20row%2C%20col%2C%20type%2C%20alignment%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Erender%28%29%3B%0A%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%7D%0A%0A%20%20function%20ContextMenu%28instance%2C%20customOptions%29%20%7B%0A%20%20%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20%20%20var%20contextMenu%20%3D%20this%3B%0A%20%20%20%20contextMenu%2Emenus%20%3D%20%5B%5D%3B%0A%20%20%20%20contextMenu%2EhtMenus%20%3D%20%7B%7D%3B%0A%20%20%20%20contextMenu%2EtriggerRows%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20contextMenu%2EeventManager%20%3D%20Handsontable%2EeventManager%28contextMenu%29%3B%0A%0A%0A%20%20%20%20this%2Eenabled%20%3D%20true%3B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterDestroy%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20contextMenu%2Edestroy%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2EdefaultOptions%20%3D%20%7B%0A%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%27row%5Fabove%27%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20%27Insert%20row%20above%27%2C%0A%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28key%2C%20selection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ealter%28%22insert%5Frow%22%2C%20selection%2Estart%2Erow%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20selected%20%3D%20this%2EgetSelected%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20entireColumnSelection%20%3D%20%5B0%2C%20selected%5B1%5D%2C%20this%2EcountRows%28%29%20%2D%201%2C%20selected%5B1%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20columnSelected%20%3D%20entireColumnSelection%2Ejoin%28%27%2C%27%29%20%3D%3D%20selected%2Ejoin%28%27%2C%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20selected%5B0%5D%20%3C%200%20%7C%7C%20this%2EcountRows%28%29%20%3E%3D%20this%2EgetSettings%28%29%2EmaxRows%20%7C%7C%20columnSelected%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%27row%5Fbelow%27%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20%27Insert%20row%20below%27%2C%0A%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28key%2C%20selection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ealter%28%22insert%5Frow%22%2C%20selection%2Eend%2Erow%20%2B%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20selected%20%3D%20this%2EgetSelected%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20entireColumnSelection%20%3D%20%5B0%2C%20selected%5B1%5D%2C%20this%2EcountRows%28%29%20%2D%201%2C%20selected%5B1%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20columnSelected%20%3D%20entireColumnSelection%2Ejoin%28%27%2C%27%29%20%3D%3D%20selected%2Ejoin%28%27%2C%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EgetSelected%28%29%5B0%5D%20%3C%200%20%7C%7C%20this%2EcountRows%28%29%20%3E%3D%20this%2EgetSettings%28%29%2EmaxRows%20%7C%7C%20columnSelected%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20ContextMenu%2ESEPARATOR%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%27col%5Fleft%27%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20%27Insert%20column%20on%20the%20left%27%2C%0A%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28key%2C%20selection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ealter%28%22insert%5Fcol%22%2C%20selection%2Estart%2Ecol%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20selected%20%3D%20this%2EgetSelected%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20entireRowSelection%20%3D%20%5Bselected%5B0%5D%2C%200%2C%20selected%5B0%5D%2C%20this%2EcountCols%28%29%20%2D%201%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20rowSelected%20%3D%20entireRowSelection%2Ejoin%28%27%2C%27%29%20%3D%3D%20selected%2Ejoin%28%27%2C%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EgetSelected%28%29%5B1%5D%20%3C%200%20%7C%7C%20this%2EcountCols%28%29%20%3E%3D%20this%2EgetSettings%28%29%2EmaxCols%20%7C%7C%20rowSelected%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%27col%5Fright%27%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20%27Insert%20column%20on%20the%20right%27%2C%0A%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28key%2C%20selection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ealter%28%22insert%5Fcol%22%2C%20selection%2Eend%2Ecol%20%2B%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20selected%20%3D%20this%2EgetSelected%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20entireRowSelection%20%3D%20%5Bselected%5B0%5D%2C%200%2C%20selected%5B0%5D%2C%20this%2EcountCols%28%29%20%2D%201%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20rowSelected%20%3D%20entireRowSelection%2Ejoin%28%27%2C%27%29%20%3D%3D%20selected%2Ejoin%28%27%2C%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20selected%5B1%5D%20%3C%200%20%7C%7C%20this%2EcountCols%28%29%20%3E%3D%20this%2EgetSettings%28%29%2EmaxCols%20%7C%7C%20rowSelected%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20ContextMenu%2ESEPARATOR%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%27remove%5Frow%27%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20%27Remove%20row%27%2C%0A%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28key%2C%20selection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20amount%20%3D%20selection%2Eend%2Erow%20%2D%20selection%2Estart%2Erow%20%2B%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ealter%28%22remove%5Frow%22%2C%20selection%2Estart%2Erow%2C%20amount%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20selected%20%3D%20this%2EgetSelected%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20entireColumnSelection%20%3D%20%5B0%2C%20selected%5B1%5D%2C%20this%2EcountRows%28%29%20%2D%201%2C%20selected%5B1%5D%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20columnSelected%20%3D%20entireColumnSelection%2Ejoin%28%27%2C%27%29%20%3D%3D%20selected%2Ejoin%28%27%2C%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%28selected%5B0%5D%20%3C%200%20%7C%7C%20columnSelected%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%27remove%5Fcol%27%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20%27Remove%20column%27%2C%0A%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28key%2C%20selection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20amount%20%3D%20selection%2Eend%2Ecol%20%2D%20selection%2Estart%2Ecol%20%2B%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ealter%28%22remove%5Fcol%22%2C%20selection%2Estart%2Ecol%2C%20amount%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20selected%20%3D%20this%2EgetSelected%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20entireRowSelection%20%3D%20%5Bselected%5B0%5D%2C%200%2C%20selected%5B0%5D%2C%20this%2EcountCols%28%29%20%2D%201%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20rowSelected%20%3D%20entireRowSelection%2Ejoin%28%27%2C%27%29%20%3D%3D%20selected%2Ejoin%28%27%2C%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%28selected%5B1%5D%20%3C%200%20%7C%7C%20rowSelected%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20ContextMenu%2ESEPARATOR%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%27undo%27%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20%27Undo%27%2C%0A%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Eundo%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EundoRedo%20%26%26%20%21this%2EundoRedo%2EisUndoAvailable%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%27redo%27%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20%27Redo%27%2C%0A%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Eredo%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EundoRedo%20%26%26%20%21this%2EundoRedo%2EisRedoAvailable%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20ContextMenu%2ESEPARATOR%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%27make%5Fread%5Fonly%27%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%22Read%20only%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20atLeastOneReadOnly%20%3D%20contextMenu%2EcheckSelectionReadOnlyConsistency%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28atLeastOneReadOnly%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20contextMenu%2EmarkSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20atLeastOneReadOnly%20%3D%20contextMenu%2EcheckSelectionReadOnlyConsistency%28this%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20that%20%3D%20this%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EgetSelectedRange%28%29%2EforAll%28function%20%28r%2C%20c%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20that%2EgetCellMeta%28r%2C%20c%29%2EreadOnly%20%3D%20atLeastOneReadOnly%20%3F%20false%20%3A%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Erender%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20ContextMenu%2ESEPARATOR%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%27alignment%27%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20%27Alignment%27%2C%0A%20%20%20%20%20%20%20%20%20%20submenu%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20items%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%22Left%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasClass%20%3D%20contextMenu%2EcheckSelectionAlignment%28this%2C%20%27htLeft%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasClass%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20contextMenu%2EmarkSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20align%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27horizontal%27%2C%20%27htLeft%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%22Center%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasClass%20%3D%20contextMenu%2EcheckSelectionAlignment%28this%2C%20%27htCenter%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasClass%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20contextMenu%2EmarkSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20align%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27horizontal%27%2C%20%27htCenter%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%22Right%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasClass%20%3D%20contextMenu%2EcheckSelectionAlignment%28this%2C%20%27htRight%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasClass%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20contextMenu%2EmarkSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20align%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27horizontal%27%2C%20%27htRight%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%22Justify%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasClass%20%3D%20contextMenu%2EcheckSelectionAlignment%28this%2C%20%27htJustify%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasClass%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20contextMenu%2EmarkSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20align%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27horizontal%27%2C%20%27htJustify%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20ContextMenu%2ESEPARATOR%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%22Top%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasClass%20%3D%20contextMenu%2EcheckSelectionAlignment%28this%2C%20%27htTop%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasClass%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20contextMenu%2EmarkSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20align%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27vertical%27%2C%20%27htTop%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%22Middle%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasClass%20%3D%20contextMenu%2EcheckSelectionAlignment%28this%2C%20%27htMiddle%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasClass%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20contextMenu%2EmarkSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20align%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27vertical%27%2C%20%27htMiddle%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%22Bottom%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasClass%20%3D%20contextMenu%2EcheckSelectionAlignment%28this%2C%20%27htBottom%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasClass%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20contextMenu%2EmarkSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20align%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27vertical%27%2C%20%27htBottom%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20contextMenu%2Eoptions%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20Handsontable%2Ehelper%2Eextend%28contextMenu%2Eoptions%2C%20this%2Eoptions%29%3B%0A%0A%20%20%20%20this%2EbindMouseEvents%28%29%3B%0A%0A%20%20%20%20this%2EmarkSelected%20%3D%20function%20%28label%29%20%7B%0A%20%20%20%20%20%20return%20%22%3Cspan%20class%3D%27selected%27%3E%22%20%2B%20String%2EfromCharCode%2810003%29%20%2B%20%22%3C%2Fspan%3E%22%20%2B%20label%3B%20%2F%2F%20workaround%20for%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fissues%2F1946%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EcheckSelectionAlignment%20%3D%20function%20%28hot%2C%20className%29%20%7B%0A%20%20%20%20%20%20var%20hasAlignment%20%3D%20false%3B%0A%0A%20%20%20%20%20%20hot%2EgetSelectedRange%28%29%2EforAll%28function%20%28r%2C%20c%29%20%7B%0A%20%20%20%20%20%20%20%20var%20metaClassName%20%3D%20hot%2EgetCellMeta%28r%2C%20c%29%2EclassName%3B%0A%20%20%20%20%20%20%20%20if%20%28metaClassName%20%26%26%20metaClassName%2EindexOf%28className%29%20%21%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20hasAlignment%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20return%20hasAlignment%3B%0A%20%20%20%20%7D%3B%0A%0A%09%09if%28%21this%2Einstance%2EgetSettings%28%29%2EallowInsertRow%29%20%7B%0A%20%20%20%20%20%20var%20rowAboveIndex%20%3D%20findIndexByKey%28this%2EdefaultOptions%2Eitems%2C%20%27row%5Fabove%27%29%3B%0A%20%20%20%20%20%20this%2EdefaultOptions%2Eitems%2Esplice%28rowAboveIndex%2C1%29%3B%0A%20%20%20%20%20%20var%20rowBelowIndex%20%3D%20findIndexByKey%28this%2EdefaultOptions%2Eitems%2C%20%27row%5Fabove%27%29%3B%0A%20%20%20%20%20%20this%2EdefaultOptions%2Eitems%2Esplice%28rowBelowIndex%2C1%29%3B%0A%20%20%20%20%20%20this%2EdefaultOptions%2Eitems%2Esplice%28rowBelowIndex%2C1%29%3B%20%2F%2F%20FOR%20SEPARATOR%0A%0A%09%09%7D%0A%0A%09%09if%28%21this%2Einstance%2EgetSettings%28%29%2EallowInsertColumn%29%20%7B%0A%20%20%20%20%20%20var%20colLeftIndex%20%3D%20findIndexByKey%28this%2EdefaultOptions%2Eitems%2C%20%27col%5Fleft%27%29%3B%0A%20%20%20%20%20%20this%2EdefaultOptions%2Eitems%2Esplice%28colLeftIndex%2C1%29%3B%0A%20%20%20%20%20%20var%20colRightIndex%20%3D%20findIndexByKey%28this%2EdefaultOptions%2Eitems%2C%20%27col%5Fright%27%29%3B%0A%20%20%20%20%20%20this%2EdefaultOptions%2Eitems%2Esplice%28colRightIndex%2C1%29%3B%0A%20%20%20%20%20%20this%2EdefaultOptions%2Eitems%2Esplice%28colRightIndex%2C1%29%3B%20%2F%2F%20FOR%20SEPARATOR%0A%0A%20%20%20%20%7D%0A%0A%09%09var%20removeRow%20%3D%20false%3B%0A%09%09var%20removeCol%20%3D%20false%3B%0A%20%20%20%20var%20removeRowIndex%2C%20removeColumnIndex%3B%0A%0A%09%09if%28%21this%2Einstance%2EgetSettings%28%29%2EallowRemoveRow%29%20%7B%0A%20%20%20%20%20%20removeRowIndex%20%3D%20findIndexByKey%28this%2EdefaultOptions%2Eitems%2C%20%27remove%5Frow%27%29%3B%0A%20%20%20%20%20%20this%2EdefaultOptions%2Eitems%2Esplice%28removeRowIndex%2C1%29%3B%0A%09%09%09removeRow%20%3D%20true%3B%0A%09%09%7D%0A%0A%09%09if%28%21this%2Einstance%2EgetSettings%28%29%2EallowRemoveColumn%29%20%7B%0A%20%20%20%20%20%20removeColumnIndex%20%3D%20findIndexByKey%28this%2EdefaultOptions%2Eitems%2C%20%27remove%5Fcol%27%29%3B%0A%20%20%20%20%20%20this%2EdefaultOptions%2Eitems%2Esplice%28removeColumnIndex%2C1%29%3B%0A%20%20%20%20%20%20removeCol%20%3D%20true%3B%0A%09%09%7D%0A%0A%09%09if%20%28removeRow%20%26%26%20removeCol%29%20%7B%0A%20%20%20%20%20%20this%2EdefaultOptions%2Eitems%2Esplice%28removeColumnIndex%2C1%29%3B%20%2F%2F%20SEPARATOR%0A%09%09%7D%0A%0A%20%20%20%20this%2EcheckSelectionReadOnlyConsistency%20%3D%20function%20%28hot%29%20%7B%0A%20%20%20%20%20%20var%20atLeastOneReadOnly%20%3D%20false%3B%0A%0A%20%20%20%20%20%20hot%2EgetSelectedRange%28%29%2EforAll%28function%20%28r%2C%20c%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28hot%2EgetCellMeta%28r%2C%20c%29%2EreadOnly%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20atLeastOneReadOnly%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%20%2F%2Fbreaks%20forAll%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20return%20atLeastOneReadOnly%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterContextMenuDefaultOptions%27%2C%20this%2EdefaultOptions%29%3B%0A%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Create%20DOM%20instance%20of%20contextMenu%0A%20%20%20%2A%20%40param%20menuName%0A%20%20%20%2A%20%40param%20row%0A%20%20%20%2A%20%40return%20%7B%2A%7D%0A%20%20%20%2A%2F%0A%20%20ContextMenu%2Eprototype%2EcreateMenu%20%3D%20function%20%28menuName%2C%20row%29%20%7B%0A%20%20%20%20if%20%28menuName%29%20%7B%0A%20%20%20%20%20%20menuName%20%3D%20menuName%2Ereplace%28%2F%20%2Fg%2C%20%27%5F%27%29%3B%20%2F%2F%20replace%20all%20spaces%20in%20name%0A%20%20%20%20%20%20menuName%20%3D%20%27htContextSubMenu%5F%27%20%2B%20menuName%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20menu%3B%0A%20%20%20%20if%20%28menuName%29%20%7B%0A%20%20%20%20%20%20menu%20%3D%20document%2EquerySelector%28%27%2EhtContextMenu%2E%27%20%2B%20menuName%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20menu%20%3D%20document%2EquerySelector%28%27%2EhtContextMenu%27%29%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20if%20%28%21menu%29%20%7B%0A%20%20%20%20%20%20menu%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28menu%2C%20%27htContextMenu%27%29%3B%0A%20%20%20%20%20%20if%20%28menuName%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28menu%2C%20menuName%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20document%2EgetElementsByTagName%28%27body%27%29%5B0%5D%2EappendChild%28menu%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28this%2Emenus%2EindexOf%28menu%29%20%3C%200%29%20%7B%0A%20%20%20%20%20%20this%2Emenus%2Epush%28menu%29%3B%0A%20%20%20%20%20%20row%20%3D%20row%20%7C%7C%200%3B%0A%20%20%20%20%20%20this%2EtriggerRows%2Epush%28row%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20menu%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EbindMouseEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20function%20contextMenuOpenListener%28event%29%20%7B%0A%20%20%20%20%20%20var%20settings%20%3D%20this%2Einstance%2EgetSettings%28%29%2C%0A%20%20%20%20%20%20%20%20showRowHeaders%20%3D%20this%2Einstance%2EgetSettings%28%29%2ErowHeaders%2C%0A%20%20%20%20%20%20%20%20showColHeaders%20%3D%20this%2Einstance%2EgetSettings%28%29%2EcolHeaders%2C%0A%20%20%20%20%20%20%20%20containsCornerHeader%2C%0A%20%20%20%20%20%20%20%20element%2C%0A%20%20%20%20%20%20%20%20items%2C%0A%20%20%20%20%20%20%20%20menu%3B%0A%0A%20%20%20%20%20%20function%20isValidElement%28element%29%20%7B%0A%20%20%20%20%20%20%20%20return%20element%2EnodeName%20%3D%3D%3D%20%27TD%27%20%7C%7C%20element%2EparentNode%2EnodeName%20%3D%3D%3D%20%27TD%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20if%20event%20is%20from%20hot%2Dtable%20we%20must%20get%20web%20component%20element%20not%20element%20inside%20him%0A%20%20%20%20%20%20element%20%3D%20event%2ErealTarget%3B%0A%20%20%20%20%20%20this%2EcloseAll%28%29%3B%0A%0A%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20Handsontable%2Ehelper%2EstopPropagation%28event%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21%28showRowHeaders%20%7C%7C%20showColHeaders%29%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21isValidElement%28element%29%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%21%28Handsontable%2EDom%2EhasClass%28element%2C%20%27current%27%29%20%26%26%20Handsontable%2EDom%2EhasClass%28element%2C%20%27wtBorder%27%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%28showRowHeaders%20%26%26%20showColHeaders%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20do%20nothing%20after%20right%2Dclick%20on%20corner%20header%0A%20%20%20%20%20%20%20%20containsCornerHeader%20%3D%20element%2EparentNode%2EquerySelectorAll%28%27%2EcornerHeader%27%29%2Elength%20%3E%200%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28containsCornerHeader%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20menu%20%3D%20this%2EcreateMenu%28%29%3B%0A%20%20%20%20%20%20items%20%3D%20this%2EgetItems%28settings%2EcontextMenu%29%3B%0A%0A%20%20%20%20%20%20this%2Eshow%28menu%2C%20items%29%3B%0A%20%20%20%20%20%20this%2EsetMenuPosition%28event%2C%20menu%29%3B%0A%20%20%20%20%20%20this%2EeventManager%2EaddEventListener%28document%2EdocumentElement%2C%20%27mousedown%27%2C%20Handsontable%2Ehelper%2Eproxy%28ContextMenu%2Eprototype%2EcloseAll%2C%20this%29%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28this%2Einstance%29%3B%0A%0A%20%20%20%20eventManager%2EaddEventListener%28this%2Einstance%2ErootElement%2C%20%27contextmenu%27%2C%20Handsontable%2Ehelper%2Eproxy%28contextMenuOpenListener%2C%20this%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EbindTableEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2E%5FafterScrollCallback%20%3D%20function%20%28%29%20%7B%7D%3B%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterScrollVertically%27%2C%20this%2E%5FafterScrollCallback%29%3B%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterScrollHorizontally%27%2C%20this%2E%5FafterScrollCallback%29%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EunbindTableEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28this%2E%5FafterScrollCallback%29%20%7B%0A%20%20%20%20%20%20this%2Einstance%2EremoveHook%28%27afterScrollVertically%27%2C%20this%2E%5FafterScrollCallback%29%3B%0A%20%20%20%20%20%20this%2Einstance%2EremoveHook%28%27afterScrollHorizontally%27%2C%20this%2E%5FafterScrollCallback%29%3B%0A%20%20%20%20%20%20this%2E%5FafterScrollCallback%20%3D%20null%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EperformAction%20%3D%20function%20%28event%2C%20hot%29%20%7B%0A%20%20%20%20var%20contextMenu%20%3D%20this%3B%0A%0A%20%20%20%20var%20selectedItemIndex%20%3D%20hot%2EgetSelected%28%29%5B0%5D%3B%0A%20%20%20%20var%20selectedItem%20%3D%20hot%2EgetData%28%29%5BselectedItemIndex%5D%3B%0A%0A%20%20%20%20if%20%28selectedItem%2Edisabled%20%3D%3D%3D%20true%20%7C%7C%20%28typeof%20selectedItem%2Edisabled%20%3D%3D%20%27function%27%20%26%26%20selectedItem%2Edisabled%2Ecall%28this%2Einstance%29%20%3D%3D%3D%20true%29%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%21selectedItem%2EhasOwnProperty%28%27submenu%27%29%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20selectedItem%2Ecallback%20%21%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20selRange%20%3D%20this%2Einstance%2EgetSelectedRange%28%29%3B%0A%20%20%20%20%20%20var%20normalizedSelection%20%3D%20ContextMenu%2Eutils%2EnormalizeSelection%28selRange%29%3B%0A%0A%20%20%20%20%20%20selectedItem%2Ecallback%2Ecall%28this%2Einstance%2C%20selectedItem%2Ekey%2C%20normalizedSelection%2C%20event%29%3B%0A%20%20%20%20%20%20contextMenu%2EcloseAll%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EunbindMouseEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2EeventManager%2Eclear%28%29%3B%0A%20%20%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28this%2Einstance%29%3B%0A%20%20%20%20eventManager%2EremoveEventListener%28this%2Einstance%2ErootElement%2C%20%27contextmenu%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2Eshow%20%3D%20function%20%28menu%2C%20items%29%20%7B%0A%20%20%20%20var%20that%20%3D%20this%3B%0A%0A%20%20%20%20menu%2EremoveAttribute%28%27style%27%29%3B%0A%20%20%20%20menu%2Estyle%2Edisplay%20%3D%20%27block%27%3B%0A%0A%20%20%20%20var%20settings%20%3D%20%7B%0A%20%20%20%20%20%20data%3A%20items%2C%0A%20%20%20%20%20%20colHeaders%3A%20false%2C%0A%20%20%20%20%20%20colWidths%3A%20%5B200%5D%2C%0A%20%20%20%20%20%20readOnly%3A%20true%2C%0A%20%20%20%20%20%20copyPaste%3A%20false%2C%0A%20%20%20%20%20%20columns%3A%20%5B%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20data%3A%20%27name%27%2C%0A%20%20%20%20%20%20%20%20%20%20renderer%3A%20Handsontable%2Ehelper%2Eproxy%28this%2Erenderer%2C%20this%29%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20renderAllRows%3A%20true%2C%0A%20%20%20%20%20%20beforeKeyDown%3A%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20that%2EonBeforeKeyDown%28event%2C%20htContextMenu%29%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20afterOnCellMouseOver%3A%20function%20%28event%2C%20coords%2C%20TD%29%20%7B%0A%20%20%20%20%20%20%20%20that%2EonCellMouseOver%28event%2C%20coords%2C%20TD%2C%20htContextMenu%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20htContextMenu%20%3D%20new%20Handsontable%28menu%2C%20settings%29%3B%0A%0A%20%20%20%20%2F%2F%20ContextMenu%20is%20not%20detected%20HotTableEnv%20correctly%20because%20is%20injected%20outside%20hot%2Dtable%0A%20%20%20%20htContextMenu%2EisHotTableEnv%20%3D%20this%2Einstance%2EisHotTableEnv%3B%0A%20%20%20%20Handsontable%2EeventManager%2EisHotTableEnv%20%3D%20this%2Einstance%2EisHotTableEnv%3B%0A%0A%20%20%20%20this%2EeventManager%2EremoveEventListener%28menu%2C%20%27mousedown%27%29%3B%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28menu%2C%27mousedown%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20that%2EperformAction%28event%2C%20htContextMenu%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2EbindTableEvents%28%29%3B%0A%20%20%20%20htContextMenu%2Elisten%28%29%3B%0A%0A%20%20%20%20this%2EhtMenus%5BhtContextMenu%2Eguid%5D%20%3D%20htContextMenu%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2Eclose%20%3D%20function%20%28menu%29%20%7B%0A%20%20%20%20this%2Ehide%28menu%29%3B%0A%20%20%20%20this%2EeventManager%2Eclear%28%29%3B%0A%20%20%20%20this%2EunbindTableEvents%28%29%3B%0A%20%20%20%20this%2Einstance%2Elisten%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EcloseAll%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20while%20%28this%2Emenus%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20var%20menu%20%3D%20this%2Emenus%2Epop%28%29%3B%0A%20%20%20%20%20%20if%20%28menu%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Eclose%28menu%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%20%20%20%20this%2EtriggerRows%20%3D%20%5B%5D%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EcloseLastOpenedSubMenu%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20menu%20%3D%20this%2Emenus%2Epop%28%29%3B%0A%20%20%20%20if%20%28menu%29%20%7B%0A%20%20%20%20%20%20this%2Ehide%28menu%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2Ehide%20%3D%20function%20%28menu%29%20%7B%0A%20%20%20%20menu%2Estyle%2Edisplay%20%3D%20%27none%27%3B%0A%20%20%20%20var%20instance%20%3Dthis%2EhtMenus%5Bmenu%2Eid%5D%3B%0A%0A%20%20%20%20instance%2Edestroy%28%29%3B%0A%20%20%20%20delete%20this%2EhtMenus%5Bmenu%2Eid%5D%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2Erenderer%20%3D%20function%20%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%29%20%7B%0A%20%20%20%20var%20contextMenu%20%3D%20this%3B%0A%20%20%20%20var%20item%20%3D%20instance%2EgetData%28%29%5Brow%5D%3B%0A%20%20%20%20var%20wrapper%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%0A%20%20%20%20if%20%28typeof%20value%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20value%20%3D%20value%2Ecall%28this%2Einstance%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2EDom%2Eempty%28TD%29%3B%0A%20%20%20%20TD%2EappendChild%28wrapper%29%3B%0A%0A%20%20%20%20if%20%28itemIsSeparator%28item%29%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20%27htSeparator%27%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EfastInnerHTML%28wrapper%2C%20value%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28itemIsDisabled%28item%29%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20%27htDisabled%27%29%3B%0A%0A%20%20%20%20%20%20this%2EeventManager%2EaddEventListener%28wrapper%2C%20%27mouseenter%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2EdeselectCell%28%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if%20%28isSubMenu%28item%29%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20%27htSubmenu%27%29%3B%0A%0A%0A%20%20%20%20%20%20%20%20this%2EeventManager%2EaddEventListener%28wrapper%2C%20%27mouseenter%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EselectCell%28row%2C%20col%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28TD%2C%20%27htSubmenu%27%29%3B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28TD%2C%20%27htDisabled%27%29%3B%0A%0A%20%20%20%20%20%20%20%20this%2EeventManager%2EaddEventListener%28wrapper%2C%20%27mouseenter%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EselectCell%28row%2C%20col%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20function%20isSubMenu%28item%29%20%7B%0A%20%20%20%20%20%20return%20item%2EhasOwnProperty%28%27submenu%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20itemIsSeparator%28item%29%20%7B%0A%20%20%20%20%20%20return%20new%20RegExp%28ContextMenu%2ESEPARATOR%2Ename%2C%20%27i%27%29%2Etest%28item%2Ename%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20itemIsDisabled%28item%29%20%7B%0A%20%20%20%20%20%20return%20item%2Edisabled%20%3D%3D%3D%20true%20%7C%7C%20%28typeof%20item%2Edisabled%20%3D%3D%20%27function%27%20%26%26%20item%2Edisabled%2Ecall%28contextMenu%2Einstance%29%20%3D%3D%3D%20true%29%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EonCellMouseOver%20%3D%20function%20%28event%2C%20coords%2C%20TD%2C%20hot%29%20%7B%0A%20%20%20%20var%20menusLength%20%3D%20this%2Emenus%2Elength%3B%0A%0A%20%20%20%20if%20%28menusLength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20var%20lastMenu%20%3D%20this%2Emenus%5BmenusLength%20%2D%201%5D%3B%0A%20%20%20%20%20%20if%20%28lastMenu%2Eid%20%21%3D%20hot%2Eguid%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EcloseLastOpenedSubMenu%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2EcloseLastOpenedSubMenu%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28TD%2EclassName%2EindexOf%28%27htSubmenu%27%29%20%21%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20var%20selectedItem%20%3D%20hot%2EgetData%28%29%5Bcoords%2Erow%5D%3B%0A%20%20%20%20%20%20var%20items%20%3D%20this%2EgetItems%28selectedItem%2Esubmenu%29%3B%0A%0A%20%20%20%20%20%20var%20subMenu%20%3D%20this%2EcreateMenu%28selectedItem%2Ename%2C%20coords%2Erow%29%3B%0A%20%20%20%20%20%20var%20tdCoords%20%3D%20TD%2EgetBoundingClientRect%28%29%3B%0A%0A%20%20%20%20%20%20this%2Eshow%28subMenu%2C%20items%29%3B%0A%20%20%20%20%20%20this%2EsetSubMenuPosition%28tdCoords%2C%20subMenu%29%3B%0A%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EonBeforeKeyDown%20%3D%20function%20%28event%2C%20instance%29%20%7B%0A%0A%20%20%20%20Handsontable%2EDom%2EenableImmediatePropagation%28event%29%3B%0A%20%20%20%20var%20contextMenu%20%3D%20this%3B%0A%0A%20%20%20%20var%20selection%20%3D%20instance%2EgetSelected%28%29%3B%0A%0A%20%20%20%20switch%20%28event%2EkeyCode%29%20%7B%0A%0A%20%20%20%20%20%20case%20Handsontable%2Ehelper%2EkeyCode%2EESCAPE%3A%0A%20%20%20%20%20%20%20%20contextMenu%2EcloseAll%28%29%3B%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20Handsontable%2Ehelper%2EkeyCode%2EENTER%3A%0A%20%20%20%20%20%20%20%20if%20%28selection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20contextMenu%2EperformAction%28event%2C%20instance%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20Handsontable%2Ehelper%2EkeyCode%2EARROW%5FDOWN%3A%0A%0A%20%20%20%20%20%20%20%20if%20%28%21selection%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20selectFirstCell%28instance%2C%20contextMenu%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20selectNextCell%28selection%5B0%5D%2C%20selection%5B1%5D%2C%20instance%2C%20contextMenu%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20Handsontable%2Ehelper%2EkeyCode%2EARROW%5FUP%3A%0A%20%20%20%20%20%20%20%20if%20%28%21selection%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20selectLastCell%28instance%2C%20contextMenu%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20selectPrevCell%28selection%5B0%5D%2C%20selection%5B1%5D%2C%20instance%2C%20contextMenu%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20Handsontable%2Ehelper%2EkeyCode%2EARROW%5FRIGHT%3A%0A%20%20%20%20%20%20%20%20if%20%28selection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20row%20%3D%20selection%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20var%20cell%20%3D%20instance%2EgetCell%28selection%5B0%5D%2C%200%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28ContextMenu%2Eutils%2EhasSubMenu%28cell%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20openSubMenu%28instance%2C%20contextMenu%2C%20cell%2C%20row%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%0A%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20case%20Handsontable%2Ehelper%2EkeyCode%2EARROW%5FLEFT%3A%0A%20%20%20%20%20%20%20%20if%20%28selection%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28instance%2ErootElement%2EclassName%2EindexOf%28%27htContextSubMenu%5F%27%29%20%21%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20contextMenu%2EcloseLastOpenedSubMenu%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20index%20%3D%20contextMenu%2Emenus%2Elength%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28index%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20menu%20%3D%20contextMenu%2Emenus%5Bindex%20%2D%201%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20triggerRow%20%3D%20contextMenu%2EtriggerRows%2Epop%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%20%3D%20this%2EhtMenus%5Bmenu%2Eid%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2EselectCell%28triggerRow%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20selectFirstCell%28instance%29%20%7B%0A%0A%20%20%20%20%20%20var%20firstCell%20%3D%20instance%2EgetCell%280%2C%200%29%3B%0A%0A%20%20%20%20%20%20if%20%28ContextMenu%2Eutils%2EisSeparator%28firstCell%29%20%7C%7C%20ContextMenu%2Eutils%2EisDisabled%28firstCell%29%29%20%7B%0A%20%20%20%20%20%20%20%20selectNextCell%280%2C%200%2C%20instance%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20instance%2EselectCell%280%2C%200%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20function%20selectLastCell%28instance%29%20%7B%0A%0A%20%20%20%20%20%20var%20lastRow%20%3D%20instance%2EcountRows%28%29%20%2D%201%3B%0A%20%20%20%20%20%20var%20lastCell%20%3D%20instance%2EgetCell%28lastRow%2C%200%29%3B%0A%0A%20%20%20%20%20%20if%20%28ContextMenu%2Eutils%2EisSeparator%28lastCell%29%20%7C%7C%20ContextMenu%2Eutils%2EisDisabled%28lastCell%29%29%20%7B%0A%20%20%20%20%20%20%20%20selectPrevCell%28lastRow%2C%200%2C%20instance%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20instance%2EselectCell%28lastRow%2C%200%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20selectNextCell%28row%2C%20col%2C%20instance%29%20%7B%0A%20%20%20%20%20%20var%20nextRow%20%3D%20row%20%2B%201%3B%0A%20%20%20%20%20%20var%20nextCell%20%3D%20nextRow%20%3C%20instance%2EcountRows%28%29%20%3F%20instance%2EgetCell%28nextRow%2C%20col%29%20%3A%20null%3B%0A%0A%20%20%20%20%20%20if%20%28%21nextCell%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28ContextMenu%2Eutils%2EisSeparator%28nextCell%29%20%7C%7C%20ContextMenu%2Eutils%2EisDisabled%28nextCell%29%29%20%7B%0A%20%20%20%20%20%20%20%20selectNextCell%28nextRow%2C%20col%2C%20instance%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20instance%2EselectCell%28nextRow%2C%20col%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20selectPrevCell%28row%2C%20col%2C%20instance%29%20%7B%0A%0A%20%20%20%20%20%20var%20prevRow%20%3D%20row%20%2D%201%3B%0A%20%20%20%20%20%20var%20prevCell%20%3D%20prevRow%20%3E%3D%200%20%3F%20instance%2EgetCell%28prevRow%2C%20col%29%20%3A%20null%3B%0A%0A%20%20%20%20%20%20if%20%28%21prevCell%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28ContextMenu%2Eutils%2EisSeparator%28prevCell%29%20%7C%7C%20ContextMenu%2Eutils%2EisDisabled%28prevCell%29%29%20%7B%0A%20%20%20%20%20%20%20%20selectPrevCell%28prevRow%2C%20col%2C%20instance%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20instance%2EselectCell%28prevRow%2C%20col%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20openSubMenu%28instance%2C%20contextMenu%2C%20cell%2C%20row%29%20%7B%0A%20%20%20%20%20%20var%20selectedItem%20%3D%20instance%2EgetData%28%29%5Brow%5D%3B%0A%20%20%20%20%20%20var%20items%20%3D%20contextMenu%2EgetItems%28selectedItem%2Esubmenu%29%3B%0A%20%20%20%20%20%20var%20subMenu%20%3D%20contextMenu%2EcreateMenu%28selectedItem%2Ename%2C%20row%29%3B%0A%20%20%20%20%20%20var%20coords%20%3D%20cell%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20var%20subMenuInstance%20%3D%20contextMenu%2Eshow%28subMenu%2C%20items%29%3B%0A%0A%20%20%20%20%20%20contextMenu%2EsetSubMenuPosition%28coords%2C%20subMenu%29%3B%0A%20%20%20%20%20%20subMenuInstance%2EselectCell%280%2C%200%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20function%20findByKey%28items%2C%20key%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20items%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28items%5Bi%5D%2Ekey%20%3D%3D%3D%20key%29%20%7B%0A%20%20%20%20%20%20%20%20return%20items%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20findIndexByKey%28items%2C%20key%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20items%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28items%5Bi%5D%2Ekey%20%3D%3D%3D%20key%29%20%7B%0A%20%20%20%20%20%20%20%20return%20i%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20ContextMenu%2Eprototype%2EgetItems%20%3D%20function%20%28items%29%20%7B%0A%20%20%20%20var%20menu%2C%20item%3B%0A%0A%20%20%20%20function%20ContextMenuItem%28rawItem%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20rawItem%20%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Ename%20%3D%20rawItem%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2Eextend%28this%2C%20rawItem%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20ContextMenuItem%2Eprototype%20%3D%20items%3B%0A%0A%20%20%20%20if%20%28items%20%26%26%20items%2Eitems%29%20%7B%0A%20%20%20%20%20%20items%20%3D%20items%2Eitems%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28items%20%3D%3D%3D%20true%29%20%7B%0A%20%20%20%20%20%20items%20%3D%20this%2EdefaultOptions%2Eitems%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%281%20%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20menu%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28var%20key%20in%20items%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28items%2EhasOwnProperty%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20items%5Bkey%5D%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20item%20%3D%20findByKey%28this%2EdefaultOptions%2Eitems%2C%20items%5Bkey%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20item%20%3D%20findByKey%28this%2EdefaultOptions%2Eitems%2C%20key%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21item%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20item%20%3D%20items%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20item%20%3D%20new%20ContextMenuItem%28item%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20items%5Bkey%5D%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehelper%2Eextend%28item%2C%20items%5Bkey%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21item%2Ekey%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20item%2Ekey%20%3D%20key%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20menu%2Epush%28item%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20menu%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EsetSubMenuPosition%20%3D%20function%20%28coords%2C%20menu%29%20%7B%0A%20%20%20%20var%20scrollTop%20%3D%20Handsontable%2EDom%2EgetWindowScrollTop%28%29%3B%0A%20%20%20%20var%20scrollLeft%20%3D%20Handsontable%2EDom%2EgetWindowScrollLeft%28%29%3B%0A%0A%20%20%20%20var%20cursor%20%3D%20%7B%0A%20%20%20%20%20%20top%3A%20scrollTop%20%2B%20coords%2Etop%2C%0A%20%20%20%20%20%20topRelative%3A%20coords%2Etop%2C%0A%20%20%20%20%20%20left%3A%20coords%2Eleft%2C%0A%20%20%20%20%20%20leftRelative%3A%20coords%2Eleft%20%2D%20scrollLeft%2C%0A%20%20%20%20%20%20scrollTop%3A%20scrollTop%2C%0A%20%20%20%20%20%20scrollLeft%3A%20scrollLeft%2C%0A%20%20%20%20%20%20cellHeight%3A%20coords%2Eheight%2C%0A%20%20%20%20%20%20cellWidth%3A%20coords%2Ewidth%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20if%20%28this%2EmenuFitsBelowCursor%28cursor%2C%20menu%2C%20document%2Ebody%2EclientWidth%29%29%20%7B%0A%20%20%20%20%20%20this%2EpositionMenuBelowCursor%28cursor%2C%20menu%2C%20true%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if%20%28this%2EmenuFitsAboveCursor%28cursor%2C%20menu%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EpositionMenuAboveCursor%28cursor%2C%20menu%2C%20true%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this%2EpositionMenuBelowCursor%28cursor%2C%20menu%2C%20true%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28this%2EmenuFitsOnRightOfCursor%28cursor%2C%20menu%2C%20document%2Ebody%2EclientWidth%29%29%20%7B%0A%20%20%20%20%20%20this%2EpositionMenuOnRightOfCursor%28cursor%2C%20menu%2C%20true%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2EpositionMenuOnLeftOfCursor%28cursor%2C%20menu%2C%20true%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EsetMenuPosition%20%3D%20function%20%28event%2C%20menu%29%20%7B%0A%20%20%20%20%2F%2F%20for%20ie8%0A%20%20%20%20%2F%2F%20http%3A%2F%2Fmsdn%2Emicrosoft%2Ecom%2Fen%2Dus%2Flibrary%2Fie%2Fff974655%28v%3Dvs%2E85%29%2Easpx%0A%20%20%20%20var%20scrollTop%20%3D%20Handsontable%2EDom%2EgetWindowScrollTop%28%29%3B%0A%20%20%20%20var%20scrollLeft%20%3D%20Handsontable%2EDom%2EgetWindowScrollLeft%28%29%3B%0A%20%20%20%20var%20cursorY%20%3D%20event%2EpageY%20%7C%7C%20%28event%2EclientY%20%2B%20scrollTop%29%3B%0A%20%20%20%20var%20cursorX%20%3D%20event%2EpageX%20%7C%7C%20%28event%2EclientX%20%2B%20scrollLeft%29%3B%0A%0A%20%20%20%20var%20cursor%20%3D%20%7B%0A%20%20%20%20%20%20top%3A%20cursorY%2C%0A%20%20%20%20%20%20topRelative%3A%20cursorY%20%2D%20scrollTop%2C%0A%20%20%20%20%20%20left%3A%20cursorX%2C%0A%20%20%20%20%20%20leftRelative%3A%20cursorX%20%2D%20scrollLeft%2C%0A%20%20%20%20%20%20scrollTop%3A%20scrollTop%2C%0A%20%20%20%20%20%20scrollLeft%3A%20scrollLeft%2C%0A%20%20%20%20%20%20cellHeight%3A%20event%2Etarget%2EclientHeight%2C%0A%20%20%20%20%20%20cellWidth%3A%20event%2Etarget%2EclientWidth%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20if%20%28this%2EmenuFitsBelowCursor%28cursor%2C%20menu%2C%20document%2Ebody%2EclientHeight%29%29%20%7B%0A%20%20%20%20%20%20this%2EpositionMenuBelowCursor%28cursor%2C%20menu%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if%20%28this%2EmenuFitsAboveCursor%28cursor%2C%20menu%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EpositionMenuAboveCursor%28cursor%2C%20menu%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this%2EpositionMenuBelowCursor%28cursor%2C%20menu%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28this%2EmenuFitsOnRightOfCursor%28cursor%2C%20menu%2C%20document%2Ebody%2EclientWidth%29%29%20%7B%0A%20%20%20%20%20%20this%2EpositionMenuOnRightOfCursor%28cursor%2C%20menu%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2EpositionMenuOnLeftOfCursor%28cursor%2C%20menu%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EmenuFitsAboveCursor%20%3D%20function%20%28cursor%2C%20menu%29%20%7B%0A%20%20%20%20return%20cursor%2EtopRelative%20%3E%3D%20menu%2EoffsetHeight%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EmenuFitsBelowCursor%20%3D%20function%20%28cursor%2C%20menu%2C%20viewportHeight%29%20%7B%0A%20%20%20%20return%20cursor%2EtopRelative%20%2B%20menu%2EoffsetHeight%20%3C%3D%20viewportHeight%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EmenuFitsOnRightOfCursor%20%3D%20function%20%28cursor%2C%20menu%2C%20viewportHeight%29%20%7B%0A%20%20%20%20return%20cursor%2EleftRelative%20%2B%20menu%2EoffsetWidth%20%3C%3D%20viewportHeight%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EpositionMenuBelowCursor%20%3D%20function%20%28cursor%2C%20menu%29%20%7B%0A%0A%20%20%20%20menu%2Estyle%2Etop%20%3D%20cursor%2Etop%20%2B%20%27px%27%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EpositionMenuAboveCursor%20%3D%20function%20%28cursor%2C%20menu%2C%20subMenu%29%20%7B%0A%20%20%20%20if%20%28subMenu%29%20%7B%0A%20%20%20%20%20%20menu%2Estyle%2Etop%20%3D%20%28cursor%2Etop%20%2B%20cursor%2EcellHeight%20%2D%20menu%2EoffsetHeight%29%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20menu%2Estyle%2Etop%20%3D%20%28cursor%2Etop%20%2D%20menu%2EoffsetHeight%29%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EpositionMenuOnRightOfCursor%20%3D%20function%20%28cursor%2C%20menu%2C%20subMenu%29%20%7B%0A%20%20%20%20if%20%28subMenu%29%20%7B%0A%20%20%20%20%20%20menu%2Estyle%2Eleft%20%3D%201%20%2B%20cursor%2Eleft%20%2B%20cursor%2EcellWidth%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20menu%2Estyle%2Eleft%20%3D%201%20%2B%20cursor%2Eleft%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EpositionMenuOnLeftOfCursor%20%3D%20function%20%28cursor%2C%20menu%2C%20subMenu%29%20%7B%0A%20%20%20%20if%20%28subMenu%29%20%7B%0A%20%20%20%20%20%20menu%2Estyle%2Eleft%20%3D%20%28cursor%2Eleft%20%2D%20menu%2EoffsetWidth%29%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20menu%2Estyle%2Eleft%20%3D%20%28cursor%2Eleft%20%2D%20menu%2EoffsetWidth%29%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eutils%20%3D%20%7B%7D%3B%0A%0A%20%20ContextMenu%2Eutils%2EnormalizeSelection%20%3D%20function%20%28selRange%29%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20start%3A%20selRange%2EgetTopLeftCorner%28%29%2C%0A%20%20%20%20%20%20end%3A%20selRange%2EgetBottomRightCorner%28%29%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eutils%2EisSeparator%20%3D%20function%20%28cell%29%20%7B%0A%20%20%20%20return%20Handsontable%2EDom%2EhasClass%28cell%2C%20%27htSeparator%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eutils%2EhasSubMenu%20%3D%20function%20%28cell%29%20%7B%0A%20%20%20%20return%20Handsontable%2EDom%2EhasClass%28cell%2C%20%27htSubmenu%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eutils%2EisDisabled%20%3D%20function%20%28cell%29%20%7B%0A%20%20%20%20return%20Handsontable%2EDom%2EhasClass%28cell%2C%20%27htDisabled%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2Eenable%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28%21this%2Eenabled%29%20%7B%0A%20%20%20%20%20%20this%2Eenabled%20%3D%20true%3B%0A%20%20%20%20%20%20this%2EbindMouseEvents%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2Edisable%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28this%2Eenabled%29%20%7B%0A%20%20%20%20%20%20this%2Eenabled%20%3D%20false%3B%0A%20%20%20%20%20%20this%2EcloseAll%28%29%3B%0A%20%20%20%20%20%20this%2EunbindMouseEvents%28%29%3B%0A%20%20%20%20%20%20this%2EunbindTableEvents%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2Edestroy%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2EcloseAll%28%29%3B%0A%20%20%20%20while%20%28this%2Emenus%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20var%20menu%20%3D%20this%2Emenus%2Epop%28%29%3B%0A%20%20%20%20%20%20this%2EtriggerRows%2Epop%28%29%3B%0A%20%20%20%20%20%20if%20%28menu%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Eclose%28menu%29%3B%0A%20%20%20%20%20%20%20%20if%20%28%21this%2EisMenuEnabledByOtherHotInstance%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EremoveMenu%28menu%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2EunbindMouseEvents%28%29%3B%0A%20%20%20%20this%2EunbindTableEvents%28%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EisMenuEnabledByOtherHotInstance%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20hotContainers%20%3D%20document%2EquerySelectorAll%28%27%2Ehandsontable%27%29%3B%0A%20%20%20%20var%20menuEnabled%20%3D%20false%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20len%20%3D%20hotContainers%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%2EhtMenus%5BhotContainers%5Bi%5D%2Eid%5D%3B%0A%20%20%20%20%20%20if%20%28instance%20%26%26%20instance%2EgetSettings%28%29%2EcontextMenu%29%20%7B%0A%20%20%20%20%20%20%20%20menuEnabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20menuEnabled%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2EremoveMenu%20%3D%20function%20%28menu%29%20%7B%0A%20%20%20%20if%20%28menu%2EparentNode%29%20%7B%0A%20%20%20%20%20%20this%2Emenu%2EparentNode%2EremoveChild%28menu%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2Eprototype%2Ealign%20%3D%20function%28range%2C%20type%2C%20alignment%29%20%7B%0A%20%20%20%20align%2Ecall%28this%2C%20range%2C%20type%2C%20alignment%29%3B%0A%20%20%7D%3B%0A%0A%20%20ContextMenu%2ESEPARATOR%20%3D%20%7Bname%3A%20%22%2D%2D%2D%2D%2D%2D%2D%2D%2D%22%7D%3B%0A%0A%20%20function%20updateHeight%28%29%20%7B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20if%20%28this%2ErootElement%2EclassName%2EindexOf%28%27htContextMenu%27%29%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20realSeparatorHeight%20%3D%200%2C%0A%20%20%20%20%20%20realEntrySize%20%3D%200%2C%0A%20%20%20%20%20%20dataSize%20%3D%20this%2EgetSettings%28%29%2Edata%2Elength%2C%0A%20%20%20%20%20%20currentHiderWidth%20%3D%20parseInt%28this%2Eview%2Ewt%2EwtTable%2Ehider%2Estyle%2Ewidth%2C10%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20dataSize%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28this%2EgetSettings%28%29%2Edata%5Bi%5D%2Ename%20%3D%3D%20ContextMenu%2ESEPARATOR%2Ename%29%20%7B%0A%20%20%20%20%20%20%20%20realSeparatorHeight%20%2B%3D%201%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20realEntrySize%20%2B%3D%2026%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Eview%2Ewt%2EwtTable%2Eholder%2Estyle%2Ewidth%20%3D%20currentHiderWidth%20%2B%2022%20%2B%20%22px%22%3B%0A%20%20%20%20this%2Eview%2Ewt%2EwtTable%2Eholder%2Estyle%2Eheight%20%3D%20realEntrySize%20%2B%20realSeparatorHeight%20%2B%204%20%2B%20%22px%22%3B%0A%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%7D%0A%0A%20%20function%20init%28%29%20%7B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%20%20%20%20var%20contextMenuSetting%20%3D%20instance%2EgetSettings%28%29%2EcontextMenu%3B%0A%20%20%20%20var%20customOptions%20%3D%20Handsontable%2Ehelper%2EisObject%28contextMenuSetting%29%20%3F%20contextMenuSetting%20%3A%20%7B%7D%3B%0A%0A%20%20%20%20if%20%28contextMenuSetting%29%20%7B%0A%20%20%20%20%20%20if%20%28%21instance%2EcontextMenu%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2EcontextMenu%20%3D%20new%20ContextMenu%28instance%2C%20customOptions%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20instance%2EcontextMenu%2Eenable%28%29%3B%0A%20%20%20%20%7D%20else%20if%20%28instance%2EcontextMenu%29%20%7B%0A%20%20%20%20%20%20instance%2EcontextMenu%2Edestroy%28%29%3B%0A%20%20%20%20%20%20delete%20instance%2EcontextMenu%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20init%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20init%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20updateHeight%29%3B%0A%0A%20%20Handsontable%2EPluginHooks%2Eregister%28%27afterContextMenuDefaultOptions%27%29%3B%0A%0A%20%20Handsontable%2EContextMenu%20%3D%20ContextMenu%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0Afunction%20Comments%28instance%29%20%7B%0A%0A%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28instance%29%2C%0A%20%20%20%20doSaveComment%20%3D%20function%20%28row%2C%20col%2C%20comment%2C%20instance%29%20%7B%0A%20%20%20%20%20%20instance%2EsetCellMeta%28row%2C%20col%2C%20%27comment%27%2C%20comment%29%3B%0A%20%20%20%20%20%20instance%2Erender%28%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20saveComment%20%3D%20function%20%28range%2C%20comment%2C%20instance%29%20%7B%0A%09%09%20%2F%2FLIKE%20IN%20EXCEL%20%28TOP%20LEFT%20CELL%29%0A%20%20%20%20%20%20doSaveComment%28range%2Efrom%2Erow%2C%20range%2Efrom%2Ecol%2C%20comment%2C%20instance%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20hideCommentTextArea%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20commentBox%20%3D%20createCommentBox%28%29%3B%0A%20%20%20%20%20%20commentBox%2Estyle%2Edisplay%20%3D%20%27none%27%3B%0A%20%20%20%20%20%20commentBox%2Evalue%20%3D%20%27%27%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20bindMouseEvent%20%3D%20function%20%28range%29%20%7B%0A%0A%09%09%09function%20commentsListener%28event%29%20%7B%0A%20%20%20%20%20%20%20%20eventManager%2EremoveEventListener%28document%2C%20%27mouseover%27%29%3B%0A%20%20%20%20%20%20%20%20if%20%28%21%28event%2Etarget%2EclassName%20%3D%3D%20%27htCommentTextArea%27%20%7C%7C%20event%2Etarget%2EinnerHTML%2EindexOf%28%27Comment%27%29%20%21%3D%20%2D1%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20value%20%3D%20document%2EquerySelector%28%27%2EhtCommentTextArea%27%29%2Evalue%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28value%2Etrim%28%29%2Elength%20%3E%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20saveComment%28range%2C%20value%2C%20instance%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%09%09%20%20%20%20%20%20unBindMouseEvent%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20hideCommentTextArea%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28document%2C%20%27mousedown%27%2CHandsontable%2Ehelper%2Eproxy%28commentsListener%29%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20unBindMouseEvent%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20eventManager%2EremoveEventListener%28document%2C%20%27mousedown%27%29%3B%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28document%2C%20%27mousedown%27%2C%20Handsontable%2Ehelper%2Eproxy%28commentsMouseOverListener%29%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20placeCommentBox%20%3D%20function%20%28range%2C%20commentBox%29%20%7B%0A%20%20%20%20%20%20var%20TD%20%3D%20instance%2Eview%2Ewt%2EwtTable%2EgetCell%28range%2Efrom%29%2C%0A%20%20%20%20%20%20%20%20offset%20%3D%20Handsontable%2EDom%2Eoffset%28TD%29%2C%0A%20%20%20%20%20%20%20%20lastColWidth%20%3D%20instance%2EgetColWidth%28range%2Efrom%2Ecol%29%3B%0A%0A%20%20%20%20%20%20commentBox%2Estyle%2Eposition%20%3D%20%27absolute%27%3B%0A%20%20%20%20%20%20commentBox%2Estyle%2Eleft%20%3D%20offset%2Eleft%20%2B%20lastColWidth%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20commentBox%2Estyle%2Etop%20%3D%20offset%2Etop%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20commentBox%2Estyle%2EzIndex%20%3D%202%3B%0A%20%20%20%20%20%20bindMouseEvent%28range%2C%20commentBox%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20createCommentBox%20%3D%20function%20%28value%29%20%7B%0A%20%20%20%20%20%20var%20comments%20%3D%20document%2EquerySelector%28%27%2EhtComments%27%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21comments%29%20%7B%0A%20%20%20%20%20%20%20%20comments%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%0A%20%20%20%20%20%20%20%20var%20textArea%20%3D%20document%2EcreateElement%28%27TEXTAREA%27%29%3B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28textArea%2C%20%27htCommentTextArea%27%29%3B%0A%20%20%20%20%20%20%20%20comments%2EappendChild%28textArea%29%3B%0A%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28comments%2C%20%27htComments%27%29%3B%0A%20%20%20%20%20%20%20%20document%2EgetElementsByTagName%28%27body%27%29%5B0%5D%2EappendChild%28comments%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%09%09%09value%20%3D%20value%20%7C%7C%27%27%3B%0A%0A%20%20%20%20%20%20document%2EquerySelector%28%27%2EhtCommentTextArea%27%29%2Evalue%20%3D%20value%3B%0A%0A%20%20%20%20%20%20%2F%2Fvar%20tA%20%3D%20document%2EgetElementsByClassName%28%27htCommentTextArea%27%29%5B0%5D%3B%0A%20%20%20%20%20%20%2F%2FtA%2Efocus%28%29%3B%0A%20%20%20%20%20%20return%20comments%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20commentsMouseOverListener%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20if%28event%2Etarget%2EclassName%2EindexOf%28%27htCommentCell%27%29%20%21%3D%20%2D1%29%20%7B%0A%09%09%09%09%09%09unBindMouseEvent%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20coords%20%3D%20instance%2Eview%2Ewt%2EwtTable%2EgetCoords%28event%2Etarget%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20range%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20from%3A%20new%20WalkontableCellCoords%28coords%2Erow%2C%20coords%2Ecol%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2EComments%2EshowComment%28range%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%28event%2Etarget%2EclassName%20%21%3D%27htCommentTextArea%27%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hideCommentTextArea%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20return%20%7B%0A%20%20%20%20init%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28document%2C%20%27mouseover%27%2C%20Handsontable%2Ehelper%2Eproxy%28commentsMouseOverListener%29%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20showComment%3A%20function%20%28range%29%20%7B%0A%09%09%09var%20meta%20%3D%20instance%2EgetCellMeta%28range%2Efrom%2Erow%2C%20range%2Efrom%2Ecol%29%2C%0A%20%20%20%20%20%20%20%20value%20%3D%20%27%27%3B%0A%0A%20%20%20%20%20%20if%20%28meta%2Ecomment%29%20%7B%0A%20%20%20%20%20%20%20%20value%20%3D%20meta%2Ecomment%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20var%20commentBox%20%3D%20createCommentBox%28value%29%3B%0A%20%20%20%20%20%20commentBox%2Estyle%2Edisplay%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20placeCommentBox%28range%2C%20commentBox%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20removeComment%3A%20function%20%28row%2C%20col%29%20%7B%0A%20%20%20%20%20%20instance%2EremoveCellMeta%28row%2C%20col%2C%20%27comment%27%29%3B%0A%20%20%20%20%20%20instance%2Erender%28%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20checkSelectionCommentsConsistency%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20hasComment%20%3D%20false%3B%0A%20%20%20%20%20%20%2F%2F%20IN%20EXCEL%20THERE%20IS%20COMMENT%20ONLY%20FOR%20TOP%20LEFT%20CELL%20IN%20SELECTION%0A%20%20%20%20%20%20var%20cell%20%3D%20instance%2EgetSelectedRange%28%29%2Efrom%3B%0A%0A%20%20%20%20%20%20if%28instance%2EgetCellMeta%28cell%2Erow%2Ccell%2Ecol%29%2Ecomment%29%20%7B%0A%20%20%20%20%20%20%20%20hasComment%20%3D%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20hasComment%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%7D%3B%0A%7D%0A%0A%0Avar%20init%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20commentsSetting%20%3D%20instance%2EgetSettings%28%29%2Ecomments%3B%0A%0A%20%20%20%20if%20%28commentsSetting%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EComments%20%3D%20new%20Comments%28instance%29%3B%0A%20%20%20%20%20%20%20%20Handsontable%2EComments%2Einit%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%20%20afterRenderer%20%3D%20function%20%28TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%0A%20%20%20%20if%28cellProperties%2Ecomment%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20cellProperties%2EcommentedCellClassName%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%2C%0A%20%20addCommentsActionsToContextMenu%20%3D%20function%20%28defaultOptions%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20if%20%28%21instance%2EgetSettings%28%29%2Ecomments%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20defaultOptions%2Eitems%2Epush%28Handsontable%2EContextMenu%2ESEPARATOR%29%3B%0A%0A%20%20%20%20defaultOptions%2Eitems%2Epush%28%7B%0A%20%20%20%20%20%20key%3A%20%27commentsAddEdit%27%2C%0A%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20hasComment%20%3D%20Handsontable%2EComments%2EcheckSelectionCommentsConsistency%28%29%3B%0A%20%20%20%20%20%20%20%20return%20hasComment%20%3F%20%22Edit%20Comment%22%20%3A%20%22Add%20Comment%22%3B%0A%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20callback%3A%20function%20%28key%2C%20selection%2C%20event%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EComments%2EshowComment%28this%2EgetSelectedRange%28%29%29%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20defaultOptions%2Eitems%2Epush%28%7B%0A%20%20%20%20%20%20key%3A%20%27commentsRemove%27%2C%0A%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%22Delete%20Comment%22%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20callback%3A%20function%20%28key%2C%20selection%2C%20event%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EComments%2EremoveComment%28selection%2Estart%2Erow%2C%20selection%2Estart%2Ecol%29%3B%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20hasComment%20%3D%20Handsontable%2EComments%2EcheckSelectionCommentsConsistency%28%29%3B%0A%20%20%20%20%20%20%20%20return%20%21hasComment%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0AHandsontable%2Ehooks%2Eadd%28%27beforeInit%27%2C%20init%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterContextMenuDefaultOptions%27%2C%20addCommentsActionsToContextMenu%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterRenderer%27%2C%20afterRenderer%29%3B%0A%0A%0A%2F%2A%2A%0A%20%2A%20HandsontableManualColumnMove%0A%20%2A%0A%20%2A%20Has%202%20UI%20components%3A%0A%20%2A%20%2D%20handle%20%2D%20the%20draggable%20element%20that%20sets%20the%20desired%20position%20of%20the%20column%0A%20%2A%20%2D%20guide%20%2D%20the%20helper%20guide%20that%20shows%20the%20desired%20position%20as%20a%20vertical%20guide%0A%20%2A%0A%20%2A%20Warning%21%20Whenever%20you%20make%20a%20change%20in%20this%20file%2C%20make%20an%20analogous%20change%20in%20manualRowMove%2Ejs%0A%20%2A%20%40constructor%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0Afunction%20HandsontableManualColumnMove%28%29%20%7B%0A%20%20var%20startCol%0A%20%20%20%20%2C%20endCol%0A%20%20%20%20%2C%20startX%0A%20%20%20%20%2C%20startOffset%0A%20%20%20%20%2C%20currentCol%0A%20%20%20%20%2C%20instance%0A%20%20%20%20%2C%20currentTH%0A%20%20%20%20%2C%20handle%20%3D%20document%2EcreateElement%28%27DIV%27%29%0A%20%20%20%20%2C%20guide%20%3D%20document%2EcreateElement%28%27DIV%27%29%0A%20%20%20%20%2C%20eventManager%20%3D%20Handsontable%2EeventManager%28this%29%3B%0A%0A%20%20handle%2EclassName%20%3D%20%27manualColumnMover%27%3B%0A%20%20guide%2EclassName%20%3D%20%27manualColumnMoverGuide%27%3B%0A%0A%20%20var%20saveManualColumnPositions%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27persistentStateSave%27%2C%20%27manualColumnPositions%27%2C%20instance%2EmanualColumnPositions%29%3B%0A%20%20%7D%3B%0A%0A%20%20var%20loadManualColumnPositions%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20storedState%20%3D%20%7B%7D%3B%0A%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27persistentStateLoad%27%2C%20%27manualColumnPositions%27%2C%20storedState%29%3B%0A%20%20%20%20return%20storedState%2Evalue%3B%0A%20%20%7D%3B%0A%0A%20%20function%20setupHandlePosition%28TH%29%20%7B%0A%20%20%20%20instance%20%3D%20this%3B%0A%20%20%20%20currentTH%20%3D%20TH%3B%0A%0A%20%20%20%20var%20col%20%3D%20this%2Eview%2Ewt%2EwtTable%2EgetCoords%28TH%29%2Ecol%3B%20%2F%2FgetCoords%20returns%20WalkontableCellCoords%0A%20%20%20%20if%20%28col%20%3E%3D%200%29%20%7B%20%2F%2Fif%20not%20row%20header%0A%20%20%20%20%20%20currentCol%20%3D%20col%3B%0A%20%20%20%20%20%20var%20box%20%3D%20currentTH%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20startOffset%20%3D%20box%2Eleft%3B%0A%20%20%20%20%20%20handle%2Estyle%2Etop%20%3D%20box%2Etop%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20handle%2Estyle%2Eleft%20%3D%20startOffset%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20instance%2ErootElement%2EappendChild%28handle%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20refreshHandlePosition%28TH%2C%20delta%29%20%7B%0A%20%20%20%20var%20box%20%3D%20TH%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20var%20handleWidth%20%3D%206%3B%0A%20%20%20%20if%20%28delta%20%3E%200%29%20%7B%0A%20%20%20%20%20%20handle%2Estyle%2Eleft%20%3D%20%28box%2Eleft%20%2B%20box%2Ewidth%20%2D%20handleWidth%29%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20handle%2Estyle%2Eleft%20%3D%20box%2Eleft%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20setupGuidePosition%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28handle%2C%20%27active%27%29%3B%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28guide%2C%20%27active%27%29%3B%0A%20%20%20%20var%20box%20%3D%20currentTH%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20guide%2Estyle%2Ewidth%20%3D%20box%2Ewidth%20%2B%20%27px%27%3B%0A%20%20%20%20guide%2Estyle%2Eheight%20%3D%20instance%2Eview%2EmaximumVisibleElementHeight%280%29%20%2B%20%27px%27%3B%0A%20%20%20%20guide%2Estyle%2Etop%20%3D%20handle%2Estyle%2Etop%3B%0A%20%20%20%20guide%2Estyle%2Eleft%20%3D%20startOffset%20%2B%20%27px%27%3B%0A%20%20%20%20instance%2ErootElement%2EappendChild%28guide%29%3B%0A%20%20%7D%0A%0A%20%20function%20refreshGuidePosition%28diff%29%20%7B%0A%20%20%20%20guide%2Estyle%2Eleft%20%3D%20startOffset%20%2B%20diff%20%2B%20%27px%27%3B%0A%20%20%7D%0A%0A%20%20function%20hideHandleAndGuide%28%29%20%7B%0A%20%20%20%20Handsontable%2EDom%2EremoveClass%28handle%2C%20%27active%27%29%3B%0A%20%20%20%20Handsontable%2EDom%2EremoveClass%28guide%2C%20%27active%27%29%3B%0A%20%20%7D%0A%0A%20%20var%20checkColumnHeader%20%3D%20function%20%28element%29%20%7B%0A%20%20%20%20if%20%28element%2EtagName%20%21%3D%20%27BODY%27%29%20%7B%0A%20%20%20%20%20%20if%20%28element%2EparentNode%2EtagName%20%3D%3D%20%27THEAD%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20element%20%3D%20element%2EparentNode%3B%0A%20%20%20%20%20%20%20%20return%20checkColumnHeader%28element%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20false%3B%0A%20%20%7D%3B%0A%0A%20%20var%20getTHFromTargetElement%20%3D%20function%20%28element%29%20%7B%0A%20%20%20%20if%20%28element%2EtagName%20%21%3D%20%27TABLE%27%29%20%7B%0A%20%20%20%20%20%20if%20%28element%2EtagName%20%3D%3D%20%27TH%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%20element%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20getTHFromTargetElement%28element%2EparentNode%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20null%3B%0A%20%20%7D%3B%0A%0A%20%20var%20bindEvents%20%3D%20function%20%28%29%20%7B%0A%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20pressed%3B%0A%0A%20%20%20%20eventManager%2EaddEventListener%28instance%2ErootElement%2C%27mouseover%27%2Cfunction%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28checkColumnHeader%28e%2Etarget%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20var%20th%20%3D%20getTHFromTargetElement%28e%2Etarget%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28th%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pressed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20col%20%3D%20instance%2Eview%2Ewt%2EwtTable%2EgetCoords%28th%29%2Ecol%3B%0A%20%20%20%20%20%20%20%20%09%09if%28col%20%3E%3D%200%29%20%7B%20%2F%2Fnot%20TH%20above%20row%20header%0A%20%20%20%20%20%20%20%20%20%20%09%09%09endCol%20%3D%20col%3B%0A%20%20%20%20%20%20%20%20%20%20%09%09%09refreshHandlePosition%28e%2Etarget%2C%20endCol%20%2D%20startCol%29%3B%0A%20%20%20%20%20%20%20%20%09%09%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20setupHandlePosition%2Ecall%28instance%2C%20th%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20eventManager%2EaddEventListener%28instance%2ErootElement%2C%27mousedown%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20if%20%28Handsontable%2EDom%2EhasClass%28e%2Etarget%2C%20%27manualColumnMover%27%29%29%7B%0A%20%20%20%20%20%20%20%20startX%20%3D%20Handsontable%2Ehelper%2EpageX%28e%29%3B%0A%20%20%20%20%20%20%20%20setupGuidePosition%2Ecall%28instance%29%3B%0A%20%20%20%20%20%20%20%20pressed%20%3D%20instance%3B%0A%0A%20%20%20%20%20%20%20%20startCol%20%3D%20currentCol%3B%0A%20%20%20%20%20%20%20%20endCol%20%3D%20currentCol%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20eventManager%2EaddEventListener%28window%2C%27mousemove%27%2Cfunction%20%28e%29%20%7B%0A%20%20%20%20%20%20if%20%28pressed%29%20%7B%0A%20%20%20%20%20%20%20%20refreshGuidePosition%28Handsontable%2Ehelper%2EpageX%28e%29%20%2D%20startX%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%0A%20%20%20%20eventManager%2EaddEventListener%28window%2C%27mouseup%27%2Cfunction%20%28e%29%20%7B%0A%20%20%20%20%20%20if%20%28pressed%29%20%7B%0A%20%20%20%20%20%20%20%20hideHandleAndGuide%28%29%3B%0A%20%20%20%20%20%20%20%20pressed%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20createPositionData%28instance%2EmanualColumnPositions%2C%20instance%2EcountCols%28%29%29%3B%0A%20%20%20%20%20%20%20%20instance%2EmanualColumnPositions%2Esplice%28endCol%2C%200%2C%20instance%2EmanualColumnPositions%2Esplice%28startCol%2C%201%29%5B0%5D%29%3B%0A%0A%20%20%20%20%20%20%20%20instance%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20instance%2Eview%2Erender%28%29%3B%20%2F%2Fupdates%20all%0A%0A%20%20%20%20%20%20%20%20saveManualColumnPositions%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterColumnMove%27%2C%20startCol%2C%20endCol%29%3B%0A%0A%20%20%20%20%20%20%20%20setupHandlePosition%2Ecall%28instance%2C%20currentTH%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20instance%2EaddHook%28%27afterDestroy%27%2C%20unbindEvents%29%3B%0A%20%20%7D%3B%0A%0A%20%20var%20unbindEvents%20%3D%20function%28%29%7B%0A%20%20%20%20eventManager%2Eclear%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20var%20createPositionData%20%3D%20function%20%28positionArr%2C%20len%29%20%7B%0A%20%20%20%20if%20%28positionArr%2Elength%20%3C%20len%29%20%7B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%20positionArr%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20positionArr%5Bi%5D%20%3D%20i%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20this%2EbeforeInit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2EmanualColumnPositions%20%3D%20%5B%5D%3B%0A%20%20%7D%3B%0A%0A%20%20this%2Einit%20%3D%20function%20%28source%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20var%20manualColMoveEnabled%20%3D%20%21%21%28this%2EgetSettings%28%29%2EmanualColumnMove%29%3B%0A%0A%20%20%20%20if%20%28manualColMoveEnabled%29%20%7B%0A%20%20%20%20%20%20var%20initialManualColumnPositions%20%3D%20this%2EgetSettings%28%29%2EmanualColumnMove%3B%0A%0A%20%20%20%20%20%20var%20loadedManualColumnPositions%20%3D%20loadManualColumnPositions%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%20%20if%20%28typeof%20loadedManualColumnPositions%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EmanualColumnPositions%20%3D%20loadedManualColumnPositions%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28Array%2EisArray%28initialManualColumnPositions%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EmanualColumnPositions%20%3D%20initialManualColumnPositions%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this%2EmanualColumnPositions%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28source%20%3D%3D%20%27afterInit%27%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20update%20plugin%20usages%20count%20for%20manualColumnPositions%0A%20%20%20%20%20%20%20%20if%20%28typeof%20instance%2EmanualColumnPositionsPluginUsages%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualColumnPositionsPluginUsages%2Epush%28%27manualColumnMove%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualColumnPositionsPluginUsages%20%3D%20%5B%27manualColumnMove%27%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20bindEvents%2Ecall%28this%29%3B%0A%20%20%20%20%20%20%20%20if%20%28this%2EmanualColumnPositions%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20this%2Erender%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20var%20pluginUsagesIndex%20%3D%20instance%2EmanualColumnPositionsPluginUsages%20%3F%20instance%2EmanualColumnPositionsPluginUsages%2EindexOf%28%27manualColumnMove%27%29%20%3A%20%2D1%3B%0A%20%20%20%20%20%20if%20%28pluginUsagesIndex%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20unbindEvents%2Ecall%28this%29%3B%0A%20%20%20%20%20%20%20%20this%2EmanualColumnPositions%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20instance%2EmanualColumnPositionsPluginUsages%5BpluginUsagesIndex%5D%20%3D%20void%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20this%2EmodifyCol%20%3D%20function%20%28col%29%20%7B%0A%20%20%20%20%2F%2FTODO%20test%20performance%3A%20http%3A%2F%2Fjsperf%2Ecom%2Fobject%2Dwrapper%2Dvs%2Dprimitive%2F2%0A%20%20%20%20if%20%28this%2EgetSettings%28%29%2EmanualColumnMove%29%20%7B%0A%20%20%20%20%20%20if%20%28typeof%20this%2EmanualColumnPositions%5Bcol%5D%20%3D%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20createPositionData%28this%2EmanualColumnPositions%2C%20col%20%2B%201%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this%2EmanualColumnPositions%5Bcol%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20col%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2F%20need%20to%20reconstruct%20manualcolpositions%20after%20removing%20columns%0A%20%20this%2EafterRemoveCol%20%3D%20function%20%28index%2C%20amount%29%20%7B%0A%20%20%20%20if%20%28%21this%2EgetSettings%28%29%2EmanualColumnMove%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20rmindx%2C%0A%20%20%20%20%20%20%20%20colpos%20%3D%20this%2EmanualColumnPositions%3B%0A%0A%20%20%20%20%20%20%2F%2F%20We%20have%20removed%20columns%2C%20we%20also%20need%20to%20remove%20the%20indicies%20from%20manual%20column%20array%0A%20%20%20%20%20%20rmindx%20%3D%20colpos%2Esplice%28index%2C%20amount%29%3B%0A%0A%20%20%20%20%20%20%2F%2F%20We%20need%20to%20remap%20manualColPositions%20so%20it%20remains%20constant%20linear%20from%200%2D%3Encols%0A%20%20%20%20%20%20colpos%20%3D%20colpos%2Emap%28function%20%28colpos%29%20%7B%0A%20%20%20%20%20%20%20%20var%20i%2C%20newpos%20%3D%20colpos%3B%0A%0A%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20rmindx%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20if%20%28colpos%20%3E%20rmindx%5Bi%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20newpos%2D%2D%3B%0A%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20return%20newpos%3B%0A%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20this%2EmanualColumnPositions%20%3D%20colpos%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20need%20to%20reconstruct%20manualcolpositions%20after%20adding%20columns%0A%20%20%20%20this%2EafterCreateCol%20%3D%20function%20%28index%2C%20amount%29%20%7B%0A%20%20%20%20%20%20if%20%28%21this%2EgetSettings%28%29%2EmanualColumnMove%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20colpos%20%3D%20this%2EmanualColumnPositions%3B%0A%20%20%20%20%20%20if%20%28%21colpos%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20addindx%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20amount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20addindx%2Epush%28index%20%2B%20i%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28index%20%3E%3D%20colpos%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20colpos%2Econcat%28addindx%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20We%20need%20to%20remap%20manualColPositions%20so%20it%20remains%20constant%20linear%20from%200%2D%3Encols%0A%20%20%20%20%20%20%20%20colpos%20%3D%20colpos%2Emap%28function%20%28colpos%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20%28colpos%20%3E%3D%20index%29%20%3F%20%28colpos%20%2B%20amount%29%20%3A%20colpos%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20We%20have%20added%20columns%2C%20we%20also%20need%20to%20add%20new%20indicies%20to%20manualcolumn%20position%20array%0A%20%20%20%20%20%20%20%20colpos%2Esplice%2Eapply%28colpos%2C%20%5Bindex%2C%200%5D%2Econcat%28addindx%29%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20this%2EmanualColumnPositions%20%3D%20colpos%3B%0A%20%20%20%20%7D%3B%0A%7D%0Avar%20htManualColumnMove%20%3D%20new%20HandsontableManualColumnMove%28%29%3B%0A%0AHandsontable%2Ehooks%2Eadd%28%27beforeInit%27%2C%20htManualColumnMove%2EbeforeInit%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20function%20%28%29%20%7B%0A%20%20htManualColumnMove%2Einit%2Ecall%28this%2C%20%27afterInit%27%29%3B%0A%7D%29%3B%0A%0AHandsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20function%20%28%29%20%7B%0A%20%20htManualColumnMove%2Einit%2Ecall%28this%2C%20%27afterUpdateSettings%27%29%3B%0A%7D%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27modifyCol%27%2C%20htManualColumnMove%2EmodifyCol%29%3B%0A%0AHandsontable%2Ehooks%2Eadd%28%27afterRemoveCol%27%2C%20htManualColumnMove%2EafterRemoveCol%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterCreateCol%27%2C%20htManualColumnMove%2EafterCreateCol%29%3B%0AHandsontable%2Ehooks%2Eregister%28%27afterColumnMove%27%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%0A%0A%2F%2A%2A%0A%20%2A%20HandsontableManualColumnResize%0A%20%2A%0A%20%2A%20Has%202%20UI%20components%3A%0A%20%2A%20%2D%20handle%20%2D%20the%20draggable%20element%20that%20sets%20the%20desired%20width%20of%20the%20column%0A%20%2A%20%2D%20guide%20%2D%20the%20helper%20guide%20that%20shows%20the%20desired%20width%20as%20a%20vertical%20guide%0A%20%2A%0A%20%2A%20Warning%21%20Whenever%20you%20make%20a%20change%20in%20this%20file%2C%20make%20an%20analogous%20change%20in%20manualRowResize%2Ejs%0A%20%2A%20%40constructor%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0A%20%20function%20HandsontableManualColumnResize%28%29%20%7B%0A%20%20%20%20var%20currentTH%0A%20%20%20%20%20%20%2C%20currentCol%0A%20%20%20%20%20%20%2C%20currentWidth%0A%20%20%20%20%20%20%2C%20instance%0A%20%20%20%20%20%20%2C%20newSize%0A%20%20%20%20%20%20%2C%20startX%0A%20%20%20%20%20%20%2C%20startWidth%0A%20%20%20%20%20%20%2C%20startOffset%0A%20%20%20%20%20%20%2C%20handle%20%3D%20document%2EcreateElement%28%27DIV%27%29%0A%20%20%20%20%20%20%2C%20guide%20%3D%20document%2EcreateElement%28%27DIV%27%29%0A%20%20%20%20%20%20%2C%20eventManager%20%3D%20Handsontable%2EeventManager%28this%29%3B%0A%0A%0A%20%20%20%20handle%2EclassName%20%3D%20%27manualColumnResizer%27%3B%0A%20%20%20%20guide%2EclassName%20%3D%20%27manualColumnResizerGuide%27%3B%0A%0A%20%20%20%20var%20saveManualColumnWidths%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27persistentStateSave%27%2C%20%27manualColumnWidths%27%2C%20instance%2EmanualColumnWidths%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20loadManualColumnWidths%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20var%20storedState%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27persistentStateLoad%27%2C%20%27manualColumnWidths%27%2C%20storedState%29%3B%0A%20%20%20%20%20%20return%20storedState%2Evalue%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20function%20setupHandlePosition%28TH%29%20%7B%0A%20%20%20%20%20%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20currentTH%20%3D%20TH%3B%0A%0A%20%20%20%20%20%20var%20col%20%3D%20this%2Eview%2Ewt%2EwtTable%2EgetCoords%28TH%29%2Ecol%3B%20%2F%2FgetCoords%20returns%20WalkontableCellCoords%0A%20%20%20%20%20%20if%20%28col%20%3E%3D%200%29%20%7B%20%2F%2Fif%20not%20row%20header%0A%20%20%20%20%20%20%20%20currentCol%20%3D%20col%3B%0A%20%20%20%20%20%20%20%20var%20box%20%3D%20currentTH%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20%20%20startOffset%20%3D%20box%2Eleft%20%2D%206%3B%0A%20%20%20%20%20%20%20%20startWidth%20%3D%20parseInt%28box%2Ewidth%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20handle%2Estyle%2Etop%20%3D%20box%2Etop%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%20%20handle%2Estyle%2Eleft%20%3D%20startOffset%20%2B%20startWidth%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%20%20instance%2ErootElement%2EappendChild%28handle%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20refreshHandlePosition%28%29%20%7B%0A%20%20%20%20%20%20handle%2Estyle%2Eleft%20%3D%20startOffset%20%2B%20currentWidth%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20setupGuidePosition%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28handle%2C%20%27active%27%29%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28guide%2C%20%27active%27%29%3B%0A%20%20%20%20%20%20guide%2Estyle%2Etop%20%3D%20handle%2Estyle%2Etop%3B%0A%20%20%20%20%20%20guide%2Estyle%2Eleft%20%3D%20handle%2Estyle%2Eleft%3B%0A%20%20%20%20%20%20guide%2Estyle%2Eheight%20%3D%20instance%2Eview%2EmaximumVisibleElementHeight%280%29%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20instance%2ErootElement%2EappendChild%28guide%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20refreshGuidePosition%28%29%20%7B%0A%20%20%20%20%20%20guide%2Estyle%2Eleft%20%3D%20handle%2Estyle%2Eleft%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20hideHandleAndGuide%28%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28handle%2C%20%27active%27%29%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28guide%2C%20%27active%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20checkColumnHeader%20%3D%20function%20%28element%29%20%7B%0A%20%20%20%20%20%20if%20%28element%2EtagName%20%21%3D%20%27BODY%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28element%2EparentNode%2EtagName%20%3D%3D%20%27THEAD%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20element%20%3D%20element%2EparentNode%3B%0A%20%20%20%20%20%20%20%20%20%20return%20checkColumnHeader%28element%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20getTHFromTargetElement%20%3D%20function%20%28element%29%20%7B%0A%20%20%20%20%20%20if%20%28element%2EtagName%20%21%3D%20%27TABLE%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28element%2EtagName%20%3D%3D%20%27TH%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20element%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20getTHFromTargetElement%28element%2EparentNode%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20bindEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20var%20pressed%3B%0A%20%20%20%20%20%20var%20dblclick%20%3D%200%3B%0A%20%20%20%20%20%20var%20autoresizeTimeout%20%3D%20null%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28instance%2ErootElement%2C%20%27mouseover%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28checkColumnHeader%28e%2Etarget%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20th%20%3D%20getTHFromTargetElement%28e%2Etarget%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28th%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21pressed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20setupHandlePosition%2Ecall%28instance%2C%20th%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28instance%2ErootElement%2C%20%27mousedown%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28Handsontable%2EDom%2EhasClass%28e%2Etarget%2C%20%27manualColumnResizer%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20setupGuidePosition%2Ecall%28instance%29%3B%0A%20%20%20%20%20%20%20%20%20%20pressed%20%3D%20instance%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28autoresizeTimeout%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20autoresizeTimeout%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28dblclick%20%3E%3D%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newSize%20%3D%20instance%2EdetermineColumnWidth%2Ecall%28instance%2C%20currentCol%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setManualSize%28currentCol%2C%20newSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eview%2Erender%28%29%3B%20%2F%2Fupdates%20all%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterColumnResize%27%2C%20currentCol%2C%20newSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dblclick%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20autoresizeTimeout%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20500%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2E%5FregisterTimeout%28autoresizeTimeout%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20dblclick%2B%2B%3B%0A%0A%20%20%20%20%20%20%20%20%20%20startX%20%3D%20Handsontable%2Ehelper%2EpageX%28e%29%3B%0A%20%20%20%20%20%20%20%20%20%20newSize%20%3D%20startWidth%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28window%2C%20%27mousemove%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28pressed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentWidth%20%3D%20startWidth%20%2B%20%28Handsontable%2Ehelper%2EpageX%28e%29%20%2D%20startX%29%3B%0A%20%20%20%20%20%20%20%20%20%20newSize%20%3D%20setManualSize%28currentCol%2C%20currentWidth%29%3B%20%2F%2Fsave%20col%20width%0A%20%20%20%20%20%20%20%20%20%20refreshHandlePosition%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20refreshGuidePosition%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28window%2C%20%27mouseup%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28pressed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20hideHandleAndGuide%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20pressed%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28newSize%20%21%3D%20startWidth%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eview%2Erender%28%29%3B%20%2F%2Fupdates%20all%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20saveManualColumnWidths%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterColumnResize%27%2C%20currentCol%2C%20newSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20setupHandlePosition%2Ecall%28instance%2C%20currentTH%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20instance%2EaddHook%28%27afterDestroy%27%2C%20unbindEvents%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20unbindEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20eventManager%2Eclear%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EbeforeInit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20this%2EmanualColumnWidths%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2Einit%20%3D%20function%20%28source%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20var%20manualColumnWidthEnabled%20%3D%20%21%21%28this%2EgetSettings%28%29%2EmanualColumnResize%29%3B%0A%0A%20%20%20%20%20%20if%20%28manualColumnWidthEnabled%29%20%7B%0A%20%20%20%20%20%20%20%20var%20initialColumnWidths%20%3D%20this%2EgetSettings%28%29%2EmanualColumnResize%3B%0A%20%20%20%20%20%20%20%20var%20loadedManualColumnWidths%20%3D%20loadManualColumnWidths%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20update%20plugin%20usages%20count%20for%20manualColumnPositions%0A%20%20%20%20%20%20%20%20if%20%28typeof%20instance%2EmanualColumnWidthsPluginUsages%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualColumnWidthsPluginUsages%2Epush%28%27manualColumnResize%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualColumnWidthsPluginUsages%20%3D%20%5B%27manualColumnResize%27%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28typeof%20loadedManualColumnWidths%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EmanualColumnWidths%20%3D%20loadedManualColumnWidths%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28Array%2EisArray%28initialColumnWidths%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EmanualColumnWidths%20%3D%20initialColumnWidths%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EmanualColumnWidths%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28source%20%3D%3D%20%27afterInit%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20bindEvents%2Ecall%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28this%2EmanualColumnWidths%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Erender%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20var%20pluginUsagesIndex%20%3D%20instance%2EmanualColumnWidthsPluginUsages%20%3F%20instance%2EmanualColumnWidthsPluginUsages%2EindexOf%28%27manualColumnResize%27%29%20%3A%20%2D1%3B%0A%20%20%20%20%20%20%20%20if%20%28pluginUsagesIndex%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20unbindEvents%2Ecall%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20this%2EmanualColumnWidths%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%0A%20%20%20%20var%20setManualSize%20%3D%20function%20%28col%2C%20width%29%20%7B%0A%20%20%20%20%20%20width%20%3D%20Math%2Emax%28width%2C%2020%29%3B%0A%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20%20We%20need%20to%20run%20col%20through%20modifyCol%20hook%2C%20in%20case%20the%20order%20of%20displayed%20columns%20is%20different%20than%20the%20order%0A%20%20%20%20%20%20%20%2A%20%20in%20data%20source%2E%20For%20instance%2C%20this%20order%20can%20be%20modified%20by%20manualColumnMove%20plugin%2E%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20col%20%3D%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27modifyCol%27%2C%20col%29%3B%0A%20%20%20%20%20%20instance%2EmanualColumnWidths%5Bcol%5D%20%3D%20width%3B%0A%0A%20%20%20%20%20%20return%20width%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EmodifyColWidth%20%3D%20function%20%28width%2C%20col%29%20%7B%0A%20%20%20%20%20%20col%20%3D%20this%2ErunHooks%28%27modifyCol%27%2C%20col%29%3B%0A%0A%20%20%20%20%20%20if%20%28this%2EgetSettings%28%29%2EmanualColumnResize%20%26%26%20this%2EmanualColumnWidths%5Bcol%5D%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2EmanualColumnWidths%5Bcol%5D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20width%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20var%20htManualColumnResize%20%3D%20new%20HandsontableManualColumnResize%28%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27beforeInit%27%2C%20htManualColumnResize%2EbeforeInit%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20htManualColumnResize%2Einit%2Ecall%28this%2C%20%27afterInit%27%29%3B%0A%20%20%7D%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20htManualColumnResize%2Einit%2Ecall%28this%2C%20%27afterUpdateSettings%27%29%3B%0A%20%20%7D%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27modifyColWidth%27%2C%20htManualColumnResize%2EmodifyColWidth%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eregister%28%27afterColumnResize%27%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20HandsontableManualRowResize%0A%20%2A%0A%20%2A%20Has%202%20UI%20components%3A%0A%20%2A%20%2D%20handle%20%2D%20the%20draggable%20element%20that%20sets%20the%20desired%20height%20of%20the%20row%0A%20%2A%20%2D%20guide%20%2D%20the%20helper%20guide%20that%20shows%20the%20desired%20height%20as%20a%20horizontal%20guide%0A%20%2A%0A%20%2A%20Warning%21%20Whenever%20you%20make%20a%20change%20in%20this%20file%2C%20make%20an%20analogous%20change%20in%20manualRowResize%2Ejs%0A%20%2A%20%40constructor%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0A%20%20function%20HandsontableManualRowResize%28%29%20%7B%0A%0A%20%20%20%20var%20currentTH%0A%20%20%20%20%20%20%2C%20currentRow%0A%20%20%20%20%20%20%2C%20currentHeight%0A%20%20%20%20%20%20%2C%20instance%0A%20%20%20%20%20%20%2C%20newSize%0A%20%20%20%20%20%20%2C%20startY%0A%20%20%20%20%20%20%2C%20startHeight%0A%20%20%20%20%20%20%2C%20startOffset%0A%20%20%20%20%20%20%2C%20handle%20%3D%20document%2EcreateElement%28%27DIV%27%29%0A%20%20%20%20%20%20%2C%20guide%20%3D%20document%2EcreateElement%28%27DIV%27%29%0A%20%20%20%20%20%20%2C%20eventManager%20%3D%20Handsontable%2EeventManager%28this%29%3B%0A%0A%20%20%20%20handle%2EclassName%20%3D%20%27manualRowResizer%27%3B%0A%20%20%20%20guide%2EclassName%20%3D%20%27manualRowResizerGuide%27%3B%0A%0A%20%20%20%20var%20saveManualRowHeights%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27persistentStateSave%27%2C%20%27manualRowHeights%27%2C%20instance%2EmanualRowHeights%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20loadManualRowHeights%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%0A%20%20%20%20%20%20%20%20%2C%20storedState%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27persistentStateLoad%27%2C%20%27manualRowHeights%27%2C%20storedState%29%3B%0A%20%20%20%20%20%20return%20storedState%2Evalue%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20function%20setupHandlePosition%28TH%29%20%7B%0A%20%20%20%20%20%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20currentTH%20%3D%20TH%3B%0A%0A%20%20%20%20%20%20var%20row%20%3D%20this%2Eview%2Ewt%2EwtTable%2EgetCoords%28TH%29%2Erow%3B%20%2F%2FgetCoords%20returns%20WalkontableCellCoords%0A%20%20%20%20%20%20if%20%28row%20%3E%3D%200%29%20%7B%20%2F%2Fif%20not%20col%20header%0A%20%20%20%20%20%20%20%20currentRow%20%3D%20row%3B%0A%20%20%20%20%20%20%20%20var%20box%20%3D%20currentTH%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20%20%20startOffset%20%3D%20box%2Etop%20%2D%206%3B%0A%20%20%20%20%20%20%20%20startHeight%20%3D%20parseInt%28box%2Eheight%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20handle%2Estyle%2Eleft%20%3D%20box%2Eleft%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%20%20handle%2Estyle%2Etop%20%3D%20startOffset%20%2B%20startHeight%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%20%20instance%2ErootElement%2EappendChild%28handle%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20refreshHandlePosition%28%29%20%7B%0A%20%20%20%20%20%20handle%2Estyle%2Etop%20%3D%20startOffset%20%2B%20currentHeight%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20setupGuidePosition%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28handle%2C%20%27active%27%29%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28guide%2C%20%27active%27%29%3B%0A%20%20%20%20%20%20guide%2Estyle%2Etop%20%3D%20handle%2Estyle%2Etop%3B%0A%20%20%20%20%20%20guide%2Estyle%2Eleft%20%3D%20handle%2Estyle%2Eleft%3B%0A%20%20%20%20%20%20guide%2Estyle%2Ewidth%20%3D%20instance%2Eview%2EmaximumVisibleElementWidth%280%29%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20instance%2ErootElement%2EappendChild%28guide%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20refreshGuidePosition%28%29%20%7B%0A%20%20%20%20%20%20guide%2Estyle%2Etop%20%3D%20handle%2Estyle%2Etop%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20hideHandleAndGuide%28%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28handle%2C%20%27active%27%29%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28guide%2C%20%27active%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20checkRowHeader%20%3D%20function%20%28element%29%20%7B%0A%20%20%20%20%20%20if%20%28element%2EtagName%20%21%3D%20%27BODY%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28element%2EparentNode%2EtagName%20%3D%3D%20%27TBODY%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20element%20%3D%20element%2EparentNode%3B%0A%20%20%20%20%20%20%20%20%20%20return%20checkRowHeader%28element%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20getTHFromTargetElement%20%3D%20function%20%28element%29%20%7B%0A%20%20%20%20%20%20if%20%28element%2EtagName%20%21%3D%20%27TABLE%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28element%2EtagName%20%3D%3D%20%27TH%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20element%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20getTHFromTargetElement%28element%2EparentNode%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20bindEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20var%20pressed%3B%0A%20%20%20%20%20%20var%20dblclick%20%3D%200%3B%0A%20%20%20%20%20%20var%20autoresizeTimeout%20%3D%20null%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28instance%2ErootElement%2C%20%27mouseover%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28checkRowHeader%28e%2Etarget%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20th%20%3D%20getTHFromTargetElement%28e%2Etarget%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28th%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21pressed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20setupHandlePosition%2Ecall%28instance%2C%20th%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28instance%2ErootElement%2C%20%27mousedown%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28Handsontable%2EDom%2EhasClass%28e%2Etarget%2C%20%27manualRowResizer%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20setupGuidePosition%2Ecall%28instance%29%3B%0A%20%20%20%20%20%20%20%20%20%20pressed%20%3D%20instance%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28autoresizeTimeout%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20autoresizeTimeout%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28dblclick%20%3E%3D%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setManualSize%28currentRow%2C%20null%29%3B%20%2F%2Fdouble%20click%20sets%20auto%20row%20size%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eview%2Erender%28%29%3B%20%2F%2Fupdates%20all%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterRowResize%27%2C%20currentRow%2C%20newSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20dblclick%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20autoresizeTimeout%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20500%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2E%5FregisterTimeout%28autoresizeTimeout%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20dblclick%2B%2B%3B%0A%0A%20%20%20%20%20%20%20%20%20%20startY%20%3D%20Handsontable%2Ehelper%2EpageY%28e%29%3B%0A%20%20%20%20%20%20%20%20%20%20newSize%20%3D%20startHeight%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28window%2C%20%27mousemove%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28pressed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentHeight%20%3D%20startHeight%20%2B%20%28Handsontable%2Ehelper%2EpageY%28e%29%20%2D%20startY%29%3B%0A%20%20%20%20%20%20%20%20%20%20newSize%20%3D%20setManualSize%28currentRow%2C%20currentHeight%29%3B%0A%20%20%20%20%20%20%20%20%20%20refreshHandlePosition%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20refreshGuidePosition%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28window%2C%20%27mouseup%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28pressed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20hideHandleAndGuide%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20pressed%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28newSize%20%21%3D%20startHeight%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2Eview%2Erender%28%29%3B%20%2F%2Fupdates%20all%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20saveManualRowHeights%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterRowResize%27%2C%20currentRow%2C%20newSize%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20setupHandlePosition%2Ecall%28instance%2C%20currentTH%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20instance%2EaddHook%28%27afterDestroy%27%2C%20unbindEvents%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20unbindEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20eventManager%2Eclear%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EbeforeInit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20this%2EmanualRowHeights%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2Einit%20%3D%20function%20%28source%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20var%20manualColumnHeightEnabled%20%3D%20%21%21%28this%2EgetSettings%28%29%2EmanualRowResize%29%3B%0A%0A%20%20%20%20%20%20if%20%28manualColumnHeightEnabled%29%20%7B%0A%0A%20%20%20%20%20%20%20%20var%20initialRowHeights%20%3D%20this%2EgetSettings%28%29%2EmanualRowResize%3B%0A%20%20%20%20%20%20%20%20var%20loadedManualRowHeights%20%3D%20loadManualRowHeights%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20update%20plugin%20usages%20count%20for%20manualColumnPositions%0A%20%20%20%20%20%20%20%20if%20%28typeof%20instance%2EmanualRowHeightsPluginUsages%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualRowHeightsPluginUsages%2Epush%28%27manualRowResize%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualRowHeightsPluginUsages%20%3D%20%5B%27manualRowResize%27%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28typeof%20loadedManualRowHeights%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EmanualRowHeights%20%3D%20loadedManualRowHeights%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28Array%2EisArray%28initialRowHeights%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EmanualRowHeights%20%3D%20initialRowHeights%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EmanualRowHeights%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28source%20%3D%3D%3D%20%27afterInit%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20bindEvents%2Ecall%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28this%2EmanualRowHeights%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Erender%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20this%2Erender%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20var%20pluginUsagesIndex%20%3D%20instance%2EmanualRowHeightsPluginUsages%20%3F%20instance%2EmanualRowHeightsPluginUsages%2EindexOf%28%27manualRowResize%27%29%20%3A%20%2D1%3B%0A%20%20%20%20%20%20%20%20if%20%28pluginUsagesIndex%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20unbindEvents%2Ecall%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20this%2EmanualRowHeights%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualRowHeightsPluginUsages%5BpluginUsagesIndex%5D%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20setManualSize%20%3D%20function%20%28row%2C%20height%29%20%7B%0A%20%20%20%20%20%20row%20%3D%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27modifyRow%27%2C%20row%29%3B%0A%20%20%20%20%20%20instance%2EmanualRowHeights%5Brow%5D%20%3D%20height%3B%0A%0A%20%20%20%20%20%20return%20height%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EmodifyRowHeight%20%3D%20function%20%28height%2C%20row%29%20%7B%0A%20%20%20%20%20%20if%20%28this%2EgetSettings%28%29%2EmanualRowResize%29%20%7B%0A%20%20%20%20%20%20%20%20row%20%3D%20this%2ErunHooks%28%27modifyRow%27%2C%20row%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28this%2EmanualRowHeights%5Brow%5D%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20this%2EmanualRowHeights%5Brow%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20height%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20var%20htManualRowResize%20%3D%20new%20HandsontableManualRowResize%28%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27beforeInit%27%2C%20htManualRowResize%2EbeforeInit%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20htManualRowResize%2Einit%2Ecall%28this%2C%20%27afterInit%27%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20htManualRowResize%2Einit%2Ecall%28this%2C%20%27afterUpdateSettings%27%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27modifyRowHeight%27%2C%20htManualRowResize%2EmodifyRowHeight%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eregister%28%27afterRowResize%27%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%20HandsontableObserveChanges%28%29%20%7B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterLoadData%27%2C%20init%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20init%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eregister%28%27afterChangesObserved%27%29%3B%0A%0A%20%20function%20init%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20pluginEnabled%20%3D%20instance%2EgetSettings%28%29%2EobserveChanges%3B%0A%0A%20%20%20%20if%20%28pluginEnabled%29%20%7B%0A%20%20%20%20%20%20if%28instance%2Eobserver%29%20%7B%0A%20%20%20%20%20%20%20%20destroy%2Ecall%28instance%29%3B%20%2F%2Fdestroy%20observer%20for%20old%20data%20object%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20createObserver%2Ecall%28instance%29%3B%0A%20%20%20%20%20%20bindEvents%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%7D%20else%20if%20%28%21pluginEnabled%29%7B%0A%20%20%20%20%20%20destroy%2Ecall%28instance%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20createObserver%28%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20instance%2EobserveChangesActive%20%3D%20true%3B%0A%0A%20%20%20%20instance%2EpauseObservingChanges%20%3D%20function%28%29%7B%0A%20%20%20%20%20%20instance%2EobserveChangesActive%20%3D%20false%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20instance%2EresumeObservingChanges%20%3D%20function%28%29%7B%0A%20%20%20%20%20%20instance%2EobserveChangesActive%20%3D%20true%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20instance%2EobservedData%20%3D%20instance%2EgetData%28%29%3B%0A%20%20%20%20instance%2Eobserver%20%3D%20jsonpatch%2Eobserve%28instance%2EobservedData%2C%20function%20%28patches%29%20%7B%0A%20%20%20%20%20%20if%28instance%2EobserveChangesActive%29%7B%0A%20%20%20%20%20%20%20%20runHookForOperation%2Ecall%28instance%2C%20patches%29%3B%0A%20%20%20%20%20%20%20%20instance%2Erender%28%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20instance%2ErunHooks%28%27afterChangesObserved%27%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%0A%0A%20%20function%20runHookForOperation%28rawPatches%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20patches%20%3D%20cleanPatches%28rawPatches%29%3B%0A%0A%20%20%20%20for%28var%20i%20%3D%200%2C%20len%20%3D%20patches%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%7B%0A%20%20%20%20%20%20var%20patch%20%3D%20patches%5Bi%5D%3B%0A%20%20%20%20%20%20var%20parsedPath%20%3D%20parsePath%28patch%2Epath%29%3B%0A%0A%0A%20%20%20%20%20%20switch%28patch%2Eop%29%7B%0A%20%20%20%20%20%20%20%20case%20%27add%27%3A%0A%20%20%20%20%20%20%20%20%20%20if%28isNaN%28parsedPath%2Ecol%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2ErunHooks%28%27afterCreateRow%27%2C%20parsedPath%2Erow%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2ErunHooks%28%27afterCreateCol%27%2C%20parsedPath%2Ecol%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20%27remove%27%3A%0A%20%20%20%20%20%20%20%20%20%20if%28isNaN%28parsedPath%2Ecol%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2ErunHooks%28%27afterRemoveRow%27%2C%20parsedPath%2Erow%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2ErunHooks%28%27afterRemoveCol%27%2C%20parsedPath%2Ecol%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%0A%20%20%20%20%20%20%20%20case%20%27replace%27%3A%0A%20%20%20%20%20%20%20%20%20%20instance%2ErunHooks%28%27afterChange%27%2C%20%5BparsedPath%2Erow%2C%20parsedPath%2Ecol%2C%20null%2C%20patch%2Evalue%5D%2C%20%27external%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20cleanPatches%28rawPatches%29%7B%0A%20%20%20%20%20%20var%20patches%3B%0A%0A%20%20%20%20%20%20patches%20%3D%20removeLengthRelatedPatches%28rawPatches%29%3B%0A%20%20%20%20%20%20patches%20%3D%20removeMultipleAddOrRemoveColPatches%28patches%29%3B%0A%0A%20%20%20%20%20%20return%20patches%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Removing%20or%20adding%20column%20will%20produce%20one%20patch%20for%20each%20table%20row%2E%0A%20%20%20%20%20%2A%20This%20function%20leaves%20only%20one%20patch%20for%20each%20column%20add%2Fremove%20operation%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20removeMultipleAddOrRemoveColPatches%28rawPatches%29%7B%0A%20%20%20%20%20%20var%20newOrRemovedColumns%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20return%20rawPatches%2Efilter%28function%28patch%29%7B%0A%20%20%20%20%20%20%20%20var%20parsedPath%20%3D%20parsePath%28patch%2Epath%29%3B%0A%0A%20%20%20%20%20%20%20%20if%28%5B%27add%27%2C%20%27remove%27%5D%2EindexOf%28patch%2Eop%29%20%21%3D%20%2D1%20%26%26%20%21isNaN%28parsedPath%2Ecol%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20if%28newOrRemovedColumns%2EindexOf%28parsedPath%2Ecol%29%20%21%3D%20%2D1%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newOrRemovedColumns%2Epush%28parsedPath%2Ecol%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20If%20observeChanges%20uses%20native%20Object%2Eobserve%20method%2C%20then%20it%20produces%20patches%20for%20length%20property%2E%0A%20%20%20%20%20%2A%20This%20function%20removes%20them%2E%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20removeLengthRelatedPatches%28rawPatches%29%7B%0A%20%20%20%20%20%20return%20rawPatches%2Efilter%28function%28patch%29%7B%0A%20%20%20%20%20%20%20%20return%20%21%2F%5B%2F%5Dlength%2Fig%2Etest%28patch%2Epath%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20parsePath%28path%29%7B%0A%20%20%20%20%20%20var%20match%20%3D%20path%2Ematch%28%2F%5E%5C%2F%28%5Cd%2B%29%5C%2F%3F%28%2E%2A%29%3F%24%2F%29%3B%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20row%3A%20parseInt%28match%5B1%5D%2C%2010%29%2C%0A%20%20%20%20%20%20%20%20col%3A%20%2F%5E%5Cd%2A%24%2F%2Etest%28match%5B2%5D%29%20%3F%20parseInt%28match%5B2%5D%2C%2010%29%20%3A%20match%5B2%5D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20destroy%28%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20if%20%28instance%2Eobserver%29%7B%0A%20%20%20%20%20%20destroyObserver%2Ecall%28instance%29%3B%0A%20%20%20%20%20%20unbindEvents%2Ecall%28instance%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20destroyObserver%28%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20jsonpatch%2Eunobserve%28instance%2EobservedData%2C%20instance%2Eobserver%29%3B%0A%20%20%20%20delete%20instance%2EobserveChangesActive%3B%0A%20%20%20%20delete%20instance%2EpauseObservingChanges%3B%0A%20%20%20%20delete%20instance%2EresumeObservingChanges%3B%0A%20%20%7D%0A%0A%20%20function%20bindEvents%28%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20instance%2EaddHook%28%27afterDestroy%27%2C%20destroy%29%3B%0A%0A%20%20%20%20instance%2EaddHook%28%27afterCreateRow%27%2C%20afterTableAlter%29%3B%0A%20%20%20%20instance%2EaddHook%28%27afterRemoveRow%27%2C%20afterTableAlter%29%3B%0A%0A%20%20%20%20instance%2EaddHook%28%27afterCreateCol%27%2C%20afterTableAlter%29%3B%0A%20%20%20%20instance%2EaddHook%28%27afterRemoveCol%27%2C%20afterTableAlter%29%3B%0A%0A%20%20%20%20instance%2EaddHook%28%27afterChange%27%2C%20function%28changes%2C%20source%29%7B%0A%20%20%20%20%20%20if%28source%20%21%3D%20%27loadData%27%29%7B%0A%20%20%20%20%20%20%20%20afterTableAlter%2Ecall%28this%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%0A%0A%20%20function%20unbindEvents%28%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20instance%2EremoveHook%28%27afterDestroy%27%2C%20destroy%29%3B%0A%0A%20%20%20%20instance%2EremoveHook%28%27afterCreateRow%27%2C%20afterTableAlter%29%3B%0A%20%20%20%20instance%2EremoveHook%28%27afterRemoveRow%27%2C%20afterTableAlter%29%3B%0A%0A%20%20%20%20instance%2EremoveHook%28%27afterCreateCol%27%2C%20afterTableAlter%29%3B%0A%20%20%20%20instance%2EremoveHook%28%27afterRemoveCol%27%2C%20afterTableAlter%29%3B%0A%0A%20%20%20%20instance%2EremoveHook%28%27afterChange%27%2C%20afterTableAlter%29%3B%0A%20%20%7D%0A%0A%20%20function%20afterTableAlter%28%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20instance%2EpauseObservingChanges%28%29%3B%0A%0A%20%20%20%20instance%2EaddHookOnce%28%27afterChangesObserved%27%2C%20function%28%29%7B%0A%20%20%20%20%20%20instance%2EresumeObservingChanges%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%7D%0A%7D%29%28%29%3B%0A%0A%0A%2F%2A%0A%20%2A%0A%20%2A%20Plugin%20enables%20saving%20table%20state%0A%20%2A%0A%20%2A%20%2A%2F%0A%0A%0Afunction%20Storage%28prefix%29%20%7B%0A%0A%20%20var%20savedKeys%3B%0A%0A%20%20var%20saveSavedKeys%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20window%2ElocalStorage%5Bprefix%20%2B%20%27%5F%5F%27%20%2B%20%27persistentStateKeys%27%5D%20%3D%20JSON%2Estringify%28savedKeys%29%3B%0A%20%20%7D%3B%0A%0A%20%20var%20loadSavedKeys%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20keysJSON%20%3D%20window%2ElocalStorage%5Bprefix%20%2B%20%27%5F%5F%27%20%2B%20%27persistentStateKeys%27%5D%3B%0A%20%20%20%20var%20keys%20%3D%20typeof%20keysJSON%20%3D%3D%20%27string%27%20%3F%20JSON%2Eparse%28keysJSON%29%20%3A%20void%200%3B%0A%20%20%20%20savedKeys%20%3D%20keys%20%3F%20keys%20%3A%20%5B%5D%3B%0A%20%20%7D%3B%0A%0A%20%20var%20clearSavedKeys%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20savedKeys%20%3D%20%5B%5D%3B%0A%20%20%20%20saveSavedKeys%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20loadSavedKeys%28%29%3B%0A%0A%20%20this%2EsaveValue%20%3D%20function%20%28key%2C%20value%29%20%7B%0A%20%20%20%20window%2ElocalStorage%5Bprefix%20%2B%20%27%5F%27%20%2B%20key%5D%20%3D%20JSON%2Estringify%28value%29%3B%0A%20%20%20%20if%20%28savedKeys%2EindexOf%28key%29%20%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20savedKeys%2Epush%28key%29%3B%0A%20%20%20%20%20%20saveSavedKeys%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20this%2EloadValue%20%3D%20function%20%28key%2C%20defaultValue%29%20%7B%0A%0A%20%20%20%20key%20%3D%20typeof%20key%20%21%3D%20%27undefined%27%20%3F%20key%20%3A%20defaultValue%3B%0A%0A%20%20%20%20var%20value%20%3D%20window%2ElocalStorage%5Bprefix%20%2B%20%27%5F%27%20%2B%20key%5D%3B%0A%0A%20%20%20%20return%20typeof%20value%20%3D%3D%20%22undefined%22%20%3F%20void%200%20%3A%20JSON%2Eparse%28value%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20this%2Ereset%20%3D%20function%20%28key%29%20%7B%0A%20%20%20%20window%2ElocalStorage%2EremoveItem%28prefix%20%2B%20%27%5F%27%20%2B%20key%29%3B%0A%20%20%7D%3B%0A%0A%20%20this%2EresetAll%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20for%20%28var%20index%20%3D%200%3B%20index%20%3C%20savedKeys%2Elength%3B%20index%2B%2B%29%20%7B%0A%20%20%20%20%20%20window%2ElocalStorage%2EremoveItem%28prefix%20%2B%20%27%5F%27%20%2B%20savedKeys%5Bindex%5D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20clearSavedKeys%28%29%3B%0A%20%20%7D%3B%0A%0A%7D%0A%0A%0A%28function%20%28StorageClass%29%20%7B%0A%20%20function%20HandsontablePersistentState%28%29%20%7B%0A%20%20%20%20var%20plugin%20%3D%20this%3B%0A%0A%0A%20%20%20%20this%2Einit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%2C%0A%20%20%20%20%20%20%20%20pluginSettings%20%3D%20instance%2EgetSettings%28%29%5B%27persistentState%27%5D%3B%0A%0A%20%20%20%20%20%20plugin%2Eenabled%20%3D%20%21%21%28pluginSettings%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21plugin%2Eenabled%29%20%7B%0A%20%20%20%20%20%20%20%20removeHooks%2Ecall%28instance%29%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28%21instance%2Estorage%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2Estorage%20%3D%20new%20StorageClass%28instance%2ErootElement%2Eid%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20instance%2EresetState%20%3D%20plugin%2EresetValue%3B%0A%0A%20%20%20%20%20%20addHooks%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EsaveValue%20%3D%20function%20%28key%2C%20value%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20%20%20instance%2Estorage%2EsaveValue%28key%2C%20value%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EloadValue%20%3D%20function%20%28key%2C%20saveTo%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20%20%20saveTo%2Evalue%20%3D%20instance%2Estorage%2EloadValue%28key%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EresetValue%20%3D%20function%20%28key%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20%20%20if%20%28typeof%20%20key%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2Estorage%2Ereset%28key%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20instance%2Estorage%2EresetAll%28%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20hooks%20%3D%20%7B%0A%20%20%20%20%20%20%27persistentStateSave%27%3A%20plugin%2EsaveValue%2C%0A%20%20%20%20%20%20%27persistentStateLoad%27%3A%20plugin%2EloadValue%2C%0A%20%20%20%20%20%20%27persistentStateReset%27%3A%20plugin%2EresetValue%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20for%20%28var%20hookName%20in%20hooks%29%20%7B%0A%20%20%20%20%20%20if%20%28hooks%2EhasOwnProperty%28hookName%29%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2Ehooks%2Eregister%28hookName%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20addHooks%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20%20%20for%20%28var%20hookName%20in%20hooks%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28hooks%2EhasOwnProperty%28hookName%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EaddHook%28hookName%2C%20hooks%5BhookName%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20removeHooks%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20%20%20for%20%28var%20hookName%20in%20hooks%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28hooks%2EhasOwnProperty%28hookName%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EremoveHook%28hookName%2C%20hooks%5BhookName%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20var%20htPersistentState%20%3D%20new%20HandsontablePersistentState%28%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27beforeInit%27%2C%20htPersistentState%2Einit%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20htPersistentState%2Einit%29%3B%0A%7D%29%28Storage%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20Handsontable%20UndoRedo%20plugin%20class%0A%20%2A%0A%20%2A%20%40plugin%0A%20%2A%20%40class%20Handsontable%2EUndoRedo%0A%20%2A%2F%0A%28function%28Handsontable%29%7B%0A%20%20Handsontable%2EUndoRedo%20%3D%20function%20%28instance%29%20%7B%0A%20%20%20%20var%20plugin%20%3D%20this%3B%0A%20%20%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20%20%20this%2EdoneActions%20%3D%20%5B%5D%3B%0A%20%20%20%20this%2EundoneActions%20%3D%20%5B%5D%3B%0A%20%20%20%20this%2EignoreNewActions%20%3D%20false%3B%0A%20%20%20%20instance%2EaddHook%28%22afterChange%22%2C%20function%20%28changes%2C%20origin%29%20%7B%0A%20%20%20%20%20%20if%28changes%29%7B%0A%20%20%20%20%20%20%20%20var%20action%20%3D%20new%20Handsontable%2EUndoRedo%2EChangeAction%28changes%29%3B%0A%20%20%20%20%20%20%20%20plugin%2Edone%28action%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20instance%2EaddHook%28%22afterCreateRow%22%2C%20function%20%28index%2C%20amount%2C%20createdAutomatically%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28createdAutomatically%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20action%20%3D%20new%20Handsontable%2EUndoRedo%2ECreateRowAction%28index%2C%20amount%29%3B%0A%20%20%20%20%20%20plugin%2Edone%28action%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20instance%2EaddHook%28%22beforeRemoveRow%22%2C%20function%20%28index%2C%20amount%29%20%7B%0A%20%20%20%20%20%20var%20originalData%20%3D%20plugin%2Einstance%2EgetData%28%29%3B%0A%20%20%20%20%20%20index%20%3D%20%28%20originalData%2Elength%20%2B%20index%20%29%20%25%20originalData%2Elength%3B%0A%20%20%20%20%20%20var%20removedData%20%3D%20originalData%2Eslice%28index%2C%20index%20%2B%20amount%29%3B%0A%20%20%20%20%20%20var%20action%20%3D%20new%20Handsontable%2EUndoRedo%2ERemoveRowAction%28index%2C%20removedData%29%3B%0A%20%20%20%20%20%20plugin%2Edone%28action%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20instance%2EaddHook%28%22afterCreateCol%22%2C%20function%20%28index%2C%20amount%2C%20createdAutomatically%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28createdAutomatically%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20action%20%3D%20new%20Handsontable%2EUndoRedo%2ECreateColumnAction%28index%2C%20amount%29%3B%0A%20%20%20%20%20%20plugin%2Edone%28action%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20instance%2EaddHook%28%22beforeRemoveCol%22%2C%20function%20%28index%2C%20amount%29%20%7B%0A%20%20%20%20%20%20var%20originalData%20%3D%20plugin%2Einstance%2EgetData%28%29%3B%0A%20%20%20%20%20%20index%20%3D%20%28%20plugin%2Einstance%2EcountCols%28%29%20%2B%20index%20%29%20%25%20plugin%2Einstance%2EcountCols%28%29%3B%0A%20%20%20%20%20%20var%20removedData%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20len%20%3D%20originalData%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20removedData%5Bi%5D%20%3D%20originalData%5Bi%5D%2Eslice%28index%2C%20index%20%2B%20amount%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20headers%3B%0A%20%20%20%20%20%20if%28Array%2EisArray%28instance%2EgetSettings%28%29%2EcolHeaders%29%29%7B%0A%20%20%20%20%20%20%20%20headers%20%3D%20instance%2EgetSettings%28%29%2EcolHeaders%2Eslice%28index%2C%20index%20%2B%20removedData%2Elength%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20action%20%3D%20new%20Handsontable%2EUndoRedo%2ERemoveColumnAction%28index%2C%20removedData%2C%20headers%29%3B%0A%20%20%20%20%20%20plugin%2Edone%28action%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20instance%2EaddHook%28%22beforeCellAlignment%22%2C%20function%20%28stateBefore%2C%20range%2C%20type%2C%20alignment%29%20%7B%0A%20%20%20%20%20%20var%20action%20%3D%20new%20Handsontable%2EUndoRedo%2ECellAlignmentAction%28stateBefore%2C%20range%2C%20type%2C%20alignment%29%3B%0A%20%20%20%20%20%20plugin%2Edone%28action%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EUndoRedo%2Eprototype%2Edone%20%3D%20function%20%28action%29%20%7B%0A%20%20%20%20if%20%28%21this%2EignoreNewActions%29%20%7B%0A%20%20%20%20%20%20this%2EdoneActions%2Epush%28action%29%3B%0A%20%20%20%20%20%20this%2EundoneActions%2Elength%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Undo%20last%20edit%2E%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EUndoRedo%2Eprototype%2Eundo%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28this%2EisUndoAvailable%28%29%29%20%7B%0A%20%20%20%20%20%20var%20action%20%3D%20this%2EdoneActions%2Epop%28%29%3B%0A%0A%20%20%20%20%20%20this%2EignoreNewActions%20%3D%20true%3B%0A%20%20%20%20%20%20var%20that%20%3D%20this%3B%0A%20%20%20%20%20%20action%2Eundo%28this%2Einstance%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20that%2EignoreNewActions%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20that%2EundoneActions%2Epush%28action%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%0A%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Redo%20edit%20%28used%20to%20reverse%20an%20undo%29%2E%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EUndoRedo%2Eprototype%2Eredo%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28this%2EisRedoAvailable%28%29%29%20%7B%0A%20%20%20%20%20%20var%20action%20%3D%20this%2EundoneActions%2Epop%28%29%3B%0A%0A%20%20%20%20%20%20this%2EignoreNewActions%20%3D%20true%3B%0A%20%20%20%20%20%20var%20that%20%3D%20this%3B%0A%20%20%20%20%20%20action%2Eredo%28this%2Einstance%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20that%2EignoreNewActions%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20that%2EdoneActions%2Epush%28action%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%0A%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Check%20if%20undo%20action%20is%20available%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40return%20%7BBoolean%7D%20Return%20%60true%60%20if%20undo%20can%20be%20performed%2C%20%60false%60%20otherwise%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EUndoRedo%2Eprototype%2EisUndoAvailable%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20this%2EdoneActions%2Elength%20%3E%200%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Check%20if%20redo%20action%20is%20available%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40return%20%7BBoolean%7D%20Return%20%60true%60%20if%20redo%20can%20be%20performed%2C%20%60false%60%20otherwise%2E%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EUndoRedo%2Eprototype%2EisRedoAvailable%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20this%2EundoneActions%2Elength%20%3E%200%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Clears%20undo%20history%2E%0A%20%20%20%2A%2F%0A%20%20Handsontable%2EUndoRedo%2Eprototype%2Eclear%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2EdoneActions%2Elength%20%3D%200%3B%0A%20%20%20%20this%2EundoneActions%2Elength%20%3D%200%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EUndoRedo%2EAction%20%3D%20function%20%28%29%20%7B%0A%20%20%7D%3B%0A%20%20Handsontable%2EUndoRedo%2EAction%2Eprototype%2Eundo%20%3D%20function%20%28%29%20%7B%0A%20%20%7D%3B%0A%20%20Handsontable%2EUndoRedo%2EAction%2Eprototype%2Eredo%20%3D%20function%20%28%29%20%7B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EUndoRedo%2EChangeAction%20%3D%20function%20%28changes%29%20%7B%0A%20%20%20%20this%2Echanges%20%3D%20changes%3B%0A%20%20%7D%3B%0A%20%20Handsontable%2Ehelper%2Einherit%28Handsontable%2EUndoRedo%2EChangeAction%2C%20Handsontable%2EUndoRedo%2EAction%29%3B%0A%20%20Handsontable%2EUndoRedo%2EChangeAction%2Eprototype%2Eundo%20%3D%20function%20%28instance%2C%20undoneCallback%29%20%7B%0A%20%20%20%20var%20data%20%3D%20Handsontable%2Ehelper%2EdeepClone%28this%2Echanges%29%2C%0A%20%20%20%20%20%20%20%20emptyRowsAtTheEnd%20%3D%20instance%2EcountEmptyRows%28true%29%2C%0A%20%20%20%20%20%20%20%20emptyColsAtTheEnd%20%3D%20instance%2EcountEmptyCols%28true%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20len%20%3D%20data%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20data%5Bi%5D%2Esplice%283%2C%201%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2EaddHookOnce%28%27afterChange%27%2C%20undoneCallback%29%3B%0A%0A%20%20%20%20instance%2EsetDataAtRowProp%28data%2C%20null%2C%20null%2C%20%27undo%27%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20len%20%3D%20data%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20if%20%28instance%2EgetSettings%28%29%2EminSpareRows%20%26%26%0A%20%20%20%20%20%20%20%20data%5Bi%5D%5B0%5D%20%2B%201%20%2B%20instance%2EgetSettings%28%29%2EminSpareRows%20%3D%3D%3D%20instance%2EcountRows%28%29%20%26%26%0A%20%20%20%20%20%20%20%20emptyRowsAtTheEnd%20%3D%3D%20instance%2EgetSettings%28%29%2EminSpareRows%29%20%7B%0A%0A%20%20%20%20%20%20%20instance%2Ealter%28%27remove%5Frow%27%2C%20parseInt%28data%5Bi%5D%5B0%5D%2B1%2C10%29%2C%20instance%2EgetSettings%28%29%2EminSpareRows%29%3B%0A%20%20%20%20%20%20%20instance%2EundoRedo%2EdoneActions%2Epop%28%29%3B%0A%0A%20%20%20%20%20%7D%0A%0A%20%20%20%20%20if%20%28instance%2EgetSettings%28%29%2EminSpareCols%20%26%26%0A%20%20%20%20%20%20%20%20data%5Bi%5D%5B1%5D%20%2B%201%20%2B%20instance%2EgetSettings%28%29%2EminSpareCols%20%3D%3D%3D%20instance%2EcountCols%28%29%20%26%26%0A%20%20%20%20%20%20%20%20emptyColsAtTheEnd%20%3D%3D%20instance%2EgetSettings%28%29%2EminSpareCols%29%20%7B%0A%0A%20%20%20%20%20%20%20%20instance%2Ealter%28%27remove%5Fcol%27%2C%20parseInt%28data%5Bi%5D%5B1%5D%2B1%2C10%29%2C%20instance%2EgetSettings%28%29%2EminSpareCols%29%3B%0A%20%20%20%20%20%20%20%20instance%2EundoRedo%2EdoneActions%2Epop%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%20%20Handsontable%2EUndoRedo%2EChangeAction%2Eprototype%2Eredo%20%3D%20function%20%28instance%2C%20onFinishCallback%29%20%7B%0A%20%20%20%20var%20data%20%3D%20Handsontable%2Ehelper%2EdeepClone%28this%2Echanges%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20len%20%3D%20data%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20data%5Bi%5D%2Esplice%282%2C%201%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2EaddHookOnce%28%27afterChange%27%2C%20onFinishCallback%29%3B%0A%0A%20%20%20%20instance%2EsetDataAtRowProp%28data%2C%20null%2C%20null%2C%20%27redo%27%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EUndoRedo%2ECreateRowAction%20%3D%20function%20%28index%2C%20amount%29%20%7B%0A%20%20%20%20this%2Eindex%20%3D%20index%3B%0A%20%20%20%20this%2Eamount%20%3D%20amount%3B%0A%20%20%7D%3B%0A%20%20Handsontable%2Ehelper%2Einherit%28Handsontable%2EUndoRedo%2ECreateRowAction%2C%20Handsontable%2EUndoRedo%2EAction%29%3B%0A%20%20Handsontable%2EUndoRedo%2ECreateRowAction%2Eprototype%2Eundo%20%3D%20function%20%28instance%2C%20undoneCallback%29%20%7B%0A%20%20%20%20var%20rowCount%20%3D%20instance%2EcountRows%28%29%2C%0A%20%20%20%20%20%20minSpareRows%20%3D%20instance%2EgetSettings%28%29%2EminSpareRows%3B%0A%20%20%20%20if%28this%2Eindex%20%3E%3D%20rowCount%20%26%26%20this%2Eindex%20%2D%20minSpareRows%20%3C%20rowCount%29%20%7B%0A%20%20%20%20%20%20this%2Eindex%20%2D%3D%20minSpareRows%3B%20%2F%2F%20work%20around%20the%20situation%20where%20the%20needed%20row%20was%20removed%20due%20to%20an%20%27undo%27%20of%20a%20made%20change%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2EaddHookOnce%28%27afterRemoveRow%27%2C%20undoneCallback%29%3B%0A%20%20%20%20instance%2Ealter%28%27remove%5Frow%27%2C%20this%2Eindex%2C%20this%2Eamount%29%3B%0A%20%20%7D%3B%0A%20%20Handsontable%2EUndoRedo%2ECreateRowAction%2Eprototype%2Eredo%20%3D%20function%20%28instance%2C%20redoneCallback%29%20%7B%0A%20%20%20%20instance%2EaddHookOnce%28%27afterCreateRow%27%2C%20redoneCallback%29%3B%0A%20%20%20%20instance%2Ealter%28%27insert%5Frow%27%2C%20this%2Eindex%20%2B%201%2C%20this%2Eamount%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EUndoRedo%2ERemoveRowAction%20%3D%20function%20%28index%2C%20data%29%20%7B%0A%20%20%20%20this%2Eindex%20%3D%20index%3B%0A%20%20%20%20this%2Edata%20%3D%20data%3B%0A%20%20%7D%3B%0A%20%20Handsontable%2Ehelper%2Einherit%28Handsontable%2EUndoRedo%2ERemoveRowAction%2C%20Handsontable%2EUndoRedo%2EAction%29%3B%0A%20%20Handsontable%2EUndoRedo%2ERemoveRowAction%2Eprototype%2Eundo%20%3D%20function%20%28instance%2C%20undoneCallback%29%20%7B%0A%20%20%20%20var%20spliceArgs%20%3D%20%5Bthis%2Eindex%2C%200%5D%3B%0A%20%20%20%20Array%2Eprototype%2Epush%2Eapply%28spliceArgs%2C%20this%2Edata%29%3B%0A%0A%20%20%20%20Array%2Eprototype%2Esplice%2Eapply%28instance%2EgetData%28%29%2C%20spliceArgs%29%3B%0A%0A%20%20%20%20instance%2EaddHookOnce%28%27afterRender%27%2C%20undoneCallback%29%3B%0A%20%20%20%20instance%2Erender%28%29%3B%0A%20%20%7D%3B%0A%20%20Handsontable%2EUndoRedo%2ERemoveRowAction%2Eprototype%2Eredo%20%3D%20function%20%28instance%2C%20redoneCallback%29%20%7B%0A%20%20%20%20instance%2EaddHookOnce%28%27afterRemoveRow%27%2C%20redoneCallback%29%3B%0A%20%20%20%20instance%2Ealter%28%27remove%5Frow%27%2C%20this%2Eindex%2C%20this%2Edata%2Elength%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EUndoRedo%2ECreateColumnAction%20%3D%20function%20%28index%2C%20amount%29%20%7B%0A%20%20%20%20this%2Eindex%20%3D%20index%3B%0A%20%20%20%20this%2Eamount%20%3D%20amount%3B%0A%20%20%7D%3B%0A%20%20Handsontable%2Ehelper%2Einherit%28Handsontable%2EUndoRedo%2ECreateColumnAction%2C%20Handsontable%2EUndoRedo%2EAction%29%3B%0A%20%20Handsontable%2EUndoRedo%2ECreateColumnAction%2Eprototype%2Eundo%20%3D%20function%20%28instance%2C%20undoneCallback%29%20%7B%0A%20%20%20%20instance%2EaddHookOnce%28%27afterRemoveCol%27%2C%20undoneCallback%29%3B%0A%20%20%20%20instance%2Ealter%28%27remove%5Fcol%27%2C%20this%2Eindex%2C%20this%2Eamount%29%3B%0A%20%20%7D%3B%0A%20%20Handsontable%2EUndoRedo%2ECreateColumnAction%2Eprototype%2Eredo%20%3D%20function%20%28instance%2C%20redoneCallback%29%20%7B%0A%20%20%20%20instance%2EaddHookOnce%28%27afterCreateCol%27%2C%20redoneCallback%29%3B%0A%20%20%20%20instance%2Ealter%28%27insert%5Fcol%27%2C%20this%2Eindex%20%2B%201%2C%20this%2Eamount%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EUndoRedo%2ECellAlignmentAction%20%3D%20function%20%28stateBefore%2C%20range%2C%20type%2C%20alignment%29%20%7B%0A%20%20%20%20this%2EstateBefore%20%3D%20stateBefore%3B%0A%20%20%20%20this%2Erange%20%3D%20range%3B%0A%20%20%20%20this%2Etype%20%3D%20type%3B%0A%20%20%20%20this%2Ealignment%20%3D%20alignment%3B%0A%20%20%7D%3B%0A%20%20Handsontable%2EUndoRedo%2ECellAlignmentAction%2Eprototype%2Eundo%20%3D%20function%28instance%2C%20undoneCallback%29%20%7B%0A%20%20%20%20if%20%28%21instance%2EcontextMenu%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20for%20%28var%20row%20%3D%20this%2Erange%2Efrom%2Erow%3B%20row%20%3C%3D%20this%2Erange%2Eto%2Erow%3B%20row%2B%2B%29%20%7B%0A%20%20%20%20%20%20for%20%28var%20col%20%3D%20this%2Erange%2Efrom%2Ecol%3B%20col%20%3C%3D%20this%2Erange%2Eto%2Ecol%3B%20col%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2EsetCellMeta%28row%2C%20col%2C%20%27className%27%2C%20this%2EstateBefore%5Brow%5D%5Bcol%5D%20%7C%7C%20%27%20htLeft%27%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2EaddHookOnce%28%27afterRender%27%2C%20undoneCallback%29%3B%0A%20%20%20%20instance%2Erender%28%29%3B%0A%20%20%7D%3B%0A%20%20Handsontable%2EUndoRedo%2ECellAlignmentAction%2Eprototype%2Eredo%20%3D%20function%28instance%2C%20undoneCallback%29%20%7B%0A%20%20%20%20if%20%28%21instance%2EcontextMenu%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20for%20%28var%20row%20%3D%20this%2Erange%2Efrom%2Erow%3B%20row%20%3C%3D%20this%2Erange%2Eto%2Erow%3B%20row%2B%2B%29%20%7B%0A%20%20%20%20%20%20for%20%28var%20col%20%3D%20this%2Erange%2Efrom%2Ecol%3B%20col%20%3C%3D%20this%2Erange%2Eto%2Ecol%3B%20col%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2EcontextMenu%2Ealign%2Ecall%28instance%2C%20this%2Erange%2C%20this%2Etype%2C%20this%2Ealignment%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2EaddHookOnce%28%27afterRender%27%2C%20undoneCallback%29%3B%0A%20%20%20%20instance%2Erender%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2EUndoRedo%2ERemoveColumnAction%20%3D%20function%20%28index%2C%20data%2C%20headers%29%20%7B%0A%20%20%20%20this%2Eindex%20%3D%20index%3B%0A%20%20%20%20this%2Edata%20%3D%20data%3B%0A%20%20%20%20this%2Eamount%20%3D%20this%2Edata%5B0%5D%2Elength%3B%0A%20%20%20%20this%2Eheaders%20%3D%20headers%3B%0A%20%20%7D%3B%0A%20%20Handsontable%2Ehelper%2Einherit%28Handsontable%2EUndoRedo%2ERemoveColumnAction%2C%20Handsontable%2EUndoRedo%2EAction%29%3B%0A%20%20Handsontable%2EUndoRedo%2ERemoveColumnAction%2Eprototype%2Eundo%20%3D%20function%20%28instance%2C%20undoneCallback%29%20%7B%0A%20%20%20%20var%20row%2C%20spliceArgs%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20len%20%3D%20instance%2EgetData%28%29%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20row%20%3D%20instance%2EgetSourceDataAtRow%28i%29%3B%0A%0A%20%20%20%20%20%20spliceArgs%20%3D%20%5Bthis%2Eindex%2C%200%5D%3B%0A%20%20%20%20%20%20Array%2Eprototype%2Epush%2Eapply%28spliceArgs%2C%20this%2Edata%5Bi%5D%29%3B%0A%0A%20%20%20%20%20%20Array%2Eprototype%2Esplice%2Eapply%28row%2C%20spliceArgs%29%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28typeof%20this%2Eheaders%20%21%3D%20%27undefined%27%29%7B%0A%20%20%20%20%20%20spliceArgs%20%3D%20%5Bthis%2Eindex%2C%200%5D%3B%0A%20%20%20%20%20%20Array%2Eprototype%2Epush%2Eapply%28spliceArgs%2C%20this%2Eheaders%29%3B%0A%20%20%20%20%20%20Array%2Eprototype%2Esplice%2Eapply%28instance%2EgetSettings%28%29%2EcolHeaders%2C%20spliceArgs%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2EaddHookOnce%28%27afterRender%27%2C%20undoneCallback%29%3B%0A%20%20%20%20instance%2Erender%28%29%3B%0A%20%20%7D%3B%0A%20%20Handsontable%2EUndoRedo%2ERemoveColumnAction%2Eprototype%2Eredo%20%3D%20function%20%28instance%2C%20redoneCallback%29%20%7B%0A%20%20%20%20instance%2EaddHookOnce%28%27afterRemoveCol%27%2C%20redoneCallback%29%3B%0A%20%20%20%20instance%2Ealter%28%27remove%5Fcol%27%2C%20this%2Eindex%2C%20this%2Eamount%29%3B%0A%20%20%7D%3B%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%28Handsontable%29%7B%0A%0A%20%20function%20init%28%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20pluginEnabled%20%3D%20typeof%20instance%2EgetSettings%28%29%2Eundo%20%3D%3D%20%27undefined%27%20%7C%7C%20instance%2EgetSettings%28%29%2Eundo%3B%0A%0A%20%20%20%20if%28pluginEnabled%29%7B%0A%20%20%20%20%20%20if%28%21instance%2EundoRedo%29%7B%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20Instance%20of%20Handsontable%2EUndoRedo%20Plugin%20%7B%40link%20Handsontable%2EUndoRedo%7D%0A%20%20%20%20%20%20%20%20%20%2A%0A%20%20%20%20%20%20%20%20%20%2A%20%40alias%20undoRedo%0A%20%20%20%20%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2ECore%23%0A%20%20%20%20%20%20%20%20%20%2A%20%40type%20%7BUndoRedo%7D%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20instance%2EundoRedo%20%3D%20new%20Handsontable%2EUndoRedo%28instance%29%3B%0A%0A%20%20%20%20%20%20%20%20exposeUndoRedoMethods%28instance%29%3B%0A%0A%20%20%20%20%20%20%20%20instance%2EaddHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%20%20%20%20%20%20%20%20instance%2EaddHook%28%27afterChange%27%2C%20onAfterChange%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if%28instance%2EundoRedo%29%7B%0A%20%20%20%20%20%20%20%20delete%20instance%2EundoRedo%3B%0A%0A%20%20%20%20%20%20%20%20removeExposedUndoRedoMethods%28instance%29%3B%0A%0A%20%20%20%20%20%20%20%20instance%2EremoveHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%20%20%20%20%20%20%20%20instance%2EremoveHook%28%27afterChange%27%2C%20onAfterChange%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20onBeforeKeyDown%28event%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20var%20ctrlDown%20%3D%20%28event%2EctrlKey%20%7C%7C%20event%2EmetaKey%29%20%26%26%20%21event%2EaltKey%3B%0A%0A%20%20%20%20if%28ctrlDown%29%7B%0A%20%20%20%20%20%20if%20%28event%2EkeyCode%20%3D%3D%3D%2089%20%7C%7C%20%28event%2EshiftKey%20%26%26%20event%2EkeyCode%20%3D%3D%3D%2090%29%29%20%7B%20%2F%2FCTRL%20%2B%20Y%20or%20CTRL%20%2B%20SHIFT%20%2B%20Z%0A%20%20%20%20%20%20%20%20instance%2EundoRedo%2Eredo%28%29%3B%0A%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28event%2EkeyCode%20%3D%3D%3D%2090%29%20%7B%20%2F%2FCTRL%20%2B%20Z%0A%20%20%20%20%20%20%20%20instance%2EundoRedo%2Eundo%28%29%3B%0A%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20onAfterChange%28changes%2C%20source%29%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20if%20%28source%20%3D%3D%20%27loadData%27%29%7B%0A%20%20%20%20%20%20return%20instance%2EundoRedo%2Eclear%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20function%20exposeUndoRedoMethods%28instance%29%20%7B%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%7B%40link%20Handsontable%2EUndoRedo%23undo%7D%0A%20%20%20%20%20%2A%20%40alias%20undo%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2ECore%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20instance%2Eundo%20%3D%20function%28%29%7B%0A%20%20%20%20%20%20return%20instance%2EundoRedo%2Eundo%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%7B%40link%20Handsontable%2EUndoRedo%23redo%7D%0A%20%20%20%20%20%2A%20%40alias%20redo%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2ECore%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20instance%2Eredo%20%3D%20function%28%29%7B%0A%20%20%20%20%20%20return%20instance%2EundoRedo%2Eredo%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%7B%40link%20Handsontable%2EUndoRedo%23isUndoAvailable%7D%0A%20%20%20%20%20%2A%20%40alias%20isUndoAvailable%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2ECore%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20instance%2EisUndoAvailable%20%3D%20function%28%29%7B%0A%20%20%20%20%20%20return%20instance%2EundoRedo%2EisUndoAvailable%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%7B%40link%20Handsontable%2EUndoRedo%23isRedoAvailable%7D%0A%20%20%20%20%20%2A%20%40alias%20isRedoAvailable%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2ECore%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20instance%2EisRedoAvailable%20%3D%20function%28%29%7B%0A%20%20%20%20%20%20return%20instance%2EundoRedo%2EisRedoAvailable%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%7B%40link%20Handsontable%2EUndoRedo%23clear%7D%0A%20%20%20%20%20%2A%20%40alias%20clearUndo%0A%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2ECore%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20instance%2EclearUndo%20%3D%20function%28%29%7B%0A%20%20%20%20%20%20return%20instance%2EundoRedo%2Eclear%28%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20function%20removeExposedUndoRedoMethods%28instance%29%7B%0A%20%20%20%20delete%20instance%2Eundo%3B%0A%20%20%20%20delete%20instance%2Eredo%3B%0A%20%20%20%20delete%20instance%2EisUndoAvailable%3B%0A%20%20%20%20delete%20instance%2EisRedoAvailable%3B%0A%20%20%20%20delete%20instance%2EclearUndo%3B%0A%20%20%7D%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20init%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20init%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20Plugin%20used%20to%20scroll%20Handsontable%20by%20selecting%20a%20cell%20and%20dragging%20outside%20of%20visible%20viewport%0A%20%2A%20%40constructor%0A%20%2A%20%40private%0A%20%2A%2F%0Afunction%20DragToScroll%28%29%20%7B%0A%20%20this%2Eboundaries%20%3D%20null%3B%0A%20%20this%2Ecallback%20%3D%20null%3B%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20%40param%20boundaries%20%7BObject%7D%20compatible%20with%20getBoundingClientRect%0A%20%2A%2F%0ADragToScroll%2Eprototype%2EsetBoundaries%20%3D%20function%20%28boundaries%29%20%7B%0A%20%20this%2Eboundaries%20%3D%20boundaries%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20%40param%20callback%20%7BFunction%7D%0A%20%2A%2F%0ADragToScroll%2Eprototype%2EsetCallback%20%3D%20function%20%28callback%29%20%7B%0A%20%20this%2Ecallback%20%3D%20callback%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Check%20if%20mouse%20position%20%28x%2C%20y%29%20is%20outside%20of%20the%20viewport%0A%20%2A%20%40param%20x%0A%20%2A%20%40param%20y%0A%20%2A%2F%0ADragToScroll%2Eprototype%2Echeck%20%3D%20function%20%28x%2C%20y%29%20%7B%0A%20%20var%20diffX%20%3D%200%3B%0A%20%20var%20diffY%20%3D%200%3B%0A%0A%20%20if%20%28y%20%3C%20this%2Eboundaries%2Etop%29%20%7B%0A%20%20%20%20%2F%2Fy%20is%20less%20than%20top%0A%20%20%20%20diffY%20%3D%20y%20%2D%20this%2Eboundaries%2Etop%3B%0A%20%20%7D%0A%20%20else%20if%20%28y%20%3E%20this%2Eboundaries%2Ebottom%29%20%7B%0A%20%20%20%20%2F%2Fy%20is%20more%20than%20bottom%0A%20%20%20%20diffY%20%3D%20y%20%2D%20this%2Eboundaries%2Ebottom%3B%0A%20%20%7D%0A%0A%20%20if%20%28x%20%3C%20this%2Eboundaries%2Eleft%29%20%7B%0A%20%20%20%20%2F%2Fx%20is%20less%20than%20left%0A%20%20%20%20diffX%20%3D%20x%20%2D%20this%2Eboundaries%2Eleft%3B%0A%20%20%7D%0A%20%20else%20if%20%28x%20%3E%20this%2Eboundaries%2Eright%29%20%7B%0A%20%20%20%20%2F%2Fx%20is%20more%20than%20right%0A%20%20%20%20diffX%20%3D%20x%20%2D%20this%2Eboundaries%2Eright%3B%0A%20%20%7D%0A%0A%20%20this%2Ecallback%28diffX%2C%20diffY%29%3B%0A%7D%3B%0A%0Avar%20dragToScroll%3B%0Avar%20instance%3B%0A%0Aif%20%28typeof%20Handsontable%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20var%20setupListening%20%3D%20function%20%28instance%29%20%7B%0A%20%20%20%20instance%2EdragToScrollListening%20%3D%20false%3B%0A%20%20%20%20var%20scrollHandler%20%3D%20instance%2Eview%2Ewt%2EwtTable%2Eholder%3B%20%2F%2Fnative%20scroll%0A%20%20%20%20dragToScroll%20%3D%20new%20DragToScroll%28%29%3B%0A%20%20%20%20if%20%28scrollHandler%20%3D%3D%3D%20window%29%20%7B%0A%20%20%20%20%20%20%2F%2Fnot%20much%20we%20can%20do%20currently%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20dragToScroll%2EsetBoundaries%28scrollHandler%2EgetBoundingClientRect%28%29%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20dragToScroll%2EsetCallback%28function%20%28scrollX%2C%20scrollY%29%20%7B%0A%20%20%20%20%20%20if%20%28scrollX%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20scrollHandler%2EscrollLeft%20%2D%3D%2050%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28scrollX%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20scrollHandler%2EscrollLeft%20%2B%3D%2050%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28scrollY%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20scrollHandler%2EscrollTop%20%2D%3D%2020%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28scrollY%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20scrollHandler%2EscrollTop%20%2B%3D%2020%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20instance%2EdragToScrollListening%20%3D%20true%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28this%29%3B%0A%0A%20%20%20%20eventManager%2EaddEventListener%28document%2C%27mouseup%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20instance%2EdragToScrollListening%20%3D%20false%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20eventManager%2EaddEventListener%28document%2C%27mousemove%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20if%20%28instance%2EdragToScrollListening%29%20%7B%0A%20%20%20%20%20%20%20%20dragToScroll%2Echeck%28event%2EclientX%2C%20event%2EclientY%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterDestroy%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28this%29%3B%0A%20%20%20%20eventManager%2Eclear%28%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterOnCellMouseDown%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20setupListening%28this%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterOnCellCornerMouseDown%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20setupListening%28this%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20Handsontable%2Eplugins%2EDragToScroll%20%3D%20DragToScroll%3B%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20This%20plugin%20provides%20copy%20and%20paste%20functionalities%2E%0A%20%2A%0A%20%2A%20%40plugin%0A%20%2A%20%40class%20Handsontable%2ECopyPaste%0A%20%2A%2F%0A%28function%20%28Handsontable%2C%20CopyPaste%2C%20SheetClip%29%20%7B%0A%0A%20%20function%20CopyPastePlugin%28instance%29%20%7B%0A%20%20%20%20var%20%5Fthis%20%3D%20this%3B%0A%0A%20%20%20%20this%2EcopyPasteInstance%20%3D%20CopyPaste%2EgetInstance%28%29%3B%0A%20%20%20%20this%2EcopyPasteInstance%2EonCut%28onCut%29%3B%0A%20%20%20%20this%2EcopyPasteInstance%2EonPaste%28onPaste%29%3B%0A%0A%20%20%20%20instance%2EaddHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%0A%20%20%20%20function%20onCut%28%29%20%7B%0A%20%20%20%20%20%20if%20%28%21instance%2EisListening%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20instance%2Eselection%2Eempty%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20onPaste%28str%29%20%7B%0A%20%20%20%20%20%20var%0A%20%20%20%20%20%20%20%20input%2C%0A%20%20%20%20%20%20%20%20inputArray%2C%0A%20%20%20%20%20%20%20%20selected%2C%0A%20%20%20%20%20%20%20%20coordsFrom%2C%0A%20%20%20%20%20%20%20%20coordsTo%2C%0A%20%20%20%20%20%20%20%20cellRange%2C%0A%20%20%20%20%20%20%20%20topLeftCorner%2C%0A%20%20%20%20%20%20%20%20bottomRightCorner%2C%0A%20%20%20%20%20%20%20%20areaStart%2C%0A%20%20%20%20%20%20%20%20areaEnd%3B%0A%0A%20%20%20%20%20%20if%20%28%21instance%2EisListening%28%29%20%7C%7C%20%21instance%2Eselection%2EisSelected%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20input%20%3D%20str%3B%0A%20%20%20%20%20%20inputArray%20%3D%20SheetClip%2Eparse%28input%29%3B%0A%20%20%20%20%20%20selected%20%3D%20instance%2EgetSelected%28%29%3B%0A%20%20%20%20%20%20coordsFrom%20%3D%20new%20WalkontableCellCoords%28selected%5B0%5D%2C%20selected%5B1%5D%29%3B%0A%20%20%20%20%20%20coordsTo%20%3D%20new%20WalkontableCellCoords%28selected%5B2%5D%2C%20selected%5B3%5D%29%3B%0A%20%20%20%20%20%20cellRange%20%3D%20new%20WalkontableCellRange%28coordsFrom%2C%20coordsFrom%2C%20coordsTo%29%3B%0A%20%20%20%20%20%20topLeftCorner%20%3D%20cellRange%2EgetTopLeftCorner%28%29%3B%0A%20%20%20%20%20%20bottomRightCorner%20%3D%20cellRange%2EgetBottomRightCorner%28%29%3B%0A%20%20%20%20%20%20areaStart%20%3D%20topLeftCorner%3B%0A%20%20%20%20%20%20areaEnd%20%3D%20new%20WalkontableCellCoords%28%0A%20%20%20%20%20%20%20%20Math%2Emax%28bottomRightCorner%2Erow%2C%20inputArray%2Elength%20%2D%201%20%2B%20topLeftCorner%2Erow%29%2C%0A%20%20%20%20%20%20%20%20Math%2Emax%28bottomRightCorner%2Ecol%2C%20inputArray%5B0%5D%2Elength%20%2D%201%20%2B%20topLeftCorner%2Ecol%29%0A%20%20%20%20%20%20%29%3B%0A%0A%20%20%20%20%20%20instance%2EaddHookOnce%28%27afterChange%27%2C%20function%20%28changes%2C%20source%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28changes%20%26%26%20changes%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EselectCell%28areaStart%2Erow%2C%20areaStart%2Ecol%2C%20areaEnd%2Erow%2C%20areaEnd%2Ecol%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20instance%2EpopulateFromArray%28areaStart%2Erow%2C%20areaStart%2Ecol%2C%20inputArray%2C%20areaEnd%2Erow%2C%20areaEnd%2Ecol%2C%20%27paste%27%2C%20instance%2EgetSettings%28%29%2EpasteMode%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20onBeforeKeyDown%20%28event%29%20%7B%0A%20%20%20%20%20%20var%20ctrlDown%3B%0A%0A%20%20%20%20%20%20if%20%28instance%2EgetSelected%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28Handsontable%2Ehelper%2EisCtrlKey%28event%2EkeyCode%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20when%20CTRL%20is%20pressed%2C%20prepare%20selectable%20text%20in%20textarea%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20http%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F3902635%2Fhow%2Ddoes%2Done%2Dcapture%2Da%2Dmacs%2Dcommand%2Dkey%2Dvia%2Djavascript%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2EsetCopyableText%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%2F%20catch%20CTRL%20but%20not%20right%20ALT%20%28which%20in%20some%20systems%20triggers%20ALT%2BCTRL%29%0A%20%20%20%20%20%20%20%20ctrlDown%20%3D%20%28event%2EctrlKey%20%7C%7C%20event%2EmetaKey%29%20%26%26%20%21event%2EaltKey%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28event%2EkeyCode%20%3D%3D%20Handsontable%2Ehelper%2EkeyCode%2EA%20%26%26%20ctrlDown%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2E%5FregisterTimeout%28setTimeout%28Handsontable%2Ehelper%2Eproxy%28%5Fthis%2EsetCopyableText%2C%20%5Fthis%29%2C%200%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Destroy%20plugin%20instance%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40function%20destroy%0A%20%20%20%20%20%2A%20%40memberof%20Handsontable%2ECopyPaste%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2Edestroy%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20this%2EcopyPasteInstance%2EremoveCallback%28onCut%29%3B%0A%20%20%20%20%20%20this%2EcopyPasteInstance%2EremoveCallback%28onPaste%29%3B%0A%20%20%20%20%20%20this%2EcopyPasteInstance%2Edestroy%28%29%3B%0A%20%20%20%20%20%20instance%2EremoveHook%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20instance%2EaddHook%28%27afterDestroy%27%2C%20Handsontable%2Ehelper%2Eproxy%28this%2Edestroy%2C%20this%29%29%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40function%20triggerPaste%0A%20%20%20%20%20%2A%20%40memberof%20Handsontable%2ECopyPaste%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EtriggerPaste%20%3D%20Handsontable%2Ehelper%2Eproxy%28this%2EcopyPasteInstance%2EtriggerPaste%2C%20this%2EcopyPasteInstance%29%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%40function%20triggerCut%0A%20%20%20%20%20%2A%20%40memberof%20Handsontable%2ECopyPaste%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EtriggerCut%20%3D%20Handsontable%2Ehelper%2Eproxy%28this%2EcopyPasteInstance%2EtriggerCut%2C%20this%2EcopyPasteInstance%29%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Prepares%20copyable%20text%20in%20the%20invisible%20textarea%2E%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20%40function%20setCopyable%0A%20%20%20%20%20%2A%20%40memberof%20Handsontable%2ECopyPaste%23%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20this%2EsetCopyableText%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20settings%20%3D%20instance%2EgetSettings%28%29%3B%0A%20%20%20%20%20%20var%20copyRowsLimit%20%3D%20settings%2EcopyRowsLimit%3B%0A%20%20%20%20%20%20var%20copyColsLimit%20%3D%20settings%2EcopyColsLimit%3B%0A%0A%20%20%20%20%20%20var%20selRange%20%3D%20instance%2EgetSelectedRange%28%29%3B%0A%20%20%20%20%20%20var%20topLeft%20%3D%20selRange%2EgetTopLeftCorner%28%29%3B%0A%20%20%20%20%20%20var%20bottomRight%20%3D%20selRange%2EgetBottomRightCorner%28%29%3B%0A%20%20%20%20%20%20var%20startRow%20%3D%20topLeft%2Erow%3B%0A%20%20%20%20%20%20var%20startCol%20%3D%20topLeft%2Ecol%3B%0A%20%20%20%20%20%20var%20endRow%20%3D%20bottomRight%2Erow%3B%0A%20%20%20%20%20%20var%20endCol%20%3D%20bottomRight%2Ecol%3B%0A%20%20%20%20%20%20var%20finalEndRow%20%3D%20Math%2Emin%28endRow%2C%20startRow%20%2B%20copyRowsLimit%20%2D%201%29%3B%0A%20%20%20%20%20%20var%20finalEndCol%20%3D%20Math%2Emin%28endCol%2C%20startCol%20%2B%20copyColsLimit%20%2D%201%29%3B%0A%0A%20%20%20%20%20%20instance%2EcopyPaste%2EcopyPasteInstance%2Ecopyable%28instance%2EgetCopyableData%28startRow%2C%20startCol%2C%20finalEndRow%2C%20finalEndCol%29%29%3B%0A%0A%20%20%20%20%20%20if%20%28endRow%20%21%3D%3D%20finalEndRow%20%7C%7C%20endCol%20%21%3D%3D%20finalEndCol%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%22afterCopyLimit%22%2C%20endRow%20%2D%20startRow%20%2B%201%2C%20endCol%20%2D%20startCol%20%2B%201%2C%20copyRowsLimit%2C%20copyColsLimit%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Init%20plugin%0A%20%20%20%2A%0A%20%20%20%2A%20%40function%20init%0A%20%20%20%2A%20%40memberof%20Handsontable%2ECopyPaste%23%0A%20%20%20%2A%2F%0A%20%20function%20init%28%29%20%7B%0A%20%20%20%20var%20instance%20%20%3D%20this%2C%0A%20%20%20%20%20%20pluginEnabled%20%3D%20instance%2EgetSettings%28%29%2EcopyPaste%20%21%3D%3D%20false%3B%0A%0A%20%20%20%20if%20%28pluginEnabled%20%26%26%20%21instance%2EcopyPaste%29%20%7B%0A%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%2A%20Instance%20of%20CopyPaste%20Plugin%20%7B%40link%20Handsontable%2ECopyPaste%7D%0A%20%20%20%20%20%20%20%2A%20%40alias%20copyPaste%0A%20%20%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2ECore%23%0A%20%20%20%20%20%20%20%2A%20%40type%20%7BCopyPaste%7D%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20instance%2EcopyPaste%20%3D%20new%20CopyPastePlugin%28instance%29%3B%0A%0A%20%20%20%20%7D%20else%20if%20%28%21pluginEnabled%20%26%26%20instance%2EcopyPaste%29%20%7B%0A%20%20%20%20%20%20instance%2EcopyPaste%2Edestroy%28%29%3B%0A%20%20%20%20%20%20delete%20instance%2EcopyPaste%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20init%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20init%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eregister%28%27afterCopyLimit%27%29%3B%0A%7D%29%28Handsontable%2C%20CopyPaste%2C%20SheetClip%29%3B%0A%28function%20%28Handsontable%29%20%7B%0A%0A%20%20%27use%20strict%27%3B%0A%0A%20%20Handsontable%2ESearch%20%3D%20function%20Search%28instance%29%20%7B%0A%20%20%20%20this%2Equery%20%3D%20function%20%28queryStr%2C%20callback%2C%20queryMethod%29%20%7B%0A%20%20%20%20%20%20var%20rowCount%20%3D%20instance%2EcountRows%28%29%3B%0A%20%20%20%20%20%20var%20colCount%20%3D%20instance%2EcountCols%28%29%3B%0A%20%20%20%20%20%20var%20queryResult%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20if%20%28%21callback%29%20%7B%0A%20%20%20%20%20%20%20%20callback%20%3D%20Handsontable%2ESearch%2Eglobal%2EgetDefaultCallback%28%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28%21queryMethod%29%20%7B%0A%20%20%20%20%20%20%20%20queryMethod%20%3D%20Handsontable%2ESearch%2Eglobal%2EgetDefaultQueryMethod%28%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20for%20%28var%20rowIndex%20%3D%200%3B%20rowIndex%20%3C%20rowCount%3B%20rowIndex%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20colIndex%20%3D%200%3B%20colIndex%20%3C%20colCount%3B%20colIndex%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20cellData%20%3D%20instance%2EgetDataAtCell%28rowIndex%2C%20colIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20var%20cellProperties%20%3D%20instance%2EgetCellMeta%28rowIndex%2C%20colIndex%29%3B%0A%20%20%20%20%20%20%20%20%20%20var%20cellCallback%20%3D%20cellProperties%2Esearch%2Ecallback%20%7C%7C%20callback%3B%0A%20%20%20%20%20%20%20%20%20%20var%20cellQueryMethod%20%3D%20cellProperties%2Esearch%2EqueryMethod%20%7C%7C%20queryMethod%3B%0A%20%20%20%20%20%20%20%20%20%20var%20testResult%20%3D%20cellQueryMethod%28queryStr%2C%20cellData%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28testResult%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20singleResult%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20row%3A%20rowIndex%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20col%3A%20colIndex%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%3A%20cellData%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20queryResult%2Epush%28singleResult%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28cellCallback%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20cellCallback%28instance%2C%20rowIndex%2C%20colIndex%2C%20cellData%2C%20testResult%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20queryResult%3B%0A%0A%20%20%20%20%7D%3B%0A%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2ESearch%2EDEFAULT%5FCALLBACK%20%3D%20function%20%28instance%2C%20row%2C%20col%2C%20data%2C%20testResult%29%20%7B%0A%20%20%20%20instance%2EgetCellMeta%28row%2C%20col%29%2EisSearchResult%20%3D%20testResult%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2ESearch%2EDEFAULT%5FQUERY%5FMETHOD%20%3D%20function%20%28query%2C%20value%29%20%7B%0A%0A%20%20%20%20if%20%28typeof%20query%20%3D%3D%20%27undefined%27%20%7C%7C%20query%20%3D%3D%20null%20%7C%7C%20%21query%2EtoLowerCase%20%7C%7C%20query%2Elength%20%3D%3D%3D%200%29%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28typeof%20value%20%3D%3D%20%27undefined%27%20%7C%7C%20value%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20value%2EtoString%28%29%2EtoLowerCase%28%29%2EindexOf%28query%2EtoLowerCase%28%29%29%20%21%3D%20%2D1%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2ESearch%2EDEFAULT%5FSEARCH%5FRESULT%5FCLASS%20%3D%20%27htSearchResult%27%3B%0A%0A%20%20Handsontable%2ESearch%2Eglobal%20%3D%20%28function%20%28%29%20%7B%0A%0A%20%20%20%20var%20defaultCallback%20%3D%20Handsontable%2ESearch%2EDEFAULT%5FCALLBACK%3B%0A%20%20%20%20var%20defaultQueryMethod%20%3D%20Handsontable%2ESearch%2EDEFAULT%5FQUERY%5FMETHOD%3B%0A%20%20%20%20var%20defaultSearchResultClass%20%3D%20Handsontable%2ESearch%2EDEFAULT%5FSEARCH%5FRESULT%5FCLASS%3B%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20getDefaultCallback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20defaultCallback%3B%0A%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20setDefaultCallback%3A%20function%20%28newDefaultCallback%29%20%7B%0A%20%20%20%20%20%20%20%20defaultCallback%20%3D%20newDefaultCallback%3B%0A%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20getDefaultQueryMethod%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20defaultQueryMethod%3B%0A%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20setDefaultQueryMethod%3A%20function%20%28newDefaultQueryMethod%29%20%7B%0A%20%20%20%20%20%20%20%20defaultQueryMethod%20%3D%20newDefaultQueryMethod%3B%0A%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20getDefaultSearchResultClass%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20defaultSearchResultClass%3B%0A%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20setDefaultSearchResultClass%3A%20function%20%28newSearchResultClass%29%20%7B%0A%20%20%20%20%20%20%20%20defaultSearchResultClass%20%3D%20newSearchResultClass%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%7D%29%28%29%3B%0A%0A%0A%0A%20%20Handsontable%2ESearchCellDecorator%20%3D%20function%20%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%0A%0A%20%20%20%20var%20searchResultClass%20%3D%20%28typeof%20cellProperties%2Esearch%20%3D%3D%20%27object%27%20%26%26%20cellProperties%2Esearch%2EsearchResultClass%29%20%7C%7C%20Handsontable%2ESearch%2Eglobal%2EgetDefaultSearchResultClass%28%29%3B%0A%0A%20%20%20%20if%28cellProperties%2EisSearchResult%29%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20searchResultClass%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28TD%2C%20searchResultClass%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%0A%0A%20%20var%20originalDecorator%20%3D%20Handsontable%2Erenderers%2EcellDecorator%3B%0A%0A%20%20Handsontable%2Erenderers%2EcellDecorator%20%3D%20function%20%28instance%2C%20TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%0A%20%20%20%20originalDecorator%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%20%20Handsontable%2ESearchCellDecorator%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%7D%3B%0A%0A%20%20function%20init%28%29%20%7B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%0A%20%20%20%20var%20pluginEnabled%20%3D%20%21%21instance%2EgetSettings%28%29%2Esearch%3B%0A%0A%20%20%20%20if%20%28pluginEnabled%29%20%7B%0A%20%20%20%20%20%20instance%2Esearch%20%3D%20new%20Handsontable%2ESearch%28instance%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20delete%20instance%2Esearch%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20init%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20init%29%3B%0A%0A%0A%7D%29%28Handsontable%29%3B%0A%0Afunction%20CellInfoCollection%28%29%20%7B%0A%0A%20%20var%20collection%20%3D%20%5B%5D%3B%0A%0A%20%20collection%2EgetInfo%20%3D%20function%20%28row%2C%20col%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20this%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28this%5Bi%5D%2Erow%20%3C%3D%20row%20%26%26%20this%5Bi%5D%2Erow%20%2B%20this%5Bi%5D%2Erowspan%20%2D%201%20%3E%3D%20row%20%26%26%20this%5Bi%5D%2Ecol%20%3C%3D%20col%20%26%26%20this%5Bi%5D%2Ecol%20%2B%20this%5Bi%5D%2Ecolspan%20%2D%201%20%3E%3D%20col%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20collection%2EsetInfo%20%3D%20function%20%28info%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20this%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28this%5Bi%5D%2Erow%20%3D%3D%3D%20info%2Erow%20%26%26%20this%5Bi%5D%2Ecol%20%3D%3D%3D%20info%2Ecol%29%20%7B%0A%20%20%20%20%20%20%20%20this%5Bi%5D%20%3D%20info%3B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20this%2Epush%28info%29%3B%0A%20%20%7D%3B%0A%0A%20%20collection%2EremoveInfo%20%3D%20function%20%28row%2C%20col%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20this%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28this%5Bi%5D%2Erow%20%3D%3D%3D%20row%20%26%26%20this%5Bi%5D%2Ecol%20%3D%3D%3D%20col%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Esplice%28i%2C%201%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20return%20collection%3B%0A%0A%7D%0A%0A%0A%2F%2A%2A%0A%20%2A%20Plugin%20used%20to%20merge%20cells%20in%20Handsontable%0A%20%2A%20%40constructor%0A%20%2A%20%40private%0A%20%2A%2F%0Afunction%20MergeCells%28mergeCellsSetting%29%20%7B%0A%20%20this%2EmergedCellInfoCollection%20%3D%20new%20CellInfoCollection%28%29%3B%0A%0A%20%20if%20%28Array%2EisArray%28mergeCellsSetting%29%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20mergeCellsSetting%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20this%2EmergedCellInfoCollection%2EsetInfo%28mergeCellsSetting%5Bi%5D%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20%40param%20cellRange%20%28WalkontableCellRange%29%0A%20%2A%2F%0AMergeCells%2Eprototype%2EcanMergeRange%20%3D%20function%20%28cellRange%29%20%7B%0A%20%20%2F%2Fis%20more%20than%20one%20cell%20selected%0A%20%20return%20%21cellRange%2EisSingle%28%29%3B%0A%7D%3B%0A%0AMergeCells%2Eprototype%2EmergeRange%20%3D%20function%20%28cellRange%29%20%7B%0A%20%20if%20%28%21this%2EcanMergeRange%28cellRange%29%29%20%7B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20%2F%2Fnormalize%20top%20left%20corner%0A%20%20var%20topLeft%20%3D%20cellRange%2EgetTopLeftCorner%28%29%3B%0A%20%20var%20bottomRight%20%3D%20cellRange%2EgetBottomRightCorner%28%29%3B%0A%0A%20%20var%20mergeParent%20%3D%20%7B%7D%3B%0A%20%20mergeParent%2Erow%20%3D%20topLeft%2Erow%3B%0A%20%20mergeParent%2Ecol%20%3D%20topLeft%2Ecol%3B%0A%20%20mergeParent%2Erowspan%20%3D%20bottomRight%2Erow%20%2D%20topLeft%2Erow%20%2B%201%3B%20%2F%2FTD%20has%20rowspan%20%3D%3D%201%20by%20default%2E%20rowspan%20%3D%3D%202%20means%20spread%20over%202%20cells%0A%20%20mergeParent%2Ecolspan%20%3D%20bottomRight%2Ecol%20%2D%20topLeft%2Ecol%20%2B%201%3B%0A%20%20this%2EmergedCellInfoCollection%2EsetInfo%28mergeParent%29%3B%0A%7D%3B%0A%0AMergeCells%2Eprototype%2EmergeOrUnmergeSelection%20%3D%20function%20%28cellRange%29%20%7B%0A%20%20var%20info%20%3D%20this%2EmergedCellInfoCollection%2EgetInfo%28cellRange%2Efrom%2Erow%2C%20cellRange%2Efrom%2Ecol%29%3B%0A%20%20if%20%28info%29%20%7B%0A%20%20%20%20%2F%2Funmerge%0A%20%20%20%20this%2EunmergeSelection%28cellRange%2Efrom%29%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20%2F%2Fmerge%0A%20%20%20%20this%2EmergeSelection%28cellRange%29%3B%0A%20%20%7D%0A%7D%3B%0A%0AMergeCells%2Eprototype%2EmergeSelection%20%3D%20function%20%28cellRange%29%20%7B%0A%20%20this%2EmergeRange%28cellRange%29%3B%0A%7D%3B%0A%0AMergeCells%2Eprototype%2EunmergeSelection%20%3D%20function%20%28cellRange%29%20%7B%0A%20%20var%20info%20%3D%20this%2EmergedCellInfoCollection%2EgetInfo%28cellRange%2Erow%2C%20cellRange%2Ecol%29%3B%0A%20%20this%2EmergedCellInfoCollection%2EremoveInfo%28info%2Erow%2C%20info%2Ecol%29%3B%0A%7D%3B%0A%0AMergeCells%2Eprototype%2EapplySpanProperties%20%3D%20function%20%28TD%2C%20row%2C%20col%29%20%7B%0A%20%20var%20info%20%3D%20this%2EmergedCellInfoCollection%2EgetInfo%28row%2C%20col%29%3B%0A%0A%20%20if%20%28info%29%20%7B%0A%20%20%20%20if%20%28info%2Erow%20%3D%3D%3D%20row%20%26%26%20info%2Ecol%20%3D%3D%3D%20col%29%20%7B%0A%20%20%20%20%20%20TD%2EsetAttribute%28%27rowspan%27%2C%20info%2Erowspan%29%3B%0A%20%20%20%20%20%20TD%2EsetAttribute%28%27colspan%27%2C%20info%2Ecolspan%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20TD%2EremoveAttribute%28%27rowspan%27%29%3B%0A%20%20%20%20%20%20TD%2EremoveAttribute%28%27colspan%27%29%3B%0A%0A%20%20%20%20%20%20TD%2Estyle%2Edisplay%20%3D%20%22none%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20TD%2EremoveAttribute%28%27rowspan%27%29%3B%0A%20%20%20%20TD%2EremoveAttribute%28%27colspan%27%29%3B%0A%20%20%7D%0A%7D%3B%0A%0AMergeCells%2Eprototype%2EmodifyTransform%20%3D%20function%20%28hook%2C%20currentSelectedRange%2C%20delta%29%20%7B%0A%20%20var%20sameRowspan%20%3D%20function%20%28merged%2C%20coords%29%20%7B%0A%20%20%20%20%20%20if%20%28coords%2Erow%20%3E%3D%20merged%2Erow%20%26%26%20coords%2Erow%20%3C%3D%20%28merged%2Erow%20%2B%20merged%2Erowspan%20%2D%201%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2C%20sameColspan%20%3D%20function%20%28merged%2C%20coords%29%20%7B%0A%20%20%20%20%20%20if%20%28coords%2Ecol%20%3E%3D%20merged%2Ecol%20%26%26%20coords%2Ecol%20%3C%3D%20%28merged%2Ecol%20%2B%20merged%2Ecolspan%20%2D%201%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2C%20getNextPosition%20%3D%20function%20%28newDelta%29%20%7B%0A%20%20%20%20%20%20return%20new%20WalkontableCellCoords%28currentSelectedRange%2Eto%2Erow%20%2B%20newDelta%2Erow%2C%20currentSelectedRange%2Eto%2Ecol%20%2B%20newDelta%2Ecol%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20var%20newDelta%20%3D%20%7B%0A%20%20%20%20row%3A%20delta%2Erow%2C%0A%20%20%20%20col%3A%20delta%2Ecol%0A%20%20%7D%3B%0A%0A%0A%20%20if%20%28hook%20%3D%3D%20%27modifyTransformStart%27%29%20%7B%0A%0A%20%20%20%20if%20%28%21this%2ElastDesiredCoords%29%20%7B%0A%20%20%20%20%20%20this%2ElastDesiredCoords%20%3D%20new%20WalkontableCellCoords%28null%2C%20null%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20var%20currentPosition%20%3D%20new%20WalkontableCellCoords%28currentSelectedRange%2Ehighlight%2Erow%2C%20currentSelectedRange%2Ehighlight%2Ecol%29%0A%20%20%20%20%20%20%2C%20mergedParent%20%3D%20this%2EmergedCellInfoCollection%2EgetInfo%28currentPosition%2Erow%2C%20currentPosition%2Ecol%29%2F%2F%20if%20current%20position%27s%20parent%20is%20a%20merged%20range%2C%20returns%20it%0A%20%20%20%20%20%20%2C%20currentRangeContainsMerge%3B%20%2F%2F%20if%20current%20range%20contains%20a%20merged%20range%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20mergesLength%20%3D%20this%2EmergedCellInfoCollection%2Elength%3B%20i%20%3C%20mergesLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20var%20range%20%3D%20this%2EmergedCellInfoCollection%5Bi%5D%3B%0A%20%20%20%20%20%20range%20%3D%20new%20WalkontableCellCoords%28range%2Erow%20%2B%20range%2Erowspan%20%2D%201%2C%20range%2Ecol%20%2B%20range%2Ecolspan%20%2D%201%29%3B%0A%20%20%20%20%20%20if%20%28currentSelectedRange%2Eincludes%28range%29%29%20%7B%0A%20%20%20%20%20%20%20%20currentRangeContainsMerge%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28mergedParent%29%20%7B%20%2F%2F%20only%20merge%20selected%0A%20%20%20%20%20%20var%20mergeTopLeft%20%3D%20new%20WalkontableCellCoords%28mergedParent%2Erow%2C%20mergedParent%2Ecol%29%0A%20%20%20%20%20%20%20%20%2C%20mergeBottomRight%20%3D%20new%20WalkontableCellCoords%28mergedParent%2Erow%20%2B%20mergedParent%2Erowspan%20%2D%201%2C%20mergedParent%2Ecol%20%2B%20mergedParent%2Ecolspan%20%2D%201%29%0A%20%20%20%20%20%20%20%20%2C%20mergeRange%20%3D%20new%20WalkontableCellRange%28mergeTopLeft%2C%20mergeTopLeft%2C%20mergeBottomRight%29%3B%0A%0A%20%20%20%20%20%20if%20%28%21mergeRange%2Eincludes%28this%2ElastDesiredCoords%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2ElastDesiredCoords%20%3D%20new%20WalkontableCellCoords%28null%2C%20null%29%3B%20%2F%2F%20reset%20outdated%20version%20of%20lastDesiredCoords%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20newDelta%2Erow%20%3D%20this%2ElastDesiredCoords%2Erow%20%3F%20this%2ElastDesiredCoords%2Erow%20%2D%20currentPosition%2Erow%20%3A%20newDelta%2Erow%3B%0A%20%20%20%20%20%20newDelta%2Ecol%20%3D%20this%2ElastDesiredCoords%2Ecol%20%3F%20this%2ElastDesiredCoords%2Ecol%20%2D%20currentPosition%2Ecol%20%3A%20newDelta%2Ecol%3B%0A%0A%20%20%20%20%20%20if%20%28delta%2Erow%20%3E%200%29%20%7B%20%2F%2F%20moving%20down%0A%20%20%20%20%20%20%20%20newDelta%2Erow%20%3D%20mergedParent%2Erow%20%2B%20mergedParent%2Erowspan%20%2D%201%20%2D%20currentPosition%2Erow%20%2B%20delta%2Erow%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28delta%2Erow%20%3C%200%29%20%7B%20%2F%2Fmoving%20up%0A%20%20%20%20%20%20%20%20newDelta%2Erow%20%3D%20currentPosition%2Erow%20%2D%20mergedParent%2Erow%20%2B%20delta%2Erow%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28delta%2Ecol%20%3E%200%29%20%7B%20%2F%2F%20moving%20right%0A%20%20%20%20%20%20%20%20newDelta%2Ecol%20%3D%20mergedParent%2Ecol%20%2B%20mergedParent%2Ecolspan%20%2D%201%20%2D%20currentPosition%2Ecol%20%2B%20delta%2Ecol%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28delta%2Ecol%20%3C%200%29%20%7B%20%2F%2F%20moving%20left%0A%20%20%20%20%20%20%20%20newDelta%2Ecol%20%3D%20currentPosition%2Ecol%20%2D%20mergedParent%2Ecol%20%2B%20delta%2Ecol%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20nextPosition%20%3D%20new%20WalkontableCellCoords%28currentSelectedRange%2Ehighlight%2Erow%20%2B%20newDelta%2Erow%2C%20currentSelectedRange%2Ehighlight%2Ecol%20%2B%20newDelta%2Ecol%29%0A%20%20%20%20%20%20%2C%20nextParentIsMerged%20%3D%20this%2EmergedCellInfoCollection%2EgetInfo%28nextPosition%2Erow%2C%20nextPosition%2Ecol%29%3B%0A%0A%20%20%20%20if%20%28nextParentIsMerged%29%20%7B%20%2F%2F%20skipping%20the%20invisible%20cells%20in%20the%20merge%20range%0A%20%20%20%20%20%20this%2ElastDesiredCoords%20%3D%20nextPosition%3B%0A%20%20%20%20%20%20newDelta%20%3D%20%7B%0A%20%20%20%20%20%20%20%20row%3A%20nextParentIsMerged%2Erow%20%2D%20currentPosition%2Erow%2C%0A%20%20%20%20%20%20%20%20col%3A%20nextParentIsMerged%2Ecol%20%2D%20currentPosition%2Ecol%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%7D%20else%20if%20%28hook%20%3D%3D%20%27modifyTransformEnd%27%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20mergesLength%20%3D%20this%2EmergedCellInfoCollection%2Elength%3B%20i%20%3C%20mergesLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20var%20currentMerge%20%3D%20this%2EmergedCellInfoCollection%5Bi%5D%0A%20%20%20%20%20%20%20%20%2C%20mergeTopLeft%20%3D%20new%20WalkontableCellCoords%28currentMerge%2Erow%2C%20currentMerge%2Ecol%29%0A%20%20%20%20%20%20%20%20%2C%20mergeBottomRight%20%3D%20new%20WalkontableCellCoords%28currentMerge%2Erow%20%2B%20currentMerge%2Erowspan%20%2D%201%2C%20currentMerge%2Ecol%20%2B%20currentMerge%2Ecolspan%20%2D%201%29%0A%20%20%20%20%20%20%20%20%2C%20mergedRange%20%3D%20new%20WalkontableCellRange%28mergeTopLeft%2C%20mergeTopLeft%2C%20mergeBottomRight%29%0A%20%20%20%20%20%20%20%20%2C%20sharedBorders%20%3D%20currentSelectedRange%2EgetBordersSharedWith%28mergedRange%29%3B%0A%0A%20%20%20%20%20%20if%20%28mergedRange%2EisEqual%28currentSelectedRange%29%29%20%7B%20%2F%2F%20only%20the%20merged%20range%20is%20selected%0A%20%20%20%20%20%20%20%20currentSelectedRange%2EsetDirection%28%22NW%2DSE%22%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28sharedBorders%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20var%20mergeHighlighted%20%3D%20%28currentSelectedRange%2Ehighlight%2EisEqual%28mergedRange%2Efrom%29%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28sharedBorders%2EindexOf%28%27top%27%29%20%3E%20%2D1%29%20%7B%20%2F%2F%20if%20range%20shares%20a%20border%20with%20the%20merged%20section%2C%20change%20range%20direction%20accordingly%0A%20%20%20%20%20%20%20%20%20%20if%20%28currentSelectedRange%2Eto%2EisSouthEastOf%28mergedRange%2Efrom%29%20%26%26%20mergeHighlighted%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentSelectedRange%2EsetDirection%28%22NW%2DSE%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28currentSelectedRange%2Eto%2EisSouthWestOf%28mergedRange%2Efrom%29%20%26%26%20mergeHighlighted%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentSelectedRange%2EsetDirection%28%22NE%2DSW%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28sharedBorders%2EindexOf%28%27bottom%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28currentSelectedRange%2Eto%2EisNorthEastOf%28mergedRange%2Efrom%29%20%26%26%20mergeHighlighted%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentSelectedRange%2EsetDirection%28%22SW%2DNE%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28currentSelectedRange%2Eto%2EisNorthWestOf%28mergedRange%2Efrom%29%20%26%26%20mergeHighlighted%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentSelectedRange%2EsetDirection%28%22SE%2DNW%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20nextPosition%20%3D%20getNextPosition%28newDelta%29%0A%20%20%20%20%20%20%20%20%2C%20withinRowspan%20%3D%20sameRowspan%28currentMerge%2C%20nextPosition%29%0A%20%20%20%20%20%20%20%20%2C%20withinColspan%20%3D%20sameColspan%28currentMerge%2C%20nextPosition%29%3B%0A%0A%20%20%20%20%20%20if%20%28currentSelectedRange%2EincludesRange%28mergedRange%29%20%26%26%20%28mergedRange%2Eincludes%28nextPosition%29%20%7C%7C%20withinRowspan%20%7C%7C%20withinColspan%29%29%20%7B%20%2F%2F%20if%20next%20step%20overlaps%20a%20merged%20range%2C%20jump%20past%20it%0A%20%20%20%20%20%20%20%20if%20%28withinRowspan%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28newDelta%2Erow%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newDelta%2Erow%20%2D%3D%20currentMerge%2Erowspan%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28newDelta%2Erow%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newDelta%2Erow%20%2B%3D%20currentMerge%2Erowspan%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28withinColspan%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28newDelta%2Ecol%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newDelta%2Ecol%20%2D%3D%20currentMerge%2Ecolspan%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28newDelta%2Ecol%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newDelta%2Ecol%20%2B%3D%20currentMerge%2Ecolspan%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%20%28newDelta%2Erow%20%21%3D%3D%200%29%20%7B%0A%20%20%20%20delta%2Erow%20%3D%20newDelta%2Erow%3B%0A%20%20%7D%0A%20%20if%20%28newDelta%2Ecol%20%21%3D%3D%200%29%20%7B%0A%20%20%20%20delta%2Ecol%20%3D%20newDelta%2Ecol%3B%0A%20%20%7D%0A%7D%3B%0A%0Aif%20%28typeof%20Handsontable%20%3D%3D%20%27undefined%27%29%20%7B%0A%20%20throw%20new%20Error%28%27Handsontable%20is%20not%20defined%27%29%3B%0A%7D%0A%0Avar%20beforeInit%20%3D%20function%20%28%29%20%7B%0A%20%20var%20instance%20%3D%20this%3B%0A%20%20var%20mergeCellsSetting%20%3D%20instance%2EgetSettings%28%29%2EmergeCells%3B%0A%0A%20%20if%20%28mergeCellsSetting%29%20%7B%0A%20%20%20%20if%20%28%21instance%2EmergeCells%29%20%7B%0A%20%20%20%20%20%20instance%2EmergeCells%20%3D%20new%20MergeCells%28mergeCellsSetting%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0Avar%20afterInit%20%3D%20function%20%28%29%20%7B%0A%20%20var%20instance%20%3D%20this%3B%0A%20%20if%20%28instance%2EmergeCells%29%20%7B%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Monkey%20patch%20WalkontableTable%2Eprototype%2EgetCell%20to%20return%20TD%20for%20merged%20cell%20parent%20if%20asked%20for%20TD%20of%20a%20cell%20that%20is%0A%20%20%20%20%20%2A%20invisible%20due%20to%20the%20merge%2E%20This%20is%20not%20the%20cleanest%20solution%20but%20there%20is%20a%20test%20case%20for%20it%20%28merged%20cells%20scroll%29%20so%20feel%20free%20to%20refactor%20it%21%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20instance%2Eview%2Ewt%2EwtTable%2EgetCell%20%3D%20function%20%28coords%29%20%7B%0A%20%20%20%20%20%20if%20%28instance%2EgetSettings%28%29%2EmergeCells%29%20%7B%0A%20%20%20%20%20%20%20%20var%20mergeParent%20%3D%20instance%2EmergeCells%2EmergedCellInfoCollection%2EgetInfo%28coords%2Erow%2C%20coords%2Ecol%29%3B%0A%20%20%20%20%20%20%20%20if%20%28mergeParent%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20coords%20%3D%20mergeParent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20WalkontableTable%2Eprototype%2EgetCell%2Ecall%28this%2C%20coords%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%7D%3B%0A%0Avar%20onBeforeKeyDown%20%3D%20function%20%28event%29%20%7B%0A%20%20if%20%28%21this%2EmergeCells%29%20%7B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20var%20ctrlDown%20%3D%20%28event%2EctrlKey%20%7C%7C%20event%2EmetaKey%29%20%26%26%20%21event%2EaltKey%3B%0A%0A%20%20if%20%28ctrlDown%29%20%7B%0A%20%20%20%20if%20%28event%2EkeyCode%20%3D%3D%3D%2077%29%20%7B%20%2F%2FCTRL%20%2B%20M%0A%20%20%20%20%20%20this%2EmergeCells%2EmergeOrUnmergeSelection%28this%2EgetSelectedRange%28%29%29%3B%0A%20%20%20%20%20%20this%2Erender%28%29%3B%0A%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0Avar%20addMergeActionsToContextMenu%20%3D%20function%20%28defaultOptions%29%20%7B%0A%20%20if%20%28%21this%2EgetSettings%28%29%2EmergeCells%29%20%7B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20defaultOptions%2Eitems%2Epush%28Handsontable%2EContextMenu%2ESEPARATOR%29%3B%0A%0A%20%20defaultOptions%2Eitems%2Epush%28%7B%0A%20%20%20%20key%3A%20%27mergeCells%27%2C%0A%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20sel%20%3D%20this%2EgetSelected%28%29%3B%0A%20%20%20%20%20%20var%20info%20%3D%20this%2EmergeCells%2EmergedCellInfoCollection%2EgetInfo%28sel%5B0%5D%2C%20sel%5B1%5D%29%3B%0A%20%20%20%20%20%20if%20%28info%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%27Unmerge%20cells%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%27Merge%20cells%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20this%2EmergeCells%2EmergeOrUnmergeSelection%28this%2EgetSelectedRange%28%29%29%3B%0A%20%20%20%20%20%20this%2Erender%28%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%7D%3B%0A%0Avar%20afterRenderer%20%3D%20function%20%28TD%2C%20row%2C%20col%2C%20prop%2C%20value%2C%20cellProperties%29%20%7B%0A%20%20if%20%28this%2EmergeCells%29%20%7B%0A%20%20%20%20this%2EmergeCells%2EapplySpanProperties%28TD%2C%20row%2C%20col%29%3B%0A%20%20%7D%0A%7D%3B%0A%0Avar%20modifyTransformFactory%20%3D%20function%20%28hook%29%20%7B%0A%20%20return%20function%20%28delta%29%20%7B%0A%20%20%20%20var%20mergeCellsSetting%20%3D%20this%2EgetSettings%28%29%2EmergeCells%3B%0A%20%20%20%20if%20%28mergeCellsSetting%29%20%7B%0A%20%20%20%20%20%20var%20currentSelectedRange%20%3D%20this%2EgetSelectedRange%28%29%3B%0A%20%20%20%20%20%20this%2EmergeCells%2EmodifyTransform%28hook%2C%20currentSelectedRange%2C%20delta%29%3B%0A%0A%20%20%20%20%20%20if%20%28hook%20%3D%3D%3D%20%22modifyTransformEnd%22%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2Fsanitize%20%22from%22%20%28core%2Ejs%20will%20sanitize%20to%29%0A%20%20%20%20%20%20%20%20var%20totalRows%20%3D%20this%2EcountRows%28%29%3B%0A%20%20%20%20%20%20%20%20var%20totalCols%20%3D%20this%2EcountCols%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28currentSelectedRange%2Efrom%2Erow%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentSelectedRange%2Efrom%2Erow%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28currentSelectedRange%2Efrom%2Erow%20%3E%200%20%26%26%20currentSelectedRange%2Efrom%2Erow%20%3E%3D%20totalRows%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentSelectedRange%2Efrom%2Erow%20%3D%20currentSelectedRange%2Efrom%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28currentSelectedRange%2Efrom%2Ecol%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentSelectedRange%2Efrom%2Ecol%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28currentSelectedRange%2Efrom%2Ecol%20%3E%200%20%26%26%20currentSelectedRange%2Efrom%2Ecol%20%3E%3D%20totalCols%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentSelectedRange%2Efrom%2Ecol%20%3D%20totalCols%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20While%20selecting%20cells%20with%20keyboard%20or%20mouse%2C%20make%20sure%20that%20rectangular%20area%20is%20expanded%20to%20the%20extent%20of%20the%20merged%20cell%0A%20%2A%20%40param%20coords%0A%20%2A%2F%0Avar%20beforeSetRangeEnd%20%3D%20function%20%28coords%29%20%7B%0A%0A%20%20this%2ElastDesiredCoords%20%3D%20null%3B%20%2F%2Funset%20lastDesiredCoords%20when%20selection%20is%20changed%20with%20mouse%0A%20%20var%20mergeCellsSetting%20%3D%20this%2EgetSettings%28%29%2EmergeCells%3B%0A%20%20if%20%28mergeCellsSetting%29%20%7B%0A%20%20%20%20var%20selRange%20%3D%20this%2EgetSelectedRange%28%29%3B%0A%20%20%20%20selRange%2Ehighlight%20%3D%20new%20WalkontableCellCoords%28selRange%2Ehighlight%2Erow%2C%20selRange%2Ehighlight%2Ecol%29%3B%20%2F%2Fclone%20in%20case%20we%20will%20modify%20its%20reference%0A%20%20%20%20selRange%2Eto%20%3D%20coords%3B%0A%0A%20%20%20%20var%20rangeExpanded%20%3D%20false%3B%0A%20%20%20%20do%20%7B%0A%20%20%20%20%20%20rangeExpanded%20%3D%20false%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20this%2EmergeCells%2EmergedCellInfoCollection%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20var%20cellInfo%20%3D%20this%2EmergeCells%2EmergedCellInfoCollection%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20mergedCellTopLeft%20%3D%20new%20WalkontableCellCoords%28cellInfo%2Erow%2C%20cellInfo%2Ecol%29%3B%0A%20%20%20%20%20%20%20%20var%20mergedCellBottomRight%20%3D%20new%20WalkontableCellCoords%28cellInfo%2Erow%20%2B%20cellInfo%2Erowspan%20%2D%201%2C%20cellInfo%2Ecol%20%2B%20cellInfo%2Ecolspan%20%2D%201%29%3B%0A%0A%20%20%20%20%20%20%20%20var%20mergedCellRange%20%3D%20new%20WalkontableCellRange%28mergedCellTopLeft%2C%20mergedCellTopLeft%2C%20mergedCellBottomRight%29%3B%0A%20%20%20%20%20%20%20%20if%20%28selRange%2EexpandByRange%28mergedCellRange%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20coords%2Erow%20%3D%20selRange%2Eto%2Erow%3B%0A%20%20%20%20%20%20%20%20%20%20coords%2Ecol%20%3D%20selRange%2Eto%2Ecol%3B%0A%0A%20%20%20%20%20%20%20%20%20%20rangeExpanded%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20while%20%28rangeExpanded%29%3B%0A%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20correct%20coordinates%20for%20merged%20start%20%2F%20end%20cells%20in%20selection%20for%20area%20borders%0A%20%2A%20%40param%20corners%0A%20%2A%20%40param%20className%0A%20%2A%2F%0Avar%20beforeDrawAreaBorders%20%3D%20function%20%28corners%2C%20className%29%20%7B%0A%20%20if%20%28className%20%26%26%20className%20%3D%3D%20%27area%27%29%20%7B%0A%20%20%20%20var%20mergeCellsSetting%20%3D%20this%2EgetSettings%28%29%2EmergeCells%3B%0A%20%20%20%20if%20%28mergeCellsSetting%29%20%7B%0A%20%20%20%20%20%20var%20selRange%20%3D%20this%2EgetSelectedRange%28%29%3B%0A%20%20%20%20%20%20var%20startRange%20%3D%20new%20WalkontableCellRange%28selRange%2Efrom%2C%20selRange%2Efrom%2C%20selRange%2Efrom%29%3B%0A%20%20%20%20%20%20var%20stopRange%20%3D%20new%20WalkontableCellRange%28selRange%2Eto%2C%20selRange%2Eto%2C%20selRange%2Eto%29%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20this%2EmergeCells%2EmergedCellInfoCollection%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20var%20cellInfo%20%3D%20this%2EmergeCells%2EmergedCellInfoCollection%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20var%20mergedCellTopLeft%20%3D%20new%20WalkontableCellCoords%28cellInfo%2Erow%2C%20cellInfo%2Ecol%29%3B%0A%20%20%20%20%20%20%20%20var%20mergedCellBottomRight%20%3D%20new%20WalkontableCellCoords%28cellInfo%2Erow%20%2B%20cellInfo%2Erowspan%20%2D%201%2C%20cellInfo%2Ecol%20%2B%20cellInfo%2Ecolspan%20%2D%201%29%3B%0A%20%20%20%20%20%20%20%20var%20mergedCellRange%20%3D%20new%20WalkontableCellRange%28mergedCellTopLeft%2C%20mergedCellTopLeft%2C%20mergedCellBottomRight%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28startRange%2EexpandByRange%28mergedCellRange%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20corners%5B0%5D%20%3D%20startRange%2Efrom%2Erow%3B%0A%20%20%20%20%20%20%20%20%20%20corners%5B1%5D%20%3D%20startRange%2Efrom%2Ecol%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28stopRange%2EexpandByRange%28mergedCellRange%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20corners%5B2%5D%20%3D%20stopRange%2Efrom%2Erow%3B%0A%20%20%20%20%20%20%20%20%20%20corners%5B3%5D%20%3D%20stopRange%2Efrom%2Ecol%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0Avar%20afterGetCellMeta%20%3D%20function%20%28row%2C%20col%2C%20cellProperties%29%20%7B%0A%20%20var%20mergeCellsSetting%20%3D%20this%2EgetSettings%28%29%2EmergeCells%3B%0A%20%20if%20%28mergeCellsSetting%29%20%7B%0A%20%20%20%20var%20mergeParent%20%3D%20this%2EmergeCells%2EmergedCellInfoCollection%2EgetInfo%28row%2C%20col%29%3B%0A%20%20%20%20if%20%28mergeParent%20%26%26%20%28mergeParent%2Erow%20%21%3D%20row%20%7C%7C%20mergeParent%2Ecol%20%21%3D%20col%29%29%20%7B%0A%20%20%20%20%20%20cellProperties%2Ecopyable%20%3D%20false%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0Avar%20afterViewportRowCalculatorOverride%20%3D%20function%20%28calc%29%20%7B%0A%20%20var%20mergeCellsSetting%20%3D%20this%2EgetSettings%28%29%2EmergeCells%3B%0A%20%20if%20%28mergeCellsSetting%29%20%7B%0A%20%20%20%20var%20colCount%20%3D%20this%2EcountCols%28%29%3B%0A%20%20%20%20var%20mergeParent%3B%0A%20%20%20%20for%20%28var%20c%20%3D%200%3B%20c%20%3C%20colCount%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20mergeParent%20%3D%20this%2EmergeCells%2EmergedCellInfoCollection%2EgetInfo%28calc%2EstartRow%2C%20c%29%3B%0A%20%20%20%20%20%20if%20%28mergeParent%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28mergeParent%2Erow%20%3C%20calc%2EstartRow%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20calc%2EstartRow%20%3D%20mergeParent%2Erow%3B%0A%20%20%20%20%20%20%20%20%20%20return%20afterViewportRowCalculatorOverride%2Ecall%28this%2C%20calc%29%3B%20%2F%2Frecursively%20search%20upwards%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20mergeParent%20%3D%20this%2EmergeCells%2EmergedCellInfoCollection%2EgetInfo%28calc%2EendRow%2C%20c%29%3B%0A%20%20%20%20%20%20if%20%28mergeParent%29%20%7B%0A%20%20%20%20%20%20%20%20var%20mergeEnd%20%3D%20mergeParent%2Erow%20%2B%20mergeParent%2Erowspan%20%2D%201%3B%0A%20%20%20%20%20%20%20%20if%20%28mergeEnd%20%3E%20calc%2EendRow%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20calc%2EendRow%20%3D%20mergeEnd%3B%0A%20%20%20%20%20%20%20%20%20%20return%20afterViewportRowCalculatorOverride%2Ecall%28this%2C%20calc%29%3B%20%2F%2Frecursively%20search%20upwards%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0Avar%20afterViewportColumnCalculatorOverride%20%3D%20function%20%28calc%29%20%7B%0A%20%20var%20mergeCellsSetting%20%3D%20this%2EgetSettings%28%29%2EmergeCells%3B%0A%20%20if%20%28mergeCellsSetting%29%20%7B%0A%20%20%20%20var%20rowCount%20%3D%20this%2EcountRows%28%29%3B%0A%20%20%20%20var%20mergeParent%3B%0A%20%20%20%20for%20%28var%20r%20%3D%200%3B%20r%20%3C%20rowCount%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20%20%20mergeParent%20%3D%20this%2EmergeCells%2EmergedCellInfoCollection%2EgetInfo%28r%2C%20calc%2EstartColumn%29%3B%0A%0A%20%20%20%20%20%20if%20%28mergeParent%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28mergeParent%2Ecol%20%3C%20calc%2EstartColumn%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20calc%2EstartColumn%20%3D%20mergeParent%2Ecol%3B%0A%20%20%20%20%20%20%20%20%20%20return%20afterViewportColumnCalculatorOverride%2Ecall%28this%2C%20calc%29%3B%20%2F%2Frecursively%20search%20upwards%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20mergeParent%20%3D%20this%2EmergeCells%2EmergedCellInfoCollection%2EgetInfo%28r%2C%20calc%2EendColumn%29%3B%0A%20%20%20%20%20%20if%20%28mergeParent%29%20%7B%0A%20%20%20%20%20%20%20%20var%20mergeEnd%20%3D%20mergeParent%2Ecol%20%2B%20mergeParent%2Ecolspan%20%2D%201%3B%0A%20%20%20%20%20%20%20%20if%20%28mergeEnd%20%3E%20calc%2EendColumn%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20calc%2EendColumn%20%3D%20mergeEnd%3B%0A%20%20%20%20%20%20%20%20%20%20return%20afterViewportColumnCalculatorOverride%2Ecall%28this%2C%20calc%29%3B%20%2F%2Frecursively%20search%20upwards%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0Avar%20isMultipleSelection%20%3D%20function%20%28isMultiple%29%20%7B%0A%20%20if%20%28isMultiple%20%26%26%20this%2EmergeCells%29%20%7B%0A%20%20%20%20var%20mergedCells%20%3D%20this%2EmergeCells%2EmergedCellInfoCollection%0A%20%20%20%20%20%20%2C%20selectionRange%20%3D%20this%2EgetSelectedRange%28%29%3B%0A%0A%20%20%20%20for%20%28var%20group%20in%20mergedCells%29%20%7B%0A%20%20%20%20%20%20if%20%28selectionRange%2Ehighlight%2Erow%20%3D%3D%20mergedCells%5Bgroup%5D%2Erow%20%26%26%20selectionRange%2Ehighlight%2Ecol%20%3D%3D%20mergedCells%5Bgroup%5D%2Ecol%20%26%26%0A%20%20%20%20%20%20%20%20%20%20selectionRange%2Eto%2Erow%20%3D%3D%20mergedCells%5Bgroup%5D%2Erow%20%2B%20mergedCells%5Bgroup%5D%2Erowspan%20%2D%201%20%26%26%0A%20%20%20%20%20%20%20%20%20%20selectionRange%2Eto%2Ecol%20%3D%3D%20mergedCells%5Bgroup%5D%2Ecol%20%2B%20mergedCells%5Bgroup%5D%2Ecolspan%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20isMultiple%3B%0A%7D%3B%0A%0AHandsontable%2Ehooks%2Eadd%28%27beforeInit%27%2C%20beforeInit%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20afterInit%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27beforeKeyDown%27%2C%20onBeforeKeyDown%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27modifyTransformStart%27%2C%20modifyTransformFactory%28%27modifyTransformStart%27%29%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27modifyTransformEnd%27%2C%20modifyTransformFactory%28%27modifyTransformEnd%27%29%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27beforeSetRangeEnd%27%2C%20beforeSetRangeEnd%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27beforeDrawBorders%27%2C%20beforeDrawAreaBorders%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterIsMultipleSelection%27%2C%20isMultipleSelection%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterRenderer%27%2C%20afterRenderer%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterContextMenuDefaultOptions%27%2C%20addMergeActionsToContextMenu%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterGetCellMeta%27%2C%20afterGetCellMeta%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterViewportRowCalculatorOverride%27%2C%20afterViewportRowCalculatorOverride%29%3B%0AHandsontable%2Ehooks%2Eadd%28%27afterViewportColumnCalculatorOverride%27%2C%20afterViewportColumnCalculatorOverride%29%3B%0A%0AHandsontable%2EMergeCells%20%3D%20MergeCells%3B%0A%0A%0A%28function%20%28%29%20%7B%0A%0A%20%20function%20CustomBorders%20%28%29%20%7B%0A%0A%20%20%7D%0A%0A%2F%2F%20%20%2F%2A%2A%2A%0A%2F%2F%20%20%20%2A%20Array%20for%20all%20custom%20border%20objects%20%28for%20redraw%29%0A%2F%2F%20%20%20%2A%20%40type%20%7B%7B%7D%7D%0A%2F%2F%20%20%20%2A%2F%0A%2F%2F%20%20var%20bordersArray%20%3D%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%2F%2A%2A%2A%0A%20%20%20%20%20%2A%20Current%20instance%20%28table%20where%20borders%20should%20be%20placed%29%0A%20%20%20%20%20%2A%2F%0A%20%20var%20instance%3B%0A%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Check%20if%20plugin%20should%20be%20enabled%0A%20%20%20%2A%2F%0A%20%20var%20checkEnable%20%3D%20function%20%28customBorders%29%20%7B%0A%20%20%20%20if%28typeof%20customBorders%20%3D%3D%3D%20%22boolean%22%29%7B%0A%20%20%20%20%20%20if%20%28customBorders%20%3D%3D%3D%20true%29%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28typeof%20customBorders%20%3D%3D%3D%20%22object%22%29%7B%0A%20%20%20%20%20%20if%28customBorders%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20false%3B%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Initialize%20plugin%0A%20%20%20%20%2A%2F%0A%20%20var%20init%20%3D%20function%20%28%29%20%7B%0A%0A%20%20%20%20if%28checkEnable%28this%2EgetSettings%28%29%2EcustomBorders%29%29%7B%0A%20%20%20%20%20%20if%28%21this%2EcustomBorders%29%7B%0A%20%20%20%20%20%20%20%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20%20%20this%2EcustomBorders%20%3D%20new%20CustomBorders%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%09%2F%2A%2A%2A%0A%09%20%2A%20get%20index%20of%20border%20setting%0A%09%20%2A%20%40param%20className%0A%09%20%2A%20%40returns%20%7Bnumber%7D%0A%09%20%2A%2F%0A%09var%20getSettingIndex%20%3D%20function%20%28className%29%20%7B%0A%09%09for%20%28var%20i%20%3D%200%3B%20i%20%3C%20instance%2Eview%2Ewt%2Eselections%2Elength%3B%20i%2B%2B%29%7B%0A%09%09%09if%20%28instance%2Eview%2Ewt%2Eselections%5Bi%5D%2Esettings%2EclassName%20%3D%3D%20className%29%7B%0A%09%09%09%09return%20i%3B%0A%09%09%09%7D%0A%09%09%7D%0A%09%09return%20%2D1%3B%0A%09%7D%3B%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Insert%20WalkontableSelection%20instance%20into%20Walkontable%2Esettings%0A%20%20%20%2A%20%40param%20border%0A%20%20%20%2A%2F%0A%20%20var%20insertBorderIntoSettings%20%3D%20function%20%28border%29%20%7B%0A%20%20%20%20var%20coordinates%20%3D%20%7B%0A%20%20%20%20%20%20row%3A%20border%2Erow%2C%0A%20%20%20%20%20%20col%3A%20border%2Ecol%0A%20%20%20%20%7D%3B%0A%20%20%20%20var%20selection%20%3D%20new%20WalkontableSelection%28border%2C%20new%20WalkontableCellRange%28coordinates%2C%20coordinates%2C%20coordinates%29%29%3B%0A%09%09var%20index%20%3D%20getSettingIndex%28border%2EclassName%29%3B%0A%0A%09%09if%28index%20%3E%3D0%29%20%7B%0A%09%09%09instance%2Eview%2Ewt%2Eselections%5Bindex%5D%20%3D%20selection%3B%0A%09%09%7D%20else%20%7B%0A%09%09%09instance%2Eview%2Ewt%2Eselections%2Epush%28selection%29%3B%0A%09%09%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Prepare%20borders%20from%20setting%20%28single%20cell%29%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20row%0A%20%20%20%2A%20%40param%20col%0A%20%20%20%2A%20%40param%20borderObj%0A%20%20%20%2A%2F%0A%20%20var%20prepareBorderFromCustomAdded%20%3D%20function%20%28row%2C%20col%2C%20borderObj%29%7B%0A%20%20%20%20var%20border%20%3D%20createEmptyBorders%28row%2C%20col%29%3B%0A%20%20%20%20border%20%3D%20extendDefaultBorder%28border%2C%20borderObj%29%3B%0A%20%20%20%20this%2EsetCellMeta%28row%2C%20col%2C%20%27borders%27%2C%20border%29%3B%0A%0A%20%20%20%20insertBorderIntoSettings%28border%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Prepare%20borders%20from%20setting%20%28object%29%0A%20%20%20%2A%20%40param%20rowObj%0A%20%20%20%2A%2F%0A%20%20var%20prepareBorderFromCustomAddedRange%20%3D%20function%20%28rowObj%29%20%7B%0A%20%20%20%20var%20range%20%3D%20rowObj%2Erange%3B%0A%0A%20%20%20%20for%20%28var%20row%20%3D%20range%2Efrom%2Erow%3B%20row%20%3C%3D%20range%2Eto%2Erow%3B%20row%20%2B%2B%29%20%7B%0A%20%20%20%20%20%20for%20%28var%20col%20%3D%20range%2Efrom%2Ecol%3B%20col%3C%3D%20range%2Eto%2Ecol%3B%20col%2B%2B%29%7B%0A%0A%20%20%20%20%20%20%20%20var%20border%20%3D%20createEmptyBorders%28row%2C%20col%29%3B%0A%20%20%20%20%20%20%20%20var%20add%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20if%28row%20%3D%3D%20range%2Efrom%2Erow%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20add%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20if%28rowObj%2EhasOwnProperty%28%27top%27%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%2Etop%20%3D%20rowObj%2Etop%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%28row%20%3D%3D%20range%2Eto%2Erow%29%7B%0A%20%20%20%20%20%20%20%20%20%20add%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20if%28rowObj%2EhasOwnProperty%28%27bottom%27%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%2Ebottom%20%3D%20rowObj%2Ebottom%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%28col%20%3D%3D%20range%2Efrom%2Ecol%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20add%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20if%28rowObj%2EhasOwnProperty%28%27left%27%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%2Eleft%20%3D%20rowObj%2Eleft%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20if%20%28col%20%3D%3D%20range%2Eto%2Ecol%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20add%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20if%28rowObj%2EhasOwnProperty%28%27right%27%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%2Eright%20%3D%20rowObj%2Eright%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0A%20%20%20%20%20%20%20%20if%28add%3E0%29%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EsetCellMeta%28row%2C%20col%2C%20%27borders%27%2C%20border%29%3B%0A%20%20%20%20%20%20%20%20%20%20insertBorderIntoSettings%28border%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Create%20separated%20class%20name%20for%20borders%20for%20each%20cell%0A%20%20%20%2A%20%40param%20row%0A%20%20%20%2A%20%40param%20col%0A%20%20%20%2A%20%40returns%20%7Bstring%7D%0A%20%20%20%2A%2F%0A%20%20var%20createClassName%20%3D%20function%20%28row%2C%20col%29%20%7B%0A%20%20%20%20return%20%22border%5Frow%22%20%2B%20row%20%2B%20%22col%22%20%2B%20col%3B%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Create%20default%20single%20border%20for%20each%20position%20%28top%2Fright%2Fbottom%2Fleft%29%0A%20%20%20%2A%20%40returns%20%7B%7Bwidth%3A%20number%2C%20color%3A%20string%7D%7D%0A%20%20%20%2A%2F%0A%20%20var%20createDefaultCustomBorder%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20width%3A%201%2C%0A%20%20%20%20%20%20color%3A%20%27%23000%27%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Create%20default%20object%20for%20empty%20border%0A%20%20%20%2A%20%40returns%20%7B%7Bhide%3A%20boolean%7D%7D%0A%20%20%20%2A%2F%0A%20%20var%20createSingleEmptyBorder%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20hide%3A%20true%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Create%20default%20Handsontable%20border%20object%0A%20%20%20%2A%20%40returns%20%7B%7Bwidth%3A%20number%2C%20color%3A%20string%2C%20cornerVisible%3A%20boolean%7D%7D%0A%20%20%20%2A%2F%0A%20%20var%20createDefaultHtBorder%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20width%3A%201%2C%0A%20%20%20%20%20%20color%3A%20%27%23000%27%2C%0A%20%20%20%20%20%20cornerVisible%3A%20false%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Prepare%20empty%20border%20for%20each%20cell%20with%20all%20custom%20borders%20hidden%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20row%0A%20%20%20%2A%20%40param%20col%0A%20%20%20%2A%20%40returns%20%7B%7BclassName%3A%20%2A%2C%20border%3A%20%2A%2C%20row%3A%20%2A%2C%20col%3A%20%2A%2C%20top%3A%20%7Bhide%3A%20boolean%7D%2C%20right%3A%20%7Bhide%3A%20boolean%7D%2C%20bottom%3A%20%7Bhide%3A%20boolean%7D%2C%20left%3A%20%7Bhide%3A%20boolean%7D%7D%7D%0A%20%20%20%2A%2F%0A%20%20var%20createEmptyBorders%20%3D%20function%20%28row%2C%20col%29%7B%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20className%3A%20createClassName%28row%2C%20col%29%2C%0A%20%20%20%20%20%20border%3A%20createDefaultHtBorder%28%29%2C%0A%20%20%20%20%20%20row%3A%20row%2C%0A%20%20%20%20%20%20col%3A%20col%2C%0A%20%20%20%20%20%20top%3A%20createSingleEmptyBorder%28%29%2C%0A%20%20%20%20%20%20right%3A%20createSingleEmptyBorder%28%29%2C%0A%20%20%20%20%20%20bottom%3A%20createSingleEmptyBorder%28%29%2C%0A%20%20%20%20%20%20left%3A%20createSingleEmptyBorder%28%29%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%0A%20%20var%20extendDefaultBorder%20%3D%20function%20%28defaultBorder%2C%20customBorder%29%7B%0A%0A%20%20%20%20if%28customBorder%2EhasOwnProperty%28%27border%27%29%29%7B%0A%20%20%20%20%20%20defaultBorder%2Eborder%20%3D%20customBorder%2Eborder%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28customBorder%2EhasOwnProperty%28%27top%27%29%29%7B%0A%20%20%20%20%20%20defaultBorder%2Etop%20%3D%20customBorder%2Etop%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28customBorder%2EhasOwnProperty%28%27right%27%29%29%7B%0A%20%20%20%20%20%20defaultBorder%2Eright%20%3D%20customBorder%2Eright%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28customBorder%2EhasOwnProperty%28%27bottom%27%29%29%7B%0A%20%20%20%20%20%20defaultBorder%2Ebottom%20%3D%20customBorder%2Ebottom%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28customBorder%2EhasOwnProperty%28%27left%27%29%29%7B%0A%20%20%20%20%20%20defaultBorder%2Eleft%20%3D%20customBorder%2Eleft%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20defaultBorder%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Remove%20borders%20divs%20from%20DOM%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20borderClassName%0A%20%20%20%2A%2F%0A%20%20var%20removeBordersFromDom%20%3D%20function%20%28borderClassName%29%20%7B%0A%09%20%20var%20borders%20%3D%20document%2EquerySelectorAll%28%22%2E%22%20%2B%20borderClassName%29%3B%0A%0A%09%09for%28var%20i%20%3D%200%3B%20i%3C%20borders%2Elength%3B%20i%2B%2B%29%20%7B%0A%09%09%09if%20%28borders%5Bi%5D%29%20%7B%0A%09%09%09%09if%28borders%5Bi%5D%2EnodeName%20%21%3D%20%27TD%27%29%20%7B%0A%09%09%09%09%09var%20parent%20%3D%20borders%5Bi%5D%2EparentNode%3B%0A%20%20%20%20%20%20%20%20%20%20if%28parent%2EparentNode%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20parent%2EparentNode%2EremoveChild%28parent%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%09%09%09%09%7D%0A%09%09%09%7D%0A%09%09%7D%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Remove%20border%20%28triggered%20from%20context%20menu%29%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20row%0A%20%20%20%2A%20%40param%20col%0A%20%20%20%2A%2F%0A%20%20var%20removeAllBorders%20%3D%20function%28row%2Ccol%29%20%7B%0A%20%20%20%20var%20borderClassName%20%3D%20createClassName%28row%2Ccol%29%3B%0A%20%20%20%20removeBordersFromDom%28borderClassName%29%3B%0A%20%20%20%20this%2EremoveCellMeta%28row%2C%20col%2C%20%27borders%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Set%20borders%20for%20each%20cell%20re%2E%20to%20border%20position%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20row%0A%20%20%20%2A%20%40param%20col%0A%20%20%20%2A%20%40param%20place%0A%20%20%20%2A%20%40param%20remove%0A%20%20%20%2A%2F%0A%20%20var%20setBorder%20%3D%20function%20%28row%2C%20col%2Cplace%2C%20remove%29%7B%0A%0A%20%20%20%20var%20bordersMeta%20%3D%20this%2EgetCellMeta%28row%2C%20col%29%2Eborders%3B%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20if%20%28%21bordersMeta%20%7C%7C%20bordersMeta%2Eborder%20%3D%3D%20undefined%29%7B%0A%20%20%20%20%20%20bordersMeta%20%3D%20createEmptyBorders%28row%2C%20col%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%0A%20%20%20%20if%20%28remove%29%20%7B%0A%20%20%20%20%20%20bordersMeta%5Bplace%5D%20%3D%20createSingleEmptyBorder%28%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20bordersMeta%5Bplace%5D%20%3D%20createDefaultCustomBorder%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2EsetCellMeta%28row%2C%20col%2C%20%27borders%27%2C%20bordersMeta%29%3B%0A%0A%20%20%20%20var%20borderClassName%20%3D%20createClassName%28row%2Ccol%29%3B%0A%20%20%20%20removeBordersFromDom%28borderClassName%29%3B%0A%09%09insertBorderIntoSettings%28bordersMeta%29%3B%0A%0A%20%20%20%20this%2Erender%28%29%3B%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Prepare%20borders%20based%20on%20cell%20and%20border%20position%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20range%0A%20%20%20%2A%20%40param%20place%0A%20%20%20%2A%20%40param%20remove%0A%20%20%20%2A%2F%0A%20%20var%20prepareBorder%20%3D%20function%20%28range%2C%20place%2C%20remove%29%20%7B%0A%0A%09%09if%20%28range%2Efrom%2Erow%20%3D%3D%20range%2Eto%2Erow%20%26%26%20range%2Efrom%2Ecol%20%3D%3D%20range%2Eto%2Ecol%29%7B%0A%20%20%20%20%20%20if%28place%20%3D%3D%20%22noBorders%22%29%7B%0A%20%20%20%20%20%20%20%20removeAllBorders%2Ecall%28this%2C%20range%2Efrom%2Erow%2C%20range%2Efrom%2Ecol%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20setBorder%2Ecall%28this%2C%20range%2Efrom%2Erow%2C%20range%2Efrom%2Ecol%2C%20place%2C%20remove%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20switch%20%28place%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%22noBorders%22%3A%0A%20%20%20%20%20%20%20%20%20%20for%28var%20column%20%3D%20range%2Efrom%2Ecol%3B%20column%20%3C%3D%20range%2Eto%2Ecol%3B%20column%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%28var%20row%20%3D%20range%2Efrom%2Erow%3B%20row%20%3C%3D%20range%2Eto%2Erow%3B%20row%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeAllBorders%2Ecall%28this%2C%20row%2C%20column%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22top%22%3A%0A%20%20%20%20%20%20%20%20%20%20for%28var%20topCol%20%3D%20range%2Efrom%2Ecol%3B%20topCol%20%3C%3D%20range%2Eto%2Ecol%3B%20topCol%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20setBorder%2Ecall%28this%2C%20range%2Efrom%2Erow%2C%20topCol%2C%20place%2C%20remove%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22right%22%3A%0A%20%20%20%20%20%20%20%20%20%20for%28var%20rowRight%20%3D%20range%2Efrom%2Erow%3B%20rowRight%20%3C%3Drange%2Eto%2Erow%3B%20rowRight%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20setBorder%2Ecall%28this%2CrowRight%2C%20range%2Eto%2Ecol%2C%20place%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22bottom%22%3A%0A%20%20%20%20%20%20%20%20%20%20for%28var%20bottomCol%20%3D%20range%2Efrom%2Ecol%3B%20bottomCol%20%3C%3D%20range%2Eto%2Ecol%3B%20bottomCol%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20setBorder%2Ecall%28this%2C%20range%2Eto%2Erow%2C%20bottomCol%2C%20place%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%22left%22%3A%0A%20%20%20%20%20%20%20%20%20%20for%28var%20rowLeft%20%3D%20range%2Efrom%2Erow%3B%20rowLeft%20%3C%3Drange%2Eto%2Erow%3B%20rowLeft%2B%2B%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20setBorder%2Ecall%28this%2CrowLeft%2C%20range%2Efrom%2Ecol%2C%20place%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Check%20if%20selection%20has%20border%20by%20className%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20hot%0A%20%20%20%2A%20%40param%20direction%0A%20%20%20%2A%2F%0A%20%20var%20checkSelectionBorders%20%3D%20function%20%28hot%2C%20direction%29%20%7B%0A%20%20%20%20var%20atLeastOneHasBorder%20%3D%20false%3B%0A%0A%20%20%20%20hot%2EgetSelectedRange%28%29%2EforAll%28function%28r%2C%20c%29%20%7B%0A%20%20%20%20%20%20var%20metaBorders%20%3D%20hot%2EgetCellMeta%28r%2Cc%29%2Eborders%3B%0A%0A%20%20%20%20%20%20if%20%28metaBorders%29%20%7B%0A%20%20%20%20%20%20%20%20if%28direction%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21metaBorders%5Bdirection%5D%2EhasOwnProperty%28%27hide%27%29%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20atLeastOneHasBorder%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%20%2F%2Fbreaks%20forAll%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20atLeastOneHasBorder%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20return%20false%3B%20%2F%2Fbreaks%20forAll%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20return%20atLeastOneHasBorder%3B%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Mark%20label%20in%20contextMenu%20as%20selected%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20label%0A%20%20%20%2A%20%40returns%20%7Bstring%7D%0A%20%20%20%2A%2F%0A%20%20var%20markSelected%20%3D%20function%20%28label%29%20%7B%0A%20%20%20%20return%20%22%3Cspan%20class%3D%27selected%27%3E%22%20%2B%20String%2EfromCharCode%2810003%29%20%2B%20%22%3C%2Fspan%3E%22%20%2B%20label%3B%20%2F%2F%20workaround%20for%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fissues%2F1946%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%2A%0A%20%20%20%2A%20Add%20border%20options%20to%20context%20menu%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20defaultOptions%0A%20%20%20%2A%2F%0A%20%20var%20addBordersOptionsToContextMenu%20%3D%20function%20%28defaultOptions%29%20%7B%0A%20%20%20%20if%28%21this%2EgetSettings%28%29%2EcustomBorders%29%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20defaultOptions%2Eitems%2Epush%28Handsontable%2EContextMenu%2ESEPARATOR%29%3B%0A%0A%20%20%20%20defaultOptions%2Eitems%2Epush%28%7B%0A%20%20%20%20%20%20key%3A%20%27borders%27%2C%0A%20%20%20%20%20%20name%3A%20%27Borders%27%2C%0A%20%20%20%20%20%20submenu%3A%20%7B%0A%20%20%20%20%20%20%20%20items%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20top%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%22Top%22%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasBorder%20%3D%20checkSelectionBorders%28this%2C%20%27top%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28hasBorder%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20markSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasBorder%20%3D%20checkSelectionBorders%28this%2C%20%27top%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20prepareBorder%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27top%27%2C%20hasBorder%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20right%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%27Right%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasBorder%20%3D%20checkSelectionBorders%28this%2C%20%27right%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28hasBorder%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20markSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasBorder%20%3D%20checkSelectionBorders%28this%2C%20%27right%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20prepareBorder%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27right%27%2C%20hasBorder%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20bottom%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%27Bottom%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasBorder%20%3D%20checkSelectionBorders%28this%2C%20%27bottom%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28hasBorder%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20markSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasBorder%20%3D%20checkSelectionBorders%28this%2C%20%27bottom%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20prepareBorder%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27bottom%27%2C%20hasBorder%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20left%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20label%20%3D%20%27Left%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasBorder%20%3D%20checkSelectionBorders%28this%2C%20%27left%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28hasBorder%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20label%20%3D%20markSelected%28label%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20label%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20hasBorder%20%3D%20checkSelectionBorders%28this%2C%20%27left%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20prepareBorder%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27left%27%2C%20hasBorder%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20remove%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20%27Remove%20border%28s%29%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20prepareBorder%2Ecall%28this%2C%20this%2EgetSelectedRange%28%29%2C%20%27noBorders%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%21checkSelectionBorders%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27beforeInit%27%2C%20init%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterContextMenuDefaultOptions%27%2C%20addBordersOptionsToContextMenu%29%3B%0A%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20var%20customBorders%20%3D%20this%2EgetSettings%28%29%2EcustomBorders%3B%0A%0A%20%20%20%20if%20%28customBorders%29%7B%0A%0A%20%20%20%20%20%20for%28var%20i%20%3D%200%3B%20i%3C%20customBorders%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%28customBorders%5Bi%5D%2Erange%29%7B%0A%20%20%20%20%20%20%20%20%20%20prepareBorderFromCustomAddedRange%2Ecall%28this%2CcustomBorders%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20prepareBorderFromCustomAdded%2Ecall%28this%2CcustomBorders%5Bi%5D%2Erow%2C%20customBorders%5Bi%5D%2Ecol%2C%20customBorders%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%09%09%09this%2Erender%28%29%3B%0A%20%20%20%20%20%20this%2Eview%2Ewt%2Edraw%28true%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%29%3B%0A%0A%20%20Handsontable%2ECustomBorders%20%3D%20CustomBorders%3B%0A%0A%7D%28%29%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20HandsontableManualRowMove%0A%20%2A%0A%20%2A%20Has%202%20UI%20components%3A%0A%20%2A%20%2D%20handle%20%2D%20the%20draggable%20element%20that%20sets%20the%20desired%20position%20of%20the%20row%0A%20%2A%20%2D%20guide%20%2D%20the%20helper%20guide%20that%20shows%20the%20desired%20position%20as%20a%20horizontal%20guide%0A%20%2A%0A%20%2A%20Warning%21%20Whenever%20you%20make%20a%20change%20in%20this%20file%2C%20make%20an%20analogous%20change%20in%20manualRowMove%2Ejs%0A%20%2A%20%40constructor%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0A%20%20function%20HandsontableManualRowMove%28%29%20%7B%0A%0A%20%20%20%20var%20startRow%2C%0A%20%20%20%20%20%20endRow%2C%0A%20%20%20%20%20%20startY%2C%0A%20%20%20%20%20%20startOffset%2C%0A%20%20%20%20%20%20currentRow%2C%0A%20%20%20%20%20%20currentTH%2C%0A%20%20%20%20%20%20handle%20%3D%20document%2EcreateElement%28%27DIV%27%29%2C%0A%20%20%20%20%20%20guide%20%3D%20document%2EcreateElement%28%27DIV%27%29%2C%0A%20%20%20%20%20%20eventManager%20%3D%20Handsontable%2EeventManager%28this%29%3B%0A%0A%20%20%20%20handle%2EclassName%20%3D%20%27manualRowMover%27%3B%0A%20%20%20%20guide%2EclassName%20%3D%20%27manualRowMoverGuide%27%3B%0A%0A%20%20%20%20var%20saveManualRowPositions%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27persistentStateSave%27%2C%20%27manualRowPositions%27%2C%20instance%2EmanualRowPositions%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20loadManualRowPositions%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%2C%0A%20%20%20%20%20%20%20%20storedState%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27persistentStateLoad%27%2C%20%27manualRowPositions%27%2C%20storedState%29%3B%0A%20%20%20%20%20%20return%20storedState%2Evalue%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20function%20setupHandlePosition%28TH%29%20%7B%0A%20%20%20%20%20%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20currentTH%20%3D%20TH%3B%0A%0A%20%20%20%20%20%20var%20row%20%3D%20this%2Eview%2Ewt%2EwtTable%2EgetCoords%28TH%29%2Erow%3B%20%2F%2FgetCoords%20returns%20WalkontableCellCoords%0A%20%20%20%20%20%20if%20%28row%20%3E%3D%200%29%20%7B%20%2F%2Fif%20not%20row%20header%0A%20%20%20%20%20%20%20%20currentRow%20%3D%20row%3B%0A%20%20%20%20%20%20%20%20var%20box%20%3D%20currentTH%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20%20%20startOffset%20%3D%20box%2Etop%3B%0A%20%20%20%20%20%20%20%20handle%2Estyle%2Etop%20%3D%20startOffset%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%20%20handle%2Estyle%2Eleft%20%3D%20box%2Eleft%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%20%20instance%2ErootElement%2EappendChild%28handle%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20refreshHandlePosition%28TH%2C%20delta%29%20%7B%0A%20%20%20%20%20%20var%20box%20%3D%20TH%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20var%20handleHeight%20%3D%206%3B%0A%20%20%20%20%20%20if%20%28delta%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20handle%2Estyle%2Etop%20%3D%20%28box%2Etop%20%2B%20box%2Eheight%20%2D%20handleHeight%29%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20handle%2Estyle%2Etop%20%3D%20box%2Etop%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20setupGuidePosition%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28handle%2C%20%27active%27%29%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28guide%2C%20%27active%27%29%3B%0A%20%20%20%20%20%20var%20box%20%3D%20currentTH%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20guide%2Estyle%2Ewidth%20%3D%20instance%2Eview%2EmaximumVisibleElementWidth%280%29%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20guide%2Estyle%2Eheight%20%3D%20box%2Eheight%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20guide%2Estyle%2Etop%20%3D%20startOffset%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20guide%2Estyle%2Eleft%20%3D%20handle%2Estyle%2Eleft%3B%0A%20%20%20%20%20%20instance%2ErootElement%2EappendChild%28guide%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20refreshGuidePosition%28diff%29%20%7B%0A%20%20%20%20%20%20guide%2Estyle%2Etop%20%3D%20startOffset%20%2B%20diff%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20hideHandleAndGuide%28%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28handle%2C%20%27active%27%29%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28guide%2C%20%27active%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20checkRowHeader%20%3D%20function%20%28element%29%20%7B%0A%20%20%20%20%20%20if%20%28element%2EtagName%20%21%3D%20%27BODY%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28element%2EparentNode%2EtagName%20%3D%3D%20%27TBODY%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20element%20%3D%20element%2EparentNode%3B%0A%20%20%20%20%20%20%20%20%20%20return%20checkRowHeader%28element%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20getTHFromTargetElement%20%3D%20function%20%28element%29%20%7B%0A%20%20%20%20%20%20if%20%28element%2EtagName%20%21%3D%20%27TABLE%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28element%2EtagName%20%3D%3D%20%27TH%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20element%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20getTHFromTargetElement%28element%2EparentNode%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20bindEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20var%20pressed%3B%0A%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28instance%2ErootElement%2C%20%27mouseover%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28checkRowHeader%28e%2Etarget%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20th%20%3D%20getTHFromTargetElement%28e%2Etarget%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28th%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pressed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20endRow%20%3D%20instance%2Eview%2Ewt%2EwtTable%2EgetCoords%28th%29%2Erow%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20refreshHandlePosition%28th%2C%20endRow%20%2D%20startRow%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20setupHandlePosition%2Ecall%28instance%2C%20th%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28instance%2ErootElement%2C%20%27mousedown%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28Handsontable%2EDom%2EhasClass%28e%2Etarget%2C%20%27manualRowMover%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20startY%20%3D%20Handsontable%2Ehelper%2EpageY%28e%29%3B%0A%20%20%20%20%20%20%20%20%20%20setupGuidePosition%2Ecall%28instance%29%3B%0A%20%20%20%20%20%20%20%20%20%20pressed%20%3D%20instance%3B%0A%0A%20%20%20%20%20%20%20%20%20%20startRow%20%3D%20currentRow%3B%0A%20%20%20%20%20%20%20%20%20%20endRow%20%3D%20currentRow%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28window%2C%20%27mousemove%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28pressed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20refreshGuidePosition%28Handsontable%2Ehelper%2EpageY%28e%29%20%2D%20startY%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28window%2C%20%27mouseup%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28pressed%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20hideHandleAndGuide%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20pressed%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20createPositionData%28instance%2EmanualRowPositions%2C%20instance%2EcountRows%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualRowPositions%2Esplice%28endRow%2C%200%2C%20instance%2EmanualRowPositions%2Esplice%28startRow%2C%201%29%5B0%5D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20instance%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20instance%2Eview%2Erender%28%29%3B%20%2F%2Fupdates%20all%0A%0A%20%20%20%20%20%20%20%20%20%20saveManualRowPositions%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28instance%2C%20%27afterRowMove%27%2C%20startRow%2C%20endRow%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20setupHandlePosition%2Ecall%28instance%2C%20currentTH%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20instance%2EaddHook%28%27afterDestroy%27%2C%20unbindEvents%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20unbindEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20eventManager%2Eclear%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20createPositionData%20%3D%20function%20%28positionArr%2C%20len%29%20%7B%0A%20%20%20%20%20%20if%20%28positionArr%2Elength%20%3C%20len%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%20positionArr%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20positionArr%5Bi%5D%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EbeforeInit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20this%2EmanualRowPositions%20%3D%20%5B%5D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2Einit%20%3D%20function%20%28source%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20var%20manualRowMoveEnabled%20%3D%20%21%21%28instance%2EgetSettings%28%29%2EmanualRowMove%29%3B%0A%0A%20%20%20%20%20%20if%20%28manualRowMoveEnabled%29%20%7B%0A%20%20%20%20%20%20%20%20var%20initialManualRowPositions%20%3D%20instance%2EgetSettings%28%29%2EmanualRowMove%3B%0A%20%20%20%20%20%20%20%20var%20loadedManualRowPostions%20%3D%20loadManualRowPositions%2Ecall%28instance%29%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20update%20plugin%20usages%20count%20for%20manualColumnPositions%0A%20%20%20%20%20%20%20%20if%20%28typeof%20instance%2EmanualRowPositionsPluginUsages%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualRowPositionsPluginUsages%2Epush%28%27manualColumnMove%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualRowPositionsPluginUsages%20%3D%20%5B%27manualColumnMove%27%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28typeof%20loadedManualRowPostions%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EmanualRowPositions%20%3D%20loadedManualRowPostions%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28Array%2EisArray%28initialManualRowPositions%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EmanualRowPositions%20%3D%20initialManualRowPositions%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EmanualRowPositions%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28source%20%3D%3D%3D%20%27afterInit%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20bindEvents%2Ecall%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28this%2EmanualRowPositions%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2EforceFullRender%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2Erender%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20var%20pluginUsagesIndex%20%3D%20instance%2EmanualRowPositionsPluginUsages%20%3F%20instance%2EmanualRowPositionsPluginUsages%2EindexOf%28%27manualColumnMove%27%29%20%3A%20%2D1%3B%0A%20%20%20%20%20%20%20%20if%20%28pluginUsagesIndex%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20unbindEvents%2Ecall%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualRowPositions%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualRowPositionsPluginUsages%5BpluginUsagesIndex%5D%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EmodifyRow%20%3D%20function%20%28row%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%3B%0A%20%20%20%20%20%20if%20%28instance%2EgetSettings%28%29%2EmanualRowMove%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20instance%2EmanualRowPositions%5Brow%5D%20%3D%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20createPositionData%28this%2EmanualRowPositions%2C%20row%20%2B%201%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20instance%2EmanualRowPositions%5Brow%5D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20row%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20var%20htManualRowMove%20%3D%20new%20HandsontableManualRowMove%28%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27beforeInit%27%2C%20htManualRowMove%2EbeforeInit%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20htManualRowMove%2Einit%2Ecall%28this%2C%20%27afterInit%27%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20htManualRowMove%2Einit%2Ecall%28this%2C%20%27afterUpdateSettings%27%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27modifyRow%27%2C%20htManualRowMove%2EmodifyRow%29%3B%0A%20%20Handsontable%2Ehooks%2Eregister%28%27afterRowMove%27%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%2F%2A%2A%0A%20%2A%20This%20plugin%20provides%20%22drag%2Ddown%22%20and%20%22copy%2Ddown%22%20functionalities%2C%20both%20operated%0A%20%2A%20using%20the%20small%20square%20in%20the%20right%20bottom%20of%20the%20cell%20selection%2E%0A%20%2A%0A%20%2A%20%22Drag%2Ddown%22%20expands%20the%20value%20of%20the%20selected%20cells%20to%20the%20neighbouring%0A%20%2A%20cells%20when%20you%20drag%20the%20small%20square%20in%20the%20corner%2E%0A%20%2A%0A%20%2A%20%22Copy%2Ddown%22%20copies%20the%20value%20of%20the%20selection%20to%20all%20empty%20cells%0A%20%2A%20below%20when%20you%20double%20click%20the%20small%20square%2E%0A%20%2A%0A%20%2A%20%40plugin%0A%20%2A%20%40class%20Handsontable%2EAutofill%0A%20%2A%2F%0A%28function%20%28Handsontable%29%20%7B%0A%20%20%27use%20strict%27%3B%0A%0A%20%20function%20getDeltas%28start%2C%20end%2C%20data%2C%20direction%29%20%7B%0A%20%20%20%20var%0A%20%20%20%20%20%20%2F%2F%20rows%0A%20%20%20%20%20%20rlength%20%3D%20data%2Elength%2C%0A%20%20%20%20%20%20%2F%2F%20cols%0A%20%20%20%20%20%20clength%20%3D%20data%20%3F%20data%5B0%5D%2Elength%20%3A%200%2C%0A%20%20%20%20%20%20deltas%20%3D%20%5B%5D%2C%0A%20%20%20%20%20%20arr%20%3D%20%5B%5D%2C%0A%20%20%20%20%20%20diffRow%2C%20diffCol%2C%0A%20%20%20%20%20%20startValue%2C%20endValue%2C%0A%20%20%20%20%20%20delta%3B%0A%0A%20%20%20%20diffRow%20%3D%20end%2Erow%20%2D%20start%2Erow%3B%0A%20%20%20%20diffCol%20%3D%20end%2Ecol%20%2D%20start%2Ecol%3B%0A%0A%20%20%20%20if%20%28%5B%27down%27%2C%20%27up%27%5D%2EindexOf%28direction%29%20%21%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20for%20%28var%20col%20%3D%200%3B%20col%20%3C%3D%20diffCol%3B%20col%20%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20startValue%20%3D%20parseInt%28data%5B0%5D%5Bcol%5D%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20endValue%20%3D%20parseInt%28data%5Brlength%20%2D%201%5D%5Bcol%5D%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20delta%20%3D%20%28direction%20%3D%3D%3D%20%27down%27%20%3F%20%28endValue%20%2D%20startValue%29%20%3A%20%28startValue%20%2D%20endValue%29%29%20%20%2F%20%28rlength%20%2D%201%29%20%7C%7C%200%3B%0A%0A%20%20%20%20%20%20%20%20arr%2Epush%28delta%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20deltas%2Epush%28arr%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%5B%27right%27%2C%20%27left%27%5D%2EindexOf%28direction%29%20%21%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20for%20%28var%20row%20%3D%200%3B%20row%20%3C%3D%20diffRow%3B%20row%20%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20startValue%20%3D%20parseInt%28data%5Brow%5D%5B0%5D%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20endValue%20%3D%20parseInt%28data%5Brow%5D%5Bclength%20%2D%201%5D%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20delta%20%3D%20%28direction%20%3D%3D%3D%20%27right%27%20%3F%20%28endValue%20%2D%20startValue%29%20%3A%20%28startValue%20%2D%20endValue%29%29%20%2F%20%28clength%20%2D%201%29%20%7C%7C%200%3B%0A%0A%20%20%20%20%20%20%20%20arr%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20arr%2Epush%28delta%29%3B%0A%0A%20%20%20%20%20%20%20%20deltas%2Epush%28arr%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20deltas%3B%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40param%20instance%0A%20%20%20%2A%20%40constructor%0A%20%20%20%2A%2F%0A%20%20function%20Autofill%28instance%29%20%7B%0A%20%20%20%20var%0A%20%20%20%20%20%20%5Fthis%20%3D%20this%2C%0A%20%20%20%20%20%20mouseDownOnCellCorner%20%3D%20false%2C%0A%20%20%20%20%20%20wtOnCellCornerMouseDown%2C%0A%20%20%20%20%20%20wtOnCellMouseOver%2C%0A%20%20%20%20%20%20eventManager%3B%0A%0A%20%20%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20%20%20this%2EaddingStarted%20%3D%20false%3B%0A%0A%20%20%20%20eventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%0A%20%20%20%20function%20mouseUpCallback%28event%29%20%7B%0A%20%20%20%20%20%20if%20%28%21instance%2Eautofill%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28instance%2Eautofill%2Ehandle%20%26%26%20instance%2Eautofill%2Ehandle%2EisDragged%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28instance%2Eautofill%2Ehandle%2EisDragged%20%3E%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2Eautofill%2Eapply%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20instance%2Eautofill%2Ehandle%2EisDragged%20%3D%200%3B%0A%20%20%20%20%20%20%20%20mouseDownOnCellCorner%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20function%20mouseMoveCallback%28event%29%20%7B%0A%20%20%20%20%20%20var%20tableBottom%2C%20tableRight%3B%0A%0A%20%20%20%20%20%20if%20%28%21%5Fthis%2Einstance%2Eautofill%29%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20tableBottom%20%3D%20Handsontable%2EDom%2Eoffset%28%5Fthis%2Einstance%2Etable%29%2Etop%20%2D%0A%20%20%20%20%20%20%20%20%20%20%28window%2EpageYOffset%20%7C%7C%20document%2EdocumentElement%2EscrollTop%29%20%2B%20Handsontable%2EDom%2EouterHeight%28%5Fthis%2Einstance%2Etable%29%3B%0A%20%20%20%20%20%20tableRight%20%3D%20Handsontable%2EDom%2Eoffset%28%5Fthis%2Einstance%2Etable%29%2Eleft%20%2D%0A%20%20%20%20%20%20%20%20%20%20%28window%2EpageXOffset%20%7C%7C%20document%2EdocumentElement%2EscrollLeft%29%20%2B%20Handsontable%2EDom%2EouterWidth%28%5Fthis%2Einstance%2Etable%29%3B%0A%0A%20%20%20%20%20%20%2F%2F%20dragged%20outside%20bottom%0A%20%20%20%20%20%20if%20%28%5Fthis%2EaddingStarted%20%3D%3D%3D%20false%20%26%26%20%5Fthis%2Einstance%2Eautofill%2Ehandle%2EisDragged%20%3E%200%20%26%26%0A%20%20%20%20%20%20%20%20event%2EclientY%20%3E%20tableBottom%20%26%26%20event%2EclientX%20%3C%3D%20tableRight%29%20%7B%0A%20%20%20%20%20%20%20%20%5Fthis%2Einstance%2EmouseDragOutside%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%5Fthis%2EaddingStarted%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%5Fthis%2Einstance%2EmouseDragOutside%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28%5Fthis%2Einstance%2EmouseDragOutside%29%20%7B%0A%20%20%20%20%20%20%20%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2EaddingStarted%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2Einstance%2Ealter%28%27insert%5Frow%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20200%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20eventManager%2EaddEventListener%28document%2C%20%27mouseup%27%2C%20mouseUpCallback%29%3B%0A%20%20%20%20eventManager%2EaddEventListener%28document%2C%20%27mousemove%27%2C%20mouseMoveCallback%29%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Appeding%20autofill%2Dspecific%20methods%20to%20walkontable%20event%20settings%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20wtOnCellCornerMouseDown%20%3D%20this%2Einstance%2Eview%2Ewt%2EwtSettings%2Esettings%2EonCellCornerMouseDown%3B%0A%0A%20%20%20%20this%2Einstance%2Eview%2Ewt%2EwtSettings%2Esettings%2EonCellCornerMouseDown%20%3D%20function%28event%29%20%7B%0A%20%20%20%20%20%20instance%2Eautofill%2Ehandle%2EisDragged%20%3D%201%3B%0A%20%20%20%20%20%20mouseDownOnCellCorner%20%3D%20true%3B%0A%20%20%20%20%20%20wtOnCellCornerMouseDown%28event%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20wtOnCellMouseOver%20%3D%20this%2Einstance%2Eview%2Ewt%2EwtSettings%2Esettings%2EonCellMouseOver%3B%0A%0A%20%20%20%20this%2Einstance%2Eview%2Ewt%2EwtSettings%2Esettings%2EonCellMouseOver%20%3D%20function%28event%2C%20coords%2C%20TD%2C%20wt%29%20%7B%0A%20%20%20%20%20%20if%20%28instance%2Eautofill%20%26%26%20mouseDownOnCellCorner%20%26%26%20%21instance%2Eview%2EisMouseDown%28%29%20%26%26%0A%20%20%20%20%20%20%20%20%20%20instance%2Eautofill%2Ehandle%20%26%26%20instance%2Eautofill%2Ehandle%2EisDragged%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2Eautofill%2Ehandle%2EisDragged%20%2B%2B%3B%0A%20%20%20%20%20%20%20%20instance%2Eautofill%2EshowBorder%28coords%29%3B%0A%20%20%20%20%20%20%20%20instance%2Eautofill%2EcheckIfNewRowNeeded%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20wtOnCellMouseOver%28event%2C%20coords%2C%20TD%2C%20wt%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2Einstance%2Eview%2Ewt%2EwtSettings%2Esettings%2EonCellCornerDblClick%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20instance%2Eautofill%2EselectAdjacent%28%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Create%20fill%20handle%20and%20fill%20border%20objects%0A%20%20%20%2A%0A%20%20%20%2A%20%40function%20init%0A%20%20%20%2A%20%40memberof%20Handsontable%2EAutofill%23%0A%20%20%20%2A%2F%0A%20%20Autofill%2Eprototype%2Einit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2Ehandle%20%3D%20%7B%7D%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Hide%20fill%20handle%20and%20fill%20border%20permanently%0A%20%20%20%2A%0A%20%20%20%2A%20%40function%20disable%0A%20%20%20%2A%20%40memberof%20Handsontable%2EAutofill%23%0A%20%20%20%2A%2F%0A%20%20Autofill%2Eprototype%2Edisable%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2Ehandle%2Edisabled%20%3D%20true%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Selects%20cells%20down%20to%20the%20last%20row%20in%20the%20left%20column%2C%20then%20fills%20down%20to%20that%20cell%0A%20%20%20%2A%0A%20%20%20%2A%20%40function%20selectAdjacent%0A%20%20%20%2A%20%40memberof%20Handsontable%2EAutofill%23%0A%20%20%20%2A%2F%0A%20%20Autofill%2Eprototype%2EselectAdjacent%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20select%2C%20data%2C%20r%2C%20maxR%2C%20c%3B%0A%0A%20%20%20%20if%20%28this%2Einstance%2Eselection%2EisMultiple%28%29%29%20%7B%0A%20%20%20%20%20%20select%20%3D%20this%2Einstance%2Eview%2Ewt%2Eselections%2Earea%2EgetCorners%28%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20select%20%3D%20this%2Einstance%2Eview%2Ewt%2Eselections%2Ecurrent%2EgetCorners%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20data%20%3D%20this%2Einstance%2EgetData%28%29%3B%0A%0A%20%20%20%20rows%20%3A%20for%20%28r%20%3D%20select%5B2%5D%20%2B%201%3B%20r%20%3C%20this%2Einstance%2EcountRows%28%29%3B%20r%20%2B%2B%29%20%7B%0A%20%20%20%20%20%20for%20%28c%20%3D%20select%5B1%5D%3B%20c%20%3C%3D%20select%5B3%5D%3B%20c%20%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28data%5Br%5D%5Bc%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20break%20rows%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28%21%21data%5Br%5D%5Bselect%5B1%5D%20%2D%201%5D%20%7C%7C%20%21%21data%5Br%5D%5Bselect%5B3%5D%20%2B%201%5D%29%20%7B%0A%20%20%20%20%20%20%20%20maxR%20%3D%20r%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28maxR%29%20%7B%0A%20%20%20%20%20%20this%2Einstance%2Eview%2Ewt%2Eselections%2Efill%2Eclear%28%29%3B%0A%20%20%20%20%20%20this%2Einstance%2Eview%2Ewt%2Eselections%2Efill%2Eadd%28new%20WalkontableCellCoords%28select%5B0%5D%2C%20select%5B1%5D%29%29%3B%0A%20%20%20%20%20%20this%2Einstance%2Eview%2Ewt%2Eselections%2Efill%2Eadd%28new%20WalkontableCellCoords%28maxR%2C%20select%5B3%5D%29%29%3B%0A%20%20%20%20%20%20this%2Eapply%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Apply%20fill%20values%20to%20the%20area%20in%20fill%20border%2C%20omitting%20the%20selection%20border%0A%20%20%20%2A%0A%20%20%20%2A%20%40function%20apply%0A%20%20%20%2A%20%40memberof%20Handsontable%2EAutofill%23%0A%20%20%20%2A%2F%0A%20%20Autofill%2Eprototype%2Eapply%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20drag%2C%20select%2C%20start%2C%20end%2C%20%5Fdata%2C%20direction%2C%20deltas%2C%20selRange%3B%0A%0A%20%20%20%20this%2Ehandle%2EisDragged%20%3D%200%3B%0A%20%20%20%20drag%20%3D%20this%2Einstance%2Eview%2Ewt%2Eselections%2Efill%2EgetCorners%28%29%3B%0A%0A%20%20%20%20if%20%28%21drag%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2Einstance%2Eview%2Ewt%2Eselections%2Efill%2Eclear%28%29%3B%0A%0A%20%20%20%20if%20%28this%2Einstance%2Eselection%2EisMultiple%28%29%29%20%7B%0A%20%20%20%20%20%20select%20%3D%20this%2Einstance%2Eview%2Ewt%2Eselections%2Earea%2EgetCorners%28%29%3B%0A%20%20%20%20%7D%20%20else%20%7B%0A%20%20%20%20%20%20select%20%3D%20this%2Einstance%2Eview%2Ewt%2Eselections%2Ecurrent%2EgetCorners%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28drag%5B0%5D%20%3D%3D%3D%20select%5B0%5D%20%26%26%20drag%5B1%5D%20%3C%20select%5B1%5D%29%20%7B%0A%20%20%20%20%20%20direction%20%3D%20%27left%27%3B%0A%0A%20%20%20%20%20%20start%20%3D%20new%20WalkontableCellCoords%28drag%5B0%5D%2C%20drag%5B1%5D%29%3B%0A%20%20%20%20%20%20end%20%3D%20new%20WalkontableCellCoords%28drag%5B2%5D%2C%20select%5B1%5D%20%2D%201%29%3B%0A%0A%20%20%20%20%7D%20else%20if%20%28drag%5B0%5D%20%3D%3D%3D%20select%5B0%5D%20%26%26%20drag%5B3%5D%20%3E%20select%5B3%5D%29%20%7B%0A%20%20%20%20%20%20direction%20%3D%20%27right%27%3B%0A%0A%20%20%20%20%20%20start%20%3D%20new%20WalkontableCellCoords%28drag%5B0%5D%2C%20select%5B3%5D%20%2B%201%29%3B%0A%20%20%20%20%20%20end%20%3D%20new%20WalkontableCellCoords%28drag%5B2%5D%2C%20drag%5B3%5D%29%3B%0A%0A%20%20%20%20%7D%20else%20if%20%28drag%5B0%5D%20%3C%20select%5B0%5D%20%26%26%20drag%5B1%5D%20%3D%3D%3D%20select%5B1%5D%29%20%7B%0A%20%20%20%20%20%20direction%20%3D%20%27up%27%3B%0A%0A%20%20%20%20%20%20start%20%3D%20new%20WalkontableCellCoords%28drag%5B0%5D%2C%20drag%5B1%5D%29%3B%0A%20%20%20%20%20%20end%20%3D%20new%20WalkontableCellCoords%28select%5B0%5D%20%2D%201%2C%20drag%5B3%5D%29%3B%0A%0A%20%20%20%20%7D%20else%20if%20%28drag%5B2%5D%20%3E%20select%5B2%5D%20%26%26%20drag%5B1%5D%20%3D%3D%3D%20select%5B1%5D%29%20%7B%0A%20%20%20%20%20%20direction%20%3D%20%27down%27%3B%0A%0A%20%20%20%20%20%20start%20%3D%20new%20WalkontableCellCoords%28select%5B2%5D%20%2B%201%2C%20drag%5B1%5D%29%3B%0A%20%20%20%20%20%20end%20%3D%20new%20WalkontableCellCoords%28drag%5B2%5D%2C%20drag%5B3%5D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28start%20%26%26%20start%2Erow%20%3E%20%2D1%20%26%26%20start%2Ecol%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20selRange%20%3D%20%7B%0A%20%20%20%20%20%20%20%20from%3A%20this%2Einstance%2EgetSelectedRange%28%29%2Efrom%2C%0A%20%20%20%20%20%20%20%20to%3A%20this%2Einstance%2EgetSelectedRange%28%29%2Eto%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%5Fdata%20%3D%20this%2Einstance%2EgetData%28selRange%2Efrom%2Erow%2C%20selRange%2Efrom%2Ecol%2C%20selRange%2Eto%2Erow%2C%20selRange%2Eto%2Ecol%29%3B%0A%20%20%20%20%20%20deltas%20%3D%20getDeltas%28start%2C%20end%2C%20%5Fdata%2C%20direction%29%3B%0A%0A%20%20%20%20%20%20Handsontable%2Ehooks%2Erun%28this%2Einstance%2C%20%27beforeAutofill%27%2C%20start%2C%20end%2C%20%5Fdata%29%3B%0A%20%20%20%20%20%20this%2Einstance%2EpopulateFromArray%28start%2Erow%2C%20start%2Ecol%2C%20%5Fdata%2C%20end%2Erow%2C%20end%2Ecol%2C%20%27autofill%27%2C%20null%2C%20direction%2C%20deltas%29%3B%0A%0A%20%20%20%20%20%20this%2Einstance%2Eselection%2EsetRangeStart%28new%20WalkontableCellCoords%28drag%5B0%5D%2C%20drag%5B1%5D%29%29%3B%0A%20%20%20%20%20%20this%2Einstance%2Eselection%2EsetRangeEnd%28new%20WalkontableCellCoords%28drag%5B2%5D%2C%20drag%5B3%5D%29%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%2F%2F%20reset%20to%20avoid%20some%20range%20bug%0A%20%20%20%20%20%20this%2Einstance%2Eselection%2ErefreshBorders%28%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Show%20fill%20border%0A%20%20%20%2A%0A%20%20%20%2A%20%40function%20showBorder%0A%20%20%20%2A%20%40memberof%20Handsontable%2EAutofill%23%0A%20%20%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20coords%0A%20%20%20%2A%2F%0A%20%20Autofill%2Eprototype%2EshowBorder%20%3D%20function%28coords%29%20%7B%0A%20%20%20%20var%20topLeft%20%3D%20this%2Einstance%2EgetSelectedRange%28%29%2EgetTopLeftCorner%28%29%2C%0A%20%20%20%20%20%20bottomRight%20%3D%20this%2Einstance%2EgetSelectedRange%28%29%2EgetBottomRightCorner%28%29%3B%0A%0A%20%20%20%20if%20%28this%2Einstance%2EgetSettings%28%29%2EfillHandle%20%21%3D%3D%20%27horizontal%27%20%26%26%20%28bottomRight%2Erow%20%3C%20coords%2Erow%20%7C%7C%20topLeft%2Erow%20%3E%20coords%2Erow%29%29%20%7B%0A%20%20%20%20%20%20coords%20%3D%20new%20WalkontableCellCoords%28coords%2Erow%2C%20bottomRight%2Ecol%29%3B%0A%0A%20%20%20%20%7D%20else%20if%20%28this%2Einstance%2EgetSettings%28%29%2EfillHandle%20%21%3D%3D%20%27vertical%27%29%20%7B%0A%20%20%20%20%20%20coords%20%3D%20new%20WalkontableCellCoords%28bottomRight%2Erow%2C%20coords%2Ecol%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%2F%2F%20wrong%20direction%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2Einstance%2Eview%2Ewt%2Eselections%2Efill%2Eclear%28%29%3B%0A%20%20%20%20this%2Einstance%2Eview%2Ewt%2Eselections%2Efill%2Eadd%28this%2Einstance%2EgetSelectedRange%28%29%2Efrom%29%3B%0A%20%20%20%20this%2Einstance%2Eview%2Ewt%2Eselections%2Efill%2Eadd%28this%2Einstance%2EgetSelectedRange%28%29%2Eto%29%3B%0A%20%20%20%20this%2Einstance%2Eview%2Ewt%2Eselections%2Efill%2Eadd%28coords%29%3B%0A%20%20%20%20this%2Einstance%2Eview%2Erender%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%40function%20checkIfNewRowNeeded%0A%20%20%20%2A%20%40memberof%20Handsontable%2EAutofill%23%0A%20%20%20%2A%2F%0A%20%20Autofill%2Eprototype%2EcheckIfNewRowNeeded%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20fillCorners%2C%0A%20%20%20%20%20%20selection%2C%0A%20%20%20%20%20%20tableRows%20%3D%20this%2Einstance%2EcountRows%28%29%2C%0A%20%20%20%20%20%20that%20%3D%20this%3B%0A%0A%20%20%20%20if%20%28this%2Einstance%2Eview%2Ewt%2Eselections%2Efill%2EcellRange%20%26%26%20this%2EaddingStarted%20%3D%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20selection%20%3D%20this%2Einstance%2EgetSelected%28%29%3B%0A%20%20%20%20%20%20fillCorners%20%3D%20this%2Einstance%2Eview%2Ewt%2Eselections%2Efill%2EgetCorners%28%29%3B%0A%0A%20%20%20%20%20%20if%20%28selection%5B2%5D%20%3C%20tableRows%20%2D%201%20%26%26%20fillCorners%5B2%5D%20%3D%3D%3D%20tableRows%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EaddingStarted%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%20%20this%2Einstance%2E%5FregisterTimeout%28setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20that%2Einstance%2Ealter%28%27insert%5Frow%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20that%2EaddingStarted%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20200%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20function%28%29%20%7B%0A%20%20%20%20var%20autofill%20%3D%20new%20Autofill%28this%29%3B%0A%0A%20%20%20%20if%20%28typeof%20this%2EgetSettings%28%29%2EfillHandle%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20if%20%28autofill%2Ehandle%20%26%26%20this%2EgetSettings%28%29%2EfillHandle%20%3D%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20autofill%2Edisable%28%29%3B%0A%0A%20%20%20%20%20%20%7D%20else%20if%20%28%21autofill%2Ehandle%20%26%26%20this%2EgetSettings%28%29%2EfillHandle%20%21%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20Instance%20of%20Autofill%20Plugin%20%7B%40link%20Handsontable%2EAutofill%7D%0A%20%20%20%20%20%20%20%20%20%2A%20%40alias%20autofill%0A%20%20%20%20%20%20%20%20%20%2A%20%40memberof%21%20Handsontable%2ECore%23%0A%20%20%20%20%20%20%20%20%20%2A%20%40type%20%7BAutofill%7D%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20this%2Eautofill%20%3D%20autofill%3B%0A%20%20%20%20%20%20%20%20this%2Eautofill%2Einit%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%29%3B%0A%20%20Handsontable%2EAutofill%20%3D%20Autofill%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0Avar%20Grouping%20%3D%20function%20%28instance%29%20%7B%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20array%20of%20items%0A%20%20%20%2A%20%40type%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20var%20groups%20%3D%20%5B%5D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20group%20definition%0A%20%20%20%2A%20%40type%20%7B%7Bid%3A%20String%2C%20level%3A%20Number%2C%20rows%3A%20Array%2C%20cols%3A%20Array%2C%20hidden%3A%20Number%7D%7D%0A%20%20%20%2A%2F%0A%20%20var%20item%20%3D%20%7B%0A%20%20%20%20id%3A%20%27%27%2C%0A%20%20%20%20level%3A%200%2C%0A%20%20%20%20hidden%3A%200%2C%0A%20%20%20%20rows%3A%20%5B%5D%2C%0A%20%20%20%20cols%3A%20%5B%5D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20total%20rows%20and%20cols%20merged%20in%20groups%0A%20%20%20%2A%20%40type%20%7B%7Brows%3A%20number%2C%20cols%3A%20number%7D%7D%0A%20%20%20%2A%2F%0A%20%20var%20counters%20%3D%20%7B%0A%20%20%20%20rows%3A%200%2C%0A%20%20%20%20cols%3A%200%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Number%20of%20group%20levels%20in%20each%20dimension%0A%20%20%20%2A%20%40type%20%7B%7Brows%3A%20number%2C%20cols%3A%20number%7D%7D%0A%20%20%20%2A%2F%0A%20%20var%20levels%20%3D%20%7B%0A%20%20%20%20rows%3A%200%2C%0A%20%20%20%20cols%3A%200%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20List%20of%20hidden%20rows%0A%20%20%20%2A%20%40type%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20var%20hiddenRows%20%3D%20%5B%5D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20List%20of%20hidden%20columns%0A%20%20%20%2A%20%40type%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20var%20hiddenCols%20%3D%20%5B%5D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Classes%20used%0A%20%20%20%2A%2F%0A%20%20var%20classes%20%3D%20%7B%0A%20%20%20%20%27groupIndicatorContainer%27%3A%20%27htGroupIndicatorContainer%27%2C%0A%20%20%20%20%27groupIndicator%27%3A%20function%20%28direction%29%20%7B%0A%20%20%20%20%20%20return%20%27ht%27%20%2B%20direction%20%2B%20%27Group%27%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20%27groupStart%27%3A%20%27htGroupStart%27%2C%0A%20%20%20%20%27collapseButton%27%3A%20%27htCollapseButton%27%2C%0A%20%20%20%20%27expandButton%27%3A%20%27htExpandButton%27%2C%0A%20%20%20%20%27collapseGroupId%27%3A%20function%20%28id%29%20%7B%0A%20%20%20%20%20%20return%20%27htCollapse%2D%27%20%2B%20id%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20%27collapseFromLevel%27%3A%20function%20%28direction%2C%20level%29%20%7B%0A%20%20%20%20%20%20return%20%27htCollapse%27%20%2B%20direction%20%2B%20%27FromLevel%2D%27%20%2B%20level%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20%27clickable%27%3A%20%27clickable%27%2C%0A%20%20%20%20%27levelTrigger%27%3A%20%27htGroupLevelTrigger%27%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20compare%20object%20properties%0A%20%20%20%2A%20%40param%20%7BString%7D%20property%0A%20%20%20%2A%20%40param%20%7BString%7D%20orderDirection%0A%20%20%20%2A%20%40returns%20%7BFunction%7D%0A%20%20%20%2A%2F%0A%20%20var%20compare%20%3D%20function%20%28property%2C%20orderDirection%29%20%7B%0A%20%20%20%20return%20function%20%28item1%2C%20item2%29%20%7B%0A%20%20%20%20%20%20return%20typeof%20%28orderDirection%29%20%3D%3D%3D%20%27undefined%27%20%7C%7C%20orderDirection%20%3D%3D%3D%20%27asc%27%20%3F%20item1%5Bproperty%5D%20%2D%20item2%5Bproperty%5D%20%3A%20item2%5Bproperty%5D%20%2D%20item1%5Bproperty%5D%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Create%20range%20array%20between%20from%20and%20to%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20from%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20to%0A%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20var%20range%20%3D%20function%20%28from%2C%20to%29%20%7B%0A%20%20%20%20var%20arr%20%3D%20%5B%5D%3B%0A%20%20%20%20while%20%28from%20%3C%3D%20to%29%20%7B%0A%20%20%20%20%20%20arr%2Epush%28from%2B%2B%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20arr%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20%2A%20Get%20groups%20for%20range%0A%20%20%20%2A%20%40param%20from%0A%20%20%20%2A%20%40param%20to%0A%20%20%20%2A%20%40returns%20%7B%7Btotal%3A%20%7Brows%3A%20number%2C%20cols%3A%20number%7D%2C%20groups%3A%20Array%7D%7D%0A%20%20%20%2A%2F%0A%20%20var%20getRangeGroups%20%3D%20function%20%28dataType%2C%20from%2C%20to%29%20%7B%0A%20%20%20%20var%20cells%20%3D%20%5B%5D%2C%0A%20%20%20%20%20%20cell%20%3D%20%7B%0A%20%20%20%20%20%20%20%20row%3A%20null%2C%0A%20%20%20%20%20%20%20%20col%3A%20null%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20if%20%28dataType%20%3D%3D%20%22cols%22%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20get%20all%20rows%20for%20selected%20columns%0A%20%20%20%20%20%20while%20%28from%20%3C%3D%20to%29%20%7B%0A%20%20%20%20%20%20%20%20cell%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20row%3A%20%2D1%2C%0A%20%20%20%20%20%20%20%20%20%20col%3A%20from%2B%2B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20cells%2Epush%28cell%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%2F%2F%20get%20all%20columns%20for%20selected%20rows%0A%20%20%20%20%20%20while%20%28from%20%3C%3D%20to%29%20%7B%0A%20%20%20%20%20%20%20%20cell%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20row%3A%20from%2B%2B%2C%0A%20%20%20%20%20%20%20%20%20%20col%3A%20%2D1%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20cells%2Epush%28cell%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20cellsGroups%20%3D%20getCellsGroups%28cells%29%2C%0A%20%20%20%20%20%20totalRows%20%3D%200%2C%0A%20%20%20%20%20%20totalCols%20%3D%200%3B%0A%0A%20%20%20%20%2F%2F%20for%20selected%20cells%2C%20calculate%20total%20groups%20divided%20into%20rows%20and%20columns%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20cellsGroups%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20totalRows%20%2B%3D%20cellsGroups%5Bi%5D%2Efilter%28function%20%28item%29%20%7B%0A%20%20%20%20%20%20%20%20return%20item%5B%27rows%27%5D%3B%0A%20%20%20%20%20%20%7D%29%2Elength%3B%0A%0A%20%20%20%20%20%20totalCols%20%2B%3D%20cellsGroups%5Bi%5D%2Efilter%28function%20%28item%29%20%7B%0A%20%20%20%20%20%20%20%20return%20item%5B%27cols%27%5D%3B%0A%20%20%20%20%20%20%7D%29%2Elength%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20total%3A%20%7B%0A%20%20%20%20%20%20%20%20rows%3A%20totalRows%2C%0A%20%20%20%20%20%20%20%20cols%3A%20totalCols%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20groups%3A%20cellsGroups%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Get%20all%20groups%20for%20cells%0A%20%20%20%2A%20%40param%20%7BArray%7D%20cells%20%5B%7Brow%3A0%2C%20col%3A0%7D%2C%20%7Brow%3A0%2C%20col%3A1%7D%2C%20%7Brow%3A1%2C%20col%3A2%7D%5D%0A%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20var%20getCellsGroups%20%3D%20function%20%28cells%29%20%7B%0A%20%20%20%20var%20%5Fgroups%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20cells%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%5Fgroups%2Epush%28getCellGroups%28cells%5Bi%5D%29%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%5Fgroups%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Get%20all%20groups%20for%20cell%0A%20%20%20%2A%20%40param%20%7BObject%7D%20coords%20%7Brow%3A1%2C%20col%3A2%7D%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20groupLevel%20Optional%0A%20%20%20%2A%20%40param%20%7BString%7D%20groupType%20Optional%0A%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%2A%2F%0A%20%20var%20getCellGroups%20%3D%20function%20%28coords%2C%20groupLevel%2C%20groupType%29%20%7B%0A%20%20%20%20var%20row%20%3D%20coords%2Erow%2C%0A%20%20%20%20%20%20col%20%3D%20coords%2Ecol%3B%0A%0A%20%20%20%20%2F%2F%20for%20row%20%3D%20%2D1%20and%20col%20%3D%20%2D1%2C%20get%20all%20columns%20and%20rows%0A%20%20%20%20var%20tmpRow%20%3D%20%28row%20%3D%3D%3D%20%2D1%20%3F%200%20%3A%20row%29%2C%0A%20%20%20%20%20%20tmpCol%20%3D%20%28col%20%3D%3D%3D%20%2D1%20%3F%200%20%3A%20col%29%3B%0A%0A%20%20%20%20var%20%5Fgroups%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20groups%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20var%20group%20%3D%20groups%5Bi%5D%2C%0A%20%20%20%20%20%20%20%20id%20%3D%20group%5B%27id%27%5D%2C%0A%20%20%20%20%20%20%20%20level%20%3D%20group%5B%27level%27%5D%2C%0A%20%20%20%20%20%20%20%20rows%20%3D%20group%5B%27rows%27%5D%20%7C%7C%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20cols%20%3D%20group%5B%27cols%27%5D%20%7C%7C%20%5B%5D%3B%0A%0A%20%20%20%20%20%20if%20%28%5Fgroups%2EindexOf%28id%29%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28rows%2EindexOf%28tmpRow%29%20%21%3D%3D%20%2D1%20%7C%7C%20cols%2EindexOf%28tmpCol%29%20%21%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fgroups%2Epush%28group%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20add%20col%20groups%0A%20%20%20%20if%20%28col%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%5Fgroups%20%3D%20%5Fgroups%2Econcat%28getColGroups%28%29%29%3B%0A%20%20%20%20%7D%20else%20if%20%28row%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20add%20row%20groups%0A%20%20%20%20%20%20%5Fgroups%20%3D%20%5Fgroups%2Econcat%28getRowGroups%28%29%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28groupLevel%29%20%7B%0A%20%20%20%20%20%20%5Fgroups%20%3D%20%5Fgroups%2Efilter%28function%20%28item%29%20%7B%0A%20%20%20%20%20%20%20%20return%20item%5B%27level%27%5D%20%3D%3D%3D%20groupLevel%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28groupType%29%20%7B%0A%20%20%20%20%20%20if%20%28groupType%20%3D%3D%3D%20%27cols%27%29%20%7B%0A%20%20%20%20%20%20%20%20%5Fgroups%20%3D%20%5Fgroups%2Efilter%28function%20%28item%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20item%5B%27cols%27%5D%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28groupType%20%3D%3D%3D%20%27rows%27%29%20%7B%0A%20%20%20%20%20%20%20%20%5Fgroups%20%3D%20%5Fgroups%2Efilter%28function%20%28item%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20item%5B%27rows%27%5D%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20remove%20duplicates%0A%20%20%20%20var%20tmp%20%3D%20%5B%5D%3B%0A%20%20%20%20return%20%5Fgroups%2Efilter%28function%20%28item%29%20%7B%0A%20%20%20%20%20%20if%20%28tmp%2EindexOf%28item%2Eid%29%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20tmp%2Epush%28item%2Eid%29%3B%0A%20%20%20%20%20%20%20%20return%20item%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20get%20group%20by%20id%0A%20%20%20%2A%20%40param%20id%0A%20%20%20%2A%20%40returns%20%7BObject%7D%20group%0A%20%20%20%2A%2F%0A%20%20var%20getGroupById%20%3D%20function%20%28id%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20groupsLength%20%3D%20groups%2Elength%3B%20i%20%3C%20groupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28groups%5Bi%5D%2Eid%20%3D%3D%20id%29%20%7B%0A%20%20%20%20%20%20%20%20return%20groups%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20false%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20get%20group%20by%20row%20and%20level%0A%20%20%20%2A%20%40param%20row%0A%20%20%20%2A%20%40param%20level%0A%20%20%20%2A%20%40returns%20%7BObject%7D%20group%0A%20%20%20%2A%2F%0A%20%20var%20getGroupByRowAndLevel%20%3D%20function%20%28row%2C%20level%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20groupsLength%20%3D%20groups%2Elength%3B%20i%20%3C%20groupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28groups%5Bi%5D%2Elevel%20%3D%3D%20level%20%26%26%20groups%5Bi%5D%2Erows%20%26%26%20groups%5Bi%5D%2Erows%2EindexOf%28row%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20return%20groups%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20false%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20get%20group%20by%20row%20and%20level%0A%20%20%20%2A%20%40param%20row%0A%20%20%20%2A%20%40param%20level%0A%20%20%20%2A%20%40returns%20%7BObject%7D%20group%0A%20%20%20%2A%2F%0A%20%20var%20getGroupByColAndLevel%20%3D%20function%20%28col%2C%20level%29%20%7B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20groupsLength%20%3D%20groups%2Elength%3B%20i%20%3C%20groupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28groups%5Bi%5D%2Elevel%20%3D%3D%20level%20%26%26%20groups%5Bi%5D%2Ecols%20%26%26%20groups%5Bi%5D%2Ecols%2EindexOf%28col%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20return%20groups%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20false%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20get%20total%20column%20groups%0A%20%20%20%2A%20%40returns%20%7B%2A%7CArray%7D%0A%20%20%20%2A%2F%0A%20%20var%20getColGroups%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20result%20%3D%20%5B%5D%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20groupsLength%20%3D%20groups%2Elength%3B%20i%20%3C%20groupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28Array%2EisArray%28groups%5Bi%5D%5B%27cols%27%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20result%2Epush%28groups%5Bi%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20result%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20get%20total%20col%20groups%20by%20level%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20level%0A%20%20%20%2A%20%40returns%20%7B%2A%7CArray%7D%0A%20%20%20%2A%2F%0A%20%20var%20getColGroupsByLevel%20%3D%20function%20%28level%29%20%7B%0A%20%20%20%20var%20result%20%3D%20%5B%5D%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20groupsLength%20%3D%20groups%2Elength%3B%20i%20%3C%20groupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28groups%5Bi%5D%5B%27cols%27%5D%20%26%26%20groups%5Bi%5D%5B%27level%27%5D%20%3D%3D%3D%20level%29%20%7B%0A%20%20%20%20%20%20%20%20result%2Epush%28groups%5Bi%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20result%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20get%20total%20row%20groups%0A%20%20%20%2A%20%40returns%20%7B%2A%7CArray%7D%0A%20%20%20%2A%2F%0A%20%20var%20getRowGroups%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20result%20%3D%20%5B%5D%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20groupsLength%20%3D%20groups%2Elength%3B%20i%20%3C%20groupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28Array%2EisArray%28groups%5Bi%5D%5B%27rows%27%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20result%2Epush%28groups%5Bi%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20result%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20get%20total%20row%20groups%20by%20level%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20level%0A%20%20%20%2A%20%40returns%20%7B%2A%7CArray%7D%0A%20%20%20%2A%2F%0A%20%20var%20getRowGroupsByLevel%20%3D%20function%20%28level%29%20%7B%0A%20%20%20%20var%20result%20%3D%20%5B%5D%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20groupsLength%20%3D%20groups%2Elength%3B%20i%20%3C%20groupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28groups%5Bi%5D%5B%27rows%27%5D%20%26%26%20groups%5Bi%5D%5B%27level%27%5D%20%3D%3D%3D%20level%29%20%7B%0A%20%20%20%20%20%20%20%20result%2Epush%28groups%5Bi%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20result%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20get%20last%20inserted%20range%20level%20in%20columns%0A%20%20%20%2A%20%40param%20%7BArray%7D%20rangeGroups%0A%20%20%20%2A%20%40returns%20%7Bnumber%7D%0A%20%20%20%2A%2F%0A%20%20var%20getLastLevelColsInRange%20%3D%20function%20%28rangeGroups%29%20%7B%0A%20%20%20%20var%20level%20%3D%200%3B%0A%0A%20%20%20%20if%20%28rangeGroups%2Elength%29%20%7B%0A%20%20%20%20%20%20rangeGroups%2EforEach%28function%20%28items%29%20%7B%0A%20%20%20%20%20%20%20%20items%20%3D%20items%2Efilter%28function%20%28item%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20item%5B%27cols%27%5D%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28items%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20sortedGroup%20%3D%20items%2Esort%28compare%28%27level%27%2C%20%27desc%27%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20lastLevel%20%3D%20sortedGroup%5B0%5D%2Elevel%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28level%20%3C%20lastLevel%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20level%20%3D%20lastLevel%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20level%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20get%20last%20inserted%20range%20level%20in%20rows%0A%20%20%20%2A%20%40param%20%7BArray%7D%20rangeGroups%0A%20%20%20%2A%20%40returns%20%7Bnumber%7D%0A%20%20%20%2A%2F%0A%20%20var%20getLastLevelRowsInRange%20%3D%20function%20%28rangeGroups%29%20%7B%0A%20%20%20%20var%20level%20%3D%200%3B%0A%0A%20%20%20%20if%20%28rangeGroups%2Elength%29%20%7B%0A%20%20%20%20%20%20rangeGroups%2EforEach%28function%20%28items%29%20%7B%0A%20%20%20%20%20%20%20%20items%20%3D%20items%2Efilter%28function%20%28item%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20item%5B%27rows%27%5D%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28items%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20sortedGroup%20%3D%20items%2Esort%28compare%28%27level%27%2C%20%27desc%27%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20lastLevel%20%3D%20sortedGroup%5B0%5D%2Elevel%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28level%20%3C%20lastLevel%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20level%20%3D%20lastLevel%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20level%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20create%20group%20for%20cols%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20from%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20to%0A%20%20%20%2A%2F%0A%20%20var%20groupCols%20%3D%20function%20%28from%2C%20to%29%20%7B%0A%20%20%20%20var%20rangeGroups%20%3D%20getRangeGroups%28%22cols%22%2C%20from%2C%20to%29%2C%0A%20%20%20%20%20%20lastLevel%20%3D%20getLastLevelColsInRange%28rangeGroups%2Egroups%29%3B%0A%0A%20%20%20%20if%20%28lastLevel%20%3D%3D%3D%20levels%2Ecols%29%20%7B%0A%20%20%20%20%20%20levels%2Ecols%2B%2B%3B%0A%20%20%20%20%7D%20else%20if%20%28lastLevel%20%3E%20levels%2Ecols%29%20%7B%0A%20%20%20%20%20%20levels%2Ecols%20%3D%20lastLevel%20%2B%201%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%21counters%2Ecols%29%20%7B%0A%20%20%20%20%20%20counters%2Ecols%20%3D%20getColGroups%28%29%2Elength%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20counters%2Ecols%2B%2B%3B%0A%20%20%20%20groups%2Epush%28%7B%0A%20%20%20%20%20%20id%3A%20%27c%27%20%2B%20counters%2Ecols%2C%0A%20%20%20%20%20%20level%3A%20lastLevel%20%2B%201%2C%0A%20%20%20%20%20%20cols%3A%20range%28from%2C%20to%29%2C%0A%20%20%20%20%20%20hidden%3A%200%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20create%20group%20for%20rows%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20from%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20to%0A%20%20%20%2A%2F%0A%20%20var%20groupRows%20%3D%20function%20%28from%2C%20to%29%20%7B%0A%20%20%20%20var%20rangeGroups%20%3D%20getRangeGroups%28%22rows%22%2C%20from%2C%20to%29%2C%0A%20%20%20%20%20%20lastLevel%20%3D%20getLastLevelRowsInRange%28rangeGroups%2Egroups%29%3B%0A%0A%20%20%20%20levels%2Erows%20%3D%20Math%2Emax%28levels%2Erows%2C%20lastLevel%20%2B%201%29%3B%0A%0A%0A%20%20%20%20if%20%28%21counters%2Erows%29%20%7B%0A%20%20%20%20%20%20counters%2Erows%20%3D%20getRowGroups%28%29%2Elength%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20counters%2Erows%2B%2B%3B%0A%20%20%20%20groups%2Epush%28%7B%0A%20%20%20%20%20%20id%3A%20%27r%27%20%2B%20counters%2Erows%2C%0A%20%20%20%20%20%20level%3A%20lastLevel%20%2B%201%2C%0A%20%20%20%20%20%20rows%3A%20range%28from%2C%20to%29%2C%0A%20%20%20%20%20%20hidden%3A%200%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20show%20or%20hide%20groups%0A%20%20%20%2A%20%40param%20showHide%0A%20%20%20%2A%20%40param%20groups%0A%20%20%20%2A%2F%0A%20%20var%20showHideGroups%20%3D%20function%20%28hidden%2C%20groups%29%20%7B%0A%20%20%20%20var%20level%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20groupsLength%20%3D%20groups%2Elength%3B%20i%20%3C%20groupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20groups%5Bi%5D%2Ehidden%20%3D%20hidden%3B%0A%20%20%20%20%20%20level%20%3D%20groups%5Bi%5D%2Elevel%3B%0A%0A%20%20%20%20%20%20if%20%28%21hiddenRows%5Blevel%5D%29%20%7B%0A%20%20%20%20%20%20%20%20hiddenRows%5Blevel%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28%21hiddenCols%5Blevel%5D%29%20%7B%0A%20%20%20%20%20%20%20%20hiddenCols%5Blevel%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28groups%5Bi%5D%2Erows%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20rowsLength%20%3D%20groups%5Bi%5D%2Erows%2Elength%3B%20j%20%3C%20rowsLength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28hidden%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hiddenRows%5Blevel%5D%5Bgroups%5Bi%5D%2Erows%5Bj%5D%5D%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hiddenRows%5Blevel%5D%5Bgroups%5Bi%5D%2Erows%5Bj%5D%5D%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20%28groups%5Bi%5D%2Ecols%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20colsLength%20%3D%20groups%5Bi%5D%2Ecols%2Elength%3B%20j%20%3C%20colsLength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28hidden%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hiddenCols%5Blevel%5D%5Bgroups%5Bi%5D%2Ecols%5Bj%5D%5D%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hiddenCols%5Blevel%5D%5Bgroups%5Bi%5D%2Ecols%5Bj%5D%5D%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Check%20if%20the%20next%20cell%20of%20the%20dimension%20%28row%20%2F%20column%29%20contains%20a%20group%20at%20the%20same%20level%0A%20%20%20%2A%20%40param%20dimension%0A%20%20%20%2A%20%40param%20currentPosition%0A%20%20%20%2A%20%40param%20level%0A%20%20%20%2A%20%40param%20currentGroupId%0A%20%20%20%2A%20%40returns%20%7Bboolean%7D%0A%20%20%20%2A%2F%0A%20%20var%20nextIndexSharesLevel%20%3D%20function%20%28dimension%2C%20currentPosition%2C%20level%2C%20currentGroupId%29%20%7B%0A%20%20%20%20var%20nextCellGroupId%0A%20%20%20%20%20%20%2C%20levelsByOrder%3B%0A%0A%20%20%20%20switch%20%28dimension%29%20%7B%0A%20%20%20%20%20%20case%20%27rows%27%3A%0A%20%20%20%20%20%20%20%20nextCellGroupId%20%3D%20getGroupByRowAndLevel%28currentPosition%20%2B%201%2C%20level%29%2Eid%3B%0A%20%20%20%20%20%20%20%20levelsByOrder%20%3D%20Handsontable%2EGrouping%2EgetGroupLevelsByRows%28%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27cols%27%3A%0A%20%20%20%20%20%20%20%20nextCellGroupId%20%3D%20getGroupByColAndLevel%28currentPosition%20%2B%201%2C%20level%29%2Eid%3B%0A%20%20%20%20%20%20%20%20levelsByOrder%20%3D%20Handsontable%2EGrouping%2EgetGroupLevelsByCols%28%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%21%21%28levelsByOrder%5BcurrentPosition%20%2B%201%5D%20%26%26%20levelsByOrder%5BcurrentPosition%20%2B%201%5D%2EindexOf%28level%29%20%3E%20%2D1%20%26%26%20currentGroupId%20%3D%3D%20nextCellGroupId%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Check%20if%20the%20previous%20cell%20of%20the%20dimension%20%28row%20%2F%20column%29%20contains%20a%20group%20at%20the%20same%20level%0A%20%20%20%2A%20%40param%20dimension%0A%20%20%20%2A%20%40param%20currentPosition%0A%20%20%20%2A%20%40param%20level%0A%20%20%20%2A%20%40param%20currentGroupId%0A%20%20%20%2A%20%40returns%20%7Bboolean%7D%0A%20%20%20%2A%2F%0A%20%20var%20previousIndexSharesLevel%20%3D%20function%20%28dimension%2C%20currentPosition%2C%20level%2C%20currentGroupId%29%20%7B%0A%20%20%20%20var%20previousCellGroupId%0A%20%20%20%20%20%20%2C%20levelsByOrder%3B%0A%0A%20%20%20%20switch%20%28dimension%29%20%7B%0A%20%20%20%20%20%20case%20%27rows%27%3A%0A%20%20%20%20%20%20%20%20previousCellGroupId%20%3D%20getGroupByRowAndLevel%28currentPosition%20%2D%201%2C%20level%29%2Eid%3B%0A%20%20%20%20%20%20%20%20levelsByOrder%20%3D%20Handsontable%2EGrouping%2EgetGroupLevelsByRows%28%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27cols%27%3A%0A%20%20%20%20%20%20%20%20previousCellGroupId%20%3D%20getGroupByColAndLevel%28currentPosition%20%2D%201%2C%20level%29%2Eid%3B%0A%20%20%20%20%20%20%20%20levelsByOrder%20%3D%20Handsontable%2EGrouping%2EgetGroupLevelsByCols%28%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%21%21%28levelsByOrder%5BcurrentPosition%20%2D%201%5D%20%26%26%20levelsByOrder%5BcurrentPosition%20%2D%201%5D%2EindexOf%28level%29%20%3E%20%2D1%20%26%26%20currentGroupId%20%3D%3D%20previousCellGroupId%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Check%20if%20the%20provided%20index%20is%20at%20the%20end%20of%20the%20group%20indicator%20line%0A%20%20%20%2A%20%40param%20dimension%0A%20%20%20%2A%20%40param%20index%0A%20%20%20%2A%20%40param%20level%0A%20%20%20%2A%20%40param%20currentGroupId%0A%20%20%20%2A%20%40returns%20%7Bboolean%7D%0A%20%20%20%2A%2F%0A%20%20var%20isLastIndexOfTheLine%20%3D%20function%20%28dimension%2C%20index%2C%20level%2C%20currentGroupId%29%20%7B%0A%20%20%20%20if%20%28index%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20var%20levelsByOrder%0A%20%20%20%20%20%20%2C%20entriesLength%0A%20%20%20%20%20%20%2C%20previousSharesLevel%20%3D%20previousIndexSharesLevel%28dimension%2C%20index%2C%20level%2C%20currentGroupId%29%0A%20%20%20%20%20%20%2C%20nextSharesLevel%20%3D%20nextIndexSharesLevel%28dimension%2C%20index%2C%20level%2C%20currentGroupId%29%0A%20%20%20%20%20%20%2C%20nextIsHidden%20%3D%20false%3B%0A%0A%20%20%20%20switch%20%28dimension%29%20%7B%0A%20%20%20%20%20%20case%20%27rows%27%3A%0A%20%20%20%20%20%20%20%20levelsByOrder%20%3D%20Handsontable%2EGrouping%2EgetGroupLevelsByRows%28%29%3B%0A%20%20%20%20%20%20%20%20entriesLength%20%3D%20instance%2EcountRows%28%29%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D%20levels%2Erows%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28hiddenRows%5Bi%5D%20%26%26%20hiddenRows%5Bi%5D%5Bindex%20%2B%201%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20nextIsHidden%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27cols%27%3A%0A%20%20%20%20%20%20%20%20levelsByOrder%20%3D%20Handsontable%2EGrouping%2EgetGroupLevelsByCols%28%29%3B%0A%20%20%20%20%20%20%20%20entriesLength%20%3D%20instance%2EcountCols%28%29%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D%20levels%2Ecols%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28hiddenCols%5Bi%5D%20%26%26%20hiddenCols%5Bi%5D%5Bindex%20%2B%201%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20nextIsHidden%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28previousSharesLevel%29%20%7B%0A%20%20%20%20%20%20if%20%28index%20%3D%3D%20entriesLength%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28%21nextSharesLevel%20%7C%7C%20%28nextSharesLevel%20%26%26%20nextIsHidden%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28%21levelsByOrder%5Bindex%20%2B%201%5D%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20false%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Check%20if%20all%20rows%2Fcols%20are%20hidden%0A%20%20%20%2A%20%40param%20dataType%0A%20%20%20%2A%2F%0A%20%20var%20isLastHidden%20%3D%20function%20%28dataType%29%20%7B%0A%20%20%20%20var%20levelAmount%3B%0A%0A%20%20%20%20switch%20%28dataType%29%20%7B%0A%20%20%20%20%20%20case%20%27rows%27%3A%0A%20%20%20%20%20%20%20%20levelAmount%20%3D%20levels%2Erows%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%3B%20j%20%3C%3D%20levelAmount%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28hiddenRows%5Bj%5D%20%26%26%20hiddenRows%5Bj%5D%5Binstance%2EcountRows%28%29%20%2D%201%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27cols%27%3A%0A%20%20%20%20%20%20%20%20levelAmount%20%3D%20levels%2Ecols%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%3B%20j%20%3C%3D%20levelAmount%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28hiddenCols%5Bj%5D%20%26%26%20hiddenCols%5Bj%5D%5Binstance%2EcountCols%28%29%20%2D%201%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20false%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Check%20if%20the%20provided%20index%20is%20at%20the%20beginning%20of%20the%20group%20indicator%20line%0A%20%20%20%2A%20%40param%20dimension%0A%20%20%20%2A%20%40param%20index%0A%20%20%20%2A%20%40param%20level%0A%20%20%20%2A%20%40param%20currentGroupId%0A%20%20%20%2A%20%40returns%20%7Bboolean%7D%0A%20%20%20%2A%2F%0A%20%20var%20isFirstIndexOfTheLine%20%3D%20function%20%28dimension%2C%20index%2C%20level%2C%20currentGroupId%29%20%7B%0A%20%20%20%20var%20levelsByOrder%0A%20%20%20%20%20%20%2C%20entriesLength%0A%20%20%20%20%20%20%2C%20currentGroup%20%3D%20getGroupById%28currentGroupId%29%0A%20%20%20%20%20%20%2C%20previousAreHidden%20%3D%20false%0A%20%20%20%20%20%20%2C%20arePreviousHidden%20%3D%20function%20%28dimension%29%20%7B%0A%20%20%20%20%20%20%20%20var%20hidden%20%3D%20false%0A%20%20%20%20%20%20%20%20%20%20%2C%20hiddenArr%20%3D%20dimension%20%3D%3D%20%27rows%27%20%3F%20hiddenRows%20%3A%20hiddenCols%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%3D%20levels%5Bdimension%5D%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20tempInd%20%3D%20index%3B%0A%20%20%20%20%20%20%20%20%20%20while%20%28currentGroup%5Bdimension%5D%2EindexOf%28tempInd%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hidden%20%3D%20%21%21%28hiddenArr%5Bi%5D%20%26%26%20hiddenArr%5Bi%5D%5BtempInd%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tempInd%2D%2D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20if%20%28hidden%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20hidden%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2C%20previousSharesLevel%20%3D%20previousIndexSharesLevel%28dimension%2C%20index%2C%20level%2C%20currentGroupId%29%0A%20%20%20%20%20%20%2C%20nextSharesLevel%20%3D%20nextIndexSharesLevel%28dimension%2C%20index%2C%20level%2C%20currentGroupId%29%0A%20%20%20%20%20%20%2C%20tempInd%3B%0A%0A%20%20%20%20switch%20%28dimension%29%20%7B%0A%20%20%20%20%20%20case%20%27rows%27%3A%0A%20%20%20%20%20%20%20%20levelsByOrder%20%3D%20Handsontable%2EGrouping%2EgetGroupLevelsByRows%28%29%3B%0A%20%20%20%20%20%20%20%20entriesLength%20%3D%20instance%2EcountRows%28%29%3B%0A%20%20%20%20%20%20%20%20previousAreHidden%20%3D%20arePreviousHidden%28dimension%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27cols%27%3A%0A%20%20%20%20%20%20%20%20levelsByOrder%20%3D%20Handsontable%2EGrouping%2EgetGroupLevelsByCols%28%29%3B%0A%20%20%20%20%20%20%20%20entriesLength%20%3D%20instance%2EcountCols%28%29%3B%0A%20%20%20%20%20%20%20%20previousAreHidden%20%3D%20arePreviousHidden%28dimension%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28index%20%3D%3D%20entriesLength%20%2D%201%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28index%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20if%20%28nextSharesLevel%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20if%20%28%21previousSharesLevel%20%7C%7C%20%28previousSharesLevel%20%26%26%20previousAreHidden%29%29%20%7B%0A%20%20%20%20%20%20if%20%28nextSharesLevel%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20if%20%28%21levelsByOrder%5Bindex%20%2D%201%5D%29%20%7B%0A%20%20%20%20%20%20if%20%28nextSharesLevel%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20false%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Add%20group%20expander%20button%0A%20%20%20%2A%20%40param%20dimension%0A%20%20%20%2A%20%40param%20index%0A%20%20%20%2A%20%40param%20level%0A%20%20%20%2A%20%40param%20id%0A%20%20%20%2A%20%40param%20elem%0A%20%20%20%2A%20%40returns%20%7B%2A%7D%0A%20%20%20%2A%2F%0A%20%20var%20addGroupExpander%20%3D%20function%20%28dataType%2C%20index%2C%20level%2C%20id%2C%20elem%29%20%7B%0A%20%20%20%20var%20previousIndexGroupId%3B%0A%0A%20%20%20%20switch%20%28dataType%29%20%7B%0A%20%20%20%20%20%20case%20%27rows%27%3A%0A%20%20%20%20%20%20%20%20previousIndexGroupId%20%3D%20getGroupByRowAndLevel%28index%20%2D%201%2C%20level%29%2Eid%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%27cols%27%3A%0A%20%20%20%20%20%20%20%20previousIndexGroupId%20%3D%20getGroupByColAndLevel%28index%20%2D%201%2C%20level%29%2Eid%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%21previousIndexGroupId%29%20%7B%0A%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28index%20%3E%200%29%20%7B%0A%20%20%20%20%20%20if%20%28previousIndexSharesLevel%28dataType%2C%20index%20%2D%201%2C%20level%2C%20previousIndexGroupId%29%20%26%26%20previousIndexGroupId%20%21%3D%20id%29%20%7B%0A%0A%20%20%20%20%20%20%20%20var%20expanderButton%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28expanderButton%2C%20classes%2EexpandButton%29%3B%0A%20%20%20%20%20%20%20%20expanderButton%2Eid%20%3D%20%27htExpand%2D%27%20%2B%20previousIndexGroupId%3B%0A%20%20%20%20%20%20%20%20expanderButton%2EappendChild%28document%2EcreateTextNode%28%27%2B%27%29%29%3B%0A%20%20%20%20%20%20%20%20expanderButton%2EsetAttribute%28%27data%2Dlevel%27%2C%20level%29%3B%0A%20%20%20%20%20%20%20%20expanderButton%2EsetAttribute%28%27data%2Dtype%27%2C%20dataType%29%3B%0A%20%20%20%20%20%20%20%20expanderButton%2EsetAttribute%28%27data%2Dhidden%27%2C%20%221%22%29%3B%0A%0A%20%20%20%20%20%20%20%20elem%2EappendChild%28expanderButton%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20expanderButton%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20null%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Check%20if%20provided%20cell%20is%20collapsed%20%28either%20by%20rows%20or%20cols%29%0A%20%20%20%2A%20%40param%20currentPosition%0A%20%20%20%2A%20%40returns%20%7Bboolean%7D%0A%20%20%20%2A%2F%0A%20%20var%20isCollapsed%20%3D%20function%20%28currentPosition%29%20%7B%0A%20%20%20%20var%20rowGroups%20%3D%20getRowGroups%28%29%0A%20%20%20%20%20%20%2C%20colGroups%20%3D%20getColGroups%28%29%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20rowGroupsCount%20%3D%20rowGroups%2Elength%3B%20i%20%3C%20rowGroupsCount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28rowGroups%5Bi%5D%2Erows%2EindexOf%28currentPosition%2Erow%29%20%3E%20%2D1%20%26%26%20rowGroups%5Bi%5D%2Ehidden%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28currentPosition%2Ecol%20%3D%3D%3D%20null%29%20%7B%20%2F%2F%20if%20col%20is%20set%20to%20null%2C%20check%20only%20rows%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20colGroupsCount%20%3D%20colGroups%2Elength%3B%20i%20%3C%20colGroupsCount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28colGroups%5Bi%5D%2Ecols%2EindexOf%28currentPosition%2Ecol%29%20%3E%20%2D1%20%26%26%20colGroups%5Bi%5D%2Ehidden%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20false%3B%0A%20%20%7D%3B%0A%0A%20%20return%20%7B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20all%20groups%20for%20ht%20instance%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20getGroups%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20groups%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20All%20levels%20for%20rows%20and%20cols%20respectively%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20getLevels%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20levels%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Current%20instance%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20instance%3A%20instance%2C%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Initial%20setting%20for%20minSpareRows%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20baseSpareRows%3A%20instance%2EgetSettings%28%29%2EminSpareRows%2C%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Initial%20setting%20for%20minSpareCols%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20baseSpareCols%3A%20instance%2EgetSettings%28%29%2EminSpareCols%2C%0A%0A%20%20%20%20getRowGroups%3A%20getRowGroups%2C%0A%20%20%20%20getColGroups%3A%20getColGroups%2C%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20init%20group%0A%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20settings%2C%20could%20be%20an%20array%20of%20objects%20%5B%7Bcols%3A%20%5B0%2C1%2C2%5D%7D%2C%20%7Bcols%3A%20%5B3%2C4%2C5%5D%7D%2C%20%7Brows%3A%20%5B0%2C1%5D%7D%5D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20init%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20groupsSetting%20%3D%20instance%2EgetSettings%28%29%2Egroups%3B%0A%20%20%20%20%20%20if%20%28groupsSetting%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28Array%2EisArray%28groupsSetting%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EGrouping%2EinitGroups%28groupsSetting%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20init%20groups%20from%20configuration%20on%20startup%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20initGroups%3A%20function%20%28initialGroups%29%20%7B%0A%20%20%20%20%20%20var%20that%20%3D%20this%3B%0A%0A%20%20%20%20%20%20groups%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20initialGroups%2EforEach%28function%20%28item%29%20%7B%0A%20%20%20%20%20%20%20%20var%20%5Fgroup%20%3D%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20isRow%20%3D%20false%2C%0A%20%20%20%20%20%20%20%20%20%20isCol%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28Array%2EisArray%28item%2Erows%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fgroup%20%3D%20item%2Erows%3B%0A%20%20%20%20%20%20%20%20%20%20isRow%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28Array%2EisArray%28item%2Ecols%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fgroup%20%3D%20item%2Ecols%3B%0A%20%20%20%20%20%20%20%20%20%20isCol%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20var%20from%20%3D%20%5Fgroup%5B0%5D%2C%0A%20%20%20%20%20%20%20%20%20%20to%20%3D%20%5Fgroup%5B%5Fgroup%2Elength%20%2D%201%5D%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28isRow%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20groupRows%28from%2C%20to%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isCol%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20groupCols%28from%2C%20to%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%29%3B%0A%2F%2F%20%20%20%20%20%20this%2Erender%28%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Remove%20all%20existing%20groups%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20resetGroups%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20groups%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20counters%20%3D%20%7B%0A%20%20%20%20%20%20%20%20rows%3A%200%2C%0A%20%20%20%20%20%20%20%20cols%3A%200%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20levels%20%3D%20%7B%0A%20%20%20%20%20%20%20%20rows%3A%200%2C%0A%20%20%20%20%20%20%20%20cols%3A%200%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20var%20allOccurrences%3B%0A%20%20%20%20%20%20for%20%28var%20i%20in%20classes%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20classes%5Bi%5D%20%21%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20allOccurrences%20%3D%20document%2EquerySelectorAll%28%27%2E%27%20%2B%20classes%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20occurrencesLength%20%3D%20allOccurrences%2Elength%3B%20j%20%3C%20occurrencesLength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28allOccurrences%5Bj%5D%2C%20classes%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20otherClasses%20%3D%20%5B%27htGroupColClosest%27%2C%20%27htGroupCol%27%5D%3B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20otherClassesLength%20%3D%20otherClasses%2Elength%3B%20i%20%3C%20otherClassesLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20allOccurrences%20%3D%20document%2EquerySelectorAll%28%27%2E%27%20%2B%20otherClasses%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20occurrencesLength%20%3D%20allOccurrences%2Elength%3B%20j%20%3C%20occurrencesLength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28allOccurrences%5Bj%5D%2C%20otherClasses%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Update%20groups%20from%20the%20instance%20settings%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20updateGroups%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20groupSettings%20%3D%20this%2EgetSettings%28%29%2Egroups%3B%0A%0A%20%20%20%20%20%20Handsontable%2EGrouping%2EresetGroups%28%29%3B%0A%20%20%20%20%20%20Handsontable%2EGrouping%2EinitGroups%28groupSettings%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20afterGetRowHeader%3A%20function%20%28row%2C%20TH%29%20%7B%0A%20%20%20%20%20%20var%20currentRowHidden%20%3D%20false%3B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20levels%20%3D%20hiddenRows%2Elength%3B%20i%20%3C%20levels%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28hiddenRows%5Bi%5D%20%26%26%20hiddenRows%5Bi%5D%5Brow%5D%20%3D%3D%3D%20true%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentRowHidden%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28currentRowHidden%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TH%2EparentNode%2C%20%27hidden%27%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28%21currentRowHidden%20%26%26%20Handsontable%2EDom%2EhasClass%28TH%2EparentNode%2C%20%27hidden%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28TH%2EparentNode%2C%20%27hidden%27%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%2C%0A%20%20%20%20afterGetColHeader%3A%20function%20%28col%2C%20TH%29%20%7B%0A%20%20%20%20%20%20var%20rowHeaders%20%3D%20this%2Eview%2Ewt%2EwtSettings%2EgetSetting%28%27rowHeaders%27%29%2Elength%0A%20%20%20%20%20%20%20%20%2C%20thisColgroup%20%3D%20instance%2ErootElement%2EquerySelectorAll%28%27colgroup%20col%3Anth%2Dchild%28%27%20%2B%20parseInt%28col%20%2B%20rowHeaders%20%2B%201%2C%2010%29%20%2B%20%27%29%27%29%3B%0A%0A%20%20%20%20%20%20if%20%28thisColgroup%2Elength%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20currentColHidden%20%3D%20false%3B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20levels%20%3D%20hiddenCols%2Elength%3B%20i%20%3C%20levels%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28hiddenCols%5Bi%5D%20%26%26%20hiddenCols%5Bi%5D%5Bcol%5D%20%3D%3D%3D%20true%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20currentColHidden%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28currentColHidden%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20colsAmount%20%3D%20thisColgroup%2Elength%3B%20i%20%3C%20colsAmount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28thisColgroup%5Bi%5D%2C%20%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20%28%21currentColHidden%20%26%26%20Handsontable%2EDom%2EhasClass%28thisColgroup%5B0%5D%2C%20%27hidden%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20colsAmount%20%3D%20thisColgroup%2Elength%3B%20i%20%3C%20colsAmount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28thisColgroup%5Bi%5D%2C%20%27hidden%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Create%20a%20renderer%20for%20additional%20row%2Fcol%20headers%2C%20acting%20as%20group%20indicators%0A%20%20%20%20%20%2A%20%40param%20walkontableConfig%0A%20%20%20%20%20%2A%20%40param%20direction%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20groupIndicatorsFactory%3A%20function%20%28renderersArr%2C%20direction%29%20%7B%0A%20%20%20%20%20%20var%20groupsLevelsList%0A%20%20%20%20%20%20%20%20%2C%20getCurrentLevel%0A%20%20%20%20%20%20%20%20%2C%20getCurrentGroupId%0A%20%20%20%20%20%20%20%20%2C%20dataType%0A%20%20%20%20%20%20%20%20%2C%20getGroupByIndexAndLevel%0A%20%20%20%20%20%20%20%20%2C%20headersType%0A%20%20%20%20%20%20%20%20%2C%20currentHeaderModifier%0A%20%20%20%20%20%20%20%20%2C%20createLevelTriggers%3B%0A%0A%20%20%20%20%20%20switch%20%28direction%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%27horizontal%27%3A%0A%20%20%20%20%20%20%20%20%20%20groupsLevelsList%20%3D%20Handsontable%2EGrouping%2EgetGroupLevelsByCols%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20getCurrentLevel%20%3D%20function%20%28elem%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Array%2Eprototype%2EindexOf%2Ecall%28elem%2EparentNode%2EparentNode%2EchildNodes%2C%20elem%2EparentNode%29%20%2B%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20getCurrentGroupId%20%3D%20function%20%28col%2C%20level%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20getGroupByColAndLevel%28col%2C%20level%29%2Eid%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20dataType%20%3D%20%27cols%27%3B%0A%20%20%20%20%20%20%20%20%20%20getGroupByIndexAndLevel%20%3D%20function%20%28col%2C%20level%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20getGroupByColAndLevel%28col%20%2D%201%2C%20level%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20headersType%20%3D%20%22columnHeaders%22%3B%0A%20%20%20%20%20%20%20%20%20%20currentHeaderModifier%20%3D%20function%20%28headerRenderers%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28headerRenderers%2Elength%20%3D%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20oldFn%20%3D%20headerRenderers%5B0%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20headerRenderers%5B0%5D%20%3D%20function%20%28index%2C%20elem%2C%20level%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28index%20%3C%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20makeGroupIndicatorsForLevel%28%29%28index%2C%20elem%2C%20level%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28elem%2C%20classes%2EgroupIndicatorContainer%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldFn%28index%2C%20elem%2C%20level%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20headerRenderers%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20createLevelTriggers%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27vertical%27%3A%0A%20%20%20%20%20%20%20%20%20%20groupsLevelsList%20%3D%20Handsontable%2EGrouping%2EgetGroupLevelsByRows%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20getCurrentLevel%20%3D%20function%20%28elem%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Handsontable%2EDom%2Eindex%28elem%29%20%2B%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20getCurrentGroupId%20%3D%20function%20%28row%2C%20level%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20getGroupByRowAndLevel%28row%2C%20level%29%2Eid%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20dataType%20%3D%20%27rows%27%3B%0A%20%20%20%20%20%20%20%20%20%20getGroupByIndexAndLevel%20%3D%20function%20%28row%2C%20level%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20getGroupByRowAndLevel%28row%20%2D%201%2C%20level%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20headersType%20%3D%20%22rowHeaders%22%3B%0A%20%20%20%20%20%20%20%20%20%20currentHeaderModifier%20%3D%20function%20%28headerRenderers%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20headerRenderers%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20createButton%20%3D%20function%20%28parent%29%20%7B%0A%20%20%20%20%20%20%20%20var%20button%20%3D%20document%2EcreateElement%28%27div%27%29%3B%0A%0A%20%20%20%20%20%20%20%20parent%2EappendChild%28button%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20button%3A%20button%2C%0A%20%20%20%20%20%20%20%20%20%20addClass%3A%20function%20%28className%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28button%2C%20className%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20var%20makeGroupIndicatorsForLevel%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20directionClassname%20%3D%20direction%2EcharAt%280%29%2EtoUpperCase%28%29%20%2B%20direction%2Eslice%281%29%3B%20%2F%2F%20capitalize%20the%20first%20letter%0A%0A%20%20%20%20%20%20%20%20return%20function%20%28index%2C%20elem%2C%20level%29%20%7B%20%2F%2F%20header%20rendering%20function%0A%0A%20%20%20%20%20%20%20%20%20%20level%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20var%20child%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20collapseButton%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2A%20jshint%20%2DW084%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20while%20%28child%20%3D%20elem%2ElastChild%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20elem%2EremoveChild%28child%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28elem%2C%20classes%2EgroupIndicatorContainer%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20var%20currentGroupId%20%3D%20getCurrentGroupId%28index%2C%20level%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28index%20%3E%20%2D1%20%26%26%20%28groupsLevelsList%5Bindex%5D%20%26%26%20groupsLevelsList%5Bindex%5D%2EindexOf%28level%29%20%3E%20%2D1%29%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%20%3D%20createButton%28elem%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2EaddClass%28classes%2EgroupIndicator%28directionClassname%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isFirstIndexOfTheLine%28dataType%2C%20index%2C%20level%2C%20currentGroupId%29%29%20%7B%20%2F%2F%20add%20a%20little%20thingy%20and%20the%20top%20of%20the%20group%20indicator%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2EaddClass%28classes%2EgroupStart%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isLastIndexOfTheLine%28dataType%2C%20index%2C%20level%2C%20currentGroupId%29%29%20%7B%20%2F%2F%20add%20%5B%2B%5D%2F%5B%2D%5D%20button%20at%20the%20end%20of%20the%20line%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2Ebutton%2EappendChild%28document%2EcreateTextNode%28%27%2D%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2EaddClass%28classes%2EcollapseButton%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2Ebutton%2Eid%20%3D%20classes%2EcollapseGroupId%28currentGroupId%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2Ebutton%2EsetAttribute%28%27data%2Dlevel%27%2C%20level%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2Ebutton%2EsetAttribute%28%27data%2Dtype%27%2C%20dataType%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28createLevelTriggers%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20rowInd%20%3D%20Handsontable%2EDom%2Eindex%28elem%2EparentNode%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28index%20%3D%3D%3D%20%2D1%20%7C%7C%20%28index%20%3C%20%2D1%20%26%26%20rowInd%20%3D%3D%3D%20Handsontable%2EGrouping%2EgetLevels%28%29%2Ecols%20%2B%201%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28rowInd%20%3D%3D%3D%200%20%26%26%20Handsontable%2EGrouping%2EgetLevels%28%29%2Ecols%20%3D%3D%3D%200%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%20%3D%20createButton%28elem%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2EaddClass%28classes%2ElevelTrigger%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28index%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2Ebutton%2Eid%20%3D%20classes%2EcollapseFromLevel%28%22Cols%22%2C%20level%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2Ebutton%2EappendChild%28document%2EcreateTextNode%28level%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28index%20%3C%20%2D1%20%26%26%20rowInd%20%3D%3D%3D%20Handsontable%2EGrouping%2EgetLevels%28%29%2Ecols%20%2B%201%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28rowInd%20%3D%3D%3D%200%20%26%26%20Handsontable%2EGrouping%2EgetLevels%28%29%2Ecols%20%3D%3D%3D%200%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20colInd%20%3D%20Handsontable%2EDom%2Eindex%28elem%29%20%2B%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2Ebutton%2Eid%20%3D%20classes%2EcollapseFromLevel%28%22Rows%22%2C%20colInd%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20collapseButton%2Ebutton%2EappendChild%28document%2EcreateTextNode%28colInd%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20add%20group%20expending%20button%0A%20%20%20%20%20%20%20%20%20%20var%20expanderButton%20%3D%20addGroupExpander%28dataType%2C%20index%2C%20level%2C%20currentGroupId%2C%20elem%29%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28index%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20previousGroupObj%20%3D%20getGroupByIndexAndLevel%28index%20%2D%201%2C%20level%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28expanderButton%20%26%26%20previousGroupObj%2Ehidden%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28expanderButton%2C%20classes%2Eclickable%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20updateHeaderWidths%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%0A%20%20%20%20%20%20renderersArr%20%3D%20currentHeaderModifier%28renderersArr%29%3B%0A%0A%0A%20%20%20%20%20%20if%20%28counters%5BdataType%5D%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20levels%5BdataType%5D%20%2B%201%3B%20i%2B%2B%29%20%7B%20%2F%2F%20for%20each%20level%20of%20col%20groups%20add%20a%20header%20renderer%0A%20%20%20%20%20%20%20%20%20%20if%20%28%21Array%2EisArray%28renderersArr%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20renderersArr%20%3D%20typeof%20renderersArr%20%3D%3D%3D%20%27function%27%20%3F%20renderersArr%28%29%20%3A%20new%20Array%28renderersArr%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20renderersArr%2Eunshift%28makeGroupIndicatorsForLevel%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Get%20group%20levels%20array%20arranged%20by%20rows%0A%20%20%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20getGroupLevelsByRows%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20rowGroups%20%3D%20getRowGroups%28%29%0A%20%20%20%20%20%20%20%20%2C%20result%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20groupsLength%20%3D%20rowGroups%2Elength%3B%20i%20%3C%20groupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28rowGroups%5Bi%5D%2Erows%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20groupRowsLength%20%3D%20rowGroups%5Bi%5D%2Erows%2Elength%3B%20j%20%3C%20groupRowsLength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21result%5BrowGroups%5Bi%5D%2Erows%5Bj%5D%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20result%5BrowGroups%5Bi%5D%2Erows%5Bj%5D%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20result%5BrowGroups%5Bi%5D%2Erows%5Bj%5D%5D%2Epush%28rowGroups%5Bi%5D%2Elevel%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Get%20group%20levels%20array%20arranged%20by%20cols%0A%20%20%20%20%20%2A%20%40returns%20%7BArray%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20getGroupLevelsByCols%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20var%20colGroups%20%3D%20getColGroups%28%29%0A%20%20%20%20%20%20%20%20%2C%20result%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20groupsLength%20%3D%20colGroups%2Elength%3B%20i%20%3C%20groupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28colGroups%5Bi%5D%2Ecols%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20groupColsLength%20%3D%20colGroups%5Bi%5D%2Ecols%2Elength%3B%20j%20%3C%20groupColsLength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21result%5BcolGroups%5Bi%5D%2Ecols%5Bj%5D%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20result%5BcolGroups%5Bi%5D%2Ecols%5Bj%5D%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20result%5BcolGroups%5Bi%5D%2Ecols%5Bj%5D%5D%2Epush%28colGroups%5Bi%5D%2Elevel%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20result%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Toggle%20the%20group%20visibility%20%28%20%2B%20%2F%20%2D%20event%20handler%29%0A%20%20%20%20%20%2A%20%40param%20event%0A%20%20%20%20%20%2A%20%40param%20coords%0A%20%20%20%20%20%2A%20%40param%20TD%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20toggleGroupVisibility%3A%20function%20%28event%2C%20coords%2C%20TD%29%20%7B%0A%20%20%20%20%20%20if%20%28Handsontable%2EDom%2EhasClass%28event%2Etarget%2C%20classes%2EexpandButton%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EhasClass%28event%2Etarget%2C%20classes%2EcollapseButton%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EhasClass%28event%2Etarget%2C%20classes%2ElevelTrigger%29%29%20%7B%0A%20%20%20%20%20%20%20%20var%20element%20%3D%20event%2Etarget%0A%20%20%20%20%20%20%20%20%20%20%2C%20elemIdSplit%20%3D%20element%2Eid%2Esplit%28%27%2D%27%29%3B%0A%0A%20%20%20%20%20%20%20%20var%20groups%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%2C%20id%0A%20%20%20%20%20%20%20%20%20%20%2C%20level%0A%20%20%20%20%20%20%20%20%20%20%2C%20type%0A%20%20%20%20%20%20%20%20%20%20%2C%20hidden%3B%0A%0A%20%20%20%20%20%20%20%20var%20prepareGroupData%20%3D%20function%20%28componentElement%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28componentElement%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20element%20%3D%20componentElement%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20elemIdSplit%20%3D%20element%2Eid%2Esplit%28%27%2D%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20id%20%3D%20elemIdSplit%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20level%20%3D%20parseInt%28element%2EgetAttribute%28%27data%2Dlevel%27%29%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20type%20%3D%20element%2EgetAttribute%28%27data%2Dtype%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20hidden%20%3D%20parseInt%28element%2EgetAttribute%28%27data%2Dhidden%27%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28isNaN%28hidden%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hidden%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hidden%20%3D%20%28hidden%20%3F%200%20%3A%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20element%2EsetAttribute%28%27data%2Dhidden%27%2C%20hidden%2EtoString%28%29%29%3B%0A%0A%0A%20%20%20%20%20%20%20%20%20%20groups%2Epush%28getGroupById%28id%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28element%2EclassName%2EindexOf%28classes%2ElevelTrigger%29%20%3E%20%2D1%29%20%7B%20%2F%2F%20show%20levels%20below%2C%20hide%20all%20above%0A%20%20%20%20%20%20%20%20%20%20var%20groupsInLevel%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20groupsToExpand%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20groupsToCollapse%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20levelType%20%3D%20element%2Eid%2EindexOf%28%22Rows%22%29%20%3E%20%2D1%20%3F%20%22rows%22%20%3A%20%22cols%22%3B%0A%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%201%2C%20levelsCount%20%3D%20levels%5BlevelType%5D%3B%20i%20%3C%3D%20levelsCount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20groupsInLevel%20%3D%20levelType%20%3D%3D%20%22rows%22%20%3F%20getRowGroupsByLevel%28i%29%20%3A%20getColGroupsByLevel%28i%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28i%20%3E%3D%20parseInt%28elemIdSplit%5B1%5D%2C%2010%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20groupCount%20%3D%20groupsInLevel%2Elength%3B%20j%20%3C%20groupCount%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20groupsToCollapse%2Epush%28groupsInLevel%5Bj%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20groupCount%20%3D%20groupsInLevel%2Elength%3B%20j%20%3C%20groupCount%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20groupsToExpand%2Epush%28groupsInLevel%5Bj%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20showHideGroups%28true%2C%20groupsToCollapse%29%3B%0A%20%20%20%20%20%20%20%20%20%20showHideGroups%28false%2C%20groupsToExpand%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20prepareGroupData%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20showHideGroups%28hidden%2C%20groups%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20add%20the%20expander%20button%20to%20a%20dummy%20spare%20row%2Fcol%2C%20if%20no%20longer%20needed%20%2D%3E%20remove%20it%0A%20%20%20%20%20%20%20%20%2F%2A%20jshint%20%2DW038%20%2A%2F%0A%20%20%20%20%20%20%20%20type%20%3D%20type%20%7C%7C%20levelType%3B%0A%0A%20%20%20%20%20%20%20%20var%20lastHidden%20%3D%20isLastHidden%28type%29%0A%20%20%20%20%20%20%20%20%20%20%2C%20typeUppercase%20%3D%20type%2EcharAt%280%29%2EtoUpperCase%28%29%20%2B%20type%2Eslice%281%29%0A%20%20%20%20%20%20%20%20%20%20%2C%20spareElements%20%3D%20Handsontable%2EGrouping%5B%27baseSpare%27%20%2B%20typeUppercase%5D%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28lastHidden%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2A%20jshint%20%2DW041%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20if%20%28spareElements%20%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20instance%2Ealter%28%27insert%5F%27%20%2B%20type%2Eslice%280%2C%20%2D1%29%2C%20instance%5B%27count%27%20%2B%20typeUppercase%5D%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2EGrouping%5B%22dummy%22%20%2B%20type%2Eslice%280%2C%20%2D1%29%5D%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2A%20jshint%20%2DW041%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20if%20%28spareElements%20%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Handsontable%2EGrouping%5B%22dummy%22%20%2B%20type%2Eslice%280%2C%20%2D1%29%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20instance%2Ealter%28%27remove%5F%27%20%2B%20type%2Eslice%280%2C%20%2D1%29%2C%20instance%5B%27count%27%20%2B%20typeUppercase%5D%28%29%20%2D%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Handsontable%2EGrouping%5B%22dummy%22%20%2B%20type%2Eslice%280%2C%20%2D1%29%5D%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20instance%2Erender%28%29%3B%0A%0A%20%20%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Modify%20the%20delta%20when%20changing%20cells%20using%20keyobard%0A%20%20%20%20%20%2A%20%40param%20position%0A%20%20%20%20%20%2A%20%40returns%20%7BFunction%7D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20modifySelectionFactory%3A%20function%20%28position%29%20%7B%0A%20%20%20%20%20%20var%20instance%20%3D%20this%2Einstance%3B%0A%20%20%20%20%20%20var%20currentlySelected%0A%20%20%20%20%20%20%20%20%2C%20nextPosition%20%3D%20new%20WalkontableCellCoords%280%2C%200%29%0A%20%20%20%20%20%20%20%20%2C%20nextVisible%20%3D%20function%20%28direction%2C%20currentPosition%29%20%7B%20%2F%2F%20updates%20delta%20to%20skip%20to%20the%20next%20visible%20cell%0A%20%20%20%20%20%20%20%20%20%20var%20updateDelta%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20switch%20%28direction%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27down%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20%28isCollapsed%28currentPosition%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateDelta%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentPosition%2Erow%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27up%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20%28isCollapsed%28currentPosition%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateDelta%2D%2D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentPosition%2Erow%20%2D%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27right%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20%28isCollapsed%28currentPosition%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateDelta%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentPosition%2Ecol%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27left%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%20%28isCollapsed%28currentPosition%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateDelta%2D%2D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentPosition%2Ecol%20%2D%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20return%20updateDelta%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2C%20updateDelta%20%3D%20function%20%28delta%2C%20nextPosition%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28delta%2Erow%20%3E%200%29%20%7B%20%2F%2F%20moving%20down%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isCollapsed%28nextPosition%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20delta%2Erow%20%2B%3D%20nextVisible%28%27down%27%2C%20nextPosition%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28delta%2Erow%20%3C%200%29%20%7B%20%2F%2F%20moving%20up%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isCollapsed%28nextPosition%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20delta%2Erow%20%2B%3D%20nextVisible%28%27up%27%2C%20nextPosition%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28delta%2Ecol%20%3E%200%29%20%7B%20%2F%2F%20moving%20right%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isCollapsed%28nextPosition%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20delta%2Ecol%20%2B%3D%20nextVisible%28%27right%27%2C%20nextPosition%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28delta%2Ecol%20%3C%200%29%20%7B%20%2F%2F%20moving%20left%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isCollapsed%28nextPosition%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20delta%2Ecol%20%2B%3D%20nextVisible%28%27left%27%2C%20nextPosition%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%2F%2A%20jshint%20%2DW027%20%2A%2F%0A%20%20%20%20%20%20switch%20%28position%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%27start%27%3A%0A%20%20%20%20%20%20%20%20%20%20return%20function%20%28delta%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentlySelected%20%3D%20instance%2EgetSelected%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20nextPosition%2Erow%20%3D%20currentlySelected%5B0%5D%20%2B%20delta%2Erow%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20nextPosition%2Ecol%20%3D%20currentlySelected%5B1%5D%20%2B%20delta%2Ecol%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20updateDelta%28delta%2C%20nextPosition%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27end%27%3A%0A%20%20%20%20%20%20%20%20%20%20return%20function%20%28delta%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentlySelected%20%3D%20instance%2EgetSelected%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20nextPosition%2Erow%20%3D%20currentlySelected%5B2%5D%20%2B%20delta%2Erow%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20nextPosition%2Ecol%20%3D%20currentlySelected%5B3%5D%20%2B%20delta%2Ecol%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20updateDelta%28delta%2C%20nextPosition%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20modifyRowHeight%3A%20function%20%28height%2C%20row%29%20%7B%0A%20%20%20%20%20%20if%20%28instance%2Eview%2Ewt%2EwtTable%2ErowFilter%20%26%26%20isCollapsed%28%7Brow%3A%20row%2C%20col%3A%20null%7D%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%20%20%20%20validateGroups%3A%20function%20%28%29%20%7B%0A%0A%20%20%20%20%20%20var%20areRangesOverlapping%20%3D%20function%20%28a%2C%20b%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%28a%5B0%5D%20%3C%20b%5B0%5D%20%26%26%20a%5B1%5D%20%3C%20b%5B1%5D%20%26%26%20b%5B0%5D%20%3C%3D%20a%5B1%5D%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%28a%5B0%5D%20%3E%20b%5B0%5D%20%26%26%20b%5B1%5D%20%3C%20a%5B1%5D%20%26%26%20a%5B0%5D%20%3C%3D%20b%5B1%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20var%20configGroups%20%3D%20instance%2EgetSettings%28%29%2Egroups%0A%20%20%20%20%20%20%20%20%2C%20cols%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%2C%20rows%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20groupsLength%20%3D%20configGroups%2Elength%3B%20i%20%3C%20groupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28configGroups%5Bi%5D%2Erows%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2A%20jshint%20%2DW027%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20if%28configGroups%5Bi%5D%2Erows%2Elength%20%3D%3D%3D%201%29%20%7B%20%2F%2F%20single%2Dentry%20group%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22Grouping%20error%3A%20%20Group%20%7B%22%20%2B%20configGroups%5Bi%5D%2Erows%5B0%5D%20%2B%20%22%7D%20is%20invalid%2E%20Cannot%20define%20single%2Dentry%20groups%2E%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%28configGroups%5Bi%5D%2Erows%2Elength%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22Grouping%20error%3A%20%20Cannot%20define%20empty%20groups%2E%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20rows%2Epush%28configGroups%5Bi%5D%2Erows%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20rowsLength%20%3D%20rows%2Elength%3B%20j%20%3C%20rowsLength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28areRangesOverlapping%28configGroups%5Bi%5D%2Erows%2C%20rows%5Bj%5D%29%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22Grouping%20error%3A%20%20ranges%20%7B%22%20%2B%20configGroups%5Bi%5D%2Erows%5B0%5D%20%2B%20%22%2C%20%22%20%2B%20configGroups%5Bi%5D%2Erows%5B1%5D%20%2B%20%22%7D%20and%20%7B%22%20%2B%20rows%5Bj%5D%5B0%5D%20%2B%20%22%2C%20%22%20%2B%20rows%5Bj%5D%5B1%5D%20%2B%20%22%7D%20are%20overlapping%2E%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28configGroups%5Bi%5D%2Ecols%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20if%28configGroups%5Bi%5D%2Ecols%2Elength%20%3D%3D%3D%201%29%20%7B%20%2F%2F%20single%2Dentry%20group%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22Grouping%20error%3A%20%20Group%20%7B%22%20%2B%20configGroups%5Bi%5D%2Ecols%5B0%5D%20%2B%20%22%7D%20is%20invalid%2E%20Cannot%20define%20single%2Dentry%20groups%2E%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%28configGroups%5Bi%5D%2Ecols%2Elength%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22Grouping%20error%3A%20%20Cannot%20define%20empty%20groups%2E%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20cols%2Epush%28configGroups%5Bi%5D%2Ecols%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20for%20%28var%20j%20%3D%200%2C%20colsLength%20%3D%20cols%2Elength%3B%20j%20%3C%20colsLength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28areRangesOverlapping%28configGroups%5Bi%5D%2Ecols%2C%20cols%5Bj%5D%29%29%20%7B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%22Grouping%20error%3A%20%20ranges%20%7B%22%20%2B%20configGroups%5Bi%5D%2Ecols%5B0%5D%20%2B%20%22%2C%20%22%20%2B%20configGroups%5Bi%5D%2Ecols%5B1%5D%20%2B%20%22%7D%20and%20%7B%22%20%2B%20cols%5Bj%5D%5B0%5D%20%2B%20%22%2C%20%22%20%2B%20cols%5Bj%5D%5B1%5D%20%2B%20%22%7D%20are%20overlapping%2E%22%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20afterGetRowHeaderRenderers%3A%20function%20%28arr%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EGrouping%2EgroupIndicatorsFactory%28arr%2C%20%27vertical%27%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20afterGetColumnHeaderRenderers%3A%20function%20%28arr%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EGrouping%2EgroupIndicatorsFactory%28arr%2C%20%27horizontal%27%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20hookProxy%3A%20function%20%28fn%2C%20arg%29%20%7B%0A%20%20%20%20%20%20return%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28instance%2EgetSettings%28%29%2Egroups%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20arg%20%3F%20Handsontable%2EGrouping%5Bfn%5D%28arg%29%2Eapply%28this%2C%20arguments%29%20%3A%20Handsontable%2EGrouping%5Bfn%5D%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20void%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20create%20new%20instance%0A%20%2A%2F%0Avar%20init%20%3D%20function%20%28%29%20%7B%0A%20%20var%20instance%20%3D%20this%2C%0A%20%20%20%20groupingSetting%20%3D%20%21%21%28instance%2EgetSettings%28%29%2Egroups%29%3B%0A%0A%0A%20%20if%20%28groupingSetting%29%20%7B%0A%20%20%20%20var%20headerUpdates%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20Handsontable%2EGrouping%20%3D%20new%20Grouping%28instance%29%3B%0A%0A%20%20%20%20if%20%28%21instance%2EgetSettings%28%29%2ErowHeaders%29%20%7B%20%2F%2F%20force%20using%20rowHeaders%20%20%2D%2D%20%20needs%20to%20be%20changed%20later%0A%20%20%20%20%20%20headerUpdates%2ErowHeaders%20%3D%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%21instance%2EgetSettings%28%29%2EcolHeaders%29%20%7B%20%2F%2F%20force%20using%20colHeaders%20%20%2D%2D%20%20needs%20to%20be%20changed%20later%0A%20%20%20%20%20%20headerUpdates%2EcolHeaders%20%3D%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28headerUpdates%2EcolHeaders%20%7C%7C%20headerUpdates%2ErowHeaders%29%20%7B%0A%20%20%20%20%20%20instance%2EupdateSettings%28headerUpdates%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20groupConfigValid%20%3D%20Handsontable%2EGrouping%2EvalidateGroups%28%29%3B%0A%20%20%20%20if%20%28%21groupConfigValid%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20instance%2EaddHook%28%27beforeInit%27%2C%20Handsontable%2EGrouping%2EhookProxy%28%27init%27%29%29%3B%0A%20%20%20%20instance%2EaddHook%28%27afterUpdateSettings%27%2C%20Handsontable%2EGrouping%2EhookProxy%28%27updateGroups%27%29%29%3B%0A%20%20%20%20instance%2EaddHook%28%27afterGetColumnHeaderRenderers%27%2C%20Handsontable%2EGrouping%2EhookProxy%28%27afterGetColumnHeaderRenderers%27%29%29%3B%0A%20%20%20%20instance%2EaddHook%28%27afterGetRowHeaderRenderers%27%2C%20Handsontable%2EGrouping%2EhookProxy%28%27afterGetRowHeaderRenderers%27%29%29%3B%0A%20%20%20%20instance%2EaddHook%28%27afterGetRowHeader%27%2C%20Handsontable%2EGrouping%2EhookProxy%28%27afterGetRowHeader%27%29%29%3B%0A%20%20%20%20instance%2EaddHook%28%27afterGetColHeader%27%2C%20Handsontable%2EGrouping%2EhookProxy%28%27afterGetColHeader%27%29%29%3B%0A%20%20%20%20instance%2EaddHook%28%27beforeOnCellMouseDown%27%2C%20Handsontable%2EGrouping%2EhookProxy%28%27toggleGroupVisibility%27%29%29%3B%0A%20%20%20%20instance%2EaddHook%28%27modifyTransformStart%27%2C%20Handsontable%2EGrouping%2EhookProxy%28%27modifySelectionFactory%27%2C%20%27start%27%29%29%3B%0A%20%20%20%20instance%2EaddHook%28%27modifyTransformEnd%27%2C%20Handsontable%2EGrouping%2EhookProxy%28%27modifySelectionFactory%27%2C%20%27end%27%29%29%3B%0A%20%20%20%20instance%2EaddHook%28%27modifyRowHeight%27%2C%20Handsontable%2EGrouping%2EhookProxy%28%27modifyRowHeight%27%29%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Update%20headers%20widths%20for%20the%20group%20indicators%0A%20%2A%2F%0A%2F%2F%20TODO%3A%20this%20needs%20cleaning%20up%0Avar%20updateHeaderWidths%20%3D%20function%20%28%29%20%7B%0A%20%20var%20colgroups%20%3D%20document%2EquerySelectorAll%28%27colgroup%27%29%3B%0A%20%20for%20%28var%20i%20%3D%200%2C%20colgroupsLength%20%3D%20colgroups%2Elength%3B%20i%20%3C%20colgroupsLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20var%20rowHeaders%20%3D%20colgroups%5Bi%5D%2EquerySelectorAll%28%27col%2ErowHeader%27%29%3B%0A%20%20%20%20if%20%28rowHeaders%2Elength%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%20%20%20%20for%20%28var%20j%20%3D%200%2C%20rowHeadersLength%20%3D%20rowHeaders%2Elength%20%2B%201%3B%20j%20%3C%20rowHeadersLength%3B%20j%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28rowHeadersLength%20%3D%3D%202%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28j%20%3C%20Handsontable%2EGrouping%2EgetLevels%28%29%2Erows%20%2B%201%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28j%20%3D%3D%20Handsontable%2EGrouping%2EgetLevels%28%29%2Erows%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28rowHeaders%5Bj%5D%2C%20%27htGroupColClosest%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28rowHeaders%5Bj%5D%2C%20%27htGroupCol%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0AHandsontable%2Ehooks%2Eadd%28%27beforeInit%27%2C%20init%29%3B%0A%0AHandsontable%2Ehooks%2Eadd%28%27afterUpdateSettings%27%2C%20function%20%28%29%20%7B%0A%0A%20%20if%20%28this%2EgetSettings%28%29%2Egroups%20%26%26%20%21Handsontable%2EGrouping%29%20%7B%0A%20%20%20%20init%2Ecall%28this%2C%20arguments%29%3B%0A%20%20%7D%20else%20if%20%28%21this%2EgetSettings%28%29%2Egroups%20%26%26%20Handsontable%2EGrouping%29%20%7B%0A%20%20%20%20Handsontable%2EGrouping%2EresetGroups%28%29%3B%0A%20%20%20%20Handsontable%2EGrouping%20%3D%20void%200%3B%0A%20%20%7D%0A%7D%29%3B%0A%0AHandsontable%2Eplugins%2EGrouping%20%3D%20Grouping%3B%0A%0A%28function%20%28Handsontable%29%20%7B%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Plugin%20used%20to%20allow%20user%20to%20copy%20and%20paste%20from%20the%20context%20menu%0A%20%20%20%2A%20Currently%20uses%20ZeroClipboard%20due%20to%20browser%20limitations%0A%20%20%20%2A%20%40constructor%0A%20%20%20%2A%2F%0A%20%20function%20ContextMenuCopyPaste%28%29%20%7B%0A%20%20%20%20this%2EzeroClipboardInstance%20%3D%20null%3B%0A%20%20%20%20this%2Einstance%20%3D%20null%3B%0A%20%20%7D%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Configure%20ZeroClipboard%0A%20%20%20%2A%2F%0A%20%20ContextMenuCopyPaste%2Eprototype%2EprepareZeroClipboard%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%28this%2EswfPath%29%20%7B%0A%20%20%20%20%20%20ZeroClipboard%2Econfig%28%7B%0A%20%20%20%20%20%20%20%20swfPath%3A%20this%2EswfPath%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Copy%20action%0A%20%20%20%2A%20%40returns%20%7BCopyPasteClass%2EelTextarea%2Evalue%7C%2A%7D%0A%20%20%20%2A%2F%0A%20%20ContextMenuCopyPaste%2Eprototype%2Ecopy%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2Einstance%2EcopyPaste%2EsetCopyableText%28%29%3B%0A%20%20%20%20return%20this%2Einstance%2EcopyPaste%2EcopyPasteInstance%2EelTextarea%2Evalue%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Adds%20copy%2Fpaste%20items%20to%20context%20menu%0A%20%20%20%2A%2F%0A%20%20ContextMenuCopyPaste%2Eprototype%2EaddToContextMenu%20%3D%20function%20%28defaultOptions%29%20%7B%0A%20%20%20%20if%20%28%21this%2EgetSettings%28%29%2EcontextMenuCopyPaste%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20defaultOptions%2Eitems%2Eunshift%28%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20key%3A%20%27copy%27%2C%0A%20%20%20%20%20%20%20%20name%3A%20%27Copy%27%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20key%3A%20%27paste%27%2C%0A%20%20%20%20%20%20%20%20name%3A%20%27Paste%27%2C%0A%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2EcopyPaste%2EtriggerPaste%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20Handsontable%2EContextMenu%2ESEPARATOR%0A%20%20%20%20%29%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Setup%20ZeroClipboard%20swf%20clip%20position%20and%20event%20handlers%0A%20%20%20%2A%20%40param%20cmInstance%20Current%20context%20menu%20instance%0A%20%20%20%2A%2F%0A%20%20ContextMenuCopyPaste%2Eprototype%2EsetupZeroClipboard%20%3D%20function%20%28cmInstance%29%20%7B%0A%20%20%20%20var%20plugin%20%3D%20this%3B%0A%20%20%20%20this%2EcmInstance%20%3D%20cmInstance%3B%0A%0A%20%20%20%20if%20%28%21Handsontable%2EDom%2EhasClass%28this%2EcmInstance%2ErootElement%2C%20%27htContextMenu%27%29%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20data%20%3D%20cmInstance%2EgetData%28%29%3B%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20data%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%20%2F%2Ffind%20position%20of%20%27copy%27%20option%0A%20%20%20%20%20%20%2F%2Ajshint%20%2DW083%20%2A%2F%0A%20%20%20%20%20%20if%20%28data%5Bi%5D%2Ekey%20%3D%3D%3D%20%27copy%27%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EzeroClipboardInstance%20%3D%20new%20ZeroClipboard%28cmInstance%2EgetCell%28i%2C%200%29%29%3B%0A%0A%20%20%20%20%20%20%20%20this%2EzeroClipboardInstance%2Eoff%28%29%3B%0A%20%20%20%20%20%20%20%20this%2EzeroClipboardInstance%2Eon%28%22copy%22%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20clipboard%20%3D%20event%2EclipboardData%3B%0A%20%20%20%20%20%20%20%20%20%20clipboard%2EsetData%28%22text%2Fplain%22%2C%20plugin%2Ecopy%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20plugin%2Einstance%2EgetSettings%28%29%2EoutsideClickDeselects%20%3D%20plugin%2EoutsideClickDeselectsCache%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20cmCopyPaste%2EbindEvents%28%29%3B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Bind%20all%20the%20standard%20events%0A%20%20%20%2A%2F%0A%20%20ContextMenuCopyPaste%2Eprototype%2EbindEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20plugin%20%3D%20this%3B%0A%0A%20%20%20%20%2F%2F%20Workaround%20for%20%27current%27%20and%20%27zeroclipboard%2Dis%2Dhover%27%20classes%20being%20stuck%20when%20moving%20the%20cursor%20over%20the%20context%20menu%0A%20%20%20%20if%20%28plugin%2EcmInstance%29%20%7B%0A%0A%20%20%20%20%20%20var%20eventManager%20%3D%20new%20Handsontable%2EeventManager%28this%2Einstance%29%3B%0A%0A%20%20%20%20%20%20var%20removeCurrenClass%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20var%20hadClass%20%3D%20plugin%2EcmInstance%2ErootElement%2EquerySelector%28%27td%2Ecurrent%27%29%3B%0A%20%20%20%20%20%20%20%20if%20%28hadClass%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28hadClass%2C%20%27current%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20plugin%2EoutsideClickDeselectsCache%20%3D%20plugin%2Einstance%2EgetSettings%28%29%2EoutsideClickDeselects%3B%0A%20%20%20%20%20%20%20%20plugin%2Einstance%2EgetSettings%28%29%2EoutsideClickDeselects%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20var%20removeZeroClipboardClass%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20var%20hadClass%20%3D%20plugin%2EcmInstance%2ErootElement%2EquerySelector%28%27td%2Ezeroclipboard%2Dis%2Dhover%27%29%3B%0A%20%20%20%20%20%20%20%20if%20%28hadClass%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28hadClass%2C%20%27zeroclipboard%2Dis%2Dhover%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20plugin%2Einstance%2EgetSettings%28%29%2EoutsideClickDeselects%20%3D%20plugin%2EoutsideClickDeselectsCache%3B%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20eventManager%2EremoveEventListener%28document%2C%27mouseenter%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20removeCurrenClass%28%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28document%2C%20%27mouseenter%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20removeCurrenClass%28%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20eventManager%2EremoveEventListener%28document%2C%27mouseleave%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20removeZeroClipboardClass%28%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28document%2C%20%27mouseleave%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20removeZeroClipboardClass%28%29%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%0A%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Initialize%20plugin%0A%20%20%20%2A%20%40returns%20%7Bboolean%7D%20Returns%20false%20if%20ZeroClipboard%20is%20not%20properly%20included%0A%20%20%20%2A%2F%0A%20%20ContextMenuCopyPaste%2Eprototype%2Einit%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28%21this%2EgetSettings%28%29%2EcontextMenuCopyPaste%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%20else%20if%20%28typeof%20this%2EgetSettings%28%29%2EcontextMenuCopyPaste%20%3D%3D%20%22object%22%29%20%7B%0A%20%20%20%20%20%20cmCopyPaste%2EswfPath%20%3D%20this%2EgetSettings%28%29%2EcontextMenuCopyPaste%2EswfPath%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20%20%20if%20%28typeof%20ZeroClipboard%20%3D%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%22To%20be%20able%20to%20use%20the%20Copy%2FPaste%20feature%20from%20the%20context%20menu%2C%20you%20need%20to%20manualy%20include%20ZeroClipboard%2Ejs%20file%20to%20your%20website%2E%22%29%3B%0A%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20try%20%7B%0A%20%20%20%20%20%20var%20flashTest%20%3D%20new%20ActiveXObject%28%27ShockwaveFlash%2EShockwaveFlash%27%29%3B%0A%20%20%20%20%7D%20catch%28exception%29%20%7B%0A%20%20%20%20%20%20if%20%28%21%28%27undefined%27%20%21%3D%20typeof%20navigator%2EmimeTypes%5B%27application%2Fx%2Dshockwave%2Dflash%27%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20throw%20new%20Error%28%22To%20be%20able%20to%20use%20the%20Copy%2FPaste%20feature%20from%20the%20context%20menu%2C%20your%20browser%20needs%20to%20have%20Flash%20Plugin%20installed%2E%22%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%0A%20%20%20%20cmCopyPaste%2Einstance%20%3D%20this%3B%0A%20%20%20%20cmCopyPaste%2EprepareZeroClipboard%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20var%20cmCopyPaste%20%3D%20new%20ContextMenuCopyPaste%28%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterRender%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20cmCopyPaste%2EsetupZeroClipboard%28this%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20cmCopyPaste%2Einit%29%3B%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterContextMenuDefaultOptions%27%2C%20cmCopyPaste%2EaddToContextMenu%29%3B%0A%20%20Handsontable%2EContextMenuCopyPaste%20%3D%20ContextMenuCopyPaste%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%28function%20%28Handsontable%29%20%7B%0A%20%20%27use%20strict%27%3B%0A%0A%20%20function%20MultipleSelectionHandles%28instance%29%20%7B%0A%20%20%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20%20%20this%2Edragged%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20this%2EeventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%0A%20%20%20%20this%2EbindTouchEvents%28%29%3B%0A%20%20%7D%0A%0A%20%20MultipleSelectionHandles%2Eprototype%2EgetCurrentRangeCoords%20%3D%20function%20%28selectedRange%2C%20currentTouch%2C%20touchStartDirection%2C%20currentDirection%2C%20draggedHandle%29%20%7B%0A%20%20%20%20var%20topLeftCorner%20%3D%20selectedRange%2EgetTopLeftCorner%28%29%0A%20%20%20%20%20%20%2C%20bottomRightCorner%20%3D%20selectedRange%2EgetBottomRightCorner%28%29%0A%20%20%20%20%20%20%2C%20bottomLeftCorner%20%3D%20selectedRange%2EgetBottomLeftCorner%28%29%0A%20%20%20%20%20%20%2C%20topRightCorner%20%3D%20selectedRange%2EgetTopRightCorner%28%29%3B%0A%0A%20%20%20%20var%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20start%3A%20null%2C%0A%20%20%20%20%20%20end%3A%20null%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20switch%20%28touchStartDirection%29%20%7B%0A%20%20%20%20%20%20case%20%22NE%2DSW%22%3A%0A%20%20%20%20%20%20%20%20switch%20%28currentDirection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22NE%2DSW%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22NW%2DSE%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28draggedHandle%20%3D%3D%20%22topLeft%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20new%20WalkontableCellCoords%28currentTouch%2Erow%2C%20selectedRange%2Ehighlight%2Ecol%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20new%20WalkontableCellCoords%28bottomLeftCorner%2Erow%2C%20currentTouch%2Ecol%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20new%20WalkontableCellCoords%28selectedRange%2Ehighlight%2Erow%2C%20currentTouch%2Ecol%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20new%20WalkontableCellCoords%28currentTouch%2Erow%2C%20topLeftCorner%2Ecol%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22SE%2DNW%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28draggedHandle%20%3D%3D%20%22bottomRight%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20new%20WalkontableCellCoords%28bottomRightCorner%2Erow%2C%20currentTouch%2Ecol%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20new%20WalkontableCellCoords%28currentTouch%2Erow%2C%20topLeftCorner%2Ecol%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fcase%20%22SW%2DNE%22%3A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22NW%2DSE%22%3A%0A%20%20%20%20%20%20%20%20switch%20%28currentDirection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22NE%2DSW%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28draggedHandle%20%3D%3D%20%22topLeft%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20currentTouch%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20bottomLeftCorner%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%2Eend%20%20%3D%20currentTouch%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22NW%2DSE%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28draggedHandle%20%3D%3D%20%22topLeft%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20currentTouch%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20bottomRightCorner%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%2Eend%20%20%3D%20currentTouch%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22SE%2DNW%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28draggedHandle%20%3D%3D%20%22topLeft%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20currentTouch%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20topLeftCorner%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%2Eend%20%20%3D%20currentTouch%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22SW%2DNE%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28draggedHandle%20%3D%3D%20%22topLeft%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20currentTouch%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20topRightCorner%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%2Eend%20%20%3D%20currentTouch%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22SW%2DNE%22%3A%0A%20%20%20%20%20%20%20%20switch%20%28currentDirection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22NW%2DSE%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28draggedHandle%20%3D%3D%20%22bottomRight%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20new%20WalkontableCellCoords%28currentTouch%2Erow%2C%20topLeftCorner%2Ecol%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20new%20WalkontableCellCoords%28bottomLeftCorner%2Erow%2C%20currentTouch%2Ecol%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20new%20WalkontableCellCoords%28topLeftCorner%2Erow%2C%20currentTouch%2Ecol%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20new%20WalkontableCellCoords%28currentTouch%2Erow%2C%20bottomRightCorner%2Ecol%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fcase%20%22NE%2DSW%22%3A%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%0A%20%20%20%20%20%20%20%20%20%20%2F%2F%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22SW%2DNE%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28draggedHandle%20%3D%3D%20%22topLeft%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20new%20WalkontableCellCoords%28selectedRange%2Ehighlight%2Erow%2C%20currentTouch%2Ecol%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20new%20WalkontableCellCoords%28currentTouch%2Erow%2C%20bottomRightCorner%2Ecol%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20new%20WalkontableCellCoords%28currentTouch%2Erow%2C%20topLeftCorner%2Ecol%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20new%20WalkontableCellCoords%28topLeftCorner%2Erow%2C%20currentTouch%2Ecol%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22SE%2DNW%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28draggedHandle%20%3D%3D%20%22bottomRight%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20new%20WalkontableCellCoords%28currentTouch%2Erow%2C%20topRightCorner%2Ecol%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20new%20WalkontableCellCoords%28topLeftCorner%2Erow%2C%20currentTouch%2Ecol%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28draggedHandle%20%3D%3D%20%22topLeft%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20bottomLeftCorner%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20currentTouch%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20case%20%22SE%2DNW%22%3A%0A%20%20%20%20%20%20%20%20switch%20%28currentDirection%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20case%20%22NW%2DSE%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22NE%2DSW%22%3A%0A%20%20%20%20%20%20%20%20%20%20case%20%22SW%2DNE%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28draggedHandle%20%3D%3D%20%22topLeft%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%2Eend%20%3D%20currentTouch%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20case%20%22SE%2DNW%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28draggedHandle%20%3D%3D%20%22topLeft%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%2Eend%20%3D%20currentTouch%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCoords%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%3A%20currentTouch%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20end%3A%20topLeftCorner%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20newCoords%3B%0A%20%20%7D%3B%0A%0A%20%20MultipleSelectionHandles%2Eprototype%2EbindTouchEvents%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20that%20%3D%20this%3B%0A%20%20%20%20var%20removeFromDragged%20%3D%20function%20%28query%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28this%2Edragged%2Elength%20%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Edragged%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20entryPosition%20%3D%20this%2Edragged%2EindexOf%28query%29%3B%0A%0A%20%20%20%20%20%20if%20%28entryPosition%20%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28entryPosition%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Edragged%20%3D%20this%2Edragged%2Eslice%280%2C%201%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28entryPosition%20%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Edragged%20%3D%20this%2Edragged%2Eslice%28%2D1%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2Einstance%2ErootElement%2C%27touchstart%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20if%28Handsontable%2EDom%2EhasClass%28event%2Etarget%2C%20%22topLeftSelectionHandle%2DHitArea%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20that%2Edragged%2Epush%28%22topLeft%22%29%3B%0A%20%20%20%20%20%20%20%20var%20selectedRange%20%3D%20that%2Einstance%2EgetSelectedRange%28%29%3B%0A%20%20%20%20%20%20%20%20that%2EtouchStartRange%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20width%3A%20selectedRange%2EgetWidth%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20height%3A%20selectedRange%2EgetHeight%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20direction%3A%20selectedRange%2EgetDirection%28%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28Handsontable%2EDom%2EhasClass%28event%2Etarget%2C%20%22bottomRightSelectionHandle%2DHitArea%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20that%2Edragged%2Epush%28%22bottomRight%22%29%3B%0A%20%20%20%20%20%20%20%20var%20selectedRange%20%3D%20that%2Einstance%2EgetSelectedRange%28%29%3B%0A%20%20%20%20%20%20%20%20that%2EtouchStartRange%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20width%3A%20selectedRange%2EgetWidth%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20height%3A%20selectedRange%2EgetHeight%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20direction%3A%20selectedRange%2EgetDirection%28%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2Einstance%2ErootElement%2C%27touchend%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20if%28Handsontable%2EDom%2EhasClass%28event%2Etarget%2C%20%22topLeftSelectionHandle%2DHitArea%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20removeFromDragged%2Ecall%28that%2C%20%22topLeft%22%29%3B%0A%20%20%20%20%20%20%20%20that%2EtouchStartRange%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28Handsontable%2EDom%2EhasClass%28event%2Etarget%2C%20%22bottomRightSelectionHandle%2DHitArea%22%29%29%20%7B%0A%20%20%20%20%20%20%20%20removeFromDragged%2Ecall%28that%2C%20%22bottomRight%22%29%3B%0A%20%20%20%20%20%20%20%20that%2EtouchStartRange%20%3D%20void%200%3B%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2EeventManager%2EaddEventListener%28this%2Einstance%2ErootElement%2C%27touchmove%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20var%20scrollTop%20%3D%20Handsontable%2EDom%2EgetWindowScrollTop%28%29%0A%20%20%20%20%20%20%20%20%2C%20scrollLeft%20%3D%20Handsontable%2EDom%2EgetWindowScrollLeft%28%29%3B%0A%0A%20%20%20%20%20%20if%20%28that%2Edragged%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20var%20endTarget%20%3D%20document%2EelementFromPoint%28%0A%20%20%20%20%20%20%20%20%20%20event%2Etouches%5B0%5D%2EscreenX%20%2D%20scrollLeft%2C%0A%20%20%20%20%20%20%20%20%20%20event%2Etouches%5B0%5D%2EscreenY%20%2D%20scrollTop%0A%20%20%20%20%20%20%20%20%29%3B%0A%0A%20%20%20%20%20%20%20%20if%28%21endTarget%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28endTarget%2EnodeName%20%3D%3D%20%22TD%22%20%7C%7C%20endTarget%2EnodeName%20%3D%3D%20%22TH%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20targetCoords%20%3D%20that%2Einstance%2EgetCoords%28endTarget%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%28targetCoords%2Ecol%20%3D%3D%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20targetCoords%2Ecol%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20var%20selectedRange%20%3D%20that%2Einstance%2EgetSelectedRange%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20rangeWidth%20%3D%20selectedRange%2EgetWidth%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20rangeHeight%20%3D%20selectedRange%2EgetHeight%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20rangeDirection%20%3D%20selectedRange%2EgetDirection%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%20%28rangeWidth%20%3D%3D%201%20%26%26%20rangeHeight%20%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20that%2Einstance%2Eselection%2EsetRangeEnd%28targetCoords%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20var%20newRangeCoords%20%3D%20that%2EgetCurrentRangeCoords%28selectedRange%2C%20targetCoords%2C%20that%2EtouchStartRange%2Edirection%2C%20rangeDirection%2C%20that%2Edragged%5B0%5D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20if%28newRangeCoords%2Estart%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20that%2Einstance%2Eselection%2EsetRangeStart%28newRangeCoords%2Estart%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20that%2Einstance%2Eselection%2EsetRangeEnd%28newRangeCoords%2Eend%29%3B%0A%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20MultipleSelectionHandles%2Eprototype%2EisDragged%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%20%28this%2Edragged%2Elength%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20var%20init%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20var%20instance%20%3D%20this%3B%0A%0A%20%20%20%20Handsontable%2Eplugins%2EmultipleSelectionHandles%20%3D%20new%20MultipleSelectionHandles%28instance%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20init%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0Avar%20TouchScroll%20%3D%20%28function%28instance%29%20%7B%0A%0A%20%20function%20TouchScroll%28instance%29%20%7B%7D%0A%0A%20%20TouchScroll%2Eprototype%2Einit%20%3D%20function%28instance%29%20%7B%0A%20%20%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20%20%20this%2EbindEvents%28%29%3B%0A%0A%20%20%20%20this%2Escrollbars%20%3D%20%5B%0A%20%20%20%20%20%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopOverlay%2C%0A%20%20%20%20%20%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2C%0A%20%20%20%20%20%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopLeftCornerOverlay%0A%20%20%20%20%5D%3B%0A%0A%20%20%20%20this%2Eclones%20%3D%20%5B%0A%20%20%20%20%20%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopOverlay%2Eclone%2EwtTable%2Eholder%2EparentNode%2C%0A%20%20%20%20%20%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2Eclone%2EwtTable%2Eholder%2EparentNode%2C%0A%20%20%20%20%20%20this%2Einstance%2Eview%2Ewt%2EwtOverlays%2EtopLeftCornerOverlay%2Eclone%2EwtTable%2Eholder%2EparentNode%0A%20%20%20%20%5D%3B%0A%20%20%7D%3B%0A%0A%20%20TouchScroll%2Eprototype%2EbindEvents%20%3D%20function%20%28%29%20%7B%0A%20%20var%20that%20%3D%20this%3B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27beforeTouchScroll%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EfreezeOverlays%20%3D%20true%3B%0A%0A%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20cloneCount%20%3D%20that%2Eclones%2Elength%3B%20i%20%3C%20cloneCount%20%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28that%2Eclones%5Bi%5D%2C%20%27hide%2Dtween%27%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20this%2Einstance%2EaddHook%28%27afterMomentumScroll%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EfreezeOverlays%20%3D%20false%3B%0A%0A%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20cloneCount%20%3D%20that%2Eclones%2Elength%3B%20i%20%3C%20cloneCount%20%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28that%2Eclones%5Bi%5D%2C%20%27hide%2Dtween%27%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20cloneCount%20%3D%20that%2Eclones%2Elength%3B%20i%20%3C%20cloneCount%20%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28that%2Eclones%5Bi%5D%2C%20%27show%2Dtween%27%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20cloneCount%20%3D%20that%2Eclones%2Elength%3B%20i%20%3C%20cloneCount%20%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28that%2Eclones%5Bi%5D%2C%20%27show%2Dtween%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C400%29%3B%0A%0A%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20cloneCount%20%3D%20that%2Escrollbars%2Elength%3B%20i%20%3C%20cloneCount%20%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20that%2Escrollbars%5Bi%5D%2Erefresh%28%29%3B%0A%20%20%20%20%20%20%20%20that%2Escrollbars%5Bi%5D%2EresetFixedPosition%28%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%7D%3B%0A%0A%20%20return%20TouchScroll%3B%0A%7D%28%29%29%3B%0A%0Avar%20touchScrollHandler%20%3D%20new%20TouchScroll%28%29%3B%0A%0AHandsontable%2Ehooks%2Eadd%28%27afterInit%27%2C%20function%28%29%20%7B%0A%20%20touchScrollHandler%2Einit%2Ecall%28touchScrollHandler%2C%20this%29%3B%0A%7D%29%3B%0A%0A%28function%20%28Handsontable%29%20%7B%0A%20%20function%20ManualColumnFreeze%28instance%29%20%7B%0A%20%20%20%20var%20fixedColumnsCount%20%3D%20instance%2EgetSettings%28%29%2EfixedColumnsLeft%3B%0A%0A%20%20%20%20var%20init%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20update%20plugin%20usages%20count%20for%20manualColumnPositions%0A%20%20%20%20%20%20if%20%28typeof%20instance%2EmanualColumnPositionsPluginUsages%20%21%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2EmanualColumnPositionsPluginUsages%2Epush%28%27manualColumnFreeze%27%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20instance%2EmanualColumnPositionsPluginUsages%20%3D%20%5B%27manualColumnFreeze%27%5D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20bindHooks%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Modifies%20the%20default%20Context%20Menu%20entry%20list%20to%20consist%20%27freeze%2Funfreeze%20this%20column%27%20entries%0A%20%20%20%20%20%2A%20%40param%20%7BObject%7D%20defaultOptions%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20addContextMenuEntry%28defaultOptions%29%20%7B%0A%20%20%20%20%20%20defaultOptions%2Eitems%2Epush%28%0A%20%20%20%20%20%20%20%20Handsontable%2EContextMenu%2ESEPARATOR%2C%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20key%3A%20%27freeze%5Fcolumn%27%2C%0A%20%20%20%20%20%20%20%20%20%20name%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20selectedColumn%20%3D%20instance%2EgetSelected%28%29%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28selectedColumn%20%3E%20fixedColumnsCount%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%27Freeze%20this%20column%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%27Unfreeze%20this%20column%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20disabled%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20selection%20%3D%20instance%2EgetSelected%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20selection%5B1%5D%20%21%3D%3D%20selection%5B3%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20callback%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20selectedColumn%20%3D%20instance%2EgetSelected%28%29%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28selectedColumn%20%3E%20fixedColumnsCount%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20freezeColumn%28selectedColumn%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20unfreezeColumn%28selectedColumn%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Increments%20the%20fixed%20columns%20count%20by%20one%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20addFixedColumn%28%29%20%7B%0A%20%20%20%20%20%20instance%2EupdateSettings%28%7B%0A%20%20%20%20%20%20%20%20fixedColumnsLeft%3A%20fixedColumnsCount%20%2B%201%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20fixedColumnsCount%2B%2B%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Decrements%20the%20fixed%20columns%20count%20by%20one%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20removeFixedColumn%28%29%20%7B%0A%20%20%20%20%20%20instance%2EupdateSettings%28%7B%0A%20%20%20%20%20%20%20%20fixedColumnsLeft%3A%20fixedColumnsCount%20%2D%201%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20fixedColumnsCount%2D%2D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Checks%20whether%20%27manualColumnPositions%27%20array%20needs%20creating%20and%2For%20initializing%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20%5Bcol%5D%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20checkPositionData%28col%29%20%7B%0A%20%20%20%20%20%20if%20%28%21instance%2EmanualColumnPositions%20%7C%7C%20instance%2EmanualColumnPositions%2Elength%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21instance%2EmanualColumnPositions%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualColumnPositions%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28col%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21instance%2EmanualColumnPositions%5Bcol%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20createPositionData%28col%20%2B%201%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20createPositionData%28instance%2EcountCols%28%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Fills%20the%20%27manualColumnPositions%27%20array%20with%20consecutive%20column%20indexes%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20len%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20createPositionData%28len%29%20%7B%0A%20%20%20%20%20%20if%20%28instance%2EmanualColumnPositions%2Elength%20%3C%20len%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%20instance%2EmanualColumnPositions%2Elength%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EmanualColumnPositions%5Bi%5D%20%3D%20i%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Updates%20the%20column%20order%20array%20used%20by%20modifyCol%20callback%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20actualCol%20column%20index%20of%20the%20currently%20selected%20cell%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7Cnull%7D%20returnCol%20suggested%20return%20slot%20for%20the%20unfreezed%20column%20%28can%20be%20null%29%0A%20%20%20%20%20%2A%20%40param%20%7BString%7D%20action%20%27freeze%27%20or%20%27unfreeze%27%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20modifyColumnOrder%28col%2C%20actualCol%2C%20returnCol%2C%20action%29%20%7B%0A%20%20%20%20%20%20if%20%28returnCol%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20returnCol%20%3D%20col%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28action%20%3D%3D%3D%20%27freeze%27%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2EmanualColumnPositions%2Esplice%28fixedColumnsCount%2C%200%2C%20instance%2EmanualColumnPositions%2Esplice%28actualCol%2C%201%29%5B0%5D%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28action%20%3D%3D%3D%20%27unfreeze%27%29%20%7B%0A%20%20%20%20%20%20%20%20instance%2EmanualColumnPositions%2Esplice%28returnCol%2C%200%2C%20instance%2EmanualColumnPositions%2Esplice%28actualCol%2C%201%29%5B0%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Estimates%20the%20most%20fitting%20return%20position%20for%20unfreezed%20column%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20getBestColumnReturnPosition%28col%29%20%7B%0A%20%20%20%20%20%20var%20i%20%3D%20fixedColumnsCount%2C%0A%20%20%20%20%20%20%20%20j%20%3D%20getModifiedColumnIndex%28i%29%2C%0A%20%20%20%20%20%20%20%20initialCol%20%3D%20getModifiedColumnIndex%28col%29%3B%0A%20%20%20%20%20%20while%20%28j%20%3C%20initialCol%29%20%7B%0A%20%20%20%20%20%20%20%20i%2B%2B%3B%0A%20%20%20%20%20%20%20%20j%20%3D%20getModifiedColumnIndex%28i%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20i%20%2D%201%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Freeze%20the%20given%20column%20%28add%20it%20to%20fixed%20columns%29%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20freezeColumn%28col%29%20%7B%0A%20%20%20%20%20%20if%20%28col%20%3C%3D%20fixedColumnsCount%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%20%2F%2F%20already%20fixed%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20modifiedColumn%20%3D%20getModifiedColumnIndex%28col%29%20%7C%7C%20col%3B%0A%20%20%20%20%20%20checkPositionData%28modifiedColumn%29%3B%0A%20%20%20%20%20%20modifyColumnOrder%28modifiedColumn%2C%20col%2C%20null%2C%20%27freeze%27%29%3B%0A%0A%20%20%20%20%20%20addFixedColumn%28%29%3B%0A%0A%20%20%20%20%20%20instance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2Erefresh%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Unfreeze%20the%20given%20column%20%28remove%20it%20from%20fixed%20columns%20and%20bring%20to%20it%27s%20previous%20position%29%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20unfreezeColumn%28col%29%20%7B%0A%20%20%20%20%20%20if%20%28col%20%3E%20fixedColumnsCount%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%20%2F%2F%20not%20fixed%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20var%20returnCol%20%3D%20getBestColumnReturnPosition%28col%29%3B%0A%0A%20%20%20%20%20%20var%20modifiedColumn%20%3D%20getModifiedColumnIndex%28col%29%20%7C%7C%20col%3B%0A%20%20%20%20%20%20checkPositionData%28modifiedColumn%29%3B%0A%20%20%20%20%20%20modifyColumnOrder%28modifiedColumn%2C%20col%2C%20returnCol%2C%20%27unfreeze%27%29%3B%0A%20%20%20%20%20%20removeFixedColumn%28%29%3B%0A%0A%20%20%20%20%20%20instance%2Eview%2Ewt%2EwtOverlays%2EleftOverlay%2Erefresh%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20getModifiedColumnIndex%28col%29%20%7B%0A%20%20%20%20%20%20return%20instance%2EmanualColumnPositions%5Bcol%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20%27modiftyCol%27%20callback%0A%20%20%20%20%20%2A%20%40param%20%7BNumber%7D%20col%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20onModifyCol%28col%29%20%7B%0A%20%20%20%20%20%20if%20%28this%2EmanualColumnPositionsPluginUsages%2Elength%20%3E%201%29%20%7B%20%2F%2F%20if%20another%20plugin%20is%20using%20manualColumnPositions%20to%20modify%20column%20order%2C%20do%20not%20double%20the%20translation%0A%20%20%20%20%20%20%20%20return%20col%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20getModifiedColumnIndex%28col%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20bindHooks%28%29%20%7B%0A%20%20%20%20%20%20%2F%2Finstance%2EaddHook%28%27afterGetColHeader%27%2C%20onAfterGetColHeader%29%3B%0A%20%20%20%20%20%20instance%2EaddHook%28%27modifyCol%27%2C%20onModifyCol%29%3B%0A%20%20%20%20%20%20instance%2EaddHook%28%27afterContextMenuDefaultOptions%27%2C%20addContextMenuEntry%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%7B%0A%20%20%20%20%20%20init%3A%20init%2C%0A%20%20%20%20%20%20freezeColumn%3A%20freezeColumn%2C%0A%20%20%20%20%20%20unfreezeColumn%3A%20unfreezeColumn%2C%0A%20%20%20%20%20%20helpers%3A%20%7B%0A%20%20%20%20%20%20%20%20addFixedColumn%3A%20addFixedColumn%2C%0A%20%20%20%20%20%20%20%20removeFixedColumn%3A%20removeFixedColumn%2C%0A%20%20%20%20%20%20%20%20checkPositionData%3A%20checkPositionData%2C%0A%20%20%20%20%20%20%20%20modifyColumnOrder%3A%20modifyColumnOrder%2C%0A%20%20%20%20%20%20%20%20getBestColumnReturnPosition%3A%20getBestColumnReturnPosition%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%7D%0A%0A%20%20var%20init%20%3D%20function%20init%28%29%20%7B%0A%20%20%20%20if%20%28%21this%2EgetSettings%28%29%2EmanualColumnFreeze%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20mcfPlugin%3B%0A%0A%20%20%20%20Handsontable%2Eplugins%2EmanualColumnFreeze%20%3D%20ManualColumnFreeze%3B%0A%20%20%20%20this%2EmanualColumnFreeze%20%3D%20new%20ManualColumnFreeze%28this%29%3B%0A%0A%20%20%20%20mcfPlugin%20%3D%20this%2EmanualColumnFreeze%3B%0A%20%20%20%20mcfPlugin%2Einit%2Ecall%28this%29%3B%0A%20%20%7D%3B%0A%0A%20%20Handsontable%2Ehooks%2Eadd%28%27beforeInit%27%2C%20init%29%3B%0A%0A%7D%29%28Handsontable%29%3B%0A%0A%0A%0A%2F%2A%2A%0A%20%2A%20Creates%20an%20overlay%20over%20the%20original%20Walkontable%20instance%2E%20The%20overlay%20renders%20the%20clone%20of%20the%20original%20Walkontable%0A%20%2A%20and%20%28optionally%29%20implements%20behavior%20needed%20for%20native%20horizontal%20and%20vertical%20scrolling%0A%20%2A%2F%0Afunction%20WalkontableOverlay%28%29%20%7B%7D%0A%0A%2F%2A%0A%20Possible%20optimizations%3A%0A%20%5Bx%5D%20don%27t%20rerender%20if%20scroll%20delta%20is%20smaller%20than%20the%20fragment%20outside%20of%20the%20viewport%0A%20%5B%20%5D%20move%20%2Estyle%2Etop%20change%20before%20%2Edraw%28%29%0A%20%5B%20%5D%20put%20%2Edraw%28%29%20in%20requestAnimationFrame%0A%20%5B%20%5D%20don%27t%20rerender%20rows%20that%20remain%20visible%20after%20the%20scroll%0A%20%2A%2F%0A%0AWalkontableOverlay%2Eprototype%2Einit%20%3D%20function%20%28%29%20%7B%0A%20%20this%2ETABLE%20%3D%20this%2Einstance%2EwtTable%2ETABLE%3B%0A%20%20this%2Ehider%20%3D%20this%2Einstance%2EwtTable%2Ehider%3B%0A%20%20this%2Espreader%20%3D%20this%2Einstance%2EwtTable%2Espreader%3B%0A%20%20this%2Eholder%20%3D%20this%2Einstance%2EwtTable%2Eholder%3B%0A%20%20this%2EwtRootElement%20%3D%20this%2Einstance%2EwtTable%2EwtRootElement%3B%0A%20%20this%2EtrimmingContainer%20%3D%20Handsontable%2EDom%2EgetTrimmingContainer%28this%2Ehider%2EparentNode%2EparentNode%29%3B%0A%20%20this%2EmainTableScrollableElement%20%3D%20Handsontable%2EDom%2EgetScrollableElement%28this%2Einstance%2EwtTable%2ETABLE%29%3B%0A%7D%3B%0A%0AWalkontableOverlay%2Eprototype%2EmakeClone%20%3D%20function%20%28direction%29%20%7B%0A%20%20var%20clone%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20clone%2EclassName%20%3D%20%27ht%5Fclone%5F%27%20%2B%20direction%20%2B%20%27%20handsontable%27%3B%0A%20%20clone%2Estyle%2Eposition%20%3D%20%27absolute%27%3B%0A%20%20clone%2Estyle%2Etop%20%3D%200%3B%0A%20%20clone%2Estyle%2Eleft%20%3D%200%3B%0A%20%20clone%2Estyle%2Eoverflow%20%3D%20%27hidden%27%3B%0A%0A%20%20var%20clonedTable%20%3D%20document%2EcreateElement%28%27TABLE%27%29%3B%0A%20%20clonedTable%2EclassName%20%3D%20this%2Einstance%2EwtTable%2ETABLE%2EclassName%3B%0A%20%20clone%2EappendChild%28clonedTable%29%3B%0A%0A%20%20this%2Einstance%2EwtTable%2EwtRootElement%2EparentNode%2EappendChild%28clone%29%3B%0A%0A%20%20return%20new%20Walkontable%28%7B%0A%20%20%20%20cloneSource%3A%20this%2Einstance%2C%0A%20%20%20%20cloneOverlay%3A%20this%2C%0A%20%20%20%20table%3A%20clonedTable%0A%20%20%7D%29%3B%0A%7D%3B%0A%0AWalkontableOverlay%2Eprototype%2Erefresh%20%3D%20function%20%28fastDraw%29%20%7B%0A%20%20if%20%28this%2Eclone%29%20%7B%0A%20%20%20%20this%2Eclone%2Edraw%28fastDraw%29%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableOverlay%2Eprototype%2Edestroy%20%3D%20function%20%28%29%20%7B%0A%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28this%2Eclone%29%3B%0A%0A%20%20eventManager%2Eclear%28%29%3B%0A%7D%3B%0A%0Afunction%20WalkontableBorder%28instance%2C%20settings%29%20%7B%0A%20%20var%20style%3B%0A%20%20var%20createMultipleSelectorHandles%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20this%2EselectionHandles%20%3D%20%7B%0A%20%20%20%20%20%20topLeft%3A%20document%2EcreateElement%28%27DIV%27%29%2C%0A%20%20%20%20%20%20topLeftHitArea%3A%20document%2EcreateElement%28%27DIV%27%29%2C%0A%20%20%20%20%20%20bottomRight%3A%20document%2EcreateElement%28%27DIV%27%29%2C%0A%20%20%20%20%20%20bottomRightHitArea%3A%20document%2EcreateElement%28%27DIV%27%29%0A%20%20%20%20%7D%3B%0A%20%20%20%20var%20width%20%3D%2010%0A%20%20%20%20%20%20%2C%20hitAreaWidth%20%3D%2040%3B%0A%0A%20%20%20%20this%2EselectionHandles%2EtopLeft%2EclassName%20%3D%20%27topLeftSelectionHandle%27%3B%0A%20%20%20%20this%2EselectionHandles%2EtopLeftHitArea%2EclassName%20%3D%20%27topLeftSelectionHandle%2DHitArea%27%3B%0A%20%20%20%20this%2EselectionHandles%2EbottomRight%2EclassName%20%3D%20%27bottomRightSelectionHandle%27%3B%0A%20%20%20%20this%2EselectionHandles%2EbottomRightHitArea%2EclassName%20%3D%20%27bottomRightSelectionHandle%2DHitArea%27%3B%0A%0A%20%20%20%20this%2EselectionHandles%2Estyles%20%3D%20%7B%0A%20%20%20%20%20%20topLeft%3A%20this%2EselectionHandles%2EtopLeft%2Estyle%2C%0A%20%20%20%20%20%20topLeftHitArea%3A%20this%2EselectionHandles%2EtopLeftHitArea%2Estyle%2C%0A%20%20%20%20%20%20bottomRight%3A%20this%2EselectionHandles%2EbottomRight%2Estyle%2C%0A%20%20%20%20%20%20bottomRightHitArea%3A%20this%2EselectionHandles%2EbottomRightHitArea%2Estyle%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20var%20hitAreaStyle%20%3D%20%7B%0A%20%20%20%20%20%20%27position%27%3A%20%27absolute%27%2C%0A%20%20%20%20%20%20%27height%27%3A%20hitAreaWidth%20%2B%20%27px%27%2C%0A%20%20%20%20%20%20%27width%27%3A%20hitAreaWidth%20%2B%20%27px%27%2C%0A%20%20%20%20%20%20%27border%2Dradius%27%3A%20parseInt%28hitAreaWidth%2F1%2E5%2C10%29%20%2B%20%27px%27%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20for%20%28var%20prop%20in%20hitAreaStyle%29%20%7B%0A%20%20%20%20%20%20if%20%28hitAreaStyle%2EhasOwnProperty%28prop%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRightHitArea%5Bprop%5D%20%3D%20hitAreaStyle%5Bprop%5D%3B%0A%20%20%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeftHitArea%5Bprop%5D%20%3D%20hitAreaStyle%5Bprop%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20handleStyle%20%3D%20%7B%0A%20%20%20%20%20%20%27position%27%3A%20%27absolute%27%2C%0A%20%20%20%20%20%20%27height%27%3A%20width%20%2B%20%27px%27%2C%0A%20%20%20%20%20%20%27width%27%3A%20width%20%2B%20%27px%27%2C%0A%20%20%20%20%20%20%27border%2Dradius%27%3A%20parseInt%28width%2F1%2E5%2C10%29%20%2B%20%27px%27%2C%0A%20%20%20%20%20%20%27background%27%3A%20%27%23F5F5FF%27%2C%0A%20%20%20%20%20%20%27border%27%3A%20%271px%20solid%20%234285c8%27%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20for%20%28var%20prop%20in%20handleStyle%29%20%7B%0A%20%20%20%20%20%20if%20%28handleStyle%2EhasOwnProperty%28prop%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRight%5Bprop%5D%20%3D%20handleStyle%5Bprop%5D%3B%0A%20%20%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeft%5Bprop%5D%20%3D%20handleStyle%5Bprop%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Emain%2EappendChild%28this%2EselectionHandles%2EtopLeft%29%3B%0A%20%20%20%20this%2Emain%2EappendChild%28this%2EselectionHandles%2EbottomRight%29%3B%0A%20%20%20%20this%2Emain%2EappendChild%28this%2EselectionHandles%2EtopLeftHitArea%29%3B%0A%20%20%20%20this%2Emain%2EappendChild%28this%2EselectionHandles%2EbottomRightHitArea%29%3B%0A%20%20%7D%3B%0A%0A%20%20if%28%21settings%29%7B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%0A%20%20%2F%2Freference%20to%20instance%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20this%2Esettings%20%3D%20settings%3B%0A%0A%20%20this%2Emain%20%3D%20document%2EcreateElement%28%22div%22%29%3B%0A%20%20style%20%3D%20this%2Emain%2Estyle%3B%0A%20%20style%2Eposition%20%3D%20%27absolute%27%3B%0A%20%20style%2Etop%20%3D%200%3B%0A%20%20style%2Eleft%20%3D%200%3B%0A%0A%20%20var%20borderDivs%20%3D%20%5B%27top%27%2C%27left%27%2C%27bottom%27%2C%27right%27%2C%27corner%27%5D%3B%0A%0A%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%205%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20var%20position%20%3D%20borderDivs%5Bi%5D%3B%0A%0A%20%20%20%20var%20DIV%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20DIV%2EclassName%20%3D%20%27wtBorder%20%27%20%2B%20%28this%2Esettings%2EclassName%20%7C%7C%20%27%27%29%3B%20%2F%2F%20%2B%20borderDivs%5Bi%5D%3B%0A%20%20%20%20if%28this%2Esettings%5Bposition%5D%20%26%26%20this%2Esettings%5Bposition%5D%2Ehide%29%7B%0A%20%20%20%20%20%20DIV%2EclassName%20%2B%3D%20%22%20hidden%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20style%20%3D%20DIV%2Estyle%3B%0A%20%20%20%20style%2EbackgroundColor%20%3D%20%28this%2Esettings%5Bposition%5D%20%26%26%20this%2Esettings%5Bposition%5D%2Ecolor%29%20%3F%20this%2Esettings%5Bposition%5D%2Ecolor%20%3A%20settings%2Eborder%2Ecolor%3B%0A%20%20%20%20style%2Eheight%20%3D%20%28this%2Esettings%5Bposition%5D%20%26%26%20this%2Esettings%5Bposition%5D%2Ewidth%29%20%3F%20this%2Esettings%5Bposition%5D%2Ewidth%20%2B%20%27px%27%20%3A%20settings%2Eborder%2Ewidth%20%2B%20%27px%27%3B%0A%20%20%20%20style%2Ewidth%20%3D%20%28this%2Esettings%5Bposition%5D%20%26%26%20this%2Esettings%5Bposition%5D%2Ewidth%29%20%3F%20this%2Esettings%5Bposition%5D%2Ewidth%20%2B%20%27px%27%20%3A%20settings%2Eborder%2Ewidth%20%2B%20%27px%27%3B%0A%0A%20%20%20%20this%2Emain%2EappendChild%28DIV%29%3B%0A%20%20%7D%0A%0A%20%20this%2Etop%20%3D%20this%2Emain%2EchildNodes%5B0%5D%3B%0A%20%20this%2Eleft%20%3D%20this%2Emain%2EchildNodes%5B1%5D%3B%0A%20%20this%2Ebottom%20%3D%20this%2Emain%2EchildNodes%5B2%5D%3B%0A%20%20this%2Eright%20%3D%20this%2Emain%2EchildNodes%5B3%5D%3B%0A%0A%20%20this%2EtopStyle%20%3D%20this%2Etop%2Estyle%3B%0A%20%20this%2EleftStyle%20%3D%20this%2Eleft%2Estyle%3B%0A%20%20this%2EbottomStyle%20%3D%20this%2Ebottom%2Estyle%3B%0A%20%20this%2ErightStyle%20%3D%20this%2Eright%2Estyle%3B%0A%0A%20%20this%2EcornerDefaultStyle%20%3D%20%7B%0A%20%20%20%20width%3A%20%275px%27%2C%0A%20%20%20%20height%3A%20%275px%27%2C%0A%20%20%20%20borderWidth%3A%20%272px%27%2C%0A%20%20%20%20borderStyle%3A%20%27solid%27%2C%0A%20%20%20%20borderColor%3A%20%27%23FFF%27%0A%20%20%7D%3B%0A%0A%20%20this%2Ecorner%20%3D%20this%2Emain%2EchildNodes%5B4%5D%3B%0A%20%20this%2Ecorner%2EclassName%20%2B%3D%20%27%20corner%27%3B%0A%20%20this%2EcornerStyle%20%3D%20this%2Ecorner%2Estyle%3B%0A%20%20this%2EcornerStyle%2Ewidth%20%3D%20this%2EcornerDefaultStyle%2Ewidth%3B%0A%20%20this%2EcornerStyle%2Eheight%20%3D%20this%2EcornerDefaultStyle%2Eheight%3B%0A%20%20this%2EcornerStyle%2Eborder%20%3D%20%5B%0A%20%20%20%20this%2EcornerDefaultStyle%2EborderWidth%2C%0A%20%20%20%20this%2EcornerDefaultStyle%2EborderStyle%2C%0A%20%20%20%20this%2EcornerDefaultStyle%2EborderColor%0A%20%20%5D%2Ejoin%28%27%20%27%29%3B%0A%0A%20%20if%28Handsontable%2EmobileBrowser%29%20%7B%0A%20%20%20%20createMultipleSelectorHandles%2Ecall%28this%29%3B%0A%20%20%7D%0A%0A%20%20this%2Edisappear%28%29%3B%0A%20%20if%20%28%21instance%2EwtTable%2EbordersHolder%29%20%7B%0A%20%20%20%20instance%2EwtTable%2EbordersHolder%20%3D%20document%2EcreateElement%28%27div%27%29%3B%0A%20%20%20%20instance%2EwtTable%2EbordersHolder%2EclassName%20%3D%20%27htBorders%27%3B%0A%0A%20%20%20%20instance%2EwtTable%2Espreader%2EappendChild%28instance%2EwtTable%2EbordersHolder%29%3B%0A%0A%20%20%7D%0A%20%20instance%2EwtTable%2EbordersHolder%2EinsertBefore%28this%2Emain%2C%20instance%2EwtTable%2EbordersHolder%2EfirstChild%29%3B%0A%0A%20%20var%20down%20%3D%20false%3B%0A%0A%0A%0A%20%20eventManager%2EaddEventListener%28document%2Ebody%2C%20%27mousedown%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20down%20%3D%20true%3B%0A%20%20%7D%29%3B%0A%0A%0A%20%20eventManager%2EaddEventListener%28document%2Ebody%2C%20%27mouseup%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20down%20%3D%20false%3B%0A%20%20%7D%29%3B%0A%0A%20%20%2F%2A%20jshint%20ignore%3Astart%20%2A%2F%0A%20%20for%20%28var%20c%20%3D%200%2C%20len%20%3D%20this%2Emain%2EchildNodes%2Elength%3B%20c%20%3C%20len%3B%20c%2B%2B%29%20%7B%0A%0A%20%20%20%20eventManager%2EaddEventListener%28this%2Emain%2EchildNodes%5Bc%5D%2C%20%27mouseenter%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20if%20%28%21down%20%7C%7C%20%21instance%2EgetSetting%28%27hideBorderOnMouseDownOver%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20event%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20event%2EstopImmediatePropagation%28%29%3B%0A%0A%20%20%20%20%20%20var%20bounds%20%3D%20this%2EgetBoundingClientRect%28%29%3B%0A%0A%20%20%20%20%20%20this%2Estyle%2Edisplay%20%3D%20%27none%27%3B%0A%0A%20%20%20%20%20%20var%20isOutside%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28event%2EclientY%20%3C%20Math%2Efloor%28bounds%2Etop%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28event%2EclientY%20%3E%20Math%2Eceil%28bounds%2Etop%20%2B%20bounds%2Eheight%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28event%2EclientX%20%3C%20Math%2Efloor%28bounds%2Eleft%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28event%2EclientX%20%3E%20Math%2Eceil%28bounds%2Eleft%20%2B%20bounds%2Ewidth%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20var%20handler%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28isOutside%28event%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20eventManager%2EremoveEventListener%28document%2Ebody%2C%20%27mousemove%27%2C%20handler%29%3B%0A%20%20%20%20%20%20%20%20%20%20this%2Estyle%2Edisplay%20%3D%20%27block%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20eventManager%2EaddEventListener%28document%2Ebody%2C%20%27mousemove%27%2C%20handler%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%0A%20%20%2F%2A%20jshint%20ignore%3Aend%20%2A%2F%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20Show%20border%20around%20one%20or%20many%20cells%0A%20%2A%20%40param%20%7BArray%7D%20corners%0A%20%2A%2F%0AWalkontableBorder%2Eprototype%2Eappear%20%3D%20function%20%28corners%29%20%7B%0A%20%20if%20%28this%2Edisabled%29%20%7B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20var%20instance%20%3D%20this%2Einstance%3B%0A%0A%20%20var%20isMultiple%2C%0A%20%20%20%20fromTD%2C%0A%20%20%20%20toTD%2C%0A%20%20%20%20fromOffset%2C%0A%20%20%20%20toOffset%2C%0A%20%20%20%20containerOffset%2C%0A%20%20%20%20top%2C%0A%20%20%20%20minTop%2C%0A%20%20%20%20left%2C%0A%20%20%20%20minLeft%2C%0A%20%20%20%20height%2C%0A%20%20%20%20width%2C%0A%20%20%20%20fromRow%2C%0A%20%20%20%20fromColumn%2C%0A%20%20%20%20toRow%2C%0A%20%20%20%20toColumn%2C%0A%20%20%20%20i%2C%0A%20%20%20%20ilen%2C%0A%20%20%20%20s%3B%0A%0A%20%20var%20isPartRange%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20if%28this%2Einstance%2Eselections%2Earea%2EcellRange%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28toRow%20%21%3D%20this%2Einstance%2Eselections%2Earea%2EcellRange%2Eto%2Erow%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20toColumn%20%21%3D%20this%2Einstance%2Eselections%2Earea%2EcellRange%2Eto%2Ecol%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20false%3B%0A%20%20%7D%3B%0A%0A%20%20var%20updateMultipleSelectionHandlesPosition%20%3D%20function%20%28top%2C%20left%2C%20width%2C%20height%29%20%7B%0A%20%20%20%20var%20handleWidth%20%3D%20parseInt%28this%2EselectionHandles%2Estyles%2EtopLeft%2Ewidth%2C%2010%29%0A%20%20%20%20%20%20%2C%20hitAreaWidth%20%3D%20parseInt%28this%2EselectionHandles%2Estyles%2EtopLeftHitArea%2Ewidth%2C%2010%29%3B%0A%0A%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeft%2Etop%20%3D%20parseInt%28top%20%2D%20handleWidth%2C10%29%20%2B%20%22px%22%3B%0A%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeft%2Eleft%20%3D%20parseInt%28left%20%2D%20handleWidth%2C10%29%20%2B%20%22px%22%3B%0A%0A%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeftHitArea%2Etop%20%3D%20parseInt%28top%20%2D%20%28hitAreaWidth%2F4%29%2A3%2C10%29%20%2B%20%22px%22%3B%0A%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeftHitArea%2Eleft%20%3D%20parseInt%28left%20%2D%20%28hitAreaWidth%2F4%29%2A3%2C10%29%20%2B%20%22px%22%3B%0A%0A%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRight%2Etop%20%3D%20parseInt%28top%20%2B%20height%2C10%29%20%2B%20%22px%22%3B%0A%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRight%2Eleft%20%3D%20parseInt%28left%20%2B%20width%2C10%29%20%2B%20%22px%22%3B%0A%0A%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRightHitArea%2Etop%20%3D%20parseInt%28top%20%2B%20height%20%2D%20hitAreaWidth%2F4%2C10%29%20%2B%20%22px%22%3B%0A%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRightHitArea%2Eleft%20%3D%20parseInt%28left%20%2B%20width%20%2D%20hitAreaWidth%2F4%2C10%29%20%2B%20%22px%22%3B%0A%0A%20%20%20%20if%28this%2Esettings%2Eborder%2EmultipleSelectionHandlesVisible%20%26%26%20this%2Esettings%2Eborder%2EmultipleSelectionHandlesVisible%28%29%29%20%7B%0A%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeft%2Edisplay%20%3D%20%22block%22%3B%0A%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeftHitArea%2Edisplay%20%3D%20%22block%22%3B%0A%20%20%20%20%20%20if%28%21isPartRange%2Ecall%28this%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRight%2Edisplay%20%3D%20%22block%22%3B%0A%20%20%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRightHitArea%2Edisplay%20%3D%20%22block%22%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRight%2Edisplay%20%3D%20%22none%22%3B%0A%20%20%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRightHitArea%2Edisplay%20%3D%20%22none%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeft%2Edisplay%20%3D%20%22none%22%3B%0A%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRight%2Edisplay%20%3D%20%22none%22%3B%0A%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeftHitArea%2Edisplay%20%3D%20%22none%22%3B%0A%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRightHitArea%2Edisplay%20%3D%20%22none%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28fromRow%20%3D%3D%20this%2Einstance%2EwtSettings%2EgetSetting%28%27fixedRowsTop%27%29%20%7C%7C%20fromColumn%20%3D%3D%20this%2Einstance%2EwtSettings%2EgetSetting%28%27fixedColumnsLeft%27%29%29%20%7B%0A%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeft%2EzIndex%20%3D%20%229999%22%3B%0A%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeftHitArea%2EzIndex%20%3D%20%229999%22%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeft%2EzIndex%20%3D%20%22%22%3B%0A%20%20%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeftHitArea%2EzIndex%20%3D%20%22%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%3B%0A%0A%20%20if%20%28instance%2EcloneOverlay%20instanceof%20WalkontableTopOverlay%20%7C%7C%20instance%2EcloneOverlay%20instanceof%20WalkontableCornerOverlay%29%20%7B%0A%20%20%20%20ilen%20%3D%20instance%2EgetSetting%28%27fixedRowsTop%27%29%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20ilen%20%3D%20instance%2EwtTable%2EgetRenderedRowsCount%28%29%3B%0A%20%20%7D%0A%0A%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20s%20%3D%20instance%2EwtTable%2ErowFilter%2ErenderedToSource%28i%29%3B%0A%20%20%20%20if%20%28s%20%3E%3D%20corners%5B0%5D%20%26%26%20s%20%3C%3D%20corners%5B2%5D%29%20%7B%0A%20%20%20%20%20%20fromRow%20%3D%20s%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20for%20%28i%20%3D%20ilen%20%2D%201%3B%20i%20%3E%3D%200%3B%20i%2D%2D%29%20%7B%0A%20%20%20%20s%20%3D%20instance%2EwtTable%2ErowFilter%2ErenderedToSource%28i%29%3B%0A%20%20%20%20if%20%28s%20%3E%3D%20corners%5B0%5D%20%26%26%20s%20%3C%3D%20corners%5B2%5D%29%20%7B%0A%20%20%20%20%20%20toRow%20%3D%20s%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20ilen%20%3D%20instance%2EwtTable%2EgetRenderedColumnsCount%28%29%3B%0A%0A%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20s%20%3D%20instance%2EwtTable%2EcolumnFilter%2ErenderedToSource%28i%29%3B%0A%20%20%20%20if%20%28s%20%3E%3D%20corners%5B1%5D%20%26%26%20s%20%3C%3D%20corners%5B3%5D%29%20%7B%0A%20%20%20%20%20%20fromColumn%20%3D%20s%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20for%20%28i%20%3D%20ilen%20%2D%201%3B%20i%20%3E%3D%200%3B%20i%2D%2D%29%20%7B%0A%20%20%20%20s%20%3D%20instance%2EwtTable%2EcolumnFilter%2ErenderedToSource%28i%29%3B%0A%20%20%20%20if%20%28s%20%3E%3D%20corners%5B1%5D%20%26%26%20s%20%3C%3D%20corners%5B3%5D%29%20%7B%0A%20%20%20%20%20%20toColumn%20%3D%20s%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%20%28fromRow%20%21%3D%3D%20void%200%20%26%26%20fromColumn%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20isMultiple%20%3D%20%28fromRow%20%21%3D%3D%20toRow%20%7C%7C%20fromColumn%20%21%3D%3D%20toColumn%29%3B%0A%20%20%20%20fromTD%20%3D%20instance%2EwtTable%2EgetCell%28new%20WalkontableCellCoords%28fromRow%2C%20fromColumn%29%29%3B%0A%20%20%20%20toTD%20%3D%20isMultiple%20%3F%20instance%2EwtTable%2EgetCell%28new%20WalkontableCellCoords%28toRow%2C%20toColumn%29%29%20%3A%20fromTD%3B%0A%20%20%20%20fromOffset%20%3D%20Handsontable%2EDom%2Eoffset%28fromTD%29%3B%0A%20%20%20%20toOffset%20%3D%20isMultiple%20%3F%20Handsontable%2EDom%2Eoffset%28toTD%29%20%3A%20fromOffset%3B%0A%20%20%20%20containerOffset%20%3D%20Handsontable%2EDom%2Eoffset%28instance%2EwtTable%2ETABLE%29%3B%0A%0A%20%20%20%20minTop%20%3D%20fromOffset%2Etop%3B%0A%20%20%20%20height%20%3D%20toOffset%2Etop%20%2B%20Handsontable%2EDom%2EouterHeight%28toTD%29%20%2D%20minTop%3B%0A%20%20%20%20minLeft%20%3D%20fromOffset%2Eleft%3B%0A%20%20%20%20width%20%3D%20toOffset%2Eleft%20%2B%20Handsontable%2EDom%2EouterWidth%28toTD%29%20%2D%20minLeft%3B%0A%0A%0A%20%20%20%20top%20%3D%20minTop%20%2D%20containerOffset%2Etop%20%2D%201%3B%0A%20%20%20%20left%20%3D%20minLeft%20%2D%20containerOffset%2Eleft%20%2D%201%3B%0A%0A%0A%0A%0A%20%20%20%20var%20style%20%3D%20Handsontable%2EDom%2EgetComputedStyle%28fromTD%29%3B%0A%20%20%20%20if%20%28parseInt%28style%5B%27borderTopWidth%27%5D%2C%2010%29%20%3E%200%29%20%7B%0A%20%20%20%20%20%20top%20%2B%3D%201%3B%0A%20%20%20%20%20%20height%20%3D%20height%20%3E%200%20%3F%20height%20%2D%201%20%3A%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28parseInt%28style%5B%27borderLeftWidth%27%5D%2C%2010%29%20%3E%200%29%20%7B%0A%20%20%20%20%20%20left%20%2B%3D%201%3B%0A%20%20%20%20%20%20width%20%3D%20width%20%3E%200%20%3F%20width%20%2D%201%20%3A%200%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20this%2Edisappear%28%29%3B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20this%2EtopStyle%2Etop%20%3D%20top%20%2B%20%27px%27%3B%0A%20%20this%2EtopStyle%2Eleft%20%3D%20left%20%2B%20%27px%27%3B%0A%20%20this%2EtopStyle%2Ewidth%20%3D%20width%20%2B%20%27px%27%3B%0A%20%20this%2EtopStyle%2Edisplay%20%3D%20%27block%27%3B%0A%0A%20%20this%2EleftStyle%2Etop%20%3D%20top%20%2B%20%27px%27%3B%0A%20%20this%2EleftStyle%2Eleft%20%3D%20left%20%2B%20%27px%27%3B%0A%20%20this%2EleftStyle%2Eheight%20%3D%20height%20%2B%20%27px%27%3B%0A%20%20this%2EleftStyle%2Edisplay%20%3D%20%27block%27%3B%0A%0A%20%20var%20delta%20%3D%20Math%2Efloor%28this%2Esettings%2Eborder%2Ewidth%20%2F%202%29%3B%0A%0A%20%20this%2EbottomStyle%2Etop%20%3D%20top%20%2B%20height%20%2D%20delta%20%2B%20%27px%27%3B%0A%20%20this%2EbottomStyle%2Eleft%20%3D%20left%20%2B%20%27px%27%3B%0A%20%20this%2EbottomStyle%2Ewidth%20%3D%20width%20%2B%20%27px%27%3B%0A%20%20this%2EbottomStyle%2Edisplay%20%3D%20%27block%27%3B%0A%0A%20%20this%2ErightStyle%2Etop%20%3D%20top%20%2B%20%27px%27%3B%0A%20%20this%2ErightStyle%2Eleft%20%3D%20left%20%2B%20width%20%2D%20delta%20%2B%20%27px%27%3B%0A%20%20this%2ErightStyle%2Eheight%20%3D%20height%20%2B%201%20%2B%20%27px%27%3B%0A%20%20this%2ErightStyle%2Edisplay%20%3D%20%27block%27%3B%0A%0A%20%20if%20%28Handsontable%2EmobileBrowser%20%7C%7C%20%28%21this%2EhasSetting%28this%2Esettings%2Eborder%2EcornerVisible%29%20%7C%7C%20isPartRange%2Ecall%28this%29%29%29%20%7B%0A%20%20%20%20this%2EcornerStyle%2Edisplay%20%3D%20%27none%27%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20this%2EcornerStyle%2Etop%20%3D%20top%20%2B%20height%20%2D%204%20%2B%20%27px%27%3B%0A%20%20%20%20this%2EcornerStyle%2Eleft%20%3D%20left%20%2B%20width%20%2D%204%20%2B%20%27px%27%3B%0A%20%20%20%20this%2EcornerStyle%2EborderRightWidth%20%3D%20this%2EcornerDefaultStyle%2EborderWidth%3B%0A%20%20%20%20this%2EcornerStyle%2Ewidth%20%3D%20this%2EcornerDefaultStyle%2Ewidth%3B%0A%20%20%20%20this%2EcornerStyle%2Edisplay%20%3D%20%27block%27%3B%0A%0A%20%20%20%20if%20%28toColumn%20%3D%3D%3D%20this%2Einstance%2EgetSetting%28%27totalColumns%27%29%20%2D%201%29%20%7B%0A%20%20%20%20%20%20var%20trimmingContainer%20%3D%20Handsontable%2EDom%2EgetTrimmingContainer%28instance%2EwtTable%2ETABLE%29%2C%0A%20%20%20%20%20%20%20%20cornerOverlappingContainer%20%3D%20toTD%2EoffsetLeft%20%2B%20Handsontable%2EDom%2EouterWidth%28toTD%29%20%3E%3D%20Handsontable%2EDom%2EinnerWidth%28trimmingContainer%29%3B%0A%0A%20%20%20%20%20%20if%20%28cornerOverlappingContainer%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EcornerStyle%2Eleft%20%3D%20Math%2Efloor%28left%20%2B%20width%20%2D%203%20%2D%20parseInt%28this%2EcornerDefaultStyle%2Ewidth%29%20%2F%202%29%20%2B%20%22px%22%3B%0A%20%20%20%20%20%20%20%20this%2EcornerStyle%2EborderRightWidth%20%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%20%28Handsontable%2EmobileBrowser%29%20%7B%0A%20%20%20%20updateMultipleSelectionHandlesPosition%2Ecall%28this%2C%20top%2C%20left%2C%20width%2C%20height%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Hide%20border%0A%20%2A%2F%0AWalkontableBorder%2Eprototype%2Edisappear%20%3D%20function%20%28%29%20%7B%0A%20%20this%2EtopStyle%2Edisplay%20%3D%20%27none%27%3B%0A%20%20this%2EleftStyle%2Edisplay%20%3D%20%27none%27%3B%0A%20%20this%2EbottomStyle%2Edisplay%20%3D%20%27none%27%3B%0A%20%20this%2ErightStyle%2Edisplay%20%3D%20%27none%27%3B%0A%20%20this%2EcornerStyle%2Edisplay%20%3D%20%27none%27%3B%0A%0A%20%20if%28Handsontable%2EmobileBrowser%29%20%7B%0A%20%20%20%20this%2EselectionHandles%2Estyles%2EtopLeft%2Edisplay%20%3D%20%27none%27%3B%0A%20%20%20%20this%2EselectionHandles%2Estyles%2EbottomRight%2Edisplay%20%3D%20%27none%27%3B%0A%20%20%7D%0A%0A%0A%7D%3B%0A%0AWalkontableBorder%2Eprototype%2EhasSetting%20%3D%20function%20%28setting%29%20%7B%0A%20%20if%20%28typeof%20setting%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20return%20setting%28%29%3B%0A%20%20%7D%0A%20%20return%20%21%21setting%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20WalkontableCellCoords%20holds%20cell%20coordinates%20%28row%2C%20column%29%20and%20few%20metiod%20to%20validate%20them%20and%20retrieve%20as%20an%20array%20or%20an%20object%0A%20%2A%20TODO%3A%20change%20interface%20to%20WalkontableCellCoords%28row%2C%20col%29%20everywhere%2C%20remove%20those%20unnecessary%20setter%20and%20getter%20functions%0A%20%2A%2F%0A%0Afunction%20WalkontableCellCoords%28row%2C%20col%29%20%7B%0A%20%20if%20%28typeof%20row%20%21%3D%3D%20%27undefined%27%20%26%26%20typeof%20col%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20this%2Erow%20%3D%20row%3B%0A%20%20%20%20this%2Ecol%20%3D%20col%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20this%2Erow%20%3D%20null%3B%0A%20%20%20%20this%2Ecol%20%3D%20null%3B%0A%20%20%7D%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20boolean%20information%20if%20given%20set%20of%20coordinates%20is%20valid%20in%20context%20of%20a%20given%20Walkontable%20instance%0A%20%2A%0A%20%2A%20%40param%20instance%0A%20%2A%20%40returns%20%7Bboolean%7D%0A%20%2A%2F%0AWalkontableCellCoords%2Eprototype%2EisValid%20%3D%20function%20%28instance%29%20%7B%0A%20%20%2F%2Fis%20it%20a%20valid%20cell%20index%20%280%20or%20higher%29%0A%20%20if%20%28this%2Erow%20%3C%200%20%7C%7C%20this%2Ecol%20%3C%200%29%20%7B%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%0A%20%20%2F%2Fis%20selection%20within%20total%20rows%20and%20columns%0A%20%20if%20%28this%2Erow%20%3E%3D%20instance%2EgetSetting%28%27totalRows%27%29%20%7C%7C%20this%2Ecol%20%3E%3D%20instance%2EgetSetting%28%27totalColumns%27%29%29%20%7B%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%0A%20%20return%20true%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20boolean%20information%20if%20this%20cell%20coords%20are%20the%20same%20as%20cell%20coords%20given%20as%20a%20parameter%0A%20%2A%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20cellCoords%0A%20%2A%20%40returns%20%7Bboolean%7D%0A%20%2A%2F%0AWalkontableCellCoords%2Eprototype%2EisEqual%20%3D%20function%20%28cellCoords%29%20%7B%0A%20%20if%20%28cellCoords%20%3D%3D%3D%20this%29%20%7B%0A%20%20%20%20return%20true%3B%0A%20%20%7D%0A%20%20return%20%28this%2Erow%20%3D%3D%3D%20cellCoords%2Erow%20%26%26%20this%2Ecol%20%3D%3D%3D%20cellCoords%2Ecol%29%3B%0A%7D%3B%0A%0AWalkontableCellCoords%2Eprototype%2EisSouthEastOf%20%3D%20function%20%28testedCoords%29%20%7B%0A%20%20return%20this%2Erow%20%3E%3D%20testedCoords%2Erow%20%26%26%20this%2Ecol%20%3E%3D%20testedCoords%2Ecol%3B%0A%7D%3B%0A%0AWalkontableCellCoords%2Eprototype%2EisNorthWestOf%20%3D%20function%20%28testedCoords%29%20%7B%0A%20%20return%20this%2Erow%20%3C%3D%20testedCoords%2Erow%20%26%26%20this%2Ecol%20%3C%3D%20testedCoords%2Ecol%3B%0A%7D%3B%0A%0AWalkontableCellCoords%2Eprototype%2EisSouthWestOf%20%3D%20function%20%28testedCoords%29%20%7B%0A%20%20return%20this%2Erow%20%3E%3D%20testedCoords%2Erow%20%26%26%20this%2Ecol%20%3C%3D%20testedCoords%2Ecol%3B%0A%7D%3B%0A%0AWalkontableCellCoords%2Eprototype%2EisNorthEastOf%20%3D%20function%20%28testedCoords%29%20%7B%0A%20%20return%20this%2Erow%20%3C%3D%20testedCoords%2Erow%20%26%26%20this%2Ecol%20%3E%3D%20testedCoords%2Ecol%3B%0A%7D%3B%0A%0Awindow%2EWalkontableCellCoords%20%3D%20WalkontableCellCoords%3B%20%2F%2Fexport%0A%0A%2F%2A%2A%0A%20%2A%20A%20cell%20range%20is%20a%20set%20of%20exactly%20two%20WalkontableCellCoords%20%28that%20can%20be%20the%20same%20or%20different%29%0A%20%2A%2F%0A%0Afunction%20WalkontableCellRange%28highlight%2C%20from%2C%20to%29%20%7B%0A%20%20this%2Ehighlight%20%3D%20highlight%3B%20%2F%2Fthis%20property%20is%20used%20to%20draw%20bold%20border%20around%20a%20cell%20where%20selection%20was%20started%20and%20to%20edit%20the%20cell%20when%20you%20press%20Enter%0A%20%20this%2Efrom%20%3D%20from%3B%20%2F%2Fthis%20property%20is%20usually%20the%20same%20as%20highlight%2C%20but%20in%20Excel%20there%20is%20distinction%20%2D%20one%20can%20change%20highlight%20within%20a%20selection%0A%20%20this%2Eto%20%3D%20to%3B%0A%7D%0A%0AWalkontableCellRange%2Eprototype%2EisValid%20%3D%20function%20%28instance%29%20%7B%0A%20%20return%20%28this%2Efrom%2EisValid%28instance%29%20%26%26%20this%2Eto%2EisValid%28instance%29%29%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EisSingle%20%3D%20function%20%28%29%20%7B%0A%20%20return%20%28this%2Efrom%2Erow%20%3D%3D%3D%20this%2Eto%2Erow%20%26%26%20this%2Efrom%2Ecol%20%3D%3D%3D%20this%2Eto%2Ecol%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20selected%20range%20height%20%28in%20number%20of%20rows%29%0A%20%2A%0A%20%2A%20%40returns%20%7Bnumber%7D%0A%20%2A%2F%0AWalkontableCellRange%2Eprototype%2EgetHeight%20%3D%20function%20%28%29%20%7B%0A%20%20return%20Math%2Emax%28this%2Efrom%2Erow%2C%20this%2Eto%2Erow%29%20%2D%20Math%2Emin%28this%2Efrom%2Erow%2C%20this%2Eto%2Erow%29%20%2B%201%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20selected%20range%20width%20%28in%20number%20of%20columns%29%0A%20%2A%0A%20%2A%20%40returns%20%7Bnumber%7D%0A%20%2A%2F%0AWalkontableCellRange%2Eprototype%2EgetWidth%20%3D%20function%20%28%29%20%7B%0A%20%20return%20Math%2Emax%28this%2Efrom%2Ecol%2C%20this%2Eto%2Ecol%29%20%2D%20Math%2Emin%28this%2Efrom%2Ecol%2C%20this%2Eto%2Ecol%29%20%2B%201%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20boolean%20information%20if%20given%20cell%20coords%20is%20within%20%60from%60%20and%20%60to%60%20cell%20coords%20of%20this%20range%0A%20%2A%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20cellCoords%0A%20%2A%20%40returns%20%7Bboolean%7D%0A%20%2A%2F%0AWalkontableCellRange%2Eprototype%2Eincludes%20%3D%20function%20%28cellCoords%29%20%7B%0A%20%20var%20topLeft%20%3D%20this%2EgetTopLeftCorner%28%29%3B%0A%20%20var%20bottomRight%20%3D%20this%2EgetBottomRightCorner%28%29%3B%0A%0A%20%20if%20%28cellCoords%2Erow%20%3C%200%29%20%7B%0A%20%20%20%20cellCoords%2Erow%20%3D%200%3B%0A%20%20%7D%0A%0A%20%20if%20%28cellCoords%2Ecol%20%3C%200%29%20%7B%0A%20%20%20%20cellCoords%2Ecol%20%3D%200%3B%0A%20%20%7D%0A%0A%20%20return%20%28topLeft%2Erow%20%3C%3D%20cellCoords%2Erow%20%26%26%20bottomRight%2Erow%20%3E%3D%20cellCoords%2Erow%20%26%26%20topLeft%2Ecol%20%3C%3D%20cellCoords%2Ecol%20%26%26%20bottomRight%2Ecol%20%3E%3D%20cellCoords%2Ecol%29%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EincludesRange%20%3D%20function%20%28testedRange%29%20%7B%0A%20%20return%20this%2Eincludes%28testedRange%2EgetTopLeftCorner%28%29%29%20%26%26%20this%2Eincludes%28testedRange%2EgetBottomRightCorner%28%29%29%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EisEqual%20%3D%20function%20%28testedRange%29%20%7B%0A%20%20return%20%28Math%2Emin%28this%2Efrom%2Erow%2C%20this%2Eto%2Erow%29%20%3D%3D%20Math%2Emin%28testedRange%2Efrom%2Erow%2C%20testedRange%2Eto%2Erow%29%29%20%26%26%0A%20%20%20%20%20%20%20%20%20%28Math%2Emax%28this%2Efrom%2Erow%2C%20this%2Eto%2Erow%29%20%3D%3D%20Math%2Emax%28testedRange%2Efrom%2Erow%2C%20testedRange%2Eto%2Erow%29%29%20%26%26%0A%20%20%20%20%20%20%20%20%20%28Math%2Emin%28this%2Efrom%2Ecol%2C%20this%2Eto%2Ecol%29%20%3D%3D%20Math%2Emin%28testedRange%2Efrom%2Ecol%2C%20testedRange%2Eto%2Ecol%29%29%20%26%26%0A%20%20%20%20%20%20%20%20%20%28Math%2Emax%28this%2Efrom%2Ecol%2C%20this%2Eto%2Ecol%29%20%3D%3D%20Math%2Emax%28testedRange%2Efrom%2Ecol%2C%20testedRange%2Eto%2Ecol%29%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20true%20if%20tested%20range%20overlaps%20with%20the%20range%2E%0A%20%2A%20Range%20A%20is%20considered%20to%20to%20be%20overlapping%20with%20range%20B%20if%20intersection%20of%20A%20and%20B%20or%20B%20and%20A%20is%20not%20empty%2E%0A%20%2A%0A%20%2A%20%40param%20testedRange%0A%20%2A%20%40returns%20%7Bboolean%7D%0A%20%2A%2F%0AWalkontableCellRange%2Eprototype%2Eoverlaps%20%3D%20function%20%28testedRange%29%20%7B%0A%20%20return%20testedRange%2EisSouthEastOf%28this%2EgetTopLeftCorner%28%29%29%20%26%26%20testedRange%2EisNorthWestOf%28this%2EgetBottomRightCorner%28%29%29%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EisSouthEastOf%20%3D%20function%20%28testedCoords%29%20%7B%0A%20%20return%20this%2EgetTopLeftCorner%28%29%2EisSouthEastOf%28testedCoords%29%20%7C%7C%20this%2EgetBottomRightCorner%28%29%2EisSouthEastOf%28testedCoords%29%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EisNorthWestOf%20%3D%20function%20%28testedCoords%29%20%7B%0A%20%20return%20this%2EgetTopLeftCorner%28%29%2EisNorthWestOf%28testedCoords%29%20%7C%7C%20this%2EgetBottomRightCorner%28%29%2EisNorthWestOf%28testedCoords%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Adds%20a%20cell%20to%20a%20range%20%28only%20if%20exceeds%20corners%20of%20the%20range%29%2E%20Returns%20information%20if%20range%20was%20expanded%0A%20%2A%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20cellCoords%0A%20%2A%20%40returns%20%7Bboolean%7D%0A%20%2A%2F%0AWalkontableCellRange%2Eprototype%2Eexpand%20%3D%20function%20%28cellCoords%29%20%7B%0A%20%20var%20topLeft%20%3D%20this%2EgetTopLeftCorner%28%29%3B%0A%20%20var%20bottomRight%20%3D%20this%2EgetBottomRightCorner%28%29%3B%0A%20%20if%20%28cellCoords%2Erow%20%3C%20topLeft%2Erow%20%7C%7C%20cellCoords%2Ecol%20%3C%20topLeft%2Ecol%20%7C%7C%20cellCoords%2Erow%20%3E%20bottomRight%2Erow%20%7C%7C%20cellCoords%2Ecol%20%3E%20bottomRight%2Ecol%29%20%7B%0A%20%20%20%20this%2Efrom%20%3D%20new%20WalkontableCellCoords%28Math%2Emin%28topLeft%2Erow%2C%20cellCoords%2Erow%29%2C%20Math%2Emin%28topLeft%2Ecol%2C%20cellCoords%2Ecol%29%29%3B%0A%20%20%20%20this%2Eto%20%3D%20new%20WalkontableCellCoords%28Math%2Emax%28bottomRight%2Erow%2C%20cellCoords%2Erow%29%2C%20Math%2Emax%28bottomRight%2Ecol%2C%20cellCoords%2Ecol%29%29%3B%0A%20%20%20%20return%20true%3B%0A%20%20%7D%0A%20%20return%20false%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EexpandByRange%20%3D%20function%20%28expandingRange%29%20%7B%0A%20%20if%20%28this%2EincludesRange%28expandingRange%29%20%7C%7C%20%21this%2Eoverlaps%28expandingRange%29%29%20%7B%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%0A%20%20var%20topLeft%20%3D%20this%2EgetTopLeftCorner%28%29%0A%20%20%20%20%2C%20bottomRight%20%3D%20this%2EgetBottomRightCorner%28%29%0A%20%20%20%20%2C%20topRight%20%3D%20this%2EgetTopRightCorner%28%29%0A%20%20%20%20%2C%20bottomLeft%20%3D%20this%2EgetBottomLeftCorner%28%29%3B%0A%0A%20%20var%20expandingTopLeft%20%3D%20expandingRange%2EgetTopLeftCorner%28%29%3B%0A%20%20var%20expandingBottomRight%20%3D%20expandingRange%2EgetBottomRightCorner%28%29%3B%0A%0A%20%20var%20resultTopRow%20%3D%20Math%2Emin%28topLeft%2Erow%2C%20expandingTopLeft%2Erow%29%3B%0A%20%20var%20resultTopCol%20%3D%20Math%2Emin%28topLeft%2Ecol%2C%20expandingTopLeft%2Ecol%29%3B%0A%20%20var%20resultBottomRow%20%3D%20Math%2Emax%28bottomRight%2Erow%2C%20expandingBottomRight%2Erow%29%3B%0A%20%20var%20resultBottomCol%20%3D%20Math%2Emax%28bottomRight%2Ecol%2C%20expandingBottomRight%2Ecol%29%3B%0A%0A%20%20var%20finalFrom%20%3D%20new%20WalkontableCellCoords%28resultTopRow%2C%20resultTopCol%29%0A%20%20%20%20%2C%20finalTo%20%3D%20new%20WalkontableCellCoords%28resultBottomRow%2C%20resultBottomCol%29%3B%0A%20%20var%20isCorner%20%3D%20new%20WalkontableCellRange%28finalFrom%2C%20finalFrom%2C%20finalTo%29%2EisCorner%28this%2Efrom%2C%20expandingRange%29%0A%20%20%20%20%2C%20onlyMerge%20%3D%20expandingRange%2EisEqual%28new%20WalkontableCellRange%28finalFrom%2C%20finalFrom%2C%20finalTo%29%29%3B%0A%0A%20%20if%20%28isCorner%20%26%26%20%21onlyMerge%29%20%7B%0A%20%20%20%20if%20%28this%2Efrom%2Ecol%20%3E%20finalFrom%2Ecol%29%20%7B%0A%20%20%20%20%20%20finalFrom%2Ecol%20%3D%20resultBottomCol%3B%0A%20%20%20%20%20%20finalTo%2Ecol%20%3D%20resultTopCol%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28this%2Efrom%2Erow%20%3E%20finalFrom%2Erow%29%20%7B%0A%20%20%20%20%20%20finalFrom%2Erow%20%3D%20resultBottomRow%3B%0A%20%20%20%20%20%20finalTo%2Erow%20%3D%20resultTopRow%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20this%2Efrom%20%3D%20finalFrom%3B%0A%20%20this%2Eto%20%3D%20finalTo%3B%0A%0A%20%20return%20true%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EgetDirection%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28this%2Efrom%2EisNorthWestOf%28this%2Eto%29%29%20%7B%20%20%20%20%20%20%20%20%2F%2F%20NorthWest%20%2D%20SouthEast%0A%20%20%20%20return%20%22NW%2DSE%22%3B%0A%20%20%7D%20else%20if%20%28this%2Efrom%2EisNorthEastOf%28this%2Eto%29%29%20%7B%20%2F%2F%20NorthEast%20%2D%20SouthWest%0A%20%20%20%20return%20%22NE%2DSW%22%3B%0A%20%20%7D%20else%20if%20%28this%2Efrom%2EisSouthEastOf%28this%2Eto%29%29%20%7B%20%2F%2F%20SouthEast%20%2D%20NorthWest%0A%20%20%20%20return%20%22SE%2DNW%22%3B%0A%20%20%7D%20else%20if%20%28this%2Efrom%2EisSouthWestOf%28this%2Eto%29%29%20%7B%20%2F%2F%20SouthWest%20%2D%20NorthEast%0A%20%20%20%20return%20%22SW%2DNE%22%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EsetDirection%20%3D%20function%20%28direction%29%20%7B%0A%20%20switch%20%28direction%29%20%7B%0A%20%20%20%20case%20%22NW%2DSE%22%20%3A%0A%20%20%20%20%20%20this%2Efrom%20%3D%20this%2EgetTopLeftCorner%28%29%3B%0A%20%20%20%20%20%20this%2Eto%20%3D%20this%2EgetBottomRightCorner%28%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22NE%2DSW%22%20%3A%0A%20%20%20%20%20%20this%2Efrom%20%3D%20this%2EgetTopRightCorner%28%29%3B%0A%20%20%20%20%20%20this%2Eto%20%3D%20this%2EgetBottomLeftCorner%28%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22SE%2DNW%22%20%3A%0A%20%20%20%20%20%20this%2Efrom%20%3D%20this%2EgetBottomRightCorner%28%29%3B%0A%20%20%20%20%20%20this%2Eto%20%3D%20this%2EgetTopLeftCorner%28%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20case%20%22SW%2DNE%22%20%3A%0A%20%20%20%20%20%20this%2Efrom%20%3D%20this%2EgetBottomLeftCorner%28%29%3B%0A%20%20%20%20%20%20this%2Eto%20%3D%20this%2EgetTopRightCorner%28%29%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EgetTopLeftCorner%20%3D%20function%20%28%29%20%7B%0A%20%20return%20new%20WalkontableCellCoords%28Math%2Emin%28this%2Efrom%2Erow%2C%20this%2Eto%2Erow%29%2C%20Math%2Emin%28this%2Efrom%2Ecol%2C%20this%2Eto%2Ecol%29%29%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EgetBottomRightCorner%20%3D%20function%20%28%29%20%7B%0A%20%20return%20new%20WalkontableCellCoords%28Math%2Emax%28this%2Efrom%2Erow%2C%20this%2Eto%2Erow%29%2C%20Math%2Emax%28this%2Efrom%2Ecol%2C%20this%2Eto%2Ecol%29%29%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EgetTopRightCorner%20%3D%20function%20%28%29%20%7B%0A%20%20return%20new%20WalkontableCellCoords%28Math%2Emin%28this%2Efrom%2Erow%2C%20this%2Eto%2Erow%29%2C%20Math%2Emax%28this%2Efrom%2Ecol%2C%20this%2Eto%2Ecol%29%29%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EgetBottomLeftCorner%20%3D%20function%20%28%29%20%7B%0A%20%20return%20new%20WalkontableCellCoords%28Math%2Emax%28this%2Efrom%2Erow%2C%20this%2Eto%2Erow%29%2C%20Math%2Emin%28this%2Efrom%2Ecol%2C%20this%2Eto%2Ecol%29%29%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EisCorner%20%3D%20function%20%28coords%2C%20expandedRange%29%20%7B%0A%20%20if%20%28expandedRange%29%20%7B%0A%20%20%20%20if%20%28expandedRange%2Eincludes%28coords%29%29%20%7B%0A%20%20%20%20%20%20if%20%28this%2EgetTopLeftCorner%28%29%2EisEqual%28new%20WalkontableCellCoords%28expandedRange%2Efrom%2Erow%2C%20expandedRange%2Efrom%2Ecol%29%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20this%2EgetTopRightCorner%28%29%2EisEqual%28new%20WalkontableCellCoords%28expandedRange%2Efrom%2Erow%2C%20expandedRange%2Eto%2Ecol%29%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20this%2EgetBottomLeftCorner%28%29%2EisEqual%28new%20WalkontableCellCoords%28expandedRange%2Eto%2Erow%2C%20expandedRange%2Efrom%2Ecol%29%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20this%2EgetBottomRightCorner%28%29%2EisEqual%28new%20WalkontableCellCoords%28expandedRange%2Eto%2Erow%2C%20expandedRange%2Eto%2Ecol%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20coords%2EisEqual%28this%2EgetTopLeftCorner%28%29%29%20%7C%7C%20coords%2EisEqual%28this%2EgetTopRightCorner%28%29%29%20%7C%7C%20coords%2EisEqual%28this%2EgetBottomLeftCorner%28%29%29%20%7C%7C%20coords%2EisEqual%28this%2EgetBottomRightCorner%28%29%29%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EgetOppositeCorner%20%3D%20function%20%28coords%2C%20expandedRange%29%20%7B%0A%20%20if%20%28%21%28coords%20instanceof%20WalkontableCellCoords%29%29%20%7B%0A%20%20%20%20return%20false%3B%0A%20%20%7D%0A%0A%20%20if%20%28expandedRange%29%20%7B%0A%20%20%20%20if%20%28expandedRange%2Eincludes%28coords%29%29%20%7B%0A%20%20%20%20%20%20if%20%28this%2EgetTopLeftCorner%28%29%2EisEqual%28new%20WalkontableCellCoords%28expandedRange%2Efrom%2Erow%2C%20expandedRange%2Efrom%2Ecol%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2EgetBottomRightCorner%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28this%2EgetTopRightCorner%28%29%2EisEqual%28new%20WalkontableCellCoords%28expandedRange%2Efrom%2Erow%2C%20expandedRange%2Eto%2Ecol%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2EgetBottomLeftCorner%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28this%2EgetBottomLeftCorner%28%29%2EisEqual%28new%20WalkontableCellCoords%28expandedRange%2Eto%2Erow%2C%20expandedRange%2Efrom%2Ecol%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2EgetTopRightCorner%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28this%2EgetBottomRightCorner%28%29%2EisEqual%28new%20WalkontableCellCoords%28expandedRange%2Eto%2Erow%2C%20expandedRange%2Eto%2Ecol%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2EgetTopLeftCorner%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%20%28coords%2EisEqual%28this%2EgetBottomRightCorner%28%29%29%29%20%7B%0A%20%20%20%20return%20this%2EgetTopLeftCorner%28%29%3B%0A%20%20%7D%20else%20if%20%28coords%2EisEqual%28this%2EgetTopLeftCorner%28%29%29%29%20%7B%0A%20%20%20%20return%20this%2EgetBottomRightCorner%28%29%3B%0A%20%20%7D%20else%20if%20%28coords%2EisEqual%28this%2EgetTopRightCorner%28%29%29%29%20%7B%0A%20%20%20%20return%20this%2EgetBottomLeftCorner%28%29%3B%0A%20%20%7D%20else%20if%20%28coords%2EisEqual%28this%2EgetBottomLeftCorner%28%29%29%29%20%7B%0A%20%20%20%20return%20%20this%2EgetTopRightCorner%28%29%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EgetBordersSharedWith%20%3D%20function%20%28range%29%20%7B%0A%20%20if%20%28%21this%2EincludesRange%28range%29%29%20%7B%0A%20%20%20%20return%20%5B%5D%3B%0A%20%20%7D%0A%0A%20%20var%20thisBorders%20%3D%20%7B%0A%20%20%20%20%20%20top%3A%20Math%2Emin%28this%2Efrom%2Erow%2C%20this%2Eto%2Erow%29%2C%0A%20%20%20%20%20%20bottom%3A%20Math%2Emax%28this%2Efrom%2Erow%2C%20this%2Eto%2Erow%29%2C%0A%20%20%20%20%20%20left%3A%20Math%2Emin%28this%2Efrom%2Ecol%2C%20this%2Eto%2Ecol%29%2C%0A%20%20%20%20%20%20right%3A%20Math%2Emax%28this%2Efrom%2Ecol%2C%20this%2Eto%2Ecol%29%0A%20%20%20%20%7D%0A%20%20%20%20%2C%20rangeBorders%20%3D%20%7B%0A%20%20%20%20%20%20top%3A%20Math%2Emin%28range%2Efrom%2Erow%2C%20range%2Eto%2Erow%29%2C%0A%20%20%20%20%20%20bottom%3A%20Math%2Emax%28range%2Efrom%2Erow%2C%20range%2Eto%2Erow%29%2C%0A%20%20%20%20%20%20left%3A%20Math%2Emin%28range%2Efrom%2Ecol%2C%20range%2Eto%2Ecol%29%2C%0A%20%20%20%20%20%20right%3A%20Math%2Emax%28range%2Efrom%2Ecol%2C%20range%2Eto%2Ecol%29%0A%20%20%20%20%7D%0A%20%20%20%20%2C%20result%20%3D%20%5B%5D%3B%0A%0A%20%20if%20%28thisBorders%2Etop%20%3D%3D%20rangeBorders%2Etop%29%20%7B%0A%20%20%20%20result%2Epush%28%27top%27%29%3B%0A%20%20%7D%0A%20%20if%20%28thisBorders%2Eright%20%3D%3D%20rangeBorders%2Eright%29%20%7B%0A%20%20%20%20result%2Epush%28%27right%27%29%3B%0A%20%20%7D%0A%20%20if%20%28thisBorders%2Ebottom%20%3D%3D%20rangeBorders%2Ebottom%29%20%7B%0A%20%20%20%20result%2Epush%28%27bottom%27%29%3B%0A%20%20%7D%0A%20%20if%20%28thisBorders%2Eleft%20%3D%3D%20rangeBorders%2Eleft%29%20%7B%0A%20%20%20%20result%2Epush%28%27left%27%29%3B%0A%20%20%7D%0A%0A%20%20return%20result%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EgetInner%20%3D%20function%20%28%29%20%7B%0A%20%20var%20topLeft%20%3D%20this%2EgetTopLeftCorner%28%29%3B%0A%20%20var%20bottomRight%20%3D%20this%2EgetBottomRightCorner%28%29%3B%0A%20%20var%20out%20%3D%20%5B%5D%3B%0A%20%20for%20%28var%20r%20%3D%20topLeft%2Erow%3B%20r%20%3C%3D%20bottomRight%2Erow%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20for%20%28var%20c%20%3D%20topLeft%2Ecol%3B%20c%20%3C%3D%20bottomRight%2Ecol%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28%21%28this%2Efrom%2Erow%20%3D%3D%3D%20r%20%26%26%20this%2Efrom%2Ecol%20%3D%3D%3D%20c%29%20%26%26%20%21%28this%2Eto%2Erow%20%3D%3D%3D%20r%20%26%26%20this%2Eto%2Ecol%20%3D%3D%3D%20c%29%29%20%7B%0A%20%20%20%20%20%20%20%20out%2Epush%28new%20WalkontableCellCoords%28r%2C%20c%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20out%3B%0A%7D%3B%0A%0AWalkontableCellRange%2Eprototype%2EgetAll%20%3D%20function%20%28%29%20%7B%0A%20%20var%20topLeft%20%3D%20this%2EgetTopLeftCorner%28%29%3B%0A%20%20var%20bottomRight%20%3D%20this%2EgetBottomRightCorner%28%29%3B%0A%20%20var%20out%20%3D%20%5B%5D%3B%0A%20%20for%20%28var%20r%20%3D%20topLeft%2Erow%3B%20r%20%3C%3D%20bottomRight%2Erow%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20for%20%28var%20c%20%3D%20topLeft%2Ecol%3B%20c%20%3C%3D%20bottomRight%2Ecol%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20if%20%28topLeft%2Erow%20%3D%3D%3D%20r%20%26%26%20topLeft%2Ecol%20%3D%3D%3D%20c%29%20%7B%0A%20%20%20%20%20%20%20%20out%2Epush%28topLeft%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28bottomRight%2Erow%20%3D%3D%3D%20r%20%26%26%20bottomRight%2Ecol%20%3D%3D%3D%20c%29%20%7B%0A%20%20%20%20%20%20%20%20out%2Epush%28bottomRight%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20out%2Epush%28new%20WalkontableCellCoords%28r%2C%20c%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20out%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Runs%20a%20callback%20function%20against%20all%20cells%20in%20the%20range%2E%20You%20can%20break%20the%20iteration%20by%20returning%20false%20in%20the%20callback%20function%0A%20%2A%0A%20%2A%20%40param%20callback%20%7BFunction%7D%0A%20%2A%2F%0AWalkontableCellRange%2Eprototype%2EforAll%20%3D%20function%20%28callback%29%20%7B%0A%20%20var%20topLeft%20%3D%20this%2EgetTopLeftCorner%28%29%3B%0A%20%20var%20bottomRight%20%3D%20this%2EgetBottomRightCorner%28%29%3B%0A%20%20for%20%28var%20r%20%3D%20topLeft%2Erow%3B%20r%20%3C%3D%20bottomRight%2Erow%3B%20r%2B%2B%29%20%7B%0A%20%20%20%20for%20%28var%20c%20%3D%20topLeft%2Ecol%3B%20c%20%3C%3D%20bottomRight%2Ecol%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20var%20breakIteration%20%3D%20callback%28r%2C%20c%29%3B%0A%20%20%20%20%20%20if%20%28breakIteration%20%3D%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0Awindow%2EWalkontableCellRange%20%3D%20WalkontableCellRange%3B%20%2F%2Fexport%0A%0A%2F%2A%2A%0A%20%2A%20WalkontableColumnFilter%0A%20%2A%0A%20%2A%20%40constructor%0A%20%2A%20%40private%0A%20%2A%2F%0Afunction%20WalkontableColumnFilter%28offset%2Ctotal%2C%20countTH%29%20%7B%0A%20%20this%2Eoffset%20%3D%20offset%3B%0A%20%20this%2Etotal%20%3D%20total%3B%0A%20%20this%2EcountTH%20%3D%20countTH%3B%0A%7D%0A%0AWalkontableColumnFilter%2Eprototype%2Eoffsetted%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20n%20%2B%20this%2Eoffset%3B%0A%7D%3B%0A%0AWalkontableColumnFilter%2Eprototype%2EunOffsetted%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20n%20%2D%20this%2Eoffset%3B%0A%7D%3B%0A%0AWalkontableColumnFilter%2Eprototype%2ErenderedToSource%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20this%2Eoffsetted%28n%29%3B%0A%7D%3B%0A%0AWalkontableColumnFilter%2Eprototype%2EsourceToRendered%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20this%2EunOffsetted%28n%29%3B%0A%7D%3B%0A%0AWalkontableColumnFilter%2Eprototype%2EoffsettedTH%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20n%20%2D%20this%2EcountTH%3B%0A%7D%3B%0A%0AWalkontableColumnFilter%2Eprototype%2EunOffsettedTH%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20n%20%2B%20this%2EcountTH%3B%0A%7D%3B%0A%0AWalkontableColumnFilter%2Eprototype%2EvisibleRowHeadedColumnToSourceColumn%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20this%2ErenderedToSource%28this%2EoffsettedTH%28n%29%29%3B%0A%7D%3B%0A%0AWalkontableColumnFilter%2Eprototype%2EsourceColumnToVisibleRowHeadedColumn%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20this%2EunOffsettedTH%28this%2EsourceToRendered%28n%29%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20WalkontableColumnStrategy%0A%20%2A%20%0A%20%2A%20%40param%20containerSizeFn%0A%20%2A%20%40param%20sizeAtIndex%0A%20%2A%20%40param%20strategy%20%2D%20all%2C%20last%2C%20none%0A%20%2A%20%40constructor%0A%20%2A%20%40private%0A%20%2A%2F%0Afunction%20WalkontableColumnStrategy%28instance%2C%20containerSizeFn%2C%20sizeAtIndex%2C%20strategy%29%20%7B%0A%20%20var%20size%0A%20%20%20%20%2C%20i%20%3D%200%3B%0A%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20this%2EcontainerSizeFn%20%3D%20containerSizeFn%3B%0A%20%20this%2EcellSizesSum%20%3D%200%3B%0A%20%20this%2EcellSizes%20%3D%20%5B%5D%3B%0A%20%20this%2EcellStretch%20%3D%20%5B%5D%3B%0A%20%20this%2EcellCount%20%3D%200%3B%0A%20%20this%2EvisibleCellCount%20%3D%200%3B%0A%20%20this%2EremainingSize%20%3D%200%3B%0A%20%20this%2Estrategy%20%3D%20strategy%3B%0A%0A%20%20%2F%2Fstep%201%20%2D%20determine%20cells%20that%20fit%20containerSize%20and%20cache%20their%20widths%0A%20%20while%20%28true%29%20%7B%0A%20%20%20%20size%20%3D%20sizeAtIndex%28i%29%3B%0A%20%20%20%20if%20%28size%20%3D%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20break%3B%20%2F%2Ftotal%20columns%20exceeded%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28this%2EcellSizesSum%20%3C%20this%2EgetContainerSize%28%29%29%20%7B%0A%20%20%20%20%20%20this%2EvisibleCellCount%2B%2B%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2EcellSizes%2Epush%28size%29%3B%0A%20%20%20%20this%2EcellSizesSum%20%2B%3D%20size%3B%0A%20%20%20%20this%2EcellCount%2B%2B%3B%0A%0A%20%20%20%20i%2B%2B%3B%0A%20%20%7D%0A%0A%20%20var%20containerSize%20%3D%20this%2EgetContainerSize%28%29%3B%0A%20%20this%2EremainingSize%20%3D%20this%2EcellSizesSum%20%2D%20containerSize%3B%0A%20%20%2F%2Fnegative%20value%20means%20the%20last%20cell%20is%20fully%20visible%20and%20there%20is%20some%20space%20left%20for%20stretching%0A%20%20%2F%2Fpositive%20value%20means%20the%20last%20cell%20is%20not%20fully%20visible%0A%7D%0A%0AWalkontableColumnStrategy%2Eprototype%2EgetContainerSize%20%3D%20function%20%28%29%20%7B%0A%20%20return%20typeof%20this%2EcontainerSizeFn%20%3D%3D%3D%20%27function%27%20%3F%20this%2EcontainerSizeFn%28%29%20%3A%20this%2EcontainerSizeFn%3B%0A%7D%3B%0A%0AWalkontableColumnStrategy%2Eprototype%2EgetSize%20%3D%20function%20%28index%29%20%7B%0A%20%20return%20this%2EcellSizes%5Bindex%5D%20%2B%20%28this%2EcellStretch%5Bindex%5D%20%7C%7C%200%29%3B%0A%7D%3B%0A%0AWalkontableColumnStrategy%2Eprototype%2Estretch%20%3D%20function%20%28%29%20%7B%0A%20%20%2F%2Fstep%202%20%2D%20apply%20stretching%20strategy%0A%20%20var%20containerSize%20%3D%20this%2EgetContainerSize%28%29%0A%20%20%20%20%2C%20i%20%3D%200%3B%0A%0A%20%20this%2EremainingSize%20%3D%20this%2EcellSizesSum%20%2D%20containerSize%3B%0A%0A%20%20this%2EcellStretch%2Elength%20%3D%200%3B%20%2F%2Fclear%20previous%20stretch%0A%0A%20%20if%20%28this%2Estrategy%20%3D%3D%3D%20%27all%27%29%20%7B%0A%20%20%20%20if%20%28this%2EremainingSize%20%3C%200%29%20%7B%0A%20%20%20%20%20%20var%20ratio%20%3D%20containerSize%20%2F%20this%2EcellSizesSum%3B%0A%20%20%20%20%20%20var%20newSize%3B%0A%0A%20%20%20%20%20%20while%20%28i%20%3C%20this%2EcellCount%20%2D%201%29%20%7B%20%2F%2F%22i%20%3C%20this%2EcellCount%20%2D%201%22%20is%20needed%20because%20last%20cellSize%20is%20adjusted%20after%20the%20loop%0A%20%20%20%20%20%20%20%20newSize%20%3D%20Math%2Efloor%28ratio%20%2A%20this%2EcellSizes%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20this%2EremainingSize%20%2B%3D%20newSize%20%2D%20this%2EcellSizes%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20this%2EcellStretch%5Bi%5D%20%3D%20newSize%20%2D%20this%2EcellSizes%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20i%2B%2B%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this%2EcellStretch%5Bthis%2EcellCount%20%2D%201%5D%20%3D%20%2Dthis%2EremainingSize%3B%0A%20%20%20%20%20%20this%2EremainingSize%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20else%20if%20%28this%2Estrategy%20%3D%3D%3D%20%27last%27%29%20%7B%0A%20%20%20%20if%20%28this%2EremainingSize%20%3C%200%20%26%26%20containerSize%20%21%3D%3D%20Infinity%29%20%7B%20%2F%2FInfinity%20is%20with%20native%20scroll%20when%20the%20table%20is%20wider%20than%20the%20viewport%20%28TODO%3A%20test%29%0A%20%20%20%20%20%20this%2EcellStretch%5Bthis%2EcellCount%20%2D%201%5D%20%3D%20%2Dthis%2EremainingSize%3B%0A%20%20%20%20%20%20this%2EremainingSize%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableColumnStrategy%2Eprototype%2EcountVisible%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2EvisibleCellCount%3B%0A%7D%3B%0A%0AWalkontableColumnStrategy%2Eprototype%2EisLastIncomplete%20%3D%20function%20%28%29%20%7B%0A%0A%20%20var%20firstRow%20%3D%20this%2Einstance%2EwtTable%2EgetFirstVisibleRow%28%29%3B%0A%20%20var%20lastCol%20%3D%20this%2Einstance%2EwtTable%2EgetLastVisibleColumn%28%29%3B%0A%20%20var%20cell%20%3D%20this%2Einstance%2EwtTable%2EgetCell%28new%20WalkontableCellCoords%28firstRow%2C%20lastCol%29%29%3B%0A%20%20var%20cellOffset%20%3D%20Handsontable%2EDom%2Eoffset%28cell%29%3B%0A%20%20var%20cellWidth%20%3D%20Handsontable%2EDom%2EouterWidth%28cell%29%3B%0A%20%20var%20cellEnd%20%3D%20cellOffset%2Eleft%20%2B%20cellWidth%3B%0A%0A%20%20var%20viewportOffsetLeft%20%3D%20this%2Einstance%2EwtOverlays%2EtopOverlay%2EgetScrollPosition%28%29%3B%0A%20%20var%20viewportWitdh%20%3D%20this%2Einstance%2EwtViewport%2EgetViewportWidth%28%29%3B%0A%20%20var%20viewportEnd%20%3D%20viewportOffsetLeft%20%2B%20viewportWitdh%3B%0A%0A%0A%20%20return%20viewportEnd%20%3E%3D%20cellEnd%3B%0A%7D%3B%0A%0Afunction%20Walkontable%28settings%29%20%7B%0A%20%20var%20originalHeaders%20%3D%20%5B%5D%3B%0A%0A%20%20this%2Eguid%20%3D%20%27wt%5F%27%20%2B%20walkontableRandomString%28%29%3B%20%2F%2Fthis%20is%20the%20namespace%20for%20global%20events%0A%0A%20%20%2F%2Fbootstrap%20from%20settings%0A%20%20if%20%28settings%2EcloneSource%29%20%7B%0A%20%20%20%20this%2EcloneSource%20%3D%20settings%2EcloneSource%3B%0A%20%20%20%20this%2EcloneOverlay%20%3D%20settings%2EcloneOverlay%3B%0A%20%20%20%20this%2EwtSettings%20%3D%20settings%2EcloneSource%2EwtSettings%3B%0A%20%20%20%20this%2EwtTable%20%3D%20new%20WalkontableTable%28this%2C%20settings%2Etable%2C%20settings%2EwtRootElement%29%3B%0A%20%20%20%20this%2EwtScroll%20%3D%20new%20WalkontableScroll%28this%29%3B%0A%20%20%20%20this%2EwtViewport%20%3D%20settings%2EcloneSource%2EwtViewport%3B%0A%20%20%20%20this%2EwtEvent%20%3D%20new%20WalkontableEvent%28this%29%3B%0A%20%20%20%20this%2Eselections%20%3D%20this%2EcloneSource%2Eselections%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20this%2EwtSettings%20%3D%20new%20WalkontableSettings%28this%2C%20settings%29%3B%0A%20%20%20%20this%2EwtTable%20%3D%20new%20WalkontableTable%28this%2C%20settings%2Etable%29%3B%0A%20%20%20%20this%2EwtScroll%20%3D%20new%20WalkontableScroll%28this%29%3B%0A%20%20%20%20this%2EwtViewport%20%3D%20new%20WalkontableViewport%28this%29%3B%0A%20%20%20%20this%2EwtEvent%20%3D%20new%20WalkontableEvent%28this%29%3B%0A%20%20%20%20this%2Eselections%20%3D%20this%2EgetSetting%28%27selections%27%29%3B%0A%0A%20%20%20%20this%2EwtOverlays%20%3D%20new%20WalkontableOverlays%28this%29%3B%0A%20%20%7D%0A%0A%20%20%2F%2Ffind%20original%20headers%0A%20%20if%20%28this%2EwtTable%2ETHEAD%2EchildNodes%2Elength%20%26%26%20this%2EwtTable%2ETHEAD%2EchildNodes%5B0%5D%2EchildNodes%2Elength%29%20%7B%0A%20%20%20%20for%20%28var%20c%20%3D%200%2C%20clen%20%3D%20this%2EwtTable%2ETHEAD%2EchildNodes%5B0%5D%2EchildNodes%2Elength%3B%20c%20%3C%20clen%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20originalHeaders%2Epush%28this%2EwtTable%2ETHEAD%2EchildNodes%5B0%5D%2EchildNodes%5Bc%5D%2EinnerHTML%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%21this%2EgetSetting%28%27columnHeaders%27%29%2Elength%29%20%7B%0A%20%20%20%20%20%20this%2Eupdate%28%27columnHeaders%27%2C%20%5Bfunction%20%28column%2C%20TH%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EfastInnerText%28TH%2C%20originalHeaders%5Bcolumn%5D%29%3B%0A%20%20%20%20%20%20%7D%5D%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%0A%0A%20%20this%2Edrawn%20%3D%20false%3B%0A%20%20this%2EdrawInterrupted%20%3D%20false%3B%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20Force%20rerender%20of%20Walkontable%0A%20%2A%0A%20%2A%20%40param%20fastDraw%20%7BBoolean%7D%20When%20TRUE%2C%20try%20to%20refresh%20only%20the%20positions%20of%20borders%20without%20rerendering%20the%20data%2E%0A%20%2A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20It%20will%20only%20work%20if%20WalkontableTable%2Edraw%28%29%20does%20not%20force%20rendering%20anyway%0A%20%2A%20%40returns%20%7BWalkontable%7D%0A%20%2A%2F%0AWalkontable%2Eprototype%2Edraw%20%3D%20function%20%28fastDraw%29%20%7B%0A%20%20this%2EdrawInterrupted%20%3D%20false%3B%0A%20%20if%20%28%21fastDraw%20%26%26%20%21Handsontable%2EDom%2EisVisible%28this%2EwtTable%2ETABLE%29%29%20%7B%0A%20%20%20%20this%2EdrawInterrupted%20%3D%20true%3B%20%2F%2Fdraw%20interrupted%20because%20TABLE%20is%20not%20visible%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20this%2EwtTable%2Edraw%28fastDraw%29%3B%0A%0A%20%20return%20this%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20the%20TD%20at%20coords%2E%20If%20topmost%20is%20set%20to%20true%2C%20returns%20TD%20from%20the%20topmost%20overlay%20layer%2C%0A%20%2A%20if%20not%20set%20or%20set%20to%20false%2C%20returns%20TD%20from%20the%20master%20table%2E%0A%20%2A%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20coords%0A%20%2A%20%40param%20%7BBoolean%7D%20topmost%0A%20%2A%20%40returns%20%7BObject%7D%0A%20%2A%2F%0AWalkontable%2Eprototype%2EgetCell%20%3D%20function%20%28coords%2C%20topmost%29%20%7B%0A%20%20if%28%21topmost%29%20%7B%0A%20%20%20%20return%20this%2EwtTable%2EgetCell%28coords%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20var%20fixedRows%20%3D%20this%2EwtSettings%2EgetSetting%28%27fixedRowsTop%27%29%0A%20%20%20%20%20%20%2C%20fixedColumns%20%3D%20this%2EwtSettings%2EgetSetting%28%27fixedColumnsLeft%27%29%3B%0A%0A%20%20%20%20if%28coords%2Erow%20%3C%20fixedRows%20%26%26%20coords%2Ecol%20%3C%20fixedColumns%29%20%7B%0A%20%20%20%20%20%20return%20this%2EwtOverlays%2EtopLeftCornerOverlay%2Eclone%2EwtTable%2EgetCell%28coords%29%3B%0A%20%20%20%20%7D%20else%20if%28coords%2Erow%20%3C%20fixedRows%29%20%7B%0A%20%20%20%20%20%20return%20this%2EwtOverlays%2EtopOverlay%2Eclone%2EwtTable%2EgetCell%28coords%29%3B%0A%20%20%20%20%7D%20else%20if%20%28coords%2Ecol%20%3C%20fixedColumns%29%20%7B%0A%20%20%20%20%20%20return%20this%2EwtOverlays%2EleftOverlay%2Eclone%2EwtTable%2EgetCell%28coords%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20this%2EwtTable%2EgetCell%28coords%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0AWalkontable%2Eprototype%2Eupdate%20%3D%20function%20%28settings%2C%20value%29%20%7B%0A%20%20return%20this%2EwtSettings%2Eupdate%28settings%2C%20value%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Scroll%20the%20viewport%20to%20a%20row%20at%20the%20given%20index%20in%20the%20data%20source%0A%20%2A%0A%20%2A%20%40param%20row%0A%20%2A%20%40returns%20%7BWalkontable%7D%0A%20%2A%2F%0AWalkontable%2Eprototype%2EscrollVertical%20%3D%20function%20%28row%29%20%7B%0A%20%20this%2EwtOverlays%2EtopOverlay%2EscrollTo%28row%29%3B%0A%20%20this%2EgetSetting%28%27onScrollVertically%27%29%3B%0A%20%20return%20this%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Scroll%20the%20viewport%20to%20a%20column%20at%20the%20given%20index%20in%20the%20data%20source%0A%20%2A%0A%20%2A%20%40param%20column%0A%20%2A%20%40returns%20%7BWalkontable%7D%0A%20%2A%2F%0AWalkontable%2Eprototype%2EscrollHorizontal%20%3D%20function%20%28column%29%20%7B%0A%20%20this%2EwtOverlays%2EleftOverlay%2EscrollTo%28column%29%3B%0A%20%20this%2EgetSetting%28%27onScrollHorizontally%27%29%3B%0A%20%20return%20this%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Scrolls%20the%20viewport%20to%20a%20cell%20%28rerenders%20if%20needed%29%0A%20%2A%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20coords%0A%20%2A%20%40returns%20%7BWalkontable%7D%0A%20%2A%2F%0A%0AWalkontable%2Eprototype%2EscrollViewport%20%3D%20function%20%28coords%29%20%7B%0A%20%20this%2EwtScroll%2EscrollViewport%28coords%29%3B%0A%20%20return%20this%3B%0A%7D%3B%0A%0AWalkontable%2Eprototype%2EgetViewport%20%3D%20function%20%28%29%20%7B%0A%20%20return%20%5B%0A%20%20%20%20this%2EwtTable%2EgetFirstVisibleRow%28%29%2C%0A%20%20%20%20this%2EwtTable%2EgetFirstVisibleColumn%28%29%2C%0A%20%20%20%20this%2EwtTable%2EgetLastVisibleRow%28%29%2C%0A%20%20%20%20this%2EwtTable%2EgetLastVisibleColumn%28%29%0A%20%20%5D%3B%0A%7D%3B%0A%0AWalkontable%2Eprototype%2EgetSetting%20%3D%20function%20%28key%2C%20param1%2C%20param2%2C%20param3%2C%20param4%29%20%7B%0A%20%20return%20this%2EwtSettings%2EgetSetting%28key%2C%20param1%2C%20param2%2C%20param3%2C%20param4%29%3B%20%2F%2Fthis%20is%20faster%20than%20%2Eapply%20%2D%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fwiki%2FJavaScript%2D%26%2DDOM%2Dperformance%2Dtips%0A%7D%3B%0A%0AWalkontable%2Eprototype%2EhasSetting%20%3D%20function%20%28key%29%20%7B%0A%20%20return%20this%2EwtSettings%2Ehas%28key%29%3B%0A%7D%3B%0A%0AWalkontable%2Eprototype%2Edestroy%20%3D%20function%20%28%29%20%7B%0A%20%20this%2EwtOverlays%2Edestroy%28%29%3B%0A%0A%20%20if%20%28%20this%2EwtEvent%20%29%20%7B%0A%20%20%20%20this%2EwtEvent%2Edestroy%28%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20A%20overlay%20that%20renders%20ALL%20available%20rows%20%26%20columns%20positioned%20on%20top%20of%20the%20original%20Walkontable%20instance%20and%20all%20other%20overlays%2E%0A%20%2A%20Used%20for%20debugging%20purposes%20to%20see%20if%20the%20other%20overlays%20%28that%20render%20only%20part%20of%20the%20rows%20%26%20columns%29%20are%20positioned%20correctly%0A%20%2A%0A%20%2A%20%40param%20instance%0A%20%2A%20%40constructor%0A%20%2A%20%40private%0A%20%2A%2F%0Afunction%20WalkontableDebugOverlay%28instance%29%20%7B%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20this%2Einit%28%29%3B%0A%20%20this%2Eclone%20%3D%20this%2EmakeClone%28%27debug%27%29%3B%0A%20%20this%2Eclone%2EwtTable%2Eholder%2Estyle%2Eopacity%20%3D%200%2E4%3B%0A%20%20this%2Eclone%2EwtTable%2Eholder%2Estyle%2EtextShadow%20%3D%20%270%200%202px%20%23ff0000%27%3B%0A%20%20this%2ElastTimeout%20%3D%20null%3B%0A%0A%20%20Handsontable%2EDom%2EaddClass%28this%2Eclone%2EwtTable%2Eholder%2EparentNode%2C%20%27wtDebugVisible%27%29%3B%0A%0A%20%20%2F%2Avar%20that%20%3D%20this%3B%0A%20%20var%20lastX%20%3D%200%3B%0A%20%20var%20lastY%20%3D%200%3B%0A%20%20var%20overlayContainer%20%3D%20that%2Eclone%2EwtTable%2Eholder%2EparentNode%3B%0A%0A%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%0A%20%20eventManager%2EaddEventListener%28document%2Ebody%2C%20%27mousemove%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20if%20%28%21that%2Einstance%2EwtTable%2Eholder%2EparentNode%29%20%7B%0A%20%20%20%20%20%20return%3B%20%2F%2Fremoved%20from%20DOM%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%28event%2EclientX%20%2D%20lastX%20%3E%20%2D5%20%26%26%20event%2EclientX%20%2D%20lastX%20%3C%205%29%20%26%26%20%28event%2EclientY%20%2D%20lastY%20%3E%20%2D5%20%26%26%20event%2EclientY%20%2D%20lastY%20%3C%205%29%29%20%7B%0A%20%20%20%20%20%20return%3B%20%2F%2Fignore%20minor%20mouse%20movement%0A%20%20%20%20%7D%0A%20%20%20%20lastX%20%3D%20event%2EclientX%3B%0A%20%20%20%20lastY%20%3D%20event%2EclientY%3B%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28overlayContainer%2C%20%27wtDebugHidden%27%29%3B%0A%20%20%20%20Handsontable%2EDom%2EremoveClass%28overlayContainer%2C%20%27wtDebugVisible%27%29%3B%0A%20%20%20%20clearTimeout%28this%2ElastTimeout%29%3B%0A%20%20%20%20this%2ElastTimeout%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28overlayContainer%2C%20%27wtDebugHidden%27%29%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28overlayContainer%2C%20%27wtDebugVisible%27%29%3B%0A%20%20%20%20%7D%2C%201000%29%3B%0A%20%20%7D%29%3B%2A%2F%0A%7D%0A%0AWalkontableDebugOverlay%2Eprototype%20%3D%20new%20WalkontableOverlay%28%29%3B%0A%0AWalkontableDebugOverlay%2Eprototype%2Edestroy%20%3D%20function%20%28%29%20%7B%0A%20%20WalkontableOverlay%2Eprototype%2Edestroy%2Ecall%28this%29%3B%0A%20%20clearTimeout%28this%2ElastTimeout%29%3B%0A%7D%3B%0A%0Afunction%20WalkontableEvent%28instance%29%20%7B%0A%20%20var%20that%20%3D%20this%3B%0A%0A%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%0A%20%20%2F%2Freference%20to%20instance%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%0A%20%20var%20dblClickOrigin%20%3D%20%5Bnull%2C%20null%5D%3B%0A%20%20this%2EdblClickTimeout%20%3D%20%5Bnull%2C%20null%5D%3B%0A%0A%20%20var%20onMouseDown%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20var%20cell%20%3D%20that%2EparentCell%28event%2ErealTarget%29%3B%0A%0A%20%20%20%20if%20%28Handsontable%2EDom%2EhasClass%28event%2ErealTarget%2C%20%27corner%27%29%29%20%7B%0A%20%20%20%20%20%20that%2Einstance%2EgetSetting%28%27onCellCornerMouseDown%27%2C%20event%2C%20event%2ErealTarget%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28cell%2ETD%29%20%7B%0A%20%20%20%20%20%20if%20%28that%2Einstance%2EhasSetting%28%27onCellMouseDown%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20that%2Einstance%2EgetSetting%28%27onCellMouseDown%27%2C%20event%2C%20cell%2Ecoords%2C%20cell%2ETD%2C%20that%2Einstance%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28event%2Ebutton%20%21%3D%3D%202%29%20%7B%20%2F%2Fif%20not%20right%20mouse%20button%0A%20%20%20%20%20%20if%20%28cell%2ETD%29%20%7B%0A%20%20%20%20%20%20%20%20dblClickOrigin%5B0%5D%20%3D%20cell%2ETD%3B%0A%20%20%20%20%20%20%20%20clearTimeout%28that%2EdblClickTimeout%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20that%2EdblClickTimeout%5B0%5D%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20dblClickOrigin%5B0%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%7D%2C%201000%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20var%20onTouchMove%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20that%2Einstance%2EtouchMoving%20%3D%20true%3B%0A%20%20%7D%3B%0A%0A%20%20var%20longTouchTimeout%3B%0A%0A%20%20%2F%2F%2F%2A%2A%0A%20%20%2F%2F%20%2A%20Update%20touch%20event%20target%20%2D%20if%20user%20taps%20on%20resize%20handle%20%27hit%20area%27%2C%20update%20the%20target%20to%20the%20cell%20itself%0A%20%20%2F%2F%20%2A%20%40param%20event%0A%20%20%2F%2F%20%2A%2F%0A%20%20%2F%2A%0A%20%20var%20adjustTapTarget%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20var%20currentSelection%0A%20%20%20%20%20%20%2C%20properTarget%3B%0A%0A%20%20%20%20if%28Handsontable%2EDom%2EhasClass%28event%2Etarget%2C%27SelectionHandle%27%29%29%20%7B%0A%20%20%20%20%20%20if%28that%2Einstance%2Eselections%5B0%5D%2EcellRange%29%20%7B%0A%20%20%20%20%20%20%20%20currentSelection%20%3D%20that%2Einstance%2Eselections%5B0%5D%2EcellRange%2Ehighlight%3B%0A%0A%20%20%20%20%20%20%20%20properTarget%20%3D%20that%2Einstance%2EgetCell%28currentSelection%2C%20true%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28properTarget%29%20%7B%0A%20%20%20%20%20%20Object%2EdefineProperty%28event%2C%27target%27%2C%7B%0A%20%20%20%20%20%20%20%20value%3A%20properTarget%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20event%3B%0A%20%20%7D%3B%2A%2F%0A%0A%20%20var%20onTouchStart%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20var%20container%20%3D%20this%3B%0A%0A%20%20%20%20eventManager%2EaddEventListener%28this%2C%20%27touchmove%27%2C%20onTouchMove%29%3B%0A%0A%20%20%20%20%2F%2Fthis%2EaddEventListener%28%22touchmove%22%2C%20onTouchMove%2C%20false%29%3B%0A%0A%20%20%20%20%2F%2F%20touch%2Dand%2Dhold%20event%0A%20%20%20%20%2F%2FlongTouchTimeout%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%2F%2F%20%20if%28%21that%2Einstance%2EtouchMoving%29%20%7B%0A%20%20%20%20%2F%2F%20%20%20%20that%2Einstance%2ElongTouch%20%3D%20true%3B%0A%20%20%20%20%2F%2F%0A%20%20%20%20%2F%2F%20%20%20%20var%20targetCoords%20%3D%20Handsontable%2EDom%2Eoffset%28event%2Etarget%29%3B%0A%20%20%20%20%2F%2F%20%20%20%20var%20contextMenuEvent%20%3D%20new%20MouseEvent%28%27contextmenu%27%2C%20%7B%0A%20%20%20%20%2F%2F%20%20%20%20%20%20clientX%3A%20targetCoords%2Eleft%20%2B%20event%2Etarget%2EoffsetWidth%2C%0A%20%20%20%20%2F%2F%20%20%20%20%20%20clientY%3A%20targetCoords%2Etop%20%2B%20event%2Etarget%2EoffsetHeight%2C%0A%20%20%20%20%2F%2F%20%20%20%20%20%20button%3A%202%0A%20%20%20%20%2F%2F%20%20%20%20%7D%29%3B%0A%20%20%20%20%2F%2F%0A%20%20%20%20%2F%2F%20%20%20%20that%2Einstance%2EwtTable%2Eholder%2EparentNode%2EparentNode%2EdispatchEvent%28contextMenuEvent%29%3B%0A%20%20%20%20%2F%2F%20%20%7D%0A%20%20%20%20%2F%2F%7D%2C200%29%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Prevent%20cell%20selection%20when%20scrolling%20with%20touch%20event%20%2D%20not%20the%20best%20solution%20performance%2Dwise%0A%20%20%20%20%20%20that%2EcheckIfTouchMove%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28that%2Einstance%2EtouchMoving%20%3D%3D%3D%20true%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20that%2Einstance%2EtouchMoving%20%3D%20void%200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20eventManager%2EremoveEventListener%28%22touchmove%22%2C%20onTouchMove%2C%20false%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%2F%2Fevent%20%3D%20adjustTapTarget%28event%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20onMouseDown%28event%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%2030%29%3B%0A%0A%20%20%20%20%2F%2FeventManager%2EremoveEventListener%28that%2Einstance%2EwtTable%2Eholder%2C%20%22mousedown%22%2C%20onMouseDown%29%3B%0A%20%20%7D%3B%0A%0A%20%20var%20lastMouseOver%3B%0A%20%20var%20onMouseOver%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20var%20table%2C%20td%3B%0A%0A%20%20%20%20if%20%28that%2Einstance%2EhasSetting%28%27onCellMouseOver%27%29%29%20%7B%0A%20%20%20%20%20%20table%20%3D%20that%2Einstance%2EwtTable%2ETABLE%3B%0A%20%20%20%20%20%20td%20%3D%20Handsontable%2EDom%2Eclosest%28event%2ErealTarget%2C%20%5B%27TD%27%2C%20%27TH%27%5D%2C%20table%29%3B%0A%0A%20%20%20%20%20%20if%20%28td%20%26%26%20td%20%21%3D%3D%20lastMouseOver%20%26%26%20Handsontable%2EDom%2EisChildOf%28td%2C%20table%29%29%20%7B%0A%20%20%20%20%20%20%20%20lastMouseOver%20%3D%20td%3B%0A%20%20%20%20%20%20%20%20that%2Einstance%2EgetSetting%28%27onCellMouseOver%27%2C%20event%2C%20that%2Einstance%2EwtTable%2EgetCoords%28td%29%2C%20td%2C%20that%2Einstance%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%20%20var%20lastMouseOut%3B%0A%20%20%20var%20onMouseOut%20%3D%20function%20%28event%29%20%7B%0A%20%20%20if%20%28that%2Einstance%2EhasSetting%28%27onCellMouseOut%27%29%29%20%7B%0A%20%20%20var%20TABLE%20%3D%20that%2Einstance%2EwtTable%2ETABLE%3B%0A%20%20%20var%20TD%20%3D%20Handsontable%2EDom%2Eclosest%28event%2Etarget%2C%20%5B%27TD%27%2C%20%27TH%27%5D%2C%20TABLE%29%3B%0A%20%20%20if%20%28TD%20%26%26%20TD%20%21%3D%3D%20lastMouseOut%20%26%26%20Handsontable%2EDom%2EisChildOf%28TD%2C%20TABLE%29%29%20%7B%0A%20%20%20lastMouseOut%20%3D%20TD%3B%0A%20%20%20if%20%28TD%2EnodeName%20%3D%3D%3D%20%27TD%27%29%20%7B%0A%20%20%20that%2Einstance%2EgetSetting%28%27onCellMouseOut%27%2C%20event%2C%20that%2Einstance%2EwtTable%2EgetCoords%28TD%29%2C%20TD%29%3B%0A%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20%7D%0A%20%20%20%7D%3B%2A%2F%0A%0A%20%20var%20onMouseUp%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20if%20%28event%2Ebutton%20%21%3D%3D%202%29%20%7B%20%2F%2Fif%20not%20right%20mouse%20button%0A%20%20%20%20%20%20var%20cell%20%3D%20that%2EparentCell%28event%2ErealTarget%29%3B%0A%0A%20%20%20%20%20%20if%20%28cell%2ETD%20%3D%3D%3D%20dblClickOrigin%5B0%5D%20%26%26%20cell%2ETD%20%3D%3D%3D%20dblClickOrigin%5B1%5D%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28Handsontable%2EDom%2EhasClass%28event%2ErealTarget%2C%20%27corner%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20that%2Einstance%2EgetSetting%28%27onCellCornerDblClick%27%2C%20event%2C%20cell%2Ecoords%2C%20cell%2ETD%2C%20that%2Einstance%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20that%2Einstance%2EgetSetting%28%27onCellDblClick%27%2C%20event%2C%20cell%2Ecoords%2C%20cell%2ETD%2C%20that%2Einstance%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20dblClickOrigin%5B0%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20dblClickOrigin%5B1%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28cell%2ETD%20%3D%3D%3D%20dblClickOrigin%5B0%5D%29%20%7B%0A%20%20%20%20%20%20%20%20dblClickOrigin%5B1%5D%20%3D%20cell%2ETD%3B%0A%20%20%20%20%20%20%20%20clearTimeout%28that%2EdblClickTimeout%5B1%5D%29%3B%0A%20%20%20%20%20%20%20%20that%2EdblClickTimeout%5B1%5D%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20dblClickOrigin%5B1%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20500%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%0A%20%20var%20onTouchEnd%20%3D%20function%20%28event%29%20%7B%0A%20%20%20%20clearTimeout%28longTouchTimeout%29%3B%0A%20%20%20%20%2F%2Fthat%2Einstance%2ElongTouch%20%3D%3D%20void%200%3B%0A%0A%20%20%20%20event%2EpreventDefault%28%29%3B%0A%0A%20%20%20%20onMouseUp%28event%29%3B%0A%0A%20%20%20%20%2F%2FeventManager%2EremoveEventListener%28that%2Einstance%2EwtTable%2Eholder%2C%20%22mouseup%22%2C%20onMouseUp%29%3B%0A%20%20%7D%3B%0A%0A%20%20eventManager%2EaddEventListener%28this%2Einstance%2EwtTable%2Eholder%2C%20%27mousedown%27%2C%20onMouseDown%29%3B%0A%0A%20%20eventManager%2EaddEventListener%28this%2Einstance%2EwtTable%2ETABLE%2C%20%27mouseover%27%2C%20onMouseOver%29%3B%0A%0A%20%20eventManager%2EaddEventListener%28this%2Einstance%2EwtTable%2Eholder%2C%20%27mouseup%27%2C%20onMouseUp%29%3B%0A%0A%0A%20%20%2F%2F%20check%20if%20full%20HOT%20instance%2C%20or%20detached%20WOT%20AND%20run%20on%20mobile%20device%0A%20%20if%28this%2Einstance%2EwtTable%2Eholder%2EparentNode%2EparentNode%20%26%26%20Handsontable%2EmobileBrowser%20%26%26%20%21that%2Einstance%2EwtTable%2EisWorkingOnClone%28%29%29%20%7B%0A%20%20%20%20var%20classSelector%20%3D%20%22%2E%22%20%2B%20this%2Einstance%2EwtTable%2Eholder%2EparentNode%2EclassName%2Esplit%28%22%20%22%29%2Ejoin%28%22%2E%22%29%3B%0A%0A%20%20%20%20eventManager%2EaddEventListener%28this%2Einstance%2EwtTable%2Eholder%2C%20%27touchstart%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20that%2Einstance%2EtouchApplied%20%3D%20true%3B%0A%20%20%20%20%20%20if%20%28Handsontable%2EDom%2EisChildOf%28event%2Etarget%2C%20classSelector%29%29%20%7B%0A%20%20%20%20%20%20%20%20onTouchStart%2Ecall%28event%2Etarget%2C%20event%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20eventManager%2EaddEventListener%28this%2Einstance%2EwtTable%2Eholder%2C%20%27touchend%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20that%2Einstance%2EtouchApplied%20%3D%20false%3B%0A%20%20%20%20%20%20if%20%28Handsontable%2EDom%2EisChildOf%28event%2Etarget%2C%20classSelector%29%29%20%7B%0A%20%20%20%20%20%20%20%20onTouchEnd%2Ecall%28event%2Etarget%2C%20event%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20if%28%21that%2Einstance%2EmomentumScrolling%29%20%7B%0A%20%20%20%20%20%20that%2Einstance%2EmomentumScrolling%20%3D%20%7B%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20eventManager%2EaddEventListener%28this%2Einstance%2EwtTable%2Eholder%2C%20%27scroll%27%2C%20function%20%28event%29%20%7B%0A%20%20%20%20%20%20clearTimeout%28that%2Einstance%2EmomentumScrolling%2E%5Ftimeout%29%3B%0A%0A%20%20%20%20%20%20if%28%21that%2Einstance%2EmomentumScrolling%2Eongoing%29%20%7B%0A%20%20%20%20%20%20%20%20that%2Einstance%2EgetSetting%28%27onBeforeTouchScroll%27%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20that%2Einstance%2EmomentumScrolling%2Eongoing%20%3D%20true%3B%0A%0A%20%20%20%20%20%20that%2Einstance%2EmomentumScrolling%2E%5Ftimeout%20%3D%20setTimeout%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20if%28%21that%2Einstance%2EtouchApplied%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20that%2Einstance%2EmomentumScrolling%2Eongoing%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20that%2Einstance%2EgetSetting%28%27onAfterMomentumScroll%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C200%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%0A%0A%20%20eventManager%2EaddEventListener%28window%2C%20%27resize%27%2C%20function%20%28%29%20%7B%0A%20%20%20%20that%2Einstance%2Edraw%28%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20this%2Edestroy%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20clearTimeout%28this%2EdblClickTimeout%5B0%5D%29%3B%0A%20%20%20%20clearTimeout%28this%2EdblClickTimeout%5B1%5D%29%3B%0A%0A%20%20%20%20eventManager%2Eclear%28%29%3B%0A%20%20%7D%3B%0A%7D%0A%0AWalkontableEvent%2Eprototype%2EparentCell%20%3D%20function%20%28elem%29%20%7B%0A%20%20var%20cell%20%3D%20%7B%7D%3B%0A%20%20var%20TABLE%20%3D%20this%2Einstance%2EwtTable%2ETABLE%3B%0A%20%20var%20TD%20%3D%20Handsontable%2EDom%2Eclosest%28elem%2C%20%5B%27TD%27%2C%20%27TH%27%5D%2C%20TABLE%29%3B%0A%0A%20%20if%20%28TD%20%26%26%20Handsontable%2EDom%2EisChildOf%28TD%2C%20TABLE%29%29%20%7B%0A%20%20%20%20cell%2Ecoords%20%3D%20this%2Einstance%2EwtTable%2EgetCoords%28TD%29%3B%0A%20%20%20%20cell%2ETD%20%3D%20TD%3B%0A%20%20%7D%20else%20if%20%28Handsontable%2EDom%2EhasClass%28elem%2C%20%27wtBorder%27%29%20%26%26%20Handsontable%2EDom%2EhasClass%28elem%2C%20%27current%27%29%29%20%7B%0A%20%20%20%20cell%2Ecoords%20%3D%20this%2Einstance%2Eselections%2Ecurrent%2EcellRange%2Ehighlight%3B%20%2F%2Fselections%2Ecurrent%20is%20current%20selected%20cell%0A%20%20%20%20cell%2ETD%20%3D%20this%2Einstance%2EwtTable%2EgetCell%28cell%2Ecoords%29%3B%0A%20%20%7D%20else%20if%20%28Handsontable%2EDom%2EhasClass%28elem%2C%20%27wtBorder%27%29%20%26%26%20Handsontable%2EDom%2EhasClass%28elem%2C%20%27area%27%29%29%20%7B%0A%20%20%20%20if%20%28this%2Einstance%2Eselections%2Earea%2EcellRange%29%20%7B%0A%20%20%20%20%20%20cell%2Ecoords%20%3D%20this%2Einstance%2Eselections%2Earea%2EcellRange%2Eto%3B%20%2F%2Fselections%2Earea%20is%20area%20selected%20cells%0A%20%20%20%20%20%20cell%2ETD%20%3D%20this%2Einstance%2EwtTable%2EgetCell%28cell%2Ecoords%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20return%20cell%3B%0A%7D%3B%0A%0A%0A%0Afunction%20walkontableRangesIntersect%28%29%20%7B%0A%20%20var%20from%20%3D%20arguments%5B0%5D%3B%0A%20%20var%20to%20%3D%20arguments%5B1%5D%3B%0A%20%20for%20%28var%20i%20%3D%201%2C%20ilen%20%3D%20arguments%2Elength%20%2F%202%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20if%20%28from%20%3C%3D%20arguments%5B2%20%2A%20i%20%2B%201%5D%20%26%26%20to%20%3E%3D%20arguments%5B2%20%2A%20i%5D%29%20%7B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20false%3B%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20Generates%20a%20random%20hex%20string%2E%20Used%20as%20namespace%20for%20Walkontable%20instance%20events%2E%0A%20%2A%0A%20%2A%20%40return%20%7BString%7D%20%2D%2016%20character%20random%20string%3A%20%2292b1bfc74ec4%22%0A%20%2A%2F%0Afunction%20walkontableRandomString%28%29%20%7B%0A%20%20function%20s4%28%29%20%7B%0A%20%20%20%20return%20Math%2Efloor%28%281%20%2B%20Math%2Erandom%28%29%29%20%2A%200x10000%29%0A%20%20%20%20%20%20%2EtoString%2816%29%0A%20%20%20%20%20%20%2Esubstring%281%29%3B%0A%20%20%7D%0A%0A%20%20return%20s4%28%29%20%2B%20s4%28%29%20%2B%20s4%28%29%20%2B%20s4%28%29%3B%0A%7D%0A%0Afunction%20WalkontableOverlays%28instance%29%20%7B%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20instance%2Eupdate%28%27scrollbarWidth%27%2C%20Handsontable%2EDom%2EgetScrollbarWidth%28%29%29%3B%0A%20%20instance%2Eupdate%28%27scrollbarHeight%27%2C%20Handsontable%2EDom%2EgetScrollbarWidth%28%29%29%3B%0A%0A%20%20this%2EtopOverlay%20%3D%20new%20WalkontableTopOverlay%28instance%29%3B%0A%20%20this%2EleftOverlay%20%3D%20new%20WalkontableLeftOverlay%28instance%29%3B%0A%20%20this%2EtopLeftCornerOverlay%20%3D%20new%20WalkontableCornerOverlay%28instance%29%3B%0A%0A%20%20this%2EpreventMultipleScrolling%20%3D%20false%3B%0A%0A%20%20if%20%28instance%2EgetSetting%28%27debug%27%29%29%20%7B%0A%20%20%20%20this%2Edebug%20%3D%20new%20WalkontableDebugOverlay%28instance%29%3B%0A%20%20%7D%0A%20%20this%2EregisterListeners%28%29%3B%0A%7D%0A%0AWalkontableOverlays%2Eprototype%2EregisterListeners%20%3D%20function%20%28%29%20%7B%0A%20%20var%20that%20%3D%20this%3B%0A%20%20this%2EmainTableScrollableElement%20%3D%20Handsontable%2EDom%2EgetScrollableElement%28this%2Einstance%2EwtTable%2ETABLE%29%3B%0A%0A%20%20this%2ErefreshAll%20%3D%20function%20refreshAll%28%29%20%7B%0A%20%20%20%20if%20%28%21that%2Einstance%2Edrawn%29%20%7B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%21that%2Einstance%2EwtTable%2Eholder%2EparentNode%29%20%7B%0A%20%20%20%20%20%20%2F%2FWalkontable%20was%20detached%20from%20DOM%2C%20but%20this%20handler%20was%20not%20removed%0A%20%20%20%20%20%20that%2Edestroy%28%29%3B%0A%20%20%20%20%20%20return%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20that%2Einstance%2Edraw%28true%29%3B%0A%20%20%20%20that%2EtopOverlay%2EonScroll%28%29%3B%0A%20%20%20%20that%2EleftOverlay%2EonScroll%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28that%2Einstance%29%3B%0A%0A%20%20this%2ErequestAnimFrame%20%3D%20window%2ErequestAnimationFrame%20%7C%7C%0A%20%20window%2EwebkitRequestAnimationFrame%20%7C%7C%0A%20%20window%2EmozRequestAnimationFrame%20%7C%7C%0A%20%20window%2EmsRequestAnimationFrame%20%7C%7C%0A%20%20window%2EoRequestAnimationFrame%20%7C%7C%0A%20%20function%20%28callback%29%20%7B%0A%20%20%20%20window%2EsetTimeout%28callback%2C%201000%20%2F%2060%29%3B%0A%20%20%7D%3B%0A%0A%20%20this%2EoverlayScrollPositions%20%3D%20%7B%0A%20%20%20%20%27master%27%3A%20%7B%0A%20%20%20%20%20%20top%3A%200%2C%0A%20%20%20%20%20%20left%3A%200%0A%20%20%20%20%7D%2C%0A%20%20%20%20%27top%27%3A%20%7B%0A%20%20%20%20%20%20top%3A%20null%2C%0A%20%20%20%20%20%20left%3A%200%0A%20%20%20%20%7D%2C%0A%20%20%20%20%27left%27%3A%20%7B%0A%20%20%20%20%20%20top%3A%200%2C%0A%20%20%20%20%20%20left%3A%20null%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20eventManager%2EaddEventListener%28this%2EmainTableScrollableElement%2C%20%27scroll%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20that%2ErequestAnimFrame%2Ecall%28window%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20that%2EsyncScrollPositions%28e%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20eventManager%2EaddEventListener%28this%2EtopOverlay%2Eclone%2EwtTable%2Eholder%2C%20%27scroll%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20that%2ErequestAnimFrame%2Ecall%28window%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20that%2EsyncScrollPositions%28e%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20eventManager%2EaddEventListener%28this%2EtopOverlay%2Eclone%2EwtTable%2Eholder%2C%20%27mousewheel%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20that%2ErequestAnimFrame%2Ecall%28window%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20that%2EtranslateMouseWheelToScroll%28e%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20eventManager%2EaddEventListener%28this%2EleftOverlay%2Eclone%2EwtTable%2Eholder%2C%20%27scroll%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20that%2ErequestAnimFrame%2Ecall%28window%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20that%2EsyncScrollPositions%28e%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20eventManager%2EaddEventListener%28this%2EleftOverlay%2Eclone%2EwtTable%2Eholder%2C%20%27mousewheel%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20that%2ErequestAnimFrame%2Ecall%28window%2C%20function%20%28%29%20%7B%0A%20%20%20%20%20%20that%2EtranslateMouseWheelToScroll%28e%29%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%29%3B%0A%0A%20%20if%20%28this%2EtopOverlay%2EtrimmingContainer%20%21%3D%3D%20window%20%26%26%20this%2EleftOverlay%2EtrimmingContainer%20%21%3D%3D%20window%29%20%7B%0A%20%20%20%20eventManager%2EaddEventListener%28window%2C%20%27scroll%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20that%2ErefreshAll%28%29%3B%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20eventManager%2EaddEventListener%28window%2C%20%27mousewheel%27%2C%20function%20%28e%29%20%7B%0A%20%20%20%20%20%20var%20overlay%3B%0A%0A%20%20%20%20%20%20if%20%28that%2EtopOverlay%2Eclone%2EwtTable%2Eholder%2Econtains%28e%2Etarget%29%29%20%7B%0A%20%20%20%20%20%20%20%20overlay%20%3D%20%27top%27%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28that%2EleftOverlay%2Eclone%2EwtTable%2Eholder%2Econtains%28e%2Etarget%29%29%20%7B%0A%20%20%20%20%20%20%20%20overlay%20%3D%20%27left%27%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20%28overlay%20%3D%3D%20%27top%27%20%26%26%20e%2EwheelDeltaY%20%21%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20e%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28overlay%20%3D%3D%20%27left%27%20%26%26%20e%2EwheelDeltaX%20%21%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20e%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableOverlays%2Eprototype%2EtranslateMouseWheelToScroll%20%3D%20function%20%28e%29%20%7B%0A%20%20var%20topOverlay%20%3D%20this%2EtopOverlay%2Eclone%2EwtTable%2Eholder%2C%0A%20%20%20%20leftOverlay%20%3D%20this%2EleftOverlay%2Eclone%2EwtTable%2Eholder%2C%0A%20%20%20%20parentHolder%2C%0A%20%20%20%20tempElem%20%3D%20e%2Etarget%2C%0A%20%20%20%20eventMockup%20%3D%20%7B%7D%3B%0A%0A%20%20while%20%28tempElem%20%21%3D%20document%20%26%26%20tempElem%20%21%3D%20null%29%20%7B%0A%20%20%20%20if%20%28tempElem%2EclassName%2EindexOf%28%27wtHolder%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20parentHolder%20%3D%20tempElem%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%20%20tempElem%20%3D%20tempElem%2EparentNode%3B%0A%20%20%7D%0A%0A%20%20eventMockup%2Etarget%20%3D%20parentHolder%3B%0A%0A%20%20if%20%28parentHolder%20%3D%3D%20topOverlay%29%20%7B%0A%20%20%20%20this%2EsyncScrollPositions%28eventMockup%2C%20%28%2D0%2E2%29%20%2A%20e%2EwheelDeltaY%29%3B%0A%20%20%7D%20else%20if%20%28parentHolder%20%3D%3D%20leftOverlay%29%20%7B%0A%20%20%20%20this%2EsyncScrollPositions%28eventMockup%2C%20%28%2D0%2E2%29%20%2A%20e%2EwheelDeltaX%29%3B%0A%20%20%7D%0A%0A%20%20return%20false%3B%0A%7D%3B%0A%0AWalkontableOverlays%2Eprototype%2EsyncScrollPositions%20%3D%20function%20%28e%2C%20fakeScrollValue%29%20%7B%0A%20%20if%20%28this%2Edestroyed%29%20%7B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20if%20%28this%2EpreventMultipleScrolling%29%20%7B%0A%20%20%20%20this%2EpreventMultipleScrolling%20%3D%20false%3B%0A%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20this%2EpreventMultipleScrolling%20%3D%20true%3B%0A%0A%20%20var%20target%20%3D%20e%2Etarget%2C%0A%20%20%20%20master%20%3D%20this%2EtopOverlay%2EmainTableScrollableElement%2C%0A%20%20%20%20topOverlay%20%3D%20this%2EtopOverlay%2Eclone%2EwtTable%2Eholder%2C%0A%20%20%20%20leftOverlay%20%3D%20this%2EleftOverlay%2Eclone%2EwtTable%2Eholder%2C%0A%20%20%20%20tempScrollValue%20%3D%200%2C%0A%20%20%20%20scrollValueChanged%20%3D%20false%3B%0A%0A%20%20if%28target%20%3D%3D%3D%20document%29%20%7B%0A%20%20%20%20target%20%3D%20window%3B%0A%20%20%7D%0A%0A%20%20if%20%28target%20%3D%3D%3D%20master%20%7C%7C%20target%20%3D%3D%3D%20document%29%20%7B%0A%20%20%20%20tempScrollValue%20%3D%20Handsontable%2EDom%2EgetScrollLeft%28target%29%3B%0A%0A%20%20%20%20%2F%2F%20if%20scrolling%20the%20master%20table%20%2D%20populate%20the%20scroll%20values%20to%20both%20top%20and%20left%20overlays%0A%20%20%20%20if%20%28this%2EoverlayScrollPositions%2Emaster%2Eleft%20%21%3D%3D%20tempScrollValue%29%20%7B%0A%20%20%20%20%20%20topOverlay%2EscrollLeft%20%3D%20tempScrollValue%3B%0A%20%20%20%20%20%20this%2EoverlayScrollPositions%2Emaster%2Eleft%20%3D%20tempScrollValue%3B%0A%20%20%20%20%20%20scrollValueChanged%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20tempScrollValue%20%3D%20Handsontable%2EDom%2EgetScrollTop%28target%29%3B%0A%0A%20%20%20%20if%20%28this%2EoverlayScrollPositions%2Emaster%2Etop%20%21%3D%3D%20tempScrollValue%29%20%7B%0A%20%20%20%20%20%20leftOverlay%2EscrollTop%20%3D%20tempScrollValue%3B%0A%20%20%20%20%20%20this%2EoverlayScrollPositions%2Emaster%2Etop%20%3D%20tempScrollValue%3B%0A%20%20%20%20%20%20scrollValueChanged%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%20else%20if%20%28target%20%3D%3D%3D%20topOverlay%29%20%7B%0A%20%20%20%20tempScrollValue%20%3D%20Handsontable%2EDom%2EgetScrollLeft%28target%29%3B%0A%0A%20%20%20%20%2F%2F%20if%20scrolling%20the%20top%20overlay%20%2D%20populate%20the%20horizontal%20scroll%20to%20the%20master%20table%0A%20%20%20%20if%20%28this%2EoverlayScrollPositions%2Etop%2Eleft%20%21%3D%3D%20tempScrollValue%29%20%7B%0A%20%20%20%20%20%20master%2EscrollLeft%20%3D%20tempScrollValue%3B%0A%20%20%20%20%20%20this%2EoverlayScrollPositions%2Etop%2Eleft%20%3D%20tempScrollValue%3B%0A%20%20%20%20%20%20scrollValueChanged%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%22fake%22%20scroll%20value%20calculated%20from%20the%20mousewheel%20event%0A%20%20%20%20if%20%28fakeScrollValue%29%20%7B%0A%20%20%20%20%20%20master%2EscrollTop%20%2B%3D%20fakeScrollValue%3B%0A%20%20%20%20%7D%0A%0A%20%20%7D%20else%20if%20%28target%20%3D%3D%3D%20leftOverlay%29%20%7B%0A%20%20%20%20tempScrollValue%20%3D%20Handsontable%2EDom%2EgetScrollTop%28target%29%3B%0A%0A%20%20%20%20%2F%2F%20if%20scrolling%20the%20left%20overlay%20%2D%20populate%20the%20vertical%20scroll%20to%20the%20master%20table%0A%20%20%20%20if%20%28this%2EoverlayScrollPositions%2Eleft%2Etop%20%21%3D%3D%20tempScrollValue%29%20%7B%0A%20%20%20%20%20%20master%2EscrollTop%20%3D%20tempScrollValue%3B%0A%20%20%20%20%20%20this%2EoverlayScrollPositions%2Eleft%2Etop%20%3D%20tempScrollValue%3B%0A%20%20%20%20%20%20scrollValueChanged%20%3D%20true%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20%22fake%22%20scroll%20value%20calculated%20from%20the%20mousewheel%20event%0A%20%20%20%20if%20%28fakeScrollValue%29%20%7B%0A%20%20%20%20%20%20master%2EscrollLeft%20%2B%3D%20fakeScrollValue%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%0A%20%20if%20%28scrollValueChanged%29%20%7B%0A%20%20%20%20this%2ErefreshAll%28%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20this%2EpreventMultipleScrolling%20%3D%20false%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableOverlays%2Eprototype%2Edestroy%20%3D%20function%20%28%29%20%7B%0A%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28this%2Einstance%29%3B%0A%0A%0A%20%20if%20%28this%2EtopOverlay%29%20%7B%0A%20%20%20%20this%2EtopOverlay%2Edestroy%28%29%3B%0A%20%20%20%20eventManager%2EremoveEventListener%28this%2EtopOverlay%2EtrimmingContainer%2C%20%27scroll%27%2C%20this%2ErefreshAll%29%3B%0A%20%20%7D%0A%20%20if%20%28this%2EleftOverlay%29%20%7B%0A%20%20%20%20this%2EleftOverlay%2Edestroy%28%29%3B%0A%20%20%20%20eventManager%2EremoveEventListener%28this%2EleftOverlay%2EtrimmingContainer%2C%20%27scroll%27%2C%20this%2ErefreshAll%29%3B%0A%20%20%7D%0A%20%20eventManager%2EremoveEventListener%28window%2C%20%27scroll%27%2C%20this%2ErefreshAll%29%3B%0A%20%20if%20%28this%2EtopLeftCornerOverlay%29%20%7B%0A%20%20%20%20this%2EtopLeftCornerOverlay%2Edestroy%28%29%3B%0A%20%20%7D%0A%20%20if%20%28this%2Edebug%29%20%7B%0A%20%20%20%20this%2Edebug%2Edestroy%28%29%3B%0A%20%20%7D%0A%0A%20%20this%2Edestroyed%20%3D%20true%3B%0A%7D%3B%0A%0AWalkontableOverlays%2Eprototype%2Erefresh%20%3D%20function%20%28fastDraw%29%20%7B%0A%20%20if%20%28this%2EleftOverlay%29%20%7B%0A%20%20%20%20this%2EleftOverlay%2Erefresh%28fastDraw%29%3B%0A%20%20%7D%0A%20%20if%20%28this%2EtopOverlay%29%20%7B%0A%20%20%20%20this%2EtopOverlay%2Erefresh%28fastDraw%29%3B%0A%20%20%7D%0A%20%20if%20%28this%2EtopLeftCornerOverlay%29%20%7B%0A%20%20%20%20this%2EtopLeftCornerOverlay%2Erefresh%28fastDraw%29%3B%0A%20%20%7D%0A%20%20if%20%28this%2Edebug%29%20%7B%0A%20%20%20%20this%2Edebug%2Erefresh%28fastDraw%29%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableOverlays%2Eprototype%2EapplyToDOM%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28this%2EleftOverlay%29%20%7B%0A%20%20%20%20this%2EleftOverlay%2EapplyToDOM%28%29%3B%0A%20%20%7D%0A%20%20if%20%28this%2EtopOverlay%29%20%7B%0A%20%20%20%20this%2EtopOverlay%2EapplyToDOM%28%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20http%3A%2F%2Fnotes%2Ejetienne%2Ecom%2F2011%2F05%2F18%2FcancelRequestAnimFrame%2Dfor%2Dpaul%2Dirish%2DrequestAnimFrame%2Ehtml%0A%20%2A%2F%0Awindow%2ErequestAnimFrame%20%3D%20%28function%20%28%29%20%7B%0A%20%20return%20%20window%2ErequestAnimationFrame%20%7C%7C%0A%20%20%20%20window%2EwebkitRequestAnimationFrame%20%7C%7C%0A%20%20%20%20window%2EmozRequestAnimationFrame%20%7C%7C%0A%20%20%20%20window%2EoRequestAnimationFrame%20%7C%7C%0A%20%20%20%20window%2EmsRequestAnimationFrame%20%7C%7C%0A%20%20%20%20function%20%28%2F%2A%20function%20%2A%2F%20callback%2C%20%2F%2A%20DOMElement%20%2A%2F%20element%29%20%7B%0A%20%20%20%20%20%20return%20window%2EsetTimeout%28callback%2C%201000%20%2F%2060%29%3B%0A%20%20%20%20%7D%3B%0A%7D%29%28%29%3B%0A%0Awindow%2EcancelRequestAnimFrame%20%3D%20%28function%20%28%29%20%7B%0A%20%20return%20window%2EcancelAnimationFrame%20%7C%7C%0A%20%20%20%20window%2EwebkitCancelRequestAnimationFrame%20%7C%7C%0A%20%20%20%20window%2EmozCancelRequestAnimationFrame%20%7C%7C%0A%20%20%20%20window%2EoCancelRequestAnimationFrame%20%7C%7C%0A%20%20%20%20window%2EmsCancelRequestAnimationFrame%20%7C%7C%0A%20%20%20%20clearTimeout%3B%0A%7D%29%28%29%3B%0A%0A%2F%2Fhttp%3A%2F%2Fsnipplr%2Ecom%2Fview%2F13523%2F%0A%2F%2Fmodified%20for%20speed%0A%2F%2Fhttp%3A%2F%2Fjsperf%2Ecom%2Fgetcomputedstyle%2Dvs%2Dstyle%2Dvs%2Dcss%2F8%0Aif%20%28%21window%2EgetComputedStyle%29%20%7B%0A%20%20%28function%20%28%29%20%7B%0A%20%20%20%20var%20elem%3B%0A%0A%20%20%20%20var%20styleObj%20%3D%20%7B%0A%20%20%20%20%20%20getPropertyValue%3A%20function%20getPropertyValue%28prop%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28prop%20%3D%3D%20%27float%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20prop%20%3D%20%27styleFloat%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20elem%2EcurrentStyle%5Bprop%2EtoUpperCase%28%29%5D%20%7C%7C%20null%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20window%2EgetComputedStyle%20%3D%20function%20%28el%29%20%7B%0A%20%20%20%20%20%20elem%20%3D%20el%3B%0A%20%20%20%20%20%20return%20styleObj%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%29%28%29%3B%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20https%3A%2F%2Fdeveloper%2Emozilla%2Eorg%2Fen%2DUS%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal%5FObjects%2FString%2FTrim%0A%20%2A%2F%0Aif%20%28%21String%2Eprototype%2Etrim%29%20%7B%0A%20%20var%20trimRegex%20%3D%20%2F%5E%5Cs%2B%7C%5Cs%2B%24%2Fg%3B%0A%20%20%2F%2A%20jshint%20%2DW121%20%2A%2F%0A%20%20String%2Eprototype%2Etrim%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20return%20this%2Ereplace%28trimRegex%2C%20%27%27%29%3B%0A%20%20%7D%3B%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20WalkontableRowFilter%0A%20%2A%0A%20%2A%20%40constructor%0A%20%2A%20%40private%0A%20%2A%2F%0Afunction%20WalkontableRowFilter%28offset%2C%20total%2C%20countTH%29%20%7B%0A%20%20this%2Eoffset%20%3D%20offset%3B%0A%20%20this%2Etotal%20%3D%20total%3B%0A%20%20this%2EcountTH%20%3D%20countTH%3B%0A%7D%0A%0AWalkontableRowFilter%2Eprototype%2Eoffsetted%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20n%20%2B%20this%2Eoffset%3B%0A%7D%3B%0A%0AWalkontableRowFilter%2Eprototype%2EunOffsetted%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20n%20%2D%20this%2Eoffset%3B%0A%7D%3B%0A%0AWalkontableRowFilter%2Eprototype%2ErenderedToSource%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20this%2Eoffsetted%28n%29%3B%0A%7D%3B%0A%0AWalkontableRowFilter%2Eprototype%2EsourceToRendered%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20this%2EunOffsetted%28n%29%3B%0A%7D%3B%0A%0AWalkontableRowFilter%2Eprototype%2EoffsettedTH%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20n%20%2D%20this%2EcountTH%3B%0A%7D%3B%0A%0AWalkontableRowFilter%2Eprototype%2EvisibleColHeadedRowToSourceRow%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20this%2ErenderedToSource%28this%2EoffsettedTH%28n%29%29%3B%0A%7D%3B%0A%0AWalkontableRowFilter%2Eprototype%2EsourceRowToVisibleColHeadedRow%20%3D%20function%20%28n%29%20%7B%0A%20%20return%20this%2EunOffsettedTH%28this%2EsourceToRendered%28n%29%29%3B%0A%7D%3B%0A%0Afunction%20WalkontableScroll%28instance%29%20%7B%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20Scrolls%20viewport%20to%20a%20cell%20by%20minimum%20number%20of%20cells%0A%20%2A%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20coords%0A%20%2A%2F%0AWalkontableScroll%2Eprototype%2EscrollViewport%20%3D%20function%20%28coords%29%20%7B%0A%20%20if%20%28%21this%2Einstance%2Edrawn%29%20%7B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20var%20totalRows%20%3D%20this%2Einstance%2EgetSetting%28%27totalRows%27%29%0A%20%20%20%20%2C%20totalColumns%20%3D%20this%2Einstance%2EgetSetting%28%27totalColumns%27%29%3B%0A%0A%20%20if%20%28coords%2Erow%20%3C%200%20%7C%7C%20coords%2Erow%20%3E%20totalRows%20%2D%201%29%20%7B%0A%20%20%20%20throw%20new%20Error%28%27row%20%27%20%2B%20coords%2Erow%20%2B%20%27%20does%20not%20exist%27%29%3B%0A%20%20%7D%0A%0A%20%20if%20%28coords%2Ecol%20%3C%200%20%7C%7C%20coords%2Ecol%20%3E%20totalColumns%20%2D%201%29%20%7B%0A%20%20%20%20throw%20new%20Error%28%27column%20%27%20%2B%20coords%2Ecol%20%2B%20%27%20does%20not%20exist%27%29%3B%0A%20%20%7D%0A%0A%20%20%20%20if%20%28coords%2Erow%20%3E%20this%2Einstance%2EwtTable%2EgetLastVisibleRow%28%29%29%20%7B%0A%20%20%20%20%20%20this%2Einstance%2EwtOverlays%2EtopOverlay%2EscrollTo%28coords%2Erow%2C%20true%29%3B%0A%20%20%20%20%7D%20else%20if%20%28coords%2Erow%20%3E%3D%20this%2Einstance%2EgetSetting%28%27fixedRowsTop%27%29%20%26%26%20coords%2Erow%20%3C%20this%2Einstance%2EwtTable%2EgetFirstVisibleRow%28%29%29%7B%0A%20%20%20%20%20%20this%2Einstance%2EwtOverlays%2EtopOverlay%2EscrollTo%28coords%2Erow%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28coords%2Ecol%20%3E%20this%2Einstance%2EwtTable%2EgetLastVisibleColumn%28%29%29%20%7B%0A%20%20%20%20%20%20this%2Einstance%2EwtOverlays%2EleftOverlay%2EscrollTo%28coords%2Ecol%2C%20true%29%3B%0A%20%20%20%20%7D%20else%20if%20%28coords%2Ecol%20%3E%3D%20this%2Einstance%2EgetSetting%28%27fixedColumnsLeft%27%29%20%26%26%20coords%2Ecol%20%3C%20this%2Einstance%2EwtTable%2EgetFirstVisibleColumn%28%29%29%7B%0A%20%20%20%20%20%20this%2Einstance%2EwtOverlays%2EleftOverlay%2EscrollTo%28coords%2Ecol%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%2F%2F%7D%0A%7D%3B%0A%0Afunction%20WalkontableHorizontalScrollbarNative%28instance%29%20%7B%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20this%2Etype%20%3D%20%27horizontal%27%3B%0A%20%20this%2Eoffset%20%3D%200%3B%0A%20%20this%2Einit%28%29%3B%0A%20%20this%2Eclone%20%3D%20this%2EmakeClone%28%27left%27%29%3B%0A%7D%0A%0AWalkontableHorizontalScrollbarNative%2Eprototype%20%3D%20new%20WalkontableOverlay%28%29%3B%0A%0A%2F%2FresetFixedPosition%20%28in%20future%20merge%20it%20with%20this%2Erefresh%3F%29%0AWalkontableHorizontalScrollbarNative%2Eprototype%2EresetFixedPosition%20%3D%20function%20%28%29%20%7B%0A%20%20var%20finalLeft%2C%20finalTop%3B%0A%0A%20%20if%20%28%21this%2Einstance%2EwtTable%2Eholder%2EparentNode%29%20%7B%0A%20%20%20%20return%3B%20%2F%2Fremoved%20from%20DOM%0A%20%20%7D%0A%20%20var%20elem%20%3D%20this%2Eclone%2EwtTable%2Eholder%2EparentNode%3B%0A%0A%20%20if%20%28this%2EscrollHandler%20%3D%3D%3D%20window%29%20%7B%0A%0A%20%20%20%20var%20box%20%3D%20this%2Einstance%2EwtTable%2Eholder%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20var%20left%20%3D%20Math%2Eceil%28box%2Eleft%29%3B%0A%20%20%20%20var%20right%20%3D%20Math%2Eceil%28box%2Eright%29%3B%0A%0A%20%20%20%20if%20%28left%20%3C%200%20%26%26%20%28right%20%2D%20elem%2EoffsetWidth%29%20%3E%200%29%20%7B%0A%20%20%20%20%20%20finalLeft%20%3D%20%2Dleft%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20finalLeft%20%3D%20%270%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20finalTop%20%3D%20this%2Einstance%2EwtTable%2Ehider%2Estyle%2Etop%3B%0A%20%20%7D%0A%20%20else%20if%28%21Handsontable%2EfreezeOverlays%29%20%7B%0A%20%20%20%20finalLeft%20%3D%20this%2EgetScrollPosition%28%29%20%2B%20%22px%22%3B%0A%20%20%20%20finalTop%20%3D%20this%2Einstance%2EwtTable%2Ehider%2Estyle%2Etop%3B%0A%20%20%7D%0A%0A%20%20Handsontable%2EDom%2EsetOverlayPosition%28elem%2C%20finalLeft%2C%20finalTop%29%3B%0A%0A%20%20elem%2Estyle%2Eheight%20%3D%20Handsontable%2EDom%2EouterHeight%28this%2Eclone%2EwtTable%2ETABLE%29%20%2B%20%27px%27%3B%0A%20%20elem%2Estyle%2Ewidth%20%3D%20Handsontable%2EDom%2EouterWidth%28this%2Eclone%2EwtTable%2ETABLE%29%20%2B%204%20%2B%20%27px%27%3B%2F%2F%20%2B%204%20%2B%20%27px%27%3B%0A%7D%3B%0A%0AWalkontableHorizontalScrollbarNative%2Eprototype%2Erefresh%20%3D%20function%20%28fastDraw%29%20%7B%0A%20%20this%2EapplyToDOM%28%29%3B%0A%20%20WalkontableOverlay%2Eprototype%2Erefresh%2Ecall%28this%2C%20fastDraw%29%3B%0A%7D%3B%0A%0AWalkontableHorizontalScrollbarNative%2Eprototype%2EgetScrollPosition%20%3D%20function%20%28%29%20%7B%0A%20%20return%20Handsontable%2EDom%2EgetScrollLeft%28this%2EscrollHandler%29%3B%0A%7D%3B%0A%0AWalkontableHorizontalScrollbarNative%2Eprototype%2EsetScrollPosition%20%3D%20function%20%28pos%29%20%7B%0A%20%20if%20%28this%2EscrollHandler%20%3D%3D%3D%20window%29%20%7B%0A%20%20%20%20window%2EscrollTo%28pos%2C%20Handsontable%2EDom%2EgetWindowScrollTop%28%29%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20this%2EscrollHandler%2EscrollLeft%20%3D%20pos%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableHorizontalScrollbarNative%2Eprototype%2EonScroll%20%3D%20function%20%28%29%20%7B%0A%20%20this%2Einstance%2EgetSetting%28%27onScrollHorizontally%27%29%3B%0A%7D%3B%0A%0AWalkontableHorizontalScrollbarNative%2Eprototype%2EsumCellSizes%20%3D%20function%20%28from%2C%20length%29%20%7B%0A%20%20var%20sum%20%3D%200%3B%0A%20%20while%28from%20%3C%20length%29%20%7B%0A%20%20%20%20sum%20%2B%3D%20this%2Einstance%2EwtTable%2EgetStretchedColumnWidth%28from%29%20%7C%7C%20this%2Einstance%2EwtSettings%2EdefaultColumnWidth%3B%0A%20%20%20%20from%2B%2B%3B%0A%20%20%7D%0A%20%20return%20sum%3B%0A%7D%3B%0A%0A%2F%2FapplyToDOM%20%28in%20future%20merge%20it%20with%20this%2Erefresh%3F%29%0AWalkontableHorizontalScrollbarNative%2Eprototype%2EapplyToDOM%20%3D%20function%20%28%29%20%7B%0A%20%20var%20total%20%3D%20this%2Einstance%2EgetSetting%28%27totalColumns%27%29%3B%0A%20%20var%20headerSize%20%3D%20this%2Einstance%2EwtViewport%2EgetRowHeaderWidth%28%29%3B%0A%0A%20%20this%2EfixedContainer%2Estyle%2Ewidth%20%3D%20headerSize%20%2B%20this%2EsumCellSizes%280%2C%20total%29%20%2B%20%27px%27%3B%2F%2F%20%2B%204%20%2B%20%27px%27%3B%0A%0A%20%20if%20%28typeof%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2EstartPosition%20%3D%3D%3D%20%27number%27%29%7B%0A%20%20%20%20this%2Efixed%2Estyle%2Eleft%20%3D%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2EstartPosition%20%2B%20%27px%27%3B%0A%20%20%7D%0A%20%20else%20if%20%28total%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20this%2Efixed%2Estyle%2Eleft%20%3D%20%270%27%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20throw%20%20new%20Error%28%27Incorrect%20value%20of%20the%20columnsRenderCalculator%27%29%3B%0A%20%20%7D%0A%20%20this%2Efixed%2Estyle%2Eright%20%3D%20%27%27%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Scrolls%20horizontally%20to%20a%20column%20at%20the%20left%20edge%20of%20the%20viewport%0A%20%2A%0A%20%2A%20%40param%20sourceCol%20%7BNumber%7D%0A%20%2A%20%40param%20beyondRendered%20%7BBoolean%7D%20if%20TRUE%2C%20scrolls%20according%20to%20the%20bottom%20edge%20%28top%20edge%20is%20by%20default%29%0A%20%2A%2F%0AWalkontableHorizontalScrollbarNative%2Eprototype%2EscrollTo%20%3D%20function%20%28sourceCol%2C%20beyondRendered%29%20%7B%0A%20%20var%20newX%20%3D%20this%2EgetTableParentOffset%28%29%3B%0A%0A%20%20if%20%28beyondRendered%29%20%7B%0A%20%20%20%20newX%20%2B%3D%20this%2EsumCellSizes%280%2C%20sourceCol%20%2B%201%29%3B%0A%20%20%20%20newX%20%2D%3D%20this%2Einstance%2EwtViewport%2EgetViewportWidth%28%29%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20var%20fixedColumnsLeft%20%3D%20this%2Einstance%2EgetSetting%28%27fixedColumnsLeft%27%29%3B%0A%20%20%20%20newX%20%2B%3D%20this%2EsumCellSizes%28fixedColumnsLeft%2C%20sourceCol%29%3B%0A%20%20%7D%0A%0A%20%20this%2EsetScrollPosition%28newX%29%3B%0A%7D%3B%0A%0AWalkontableHorizontalScrollbarNative%2Eprototype%2EgetTableParentOffset%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28this%2EscrollHandler%20%3D%3D%3D%20window%29%20%7B%0A%20%20%20%20return%20this%2Einstance%2EwtTable%2EholderOffset%2Eleft%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%200%3B%0A%20%20%7D%0A%7D%3B%0A%0Afunction%20WalkontableSelection%28settings%2C%20cellRange%29%20%7B%0A%20%20this%2Esettings%20%3D%20settings%3B%0A%20%20this%2EcellRange%20%3D%20cellRange%20%7C%7C%20null%3B%0A%20%20this%2EinstanceBorders%20%3D%20%7B%7D%3B%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20Each%20Walkontable%20clone%20requires%20it%27s%20own%20border%20for%20every%20selection%2E%20This%20method%20creates%20and%20returns%20selection%20borders%20per%20instance%0A%20%2A%0A%20%2A%20%40param%20%7BWalkontable%7D%20instance%0A%20%2A%20%40returns%20%7BWalkontableBorder%7D%0A%20%2A%2F%0AWalkontableSelection%2Eprototype%2EgetBorder%20%3D%20function%20%28instance%29%20%7B%0A%20%20if%20%28this%2EinstanceBorders%5Binstance%2Eguid%5D%29%20%7B%0A%20%20%20%20return%20this%2EinstanceBorders%5Binstance%2Eguid%5D%3B%0A%20%20%7D%0A%20%20%2F%2Fwhere%20is%20this%20returned%3F%0A%20%20this%2EinstanceBorders%5Binstance%2Eguid%5D%20%3D%20new%20WalkontableBorder%28instance%2C%20this%2Esettings%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20boolean%20information%20if%20selection%20is%20empty%0A%20%2A%0A%20%2A%20%40returns%20%7BBoolean%7D%0A%20%2A%2F%0AWalkontableSelection%2Eprototype%2EisEmpty%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2EcellRange%20%3D%3D%3D%20null%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Adds%20a%20cell%20coords%20to%20the%20selection%0A%20%2A%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20coords%0A%20%2A%2F%0AWalkontableSelection%2Eprototype%2Eadd%20%3D%20function%20%28coords%29%20%7B%0A%20%20if%20%28this%2EisEmpty%28%29%29%20%7B%0A%20%20%20%20this%2EcellRange%20%3D%20new%20WalkontableCellRange%28coords%2C%20coords%2C%20coords%29%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20this%2EcellRange%2Eexpand%28coords%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20If%20selection%20range%20from%20or%20to%20property%20equals%20oldCoords%2C%20replace%20it%20with%20newCoords%2E%20Return%20boolean%20information%20about%20success%0A%20%2A%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20oldCoords%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20newCoords%0A%20%2A%20%40returns%20%7BBoolean%7D%0A%20%2A%2F%0AWalkontableSelection%2Eprototype%2Ereplace%20%3D%20function%20%28oldCoords%2C%20newCoords%29%20%7B%0A%20%20if%20%28%21this%2EisEmpty%28%29%29%20%7B%0A%20%20%20%20if%20%28this%2EcellRange%2Efrom%2EisEqual%28oldCoords%29%29%20%7B%0A%20%20%20%20%20%20this%2EcellRange%2Efrom%20%3D%20newCoords%3B%0A%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28this%2EcellRange%2Eto%2EisEqual%28oldCoords%29%29%20%7B%0A%20%20%20%20%20%20this%2EcellRange%2Eto%20%3D%20newCoords%3B%0A%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20return%20false%3B%0A%7D%3B%0A%0AWalkontableSelection%2Eprototype%2Eclear%20%3D%20function%20%28%29%20%7B%0A%20%20this%2EcellRange%20%3D%20null%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20the%20top%20left%20%28TL%29%20and%20bottom%20right%20%28BR%29%20selection%20coordinates%0A%20%2A%0A%20%2A%20%40returns%20%7BObject%7D%0A%20%2A%2F%0AWalkontableSelection%2Eprototype%2EgetCorners%20%3D%20function%20%28%29%20%7B%0A%20%20var%0A%20%20%20%20topLeft%20%3D%20this%2EcellRange%2EgetTopLeftCorner%28%29%2C%0A%20%20%20%20bottomRight%20%3D%20this%2EcellRange%2EgetBottomRightCorner%28%29%3B%0A%0A%20%20return%20%5BtopLeft%2Erow%2C%20topLeft%2Ecol%2C%20bottomRight%2Erow%2C%20bottomRight%2Ecol%5D%3B%0A%7D%3B%0A%0AWalkontableSelection%2Eprototype%2EaddClassAtCoords%20%3D%20function%20%28instance%2C%20sourceRow%2C%20sourceColumn%2C%20cls%29%20%7B%0A%20%20var%20TD%20%3D%20instance%2EwtTable%2EgetCell%28new%20WalkontableCellCoords%28sourceRow%2C%20sourceColumn%29%29%3B%0A%0A%20%20if%20%28typeof%20TD%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20Handsontable%2EDom%2EaddClass%28TD%2C%20cls%29%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableSelection%2Eprototype%2Edraw%20%3D%20function%20%28instance%29%20%7B%0A%20%20var%0A%20%20%20%20%5Fthis%20%3D%20this%2C%0A%20%20%20%20renderedRows%20%3D%20instance%2EwtTable%2EgetRenderedRowsCount%28%29%2C%0A%20%20%20%20renderedColumns%20%3D%20instance%2EwtTable%2EgetRenderedColumnsCount%28%29%2C%0A%20%20%20%20corners%2C%20sourceRow%2C%20sourceCol%2C%20border%2C%20TH%3B%0A%0A%20%20if%20%28this%2EisEmpty%28%29%29%20%7B%0A%20%20%20%20if%20%28this%2Esettings%2Eborder%29%20%7B%0A%20%20%20%20%20%20border%20%3D%20this%2EgetBorder%28instance%29%3B%0A%0A%20%20%20%20%20%20if%20%28border%29%20%7B%0A%20%20%20%20%20%20%20%20border%2Edisappear%28%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20corners%20%3D%20this%2EgetCorners%28%29%3B%0A%0A%20%20for%20%28var%20column%20%3D%200%3B%20column%20%3C%20renderedColumns%3B%20column%2B%2B%29%20%7B%0A%20%20%20%20sourceCol%20%3D%20instance%2EwtTable%2EcolumnFilter%2ErenderedToSource%28column%29%3B%0A%0A%20%20%20%20if%20%28sourceCol%20%3E%3D%20corners%5B1%5D%20%26%26%20sourceCol%20%3C%3D%20corners%5B3%5D%29%20%7B%0A%20%20%20%20%20%20TH%20%3D%20instance%2EwtTable%2EgetColumnHeader%28sourceCol%29%3B%0A%0A%20%20%20%20%20%20if%20%28TH%20%26%26%20%5Fthis%2Esettings%2EhighlightColumnClassName%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TH%2C%20%5Fthis%2Esettings%2EhighlightColumnClassName%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20for%20%28var%20row%20%3D%200%3B%20row%20%3C%20renderedRows%3B%20row%2B%2B%29%20%7B%0A%20%20%20%20sourceRow%20%3D%20instance%2EwtTable%2ErowFilter%2ErenderedToSource%28row%29%3B%0A%0A%20%20%20%20if%20%28sourceRow%20%3E%3D%20corners%5B0%5D%20%26%26%20sourceRow%20%3C%3D%20corners%5B2%5D%29%20%7B%0A%20%20%20%20%20%20TH%20%3D%20instance%2EwtTable%2EgetRowHeader%28sourceRow%29%3B%0A%0A%20%20%20%20%20%20if%20%28TH%20%26%26%20%5Fthis%2Esettings%2EhighlightRowClassName%29%20%7B%0A%20%20%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28TH%2C%20%5Fthis%2Esettings%2EhighlightRowClassName%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20for%20%28var%20column%20%3D%200%3B%20column%20%3C%20renderedColumns%3B%20column%2B%2B%29%20%7B%0A%20%20%20%20%20%20sourceCol%20%3D%20instance%2EwtTable%2EcolumnFilter%2ErenderedToSource%28column%29%3B%0A%0A%20%20%20%20%20%20if%20%28sourceRow%20%3E%3D%20corners%5B0%5D%20%26%26%20sourceRow%20%3C%3D%20corners%5B2%5D%20%26%26%20sourceCol%20%3E%3D%20corners%5B1%5D%20%26%26%20sourceCol%20%3C%3D%20corners%5B3%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20selected%20cell%0A%20%20%20%20%20%20%20%20if%20%28%5Fthis%2Esettings%2EclassName%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2EaddClassAtCoords%28instance%2C%20sourceRow%2C%20sourceCol%2C%20%5Fthis%2Esettings%2EclassName%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28sourceRow%20%3E%3D%20corners%5B0%5D%20%26%26%20sourceRow%20%3C%3D%20corners%5B2%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20selection%20is%20in%20this%20row%0A%20%20%20%20%20%20%20%20if%20%28%5Fthis%2Esettings%2EhighlightRowClassName%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2EaddClassAtCoords%28instance%2C%20sourceRow%2C%20sourceCol%2C%20%5Fthis%2Esettings%2EhighlightRowClassName%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28sourceCol%20%3E%3D%20corners%5B1%5D%20%26%26%20sourceCol%20%3C%3D%20corners%5B3%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20selection%20is%20in%20this%20column%0A%20%20%20%20%20%20%20%20if%20%28%5Fthis%2Esettings%2EhighlightColumnClassName%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fthis%2EaddClassAtCoords%28instance%2C%20sourceRow%2C%20sourceCol%2C%20%5Fthis%2Esettings%2EhighlightColumnClassName%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20instance%2EgetSetting%28%27onBeforeDrawBorders%27%2C%20corners%2C%20this%2Esettings%2EclassName%29%3B%0A%0A%20%20if%20%28this%2Esettings%2Eborder%29%20%7B%0A%20%20%20%20border%20%3D%20this%2EgetBorder%28instance%29%3B%0A%0A%20%20%20%20if%20%28border%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20warning%21%20border%2Eappear%20modifies%20corners%21%0A%20%20%20%20%20%20border%2Eappear%28corners%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0Afunction%20WalkontableSettings%28instance%2C%20settings%29%20%7B%0A%20%20var%20that%20%3D%20this%3B%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%0A%20%20%2F%2Fdefault%20settings%2E%20void%200%20means%20it%20is%20required%2C%20null%20means%20it%20can%20be%20empty%0A%20%20this%2Edefaults%20%3D%20%7B%0A%20%20%20%20table%3A%20void%200%2C%0A%20%20%20%20debug%3A%20false%2C%20%2F%2Fshows%20WalkontableDebugOverlay%0A%0A%20%20%20%20%2F%2Fpresentation%20mode%0A%20%20%20%20stretchH%3A%20%27none%27%2C%20%2F%2Fvalues%3A%20all%2C%20last%2C%20none%0A%20%20%20%20currentRowClassName%3A%20null%2C%0A%20%20%20%20currentColumnClassName%3A%20null%2C%0A%0A%20%20%20%20%2F%2Fdata%20source%0A%20%20%20%20data%3A%20void%200%2C%0A%20%20%20%20fixedColumnsLeft%3A%200%2C%0A%20%20%20%20fixedRowsTop%3A%200%2C%0A%20%20%20%20rowHeaders%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20%5B%5D%3B%0A%20%20%20%20%7D%2C%20%2F%2Fthis%20must%20be%20array%20of%20functions%3A%20%5Bfunction%20%28row%2C%20TH%29%20%7B%7D%5D%0A%20%20%20%20columnHeaders%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20return%20%5B%5D%3B%0A%20%20%20%20%7D%2C%20%2F%2Fthis%20must%20be%20array%20of%20functions%3A%20%5Bfunction%20%28column%2C%20TH%29%20%7B%7D%5D%0A%20%20%20%20totalRows%3A%20void%200%2C%0A%20%20%20%20totalColumns%3A%20void%200%2C%0A%20%20%20%20cellRenderer%3A%20function%20%28row%2C%20column%2C%20TD%29%20%7B%0A%20%20%20%20%20%20var%20cellData%20%3D%20that%2EgetSetting%28%27data%27%2C%20row%2C%20column%29%3B%0A%20%20%20%20%20%20Handsontable%2EDom%2EfastInnerText%28TD%2C%20cellData%20%3D%3D%3D%20void%200%20%7C%7C%20cellData%20%3D%3D%3D%20null%20%3F%20%27%27%20%3A%20cellData%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20%2F%2FcolumnWidth%3A%2050%2C%0A%20%20%20%20columnWidth%3A%20function%20%28col%29%20%7B%0A%20%20%20%20%20%20return%3B%20%2F%2Freturn%20undefined%20means%20use%20default%20size%20for%20the%20rendered%20cell%20content%0A%20%20%20%20%7D%2C%0A%20%20%20%20rowHeight%3A%20function%20%28row%29%20%7B%0A%20%20%20%20%20%20return%3B%20%2F%2Freturn%20undefined%20means%20use%20default%20size%20for%20the%20rendered%20cell%20content%0A%20%20%20%20%7D%2C%0A%20%20%20%20defaultRowHeight%3A%2023%2C%0A%20%20%20%20defaultColumnWidth%3A%2050%2C%0A%20%20%20%20selections%3A%20null%2C%0A%20%20%20%20hideBorderOnMouseDownOver%3A%20false%2C%0A%20%20%20%20viewportRowCalculatorOverride%3A%20null%2C%0A%20%20%20%20viewportColumnCalculatorOverride%3A%20null%2C%0A%0A%20%20%20%20%2F%2Fcallbacks%0A%20%20%20%20onCellMouseDown%3A%20null%2C%0A%20%20%20%20onCellMouseOver%3A%20null%2C%0A%2F%2F%20%20%20%20onCellMouseOut%3A%20null%2C%0A%20%20%20%20onCellDblClick%3A%20null%2C%0A%20%20%20%20onCellCornerMouseDown%3A%20null%2C%0A%20%20%20%20onCellCornerDblClick%3A%20null%2C%0A%20%20%20%20beforeDraw%3A%20null%2C%0A%20%20%20%20onDraw%3A%20null%2C%0A%20%20%20%20onBeforeDrawBorders%3A%20null%2C%0A%20%20%20%20onScrollVertically%3A%20null%2C%0A%20%20%20%20onScrollHorizontally%3A%20null%2C%0A%20%20%20%20onBeforeTouchScroll%3A%20null%2C%0A%20%20%20%20onAfterMomentumScroll%3A%20null%2C%0A%0A%20%20%20%20%2F%2Fconstants%0A%20%20%20%20scrollbarWidth%3A%2010%2C%0A%20%20%20%20scrollbarHeight%3A%2010%2C%0A%0A%20%20%20%20renderAllRows%3A%20false%2C%0A%20%20%20%20groups%3A%20false%0A%20%20%7D%3B%0A%0A%20%20%2F%2Freference%20to%20settings%0A%20%20this%2Esettings%20%3D%20%7B%7D%3B%0A%20%20for%20%28var%20i%20in%20this%2Edefaults%29%20%7B%0A%20%20%20%20if%20%28this%2Edefaults%2EhasOwnProperty%28i%29%29%20%7B%0A%20%20%20%20%20%20if%20%28settings%5Bi%5D%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Esettings%5Bi%5D%20%3D%20settings%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20%28this%2Edefaults%5Bi%5D%20%3D%3D%3D%20void%200%29%20%7B%0A%20%20%20%20%20%20%20%20throw%20new%20Error%28%27A%20required%20setting%20%22%27%20%2B%20i%20%2B%20%27%22%20was%20not%20provided%27%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20this%2Esettings%5Bi%5D%20%3D%20this%2Edefaults%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%0A%2F%2A%2A%0A%20%2A%20generic%20methods%0A%20%2A%2F%0AWalkontableSettings%2Eprototype%2Eupdate%20%3D%20function%20%28settings%2C%20value%29%20%7B%0A%20%20if%20%28value%20%3D%3D%3D%20void%200%29%20%7B%20%2F%2Fsettings%20is%20object%0A%20%20%20%20for%20%28var%20i%20in%20settings%29%20%7B%0A%20%20%20%20%20%20if%20%28settings%2EhasOwnProperty%28i%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Esettings%5Bi%5D%20%3D%20settings%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20else%20%7B%20%2F%2Fif%20value%20is%20defined%20then%20settings%20is%20the%20key%0A%20%20%20%20this%2Esettings%5Bsettings%5D%20%3D%20value%3B%0A%20%20%7D%0A%20%20return%20this%2Einstance%3B%0A%7D%3B%0A%0AWalkontableSettings%2Eprototype%2EgetSetting%20%3D%20function%20%28key%2C%20param1%2C%20param2%2C%20param3%2C%20param4%29%20%7B%0A%20%20if%20%28typeof%20this%2Esettings%5Bkey%5D%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20return%20this%2Esettings%5Bkey%5D%28param1%2C%20param2%2C%20param3%2C%20param4%29%3B%20%2F%2Fthis%20is%20faster%20than%20%2Eapply%20%2D%20https%3A%2F%2Fgithub%2Ecom%2Fhandsontable%2Fhandsontable%2Fwiki%2FJavaScript%2D%26%2DDOM%2Dperformance%2Dtips%0A%20%20%7D%0A%20%20else%20if%20%28param1%20%21%3D%3D%20void%200%20%26%26%20Array%2EisArray%28this%2Esettings%5Bkey%5D%29%29%20%7B%20%2F%2Fperhaps%20this%20can%20be%20removed%2C%20it%20is%20only%20used%20in%20tests%0A%20%20%20%20return%20this%2Esettings%5Bkey%5D%5Bparam1%5D%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%20this%2Esettings%5Bkey%5D%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableSettings%2Eprototype%2Ehas%20%3D%20function%20%28key%29%20%7B%0A%20%20return%20%21%21this%2Esettings%5Bkey%5D%3B%0A%7D%3B%0A%0Afunction%20WalkontableTable%28instance%2C%20table%29%20%7B%0A%20%20%2F%2Freference%20to%20instance%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20this%2ETABLE%20%3D%20table%3B%0A%20%20Handsontable%2EDom%2EremoveTextNodes%28this%2ETABLE%29%3B%0A%0A%20%20%2F%2FwtSpreader%0A%20%20var%20parent%20%3D%20this%2ETABLE%2EparentNode%3B%0A%20%20if%20%28%21parent%20%7C%7C%20parent%2EnodeType%20%21%3D%3D%201%20%7C%7C%20%21Handsontable%2EDom%2EhasClass%28parent%2C%20%27wtHolder%27%29%29%20%7B%0A%20%20%20%20var%20spreader%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20spreader%2EclassName%20%3D%20%27wtSpreader%27%3B%0A%20%20%20%20if%20%28parent%29%20%7B%0A%20%20%20%20%20%20parent%2EinsertBefore%28spreader%2C%20this%2ETABLE%29%3B%20%2F%2Fif%20TABLE%20is%20detached%20%28e%2Eg%2E%20in%20Jasmine%20test%29%2C%20it%20has%20no%20parentNode%20so%20we%20cannot%20attach%20holder%20to%20it%0A%20%20%20%20%7D%0A%20%20%20%20spreader%2EappendChild%28this%2ETABLE%29%3B%0A%20%20%7D%0A%20%20this%2Espreader%20%3D%20this%2ETABLE%2EparentNode%3B%0A%20%20this%2Espreader%2Estyle%2Eposition%20%3D%20%27relative%27%3B%0A%0A%20%20%2F%2FwtHider%0A%20%20parent%20%3D%20this%2Espreader%2EparentNode%3B%0A%20%20if%20%28%21parent%20%7C%7C%20parent%2EnodeType%20%21%3D%3D%201%20%7C%7C%20%21Handsontable%2EDom%2EhasClass%28parent%2C%20%27wtHolder%27%29%29%20%7B%0A%20%20%20%20var%20hider%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20hider%2EclassName%20%3D%20%27wtHider%27%3B%0A%20%20%20%20if%20%28parent%29%20%7B%0A%20%20%20%20%20%20parent%2EinsertBefore%28hider%2C%20this%2Espreader%29%3B%20%2F%2Fif%20TABLE%20is%20detached%20%28e%2Eg%2E%20in%20Jasmine%20test%29%2C%20it%20has%20no%20parentNode%20so%20we%20cannot%20attach%20holder%20to%20it%0A%20%20%20%20%7D%0A%20%20%20%20hider%2EappendChild%28this%2Espreader%29%3B%0A%20%20%7D%0A%20%20this%2Ehider%20%3D%20this%2Espreader%2EparentNode%3B%0A%0A%20%20%2F%2FwtHolder%0A%20%20parent%20%3D%20this%2Ehider%2EparentNode%3B%0A%20%20if%20%28%21parent%20%7C%7C%20parent%2EnodeType%20%21%3D%3D%201%20%7C%7C%20%21Handsontable%2EDom%2EhasClass%28parent%2C%20%27wtHolder%27%29%29%20%7B%0A%20%20%20%20var%20holder%20%3D%20document%2EcreateElement%28%27DIV%27%29%3B%0A%20%20%20%20holder%2Estyle%2Eposition%20%3D%20%27relative%27%3B%0A%20%20%20%20holder%2EclassName%20%3D%20%27wtHolder%27%3B%0A%0A%20%20%20%20if%20%28parent%29%20%7B%0A%20%20%20%20%20%20parent%2EinsertBefore%28holder%2C%20this%2Ehider%29%3B%20%2F%2Fif%20TABLE%20is%20detached%20%28e%2Eg%2E%20in%20Jasmine%20test%29%2C%20it%20has%20no%20parentNode%20so%20we%20cannot%20attach%20holder%20to%20it%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%28%21instance%2EcloneSource%29%20%7B%0A%20%20%20%20%20%20holder%2EparentNode%2EclassName%20%2B%3D%20%27ht%5Fmaster%20handsontable%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20holder%2EappendChild%28this%2Ehider%29%3B%0A%20%20%7D%0A%20%20this%2Eholder%20%3D%20this%2Ehider%2EparentNode%3B%0A%0A%20%20this%2EwtRootElement%20%3D%20this%2Eholder%2EparentNode%3B%0A%0A%20%20this%2EalignOverlaysWithTrimmingContainer%28%29%3B%0A%0A%20%20%2F%2Fbootstrap%20from%20settings%0A%20%20this%2ETBODY%20%3D%20this%2ETABLE%2EgetElementsByTagName%28%27TBODY%27%29%5B0%5D%3B%0A%20%20if%20%28%21this%2ETBODY%29%20%7B%0A%20%20%20%20this%2ETBODY%20%3D%20document%2EcreateElement%28%27TBODY%27%29%3B%0A%20%20%20%20this%2ETABLE%2EappendChild%28this%2ETBODY%29%3B%0A%20%20%7D%0A%20%20this%2ETHEAD%20%3D%20this%2ETABLE%2EgetElementsByTagName%28%27THEAD%27%29%5B0%5D%3B%0A%20%20if%20%28%21this%2ETHEAD%29%20%7B%0A%20%20%20%20this%2ETHEAD%20%3D%20document%2EcreateElement%28%27THEAD%27%29%3B%0A%20%20%20%20this%2ETABLE%2EinsertBefore%28this%2ETHEAD%2C%20this%2ETBODY%29%3B%0A%20%20%7D%0A%20%20this%2ECOLGROUP%20%3D%20this%2ETABLE%2EgetElementsByTagName%28%27COLGROUP%27%29%5B0%5D%3B%0A%20%20if%20%28%21this%2ECOLGROUP%29%20%7B%0A%20%20%20%20this%2ECOLGROUP%20%3D%20document%2EcreateElement%28%27COLGROUP%27%29%3B%0A%20%20%20%20this%2ETABLE%2EinsertBefore%28this%2ECOLGROUP%2C%20this%2ETHEAD%29%3B%0A%20%20%7D%0A%0A%20%20if%20%28this%2Einstance%2EgetSetting%28%27columnHeaders%27%29%2Elength%29%20%7B%0A%20%20%20%20if%20%28%21this%2ETHEAD%2EchildNodes%2Elength%29%20%7B%0A%20%20%20%20%20%20var%20TR%20%3D%20document%2EcreateElement%28%27TR%27%29%3B%0A%20%20%20%20%20%20this%2ETHEAD%2EappendChild%28TR%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20this%2EcolgroupChildrenLength%20%3D%20this%2ECOLGROUP%2EchildNodes%2Elength%3B%0A%20%20this%2EtheadChildrenLength%20%3D%20this%2ETHEAD%2EfirstChild%20%3F%20this%2ETHEAD%2EfirstChild%2EchildNodes%2Elength%20%3A%200%3B%0A%20%20this%2EtbodyChildrenLength%20%3D%20this%2ETBODY%2EchildNodes%2Elength%3B%0A%0A%20%20this%2ErowFilter%20%3D%20null%3B%0A%20%20this%2EcolumnFilter%20%3D%20null%3B%0A%7D%0A%0AWalkontableTable%2Eprototype%2EalignOverlaysWithTrimmingContainer%20%3D%20function%20%28%29%20%7B%0A%20%20var%20trimmingElement%20%3D%20Handsontable%2EDom%2EgetTrimmingContainer%28this%2EwtRootElement%29%3B%0A%0A%20%20if%20%28%21this%2EisWorkingOnClone%28%29%29%20%7B%0A%20%20%20%20this%2Eholder%2EparentNode%2Estyle%2Eposition%20%3D%20%22relative%22%3B%0A%0A%20%20%20%20if%28trimmingElement%20%21%3D%3D%20window%29%20%7B%0A%20%20%20%20%20%20this%2Eholder%2Estyle%2Ewidth%20%3D%20Handsontable%2EDom%2EgetStyle%28trimmingElement%2C%20%27width%27%29%3B%0A%20%20%20%20%20%20this%2Eholder%2Estyle%2Eheight%20%3D%20Handsontable%2EDom%2EgetStyle%28trimmingElement%2C%20%27height%27%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2Eholder%2Estyle%2Eoverflow%20%3D%20%22visible%22%3B%0A%20%20%20%20%20%20this%2EwtRootElement%2Estyle%2Eoverflow%20%3D%20%22visible%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EisWorkingOnClone%20%3D%20function%20%28%29%20%7B%0A%20%20return%20%21%21this%2Einstance%2EcloneSource%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Redraws%20the%20table%0A%20%2A%0A%20%2A%20%40param%20fastDraw%20%7BBoolean%7D%20If%20TRUE%2C%20will%20try%20to%20avoid%20full%20redraw%20and%20only%20update%20the%20border%20positions%2E%20If%20FALSE%20or%20UNDEFINED%2C%20will%20perform%20a%20full%20redraw%0A%20%2A%20%40returns%20%7BWalkontableTable%7D%0A%20%2A%2F%0AWalkontableTable%2Eprototype%2Edraw%20%3D%20function%20%28fastDraw%29%20%7B%0A%20%20if%20%28%21this%2EisWorkingOnClone%28%29%29%20%7B%0A%20%20%20%20this%2EholderOffset%20%3D%20Handsontable%2EDom%2Eoffset%28this%2Eholder%29%3B%0A%20%20%20%20fastDraw%20%3D%20this%2Einstance%2EwtViewport%2EcreateRenderCalculators%28fastDraw%29%3B%0A%20%20%7D%0A%0A%20%20if%20%28%21fastDraw%29%20%7B%0A%20%20%20%20if%20%28this%2EisWorkingOnClone%28%29%29%20%7B%0A%20%20%20%20%20%20this%2EtableOffset%20%3D%20this%2Einstance%2EcloneSource%2EwtTable%2EtableOffset%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20this%2EtableOffset%20%3D%20Handsontable%2EDom%2Eoffset%28this%2ETABLE%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20var%20startRow%3B%0A%20%20%20%20if%20%28this%2Einstance%2EcloneOverlay%20instanceof%20WalkontableDebugOverlay%20%7C%7C%0A%20%20%20%20%20%20%20%20this%2Einstance%2EcloneOverlay%20instanceof%20WalkontableTopOverlay%20%7C%7C%0A%20%20%20%20%20%20%20%20this%2Einstance%2EcloneOverlay%20instanceof%20WalkontableCornerOverlay%29%20%7B%0A%20%20%20%20%20%20startRow%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20startRow%20%3D%20this%2Einstance%2EwtViewport%2ErowsRenderCalculator%2EstartRow%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20var%20startColumn%3B%0A%20%20%20%20if%20%28this%2Einstance%2EcloneOverlay%20instanceof%20WalkontableDebugOverlay%20%7C%7C%0A%20%20%20%20%20%20%20%20this%2Einstance%2EcloneOverlay%20instanceof%20%20WalkontableLeftOverlay%20%7C%7C%0A%20%20%20%20%20%20%20%20this%2Einstance%2EcloneOverlay%20instanceof%20WalkontableCornerOverlay%29%20%7B%0A%20%20%20%20%20%20startColumn%20%3D%200%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20startColumn%20%3D%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2EstartColumn%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2ErowFilter%20%3D%20new%20WalkontableRowFilter%28%0A%20%20%20%20%20%20startRow%2C%0A%20%20%20%20%20%20this%2Einstance%2EgetSetting%28%27totalRows%27%29%2C%0A%20%20%20%20%20%20this%2Einstance%2EgetSetting%28%27columnHeaders%27%29%2Elength%0A%20%20%20%20%29%3B%0A%20%20%20%20this%2EcolumnFilter%20%3D%20new%20WalkontableColumnFilter%28%0A%20%20%20%20%20%20startColumn%2C%0A%20%20%20%20%20%20this%2Einstance%2EgetSetting%28%27totalColumns%27%29%2C%0A%20%20%20%20%20%20this%2Einstance%2EgetSetting%28%27rowHeaders%27%29%2Elength%0A%20%20%20%20%29%3B%0A%20%20%20%20this%2E%5FdoDraw%28%29%3B%20%2F%2Fcreates%20calculator%20after%20draw%0A%0A%20%20%20%20this%2EalignOverlaysWithTrimmingContainer%28%29%3B%0A%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20if%20%28%21this%2EisWorkingOnClone%28%29%29%20%7B%0A%20%20%20%20%20%20%2F%2Fin%20case%20we%20only%20scrolled%20without%20redraw%2C%20update%20visible%20rows%20information%20in%20oldRowsCalculator%0A%20%20%20%20%20%20this%2Einstance%2EwtViewport%2EcreateVisibleCalculators%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28this%2Einstance%2EwtOverlays%29%20%7B%0A%20%20%20%20%20%20this%2Einstance%2EwtOverlays%2Erefresh%28true%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20this%2ErefreshSelections%28fastDraw%29%3B%0A%0A%20%20if%20%28%21this%2EisWorkingOnClone%28%29%29%20%7B%0A%20%20%20%20this%2Einstance%2EwtOverlays%2EtopOverlay%2EresetFixedPosition%28%29%3B%0A%20%20%20%20this%2Einstance%2EwtOverlays%2EleftOverlay%2EresetFixedPosition%28%29%3B%0A%20%20%20%20this%2Einstance%2EwtOverlays%2EtopLeftCornerOverlay%2EresetFixedPosition%28%29%3B%0A%20%20%7D%0A%0A%20%20this%2Einstance%2Edrawn%20%3D%20true%3B%0A%20%20return%20this%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2E%5FdoDraw%20%3D%20function%20%28%29%20%7B%0A%20%20var%20wtRenderer%20%3D%20new%20WalkontableTableRenderer%28this%29%3B%0A%20%20wtRenderer%2Erender%28%29%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EremoveClassFromCells%20%3D%20function%20%28className%29%20%7B%0A%20%20var%20nodes%20%3D%20this%2ETABLE%2EquerySelectorAll%28%27%2E%27%20%2B%20className%29%3B%0A%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20nodes%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20Handsontable%2EDom%2EremoveClass%28nodes%5Bi%5D%2C%20className%29%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2ErefreshSelections%20%3D%20function%20%28fastDraw%29%20%7B%0A%20%20var%20i%2C%20len%3B%0A%0A%20%20if%20%28%21this%2Einstance%2Eselections%29%20%7B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%20%20len%20%3D%20this%2Einstance%2Eselections%2Elength%3B%0A%0A%20%20if%20%28fastDraw%29%20%7B%0A%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20there%20was%20no%20rerender%2C%20so%20we%20need%20to%20remove%20classNames%20by%20ourselves%0A%20%20%20%20%20%20if%20%28this%2Einstance%2Eselections%5Bi%5D%2Esettings%2EclassName%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EremoveClassFromCells%28this%2Einstance%2Eselections%5Bi%5D%2Esettings%2EclassName%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28this%2Einstance%2Eselections%5Bi%5D%2Esettings%2EhighlightRowClassName%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EremoveClassFromCells%28this%2Einstance%2Eselections%5Bi%5D%2Esettings%2EhighlightRowClassName%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28this%2Einstance%2Eselections%5Bi%5D%2Esettings%2EhighlightColumnClassName%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EremoveClassFromCells%28this%2Einstance%2Eselections%5Bi%5D%2Esettings%2EhighlightColumnClassName%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20this%2Einstance%2Eselections%5Bi%5D%2Edraw%28this%2Einstance%2C%20fastDraw%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20getCell%0A%20%2A%0A%20%2A%20%40param%20%7BWalkontableCellCoords%7D%20coords%0A%20%2A%20%40returns%20%7BObject%7D%20HTMLElement%20on%20success%20or%20%7BNumber%7D%20one%20of%20the%20exit%20codes%20on%20error%3A%0A%20%2A%20%20%2D1%20row%20before%20viewport%0A%20%2A%20%20%2D2%20row%20after%20viewport%0A%20%2A%2F%0AWalkontableTable%2Eprototype%2EgetCell%20%3D%20function%20%28coords%29%20%7B%0A%20%20if%20%28this%2EisRowBeforeRenderedRows%28coords%2Erow%29%29%20%7B%0A%20%20%20%20return%20%2D1%3B%20%2F%2Frow%20before%20rendered%20rows%0A%20%20%7D%0A%20%20else%20if%20%28this%2EisRowAfterRenderedRows%28coords%2Erow%29%29%20%7B%0A%20%20%20%20return%20%2D2%3B%20%2F%2Frow%20after%20rendered%20rows%0A%20%20%7D%0A%0A%20%20%20%20var%20TR%20%3D%20this%2ETBODY%2EchildNodes%5Bthis%2ErowFilter%2EsourceToRendered%28coords%2Erow%29%5D%3B%0A%0A%20%20%20%20if%20%28TR%29%20%7B%0A%20%20%20%20%20%20return%20TR%2EchildNodes%5Bthis%2EcolumnFilter%2EsourceColumnToVisibleRowHeadedColumn%28coords%2Ecol%29%5D%3B%0A%20%20%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20getColumnHeader%0A%20%2A%0A%20%2A%20%40param%20col%0A%20%2A%20%40param%20level%20Header%20level%20%280%20%3D%20most%20distant%20to%20the%20table%29%0A%20%2A%20%40returns%20%7BObject%7D%20HTMLElement%20on%20success%20or%20undefined%20on%20error%0A%20%2A%2F%0AWalkontableTable%2Eprototype%2EgetColumnHeader%20%3D%20function%28col%2C%20level%29%20%7B%0A%20%20if%28%21level%29%20%7B%0A%20%20%20%20level%20%3D%200%3B%0A%20%20%7D%0A%0A%20%20var%20TR%20%3D%20this%2ETHEAD%2EchildNodes%5Blevel%5D%3B%0A%20%20if%20%28TR%29%20%7B%0A%20%20%20%20return%20TR%2EchildNodes%5Bthis%2EcolumnFilter%2EsourceColumnToVisibleRowHeadedColumn%28col%29%5D%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20getRowHeader%0A%20%2A%0A%20%2A%20%40param%20row%0A%20%2A%20%40returns%20%7BObject%7D%20HTMLElement%20on%20success%20or%20%7BNumber%7D%20one%20of%20the%20exit%20codes%20on%20error%3A%0A%20%2A%20%20null%20table%20doesn%27t%20have%20row%20headers%0A%20%2A%2F%0AWalkontableTable%2Eprototype%2EgetRowHeader%20%3D%20function%28row%29%20%7B%0A%20%20if%28this%2EcolumnFilter%2EsourceColumnToVisibleRowHeadedColumn%280%29%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20return%20null%3B%0A%20%20%7D%0A%0A%20%20var%20TR%20%3D%20this%2ETBODY%2EchildNodes%5Bthis%2ErowFilter%2EsourceToRendered%28row%29%5D%3B%0A%0A%20%20if%20%28TR%29%20%7B%0A%20%20%20%20return%20TR%2EchildNodes%5B0%5D%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20cell%20coords%20object%20for%20a%20given%20TD%0A%20%2A%0A%20%2A%20%40param%20TD%0A%20%2A%20%40returns%20%7BWalkontableCellCoords%7D%0A%20%2A%2F%0AWalkontableTable%2Eprototype%2EgetCoords%20%3D%20function%20%28TD%29%20%7B%0A%20%20var%20TR%20%3D%20TD%2EparentNode%3B%0A%20%20var%20row%20%3D%20Handsontable%2EDom%2Eindex%28TR%29%3B%0A%20%20if%20%28TR%2EparentNode%20%3D%3D%3D%20this%2ETHEAD%29%20%7B%0A%20%20%20%20row%20%3D%20this%2ErowFilter%2EvisibleColHeadedRowToSourceRow%28row%29%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20row%20%3D%20this%2ErowFilter%2ErenderedToSource%28row%29%3B%0A%20%20%7D%0A%0A%20%20return%20new%20WalkontableCellCoords%28%0A%20%20%20%20row%2C%0A%20%20%20%20this%2EcolumnFilter%2EvisibleRowHeadedColumnToSourceColumn%28TD%2EcellIndex%29%0A%20%20%29%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetTrForRow%20%3D%20function%20%28row%29%20%7B%0A%20%20return%20this%2ETBODY%2EchildNodes%5Bthis%2ErowFilter%2EsourceToRendered%28row%29%5D%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetFirstRenderedRow%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EwtViewport%2ErowsRenderCalculator%2EstartRow%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetFirstVisibleRow%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EwtViewport%2ErowsVisibleCalculator%2EstartRow%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetFirstRenderedColumn%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2EstartColumn%3B%0A%7D%3B%0A%0A%2F%2Freturns%20%2D1%20if%20no%20column%20is%20visible%0AWalkontableTable%2Eprototype%2EgetFirstVisibleColumn%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EwtViewport%2EcolumnsVisibleCalculator%2EstartColumn%3B%0A%7D%3B%0A%0A%2F%2Freturns%20%2D1%20if%20no%20row%20is%20visible%0AWalkontableTable%2Eprototype%2EgetLastRenderedRow%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EwtViewport%2ErowsRenderCalculator%2EendRow%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetLastVisibleRow%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EwtViewport%2ErowsVisibleCalculator%2EendRow%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetLastRenderedColumn%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2EendColumn%3B%0A%7D%3B%0A%0A%2F%2Freturns%20%2D1%20if%20no%20column%20is%20visible%0AWalkontableTable%2Eprototype%2EgetLastVisibleColumn%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EwtViewport%2EcolumnsVisibleCalculator%2EendColumn%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EisRowBeforeRenderedRows%20%3D%20function%20%28r%29%20%7B%0A%20%20return%20%28this%2ErowFilter%2EsourceToRendered%28r%29%20%3C%200%20%26%26%20r%20%3E%3D%200%29%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EisRowAfterViewport%20%3D%20function%20%28r%29%20%7B%0A%20%20return%20%28r%20%3E%20this%2EgetLastVisibleRow%28%29%29%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EisRowAfterRenderedRows%20%3D%20function%20%28r%29%20%7B%0A%20%20return%20%28r%20%3E%20this%2EgetLastRenderedRow%28%29%29%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EisColumnBeforeViewport%20%3D%20function%20%28c%29%20%7B%0A%20%20return%20%28this%2EcolumnFilter%2EsourceToRendered%28c%29%20%3C%200%20%26%26%20c%20%3E%3D%200%29%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EisColumnAfterViewport%20%3D%20function%20%28c%29%20%7B%0A%20%20return%20%28c%20%3E%20this%2EgetLastVisibleColumn%28%29%29%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EisLastRowFullyVisible%20%3D%20function%20%28%29%20%7B%0A%20%20return%20%28this%2EgetLastVisibleRow%28%29%20%3D%3D%3D%20this%2EgetLastRenderedRow%28%29%29%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EisLastColumnFullyVisible%20%3D%20function%20%28%29%20%7B%0A%20%20return%20%28this%2EgetLastVisibleColumn%28%29%20%3D%3D%3D%20this%2EgetLastRenderedColumn%29%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetRenderedColumnsCount%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28this%2Einstance%2EcloneOverlay%20instanceof%20WalkontableDebugOverlay%29%20%7B%0A%20%20%20%20return%20this%2Einstance%2EgetSetting%28%27totalColumns%27%29%3B%0A%20%20%7D%0A%20%20else%20if%20%28this%2Einstance%2EcloneOverlay%20instanceof%20WalkontableLeftOverlay%20%7C%7C%20this%2Einstance%2EcloneOverlay%20instanceof%20WalkontableCornerOverlay%29%20%7B%0A%20%20%20%20return%20this%2Einstance%2EgetSetting%28%27fixedColumnsLeft%27%29%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2Ecount%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetRenderedRowsCount%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28this%2Einstance%2EcloneOverlay%20instanceof%20WalkontableDebugOverlay%29%20%7B%0A%20%20%20%20return%20this%2Einstance%2EgetSetting%28%27totalRows%27%29%3B%0A%20%20%7D%0A%20%20else%20if%20%28this%2Einstance%2EcloneOverlay%20instanceof%20WalkontableTopOverlay%20%7C%7C%20this%2Einstance%2EcloneOverlay%20instanceof%20WalkontableCornerOverlay%29%20%7B%0A%20%20%20%20return%20this%2Einstance%2EgetSetting%28%27fixedRowsTop%27%29%3B%0A%20%20%7D%0A%20%20return%20this%2Einstance%2EwtViewport%2ErowsRenderCalculator%2Ecount%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetVisibleRowsCount%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EwtViewport%2ErowsVisibleCalculator%2Ecount%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EallRowsInViewport%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EgetSetting%28%27totalRows%27%29%20%3D%3D%20this%2EgetVisibleRowsCount%28%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Checks%20if%20any%20of%20the%20row%27s%20cells%20content%20exceeds%20its%20initial%20height%2C%20and%20if%20so%2C%20returns%20the%20oversized%20height%0A%20%2A%0A%20%2A%20%40param%20%7BNumber%7D%20sourceRow%0A%20%2A%20%40returns%20%7BNumber%7D%0A%20%2A%2F%0AWalkontableTable%2Eprototype%2EgetRowHeight%20%3D%20function%20%28sourceRow%29%20%7B%0A%20%20var%20height%20%3D%20this%2Einstance%2EwtSettings%2Esettings%2ErowHeight%28sourceRow%29%3B%0A%20%20var%20oversizedHeight%20%3D%20this%2Einstance%2EwtViewport%2EoversizedRows%5BsourceRow%5D%3B%0A%20%20if%20%28oversizedHeight%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20height%20%3D%20height%20%3F%20Math%2Emax%28height%2C%20oversizedHeight%29%20%3A%20oversizedHeight%3B%0A%20%20%7D%0A%20%20return%20height%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetColumnHeaderHeight%20%3D%20function%20%28level%29%20%7B%0A%20%20var%20height%20%3D%20this%2Einstance%2EwtSettings%2Esettings%2EdefaultRowHeight%2C%0A%20%20%20%20oversizedHeight%20%3D%20this%2Einstance%2EwtViewport%2EoversizedColumnHeaders%5Blevel%5D%3B%0A%20%20if%20%28oversizedHeight%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20height%20%3D%20height%20%3F%20Math%2Emax%28height%2C%20oversizedHeight%29%20%3A%20oversizedHeight%3B%0A%20%20%7D%0A%20%20return%20height%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetVisibleColumnsCount%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EwtViewport%2EcolumnsVisibleCalculator%2Ecount%3B%0A%7D%3B%0A%0A%0AWalkontableTable%2Eprototype%2EallColumnsInViewport%20%3D%20function%20%28%29%20%7B%0A%20%20return%20this%2Einstance%2EgetSetting%28%27totalColumns%27%29%20%3D%3D%20this%2EgetVisibleColumnsCount%28%29%3B%0A%7D%3B%0A%0A%0A%0AWalkontableTable%2Eprototype%2EgetColumnWidth%20%3D%20function%20%28sourceColumn%29%20%7B%0A%20%20var%20width%20%3D%20this%2Einstance%2EwtSettings%2Esettings%2EcolumnWidth%3B%0A%20%20if%28typeof%20width%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20width%20%3D%20width%28sourceColumn%29%3B%0A%20%20%7D%20else%20if%28typeof%20width%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20width%20%3D%20width%5BsourceColumn%5D%3B%0A%20%20%7D%0A%0A%20%20var%20oversizedWidth%20%3D%20this%2Einstance%2EwtViewport%2EoversizedCols%5BsourceColumn%5D%3B%0A%20%20if%20%28oversizedWidth%20%21%3D%3D%20void%200%29%20%7B%0A%20%20%20%20width%20%3D%20width%20%3F%20Math%2Emax%28width%2C%20oversizedWidth%29%20%3A%20oversizedWidth%3B%0A%20%20%7D%0A%20%20return%20width%3B%0A%7D%3B%0A%0AWalkontableTable%2Eprototype%2EgetStretchedColumnWidth%20%3D%20function%20%28sourceColumn%29%20%7B%0A%20%20var%0A%20%20%20%20width%20%3D%20this%2EgetColumnWidth%28sourceColumn%29%20%7C%7C%20this%2Einstance%2EwtSettings%2Esettings%2EdefaultColumnWidth%2C%0A%20%20%20%20calculator%20%3D%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2C%0A%20%20%20%20stretchedWidth%3B%0A%0A%20%20if%20%28calculator%29%20%7B%0A%20%20%20%20stretchedWidth%20%3D%20calculator%2EgetStretchedColumnWidth%28sourceColumn%2C%20width%29%3B%0A%0A%20%20%20%20if%20%28stretchedWidth%29%20%7B%0A%20%20%20%20%20%20width%20%3D%20stretchedWidth%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20return%20width%3B%0A%7D%3B%0A%0A%0Afunction%20WalkontableTableRenderer%28wtTable%29%20%7B%0A%20%20this%2EwtTable%20%3D%20wtTable%3B%0A%20%20this%2Einstance%20%3D%20wtTable%2Einstance%3B%0A%20%20this%2ErowFilter%20%3D%20wtTable%2ErowFilter%3B%0A%20%20this%2EcolumnFilter%20%3D%20wtTable%2EcolumnFilter%3B%0A%0A%20%20this%2ETABLE%20%3D%20wtTable%2ETABLE%3B%0A%20%20this%2ETHEAD%20%3D%20wtTable%2ETHEAD%3B%0A%20%20this%2ETBODY%20%3D%20wtTable%2ETBODY%3B%0A%20%20this%2ECOLGROUP%20%3D%20wtTable%2ECOLGROUP%3B%0A%0A%20%20this%2Eutils%20%3D%20WalkontableTableRenderer%2Eutils%3B%0A%0A%7D%0A%0AWalkontableTableRenderer%2Eprototype%2Erender%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28%21this%2EwtTable%2EisWorkingOnClone%28%29%29%20%7B%0A%20%20%20%20this%2Einstance%2EgetSetting%28%27beforeDraw%27%2C%20true%29%3B%0A%20%20%7D%0A%0A%20%20this%2ErowHeaders%20%3D%20this%2Einstance%2EgetSetting%28%27rowHeaders%27%29%3B%0A%20%20this%2ErowHeaderCount%20%3D%20this%2ErowHeaders%2Elength%3B%0A%20%20this%2EfixedRowsTop%20%3D%20this%2Einstance%2EgetSetting%28%27fixedRowsTop%27%29%3B%0A%20%20this%2EcolumnHeaders%20%3D%20this%2Einstance%2EgetSetting%28%27columnHeaders%27%29%3B%0A%20%20this%2EcolumnHeaderCount%20%3D%20this%2EcolumnHeaders%2Elength%3B%0A%0A%20%20var%20visibleColIndex%0A%20%20%20%20%2C%20totalRows%20%3D%20this%2Einstance%2EgetSetting%28%27totalRows%27%29%0A%20%20%20%20%2C%20totalColumns%20%3D%20this%2Einstance%2EgetSetting%28%27totalColumns%27%29%0A%20%20%20%20%2C%20columnsToRender%20%3D%20this%2EwtTable%2EgetRenderedColumnsCount%28%29%0A%20%20%20%20%2C%20adjusted%20%3D%20false%0A%20%20%20%20%2C%20workspaceWidth%0A%20%20%20%20%2C%20rowsToRender%20%3D%20this%2EwtTable%2EgetRenderedRowsCount%28%29%3B%0A%0A%20%20if%20%28totalColumns%20%3E%200%29%20%7B%0A%0A%20%20%20%20%2F%2F%20prepare%20COL%20and%20TH%20elements%20for%20rendering%0A%20%20%20%20this%2EadjustAvailableNodes%28%29%3B%0A%20%20%20%20adjusted%20%3D%20true%3B%0A%0A%20%20%20%20%2F%2F%20assign%20row%20header%20classnames%0A%20%20%20%20this%2ErenderColGroups%28%29%3B%0A%0A%20%20%20%20this%2ErenderColumnHeaders%28%29%3B%0A%0A%20%20%20%20%2F%2FRender%20table%20rows%0A%20%20%20%20this%2ErenderRows%28totalRows%2C%20rowsToRender%2C%20columnsToRender%29%3B%0A%0A%20%20%20%20if%20%28%21this%2EwtTable%2EisWorkingOnClone%28%29%29%20%7B%0A%20%20%20%20%20%20workspaceWidth%20%3D%20this%2Einstance%2EwtViewport%2EgetWorkspaceWidth%28%29%3B%0A%20%20%20%20%20%20this%2Einstance%2EwtViewport%2EcontainerWidth%20%3D%20null%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2EadjustColumnHeaderHeights%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2EadjustColumnWidths%28columnsToRender%29%3B%0A%20%20%7D%0A%0A%20%20if%20%28%21adjusted%29%20%7B%0A%20%20%20%20this%2EadjustAvailableNodes%28%29%3B%0A%20%20%7D%0A%0A%20%20this%2EremoveRedundantRows%28rowsToRender%29%3B%0A%0A%20%20if%20%28%21this%2EwtTable%2EisWorkingOnClone%28%29%29%20%7B%0A%20%20%20%20this%2EmarkOversizedRows%28%29%3B%0A%0A%20%20%20%20this%2Einstance%2EwtViewport%2EcreateVisibleCalculators%28%29%3B%0A%0A%20%20%20%20this%2Einstance%2EwtOverlays%2EapplyToDOM%28%29%3B%0A%0A%20%20%20%20this%2Einstance%2EwtOverlays%2Erefresh%28false%29%3B%0A%0A%20%20%20%20if%20%28workspaceWidth%20%21%3D%3D%20this%2Einstance%2EwtViewport%2EgetWorkspaceWidth%28%29%29%20%7B%0A%20%20%20%20%20%20%2F%2Fworkspace%20width%20changed%20though%20to%20shown%2Fhidden%20vertical%20scrollbar%2E%20Let%27s%20reapply%20stretching%0A%20%20%20%20%20%20this%2Einstance%2EwtViewport%2EcontainerWidth%20%3D%20null%3B%0A%0A%20%20%20%20%20%20var%20firstRendered%20%3D%20this%2EwtTable%2EgetFirstRenderedColumn%28%29%3B%0A%20%20%20%20%20%20var%20lastRendered%20%3D%20this%2EwtTable%2EgetLastRenderedColumn%28%29%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%20firstRendered%20%3B%20i%20%3C%20lastRendered%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20var%20width%20%3D%20this%2EwtTable%2EgetStretchedColumnWidth%28i%29%3B%0A%20%20%20%20%20%20%20%20var%20renderedIndex%20%3D%20this%2EcolumnFilter%2EsourceToRendered%28i%29%3B%0A%20%20%20%20%20%20%20%20this%2ECOLGROUP%2EchildNodes%5BrenderedIndex%20%2B%20this%2ErowHeaderCount%5D%2Estyle%2Ewidth%20%3D%20width%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2Einstance%2EgetSetting%28%27onDraw%27%2C%20true%29%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2EremoveRedundantRows%20%3D%20function%20%28renderedRowsCount%29%20%7B%0A%20%20while%20%28this%2EwtTable%2EtbodyChildrenLength%20%3E%20renderedRowsCount%29%20%7B%0A%20%20%20%20this%2ETBODY%2EremoveChild%28this%2ETBODY%2ElastChild%29%3B%0A%20%20%20%20this%2EwtTable%2EtbodyChildrenLength%2D%2D%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2ErenderRows%20%3D%20function%20%28totalRows%2C%20rowsToRender%2C%20columnsToRender%29%20%7B%0A%20%20var%20lastTD%2C%20TR%3B%0A%20%20var%20visibleRowIndex%20%3D%200%3B%0A%20%20var%20sourceRowIndex%20%3D%20this%2ErowFilter%2ErenderedToSource%28visibleRowIndex%29%3B%0A%20%20var%20isWorkingOnClone%20%3D%20this%2EwtTable%2EisWorkingOnClone%28%29%3B%0A%0A%20%20while%20%28sourceRowIndex%20%3C%20totalRows%20%26%26%20sourceRowIndex%20%3E%3D%200%29%20%7B%0A%20%20%20%20if%20%28visibleRowIndex%20%3E%201000%29%20%7B%0A%20%20%20%20%20%20throw%20new%20Error%28%27Security%20brake%3A%20Too%20much%20TRs%2E%20Please%20define%20height%20for%20your%20table%2C%20which%20will%20enforce%20scrollbars%2E%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28rowsToRender%20%21%3D%3D%20void%200%20%26%26%20visibleRowIndex%20%3D%3D%3D%20rowsToRender%29%20%7B%0A%20%20%20%20%20%20break%3B%20%2F%2Fwe%20have%20as%20much%20rows%20as%20needed%20for%20this%20clone%0A%20%20%20%20%7D%0A%0A%20%20%20%20TR%20%3D%20this%2EgetOrCreateTrForRow%28visibleRowIndex%2C%20TR%29%3B%0A%0A%20%20%20%20%2F%2FRender%20row%20headers%0A%20%20%20%20this%2ErenderRowHeaders%28sourceRowIndex%2C%20TR%29%3B%0A%0A%20%20%20%20%2F%2F%20Add%20and%2For%20remove%20TDs%20to%20TR%20to%20match%20the%20desired%20number%0A%20%20%20%20this%2EadjustColumns%28TR%2C%20columnsToRender%20%2B%20this%2ErowHeaderCount%29%3B%0A%0A%20%20%20%20lastTD%20%3D%20this%2ErenderCells%28sourceRowIndex%2C%20TR%2C%20columnsToRender%29%3B%0A%0A%20%20%20%20if%20%28%21isWorkingOnClone%29%20%7B%0A%20%20%20%20%20%20%2F%2F%20reset%20the%20oversized%20row%20cache%20for%20this%20row%0A%20%20%20%20%20%20this%2EresetOversizedRow%28sourceRowIndex%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28TR%2EfirstChild%29%20%7B%0A%20%20%20%20%20%20%2F%2Fif%20I%20have%202%20fixed%20columns%20with%20one%2Dline%20content%20and%20the%203rd%20column%20has%20a%20multiline%20content%2C%20this%20is%20the%20way%20to%20make%20sure%20that%20the%20overlay%20will%20has%20same%20row%20height%0A%20%20%20%20%20%20var%20height%20%3D%20this%2Einstance%2EwtTable%2EgetRowHeight%28sourceRowIndex%29%3B%0A%20%20%20%20%20%20if%20%28height%29%20%7B%0A%20%20%20%20%20%20%20%20TR%2EfirstChild%2Estyle%2Eheight%20%3D%20height%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20TR%2EfirstChild%2Estyle%2Eheight%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20visibleRowIndex%2B%2B%3B%0A%0A%20%20%20%20sourceRowIndex%20%3D%20this%2ErowFilter%2ErenderedToSource%28visibleRowIndex%29%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Reset%20the%20oversized%20row%20cache%20for%20the%20provided%20index%0A%20%2A%20%40param%20sourceRow%20%7BNumber%7D%20Row%20index%0A%20%2A%2F%0AWalkontableTableRenderer%2Eprototype%2EresetOversizedRow%20%3D%20function%20%28sourceRow%29%20%7B%0A%20%20if%20%28this%2Einstance%2EwtViewport%2EoversizedRows%20%26%26%20this%2Einstance%2EwtViewport%2EoversizedRows%5BsourceRow%5D%29%20%7B%0A%20%20%20%20this%2Einstance%2EwtViewport%2EoversizedRows%5BsourceRow%5D%20%3D%20void%200%3B%20%20%2F%2Fvoid%200%20is%20faster%20than%20delete%2C%20see%20http%3A%2F%2Fjsperf%2Ecom%2Fdelete%2Dvs%2Dundefined%2Dvs%2Dnull%2F16%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Check%20if%20any%20of%20the%20rendered%20rows%20is%20higher%20than%20expected%2C%20and%20if%20so%2C%20cache%20them%0A%20%2A%2F%0AWalkontableTableRenderer%2Eprototype%2EmarkOversizedRows%20%3D%20function%20%28%29%20%7B%0A%20%20var%20previousRowHeight%0A%20%20%20%20%2C%20trInnerHeight%0A%20%20%20%20%2C%20sourceRowIndex%0A%20%20%20%20%2C%20currentTr%3B%0A%0A%20%20var%20rowCount%20%3D%20this%2Einstance%2EwtTable%2ETBODY%2EchildNodes%2Elength%3B%0A%20%20while%20%28rowCount%29%20%7B%0A%20%20%20%20rowCount%2D%2D%3B%0A%20%20%20%20sourceRowIndex%20%3D%20this%2Einstance%2EwtTable%2ErowFilter%2ErenderedToSource%28rowCount%29%3B%0A%20%20%20%20previousRowHeight%20%3D%20this%2Einstance%2EwtTable%2EgetRowHeight%28sourceRowIndex%29%3B%0A%20%20%20%20currentTr%20%3D%20this%2Einstance%2EwtTable%2EgetTrForRow%28sourceRowIndex%29%3B%0A%0A%20%20%20%20trInnerHeight%20%3D%20Handsontable%2EDom%2EinnerHeight%28currentTr%29%20%2D%201%3B%0A%0A%20%20%20%20if%20%28%28%21previousRowHeight%20%26%26%20this%2Einstance%2EwtSettings%2Esettings%2EdefaultRowHeight%20%3C%20trInnerHeight%20%7C%7C%20previousRowHeight%20%3C%20trInnerHeight%29%29%20%7B%0A%20%20%20%20%20%20this%2Einstance%2EwtViewport%2EoversizedRows%5BsourceRowIndex%5D%20%3D%20trInnerHeight%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2EadjustColumnHeaderHeights%20%3D%20function%20%28%29%20%7B%0A%20%20var%20columnHeaders%20%3D%20this%2Einstance%2EgetSetting%28%27columnHeaders%27%29%3B%0A%20%20for%28var%20i%20%3D%200%2C%20columnHeadersCount%20%3D%20columnHeaders%2Elength%3B%20i%20%3C%20columnHeadersCount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20if%28this%2Einstance%2EwtViewport%2EoversizedColumnHeaders%5Bi%5D%29%20%7B%0A%20%20%20%20%20%20if%28this%2Einstance%2EwtTable%2ETHEAD%2EchildNodes%5Bi%5D%2EchildNodes%2Elength%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this%2Einstance%2EwtTable%2ETHEAD%2EchildNodes%5Bi%5D%2EchildNodes%5B0%5D%2Estyle%2Eheight%20%3D%20this%2Einstance%2EwtViewport%2EoversizedColumnHeaders%5Bi%5D%20%2B%20%22px%22%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Check%20if%20column%20header%20for%20the%20specified%20column%20is%20higher%20than%20expected%2C%20and%20if%20so%2C%20cache%20it%0A%20%2A%20%40param%20col%20%7BNumber%7D%20Index%20of%20column%0A%20%2A%2F%0AWalkontableTableRenderer%2Eprototype%2EmarkIfOversizedColumnHeader%20%3D%20function%20%28col%29%20%7B%0A%20%20var%20colCount%20%3D%20this%2Einstance%2EwtTable%2ETHEAD%2EchildNodes%2Elength%20%21%3D%3D%200%20%3F%20this%2Einstance%2EwtTable%2ETHEAD%2EchildNodes%5B0%5D%2EchildNodes%2Elength%20%3A%200%2C%0A%20%20%20%20sourceColIndex%2C%0A%20%20%20%20previousColHeaderHeight%2C%0A%20%20%20%20currentHeader%2C%0A%20%20%20%20currentHeaderHeight%2C%0A%20%20%20%20columnHeaders%20%3D%20this%2Einstance%2EgetSetting%28%27columnHeaders%27%29%2C%0A%20%20%20%20columnHeaderCount%20%3D%20columnHeaders%2Elength%2C%0A%20%20%20%20level%20%3D%20columnHeaderCount%3B%0A%0A%20%20%20%20sourceColIndex%20%3D%20this%2Einstance%2EwtTable%2EcolumnFilter%2ErenderedToSource%28col%29%3B%0A%0A%20%20%20%20while%28level%29%20%7B%0A%20%20%20%20%20%20level%2D%2D%3B%0A%0A%20%20%20%20%20%20previousColHeaderHeight%20%3D%20this%2Einstance%2EwtTable%2EgetColumnHeaderHeight%28level%29%3B%0A%20%20%20%20%20%20currentHeader%20%3D%20this%2Einstance%2EwtTable%2EgetColumnHeader%28sourceColIndex%2C%20level%29%3B%0A%0A%20%20%20%20%20%20if%28%21currentHeader%29%20%7B%0A%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20currentHeaderHeight%20%3D%20Handsontable%2EDom%2EinnerHeight%28currentHeader%29%20%2D%201%3B%0A%0A%20%20%20%20%20%20if%20%28%28%21previousColHeaderHeight%20%26%26%20this%2Einstance%2EwtSettings%2Esettings%2EdefaultRowHeight%20%3C%20currentHeaderHeight%20%7C%7C%20previousColHeaderHeight%20%3C%20currentHeaderHeight%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Einstance%2EwtViewport%2EoversizedColumnHeaders%5Blevel%5D%20%3D%20currentHeaderHeight%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2ErenderCells%20%3D%20function%20%28sourceRowIndex%2C%20TR%2C%20columnsToRender%29%20%7B%0A%20%20var%20TD%2C%20sourceColIndex%3B%0A%0A%20%20for%20%28var%20visibleColIndex%20%3D%200%3B%20visibleColIndex%20%3C%20columnsToRender%3B%20visibleColIndex%2B%2B%29%20%7B%0A%20%20%20%20sourceColIndex%20%3D%20this%2EcolumnFilter%2ErenderedToSource%28visibleColIndex%29%3B%0A%20%20%20%20if%20%28visibleColIndex%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20TD%20%3D%20TR%2EchildNodes%5Bthis%2EcolumnFilter%2EsourceColumnToVisibleRowHeadedColumn%28sourceColIndex%29%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20TD%20%3D%20TD%2EnextSibling%3B%20%2F%2Fhttp%3A%2F%2Fjsperf%2Ecom%2Fnextsibling%2Dvs%2Dindexed%2Dchildnodes%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2FIf%20the%20number%20of%20headers%20has%20been%20reduced%2C%20we%20need%20to%20replace%20excess%20TH%20with%20TD%0A%20%20%20%20if%20%28TD%2EnodeName%20%3D%3D%20%27TH%27%29%20%7B%0A%20%20%20%20%20%20TD%20%3D%20this%2Eutils%2EreplaceThWithTd%28TD%2C%20TR%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%21Handsontable%2EDom%2EhasClass%28TD%2C%20%27hide%27%29%29%20%7B%0A%20%20%20%20%20%20TD%2EclassName%20%3D%20%27%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20TD%2EremoveAttribute%28%27style%27%29%3B%0A%0A%20%20%20%20this%2Einstance%2EwtSettings%2Esettings%2EcellRenderer%28sourceRowIndex%2C%20sourceColIndex%2C%20TD%29%3B%0A%0A%20%20%7D%0A%0A%20%20return%20TD%3B%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2EadjustColumnWidths%20%3D%20function%20%28columnsToRender%29%20%7B%0A%20%20var%20width%2C%0A%20%20%20%20rowsCalculator%20%3D%20this%2Einstance%2EwtViewport%2ErowsRenderCalculator%2C%0A%20%20%20%20scrollbarCompensation%20%3D%200%2C%0A%20%20%20%20sourceInstance%20%3D%20this%2Einstance%2EcloneSource%20%3F%20this%2Einstance%2EcloneSource%20%3A%20this%2Einstance%2C%0A%20%20%20%20mainHolder%20%3D%20sourceInstance%2EwtTable%2Eholder%2C%0A%20%20%20%20trimmingContainer%20%3D%20Handsontable%2EDom%2EgetTrimmingContainer%28sourceInstance%2EwtTable%2ETABLE%29%3B%0A%0A%20%20if%28mainHolder%2EoffsetHeight%20%3C%20mainHolder%2EscrollHeight%29%20%7B%0A%20%20%20%20scrollbarCompensation%20%3D%20Handsontable%2EDom%2EgetScrollbarWidth%28%29%3B%0A%20%20%7D%0A%0A%20%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2ErefreshStretching%28this%2Einstance%2EwtViewport%2EgetViewportWidth%28%29%20%2D%20scrollbarCompensation%29%3B%0A%20%20%2F%2Fthis%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2ErefreshStretching%28this%2Einstance%2EwtViewport%2EgetViewportWidth%28%29%29%3B%0A%0A%20%20for%20%28var%20renderedColIndex%20%3D%200%3B%20renderedColIndex%20%3C%20columnsToRender%3B%20renderedColIndex%2B%2B%29%20%7B%0A%20%20%20%20width%20%3D%20this%2EwtTable%2EgetStretchedColumnWidth%28this%2EcolumnFilter%2ErenderedToSource%28renderedColIndex%29%29%3B%0A%20%20%20%20this%2ECOLGROUP%2EchildNodes%5BrenderedColIndex%20%2B%20this%2ErowHeaderCount%5D%2Estyle%2Ewidth%20%3D%20width%20%2B%20%27px%27%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2EappendToTbody%20%3D%20function%20%28TR%29%20%7B%0A%20%20this%2ETBODY%2EappendChild%28TR%29%3B%0A%20%20this%2EwtTable%2EtbodyChildrenLength%2B%2B%3B%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2EgetOrCreateTrForRow%20%3D%20function%20%28rowIndex%2C%20currentTr%29%20%7B%0A%20%20var%20TR%3B%0A%0A%20%20if%20%28rowIndex%20%3E%3D%20this%2EwtTable%2EtbodyChildrenLength%29%20%7B%0A%20%20%20%20TR%20%3D%20this%2EcreateRow%28%29%3B%0A%20%20%20%20this%2EappendToTbody%28TR%29%3B%0A%20%20%7D%20else%20if%20%28rowIndex%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20TR%20%3D%20this%2ETBODY%2EfirstChild%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20TR%20%3D%20currentTr%2EnextSibling%3B%20%2F%2Fhttp%3A%2F%2Fjsperf%2Ecom%2Fnextsibling%2Dvs%2Dindexed%2Dchildnodes%0A%20%20%7D%0A%0A%20%20return%20TR%3B%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2EcreateRow%20%3D%20function%20%28%29%20%7B%0A%20%20var%20TR%20%3D%20document%2EcreateElement%28%27TR%27%29%3B%0A%20%20for%20%28var%20visibleColIndex%20%3D%200%3B%20visibleColIndex%20%3C%20this%2ErowHeaderCount%3B%20visibleColIndex%2B%2B%29%20%7B%0A%20%20%20%20TR%2EappendChild%28document%2EcreateElement%28%27TH%27%29%29%3B%0A%20%20%7D%0A%0A%20%20return%20TR%3B%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2ErenderRowHeader%20%3D%20function%28row%2C%20col%2C%20TH%29%7B%0A%20%20TH%2EclassName%20%3D%20%27%27%3B%0A%20%20TH%2EremoveAttribute%28%27style%27%29%3B%0A%20%20this%2ErowHeaders%5Bcol%5D%28row%2C%20TH%2C%20col%29%3B%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2ErenderRowHeaders%20%3D%20function%20%28row%2C%20TR%29%20%7B%0A%20%20for%20%28var%20TH%20%3D%20TR%2EfirstChild%2C%20visibleColIndex%20%3D%200%3B%20visibleColIndex%20%3C%20this%2ErowHeaderCount%3B%20visibleColIndex%2B%2B%29%20%7B%0A%0A%20%20%20%20%2F%2FIf%20the%20number%20of%20row%20headers%20increased%20we%20need%20to%20create%20TH%20or%20replace%20an%20existing%20TD%20node%20with%20TH%0A%20%20%20%20if%20%28%21TH%29%20%7B%0A%20%20%20%20%20%20TH%20%3D%20document%2EcreateElement%28%27TH%27%29%3B%0A%20%20%20%20%20%20TR%2EappendChild%28TH%29%3B%0A%20%20%20%20%7D%20else%20if%20%28TH%2EnodeName%20%3D%3D%20%27TD%27%29%20%7B%0A%20%20%20%20%20%20TH%20%3D%20this%2Eutils%2EreplaceTdWithTh%28TH%2C%20TR%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20this%2ErenderRowHeader%28row%2C%20visibleColIndex%2C%20TH%29%3B%0A%20%20%20%20TH%20%3D%20TH%2EnextSibling%3B%20%2F%2Fhttp%3A%2F%2Fjsperf%2Ecom%2Fnextsibling%2Dvs%2Dindexed%2Dchildnodes%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Adjust%20the%20number%20of%20COL%20and%20TH%20elements%20to%20match%20the%20number%20of%20columns%20and%20headers%20that%20need%20to%20be%20rendered%0A%20%2A%2F%0AWalkontableTableRenderer%2Eprototype%2EadjustAvailableNodes%20%3D%20function%20%28%29%20%7B%0A%20%20%2F%2Fadjust%20COLGROUP%0A%20%20this%2EadjustColGroups%28%29%3B%0A%0A%20%20%2F%2Fadjust%20THEAD%0A%20%20this%2EadjustThead%28%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Renders%20the%20column%20headers%0A%20%2A%2F%0AWalkontableTableRenderer%2Eprototype%2ErenderColumnHeaders%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28%21this%2EcolumnHeaderCount%29%20%7B%0A%20%20%20%20return%3B%0A%20%20%7D%0A%0A%20%20var%20columnCount%20%3D%20this%2EwtTable%2EgetRenderedColumnsCount%28%29%2C%0A%20%20%20%20TR%2C%0A%20%20%20%20renderedColumnIndex%3B%0A%0A%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20this%2EcolumnHeaderCount%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20TR%20%3D%20this%2EgetTrForColumnHeaders%28i%29%3B%0A%0A%20%20%20%20for%20%28renderedColumnIndex%20%3D%20%28%2D1%29%20%2A%20this%2ErowHeaderCount%3B%20renderedColumnIndex%20%3C%20columnCount%3B%20renderedColumnIndex%2B%2B%29%20%7B%0A%20%20%20%20%20%20var%20sourceCol%20%3D%20this%2EcolumnFilter%2ErenderedToSource%28renderedColumnIndex%29%3B%0A%20%20%20%20%20%20this%2ErenderColumnHeader%28i%2C%20sourceCol%2C%20TR%2EchildNodes%5BrenderedColumnIndex%20%2B%20this%2ErowHeaderCount%5D%29%3B%0A%0A%20%20%20%20%20%20if%28%21this%2EwtTable%2EisWorkingOnClone%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EmarkIfOversizedColumnHeader%28renderedColumnIndex%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Adjusts%20the%20number%20of%20COL%20elements%20to%20match%20the%20number%20of%20columns%20that%20need%20to%20be%20rendered%0A%20%2A%2F%0AWalkontableTableRenderer%2Eprototype%2EadjustColGroups%20%3D%20function%20%28%29%20%7B%0A%20%20var%20columnCount%20%3D%20this%2EwtTable%2EgetRenderedColumnsCount%28%29%3B%0A%0A%20%20%2F%2Fadjust%20COLGROUP%0A%20%20while%20%28this%2EwtTable%2EcolgroupChildrenLength%20%3C%20columnCount%20%2B%20this%2ErowHeaderCount%29%20%7B%0A%20%20%20%20this%2ECOLGROUP%2EappendChild%28document%2EcreateElement%28%27COL%27%29%29%3B%0A%20%20%20%20this%2EwtTable%2EcolgroupChildrenLength%2B%2B%3B%0A%20%20%7D%0A%20%20while%20%28this%2EwtTable%2EcolgroupChildrenLength%20%3E%20columnCount%20%2B%20this%2ErowHeaderCount%29%20%7B%0A%20%20%20%20this%2ECOLGROUP%2EremoveChild%28this%2ECOLGROUP%2ElastChild%29%3B%0A%20%20%20%20this%2EwtTable%2EcolgroupChildrenLength%2D%2D%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Adjusts%20the%20number%20of%20TH%20elements%20in%20THEAD%20to%20match%20the%20number%20of%20headers%20and%20columns%20that%20need%20to%20be%20rendered%0A%20%2A%2F%0AWalkontableTableRenderer%2Eprototype%2EadjustThead%20%3D%20function%20%28%29%20%7B%0A%20%20var%20columnCount%20%3D%20this%2EwtTable%2EgetRenderedColumnsCount%28%29%3B%0A%20%20var%20TR%20%3D%20this%2ETHEAD%2EfirstChild%3B%0A%20%20if%20%28this%2EcolumnHeaders%2Elength%29%20%7B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%2C%20columnHeadersLength%20%3D%20this%2EcolumnHeaders%2Elength%3B%20i%20%3C%20columnHeadersLength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20TR%20%3D%20this%2ETHEAD%2EchildNodes%5Bi%5D%3B%0A%20%20%20%20%20%20if%20%28%21TR%29%20%7B%0A%20%20%20%20%20%20%20%20TR%20%3D%20document%2EcreateElement%28%27TR%27%29%3B%0A%20%20%20%20%20%20%20%20this%2ETHEAD%2EappendChild%28TR%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this%2EtheadChildrenLength%20%3D%20TR%2EchildNodes%2Elength%3B%0A%20%20%20%20%20%20while%20%28this%2EtheadChildrenLength%20%3C%20columnCount%20%2B%20this%2ErowHeaderCount%29%20%7B%0A%20%20%20%20%20%20%20%20TR%2EappendChild%28document%2EcreateElement%28%27TH%27%29%29%3B%0A%20%20%20%20%20%20%20%20this%2EtheadChildrenLength%2B%2B%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20while%20%28this%2EtheadChildrenLength%20%3E%20columnCount%20%2B%20this%2ErowHeaderCount%29%20%7B%0A%20%20%20%20%20%20%20%20TR%2EremoveChild%28TR%2ElastChild%29%3B%0A%20%20%20%20%20%20%20%20this%2EtheadChildrenLength%2D%2D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20theadChildrenLength%20%3D%20this%2ETHEAD%2EchildNodes%2Elength%3B%0A%20%20%20%20if%28theadChildrenLength%20%3E%20this%2EcolumnHeaders%2Elength%29%20%7B%0A%20%20%20%20%20%20for%28var%20i%20%3D%20this%2EcolumnHeaders%2Elength%3B%20i%20%3C%20theadChildrenLength%3B%20i%2B%2B%20%29%20%7B%0A%20%20%20%20%20%20%20%20this%2ETHEAD%2EremoveChild%28this%2ETHEAD%2ElastChild%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%20else%20if%20%28TR%29%20%7B%0A%20%20%20%20Handsontable%2EDom%2Eempty%28TR%29%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2EgetTrForColumnHeaders%20%3D%20function%20%28index%29%20%7B%0A%20%20var%20TR%20%3D%20this%2ETHEAD%2EchildNodes%5Bindex%5D%3B%0A%20%20return%20TR%3B%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2ErenderColumnHeader%20%3D%20function%20%28row%2C%20col%2C%20TH%29%20%7B%0A%20%20TH%2EclassName%20%3D%20%27%27%3B%0A%20%20TH%2EremoveAttribute%28%27style%27%29%3B%0A%20%20return%20this%2EcolumnHeaders%5Brow%5D%28col%2C%20TH%2C%20row%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Assign%20the%20row%20header%20classnames%20to%20the%20columns%20being%20row%20headers%0A%20%2A%2F%0AWalkontableTableRenderer%2Eprototype%2ErenderColGroups%20%3D%20function%20%28%29%20%7B%0A%20%20for%20%28var%20colIndex%20%3D%200%3B%20colIndex%20%3C%20this%2EwtTable%2EcolgroupChildrenLength%3B%20colIndex%2B%2B%29%20%7B%0A%20%20%20%20if%20%28colIndex%20%3C%20this%2ErowHeaderCount%29%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EaddClass%28this%2ECOLGROUP%2EchildNodes%5BcolIndex%5D%2C%20%27rowHeader%27%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20Handsontable%2EDom%2EremoveClass%28this%2ECOLGROUP%2EchildNodes%5BcolIndex%5D%2C%20%27rowHeader%27%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Add%20and%2For%20remove%20the%20TDs%20to%20match%20the%20desired%20number%0A%20%2A%20%40param%20TR%20%7BHTMLElement%7D%20Table%20row%20in%20question%0A%20%2A%20%40param%20desiredCount%20%7BNumber%7D%20The%20desired%20number%20of%20TDs%20in%20the%20TR%0A%20%2A%2F%0AWalkontableTableRenderer%2Eprototype%2EadjustColumns%20%3D%20function%20%28TR%2C%20desiredCount%29%20%7B%0A%20%20var%20count%20%3D%20TR%2EchildNodes%2Elength%3B%0A%20%20while%20%28count%20%3C%20desiredCount%29%20%7B%0A%20%20%20%20var%20TD%20%3D%20document%2EcreateElement%28%27TD%27%29%3B%0A%20%20%20%20TR%2EappendChild%28TD%29%3B%0A%20%20%20%20count%2B%2B%3B%0A%20%20%7D%0A%20%20while%20%28count%20%3E%20desiredCount%29%20%7B%0A%20%20%20%20TR%2EremoveChild%28TR%2ElastChild%29%3B%0A%20%20%20%20count%2D%2D%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eprototype%2EremoveRedundantColumns%20%3D%20function%20%28columnsToRender%29%20%7B%0A%20%20while%20%28this%2EwtTable%2EtbodyChildrenLength%20%3E%20columnsToRender%29%20%7B%0A%20%20%20%20this%2ETBODY%2EremoveChild%28this%2ETBODY%2ElastChild%29%3B%0A%20%20%20%20this%2EwtTable%2EtbodyChildrenLength%2D%2D%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%0A%20Helper%20functions%2C%20which%20does%20not%20have%20any%20side%20effects%0A%20%2A%2F%0AWalkontableTableRenderer%2Eutils%20%3D%20%7B%7D%3B%0A%0AWalkontableTableRenderer%2Eutils%2EreplaceTdWithTh%20%3D%20function%20%28TD%2C%20TR%29%20%7B%0A%20%20var%20TH%3B%0A%20%20TH%20%3D%20document%2EcreateElement%28%27TH%27%29%3B%0A%20%20TR%2EinsertBefore%28TH%2C%20TD%29%3B%0A%20%20TR%2EremoveChild%28TD%29%3B%0A%0A%20%20return%20TH%3B%0A%7D%3B%0A%0AWalkontableTableRenderer%2Eutils%2EreplaceThWithTd%20%3D%20function%20%28TH%2C%20TR%29%20%7B%0A%20%20var%20TD%20%3D%20document%2EcreateElement%28%27TD%27%29%3B%0A%20%20TR%2EinsertBefore%28TD%2C%20TH%29%3B%0A%20%20TR%2EremoveChild%28TH%29%3B%0A%0A%20%20return%20TD%3B%0A%7D%3B%0A%0A%0A%0Afunction%20WalkontableViewport%28instance%29%20%7B%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20this%2EoversizedRows%20%3D%20%5B%5D%3B%0A%20%20this%2EoversizedCols%20%3D%20%5B%5D%3B%0A%20%20this%2EoversizedColumnHeaders%20%3D%20%5B%5D%3B%0A%0A%20%20var%20that%20%3D%20this%3B%0A%0A%20%20var%20eventManager%20%3D%20Handsontable%2EeventManager%28instance%29%3B%0A%20%20eventManager%2EaddEventListener%28window%2C%27resize%27%2Cfunction%20%28%29%20%7B%0A%20%20%20%20that%2EclientHeight%20%3D%20that%2EgetWorkspaceHeight%28%29%3B%0A%20%20%7D%29%3B%0A%7D%0A%0AWalkontableViewport%2Eprototype%2EgetWorkspaceHeight%20%3D%20function%20%28%29%20%7B%0A%20%20%2F%2Fvar%20scrollHandler%20%3D%20this%2Einstance%2EwtOverlays%2EtopOverlay%2EscrollHandler%3B%0A%20%20var%20trimmingContainer%20%3D%20this%2Einstance%2EwtOverlays%2EtopOverlay%2EtrimmingContainer%3B%0A%0A%20%20if%20%28trimmingContainer%20%3D%3D%3D%20window%29%20%7B%0A%20%20%20%20return%20document%2EdocumentElement%2EclientHeight%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20var%20elemHeight%20%3D%20Handsontable%2EDom%2EouterHeight%28trimmingContainer%29%3B%0A%20%20%20%20var%20height%20%3D%20%28elemHeight%20%3E%200%20%26%26%20trimmingContainer%2EclientHeight%20%3E%200%29%20%3F%20trimmingContainer%2EclientHeight%20%3A%20Infinity%3B%20%2F%2Freturns%20height%20without%20DIV%20scrollbar%0A%20%20%20%20return%20height%3B%0A%20%20%7D%0A%7D%3B%0A%0A%0AWalkontableViewport%2Eprototype%2EgetWorkspaceWidth%20%3D%20function%20%28%29%20%7B%0A%20%20var%20width%2C%0A%20%20%20%20totalColumns%20%3D%20this%2Einstance%2EgetSetting%28%22totalColumns%22%29%2C%0A%20%20%20%20trimmingContainer%20%3D%20this%2Einstance%2EwtOverlays%2EleftOverlay%2EtrimmingContainer%2C%0A%20%20%20%20overflow%2C%0A%20%20%20%20stretchSetting%20%3D%20this%2Einstance%2EgetSetting%28%27stretchH%27%29%3B%0A%0A%20%20if%28Handsontable%2EfreezeOverlays%29%20%7B%0A%20%20%20%20width%20%3D%20Math%2Emin%28document%2EdocumentElement%2EoffsetWidth%20%2D%20this%2EgetWorkspaceOffset%28%29%2Eleft%2C%20document%2EdocumentElement%2EoffsetWidth%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20width%20%3D%20Math%2Emin%28this%2EgetContainerFillWidth%28%29%2C%20document%2EdocumentElement%2EoffsetWidth%20%2D%20this%2EgetWorkspaceOffset%28%29%2Eleft%2C%20document%2EdocumentElement%2EoffsetWidth%29%3B%0A%20%20%7D%0A%0A%20%20if%20%28trimmingContainer%20%3D%3D%3D%20window%20%26%26%20totalColumns%20%3E%200%20%26%26%20this%2EsumColumnWidths%280%2C%20totalColumns%20%2D%201%29%20%3E%20width%29%20%7B%0A%20%20%20%20%2F%2Fin%20case%20sum%20of%20column%20widths%20is%20higher%20than%20available%20stylesheet%20width%2C%20let%27s%20assume%20using%20the%20whole%20window%0A%20%20%20%20%2F%2Fotherwise%20continue%20below%2C%20which%20will%20allow%20stretching%0A%20%20%20%20%2F%2Fthis%20is%20used%20in%20%60scroll%5Fwindow%2Ehtml%60%0A%20%20%20%20%2F%2FTODO%20test%20me%0A%20%20%20%20return%20document%2EdocumentElement%2EclientWidth%3B%0A%20%20%7D%0A%0A%20%20if%20%28trimmingContainer%20%21%3D%3D%20window%29%7B%0A%20%20%20%20%20%20overflow%20%3D%20this%2Einstance%2EwtOverlays%2EleftOverlay%2EtrimmingContainer%2Estyle%2Eoverflow%3B%0A%0A%20%20%20%20if%20%28overflow%20%3D%3D%20%22scroll%22%20%7C%7C%20overflow%20%3D%3D%20%22hidden%22%20%7C%7C%20overflow%20%3D%3D%20%22auto%22%29%20%7B%0A%20%20%20%20%20%20%2F%2Fthis%20is%20used%20in%20%60scroll%2Ehtml%60%0A%20%20%20%20%20%20%2F%2FTODO%20test%20me%0A%20%20%20%20%20%20return%20Math%2Emax%28width%2C%20trimmingContainer%2EclientWidth%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%28stretchSetting%20%3D%3D%3D%20%27none%27%20%7C%7C%20%21stretchSetting%29%20%7B%0A%20%20%20%20%2F%2F%20if%20no%20stretching%20is%20used%2C%20return%20the%20maximum%20used%20workspace%20width%0A%20%20%20%20return%20Math%2Emax%28width%2C%20Handsontable%2EDom%2EouterWidth%28this%2Einstance%2EwtTable%2ETABLE%29%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20%2F%2F%20if%20stretching%20is%20used%2C%20return%20the%20actual%20container%20width%2C%20so%20the%20columns%20can%20fit%20inside%20it%0A%20%20%20%20return%20width%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableViewport%2Eprototype%2EsumColumnWidths%20%3D%20function%20%28from%2C%20length%29%20%7B%0A%20%20var%20sum%20%3D%200%3B%0A%20%20while%28from%20%3C%20length%29%20%7B%0A%20%20%20%20sum%20%2B%3D%20this%2Einstance%2EwtTable%2EgetColumnWidth%28from%29%20%7C%7C%20this%2Einstance%2EwtSettings%2EdefaultColumnWidth%3B%0A%20%20%20%20from%2B%2B%3B%0A%20%20%7D%0A%20%20return%20sum%3B%0A%7D%3B%0AWalkontableViewport%2Eprototype%2EgetContainerFillWidth%20%3D%20function%28%29%20%7B%0A%0A%20%20if%28this%2EcontainerWidth%29%20%7B%0A%20%20%20%20return%20this%2EcontainerWidth%3B%0A%20%20%7D%0A%0A%20%20var%20mainContainer%20%3D%20this%2Einstance%2EwtTable%2Eholder%2C%0A%20%20%20%20%20%20fillWidth%2C%0A%20%20%20%20%20%20dummyElement%3B%0A%0A%20%20%2F%2Fwhile%28mainContainer%2EparentNode%20%21%3D%20document%2Ebody%20%26%26%20mainContainer%2EparentNode%20%21%3D%20null%20%26%26%20mainContainer%2EclassName%2EindexOf%28%27handsontable%27%29%20%3D%3D%3D%20%2D1%29%20%7B%0A%20%20%2F%2F%20%20mainContainer%20%3D%20mainContainer%2EparentNode%3B%0A%20%20%2F%2F%7D%0A%0A%20%20dummyElement%20%3D%20document%2EcreateElement%28%22DIV%22%29%3B%0A%20%20dummyElement%2Estyle%2Ewidth%20%3D%20%22100%25%22%3B%0A%20%20dummyElement%2Estyle%2Eheight%20%3D%20%221px%22%3B%0A%20%20mainContainer%2EappendChild%28dummyElement%29%3B%0A%20%20fillWidth%20%3D%20dummyElement%2EoffsetWidth%3B%0A%0A%20%20this%2EcontainerWidth%20%3D%20fillWidth%3B%0A%0A%20%20mainContainer%2EremoveChild%28dummyElement%29%3B%0A%0A%20%20return%20fillWidth%3B%0A%7D%3B%0A%0AWalkontableViewport%2Eprototype%2EgetWorkspaceOffset%20%3D%20function%20%28%29%20%7B%0A%20%20return%20Handsontable%2EDom%2Eoffset%28this%2Einstance%2EwtTable%2ETABLE%29%3B%0A%7D%3B%0A%0AWalkontableViewport%2Eprototype%2EgetWorkspaceActualHeight%20%3D%20function%20%28%29%20%7B%0A%20%20return%20Handsontable%2EDom%2EouterHeight%28this%2Einstance%2EwtTable%2ETABLE%29%3B%0A%7D%3B%0A%0AWalkontableViewport%2Eprototype%2EgetWorkspaceActualWidth%20%3D%20function%20%28%29%20%7B%0A%20%20return%20Handsontable%2EDom%2EouterWidth%28this%2Einstance%2EwtTable%2ETABLE%29%20%7C%7C%0A%20%20%20%20Handsontable%2EDom%2EouterWidth%28this%2Einstance%2EwtTable%2ETBODY%29%20%7C%7C%0A%20%20%20%20Handsontable%2EDom%2EouterWidth%28this%2Einstance%2EwtTable%2ETHEAD%29%3B%20%2F%2FIE8%20reports%200%20as%20%3Ctable%3E%20offsetWidth%3B%0A%7D%3B%0A%0AWalkontableViewport%2Eprototype%2EgetColumnHeaderHeight%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28isNaN%28this%2EcolumnHeaderHeight%29%29%20%7B%0A%20%20%20%20this%2EcolumnHeaderHeight%20%3D%20Handsontable%2EDom%2EouterHeight%28this%2Einstance%2EwtTable%2ETHEAD%29%3B%0A%20%20%7D%0A%20%20return%20this%2EcolumnHeaderHeight%3B%0A%7D%3B%0A%0AWalkontableViewport%2Eprototype%2EgetViewportHeight%20%3D%20function%20%28%29%20%7B%0A%0A%20%20var%20containerHeight%20%3D%20this%2EgetWorkspaceHeight%28%29%3B%0A%0A%20%20if%20%28containerHeight%20%3D%3D%3D%20Infinity%29%20%7B%0A%20%20%20%20return%20containerHeight%3B%0A%20%20%7D%0A%0A%20%20var%20columnHeaderHeight%20%3D%20this%2EgetColumnHeaderHeight%28%29%3B%0A%20%20if%20%28columnHeaderHeight%20%3E%200%29%20%7B%0A%20%20%20%20containerHeight%20%2D%3D%20columnHeaderHeight%3B%0A%20%20%7D%0A%0A%20%20return%20containerHeight%3B%0A%0A%7D%3B%0A%0AWalkontableViewport%2Eprototype%2EgetRowHeaderWidth%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28this%2Einstance%2EcloneSource%29%20%7B%0A%20%20%20%20return%20this%2Einstance%2EcloneSource%2EwtViewport%2EgetRowHeaderWidth%28%29%3B%0A%20%20%7D%0A%20%20if%20%28isNaN%28this%2ErowHeaderWidth%29%29%20%7B%0A%20%20%20%20var%20rowHeaders%20%3D%20this%2Einstance%2EgetSetting%28%27rowHeaders%27%29%3B%0A%20%20%20%20if%20%28rowHeaders%2Elength%29%20%7B%0A%20%20%20%20%20%20var%20TH%20%3D%20this%2Einstance%2EwtTable%2ETABLE%2EquerySelector%28%27TH%27%29%3B%0A%20%20%20%20%20%20this%2ErowHeaderWidth%20%3D%200%3B%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20ilen%20%3D%20rowHeaders%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28TH%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2ErowHeaderWidth%20%2B%3D%20Handsontable%2EDom%2EouterWidth%28TH%29%3B%0A%20%20%20%20%20%20%20%20%20%20TH%20%3D%20TH%2EnextSibling%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20this%2ErowHeaderWidth%20%2B%3D%2050%3B%20%2F%2Fyes%20this%20is%20a%20cheat%20but%20it%20worked%20like%20that%20before%2C%20just%20taking%20assumption%20from%20CSS%20instead%20of%20measuring%2E%20TODO%3A%20proper%20fix%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20this%2ErowHeaderWidth%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20this%2ErowHeaderWidth%3B%0A%7D%3B%0A%0A%2F%2F%20Viewport%20width%20%3D%20Workspace%20width%20%2D%20Row%20Headers%20width%0AWalkontableViewport%2Eprototype%2EgetViewportWidth%20%3D%20function%20%28%29%20%7B%0A%20%20var%20containerWidth%20%3D%20this%2EgetWorkspaceWidth%28%29%2C%0A%20%20%20%20rowHeaderWidth%3B%0A%0A%20%20if%20%28containerWidth%20%3D%3D%3D%20Infinity%29%20%7B%0A%20%20%20%20return%20containerWidth%3B%0A%20%20%7D%0A%20%20rowHeaderWidth%20%3D%20this%2EgetRowHeaderWidth%28%29%3B%0A%0A%20%20if%20%28rowHeaderWidth%20%3E%200%29%20%7B%0A%20%20%20%20return%20containerWidth%20%2D%20rowHeaderWidth%3B%0A%20%20%7D%0A%0A%20%20return%20containerWidth%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Creates%3A%0A%20%2A%20%20%2D%20rowsRenderCalculator%20%28before%20draw%2C%20to%20qualify%20rows%20for%20rendering%29%0A%20%2A%20%20%2D%20rowsVisibleCalculator%20%28after%20draw%2C%20to%20measure%20which%20rows%20are%20actually%20visible%29%0A%20%2A%0A%20%2A%20%40returns%20%7BWalkontableViewportRowsCalculator%7D%0A%20%2A%2F%0AWalkontableViewport%2Eprototype%2EcreateRowsCalculator%20%3D%20function%20%28visible%29%20%7B%0A%20%20this%2ErowHeaderWidth%20%3D%20NaN%3B%0A%20%20var%20height%3B%0A%0A%20%20if%20%28this%2Einstance%2EwtSettings%2Esettings%2ErenderAllRows%29%20%7B%0A%20%20%20%20height%20%3D%20Infinity%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20height%20%3D%20this%2EgetViewportHeight%28%29%3B%0A%20%20%7D%0A%0A%20%20var%20pos%20%3D%20Handsontable%2EDom%2EgetScrollTop%28this%2Einstance%2EwtOverlays%2EmainTableScrollableElement%29%20%2D%20this%2Einstance%2EwtOverlays%2EtopOverlay%2EgetTableParentOffset%28%29%3B%0A%20%20if%20%28pos%20%3C%200%29%20%7B%0A%20%20%20%20pos%20%3D%200%3B%0A%20%20%7D%0A%0A%20%20var%20fixedRowsTop%20%3D%20this%2Einstance%2EgetSetting%28%27fixedRowsTop%27%29%3B%0A%20%20if%28fixedRowsTop%29%20%7B%0A%20%20%20%20var%20fixedRowsHeight%20%3D%20this%2Einstance%2EwtOverlays%2EtopOverlay%2EsumCellSizes%280%2C%20fixedRowsTop%29%3B%0A%20%20%20%20pos%20%2B%3D%20fixedRowsHeight%3B%0A%20%20%20%20height%20%2D%3D%20fixedRowsHeight%3B%0A%20%20%7D%0A%0A%20%20var%20that%20%3D%20this%3B%0A%20%20return%20new%20WalkontableViewportRowsCalculator%28%0A%20%20%20%20height%2C%0A%20%20%20%20pos%2C%0A%20%20%20%20this%2Einstance%2EgetSetting%28%27totalRows%27%29%2C%0A%20%20%20%20function%28sourceRow%29%20%7B%0A%20%20%20%20%20%20return%20that%2Einstance%2EwtTable%2EgetRowHeight%28sourceRow%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20visible%20%3F%20null%20%3A%20this%2Einstance%2EwtSettings%2Esettings%2EviewportRowCalculatorOverride%2C%0A%20%20%20%20visible%20%3F%20true%20%3A%20false%0A%20%20%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Creates%3A%0A%20%2A%20%20%2D%20columnsRenderCalculator%20%28before%20draw%2C%20to%20qualify%20columns%20for%20rendering%29%0A%20%2A%20%20%2D%20columnsVisibleCalculator%20%28after%20draw%2C%20to%20measure%20which%20columns%20are%20actually%20visible%29%0A%20%2A%0A%20%2A%20%40returns%20%7BWalkontableViewportRowsCalculator%7D%0A%20%2A%2F%0AWalkontableViewport%2Eprototype%2EcreateColumnsCalculator%20%3D%20function%20%28visible%29%20%7B%0A%20%20this%2EcolumnHeaderHeight%20%3D%20NaN%3B%0A%0A%20%20var%20width%20%3D%20this%2EgetViewportWidth%28%29%3B%0A%0A%20%20var%20pos%20%3D%20this%2Einstance%2EwtOverlays%2EleftOverlay%2EgetScrollPosition%28%29%20%2D%20this%2Einstance%2EwtOverlays%2EtopOverlay%2EgetTableParentOffset%28%29%3B%0A%20%20if%20%28pos%20%3C%200%29%20%7B%0A%20%20%20%20pos%20%3D%200%3B%0A%20%20%7D%0A%0A%20%20var%20fixedColumnsLeft%20%3D%20this%2Einstance%2EgetSetting%28%27fixedColumnsLeft%27%29%3B%0A%20%20if%28fixedColumnsLeft%29%20%7B%0A%20%20%20%20var%20fixedColumnsWidth%20%3D%20this%2Einstance%2EwtOverlays%2EleftOverlay%2EsumCellSizes%280%2C%20fixedColumnsLeft%29%3B%0A%20%20%20%20pos%20%2B%3D%20fixedColumnsWidth%3B%0A%20%20%20%20width%20%2D%3D%20fixedColumnsWidth%3B%0A%20%20%7D%0A%0A%20%20if%28this%2Einstance%2EwtTable%2Eholder%2EclientWidth%20%21%3D%3D%20this%2Einstance%2EwtTable%2Eholder%2EoffsetWidth%29%20%7B%0A%20%20%20%20width%20%2D%3D%20Handsontable%2EDom%2EgetScrollbarWidth%28%29%3B%0A%20%20%7D%0A%0A%20%20var%20that%20%3D%20this%3B%0A%20%20return%20new%20WalkontableViewportColumnsCalculator%28%0A%20%20%20%20width%2C%0A%20%20%20%20pos%2C%0A%20%20%20%20this%2Einstance%2EgetSetting%28%27totalColumns%27%29%2C%0A%20%20%20%20function%20%28sourceCol%29%20%7B%0A%20%20%20%20%20%20return%20that%2Einstance%2EwtTable%2EgetColumnWidth%28sourceCol%29%3B%0A%20%20%20%20%7D%2C%0A%20%20%20%20visible%20%3F%20null%20%3A%20this%2Einstance%2EwtSettings%2Esettings%2EviewportColumnCalculatorOverride%2C%0A%20%20%20%20visible%20%3F%20true%20%3A%20false%2C%0A%20%20%20%20this%2Einstance%2EgetSetting%28%27stretchH%27%29%0A%20%20%29%3B%0A%7D%3B%0A%0A%0A%2F%2A%2A%0A%20%2A%20Creates%20rowsRenderCalculator%20and%20columnsRenderCalculator%20%28before%20draw%2C%20to%20determine%20what%20rows%20and%20cols%20should%20be%20rendered%29%0A%20%2A%0A%20%2A%20%40param%20fastDraw%20%7BBoolean%7D%20If%20TRUE%2C%20will%20try%20to%20avoid%20full%20redraw%20and%20only%20update%20the%20border%20positions%2E%20If%20FALSE%20or%20UNDEFINED%2C%20will%20perform%20a%20full%20redraw%0A%20%2A%20%40returns%20fastDraw%20%7BBoolean%7D%20The%20fastDraw%20value%2C%20possibly%20modified%0A%20%2A%2F%0AWalkontableViewport%2Eprototype%2EcreateRenderCalculators%20%3D%20function%20%28fastDraw%29%20%7B%0A%20%20if%20%28fastDraw%29%20%7B%0A%20%20%20%20var%20proposedRowsVisibleCalculator%20%3D%20this%2EcreateRowsCalculator%28true%29%3B%0A%20%20%20%20var%20proposedColumnsVisibleCalculator%20%3D%20this%2EcreateColumnsCalculator%28true%29%3B%0A%20%20%20%20if%20%28%21%28this%2EareAllProposedVisibleRowsAlreadyRendered%28proposedRowsVisibleCalculator%29%20%26%26%20this%2EareAllProposedVisibleColumnsAlreadyRendered%28proposedColumnsVisibleCalculator%29%20%29%20%29%20%7B%0A%20%20%20%20%20%20fastDraw%20%3D%20false%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%28%21fastDraw%29%20%7B%0A%20%20%20%20this%2ErowsRenderCalculator%20%3D%20this%2EcreateRowsCalculator%28%29%3B%0A%20%20%20%20this%2EcolumnsRenderCalculator%20%3D%20this%2EcreateColumnsCalculator%28%29%3B%0A%20%20%7D%0A%0A%20%20this%2ErowsVisibleCalculator%20%3D%20null%3B%20%2F%2Fdelete%20temporarily%20to%20make%20sure%20that%20renderers%20always%20use%20rowsRenderCalculator%2C%20not%20rowsVisibleCalculator%0A%20%20this%2EcolumnsVisibleCalculator%20%3D%20null%3B%0A%0A%20%20return%20fastDraw%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Creates%20rowsVisibleCalculator%20and%20columnsVisibleCalculator%20%28after%20draw%2C%20to%20determine%20what%20are%20the%20actually%20visible%20rows%20and%20columns%29%0A%20%2A%2F%0AWalkontableViewport%2Eprototype%2EcreateVisibleCalculators%20%3D%20function%20%28%29%20%7B%0A%20%20this%2ErowsVisibleCalculator%20%3D%20this%2EcreateRowsCalculator%28true%29%3B%0A%20%20this%2EcolumnsVisibleCalculator%20%3D%20this%2EcreateColumnsCalculator%28true%29%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20information%20whether%20proposedRowsVisibleCalculator%20viewport%0A%20%2A%20is%20contained%20inside%20rows%20rendered%20in%20previous%20draw%20%28cached%20in%20rowsRenderCalculator%29%0A%20%2A%0A%20%2A%20Returns%20TRUE%20if%20all%20proposed%20visible%20rows%20are%20already%20rendered%20%28meaning%3A%20redraw%20is%20not%20needed%29%0A%20%2A%20Returns%20FALSE%20if%20at%20least%20one%20proposed%20visible%20row%20is%20not%20already%20rendered%20%28meaning%3A%20redraw%20is%20needed%29%0A%20%2A%0A%20%2A%20%40returns%20%7BBoolean%7D%0A%20%2A%2F%0AWalkontableViewport%2Eprototype%2EareAllProposedVisibleRowsAlreadyRendered%20%3D%20function%20%28proposedRowsVisibleCalculator%29%20%7B%0A%20%20if%20%28this%2ErowsVisibleCalculator%29%20%7B%0A%20%20%20%20if%20%28proposedRowsVisibleCalculator%2EstartRow%20%3C%20this%2ErowsRenderCalculator%2EstartRow%20%7C%7C%0A%20%20%20%20%20%20%20%20%28proposedRowsVisibleCalculator%2EstartRow%20%3D%3D%3D%20this%2ErowsRenderCalculator%2EstartRow%20%26%26%0A%20%20%20%20%20%20%20%20proposedRowsVisibleCalculator%2EstartRow%20%3E%200%29%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28proposedRowsVisibleCalculator%2EendRow%20%3E%20this%2ErowsRenderCalculator%2EendRow%20%7C%7C%0A%20%20%20%20%20%20%20%20%28proposedRowsVisibleCalculator%2EendRow%20%3D%3D%3D%20this%2ErowsRenderCalculator%2EendRow%20%26%26%0A%20%20%20%20%20%20%20%20proposedRowsVisibleCalculator%2EendRow%20%3C%20this%2Einstance%2EgetSetting%28%27totalRows%27%29%20%2D%201%29%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20false%3B%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Returns%20information%20whether%20proposedColumnsVisibleCalculator%20viewport%0A%20%2A%20is%20contained%20inside%20column%20rendered%20in%20previous%20draw%20%28cached%20in%20columnsRenderCalculator%29%0A%20%2A%0A%20%2A%20Returns%20TRUE%20if%20all%20proposed%20visible%20columns%20are%20already%20rendered%20%28meaning%3A%20redraw%20is%20not%20needed%29%0A%20%2A%20Returns%20FALSE%20if%20at%20least%20one%20proposed%20visible%20column%20is%20not%20already%20rendered%20%28meaning%3A%20redraw%20is%20needed%29%0A%20%2A%0A%20%2A%20%40returns%20%7BBoolean%7D%0A%20%2A%2F%0AWalkontableViewport%2Eprototype%2EareAllProposedVisibleColumnsAlreadyRendered%20%3D%20function%20%28proposedColumnsVisibleCalculator%29%20%7B%0A%20%20if%20%28this%2EcolumnsVisibleCalculator%29%20%7B%0A%20%20%20%20if%20%28proposedColumnsVisibleCalculator%2EstartColumn%20%3C%20this%2EcolumnsRenderCalculator%2EstartColumn%20%7C%7C%0A%20%20%20%20%20%20%20%20%28proposedColumnsVisibleCalculator%2EstartColumn%20%3D%3D%3D%20this%2EcolumnsRenderCalculator%2EstartColumn%20%26%26%0A%20%20%20%20%20%20%20%20proposedColumnsVisibleCalculator%2EstartColumn%20%3E%200%29%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28proposedColumnsVisibleCalculator%2EendColumn%20%3E%20this%2EcolumnsRenderCalculator%2EendColumn%20%7C%7C%0A%20%20%20%20%20%20%20%20%28proposedColumnsVisibleCalculator%2EendColumn%20%3D%3D%3D%20this%2EcolumnsRenderCalculator%2EendColumn%20%26%26%0A%20%20%20%20%20%20%20%20proposedColumnsVisibleCalculator%2EendColumn%20%3C%20this%2Einstance%2EgetSetting%28%27totalColumns%27%29%20%2D%201%29%29%20%7B%0A%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20return%20false%3B%0A%7D%3B%0A%0Afunction%20WalkontableViewportColumnsCalculator%20%28width%2C%20scrollOffset%2C%20totalColumns%2C%20columnWidthFn%2C%20overrideFn%2C%20onlyFullyVisible%2C%20stretchH%29%20%7B%0A%20%20var%0A%20%20%20%20%5Fthis%20%3D%20this%2C%0A%20%20%20%20ratio%20%3D%201%2C%0A%20%20%20%20sum%20%3D%200%2C%0A%20%20%20%20needReverse%20%3D%20true%2C%0A%20%20%20%20defaultColumnWidth%20%3D%2050%2C%0A%20%20%20%20startPositions%20%3D%20%5B%5D%2C%0A%20%20%20%20getColumnWidth%2C%0A%20%20%20%20columnWidth%2C%20i%3B%0A%0A%20%20this%2EscrollOffset%20%3D%20scrollOffset%3B%0A%20%20this%2EstartColumn%20%3D%20null%3B%0A%20%20this%2EendColumn%20%3D%20null%3B%0A%20%20this%2EstartPosition%20%3D%20null%3B%0A%20%20this%2Ecount%20%3D%200%3B%0A%20%20this%2EstretchAllRatio%20%3D%200%3B%0A%20%20this%2EstretchLastWidth%20%3D%200%3B%0A%20%20this%2Estretch%20%3D%20stretchH%3B%0A%20%20this%2EtotalTargetWidth%20%3D%200%3B%0A%20%20this%2EneedVerifyLastColumnWidth%20%3D%20true%3B%0A%20%20this%2EstretchAllColumnsWidth%20%3D%20%5B%5D%3B%0A%0A%0A%20%20function%20getStretchedAllColumnWidth%28column%2C%20baseWidth%29%20%7B%0A%20%20%20%20var%20sumRatioWidth%20%3D%200%3B%0A%0A%20%20%20%20if%20%28%21%5Fthis%2EstretchAllColumnsWidth%5Bcolumn%5D%29%20%7B%0A%20%20%20%20%20%20%5Fthis%2EstretchAllColumnsWidth%5Bcolumn%5D%20%3D%20Math%2Eround%28baseWidth%20%2A%20%5Fthis%2EstretchAllRatio%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28%5Fthis%2EstretchAllColumnsWidth%2Elength%20%3D%3D%3D%20totalColumns%20%26%26%20%5Fthis%2EneedVerifyLastColumnWidth%29%20%7B%0A%20%20%20%20%20%20%5Fthis%2EneedVerifyLastColumnWidth%20%3D%20false%3B%0A%0A%20%20%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20%5Fthis%2EstretchAllColumnsWidth%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20sumRatioWidth%20%2B%3D%20%5Fthis%2EstretchAllColumnsWidth%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28sumRatioWidth%20%21%3D%20%5Fthis%2EtotalTargetWidth%29%20%7B%0A%20%20%20%20%20%20%20%20%5Fthis%2EstretchAllColumnsWidth%5B%5Fthis%2EstretchAllColumnsWidth%2Elength%20%2D%201%5D%20%2B%3D%20%5Fthis%2EtotalTargetWidth%20%2D%20sumRatioWidth%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20%5Fthis%2EstretchAllColumnsWidth%5Bcolumn%5D%3B%0A%20%20%7D%0A%0A%20%20function%20getStretchedLastColumnWidth%28column%2C%20baseWidth%29%20%7B%0A%20%20%20%20if%20%28column%20%3D%3D%3D%20totalColumns%20%2D%201%29%20%7B%0A%20%20%20%20%20%20return%20%5Fthis%2EstretchLastWidth%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20null%3B%0A%20%20%7D%0A%0A%20%20getColumnWidth%20%3D%20function%20getColumnWidth%28i%29%20%7B%0A%20%20%20%20var%20width%20%3D%20columnWidthFn%28i%29%3B%0A%0A%20%20%20%20ratio%20%3D%20ratio%20%7C%7C%201%3B%0A%0A%20%20%20%20if%20%28width%20%3D%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20width%20%3D%20defaultColumnWidth%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20width%3B%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Recalculate%20columns%20stretching%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20totalWidth%0A%20%20%20%2A%2F%0A%20%20this%2ErefreshStretching%20%3D%20function%20%28totalWidth%29%20%7B%0A%20%20%20%20var%20sumAll%20%3D%200%2C%0A%20%20%20%20%20%20columnWidth%2C%0A%20%20%20%20%20%20remainingSize%3B%0A%0A%20%20%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20totalColumns%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20columnWidth%20%3D%20getColumnWidth%28i%29%3B%0A%20%20%20%20%20%20sumAll%20%2B%3D%20columnWidth%3B%0A%20%20%20%20%7D%0A%20%20%20%20this%2EtotalTargetWidth%20%3D%20totalWidth%3B%0A%20%20%20%20remainingSize%20%3D%20sumAll%20%2D%20totalWidth%3B%0A%0A%20%20%20%20if%20%28this%2Estretch%20%3D%3D%3D%20%27all%27%20%26%26%20remainingSize%20%3C%200%29%20%7B%0A%20%20%20%20%20%20this%2EstretchAllRatio%20%3D%20totalWidth%20%2F%20sumAll%3B%0A%20%20%20%20%20%20this%2EstretchAllColumnsWidth%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20this%2EneedVerifyLastColumnWidth%20%3D%20true%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28this%2Estretch%20%3D%3D%3D%20%27last%27%20%26%26%20totalWidth%20%21%3D%3D%20Infinity%29%20%7B%0A%20%20%20%20%20%20this%2EstretchLastWidth%20%3D%20%2DremainingSize%20%2B%20getColumnWidth%28totalColumns%20%2D%201%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20%2F%2A%2A%0A%20%20%20%2A%20Get%20stretched%20column%20width%20based%20on%20stretchH%20%28all%20or%20last%29%20setting%20passed%20in%20handsontable%20instance%2E%0A%20%20%20%2A%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20column%0A%20%20%20%2A%20%40param%20%7BNumber%7D%20baseWidth%0A%20%20%20%2A%20%40returns%20%7BNumber%7Cnull%7D%0A%20%20%20%2A%2F%0A%20%20this%2EgetStretchedColumnWidth%20%3D%20function%28column%2C%20baseWidth%29%20%7B%0A%20%20%20%20var%20result%20%3D%20null%3B%0A%0A%20%20%20%20if%20%28this%2Estretch%20%3D%3D%3D%20%27all%27%20%26%26%20this%2EstretchAllRatio%20%21%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20result%20%3D%20getStretchedAllColumnWidth%28column%2C%20baseWidth%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20if%20%28this%2Estretch%20%3D%3D%3D%20%27last%27%20%26%26%20this%2EstretchLastWidth%20%21%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20result%20%3D%20getStretchedLastColumnWidth%28column%2C%20baseWidth%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20return%20result%3B%0A%20%20%7D%3B%0A%0A%0A%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20totalColumns%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20columnWidth%20%3D%20getColumnWidth%28i%29%3B%0A%0A%20%20%20%20if%20%28sum%20%3C%3D%20scrollOffset%20%26%26%20%21onlyFullyVisible%29%20%7B%0A%20%20%20%20%20%20this%2EstartColumn%20%3D%20i%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28sum%20%3E%3D%20scrollOffset%20%26%26%20sum%20%2B%20columnWidth%20%3C%3D%20scrollOffset%20%2B%20width%29%20%7B%0A%20%20%20%20%20%20if%20%28this%2EstartColumn%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EstartColumn%20%3D%20i%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this%2EendColumn%20%3D%20i%3B%0A%20%20%20%20%7D%0A%20%20%20%20startPositions%2Epush%28sum%29%3B%0A%20%20%20%20sum%20%2B%3D%20columnWidth%3B%0A%0A%20%20%20%20if%20%28%21onlyFullyVisible%29%20%7B%0A%20%20%20%20%20%20this%2EendColumn%20%3D%20i%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28sum%20%3E%3D%20scrollOffset%20%2B%20width%29%20%7B%0A%20%20%20%20%20%20needReverse%20%3D%20false%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%20%28this%2EendColumn%20%3D%3D%20totalColumns%20%2D%201%20%26%26%20needReverse%29%20%7B%0A%20%20%20%20this%2EstartColumn%20%3D%20this%2EendColumn%3B%0A%0A%20%20%20%20while%20%28this%2EstartColumn%20%3E%200%29%20%7B%0A%20%20%20%20%20%20var%20viewportSum%20%3D%20startPositions%5Bthis%2EendColumn%5D%20%2B%20columnWidth%20%2D%20startPositions%5Bthis%2EstartColumn%20%2D%201%5D%3B%0A%0A%20%20%20%20%20%20if%20%28viewportSum%20%3C%3D%20width%20%7C%7C%20%21onlyFullyVisible%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EstartColumn%2D%2D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28viewportSum%20%3E%20width%29%20%7B%0A%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%20%28this%2EstartColumn%20%21%3D%3D%20null%20%26%26%20overrideFn%29%20%7B%0A%20%20%20%20overrideFn%28this%29%3B%0A%20%20%7D%0A%20%20this%2EstartPosition%20%3D%20startPositions%5Bthis%2EstartColumn%5D%3B%0A%0A%20%20if%20%28this%2EstartPosition%20%3D%3D%20void%200%29%20%7B%0A%20%20%20%20this%2EstartPosition%20%3D%20null%3B%0A%20%20%7D%0A%20%20if%20%28this%2EstartColumn%20%21%3D%20null%29%20%7B%0A%20%20%20%20this%2Ecount%20%3D%20this%2EendColumn%20%2D%20this%2EstartColumn%20%2B%201%3B%0A%20%20%7D%0A%7D%0A%0A%0A%2F%2A%2A%0A%20%2A%20Viewport%20calculator%20constructor%2E%20Calculates%20indexes%20of%20rows%20to%20render%20OR%20rows%20that%20are%20visible%2E%0A%20%2A%20To%20redo%20the%20calculation%2C%20you%20need%20to%20create%20a%20new%20calculator%2E%0A%20%2A%0A%20%2A%20Object%20properties%3A%0A%20%2A%20%20%20this%2EscrollOffset%20%2D%20position%20of%20vertical%20scroll%20%28in%20px%29%0A%20%2A%20%20%20this%2EstartRow%20%2D%20index%20of%20the%20first%20rendered%2Fvisible%20row%20%28can%20be%20overwritten%20using%20overrideFn%29%0A%20%2A%20%20%20this%2EstartPosition%20%2D%20position%20of%20the%20first%20rendered%2Fvisible%20row%20%28in%20px%29%0A%20%2A%20%20%20this%2EendRow%20%2D%20index%20of%20the%20last%20rendered%2Fvisible%20row%20%28can%20be%20overwritten%20using%20overrideFn%29%0A%20%2A%20%20%20this%2Ecount%20%2D%20number%20of%20rendered%2Fvisible%20rows%0A%20%2A%0A%20%2A%20%40param%20height%20%2D%20height%20of%20the%20viewport%0A%20%2A%20%40param%20scrollOffset%20%2D%20current%20vertical%20scroll%20position%20of%20the%20viewport%0A%20%2A%20%40param%20totalRows%20%2D%20total%20number%20of%20rows%0A%20%2A%20%40param%20rowHeightFn%20%2D%20function%20that%20returns%20the%20height%20of%20the%20row%20at%20a%20given%20index%20%28in%20px%29%0A%20%2A%20%40param%20overrideFn%20%2D%20function%20that%20changes%20calculated%20this%2EstartRow%2C%20this%2EendRow%20%28used%20by%20mergeCells%2Ejs%20plugin%29%0A%20%2A%20%40param%20onlyFullyVisible%20%7Bbool%7D%20%2D%20if%20TRUE%2C%20only%20startRow%20and%20endRow%20will%20be%20indexes%20of%20rows%20that%20are%20FULLY%20in%20viewport%0A%20%2A%20%40constructor%0A%20%2A%20%40private%0A%20%2A%2F%0Afunction%20WalkontableViewportRowsCalculator%28height%2C%20scrollOffset%2C%20totalRows%2C%20rowHeightFn%2C%20overrideFn%2C%20onlyFullyVisible%29%20%7B%0A%20%20this%2EscrollOffset%20%3D%20scrollOffset%3B%0A%20%20this%2EstartRow%20%3D%20null%3B%0A%20%20this%2EstartPosition%20%3D%20null%3B%0A%20%20this%2EendRow%20%3D%20null%3B%0A%20%20this%2Ecount%20%3D%200%3B%0A%20%20var%20sum%20%3D%200%3B%0A%20%20var%20rowHeight%3B%0A%20%20var%20needReverse%20%3D%20true%3B%0A%20%20var%20defaultRowHeight%20%3D%2023%3B%0A%20%20var%20startPositions%20%3D%20%5B%5D%3B%0A%0A%20%20%2F%2F%20Calculate%20the%20number%20%28start%20and%20end%20index%29%20of%20rows%20needed%0A%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20totalRows%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20rowHeight%20%3D%20rowHeightFn%28i%29%3B%0A%20%20%20%20if%20%28rowHeight%20%3D%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20rowHeight%20%3D%20defaultRowHeight%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28sum%20%3C%3D%20scrollOffset%20%26%26%20%21onlyFullyVisible%29%20%7B%0A%20%20%20%20%20%20this%2EstartRow%20%3D%20i%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20the%20row%20is%20within%20the%20%22visible%20range%22%0A%20%20%20%20if%20%28sum%20%3E%3D%20scrollOffset%20%26%26%20sum%20%2B%20rowHeight%20%3C%3D%20scrollOffset%20%2B%20height%29%20%7B%0A%20%20%20%20%20%20if%20%28this%2EstartRow%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20this%2EstartRow%20%3D%20i%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20this%2EendRow%20%3D%20i%3B%0A%20%20%20%20%7D%0A%20%20%20%20startPositions%2Epush%28sum%29%3B%0A%20%20%20%20sum%20%2B%3D%20rowHeight%3B%0A%20%20%20%20if%28%21onlyFullyVisible%29%20%7B%0A%20%20%20%20%20%20this%2EendRow%20%3D%20i%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28sum%20%3E%3D%20scrollOffset%20%2B%20height%29%20%7B%0A%20%20%20%20%20%20needReverse%20%3D%20false%3B%0A%20%20%20%20%20%20break%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F%2FIf%20the%20estimation%20has%20reached%20the%20last%20row%20and%20there%20is%20still%20some%20space%20available%20in%20the%20viewport%2C%20we%20need%20to%20render%20in%20reverse%20in%20order%20to%20fill%20the%20whole%20viewport%20with%20rows%0A%20%20if%20%28this%2EendRow%20%3D%3D%20totalRows%20%2D%201%20%26%26%20needReverse%29%20%7B%0A%20%20%20%20this%2EstartRow%20%3D%20this%2EendRow%3B%0A%20%20%20%20while%28this%2EstartRow%20%3E%200%29%20%7B%0A%20%20%20%20%20%20var%20viewportSum%20%3D%20startPositions%5Bthis%2EendRow%5D%20%2B%20rowHeight%20%2D%20startPositions%5Bthis%2EstartRow%20%2D%201%5D%3B%20%2F%2FrowHeight%20is%20the%20height%20of%20the%20last%20row%0A%20%20%20%20%20%20if%20%28viewportSum%20%3C%3D%20height%20%7C%7C%20%21onlyFullyVisible%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20this%2EstartRow%2D%2D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28viewportSum%20%3E%3D%20height%29%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20if%20%28this%2EstartRow%20%21%3D%3D%20null%20%26%26%20overrideFn%29%20%7B%0A%20%20%20%20overrideFn%28this%29%3B%0A%20%20%7D%0A%0A%20%20this%2EstartPosition%20%3D%20startPositions%5Bthis%2EstartRow%5D%3B%0A%20%20if%20%28this%2EstartPosition%20%3D%3D%20void%200%29%20%7B%0A%20%20%20%20this%2EstartPosition%20%3D%20null%3B%0A%20%20%7D%0A%0A%20%20if%20%28this%2EstartRow%20%21%3D%20null%29%20%7B%0A%20%20%20%20this%2Ecount%20%3D%20this%2EendRow%20%2D%20this%2EstartRow%20%2B%201%3B%0A%20%20%7D%0A%7D%0A%0Afunction%20WalkontableCornerOverlay%28instance%29%20%7B%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20this%2Etype%20%3D%20%27corner%27%3B%0A%20%20this%2Einit%28%29%3B%0A%20%20this%2Eclone%20%3D%20this%2EmakeClone%28%27corner%27%29%3B%0A%7D%0A%0AWalkontableCornerOverlay%2Eprototype%20%3D%20new%20WalkontableOverlay%28%29%3B%0A%0AWalkontableCornerOverlay%2Eprototype%2EresetFixedPosition%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28%21this%2Einstance%2EwtTable%2Eholder%2EparentNode%29%20%7B%0A%20%20%20%20return%3B%20%2F%2Fremoved%20from%20DOM%0A%20%20%7D%0A%20%20var%20elem%20%3D%20this%2Eclone%2EwtTable%2Eholder%2EparentNode%2C%0A%20%20%20%20finalLeft%2C%0A%20%20%20%20finalTop%3B%0A%0A%20%20if%20%28this%2EtrimmingContainer%20%3D%3D%3D%20window%29%20%7B%0A%20%20%20%20var%20box%20%3D%20this%2Einstance%2EwtTable%2Ehider%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20var%20top%20%3D%20Math%2Eceil%28box%2Etop%29%3B%0A%20%20%20%20var%20left%20%3D%20Math%2Eceil%28box%2Eleft%29%3B%0A%20%20%20%20var%20bottom%20%3D%20Math%2Eceil%28box%2Ebottom%29%3B%0A%20%20%20%20var%20right%20%3D%20Math%2Eceil%28box%2Eright%29%3B%0A%0A%20%20%20%20if%20%28left%20%3C%200%20%26%26%20%28right%20%2D%20elem%2EoffsetWidth%29%20%3E%200%29%20%7B%0A%20%20%20%20%20%20finalLeft%20%3D%20%2Dleft%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20finalLeft%20%3D%20%270%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28top%20%3C%200%20%26%26%20%28bottom%20%2D%20elem%2EoffsetHeight%29%20%3E%200%29%20%7B%0A%20%20%20%20%20%20finalTop%20%3D%20%2Dtop%20%2B%20%22px%22%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20finalTop%20%3D%20%220%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2EDom%2EsetOverlayPosition%28elem%2C%20finalLeft%2C%20finalTop%29%3B%0A%20%20%7D%0A%0A%0A%20%20var%20tableHeight%20%3D%20Handsontable%2EDom%2EouterHeight%28this%2Eclone%2EwtTable%2ETABLE%29%3B%0A%20%20var%20tableWidth%20%3D%20Handsontable%2EDom%2EouterWidth%28this%2Eclone%2EwtTable%2ETABLE%29%3B%0A%20%20elem%2Estyle%2Eheight%20%3D%20%28tableHeight%20%3D%3D%3D%200%20%3F%20tableHeight%20%3A%20tableHeight%20%2B%204%29%20%2B%20%27px%27%3B%0A%20%20elem%2Estyle%2Ewidth%20%3D%20%28tableWidth%20%3D%3D%3D%200%20%3F%20tableWidth%20%3A%20tableWidth%20%2B%204%29%20%2B%20%27px%27%3B%0A%7D%3B%0A%0Afunction%20WalkontableLeftOverlay%28instance%29%20%7B%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20this%2Etype%20%3D%20%27horizontal%27%3B%0A%20%20this%2Eoffset%20%3D%200%3B%0A%20%20this%2Einit%28%29%3B%0A%20%20this%2Eclone%20%3D%20this%2EmakeClone%28%27left%27%29%3B%0A%7D%0A%0AWalkontableLeftOverlay%2Eprototype%20%3D%20new%20WalkontableOverlay%28%29%3B%0A%0A%2F%2FresetFixedPosition%20%28in%20future%20merge%20it%20with%20this%2Erefresh%3F%29%0AWalkontableLeftOverlay%2Eprototype%2EresetFixedPosition%20%3D%20function%20%28%29%20%7B%0A%20%20var%20finalLeft%2C%20finalTop%3B%0A%0A%20%20if%20%28%21this%2Einstance%2EwtTable%2Eholder%2EparentNode%29%20%7B%0A%20%20%20%20return%3B%20%2F%2Fremoved%20from%20DOM%0A%20%20%7D%0A%20%20var%20elem%20%3D%20this%2Eclone%2EwtTable%2Eholder%2EparentNode%2C%0A%20%20%20%20scrollbarHeight%20%3D%20this%2Einstance%2EwtTable%2Eholder%2EclientHeight%20%21%3D%3D%20this%2Einstance%2EwtTable%2Eholder%2EoffsetHeight%20%3F%20Handsontable%2EDom%2EgetScrollbarWidth%28%29%20%3A%200%2C%0A%20%20%20%20scrollbarWidth%20%3D%20this%2Einstance%2EwtTable%2Eholder%2EclientWidth%20%21%3D%3D%20this%2Einstance%2EwtTable%2Eholder%2EoffsetWidth%20%3F%20Handsontable%2EDom%2EgetScrollbarWidth%28%29%20%3A%200%3B%0A%0A%20%20if%20%28this%2Einstance%2EwtOverlays%2EleftOverlay%2EtrimmingContainer%20%21%3D%3D%20window%29%20%7B%0A%20%20%20%20elem%2Estyle%2Eheight%20%3D%20this%2Einstance%2EwtViewport%2EgetWorkspaceHeight%28%29%20%2D%20scrollbarHeight%20%2B%20%27px%27%3B%0A%20%20%7D%20else%20%7B%0A%0A%20%20%20%20var%20box%20%3D%20this%2Einstance%2EwtTable%2Ehider%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20var%20left%20%3D%20Math%2Eceil%28box%2Eleft%29%3B%0A%20%20%20%20var%20right%20%3D%20Math%2Eceil%28box%2Eright%29%3B%0A%0A%20%20%20%20if%20%28left%20%3C%200%20%26%26%20%28right%20%2D%20elem%2EoffsetWidth%29%20%3E%200%29%20%7B%0A%20%20%20%20%20%20finalLeft%20%3D%20%2Dleft%20%2B%20%27px%27%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20finalLeft%20%3D%20%270%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20finalTop%20%3D%20this%2Einstance%2EwtTable%2Ehider%2Estyle%2Etop%3B%0A%20%20%20%20finalTop%20%3D%20finalTop%20%3D%3D%3D%20%22%22%20%3F%200%20%3A%20finalTop%3B%0A%0A%20%20%20%20Handsontable%2EDom%2EsetOverlayPosition%28elem%2C%20finalLeft%2C%20finalTop%29%3B%0A%20%20%7D%0A%0A%20%20var%20tableWidth%20%3D%20Handsontable%2EDom%2EouterWidth%28this%2Eclone%2EwtTable%2ETABLE%29%3B%0A%20%20var%20elemWidth%20%3D%20%28tableWidth%20%3D%3D%3D%200%20%3F%20tableWidth%20%3A%20tableWidth%20%2B%204%29%3B%0A%20%20elem%2Estyle%2Ewidth%20%3D%20elemWidth%20%2B%20%27px%27%3B%0A%0A%20%20this%2Eclone%2EwtTable%2Eholder%2Estyle%2Ewidth%20%3D%20elemWidth%20%2B%20scrollbarWidth%20%2B%20%27px%27%3B%0A%7D%3B%0A%0AWalkontableLeftOverlay%2Eprototype%2Erefresh%20%3D%20function%20%28fastDraw%29%20%7B%0A%20%20this%2EapplyToDOM%28%29%3B%0A%20%20WalkontableOverlay%2Eprototype%2Erefresh%2Ecall%28this%2C%20fastDraw%29%3B%0A%7D%3B%0A%0AWalkontableLeftOverlay%2Eprototype%2EgetScrollPosition%20%3D%20function%20%28%29%20%7B%0A%20%20return%20Handsontable%2EDom%2EgetScrollLeft%28this%2EmainTableScrollableElement%29%3B%0A%7D%3B%0A%0AWalkontableLeftOverlay%2Eprototype%2EsetScrollPosition%20%3D%20function%20%28pos%29%20%7B%0A%20%20if%20%28this%2EmainTableScrollableElement%20%3D%3D%3D%20window%29%20%7B%0A%20%20%20%20window%2EscrollTo%28pos%2C%20Handsontable%2EDom%2EgetWindowScrollTop%28%29%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20this%2EmainTableScrollableElement%2EscrollLeft%20%3D%20pos%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableLeftOverlay%2Eprototype%2EonScroll%20%3D%20function%20%28%29%20%7B%0A%20%20this%2Einstance%2EgetSetting%28%27onScrollHorizontally%27%29%3B%0A%7D%3B%0A%0AWalkontableLeftOverlay%2Eprototype%2EsumCellSizes%20%3D%20function%20%28from%2C%20length%29%20%7B%0A%20%20var%20sum%20%3D%200%3B%0A%20%20while%28from%20%3C%20length%29%20%7B%0A%20%20%20%20sum%20%2B%3D%20this%2Einstance%2EwtTable%2EgetStretchedColumnWidth%28from%29%20%7C%7C%20this%2Einstance%2EwtSettings%2EdefaultColumnWidth%3B%0A%20%20%20%20from%2B%2B%3B%0A%20%20%7D%0A%20%20return%20sum%3B%0A%7D%3B%0A%0A%2F%2FapplyToDOM%20%28in%20future%20merge%20it%20with%20this%2Erefresh%3F%29%0A%2F%2A%2A%0A%20%2A%20Adjust%20the%20overlay%20dimensions%20and%20position%0A%20%2A%2F%0AWalkontableLeftOverlay%2Eprototype%2EapplyToDOM%20%3D%20function%20%28%29%20%7B%0A%20%20var%20total%20%3D%20this%2Einstance%2EgetSetting%28%27totalColumns%27%29%2C%0A%20%20%20%20headerSize%20%3D%20this%2Einstance%2EwtViewport%2EgetRowHeaderWidth%28%29%2C%0A%20%20%20%20cloneHolder%20%3D%20this%2Eclone%2EwtTable%2Eholder%2C%0A%20%20%20%20cloneHider%20%3D%20this%2Eclone%2EwtTable%2Ehider%2C%0A%20%20%20%20masterHider%20%3D%20this%2Ehider%2C%0A%20%20%20%20cloneHolderParent%20%3D%20cloneHolder%2EparentNode%2C%0A%20%20%20%20scrollbarWidth%20%3D%20Handsontable%2EDom%2EgetScrollbarWidth%28true%29%3B%0A%0A%20%20masterHider%2Estyle%2Ewidth%20%3D%20headerSize%20%2B%20this%2EsumCellSizes%280%2C%20total%29%20%2B%20%27px%27%3B%0A%0A%20%20cloneHolder%2Estyle%2Ewidth%20%3D%20parseInt%28cloneHolderParent%2Estyle%2Ewidth%2C10%29%20%2B%20scrollbarWidth%20%2B%20%27px%27%3B%0A%0A%20%20cloneHider%2Estyle%2Eheight%20%3D%20masterHider%2Estyle%2Eheight%3B%0A%0A%20%20cloneHolder%2Estyle%2Eheight%20%3D%20cloneHolderParent%2Estyle%2Eheight%3B%0A%0A%20%20if%20%28typeof%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2EstartPosition%20%3D%3D%3D%20%27number%27%29%7B%0A%20%20%20%20this%2Espreader%2Estyle%2Eleft%20%3D%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2EstartPosition%20%2B%20%27px%27%3B%0A%20%20%7D%0A%20%20else%20if%20%28total%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20this%2Espreader%2Estyle%2Eleft%20%3D%20%270%27%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20throw%20%20new%20Error%28%27Incorrect%20value%20of%20the%20columnsRenderCalculator%27%29%3B%0A%20%20%7D%0A%20%20this%2Espreader%2Estyle%2Eright%20%3D%20%27%27%3B%0A%0A%20%20this%2EsyncOverlayOffset%28%29%3B%0A%7D%3B%0A%0AWalkontableLeftOverlay%2Eprototype%2EsyncOverlayOffset%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28typeof%20this%2Einstance%2EwtViewport%2ErowsRenderCalculator%2EstartPosition%20%3D%3D%3D%20%27number%27%29%7B%0A%20%20%20%20this%2Eclone%2EwtTable%2Espreader%2Estyle%2Etop%20%3D%20this%2Einstance%2EwtViewport%2ErowsRenderCalculator%2EstartPosition%20%2B%20%27px%27%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20this%2Eclone%2EwtTable%2Espreader%2Estyle%2Etop%20%3D%20%27%27%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Scrolls%20horizontally%20to%20a%20column%20at%20the%20left%20edge%20of%20the%20viewport%0A%20%2A%20%40param%20sourceCol%20%7BNumber%7D%0A%20%2A%20%40param%20beyondRendered%20%7BBoolean%7D%20if%20TRUE%2C%20scrolls%20according%20to%20the%20bottom%20edge%20%28top%20edge%20is%20by%20default%29%0A%20%2A%2F%0AWalkontableLeftOverlay%2Eprototype%2EscrollTo%20%3D%20function%20%28sourceCol%2C%20beyondRendered%29%20%7B%0A%20%20var%20newX%20%3D%20this%2EgetTableParentOffset%28%29%2C%0A%20%20%20%20sourceInstance%20%3D%20this%2Einstance%2EcloneSource%20%3F%20this%2Einstance%2EcloneSource%20%3A%20this%2Einstance%2C%0A%20%20%20%20mainHolder%20%3D%20sourceInstance%2EwtTable%2Eholder%2C%0A%20%20%20%20scrollbarCompensation%20%3D%200%3B%0A%0A%20%20if%28beyondRendered%20%26%26%20mainHolder%2EoffsetWidth%20%21%3D%3D%20mainHolder%2EclientWidth%29%20%7B%0A%20%20%20%20scrollbarCompensation%20%3D%20Handsontable%2EDom%2EgetScrollbarWidth%28%29%3B%0A%20%20%7D%0A%0A%20%20if%20%28beyondRendered%29%20%7B%0A%20%20%20%20newX%20%2B%3D%20this%2EsumCellSizes%280%2C%20sourceCol%20%2B%201%29%3B%0A%20%20%20%20newX%20%2D%3D%20this%2Einstance%2EwtViewport%2EgetViewportWidth%28%29%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20var%20fixedColumnsLeft%20%3D%20this%2Einstance%2EgetSetting%28%27fixedColumnsLeft%27%29%3B%0A%20%20%20%20newX%20%2B%3D%20this%2EsumCellSizes%28fixedColumnsLeft%2C%20sourceCol%29%3B%0A%20%20%7D%0A%0A%20%20newX%20%2B%3D%20scrollbarCompensation%3B%0A%0A%20%20this%2EsetScrollPosition%28newX%29%3B%0A%7D%3B%0A%0AWalkontableLeftOverlay%2Eprototype%2EgetTableParentOffset%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28this%2EtrimmingContainer%20%3D%3D%3D%20window%29%20%7B%0A%20%20%20%20return%20this%2Einstance%2EwtTable%2EholderOffset%2Eleft%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%200%3B%0A%20%20%7D%0A%7D%3B%0A%0Afunction%20WalkontableTopOverlay%28instance%29%20%7B%0A%20%20this%2Einstance%20%3D%20instance%3B%0A%20%20this%2Etype%20%3D%20%27vertical%27%3B%0A%20%20this%2Einit%28%29%3B%0A%20%20this%2Eclone%20%3D%20this%2EmakeClone%28%27top%27%29%3B%0A%7D%0A%0AWalkontableTopOverlay%2Eprototype%20%3D%20new%20WalkontableOverlay%28%29%3B%0A%0A%2F%2FresetFixedPosition%20%28in%20future%20merge%20it%20with%20this%2Erefresh%3F%29%0AWalkontableTopOverlay%2Eprototype%2EresetFixedPosition%20%3D%20function%20%28%29%20%7B%0A%20%20var%20finalLeft%2C%20finalTop%3B%0A%0A%20%20if%20%28%21this%2Einstance%2EwtTable%2Eholder%2EparentNode%29%20%7B%0A%20%20%20%20return%3B%20%2F%2Fremoved%20from%20DOM%0A%20%20%7D%0A%20%20var%20elem%20%3D%20this%2Eclone%2EwtTable%2Eholder%2EparentNode%2C%0A%20%20%20%20scrollbarWidth%20%3D%20this%2Einstance%2EwtTable%2Eholder%2EclientWidth%20%21%3D%3D%20this%2Einstance%2EwtTable%2Eholder%2EoffsetWidth%20%3F%20Handsontable%2EDom%2EgetScrollbarWidth%28%29%20%3A%200%3B%0A%0A%20%20if%20%28this%2Einstance%2EwtOverlays%2EleftOverlay%2EtrimmingContainer%20%21%3D%3D%20window%29%20%7B%0A%20%20%20%20elem%2Estyle%2Ewidth%20%3D%20this%2Einstance%2EwtViewport%2EgetWorkspaceWidth%28%29%20%2D%20scrollbarWidth%20%2B%20%27px%27%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20var%20box%20%3D%20this%2Einstance%2EwtTable%2Ehider%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20var%20top%20%3D%20Math%2Eceil%28box%2Etop%29%3B%0A%20%20%20%20var%20bottom%20%3D%20Math%2Eceil%28box%2Ebottom%29%3B%0A%0A%20%20%20%20finalLeft%20%3D%20this%2Einstance%2EwtTable%2Ehider%2Estyle%2Eleft%3B%0A%20%20%20%20finalLeft%20%3D%20finalLeft%20%3D%3D%3D%20%22%22%20%3F%200%20%3A%20finalLeft%3B%0A%0A%20%20%20%20if%20%28top%20%3C%200%20%26%26%20%28bottom%20%2D%20elem%2EoffsetHeight%29%20%3E%200%29%20%7B%0A%20%20%20%20%20%20finalTop%20%3D%20%2Dtop%20%2B%20%22px%22%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20finalTop%20%3D%20%220%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Handsontable%2EDom%2EsetOverlayPosition%28elem%2C%20finalLeft%2C%20finalTop%29%3B%0A%20%20%7D%0A%0A%20%20this%2Eclone%2EwtTable%2Eholder%2Estyle%2Ewidth%20%3D%20elem%2Estyle%2Ewidth%3B%0A%0A%20%20var%20tableHeight%20%3D%20Handsontable%2EDom%2EouterHeight%28this%2Eclone%2EwtTable%2ETABLE%29%3B%0A%20%20elem%2Estyle%2Eheight%20%3D%20%28tableHeight%20%3D%3D%3D%200%20%3F%20tableHeight%20%3A%20tableHeight%20%2B%204%29%20%2B%20%27px%27%3B%0A%7D%3B%0A%0AWalkontableTopOverlay%2Eprototype%2EgetScrollPosition%20%3D%20function%20%28%29%20%7B%0A%20%20return%20Handsontable%2EDom%2EgetScrollTop%28this%2EmainTableScrollableElement%29%3B%0A%7D%3B%0A%0AWalkontableTopOverlay%2Eprototype%2EsetScrollPosition%20%3D%20function%20%28pos%29%20%7B%0A%20%20if%20%28this%2EmainTableScrollableElement%20%3D%3D%3D%20window%29%7B%0A%20%20%20%20window%2EscrollTo%28Handsontable%2EDom%2EgetWindowScrollLeft%28%29%2C%20pos%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20this%2EmainTableScrollableElement%2EscrollTop%20%3D%20pos%3B%0A%20%20%7D%0A%7D%3B%0A%0AWalkontableTopOverlay%2Eprototype%2EonScroll%20%3D%20function%20%28%29%20%7B%0A%20%20this%2Einstance%2EgetSetting%28%27onScrollVertically%27%29%3B%0A%7D%3B%0A%0AWalkontableTopOverlay%2Eprototype%2EsumCellSizes%20%3D%20function%20%28from%2C%20length%29%20%7B%0A%20%20var%20sum%20%3D%200%3B%0A%20%20while%20%28from%20%3C%20length%29%20%7B%0A%20%20%20%20sum%20%2B%3D%20this%2Einstance%2EwtTable%2EgetRowHeight%28from%29%20%7C%7C%20this%2Einstance%2EwtSettings%2Esettings%2EdefaultRowHeight%3B%20%2F%2FTODO%20optimize%20getSetting%2C%20because%20this%20is%20MUCH%20faster%20then%20getSetting%0A%20%20%20%20from%2B%2B%3B%0A%20%20%7D%0A%20%20return%20sum%3B%0A%7D%3B%0A%0AWalkontableTopOverlay%2Eprototype%2Erefresh%20%3D%20function%20%28fastDraw%29%20%7B%0A%20%20this%2EapplyToDOM%28%29%3B%0A%20%20WalkontableOverlay%2Eprototype%2Erefresh%2Ecall%28this%2C%20fastDraw%29%3B%0A%7D%3B%0A%0A%2F%2FapplyToDOM%20%28in%20future%20merge%20it%20with%20this%2Erefresh%3F%29%0AWalkontableTopOverlay%2Eprototype%2EapplyToDOM%20%3D%20function%20%28%29%20%7B%0A%20%20var%20total%20%3D%20this%2Einstance%2EgetSetting%28%27totalRows%27%29%3B%0A%20%20var%20headerSize%20%3D%20this%2Einstance%2EwtViewport%2EgetColumnHeaderHeight%28%29%3B%0A%20%20var%20scrollbarWidth%20%3D%20Handsontable%2EDom%2EgetScrollbarWidth%28true%29%3B%0A%0A%20%20var%20totalEstimatedHeight%20%3D%20headerSize%20%2B%20this%2EsumCellSizes%280%2C%20total%29%20%2B%201%20%2B%20%20%27px%27%3B%0A%0A%20%20this%2Ehider%2Estyle%2Eheight%20%3D%20totalEstimatedHeight%3B%0A%0A%20%20this%2Eclone%2EwtTable%2Ehider%2Estyle%2Ewidth%20%3D%20this%2Ehider%2Estyle%2Ewidth%3B%0A%0A%20%20this%2Eclone%2EwtTable%2Eholder%2Estyle%2Ewidth%20%3D%20this%2Eclone%2EwtTable%2Eholder%2EparentNode%2Estyle%2Ewidth%3B%0A%0A%20%20this%2Eclone%2EwtTable%2Eholder%2Estyle%2Eheight%20%3D%20parseInt%28this%2Eclone%2EwtTable%2Eholder%2EparentNode%2Estyle%2Eheight%2C10%29%20%2B%20scrollbarWidth%20%2B%20%27px%27%3B%0A%0A%20%20if%20%28typeof%20this%2Einstance%2EwtViewport%2ErowsRenderCalculator%2EstartPosition%20%3D%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20this%2Espreader%2Estyle%2Etop%20%3D%20this%2Einstance%2EwtViewport%2ErowsRenderCalculator%2EstartPosition%20%2B%20%27px%27%3B%0A%20%20%7D%0A%20%20else%20if%20%28total%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20this%2Espreader%2Estyle%2Etop%20%3D%20%270%27%3B%20%2F%2Fcan%20happen%20if%20there%20are%200%20rows%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20throw%20new%20Error%28%22Incorrect%20value%20of%20the%20rowsRenderCalculator%22%29%3B%0A%20%20%7D%0A%20%20this%2Espreader%2Estyle%2Ebottom%20%3D%20%27%27%3B%0A%0A%20%20this%2EsyncOverlayOffset%28%29%3B%0A%7D%3B%0A%0AWalkontableTopOverlay%2Eprototype%2EsyncOverlayOffset%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28typeof%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2EstartPosition%20%3D%3D%3D%20%27number%27%29%7B%0A%20%20%20%20this%2Eclone%2EwtTable%2Espreader%2Estyle%2Eleft%20%3D%20this%2Einstance%2EwtViewport%2EcolumnsRenderCalculator%2EstartPosition%20%2B%20%27px%27%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20this%2Eclone%2EwtTable%2Espreader%2Estyle%2Eleft%20%3D%20%27%27%3B%0A%20%20%7D%0A%7D%3B%0A%0A%2F%2A%2A%0A%20%2A%20Scrolls%20vertically%20to%20a%20row%0A%20%2A%0A%20%2A%20%40param%20sourceRow%20%7BNumber%7D%0A%20%2A%20%40param%20bottomEdge%20%7BBoolean%7D%20if%20TRUE%2C%20scrolls%20according%20to%20the%20bottom%20edge%20%28top%20edge%20is%20by%20default%29%0A%20%2A%2F%0AWalkontableTopOverlay%2Eprototype%2EscrollTo%20%3D%20function%20%28sourceRow%2C%20bottomEdge%29%20%7B%0A%20%20var%20newY%20%3D%20this%2EgetTableParentOffset%28%29%2C%0A%20%20%20%20sourceInstance%20%3D%20this%2Einstance%2EcloneSource%20%3F%20this%2Einstance%2EcloneSource%20%3A%20this%2Einstance%2C%0A%20%20%20%20mainHolder%20%3D%20sourceInstance%2EwtTable%2Eholder%2C%0A%20%20%20%20scrollbarCompensation%20%3D%200%3B%0A%0A%20%20if%28bottomEdge%20%26%26%20mainHolder%2EoffsetHeight%20%21%3D%3D%20mainHolder%2EclientHeight%29%20%7B%0A%20%20%20%20scrollbarCompensation%20%3D%20Handsontable%2EDom%2EgetScrollbarWidth%28%29%3B%0A%20%20%7D%0A%0A%20%20if%20%28bottomEdge%29%20%7B%0A%20%20%20%20newY%20%2B%3D%20this%2EsumCellSizes%280%2C%20sourceRow%20%2B%201%29%3B%0A%20%20%20%20newY%20%2D%3D%20this%2Einstance%2EwtViewport%2EgetViewportHeight%28%29%3B%0A%20%20%20%20%2F%2F%20Fix%201%20pixel%20offset%20when%20cell%20is%20selected%0A%20%20%20%20newY%20%2B%3D%201%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20var%20fixedRowsTop%20%3D%20this%2Einstance%2EgetSetting%28%27fixedRowsTop%27%29%3B%0A%20%20%20%20newY%20%2B%3D%20this%2EsumCellSizes%28fixedRowsTop%2C%20sourceRow%29%3B%0A%20%20%7D%0A%0A%20%20newY%20%2B%3D%20scrollbarCompensation%3B%0A%0A%20%20this%2EsetScrollPosition%28newY%29%3B%0A%7D%3B%0A%0AWalkontableTopOverlay%2Eprototype%2EgetTableParentOffset%20%3D%20function%20%28%29%20%7B%0A%20%20if%20%28this%2EmainTableScrollableElement%20%3D%3D%3D%20window%29%20%7B%0A%20%20%20%20return%20this%2Einstance%2EwtTable%2EholderOffset%2Etop%3B%0A%20%20%7D%0A%20%20else%20%7B%0A%20%20%20%20return%200%3B%0A%20%20%7D%0A%7D%3B%0A%0Aif%20%28window%2EjQuery%29%20%7B%0A%20%20%28function%20%28window%2C%20%24%2C%20Handsontable%29%20%7B%0A%20%20%20%20%24%2Efn%2Ehandsontable%20%3D%20function%20%28action%29%20%7B%0A%20%20%20%20%20%20var%20i%0A%20%20%20%20%20%20%20%20%2C%20ilen%0A%20%20%20%20%20%20%20%20%2C%20args%0A%20%20%20%20%20%20%20%20%2C%20output%0A%20%20%20%20%20%20%20%20%2C%20userSettings%0A%20%20%20%20%20%20%20%20%2C%20%24this%20%3D%20this%2Efirst%28%29%20%2F%2F%20Use%20only%20first%20element%20from%20list%0A%20%20%20%20%20%20%20%20%2C%20instance%20%3D%20%24this%2Edata%28%27handsontable%27%29%3B%0A%0A%20%20%20%20%20%20%2F%2F%20Init%20case%0A%20%20%20%20%20%20if%20%28typeof%20action%20%21%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20userSettings%20%3D%20action%20%7C%7C%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20if%20%28instance%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%2EupdateSettings%28userSettings%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20instance%20%3D%20new%20Handsontable%2ECore%28%24this%5B0%5D%2C%20userSettings%29%3B%0A%20%20%20%20%20%20%20%20%20%20%24this%2Edata%28%27handsontable%27%2C%20instance%29%3B%0A%20%20%20%20%20%20%20%20%20%20instance%2Einit%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20%24this%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%2F%2F%20Action%20case%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20args%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20if%20%28arguments%2Elength%20%3E%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%201%2C%20ilen%20%3D%20arguments%2Elength%3B%20i%20%3C%20ilen%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20args%2Epush%28arguments%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28instance%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20instance%5Baction%5D%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20instance%5Baction%5D%2Eapply%28instance%2C%20args%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28action%20%3D%3D%3D%20%27destroy%27%29%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24this%2EremoveData%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%27Handsontable%20do%20not%20provide%20action%3A%20%27%20%2B%20action%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20output%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%7D%29%28window%2C%20jQuery%2C%20Handsontable%29%3B%0A%7D%0A%0A%0A%0A%7D%29%28window%2C%20Handsontable%29%3B%0A%0A%2F%2A%21%0A%20%2A%20numeral%2Ejs%0A%20%2A%20version%20%3A%201%2E5%2E3%0A%20%2A%20author%20%3A%20Adam%20Draper%0A%20%2A%20license%20%3A%20MIT%0A%20%2A%20http%3A%2F%2Fadamwdraper%2Egithub%2Ecom%2FNumeral%2Djs%2F%0A%20%2A%2F%0A%0A%28function%28%29%20%7B%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20Constants%0A%20%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%20%20%20%20var%20numeral%2C%0A%20%20%20%20%20%20VERSION%20%3D%20%271%2E5%2E3%27%2C%0A%20%20%20%20%2F%2F%20internal%20storage%20for%20language%20config%20files%0A%20%20%20%20%20%20languages%20%3D%20%7B%7D%2C%0A%20%20%20%20%20%20currentLanguage%20%3D%20%27en%27%2C%0A%20%20%20%20%20%20zeroFormat%20%3D%20null%2C%0A%20%20%20%20%20%20defaultFormat%20%3D%20%270%2C0%27%2C%0A%20%20%20%20%2F%2F%20check%20for%20nodeJS%0A%20%20%20%20%20%20hasModule%20%3D%20%28typeof%20module%20%21%3D%3D%20%27undefined%27%20%26%26%20module%2Eexports%29%3B%0A%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20Constructors%0A%20%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%0A%20%20%20%20%2F%2F%20Numeral%20prototype%20object%0A%20%20%20%20function%20Numeral%28number%29%20%7B%0A%20%20%20%20%20%20%20%20this%2E%5Fvalue%20%3D%20number%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Implementation%20of%20toFixed%28%29%20that%20treats%20floats%20more%20like%20decimals%0A%20%20%20%20%20%2A%0A%20%20%20%20%20%2A%20Fixes%20binary%20rounding%20issues%20%28eg%2E%20%280%2E615%29%2EtoFixed%282%29%20%3D%3D%3D%20%270%2E61%27%29%20that%20present%0A%20%20%20%20%20%2A%20problems%20for%20accounting%2D%20and%20finance%2Drelated%20software%2E%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20toFixed%28value%2C%20precision%2C%20roundingFunction%2C%20optionals%29%20%7B%0A%20%20%20%20%20%20%20%20var%20power%20%3D%20Math%2Epow%2810%2C%20precision%29%2C%0A%20%20%20%20%20%20%20%20%20%20optionalsRegExp%2C%0A%20%20%20%20%20%20%20%20%20%20output%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2FroundingFunction%20%3D%20%28roundingFunction%20%21%3D%3D%20undefined%20%3F%20roundingFunction%20%3A%20Math%2Eround%29%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20Multiply%20up%20by%20precision%2C%20round%20accurately%2C%20then%20divide%20and%20use%20native%20toFixed%28%29%3A%0A%20%20%20%20%20%20%20%20output%20%3D%20%28roundingFunction%28value%20%2A%20power%29%20%2F%20power%29%2EtoFixed%28precision%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28optionals%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20optionalsRegExp%20%3D%20new%20RegExp%28%270%7B1%2C%27%20%2B%20optionals%20%2B%20%27%7D%24%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20output%2Ereplace%28optionalsRegExp%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20output%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20Formatting%0A%20%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%20%20%20%20%2F%2F%20determine%20what%20type%20of%20formatting%20we%20need%20to%20do%0A%20%20%20%20function%20formatNumeral%28n%2C%20format%2C%20roundingFunction%29%20%7B%0A%20%20%20%20%20%20%20%20var%20output%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20figure%20out%20what%20kind%20of%20format%20we%20are%20dealing%20with%0A%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27%24%27%29%20%3E%20%2D1%29%20%7B%20%2F%2F%20currency%21%21%21%21%21%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20formatCurrency%28n%2C%20format%2C%20roundingFunction%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28format%2EindexOf%28%27%25%27%29%20%3E%20%2D1%29%20%7B%20%2F%2F%20percentage%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20formatPercentage%28n%2C%20format%2C%20roundingFunction%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28format%2EindexOf%28%27%3A%27%29%20%3E%20%2D1%29%20%7B%20%2F%2F%20time%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20formatTime%28n%2C%20format%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%20%2F%2F%20plain%20ol%27%20numbers%20or%20bytes%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20formatNumber%28n%2E%5Fvalue%2C%20format%2C%20roundingFunction%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20return%20string%0A%20%20%20%20%20%20%20%20return%20output%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20revert%20to%20number%0A%20%20%20%20function%20unformatNumeral%28n%2C%20string%29%20%7B%0A%20%20%20%20%20%20%20%20var%20stringOriginal%20%3D%20string%2C%0A%20%20%20%20%20%20%20%20%20%20thousandRegExp%2C%0A%20%20%20%20%20%20%20%20%20%20millionRegExp%2C%0A%20%20%20%20%20%20%20%20%20%20billionRegExp%2C%0A%20%20%20%20%20%20%20%20%20%20trillionRegExp%2C%0A%20%20%20%20%20%20%20%20%20%20suffixes%20%3D%20%5B%27KB%27%2C%20%27MB%27%2C%20%27GB%27%2C%20%27TB%27%2C%20%27PB%27%2C%20%27EB%27%2C%20%27ZB%27%2C%20%27YB%27%5D%2C%0A%20%20%20%20%20%20%20%20%20%20bytesMultiplier%20%3D%20false%2C%0A%20%20%20%20%20%20%20%20%20%20power%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28string%2EindexOf%28%27%3A%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20n%2E%5Fvalue%20%3D%20unformatTime%28string%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28string%20%3D%3D%3D%20zeroFormat%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20n%2E%5Fvalue%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28languages%5BcurrentLanguage%5D%2Edelimiters%2Edecimal%20%21%3D%3D%20%27%2E%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20string%20%3D%20string%2Ereplace%28%2F%5C%2E%2Fg%2C%20%27%27%29%2Ereplace%28languages%5BcurrentLanguage%5D%2Edelimiters%2Edecimal%2C%20%27%2E%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20see%20if%20abbreviations%20are%20there%20so%20that%20we%20can%20multiply%20to%20the%20correct%20number%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20thousandRegExp%20%3D%20new%20RegExp%28%27%5B%5Ea%2DzA%2DZ%5D%27%20%2B%20languages%5BcurrentLanguage%5D%2Eabbreviations%2Ethousand%20%2B%20%27%28%3F%3A%5C%5C%29%7C%28%5C%5C%27%20%2B%20languages%5BcurrentLanguage%5D%2Ecurrency%2Esymbol%20%2B%20%27%29%3F%28%3F%3A%5C%5C%29%29%3F%29%3F%24%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20millionRegExp%20%3D%20new%20RegExp%28%27%5B%5Ea%2DzA%2DZ%5D%27%20%2B%20languages%5BcurrentLanguage%5D%2Eabbreviations%2Emillion%20%2B%20%27%28%3F%3A%5C%5C%29%7C%28%5C%5C%27%20%2B%20languages%5BcurrentLanguage%5D%2Ecurrency%2Esymbol%20%2B%20%27%29%3F%28%3F%3A%5C%5C%29%29%3F%29%3F%24%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20billionRegExp%20%3D%20new%20RegExp%28%27%5B%5Ea%2DzA%2DZ%5D%27%20%2B%20languages%5BcurrentLanguage%5D%2Eabbreviations%2Ebillion%20%2B%20%27%28%3F%3A%5C%5C%29%7C%28%5C%5C%27%20%2B%20languages%5BcurrentLanguage%5D%2Ecurrency%2Esymbol%20%2B%20%27%29%3F%28%3F%3A%5C%5C%29%29%3F%29%3F%24%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20trillionRegExp%20%3D%20new%20RegExp%28%27%5B%5Ea%2DzA%2DZ%5D%27%20%2B%20languages%5BcurrentLanguage%5D%2Eabbreviations%2Etrillion%20%2B%20%27%28%3F%3A%5C%5C%29%7C%28%5C%5C%27%20%2B%20languages%5BcurrentLanguage%5D%2Ecurrency%2Esymbol%20%2B%20%27%29%3F%28%3F%3A%5C%5C%29%29%3F%29%3F%24%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20see%20if%20bytes%20are%20there%20so%20that%20we%20can%20multiply%20to%20the%20correct%20number%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28power%20%3D%200%3B%20power%20%3C%3D%20suffixes%2Elength%3B%20power%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bytesMultiplier%20%3D%20%28string%2EindexOf%28suffixes%5Bpower%5D%29%20%3E%20%2D1%29%20%3F%20Math%2Epow%281024%2C%20power%20%2B%201%29%20%3A%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28bytesMultiplier%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20do%20some%20math%20to%20create%20our%20number%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20n%2E%5Fvalue%20%3D%20%28%28bytesMultiplier%29%20%3F%20bytesMultiplier%20%3A%201%29%20%2A%20%28%28stringOriginal%2Ematch%28thousandRegExp%29%29%20%3F%20Math%2Epow%2810%2C%203%29%20%3A%201%29%20%2A%20%28%28stringOriginal%2Ematch%28millionRegExp%29%29%20%3F%20Math%2Epow%2810%2C%206%29%20%3A%201%29%20%2A%20%28%28stringOriginal%2Ematch%28billionRegExp%29%29%20%3F%20Math%2Epow%2810%2C%209%29%20%3A%201%29%20%2A%20%28%28stringOriginal%2Ematch%28trillionRegExp%29%29%20%3F%20Math%2Epow%2810%2C%2012%29%20%3A%201%29%20%2A%20%28%28string%2EindexOf%28%27%25%27%29%20%3E%20%2D1%29%20%3F%200%2E01%20%3A%201%29%20%2A%20%28%28%28string%2Esplit%28%27%2D%27%29%2Elength%20%2B%20Math%2Emin%28string%2Esplit%28%27%28%27%29%2Elength%20%2D%201%2C%20string%2Esplit%28%27%29%27%29%2Elength%20%2D%201%29%29%20%25%202%29%20%3F%201%20%3A%20%2D1%29%20%2A%20Number%28string%2Ereplace%28%2F%5B%5E0%2D9%5C%2E%5D%2B%2Fg%2C%20%27%27%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20round%20if%20we%20are%20talking%20about%20bytes%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20n%2E%5Fvalue%20%3D%20%28bytesMultiplier%29%20%3F%20Math%2Eceil%28n%2E%5Fvalue%29%20%3A%20n%2E%5Fvalue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20n%2E%5Fvalue%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20formatCurrency%28n%2C%20format%2C%20roundingFunction%29%20%7B%0A%20%20%20%20%20%20%20%20var%20symbolIndex%20%3D%20format%2EindexOf%28%27%24%27%29%2C%0A%20%20%20%20%20%20%20%20%20%20openParenIndex%20%3D%20format%2EindexOf%28%27%28%27%29%2C%0A%20%20%20%20%20%20%20%20%20%20minusSignIndex%20%3D%20format%2EindexOf%28%27%2D%27%29%2C%0A%20%20%20%20%20%20%20%20%20%20space%20%3D%20%27%27%2C%0A%20%20%20%20%20%20%20%20%20%20spliceIndex%2C%0A%20%20%20%20%20%20%20%20%20%20output%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20check%20for%20space%20before%20or%20after%20currency%0A%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27%20%24%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20space%20%3D%20%27%20%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27%20%24%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28format%2EindexOf%28%27%24%20%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20space%20%3D%20%27%20%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27%24%20%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27%24%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20format%20the%20number%0A%20%20%20%20%20%20%20%20output%20%3D%20formatNumber%28n%2E%5Fvalue%2C%20format%2C%20roundingFunction%29%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20position%20the%20symbol%0A%20%20%20%20%20%20%20%20if%20%28symbolIndex%20%3C%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28output%2EindexOf%28%27%28%27%29%20%3E%20%2D1%20%7C%7C%20output%2EindexOf%28%27%2D%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20output%2Esplit%28%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20spliceIndex%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28symbolIndex%20%3C%20openParenIndex%20%7C%7C%20symbolIndex%20%3C%20minusSignIndex%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20symbol%20appears%20before%20the%20%22%28%22%20or%20%22%2D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20spliceIndex%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%2Esplice%28spliceIndex%2C%200%2C%20languages%5BcurrentLanguage%5D%2Ecurrency%2Esymbol%20%2B%20space%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20output%2Ejoin%28%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20languages%5BcurrentLanguage%5D%2Ecurrency%2Esymbol%20%2B%20space%20%2B%20output%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28output%2EindexOf%28%27%29%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20output%2Esplit%28%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%2Esplice%28%2D1%2C%200%2C%20space%20%2B%20languages%5BcurrentLanguage%5D%2Ecurrency%2Esymbol%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20output%2Ejoin%28%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20output%20%2B%20space%20%2B%20languages%5BcurrentLanguage%5D%2Ecurrency%2Esymbol%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20output%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20formatPercentage%28n%2C%20format%2C%20roundingFunction%29%20%7B%0A%20%20%20%20%20%20%20%20var%20space%20%3D%20%27%27%2C%0A%20%20%20%20%20%20%20%20%20%20output%2C%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20n%2E%5Fvalue%20%2A%20100%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20check%20for%20space%20before%20%25%0A%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27%20%25%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20space%20%3D%20%27%20%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27%20%25%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27%25%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20output%20%3D%20formatNumber%28value%2C%20format%2C%20roundingFunction%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28output%2EindexOf%28%27%29%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20output%2Esplit%28%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20output%2Esplice%28%2D1%2C%200%2C%20space%20%2B%20%27%25%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20output%2Ejoin%28%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20output%20%2B%20space%20%2B%20%27%25%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20output%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20formatTime%28n%29%20%7B%0A%20%20%20%20%20%20%20%20var%20hours%20%3D%20Math%2Efloor%28n%2E%5Fvalue%20%2F%2060%20%2F%2060%29%2C%0A%20%20%20%20%20%20%20%20%20%20minutes%20%3D%20Math%2Efloor%28%28n%2E%5Fvalue%20%2D%20%28hours%20%2A%2060%20%2A%2060%29%29%20%2F%2060%29%2C%0A%20%20%20%20%20%20%20%20%20%20seconds%20%3D%20Math%2Eround%28n%2E%5Fvalue%20%2D%20%28hours%20%2A%2060%20%2A%2060%29%20%2D%20%28minutes%20%2A%2060%29%29%3B%0A%20%20%20%20%20%20%20%20return%20hours%20%2B%20%27%3A%27%20%2B%20%28%28minutes%20%3C%2010%29%20%3F%20%270%27%20%2B%20minutes%20%3A%20minutes%29%20%2B%20%27%3A%27%20%2B%20%28%28seconds%20%3C%2010%29%20%3F%20%270%27%20%2B%20seconds%20%3A%20seconds%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20unformatTime%28string%29%20%7B%0A%20%20%20%20%20%20%20%20var%20timeArray%20%3D%20string%2Esplit%28%27%3A%27%29%2C%0A%20%20%20%20%20%20%20%20%20%20seconds%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20turn%20hours%20and%20minutes%20into%20seconds%20and%20add%20them%20all%20up%0A%20%20%20%20%20%20%20%20if%20%28timeArray%2Elength%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20hours%0A%20%20%20%20%20%20%20%20%20%20%20%20seconds%20%3D%20seconds%20%2B%20%28Number%28timeArray%5B0%5D%29%20%2A%2060%20%2A%2060%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20minutes%0A%20%20%20%20%20%20%20%20%20%20%20%20seconds%20%3D%20seconds%20%2B%20%28Number%28timeArray%5B1%5D%29%20%2A%2060%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20seconds%0A%20%20%20%20%20%20%20%20%20%20%20%20seconds%20%3D%20seconds%20%2B%20Number%28timeArray%5B2%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28timeArray%2Elength%20%3D%3D%3D%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20minutes%0A%20%20%20%20%20%20%20%20%20%20%20%20seconds%20%3D%20seconds%20%2B%20%28Number%28timeArray%5B0%5D%29%20%2A%2060%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20seconds%0A%20%20%20%20%20%20%20%20%20%20%20%20seconds%20%3D%20seconds%20%2B%20Number%28timeArray%5B1%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20Number%28seconds%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20formatNumber%28value%2C%20format%2C%20roundingFunction%29%20%7B%0A%20%20%20%20%20%20%20%20var%20negP%20%3D%20false%2C%0A%20%20%20%20%20%20%20%20%20%20signed%20%3D%20false%2C%0A%20%20%20%20%20%20%20%20%20%20optDec%20%3D%20false%2C%0A%20%20%20%20%20%20%20%20%20%20abbr%20%3D%20%27%27%2C%0A%20%20%20%20%20%20%20%20%20%20abbrK%20%3D%20false%2C%20%2F%2F%20force%20abbreviation%20to%20thousands%0A%20%20%20%20%20%20%20%20%20%20abbrM%20%3D%20false%2C%20%2F%2F%20force%20abbreviation%20to%20millions%0A%20%20%20%20%20%20%20%20%20%20abbrB%20%3D%20false%2C%20%2F%2F%20force%20abbreviation%20to%20billions%0A%20%20%20%20%20%20%20%20%20%20abbrT%20%3D%20false%2C%20%2F%2F%20force%20abbreviation%20to%20trillions%0A%20%20%20%20%20%20%20%20%20%20abbrForce%20%3D%20false%2C%20%2F%2F%20force%20abbreviation%0A%20%20%20%20%20%20%20%20%20%20bytes%20%3D%20%27%27%2C%0A%20%20%20%20%20%20%20%20%20%20ord%20%3D%20%27%27%2C%0A%20%20%20%20%20%20%20%20%20%20abs%20%3D%20Math%2Eabs%28value%29%2C%0A%20%20%20%20%20%20%20%20%20%20suffixes%20%3D%20%5B%27B%27%2C%20%27KB%27%2C%20%27MB%27%2C%20%27GB%27%2C%20%27TB%27%2C%20%27PB%27%2C%20%27EB%27%2C%20%27ZB%27%2C%20%27YB%27%5D%2C%0A%20%20%20%20%20%20%20%20%20%20min%2C%0A%20%20%20%20%20%20%20%20%20%20max%2C%0A%20%20%20%20%20%20%20%20%20%20power%2C%0A%20%20%20%20%20%20%20%20%20%20w%2C%0A%20%20%20%20%20%20%20%20%20%20precision%2C%0A%20%20%20%20%20%20%20%20%20%20thousands%2C%0A%20%20%20%20%20%20%20%20%20%20d%20%3D%20%27%27%2C%0A%20%20%20%20%20%20%20%20%20%20neg%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20check%20if%20number%20is%20zero%20and%20a%20custom%20zero%20format%20has%20been%20set%0A%20%20%20%20%20%20%20%20if%20%28value%20%3D%3D%3D%200%20%26%26%20zeroFormat%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20zeroFormat%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20see%20if%20we%20should%20use%20parentheses%20for%20negative%20number%20or%20if%20we%20should%20prefix%20with%20a%20sign%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20if%20both%20are%20present%20we%20default%20to%20parentheses%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27%28%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20negP%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Eslice%281%2C%20%2D%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28format%2EindexOf%28%27%2B%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signed%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%2F%5C%2B%2Fg%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20see%20if%20abbreviation%20is%20wanted%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27a%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20check%20if%20abbreviation%20is%20specified%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20abbrK%20%3D%20format%2EindexOf%28%27aK%27%29%20%3E%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20abbrM%20%3D%20format%2EindexOf%28%27aM%27%29%20%3E%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20abbrB%20%3D%20format%2EindexOf%28%27aB%27%29%20%3E%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20abbrT%20%3D%20format%2EindexOf%28%27aT%27%29%20%3E%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20abbrForce%20%3D%20abbrK%20%7C%7C%20abbrM%20%7C%7C%20abbrB%20%7C%7C%20abbrT%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20check%20for%20space%20before%20abbreviation%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27%20a%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20abbr%20%3D%20%27%20%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27%20a%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27a%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28abs%20%3E%3D%20Math%2Epow%2810%2C%2012%29%20%26%26%20%21abbrForce%20%7C%7C%20abbrT%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20trillion%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20abbr%20%3D%20abbr%20%2B%20languages%5BcurrentLanguage%5D%2Eabbreviations%2Etrillion%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20value%20%2F%20Math%2Epow%2810%2C%2012%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28abs%20%3C%20Math%2Epow%2810%2C%2012%29%20%26%26%20abs%20%3E%3D%20Math%2Epow%2810%2C%209%29%20%26%26%20%21abbrForce%20%7C%7C%20abbrB%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20billion%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20abbr%20%3D%20abbr%20%2B%20languages%5BcurrentLanguage%5D%2Eabbreviations%2Ebillion%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20value%20%2F%20Math%2Epow%2810%2C%209%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28abs%20%3C%20Math%2Epow%2810%2C%209%29%20%26%26%20abs%20%3E%3D%20Math%2Epow%2810%2C%206%29%20%26%26%20%21abbrForce%20%7C%7C%20abbrM%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20million%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20abbr%20%3D%20abbr%20%2B%20languages%5BcurrentLanguage%5D%2Eabbreviations%2Emillion%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20value%20%2F%20Math%2Epow%2810%2C%206%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28abs%20%3C%20Math%2Epow%2810%2C%206%29%20%26%26%20abs%20%3E%3D%20Math%2Epow%2810%2C%203%29%20%26%26%20%21abbrForce%20%7C%7C%20abbrK%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20thousand%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20abbr%20%3D%20abbr%20%2B%20languages%5BcurrentLanguage%5D%2Eabbreviations%2Ethousand%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20value%20%2F%20Math%2Epow%2810%2C%203%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20see%20if%20we%20are%20formatting%20bytes%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27b%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20check%20for%20space%20before%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27%20b%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bytes%20%3D%20%27%20%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27%20b%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27b%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28power%20%3D%200%3B%20power%20%3C%3D%20suffixes%2Elength%3B%20power%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20min%20%3D%20Math%2Epow%281024%2C%20power%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20max%20%3D%20Math%2Epow%281024%2C%20power%20%2B%201%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28value%20%3E%3D%20min%20%26%26%20value%20%3C%20max%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bytes%20%3D%20bytes%20%2B%20suffixes%5Bpower%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28min%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20value%20%2F%20min%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20see%20if%20ordinal%20is%20wanted%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27o%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20check%20for%20space%20before%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27%20o%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ord%20%3D%20%27%20%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27%20o%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27o%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ord%20%3D%20ord%20%2B%20languages%5BcurrentLanguage%5D%2Eordinal%28value%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27%5B%2E%5D%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20optDec%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28%27%5B%2E%5D%27%2C%20%27%2E%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20w%20%3D%20value%2EtoString%28%29%2Esplit%28%27%2E%27%29%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20precision%20%3D%20format%2Esplit%28%27%2E%27%29%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20thousands%20%3D%20format%2EindexOf%28%27%2C%27%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28precision%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28precision%2EindexOf%28%27%5B%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20precision%20%3D%20precision%2Ereplace%28%27%5D%27%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20precision%20%3D%20precision%2Esplit%28%27%5B%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%20%3D%20toFixed%28value%2C%20%28precision%5B0%5D%2Elength%20%2B%20precision%5B1%5D%2Elength%29%2C%20roundingFunction%2C%20precision%5B1%5D%2Elength%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%20%3D%20toFixed%28value%2C%20precision%2Elength%2C%20roundingFunction%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%20%3D%20d%2Esplit%28%27%2E%27%29%5B0%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28d%2Esplit%28%27%2E%27%29%5B1%5D%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%20%3D%20languages%5BcurrentLanguage%5D%2Edelimiters%2Edecimal%20%2B%20d%2Esplit%28%27%2E%27%29%5B1%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28optDec%20%26%26%20Number%28d%2Eslice%281%29%29%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%20%3D%20toFixed%28value%2C%20null%2C%20roundingFunction%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20format%20number%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28w%2EindexOf%28%27%2D%27%29%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%20%3D%20w%2Eslice%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20neg%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28thousands%20%3E%20%2D1%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%20%3D%20w%2EtoString%28%29%2Ereplace%28%2F%28%5Cd%29%28%3F%3D%28%5Cd%7B3%7D%29%2B%28%3F%21%5Cd%29%29%2Fg%2C%20%27%241%27%20%2B%20languages%5BcurrentLanguage%5D%2Edelimiters%2Ethousands%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28format%2EindexOf%28%27%2E%27%29%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%28%28negP%20%26%26%20neg%29%20%3F%20%27%28%27%20%3A%20%27%27%29%20%2B%20%28%28%21negP%20%26%26%20neg%29%20%3F%20%27%2D%27%20%3A%20%27%27%29%20%2B%20%28%28%21neg%20%26%26%20signed%29%20%3F%20%27%2B%27%20%3A%20%27%27%29%20%2B%20w%20%2B%20d%20%2B%20%28%28ord%29%20%3F%20ord%20%3A%20%27%27%29%20%2B%20%28%28abbr%29%20%3F%20abbr%20%3A%20%27%27%29%20%2B%20%28%28bytes%29%20%3F%20bytes%20%3A%20%27%27%29%20%2B%20%28%28negP%20%26%26%20neg%29%20%3F%20%27%29%27%20%3A%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20Top%20Level%20Functions%0A%20%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%20%20%20%20numeral%20%3D%20function%28input%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28numeral%2EisNumeral%28input%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20input%2Evalue%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28input%20%3D%3D%3D%200%20%7C%7C%20typeof%20input%20%3D%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21Number%28input%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20numeral%2Efn%2Eunformat%28input%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20new%20Numeral%28Number%28input%29%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20version%20number%0A%20%20%20%20numeral%2Eversion%20%3D%20VERSION%3B%0A%0A%20%20%20%20%2F%2F%20compare%20numeral%20object%0A%20%20%20%20numeral%2EisNumeral%20%3D%20function%28obj%29%20%7B%0A%20%20%20%20%20%20%20%20return%20obj%20instanceof%20Numeral%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20This%20function%20will%20load%20languages%20and%20then%20set%20the%20global%20language%2E%20%20If%0A%20%20%20%20%2F%2F%20no%20arguments%20are%20passed%20in%2C%20it%20will%20simply%20return%20the%20current%20global%0A%20%20%20%20%2F%2F%20language%20key%2E%0A%20%20%20%20numeral%2Elanguage%20%3D%20function%28key%2C%20values%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20currentLanguage%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20key%20%3D%20key%2EtoLowerCase%28%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28key%20%26%26%20%21values%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21languages%5Bkey%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%27Unknown%20language%20%3A%20%27%20%2B%20key%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20currentLanguage%20%3D%20key%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28values%20%7C%7C%20%21languages%5Bkey%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20loadLanguage%28key%2C%20values%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20numeral%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20This%20function%20provides%20access%20to%20the%20loaded%20language%20data%2E%20%20If%0A%20%20%20%20%2F%2F%20no%20arguments%20are%20passed%20in%2C%20it%20will%20simply%20return%20the%20current%0A%20%20%20%20%2F%2F%20global%20language%20object%2E%0A%20%20%20%20numeral%2ElanguageData%20%3D%20function%28key%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20languages%5BcurrentLanguage%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28%21languages%5Bkey%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20Error%28%27Unknown%20language%20%3A%20%27%20%2B%20key%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20languages%5Bkey%5D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20numeral%2Elanguage%28%27en%27%2C%20%7B%0A%20%20%20%20%20%20%20%20delimiters%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20thousands%3A%20%27%2C%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20decimal%3A%20%27%2E%27%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20abbreviations%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20thousand%3A%20%27k%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20million%3A%20%27m%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20billion%3A%20%27b%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20trillion%3A%20%27t%27%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20ordinal%3A%20function%28number%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20b%20%3D%20number%20%25%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%28%7E%7E%20%28number%20%25%20100%20%2F%2010%29%20%3D%3D%3D%201%29%20%3F%20%27th%27%20%3A%20%28b%20%3D%3D%3D%201%29%20%3F%20%27st%27%20%3A%20%28b%20%3D%3D%3D%202%29%20%3F%20%27nd%27%20%3A%20%28b%20%3D%3D%3D%203%29%20%3F%20%27rd%27%20%3A%20%27th%27%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20currency%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20symbol%3A%20%27%24%27%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20numeral%2EzeroFormat%20%3D%20function%28format%29%20%7B%0A%20%20%20%20%20%20%20%20zeroFormat%20%3D%20typeof%28format%29%20%3D%3D%3D%20%27string%27%20%3F%20format%20%3A%20null%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20numeral%2EdefaultFormat%20%3D%20function%28format%29%20%7B%0A%20%20%20%20%20%20%20%20defaultFormat%20%3D%20typeof%28format%29%20%3D%3D%3D%20%27string%27%20%3F%20format%20%3A%20%270%2E0%27%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20numeral%2Evalidate%20%3D%20function%28val%2C%20culture%29%20%7B%0A%0A%20%20%20%20%20%20%20%20var%20%5FdecimalSep%2C%0A%20%20%20%20%20%20%20%20%20%20%5FthousandSep%2C%0A%20%20%20%20%20%20%20%20%20%20%5FcurrSymbol%2C%0A%20%20%20%20%20%20%20%20%20%20%5FvalArray%2C%0A%20%20%20%20%20%20%20%20%20%20%5FabbrObj%2C%0A%20%20%20%20%20%20%20%20%20%20%5FthousandRegEx%2C%0A%20%20%20%20%20%20%20%20%20%20languageData%2C%0A%20%20%20%20%20%20%20%20%20%20temp%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2Fcoerce%20val%20to%20string%0A%20%20%20%20%20%20%20%20if%20%28typeof%20val%20%21%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20val%20%2B%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28console%2Ewarn%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console%2Ewarn%28%27Numeral%2Ejs%3A%20Value%20is%20not%20string%2E%20It%20has%20been%20co%2Derced%20to%3A%20%27%2C%20val%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2Ftrim%20whitespaces%20from%20either%20sides%0A%20%20%20%20%20%20%20%20val%20%3D%20val%2Etrim%28%29%3B%0A%0A%0A%20%20%20%20%20%20%20%20%2F%2Fif%20val%20is%20empty%20return%20false%0A%20%20%20%20%20%20%20%20if%20%28val%20%3D%3D%3D%20%27%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2Freplace%20the%20initial%20%27%2B%27%20or%20%27%2D%27%20sign%20if%20present%0A%20%20%20%20%20%20%20%20val%20%3D%20val%2Ereplace%28%2F%5E%5B%2B%2D%5D%3F%2F%2C%20%27%27%29%3B%0A%0A%0A%20%20%20%20%20%20%20%20%2F%2Fget%20the%20decimal%20and%20thousands%20separator%20from%20numeral%2ElanguageData%0A%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fcheck%20if%20the%20culture%20is%20understood%20by%20numeral%2E%20if%20not%2C%20default%20it%20to%20current%20language%0A%20%20%20%20%20%20%20%20%20%20%20%20languageData%20%3D%20numeral%2ElanguageData%28culture%29%3B%0A%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20languageData%20%3D%20numeral%2ElanguageData%28numeral%2Elanguage%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2Fsetup%20the%20delimiters%20and%20currency%20symbol%20based%20on%20culture%2Flanguage%0A%20%20%20%20%20%20%20%20%5FcurrSymbol%20%3D%20languageData%2Ecurrency%2Esymbol%3B%0A%20%20%20%20%20%20%20%20%5FabbrObj%20%3D%20languageData%2Eabbreviations%3B%0A%20%20%20%20%20%20%20%20%5FdecimalSep%20%3D%20languageData%2Edelimiters%2Edecimal%3B%0A%20%20%20%20%20%20%20%20if%20%28languageData%2Edelimiters%2Ethousands%20%3D%3D%3D%20%27%2E%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5FthousandSep%20%3D%20%27%5C%5C%2E%27%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5FthousandSep%20%3D%20languageData%2Edelimiters%2Ethousands%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2Fvalidating%20currency%20symbol%0A%20%20%20%20%20%20%20%20temp%20%3D%20val%2Ematch%28%2F%5E%5B%5E%5Cd%5D%2B%2F%29%3B%0A%20%20%20%20%20%20%20%20if%20%28temp%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fchuck%20the%20currency%20symbol%20away%0A%20%20%20%20%20%20%20%20%20%20%20%20val%20%3D%20val%2Esubstr%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28temp%5B0%5D%20%21%3D%3D%20%5FcurrSymbol%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2Fvalidating%20abbreviation%20symbol%0A%20%20%20%20%20%20%20%20temp%20%3D%20val%2Ematch%28%2F%5B%5E%5Cd%5D%2B%24%2F%29%3B%0A%20%20%20%20%20%20%20%20if%20%28temp%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20val%20%3D%20val%2Eslice%280%2C%20%2D%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28temp%5B0%5D%20%21%3D%3D%20%5FabbrObj%2Ethousand%20%26%26%20temp%5B0%5D%20%21%3D%3D%20%5FabbrObj%2Emillion%20%26%26%20temp%5B0%5D%20%21%3D%3D%20%5FabbrObj%2Ebillion%20%26%26%20temp%5B0%5D%20%21%3D%3D%20%5FabbrObj%2Etrillion%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2Fif%20val%20is%20just%20digits%20the%20return%20true%0A%20%20%20%20%20%20%20%20if%20%28%20%21%21%20val%2Ematch%28%2F%5E%5Cd%2B%24%2F%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5FthousandRegEx%20%3D%20new%20RegExp%28%5FthousandSep%20%2B%20%27%7B2%7D%27%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28%21val%2Ematch%28%2F%5B%5E%5Cd%2E%2C%5D%2Fg%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5FvalArray%20%3D%20val%2Esplit%28%5FdecimalSep%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%5FvalArray%2Elength%20%3E%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%5FvalArray%2Elength%20%3C%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%28%20%21%21%20%5FvalArray%5B0%5D%2Ematch%28%2F%5E%5Cd%2B%2E%2A%5Cd%24%2F%29%20%26%26%20%21%5FvalArray%5B0%5D%2Ematch%28%5FthousandRegEx%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%5FvalArray%5B0%5D%2Elength%20%3D%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%28%20%21%21%20%5FvalArray%5B0%5D%2Ematch%28%2F%5E%5Cd%2B%24%2F%29%20%26%26%20%21%5FvalArray%5B0%5D%2Ematch%28%5FthousandRegEx%29%20%26%26%20%21%21%20%5FvalArray%5B1%5D%2Ematch%28%2F%5E%5Cd%2B%24%2F%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%28%20%21%21%20%5FvalArray%5B0%5D%2Ematch%28%2F%5E%5Cd%2B%2E%2A%5Cd%24%2F%29%20%26%26%20%21%5FvalArray%5B0%5D%2Ematch%28%5FthousandRegEx%29%20%26%26%20%21%21%20%5FvalArray%5B1%5D%2Ematch%28%2F%5E%5Cd%2B%24%2F%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20Helpers%0A%20%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%20%20%20%20function%20loadLanguage%28key%2C%20values%29%20%7B%0A%20%20%20%20%20%20%20%20languages%5Bkey%5D%20%3D%20values%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20Floating%2Dpoint%20helpers%0A%20%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%20%20%20%20%2F%2F%20The%20floating%2Dpoint%20helper%20functions%20and%20implementation%0A%20%20%20%20%2F%2F%20borrows%20heavily%20from%20sinful%2Ejs%3A%20http%3A%2F%2Fguipn%2Egithub%2Eio%2Fsinful%2Ejs%2F%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Array%2Eprototype%2Ereduce%20for%20browsers%20that%20don%27t%20support%20it%0A%20%20%20%20%20%2A%20https%3A%2F%2Fdeveloper%2Emozilla%2Eorg%2Fen%2DUS%2Fdocs%2FWeb%2FJavaScript%2FReference%2FGlobal%5FObjects%2FArray%2FReduce%23Compatibility%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20if%20%28%27function%27%20%21%3D%3D%20typeof%20Array%2Eprototype%2Ereduce%29%20%7B%0A%20%20%20%20%20%20%20%20Array%2Eprototype%2Ereduce%20%3D%20function%28callback%2C%20opt%5FinitialValue%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%27use%20strict%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28null%20%3D%3D%3D%20this%20%7C%7C%20%27undefined%27%20%3D%3D%3D%20typeof%20this%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20At%20the%20moment%20all%20modern%20browsers%2C%20that%20support%20strict%20mode%2C%20have%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20native%20implementation%20of%20Array%2Eprototype%2Ereduce%2E%20For%20instance%2C%20IE8%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20does%20not%20support%20strict%20mode%2C%20so%20this%20check%20is%20actually%20useless%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20TypeError%28%27Array%2Eprototype%2Ereduce%20called%20on%20null%20or%20undefined%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%27function%27%20%21%3D%3D%20typeof%20callback%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20TypeError%28callback%20%2B%20%27%20is%20not%20a%20function%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20index%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20length%20%3D%20this%2Elength%20%3E%3E%3E%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20isValueSet%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%281%20%3C%20arguments%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20opt%5FinitialValue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isValueSet%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28index%20%3D%200%3B%20length%20%3E%20index%3B%20%2B%2Bindex%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2EhasOwnProperty%28index%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isValueSet%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20callback%28value%2C%20this%5Bindex%5D%2C%20index%2C%20this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20this%5Bindex%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isValueSet%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isValueSet%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20throw%20new%20TypeError%28%27Reduce%20of%20empty%20array%20with%20no%20initial%20value%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20value%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Computes%20the%20multiplier%20necessary%20to%20make%20x%20%3E%3D%201%2C%0A%20%20%20%20%20%2A%20effectively%20eliminating%20miscalculations%20caused%20by%0A%20%20%20%20%20%2A%20finite%20precision%2E%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20multiplier%28x%29%20%7B%0A%20%20%20%20%20%20%20%20var%20parts%20%3D%20x%2EtoString%28%29%2Esplit%28%27%2E%27%29%3B%0A%20%20%20%20%20%20%20%20if%20%28parts%2Elength%20%3C%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20Math%2Epow%2810%2C%20parts%5B1%5D%2Elength%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Given%20a%20variable%20number%20of%20arguments%2C%20returns%20the%20maximum%0A%20%20%20%20%20%2A%20multiplier%20that%20must%20be%20used%20to%20normalize%20an%20operation%20involving%0A%20%20%20%20%20%2A%20all%20of%20them%2E%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20function%20correctionFactor%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20args%20%3D%20Array%2Eprototype%2Eslice%2Ecall%28arguments%29%3B%0A%20%20%20%20%20%20%20%20return%20args%2Ereduce%28function%28prev%2C%20next%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20mp%20%3D%20multiplier%28prev%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20mn%20%3D%20multiplier%28next%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20mp%20%3E%20mn%20%3F%20mp%20%3A%20mn%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20%2D%20Infinity%29%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20Numeral%20Prototype%0A%20%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%0A%20%20%20%20numeral%2Efn%20%3D%20Numeral%2Eprototype%20%3D%20%7B%0A%0A%20%20%20%20%20%20%20%20clone%3A%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20numeral%28this%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20format%3A%20function%28inputString%2C%20roundingFunction%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20formatNumeral%28this%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20inputString%20%3F%20inputString%20%3A%20defaultFormat%2C%20%28roundingFunction%20%21%3D%3D%20undefined%29%20%3F%20roundingFunction%20%3A%20Math%2Eround%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20unformat%3A%20function%28inputString%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Object%2Eprototype%2EtoString%2Ecall%28inputString%29%20%3D%3D%3D%20%27%5Bobject%20Number%5D%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20inputString%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20unformatNumeral%28this%2C%20inputString%20%3F%20inputString%20%3A%20defaultFormat%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20value%3A%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Fvalue%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20valueOf%3A%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Fvalue%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20set%3A%20function%28value%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fvalue%20%3D%20Number%28value%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20add%3A%20function%28value%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20corrFactor%20%3D%20correctionFactor%2Ecall%28null%2C%20this%2E%5Fvalue%2C%20value%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20function%20cback%28accum%2C%20curr%2C%20currI%2C%20O%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20accum%20%2B%20corrFactor%20%2A%20curr%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fvalue%20%3D%20%5Bthis%2E%5Fvalue%2C%20value%5D%2Ereduce%28cback%2C%200%29%20%2F%20corrFactor%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20subtract%3A%20function%28value%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20corrFactor%20%3D%20correctionFactor%2Ecall%28null%2C%20this%2E%5Fvalue%2C%20value%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20function%20cback%28accum%2C%20curr%2C%20currI%2C%20O%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20accum%20%2D%20corrFactor%20%2A%20curr%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fvalue%20%3D%20%5Bvalue%5D%2Ereduce%28cback%2C%20this%2E%5Fvalue%20%2A%20corrFactor%29%20%2F%20corrFactor%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20multiply%3A%20function%28value%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20function%20cback%28accum%2C%20curr%2C%20currI%2C%20O%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20corrFactor%20%3D%20correctionFactor%28accum%2C%20curr%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%28accum%20%2A%20corrFactor%29%20%2A%20%28curr%20%2A%20corrFactor%29%20%2F%20%28corrFactor%20%2A%20corrFactor%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fvalue%20%3D%20%5Bthis%2E%5Fvalue%2C%20value%5D%2Ereduce%28cback%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20divide%3A%20function%28value%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20function%20cback%28accum%2C%20curr%2C%20currI%2C%20O%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20corrFactor%20%3D%20correctionFactor%28accum%2C%20curr%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%28accum%20%2A%20corrFactor%29%20%2F%20%28curr%20%2A%20corrFactor%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fvalue%20%3D%20%5Bthis%2E%5Fvalue%2C%20value%5D%2Ereduce%28cback%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20difference%3A%20function%28value%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Math%2Eabs%28numeral%28this%2E%5Fvalue%29%2Esubtract%28value%29%2Evalue%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20Exposing%20Numeral%0A%20%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%20%20%20%20%2F%2F%20CommonJS%20module%20is%20defined%0A%20%20%20%20if%20%28hasModule%29%20%7B%0A%20%20%20%20%20%20%20%20module%2Eexports%20%3D%20numeral%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2Aglobal%20ender%3Afalse%20%2A%2F%0A%20%20%20%20if%20%28typeof%20ender%20%3D%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20here%2C%20%60this%60%20means%20%60window%60%20in%20the%20browser%2C%20or%20%60global%60%20on%20the%20server%0A%20%20%20%20%20%20%20%20%2F%2F%20add%20%60numeral%60%20as%20a%20global%20object%20via%20a%20string%20identifier%2C%0A%20%20%20%20%20%20%20%20%2F%2F%20for%20Closure%20Compiler%20%27advanced%27%20mode%0A%20%20%20%20%20%20%20%20this%5B%27numeral%27%5D%20%3D%20numeral%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2Aglobal%20define%3Afalse%20%2A%2F%0A%20%20%20%20if%20%28typeof%20define%20%3D%3D%3D%20%27function%27%20%26%26%20define%2Eamd%29%20%7B%0A%20%20%20%20%20%20%20%20define%28%5B%5D%2C%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20numeral%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%7D%29%2Ecall%28this%29%3B%0A"></script>
<script src="data:application/x-javascript,%2F%2F%21%20moment%2Ejs%0A%2F%2F%21%20version%20%3A%202%2E9%2E0%0A%2F%2F%21%20authors%20%3A%20Tim%20Wood%2C%20Iskren%20Chernev%2C%20Moment%2Ejs%20contributors%0A%2F%2F%21%20license%20%3A%20MIT%0A%2F%2F%21%20momentjs%2Ecom%0A%0A%28function%20%28undefined%29%20%7B%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Constants%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%20%20%20%20var%20moment%2C%0A%20%20%20%20%20%20%20%20VERSION%20%3D%20%272%2E9%2E0%27%2C%0A%20%20%20%20%20%20%20%20%2F%2F%20the%20global%2Dscope%20this%20is%20NOT%20the%20global%20object%20in%20Node%2Ejs%0A%20%20%20%20%20%20%20%20globalScope%20%3D%20%28typeof%20global%20%21%3D%3D%20%27undefined%27%20%26%26%20%28typeof%20window%20%3D%3D%3D%20%27undefined%27%20%7C%7C%20window%20%3D%3D%3D%20global%2Ewindow%29%29%20%3F%20global%20%3A%20this%2C%0A%20%20%20%20%20%20%20%20oldGlobalMoment%2C%0A%20%20%20%20%20%20%20%20round%20%3D%20Math%2Eround%2C%0A%20%20%20%20%20%20%20%20hasOwnProperty%20%3D%20Object%2Eprototype%2EhasOwnProperty%2C%0A%20%20%20%20%20%20%20%20i%2C%0A%0A%20%20%20%20%20%20%20%20YEAR%20%3D%200%2C%0A%20%20%20%20%20%20%20%20MONTH%20%3D%201%2C%0A%20%20%20%20%20%20%20%20DATE%20%3D%202%2C%0A%20%20%20%20%20%20%20%20HOUR%20%3D%203%2C%0A%20%20%20%20%20%20%20%20MINUTE%20%3D%204%2C%0A%20%20%20%20%20%20%20%20SECOND%20%3D%205%2C%0A%20%20%20%20%20%20%20%20MILLISECOND%20%3D%206%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20internal%20storage%20for%20locale%20config%20files%0A%20%20%20%20%20%20%20%20locales%20%3D%20%7B%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20extra%20moment%20internal%20properties%20%28plugins%20register%20props%20here%29%0A%20%20%20%20%20%20%20%20momentProperties%20%3D%20%5B%5D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20check%20for%20nodeJS%0A%20%20%20%20%20%20%20%20hasModule%20%3D%20%28typeof%20module%20%21%3D%3D%20%27undefined%27%20%26%26%20module%20%26%26%20module%2Eexports%29%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20ASP%2ENET%20json%20date%20format%20regex%0A%20%20%20%20%20%20%20%20aspNetJsonRegex%20%3D%20%2F%5E%5C%2F%3FDate%5C%28%28%5C%2D%3F%5Cd%2B%29%2Fi%2C%0A%20%20%20%20%20%20%20%20aspNetTimeSpanJsonRegex%20%3D%20%2F%28%5C%2D%29%3F%28%3F%3A%28%5Cd%2A%29%5C%2E%29%3F%28%5Cd%2B%29%5C%3A%28%5Cd%2B%29%28%3F%3A%5C%3A%28%5Cd%2B%29%5C%2E%3F%28%5Cd%7B3%7D%29%3F%29%3F%2F%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20from%20http%3A%2F%2Fdocs%2Eclosure%2Dlibrary%2Egooglecode%2Ecom%2Fgit%2Fclosure%5Fgoog%5Fdate%5Fdate%2Ejs%2Esource%2Ehtml%0A%20%20%20%20%20%20%20%20%2F%2F%20somewhat%20more%20in%20line%20with%204%2E4%2E3%2E2%202004%20spec%2C%20but%20allows%20decimal%20anywhere%0A%20%20%20%20%20%20%20%20isoDurationRegex%20%3D%20%2F%5E%28%2D%29%3FP%28%3F%3A%28%3F%3A%28%5B0%2D9%2C%2E%5D%2A%29Y%29%3F%28%3F%3A%28%5B0%2D9%2C%2E%5D%2A%29M%29%3F%28%3F%3A%28%5B0%2D9%2C%2E%5D%2A%29D%29%3F%28%3F%3AT%28%3F%3A%28%5B0%2D9%2C%2E%5D%2A%29H%29%3F%28%3F%3A%28%5B0%2D9%2C%2E%5D%2A%29M%29%3F%28%3F%3A%28%5B0%2D9%2C%2E%5D%2A%29S%29%3F%29%3F%7C%28%5B0%2D9%2C%2E%5D%2A%29W%29%24%2F%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20format%20tokens%0A%20%20%20%20%20%20%20%20formattingTokens%20%3D%20%2F%28%5C%5B%5B%5E%5C%5B%5D%2A%5C%5D%29%7C%28%5C%5C%29%3F%28Mo%7CMM%3FM%3FM%3F%7CDo%7CDDDo%7CDD%3FD%3FD%3F%7Cddd%3Fd%3F%7Cdo%3F%7Cw%5Bo%7Cw%5D%3F%7CW%5Bo%7CW%5D%3F%7CQ%7CYYYYYY%7CYYYYY%7CYYYY%7CYY%7Cgg%28ggg%3F%29%3F%7CGG%28GGG%3F%29%3F%7Ce%7CE%7Ca%7CA%7Chh%3F%7CHH%3F%7Cmm%3F%7Css%3F%7CS%7B1%2C4%7D%7Cx%7CX%7Czz%3F%7CZZ%3F%7C%2E%29%2Fg%2C%0A%20%20%20%20%20%20%20%20localFormattingTokens%20%3D%20%2F%28%5C%5B%5B%5E%5C%5B%5D%2A%5C%5D%29%7C%28%5C%5C%29%3F%28LTS%7CLT%7CLL%3FL%3FL%3F%7Cl%7B1%2C4%7D%29%2Fg%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20parsing%20token%20regexes%0A%20%20%20%20%20%20%20%20parseTokenOneOrTwoDigits%20%3D%20%2F%5Cd%5Cd%3F%2F%2C%20%2F%2F%200%20%2D%2099%0A%20%20%20%20%20%20%20%20parseTokenOneToThreeDigits%20%3D%20%2F%5Cd%7B1%2C3%7D%2F%2C%20%2F%2F%200%20%2D%20999%0A%20%20%20%20%20%20%20%20parseTokenOneToFourDigits%20%3D%20%2F%5Cd%7B1%2C4%7D%2F%2C%20%2F%2F%200%20%2D%209999%0A%20%20%20%20%20%20%20%20parseTokenOneToSixDigits%20%3D%20%2F%5B%2B%5C%2D%5D%3F%5Cd%7B1%2C6%7D%2F%2C%20%2F%2F%20%2D999%2C999%20%2D%20999%2C999%0A%20%20%20%20%20%20%20%20parseTokenDigits%20%3D%20%2F%5Cd%2B%2F%2C%20%2F%2F%20nonzero%20number%20of%20digits%0A%20%20%20%20%20%20%20%20parseTokenWord%20%3D%20%2F%5B0%2D9%5D%2A%5B%27a%2Dz%5Cu00A0%2D%5Cu05FF%5Cu0700%2D%5CuD7FF%5CuF900%2D%5CuFDCF%5CuFDF0%2D%5CuFFEF%5D%2B%7C%5B%5Cu0600%2D%5Cu06FF%5C%2F%5D%2B%28%5Cs%2A%3F%5B%5Cu0600%2D%5Cu06FF%5D%2B%29%7B1%2C2%7D%2Fi%2C%20%2F%2F%20any%20word%20%28or%20two%29%20characters%20or%20numbers%20including%20two%2Fthree%20word%20month%20in%20arabic%2E%0A%20%20%20%20%20%20%20%20parseTokenTimezone%20%3D%20%2FZ%7C%5B%5C%2B%5C%2D%5D%5Cd%5Cd%3A%3F%5Cd%5Cd%2Fgi%2C%20%2F%2F%20%2B00%3A00%20%2D00%3A00%20%2B0000%20%2D0000%20or%20Z%0A%20%20%20%20%20%20%20%20parseTokenT%20%3D%20%2FT%2Fi%2C%20%2F%2F%20T%20%28ISO%20separator%29%0A%20%20%20%20%20%20%20%20parseTokenOffsetMs%20%3D%20%2F%5B%5C%2B%5C%2D%5D%3F%5Cd%2B%2F%2C%20%2F%2F%201234567890123%0A%20%20%20%20%20%20%20%20parseTokenTimestampMs%20%3D%20%2F%5B%5C%2B%5C%2D%5D%3F%5Cd%2B%28%5C%2E%5Cd%7B1%2C3%7D%29%3F%2F%2C%20%2F%2F%20123456789%20123456789%2E123%0A%0A%20%20%20%20%20%20%20%20%2F%2Fstrict%20parsing%20regexes%0A%20%20%20%20%20%20%20%20parseTokenOneDigit%20%3D%20%2F%5Cd%2F%2C%20%2F%2F%200%20%2D%209%0A%20%20%20%20%20%20%20%20parseTokenTwoDigits%20%3D%20%2F%5Cd%5Cd%2F%2C%20%2F%2F%2000%20%2D%2099%0A%20%20%20%20%20%20%20%20parseTokenThreeDigits%20%3D%20%2F%5Cd%7B3%7D%2F%2C%20%2F%2F%20000%20%2D%20999%0A%20%20%20%20%20%20%20%20parseTokenFourDigits%20%3D%20%2F%5Cd%7B4%7D%2F%2C%20%2F%2F%200000%20%2D%209999%0A%20%20%20%20%20%20%20%20parseTokenSixDigits%20%3D%20%2F%5B%2B%2D%5D%3F%5Cd%7B6%7D%2F%2C%20%2F%2F%20%2D999%2C999%20%2D%20999%2C999%0A%20%20%20%20%20%20%20%20parseTokenSignedNumber%20%3D%20%2F%5B%2B%2D%5D%3F%5Cd%2B%2F%2C%20%2F%2F%20%2Dinf%20%2D%20inf%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20iso%208601%20regex%0A%20%20%20%20%20%20%20%20%2F%2F%200000%2D00%2D00%200000%2DW00%20or%200000%2DW00%2D0%20%2B%20T%20%2B%2000%20or%2000%3A00%20or%2000%3A00%3A00%20or%2000%3A00%3A00%2E000%20%2B%20%2B00%3A00%20or%20%2B0000%20or%20%2B00%29%0A%20%20%20%20%20%20%20%20isoRegex%20%3D%20%2F%5E%5Cs%2A%28%3F%3A%5B%2B%2D%5D%5Cd%7B6%7D%7C%5Cd%7B4%7D%29%2D%28%3F%3A%28%5Cd%5Cd%2D%5Cd%5Cd%29%7C%28W%5Cd%5Cd%24%29%7C%28W%5Cd%5Cd%2D%5Cd%29%7C%28%5Cd%5Cd%5Cd%29%29%28%28T%7C%20%29%28%5Cd%5Cd%28%3A%5Cd%5Cd%28%3A%5Cd%5Cd%28%5C%2E%5Cd%2B%29%3F%29%3F%29%3F%29%3F%28%5B%5C%2B%5C%2D%5D%5Cd%5Cd%28%3F%3A%3A%3F%5Cd%5Cd%29%3F%7C%5Cs%2AZ%29%3F%29%3F%24%2F%2C%0A%0A%20%20%20%20%20%20%20%20isoFormat%20%3D%20%27YYYY%2DMM%2DDDTHH%3Amm%3AssZ%27%2C%0A%0A%20%20%20%20%20%20%20%20isoDates%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%27YYYYYY%2DMM%2DDD%27%2C%20%2F%5B%2B%2D%5D%5Cd%7B6%7D%2D%5Cd%7B2%7D%2D%5Cd%7B2%7D%2F%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%27YYYY%2DMM%2DDD%27%2C%20%2F%5Cd%7B4%7D%2D%5Cd%7B2%7D%2D%5Cd%7B2%7D%2F%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%27GGGG%2D%5BW%5DWW%2DE%27%2C%20%2F%5Cd%7B4%7D%2DW%5Cd%7B2%7D%2D%5Cd%2F%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%27GGGG%2D%5BW%5DWW%27%2C%20%2F%5Cd%7B4%7D%2DW%5Cd%7B2%7D%2F%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%27YYYY%2DDDD%27%2C%20%2F%5Cd%7B4%7D%2D%5Cd%7B3%7D%2F%5D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20iso%20time%20formats%20and%20regexes%0A%20%20%20%20%20%20%20%20isoTimes%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%27HH%3Amm%3Ass%2ESSSS%27%2C%20%2F%28T%7C%20%29%5Cd%5Cd%3A%5Cd%5Cd%3A%5Cd%5Cd%5C%2E%5Cd%2B%2F%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%27HH%3Amm%3Ass%27%2C%20%2F%28T%7C%20%29%5Cd%5Cd%3A%5Cd%5Cd%3A%5Cd%5Cd%2F%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%27HH%3Amm%27%2C%20%2F%28T%7C%20%29%5Cd%5Cd%3A%5Cd%5Cd%2F%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%5B%27HH%27%2C%20%2F%28T%7C%20%29%5Cd%5Cd%2F%5D%0A%20%20%20%20%20%20%20%20%5D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20timezone%20chunker%20%27%2B10%3A00%27%20%3E%20%5B%2710%27%2C%20%2700%27%5D%20or%20%27%2D1530%27%20%3E%20%5B%27%2D%27%2C%20%2715%27%2C%20%2730%27%5D%0A%20%20%20%20%20%20%20%20parseTimezoneChunker%20%3D%20%2F%28%5B%5C%2B%5C%2D%5D%7C%5Cd%5Cd%29%2Fgi%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20getter%20and%20setter%20names%0A%20%20%20%20%20%20%20%20proxyGettersAndSetters%20%3D%20%27Date%7CHours%7CMinutes%7CSeconds%7CMilliseconds%27%2Esplit%28%27%7C%27%29%2C%0A%20%20%20%20%20%20%20%20unitMillisecondFactors%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%27Milliseconds%27%20%3A%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%27Seconds%27%20%3A%201e3%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%27Minutes%27%20%3A%206e4%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%27Hours%27%20%3A%2036e5%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%27Days%27%20%3A%20864e5%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%27Months%27%20%3A%202592e6%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%27Years%27%20%3A%2031536e6%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20unitAliases%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ms%20%3A%20%27millisecond%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20s%20%3A%20%27second%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20m%20%3A%20%27minute%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20h%20%3A%20%27hour%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20d%20%3A%20%27day%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20D%20%3A%20%27date%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20w%20%3A%20%27week%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20W%20%3A%20%27isoWeek%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20M%20%3A%20%27month%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20Q%20%3A%20%27quarter%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20y%20%3A%20%27year%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20DDD%20%3A%20%27dayOfYear%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20e%20%3A%20%27weekday%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20E%20%3A%20%27isoWeekday%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20gg%3A%20%27weekYear%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20GG%3A%20%27isoWeekYear%27%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20camelFunctions%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dayofyear%20%3A%20%27dayOfYear%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isoweekday%20%3A%20%27isoWeekday%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isoweek%20%3A%20%27isoWeek%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20weekyear%20%3A%20%27weekYear%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isoweekyear%20%3A%20%27isoWeekYear%27%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20format%20function%20strings%0A%20%20%20%20%20%20%20%20formatFunctions%20%3D%20%7B%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20default%20relative%20time%20thresholds%0A%20%20%20%20%20%20%20%20relativeTimeThresholds%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20s%3A%2045%2C%20%20%2F%2F%20seconds%20to%20minute%0A%20%20%20%20%20%20%20%20%20%20%20%20m%3A%2045%2C%20%20%2F%2F%20minutes%20to%20hour%0A%20%20%20%20%20%20%20%20%20%20%20%20h%3A%2022%2C%20%20%2F%2F%20hours%20to%20day%0A%20%20%20%20%20%20%20%20%20%20%20%20d%3A%2026%2C%20%20%2F%2F%20days%20to%20month%0A%20%20%20%20%20%20%20%20%20%20%20%20M%3A%2011%20%20%20%2F%2F%20months%20to%20year%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20tokens%20to%20ordinalize%20and%20pad%0A%20%20%20%20%20%20%20%20ordinalizeTokens%20%3D%20%27DDD%20w%20W%20M%20D%20d%27%2Esplit%28%27%20%27%29%2C%0A%20%20%20%20%20%20%20%20paddedTokens%20%3D%20%27M%20D%20H%20h%20m%20s%20w%20W%27%2Esplit%28%27%20%27%29%2C%0A%0A%20%20%20%20%20%20%20%20formatTokenFunctions%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20M%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Emonth%28%29%20%2B%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20MMM%20%20%3A%20function%20%28format%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2ElocaleData%28%29%2EmonthsShort%28this%2C%20format%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20MMMM%20%3A%20function%20%28format%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2ElocaleData%28%29%2Emonths%28this%2C%20format%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20D%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Edate%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20DDD%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EdayOfYear%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20d%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Eday%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20dd%20%20%20%3A%20function%20%28format%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2ElocaleData%28%29%2EweekdaysMin%28this%2C%20format%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20ddd%20%20%3A%20function%20%28format%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2ElocaleData%28%29%2EweekdaysShort%28this%2C%20format%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20dddd%20%3A%20function%20%28format%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2ElocaleData%28%29%2Eweekdays%28this%2C%20format%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20w%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Eweek%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20W%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EisoWeek%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20YY%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28this%2Eyear%28%29%20%25%20100%2C%202%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20YYYY%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28this%2Eyear%28%29%2C%204%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20YYYYY%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28this%2Eyear%28%29%2C%205%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20YYYYYY%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20y%20%3D%20this%2Eyear%28%29%2C%20sign%20%3D%20y%20%3E%3D%200%20%3F%20%27%2B%27%20%3A%20%27%2D%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20sign%20%2B%20leftZeroFill%28Math%2Eabs%28y%29%2C%206%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20gg%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28this%2EweekYear%28%29%20%25%20100%2C%202%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20gggg%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28this%2EweekYear%28%29%2C%204%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20ggggg%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28this%2EweekYear%28%29%2C%205%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20GG%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28this%2EisoWeekYear%28%29%20%25%20100%2C%202%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20GGGG%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28this%2EisoWeekYear%28%29%2C%204%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20GGGGG%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28this%2EisoWeekYear%28%29%2C%205%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20e%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Eweekday%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20E%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EisoWeekday%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20a%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2ElocaleData%28%29%2Emeridiem%28this%2Ehours%28%29%2C%20this%2Eminutes%28%29%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20A%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2ElocaleData%28%29%2Emeridiem%28this%2Ehours%28%29%2C%20this%2Eminutes%28%29%2C%20false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20H%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Ehours%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20h%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Ehours%28%29%20%25%2012%20%7C%7C%2012%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20m%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Eminutes%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20s%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Eseconds%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20S%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20toInt%28this%2Emilliseconds%28%29%20%2F%20100%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20SS%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28toInt%28this%2Emilliseconds%28%29%20%2F%2010%29%2C%202%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20SSS%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28this%2Emilliseconds%28%29%2C%203%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20SSSS%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28this%2Emilliseconds%28%29%2C%203%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20Z%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20a%20%3D%20this%2EutcOffset%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b%20%3D%20%27%2B%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a%20%3D%20%2Da%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b%20%3D%20%27%2D%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20b%20%2B%20leftZeroFill%28toInt%28a%20%2F%2060%29%2C%202%29%20%2B%20%27%3A%27%20%2B%20leftZeroFill%28toInt%28a%29%20%25%2060%2C%202%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20ZZ%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20a%20%3D%20this%2EutcOffset%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b%20%3D%20%27%2B%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a%20%3D%20%2Da%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20b%20%3D%20%27%2D%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20b%20%2B%20leftZeroFill%28toInt%28a%20%2F%2060%29%2C%202%29%20%2B%20leftZeroFill%28toInt%28a%29%20%25%2060%2C%202%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20z%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EzoneAbbr%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20zz%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EzoneName%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20x%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EvalueOf%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20X%20%20%20%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Eunix%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20Q%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Equarter%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20deprecations%20%3D%20%7B%7D%2C%0A%0A%20%20%20%20%20%20%20%20lists%20%3D%20%5B%27months%27%2C%20%27monthsShort%27%2C%20%27weekdays%27%2C%20%27weekdaysShort%27%2C%20%27weekdaysMin%27%5D%2C%0A%0A%20%20%20%20%20%20%20%20updateInProgress%20%3D%20false%3B%0A%0A%20%20%20%20%2F%2F%20Pick%20the%20first%20defined%20of%20two%20or%20three%20arguments%2E%20dfl%20comes%20from%0A%20%20%20%20%2F%2F%20default%2E%0A%20%20%20%20function%20dfl%28a%2C%20b%2C%20c%29%20%7B%0A%20%20%20%20%20%20%20%20switch%20%28arguments%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%202%3A%20return%20a%20%21%3D%20null%20%3F%20a%20%3A%20b%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%203%3A%20return%20a%20%21%3D%20null%20%3F%20a%20%3A%20b%20%21%3D%20null%20%3F%20b%20%3A%20c%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20throw%20new%20Error%28%27Implement%20me%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20hasOwnProp%28a%2C%20b%29%20%7B%0A%20%20%20%20%20%20%20%20return%20hasOwnProperty%2Ecall%28a%2C%20b%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20defaultParsingFlags%28%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20We%20need%20to%20deep%20clone%20this%20object%2C%20and%20es5%20standard%20is%20not%20very%0A%20%20%20%20%20%20%20%20%2F%2F%20helpful%2E%0A%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20empty%20%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20unusedTokens%20%3A%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20unusedInput%20%3A%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%20%3A%20%2D2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20charsLeftOver%20%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20nullInput%20%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20invalidMonth%20%3A%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20invalidFormat%20%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20userInvalidated%20%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20iso%3A%20false%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20printMsg%28msg%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28moment%2EsuppressDeprecationWarnings%20%3D%3D%3D%20false%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20typeof%20console%20%21%3D%3D%20%27undefined%27%20%26%26%20console%2Ewarn%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20console%2Ewarn%28%27Deprecation%20warning%3A%20%27%20%2B%20msg%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20deprecate%28msg%2C%20fn%29%20%7B%0A%20%20%20%20%20%20%20%20var%20firstTime%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20return%20extend%28function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28firstTime%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20printMsg%28msg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20firstTime%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20fn%2Eapply%28this%2C%20arguments%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%20fn%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20deprecateSimple%28name%2C%20msg%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21deprecations%5Bname%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20printMsg%28msg%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20deprecations%5Bname%5D%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20padToken%28func%2C%20count%29%20%7B%0A%20%20%20%20%20%20%20%20return%20function%20%28a%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20leftZeroFill%28func%2Ecall%28this%2C%20a%29%2C%20count%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20function%20ordinalizeToken%28func%2C%20period%29%20%7B%0A%20%20%20%20%20%20%20%20return%20function%20%28a%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2ElocaleData%28%29%2Eordinal%28func%2Ecall%28this%2C%20a%29%2C%20period%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20monthDiff%28a%2C%20b%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20difference%20in%20months%0A%20%20%20%20%20%20%20%20var%20wholeMonthDiff%20%3D%20%28%28b%2Eyear%28%29%20%2D%20a%2Eyear%28%29%29%20%2A%2012%29%20%2B%20%28b%2Emonth%28%29%20%2D%20a%2Emonth%28%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20b%20is%20in%20%28anchor%20%2D%201%20month%2C%20anchor%20%2B%201%20month%29%0A%20%20%20%20%20%20%20%20%20%20%20%20anchor%20%3D%20a%2Eclone%28%29%2Eadd%28wholeMonthDiff%2C%20%27months%27%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20anchor2%2C%20adjust%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28b%20%2D%20anchor%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20anchor2%20%3D%20a%2Eclone%28%29%2Eadd%28wholeMonthDiff%20%2D%201%2C%20%27months%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20linear%20across%20the%20month%0A%20%20%20%20%20%20%20%20%20%20%20%20adjust%20%3D%20%28b%20%2D%20anchor%29%20%2F%20%28anchor%20%2D%20anchor2%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20anchor2%20%3D%20a%2Eclone%28%29%2Eadd%28wholeMonthDiff%20%2B%201%2C%20%27months%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20linear%20across%20the%20month%0A%20%20%20%20%20%20%20%20%20%20%20%20adjust%20%3D%20%28b%20%2D%20anchor%29%20%2F%20%28anchor2%20%2D%20anchor%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20%2D%28wholeMonthDiff%20%2B%20adjust%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20while%20%28ordinalizeTokens%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20i%20%3D%20ordinalizeTokens%2Epop%28%29%3B%0A%20%20%20%20%20%20%20%20formatTokenFunctions%5Bi%20%2B%20%27o%27%5D%20%3D%20ordinalizeToken%28formatTokenFunctions%5Bi%5D%2C%20i%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20while%20%28paddedTokens%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20i%20%3D%20paddedTokens%2Epop%28%29%3B%0A%20%20%20%20%20%20%20%20formatTokenFunctions%5Bi%20%2B%20i%5D%20%3D%20padToken%28formatTokenFunctions%5Bi%5D%2C%202%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20formatTokenFunctions%2EDDDD%20%3D%20padToken%28formatTokenFunctions%2EDDD%2C%203%29%3B%0A%0A%0A%20%20%20%20function%20meridiemFixWrap%28locale%2C%20hour%2C%20meridiem%29%20%7B%0A%20%20%20%20%20%20%20%20var%20isPm%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28meridiem%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20nothing%20to%20do%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20hour%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28locale%2EmeridiemHour%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20locale%2EmeridiemHour%28hour%2C%20meridiem%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28locale%2EisPM%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Fallback%0A%20%20%20%20%20%20%20%20%20%20%20%20isPm%20%3D%20locale%2EisPM%28meridiem%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isPm%20%26%26%20hour%20%3C%2012%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hour%20%2B%3D%2012%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isPm%20%26%26%20hour%20%3D%3D%3D%2012%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hour%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20hour%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20thie%20is%20not%20supposed%20to%20happen%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20hour%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Constructors%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%20%20%20%20function%20Locale%28%29%20%7B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Moment%20prototype%20object%0A%20%20%20%20function%20Moment%28config%2C%20skipOverflow%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28skipOverflow%20%21%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20checkOverflow%28config%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20copyConfig%28this%2C%20config%29%3B%0A%20%20%20%20%20%20%20%20this%2E%5Fd%20%3D%20new%20Date%28%2Bconfig%2E%5Fd%29%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20Prevent%20infinite%20loop%20in%20case%20updateOffset%20creates%20new%20moment%0A%20%20%20%20%20%20%20%20%2F%2F%20objects%2E%0A%20%20%20%20%20%20%20%20if%20%28updateInProgress%20%3D%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20updateInProgress%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20moment%2EupdateOffset%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20updateInProgress%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Duration%20Constructor%0A%20%20%20%20function%20Duration%28duration%29%20%7B%0A%20%20%20%20%20%20%20%20var%20normalizedInput%20%3D%20normalizeObjectUnits%28duration%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20years%20%3D%20normalizedInput%2Eyear%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20quarters%20%3D%20normalizedInput%2Equarter%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20months%20%3D%20normalizedInput%2Emonth%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20weeks%20%3D%20normalizedInput%2Eweek%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20days%20%3D%20normalizedInput%2Eday%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hours%20%3D%20normalizedInput%2Ehour%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20minutes%20%3D%20normalizedInput%2Eminute%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20seconds%20%3D%20normalizedInput%2Esecond%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20milliseconds%20%3D%20normalizedInput%2Emillisecond%20%7C%7C%200%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20representation%20for%20dateAddRemove%0A%20%20%20%20%20%20%20%20this%2E%5Fmilliseconds%20%3D%20%2Bmilliseconds%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20seconds%20%2A%201e3%20%2B%20%2F%2F%201000%0A%20%20%20%20%20%20%20%20%20%20%20%20minutes%20%2A%206e4%20%2B%20%2F%2F%201000%20%2A%2060%0A%20%20%20%20%20%20%20%20%20%20%20%20hours%20%2A%2036e5%3B%20%2F%2F%201000%20%2A%2060%20%2A%2060%0A%20%20%20%20%20%20%20%20%2F%2F%20Because%20of%20dateAddRemove%20treats%2024%20hours%20as%20different%20from%20a%0A%20%20%20%20%20%20%20%20%2F%2F%20day%20when%20working%20around%20DST%2C%20we%20need%20to%20store%20them%20separately%0A%20%20%20%20%20%20%20%20this%2E%5Fdays%20%3D%20%2Bdays%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20weeks%20%2A%207%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20It%20is%20impossible%20translate%20months%20into%20days%20without%20knowing%0A%20%20%20%20%20%20%20%20%2F%2F%20which%20months%20you%20are%20are%20talking%20about%2C%20so%20we%20have%20to%20store%0A%20%20%20%20%20%20%20%20%2F%2F%20it%20separately%2E%0A%20%20%20%20%20%20%20%20this%2E%5Fmonths%20%3D%20%2Bmonths%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20quarters%20%2A%203%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20years%20%2A%2012%3B%0A%0A%20%20%20%20%20%20%20%20this%2E%5Fdata%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20%20%20%20%20this%2E%5Flocale%20%3D%20moment%2ElocaleData%28%29%3B%0A%0A%20%20%20%20%20%20%20%20this%2E%5Fbubble%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Helpers%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%0A%20%20%20%20function%20extend%28a%2C%20b%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20i%20in%20b%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasOwnProp%28b%2C%20i%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20a%5Bi%5D%20%3D%20b%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28hasOwnProp%28b%2C%20%27toString%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20a%2EtoString%20%3D%20b%2EtoString%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28hasOwnProp%28b%2C%20%27valueOf%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20a%2EvalueOf%20%3D%20b%2EvalueOf%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20a%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20copyConfig%28to%2C%20from%29%20%7B%0A%20%20%20%20%20%20%20%20var%20i%2C%20prop%2C%20val%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28typeof%20from%2E%5FisAMomentObject%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20to%2E%5FisAMomentObject%20%3D%20from%2E%5FisAMomentObject%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28typeof%20from%2E%5Fi%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20to%2E%5Fi%20%3D%20from%2E%5Fi%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28typeof%20from%2E%5Ff%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20to%2E%5Ff%20%3D%20from%2E%5Ff%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28typeof%20from%2E%5Fl%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20to%2E%5Fl%20%3D%20from%2E%5Fl%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28typeof%20from%2E%5Fstrict%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20to%2E%5Fstrict%20%3D%20from%2E%5Fstrict%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28typeof%20from%2E%5Ftzm%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20to%2E%5Ftzm%20%3D%20from%2E%5Ftzm%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28typeof%20from%2E%5FisUTC%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20to%2E%5FisUTC%20%3D%20from%2E%5FisUTC%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28typeof%20from%2E%5Foffset%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20to%2E%5Foffset%20%3D%20from%2E%5Foffset%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28typeof%20from%2E%5Fpf%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20to%2E%5Fpf%20%3D%20from%2E%5Fpf%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28typeof%20from%2E%5Flocale%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20to%2E%5Flocale%20%3D%20from%2E%5Flocale%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28momentProperties%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%20in%20momentProperties%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prop%20%3D%20momentProperties%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%20%3D%20from%5Bprop%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20val%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20to%5Bprop%5D%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20to%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20absRound%28number%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28number%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Math%2Eceil%28number%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Math%2Efloor%28number%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20left%20zero%20fill%20a%20number%0A%20%20%20%20%2F%2F%20see%20http%3A%2F%2Fjsperf%2Ecom%2Fleft%2Dzero%2Dfilling%20for%20performance%20comparison%0A%20%20%20%20function%20leftZeroFill%28number%2C%20targetLength%2C%20forceSign%29%20%7B%0A%20%20%20%20%20%20%20%20var%20output%20%3D%20%27%27%20%2B%20Math%2Eabs%28number%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sign%20%3D%20number%20%3E%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20while%20%28output%2Elength%20%3C%20targetLength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20%270%27%20%2B%20output%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20%28sign%20%3F%20%28forceSign%20%3F%20%27%2B%27%20%3A%20%27%27%29%20%3A%20%27%2D%27%29%20%2B%20output%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20positiveMomentsDifference%28base%2C%20other%29%20%7B%0A%20%20%20%20%20%20%20%20var%20res%20%3D%20%7Bmilliseconds%3A%200%2C%20months%3A%200%7D%3B%0A%0A%20%20%20%20%20%20%20%20res%2Emonths%20%3D%20other%2Emonth%28%29%20%2D%20base%2Emonth%28%29%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%28other%2Eyear%28%29%20%2D%20base%2Eyear%28%29%29%20%2A%2012%3B%0A%20%20%20%20%20%20%20%20if%20%28base%2Eclone%28%29%2Eadd%28res%2Emonths%2C%20%27M%27%29%2EisAfter%28other%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2D%2Dres%2Emonths%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20res%2Emilliseconds%20%3D%20%2Bother%20%2D%20%2B%28base%2Eclone%28%29%2Eadd%28res%2Emonths%2C%20%27M%27%29%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20res%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20momentsDifference%28base%2C%20other%29%20%7B%0A%20%20%20%20%20%20%20%20var%20res%3B%0A%20%20%20%20%20%20%20%20other%20%3D%20makeAs%28other%2C%20base%29%3B%0A%20%20%20%20%20%20%20%20if%20%28base%2EisBefore%28other%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20res%20%3D%20positiveMomentsDifference%28base%2C%20other%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20res%20%3D%20positiveMomentsDifference%28other%2C%20base%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20res%2Emilliseconds%20%3D%20%2Dres%2Emilliseconds%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20res%2Emonths%20%3D%20%2Dres%2Emonths%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20res%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20TODO%3A%20remove%20%27name%27%20arg%20after%20deprecation%20is%20removed%0A%20%20%20%20function%20createAdder%28direction%2C%20name%29%20%7B%0A%20%20%20%20%20%20%20%20return%20function%20%28val%2C%20period%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dur%2C%20tmp%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Finvert%20the%20arguments%2C%20but%20complain%20about%20it%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28period%20%21%3D%3D%20null%20%26%26%20%21isNaN%28%2Bperiod%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deprecateSimple%28name%2C%20%27moment%28%29%2E%27%20%2B%20name%20%20%2B%20%27%28period%2C%20number%29%20is%20deprecated%2E%20Please%20use%20moment%28%29%2E%27%20%2B%20name%20%2B%20%27%28number%2C%20period%29%2E%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tmp%20%3D%20val%3B%20val%20%3D%20period%3B%20period%20%3D%20tmp%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20val%20%3D%20typeof%20val%20%3D%3D%3D%20%27string%27%20%3F%20%2Bval%20%3A%20val%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20dur%20%3D%20moment%2Eduration%28val%2C%20period%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20addOrSubtractDurationFromMoment%28this%2C%20dur%2C%20direction%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20addOrSubtractDurationFromMoment%28mom%2C%20duration%2C%20isAdding%2C%20updateOffset%29%20%7B%0A%20%20%20%20%20%20%20%20var%20milliseconds%20%3D%20duration%2E%5Fmilliseconds%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20days%20%3D%20duration%2E%5Fdays%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20months%20%3D%20duration%2E%5Fmonths%3B%0A%20%20%20%20%20%20%20%20updateOffset%20%3D%20updateOffset%20%3D%3D%20null%20%3F%20true%20%3A%20updateOffset%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28milliseconds%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20mom%2E%5Fd%2EsetTime%28%2Bmom%2E%5Fd%20%2B%20milliseconds%20%2A%20isAdding%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28days%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rawSetter%28mom%2C%20%27Date%27%2C%20rawGetter%28mom%2C%20%27Date%27%29%20%2B%20days%20%2A%20isAdding%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28months%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rawMonthSetter%28mom%2C%20rawGetter%28mom%2C%20%27Month%27%29%20%2B%20months%20%2A%20isAdding%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28updateOffset%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20moment%2EupdateOffset%28mom%2C%20days%20%7C%7C%20months%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20check%20if%20is%20an%20array%0A%20%20%20%20function%20isArray%28input%29%20%7B%0A%20%20%20%20%20%20%20%20return%20Object%2Eprototype%2EtoString%2Ecall%28input%29%20%3D%3D%3D%20%27%5Bobject%20Array%5D%27%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20isDate%28input%29%20%7B%0A%20%20%20%20%20%20%20%20return%20Object%2Eprototype%2EtoString%2Ecall%28input%29%20%3D%3D%3D%20%27%5Bobject%20Date%5D%27%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20input%20instanceof%20Date%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20compare%20two%20arrays%2C%20return%20the%20number%20of%20differences%0A%20%20%20%20function%20compareArrays%28array1%2C%20array2%2C%20dontConvert%29%20%7B%0A%20%20%20%20%20%20%20%20var%20len%20%3D%20Math%2Emin%28array1%2Elength%2C%20array2%2Elength%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20lengthDiff%20%3D%20Math%2Eabs%28array1%2Elength%20%2D%20array2%2Elength%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20diffs%20%3D%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20i%3B%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20len%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28dontConvert%20%26%26%20array1%5Bi%5D%20%21%3D%3D%20array2%5Bi%5D%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%21dontConvert%20%26%26%20toInt%28array1%5Bi%5D%29%20%21%3D%3D%20toInt%28array2%5Bi%5D%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20diffs%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20diffs%20%2B%20lengthDiff%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20normalizeUnits%28units%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20lowered%20%3D%20units%2EtoLowerCase%28%29%2Ereplace%28%2F%28%2E%29s%24%2F%2C%20%27%241%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%20unitAliases%5Bunits%5D%20%7C%7C%20camelFunctions%5Blowered%5D%20%7C%7C%20lowered%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20units%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20normalizeObjectUnits%28inputObject%29%20%7B%0A%20%20%20%20%20%20%20%20var%20normalizedInput%20%3D%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20normalizedProp%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20prop%3B%0A%0A%20%20%20%20%20%20%20%20for%20%28prop%20in%20inputObject%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasOwnProp%28inputObject%2C%20prop%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normalizedProp%20%3D%20normalizeUnits%28prop%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28normalizedProp%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20normalizedInput%5BnormalizedProp%5D%20%3D%20inputObject%5Bprop%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20normalizedInput%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20makeList%28field%29%20%7B%0A%20%20%20%20%20%20%20%20var%20count%2C%20setter%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28field%2EindexOf%28%27week%27%29%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20count%20%3D%207%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20setter%20%3D%20%27day%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20%28field%2EindexOf%28%27month%27%29%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20count%20%3D%2012%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20setter%20%3D%20%27month%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20moment%5Bfield%5D%20%3D%20function%20%28format%2C%20index%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20i%2C%20getter%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20method%20%3D%20moment%2E%5Flocale%5Bfield%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20results%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20format%20%3D%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20index%20%3D%20format%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20getter%20%3D%20function%20%28i%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20m%20%3D%20moment%28%29%2Eutc%28%29%2Eset%28setter%2C%20i%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20method%2Ecall%28moment%2E%5Flocale%2C%20m%2C%20format%20%7C%7C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28index%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20getter%28index%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20count%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20results%2Epush%28getter%28i%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20results%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20toInt%28argumentForCoercion%29%20%7B%0A%20%20%20%20%20%20%20%20var%20coercedNumber%20%3D%20%2BargumentForCoercion%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28coercedNumber%20%21%3D%3D%200%20%26%26%20isFinite%28coercedNumber%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28coercedNumber%20%3E%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20Math%2Efloor%28coercedNumber%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20Math%2Eceil%28coercedNumber%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20value%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20daysInMonth%28year%2C%20month%29%20%7B%0A%20%20%20%20%20%20%20%20return%20new%20Date%28Date%2EUTC%28year%2C%20month%20%2B%201%2C%200%29%29%2EgetUTCDate%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20weeksInYear%28year%2C%20dow%2C%20doy%29%20%7B%0A%20%20%20%20%20%20%20%20return%20weekOfYear%28moment%28%5Byear%2C%2011%2C%2031%20%2B%20dow%20%2D%20doy%5D%29%2C%20dow%2C%20doy%29%2Eweek%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20daysInYear%28year%29%20%7B%0A%20%20%20%20%20%20%20%20return%20isLeapYear%28year%29%20%3F%20366%20%3A%20365%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20isLeapYear%28year%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%28year%20%25%204%20%3D%3D%3D%200%20%26%26%20year%20%25%20100%20%21%3D%3D%200%29%20%7C%7C%20year%20%25%20400%20%3D%3D%3D%200%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20checkOverflow%28m%29%20%7B%0A%20%20%20%20%20%20%20%20var%20overflow%3B%0A%20%20%20%20%20%20%20%20if%20%28m%2E%5Fa%20%26%26%20m%2E%5Fpf%2Eoverflow%20%3D%3D%3D%20%2D2%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%20%3D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fa%5BMONTH%5D%20%3C%200%20%7C%7C%20m%2E%5Fa%5BMONTH%5D%20%3E%2011%20%3F%20MONTH%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fa%5BDATE%5D%20%3C%201%20%7C%7C%20m%2E%5Fa%5BDATE%5D%20%3E%20daysInMonth%28m%2E%5Fa%5BYEAR%5D%2C%20m%2E%5Fa%5BMONTH%5D%29%20%3F%20DATE%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fa%5BHOUR%5D%20%3C%200%20%7C%7C%20m%2E%5Fa%5BHOUR%5D%20%3E%2024%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28m%2E%5Fa%5BHOUR%5D%20%3D%3D%3D%2024%20%26%26%20%28m%2E%5Fa%5BMINUTE%5D%20%21%3D%3D%200%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fa%5BSECOND%5D%20%21%3D%3D%200%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fa%5BMILLISECOND%5D%20%21%3D%3D%200%29%29%20%3F%20HOUR%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fa%5BMINUTE%5D%20%3C%200%20%7C%7C%20m%2E%5Fa%5BMINUTE%5D%20%3E%2059%20%3F%20MINUTE%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fa%5BSECOND%5D%20%3C%200%20%7C%7C%20m%2E%5Fa%5BSECOND%5D%20%3E%2059%20%3F%20SECOND%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fa%5BMILLISECOND%5D%20%3C%200%20%7C%7C%20m%2E%5Fa%5BMILLISECOND%5D%20%3E%20999%20%3F%20MILLISECOND%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2D1%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28m%2E%5Fpf%2E%5FoverflowDayOfYear%20%26%26%20%28overflow%20%3C%20YEAR%20%7C%7C%20overflow%20%3E%20DATE%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overflow%20%3D%20DATE%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fpf%2Eoverflow%20%3D%20overflow%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20isValid%28m%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28m%2E%5FisValid%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5FisValid%20%3D%20%21isNaN%28m%2E%5Fd%2EgetTime%28%29%29%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fpf%2Eoverflow%20%3C%200%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%21m%2E%5Fpf%2Eempty%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%21m%2E%5Fpf%2EinvalidMonth%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%21m%2E%5Fpf%2EnullInput%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%21m%2E%5Fpf%2EinvalidFormat%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%21m%2E%5Fpf%2EuserInvalidated%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28m%2E%5Fstrict%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5FisValid%20%3D%20m%2E%5FisValid%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fpf%2EcharsLeftOver%20%3D%3D%3D%200%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fpf%2EunusedTokens%2Elength%20%3D%3D%3D%200%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fpf%2EbigHour%20%3D%3D%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20m%2E%5FisValid%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20normalizeLocale%28key%29%20%7B%0A%20%20%20%20%20%20%20%20return%20key%20%3F%20key%2EtoLowerCase%28%29%2Ereplace%28%27%5F%27%2C%20%27%2D%27%29%20%3A%20key%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20pick%20the%20locale%20from%20the%20array%0A%20%20%20%20%2F%2F%20try%20%5B%27en%2Dau%27%2C%20%27en%2Dgb%27%5D%20as%20%27en%2Dau%27%2C%20%27en%2Dgb%27%2C%20%27en%27%2C%20as%20in%20move%20through%20the%20list%20trying%20each%0A%20%20%20%20%2F%2F%20substring%20from%20most%20specific%20to%20least%2C%20but%20move%20to%20the%20next%20array%20item%20if%20it%27s%20a%20more%20specific%20variant%20than%20the%20current%20root%0A%20%20%20%20function%20chooseLocale%28names%29%20%7B%0A%20%20%20%20%20%20%20%20var%20i%20%3D%200%2C%20j%2C%20next%2C%20locale%2C%20split%3B%0A%0A%20%20%20%20%20%20%20%20while%20%28i%20%3C%20names%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20split%20%3D%20normalizeLocale%28names%5Bi%5D%29%2Esplit%28%27%2D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20j%20%3D%20split%2Elength%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20next%20%3D%20normalizeLocale%28names%5Bi%20%2B%201%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20next%20%3D%20next%20%3F%20next%2Esplit%28%27%2D%27%29%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20%28j%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20locale%20%3D%20loadLocale%28split%2Eslice%280%2C%20j%29%2Ejoin%28%27%2D%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28locale%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20locale%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28next%20%26%26%20next%2Elength%20%3E%3D%20j%20%26%26%20compareArrays%28split%2C%20next%2C%20true%29%20%3E%3D%20j%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fthe%20next%20array%20item%20is%20better%20than%20a%20shallower%20substring%20of%20this%20one%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20j%2D%2D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20i%2B%2B%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20loadLocale%28name%29%20%7B%0A%20%20%20%20%20%20%20%20var%20oldLocale%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20if%20%28%21locales%5Bname%5D%20%26%26%20hasModule%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20oldLocale%20%3D%20moment%2Elocale%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20require%28%27%2E%2Flocale%2F%27%20%2B%20name%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20because%20defineLocale%20currently%20also%20sets%20the%20global%20locale%2C%20we%20want%20to%20undo%20that%20for%20lazy%20loaded%20locales%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moment%2Elocale%28oldLocale%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20%28e%29%20%7B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20locales%5Bname%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Return%20a%20moment%20from%20input%2C%20that%20is%20local%2Futc%2FutcOffset%20equivalent%20to%0A%20%20%20%20%2F%2F%20model%2E%0A%20%20%20%20function%20makeAs%28input%2C%20model%29%20%7B%0A%20%20%20%20%20%20%20%20var%20res%2C%20diff%3B%0A%20%20%20%20%20%20%20%20if%20%28model%2E%5FisUTC%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20res%20%3D%20model%2Eclone%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20diff%20%3D%20%28moment%2EisMoment%28input%29%20%7C%7C%20isDate%28input%29%20%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2Binput%20%3A%20%2Bmoment%28input%29%29%20%2D%20%28%2Bres%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Use%20low%2Dlevel%20api%2C%20because%20this%20fn%20is%20low%2Dlevel%20api%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20res%2E%5Fd%2EsetTime%28%2Bres%2E%5Fd%20%2B%20diff%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20moment%2EupdateOffset%28res%2C%20false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20res%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20moment%28input%29%2Elocal%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Locale%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%0A%20%20%20%20extend%28Locale%2Eprototype%2C%20%7B%0A%0A%20%20%20%20%20%20%20%20set%20%3A%20function%20%28config%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20prop%2C%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%20in%20config%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20prop%20%3D%20config%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20prop%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%5Bi%5D%20%3D%20prop%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%5B%27%5F%27%20%2B%20i%5D%20%3D%20prop%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Lenient%20ordinal%20parsing%20accepts%20just%20a%20number%20in%20addition%20to%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20number%20%2B%20%28possibly%29%20stuff%20coming%20from%20%5FordinalParseLenient%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FordinalParseLenient%20%3D%20new%20RegExp%28this%2E%5FordinalParse%2Esource%20%2B%20%27%7C%27%20%2B%20%2F%5Cd%7B1%2C2%7D%2F%2Esource%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%5Fmonths%20%3A%20%27January%5FFebruary%5FMarch%5FApril%5FMay%5FJune%5FJuly%5FAugust%5FSeptember%5FOctober%5FNovember%5FDecember%27%2Esplit%28%27%5F%27%29%2C%0A%20%20%20%20%20%20%20%20months%20%3A%20function%20%28m%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Fmonths%5Bm%2Emonth%28%29%5D%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%5FmonthsShort%20%3A%20%27Jan%5FFeb%5FMar%5FApr%5FMay%5FJun%5FJul%5FAug%5FSep%5FOct%5FNov%5FDec%27%2Esplit%28%27%5F%27%29%2C%0A%20%20%20%20%20%20%20%20monthsShort%20%3A%20function%20%28m%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5FmonthsShort%5Bm%2Emonth%28%29%5D%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20monthsParse%20%3A%20function%20%28monthName%2C%20format%2C%20strict%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20i%2C%20mom%2C%20regex%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this%2E%5FmonthsParse%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FmonthsParse%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FlongMonthsParse%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FshortMonthsParse%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%2012%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20make%20the%20regex%20if%20we%20don%27t%20have%20it%20already%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mom%20%3D%20moment%2Eutc%28%5B2000%2C%20i%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28strict%20%26%26%20%21this%2E%5FlongMonthsParse%5Bi%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FlongMonthsParse%5Bi%5D%20%3D%20new%20RegExp%28%27%5E%27%20%2B%20this%2Emonths%28mom%2C%20%27%27%29%2Ereplace%28%27%2E%27%2C%20%27%27%29%20%2B%20%27%24%27%2C%20%27i%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FshortMonthsParse%5Bi%5D%20%3D%20new%20RegExp%28%27%5E%27%20%2B%20this%2EmonthsShort%28mom%2C%20%27%27%29%2Ereplace%28%27%2E%27%2C%20%27%27%29%20%2B%20%27%24%27%2C%20%27i%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21strict%20%26%26%20%21this%2E%5FmonthsParse%5Bi%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20regex%20%3D%20%27%5E%27%20%2B%20this%2Emonths%28mom%2C%20%27%27%29%20%2B%20%27%7C%5E%27%20%2B%20this%2EmonthsShort%28mom%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FmonthsParse%5Bi%5D%20%3D%20new%20RegExp%28regex%2Ereplace%28%27%2E%27%2C%20%27%27%29%2C%20%27i%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20test%20the%20regex%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28strict%20%26%26%20format%20%3D%3D%3D%20%27MMMM%27%20%26%26%20this%2E%5FlongMonthsParse%5Bi%5D%2Etest%28monthName%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28strict%20%26%26%20format%20%3D%3D%3D%20%27MMM%27%20%26%26%20this%2E%5FshortMonthsParse%5Bi%5D%2Etest%28monthName%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21strict%20%26%26%20this%2E%5FmonthsParse%5Bi%5D%2Etest%28monthName%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%5Fweekdays%20%3A%20%27Sunday%5FMonday%5FTuesday%5FWednesday%5FThursday%5FFriday%5FSaturday%27%2Esplit%28%27%5F%27%29%2C%0A%20%20%20%20%20%20%20%20weekdays%20%3A%20function%20%28m%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Fweekdays%5Bm%2Eday%28%29%5D%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%5FweekdaysShort%20%3A%20%27Sun%5FMon%5FTue%5FWed%5FThu%5FFri%5FSat%27%2Esplit%28%27%5F%27%29%2C%0A%20%20%20%20%20%20%20%20weekdaysShort%20%3A%20function%20%28m%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5FweekdaysShort%5Bm%2Eday%28%29%5D%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%5FweekdaysMin%20%3A%20%27Su%5FMo%5FTu%5FWe%5FTh%5FFr%5FSa%27%2Esplit%28%27%5F%27%29%2C%0A%20%20%20%20%20%20%20%20weekdaysMin%20%3A%20function%20%28m%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5FweekdaysMin%5Bm%2Eday%28%29%5D%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20weekdaysParse%20%3A%20function%20%28weekdayName%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20i%2C%20mom%2C%20regex%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this%2E%5FweekdaysParse%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FweekdaysParse%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%207%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20make%20the%20regex%20if%20we%20don%27t%20have%20it%20already%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this%2E%5FweekdaysParse%5Bi%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mom%20%3D%20moment%28%5B2000%2C%201%5D%29%2Eday%28i%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20regex%20%3D%20%27%5E%27%20%2B%20this%2Eweekdays%28mom%2C%20%27%27%29%20%2B%20%27%7C%5E%27%20%2B%20this%2EweekdaysShort%28mom%2C%20%27%27%29%20%2B%20%27%7C%5E%27%20%2B%20this%2EweekdaysMin%28mom%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FweekdaysParse%5Bi%5D%20%3D%20new%20RegExp%28regex%2Ereplace%28%27%2E%27%2C%20%27%27%29%2C%20%27i%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20test%20the%20regex%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5FweekdaysParse%5Bi%5D%2Etest%28weekdayName%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20i%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%5FlongDateFormat%20%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20LTS%20%3A%20%27h%3Amm%3Ass%20A%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20LT%20%3A%20%27h%3Amm%20A%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20L%20%3A%20%27MM%2FDD%2FYYYY%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20LL%20%3A%20%27MMMM%20D%2C%20YYYY%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20LLL%20%3A%20%27MMMM%20D%2C%20YYYY%20LT%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20LLLL%20%3A%20%27dddd%2C%20MMMM%20D%2C%20YYYY%20LT%27%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20longDateFormat%20%3A%20function%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20output%20%3D%20this%2E%5FlongDateFormat%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21output%20%26%26%20this%2E%5FlongDateFormat%5Bkey%2EtoUpperCase%28%29%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20this%2E%5FlongDateFormat%5Bkey%2EtoUpperCase%28%29%5D%2Ereplace%28%2FMMMM%7CMM%7CDD%7Cdddd%2Fg%2C%20function%20%28val%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20val%2Eslice%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FlongDateFormat%5Bkey%5D%20%3D%20output%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20output%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isPM%20%3A%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20IE8%20Quirks%20Mode%20%26%20IE7%20Standards%20Mode%20do%20not%20allow%20accessing%20strings%20like%20arrays%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Using%20charAt%20should%20be%20more%20compatible%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%28%28input%20%2B%20%27%27%29%2EtoLowerCase%28%29%2EcharAt%280%29%20%3D%3D%3D%20%27p%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%5FmeridiemParse%20%3A%20%2F%5Bap%5D%5C%2E%3Fm%3F%5C%2E%3F%2Fi%2C%0A%20%20%20%20%20%20%20%20meridiem%20%3A%20function%20%28hours%2C%20minutes%2C%20isLower%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hours%20%3E%2011%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20isLower%20%3F%20%27pm%27%20%3A%20%27PM%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20isLower%20%3F%20%27am%27%20%3A%20%27AM%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%0A%20%20%20%20%20%20%20%20%5Fcalendar%20%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sameDay%20%3A%20%27%5BToday%20at%5D%20LT%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20nextDay%20%3A%20%27%5BTomorrow%20at%5D%20LT%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20nextWeek%20%3A%20%27dddd%20%5Bat%5D%20LT%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20lastDay%20%3A%20%27%5BYesterday%20at%5D%20LT%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20lastWeek%20%3A%20%27%5BLast%5D%20dddd%20%5Bat%5D%20LT%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sameElse%20%3A%20%27L%27%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20calendar%20%3A%20function%20%28key%2C%20mom%2C%20now%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20output%20%3D%20this%2E%5Fcalendar%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20typeof%20output%20%3D%3D%3D%20%27function%27%20%3F%20output%2Eapply%28mom%2C%20%5Bnow%5D%29%20%3A%20output%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%5FrelativeTime%20%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20future%20%3A%20%27in%20%25s%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20past%20%3A%20%27%25s%20ago%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20s%20%3A%20%27a%20few%20seconds%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20m%20%3A%20%27a%20minute%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mm%20%3A%20%27%25d%20minutes%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20h%20%3A%20%27an%20hour%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hh%20%3A%20%27%25d%20hours%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20d%20%3A%20%27a%20day%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20dd%20%3A%20%27%25d%20days%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20M%20%3A%20%27a%20month%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20MM%20%3A%20%27%25d%20months%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20y%20%3A%20%27a%20year%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20yy%20%3A%20%27%25d%20years%27%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20relativeTime%20%3A%20function%20%28number%2C%20withoutSuffix%2C%20string%2C%20isFuture%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20output%20%3D%20this%2E%5FrelativeTime%5Bstring%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%28typeof%20output%20%3D%3D%3D%20%27function%27%29%20%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%28number%2C%20withoutSuffix%2C%20string%2C%20isFuture%29%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%2Ereplace%28%2F%25d%2Fi%2C%20number%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20pastFuture%20%3A%20function%20%28diff%2C%20output%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20format%20%3D%20this%2E%5FrelativeTime%5Bdiff%20%3E%200%20%3F%20%27future%27%20%3A%20%27past%27%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20typeof%20format%20%3D%3D%3D%20%27function%27%20%3F%20format%28output%29%20%3A%20format%2Ereplace%28%2F%25s%2Fi%2C%20output%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20ordinal%20%3A%20function%20%28number%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Fordinal%2Ereplace%28%27%25d%27%2C%20number%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%5Fordinal%20%3A%20%27%25d%27%2C%0A%20%20%20%20%20%20%20%20%5FordinalParse%20%3A%20%2F%5Cd%7B1%2C2%7D%2F%2C%0A%0A%20%20%20%20%20%20%20%20preparse%20%3A%20function%20%28string%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20string%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20postformat%20%3A%20function%20%28string%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20string%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20week%20%3A%20function%20%28mom%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20weekOfYear%28mom%2C%20this%2E%5Fweek%2Edow%2C%20this%2E%5Fweek%2Edoy%29%2Eweek%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%5Fweek%20%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dow%20%3A%200%2C%20%2F%2F%20Sunday%20is%20the%20first%20day%20of%20the%20week%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20doy%20%3A%206%20%20%2F%2F%20The%20week%20that%20contains%20Jan%201st%20is%20the%20first%20week%20of%20the%20year%2E%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20firstDayOfWeek%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Fweek%2Edow%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20firstDayOfYear%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Fweek%2Edoy%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%5FinvalidDate%3A%20%27Invalid%20date%27%2C%0A%20%20%20%20%20%20%20%20invalidDate%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5FinvalidDate%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Formatting%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%0A%20%20%20%20function%20removeFormattingTokens%28input%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28input%2Ematch%28%2F%5C%5B%5B%5Cs%5CS%5D%2F%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20input%2Ereplace%28%2F%5E%5C%5B%7C%5C%5D%24%2Fg%2C%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20input%2Ereplace%28%2F%5C%5C%2Fg%2C%20%27%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20makeFormatFunction%28format%29%20%7B%0A%20%20%20%20%20%20%20%20var%20array%20%3D%20format%2Ematch%28formattingTokens%29%2C%20i%2C%20length%3B%0A%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20length%20%3D%20array%2Elength%3B%20i%20%3C%20length%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28formatTokenFunctions%5Barray%5Bi%5D%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20array%5Bi%5D%20%3D%20formatTokenFunctions%5Barray%5Bi%5D%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20array%5Bi%5D%20%3D%20removeFormattingTokens%28array%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20function%20%28mom%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20output%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20length%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%2B%3D%20array%5Bi%5D%20instanceof%20Function%20%3F%20array%5Bi%5D%2Ecall%28mom%2C%20format%29%20%3A%20array%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20output%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20format%20date%20using%20native%20date%20object%0A%20%20%20%20function%20formatMoment%28m%2C%20format%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21m%2EisValid%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20m%2ElocaleData%28%29%2EinvalidDate%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20format%20%3D%20expandFormat%28format%2C%20m%2ElocaleData%28%29%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28%21formatFunctions%5Bformat%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20formatFunctions%5Bformat%5D%20%3D%20makeFormatFunction%28format%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20formatFunctions%5Bformat%5D%28m%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20expandFormat%28format%2C%20locale%29%20%7B%0A%20%20%20%20%20%20%20%20var%20i%20%3D%205%3B%0A%0A%20%20%20%20%20%20%20%20function%20replaceLongDateFormatTokens%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20locale%2ElongDateFormat%28input%29%20%7C%7C%20input%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20localFormattingTokens%2ElastIndex%20%3D%200%3B%0A%20%20%20%20%20%20%20%20while%20%28i%20%3E%3D%200%20%26%26%20localFormattingTokens%2Etest%28format%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20format%2Ereplace%28localFormattingTokens%2C%20replaceLongDateFormatTokens%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20localFormattingTokens%2ElastIndex%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20i%20%2D%3D%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20format%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Parsing%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%0A%20%20%20%20%2F%2F%20get%20the%20regex%20to%20find%20the%20next%20token%0A%20%20%20%20function%20getParseRegexForToken%28token%2C%20config%29%20%7B%0A%20%20%20%20%20%20%20%20var%20a%2C%20strict%20%3D%20config%2E%5Fstrict%3B%0A%20%20%20%20%20%20%20%20switch%20%28token%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%27Q%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenOneDigit%3B%0A%20%20%20%20%20%20%20%20case%20%27DDDD%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenThreeDigits%3B%0A%20%20%20%20%20%20%20%20case%20%27YYYY%27%3A%0A%20%20%20%20%20%20%20%20case%20%27GGGG%27%3A%0A%20%20%20%20%20%20%20%20case%20%27gggg%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20strict%20%3F%20parseTokenFourDigits%20%3A%20parseTokenOneToFourDigits%3B%0A%20%20%20%20%20%20%20%20case%20%27Y%27%3A%0A%20%20%20%20%20%20%20%20case%20%27G%27%3A%0A%20%20%20%20%20%20%20%20case%20%27g%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenSignedNumber%3B%0A%20%20%20%20%20%20%20%20case%20%27YYYYYY%27%3A%0A%20%20%20%20%20%20%20%20case%20%27YYYYY%27%3A%0A%20%20%20%20%20%20%20%20case%20%27GGGGG%27%3A%0A%20%20%20%20%20%20%20%20case%20%27ggggg%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20strict%20%3F%20parseTokenSixDigits%20%3A%20parseTokenOneToSixDigits%3B%0A%20%20%20%20%20%20%20%20case%20%27S%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28strict%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenOneDigit%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20falls%20through%20%2A%2F%0A%20%20%20%20%20%20%20%20case%20%27SS%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28strict%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenTwoDigits%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20falls%20through%20%2A%2F%0A%20%20%20%20%20%20%20%20case%20%27SSS%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28strict%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenThreeDigits%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20falls%20through%20%2A%2F%0A%20%20%20%20%20%20%20%20case%20%27DDD%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenOneToThreeDigits%3B%0A%20%20%20%20%20%20%20%20case%20%27MMM%27%3A%0A%20%20%20%20%20%20%20%20case%20%27MMMM%27%3A%0A%20%20%20%20%20%20%20%20case%20%27dd%27%3A%0A%20%20%20%20%20%20%20%20case%20%27ddd%27%3A%0A%20%20%20%20%20%20%20%20case%20%27dddd%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenWord%3B%0A%20%20%20%20%20%20%20%20case%20%27a%27%3A%0A%20%20%20%20%20%20%20%20case%20%27A%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20config%2E%5Flocale%2E%5FmeridiemParse%3B%0A%20%20%20%20%20%20%20%20case%20%27x%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenOffsetMs%3B%0A%20%20%20%20%20%20%20%20case%20%27X%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenTimestampMs%3B%0A%20%20%20%20%20%20%20%20case%20%27Z%27%3A%0A%20%20%20%20%20%20%20%20case%20%27ZZ%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenTimezone%3B%0A%20%20%20%20%20%20%20%20case%20%27T%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenT%3B%0A%20%20%20%20%20%20%20%20case%20%27SSSS%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenDigits%3B%0A%20%20%20%20%20%20%20%20case%20%27MM%27%3A%0A%20%20%20%20%20%20%20%20case%20%27DD%27%3A%0A%20%20%20%20%20%20%20%20case%20%27YY%27%3A%0A%20%20%20%20%20%20%20%20case%20%27GG%27%3A%0A%20%20%20%20%20%20%20%20case%20%27gg%27%3A%0A%20%20%20%20%20%20%20%20case%20%27HH%27%3A%0A%20%20%20%20%20%20%20%20case%20%27hh%27%3A%0A%20%20%20%20%20%20%20%20case%20%27mm%27%3A%0A%20%20%20%20%20%20%20%20case%20%27ss%27%3A%0A%20%20%20%20%20%20%20%20case%20%27ww%27%3A%0A%20%20%20%20%20%20%20%20case%20%27WW%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20strict%20%3F%20parseTokenTwoDigits%20%3A%20parseTokenOneOrTwoDigits%3B%0A%20%20%20%20%20%20%20%20case%20%27M%27%3A%0A%20%20%20%20%20%20%20%20case%20%27D%27%3A%0A%20%20%20%20%20%20%20%20case%20%27d%27%3A%0A%20%20%20%20%20%20%20%20case%20%27H%27%3A%0A%20%20%20%20%20%20%20%20case%20%27h%27%3A%0A%20%20%20%20%20%20%20%20case%20%27m%27%3A%0A%20%20%20%20%20%20%20%20case%20%27s%27%3A%0A%20%20%20%20%20%20%20%20case%20%27w%27%3A%0A%20%20%20%20%20%20%20%20case%20%27W%27%3A%0A%20%20%20%20%20%20%20%20case%20%27e%27%3A%0A%20%20%20%20%20%20%20%20case%20%27E%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20parseTokenOneOrTwoDigits%3B%0A%20%20%20%20%20%20%20%20case%20%27Do%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20strict%20%3F%20config%2E%5Flocale%2E%5FordinalParse%20%3A%20config%2E%5Flocale%2E%5FordinalParseLenient%3B%0A%20%20%20%20%20%20%20%20default%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20a%20%3D%20new%20RegExp%28regexpEscape%28unescapeFormat%28token%2Ereplace%28%27%5C%5C%27%2C%20%27%27%29%29%2C%20%27i%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20a%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20utcOffsetFromString%28string%29%20%7B%0A%20%20%20%20%20%20%20%20string%20%3D%20string%20%7C%7C%20%27%27%3B%0A%20%20%20%20%20%20%20%20var%20possibleTzMatches%20%3D%20%28string%2Ematch%28parseTokenTimezone%29%20%7C%7C%20%5B%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tzChunk%20%3D%20possibleTzMatches%5BpossibleTzMatches%2Elength%20%2D%201%5D%20%7C%7C%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20parts%20%3D%20%28tzChunk%20%2B%20%27%27%29%2Ematch%28parseTimezoneChunker%29%20%7C%7C%20%5B%27%2D%27%2C%200%2C%200%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20minutes%20%3D%20%2B%28parts%5B1%5D%20%2A%2060%29%20%2B%20toInt%28parts%5B2%5D%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20parts%5B0%5D%20%3D%3D%3D%20%27%2B%27%20%3F%20minutes%20%3A%20%2Dminutes%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20function%20to%20convert%20string%20input%20to%20date%0A%20%20%20%20function%20addTimeToArrayFromToken%28token%2C%20input%2C%20config%29%20%7B%0A%20%20%20%20%20%20%20%20var%20a%2C%20datePartArray%20%3D%20config%2E%5Fa%3B%0A%0A%20%20%20%20%20%20%20%20switch%20%28token%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20QUARTER%0A%20%20%20%20%20%20%20%20case%20%27Q%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28input%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20datePartArray%5BMONTH%5D%20%3D%20%28toInt%28input%29%20%2D%201%29%20%2A%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20MONTH%0A%20%20%20%20%20%20%20%20case%20%27M%27%20%3A%20%2F%2F%20fall%20through%20to%20MM%0A%20%20%20%20%20%20%20%20case%20%27MM%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28input%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20datePartArray%5BMONTH%5D%20%3D%20toInt%28input%29%20%2D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27MMM%27%20%3A%20%2F%2F%20fall%20through%20to%20MMMM%0A%20%20%20%20%20%20%20%20case%20%27MMMM%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20a%20%3D%20config%2E%5Flocale%2EmonthsParse%28input%2C%20token%2C%20config%2E%5Fstrict%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20if%20we%20didn%27t%20find%20a%20month%20name%2C%20mark%20the%20date%20as%20invalid%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20datePartArray%5BMONTH%5D%20%3D%20a%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2EinvalidMonth%20%3D%20input%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20DAY%20OF%20MONTH%0A%20%20%20%20%20%20%20%20case%20%27D%27%20%3A%20%2F%2F%20fall%20through%20to%20DD%0A%20%20%20%20%20%20%20%20case%20%27DD%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28input%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20datePartArray%5BDATE%5D%20%3D%20toInt%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27Do%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28input%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20datePartArray%5BDATE%5D%20%3D%20toInt%28parseInt%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%2Ematch%28%2F%5Cd%7B1%2C2%7D%2F%29%5B0%5D%2C%2010%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20DAY%20OF%20YEAR%0A%20%20%20%20%20%20%20%20case%20%27DDD%27%20%3A%20%2F%2F%20fall%20through%20to%20DDDD%0A%20%20%20%20%20%20%20%20case%20%27DDDD%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28input%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5FdayOfYear%20%3D%20toInt%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20YEAR%0A%20%20%20%20%20%20%20%20case%20%27YY%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20datePartArray%5BYEAR%5D%20%3D%20moment%2EparseTwoDigitYear%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27YYYY%27%20%3A%0A%20%20%20%20%20%20%20%20case%20%27YYYYY%27%20%3A%0A%20%20%20%20%20%20%20%20case%20%27YYYYYY%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20datePartArray%5BYEAR%5D%20%3D%20toInt%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20AM%20%2F%20PM%0A%20%20%20%20%20%20%20%20case%20%27a%27%20%3A%20%2F%2F%20fall%20through%20to%20A%0A%20%20%20%20%20%20%20%20case%20%27A%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fmeridiem%20%3D%20input%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20config%2E%5FisPm%20%3D%20config%2E%5Flocale%2EisPM%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20HOUR%0A%20%20%20%20%20%20%20%20case%20%27h%27%20%3A%20%2F%2F%20fall%20through%20to%20hh%0A%20%20%20%20%20%20%20%20case%20%27hh%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2EbigHour%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20falls%20through%20%2A%2F%0A%20%20%20%20%20%20%20%20case%20%27H%27%20%3A%20%2F%2F%20fall%20through%20to%20HH%0A%20%20%20%20%20%20%20%20case%20%27HH%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20datePartArray%5BHOUR%5D%20%3D%20toInt%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20MINUTE%0A%20%20%20%20%20%20%20%20case%20%27m%27%20%3A%20%2F%2F%20fall%20through%20to%20mm%0A%20%20%20%20%20%20%20%20case%20%27mm%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20datePartArray%5BMINUTE%5D%20%3D%20toInt%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20SECOND%0A%20%20%20%20%20%20%20%20case%20%27s%27%20%3A%20%2F%2F%20fall%20through%20to%20ss%0A%20%20%20%20%20%20%20%20case%20%27ss%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20datePartArray%5BSECOND%5D%20%3D%20toInt%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20MILLISECOND%0A%20%20%20%20%20%20%20%20case%20%27S%27%20%3A%0A%20%20%20%20%20%20%20%20case%20%27SS%27%20%3A%0A%20%20%20%20%20%20%20%20case%20%27SSS%27%20%3A%0A%20%20%20%20%20%20%20%20case%20%27SSSS%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20datePartArray%5BMILLISECOND%5D%20%3D%20toInt%28%28%270%2E%27%20%2B%20input%29%20%2A%201000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20UNIX%20OFFSET%20%28MILLISECONDS%29%0A%20%20%20%20%20%20%20%20case%20%27x%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fd%20%3D%20new%20Date%28toInt%28input%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20UNIX%20TIMESTAMP%20WITH%20MS%0A%20%20%20%20%20%20%20%20case%20%27X%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fd%20%3D%20new%20Date%28parseFloat%28input%29%20%2A%201000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20TIMEZONE%0A%20%20%20%20%20%20%20%20case%20%27Z%27%20%3A%20%2F%2F%20fall%20through%20to%20ZZ%0A%20%20%20%20%20%20%20%20case%20%27ZZ%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5FuseUTC%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Ftzm%20%3D%20utcOffsetFromString%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20WEEKDAY%20%2D%20human%0A%20%20%20%20%20%20%20%20case%20%27dd%27%3A%0A%20%20%20%20%20%20%20%20case%20%27ddd%27%3A%0A%20%20%20%20%20%20%20%20case%20%27dddd%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20a%20%3D%20config%2E%5Flocale%2EweekdaysParse%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20if%20we%20didn%27t%20get%20a%20weekday%20name%2C%20mark%20the%20date%20as%20invalid%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28a%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fw%20%3D%20config%2E%5Fw%20%7C%7C%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fw%5B%27d%27%5D%20%3D%20a%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2EinvalidWeekday%20%3D%20input%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20WEEK%2C%20WEEK%20DAY%20%2D%20numeric%0A%20%20%20%20%20%20%20%20case%20%27w%27%3A%0A%20%20%20%20%20%20%20%20case%20%27ww%27%3A%0A%20%20%20%20%20%20%20%20case%20%27W%27%3A%0A%20%20%20%20%20%20%20%20case%20%27WW%27%3A%0A%20%20%20%20%20%20%20%20case%20%27d%27%3A%0A%20%20%20%20%20%20%20%20case%20%27e%27%3A%0A%20%20%20%20%20%20%20%20case%20%27E%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20token%20%3D%20token%2Esubstr%280%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20falls%20through%20%2A%2F%0A%20%20%20%20%20%20%20%20case%20%27gggg%27%3A%0A%20%20%20%20%20%20%20%20case%20%27GGGG%27%3A%0A%20%20%20%20%20%20%20%20case%20%27GGGGG%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20token%20%3D%20token%2Esubstr%280%2C%202%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fw%20%3D%20config%2E%5Fw%20%7C%7C%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fw%5Btoken%5D%20%3D%20toInt%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%20%27gg%27%3A%0A%20%20%20%20%20%20%20%20case%20%27GG%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fw%20%3D%20config%2E%5Fw%20%7C%7C%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fw%5Btoken%5D%20%3D%20moment%2EparseTwoDigitYear%28input%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20dayOfYearFromWeekInfo%28config%29%20%7B%0A%20%20%20%20%20%20%20%20var%20w%2C%20weekYear%2C%20week%2C%20weekday%2C%20dow%2C%20doy%2C%20temp%3B%0A%0A%20%20%20%20%20%20%20%20w%20%3D%20config%2E%5Fw%3B%0A%20%20%20%20%20%20%20%20if%20%28w%2EGG%20%21%3D%20null%20%7C%7C%20w%2EW%20%21%3D%20null%20%7C%7C%20w%2EE%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dow%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20doy%20%3D%204%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20We%20need%20to%20take%20the%20current%20isoWeekYear%2C%20but%20that%20depends%20on%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20how%20we%20interpret%20now%20%28local%2C%20utc%2C%20fixed%20offset%29%2E%20So%20create%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20a%20now%20version%20of%20current%20config%20%28take%20local%2Futc%2Foffset%20flags%2C%20and%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20create%20now%29%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20weekYear%20%3D%20dfl%28w%2EGG%2C%20config%2E%5Fa%5BYEAR%5D%2C%20weekOfYear%28moment%28%29%2C%201%2C%204%29%2Eyear%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20week%20%3D%20dfl%28w%2EW%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20weekday%20%3D%20dfl%28w%2EE%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dow%20%3D%20config%2E%5Flocale%2E%5Fweek%2Edow%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20doy%20%3D%20config%2E%5Flocale%2E%5Fweek%2Edoy%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20weekYear%20%3D%20dfl%28w%2Egg%2C%20config%2E%5Fa%5BYEAR%5D%2C%20weekOfYear%28moment%28%29%2C%20dow%2C%20doy%29%2Eyear%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20week%20%3D%20dfl%28w%2Ew%2C%201%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28w%2Ed%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20weekday%20%2D%2D%20low%20day%20numbers%20are%20considered%20next%20week%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20weekday%20%3D%20w%2Ed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28weekday%20%3C%20dow%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2B%2Bweek%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28w%2Ee%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20local%20weekday%20%2D%2D%20counting%20starts%20from%20begining%20of%20week%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20weekday%20%3D%20w%2Ee%20%2B%20dow%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20default%20to%20begining%20of%20week%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20weekday%20%3D%20dow%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20temp%20%3D%20dayOfYearFromWeeks%28weekYear%2C%20week%2C%20weekday%2C%20doy%2C%20dow%29%3B%0A%0A%20%20%20%20%20%20%20%20config%2E%5Fa%5BYEAR%5D%20%3D%20temp%2Eyear%3B%0A%20%20%20%20%20%20%20%20config%2E%5FdayOfYear%20%3D%20temp%2EdayOfYear%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20convert%20an%20array%20to%20a%20date%2E%0A%20%20%20%20%2F%2F%20the%20array%20should%20mirror%20the%20parameters%20below%0A%20%20%20%20%2F%2F%20note%3A%20all%20values%20past%20the%20year%20are%20optional%20and%20will%20default%20to%20the%20lowest%20possible%20value%2E%0A%20%20%20%20%2F%2F%20%5Byear%2C%20month%2C%20day%20%2C%20hour%2C%20minute%2C%20second%2C%20millisecond%5D%0A%20%20%20%20function%20dateFromConfig%28config%29%20%7B%0A%20%20%20%20%20%20%20%20var%20i%2C%20date%2C%20input%20%3D%20%5B%5D%2C%20currentDate%2C%20yearToUse%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5Fd%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20currentDate%20%3D%20currentDateArray%28config%29%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2Fcompute%20day%20of%20the%20year%20from%20weeks%20and%20weekdays%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5Fw%20%26%26%20config%2E%5Fa%5BDATE%5D%20%3D%3D%20null%20%26%26%20config%2E%5Fa%5BMONTH%5D%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dayOfYearFromWeekInfo%28config%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2Fif%20the%20day%20of%20the%20year%20is%20set%2C%20figure%20out%20what%20it%20is%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5FdayOfYear%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20yearToUse%20%3D%20dfl%28config%2E%5Fa%5BYEAR%5D%2C%20currentDate%5BYEAR%5D%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28config%2E%5FdayOfYear%20%3E%20daysInYear%28yearToUse%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2E%5FoverflowDayOfYear%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20date%20%3D%20makeUTCDate%28yearToUse%2C%200%2C%20config%2E%5FdayOfYear%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fa%5BMONTH%5D%20%3D%20date%2EgetUTCMonth%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fa%5BDATE%5D%20%3D%20date%2EgetUTCDate%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Default%20to%20current%20date%2E%0A%20%20%20%20%20%20%20%20%2F%2F%20%2A%20if%20no%20year%2C%20month%2C%20day%20of%20month%20are%20given%2C%20default%20to%20today%0A%20%20%20%20%20%20%20%20%2F%2F%20%2A%20if%20day%20of%20month%20is%20given%2C%20default%20month%20and%20year%0A%20%20%20%20%20%20%20%20%2F%2F%20%2A%20if%20month%20is%20given%2C%20default%20only%20year%0A%20%20%20%20%20%20%20%20%2F%2F%20%2A%20if%20year%20is%20given%2C%20don%27t%20default%20anything%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%203%20%26%26%20config%2E%5Fa%5Bi%5D%20%3D%3D%20null%3B%20%2B%2Bi%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fa%5Bi%5D%20%3D%20input%5Bi%5D%20%3D%20currentDate%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Zero%20out%20whatever%20was%20not%20defaulted%2C%20including%20time%0A%20%20%20%20%20%20%20%20for%20%28%3B%20i%20%3C%207%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fa%5Bi%5D%20%3D%20input%5Bi%5D%20%3D%20%28config%2E%5Fa%5Bi%5D%20%3D%3D%20null%29%20%3F%20%28i%20%3D%3D%3D%202%20%3F%201%20%3A%200%29%20%3A%20config%2E%5Fa%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Check%20for%2024%3A00%3A00%2E000%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5Fa%5BHOUR%5D%20%3D%3D%3D%2024%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fa%5BMINUTE%5D%20%3D%3D%3D%200%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fa%5BSECOND%5D%20%3D%3D%3D%200%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fa%5BMILLISECOND%5D%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5FnextDay%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fa%5BHOUR%5D%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20config%2E%5Fd%20%3D%20%28config%2E%5FuseUTC%20%3F%20makeUTCDate%20%3A%20makeDate%29%2Eapply%28null%2C%20input%29%3B%0A%20%20%20%20%20%20%20%20%2F%2F%20Apply%20timezone%20offset%20from%20input%2E%20The%20actual%20utcOffset%20can%20be%20changed%0A%20%20%20%20%20%20%20%20%2F%2F%20with%20parseZone%2E%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5Ftzm%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fd%2EsetUTCMinutes%28config%2E%5Fd%2EgetUTCMinutes%28%29%20%2D%20config%2E%5Ftzm%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5FnextDay%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fa%5BHOUR%5D%20%3D%2024%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20dateFromObject%28config%29%20%7B%0A%20%20%20%20%20%20%20%20var%20normalizedInput%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5Fd%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20normalizedInput%20%3D%20normalizeObjectUnits%28config%2E%5Fi%29%3B%0A%20%20%20%20%20%20%20%20config%2E%5Fa%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20normalizedInput%2Eyear%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20normalizedInput%2Emonth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20normalizedInput%2Eday%20%7C%7C%20normalizedInput%2Edate%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20normalizedInput%2Ehour%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20normalizedInput%2Eminute%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20normalizedInput%2Esecond%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20normalizedInput%2Emillisecond%0A%20%20%20%20%20%20%20%20%5D%3B%0A%0A%20%20%20%20%20%20%20%20dateFromConfig%28config%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20currentDateArray%28config%29%20%7B%0A%20%20%20%20%20%20%20%20var%20now%20%3D%20new%20Date%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5FuseUTC%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20now%2EgetUTCFullYear%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20now%2EgetUTCMonth%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20now%2EgetUTCDate%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%5Bnow%2EgetFullYear%28%29%2C%20now%2EgetMonth%28%29%2C%20now%2EgetDate%28%29%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20date%20from%20string%20and%20format%20string%0A%20%20%20%20function%20makeDateFromStringAndFormat%28config%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5Ff%20%3D%3D%3D%20moment%2EISO%5F8601%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20parseISO%28config%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20config%2E%5Fa%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20config%2E%5Fpf%2Eempty%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20This%20array%20is%20used%20to%20make%20a%20Date%2C%20either%20with%20%60new%20Date%60%20or%20%60Date%2EUTC%60%0A%20%20%20%20%20%20%20%20var%20string%20%3D%20%27%27%20%2B%20config%2E%5Fi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20i%2C%20parsedInput%2C%20tokens%2C%20token%2C%20skipped%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20stringLength%20%3D%20string%2Elength%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20totalParsedInputLength%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20tokens%20%3D%20expandFormat%28config%2E%5Ff%2C%20config%2E%5Flocale%29%2Ematch%28formattingTokens%29%20%7C%7C%20%5B%5D%3B%0A%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20tokens%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20token%20%3D%20tokens%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20parsedInput%20%3D%20%28string%2Ematch%28getParseRegexForToken%28token%2C%20config%29%29%20%7C%7C%20%5B%5D%29%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28parsedInput%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20skipped%20%3D%20string%2Esubstr%280%2C%20string%2EindexOf%28parsedInput%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28skipped%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2EunusedInput%2Epush%28skipped%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20string%20%3D%20string%2Eslice%28string%2EindexOf%28parsedInput%29%20%2B%20parsedInput%2Elength%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20totalParsedInputLength%20%2B%3D%20parsedInput%2Elength%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20don%27t%20parse%20if%20it%27s%20not%20a%20known%20token%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28formatTokenFunctions%5Btoken%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28parsedInput%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2Eempty%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2EunusedTokens%2Epush%28token%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addTimeToArrayFromToken%28token%2C%20parsedInput%2C%20config%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28config%2E%5Fstrict%20%26%26%20%21parsedInput%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2EunusedTokens%2Epush%28token%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20add%20remaining%20unparsed%20input%20length%20to%20the%20string%0A%20%20%20%20%20%20%20%20config%2E%5Fpf%2EcharsLeftOver%20%3D%20stringLength%20%2D%20totalParsedInputLength%3B%0A%20%20%20%20%20%20%20%20if%20%28string%2Elength%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2EunusedInput%2Epush%28string%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20clear%20%5F12h%20flag%20if%20hour%20is%20%3C%3D%2012%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5Fpf%2EbigHour%20%3D%3D%3D%20true%20%26%26%20config%2E%5Fa%5BHOUR%5D%20%3C%3D%2012%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2EbigHour%20%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%2F%20handle%20meridiem%0A%20%20%20%20%20%20%20%20config%2E%5Fa%5BHOUR%5D%20%3D%20meridiemFixWrap%28config%2E%5Flocale%2C%20config%2E%5Fa%5BHOUR%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fmeridiem%29%3B%0A%20%20%20%20%20%20%20%20dateFromConfig%28config%29%3B%0A%20%20%20%20%20%20%20%20checkOverflow%28config%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20unescapeFormat%28s%29%20%7B%0A%20%20%20%20%20%20%20%20return%20s%2Ereplace%28%2F%5C%5C%28%5C%5B%29%7C%5C%5C%28%5C%5D%29%7C%5C%5B%28%5B%5E%5C%5D%5C%5B%5D%2A%29%5C%5D%7C%5C%5C%28%2E%29%2Fg%2C%20function%20%28matched%2C%20p1%2C%20p2%2C%20p3%2C%20p4%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20p1%20%7C%7C%20p2%20%7C%7C%20p3%20%7C%7C%20p4%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20Code%20from%20http%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F3561493%2Fis%2Dthere%2Da%2Dregexp%2Descape%2Dfunction%2Din%2Djavascript%0A%20%20%20%20function%20regexpEscape%28s%29%20%7B%0A%20%20%20%20%20%20%20%20return%20s%2Ereplace%28%2F%5B%2D%5C%2F%5C%5C%5E%24%2A%2B%3F%2E%28%29%7C%5B%5C%5D%7B%7D%5D%2Fg%2C%20%27%5C%5C%24%26%27%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20date%20from%20string%20and%20array%20of%20format%20strings%0A%20%20%20%20function%20makeDateFromStringAndArray%28config%29%20%7B%0A%20%20%20%20%20%20%20%20var%20tempConfig%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20bestMoment%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20scoreToBeat%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20i%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20currentScore%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5Ff%2Elength%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2EinvalidFormat%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fd%20%3D%20new%20Date%28NaN%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20config%2E%5Ff%2Elength%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentScore%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tempConfig%20%3D%20copyConfig%28%7B%7D%2C%20config%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28config%2E%5FuseUTC%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tempConfig%2E%5FuseUTC%20%3D%20config%2E%5FuseUTC%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20tempConfig%2E%5Fpf%20%3D%20defaultParsingFlags%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20tempConfig%2E%5Ff%20%3D%20config%2E%5Ff%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20makeDateFromStringAndFormat%28tempConfig%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isValid%28tempConfig%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20if%20there%20is%20any%20input%20that%20was%20not%20parsed%20add%20a%20penalty%20for%20that%20format%0A%20%20%20%20%20%20%20%20%20%20%20%20currentScore%20%2B%3D%20tempConfig%2E%5Fpf%2EcharsLeftOver%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2For%20tokens%0A%20%20%20%20%20%20%20%20%20%20%20%20currentScore%20%2B%3D%20tempConfig%2E%5Fpf%2EunusedTokens%2Elength%20%2A%2010%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20tempConfig%2E%5Fpf%2Escore%20%3D%20currentScore%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28scoreToBeat%20%3D%3D%20null%20%7C%7C%20currentScore%20%3C%20scoreToBeat%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scoreToBeat%20%3D%20currentScore%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bestMoment%20%3D%20tempConfig%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20extend%28config%2C%20bestMoment%20%7C%7C%20tempConfig%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20date%20from%20iso%20format%0A%20%20%20%20function%20parseISO%28config%29%20%7B%0A%20%20%20%20%20%20%20%20var%20i%2C%20l%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20string%20%3D%20config%2E%5Fi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20match%20%3D%20isoRegex%2Eexec%28string%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28match%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fpf%2Eiso%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20l%20%3D%20isoDates%2Elength%3B%20i%20%3C%20l%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isoDates%5Bi%5D%5B1%5D%2Eexec%28string%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20match%5B5%5D%20should%20be%20%27T%27%20or%20undefined%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Ff%20%3D%20isoDates%5Bi%5D%5B0%5D%20%2B%20%28match%5B6%5D%20%7C%7C%20%27%20%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%2C%20l%20%3D%20isoTimes%2Elength%3B%20i%20%3C%20l%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isoTimes%5Bi%5D%5B1%5D%2Eexec%28string%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Ff%20%2B%3D%20isoTimes%5Bi%5D%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28string%2Ematch%28parseTokenTimezone%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Ff%20%2B%3D%20%27Z%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20makeDateFromStringAndFormat%28config%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5FisValid%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20date%20from%20iso%20format%20or%20fallback%0A%20%20%20%20function%20makeDateFromString%28config%29%20%7B%0A%20%20%20%20%20%20%20%20parseISO%28config%29%3B%0A%20%20%20%20%20%20%20%20if%20%28config%2E%5FisValid%20%3D%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20delete%20config%2E%5FisValid%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20moment%2EcreateFromInputFallback%28config%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20map%28arr%2C%20fn%29%20%7B%0A%20%20%20%20%20%20%20%20var%20res%20%3D%20%5B%5D%2C%20i%3B%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%20arr%2Elength%3B%20%2B%2Bi%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20res%2Epush%28fn%28arr%5Bi%5D%2C%20i%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20res%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20makeDateFromInput%28config%29%20%7B%0A%20%20%20%20%20%20%20%20var%20input%20%3D%20config%2E%5Fi%2C%20matched%3B%0A%20%20%20%20%20%20%20%20if%20%28input%20%3D%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fd%20%3D%20new%20Date%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isDate%28input%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fd%20%3D%20new%20Date%28%2Binput%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%28matched%20%3D%20aspNetJsonRegex%2Eexec%28input%29%29%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fd%20%3D%20new%20Date%28%2Bmatched%5B1%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28typeof%20input%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20makeDateFromString%28config%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isArray%28input%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fa%20%3D%20map%28input%2Eslice%280%29%2C%20function%20%28obj%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20parseInt%28obj%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20dateFromConfig%28config%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28typeof%28input%29%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dateFromObject%28config%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28typeof%28input%29%20%3D%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20from%20milliseconds%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fd%20%3D%20new%20Date%28input%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20moment%2EcreateFromInputFallback%28config%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20makeDate%28y%2C%20m%2C%20d%2C%20h%2C%20M%2C%20s%2C%20ms%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2Fcan%27t%20just%20apply%28%29%20to%20create%20a%20date%3A%0A%20%20%20%20%20%20%20%20%2F%2Fhttp%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F181348%2Finstantiating%2Da%2Djavascript%2Dobject%2Dby%2Dcalling%2Dprototype%2Dconstructor%2Dapply%0A%20%20%20%20%20%20%20%20var%20date%20%3D%20new%20Date%28y%2C%20m%2C%20d%2C%20h%2C%20M%2C%20s%2C%20ms%29%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2Fthe%20date%20constructor%20doesn%27t%20accept%20years%20%3C%201970%0A%20%20%20%20%20%20%20%20if%20%28y%20%3C%201970%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20date%2EsetFullYear%28y%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20date%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20makeUTCDate%28y%29%20%7B%0A%20%20%20%20%20%20%20%20var%20date%20%3D%20new%20Date%28Date%2EUTC%2Eapply%28null%2C%20arguments%29%29%3B%0A%20%20%20%20%20%20%20%20if%20%28y%20%3C%201970%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20date%2EsetUTCFullYear%28y%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20date%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20parseWeekday%28input%2C%20locale%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28typeof%20input%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isNaN%28input%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20parseInt%28input%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20locale%2EweekdaysParse%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20input%20%21%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20input%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Relative%20Time%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%0A%20%20%20%20%2F%2F%20helper%20function%20for%20moment%2Efn%2Efrom%2C%20moment%2Efn%2EfromNow%2C%20and%20moment%2Eduration%2Efn%2Ehumanize%0A%20%20%20%20function%20substituteTimeAgo%28string%2C%20number%2C%20withoutSuffix%2C%20isFuture%2C%20locale%29%20%7B%0A%20%20%20%20%20%20%20%20return%20locale%2ErelativeTime%28number%20%7C%7C%201%2C%20%21%21withoutSuffix%2C%20string%2C%20isFuture%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20relativeTime%28posNegDuration%2C%20withoutSuffix%2C%20locale%29%20%7B%0A%20%20%20%20%20%20%20%20var%20duration%20%3D%20moment%2Eduration%28posNegDuration%29%2Eabs%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20seconds%20%3D%20round%28duration%2Eas%28%27s%27%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20minutes%20%3D%20round%28duration%2Eas%28%27m%27%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20hours%20%3D%20round%28duration%2Eas%28%27h%27%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20days%20%3D%20round%28duration%2Eas%28%27d%27%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20months%20%3D%20round%28duration%2Eas%28%27M%27%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20years%20%3D%20round%28duration%2Eas%28%27y%27%29%29%2C%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20args%20%3D%20seconds%20%3C%20relativeTimeThresholds%2Es%20%26%26%20%5B%27s%27%2C%20seconds%5D%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20minutes%20%3D%3D%3D%201%20%26%26%20%5B%27m%27%5D%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20minutes%20%3C%20relativeTimeThresholds%2Em%20%26%26%20%5B%27mm%27%2C%20minutes%5D%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hours%20%3D%3D%3D%201%20%26%26%20%5B%27h%27%5D%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hours%20%3C%20relativeTimeThresholds%2Eh%20%26%26%20%5B%27hh%27%2C%20hours%5D%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20days%20%3D%3D%3D%201%20%26%26%20%5B%27d%27%5D%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20days%20%3C%20relativeTimeThresholds%2Ed%20%26%26%20%5B%27dd%27%2C%20days%5D%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20months%20%3D%3D%3D%201%20%26%26%20%5B%27M%27%5D%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20months%20%3C%20relativeTimeThresholds%2EM%20%26%26%20%5B%27MM%27%2C%20months%5D%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20years%20%3D%3D%3D%201%20%26%26%20%5B%27y%27%5D%20%7C%7C%20%5B%27yy%27%2C%20years%5D%3B%0A%0A%20%20%20%20%20%20%20%20args%5B2%5D%20%3D%20withoutSuffix%3B%0A%20%20%20%20%20%20%20%20args%5B3%5D%20%3D%20%2BposNegDuration%20%3E%200%3B%0A%20%20%20%20%20%20%20%20args%5B4%5D%20%3D%20locale%3B%0A%20%20%20%20%20%20%20%20return%20substituteTimeAgo%2Eapply%28%7B%7D%2C%20args%29%3B%0A%20%20%20%20%7D%0A%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Week%20of%20Year%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%0A%20%20%20%20%2F%2F%20firstDayOfWeek%20%20%20%20%20%20%200%20%3D%20sun%2C%206%20%3D%20sat%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20the%20day%20of%20the%20week%20that%20starts%20the%20week%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28usually%20sunday%20or%20monday%29%0A%20%20%20%20%2F%2F%20firstDayOfWeekOfYear%200%20%3D%20sun%2C%206%20%3D%20sat%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20the%20first%20week%20is%20the%20week%20that%20contains%20the%20first%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20of%20this%20day%20of%20the%20week%0A%20%20%20%20%2F%2F%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28eg%2E%20ISO%20weeks%20use%20thursday%20%284%29%29%0A%20%20%20%20function%20weekOfYear%28mom%2C%20firstDayOfWeek%2C%20firstDayOfWeekOfYear%29%20%7B%0A%20%20%20%20%20%20%20%20var%20end%20%3D%20firstDayOfWeekOfYear%20%2D%20firstDayOfWeek%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20daysToDayOfWeek%20%3D%20firstDayOfWeekOfYear%20%2D%20mom%2Eday%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20adjustedMoment%3B%0A%0A%0A%20%20%20%20%20%20%20%20if%20%28daysToDayOfWeek%20%3E%20end%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20daysToDayOfWeek%20%2D%3D%207%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28daysToDayOfWeek%20%3C%20end%20%2D%207%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20daysToDayOfWeek%20%2B%3D%207%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20adjustedMoment%20%3D%20moment%28mom%29%2Eadd%28daysToDayOfWeek%2C%20%27d%27%29%3B%0A%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20week%3A%20Math%2Eceil%28adjustedMoment%2EdayOfYear%28%29%20%2F%207%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20year%3A%20adjustedMoment%2Eyear%28%29%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2Fhttp%3A%2F%2Fen%2Ewikipedia%2Eorg%2Fwiki%2FISO%5Fweek%5Fdate%23Calculating%5Fa%5Fdate%5Fgiven%5Fthe%5Fyear%2E2C%5Fweek%5Fnumber%5Fand%5Fweekday%0A%20%20%20%20function%20dayOfYearFromWeeks%28year%2C%20week%2C%20weekday%2C%20firstDayOfWeekOfYear%2C%20firstDayOfWeek%29%20%7B%0A%20%20%20%20%20%20%20%20var%20d%20%3D%20makeUTCDate%28year%2C%200%2C%201%29%2EgetUTCDay%28%29%2C%20daysToAdd%2C%20dayOfYear%3B%0A%0A%20%20%20%20%20%20%20%20d%20%3D%20d%20%3D%3D%3D%200%20%3F%207%20%3A%20d%3B%0A%20%20%20%20%20%20%20%20weekday%20%3D%20weekday%20%21%3D%20null%20%3F%20weekday%20%3A%20firstDayOfWeek%3B%0A%20%20%20%20%20%20%20%20daysToAdd%20%3D%20firstDayOfWeek%20%2D%20d%20%2B%20%28d%20%3E%20firstDayOfWeekOfYear%20%3F%207%20%3A%200%29%20%2D%20%28d%20%3C%20firstDayOfWeek%20%3F%207%20%3A%200%29%3B%0A%20%20%20%20%20%20%20%20dayOfYear%20%3D%207%20%2A%20%28week%20%2D%201%29%20%2B%20%28weekday%20%2D%20firstDayOfWeek%29%20%2B%20daysToAdd%20%2B%201%3B%0A%0A%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20year%3A%20dayOfYear%20%3E%200%20%3F%20year%20%3A%20year%20%2D%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20dayOfYear%3A%20dayOfYear%20%3E%200%20%3F%20%20dayOfYear%20%3A%20daysInYear%28year%20%2D%201%29%20%2B%20dayOfYear%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Top%20Level%20Functions%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%20%20%20%20function%20makeMoment%28config%29%20%7B%0A%20%20%20%20%20%20%20%20var%20input%20%3D%20config%2E%5Fi%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20config%2E%5Ff%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20res%3B%0A%0A%20%20%20%20%20%20%20%20config%2E%5Flocale%20%3D%20config%2E%5Flocale%20%7C%7C%20moment%2ElocaleData%28config%2E%5Fl%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28input%20%3D%3D%3D%20null%20%7C%7C%20%28format%20%3D%3D%3D%20undefined%20%26%26%20input%20%3D%3D%3D%20%27%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20moment%2Einvalid%28%7BnullInput%3A%20true%7D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28typeof%20input%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fi%20%3D%20input%20%3D%20config%2E%5Flocale%2Epreparse%28input%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28moment%2EisMoment%28input%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20new%20Moment%28input%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28format%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isArray%28format%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20makeDateFromStringAndArray%28config%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20makeDateFromStringAndFormat%28config%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20makeDateFromInput%28config%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20res%20%3D%20new%20Moment%28config%29%3B%0A%20%20%20%20%20%20%20%20if%20%28res%2E%5FnextDay%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Adding%20is%20smart%20enough%20around%20DST%0A%20%20%20%20%20%20%20%20%20%20%20%20res%2Eadd%281%2C%20%27d%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20res%2E%5FnextDay%20%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20res%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20moment%20%3D%20function%20%28input%2C%20format%2C%20locale%2C%20strict%29%20%7B%0A%20%20%20%20%20%20%20%20var%20c%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28typeof%28locale%29%20%3D%3D%3D%20%27boolean%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20strict%20%3D%20locale%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20locale%20%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%2F%20object%20construction%20must%20be%20done%20this%20way%2E%0A%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fgithub%2Ecom%2Fmoment%2Fmoment%2Fissues%2F1423%0A%20%20%20%20%20%20%20%20c%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20c%2E%5FisAMomentObject%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20c%2E%5Fi%20%3D%20input%3B%0A%20%20%20%20%20%20%20%20c%2E%5Ff%20%3D%20format%3B%0A%20%20%20%20%20%20%20%20c%2E%5Fl%20%3D%20locale%3B%0A%20%20%20%20%20%20%20%20c%2E%5Fstrict%20%3D%20strict%3B%0A%20%20%20%20%20%20%20%20c%2E%5FisUTC%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20c%2E%5Fpf%20%3D%20defaultParsingFlags%28%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20makeMoment%28c%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20moment%2EsuppressDeprecationWarnings%20%3D%20false%3B%0A%0A%20%20%20%20moment%2EcreateFromInputFallback%20%3D%20deprecate%28%0A%20%20%20%20%20%20%20%20%27moment%20construction%20falls%20back%20to%20js%20Date%2E%20This%20is%20%27%20%2B%0A%20%20%20%20%20%20%20%20%27discouraged%20and%20will%20be%20removed%20in%20upcoming%20major%20%27%20%2B%0A%20%20%20%20%20%20%20%20%27release%2E%20Please%20refer%20to%20%27%20%2B%0A%20%20%20%20%20%20%20%20%27https%3A%2F%2Fgithub%2Ecom%2Fmoment%2Fmoment%2Fissues%2F1407%20for%20more%20info%2E%27%2C%0A%20%20%20%20%20%20%20%20function%20%28config%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20config%2E%5Fd%20%3D%20new%20Date%28config%2E%5Fi%20%2B%20%28config%2E%5FuseUTC%20%3F%20%27%20UTC%27%20%3A%20%27%27%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%29%3B%0A%0A%20%20%20%20%2F%2F%20Pick%20a%20moment%20m%20from%20moments%20so%20that%20m%5Bfn%5D%28other%29%20is%20true%20for%20all%0A%20%20%20%20%2F%2F%20other%2E%20This%20relies%20on%20the%20function%20fn%20to%20be%20transitive%2E%0A%20%20%20%20%2F%2F%0A%20%20%20%20%2F%2F%20moments%20should%20either%20be%20an%20array%20of%20moment%20objects%20or%20an%20array%2C%20whose%0A%20%20%20%20%2F%2F%20first%20element%20is%20an%20array%20of%20moment%20objects%2E%0A%20%20%20%20function%20pickBy%28fn%2C%20moments%29%20%7B%0A%20%20%20%20%20%20%20%20var%20res%2C%20i%3B%0A%20%20%20%20%20%20%20%20if%20%28moments%2Elength%20%3D%3D%3D%201%20%26%26%20isArray%28moments%5B0%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20moments%20%3D%20moments%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28%21moments%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20moment%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20res%20%3D%20moments%5B0%5D%3B%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%201%3B%20i%20%3C%20moments%2Elength%3B%20%2B%2Bi%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28moments%5Bi%5D%5Bfn%5D%28res%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20res%20%3D%20moments%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20res%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20moment%2Emin%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20args%20%3D%20%5B%5D%2Eslice%2Ecall%28arguments%2C%200%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20pickBy%28%27isBefore%27%2C%20args%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20moment%2Emax%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20args%20%3D%20%5B%5D%2Eslice%2Ecall%28arguments%2C%200%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20pickBy%28%27isAfter%27%2C%20args%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20creating%20with%20utc%0A%20%20%20%20moment%2Eutc%20%3D%20function%20%28input%2C%20format%2C%20locale%2C%20strict%29%20%7B%0A%20%20%20%20%20%20%20%20var%20c%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28typeof%28locale%29%20%3D%3D%3D%20%27boolean%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20strict%20%3D%20locale%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20locale%20%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%2F%2F%20object%20construction%20must%20be%20done%20this%20way%2E%0A%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fgithub%2Ecom%2Fmoment%2Fmoment%2Fissues%2F1423%0A%20%20%20%20%20%20%20%20c%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20c%2E%5FisAMomentObject%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20c%2E%5FuseUTC%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20c%2E%5FisUTC%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20c%2E%5Fl%20%3D%20locale%3B%0A%20%20%20%20%20%20%20%20c%2E%5Fi%20%3D%20input%3B%0A%20%20%20%20%20%20%20%20c%2E%5Ff%20%3D%20format%3B%0A%20%20%20%20%20%20%20%20c%2E%5Fstrict%20%3D%20strict%3B%0A%20%20%20%20%20%20%20%20c%2E%5Fpf%20%3D%20defaultParsingFlags%28%29%3B%0A%0A%20%20%20%20%20%20%20%20return%20makeMoment%28c%29%2Eutc%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20creating%20with%20unix%20timestamp%20%28in%20seconds%29%0A%20%20%20%20moment%2Eunix%20%3D%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20return%20moment%28input%20%2A%201000%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20duration%0A%20%20%20%20moment%2Eduration%20%3D%20function%20%28input%2C%20key%29%20%7B%0A%20%20%20%20%20%20%20%20var%20duration%20%3D%20input%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20matching%20against%20regexp%20is%20expensive%2C%20do%20it%20on%20demand%0A%20%20%20%20%20%20%20%20%20%20%20%20match%20%3D%20null%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20sign%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20ret%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20parseIso%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20diffRes%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28moment%2EisDuration%28input%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20duration%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ms%3A%20input%2E%5Fmilliseconds%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%3A%20input%2E%5Fdays%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M%3A%20input%2E%5Fmonths%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28typeof%20input%20%3D%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20duration%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20duration%5Bkey%5D%20%3D%20input%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20duration%2Emilliseconds%20%3D%20input%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21%21%28match%20%3D%20aspNetTimeSpanJsonRegex%2Eexec%28input%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sign%20%3D%20%28match%5B1%5D%20%3D%3D%3D%20%27%2D%27%29%20%3F%20%2D1%20%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20duration%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%3A%20toInt%28match%5BDATE%5D%29%20%2A%20sign%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20h%3A%20toInt%28match%5BHOUR%5D%29%20%2A%20sign%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%3A%20toInt%28match%5BMINUTE%5D%29%20%2A%20sign%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s%3A%20toInt%28match%5BSECOND%5D%29%20%2A%20sign%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ms%3A%20toInt%28match%5BMILLISECOND%5D%29%20%2A%20sign%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21%21%28match%20%3D%20isoDurationRegex%2Eexec%28input%29%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sign%20%3D%20%28match%5B1%5D%20%3D%3D%3D%20%27%2D%27%29%20%3F%20%2D1%20%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20parseIso%20%3D%20function%20%28inp%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20We%27d%20normally%20use%20%7E%7Einp%20for%20this%2C%20but%20unfortunately%20it%20also%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20converts%20floats%20to%20ints%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20inp%20may%20be%20undefined%2C%20so%20careful%20calling%20replace%20on%20it%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20res%20%3D%20inp%20%26%26%20parseFloat%28inp%2Ereplace%28%27%2C%27%2C%20%27%2E%27%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20apply%20sign%20while%20we%27re%20at%20it%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%28isNaN%28res%29%20%3F%200%20%3A%20res%29%20%2A%20sign%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20duration%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3A%20parseIso%28match%5B2%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20M%3A%20parseIso%28match%5B3%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%3A%20parseIso%28match%5B4%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20h%3A%20parseIso%28match%5B5%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%3A%20parseIso%28match%5B6%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20s%3A%20parseIso%28match%5B7%5D%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20w%3A%20parseIso%28match%5B8%5D%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28duration%20%3D%3D%20null%29%20%7B%2F%2F%20checks%20for%20null%20or%20undefined%0A%20%20%20%20%20%20%20%20%20%20%20%20duration%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28typeof%20duration%20%3D%3D%3D%20%27object%27%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%27from%27%20in%20duration%20%7C%7C%20%27to%27%20in%20duration%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20diffRes%20%3D%20momentsDifference%28moment%28duration%2Efrom%29%2C%20moment%28duration%2Eto%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20duration%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20duration%2Ems%20%3D%20diffRes%2Emilliseconds%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20duration%2EM%20%3D%20diffRes%2Emonths%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20ret%20%3D%20new%20Duration%28duration%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28moment%2EisDuration%28input%29%20%26%26%20hasOwnProp%28input%2C%20%27%5Flocale%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ret%2E%5Flocale%20%3D%20input%2E%5Flocale%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20ret%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20version%20number%0A%20%20%20%20moment%2Eversion%20%3D%20VERSION%3B%0A%0A%20%20%20%20%2F%2F%20default%20format%0A%20%20%20%20moment%2EdefaultFormat%20%3D%20isoFormat%3B%0A%0A%20%20%20%20%2F%2F%20constant%20that%20refers%20to%20the%20ISO%20standard%0A%20%20%20%20moment%2EISO%5F8601%20%3D%20function%20%28%29%20%7B%7D%3B%0A%0A%20%20%20%20%2F%2F%20Plugins%20that%20add%20properties%20should%20also%20add%20the%20key%20here%20%28null%20value%29%2C%0A%20%20%20%20%2F%2F%20so%20we%20can%20properly%20clone%20ourselves%2E%0A%20%20%20%20moment%2EmomentProperties%20%3D%20momentProperties%3B%0A%0A%20%20%20%20%2F%2F%20This%20function%20will%20be%20called%20whenever%20a%20moment%20is%20mutated%2E%0A%20%20%20%20%2F%2F%20It%20is%20intended%20to%20keep%20the%20offset%20in%20sync%20with%20the%20timezone%2E%0A%20%20%20%20moment%2EupdateOffset%20%3D%20function%20%28%29%20%7B%7D%3B%0A%0A%20%20%20%20%2F%2F%20This%20function%20allows%20you%20to%20set%20a%20threshold%20for%20relative%20time%20strings%0A%20%20%20%20moment%2ErelativeTimeThreshold%20%3D%20function%20%28threshold%2C%20limit%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28relativeTimeThresholds%5Bthreshold%5D%20%3D%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28limit%20%3D%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20relativeTimeThresholds%5Bthreshold%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20relativeTimeThresholds%5Bthreshold%5D%20%3D%20limit%3B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20moment%2Elang%20%3D%20deprecate%28%0A%20%20%20%20%20%20%20%20%27moment%2Elang%20is%20deprecated%2E%20Use%20moment%2Elocale%20instead%2E%27%2C%0A%20%20%20%20%20%20%20%20function%20%28key%2C%20value%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20moment%2Elocale%28key%2C%20value%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%29%3B%0A%0A%20%20%20%20%2F%2F%20This%20function%20will%20load%20locale%20and%20then%20set%20the%20global%20locale%2E%20%20If%0A%20%20%20%20%2F%2F%20no%20arguments%20are%20passed%20in%2C%20it%20will%20simply%20return%20the%20current%20global%0A%20%20%20%20%2F%2F%20locale%20key%2E%0A%20%20%20%20moment%2Elocale%20%3D%20function%20%28key%2C%20values%29%20%7B%0A%20%20%20%20%20%20%20%20var%20data%3B%0A%20%20%20%20%20%20%20%20if%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%28values%29%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%20%3D%20moment%2EdefineLocale%28key%2C%20values%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%20%3D%20moment%2ElocaleData%28key%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28data%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moment%2Eduration%2E%5Flocale%20%3D%20moment%2E%5Flocale%20%3D%20data%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20moment%2E%5Flocale%2E%5Fabbr%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20moment%2EdefineLocale%20%3D%20function%20%28name%2C%20values%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28values%20%21%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20values%2Eabbr%20%3D%20name%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21locales%5Bname%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20locales%5Bname%5D%20%3D%20new%20Locale%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20locales%5Bname%5D%2Eset%28values%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20backwards%20compat%20for%20now%3A%20also%20set%20the%20locale%0A%20%20%20%20%20%20%20%20%20%20%20%20moment%2Elocale%28name%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20locales%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20useful%20for%20testing%0A%20%20%20%20%20%20%20%20%20%20%20%20delete%20locales%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20null%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20moment%2ElangData%20%3D%20deprecate%28%0A%20%20%20%20%20%20%20%20%27moment%2ElangData%20is%20deprecated%2E%20Use%20moment%2ElocaleData%20instead%2E%27%2C%0A%20%20%20%20%20%20%20%20function%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20moment%2ElocaleData%28key%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%29%3B%0A%0A%20%20%20%20%2F%2F%20returns%20locale%20data%0A%20%20%20%20moment%2ElocaleData%20%3D%20function%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20var%20locale%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28key%20%26%26%20key%2E%5Flocale%20%26%26%20key%2E%5Flocale%2E%5Fabbr%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20key%20%3D%20key%2E%5Flocale%2E%5Fabbr%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28%21key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20moment%2E%5Flocale%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28%21isArray%28key%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2Fshort%2Dcircuit%20everything%20else%0A%20%20%20%20%20%20%20%20%20%20%20%20locale%20%3D%20loadLocale%28key%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28locale%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20locale%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20key%20%3D%20%5Bkey%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20chooseLocale%28key%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20compare%20moment%20object%0A%20%20%20%20moment%2EisMoment%20%3D%20function%20%28obj%29%20%7B%0A%20%20%20%20%20%20%20%20return%20obj%20instanceof%20Moment%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%28obj%20%21%3D%20null%20%26%26%20hasOwnProp%28obj%2C%20%27%5FisAMomentObject%27%29%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2F%20for%20typechecking%20Duration%20objects%0A%20%20%20%20moment%2EisDuration%20%3D%20function%20%28obj%29%20%7B%0A%20%20%20%20%20%20%20%20return%20obj%20instanceof%20Duration%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20for%20%28i%20%3D%20lists%2Elength%20%2D%201%3B%20i%20%3E%3D%200%3B%20%2D%2Di%29%20%7B%0A%20%20%20%20%20%20%20%20makeList%28lists%5Bi%5D%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20moment%2EnormalizeUnits%20%3D%20function%20%28units%29%20%7B%0A%20%20%20%20%20%20%20%20return%20normalizeUnits%28units%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20moment%2Einvalid%20%3D%20function%20%28flags%29%20%7B%0A%20%20%20%20%20%20%20%20var%20m%20%3D%20moment%2Eutc%28NaN%29%3B%0A%20%20%20%20%20%20%20%20if%20%28flags%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20extend%28m%2E%5Fpf%2C%20flags%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20m%2E%5Fpf%2EuserInvalidated%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20m%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20moment%2EparseZone%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20moment%2Eapply%28null%2C%20arguments%29%2EparseZone%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20moment%2EparseTwoDigitYear%20%3D%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20return%20toInt%28input%29%20%2B%20%28toInt%28input%29%20%3E%2068%20%3F%201900%20%3A%202000%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20moment%2EisDate%20%3D%20isDate%3B%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Moment%20Prototype%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%0A%20%20%20%20extend%28moment%2Efn%20%3D%20Moment%2Eprototype%2C%20%7B%0A%0A%20%20%20%20%20%20%20%20clone%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20moment%28this%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20valueOf%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%2Bthis%2E%5Fd%20%2D%20%28%28this%2E%5Foffset%20%7C%7C%200%29%20%2A%2060000%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20unix%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Math%2Efloor%28%2Bthis%20%2F%201000%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20toString%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Eclone%28%29%2Elocale%28%27en%27%29%2Eformat%28%27ddd%20MMM%20DD%20YYYY%20HH%3Amm%3Ass%20%5BGMT%5DZZ%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20toDate%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Foffset%20%3F%20new%20Date%28%2Bthis%29%20%3A%20this%2E%5Fd%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20toISOString%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20m%20%3D%20moment%28this%29%2Eutc%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%280%20%3C%20m%2Eyear%28%29%20%26%26%20m%2Eyear%28%29%20%3C%3D%209999%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%27function%27%20%3D%3D%3D%20typeof%20Date%2Eprototype%2EtoISOString%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20native%20implementation%20is%20%7E50x%20faster%2C%20use%20it%20when%20we%20can%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EtoDate%28%29%2EtoISOString%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20formatMoment%28m%2C%20%27YYYY%2DMM%2DDD%5BT%5DHH%3Amm%3Ass%2ESSS%5BZ%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20formatMoment%28m%2C%20%27YYYYYY%2DMM%2DDD%5BT%5DHH%3Amm%3Ass%2ESSS%5BZ%5D%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20toArray%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20m%20%3D%20this%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2Eyear%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2Emonth%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2Edate%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2Ehours%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2Eminutes%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2Eseconds%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20m%2Emilliseconds%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isValid%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20isValid%28this%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isDSTShifted%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fa%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EisValid%28%29%20%26%26%20compareArrays%28this%2E%5Fa%2C%20%28this%2E%5FisUTC%20%3F%20moment%2Eutc%28this%2E%5Fa%29%20%3A%20moment%28this%2E%5Fa%29%29%2EtoArray%28%29%29%20%3E%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20parsingFlags%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20extend%28%7B%7D%2C%20this%2E%5Fpf%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20invalidAt%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Fpf%2Eoverflow%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20utc%20%3A%20function%20%28keepLocalTime%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EutcOffset%280%2C%20keepLocalTime%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20local%20%3A%20function%20%28keepLocalTime%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5FisUTC%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EutcOffset%280%2C%20keepLocalTime%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FisUTC%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28keepLocalTime%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Esubtract%28this%2E%5FdateUtcOffset%28%29%2C%20%27m%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20format%20%3A%20function%20%28inputString%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20output%20%3D%20formatMoment%28this%2C%20inputString%20%7C%7C%20moment%2EdefaultFormat%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2ElocaleData%28%29%2Epostformat%28output%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20add%20%3A%20createAdder%281%2C%20%27add%27%29%2C%0A%0A%20%20%20%20%20%20%20%20subtract%20%3A%20createAdder%28%2D1%2C%20%27subtract%27%29%2C%0A%0A%20%20%20%20%20%20%20%20diff%20%3A%20function%20%28input%2C%20units%2C%20asFloat%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20that%20%3D%20makeAs%28input%2C%20this%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20zoneDiff%20%3D%20%28that%2EutcOffset%28%29%20%2D%20this%2EutcOffset%28%29%29%20%2A%206e4%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20anchor%2C%20diff%2C%20output%2C%20daysAdjust%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%20normalizeUnits%28units%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28units%20%3D%3D%3D%20%27year%27%20%7C%7C%20units%20%3D%3D%3D%20%27month%27%20%7C%7C%20units%20%3D%3D%3D%20%27quarter%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20monthDiff%28this%2C%20that%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28units%20%3D%3D%3D%20%27quarter%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20output%20%2F%203%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28units%20%3D%3D%3D%20%27year%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20output%20%2F%2012%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20diff%20%3D%20this%20%2D%20that%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20units%20%3D%3D%3D%20%27second%27%20%3F%20diff%20%2F%201e3%20%3A%20%2F%2F%201000%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%3D%3D%20%27minute%27%20%3F%20diff%20%2F%206e4%20%3A%20%2F%2F%201000%20%2A%2060%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%3D%3D%20%27hour%27%20%3F%20diff%20%2F%2036e5%20%3A%20%2F%2F%201000%20%2A%2060%20%2A%2060%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%3D%3D%20%27day%27%20%3F%20%28diff%20%2D%20zoneDiff%29%20%2F%20864e5%20%3A%20%2F%2F%201000%20%2A%2060%20%2A%2060%20%2A%2024%2C%20negate%20dst%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%3D%3D%20%27week%27%20%3F%20%28diff%20%2D%20zoneDiff%29%20%2F%206048e5%20%3A%20%2F%2F%201000%20%2A%2060%20%2A%2060%20%2A%2024%20%2A%207%2C%20negate%20dst%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20diff%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20asFloat%20%3F%20output%20%3A%20absRound%28output%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20from%20%3A%20function%20%28time%2C%20withoutSuffix%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20moment%2Eduration%28%7Bto%3A%20this%2C%20from%3A%20time%7D%29%2Elocale%28this%2Elocale%28%29%29%2Ehumanize%28%21withoutSuffix%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20fromNow%20%3A%20function%20%28withoutSuffix%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Efrom%28moment%28%29%2C%20withoutSuffix%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20calendar%20%3A%20function%20%28time%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20We%20want%20to%20compare%20the%20start%20of%20today%2C%20vs%20this%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Getting%20start%2Dof%2Dtoday%20depends%20on%20whether%20we%27re%20locat%2Futc%2Foffset%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20or%20not%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20now%20%3D%20time%20%7C%7C%20moment%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sod%20%3D%20makeAs%28now%2C%20this%29%2EstartOf%28%27day%27%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20diff%20%3D%20this%2Ediff%28sod%2C%20%27days%27%2C%20true%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20format%20%3D%20diff%20%3C%20%2D6%20%3F%20%27sameElse%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20diff%20%3C%20%2D1%20%3F%20%27lastWeek%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20diff%20%3C%200%20%3F%20%27lastDay%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20diff%20%3C%201%20%3F%20%27sameDay%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20diff%20%3C%202%20%3F%20%27nextDay%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20diff%20%3C%207%20%3F%20%27nextWeek%27%20%3A%20%27sameElse%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Eformat%28this%2ElocaleData%28%29%2Ecalendar%28format%2C%20this%2C%20moment%28now%29%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isLeapYear%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20isLeapYear%28this%2Eyear%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isDST%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%28this%2EutcOffset%28%29%20%3E%20this%2Eclone%28%29%2Emonth%280%29%2EutcOffset%28%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EutcOffset%28%29%20%3E%20this%2Eclone%28%29%2Emonth%285%29%2EutcOffset%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20day%20%3A%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20day%20%3D%20this%2E%5FisUTC%20%3F%20this%2E%5Fd%2EgetUTCDay%28%29%20%3A%20this%2E%5Fd%2EgetDay%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28input%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20parseWeekday%28input%2C%20this%2ElocaleData%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Eadd%28input%20%2D%20day%2C%20%27d%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20day%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20month%20%3A%20makeAccessor%28%27Month%27%2C%20true%29%2C%0A%0A%20%20%20%20%20%20%20%20startOf%20%3A%20function%20%28units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%20normalizeUnits%28units%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20the%20following%20switch%20intentionally%20omits%20break%20keywords%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20to%20utilize%20falling%20through%20the%20cases%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20switch%20%28units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27year%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Emonth%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20falls%20through%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27quarter%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27month%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Edate%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20falls%20through%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27week%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27isoWeek%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27day%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Ehours%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20falls%20through%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27hour%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eminutes%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20falls%20through%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27minute%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eseconds%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20falls%20through%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20case%20%27second%27%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Emilliseconds%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2A%20falls%20through%20%2A%2F%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20weeks%20are%20a%20special%20case%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28units%20%3D%3D%3D%20%27week%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eweekday%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28units%20%3D%3D%3D%20%27isoWeek%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EisoWeekday%281%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20quarters%20are%20also%20special%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28units%20%3D%3D%3D%20%27quarter%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Emonth%28Math%2Efloor%28this%2Emonth%28%29%20%2F%203%29%20%2A%203%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20endOf%3A%20function%20%28units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%20normalizeUnits%28units%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28units%20%3D%3D%3D%20undefined%20%7C%7C%20units%20%3D%3D%3D%20%27millisecond%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EstartOf%28units%29%2Eadd%281%2C%20%28units%20%3D%3D%3D%20%27isoWeek%27%20%3F%20%27week%27%20%3A%20units%29%29%2Esubtract%281%2C%20%27ms%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isAfter%3A%20function%20%28input%2C%20units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20inputMs%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%20normalizeUnits%28typeof%20units%20%21%3D%3D%20%27undefined%27%20%3F%20units%20%3A%20%27millisecond%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28units%20%3D%3D%3D%20%27millisecond%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20moment%2EisMoment%28input%29%20%3F%20input%20%3A%20moment%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%2Bthis%20%3E%20%2Binput%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20inputMs%20%3D%20moment%2EisMoment%28input%29%20%3F%20%2Binput%20%3A%20%2Bmoment%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20inputMs%20%3C%20%2Bthis%2Eclone%28%29%2EstartOf%28units%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isBefore%3A%20function%20%28input%2C%20units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20inputMs%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%20normalizeUnits%28typeof%20units%20%21%3D%3D%20%27undefined%27%20%3F%20units%20%3A%20%27millisecond%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28units%20%3D%3D%3D%20%27millisecond%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20moment%2EisMoment%28input%29%20%3F%20input%20%3A%20moment%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%2Bthis%20%3C%20%2Binput%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20inputMs%20%3D%20moment%2EisMoment%28input%29%20%3F%20%2Binput%20%3A%20%2Bmoment%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%2Bthis%2Eclone%28%29%2EendOf%28units%29%20%3C%20inputMs%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isBetween%3A%20function%20%28from%2C%20to%2C%20units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EisAfter%28from%2C%20units%29%20%26%26%20this%2EisBefore%28to%2C%20units%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isSame%3A%20function%20%28input%2C%20units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20inputMs%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%20normalizeUnits%28units%20%7C%7C%20%27millisecond%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28units%20%3D%3D%3D%20%27millisecond%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20moment%2EisMoment%28input%29%20%3F%20input%20%3A%20moment%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%2Bthis%20%3D%3D%3D%20%2Binput%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20inputMs%20%3D%20%2Bmoment%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%2B%28this%2Eclone%28%29%2EstartOf%28units%29%29%20%3C%3D%20inputMs%20%26%26%20inputMs%20%3C%3D%20%2B%28this%2Eclone%28%29%2EendOf%28units%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20min%3A%20deprecate%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27moment%28%29%2Emin%20is%20deprecated%2C%20use%20moment%2Emin%20instead%2E%20https%3A%2F%2Fgithub%2Ecom%2Fmoment%2Fmoment%2Fissues%2F1548%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%20%28other%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20other%20%3D%20moment%2Eapply%28null%2C%20arguments%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20other%20%3C%20this%20%3F%20this%20%3A%20other%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%29%2C%0A%0A%20%20%20%20%20%20%20%20max%3A%20deprecate%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27moment%28%29%2Emax%20is%20deprecated%2C%20use%20moment%2Emax%20instead%2E%20https%3A%2F%2Fgithub%2Ecom%2Fmoment%2Fmoment%2Fissues%2F1548%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%20%28other%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20other%20%3D%20moment%2Eapply%28null%2C%20arguments%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20other%20%3E%20this%20%3F%20this%20%3A%20other%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%29%2C%0A%0A%20%20%20%20%20%20%20%20zone%20%3A%20deprecate%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27moment%28%29%2Ezone%20is%20deprecated%2C%20use%20moment%28%29%2EutcOffset%20instead%2E%20%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27https%3A%2F%2Fgithub%2Ecom%2Fmoment%2Fmoment%2Fissues%2F1779%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20function%20%28input%2C%20keepLocalTime%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28input%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20input%20%21%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20%2Dinput%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EutcOffset%28input%2C%20keepLocalTime%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%2Dthis%2EutcOffset%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%29%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20keepLocalTime%20%3D%20true%20means%20only%20change%20the%20timezone%2C%20without%0A%20%20%20%20%20%20%20%20%2F%2F%20affecting%20the%20local%20hour%2E%20So%205%3A31%3A26%20%2B0300%20%2D%2D%5ButcOffset%282%2C%20true%29%5D%2D%2D%3E%0A%20%20%20%20%20%20%20%20%2F%2F%205%3A31%3A26%20%2B0200%20It%20is%20possible%20that%205%3A31%3A26%20doesn%27t%20exist%20with%20offset%0A%20%20%20%20%20%20%20%20%2F%2F%20%2B0200%2C%20so%20we%20adjust%20the%20time%20as%20needed%2C%20to%20be%20valid%2E%0A%20%20%20%20%20%20%20%20%2F%2F%0A%20%20%20%20%20%20%20%20%2F%2F%20Keeping%20the%20time%20actually%20adds%2Fsubtracts%20%28one%20hour%29%0A%20%20%20%20%20%20%20%20%2F%2F%20from%20the%20actual%20represented%20time%2E%20That%20is%20why%20we%20call%20updateOffset%0A%20%20%20%20%20%20%20%20%2F%2F%20a%20second%20time%2E%20In%20case%20it%20wants%20us%20to%20change%20the%20offset%20again%0A%20%20%20%20%20%20%20%20%2F%2F%20%5FchangeInProgress%20%3D%3D%20true%20case%2C%20then%20we%20have%20to%20adjust%2C%20because%0A%20%20%20%20%20%20%20%20%2F%2F%20there%20is%20no%20such%20time%20in%20the%20given%20timezone%2E%0A%20%20%20%20%20%20%20%20utcOffset%20%3A%20function%20%28input%2C%20keepLocalTime%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20offset%20%3D%20this%2E%5Foffset%20%7C%7C%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localAdjust%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28input%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20input%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20utcOffsetFromString%28input%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math%2Eabs%28input%29%20%3C%2016%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20input%20%2A%2060%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this%2E%5FisUTC%20%26%26%20keepLocalTime%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localAdjust%20%3D%20this%2E%5FdateUtcOffset%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Foffset%20%3D%20input%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FisUTC%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28localAdjust%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eadd%28localAdjust%2C%20%27m%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28offset%20%21%3D%3D%20input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21keepLocalTime%20%7C%7C%20this%2E%5FchangeInProgress%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addOrSubtractDurationFromMoment%28this%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moment%2Eduration%28input%20%2D%20offset%2C%20%27m%27%29%2C%201%2C%20false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21this%2E%5FchangeInProgress%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FchangeInProgress%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moment%2EupdateOffset%28this%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5FchangeInProgress%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5FisUTC%20%3F%20offset%20%3A%20this%2E%5FdateUtcOffset%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isLocal%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%21this%2E%5FisUTC%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isUtcOffset%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5FisUTC%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isUtc%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5FisUTC%20%26%26%20this%2E%5Foffset%20%3D%3D%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20zoneAbbr%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5FisUTC%20%3F%20%27UTC%27%20%3A%20%27%27%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20zoneName%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5FisUTC%20%3F%20%27Coordinated%20Universal%20Time%27%20%3A%20%27%27%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20parseZone%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Ftzm%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EutcOffset%28this%2E%5Ftzm%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28typeof%20this%2E%5Fi%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EutcOffset%28utcOffsetFromString%28this%2E%5Fi%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20hasAlignedHourOffset%20%3A%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20input%20%3D%20moment%28input%29%2EutcOffset%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%28this%2EutcOffset%28%29%20%2D%20input%29%20%25%2060%20%3D%3D%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20daysInMonth%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20daysInMonth%28this%2Eyear%28%29%2C%20this%2Emonth%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20dayOfYear%20%3A%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dayOfYear%20%3D%20round%28%28moment%28this%29%2EstartOf%28%27day%27%29%20%2D%20moment%28this%29%2EstartOf%28%27year%27%29%29%20%2F%20864e5%29%20%2B%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20input%20%3D%3D%20null%20%3F%20dayOfYear%20%3A%20this%2Eadd%28%28input%20%2D%20dayOfYear%29%2C%20%27d%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20quarter%20%3A%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20input%20%3D%3D%20null%20%3F%20Math%2Eceil%28%28this%2Emonth%28%29%20%2B%201%29%20%2F%203%29%20%3A%20this%2Emonth%28%28input%20%2D%201%29%20%2A%203%20%2B%20this%2Emonth%28%29%20%25%203%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20weekYear%20%3A%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20year%20%3D%20weekOfYear%28this%2C%20this%2ElocaleData%28%29%2E%5Fweek%2Edow%2C%20this%2ElocaleData%28%29%2E%5Fweek%2Edoy%29%2Eyear%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20input%20%3D%3D%20null%20%3F%20year%20%3A%20this%2Eadd%28%28input%20%2D%20year%29%2C%20%27y%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isoWeekYear%20%3A%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20year%20%3D%20weekOfYear%28this%2C%201%2C%204%29%2Eyear%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20input%20%3D%3D%20null%20%3F%20year%20%3A%20this%2Eadd%28%28input%20%2D%20year%29%2C%20%27y%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20week%20%3A%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20week%20%3D%20this%2ElocaleData%28%29%2Eweek%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20input%20%3D%3D%20null%20%3F%20week%20%3A%20this%2Eadd%28%28input%20%2D%20week%29%20%2A%207%2C%20%27d%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isoWeek%20%3A%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20week%20%3D%20weekOfYear%28this%2C%201%2C%204%29%2Eweek%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20input%20%3D%3D%20null%20%3F%20week%20%3A%20this%2Eadd%28%28input%20%2D%20week%29%20%2A%207%2C%20%27d%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20weekday%20%3A%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20weekday%20%3D%20%28this%2Eday%28%29%20%2B%207%20%2D%20this%2ElocaleData%28%29%2E%5Fweek%2Edow%29%20%25%207%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20input%20%3D%3D%20null%20%3F%20weekday%20%3A%20this%2Eadd%28input%20%2D%20weekday%2C%20%27d%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isoWeekday%20%3A%20function%20%28input%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20behaves%20the%20same%20as%20moment%23day%20except%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20as%20a%20getter%2C%20returns%207%20instead%20of%200%20%281%2D7%20range%20instead%20of%200%2D6%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20as%20a%20setter%2C%20sunday%20should%20belong%20to%20the%20previous%20week%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20input%20%3D%3D%20null%20%3F%20this%2Eday%28%29%20%7C%7C%207%20%3A%20this%2Eday%28this%2Eday%28%29%20%25%207%20%3F%20input%20%3A%20input%20%2D%207%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isoWeeksInYear%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20weeksInYear%28this%2Eyear%28%29%2C%201%2C%204%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20weeksInYear%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20weekInfo%20%3D%20this%2ElocaleData%28%29%2E%5Fweek%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20weeksInYear%28this%2Eyear%28%29%2C%20weekInfo%2Edow%2C%20weekInfo%2Edoy%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20get%20%3A%20function%20%28units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%20normalizeUnits%28units%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%5Bunits%5D%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20set%20%3A%20function%20%28units%2C%20value%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20unit%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20units%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20%28unit%20in%20units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eset%28unit%2C%20units%5Bunit%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%20normalizeUnits%28units%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20this%5Bunits%5D%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%5Bunits%5D%28value%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20If%20passed%20a%20locale%20key%2C%20it%20will%20set%20the%20locale%20for%20this%0A%20%20%20%20%20%20%20%20%2F%2F%20instance%2E%20%20Otherwise%2C%20it%20will%20return%20the%20locale%20configuration%0A%20%20%20%20%20%20%20%20%2F%2F%20variables%20for%20this%20instance%2E%0A%20%20%20%20%20%20%20%20locale%20%3A%20function%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newLocaleData%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28key%20%3D%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Flocale%2E%5Fabbr%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newLocaleData%20%3D%20moment%2ElocaleData%28key%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28newLocaleData%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Flocale%20%3D%20newLocaleData%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20lang%20%3A%20deprecate%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%27moment%28%29%2Elang%28%29%20is%20deprecated%2E%20Instead%2C%20use%20moment%28%29%2ElocaleData%28%29%20to%20get%20the%20language%20configuration%2E%20Use%20moment%28%29%2Elocale%28%29%20to%20change%20languages%2E%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20function%20%28key%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28key%20%3D%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2ElocaleData%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Elocale%28key%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%29%2C%0A%0A%20%20%20%20%20%20%20%20localeData%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Flocale%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%5FdateUtcOffset%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20On%20Firefox%2E24%20Date%23getTimezoneOffset%20returns%20a%20floating%20point%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20https%3A%2F%2Fgithub%2Ecom%2Fmoment%2Fmoment%2Fpull%2F1871%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%2DMath%2Eround%28this%2E%5Fd%2EgetTimezoneOffset%28%29%20%2F%2015%29%20%2A%2015%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20function%20rawMonthSetter%28mom%2C%20value%29%20%7B%0A%20%20%20%20%20%20%20%20var%20dayOfMonth%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20Move%20this%20out%20of%20here%21%0A%20%20%20%20%20%20%20%20if%20%28typeof%20value%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20value%20%3D%20mom%2ElocaleData%28%29%2EmonthsParse%28value%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20TODO%3A%20Another%20silent%20failure%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20value%20%21%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20mom%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20dayOfMonth%20%3D%20Math%2Emin%28mom%2Edate%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20daysInMonth%28mom%2Eyear%28%29%2C%20value%29%29%3B%0A%20%20%20%20%20%20%20%20mom%2E%5Fd%5B%27set%27%20%2B%20%28mom%2E%5FisUTC%20%3F%20%27UTC%27%20%3A%20%27%27%29%20%2B%20%27Month%27%5D%28value%2C%20dayOfMonth%29%3B%0A%20%20%20%20%20%20%20%20return%20mom%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20rawGetter%28mom%2C%20unit%29%20%7B%0A%20%20%20%20%20%20%20%20return%20mom%2E%5Fd%5B%27get%27%20%2B%20%28mom%2E%5FisUTC%20%3F%20%27UTC%27%20%3A%20%27%27%29%20%2B%20unit%5D%28%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20rawSetter%28mom%2C%20unit%2C%20value%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28unit%20%3D%3D%3D%20%27Month%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20rawMonthSetter%28mom%2C%20value%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20mom%2E%5Fd%5B%27set%27%20%2B%20%28mom%2E%5FisUTC%20%3F%20%27UTC%27%20%3A%20%27%27%29%20%2B%20unit%5D%28value%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20makeAccessor%28unit%2C%20keepTime%29%20%7B%0A%20%20%20%20%20%20%20%20return%20function%20%28value%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28value%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20rawSetter%28this%2C%20unit%2C%20value%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moment%2EupdateOffset%28this%2C%20keepTime%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20rawGetter%28this%2C%20unit%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20moment%2Efn%2Emillisecond%20%3D%20moment%2Efn%2Emilliseconds%20%3D%20makeAccessor%28%27Milliseconds%27%2C%20false%29%3B%0A%20%20%20%20moment%2Efn%2Esecond%20%3D%20moment%2Efn%2Eseconds%20%3D%20makeAccessor%28%27Seconds%27%2C%20false%29%3B%0A%20%20%20%20moment%2Efn%2Eminute%20%3D%20moment%2Efn%2Eminutes%20%3D%20makeAccessor%28%27Minutes%27%2C%20false%29%3B%0A%20%20%20%20%2F%2F%20Setting%20the%20hour%20should%20keep%20the%20time%2C%20because%20the%20user%20explicitly%0A%20%20%20%20%2F%2F%20specified%20which%20hour%20he%20wants%2E%20So%20trying%20to%20maintain%20the%20same%20hour%20%28in%0A%20%20%20%20%2F%2F%20a%20new%20timezone%29%20makes%20sense%2E%20Adding%2Fsubtracting%20hours%20does%20not%20follow%0A%20%20%20%20%2F%2F%20this%20rule%2E%0A%20%20%20%20moment%2Efn%2Ehour%20%3D%20moment%2Efn%2Ehours%20%3D%20makeAccessor%28%27Hours%27%2C%20true%29%3B%0A%20%20%20%20%2F%2F%20moment%2Efn%2Emonth%20is%20defined%20separately%0A%20%20%20%20moment%2Efn%2Edate%20%3D%20makeAccessor%28%27Date%27%2C%20true%29%3B%0A%20%20%20%20moment%2Efn%2Edates%20%3D%20deprecate%28%27dates%20accessor%20is%20deprecated%2E%20Use%20date%20instead%2E%27%2C%20makeAccessor%28%27Date%27%2C%20true%29%29%3B%0A%20%20%20%20moment%2Efn%2Eyear%20%3D%20makeAccessor%28%27FullYear%27%2C%20true%29%3B%0A%20%20%20%20moment%2Efn%2Eyears%20%3D%20deprecate%28%27years%20accessor%20is%20deprecated%2E%20Use%20year%20instead%2E%27%2C%20makeAccessor%28%27FullYear%27%2C%20true%29%29%3B%0A%0A%20%20%20%20%2F%2F%20add%20plural%20methods%0A%20%20%20%20moment%2Efn%2Edays%20%3D%20moment%2Efn%2Eday%3B%0A%20%20%20%20moment%2Efn%2Emonths%20%3D%20moment%2Efn%2Emonth%3B%0A%20%20%20%20moment%2Efn%2Eweeks%20%3D%20moment%2Efn%2Eweek%3B%0A%20%20%20%20moment%2Efn%2EisoWeeks%20%3D%20moment%2Efn%2EisoWeek%3B%0A%20%20%20%20moment%2Efn%2Equarters%20%3D%20moment%2Efn%2Equarter%3B%0A%0A%20%20%20%20%2F%2F%20add%20aliased%20format%20methods%0A%20%20%20%20moment%2Efn%2EtoJSON%20%3D%20moment%2Efn%2EtoISOString%3B%0A%0A%20%20%20%20%2F%2F%20alias%20isUtc%20for%20dev%2Dfriendliness%0A%20%20%20%20moment%2Efn%2EisUTC%20%3D%20moment%2Efn%2EisUtc%3B%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Duration%20Prototype%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%0A%20%20%20%20function%20daysToYears%20%28days%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20400%20years%20have%20146097%20days%20%28taking%20into%20account%20leap%20year%20rules%29%0A%20%20%20%20%20%20%20%20return%20days%20%2A%20400%20%2F%20146097%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20function%20yearsToDays%20%28years%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20years%20%2A%20365%20%2B%20absRound%28years%20%2F%204%29%20%2D%0A%20%20%20%20%20%20%20%20%2F%2F%20%20%20%20%20absRound%28years%20%2F%20100%29%20%2B%20absRound%28years%20%2F%20400%29%3B%0A%20%20%20%20%20%20%20%20return%20years%20%2A%20146097%20%2F%20400%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20extend%28moment%2Eduration%2Efn%20%3D%20Duration%2Eprototype%2C%20%7B%0A%0A%20%20%20%20%20%20%20%20%5Fbubble%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20milliseconds%20%3D%20this%2E%5Fmilliseconds%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20days%20%3D%20this%2E%5Fdays%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20months%20%3D%20this%2E%5Fmonths%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%20%3D%20this%2E%5Fdata%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20seconds%2C%20minutes%2C%20hours%2C%20years%20%3D%200%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20The%20following%20code%20bubbles%20up%20values%2C%20see%20the%20tests%20for%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20examples%20of%20what%20that%20means%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20data%2Emilliseconds%20%3D%20milliseconds%20%25%201000%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20seconds%20%3D%20absRound%28milliseconds%20%2F%201000%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20data%2Eseconds%20%3D%20seconds%20%25%2060%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20minutes%20%3D%20absRound%28seconds%20%2F%2060%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20data%2Eminutes%20%3D%20minutes%20%25%2060%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20hours%20%3D%20absRound%28minutes%20%2F%2060%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20data%2Ehours%20%3D%20hours%20%25%2024%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20days%20%2B%3D%20absRound%28hours%20%2F%2024%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Accurately%20convert%20days%20to%20years%2C%20assume%20start%20from%20year%200%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20years%20%3D%20absRound%28daysToYears%28days%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20days%20%2D%3D%20absRound%28yearsToDays%28years%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2030%20days%20to%20a%20month%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20TODO%20%28iskren%29%3A%20Use%20anchor%20date%20%28like%201st%20Jan%29%20to%20compute%20this%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20months%20%2B%3D%20absRound%28days%20%2F%2030%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20days%20%25%3D%2030%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%2012%20months%20%2D%3E%201%20year%0A%20%20%20%20%20%20%20%20%20%20%20%20years%20%2B%3D%20absRound%28months%20%2F%2012%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20months%20%25%3D%2012%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20data%2Edays%20%3D%20days%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20data%2Emonths%20%3D%20months%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20data%2Eyears%20%3D%20years%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20abs%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fmilliseconds%20%3D%20Math%2Eabs%28this%2E%5Fmilliseconds%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fdays%20%3D%20Math%2Eabs%28this%2E%5Fdays%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fmonths%20%3D%20Math%2Eabs%28this%2E%5Fmonths%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fdata%2Emilliseconds%20%3D%20Math%2Eabs%28this%2E%5Fdata%2Emilliseconds%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fdata%2Eseconds%20%3D%20Math%2Eabs%28this%2E%5Fdata%2Eseconds%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fdata%2Eminutes%20%3D%20Math%2Eabs%28this%2E%5Fdata%2Eminutes%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fdata%2Ehours%20%3D%20Math%2Eabs%28this%2E%5Fdata%2Ehours%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fdata%2Emonths%20%3D%20Math%2Eabs%28this%2E%5Fdata%2Emonths%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fdata%2Eyears%20%3D%20Math%2Eabs%28this%2E%5Fdata%2Eyears%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20weeks%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20absRound%28this%2Edays%28%29%20%2F%207%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20valueOf%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Fmilliseconds%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fdays%20%2A%20864e5%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28this%2E%5Fmonths%20%25%2012%29%20%2A%202592e6%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20toInt%28this%2E%5Fmonths%20%2F%2012%29%20%2A%2031536e6%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20humanize%20%3A%20function%20%28withSuffix%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20output%20%3D%20relativeTime%28this%2C%20%21withSuffix%2C%20this%2ElocaleData%28%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28withSuffix%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20this%2ElocaleData%28%29%2EpastFuture%28%2Bthis%2C%20output%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2ElocaleData%28%29%2Epostformat%28output%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20add%20%3A%20function%20%28input%2C%20val%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20supports%20only%202%2E0%2Dstyle%20add%281%2C%20%27s%27%29%20or%20add%28moment%29%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dur%20%3D%20moment%2Eduration%28input%2C%20val%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fmilliseconds%20%2B%3D%20dur%2E%5Fmilliseconds%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fdays%20%2B%3D%20dur%2E%5Fdays%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fmonths%20%2B%3D%20dur%2E%5Fmonths%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fbubble%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20subtract%20%3A%20function%20%28input%2C%20val%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20dur%20%3D%20moment%2Eduration%28input%2C%20val%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fmilliseconds%20%2D%3D%20dur%2E%5Fmilliseconds%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fdays%20%2D%3D%20dur%2E%5Fdays%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fmonths%20%2D%3D%20dur%2E%5Fmonths%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fbubble%28%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20get%20%3A%20function%20%28units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%20normalizeUnits%28units%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%5Bunits%2EtoLowerCase%28%29%20%2B%20%27s%27%5D%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20as%20%3A%20function%20%28units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20days%2C%20months%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20units%20%3D%20normalizeUnits%28units%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28units%20%3D%3D%3D%20%27month%27%20%7C%7C%20units%20%3D%3D%3D%20%27year%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20days%20%3D%20this%2E%5Fdays%20%2B%20this%2E%5Fmilliseconds%20%2F%20864e5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20months%20%3D%20this%2E%5Fmonths%20%2B%20daysToYears%28days%29%20%2A%2012%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20units%20%3D%3D%3D%20%27month%27%20%3F%20months%20%3A%20months%20%2F%2012%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20handle%20milliseconds%20separately%20because%20of%20floating%20point%20math%20errors%20%28issue%20%231867%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20days%20%3D%20this%2E%5Fdays%20%2B%20Math%2Eround%28yearsToDays%28this%2E%5Fmonths%20%2F%2012%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20switch%20%28units%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27week%27%3A%20return%20days%20%2F%207%20%2B%20this%2E%5Fmilliseconds%20%2F%206048e5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27day%27%3A%20return%20days%20%2B%20this%2E%5Fmilliseconds%20%2F%20864e5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27hour%27%3A%20return%20days%20%2A%2024%20%2B%20this%2E%5Fmilliseconds%20%2F%2036e5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27minute%27%3A%20return%20days%20%2A%2024%20%2A%2060%20%2B%20this%2E%5Fmilliseconds%20%2F%206e4%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27second%27%3A%20return%20days%20%2A%2024%20%2A%2060%20%2A%2060%20%2B%20this%2E%5Fmilliseconds%20%2F%201000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Math%2Efloor%20prevents%20floating%20point%20math%20errors%20here%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%27millisecond%27%3A%20return%20Math%2Efloor%28days%20%2A%2024%20%2A%2060%20%2A%2060%20%2A%201000%29%20%2B%20this%2E%5Fmilliseconds%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%20throw%20new%20Error%28%27Unknown%20unit%20%27%20%2B%20units%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20lang%20%3A%20moment%2Efn%2Elang%2C%0A%20%20%20%20%20%20%20%20locale%20%3A%20moment%2Efn%2Elocale%2C%0A%0A%20%20%20%20%20%20%20%20toIsoString%20%3A%20deprecate%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%27toIsoString%28%29%20is%20deprecated%2E%20Please%20use%20toISOString%28%29%20instead%20%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%27%28notice%20the%20capitals%29%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EtoISOString%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%29%2C%0A%0A%20%20%20%20%20%20%20%20toISOString%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20inspired%20by%20https%3A%2F%2Fgithub%2Ecom%2Fdordille%2Fmoment%2Disoduration%2Fblob%2Fmaster%2Fmoment%2Eisoduration%2Ejs%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20years%20%3D%20Math%2Eabs%28this%2Eyears%28%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20months%20%3D%20Math%2Eabs%28this%2Emonths%28%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20days%20%3D%20Math%2Eabs%28this%2Edays%28%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hours%20%3D%20Math%2Eabs%28this%2Ehours%28%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20minutes%20%3D%20Math%2Eabs%28this%2Eminutes%28%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20seconds%20%3D%20Math%2Eabs%28this%2Eseconds%28%29%20%2B%20this%2Emilliseconds%28%29%20%2F%201000%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this%2EasSeconds%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20this%20is%20the%20same%20as%20C%23%27s%20%28Noda%29%20and%20python%20%28isodate%29%2E%2E%2E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20but%20not%20other%20JS%20%28goog%2Edate%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20%27P0D%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%28this%2EasSeconds%28%29%20%3C%200%20%3F%20%27%2D%27%20%3A%20%27%27%29%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27P%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28years%20%3F%20years%20%2B%20%27Y%27%20%3A%20%27%27%29%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28months%20%3F%20months%20%2B%20%27M%27%20%3A%20%27%27%29%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28days%20%3F%20days%20%2B%20%27D%27%20%3A%20%27%27%29%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%28hours%20%7C%7C%20minutes%20%7C%7C%20seconds%29%20%3F%20%27T%27%20%3A%20%27%27%29%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28hours%20%3F%20hours%20%2B%20%27H%27%20%3A%20%27%27%29%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28minutes%20%3F%20minutes%20%2B%20%27M%27%20%3A%20%27%27%29%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28seconds%20%3F%20seconds%20%2B%20%27S%27%20%3A%20%27%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20localeData%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Flocale%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20toJSON%20%3A%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2EtoISOString%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20moment%2Eduration%2Efn%2EtoString%20%3D%20moment%2Eduration%2Efn%2EtoISOString%3B%0A%0A%20%20%20%20function%20makeDurationGetter%28name%29%20%7B%0A%20%20%20%20%20%20%20%20moment%2Eduration%2Efn%5Bname%5D%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Fdata%5Bname%5D%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20for%20%28i%20in%20unitMillisecondFactors%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28hasOwnProp%28unitMillisecondFactors%2C%20i%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20makeDurationGetter%28i%2EtoLowerCase%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20moment%2Eduration%2Efn%2EasMilliseconds%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2Eas%28%27ms%27%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20moment%2Eduration%2Efn%2EasSeconds%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2Eas%28%27s%27%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20moment%2Eduration%2Efn%2EasMinutes%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2Eas%28%27m%27%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20moment%2Eduration%2Efn%2EasHours%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2Eas%28%27h%27%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20moment%2Eduration%2Efn%2EasDays%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2Eas%28%27d%27%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20moment%2Eduration%2Efn%2EasWeeks%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2Eas%28%27weeks%27%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20moment%2Eduration%2Efn%2EasMonths%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2Eas%28%27M%27%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20moment%2Eduration%2Efn%2EasYears%20%3D%20function%20%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20this%2Eas%28%27y%27%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Default%20Locale%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%0A%20%20%20%20%2F%2F%20Set%20default%20locale%2C%20other%20locale%20will%20inherit%20from%20English%2E%0A%20%20%20%20moment%2Elocale%28%27en%27%2C%20%7B%0A%20%20%20%20%20%20%20%20ordinalParse%3A%20%2F%5Cd%7B1%2C2%7D%28th%7Cst%7Cnd%7Crd%29%2F%2C%0A%20%20%20%20%20%20%20%20ordinal%20%3A%20function%20%28number%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20b%20%3D%20number%20%25%2010%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20output%20%3D%20%28toInt%28number%20%25%20100%20%2F%2010%29%20%3D%3D%3D%201%29%20%3F%20%27th%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28b%20%3D%3D%3D%201%29%20%3F%20%27st%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28b%20%3D%3D%3D%202%29%20%3F%20%27nd%27%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28b%20%3D%3D%3D%203%29%20%3F%20%27rd%27%20%3A%20%27th%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20number%20%2B%20output%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%2F%2A%20EMBED%5FLOCALES%20%2A%2F%0A%0A%20%20%20%20%2F%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%0A%20%20%20%20%20%20%20%20Exposing%20Moment%0A%20%20%20%20%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2A%2F%0A%0A%20%20%20%20function%20makeGlobal%28shouldDeprecate%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2Aglobal%20ender%3Afalse%20%2A%2F%0A%20%20%20%20%20%20%20%20if%20%28typeof%20ender%20%21%3D%3D%20%27undefined%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20oldGlobalMoment%20%3D%20globalScope%2Emoment%3B%0A%20%20%20%20%20%20%20%20if%20%28shouldDeprecate%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20globalScope%2Emoment%20%3D%20deprecate%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27Accessing%20Moment%20through%20the%20global%20scope%20is%20%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27deprecated%2C%20and%20will%20be%20removed%20in%20an%20upcoming%20%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27release%2E%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20moment%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20globalScope%2Emoment%20%3D%20moment%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20%2F%2F%20CommonJS%20module%20is%20defined%0A%20%20%20%20if%20%28hasModule%29%20%7B%0A%20%20%20%20%20%20%20%20module%2Eexports%20%3D%20moment%3B%0A%20%20%20%20%7D%20else%20if%20%28typeof%20define%20%3D%3D%3D%20%27function%27%20%26%26%20define%2Eamd%29%20%7B%0A%20%20%20%20%20%20%20%20define%28function%20%28require%2C%20exports%2C%20module%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28module%2Econfig%20%26%26%20module%2Econfig%28%29%20%26%26%20module%2Econfig%28%29%2EnoGlobal%20%3D%3D%3D%20true%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20release%20the%20global%20variable%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20globalScope%2Emoment%20%3D%20oldGlobalMoment%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20moment%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20makeGlobal%28true%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20makeGlobal%28%29%3B%0A%20%20%20%20%7D%0A%7D%29%2Ecall%28this%29%3B%0A"></script>
<link href="data:text/css,%40charset%20%22UTF%2D8%22%3B%0A%0A%2F%2A%21%0A%20%2A%20Pikaday%0A%20%2A%20Copyright%20%C2%A9%202014%20David%20Bushell%20%7C%20BSD%20%26%20MIT%20license%20%7C%20http%3A%2F%2Fdbushell%2Ecom%2F%0A%20%2A%2F%0A%0A%2Epika%2Dsingle%20%7B%0A%20%20%20%20z%2Dindex%3A%209999%3B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20color%3A%20%23333%3B%0A%20%20%20%20background%3A%20%23fff%3B%0A%20%20%20%20border%3A%201px%20solid%20%23ccc%3B%0A%20%20%20%20border%2Dbottom%2Dcolor%3A%20%23bbb%3B%0A%20%20%20%20font%2Dfamily%3A%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%7D%0A%0A%2F%2A%0Aclear%20child%20float%20%28pika%2Dlendar%29%2C%20using%20the%20famous%20micro%20clearfix%20hack%0Ahttp%3A%2F%2Fnicolasgallagher%2Ecom%2Fmicro%2Dclearfix%2Dhack%2F%0A%2A%2F%0A%2Epika%2Dsingle%3Abefore%2C%0A%2Epika%2Dsingle%3Aafter%20%7B%0A%20%20%20%20content%3A%20%22%20%22%3B%0A%20%20%20%20display%3A%20table%3B%0A%7D%0A%2Epika%2Dsingle%3Aafter%20%7B%20clear%3A%20both%20%7D%0A%2Epika%2Dsingle%20%7B%20%2Azoom%3A%201%20%7D%0A%0A%2Epika%2Dsingle%2Eis%2Dhidden%20%7B%0A%20%20%20%20display%3A%20none%3B%0A%7D%0A%0A%2Epika%2Dsingle%2Eis%2Dbound%20%7B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20box%2Dshadow%3A%200%205px%2015px%20%2D5px%20rgba%280%2C0%2C0%2C%2E5%29%3B%0A%7D%0A%0A%2Epika%2Dlendar%20%7B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20width%3A%20240px%3B%0A%20%20%20%20margin%3A%208px%3B%0A%7D%0A%0A%2Epika%2Dtitle%20%7B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%2Epika%2Dlabel%20%7B%0A%20%20%20%20display%3A%20inline%2Dblock%3B%0A%20%20%20%20%2Adisplay%3A%20inline%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20z%2Dindex%3A%209999%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20margin%3A%200%3B%0A%20%20%20%20padding%3A%205px%203px%3B%0A%20%20%20%20font%2Dsize%3A%2014px%3B%0A%20%20%20%20line%2Dheight%3A%2020px%3B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20background%2Dcolor%3A%20%23fff%3B%0A%7D%0A%2Epika%2Dtitle%20select%20%7B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20z%2Dindex%3A%209998%3B%0A%20%20%20%20margin%3A%200%3B%0A%20%20%20%20left%3A%200%3B%0A%20%20%20%20top%3A%205px%3B%0A%20%20%20%20filter%3A%20alpha%28opacity%3D0%29%3B%0A%20%20%20%20opacity%3A%200%3B%0A%7D%0A%0A%2Epika%2Dprev%2C%0A%2Epika%2Dnext%20%7B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20border%3A%200%3B%0A%20%20%20%20padding%3A%200%3B%0A%20%20%20%20width%3A%2020px%3B%0A%20%20%20%20height%3A%2030px%3B%0A%20%20%20%20%2F%2A%20hide%20text%20using%20text%2Dindent%20trick%2C%20using%20width%20value%20%28it%27s%20enough%29%20%2A%2F%0A%20%20%20%20text%2Dindent%3A%2020px%3B%0A%20%20%20%20white%2Dspace%3A%20nowrap%3B%0A%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20background%2Dcolor%3A%20transparent%3B%0A%20%20%20%20background%2Dposition%3A%20center%20center%3B%0A%20%20%20%20background%2Drepeat%3A%20no%2Drepeat%3B%0A%20%20%20%20background%2Dsize%3A%2075%25%2075%25%3B%0A%20%20%20%20opacity%3A%20%2E5%3B%0A%20%20%20%20%2Aposition%3A%20absolute%3B%0A%20%20%20%20%2Atop%3A%200%3B%0A%7D%0A%0A%2Epika%2Dprev%3Ahover%2C%0A%2Epika%2Dnext%3Ahover%20%7B%0A%20%20%20%20opacity%3A%201%3B%0A%7D%0A%0A%2Epika%2Dprev%2C%0A%2Eis%2Drtl%20%2Epika%2Dnext%20%7B%0A%20%20%20%20float%3A%20left%3B%0A%20%20%20%20background%2Dimage%3A%20url%28data%3Aimage%2Fpng%3Bbase64%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj%2BOD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8%2BAqBIl6kKgHiXqQqAeJepBo%2Fz38J%2FU0uAHlaBkBl9I4GwAAAABJRU5ErkJggg%3D%3D%29%3B%0A%20%20%20%20%2Aleft%3A%200%3B%0A%7D%0A%0A%2Epika%2Dnext%2C%0A%2Eis%2Drtl%20%2Epika%2Dprev%20%7B%0A%20%20%20%20float%3A%20right%3B%0A%20%20%20%20background%2Dimage%3A%20url%28data%3Aimage%2Fpng%3Bbase64%3Bbase64%2CiVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO%2BBJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII%3D%29%3B%0A%20%20%20%20%2Aright%3A%200%3B%0A%7D%0A%0A%2Epika%2Dprev%2Eis%2Ddisabled%2C%0A%2Epika%2Dnext%2Eis%2Ddisabled%20%7B%0A%20%20%20%20cursor%3A%20default%3B%0A%20%20%20%20opacity%3A%20%2E2%3B%0A%7D%0A%0A%2Epika%2Dselect%20%7B%0A%20%20%20%20display%3A%20inline%2Dblock%3B%0A%20%20%20%20%2Adisplay%3A%20inline%3B%0A%7D%0A%0A%2Epika%2Dtable%20%7B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20border%2Dcollapse%3A%20collapse%3B%0A%20%20%20%20border%2Dspacing%3A%200%3B%0A%20%20%20%20border%3A%200%3B%0A%7D%0A%0A%2Epika%2Dtable%20th%2C%0A%2Epika%2Dtable%20td%20%7B%0A%20%20%20%20width%3A%2014%2E285714285714286%25%3B%0A%20%20%20%20padding%3A%200%3B%0A%7D%0A%0A%2Epika%2Dtable%20th%20%7B%0A%20%20%20%20color%3A%20%23999%3B%0A%20%20%20%20font%2Dsize%3A%2012px%3B%0A%20%20%20%20line%2Dheight%3A%2025px%3B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%2Epika%2Dbutton%20%7B%0A%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20display%3A%20block%3B%0A%20%20%20%20box%2Dsizing%3A%20border%2Dbox%3B%0A%20%20%20%20%2Dmoz%2Dbox%2Dsizing%3A%20border%2Dbox%3B%0A%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20border%3A%200%3B%0A%20%20%20%20margin%3A%200%3B%0A%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20padding%3A%205px%3B%0A%20%20%20%20color%3A%20%23666%3B%0A%20%20%20%20font%2Dsize%3A%2012px%3B%0A%20%20%20%20line%2Dheight%3A%2015px%3B%0A%20%20%20%20text%2Dalign%3A%20right%3B%0A%20%20%20%20background%3A%20%23f5f5f5%3B%0A%7D%0A%0A%2Epika%2Dweek%20%7B%0A%20%20%20%20font%2Dsize%3A%2011px%3B%0A%20%20%20%20color%3A%20%23999%3B%0A%7D%0A%0A%2Eis%2Dtoday%20%2Epika%2Dbutton%20%7B%0A%20%20%20%20color%3A%20%2333aaff%3B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%7D%0A%0A%2Eis%2Dselected%20%2Epika%2Dbutton%20%7B%0A%20%20%20%20color%3A%20%23fff%3B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20background%3A%20%2333aaff%3B%0A%20%20%20%20box%2Dshadow%3A%20inset%200%201px%203px%20%23178fe5%3B%0A%20%20%20%20border%2Dradius%3A%203px%3B%0A%7D%0A%0A%2Eis%2Ddisabled%20%2Epika%2Dbutton%20%7B%0A%20%20%20%20pointer%2Devents%3A%20none%3B%0A%20%20%20%20cursor%3A%20default%3B%0A%20%20%20%20color%3A%20%23999%3B%0A%20%20%20%20opacity%3A%20%2E3%3B%0A%7D%0A%0A%2Epika%2Dbutton%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23fff%20%21important%3B%0A%20%20%20%20background%3A%20%23ff8000%20%21important%3B%0A%20%20%20%20box%2Dshadow%3A%20none%20%21important%3B%0A%20%20%20%20border%2Dradius%3A%203px%20%21important%3B%0A%7D%0A%0A%2F%2A%20styling%20for%20abbr%20%2A%2F%0A%2Epika%2Dtable%20abbr%20%7B%0A%20%20%20%20border%2Dbottom%3A%20none%3B%0A%20%20%20%20cursor%3A%20help%3B%0A%7D%0A%0A" rel="stylesheet" />
<script src="data:application/x-javascript,%2F%2A%21%0A%20%2A%20Pikaday%0A%20%2A%0A%20%2A%20Copyright%20%C2%A9%202014%20David%20Bushell%20%7C%20BSD%20%26%20MIT%20license%20%7C%20https%3A%2F%2Fgithub%2Ecom%2Fdbushell%2FPikaday%0A%20%2A%2F%0A%0A%28function%20%28root%2C%20factory%29%0A%7B%0A%20%20%20%20%27use%20strict%27%3B%0A%0A%20%20%20%20var%20moment%3B%0A%20%20%20%20if%20%28typeof%20exports%20%3D%3D%3D%20%27object%27%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20CommonJS%20module%0A%20%20%20%20%20%20%20%20%2F%2F%20Load%20moment%2Ejs%20as%20an%20optional%20dependency%0A%20%20%20%20%20%20%20%20try%20%7B%20moment%20%3D%20require%28%27moment%27%29%3B%20%7D%20catch%20%28e%29%20%7B%7D%0A%20%20%20%20%20%20%20%20module%2Eexports%20%3D%20factory%28moment%29%3B%0A%20%20%20%20%7D%20else%20if%20%28typeof%20define%20%3D%3D%3D%20%27function%27%20%26%26%20define%2Eamd%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20AMD%2E%20Register%20as%20an%20anonymous%20module%2E%0A%20%20%20%20%20%20%20%20define%28function%20%28req%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Load%20moment%2Ejs%20as%20an%20optional%20dependency%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20id%20%3D%20%27moment%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%20moment%20%3D%20req%28id%29%3B%20%7D%20catch%20%28e%29%20%7B%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20factory%28moment%29%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20root%2EPikaday%20%3D%20factory%28root%2Emoment%29%3B%0A%20%20%20%20%7D%0A%7D%28this%2C%20function%20%28moment%29%0A%7B%0A%20%20%20%20%27use%20strict%27%3B%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20feature%20detection%20and%20helper%20functions%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20var%20hasMoment%20%3D%20typeof%20moment%20%3D%3D%3D%20%27function%27%2C%0A%0A%20%20%20%20hasEventListeners%20%3D%20%21%21window%2EaddEventListener%2C%0A%0A%20%20%20%20document%20%3D%20window%2Edocument%2C%0A%0A%20%20%20%20sto%20%3D%20window%2EsetTimeout%2C%0A%0A%20%20%20%20addEvent%20%3D%20function%28el%2C%20e%2C%20callback%2C%20capture%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28hasEventListeners%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20el%2EaddEventListener%28e%2C%20callback%2C%20%21%21capture%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20el%2EattachEvent%28%27on%27%20%2B%20e%2C%20callback%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20removeEvent%20%3D%20function%28el%2C%20e%2C%20callback%2C%20capture%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28hasEventListeners%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20el%2EremoveEventListener%28e%2C%20callback%2C%20%21%21capture%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20el%2EdetachEvent%28%27on%27%20%2B%20e%2C%20callback%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20fireEvent%20%3D%20function%28el%2C%20eventName%2C%20data%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20ev%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28document%2EcreateEvent%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ev%20%3D%20document%2EcreateEvent%28%27HTMLEvents%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ev%2EinitEvent%28eventName%2C%20true%2C%20false%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ev%20%3D%20extend%28ev%2C%20data%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20el%2EdispatchEvent%28ev%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28document%2EcreateEventObject%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20ev%20%3D%20document%2EcreateEventObject%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20ev%20%3D%20extend%28ev%2C%20data%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20el%2EfireEvent%28%27on%27%20%2B%20eventName%2C%20ev%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20trim%20%3D%20function%28str%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20return%20str%2Etrim%20%3F%20str%2Etrim%28%29%20%3A%20str%2Ereplace%28%2F%5E%5Cs%2B%7C%5Cs%2B%24%2Fg%2C%27%27%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20hasClass%20%3D%20function%28el%2C%20cn%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20return%20%28%27%20%27%20%2B%20el%2EclassName%20%2B%20%27%20%27%29%2EindexOf%28%27%20%27%20%2B%20cn%20%2B%20%27%20%27%29%20%21%3D%3D%20%2D1%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20addClass%20%3D%20function%28el%2C%20cn%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21hasClass%28el%2C%20cn%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20el%2EclassName%20%3D%20%28el%2EclassName%20%3D%3D%3D%20%27%27%29%20%3F%20cn%20%3A%20el%2EclassName%20%2B%20%27%20%27%20%2B%20cn%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20removeClass%20%3D%20function%28el%2C%20cn%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20el%2EclassName%20%3D%20trim%28%28%27%20%27%20%2B%20el%2EclassName%20%2B%20%27%20%27%29%2Ereplace%28%27%20%27%20%2B%20cn%20%2B%20%27%20%27%2C%20%27%20%27%29%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20isArray%20%3D%20function%28obj%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20return%20%28%2FArray%2F%29%2Etest%28Object%2Eprototype%2EtoString%2Ecall%28obj%29%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20isDate%20%3D%20function%28obj%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20return%20%28%2FDate%2F%29%2Etest%28Object%2Eprototype%2EtoString%2Ecall%28obj%29%29%20%26%26%20%21isNaN%28obj%2EgetTime%28%29%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20isLeapYear%20%3D%20function%28year%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20solution%20by%20Matti%20Virkkunen%3A%20http%3A%2F%2Fstackoverflow%2Ecom%2Fa%2F4881951%0A%20%20%20%20%20%20%20%20return%20year%20%25%204%20%3D%3D%3D%200%20%26%26%20year%20%25%20100%20%21%3D%3D%200%20%7C%7C%20year%20%25%20400%20%3D%3D%3D%200%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20getDaysInMonth%20%3D%20function%28year%2C%20month%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20return%20%5B31%2C%20isLeapYear%28year%29%20%3F%2029%20%3A%2028%2C%2031%2C%2030%2C%2031%2C%2030%2C%2031%2C%2031%2C%2030%2C%2031%2C%2030%2C%2031%5D%5Bmonth%5D%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20setToStartOfDay%20%3D%20function%28date%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28isDate%28date%29%29%20date%2EsetHours%280%2C0%2C0%2C0%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20compareDates%20%3D%20function%28a%2Cb%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20weak%20date%20comparison%20%28use%20setToStartOfDay%28date%29%20to%20ensure%20correct%20result%29%0A%20%20%20%20%20%20%20%20return%20a%2EgetTime%28%29%20%3D%3D%3D%20b%2EgetTime%28%29%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20extend%20%3D%20function%28to%2C%20from%2C%20overwrite%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20prop%2C%20hasProp%3B%0A%20%20%20%20%20%20%20%20for%20%28prop%20in%20from%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20hasProp%20%3D%20to%5Bprop%5D%20%21%3D%3D%20undefined%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasProp%20%26%26%20typeof%20from%5Bprop%5D%20%3D%3D%3D%20%27object%27%20%26%26%20from%5Bprop%5D%20%21%3D%3D%20null%20%26%26%20from%5Bprop%5D%2EnodeName%20%3D%3D%3D%20undefined%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isDate%28from%5Bprop%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28overwrite%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20to%5Bprop%5D%20%3D%20new%20Date%28from%5Bprop%5D%2EgetTime%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28isArray%28from%5Bprop%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28overwrite%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20to%5Bprop%5D%20%3D%20from%5Bprop%5D%2Eslice%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20to%5Bprop%5D%20%3D%20extend%28%7B%7D%2C%20from%5Bprop%5D%2C%20overwrite%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28overwrite%20%7C%7C%20%21hasProp%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20to%5Bprop%5D%20%3D%20from%5Bprop%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20to%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20adjustCalendar%20%3D%20function%28calendar%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28calendar%2Emonth%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20calendar%2Eyear%20%2D%3D%20Math%2Eceil%28Math%2Eabs%28calendar%2Emonth%29%2F12%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20calendar%2Emonth%20%2B%3D%2012%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28calendar%2Emonth%20%3E%2011%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20calendar%2Eyear%20%2B%3D%20Math%2Efloor%28Math%2Eabs%28calendar%2Emonth%29%2F12%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20calendar%2Emonth%20%2D%3D%2012%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20calendar%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20defaults%20and%20localisation%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20defaults%20%3D%20%7B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20bind%20the%20picker%20to%20a%20form%20field%0A%20%20%20%20%20%20%20%20field%3A%20null%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20automatically%20show%2Fhide%20the%20picker%20on%20%60field%60%20focus%20%28default%20%60true%60%20if%20%60field%60%20is%20set%29%0A%20%20%20%20%20%20%20%20bound%3A%20undefined%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20position%20of%20the%20datepicker%2C%20relative%20to%20the%20field%20%28default%20to%20bottom%20%26%20left%29%0A%20%20%20%20%20%20%20%20%2F%2F%20%28%27bottom%27%20%26%20%27left%27%20keywords%20are%20not%20used%2C%20%27top%27%20%26%20%27right%27%20are%20modifier%20on%20the%20bottom%2Fleft%20position%29%0A%20%20%20%20%20%20%20%20position%3A%20%27bottom%20left%27%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20automatically%20fit%20in%20the%20viewport%20even%20if%20it%20means%20repositioning%20from%20the%20position%20option%0A%20%20%20%20%20%20%20%20reposition%3A%20true%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20the%20default%20output%20format%20for%20%60%2EtoString%28%29%60%20and%20%60field%60%20value%0A%20%20%20%20%20%20%20%20format%3A%20%27YYYY%2DMM%2DDD%27%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20the%20initial%20date%20to%20view%20when%20first%20opened%0A%20%20%20%20%20%20%20%20defaultDate%3A%20null%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20make%20the%20%60defaultDate%60%20the%20initial%20selected%20value%0A%20%20%20%20%20%20%20%20setDefaultDate%3A%20false%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20first%20day%20of%20week%20%280%3A%20Sunday%2C%201%3A%20Monday%20etc%29%0A%20%20%20%20%20%20%20%20firstDay%3A%200%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20the%20minimum%2Fearliest%20date%20that%20can%20be%20selected%0A%20%20%20%20%20%20%20%20minDate%3A%20null%2C%0A%20%20%20%20%20%20%20%20%2F%2F%20the%20maximum%2Flatest%20date%20that%20can%20be%20selected%0A%20%20%20%20%20%20%20%20maxDate%3A%20null%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20number%20of%20years%20either%20side%2C%20or%20array%20of%20upper%2Flower%20range%0A%20%20%20%20%20%20%20%20yearRange%3A%2010%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20show%20week%20numbers%20at%20head%20of%20row%0A%20%20%20%20%20%20%20%20showWeekNumber%3A%20false%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20used%20internally%20%28don%27t%20config%20outside%29%0A%20%20%20%20%20%20%20%20minYear%3A%200%2C%0A%20%20%20%20%20%20%20%20maxYear%3A%209999%2C%0A%20%20%20%20%20%20%20%20minMonth%3A%20undefined%2C%0A%20%20%20%20%20%20%20%20maxMonth%3A%20undefined%2C%0A%0A%20%20%20%20%20%20%20%20isRTL%3A%20false%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Additional%20text%20to%20append%20to%20the%20year%20in%20the%20calendar%20title%0A%20%20%20%20%20%20%20%20yearSuffix%3A%20%27%27%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Render%20the%20month%20after%20year%20in%20the%20calendar%20title%0A%20%20%20%20%20%20%20%20showMonthAfterYear%3A%20false%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20how%20many%20months%20are%20visible%0A%20%20%20%20%20%20%20%20numberOfMonths%3A%201%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20when%20numberOfMonths%20is%20used%2C%20this%20will%20help%20you%20to%20choose%20where%20the%20main%20calendar%20will%20be%20%28default%20%60left%60%2C%20can%20be%20set%20to%20%60right%60%29%0A%20%20%20%20%20%20%20%20%2F%2F%20only%20used%20for%20the%20first%20display%20or%20when%20a%20selected%20date%20is%20not%20visible%0A%20%20%20%20%20%20%20%20mainCalendar%3A%20%27left%27%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Specify%20a%20DOM%20element%20to%20render%20the%20calendar%20in%0A%20%20%20%20%20%20%20%20container%3A%20undefined%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20internationalization%0A%20%20%20%20%20%20%20%20i18n%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20previousMonth%20%3A%20%27Previous%20Month%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20nextMonth%20%20%20%20%20%3A%20%27Next%20Month%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20months%20%20%20%20%20%20%20%20%3A%20%5B%27January%27%2C%27February%27%2C%27March%27%2C%27April%27%2C%27May%27%2C%27June%27%2C%27July%27%2C%27August%27%2C%27September%27%2C%27October%27%2C%27November%27%2C%27December%27%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20weekdays%20%20%20%20%20%20%3A%20%5B%27Sunday%27%2C%27Monday%27%2C%27Tuesday%27%2C%27Wednesday%27%2C%27Thursday%27%2C%27Friday%27%2C%27Saturday%27%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20weekdaysShort%20%3A%20%5B%27Sun%27%2C%27Mon%27%2C%27Tue%27%2C%27Wed%27%2C%27Thu%27%2C%27Fri%27%2C%27Sat%27%5D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20callback%20function%0A%20%20%20%20%20%20%20%20onSelect%3A%20null%2C%0A%20%20%20%20%20%20%20%20onOpen%3A%20null%2C%0A%20%20%20%20%20%20%20%20onClose%3A%20null%2C%0A%20%20%20%20%20%20%20%20onDraw%3A%20null%0A%20%20%20%20%7D%2C%0A%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20templating%20functions%20to%20abstract%20HTML%20rendering%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20renderDayName%20%3D%20function%28opts%2C%20day%2C%20abbr%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20day%20%2B%3D%20opts%2EfirstDay%3B%0A%20%20%20%20%20%20%20%20while%20%28day%20%3E%3D%207%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20day%20%2D%3D%207%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20abbr%20%3F%20opts%2Ei18n%2EweekdaysShort%5Bday%5D%20%3A%20opts%2Ei18n%2Eweekdays%5Bday%5D%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20renderDay%20%3D%20function%28d%2C%20m%2C%20y%2C%20isSelected%2C%20isToday%2C%20isDisabled%2C%20isEmpty%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20if%20%28isEmpty%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%27%3Ctd%20class%3D%22is%2Dempty%22%3E%3C%2Ftd%3E%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20var%20arr%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20if%20%28isDisabled%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%2Epush%28%27is%2Ddisabled%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28isToday%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%2Epush%28%27is%2Dtoday%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28isSelected%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%2Epush%28%27is%2Dselected%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20%27%3Ctd%20data%2Dday%3D%22%27%20%2B%20d%20%2B%20%27%22%20class%3D%22%27%20%2B%20arr%2Ejoin%28%27%20%27%29%20%2B%20%27%22%3E%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%3Cbutton%20class%3D%22pika%2Dbutton%20pika%2Dday%22%20type%3D%22button%22%20%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27data%2Dpika%2Dyear%3D%22%27%20%2B%20y%20%2B%20%27%22%20data%2Dpika%2Dmonth%3D%22%27%20%2B%20m%20%2B%20%27%22%20data%2Dpika%2Dday%3D%22%27%20%2B%20d%20%2B%20%27%22%3E%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20d%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%3C%2Fbutton%3E%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27%3C%2Ftd%3E%27%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20renderWeek%20%3D%20function%20%28d%2C%20m%2C%20y%29%20%7B%0A%20%20%20%20%20%20%20%20%2F%2F%20Lifted%20from%20http%3A%2F%2Fjavascript%2Eabout%2Ecom%2Flibrary%2Fblweekyear%2Ehtm%2C%20lightly%20modified%2E%0A%20%20%20%20%20%20%20%20var%20onejan%20%3D%20new%20Date%28y%2C%200%2C%201%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20weekNum%20%3D%20Math%2Eceil%28%28%28%28new%20Date%28y%2C%20m%2C%20d%29%20%2D%20onejan%29%20%2F%2086400000%29%20%2B%20onejan%2EgetDay%28%29%2B1%29%2F7%29%3B%0A%20%20%20%20%20%20%20%20return%20%27%3Ctd%20class%3D%22pika%2Dweek%22%3E%27%20%2B%20weekNum%20%2B%20%27%3C%2Ftd%3E%27%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20renderRow%20%3D%20function%28days%2C%20isRTL%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20return%20%27%3Ctr%3E%27%20%2B%20%28isRTL%20%3F%20days%2Ereverse%28%29%20%3A%20days%29%2Ejoin%28%27%27%29%20%2B%20%27%3C%2Ftr%3E%27%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20renderBody%20%3D%20function%28rows%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20return%20%27%3Ctbody%3E%27%20%2B%20rows%2Ejoin%28%27%27%29%20%2B%20%27%3C%2Ftbody%3E%27%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20renderHead%20%3D%20function%28opts%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20i%2C%20arr%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20if%20%28opts%2EshowWeekNumber%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%2Epush%28%27%3Cth%3E%3C%2Fth%3E%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%200%3B%20i%20%3C%207%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%2Epush%28%27%3Cth%20scope%3D%22col%22%3E%3Cabbr%20title%3D%22%27%20%2B%20renderDayName%28opts%2C%20i%29%20%2B%20%27%22%3E%27%20%2B%20renderDayName%28opts%2C%20i%2C%20true%29%20%2B%20%27%3C%2Fabbr%3E%3C%2Fth%3E%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20%27%3Cthead%3E%27%20%2B%20%28opts%2EisRTL%20%3F%20arr%2Ereverse%28%29%20%3A%20arr%29%2Ejoin%28%27%27%29%20%2B%20%27%3C%2Fthead%3E%27%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20renderTitle%20%3D%20function%28instance%2C%20c%2C%20year%2C%20month%2C%20refYear%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20i%2C%20j%2C%20arr%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20opts%20%3D%20instance%2E%5Fo%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isMinYear%20%3D%20year%20%3D%3D%3D%20opts%2EminYear%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20isMaxYear%20%3D%20year%20%3D%3D%3D%20opts%2EmaxYear%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20html%20%3D%20%27%3Cdiv%20class%3D%22pika%2Dtitle%22%3E%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20monthHtml%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20yearHtml%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20prev%20%3D%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20next%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%20%20for%20%28arr%20%3D%20%5B%5D%2C%20i%20%3D%200%3B%20i%20%3C%2012%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20arr%2Epush%28%27%3Coption%20value%3D%22%27%20%2B%20%28year%20%3D%3D%3D%20refYear%20%3F%20i%20%2D%20c%20%3A%2012%20%2B%20i%20%2D%20c%29%20%2B%20%27%22%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28i%20%3D%3D%3D%20month%20%3F%20%27%20selected%27%3A%20%27%27%29%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%28isMinYear%20%26%26%20i%20%3C%20opts%2EminMonth%29%20%7C%7C%20%28isMaxYear%20%26%26%20i%20%3E%20opts%2EmaxMonth%29%20%3F%20%27disabled%27%20%3A%20%27%27%29%20%2B%20%27%3E%27%20%2B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2Ei18n%2Emonths%5Bi%5D%20%2B%20%27%3C%2Foption%3E%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20monthHtml%20%3D%20%27%3Cdiv%20class%3D%22pika%2Dlabel%22%3E%27%20%2B%20opts%2Ei18n%2Emonths%5Bmonth%5D%20%2B%20%27%3Cselect%20class%3D%22pika%2Dselect%20pika%2Dselect%2Dmonth%22%3E%27%20%2B%20arr%2Ejoin%28%27%27%29%20%2B%20%27%3C%2Fselect%3E%3C%2Fdiv%3E%27%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28isArray%28opts%2EyearRange%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20i%20%3D%20opts%2EyearRange%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20j%20%3D%20opts%2EyearRange%5B1%5D%20%2B%201%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20i%20%3D%20year%20%2D%20opts%2EyearRange%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20j%20%3D%201%20%2B%20year%20%2B%20opts%2EyearRange%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20for%20%28arr%20%3D%20%5B%5D%3B%20i%20%3C%20j%20%26%26%20i%20%3C%3D%20opts%2EmaxYear%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28i%20%3E%3D%20opts%2EminYear%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20arr%2Epush%28%27%3Coption%20value%3D%22%27%20%2B%20i%20%2B%20%27%22%27%20%2B%20%28i%20%3D%3D%3D%20year%20%3F%20%27%20selected%27%3A%20%27%27%29%20%2B%20%27%3E%27%20%2B%20%28i%29%20%2B%20%27%3C%2Foption%3E%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20yearHtml%20%3D%20%27%3Cdiv%20class%3D%22pika%2Dlabel%22%3E%27%20%2B%20year%20%2B%20opts%2EyearSuffix%20%2B%20%27%3Cselect%20class%3D%22pika%2Dselect%20pika%2Dselect%2Dyear%22%3E%27%20%2B%20arr%2Ejoin%28%27%27%29%20%2B%20%27%3C%2Fselect%3E%3C%2Fdiv%3E%27%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28opts%2EshowMonthAfterYear%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20html%20%2B%3D%20yearHtml%20%2B%20monthHtml%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20html%20%2B%3D%20monthHtml%20%2B%20yearHtml%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28isMinYear%20%26%26%20%28month%20%3D%3D%3D%200%20%7C%7C%20opts%2EminMonth%20%3E%3D%20month%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20prev%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28isMaxYear%20%26%26%20%28month%20%3D%3D%3D%2011%20%7C%7C%20opts%2EmaxMonth%20%3C%3D%20month%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20next%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28c%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20html%20%2B%3D%20%27%3Cbutton%20class%3D%22pika%2Dprev%27%20%2B%20%28prev%20%3F%20%27%27%20%3A%20%27%20is%2Ddisabled%27%29%20%2B%20%27%22%20type%3D%22button%22%3E%27%20%2B%20opts%2Ei18n%2EpreviousMonth%20%2B%20%27%3C%2Fbutton%3E%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28c%20%3D%3D%3D%20%28instance%2E%5Fo%2EnumberOfMonths%20%2D%201%29%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20html%20%2B%3D%20%27%3Cbutton%20class%3D%22pika%2Dnext%27%20%2B%20%28next%20%3F%20%27%27%20%3A%20%27%20is%2Ddisabled%27%29%20%2B%20%27%22%20type%3D%22button%22%3E%27%20%2B%20opts%2Ei18n%2EnextMonth%20%2B%20%27%3C%2Fbutton%3E%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20return%20html%20%2B%3D%20%27%3C%2Fdiv%3E%27%3B%0A%20%20%20%20%7D%2C%0A%0A%20%20%20%20renderTable%20%3D%20function%28opts%2C%20data%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20return%20%27%3Ctable%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22pika%2Dtable%22%3E%27%20%2B%20renderHead%28opts%29%20%2B%20renderBody%28data%29%20%2B%20%27%3C%2Ftable%3E%27%3B%0A%20%20%20%20%7D%2C%0A%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20Pikaday%20constructor%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20Pikaday%20%3D%20function%28options%29%0A%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20var%20self%20%3D%20this%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20opts%20%3D%20self%2Econfig%28options%29%3B%0A%0A%20%20%20%20%20%20%20%20self%2E%5FonMouseDown%20%3D%20function%28e%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21self%2E%5Fv%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20e%20%3D%20e%20%7C%7C%20window%2Eevent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20target%20%3D%20e%2Etarget%20%7C%7C%20e%2EsrcElement%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21target%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21hasClass%28target%2C%20%27is%2Ddisabled%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasClass%28target%2C%20%27pika%2Dbutton%27%29%20%26%26%20%21hasClass%28target%2C%20%27is%2Dempty%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2EsetDate%28new%20Date%28target%2EgetAttribute%28%27data%2Dpika%2Dyear%27%29%2C%20target%2EgetAttribute%28%27data%2Dpika%2Dmonth%27%29%2C%20target%2EgetAttribute%28%27data%2Dpika%2Dday%27%29%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28opts%2Ebound%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sto%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2Ehide%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28opts%2Efield%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2Efield%2Eblur%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20100%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28hasClass%28target%2C%20%27pika%2Dprev%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2EprevMonth%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28hasClass%28target%2C%20%27pika%2Dnext%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2EnextMonth%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21hasClass%28target%2C%20%27pika%2Dselect%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e%2EpreventDefault%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e%2EpreventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e%2EreturnValue%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2E%5Fc%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20self%2E%5FonChange%20%3D%20function%28e%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20e%20%3D%20e%20%7C%7C%20window%2Eevent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20target%20%3D%20e%2Etarget%20%7C%7C%20e%2EsrcElement%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21target%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasClass%28target%2C%20%27pika%2Dselect%2Dmonth%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2EgotoMonth%28target%2Evalue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28hasClass%28target%2C%20%27pika%2Dselect%2Dyear%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2EgotoYear%28target%2Evalue%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20self%2E%5FonInputChange%20%3D%20function%28e%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20date%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e%2EfiredBy%20%3D%3D%3D%20self%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasMoment%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20date%20%3D%20moment%28opts%2Efield%2Evalue%2C%20opts%2Eformat%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20date%20%3D%20%28date%20%26%26%20date%2EisValid%28%29%29%20%3F%20date%2EtoDate%28%29%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20date%20%3D%20new%20Date%28Date%2Eparse%28opts%2Efield%2Evalue%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20self%2EsetDate%28isDate%28date%29%20%3F%20date%20%3A%20null%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21self%2E%5Fv%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2Eshow%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20self%2E%5FonInputFocus%20%3D%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20self%2Eshow%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20self%2E%5FonInputClick%20%3D%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20self%2Eshow%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20self%2E%5FonInputBlur%20%3D%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21self%2E%5Fc%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2E%5Fb%20%3D%20sto%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2Ehide%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%2050%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20self%2E%5Fc%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20self%2E%5FonClick%20%3D%20function%28e%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20e%20%3D%20e%20%7C%7C%20window%2Eevent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20target%20%3D%20e%2Etarget%20%7C%7C%20e%2EsrcElement%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20pEl%20%3D%20target%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21target%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21hasEventListeners%20%26%26%20hasClass%28target%2C%20%27pika%2Dselect%27%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21target%2Eonchange%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20target%2EsetAttribute%28%27onchange%27%2C%20%27return%3B%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addEvent%28target%2C%20%27change%27%2C%20self%2E%5FonChange%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20do%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pEl%20%3D%3D%3D%20opts%2Etrigger%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20%28%28pEl%20%3D%20pEl%2EparentNode%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28self%2E%5Fv%20%26%26%20pEl%20%21%3D%3D%20opts%2Etrigger%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2Ehide%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20self%2Eel%20%3D%20document%2EcreateElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20self%2Eel%2EclassName%20%3D%20%27pika%2Dsingle%27%20%2B%20%28opts%2EisRTL%20%3F%20%27%20is%2Drtl%27%20%3A%20%27%27%29%3B%0A%0A%20%20%20%20%20%20%20%20addEvent%28self%2Eel%2C%20%27mousedown%27%2C%20self%2E%5FonMouseDown%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20addEvent%28self%2Eel%2C%20%27change%27%2C%20self%2E%5FonChange%29%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28opts%2Efield%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28opts%2Econtainer%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2Econtainer%2EappendChild%28self%2Eel%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28opts%2Ebound%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document%2Ebody%2EappendChild%28self%2Eel%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2Efield%2EparentNode%2EinsertBefore%28self%2Eel%2C%20opts%2Efield%2EnextSibling%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20addEvent%28opts%2Efield%2C%20%27change%27%2C%20self%2E%5FonInputChange%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21opts%2EdefaultDate%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasMoment%20%26%26%20opts%2Efield%2Evalue%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EdefaultDate%20%3D%20moment%28opts%2Efield%2Evalue%2C%20opts%2Eformat%29%2EtoDate%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EdefaultDate%20%3D%20new%20Date%28Date%2Eparse%28opts%2Efield%2Evalue%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EsetDefaultDate%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20var%20defDate%20%3D%20opts%2EdefaultDate%3B%0A%0A%20%20%20%20%20%20%20%20if%20%28isDate%28defDate%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28opts%2EsetDefaultDate%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2EsetDate%28defDate%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2EgotoDate%28defDate%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20self%2EgotoDate%28new%20Date%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20if%20%28opts%2Ebound%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ehide%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20self%2Eel%2EclassName%20%2B%3D%20%27%20is%2Dbound%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20addEvent%28opts%2Etrigger%2C%20%27click%27%2C%20self%2E%5FonInputClick%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20addEvent%28opts%2Etrigger%2C%20%27focus%27%2C%20self%2E%5FonInputFocus%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20addEvent%28opts%2Etrigger%2C%20%27blur%27%2C%20self%2E%5FonInputBlur%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Eshow%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%0A%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%2A%20public%20Pikaday%20API%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20Pikaday%2Eprototype%20%3D%20%7B%0A%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20configure%20functionality%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20config%3A%20function%28options%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this%2E%5Fo%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fo%20%3D%20extend%28%7B%7D%2C%20defaults%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20opts%20%3D%20extend%28this%2E%5Fo%2C%20options%2C%20true%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20opts%2EisRTL%20%3D%20%21%21opts%2EisRTL%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20opts%2Efield%20%3D%20%28opts%2Efield%20%26%26%20opts%2Efield%2EnodeName%29%20%3F%20opts%2Efield%20%3A%20null%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20opts%2Ebound%20%3D%20%21%21%28opts%2Ebound%20%21%3D%3D%20undefined%20%3F%20opts%2Efield%20%26%26%20opts%2Ebound%20%3A%20opts%2Efield%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20opts%2Etrigger%20%3D%20%28opts%2Etrigger%20%26%26%20opts%2Etrigger%2EnodeName%29%20%3F%20opts%2Etrigger%20%3A%20opts%2Efield%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20nom%20%3D%20parseInt%28opts%2EnumberOfMonths%2C%2010%29%20%7C%7C%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20opts%2EnumberOfMonths%20%3D%20nom%20%3E%204%20%3F%204%20%3A%20nom%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isDate%28opts%2EminDate%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EminDate%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isDate%28opts%2EmaxDate%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EmaxDate%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28opts%2EminDate%20%26%26%20opts%2EmaxDate%29%20%26%26%20opts%2EmaxDate%20%3C%20opts%2EminDate%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EmaxDate%20%3D%20opts%2EminDate%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28opts%2EminDate%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setToStartOfDay%28opts%2EminDate%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EminYear%20%20%3D%20opts%2EminDate%2EgetFullYear%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EminMonth%20%3D%20opts%2EminDate%2EgetMonth%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28opts%2EmaxDate%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setToStartOfDay%28opts%2EmaxDate%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EmaxYear%20%20%3D%20opts%2EmaxDate%2EgetFullYear%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EmaxMonth%20%3D%20opts%2EmaxDate%2EgetMonth%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isArray%28opts%2EyearRange%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20fallback%20%3D%20new%20Date%28%29%2EgetFullYear%28%29%20%2D%2010%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EyearRange%5B0%5D%20%3D%20parseInt%28opts%2EyearRange%5B0%5D%2C%2010%29%20%7C%7C%20fallback%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EyearRange%5B1%5D%20%3D%20parseInt%28opts%2EyearRange%5B1%5D%2C%2010%29%20%7C%7C%20fallback%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EyearRange%20%3D%20Math%2Eabs%28parseInt%28opts%2EyearRange%2C%2010%29%29%20%7C%7C%20defaults%2EyearRange%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28opts%2EyearRange%20%3E%20100%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2EyearRange%20%3D%20100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20opts%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20return%20a%20formatted%20string%20of%20the%20current%20selection%20%28using%20Moment%2Ejs%20if%20available%29%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20toString%3A%20function%28format%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%21isDate%28this%2E%5Fd%29%20%3F%20%27%27%20%3A%20hasMoment%20%3F%20moment%28this%2E%5Fd%29%2Eformat%28format%20%7C%7C%20this%2E%5Fo%2Eformat%29%20%3A%20this%2E%5Fd%2EtoDateString%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20return%20a%20Moment%2Ejs%20object%20of%20the%20current%20selection%20%28if%20available%29%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20getMoment%3A%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20hasMoment%20%3F%20moment%28this%2E%5Fd%29%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20set%20the%20current%20selection%20from%20a%20Moment%2Ejs%20object%20%28if%20available%29%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20setMoment%3A%20function%28date%2C%20preventOnSelect%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28hasMoment%20%26%26%20moment%2EisMoment%28date%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EsetDate%28date%2EtoDate%28%29%2C%20preventOnSelect%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20return%20a%20Date%20object%20of%20the%20current%20selection%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20getDate%3A%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20isDate%28this%2E%5Fd%29%20%3F%20new%20Date%28this%2E%5Fd%2EgetTime%28%29%29%20%3A%20null%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20set%20the%20current%20selection%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20setDate%3A%20function%28date%2C%20preventOnSelect%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21date%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fd%20%3D%20null%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fo%2Efield%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fo%2Efield%2Evalue%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fireEvent%28this%2E%5Fo%2Efield%2C%20%27change%27%2C%20%7B%20firedBy%3A%20this%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2Edraw%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20date%20%3D%3D%3D%20%27string%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20date%20%3D%20new%20Date%28Date%2Eparse%28date%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isDate%28date%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20min%20%3D%20this%2E%5Fo%2EminDate%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20max%20%3D%20this%2E%5Fo%2EmaxDate%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isDate%28min%29%20%26%26%20date%20%3C%20min%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20date%20%3D%20min%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28isDate%28max%29%20%26%26%20date%20%3E%20max%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20date%20%3D%20max%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fd%20%3D%20new%20Date%28date%2EgetTime%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20setToStartOfDay%28this%2E%5Fd%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EgotoDate%28this%2E%5Fd%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fo%2Efield%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fo%2Efield%2Evalue%20%3D%20this%2EtoString%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fireEvent%28this%2E%5Fo%2Efield%2C%20%27change%27%2C%20%7B%20firedBy%3A%20this%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21preventOnSelect%20%26%26%20typeof%20this%2E%5Fo%2EonSelect%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fo%2EonSelect%2Ecall%28this%2C%20this%2EgetDate%28%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20change%20view%20to%20a%20specific%20date%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20gotoDate%3A%20function%28date%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20newCalendar%20%3D%20true%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isDate%28date%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2Ecalendars%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20firstVisibleDate%20%3D%20new%20Date%28this%2Ecalendars%5B0%5D%2Eyear%2C%20this%2Ecalendars%5B0%5D%2Emonth%2C%201%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastVisibleDate%20%3D%20new%20Date%28this%2Ecalendars%5Bthis%2Ecalendars%2Elength%2D1%5D%2Eyear%2C%20this%2Ecalendars%5Bthis%2Ecalendars%2Elength%2D1%5D%2Emonth%2C%201%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20visibleDate%20%3D%20date%2EgetTime%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20get%20the%20end%20of%20the%20month%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastVisibleDate%2EsetMonth%28lastVisibleDate%2EgetMonth%28%29%2B1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastVisibleDate%2EsetDate%28lastVisibleDate%2EgetDate%28%29%2D1%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20newCalendar%20%3D%20%28visibleDate%20%3C%20firstVisibleDate%2EgetTime%28%29%20%7C%7C%20lastVisibleDate%2EgetTime%28%29%20%3C%20visibleDate%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28newCalendar%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Ecalendars%20%3D%20%5B%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20month%3A%20date%2EgetMonth%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20year%3A%20date%2EgetFullYear%28%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fo%2EmainCalendar%20%3D%3D%3D%20%27right%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Ecalendars%5B0%5D%2Emonth%20%2B%3D%201%20%2D%20this%2E%5Fo%2EnumberOfMonths%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EadjustCalendars%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20adjustCalendars%3A%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ecalendars%5B0%5D%20%3D%20adjustCalendar%28this%2Ecalendars%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20c%20%3D%201%3B%20c%20%3C%20this%2E%5Fo%2EnumberOfMonths%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Ecalendars%5Bc%5D%20%3D%20adjustCalendar%28%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20month%3A%20this%2Ecalendars%5B0%5D%2Emonth%20%2B%20c%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20year%3A%20this%2Ecalendars%5B0%5D%2Eyear%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Edraw%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20gotoToday%3A%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EgotoDate%28new%20Date%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20change%20view%20to%20a%20specific%20month%20%28zero%2Dindex%2C%20e%2Eg%2E%200%3A%20January%29%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20gotoMonth%3A%20function%28month%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isNaN%28month%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Ecalendars%5B0%5D%2Emonth%20%3D%20parseInt%28month%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EadjustCalendars%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20nextMonth%3A%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ecalendars%5B0%5D%2Emonth%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EadjustCalendars%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20prevMonth%3A%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ecalendars%5B0%5D%2Emonth%2D%2D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2EadjustCalendars%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20change%20view%20to%20a%20specific%20full%20year%20%28e%2Eg%2E%20%222012%22%29%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20gotoYear%3A%20function%28year%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isNaN%28year%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Ecalendars%5B0%5D%2Eyear%20%3D%20parseInt%28year%2C%2010%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EadjustCalendars%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20change%20the%20minDate%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20setMinDate%3A%20function%28value%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fo%2EminDate%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20change%20the%20maxDate%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20setMaxDate%3A%20function%28value%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fo%2EmaxDate%20%3D%20value%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20refresh%20the%20HTML%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20draw%3A%20function%28force%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this%2E%5Fv%20%26%26%20%21force%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20opts%20%3D%20this%2E%5Fo%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20minYear%20%3D%20opts%2EminYear%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20maxYear%20%3D%20opts%2EmaxYear%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20minMonth%20%3D%20opts%2EminMonth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20maxMonth%20%3D%20opts%2EmaxMonth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html%20%3D%20%27%27%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fy%20%3C%3D%20minYear%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fy%20%3D%20minYear%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isNaN%28minMonth%29%20%26%26%20this%2E%5Fm%20%3C%20minMonth%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fm%20%3D%20minMonth%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fy%20%3E%3D%20maxYear%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fy%20%3D%20maxYear%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isNaN%28maxMonth%29%20%26%26%20this%2E%5Fm%20%3E%20maxMonth%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fm%20%3D%20maxMonth%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20c%20%3D%200%3B%20c%20%3C%20opts%2EnumberOfMonths%3B%20c%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html%20%2B%3D%20%27%3Cdiv%20class%3D%22pika%2Dlendar%22%3E%27%20%2B%20renderTitle%28this%2C%20c%2C%20this%2Ecalendars%5Bc%5D%2Eyear%2C%20this%2Ecalendars%5Bc%5D%2Emonth%2C%20this%2Ecalendars%5B0%5D%2Eyear%29%20%2B%20this%2Erender%28this%2Ecalendars%5Bc%5D%2Eyear%2C%20this%2Ecalendars%5Bc%5D%2Emonth%29%20%2B%20%27%3C%2Fdiv%3E%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Eel%2EinnerHTML%20%3D%20html%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28opts%2Ebound%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%28opts%2Efield%2Etype%20%21%3D%3D%20%27hidden%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sto%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opts%2Etrigger%2Efocus%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%201%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20this%2E%5Fo%2EonDraw%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20self%20%3D%20this%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sto%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20self%2E%5Fo%2EonDraw%2Ecall%28self%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%200%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20adjustPosition%3A%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fo%2Econtainer%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20field%20%3D%20this%2E%5Fo%2Etrigger%2C%20pEl%20%3D%20field%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20width%20%3D%20this%2Eel%2EoffsetWidth%2C%20height%20%3D%20this%2Eel%2EoffsetHeight%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20viewportWidth%20%3D%20window%2EinnerWidth%20%7C%7C%20document%2EdocumentElement%2EclientWidth%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20viewportHeight%20%3D%20window%2EinnerHeight%20%7C%7C%20document%2EdocumentElement%2EclientHeight%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20scrollTop%20%3D%20window%2EpageYOffset%20%7C%7C%20document%2Ebody%2EscrollTop%20%7C%7C%20document%2EdocumentElement%2EscrollTop%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20left%2C%20top%2C%20clientRect%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20field%2EgetBoundingClientRect%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clientRect%20%3D%20field%2EgetBoundingClientRect%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%20%3D%20clientRect%2Eleft%20%2B%20window%2EpageXOffset%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%20%3D%20clientRect%2Ebottom%20%2B%20window%2EpageYOffset%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%20%3D%20pEl%2EoffsetLeft%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%20%20%3D%20pEl%2EoffsetTop%20%2B%20pEl%2EoffsetHeight%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20while%28%28pEl%20%3D%20pEl%2EoffsetParent%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%20%2B%3D%20pEl%2EoffsetLeft%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%20%20%2B%3D%20pEl%2EoffsetTop%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20default%20position%20is%20bottom%20%26%20left%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28this%2E%5Fo%2Ereposition%20%26%26%20left%20%2B%20width%20%3E%20viewportWidth%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fo%2Eposition%2EindexOf%28%27right%27%29%20%3E%20%2D1%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%20%2D%20width%20%2B%20field%2EoffsetWidth%20%3E%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%20%3D%20left%20%2D%20width%20%2B%20field%2EoffsetWidth%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28this%2E%5Fo%2Ereposition%20%26%26%20top%20%2B%20height%20%3E%20viewportHeight%20%2B%20scrollTop%29%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fo%2Eposition%2EindexOf%28%27top%27%29%20%3E%20%2D1%20%26%26%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%20%2D%20height%20%2D%20field%2EoffsetHeight%20%3E%200%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%20%3D%20top%20%2D%20height%20%2D%20field%2EoffsetHeight%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Eel%2Estyle%2EcssText%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27position%3A%20absolute%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27left%3A%20%27%20%2B%20left%20%2B%20%27px%27%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%27top%3A%20%27%20%2B%20top%20%2B%20%27px%27%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2Ejoin%28%27%3B%27%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20render%20HTML%20for%20a%20particular%20month%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20render%3A%20function%28year%2C%20month%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20opts%20%20%20%3D%20this%2E%5Fo%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20now%20%20%20%20%3D%20new%20Date%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20days%20%20%20%3D%20getDaysInMonth%28year%2C%20month%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20before%20%3D%20new%20Date%28year%2C%20month%2C%201%29%2EgetDay%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%20%20%20%3D%20%5B%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20row%20%20%20%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20setToStartOfDay%28now%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28opts%2EfirstDay%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20before%20%2D%3D%20opts%2EfirstDay%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28before%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20before%20%2B%3D%207%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20cells%20%3D%20days%20%2B%20before%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20after%20%3D%20cells%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20while%28after%20%3E%207%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20after%20%2D%3D%207%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20cells%20%2B%3D%207%20%2D%20after%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20%28var%20i%20%3D%200%2C%20r%20%3D%200%3B%20i%20%3C%20cells%3B%20i%2B%2B%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20var%20day%20%3D%20new%20Date%28year%2C%20month%2C%201%20%2B%20%28i%20%2D%20before%29%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isDisabled%20%3D%20%28opts%2EminDate%20%26%26%20day%20%3C%20opts%2EminDate%29%20%7C%7C%20%28opts%2EmaxDate%20%26%26%20day%20%3E%20opts%2EmaxDate%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isSelected%20%3D%20isDate%28this%2E%5Fd%29%20%3F%20compareDates%28day%2C%20this%2E%5Fd%29%20%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isToday%20%3D%20compareDates%28day%2C%20now%29%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isEmpty%20%3D%20i%20%3C%20before%20%7C%7C%20i%20%3E%3D%20%28days%20%2B%20before%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20row%2Epush%28renderDay%281%20%2B%20%28i%20%2D%20before%29%2C%20month%2C%20year%2C%20isSelected%2C%20isToday%2C%20isDisabled%2C%20isEmpty%29%29%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%2B%2Br%20%3D%3D%3D%207%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28opts%2EshowWeekNumber%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20row%2Eunshift%28renderWeek%28i%20%2D%20before%2C%20month%2C%20year%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%2Epush%28renderRow%28row%2C%20opts%2EisRTL%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20row%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20renderTable%28opts%2C%20data%29%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20isVisible%3A%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20this%2E%5Fv%3B%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20show%3A%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21this%2E%5Fv%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeClass%28this%2Eel%2C%20%27is%2Dhidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fv%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Edraw%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fo%2Ebound%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addEvent%28document%2C%20%27click%27%2C%20this%2E%5FonClick%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2EadjustPosition%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28typeof%20this%2E%5Fo%2EonOpen%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fo%2EonOpen%2Ecall%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20hide%3A%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20v%20%3D%20this%2E%5Fv%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28v%20%21%3D%3D%20false%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fo%2Ebound%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeEvent%28document%2C%20%27click%27%2C%20this%2E%5FonClick%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eel%2Estyle%2EcssText%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addClass%28this%2Eel%2C%20%27is%2Dhidden%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fv%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28v%20%21%3D%3D%20undefined%20%26%26%20typeof%20this%2E%5Fo%2EonClose%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2E%5Fo%2EonClose%2Ecall%28this%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%0A%20%20%20%20%20%20%20%20%2F%2A%2A%0A%20%20%20%20%20%20%20%20%20%2A%20GAME%20OVER%0A%20%20%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%20%20destroy%3A%20function%28%29%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this%2Ehide%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20removeEvent%28this%2Eel%2C%20%27mousedown%27%2C%20this%2E%5FonMouseDown%2C%20true%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20removeEvent%28this%2Eel%2C%20%27change%27%2C%20this%2E%5FonChange%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fo%2Efield%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeEvent%28this%2E%5Fo%2Efield%2C%20%27change%27%2C%20this%2E%5FonInputChange%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2E%5Fo%2Ebound%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeEvent%28this%2E%5Fo%2Etrigger%2C%20%27click%27%2C%20this%2E%5FonInputClick%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeEvent%28this%2E%5Fo%2Etrigger%2C%20%27focus%27%2C%20this%2E%5FonInputFocus%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20removeEvent%28this%2E%5Fo%2Etrigger%2C%20%27blur%27%2C%20this%2E%5FonInputBlur%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28this%2Eel%2EparentNode%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20this%2Eel%2EparentNode%2EremoveChild%28this%2Eel%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20return%20Pikaday%3B%0A%0A%7D%29%29%3B%0A"></script>
<script src="data:application/x-javascript,%0A%2F%2A%2A%0A%20%2A%20%40license%0A%20%2A%0A%20%2A%20chroma%2Ejs%20%2D%20JavaScript%20library%20for%20color%20conversions%0A%20%2A%20%0A%20%2A%20Copyright%20%28c%29%202011%2D2015%2C%20Gregor%20Aisch%0A%20%2A%20All%20rights%20reserved%2E%0A%20%2A%20%0A%20%2A%20Redistribution%20and%20use%20in%20source%20and%20binary%20forms%2C%20with%20or%20without%0A%20%2A%20modification%2C%20are%20permitted%20provided%20that%20the%20following%20conditions%20are%20met%3A%0A%20%2A%20%0A%20%2A%201%2E%20Redistributions%20of%20source%20code%20must%20retain%20the%20above%20copyright%20notice%2C%20this%0A%20%2A%20%20%20%20list%20of%20conditions%20and%20the%20following%20disclaimer%2E%0A%20%2A%20%0A%20%2A%202%2E%20Redistributions%20in%20binary%20form%20must%20reproduce%20the%20above%20copyright%20notice%2C%0A%20%2A%20%20%20%20this%20list%20of%20conditions%20and%20the%20following%20disclaimer%20in%20the%20documentation%0A%20%2A%20%20%20%20and%2For%20other%20materials%20provided%20with%20the%20distribution%2E%0A%20%2A%20%0A%20%2A%203%2E%20The%20name%20Gregor%20Aisch%20may%20not%20be%20used%20to%20endorse%20or%20promote%20products%0A%20%2A%20%20%20%20derived%20from%20this%20software%20without%20specific%20prior%20written%20permission%2E%0A%20%2A%20%0A%20%2A%20THIS%20SOFTWARE%20IS%20PROVIDED%20BY%20THE%20COPYRIGHT%20HOLDERS%20AND%20CONTRIBUTORS%20%22AS%20IS%22%0A%20%2A%20AND%20ANY%20EXPRESS%20OR%20IMPLIED%20WARRANTIES%2C%20INCLUDING%2C%20BUT%20NOT%20LIMITED%20TO%2C%20THE%0A%20%2A%20IMPLIED%20WARRANTIES%20OF%20MERCHANTABILITY%20AND%20FITNESS%20FOR%20A%20PARTICULAR%20PURPOSE%20ARE%0A%20%2A%20DISCLAIMED%2E%20IN%20NO%20EVENT%20SHALL%20GREGOR%20AISCH%20OR%20CONTRIBUTORS%20BE%20LIABLE%20FOR%20ANY%20DIRECT%2C%0A%20%2A%20INDIRECT%2C%20INCIDENTAL%2C%20SPECIAL%2C%20EXEMPLARY%2C%20OR%20CONSEQUENTIAL%20DAMAGES%20%28INCLUDING%2C%0A%20%2A%20BUT%20NOT%20LIMITED%20TO%2C%20PROCUREMENT%20OF%20SUBSTITUTE%20GOODS%20OR%20SERVICES%3B%20LOSS%20OF%20USE%2C%0A%20%2A%20DATA%2C%20OR%20PROFITS%3B%20OR%20BUSINESS%20INTERRUPTION%29%20HOWEVER%20CAUSED%20AND%20ON%20ANY%20THEORY%0A%20%2A%20OF%20LIABILITY%2C%20WHETHER%20IN%20CONTRACT%2C%20STRICT%20LIABILITY%2C%20OR%20TORT%20%28INCLUDING%0A%20%2A%20NEGLIGENCE%20OR%20OTHERWISE%29%20ARISING%20IN%20ANY%20WAY%20OUT%20OF%20THE%20USE%20OF%20THIS%20SOFTWARE%2C%0A%20%2A%20EVEN%20IF%20ADVISED%20OF%20THE%20POSSIBILITY%20OF%20SUCH%20DAMAGE%2E%0A%20%2A%0A%20%2A%2F%0A%0A%28function%28%29%20%7B%0A%20%20var%20Color%2C%20K%2C%20PITHIRD%2C%20TWOPI%2C%20X%2C%20Y%2C%20Z%2C%20bezier%2C%20blend%2C%20blend%5Ff%2C%20brewer%2C%20burn%2C%20chroma%2C%20clip%5Frgb%2C%20cmyk2rgb%2C%20colors%2C%20cos%2C%20css2rgb%2C%20darken%2C%20dodge%2C%20each%2C%20floor%2C%20hex2rgb%2C%20hsi2rgb%2C%20hsl2rgb%2C%20hsv2rgb%2C%20lab2lch%2C%20lab2rgb%2C%20lab%5Fxyz%2C%20lch2lab%2C%20lch2rgb%2C%20lighten%2C%20limit%2C%20log%2C%20luminance%2C%20luminance%5Fx%2C%20multiply%2C%20normal%2C%20num2rgb%2C%20overlay%2C%20pow%2C%20rgb2cmyk%2C%20rgb2hex%2C%20rgb2hsi%2C%20rgb2hsl%2C%20rgb2hsv%2C%20rgb2lab%2C%20rgb2lch%2C%20rgb2num%2C%20rgb2temp%2C%20rgb2xyz%2C%20rgb%5Fxyz%2C%20root%2C%20round%2C%20screen%2C%20sin%2C%20temp2rgb%2C%20type%2C%20unpack%2C%20xyz%5Flab%2C%20xyz%5Frgb%2C%0A%20%20%20%20slice%20%3D%20%5B%5D%2Eslice%3B%0A%0A%20%20chroma%20%3D%20function%28%29%20%7B%0A%20%20%20%20return%20%28function%28func%2C%20args%2C%20ctor%29%20%7B%0A%20%20%20%20%20%20ctor%2Eprototype%20%3D%20func%2Eprototype%3B%0A%20%20%20%20%20%20var%20child%20%3D%20new%20ctor%2C%20result%20%3D%20func%2Eapply%28child%2C%20args%29%3B%0A%20%20%20%20%20%20return%20Object%28result%29%20%3D%3D%3D%20result%20%3F%20result%20%3A%20child%3B%0A%20%20%20%20%7D%29%28Color%2C%20arguments%2C%20function%28%29%7B%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20if%20%28%28typeof%20module%20%21%3D%3D%20%22undefined%22%20%26%26%20module%20%21%3D%3D%20null%29%20%26%26%20%28module%2Eexports%20%21%3D%20null%29%29%20%7B%0A%20%20%20%20module%2Eexports%20%3D%20chroma%3B%0A%20%20%7D%0A%0A%20%20if%20%28typeof%20define%20%3D%3D%3D%20%27function%27%20%26%26%20define%2Eamd%29%20%7B%0A%20%20%20%20define%28%5B%5D%2C%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20chroma%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20root%20%3D%20typeof%20exports%20%21%3D%3D%20%22undefined%22%20%26%26%20exports%20%21%3D%3D%20null%20%3F%20exports%20%3A%20this%3B%0A%20%20%20%20root%2Echroma%20%3D%20chroma%3B%0A%20%20%7D%0A%0A%20%20chroma%2Ecolor%20%3D%20function%28x%2C%20y%2C%20z%2C%20m%29%20%7B%0A%20%20%20%20return%20new%20Color%28x%2C%20y%2C%20z%2C%20m%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Ehsl%20%3D%20function%28h%2C%20s%2C%20l%2C%20a%29%20%7B%0A%20%20%20%20return%20new%20Color%28h%2C%20s%2C%20l%2C%20a%2C%20%27hsl%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Ehsv%20%3D%20function%28h%2C%20s%2C%20v%2C%20a%29%20%7B%0A%20%20%20%20return%20new%20Color%28h%2C%20s%2C%20v%2C%20a%2C%20%27hsv%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Ergb%20%3D%20function%28r%2C%20g%2C%20b%2C%20a%29%20%7B%0A%20%20%20%20return%20new%20Color%28r%2C%20g%2C%20b%2C%20a%2C%20%27rgb%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Ehex%20%3D%20function%28x%29%20%7B%0A%20%20%20%20return%20new%20Color%28x%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Ecss%20%3D%20function%28x%29%20%7B%0A%20%20%20%20return%20new%20Color%28x%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Elab%20%3D%20function%28l%2C%20a%2C%20b%29%20%7B%0A%20%20%20%20return%20new%20Color%28l%2C%20a%2C%20b%2C%20%27lab%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Elch%20%3D%20function%28l%2C%20c%2C%20h%29%20%7B%0A%20%20%20%20return%20new%20Color%28l%2C%20c%2C%20h%2C%20%27lch%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Ehsi%20%3D%20function%28h%2C%20s%2C%20i%29%20%7B%0A%20%20%20%20return%20new%20Color%28h%2C%20s%2C%20i%2C%20%27hsi%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Egl%20%3D%20function%28r%2C%20g%2C%20b%2C%20a%29%20%7B%0A%20%20%20%20return%20new%20Color%28r%2C%20g%2C%20b%2C%20a%2C%20%27gl%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Enum%20%3D%20function%28n%29%20%7B%0A%20%20%20%20return%20new%20Color%28n%2C%20%27num%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Ecmyk%20%3D%20function%28%29%20%7B%0A%20%20%20%20return%20%28function%28func%2C%20args%2C%20ctor%29%20%7B%0A%20%20%20%20%20%20ctor%2Eprototype%20%3D%20func%2Eprototype%3B%0A%20%20%20%20%20%20var%20child%20%3D%20new%20ctor%2C%20result%20%3D%20func%2Eapply%28child%2C%20args%29%3B%0A%20%20%20%20%20%20return%20Object%28result%29%20%3D%3D%3D%20result%20%3F%20result%20%3A%20child%3B%0A%20%20%20%20%7D%29%28Color%2C%20slice%2Ecall%28arguments%29%2Econcat%28%5B%27cmyk%27%5D%29%2C%20function%28%29%7B%7D%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Erandom%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20code%2C%20digits%2C%20i%2C%20o%3B%0A%20%20%20%20digits%20%3D%20%270123456789abcdef%27%3B%0A%20%20%20%20code%20%3D%20%27%23%27%3B%0A%20%20%20%20for%20%28i%20%3D%20o%20%3D%200%3B%20o%20%3C%206%3B%20i%20%3D%20%2B%2Bo%29%20%7B%0A%20%20%20%20%20%20code%20%2B%3D%20digits%2EcharAt%28floor%28Math%2Erandom%28%29%20%2A%2016%29%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20new%20Color%28code%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Einterpolate%20%3D%20function%28a%2C%20b%2C%20f%2C%20m%29%20%7B%0A%20%20%20%20var%20ref%2C%20ref1%3B%0A%20%20%20%20if%20%28%28a%20%3D%3D%20null%29%20%7C%7C%20%28b%20%3D%3D%20null%29%29%20%7B%0A%20%20%20%20%20%20return%20%27%23000%27%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%28ref%20%3D%20type%28a%29%29%20%3D%3D%3D%20%27string%27%20%7C%7C%20ref%20%3D%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20a%20%3D%20new%20Color%28a%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%28ref1%20%3D%20type%28b%29%29%20%3D%3D%3D%20%27string%27%20%7C%7C%20ref1%20%3D%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20b%20%3D%20new%20Color%28b%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20a%2Einterpolate%28f%2C%20b%2C%20m%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Emix%20%3D%20chroma%2Einterpolate%3B%0A%0A%20%20chroma%2Econtrast%20%3D%20function%28a%2C%20b%29%20%7B%0A%20%20%20%20var%20l1%2C%20l2%2C%20ref%2C%20ref1%3B%0A%20%20%20%20if%20%28%28ref%20%3D%20type%28a%29%29%20%3D%3D%3D%20%27string%27%20%7C%7C%20ref%20%3D%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20a%20%3D%20new%20Color%28a%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28%28ref1%20%3D%20type%28b%29%29%20%3D%3D%3D%20%27string%27%20%7C%7C%20ref1%20%3D%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20b%20%3D%20new%20Color%28b%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20l1%20%3D%20a%2Eluminance%28%29%3B%0A%20%20%20%20l2%20%3D%20b%2Eluminance%28%29%3B%0A%20%20%20%20if%20%28l1%20%3E%20l2%29%20%7B%0A%20%20%20%20%20%20return%20%28l1%20%2B%200%2E05%29%20%2F%20%28l2%20%2B%200%2E05%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20%28l2%20%2B%200%2E05%29%20%2F%20%28l1%20%2B%200%2E05%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20chroma%2Eluminance%20%3D%20function%28color%29%20%7B%0A%20%20%20%20return%20chroma%28color%29%2Eluminance%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Ekelvin%20%3D%20function%28k%29%20%7B%0A%20%20%20%20return%20chroma%28temp2rgb%28k%29%2C%20%27rgb%27%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Eversion%20%3D%20%270%2E8%2E0%27%3B%0A%0A%20%20chroma%2E%5FColor%20%3D%20Color%3B%0A%0A%0A%20%20%2F%2A%2A%0A%20%20%20%20%20%20chroma%2Ejs%0A%20%20%0A%20%20%20%20%20%20Copyright%20%28c%29%202011%2D2013%2C%20Gregor%20Aisch%0A%20%20%20%20%20%20All%20rights%20reserved%2E%0A%20%20%0A%20%20%20%20%20%20Redistribution%20and%20use%20in%20source%20and%20binary%20forms%2C%20with%20or%20without%0A%20%20%20%20%20%20modification%2C%20are%20permitted%20provided%20that%20the%20following%20conditions%20are%20met%3A%0A%20%20%0A%20%20%20%20%20%20%2A%20Redistributions%20of%20source%20code%20must%20retain%20the%20above%20copyright%20notice%2C%20this%0A%20%20%20%20%20%20%20%20list%20of%20conditions%20and%20the%20following%20disclaimer%2E%0A%20%20%0A%20%20%20%20%20%20%2A%20Redistributions%20in%20binary%20form%20must%20reproduce%20the%20above%20copyright%20notice%2C%0A%20%20%20%20%20%20%20%20this%20list%20of%20conditions%20and%20the%20following%20disclaimer%20in%20the%20documentation%0A%20%20%20%20%20%20%20%20and%2For%20other%20materials%20provided%20with%20the%20distribution%2E%0A%20%20%0A%20%20%20%20%20%20%2A%20The%20name%20Gregor%20Aisch%20may%20not%20be%20used%20to%20endorse%20or%20promote%20products%0A%20%20%20%20%20%20%20%20derived%20from%20this%20software%20without%20specific%20prior%20written%20permission%2E%0A%20%20%0A%20%20%20%20%20%20THIS%20SOFTWARE%20IS%20PROVIDED%20BY%20THE%20COPYRIGHT%20HOLDERS%20AND%20CONTRIBUTORS%20%22AS%20IS%22%0A%20%20%20%20%20%20AND%20ANY%20EXPRESS%20OR%20IMPLIED%20WARRANTIES%2C%20INCLUDING%2C%20BUT%20NOT%20LIMITED%20TO%2C%20THE%0A%20%20%20%20%20%20IMPLIED%20WARRANTIES%20OF%20MERCHANTABILITY%20AND%20FITNESS%20FOR%20A%20PARTICULAR%20PURPOSE%20ARE%0A%20%20%20%20%20%20DISCLAIMED%2E%20IN%20NO%20EVENT%20SHALL%20GREGOR%20AISCH%20OR%20CONTRIBUTORS%20BE%20LIABLE%20FOR%20ANY%20DIRECT%2C%0A%20%20%20%20%20%20INDIRECT%2C%20INCIDENTAL%2C%20SPECIAL%2C%20EXEMPLARY%2C%20OR%20CONSEQUENTIAL%20DAMAGES%20%28INCLUDING%2C%0A%20%20%20%20%20%20BUT%20NOT%20LIMITED%20TO%2C%20PROCUREMENT%20OF%20SUBSTITUTE%20GOODS%20OR%20SERVICES%3B%20LOSS%20OF%20USE%2C%0A%20%20%20%20%20%20DATA%2C%20OR%20PROFITS%3B%20OR%20BUSINESS%20INTERRUPTION%29%20HOWEVER%20CAUSED%20AND%20ON%20ANY%20THEORY%0A%20%20%20%20%20%20OF%20LIABILITY%2C%20WHETHER%20IN%20CONTRACT%2C%20STRICT%20LIABILITY%2C%20OR%20TORT%20%28INCLUDING%0A%20%20%20%20%20%20NEGLIGENCE%20OR%20OTHERWISE%29%20ARISING%20IN%20ANY%20WAY%20OUT%20OF%20THE%20USE%20OF%20THIS%20SOFTWARE%2C%0A%20%20%20%20%20%20EVEN%20IF%20ADVISED%20OF%20THE%20POSSIBILITY%20OF%20SUCH%20DAMAGE%2E%0A%20%20%0A%20%20%20%20%20%20%40source%3A%20https%3A%2F%2Fgithub%2Ecom%2Fgka%2Fchroma%2Ejs%0A%20%20%20%2A%2F%0A%0A%20%20Color%20%3D%20%28function%28%29%20%7B%0A%20%20%20%20function%20Color%28%29%20%7B%0A%20%20%20%20%20%20var%20a%2C%20arg%2C%20args%2C%20len%2C%20m%2C%20me%2C%20me%5Frgb%2C%20o%2C%20ref%2C%20ref1%2C%20ref2%2C%20ref3%2C%20ref4%2C%20x%2C%20y%2C%20z%3B%0A%20%20%20%20%20%20me%20%3D%20this%3B%0A%20%20%20%20%20%20args%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28o%20%3D%200%2C%20len%20%3D%20arguments%2Elength%3B%20o%20%3C%20len%3B%20o%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20arg%20%3D%20arguments%5Bo%5D%3B%0A%20%20%20%20%20%20%20%20if%20%28arg%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20args%2Epush%28arg%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28args%2Elength%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20ref%20%3D%20%5B255%2C%200%2C%20255%2C%201%2C%20%27rgb%27%5D%2C%20x%20%3D%20ref%5B0%5D%2C%20y%20%3D%20ref%5B1%5D%2C%20z%20%3D%20ref%5B2%5D%2C%20a%20%3D%20ref%5B3%5D%2C%20m%20%3D%20ref%5B4%5D%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28type%28args%5B0%5D%29%20%3D%3D%3D%20%22array%22%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28args%5B0%5D%2Elength%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20ref1%20%3D%20args%5B0%5D%2C%20x%20%3D%20ref1%5B0%5D%2C%20y%20%3D%20ref1%5B1%5D%2C%20z%20%3D%20ref1%5B2%5D%3B%0A%20%20%20%20%20%20%20%20%20%20a%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28args%5B0%5D%2Elength%20%3D%3D%3D%204%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20ref2%20%3D%20args%5B0%5D%2C%20x%20%3D%20ref2%5B0%5D%2C%20y%20%3D%20ref2%5B1%5D%2C%20z%20%3D%20ref2%5B2%5D%2C%20a%20%3D%20ref2%5B3%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20throw%20%27unknown%20input%20argument%27%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20m%20%3D%20%28ref3%20%3D%20args%5B1%5D%29%20%21%3D%20null%20%3F%20ref3%20%3A%20%27rgb%27%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28type%28args%5B0%5D%29%20%3D%3D%3D%20%22string%22%29%20%7B%0A%20%20%20%20%20%20%20%20x%20%3D%20args%5B0%5D%3B%0A%20%20%20%20%20%20%20%20m%20%3D%20%27hex%27%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28type%28args%5B0%5D%29%20%3D%3D%3D%20%22object%22%29%20%7B%0A%20%20%20%20%20%20%20%20ref4%20%3D%20args%5B0%5D%2E%5Frgb%2C%20x%20%3D%20ref4%5B0%5D%2C%20y%20%3D%20ref4%5B1%5D%2C%20z%20%3D%20ref4%5B2%5D%2C%20a%20%3D%20ref4%5B3%5D%3B%0A%20%20%20%20%20%20%20%20m%20%3D%20%27rgb%27%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28args%2Elength%20%3C%3D%202%20%26%26%20type%28args%5B0%5D%29%20%3D%3D%3D%20%22number%22%29%20%7B%0A%20%20%20%20%20%20%20%20x%20%3D%20args%5B0%5D%3B%0A%20%20%20%20%20%20%20%20m%20%3D%20%27num%27%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28args%2Elength%20%3E%3D%203%29%20%7B%0A%20%20%20%20%20%20%20%20x%20%3D%20args%5B0%5D%3B%0A%20%20%20%20%20%20%20%20y%20%3D%20args%5B1%5D%3B%0A%20%20%20%20%20%20%20%20z%20%3D%20args%5B2%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28args%2Elength%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20%20%20m%20%3D%20%27rgb%27%3B%0A%20%20%20%20%20%20%20%20a%20%3D%201%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28args%2Elength%20%3D%3D%3D%204%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28type%28args%5B3%5D%29%20%3D%3D%3D%20%22string%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20m%20%3D%20args%5B3%5D%3B%0A%20%20%20%20%20%20%20%20%20%20a%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28type%28args%5B3%5D%29%20%3D%3D%3D%20%22number%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20m%20%3D%20%27rgb%27%3B%0A%20%20%20%20%20%20%20%20%20%20a%20%3D%20args%5B3%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20%28args%2Elength%20%3D%3D%3D%205%29%20%7B%0A%20%20%20%20%20%20%20%20a%20%3D%20args%5B3%5D%3B%0A%20%20%20%20%20%20%20%20m%20%3D%20args%5B4%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28m%20%21%3D%3D%20%27cmyk%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28a%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20a%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28m%20%3D%3D%3D%20%27rgb%27%29%20%7B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%20%3D%20%5Bx%2C%20y%2C%20z%2C%20a%5D%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27gl%27%29%20%7B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%20%3D%20%5Bx%20%2A%20255%2C%20y%20%2A%20255%2C%20z%20%2A%20255%2C%20a%5D%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27hsl%27%29%20%7B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%20%3D%20hsl2rgb%28x%2C%20y%2C%20z%29%3B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%5B3%5D%20%3D%20a%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27hsv%27%29%20%7B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%20%3D%20hsv2rgb%28x%2C%20y%2C%20z%29%3B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%5B3%5D%20%3D%20a%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27hex%27%29%20%7B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%20%3D%20hex2rgb%28x%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27lab%27%29%20%7B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%20%3D%20lab2rgb%28x%2C%20y%2C%20z%29%3B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%5B3%5D%20%3D%20a%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27lch%27%29%20%7B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%20%3D%20lch2rgb%28x%2C%20y%2C%20z%29%3B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%5B3%5D%20%3D%20a%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27hsi%27%29%20%7B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%20%3D%20hsi2rgb%28x%2C%20y%2C%20z%29%3B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%5B3%5D%20%3D%20a%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27num%27%29%20%7B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%20%3D%20num2rgb%28x%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27cmyk%27%29%20%7B%0A%20%20%20%20%20%20%20%20me%2E%5Frgb%20%3D%20cmyk2rgb%28x%2C%20y%2C%20z%2C%20a%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20me%5Frgb%20%3D%20clip%5Frgb%28me%2E%5Frgb%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20Color%2Eprototype%2Ergb%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20this%2E%5Frgb%2Eslice%280%2C%203%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ergba%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20this%2E%5Frgb%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ehex%20%3D%20function%28mode%29%20%7B%0A%20%20%20%20%20%20if%20%28mode%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20mode%20%3D%20%27rgb%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20rgb2hex%28this%2E%5Frgb%2C%20mode%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2EtoString%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20this%2Ename%28%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ehsl%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20rgb2hsl%28this%2E%5Frgb%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ehsv%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20rgb2hsv%28this%2E%5Frgb%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Elab%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20rgb2lab%28this%2E%5Frgb%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Elch%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20rgb2lch%28this%2E%5Frgb%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ehsi%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20rgb2hsi%28this%2E%5Frgb%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Egl%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20%5Bthis%2E%5Frgb%5B0%5D%20%2F%20255%2C%20this%2E%5Frgb%5B1%5D%20%2F%20255%2C%20this%2E%5Frgb%5B2%5D%20%2F%20255%2C%20this%2E%5Frgb%5B3%5D%5D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Enum%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20rgb2num%28this%2E%5Frgb%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Eluminance%20%3D%20function%28lum%2C%20mode%29%20%7B%0A%20%20%20%20%20%20var%20cur%5Flum%2C%20eps%2C%20max%5Fiter%2C%20test%3B%0A%20%20%20%20%20%20if%20%28mode%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20mode%20%3D%20%27rgb%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28%21arguments%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20return%20luminance%28this%2E%5Frgb%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28lum%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20this%2E%5Frgb%20%3D%20%5B0%2C%200%2C%200%2C%20this%2E%5Frgb%5B3%5D%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28lum%20%3D%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20%20%20this%2E%5Frgb%20%3D%20%5B255%2C%20255%2C%20255%2C%20this%2E%5Frgb%5B3%5D%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20cur%5Flum%20%3D%20luminance%28this%2E%5Frgb%29%3B%0A%20%20%20%20%20%20eps%20%3D%201e%2D7%3B%0A%20%20%20%20%20%20max%5Fiter%20%3D%2020%3B%0A%20%20%20%20%20%20test%20%3D%20function%28l%2C%20h%29%20%7B%0A%20%20%20%20%20%20%20%20var%20lm%2C%20m%3B%0A%20%20%20%20%20%20%20%20m%20%3D%20l%2Einterpolate%280%2E5%2C%20h%2C%20mode%29%3B%0A%20%20%20%20%20%20%20%20lm%20%3D%20m%2Eluminance%28%29%3B%0A%20%20%20%20%20%20%20%20if%20%28Math%2Eabs%28lum%20%2D%20lm%29%20%3C%20eps%20%7C%7C%20%21max%5Fiter%2D%2D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20m%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28lm%20%3E%20lum%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20test%28l%2C%20m%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20test%28m%2C%20h%29%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20this%2E%5Frgb%20%3D%20%28cur%5Flum%20%3E%20lum%20%3F%20test%28new%20Color%28%27black%27%29%2C%20this%29%20%3A%20test%28this%2C%20new%20Color%28%27white%27%29%29%29%2Ergba%28%29%3B%0A%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ename%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20var%20h%2C%20k%3B%0A%20%20%20%20%20%20h%20%3D%20this%2Ehex%28%29%3B%0A%20%20%20%20%20%20for%20%28k%20in%20chroma%2Ecolors%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28h%20%3D%3D%3D%20chroma%2Ecolors%5Bk%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20k%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20h%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ealpha%20%3D%20function%28alpha%29%20%7B%0A%20%20%20%20%20%20if%20%28arguments%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20this%2E%5Frgb%5B3%5D%20%3D%20alpha%3B%0A%20%20%20%20%20%20%20%20return%20this%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this%2E%5Frgb%5B3%5D%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ecss%20%3D%20function%28mode%29%20%7B%0A%20%20%20%20%20%20var%20hsl%2C%20me%2C%20rgb%2C%20rnd%3B%0A%20%20%20%20%20%20if%20%28mode%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20mode%20%3D%20%27rgb%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20me%20%3D%20this%3B%0A%20%20%20%20%20%20rgb%20%3D%20me%2E%5Frgb%3B%0A%20%20%20%20%20%20if%20%28mode%2Elength%20%3D%3D%3D%203%20%26%26%20rgb%5B3%5D%20%3C%201%29%20%7B%0A%20%20%20%20%20%20%20%20mode%20%2B%3D%20%27a%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28mode%20%3D%3D%3D%20%27rgb%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%20mode%20%2B%20%27%28%27%20%2B%20rgb%2Eslice%280%2C%203%29%2Emap%28round%29%2Ejoin%28%27%2C%27%29%20%2B%20%27%29%27%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28mode%20%3D%3D%3D%20%27rgba%27%29%20%7B%0A%20%20%20%20%20%20%20%20return%20mode%20%2B%20%27%28%27%20%2B%20rgb%2Eslice%280%2C%203%29%2Emap%28round%29%2Ejoin%28%27%2C%27%29%20%2B%20%27%2C%27%20%2B%20rgb%5B3%5D%20%2B%20%27%29%27%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28mode%20%3D%3D%3D%20%27hsl%27%20%7C%7C%20mode%20%3D%3D%3D%20%27hsla%27%29%20%7B%0A%20%20%20%20%20%20%20%20hsl%20%3D%20me%2Ehsl%28%29%3B%0A%20%20%20%20%20%20%20%20rnd%20%3D%20function%28a%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20round%28a%20%2A%20100%29%20%2F%20100%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20hsl%5B0%5D%20%3D%20rnd%28hsl%5B0%5D%20%7C%7C%200%29%3B%0A%20%20%20%20%20%20%20%20hsl%5B1%5D%20%3D%20rnd%28hsl%5B1%5D%20%2A%20100%29%20%2B%20%27%25%27%3B%0A%20%20%20%20%20%20%20%20hsl%5B2%5D%20%3D%20rnd%28hsl%5B2%5D%20%2A%20100%29%20%2B%20%27%25%27%3B%0A%20%20%20%20%20%20%20%20if%20%28mode%2Elength%20%3D%3D%3D%204%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20hsl%5B3%5D%20%3D%20rgb%5B3%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20mode%20%2B%20%27%28%27%20%2B%20hsl%2Ejoin%28%27%2C%27%29%20%2B%20%27%29%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Einterpolate%20%3D%20function%28f%2C%20col%2C%20m%29%20%7B%0A%0A%20%20%20%20%20%20%2F%2A%0A%20%20%20%20%20%20interpolates%20between%20colors%0A%20%20%20%20%20%20f%20%3D%200%20%2D%2D%3E%20me%0A%20%20%20%20%20%20f%20%3D%201%20%2D%2D%3E%20col%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20var%20dh%2C%20hue%2C%20hue0%2C%20hue1%2C%20lbv%2C%20lbv0%2C%20lbv1%2C%20me%2C%20res%2C%20sat%2C%20sat0%2C%20sat1%2C%20xyz0%2C%20xyz1%3B%0A%20%20%20%20%20%20me%20%3D%20this%3B%0A%20%20%20%20%20%20if%20%28m%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20m%20%3D%20%27rgb%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28type%28col%29%20%3D%3D%3D%20%22string%22%29%20%7B%0A%20%20%20%20%20%20%20%20col%20%3D%20new%20Color%28col%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28m%20%3D%3D%3D%20%27hsl%27%20%7C%7C%20m%20%3D%3D%3D%20%27hsv%27%20%7C%7C%20m%20%3D%3D%3D%20%27lch%27%20%7C%7C%20m%20%3D%3D%3D%20%27hsi%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28m%20%3D%3D%3D%20%27hsl%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20xyz0%20%3D%20me%2Ehsl%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20xyz1%20%3D%20col%2Ehsl%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27hsv%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20xyz0%20%3D%20me%2Ehsv%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20xyz1%20%3D%20col%2Ehsv%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27hsi%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20xyz0%20%3D%20me%2Ehsi%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20xyz1%20%3D%20col%2Ehsi%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27lch%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20xyz0%20%3D%20me%2Elch%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20xyz1%20%3D%20col%2Elch%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28m%2Esubstr%280%2C%201%29%20%3D%3D%3D%20%27h%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20hue0%20%3D%20xyz0%5B0%5D%2C%20sat0%20%3D%20xyz0%5B1%5D%2C%20lbv0%20%3D%20xyz0%5B2%5D%3B%0A%20%20%20%20%20%20%20%20%20%20hue1%20%3D%20xyz1%5B0%5D%2C%20sat1%20%3D%20xyz1%5B1%5D%2C%20lbv1%20%3D%20xyz1%5B2%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20lbv0%20%3D%20xyz0%5B0%5D%2C%20sat0%20%3D%20xyz0%5B1%5D%2C%20hue0%20%3D%20xyz0%5B2%5D%3B%0A%20%20%20%20%20%20%20%20%20%20lbv1%20%3D%20xyz1%5B0%5D%2C%20sat1%20%3D%20xyz1%5B1%5D%2C%20hue1%20%3D%20xyz1%5B2%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28%21isNaN%28hue0%29%20%26%26%20%21isNaN%28hue1%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28hue1%20%3E%20hue0%20%26%26%20hue1%20%2D%20hue0%20%3E%20180%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dh%20%3D%20hue1%20%2D%20%28hue0%20%2B%20360%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28hue1%20%3C%20hue0%20%26%26%20hue0%20%2D%20hue1%20%3E%20180%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dh%20%3D%20hue1%20%2B%20360%20%2D%20hue0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dh%20%3D%20hue1%20%2D%20hue0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20hue%20%3D%20hue0%20%2B%20f%20%2A%20dh%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21isNaN%28hue0%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20hue%20%3D%20hue0%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%28lbv1%20%3D%3D%3D%201%20%7C%7C%20lbv1%20%3D%3D%3D%200%29%20%26%26%20m%20%21%3D%3D%20%27hsv%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sat%20%3D%20sat0%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%21isNaN%28hue1%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20hue%20%3D%20hue1%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28%28lbv0%20%3D%3D%3D%201%20%7C%7C%20lbv0%20%3D%3D%3D%200%29%20%26%26%20m%20%21%3D%3D%20%27hsv%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sat%20%3D%20sat1%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20hue%20%3D%20Number%2ENaN%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28sat%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20sat%20%3D%20sat0%20%2B%20f%20%2A%20%28sat1%20%2D%20sat0%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20lbv%20%3D%20lbv0%20%2B%20f%20%2A%20%28lbv1%20%2D%20lbv0%29%3B%0A%20%20%20%20%20%20%20%20if%20%28m%2Esubstr%280%2C%201%29%20%3D%3D%3D%20%27h%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20res%20%3D%20new%20Color%28hue%2C%20sat%2C%20lbv%2C%20m%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20res%20%3D%20new%20Color%28lbv%2C%20sat%2C%20hue%2C%20m%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27rgb%27%29%20%7B%0A%20%20%20%20%20%20%20%20xyz0%20%3D%20me%2E%5Frgb%3B%0A%20%20%20%20%20%20%20%20xyz1%20%3D%20col%2E%5Frgb%3B%0A%20%20%20%20%20%20%20%20res%20%3D%20new%20Color%28xyz0%5B0%5D%20%2B%20f%20%2A%20%28xyz1%5B0%5D%20%2D%20xyz0%5B0%5D%29%2C%20xyz0%5B1%5D%20%2B%20f%20%2A%20%28xyz1%5B1%5D%20%2D%20xyz0%5B1%5D%29%2C%20xyz0%5B2%5D%20%2B%20f%20%2A%20%28xyz1%5B2%5D%20%2D%20xyz0%5B2%5D%29%2C%20m%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27num%27%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21%28col%20instanceof%20Color%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20col%20%3D%20new%20Color%28col%2C%20m%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20xyz0%20%3D%20me%2E%5Frgb%3B%0A%20%20%20%20%20%20%20%20xyz1%20%3D%20col%2E%5Frgb%3B%0A%20%20%20%20%20%20%20%20res%20%3D%20new%20Color%28%28%28xyz0%5B0%5D%20%2B%20f%20%2A%20%28xyz1%5B0%5D%20%2D%20xyz0%5B0%5D%29%29%20%3C%3C%2016%29%20%2B%20%28%28xyz0%5B1%5D%20%2B%20f%20%2A%20%28xyz1%5B1%5D%20%2D%20xyz0%5B1%5D%29%29%20%3C%3C%208%29%20%2B%20%28%28xyz0%5B2%5D%20%2B%20f%20%2A%20%28xyz1%5B2%5D%20%2D%20xyz0%5B2%5D%29%29%20%26%200xff%29%2C%20m%29%3B%0A%20%20%20%20%20%20%7D%20else%20if%20%28m%20%3D%3D%3D%20%27lab%27%29%20%7B%0A%20%20%20%20%20%20%20%20xyz0%20%3D%20me%2Elab%28%29%3B%0A%20%20%20%20%20%20%20%20xyz1%20%3D%20col%2Elab%28%29%3B%0A%20%20%20%20%20%20%20%20res%20%3D%20new%20Color%28xyz0%5B0%5D%20%2B%20f%20%2A%20%28xyz1%5B0%5D%20%2D%20xyz0%5B0%5D%29%2C%20xyz0%5B1%5D%20%2B%20f%20%2A%20%28xyz1%5B1%5D%20%2D%20xyz0%5B1%5D%29%2C%20xyz0%5B2%5D%20%2B%20f%20%2A%20%28xyz1%5B2%5D%20%2D%20xyz0%5B2%5D%29%2C%20m%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20throw%20%22color%20mode%20%22%20%2B%20m%20%2B%20%22%20is%20not%20supported%22%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20res%2Ealpha%28me%2Ealpha%28%29%20%2B%20f%20%2A%20%28col%2Ealpha%28%29%20%2D%20me%2Ealpha%28%29%29%29%3B%0A%20%20%20%20%20%20return%20res%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Emix%20%3D%20function%28f%2C%20col%2C%20m%29%20%7B%0A%20%20%20%20%20%20return%20this%2Einterpolate%28f%2C%20col%2C%20m%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Epremultiply%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20var%20a%2C%20rgb%3B%0A%20%20%20%20%20%20rgb%20%3D%20this%2Ergb%28%29%3B%0A%20%20%20%20%20%20a%20%3D%20this%2Ealpha%28%29%3B%0A%20%20%20%20%20%20return%20chroma%28rgb%5B0%5D%20%2A%20a%2C%20rgb%5B1%5D%20%2A%20a%2C%20rgb%5B2%5D%20%2A%20a%2C%20a%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Edarken%20%3D%20function%28amount%29%20%7B%0A%20%20%20%20%20%20var%20lch%2C%20me%3B%0A%20%20%20%20%20%20if%20%28amount%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20amount%20%3D%2020%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20me%20%3D%20this%3B%0A%20%20%20%20%20%20lch%20%3D%20me%2Elch%28%29%3B%0A%20%20%20%20%20%20lch%5B0%5D%20%2D%3D%20amount%3B%0A%20%20%20%20%20%20return%20chroma%2Elch%28lch%29%2Ealpha%28me%2Ealpha%28%29%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Edarker%20%3D%20function%28amount%29%20%7B%0A%20%20%20%20%20%20return%20this%2Edarken%28amount%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ebrighten%20%3D%20function%28amount%29%20%7B%0A%20%20%20%20%20%20if%20%28amount%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20amount%20%3D%2020%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this%2Edarken%28%2Damount%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ebrighter%20%3D%20function%28amount%29%20%7B%0A%20%20%20%20%20%20return%20this%2Ebrighten%28amount%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Esaturate%20%3D%20function%28amount%29%20%7B%0A%20%20%20%20%20%20var%20lch%2C%20me%3B%0A%20%20%20%20%20%20if%20%28amount%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20amount%20%3D%2020%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20me%20%3D%20this%3B%0A%20%20%20%20%20%20lch%20%3D%20me%2Elch%28%29%3B%0A%20%20%20%20%20%20lch%5B1%5D%20%2B%3D%20amount%3B%0A%20%20%20%20%20%20return%20chroma%2Elch%28lch%29%2Ealpha%28me%2Ealpha%28%29%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Edesaturate%20%3D%20function%28amount%29%20%7B%0A%20%20%20%20%20%20if%20%28amount%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20amount%20%3D%2020%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this%2Esaturate%28%2Damount%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Eblend%20%3D%20function%28col%2C%20mode%29%20%7B%0A%20%20%20%20%20%20return%20chroma%2Eblend%28this%2C%20col%2C%20mode%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ekelvin%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20rgb2temp%28this%2E%5Frgb%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20Color%2Eprototype%2Ecmyk%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20rgb2cmyk%28this%2E%5Frgb%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20return%20Color%3B%0A%0A%20%20%7D%29%28%29%3B%0A%0A%20%20clip%5Frgb%20%3D%20function%28rgb%29%20%7B%0A%20%20%20%20var%20i%3B%0A%20%20%20%20for%20%28i%20in%20rgb%29%20%7B%0A%20%20%20%20%20%20if%20%28i%20%3C%203%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28rgb%5Bi%5D%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20rgb%5Bi%5D%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28rgb%5Bi%5D%20%3E%20255%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20rgb%5Bi%5D%20%3D%20255%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20if%20%28i%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28rgb%5Bi%5D%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20rgb%5Bi%5D%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28rgb%5Bi%5D%20%3E%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20rgb%5Bi%5D%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20rgb%3B%0A%20%20%7D%3B%0A%0A%20%20rgb2cmyk%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20b%2C%20c%2C%20f%2C%20g%2C%20k%2C%20m%2C%20r%2C%20ref%2C%20y%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20r%20%3D%20ref%5B0%5D%2C%20g%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20r%20%3D%20r%20%2F%20255%3B%0A%20%20%20%20g%20%3D%20g%20%2F%20255%3B%0A%20%20%20%20b%20%3D%20b%20%2F%20255%3B%0A%20%20%20%20k%20%3D%201%20%2D%20Math%2Emax%28r%2C%20Math%2Emax%28g%2C%20b%29%29%3B%0A%20%20%20%20f%20%3D%20k%20%3C%201%20%3F%201%20%2F%20%281%20%2D%20k%29%20%3A%200%3B%0A%20%20%20%20c%20%3D%20%281%20%2D%20r%20%2D%20k%29%20%2A%20f%3B%0A%20%20%20%20m%20%3D%20%281%20%2D%20g%20%2D%20k%29%20%2A%20f%3B%0A%20%20%20%20y%20%3D%20%281%20%2D%20b%20%2D%20k%29%20%2A%20f%3B%0A%20%20%20%20return%20%5Bc%2C%20m%2C%20y%2C%20k%5D%3B%0A%20%20%7D%3B%0A%0A%20%20cmyk2rgb%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20b%2C%20c%2C%20g%2C%20k%2C%20m%2C%20r%2C%20ref%2C%20y%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20c%20%3D%20ref%5B0%5D%2C%20m%20%3D%20ref%5B1%5D%2C%20y%20%3D%20ref%5B2%5D%2C%20k%20%3D%20ref%5B3%5D%3B%0A%20%20%20%20if%20%28k%20%3D%3D%3D%201%29%20%7B%0A%20%20%20%20%20%20return%20%5B0%2C%200%2C%200%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20r%20%3D%20c%20%3E%3D%201%20%3F%200%20%3A%20round%28255%20%2A%20%281%20%2D%20c%29%20%2A%20%281%20%2D%20k%29%29%3B%0A%20%20%20%20g%20%3D%20m%20%3E%3D%201%20%3F%200%20%3A%20round%28255%20%2A%20%281%20%2D%20m%29%20%2A%20%281%20%2D%20k%29%29%3B%0A%20%20%20%20b%20%3D%20y%20%3E%3D%201%20%3F%200%20%3A%20round%28255%20%2A%20%281%20%2D%20y%29%20%2A%20%281%20%2D%20k%29%29%3B%0A%20%20%20%20return%20%5Br%2C%20g%2C%20b%5D%3B%0A%20%20%7D%3B%0A%0A%20%20css2rgb%20%3D%20function%28css%29%20%7B%0A%20%20%20%20var%20aa%2C%20ab%2C%20hsl%2C%20i%2C%20m%2C%20o%2C%20rgb%2C%20w%3B%0A%20%20%20%20css%20%3D%20css%2EtoLowerCase%28%29%3B%0A%20%20%20%20if%20%28%28chroma%2Ecolors%20%21%3D%20null%29%20%26%26%20chroma%2Ecolors%5Bcss%5D%29%20%7B%0A%20%20%20%20%20%20return%20hex2rgb%28chroma%2Ecolors%5Bcss%5D%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28m%20%3D%20css%2Ematch%28%2Frgb%5C%28%5Cs%2A%28%5C%2D%3F%5Cd%2B%29%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%29%5Cs%2A%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%29%5Cs%2A%5C%29%2F%29%29%20%7B%0A%20%20%20%20%20%20rgb%20%3D%20m%2Eslice%281%2C%204%29%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%20o%20%3D%200%3B%20o%20%3C%3D%202%3B%20i%20%3D%20%2B%2Bo%29%20%7B%0A%20%20%20%20%20%20%20%20rgb%5Bi%5D%20%3D%20%2Brgb%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20rgb%5B3%5D%20%3D%201%3B%0A%20%20%20%20%7D%20else%20if%20%28m%20%3D%20css%2Ematch%28%2Frgba%5C%28%5Cs%2A%28%5C%2D%3F%5Cd%2B%29%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%29%5Cs%2A%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%29%5Cs%2A%2C%5Cs%2A%28%5B01%5D%7C%5B01%5D%3F%5C%2E%5Cd%2B%29%5C%29%2F%29%29%20%7B%0A%20%20%20%20%20%20rgb%20%3D%20m%2Eslice%281%2C%205%29%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%20w%20%3D%200%3B%20w%20%3C%3D%203%3B%20i%20%3D%20%2B%2Bw%29%20%7B%0A%20%20%20%20%20%20%20%20rgb%5Bi%5D%20%3D%20%2Brgb%5Bi%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20if%20%28m%20%3D%20css%2Ematch%28%2Frgb%5C%28%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%25%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%25%5Cs%2A%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%25%5Cs%2A%5C%29%2F%29%29%20%7B%0A%20%20%20%20%20%20rgb%20%3D%20m%2Eslice%281%2C%204%29%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%20aa%20%3D%200%3B%20aa%20%3C%3D%202%3B%20i%20%3D%20%2B%2Baa%29%20%7B%0A%20%20%20%20%20%20%20%20rgb%5Bi%5D%20%3D%20round%28rgb%5Bi%5D%20%2A%202%2E55%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20rgb%5B3%5D%20%3D%201%3B%0A%20%20%20%20%7D%20else%20if%20%28m%20%3D%20css%2Ematch%28%2Frgba%5C%28%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%25%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%25%5Cs%2A%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%25%5Cs%2A%2C%5Cs%2A%28%5B01%5D%7C%5B01%5D%3F%5C%2E%5Cd%2B%29%5C%29%2F%29%29%20%7B%0A%20%20%20%20%20%20rgb%20%3D%20m%2Eslice%281%2C%205%29%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%20ab%20%3D%200%3B%20ab%20%3C%3D%202%3B%20i%20%3D%20%2B%2Bab%29%20%7B%0A%20%20%20%20%20%20%20%20rgb%5Bi%5D%20%3D%20round%28rgb%5Bi%5D%20%2A%202%2E55%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20rgb%5B3%5D%20%3D%20%2Brgb%5B3%5D%3B%0A%20%20%20%20%7D%20else%20if%20%28m%20%3D%20css%2Ematch%28%2Fhsl%5C%28%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%25%5Cs%2A%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%25%5Cs%2A%5C%29%2F%29%29%20%7B%0A%20%20%20%20%20%20hsl%20%3D%20m%2Eslice%281%2C%204%29%3B%0A%20%20%20%20%20%20hsl%5B1%5D%20%2A%3D%200%2E01%3B%0A%20%20%20%20%20%20hsl%5B2%5D%20%2A%3D%200%2E01%3B%0A%20%20%20%20%20%20rgb%20%3D%20hsl2rgb%28hsl%29%3B%0A%20%20%20%20%20%20rgb%5B3%5D%20%3D%201%3B%0A%20%20%20%20%7D%20else%20if%20%28m%20%3D%20css%2Ematch%28%2Fhsla%5C%28%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%25%5Cs%2A%2C%5Cs%2A%28%5C%2D%3F%5Cd%2B%28%3F%3A%5C%2E%5Cd%2B%29%3F%29%25%5Cs%2A%2C%5Cs%2A%28%5B01%5D%7C%5B01%5D%3F%5C%2E%5Cd%2B%29%5C%29%2F%29%29%20%7B%0A%20%20%20%20%20%20hsl%20%3D%20m%2Eslice%281%2C%204%29%3B%0A%20%20%20%20%20%20hsl%5B1%5D%20%2A%3D%200%2E01%3B%0A%20%20%20%20%20%20hsl%5B2%5D%20%2A%3D%200%2E01%3B%0A%20%20%20%20%20%20rgb%20%3D%20hsl2rgb%28hsl%29%3B%0A%20%20%20%20%20%20rgb%5B3%5D%20%3D%20%2Bm%5B4%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20rgb%3B%0A%20%20%7D%3B%0A%0A%20%20hex2rgb%20%3D%20function%28hex%29%20%7B%0A%20%20%20%20var%20a%2C%20b%2C%20g%2C%20r%2C%20rgb%2C%20u%3B%0A%20%20%20%20if%20%28hex%2Ematch%28%2F%5E%23%3F%28%5BA%2DFa%2Df0%2D9%5D%7B6%7D%7C%5BA%2DFa%2Df0%2D9%5D%7B3%7D%29%24%2F%29%29%20%7B%0A%20%20%20%20%20%20if%20%28hex%2Elength%20%3D%3D%3D%204%20%7C%7C%20hex%2Elength%20%3D%3D%3D%207%29%20%7B%0A%20%20%20%20%20%20%20%20hex%20%3D%20hex%2Esubstr%281%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28hex%2Elength%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20%20%20hex%20%3D%20hex%2Esplit%28%22%22%29%3B%0A%20%20%20%20%20%20%20%20hex%20%3D%20hex%5B0%5D%20%2B%20hex%5B0%5D%20%2B%20hex%5B1%5D%20%2B%20hex%5B1%5D%20%2B%20hex%5B2%5D%20%2B%20hex%5B2%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20u%20%3D%20parseInt%28hex%2C%2016%29%3B%0A%20%20%20%20%20%20r%20%3D%20u%20%3E%3E%2016%3B%0A%20%20%20%20%20%20g%20%3D%20u%20%3E%3E%208%20%26%200xFF%3B%0A%20%20%20%20%20%20b%20%3D%20u%20%26%200xFF%3B%0A%20%20%20%20%20%20return%20%5Br%2C%20g%2C%20b%2C%201%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28hex%2Ematch%28%2F%5E%23%3F%28%5BA%2DFa%2Df0%2D9%5D%7B8%7D%29%24%2F%29%29%20%7B%0A%20%20%20%20%20%20if%20%28hex%2Elength%20%3D%3D%3D%209%29%20%7B%0A%20%20%20%20%20%20%20%20hex%20%3D%20hex%2Esubstr%281%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20u%20%3D%20parseInt%28hex%2C%2016%29%3B%0A%20%20%20%20%20%20r%20%3D%20u%20%3E%3E%2024%20%26%200xFF%3B%0A%20%20%20%20%20%20g%20%3D%20u%20%3E%3E%2016%20%26%200xFF%3B%0A%20%20%20%20%20%20b%20%3D%20u%20%3E%3E%208%20%26%200xFF%3B%0A%20%20%20%20%20%20a%20%3D%20round%28%28u%20%26%200xFF%29%20%2F%200xFF%20%2A%20100%29%20%2F%20100%3B%0A%20%20%20%20%20%20return%20%5Br%2C%20g%2C%20b%2C%20a%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28rgb%20%3D%20css2rgb%28hex%29%29%20%7B%0A%20%20%20%20%20%20return%20rgb%3B%0A%20%20%20%20%7D%0A%20%20%20%20throw%20%22unknown%20color%3A%20%22%20%2B%20hex%3B%0A%20%20%7D%3B%0A%0A%20%20hsi2rgb%20%3D%20function%28h%2C%20s%2C%20i%29%20%7B%0A%0A%20%20%20%20%2F%2A%0A%20%20%20%20borrowed%20from%20here%3A%0A%20%20%20%20http%3A%2F%2Fhummer%2Estanford%2Eedu%2Fmuseinfo%2Fdoc%2Fexamples%2Fhumdrum%2Fkeyscape2%2Fhsi2rgb%2Ecpp%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20var%20b%2C%20g%2C%20r%2C%20ref%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20h%20%3D%20ref%5B0%5D%2C%20s%20%3D%20ref%5B1%5D%2C%20i%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20h%20%2F%3D%20360%3B%0A%20%20%20%20if%20%28h%20%3C%201%20%2F%203%29%20%7B%0A%20%20%20%20%20%20b%20%3D%20%281%20%2D%20s%29%20%2F%203%3B%0A%20%20%20%20%20%20r%20%3D%20%281%20%2B%20s%20%2A%20cos%28TWOPI%20%2A%20h%29%20%2F%20cos%28PITHIRD%20%2D%20TWOPI%20%2A%20h%29%29%20%2F%203%3B%0A%20%20%20%20%20%20g%20%3D%201%20%2D%20%28b%20%2B%20r%29%3B%0A%20%20%20%20%7D%20else%20if%20%28h%20%3C%202%20%2F%203%29%20%7B%0A%20%20%20%20%20%20h%20%2D%3D%201%20%2F%203%3B%0A%20%20%20%20%20%20r%20%3D%20%281%20%2D%20s%29%20%2F%203%3B%0A%20%20%20%20%20%20g%20%3D%20%281%20%2B%20s%20%2A%20cos%28TWOPI%20%2A%20h%29%20%2F%20cos%28PITHIRD%20%2D%20TWOPI%20%2A%20h%29%29%20%2F%203%3B%0A%20%20%20%20%20%20b%20%3D%201%20%2D%20%28r%20%2B%20g%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20h%20%2D%3D%202%20%2F%203%3B%0A%20%20%20%20%20%20g%20%3D%20%281%20%2D%20s%29%20%2F%203%3B%0A%20%20%20%20%20%20b%20%3D%20%281%20%2B%20s%20%2A%20cos%28TWOPI%20%2A%20h%29%20%2F%20cos%28PITHIRD%20%2D%20TWOPI%20%2A%20h%29%29%20%2F%203%3B%0A%20%20%20%20%20%20r%20%3D%201%20%2D%20%28g%20%2B%20b%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20r%20%3D%20limit%28i%20%2A%20r%20%2A%203%29%3B%0A%20%20%20%20g%20%3D%20limit%28i%20%2A%20g%20%2A%203%29%3B%0A%20%20%20%20b%20%3D%20limit%28i%20%2A%20b%20%2A%203%29%3B%0A%20%20%20%20return%20%5Br%20%2A%20255%2C%20g%20%2A%20255%2C%20b%20%2A%20255%5D%3B%0A%20%20%7D%3B%0A%0A%20%20hsl2rgb%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20b%2C%20c%2C%20g%2C%20h%2C%20i%2C%20l%2C%20o%2C%20r%2C%20ref%2C%20ref1%2C%20s%2C%20t1%2C%20t2%2C%20t3%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20h%20%3D%20ref%5B0%5D%2C%20s%20%3D%20ref%5B1%5D%2C%20l%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20if%20%28s%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20r%20%3D%20g%20%3D%20b%20%3D%20l%20%2A%20255%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20t3%20%3D%20%5B0%2C%200%2C%200%5D%3B%0A%20%20%20%20%20%20c%20%3D%20%5B0%2C%200%2C%200%5D%3B%0A%20%20%20%20%20%20t2%20%3D%20l%20%3C%200%2E5%20%3F%20l%20%2A%20%281%20%2B%20s%29%20%3A%20l%20%2B%20s%20%2D%20l%20%2A%20s%3B%0A%20%20%20%20%20%20t1%20%3D%202%20%2A%20l%20%2D%20t2%3B%0A%20%20%20%20%20%20h%20%2F%3D%20360%3B%0A%20%20%20%20%20%20t3%5B0%5D%20%3D%20h%20%2B%201%20%2F%203%3B%0A%20%20%20%20%20%20t3%5B1%5D%20%3D%20h%3B%0A%20%20%20%20%20%20t3%5B2%5D%20%3D%20h%20%2D%201%20%2F%203%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%20o%20%3D%200%3B%20o%20%3C%3D%202%3B%20i%20%3D%20%2B%2Bo%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28t3%5Bi%5D%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20t3%5Bi%5D%20%2B%3D%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28t3%5Bi%5D%20%3E%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20t3%5Bi%5D%20%2D%3D%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%286%20%2A%20t3%5Bi%5D%20%3C%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%5Bi%5D%20%3D%20t1%20%2B%20%28t2%20%2D%20t1%29%20%2A%206%20%2A%20t3%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%282%20%2A%20t3%5Bi%5D%20%3C%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%5Bi%5D%20%3D%20t2%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%283%20%2A%20t3%5Bi%5D%20%3C%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%5Bi%5D%20%3D%20t1%20%2B%20%28t2%20%2D%20t1%29%20%2A%20%28%282%20%2F%203%29%20%2D%20t3%5Bi%5D%29%20%2A%206%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%5Bi%5D%20%3D%20t1%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20ref1%20%3D%20%5Bround%28c%5B0%5D%20%2A%20255%29%2C%20round%28c%5B1%5D%20%2A%20255%29%2C%20round%28c%5B2%5D%20%2A%20255%29%5D%2C%20r%20%3D%20ref1%5B0%5D%2C%20g%20%3D%20ref1%5B1%5D%2C%20b%20%3D%20ref1%5B2%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20%5Br%2C%20g%2C%20b%5D%3B%0A%20%20%7D%3B%0A%0A%20%20hsv2rgb%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20b%2C%20f%2C%20g%2C%20h%2C%20i%2C%20p%2C%20q%2C%20r%2C%20ref%2C%20ref1%2C%20ref2%2C%20ref3%2C%20ref4%2C%20ref5%2C%20ref6%2C%20s%2C%20t%2C%20v%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20h%20%3D%20ref%5B0%5D%2C%20s%20%3D%20ref%5B1%5D%2C%20v%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20v%20%2A%3D%20255%3B%0A%20%20%20%20if%20%28s%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20r%20%3D%20g%20%3D%20b%20%3D%20v%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20if%20%28h%20%3D%3D%3D%20360%29%20%7B%0A%20%20%20%20%20%20%20%20h%20%3D%200%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28h%20%3E%20360%29%20%7B%0A%20%20%20%20%20%20%20%20h%20%2D%3D%20360%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28h%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20h%20%2B%3D%20360%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20h%20%2F%3D%2060%3B%0A%20%20%20%20%20%20i%20%3D%20floor%28h%29%3B%0A%20%20%20%20%20%20f%20%3D%20h%20%2D%20i%3B%0A%20%20%20%20%20%20p%20%3D%20v%20%2A%20%281%20%2D%20s%29%3B%0A%20%20%20%20%20%20q%20%3D%20v%20%2A%20%281%20%2D%20s%20%2A%20f%29%3B%0A%20%20%20%20%20%20t%20%3D%20v%20%2A%20%281%20%2D%20s%20%2A%20%281%20%2D%20f%29%29%3B%0A%20%20%20%20%20%20switch%20%28i%29%20%7B%0A%20%20%20%20%20%20%20%20case%200%3A%0A%20%20%20%20%20%20%20%20%20%20ref1%20%3D%20%5Bv%2C%20t%2C%20p%5D%2C%20r%20%3D%20ref1%5B0%5D%2C%20g%20%3D%20ref1%5B1%5D%2C%20b%20%3D%20ref1%5B2%5D%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%201%3A%0A%20%20%20%20%20%20%20%20%20%20ref2%20%3D%20%5Bq%2C%20v%2C%20p%5D%2C%20r%20%3D%20ref2%5B0%5D%2C%20g%20%3D%20ref2%5B1%5D%2C%20b%20%3D%20ref2%5B2%5D%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%202%3A%0A%20%20%20%20%20%20%20%20%20%20ref3%20%3D%20%5Bp%2C%20v%2C%20t%5D%2C%20r%20%3D%20ref3%5B0%5D%2C%20g%20%3D%20ref3%5B1%5D%2C%20b%20%3D%20ref3%5B2%5D%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%203%3A%0A%20%20%20%20%20%20%20%20%20%20ref4%20%3D%20%5Bp%2C%20q%2C%20v%5D%2C%20r%20%3D%20ref4%5B0%5D%2C%20g%20%3D%20ref4%5B1%5D%2C%20b%20%3D%20ref4%5B2%5D%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%204%3A%0A%20%20%20%20%20%20%20%20%20%20ref5%20%3D%20%5Bt%2C%20p%2C%20v%5D%2C%20r%20%3D%20ref5%5B0%5D%2C%20g%20%3D%20ref5%5B1%5D%2C%20b%20%3D%20ref5%5B2%5D%3B%0A%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20case%205%3A%0A%20%20%20%20%20%20%20%20%20%20ref6%20%3D%20%5Bv%2C%20p%2C%20q%5D%2C%20r%20%3D%20ref6%5B0%5D%2C%20g%20%3D%20ref6%5B1%5D%2C%20b%20%3D%20ref6%5B2%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20r%20%3D%20round%28r%29%3B%0A%20%20%20%20g%20%3D%20round%28g%29%3B%0A%20%20%20%20b%20%3D%20round%28b%29%3B%0A%20%20%20%20return%20%5Br%2C%20g%2C%20b%5D%3B%0A%20%20%7D%3B%0A%0A%20%20K%20%3D%2018%3B%0A%0A%20%20X%20%3D%200%2E950470%3B%0A%0A%20%20Y%20%3D%201%3B%0A%0A%20%20Z%20%3D%201%2E088830%3B%0A%0A%20%20lab2lch%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20a%2C%20b%2C%20c%2C%20h%2C%20l%2C%20ref%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20l%20%3D%20ref%5B0%5D%2C%20a%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20c%20%3D%20Math%2Esqrt%28a%20%2A%20a%20%2B%20b%20%2A%20b%29%3B%0A%20%20%20%20h%20%3D%20%28Math%2Eatan2%28b%2C%20a%29%20%2F%20Math%2EPI%20%2A%20180%20%2B%20360%29%20%25%20360%3B%0A%20%20%20%20return%20%5Bl%2C%20c%2C%20h%5D%3B%0A%20%20%7D%3B%0A%0A%20%20lab2rgb%20%3D%20function%28l%2C%20a%2C%20b%29%20%7B%0A%0A%20%20%20%20%2F%2A%0A%20%20%20%20adapted%20to%20match%20d3%20implementation%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20var%20g%2C%20r%2C%20ref%2C%20ref1%2C%20x%2C%20y%2C%20z%3B%0A%20%20%20%20if%20%28l%20%21%3D%3D%20void%200%20%26%26%20l%2Elength%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20ref%20%3D%20l%2C%20l%20%3D%20ref%5B0%5D%2C%20a%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28l%20%21%3D%3D%20void%200%20%26%26%20l%2Elength%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20ref1%20%3D%20l%2C%20l%20%3D%20ref1%5B0%5D%2C%20a%20%3D%20ref1%5B1%5D%2C%20b%20%3D%20ref1%5B2%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20y%20%3D%20%28l%20%2B%2016%29%20%2F%20116%3B%0A%20%20%20%20x%20%3D%20y%20%2B%20a%20%2F%20500%3B%0A%20%20%20%20z%20%3D%20y%20%2D%20b%20%2F%20200%3B%0A%20%20%20%20x%20%3D%20lab%5Fxyz%28x%29%20%2A%20X%3B%0A%20%20%20%20y%20%3D%20lab%5Fxyz%28y%29%20%2A%20Y%3B%0A%20%20%20%20z%20%3D%20lab%5Fxyz%28z%29%20%2A%20Z%3B%0A%20%20%20%20r%20%3D%20xyz%5Frgb%283%2E2404542%20%2A%20x%20%2D%201%2E5371385%20%2A%20y%20%2D%200%2E4985314%20%2A%20z%29%3B%0A%20%20%20%20g%20%3D%20xyz%5Frgb%28%2D0%2E9692660%20%2A%20x%20%2B%201%2E8760108%20%2A%20y%20%2B%200%2E0415560%20%2A%20z%29%3B%0A%20%20%20%20b%20%3D%20xyz%5Frgb%280%2E0556434%20%2A%20x%20%2D%200%2E2040259%20%2A%20y%20%2B%201%2E0572252%20%2A%20z%29%3B%0A%20%20%20%20return%20%5Blimit%28r%2C%200%2C%20255%29%2C%20limit%28g%2C%200%2C%20255%29%2C%20limit%28b%2C%200%2C%20255%29%2C%201%5D%3B%0A%20%20%7D%3B%0A%0A%20%20lab%5Fxyz%20%3D%20function%28x%29%20%7B%0A%20%20%20%20if%20%28x%20%3E%200%2E206893034%29%20%7B%0A%20%20%20%20%20%20return%20x%20%2A%20x%20%2A%20x%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20%28x%20%2D%204%20%2F%2029%29%20%2F%207%2E787037%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20xyz%5Frgb%20%3D%20function%28r%29%20%7B%0A%20%20%20%20return%20round%28255%20%2A%20%28r%20%3C%3D%200%2E00304%20%3F%2012%2E92%20%2A%20r%20%3A%201%2E055%20%2A%20pow%28r%2C%201%20%2F%202%2E4%29%20%2D%200%2E055%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20lch2lab%20%3D%20function%28%29%20%7B%0A%0A%20%20%20%20%2F%2A%0A%20%20%20%20Convert%20from%20a%20qualitative%20parameter%20h%20and%20a%20quantitative%20parameter%20l%20to%20a%2024%2Dbit%20pixel%2E%20These%20formulas%20were%20invented%20by%20David%20Dalrymple%20to%20obtain%20maximum%20contrast%20without%20going%20out%20of%20gamut%20if%20the%20parameters%20are%20in%20the%20range%200%2D1%2E%0A%20%20%20%20A%20saturation%20multiplier%20was%20added%20by%20Gregor%20Aisch%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20var%20c%2C%20h%2C%20l%2C%20ref%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20l%20%3D%20ref%5B0%5D%2C%20c%20%3D%20ref%5B1%5D%2C%20h%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20h%20%3D%20h%20%2A%20Math%2EPI%20%2F%20180%3B%0A%20%20%20%20return%20%5Bl%2C%20Math%2Ecos%28h%29%20%2A%20c%2C%20Math%2Esin%28h%29%20%2A%20c%5D%3B%0A%20%20%7D%3B%0A%0A%20%20lch2rgb%20%3D%20function%28l%2C%20c%2C%20h%29%20%7B%0A%20%20%20%20var%20L%2C%20a%2C%20b%2C%20g%2C%20r%2C%20ref%2C%20ref1%3B%0A%20%20%20%20ref%20%3D%20lch2lab%28l%2C%20c%2C%20h%29%2C%20L%20%3D%20ref%5B0%5D%2C%20a%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20ref1%20%3D%20lab2rgb%28L%2C%20a%2C%20b%29%2C%20r%20%3D%20ref1%5B0%5D%2C%20g%20%3D%20ref1%5B1%5D%2C%20b%20%3D%20ref1%5B2%5D%3B%0A%20%20%20%20return%20%5Blimit%28r%2C%200%2C%20255%29%2C%20limit%28g%2C%200%2C%20255%29%2C%20limit%28b%2C%200%2C%20255%29%5D%3B%0A%20%20%7D%3B%0A%0A%20%20luminance%20%3D%20function%28r%2C%20g%2C%20b%29%20%7B%0A%20%20%20%20var%20ref%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20r%20%3D%20ref%5B0%5D%2C%20g%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20r%20%3D%20luminance%5Fx%28r%29%3B%0A%20%20%20%20g%20%3D%20luminance%5Fx%28g%29%3B%0A%20%20%20%20b%20%3D%20luminance%5Fx%28b%29%3B%0A%20%20%20%20return%200%2E2126%20%2A%20r%20%2B%200%2E7152%20%2A%20g%20%2B%200%2E0722%20%2A%20b%3B%0A%20%20%7D%3B%0A%0A%20%20luminance%5Fx%20%3D%20function%28x%29%20%7B%0A%20%20%20%20x%20%2F%3D%20255%3B%0A%20%20%20%20if%20%28x%20%3C%3D%200%2E03928%29%20%7B%0A%20%20%20%20%20%20return%20x%20%2F%2012%2E92%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20Math%2Epow%28%28x%20%2B%200%2E055%29%20%2F%201%2E055%2C%202%2E4%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20num2rgb%20%3D%20function%28num%29%20%7B%0A%20%20%20%20var%20b%2C%20g%2C%20r%3B%0A%20%20%20%20if%20%28type%28num%29%20%3D%3D%3D%20%22number%22%20%26%26%20num%20%3E%3D%200%20%26%26%20num%20%3C%3D%200xFFFFFF%29%20%7B%0A%20%20%20%20%20%20r%20%3D%20num%20%3E%3E%2016%3B%0A%20%20%20%20%20%20g%20%3D%20%28num%20%3E%3E%208%29%20%26%200xFF%3B%0A%20%20%20%20%20%20b%20%3D%20num%20%26%200xFF%3B%0A%20%20%20%20%20%20return%20%5Br%2C%20g%2C%20b%2C%201%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20throw%20%22unknown%20num%20color%3A%20%22%20%2B%20num%3B%0A%20%20%7D%3B%0A%0A%20%20rgb2hex%20%3D%20function%28channels%2C%20mode%29%20%7B%0A%20%20%20%20var%20a%2C%20b%2C%20g%2C%20hxa%2C%20r%2C%20str%2C%20u%3B%0A%20%20%20%20if%20%28mode%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20mode%20%3D%20%27rgb%27%3B%0A%20%20%20%20%7D%0A%20%20%20%20r%20%3D%20channels%5B0%5D%2C%20g%20%3D%20channels%5B1%5D%2C%20b%20%3D%20channels%5B2%5D%2C%20a%20%3D%20channels%5B3%5D%3B%0A%20%20%20%20u%20%3D%20r%20%3C%3C%2016%20%7C%20g%20%3C%3C%208%20%7C%20b%3B%0A%20%20%20%20str%20%3D%20%22000000%22%20%2B%20u%2EtoString%2816%29%3B%0A%20%20%20%20str%20%3D%20str%2Esubstr%28str%2Elength%20%2D%206%29%3B%0A%20%20%20%20hxa%20%3D%20%270%27%20%2B%20round%28a%20%2A%20255%29%2EtoString%2816%29%3B%0A%20%20%20%20hxa%20%3D%20hxa%2Esubstr%28hxa%2Elength%20%2D%202%29%3B%0A%20%20%20%20return%20%22%23%22%20%2B%20%28function%28%29%20%7B%0A%20%20%20%20%20%20switch%20%28mode%2EtoLowerCase%28%29%29%20%7B%0A%20%20%20%20%20%20%20%20case%20%27rgba%27%3A%0A%20%20%20%20%20%20%20%20%20%20return%20str%20%2B%20hxa%3B%0A%20%20%20%20%20%20%20%20case%20%27argb%27%3A%0A%20%20%20%20%20%20%20%20%20%20return%20hxa%20%2B%20str%3B%0A%20%20%20%20%20%20%20%20default%3A%0A%20%20%20%20%20%20%20%20%20%20return%20str%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%29%28%29%3B%0A%20%20%7D%3B%0A%0A%20%20rgb2hsi%20%3D%20function%28%29%20%7B%0A%0A%20%20%20%20%2F%2A%0A%20%20%20%20borrowed%20from%20here%3A%0A%20%20%20%20http%3A%2F%2Fhummer%2Estanford%2Eedu%2Fmuseinfo%2Fdoc%2Fexamples%2Fhumdrum%2Fkeyscape2%2Frgb2hsi%2Ecpp%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20var%20TWOPI%2C%20b%2C%20g%2C%20h%2C%20i%2C%20min%2C%20r%2C%20ref%2C%20s%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20r%20%3D%20ref%5B0%5D%2C%20g%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20TWOPI%20%3D%20Math%2EPI%20%2A%202%3B%0A%20%20%20%20r%20%2F%3D%20255%3B%0A%20%20%20%20g%20%2F%3D%20255%3B%0A%20%20%20%20b%20%2F%3D%20255%3B%0A%20%20%20%20min%20%3D%20Math%2Emin%28r%2C%20g%2C%20b%29%3B%0A%20%20%20%20i%20%3D%20%28r%20%2B%20g%20%2B%20b%29%20%2F%203%3B%0A%20%20%20%20s%20%3D%201%20%2D%20min%20%2F%20i%3B%0A%20%20%20%20if%20%28s%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20h%20%3D%200%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20h%20%3D%20%28%28r%20%2D%20g%29%20%2B%20%28r%20%2D%20b%29%29%20%2F%202%3B%0A%20%20%20%20%20%20h%20%2F%3D%20Math%2Esqrt%28%28r%20%2D%20g%29%20%2A%20%28r%20%2D%20g%29%20%2B%20%28r%20%2D%20b%29%20%2A%20%28g%20%2D%20b%29%29%3B%0A%20%20%20%20%20%20h%20%3D%20Math%2Eacos%28h%29%3B%0A%20%20%20%20%20%20if%20%28b%20%3E%20g%29%20%7B%0A%20%20%20%20%20%20%20%20h%20%3D%20TWOPI%20%2D%20h%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20h%20%2F%3D%20TWOPI%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20%5Bh%20%2A%20360%2C%20s%2C%20i%5D%3B%0A%20%20%7D%3B%0A%0A%20%20rgb2hsl%20%3D%20function%28r%2C%20g%2C%20b%29%20%7B%0A%20%20%20%20var%20h%2C%20l%2C%20max%2C%20min%2C%20ref%2C%20s%3B%0A%20%20%20%20if%20%28r%20%21%3D%3D%20void%200%20%26%26%20r%2Elength%20%3E%3D%203%29%20%7B%0A%20%20%20%20%20%20ref%20%3D%20r%2C%20r%20%3D%20ref%5B0%5D%2C%20g%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20r%20%2F%3D%20255%3B%0A%20%20%20%20g%20%2F%3D%20255%3B%0A%20%20%20%20b%20%2F%3D%20255%3B%0A%20%20%20%20min%20%3D%20Math%2Emin%28r%2C%20g%2C%20b%29%3B%0A%20%20%20%20max%20%3D%20Math%2Emax%28r%2C%20g%2C%20b%29%3B%0A%20%20%20%20l%20%3D%20%28max%20%2B%20min%29%20%2F%202%3B%0A%20%20%20%20if%20%28max%20%3D%3D%3D%20min%29%20%7B%0A%20%20%20%20%20%20s%20%3D%200%3B%0A%20%20%20%20%20%20h%20%3D%20Number%2ENaN%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20s%20%3D%20l%20%3C%200%2E5%20%3F%20%28max%20%2D%20min%29%20%2F%20%28max%20%2B%20min%29%20%3A%20%28max%20%2D%20min%29%20%2F%20%282%20%2D%20max%20%2D%20min%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28r%20%3D%3D%3D%20max%29%20%7B%0A%20%20%20%20%20%20h%20%3D%20%28g%20%2D%20b%29%20%2F%20%28max%20%2D%20min%29%3B%0A%20%20%20%20%7D%20else%20if%20%28g%20%3D%3D%3D%20max%29%20%7B%0A%20%20%20%20%20%20h%20%3D%202%20%2B%20%28b%20%2D%20r%29%20%2F%20%28max%20%2D%20min%29%3B%0A%20%20%20%20%7D%20else%20if%20%28b%20%3D%3D%3D%20max%29%20%7B%0A%20%20%20%20%20%20h%20%3D%204%20%2B%20%28r%20%2D%20g%29%20%2F%20%28max%20%2D%20min%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20h%20%2A%3D%2060%3B%0A%20%20%20%20if%20%28h%20%3C%200%29%20%7B%0A%20%20%20%20%20%20h%20%2B%3D%20360%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20%5Bh%2C%20s%2C%20l%5D%3B%0A%20%20%7D%3B%0A%0A%20%20rgb2hsv%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20b%2C%20delta%2C%20g%2C%20h%2C%20max%2C%20min%2C%20r%2C%20ref%2C%20s%2C%20v%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20r%20%3D%20ref%5B0%5D%2C%20g%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20min%20%3D%20Math%2Emin%28r%2C%20g%2C%20b%29%3B%0A%20%20%20%20max%20%3D%20Math%2Emax%28r%2C%20g%2C%20b%29%3B%0A%20%20%20%20delta%20%3D%20max%20%2D%20min%3B%0A%20%20%20%20v%20%3D%20max%20%2F%20255%2E0%3B%0A%20%20%20%20if%20%28max%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20h%20%3D%20Number%2ENaN%3B%0A%20%20%20%20%20%20s%20%3D%200%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20s%20%3D%20delta%20%2F%20max%3B%0A%20%20%20%20%20%20if%20%28r%20%3D%3D%3D%20max%29%20%7B%0A%20%20%20%20%20%20%20%20h%20%3D%20%28g%20%2D%20b%29%20%2F%20delta%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28g%20%3D%3D%3D%20max%29%20%7B%0A%20%20%20%20%20%20%20%20h%20%3D%202%20%2B%20%28b%20%2D%20r%29%20%2F%20delta%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28b%20%3D%3D%3D%20max%29%20%7B%0A%20%20%20%20%20%20%20%20h%20%3D%204%20%2B%20%28r%20%2D%20g%29%20%2F%20delta%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20h%20%2A%3D%2060%3B%0A%20%20%20%20%20%20if%20%28h%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20h%20%2B%3D%20360%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20%5Bh%2C%20s%2C%20v%5D%3B%0A%20%20%7D%3B%0A%0A%20%20rgb2lab%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20b%2C%20g%2C%20r%2C%20ref%2C%20ref1%2C%20x%2C%20y%2C%20z%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20r%20%3D%20ref%5B0%5D%2C%20g%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20ref1%20%3D%20rgb2xyz%28r%2C%20g%2C%20b%29%2C%20x%20%3D%20ref1%5B0%5D%2C%20y%20%3D%20ref1%5B1%5D%2C%20z%20%3D%20ref1%5B2%5D%3B%0A%20%20%20%20return%20%5B116%20%2A%20y%20%2D%2016%2C%20500%20%2A%20%28x%20%2D%20y%29%2C%20200%20%2A%20%28y%20%2D%20z%29%5D%3B%0A%20%20%7D%3B%0A%0A%20%20rgb%5Fxyz%20%3D%20function%28r%29%20%7B%0A%20%20%20%20if%20%28%28r%20%2F%3D%20255%29%20%3C%3D%200%2E04045%29%20%7B%0A%20%20%20%20%20%20return%20r%20%2F%2012%2E92%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20Math%2Epow%28%28r%20%2B%200%2E055%29%20%2F%201%2E055%2C%202%2E4%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20xyz%5Flab%20%3D%20function%28x%29%20%7B%0A%20%20%20%20if%20%28x%20%3E%200%2E008856%29%20%7B%0A%20%20%20%20%20%20return%20Math%2Epow%28x%2C%201%20%2F%203%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%207%2E787037%20%2A%20x%20%2B%204%20%2F%2029%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20rgb2xyz%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20b%2C%20g%2C%20r%2C%20ref%2C%20x%2C%20y%2C%20z%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20r%20%3D%20ref%5B0%5D%2C%20g%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20r%20%3D%20rgb%5Fxyz%28r%29%3B%0A%20%20%20%20g%20%3D%20rgb%5Fxyz%28g%29%3B%0A%20%20%20%20b%20%3D%20rgb%5Fxyz%28b%29%3B%0A%20%20%20%20x%20%3D%20xyz%5Flab%28%280%2E4124564%20%2A%20r%20%2B%200%2E3575761%20%2A%20g%20%2B%200%2E1804375%20%2A%20b%29%20%2F%20X%29%3B%0A%20%20%20%20y%20%3D%20xyz%5Flab%28%280%2E2126729%20%2A%20r%20%2B%200%2E7151522%20%2A%20g%20%2B%200%2E0721750%20%2A%20b%29%20%2F%20Y%29%3B%0A%20%20%20%20z%20%3D%20xyz%5Flab%28%280%2E0193339%20%2A%20r%20%2B%200%2E1191920%20%2A%20g%20%2B%200%2E9503041%20%2A%20b%29%20%2F%20Z%29%3B%0A%20%20%20%20return%20%5Bx%2C%20y%2C%20z%5D%3B%0A%20%20%7D%3B%0A%0A%20%20rgb2lch%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20a%2C%20b%2C%20g%2C%20l%2C%20r%2C%20ref%2C%20ref1%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20r%20%3D%20ref%5B0%5D%2C%20g%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20ref1%20%3D%20rgb2lab%28r%2C%20g%2C%20b%29%2C%20l%20%3D%20ref1%5B0%5D%2C%20a%20%3D%20ref1%5B1%5D%2C%20b%20%3D%20ref1%5B2%5D%3B%0A%20%20%20%20return%20lab2lch%28l%2C%20a%2C%20b%29%3B%0A%20%20%7D%3B%0A%0A%20%20rgb2num%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20b%2C%20g%2C%20r%2C%20ref%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20r%20%3D%20ref%5B0%5D%2C%20g%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20return%20%28r%20%3C%3C%2016%29%20%2B%20%28g%20%3C%3C%208%29%20%2B%20b%3B%0A%20%20%7D%3B%0A%0A%20%20temp2rgb%20%3D%20function%28kelvin%29%20%7B%0A%20%20%20%20var%20b%2C%20g%2C%20r%2C%20temp%3B%0A%20%20%20%20temp%20%3D%20kelvin%20%2F%20100%3B%0A%20%20%20%20if%20%28temp%20%3C%2066%29%20%7B%0A%20%20%20%20%20%20r%20%3D%20255%3B%0A%20%20%20%20%20%20g%20%3D%20%2D155%2E25485562709179%20%2D%200%2E44596950469579133%20%2A%20%28g%20%3D%20temp%20%2D%202%29%20%2B%20104%2E49216199393888%20%2A%20log%28g%29%3B%0A%20%20%20%20%20%20b%20%3D%20temp%20%3C%2020%20%3F%200%20%3A%20%2D254%2E76935184120902%20%2B%200%2E8274096064007395%20%2A%20%28b%20%3D%20temp%20%2D%2010%29%20%2B%20115%2E67994401066147%20%2A%20log%28b%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20r%20%3D%20351%2E97690566805693%20%2B%200%2E114206453784165%20%2A%20%28r%20%3D%20temp%20%2D%2055%29%20%2D%2040%2E25366309332127%20%2A%20log%28r%29%3B%0A%20%20%20%20%20%20g%20%3D%20325%2E4494125711974%20%2B%200%2E07943456536662342%20%2A%20%28g%20%3D%20temp%20%2D%2050%29%20%2D%2028%2E0852963507957%20%2A%20log%28g%29%3B%0A%20%20%20%20%20%20b%20%3D%20255%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20clip%5Frgb%28%5Br%2C%20g%2C%20b%5D%29%3B%0A%20%20%7D%3B%0A%0A%20%20rgb2temp%20%3D%20function%28%29%20%7B%0A%20%20%20%20var%20b%2C%20eps%2C%20g%2C%20maxTemp%2C%20minTemp%2C%20r%2C%20ref%2C%20rgb%2C%20temp%3B%0A%20%20%20%20ref%20%3D%20unpack%28arguments%29%2C%20r%20%3D%20ref%5B0%5D%2C%20g%20%3D%20ref%5B1%5D%2C%20b%20%3D%20ref%5B2%5D%3B%0A%20%20%20%20minTemp%20%3D%201000%3B%0A%20%20%20%20maxTemp%20%3D%2040000%3B%0A%20%20%20%20eps%20%3D%200%2E4%3B%0A%20%20%20%20while%20%28maxTemp%20%2D%20minTemp%20%3E%20eps%29%20%7B%0A%20%20%20%20%20%20temp%20%3D%20%28maxTemp%20%2B%20minTemp%29%20%2A%200%2E5%3B%0A%20%20%20%20%20%20rgb%20%3D%20temp2rgb%28temp%29%3B%0A%20%20%20%20%20%20if%20%28%28rgb%5B2%5D%20%2F%20rgb%5B0%5D%29%20%3E%3D%20%28b%20%2F%20r%29%29%20%7B%0A%20%20%20%20%20%20%20%20maxTemp%20%3D%20temp%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20minTemp%20%3D%20temp%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20round%28temp%29%3B%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%0A%20%20%20%20%20%20chroma%2Ejs%0A%20%20%0A%20%20%20%20%20%20Copyright%20%28c%29%202011%2D2013%2C%20Gregor%20Aisch%0A%20%20%20%20%20%20All%20rights%20reserved%2E%0A%20%20%0A%20%20%20%20%20%20Redistribution%20and%20use%20in%20source%20and%20binary%20forms%2C%20with%20or%20without%0A%20%20%20%20%20%20modification%2C%20are%20permitted%20provided%20that%20the%20following%20conditions%20are%20met%3A%0A%20%20%0A%20%20%20%20%20%20%2A%20Redistributions%20of%20source%20code%20must%20retain%20the%20above%20copyright%20notice%2C%20this%0A%20%20%20%20%20%20%20%20list%20of%20conditions%20and%20the%20following%20disclaimer%2E%0A%20%20%0A%20%20%20%20%20%20%2A%20Redistributions%20in%20binary%20form%20must%20reproduce%20the%20above%20copyright%20notice%2C%0A%20%20%20%20%20%20%20%20this%20list%20of%20conditions%20and%20the%20following%20disclaimer%20in%20the%20documentation%0A%20%20%20%20%20%20%20%20and%2For%20other%20materials%20provided%20with%20the%20distribution%2E%0A%20%20%0A%20%20%20%20%20%20%2A%20The%20name%20Gregor%20Aisch%20may%20not%20be%20used%20to%20endorse%20or%20promote%20products%0A%20%20%20%20%20%20%20%20derived%20from%20this%20software%20without%20specific%20prior%20written%20permission%2E%0A%20%20%0A%20%20%20%20%20%20THIS%20SOFTWARE%20IS%20PROVIDED%20BY%20THE%20COPYRIGHT%20HOLDERS%20AND%20CONTRIBUTORS%20%22AS%20IS%22%0A%20%20%20%20%20%20AND%20ANY%20EXPRESS%20OR%20IMPLIED%20WARRANTIES%2C%20INCLUDING%2C%20BUT%20NOT%20LIMITED%20TO%2C%20THE%0A%20%20%20%20%20%20IMPLIED%20WARRANTIES%20OF%20MERCHANTABILITY%20AND%20FITNESS%20FOR%20A%20PARTICULAR%20PURPOSE%20ARE%0A%20%20%20%20%20%20DISCLAIMED%2E%20IN%20NO%20EVENT%20SHALL%20GREGOR%20AISCH%20OR%20CONTRIBUTORS%20BE%20LIABLE%20FOR%20ANY%20DIRECT%2C%0A%20%20%20%20%20%20INDIRECT%2C%20INCIDENTAL%2C%20SPECIAL%2C%20EXEMPLARY%2C%20OR%20CONSEQUENTIAL%20DAMAGES%20%28INCLUDING%2C%0A%20%20%20%20%20%20BUT%20NOT%20LIMITED%20TO%2C%20PROCUREMENT%20OF%20SUBSTITUTE%20GOODS%20OR%20SERVICES%3B%20LOSS%20OF%20USE%2C%0A%20%20%20%20%20%20DATA%2C%20OR%20PROFITS%3B%20OR%20BUSINESS%20INTERRUPTION%29%20HOWEVER%20CAUSED%20AND%20ON%20ANY%20THEORY%0A%20%20%20%20%20%20OF%20LIABILITY%2C%20WHETHER%20IN%20CONTRACT%2C%20STRICT%20LIABILITY%2C%20OR%20TORT%20%28INCLUDING%0A%20%20%20%20%20%20NEGLIGENCE%20OR%20OTHERWISE%29%20ARISING%20IN%20ANY%20WAY%20OUT%20OF%20THE%20USE%20OF%20THIS%20SOFTWARE%2C%0A%20%20%20%20%20%20EVEN%20IF%20ADVISED%20OF%20THE%20POSSIBILITY%20OF%20SUCH%20DAMAGE%2E%0A%20%20%0A%20%20%20%20%20%20%40source%3A%20https%3A%2F%2Fgithub%2Ecom%2Fgka%2Fchroma%2Ejs%0A%20%20%20%2A%2F%0A%0A%20%20chroma%2Escale%20%3D%20function%28colors%2C%20positions%29%20%7B%0A%20%20%20%20var%20%5FcolorCache%2C%20%5Fcolors%2C%20%5FcorrectLightness%2C%20%5Fdomain%2C%20%5Ffixed%2C%20%5Fmax%2C%20%5Fmin%2C%20%5Fmode%2C%20%5Fnacol%2C%20%5FnumClasses%2C%20%5Fout%2C%20%5Fpos%2C%20%5Fspread%2C%20classifyValue%2C%20f%2C%20getClass%2C%20getColor%2C%20resetCache%2C%20setColors%2C%20setDomain%2C%20tmap%3B%0A%20%20%20%20%5Fmode%20%3D%20%27rgb%27%3B%0A%20%20%20%20%5Fnacol%20%3D%20chroma%28%27%23ccc%27%29%3B%0A%20%20%20%20%5Fspread%20%3D%200%3B%0A%20%20%20%20%5Ffixed%20%3D%20false%3B%0A%20%20%20%20%5Fdomain%20%3D%20%5B0%2C%201%5D%3B%0A%20%20%20%20%5Fcolors%20%3D%20%5B%5D%3B%0A%20%20%20%20%5Fout%20%3D%20false%3B%0A%20%20%20%20%5Fpos%20%3D%20%5B%5D%3B%0A%20%20%20%20%5Fmin%20%3D%200%3B%0A%20%20%20%20%5Fmax%20%3D%201%3B%0A%20%20%20%20%5FcorrectLightness%20%3D%20false%3B%0A%20%20%20%20%5FnumClasses%20%3D%200%3B%0A%20%20%20%20%5FcolorCache%20%3D%20%7B%7D%3B%0A%20%20%20%20setColors%20%3D%20function%28colors%2C%20positions%29%20%7B%0A%20%20%20%20%20%20var%20c%2C%20col%2C%20o%2C%20ref%2C%20ref1%2C%20ref2%2C%20w%3B%0A%20%20%20%20%20%20if%20%28colors%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20colors%20%3D%20%5B%27%23ddd%27%2C%20%27%23222%27%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28%28colors%20%21%3D%20null%29%20%26%26%20type%28colors%29%20%3D%3D%3D%20%27string%27%20%26%26%20%28%28%28ref%20%3D%20chroma%2Ebrewer%29%20%21%3D%20null%20%3F%20ref%5Bcolors%5D%20%3A%20void%200%29%20%21%3D%20null%29%29%20%7B%0A%20%20%20%20%20%20%20%20colors%20%3D%20chroma%2Ebrewer%5Bcolors%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28type%28colors%29%20%3D%3D%3D%20%27array%27%29%20%7B%0A%20%20%20%20%20%20%20%20colors%20%3D%20colors%2Eslice%280%29%3B%0A%20%20%20%20%20%20%20%20for%20%28c%20%3D%20o%20%3D%200%2C%20ref1%20%3D%20colors%2Elength%20%2D%201%3B%200%20%3C%3D%20ref1%20%3F%20o%20%3C%3D%20ref1%20%3A%20o%20%3E%3D%20ref1%3B%20c%20%3D%200%20%3C%3D%20ref1%20%3F%20%2B%2Bo%20%3A%20%2D%2Do%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20col%20%3D%20colors%5Bc%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28type%28col%29%20%3D%3D%3D%20%22string%22%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20colors%5Bc%5D%20%3D%20chroma%28col%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28positions%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fpos%20%3D%20positions%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%5Fpos%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28c%20%3D%20w%20%3D%200%2C%20ref2%20%3D%20colors%2Elength%20%2D%201%3B%200%20%3C%3D%20ref2%20%3F%20w%20%3C%3D%20ref2%20%3A%20w%20%3E%3D%20ref2%3B%20c%20%3D%200%20%3C%3D%20ref2%20%3F%20%2B%2Bw%20%3A%20%2D%2Dw%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5Fpos%2Epush%28c%20%2F%20%28colors%2Elength%20%2D%201%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20resetCache%28%29%3B%0A%20%20%20%20%20%20return%20%5Fcolors%20%3D%20colors%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20setDomain%20%3D%20function%28domain%29%20%7B%0A%20%20%20%20%20%20if%20%28domain%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20domain%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%2F%2A%0A%20%20%20%20%20%20%20%2A%20use%20this%20if%20you%20want%20to%20display%20a%20limited%20number%20of%20data%20classes%0A%20%20%20%20%20%20%20%2A%20possible%20methods%20are%20%22equalinterval%22%2C%20%22quantiles%22%2C%20%22custom%22%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20%5Fdomain%20%3D%20domain%3B%0A%20%20%20%20%20%20%5Fmin%20%3D%20domain%5B0%5D%3B%0A%20%20%20%20%20%20%5Fmax%20%3D%20domain%5Bdomain%2Elength%20%2D%201%5D%3B%0A%20%20%20%20%20%20resetCache%28%29%3B%0A%20%20%20%20%20%20if%20%28domain%2Elength%20%3D%3D%3D%202%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%5FnumClasses%20%3D%200%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20%5FnumClasses%20%3D%20domain%2Elength%20%2D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20getClass%20%3D%20function%28value%29%20%7B%0A%20%20%20%20%20%20var%20i%2C%20n%3B%0A%20%20%20%20%20%20if%20%28%5Fdomain%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20n%20%3D%20%5Fdomain%2Elength%20%2D%201%3B%0A%20%20%20%20%20%20%20%20i%20%3D%200%3B%0A%20%20%20%20%20%20%20%20while%20%28i%20%3C%20n%20%26%26%20value%20%3E%3D%20%5Fdomain%5Bi%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20i%2B%2B%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20i%20%2D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%200%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20tmap%20%3D%20function%28t%29%20%7B%0A%20%20%20%20%20%20return%20t%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20classifyValue%20%3D%20function%28value%29%20%7B%0A%20%20%20%20%20%20var%20i%2C%20maxc%2C%20minc%2C%20n%2C%20val%3B%0A%20%20%20%20%20%20val%20%3D%20value%3B%0A%20%20%20%20%20%20if%20%28%5Fdomain%2Elength%20%3E%202%29%20%7B%0A%20%20%20%20%20%20%20%20n%20%3D%20%5Fdomain%2Elength%20%2D%201%3B%0A%20%20%20%20%20%20%20%20i%20%3D%20getClass%28value%29%3B%0A%20%20%20%20%20%20%20%20minc%20%3D%20%5Fdomain%5B0%5D%20%2B%20%28%5Fdomain%5B1%5D%20%2D%20%5Fdomain%5B0%5D%29%20%2A%20%280%20%2B%20%5Fspread%20%2A%200%2E5%29%3B%0A%20%20%20%20%20%20%20%20maxc%20%3D%20%5Fdomain%5Bn%20%2D%201%5D%20%2B%20%28%5Fdomain%5Bn%5D%20%2D%20%5Fdomain%5Bn%20%2D%201%5D%29%20%2A%20%281%20%2D%20%5Fspread%20%2A%200%2E5%29%3B%0A%20%20%20%20%20%20%20%20val%20%3D%20%5Fmin%20%2B%20%28%28%5Fdomain%5Bi%5D%20%2B%20%28%5Fdomain%5Bi%20%2B%201%5D%20%2D%20%5Fdomain%5Bi%5D%29%20%2A%200%2E5%20%2D%20minc%29%20%2F%20%28maxc%20%2D%20minc%29%29%20%2A%20%28%5Fmax%20%2D%20%5Fmin%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20val%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20getColor%20%3D%20function%28val%2C%20bypassMap%29%20%7B%0A%20%20%20%20%20%20var%20c%2C%20col%2C%20f0%2C%20i%2C%20k%2C%20o%2C%20p%2C%20ref%2C%20t%3B%0A%20%20%20%20%20%20if%20%28bypassMap%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20bypassMap%20%3D%20false%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28isNaN%28val%29%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%5Fnacol%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28%21bypassMap%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%5Fdomain%2Elength%20%3E%202%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20getClass%28val%29%3B%0A%20%20%20%20%20%20%20%20%20%20t%20%3D%20c%20%2F%20%28%5FnumClasses%20%2D%201%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20t%20%3D%20f0%20%3D%20%5Fmin%20%21%3D%3D%20%5Fmax%20%3F%20%28val%20%2D%20%5Fmin%29%20%2F%20%28%5Fmax%20%2D%20%5Fmin%29%20%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20t%20%3D%20f0%20%3D%20%28val%20%2D%20%5Fmin%29%20%2F%20%28%5Fmax%20%2D%20%5Fmin%29%3B%0A%20%20%20%20%20%20%20%20%20%20t%20%3D%20Math%2Emin%281%2C%20Math%2Emax%280%2C%20t%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20t%20%3D%20val%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28%21bypassMap%29%20%7B%0A%20%20%20%20%20%20%20%20t%20%3D%20tmap%28t%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20k%20%3D%20Math%2Efloor%28t%20%2A%2010000%29%3B%0A%20%20%20%20%20%20if%20%28%5FcolorCache%5Bk%5D%29%20%7B%0A%20%20%20%20%20%20%20%20col%20%3D%20%5FcolorCache%5Bk%5D%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20if%20%28type%28%5Fcolors%29%20%3D%3D%3D%20%27array%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%20o%20%3D%200%2C%20ref%20%3D%20%5Fpos%2Elength%20%2D%201%3B%200%20%3C%3D%20ref%20%3F%20o%20%3C%3D%20ref%20%3A%20o%20%3E%3D%20ref%3B%20i%20%3D%200%20%3C%3D%20ref%20%3F%20%2B%2Bo%20%3A%20%2D%2Do%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20p%20%3D%20%5Fpos%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28t%20%3C%3D%20p%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20col%20%3D%20%5Fcolors%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28t%20%3E%3D%20p%20%26%26%20i%20%3D%3D%3D%20%5Fpos%2Elength%20%2D%201%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20col%20%3D%20%5Fcolors%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28t%20%3E%20p%20%26%26%20t%20%3C%20%5Fpos%5Bi%20%2B%201%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20t%20%3D%20%28t%20%2D%20p%29%20%2F%20%28%5Fpos%5Bi%20%2B%201%5D%20%2D%20p%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20col%20%3D%20chroma%2Einterpolate%28%5Fcolors%5Bi%5D%2C%20%5Fcolors%5Bi%20%2B%201%5D%2C%20t%2C%20%5Fmode%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28type%28%5Fcolors%29%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20col%20%3D%20%5Fcolors%28t%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%5FcolorCache%5Bk%5D%20%3D%20col%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20col%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20resetCache%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20return%20%5FcolorCache%20%3D%20%7B%7D%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20setColors%28colors%2C%20positions%29%3B%0A%20%20%20%20f%20%3D%20function%28v%29%20%7B%0A%20%20%20%20%20%20var%20c%3B%0A%20%20%20%20%20%20c%20%3D%20getColor%28v%29%3B%0A%20%20%20%20%20%20if%20%28%5Fout%20%26%26%20c%5B%5Fout%5D%29%20%7B%0A%20%20%20%20%20%20%20%20return%20c%5B%5Fout%5D%28%29%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20c%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20f%2Edomain%20%3D%20function%28domain%2C%20classes%2C%20mode%2C%20key%29%20%7B%0A%20%20%20%20%20%20var%20d%3B%0A%20%20%20%20%20%20if%20%28mode%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20mode%20%3D%20%27e%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28%21arguments%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%5Fdomain%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20if%20%28classes%20%21%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20d%20%3D%20chroma%2Eanalyze%28domain%2C%20key%29%3B%0A%20%20%20%20%20%20%20%20if%20%28classes%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20domain%20%3D%20%5Bd%2Emin%2C%20d%2Emax%5D%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20domain%20%3D%20chroma%2Elimits%28d%2C%20mode%2C%20classes%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20setDomain%28domain%29%3B%0A%20%20%20%20%20%20return%20f%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20f%2Emode%20%3D%20function%28%5Fm%29%20%7B%0A%20%20%20%20%20%20if%20%28%21arguments%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%5Fmode%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%5Fmode%20%3D%20%5Fm%3B%0A%20%20%20%20%20%20resetCache%28%29%3B%0A%20%20%20%20%20%20return%20f%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20f%2Erange%20%3D%20function%28colors%2C%20%5Fpos%29%20%7B%0A%20%20%20%20%20%20setColors%28colors%2C%20%5Fpos%29%3B%0A%20%20%20%20%20%20return%20f%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20f%2Eout%20%3D%20function%28%5Fo%29%20%7B%0A%20%20%20%20%20%20%5Fout%20%3D%20%5Fo%3B%0A%20%20%20%20%20%20return%20f%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20f%2Espread%20%3D%20function%28val%29%20%7B%0A%20%20%20%20%20%20if%20%28%21arguments%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%5Fspread%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%5Fspread%20%3D%20val%3B%0A%20%20%20%20%20%20return%20f%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20f%2EcorrectLightness%20%3D%20function%28v%29%20%7B%0A%20%20%20%20%20%20if%20%28%21arguments%2Elength%29%20%7B%0A%20%20%20%20%20%20%20%20return%20%5FcorrectLightness%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%5FcorrectLightness%20%3D%20v%3B%0A%20%20%20%20%20%20resetCache%28%29%3B%0A%20%20%20%20%20%20if%20%28%5FcorrectLightness%29%20%7B%0A%20%20%20%20%20%20%20%20tmap%20%3D%20function%28t%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20L0%2C%20L1%2C%20L%5Factual%2C%20L%5Fdiff%2C%20L%5Fideal%2C%20max%5Fiter%2C%20pol%2C%20t0%2C%20t1%3B%0A%20%20%20%20%20%20%20%20%20%20L0%20%3D%20getColor%280%2C%20true%29%2Elab%28%29%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20L1%20%3D%20getColor%281%2C%20true%29%2Elab%28%29%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20pol%20%3D%20L0%20%3E%20L1%3B%0A%20%20%20%20%20%20%20%20%20%20L%5Factual%20%3D%20getColor%28t%2C%20true%29%2Elab%28%29%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20L%5Fideal%20%3D%20L0%20%2B%20%28L1%20%2D%20L0%29%20%2A%20t%3B%0A%20%20%20%20%20%20%20%20%20%20L%5Fdiff%20%3D%20L%5Factual%20%2D%20L%5Fideal%3B%0A%20%20%20%20%20%20%20%20%20%20t0%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20t1%20%3D%201%3B%0A%20%20%20%20%20%20%20%20%20%20max%5Fiter%20%3D%2020%3B%0A%20%20%20%20%20%20%20%20%20%20while%20%28Math%2Eabs%28L%5Fdiff%29%20%3E%201e%2D2%20%26%26%20max%5Fiter%2D%2D%20%3E%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28pol%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20L%5Fdiff%20%2A%3D%20%2D1%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28L%5Fdiff%20%3C%200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20t0%20%3D%20t%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20t%20%2B%3D%20%28t1%20%2D%20t%29%20%2A%200%2E5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20t1%20%3D%20t%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20t%20%2B%3D%20%28t0%20%2D%20t%29%20%2A%200%2E5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20L%5Factual%20%3D%20getColor%28t%2C%20true%29%2Elab%28%29%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20L%5Fdiff%20%3D%20L%5Factual%20%2D%20L%5Fideal%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20t%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20tmap%20%3D%20function%28t%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20t%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20f%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20f%2Ecolors%20%3D%20function%28out%29%20%7B%0A%20%20%20%20%20%20var%20i%2C%20len%2C%20o%2C%20ref%2C%20samples%2C%20w%3B%0A%20%20%20%20%20%20if%20%28out%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20out%20%3D%20%27hex%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20colors%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20samples%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20if%20%28%5Fdomain%2Elength%20%3E%202%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%20o%20%3D%201%2C%20ref%20%3D%20%5Fdomain%2Elength%3B%201%20%3C%3D%20ref%20%3F%20o%20%3C%20ref%20%3A%20o%20%3E%20ref%3B%20i%20%3D%201%20%3C%3D%20ref%20%3F%20%2B%2Bo%20%3A%20%2D%2Do%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20samples%2Epush%28%28%5Fdomain%5Bi%20%2D%201%5D%20%2B%20%5Fdomain%5Bi%5D%29%20%2A%200%2E5%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20samples%20%3D%20%5Fdomain%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20%28w%20%3D%200%2C%20len%20%3D%20samples%2Elength%3B%20w%20%3C%20len%3B%20w%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20i%20%3D%20samples%5Bw%5D%3B%0A%20%20%20%20%20%20%20%20colors%2Epush%28f%28i%29%5Bout%5D%28%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20colors%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20return%20f%3B%0A%20%20%7D%3B%0A%0A%20%20if%20%28chroma%2Escales%20%3D%3D%20null%29%20%7B%0A%20%20%20%20chroma%2Escales%20%3D%20%7B%7D%3B%0A%20%20%7D%0A%0A%20%20chroma%2Escales%2Ecool%20%3D%20function%28%29%20%7B%0A%20%20%20%20return%20chroma%2Escale%28%5Bchroma%2Ehsl%28180%2C%201%2C%20%2E9%29%2C%20chroma%2Ehsl%28250%2C%20%2E7%2C%20%2E4%29%5D%29%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Escales%2Ehot%20%3D%20function%28%29%20%7B%0A%20%20%20%20return%20chroma%2Escale%28%5B%27%23000%27%2C%20%27%23f00%27%2C%20%27%23ff0%27%2C%20%27%23fff%27%5D%2C%20%5B0%2C%20%2E25%2C%20%2E75%2C%201%5D%29%2Emode%28%27rgb%27%29%3B%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%0A%20%20%20%20%20%20chroma%2Ejs%0A%20%20%0A%20%20%20%20%20%20Copyright%20%28c%29%202011%2D2013%2C%20Gregor%20Aisch%0A%20%20%20%20%20%20All%20rights%20reserved%2E%0A%20%20%0A%20%20%20%20%20%20Redistribution%20and%20use%20in%20source%20and%20binary%20forms%2C%20with%20or%20without%0A%20%20%20%20%20%20modification%2C%20are%20permitted%20provided%20that%20the%20following%20conditions%20are%20met%3A%0A%20%20%0A%20%20%20%20%20%20%2A%20Redistributions%20of%20source%20code%20must%20retain%20the%20above%20copyright%20notice%2C%20this%0A%20%20%20%20%20%20%20%20list%20of%20conditions%20and%20the%20following%20disclaimer%2E%0A%20%20%0A%20%20%20%20%20%20%2A%20Redistributions%20in%20binary%20form%20must%20reproduce%20the%20above%20copyright%20notice%2C%0A%20%20%20%20%20%20%20%20this%20list%20of%20conditions%20and%20the%20following%20disclaimer%20in%20the%20documentation%0A%20%20%20%20%20%20%20%20and%2For%20other%20materials%20provided%20with%20the%20distribution%2E%0A%20%20%0A%20%20%20%20%20%20%2A%20The%20name%20Gregor%20Aisch%20may%20not%20be%20used%20to%20endorse%20or%20promote%20products%0A%20%20%20%20%20%20%20%20derived%20from%20this%20software%20without%20specific%20prior%20written%20permission%2E%0A%20%20%0A%20%20%20%20%20%20THIS%20SOFTWARE%20IS%20PROVIDED%20BY%20THE%20COPYRIGHT%20HOLDERS%20AND%20CONTRIBUTORS%20%22AS%20IS%22%0A%20%20%20%20%20%20AND%20ANY%20EXPRESS%20OR%20IMPLIED%20WARRANTIES%2C%20INCLUDING%2C%20BUT%20NOT%20LIMITED%20TO%2C%20THE%0A%20%20%20%20%20%20IMPLIED%20WARRANTIES%20OF%20MERCHANTABILITY%20AND%20FITNESS%20FOR%20A%20PARTICULAR%20PURPOSE%20ARE%0A%20%20%20%20%20%20DISCLAIMED%2E%20IN%20NO%20EVENT%20SHALL%20GREGOR%20AISCH%20OR%20CONTRIBUTORS%20BE%20LIABLE%20FOR%20ANY%20DIRECT%2C%0A%20%20%20%20%20%20INDIRECT%2C%20INCIDENTAL%2C%20SPECIAL%2C%20EXEMPLARY%2C%20OR%20CONSEQUENTIAL%20DAMAGES%20%28INCLUDING%2C%0A%20%20%20%20%20%20BUT%20NOT%20LIMITED%20TO%2C%20PROCUREMENT%20OF%20SUBSTITUTE%20GOODS%20OR%20SERVICES%3B%20LOSS%20OF%20USE%2C%0A%20%20%20%20%20%20DATA%2C%20OR%20PROFITS%3B%20OR%20BUSINESS%20INTERRUPTION%29%20HOWEVER%20CAUSED%20AND%20ON%20ANY%20THEORY%0A%20%20%20%20%20%20OF%20LIABILITY%2C%20WHETHER%20IN%20CONTRACT%2C%20STRICT%20LIABILITY%2C%20OR%20TORT%20%28INCLUDING%0A%20%20%20%20%20%20NEGLIGENCE%20OR%20OTHERWISE%29%20ARISING%20IN%20ANY%20WAY%20OUT%20OF%20THE%20USE%20OF%20THIS%20SOFTWARE%2C%0A%20%20%20%20%20%20EVEN%20IF%20ADVISED%20OF%20THE%20POSSIBILITY%20OF%20SUCH%20DAMAGE%2E%0A%20%20%0A%20%20%20%20%20%20%40source%3A%20https%3A%2F%2Fgithub%2Ecom%2Fgka%2Fchroma%2Ejs%0A%20%20%20%2A%2F%0A%0A%20%20chroma%2Eanalyze%20%3D%20function%28data%2C%20key%2C%20filter%29%20%7B%0A%20%20%20%20var%20add%2C%20k%2C%20len%2C%20o%2C%20r%2C%20val%2C%20visit%3B%0A%20%20%20%20r%20%3D%20%7B%0A%20%20%20%20%20%20min%3A%20Number%2EMAX%5FVALUE%2C%0A%20%20%20%20%20%20max%3A%20Number%2EMAX%5FVALUE%20%2A%20%2D1%2C%0A%20%20%20%20%20%20sum%3A%200%2C%0A%20%20%20%20%20%20values%3A%20%5B%5D%2C%0A%20%20%20%20%20%20count%3A%200%0A%20%20%20%20%7D%3B%0A%20%20%20%20if%20%28filter%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20filter%20%3D%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20return%20true%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20add%20%3D%20function%28val%29%20%7B%0A%20%20%20%20%20%20if%20%28%28val%20%21%3D%20null%29%20%26%26%20%21isNaN%28val%29%29%20%7B%0A%20%20%20%20%20%20%20%20r%2Evalues%2Epush%28val%29%3B%0A%20%20%20%20%20%20%20%20r%2Esum%20%2B%3D%20val%3B%0A%20%20%20%20%20%20%20%20if%20%28val%20%3C%20r%2Emin%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20r%2Emin%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20if%20%28val%20%3E%20r%2Emax%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20r%2Emax%20%3D%20val%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20r%2Ecount%20%2B%3D%201%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20visit%20%3D%20function%28val%2C%20k%29%20%7B%0A%20%20%20%20%20%20if%20%28filter%28val%2C%20k%29%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%28key%20%21%3D%20null%29%20%26%26%20type%28key%29%20%3D%3D%3D%20%27function%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20add%28key%28val%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20if%20%28%28key%20%21%3D%20null%29%20%26%26%20type%28key%29%20%3D%3D%3D%20%27string%27%20%7C%7C%20type%28key%29%20%3D%3D%3D%20%27number%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20add%28val%5Bkey%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20add%28val%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%3B%0A%20%20%20%20if%20%28type%28data%29%20%3D%3D%3D%20%27array%27%29%20%7B%0A%20%20%20%20%20%20for%20%28o%20%3D%200%2C%20len%20%3D%20data%2Elength%3B%20o%20%3C%20len%3B%20o%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20val%20%3D%20data%5Bo%5D%3B%0A%20%20%20%20%20%20%20%20visit%28val%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20for%20%28k%20in%20data%29%20%7B%0A%20%20%20%20%20%20%20%20val%20%3D%20data%5Bk%5D%3B%0A%20%20%20%20%20%20%20%20visit%28val%2C%20k%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20r%2Edomain%20%3D%20%5Br%2Emin%2C%20r%2Emax%5D%3B%0A%20%20%20%20r%2Elimits%20%3D%20function%28mode%2C%20num%29%20%7B%0A%20%20%20%20%20%20return%20chroma%2Elimits%28r%2C%20mode%2C%20num%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%20%20return%20r%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Elimits%20%3D%20function%28data%2C%20mode%2C%20num%29%20%7B%0A%20%20%20%20var%20aa%2C%20ab%2C%20ac%2C%20ad%2C%20ae%2C%20af%2C%20ag%2C%20ah%2C%20ai%2C%20aj%2C%20ak%2C%20al%2C%20am%2C%20assignments%2C%20best%2C%20centroids%2C%20cluster%2C%20clusterSizes%2C%20dist%2C%20i%2C%20j%2C%20kClusters%2C%20limits%2C%20max%2C%20max%5Flog%2C%20min%2C%20min%5Flog%2C%20mindist%2C%20n%2C%20nb%5Fiters%2C%20newCentroids%2C%20o%2C%20p%2C%20pb%2C%20pr%2C%20ref%2C%20ref1%2C%20ref10%2C%20ref11%2C%20ref12%2C%20ref13%2C%20ref14%2C%20ref2%2C%20ref3%2C%20ref4%2C%20ref5%2C%20ref6%2C%20ref7%2C%20ref8%2C%20ref9%2C%20repeat%2C%20sum%2C%20tmpKMeansBreaks%2C%20value%2C%20values%2C%20w%3B%0A%20%20%20%20if%20%28mode%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20mode%20%3D%20%27equal%27%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28num%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20num%20%3D%207%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28type%28data%29%20%3D%3D%3D%20%27array%27%29%20%7B%0A%20%20%20%20%20%20data%20%3D%20chroma%2Eanalyze%28data%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20min%20%3D%20data%2Emin%3B%0A%20%20%20%20max%20%3D%20data%2Emax%3B%0A%20%20%20%20sum%20%3D%20data%2Esum%3B%0A%20%20%20%20values%20%3D%20data%2Evalues%2Esort%28function%28a%2C%20b%29%20%7B%0A%20%20%20%20%20%20return%20a%20%2D%20b%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%20%20limits%20%3D%20%5B%5D%3B%0A%20%20%20%20if%20%28mode%2Esubstr%280%2C%201%29%20%3D%3D%3D%20%27c%27%29%20%7B%0A%20%20%20%20%20%20limits%2Epush%28min%29%3B%0A%20%20%20%20%20%20limits%2Epush%28max%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28mode%2Esubstr%280%2C%201%29%20%3D%3D%3D%20%27e%27%29%20%7B%0A%20%20%20%20%20%20limits%2Epush%28min%29%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%20o%20%3D%201%2C%20ref%20%3D%20num%20%2D%201%3B%201%20%3C%3D%20ref%20%3F%20o%20%3C%3D%20ref%20%3A%20o%20%3E%3D%20ref%3B%20i%20%3D%201%20%3C%3D%20ref%20%3F%20%2B%2Bo%20%3A%20%2D%2Do%29%20%7B%0A%20%20%20%20%20%20%20%20limits%2Epush%28min%20%2B%20%28i%20%2F%20num%29%20%2A%20%28max%20%2D%20min%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20limits%2Epush%28max%29%3B%0A%20%20%20%20%7D%20else%20if%20%28mode%2Esubstr%280%2C%201%29%20%3D%3D%3D%20%27l%27%29%20%7B%0A%20%20%20%20%20%20if%20%28min%20%3C%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20throw%20%27Logarithmic%20scales%20are%20only%20possible%20for%20values%20%3E%200%27%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20min%5Flog%20%3D%20Math%2ELOG10E%20%2A%20log%28min%29%3B%0A%20%20%20%20%20%20max%5Flog%20%3D%20Math%2ELOG10E%20%2A%20log%28max%29%3B%0A%20%20%20%20%20%20limits%2Epush%28min%29%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%20w%20%3D%201%2C%20ref1%20%3D%20num%20%2D%201%3B%201%20%3C%3D%20ref1%20%3F%20w%20%3C%3D%20ref1%20%3A%20w%20%3E%3D%20ref1%3B%20i%20%3D%201%20%3C%3D%20ref1%20%3F%20%2B%2Bw%20%3A%20%2D%2Dw%29%20%7B%0A%20%20%20%20%20%20%20%20limits%2Epush%28pow%2810%2C%20min%5Flog%20%2B%20%28i%20%2F%20num%29%20%2A%20%28max%5Flog%20%2D%20min%5Flog%29%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20limits%2Epush%28max%29%3B%0A%20%20%20%20%7D%20else%20if%20%28mode%2Esubstr%280%2C%201%29%20%3D%3D%3D%20%27q%27%29%20%7B%0A%20%20%20%20%20%20limits%2Epush%28min%29%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%20aa%20%3D%201%2C%20ref2%20%3D%20num%20%2D%201%3B%201%20%3C%3D%20ref2%20%3F%20aa%20%3C%3D%20ref2%20%3A%20aa%20%3E%3D%20ref2%3B%20i%20%3D%201%20%3C%3D%20ref2%20%3F%20%2B%2Baa%20%3A%20%2D%2Daa%29%20%7B%0A%20%20%20%20%20%20%20%20p%20%3D%20values%2Elength%20%2A%20i%20%2F%20num%3B%0A%20%20%20%20%20%20%20%20pb%20%3D%20floor%28p%29%3B%0A%20%20%20%20%20%20%20%20if%20%28pb%20%3D%3D%3D%20p%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20limits%2Epush%28values%5Bpb%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20pr%20%3D%20p%20%2D%20pb%3B%0A%20%20%20%20%20%20%20%20%20%20limits%2Epush%28values%5Bpb%5D%20%2A%20pr%20%2B%20values%5Bpb%20%2B%201%5D%20%2A%20%281%20%2D%20pr%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20limits%2Epush%28max%29%3B%0A%20%20%20%20%7D%20else%20if%20%28mode%2Esubstr%280%2C%201%29%20%3D%3D%3D%20%27k%27%29%20%7B%0A%0A%20%20%20%20%20%20%2F%2A%0A%20%20%20%20%20%20implementation%20based%20on%0A%20%20%20%20%20%20http%3A%2F%2Fcode%2Egoogle%2Ecom%2Fp%2Ffigue%2Fsource%2Fbrowse%2Ftrunk%2Ffigue%2Ejs%23336%0A%20%20%20%20%20%20simplified%20for%201%2Dd%20input%20values%0A%20%20%20%20%20%20%20%2A%2F%0A%20%20%20%20%20%20n%20%3D%20values%2Elength%3B%0A%20%20%20%20%20%20assignments%20%3D%20new%20Array%28n%29%3B%0A%20%20%20%20%20%20clusterSizes%20%3D%20new%20Array%28num%29%3B%0A%20%20%20%20%20%20repeat%20%3D%20true%3B%0A%20%20%20%20%20%20nb%5Fiters%20%3D%200%3B%0A%20%20%20%20%20%20centroids%20%3D%20null%3B%0A%20%20%20%20%20%20centroids%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20centroids%2Epush%28min%29%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%20ab%20%3D%201%2C%20ref3%20%3D%20num%20%2D%201%3B%201%20%3C%3D%20ref3%20%3F%20ab%20%3C%3D%20ref3%20%3A%20ab%20%3E%3D%20ref3%3B%20i%20%3D%201%20%3C%3D%20ref3%20%3F%20%2B%2Bab%20%3A%20%2D%2Dab%29%20%7B%0A%20%20%20%20%20%20%20%20centroids%2Epush%28min%20%2B%20%28i%20%2F%20num%29%20%2A%20%28max%20%2D%20min%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20centroids%2Epush%28max%29%3B%0A%20%20%20%20%20%20while%20%28repeat%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28j%20%3D%20ac%20%3D%200%2C%20ref4%20%3D%20num%20%2D%201%3B%200%20%3C%3D%20ref4%20%3F%20ac%20%3C%3D%20ref4%20%3A%20ac%20%3E%3D%20ref4%3B%20j%20%3D%200%20%3C%3D%20ref4%20%3F%20%2B%2Bac%20%3A%20%2D%2Dac%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20clusterSizes%5Bj%5D%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%20ad%20%3D%200%2C%20ref5%20%3D%20n%20%2D%201%3B%200%20%3C%3D%20ref5%20%3F%20ad%20%3C%3D%20ref5%20%3A%20ad%20%3E%3D%20ref5%3B%20i%20%3D%200%20%3C%3D%20ref5%20%3F%20%2B%2Bad%20%3A%20%2D%2Dad%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20value%20%3D%20values%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20mindist%20%3D%20Number%2EMAX%5FVALUE%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28j%20%3D%20ae%20%3D%200%2C%20ref6%20%3D%20num%20%2D%201%3B%200%20%3C%3D%20ref6%20%3F%20ae%20%3C%3D%20ref6%20%3A%20ae%20%3E%3D%20ref6%3B%20j%20%3D%200%20%3C%3D%20ref6%20%3F%20%2B%2Bae%20%3A%20%2D%2Dae%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dist%20%3D%20abs%28centroids%5Bj%5D%20%2D%20value%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28dist%20%3C%20mindist%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20mindist%20%3D%20dist%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20best%20%3D%20j%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20clusterSizes%5Bbest%5D%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20assignments%5Bi%5D%20%3D%20best%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20newCentroids%20%3D%20new%20Array%28num%29%3B%0A%20%20%20%20%20%20%20%20for%20%28j%20%3D%20af%20%3D%200%2C%20ref7%20%3D%20num%20%2D%201%3B%200%20%3C%3D%20ref7%20%3F%20af%20%3C%3D%20ref7%20%3A%20af%20%3E%3D%20ref7%3B%20j%20%3D%200%20%3C%3D%20ref7%20%3F%20%2B%2Baf%20%3A%20%2D%2Daf%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20newCentroids%5Bj%5D%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20for%20%28i%20%3D%20ag%20%3D%200%2C%20ref8%20%3D%20n%20%2D%201%3B%200%20%3C%3D%20ref8%20%3F%20ag%20%3C%3D%20ref8%20%3A%20ag%20%3E%3D%20ref8%3B%20i%20%3D%200%20%3C%3D%20ref8%20%3F%20%2B%2Bag%20%3A%20%2D%2Dag%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20cluster%20%3D%20assignments%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20if%20%28newCentroids%5Bcluster%5D%20%3D%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newCentroids%5Bcluster%5D%20%3D%20values%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newCentroids%5Bcluster%5D%20%2B%3D%20values%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20for%20%28j%20%3D%20ah%20%3D%200%2C%20ref9%20%3D%20num%20%2D%201%3B%200%20%3C%3D%20ref9%20%3F%20ah%20%3C%3D%20ref9%20%3A%20ah%20%3E%3D%20ref9%3B%20j%20%3D%200%20%3C%3D%20ref9%20%3F%20%2B%2Bah%20%3A%20%2D%2Dah%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20newCentroids%5Bj%5D%20%2A%3D%201%20%2F%20clusterSizes%5Bj%5D%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20repeat%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20for%20%28j%20%3D%20ai%20%3D%200%2C%20ref10%20%3D%20num%20%2D%201%3B%200%20%3C%3D%20ref10%20%3F%20ai%20%3C%3D%20ref10%20%3A%20ai%20%3E%3D%20ref10%3B%20j%20%3D%200%20%3C%3D%20ref10%20%3F%20%2B%2Bai%20%3A%20%2D%2Dai%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20if%20%28newCentroids%5Bj%5D%20%21%3D%3D%20centroids%5Bi%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20repeat%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20break%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20centroids%20%3D%20newCentroids%3B%0A%20%20%20%20%20%20%20%20nb%5Fiters%2B%2B%3B%0A%20%20%20%20%20%20%20%20if%20%28nb%5Fiters%20%3E%20200%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20repeat%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20kClusters%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20for%20%28j%20%3D%20aj%20%3D%200%2C%20ref11%20%3D%20num%20%2D%201%3B%200%20%3C%3D%20ref11%20%3F%20aj%20%3C%3D%20ref11%20%3A%20aj%20%3E%3D%20ref11%3B%20j%20%3D%200%20%3C%3D%20ref11%20%3F%20%2B%2Baj%20%3A%20%2D%2Daj%29%20%7B%0A%20%20%20%20%20%20%20%20kClusters%5Bj%5D%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20for%20%28i%20%3D%20ak%20%3D%200%2C%20ref12%20%3D%20n%20%2D%201%3B%200%20%3C%3D%20ref12%20%3F%20ak%20%3C%3D%20ref12%20%3A%20ak%20%3E%3D%20ref12%3B%20i%20%3D%200%20%3C%3D%20ref12%20%3F%20%2B%2Bak%20%3A%20%2D%2Dak%29%20%7B%0A%20%20%20%20%20%20%20%20cluster%20%3D%20assignments%5Bi%5D%3B%0A%20%20%20%20%20%20%20%20kClusters%5Bcluster%5D%2Epush%28values%5Bi%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20tmpKMeansBreaks%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28j%20%3D%20al%20%3D%200%2C%20ref13%20%3D%20num%20%2D%201%3B%200%20%3C%3D%20ref13%20%3F%20al%20%3C%3D%20ref13%20%3A%20al%20%3E%3D%20ref13%3B%20j%20%3D%200%20%3C%3D%20ref13%20%3F%20%2B%2Bal%20%3A%20%2D%2Dal%29%20%7B%0A%20%20%20%20%20%20%20%20tmpKMeansBreaks%2Epush%28kClusters%5Bj%5D%5B0%5D%29%3B%0A%20%20%20%20%20%20%20%20tmpKMeansBreaks%2Epush%28kClusters%5Bj%5D%5BkClusters%5Bj%5D%2Elength%20%2D%201%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20tmpKMeansBreaks%20%3D%20tmpKMeansBreaks%2Esort%28function%28a%2C%20b%29%20%7B%0A%20%20%20%20%20%20%20%20return%20a%20%2D%20b%3B%0A%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20limits%2Epush%28tmpKMeansBreaks%5B0%5D%29%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%20am%20%3D%201%2C%20ref14%20%3D%20tmpKMeansBreaks%2Elength%20%2D%201%3B%20am%20%3C%3D%20ref14%3B%20i%20%3D%20am%20%2B%3D%202%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28%21isNaN%28tmpKMeansBreaks%5Bi%5D%29%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20limits%2Epush%28tmpKMeansBreaks%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20limits%3B%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%2A%0A%20%20%09ColorBrewer%20colors%20for%20chroma%2Ejs%0A%20%20%0A%20%20%09Copyright%20%28c%29%202002%20Cynthia%20Brewer%2C%20Mark%20Harrower%2C%20and%20The%20%0A%20%20%09Pennsylvania%20State%20University%2E%0A%20%20%0A%20%20%09Licensed%20under%20the%20Apache%20License%2C%20Version%202%2E0%20%28the%20%22License%22%29%3B%20%0A%20%20%09you%20may%20not%20use%20this%20file%20except%20in%20compliance%20with%20the%20License%2E%0A%20%20%09You%20may%20obtain%20a%20copy%20of%20the%20License%20at%09%0A%20%20%09http%3A%2F%2Fwww%2Eapache%2Eorg%2Flicenses%2FLICENSE%2D2%2E0%0A%20%20%0A%20%20%09Unless%20required%20by%20applicable%20law%20or%20agreed%20to%20in%20writing%2C%20software%20distributed%0A%20%20%09under%20the%20License%20is%20distributed%20on%20an%20%22AS%20IS%22%20BASIS%2C%20WITHOUT%20WARRANTIES%20OR%0A%20%20%09CONDITIONS%20OF%20ANY%20KIND%2C%20either%20express%20or%20implied%2E%20See%20the%20License%20for%20the%0A%20%20%09specific%20language%20governing%20permissions%20and%20limitations%20under%20the%20License%2E%0A%20%20%0A%20%20%20%20%20%20%40preserve%0A%20%20%20%2A%2F%0A%0A%20%20chroma%2Ebrewer%20%3D%20brewer%20%3D%20%7B%0A%20%20%20%20OrRd%3A%20%5B%27%23fff7ec%27%2C%20%27%23fee8c8%27%2C%20%27%23fdd49e%27%2C%20%27%23fdbb84%27%2C%20%27%23fc8d59%27%2C%20%27%23ef6548%27%2C%20%27%23d7301f%27%2C%20%27%23b30000%27%2C%20%27%237f0000%27%5D%2C%0A%20%20%20%20PuBu%3A%20%5B%27%23fff7fb%27%2C%20%27%23ece7f2%27%2C%20%27%23d0d1e6%27%2C%20%27%23a6bddb%27%2C%20%27%2374a9cf%27%2C%20%27%233690c0%27%2C%20%27%230570b0%27%2C%20%27%23045a8d%27%2C%20%27%23023858%27%5D%2C%0A%20%20%20%20BuPu%3A%20%5B%27%23f7fcfd%27%2C%20%27%23e0ecf4%27%2C%20%27%23bfd3e6%27%2C%20%27%239ebcda%27%2C%20%27%238c96c6%27%2C%20%27%238c6bb1%27%2C%20%27%2388419d%27%2C%20%27%23810f7c%27%2C%20%27%234d004b%27%5D%2C%0A%20%20%20%20Oranges%3A%20%5B%27%23fff5eb%27%2C%20%27%23fee6ce%27%2C%20%27%23fdd0a2%27%2C%20%27%23fdae6b%27%2C%20%27%23fd8d3c%27%2C%20%27%23f16913%27%2C%20%27%23d94801%27%2C%20%27%23a63603%27%2C%20%27%237f2704%27%5D%2C%0A%20%20%20%20BuGn%3A%20%5B%27%23f7fcfd%27%2C%20%27%23e5f5f9%27%2C%20%27%23ccece6%27%2C%20%27%2399d8c9%27%2C%20%27%2366c2a4%27%2C%20%27%2341ae76%27%2C%20%27%23238b45%27%2C%20%27%23006d2c%27%2C%20%27%2300441b%27%5D%2C%0A%20%20%20%20YlOrBr%3A%20%5B%27%23ffffe5%27%2C%20%27%23fff7bc%27%2C%20%27%23fee391%27%2C%20%27%23fec44f%27%2C%20%27%23fe9929%27%2C%20%27%23ec7014%27%2C%20%27%23cc4c02%27%2C%20%27%23993404%27%2C%20%27%23662506%27%5D%2C%0A%20%20%20%20YlGn%3A%20%5B%27%23ffffe5%27%2C%20%27%23f7fcb9%27%2C%20%27%23d9f0a3%27%2C%20%27%23addd8e%27%2C%20%27%2378c679%27%2C%20%27%2341ab5d%27%2C%20%27%23238443%27%2C%20%27%23006837%27%2C%20%27%23004529%27%5D%2C%0A%20%20%20%20Reds%3A%20%5B%27%23fff5f0%27%2C%20%27%23fee0d2%27%2C%20%27%23fcbba1%27%2C%20%27%23fc9272%27%2C%20%27%23fb6a4a%27%2C%20%27%23ef3b2c%27%2C%20%27%23cb181d%27%2C%20%27%23a50f15%27%2C%20%27%2367000d%27%5D%2C%0A%20%20%20%20RdPu%3A%20%5B%27%23fff7f3%27%2C%20%27%23fde0dd%27%2C%20%27%23fcc5c0%27%2C%20%27%23fa9fb5%27%2C%20%27%23f768a1%27%2C%20%27%23dd3497%27%2C%20%27%23ae017e%27%2C%20%27%237a0177%27%2C%20%27%2349006a%27%5D%2C%0A%20%20%20%20Greens%3A%20%5B%27%23f7fcf5%27%2C%20%27%23e5f5e0%27%2C%20%27%23c7e9c0%27%2C%20%27%23a1d99b%27%2C%20%27%2374c476%27%2C%20%27%2341ab5d%27%2C%20%27%23238b45%27%2C%20%27%23006d2c%27%2C%20%27%2300441b%27%5D%2C%0A%20%20%20%20YlGnBu%3A%20%5B%27%23ffffd9%27%2C%20%27%23edf8b1%27%2C%20%27%23c7e9b4%27%2C%20%27%237fcdbb%27%2C%20%27%2341b6c4%27%2C%20%27%231d91c0%27%2C%20%27%23225ea8%27%2C%20%27%23253494%27%2C%20%27%23081d58%27%5D%2C%0A%20%20%20%20Purples%3A%20%5B%27%23fcfbfd%27%2C%20%27%23efedf5%27%2C%20%27%23dadaeb%27%2C%20%27%23bcbddc%27%2C%20%27%239e9ac8%27%2C%20%27%23807dba%27%2C%20%27%236a51a3%27%2C%20%27%2354278f%27%2C%20%27%233f007d%27%5D%2C%0A%20%20%20%20GnBu%3A%20%5B%27%23f7fcf0%27%2C%20%27%23e0f3db%27%2C%20%27%23ccebc5%27%2C%20%27%23a8ddb5%27%2C%20%27%237bccc4%27%2C%20%27%234eb3d3%27%2C%20%27%232b8cbe%27%2C%20%27%230868ac%27%2C%20%27%23084081%27%5D%2C%0A%20%20%20%20Greys%3A%20%5B%27%23ffffff%27%2C%20%27%23f0f0f0%27%2C%20%27%23d9d9d9%27%2C%20%27%23bdbdbd%27%2C%20%27%23969696%27%2C%20%27%23737373%27%2C%20%27%23525252%27%2C%20%27%23252525%27%2C%20%27%23000000%27%5D%2C%0A%20%20%20%20YlOrRd%3A%20%5B%27%23ffffcc%27%2C%20%27%23ffeda0%27%2C%20%27%23fed976%27%2C%20%27%23feb24c%27%2C%20%27%23fd8d3c%27%2C%20%27%23fc4e2a%27%2C%20%27%23e31a1c%27%2C%20%27%23bd0026%27%2C%20%27%23800026%27%5D%2C%0A%20%20%20%20PuRd%3A%20%5B%27%23f7f4f9%27%2C%20%27%23e7e1ef%27%2C%20%27%23d4b9da%27%2C%20%27%23c994c7%27%2C%20%27%23df65b0%27%2C%20%27%23e7298a%27%2C%20%27%23ce1256%27%2C%20%27%23980043%27%2C%20%27%2367001f%27%5D%2C%0A%20%20%20%20Blues%3A%20%5B%27%23f7fbff%27%2C%20%27%23deebf7%27%2C%20%27%23c6dbef%27%2C%20%27%239ecae1%27%2C%20%27%236baed6%27%2C%20%27%234292c6%27%2C%20%27%232171b5%27%2C%20%27%2308519c%27%2C%20%27%2308306b%27%5D%2C%0A%20%20%20%20PuBuGn%3A%20%5B%27%23fff7fb%27%2C%20%27%23ece2f0%27%2C%20%27%23d0d1e6%27%2C%20%27%23a6bddb%27%2C%20%27%2367a9cf%27%2C%20%27%233690c0%27%2C%20%27%2302818a%27%2C%20%27%23016c59%27%2C%20%27%23014636%27%5D%2C%0A%20%20%20%20Spectral%3A%20%5B%27%239e0142%27%2C%20%27%23d53e4f%27%2C%20%27%23f46d43%27%2C%20%27%23fdae61%27%2C%20%27%23fee08b%27%2C%20%27%23ffffbf%27%2C%20%27%23e6f598%27%2C%20%27%23abdda4%27%2C%20%27%2366c2a5%27%2C%20%27%233288bd%27%2C%20%27%235e4fa2%27%5D%2C%0A%20%20%20%20RdYlGn%3A%20%5B%27%23a50026%27%2C%20%27%23d73027%27%2C%20%27%23f46d43%27%2C%20%27%23fdae61%27%2C%20%27%23fee08b%27%2C%20%27%23ffffbf%27%2C%20%27%23d9ef8b%27%2C%20%27%23a6d96a%27%2C%20%27%2366bd63%27%2C%20%27%231a9850%27%2C%20%27%23006837%27%5D%2C%0A%20%20%20%20RdBu%3A%20%5B%27%2367001f%27%2C%20%27%23b2182b%27%2C%20%27%23d6604d%27%2C%20%27%23f4a582%27%2C%20%27%23fddbc7%27%2C%20%27%23f7f7f7%27%2C%20%27%23d1e5f0%27%2C%20%27%2392c5de%27%2C%20%27%234393c3%27%2C%20%27%232166ac%27%2C%20%27%23053061%27%5D%2C%0A%20%20%20%20PiYG%3A%20%5B%27%238e0152%27%2C%20%27%23c51b7d%27%2C%20%27%23de77ae%27%2C%20%27%23f1b6da%27%2C%20%27%23fde0ef%27%2C%20%27%23f7f7f7%27%2C%20%27%23e6f5d0%27%2C%20%27%23b8e186%27%2C%20%27%237fbc41%27%2C%20%27%234d9221%27%2C%20%27%23276419%27%5D%2C%0A%20%20%20%20PRGn%3A%20%5B%27%2340004b%27%2C%20%27%23762a83%27%2C%20%27%239970ab%27%2C%20%27%23c2a5cf%27%2C%20%27%23e7d4e8%27%2C%20%27%23f7f7f7%27%2C%20%27%23d9f0d3%27%2C%20%27%23a6dba0%27%2C%20%27%235aae61%27%2C%20%27%231b7837%27%2C%20%27%2300441b%27%5D%2C%0A%20%20%20%20RdYlBu%3A%20%5B%27%23a50026%27%2C%20%27%23d73027%27%2C%20%27%23f46d43%27%2C%20%27%23fdae61%27%2C%20%27%23fee090%27%2C%20%27%23ffffbf%27%2C%20%27%23e0f3f8%27%2C%20%27%23abd9e9%27%2C%20%27%2374add1%27%2C%20%27%234575b4%27%2C%20%27%23313695%27%5D%2C%0A%20%20%20%20BrBG%3A%20%5B%27%23543005%27%2C%20%27%238c510a%27%2C%20%27%23bf812d%27%2C%20%27%23dfc27d%27%2C%20%27%23f6e8c3%27%2C%20%27%23f5f5f5%27%2C%20%27%23c7eae5%27%2C%20%27%2380cdc1%27%2C%20%27%2335978f%27%2C%20%27%2301665e%27%2C%20%27%23003c30%27%5D%2C%0A%20%20%20%20RdGy%3A%20%5B%27%2367001f%27%2C%20%27%23b2182b%27%2C%20%27%23d6604d%27%2C%20%27%23f4a582%27%2C%20%27%23fddbc7%27%2C%20%27%23ffffff%27%2C%20%27%23e0e0e0%27%2C%20%27%23bababa%27%2C%20%27%23878787%27%2C%20%27%234d4d4d%27%2C%20%27%231a1a1a%27%5D%2C%0A%20%20%20%20PuOr%3A%20%5B%27%237f3b08%27%2C%20%27%23b35806%27%2C%20%27%23e08214%27%2C%20%27%23fdb863%27%2C%20%27%23fee0b6%27%2C%20%27%23f7f7f7%27%2C%20%27%23d8daeb%27%2C%20%27%23b2abd2%27%2C%20%27%238073ac%27%2C%20%27%23542788%27%2C%20%27%232d004b%27%5D%2C%0A%20%20%20%20Set2%3A%20%5B%27%2366c2a5%27%2C%20%27%23fc8d62%27%2C%20%27%238da0cb%27%2C%20%27%23e78ac3%27%2C%20%27%23a6d854%27%2C%20%27%23ffd92f%27%2C%20%27%23e5c494%27%2C%20%27%23b3b3b3%27%5D%2C%0A%20%20%20%20Accent%3A%20%5B%27%237fc97f%27%2C%20%27%23beaed4%27%2C%20%27%23fdc086%27%2C%20%27%23ffff99%27%2C%20%27%23386cb0%27%2C%20%27%23f0027f%27%2C%20%27%23bf5b17%27%2C%20%27%23666666%27%5D%2C%0A%20%20%20%20Set1%3A%20%5B%27%23e41a1c%27%2C%20%27%23377eb8%27%2C%20%27%234daf4a%27%2C%20%27%23984ea3%27%2C%20%27%23ff7f00%27%2C%20%27%23ffff33%27%2C%20%27%23a65628%27%2C%20%27%23f781bf%27%2C%20%27%23999999%27%5D%2C%0A%20%20%20%20Set3%3A%20%5B%27%238dd3c7%27%2C%20%27%23ffffb3%27%2C%20%27%23bebada%27%2C%20%27%23fb8072%27%2C%20%27%2380b1d3%27%2C%20%27%23fdb462%27%2C%20%27%23b3de69%27%2C%20%27%23fccde5%27%2C%20%27%23d9d9d9%27%2C%20%27%23bc80bd%27%2C%20%27%23ccebc5%27%2C%20%27%23ffed6f%27%5D%2C%0A%20%20%20%20Dark2%3A%20%5B%27%231b9e77%27%2C%20%27%23d95f02%27%2C%20%27%237570b3%27%2C%20%27%23e7298a%27%2C%20%27%2366a61e%27%2C%20%27%23e6ab02%27%2C%20%27%23a6761d%27%2C%20%27%23666666%27%5D%2C%0A%20%20%20%20Paired%3A%20%5B%27%23a6cee3%27%2C%20%27%231f78b4%27%2C%20%27%23b2df8a%27%2C%20%27%2333a02c%27%2C%20%27%23fb9a99%27%2C%20%27%23e31a1c%27%2C%20%27%23fdbf6f%27%2C%20%27%23ff7f00%27%2C%20%27%23cab2d6%27%2C%20%27%236a3d9a%27%2C%20%27%23ffff99%27%2C%20%27%23b15928%27%5D%2C%0A%20%20%20%20Pastel2%3A%20%5B%27%23b3e2cd%27%2C%20%27%23fdcdac%27%2C%20%27%23cbd5e8%27%2C%20%27%23f4cae4%27%2C%20%27%23e6f5c9%27%2C%20%27%23fff2ae%27%2C%20%27%23f1e2cc%27%2C%20%27%23cccccc%27%5D%2C%0A%20%20%20%20Pastel1%3A%20%5B%27%23fbb4ae%27%2C%20%27%23b3cde3%27%2C%20%27%23ccebc5%27%2C%20%27%23decbe4%27%2C%20%27%23fed9a6%27%2C%20%27%23ffffcc%27%2C%20%27%23e5d8bd%27%2C%20%27%23fddaec%27%2C%20%27%23f2f2f2%27%5D%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%2A%0A%20%20%09X11%20color%20names%0A%20%20%0A%20%20%09http%3A%2F%2Fwww%2Ew3%2Eorg%2FTR%2Fcss3%2Dcolor%2F%23svg%2Dcolor%0A%20%20%20%2A%2F%0A%0A%20%20chroma%2Ecolors%20%3D%20colors%20%3D%20%7B%0A%20%20%20%20indigo%3A%20%22%234b0082%22%2C%0A%20%20%20%20gold%3A%20%22%23ffd700%22%2C%0A%20%20%20%20hotpink%3A%20%22%23ff69b4%22%2C%0A%20%20%20%20firebrick%3A%20%22%23b22222%22%2C%0A%20%20%20%20indianred%3A%20%22%23cd5c5c%22%2C%0A%20%20%20%20yellow%3A%20%22%23ffff00%22%2C%0A%20%20%20%20mistyrose%3A%20%22%23ffe4e1%22%2C%0A%20%20%20%20darkolivegreen%3A%20%22%23556b2f%22%2C%0A%20%20%20%20olive%3A%20%22%23808000%22%2C%0A%20%20%20%20darkseagreen%3A%20%22%238fbc8f%22%2C%0A%20%20%20%20pink%3A%20%22%23ffc0cb%22%2C%0A%20%20%20%20tomato%3A%20%22%23ff6347%22%2C%0A%20%20%20%20lightcoral%3A%20%22%23f08080%22%2C%0A%20%20%20%20orangered%3A%20%22%23ff4500%22%2C%0A%20%20%20%20navajowhite%3A%20%22%23ffdead%22%2C%0A%20%20%20%20lime%3A%20%22%2300ff00%22%2C%0A%20%20%20%20palegreen%3A%20%22%2398fb98%22%2C%0A%20%20%20%20darkslategrey%3A%20%22%232f4f4f%22%2C%0A%20%20%20%20greenyellow%3A%20%22%23adff2f%22%2C%0A%20%20%20%20burlywood%3A%20%22%23deb887%22%2C%0A%20%20%20%20seashell%3A%20%22%23fff5ee%22%2C%0A%20%20%20%20mediumspringgreen%3A%20%22%2300fa9a%22%2C%0A%20%20%20%20fuchsia%3A%20%22%23ff00ff%22%2C%0A%20%20%20%20papayawhip%3A%20%22%23ffefd5%22%2C%0A%20%20%20%20blanchedalmond%3A%20%22%23ffebcd%22%2C%0A%20%20%20%20chartreuse%3A%20%22%237fff00%22%2C%0A%20%20%20%20dimgray%3A%20%22%23696969%22%2C%0A%20%20%20%20black%3A%20%22%23000000%22%2C%0A%20%20%20%20peachpuff%3A%20%22%23ffdab9%22%2C%0A%20%20%20%20springgreen%3A%20%22%2300ff7f%22%2C%0A%20%20%20%20aquamarine%3A%20%22%237fffd4%22%2C%0A%20%20%20%20white%3A%20%22%23ffffff%22%2C%0A%20%20%20%20orange%3A%20%22%23ffa500%22%2C%0A%20%20%20%20lightsalmon%3A%20%22%23ffa07a%22%2C%0A%20%20%20%20darkslategray%3A%20%22%232f4f4f%22%2C%0A%20%20%20%20brown%3A%20%22%23a52a2a%22%2C%0A%20%20%20%20ivory%3A%20%22%23fffff0%22%2C%0A%20%20%20%20dodgerblue%3A%20%22%231e90ff%22%2C%0A%20%20%20%20peru%3A%20%22%23cd853f%22%2C%0A%20%20%20%20lawngreen%3A%20%22%237cfc00%22%2C%0A%20%20%20%20chocolate%3A%20%22%23d2691e%22%2C%0A%20%20%20%20crimson%3A%20%22%23dc143c%22%2C%0A%20%20%20%20forestgreen%3A%20%22%23228b22%22%2C%0A%20%20%20%20darkgrey%3A%20%22%23a9a9a9%22%2C%0A%20%20%20%20lightseagreen%3A%20%22%2320b2aa%22%2C%0A%20%20%20%20cyan%3A%20%22%2300ffff%22%2C%0A%20%20%20%20mintcream%3A%20%22%23f5fffa%22%2C%0A%20%20%20%20silver%3A%20%22%23c0c0c0%22%2C%0A%20%20%20%20antiquewhite%3A%20%22%23faebd7%22%2C%0A%20%20%20%20mediumorchid%3A%20%22%23ba55d3%22%2C%0A%20%20%20%20skyblue%3A%20%22%2387ceeb%22%2C%0A%20%20%20%20gray%3A%20%22%23808080%22%2C%0A%20%20%20%20darkturquoise%3A%20%22%2300ced1%22%2C%0A%20%20%20%20goldenrod%3A%20%22%23daa520%22%2C%0A%20%20%20%20darkgreen%3A%20%22%23006400%22%2C%0A%20%20%20%20floralwhite%3A%20%22%23fffaf0%22%2C%0A%20%20%20%20darkviolet%3A%20%22%239400d3%22%2C%0A%20%20%20%20darkgray%3A%20%22%23a9a9a9%22%2C%0A%20%20%20%20moccasin%3A%20%22%23ffe4b5%22%2C%0A%20%20%20%20saddlebrown%3A%20%22%238b4513%22%2C%0A%20%20%20%20grey%3A%20%22%23808080%22%2C%0A%20%20%20%20darkslateblue%3A%20%22%23483d8b%22%2C%0A%20%20%20%20lightskyblue%3A%20%22%2387cefa%22%2C%0A%20%20%20%20lightpink%3A%20%22%23ffb6c1%22%2C%0A%20%20%20%20mediumvioletred%3A%20%22%23c71585%22%2C%0A%20%20%20%20slategrey%3A%20%22%23708090%22%2C%0A%20%20%20%20red%3A%20%22%23ff0000%22%2C%0A%20%20%20%20deeppink%3A%20%22%23ff1493%22%2C%0A%20%20%20%20limegreen%3A%20%22%2332cd32%22%2C%0A%20%20%20%20darkmagenta%3A%20%22%238b008b%22%2C%0A%20%20%20%20palegoldenrod%3A%20%22%23eee8aa%22%2C%0A%20%20%20%20plum%3A%20%22%23dda0dd%22%2C%0A%20%20%20%20turquoise%3A%20%22%2340e0d0%22%2C%0A%20%20%20%20lightgrey%3A%20%22%23d3d3d3%22%2C%0A%20%20%20%20lightgoldenrodyellow%3A%20%22%23fafad2%22%2C%0A%20%20%20%20darkgoldenrod%3A%20%22%23b8860b%22%2C%0A%20%20%20%20lavender%3A%20%22%23e6e6fa%22%2C%0A%20%20%20%20maroon%3A%20%22%23800000%22%2C%0A%20%20%20%20yellowgreen%3A%20%22%239acd32%22%2C%0A%20%20%20%20sandybrown%3A%20%22%23f4a460%22%2C%0A%20%20%20%20thistle%3A%20%22%23d8bfd8%22%2C%0A%20%20%20%20violet%3A%20%22%23ee82ee%22%2C%0A%20%20%20%20navy%3A%20%22%23000080%22%2C%0A%20%20%20%20magenta%3A%20%22%23ff00ff%22%2C%0A%20%20%20%20dimgrey%3A%20%22%23696969%22%2C%0A%20%20%20%20tan%3A%20%22%23d2b48c%22%2C%0A%20%20%20%20rosybrown%3A%20%22%23bc8f8f%22%2C%0A%20%20%20%20olivedrab%3A%20%22%236b8e23%22%2C%0A%20%20%20%20blue%3A%20%22%230000ff%22%2C%0A%20%20%20%20lightblue%3A%20%22%23add8e6%22%2C%0A%20%20%20%20ghostwhite%3A%20%22%23f8f8ff%22%2C%0A%20%20%20%20honeydew%3A%20%22%23f0fff0%22%2C%0A%20%20%20%20cornflowerblue%3A%20%22%236495ed%22%2C%0A%20%20%20%20slateblue%3A%20%22%236a5acd%22%2C%0A%20%20%20%20linen%3A%20%22%23faf0e6%22%2C%0A%20%20%20%20darkblue%3A%20%22%2300008b%22%2C%0A%20%20%20%20powderblue%3A%20%22%23b0e0e6%22%2C%0A%20%20%20%20seagreen%3A%20%22%232e8b57%22%2C%0A%20%20%20%20darkkhaki%3A%20%22%23bdb76b%22%2C%0A%20%20%20%20snow%3A%20%22%23fffafa%22%2C%0A%20%20%20%20sienna%3A%20%22%23a0522d%22%2C%0A%20%20%20%20mediumblue%3A%20%22%230000cd%22%2C%0A%20%20%20%20royalblue%3A%20%22%234169e1%22%2C%0A%20%20%20%20lightcyan%3A%20%22%23e0ffff%22%2C%0A%20%20%20%20green%3A%20%22%23008000%22%2C%0A%20%20%20%20mediumpurple%3A%20%22%239370db%22%2C%0A%20%20%20%20midnightblue%3A%20%22%23191970%22%2C%0A%20%20%20%20cornsilk%3A%20%22%23fff8dc%22%2C%0A%20%20%20%20paleturquoise%3A%20%22%23afeeee%22%2C%0A%20%20%20%20bisque%3A%20%22%23ffe4c4%22%2C%0A%20%20%20%20slategray%3A%20%22%23708090%22%2C%0A%20%20%20%20darkcyan%3A%20%22%23008b8b%22%2C%0A%20%20%20%20khaki%3A%20%22%23f0e68c%22%2C%0A%20%20%20%20wheat%3A%20%22%23f5deb3%22%2C%0A%20%20%20%20teal%3A%20%22%23008080%22%2C%0A%20%20%20%20darkorchid%3A%20%22%239932cc%22%2C%0A%20%20%20%20deepskyblue%3A%20%22%2300bfff%22%2C%0A%20%20%20%20salmon%3A%20%22%23fa8072%22%2C%0A%20%20%20%20darkred%3A%20%22%238b0000%22%2C%0A%20%20%20%20steelblue%3A%20%22%234682b4%22%2C%0A%20%20%20%20palevioletred%3A%20%22%23db7093%22%2C%0A%20%20%20%20lightslategray%3A%20%22%23778899%22%2C%0A%20%20%20%20aliceblue%3A%20%22%23f0f8ff%22%2C%0A%20%20%20%20lightslategrey%3A%20%22%23778899%22%2C%0A%20%20%20%20lightgreen%3A%20%22%2390ee90%22%2C%0A%20%20%20%20orchid%3A%20%22%23da70d6%22%2C%0A%20%20%20%20gainsboro%3A%20%22%23dcdcdc%22%2C%0A%20%20%20%20mediumseagreen%3A%20%22%233cb371%22%2C%0A%20%20%20%20lightgray%3A%20%22%23d3d3d3%22%2C%0A%20%20%20%20mediumturquoise%3A%20%22%2348d1cc%22%2C%0A%20%20%20%20lemonchiffon%3A%20%22%23fffacd%22%2C%0A%20%20%20%20cadetblue%3A%20%22%235f9ea0%22%2C%0A%20%20%20%20lightyellow%3A%20%22%23ffffe0%22%2C%0A%20%20%20%20lavenderblush%3A%20%22%23fff0f5%22%2C%0A%20%20%20%20coral%3A%20%22%23ff7f50%22%2C%0A%20%20%20%20purple%3A%20%22%23800080%22%2C%0A%20%20%20%20aqua%3A%20%22%2300ffff%22%2C%0A%20%20%20%20whitesmoke%3A%20%22%23f5f5f5%22%2C%0A%20%20%20%20mediumslateblue%3A%20%22%237b68ee%22%2C%0A%20%20%20%20darkorange%3A%20%22%23ff8c00%22%2C%0A%20%20%20%20mediumaquamarine%3A%20%22%2366cdaa%22%2C%0A%20%20%20%20darksalmon%3A%20%22%23e9967a%22%2C%0A%20%20%20%20beige%3A%20%22%23f5f5dc%22%2C%0A%20%20%20%20blueviolet%3A%20%22%238a2be2%22%2C%0A%20%20%20%20azure%3A%20%22%23f0ffff%22%2C%0A%20%20%20%20lightsteelblue%3A%20%22%23b0c4de%22%2C%0A%20%20%20%20oldlace%3A%20%22%23fdf5e6%22%2C%0A%20%20%20%20rebeccapurple%3A%20%22%23663399%22%0A%20%20%7D%3B%0A%0A%0A%20%20%2F%2A%0A%20%20%20%20%20%20chroma%2Ejs%0A%20%20%0A%20%20%20%20%20%20Copyright%20%28c%29%202011%2D2013%2C%20Gregor%20Aisch%0A%20%20%20%20%20%20All%20rights%20reserved%2E%0A%20%20%0A%20%20%20%20%20%20Redistribution%20and%20use%20in%20source%20and%20binary%20forms%2C%20with%20or%20without%0A%20%20%20%20%20%20modification%2C%20are%20permitted%20provided%20that%20the%20following%20conditions%20are%20met%3A%0A%20%20%0A%20%20%20%20%20%20%2A%20Redistributions%20of%20source%20code%20must%20retain%20the%20above%20copyright%20notice%2C%20this%0A%20%20%20%20%20%20%20%20list%20of%20conditions%20and%20the%20following%20disclaimer%2E%0A%20%20%0A%20%20%20%20%20%20%2A%20Redistributions%20in%20binary%20form%20must%20reproduce%20the%20above%20copyright%20notice%2C%0A%20%20%20%20%20%20%20%20this%20list%20of%20conditions%20and%20the%20following%20disclaimer%20in%20the%20documentation%0A%20%20%20%20%20%20%20%20and%2For%20other%20materials%20provided%20with%20the%20distribution%2E%0A%20%20%0A%20%20%20%20%20%20%2A%20The%20name%20Gregor%20Aisch%20may%20not%20be%20used%20to%20endorse%20or%20promote%20products%0A%20%20%20%20%20%20%20%20derived%20from%20this%20software%20without%20specific%20prior%20written%20permission%2E%0A%20%20%0A%20%20%20%20%20%20THIS%20SOFTWARE%20IS%20PROVIDED%20BY%20THE%20COPYRIGHT%20HOLDERS%20AND%20CONTRIBUTORS%20%22AS%20IS%22%0A%20%20%20%20%20%20AND%20ANY%20EXPRESS%20OR%20IMPLIED%20WARRANTIES%2C%20INCLUDING%2C%20BUT%20NOT%20LIMITED%20TO%2C%20THE%0A%20%20%20%20%20%20IMPLIED%20WARRANTIES%20OF%20MERCHANTABILITY%20AND%20FITNESS%20FOR%20A%20PARTICULAR%20PURPOSE%20ARE%0A%20%20%20%20%20%20DISCLAIMED%2E%20IN%20NO%20EVENT%20SHALL%20GREGOR%20AISCH%20OR%20CONTRIBUTORS%20BE%20LIABLE%20FOR%20ANY%20DIRECT%2C%0A%20%20%20%20%20%20INDIRECT%2C%20INCIDENTAL%2C%20SPECIAL%2C%20EXEMPLARY%2C%20OR%20CONSEQUENTIAL%20DAMAGES%20%28INCLUDING%2C%0A%20%20%20%20%20%20BUT%20NOT%20LIMITED%20TO%2C%20PROCUREMENT%20OF%20SUBSTITUTE%20GOODS%20OR%20SERVICES%3B%20LOSS%20OF%20USE%2C%0A%20%20%20%20%20%20DATA%2C%20OR%20PROFITS%3B%20OR%20BUSINESS%20INTERRUPTION%29%20HOWEVER%20CAUSED%20AND%20ON%20ANY%20THEORY%0A%20%20%20%20%20%20OF%20LIABILITY%2C%20WHETHER%20IN%20CONTRACT%2C%20STRICT%20LIABILITY%2C%20OR%20TORT%20%28INCLUDING%0A%20%20%20%20%20%20NEGLIGENCE%20OR%20OTHERWISE%29%20ARISING%20IN%20ANY%20WAY%20OUT%20OF%20THE%20USE%20OF%20THIS%20SOFTWARE%2C%0A%20%20%20%20%20%20EVEN%20IF%20ADVISED%20OF%20THE%20POSSIBILITY%20OF%20SUCH%20DAMAGE%2E%0A%20%20%0A%20%20%20%20%20%20%40source%3A%20https%3A%2F%2Fgithub%2Ecom%2Fgka%2Fchroma%2Ejs%0A%20%20%20%2A%2F%0A%0A%20%20type%20%3D%20%28function%28%29%20%7B%0A%0A%20%20%20%20%2F%2A%0A%20%20%20%20for%20browser%2Dsafe%20type%20checking%2B%0A%20%20%20%20ported%20from%20jQuery%27s%20%24%2Etype%0A%20%20%20%20%20%2A%2F%0A%20%20%20%20var%20classToType%2C%20len%2C%20name%2C%20o%2C%20ref%3B%0A%20%20%20%20classToType%20%3D%20%7B%7D%3B%0A%20%20%20%20ref%20%3D%20%22Boolean%20Number%20String%20Function%20Array%20Date%20RegExp%20Undefined%20Null%22%2Esplit%28%22%20%22%29%3B%0A%20%20%20%20for%20%28o%20%3D%200%2C%20len%20%3D%20ref%2Elength%3B%20o%20%3C%20len%3B%20o%2B%2B%29%20%7B%0A%20%20%20%20%20%20name%20%3D%20ref%5Bo%5D%3B%0A%20%20%20%20%20%20classToType%5B%22%5Bobject%20%22%20%2B%20name%20%2B%20%22%5D%22%5D%20%3D%20name%2EtoLowerCase%28%29%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20function%28obj%29%20%7B%0A%20%20%20%20%20%20var%20strType%3B%0A%20%20%20%20%20%20strType%20%3D%20Object%2Eprototype%2EtoString%2Ecall%28obj%29%3B%0A%20%20%20%20%20%20return%20classToType%5BstrType%5D%20%7C%7C%20%22object%22%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%29%28%29%3B%0A%0A%20%20limit%20%3D%20function%28x%2C%20min%2C%20max%29%20%7B%0A%20%20%20%20if%20%28min%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20min%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28max%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20max%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28x%20%3C%20min%29%20%7B%0A%20%20%20%20%20%20x%20%3D%20min%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28x%20%3E%20max%29%20%7B%0A%20%20%20%20%20%20x%20%3D%20max%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20x%3B%0A%20%20%7D%3B%0A%0A%20%20unpack%20%3D%20function%28args%29%20%7B%0A%20%20%20%20if%20%28args%2Elength%20%3E%3D%203%29%20%7B%0A%20%20%20%20%20%20return%20args%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20args%5B0%5D%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20TWOPI%20%3D%20Math%2EPI%20%2A%202%3B%0A%0A%20%20PITHIRD%20%3D%20Math%2EPI%20%2F%203%3B%0A%0A%20%20round%20%3D%20Math%2Eround%2C%20cos%20%3D%20Math%2Ecos%2C%20floor%20%3D%20Math%2Efloor%2C%20pow%20%3D%20Math%2Epow%2C%20log%20%3D%20Math%2Elog%2C%20sin%20%3D%20Math%2Esin%3B%0A%0A%0A%20%20%2F%2A%0A%20%20interpolates%20between%20a%20set%20of%20colors%20uzing%20a%20bezier%20spline%0A%20%20%20%2A%2F%0A%0A%20%20bezier%20%3D%20function%28colors%29%20%7B%0A%20%20%20%20var%20I%2C%20I0%2C%20I1%2C%20c%2C%20lab0%2C%20lab1%2C%20lab2%2C%20lab3%2C%20ref%2C%20ref1%2C%20ref2%3B%0A%20%20%20%20colors%20%3D%20%28function%28%29%20%7B%0A%20%20%20%20%20%20var%20len%2C%20o%2C%20results%3B%0A%20%20%20%20%20%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28o%20%3D%200%2C%20len%20%3D%20colors%2Elength%3B%20o%20%3C%20len%3B%20o%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20c%20%3D%20colors%5Bo%5D%3B%0A%20%20%20%20%20%20%20%20results%2Epush%28chroma%28c%29%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20results%3B%0A%20%20%20%20%7D%29%28%29%3B%0A%20%20%20%20if%20%28colors%2Elength%20%3D%3D%3D%202%29%20%7B%0A%20%20%20%20%20%20ref%20%3D%20%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20len%2C%20o%2C%20results%3B%0A%20%20%20%20%20%20%20%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20for%20%28o%20%3D%200%2C%20len%20%3D%20colors%2Elength%3B%20o%20%3C%20len%3B%20o%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20colors%5Bo%5D%3B%0A%20%20%20%20%20%20%20%20%20%20results%2Epush%28c%2Elab%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20results%3B%0A%20%20%20%20%20%20%7D%29%28%29%2C%20lab0%20%3D%20ref%5B0%5D%2C%20lab1%20%3D%20ref%5B1%5D%3B%0A%20%20%20%20%20%20I%20%3D%20function%28t%29%20%7B%0A%20%20%20%20%20%20%20%20var%20i%2C%20lab%3B%0A%20%20%20%20%20%20%20%20lab%20%3D%20%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20o%2C%20results%3B%0A%20%20%20%20%20%20%20%20%20%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%20o%20%3D%200%3B%20o%20%3C%3D%202%3B%20i%20%3D%20%2B%2Bo%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20results%2Epush%28lab0%5Bi%5D%20%2B%20t%20%2A%20%28lab1%5Bi%5D%20%2D%20lab0%5Bi%5D%29%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20results%3B%0A%20%20%20%20%20%20%20%20%7D%29%28%29%3B%0A%20%20%20%20%20%20%20%20return%20chroma%2Elab%2Eapply%28chroma%2C%20lab%29%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%20else%20if%20%28colors%2Elength%20%3D%3D%3D%203%29%20%7B%0A%20%20%20%20%20%20ref1%20%3D%20%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20len%2C%20o%2C%20results%3B%0A%20%20%20%20%20%20%20%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20for%20%28o%20%3D%200%2C%20len%20%3D%20colors%2Elength%3B%20o%20%3C%20len%3B%20o%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20colors%5Bo%5D%3B%0A%20%20%20%20%20%20%20%20%20%20results%2Epush%28c%2Elab%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20results%3B%0A%20%20%20%20%20%20%7D%29%28%29%2C%20lab0%20%3D%20ref1%5B0%5D%2C%20lab1%20%3D%20ref1%5B1%5D%2C%20lab2%20%3D%20ref1%5B2%5D%3B%0A%20%20%20%20%20%20I%20%3D%20function%28t%29%20%7B%0A%20%20%20%20%20%20%20%20var%20i%2C%20lab%3B%0A%20%20%20%20%20%20%20%20lab%20%3D%20%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20o%2C%20results%3B%0A%20%20%20%20%20%20%20%20%20%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%20o%20%3D%200%3B%20o%20%3C%3D%202%3B%20i%20%3D%20%2B%2Bo%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20results%2Epush%28%281%20%2D%20t%29%20%2A%20%281%20%2D%20t%29%20%2A%20lab0%5Bi%5D%20%2B%202%20%2A%20%281%20%2D%20t%29%20%2A%20t%20%2A%20lab1%5Bi%5D%20%2B%20t%20%2A%20t%20%2A%20lab2%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20results%3B%0A%20%20%20%20%20%20%20%20%7D%29%28%29%3B%0A%20%20%20%20%20%20%20%20return%20chroma%2Elab%2Eapply%28chroma%2C%20lab%29%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%20else%20if%20%28colors%2Elength%20%3D%3D%3D%204%29%20%7B%0A%20%20%20%20%20%20ref2%20%3D%20%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20var%20len%2C%20o%2C%20results%3B%0A%20%20%20%20%20%20%20%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20for%20%28o%20%3D%200%2C%20len%20%3D%20colors%2Elength%3B%20o%20%3C%20len%3B%20o%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20c%20%3D%20colors%5Bo%5D%3B%0A%20%20%20%20%20%20%20%20%20%20results%2Epush%28c%2Elab%28%29%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20return%20results%3B%0A%20%20%20%20%20%20%7D%29%28%29%2C%20lab0%20%3D%20ref2%5B0%5D%2C%20lab1%20%3D%20ref2%5B1%5D%2C%20lab2%20%3D%20ref2%5B2%5D%2C%20lab3%20%3D%20ref2%5B3%5D%3B%0A%20%20%20%20%20%20I%20%3D%20function%28t%29%20%7B%0A%20%20%20%20%20%20%20%20var%20i%2C%20lab%3B%0A%20%20%20%20%20%20%20%20lab%20%3D%20%28function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20o%2C%20results%3B%0A%20%20%20%20%20%20%20%20%20%20results%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20for%20%28i%20%3D%20o%20%3D%200%3B%20o%20%3C%3D%202%3B%20i%20%3D%20%2B%2Bo%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20results%2Epush%28%281%20%2D%20t%29%20%2A%20%281%20%2D%20t%29%20%2A%20%281%20%2D%20t%29%20%2A%20lab0%5Bi%5D%20%2B%203%20%2A%20%281%20%2D%20t%29%20%2A%20%281%20%2D%20t%29%20%2A%20t%20%2A%20lab1%5Bi%5D%20%2B%203%20%2A%20%281%20%2D%20t%29%20%2A%20t%20%2A%20t%20%2A%20lab2%5Bi%5D%20%2B%20t%20%2A%20t%20%2A%20t%20%2A%20lab3%5Bi%5D%29%3B%0A%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20return%20results%3B%0A%20%20%20%20%20%20%20%20%7D%29%28%29%3B%0A%20%20%20%20%20%20%20%20return%20chroma%2Elab%2Eapply%28chroma%2C%20lab%29%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%20else%20if%20%28colors%2Elength%20%3D%3D%3D%205%29%20%7B%0A%20%20%20%20%20%20I0%20%3D%20bezier%28colors%2Eslice%280%2C%203%29%29%3B%0A%20%20%20%20%20%20I1%20%3D%20bezier%28colors%2Eslice%282%2C%205%29%29%3B%0A%20%20%20%20%20%20I%20%3D%20function%28t%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28t%20%3C%200%2E5%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20I0%28t%20%2A%202%29%3B%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20return%20I1%28%28t%20%2D%200%2E5%29%20%2A%202%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20I%3B%0A%20%20%7D%3B%0A%0A%20%20chroma%2Einterpolate%2Ebezier%20%3D%20bezier%3B%0A%0A%0A%20%20%2F%2A%0A%20%20interpolates%20between%20a%20set%20of%20colors%20uzing%20a%20bezier%20spline%0A%20%20%0A%20%20blend%20mode%20formulas%20taken%20from%3A%0A%20%20http%3A%2F%2Fwww%2Eventure%2Dware%2Ecom%2Fkevin%2Fcoding%2Flets%2Dlearn%2Dmath%2Dphotoshop%2Dblend%2Dmodes%2F%0A%20%20%20%2A%2F%0A%0A%20%20blend%20%3D%20function%28bottom%2C%20top%2C%20mode%29%20%7B%0A%20%20%20%20if%20%28%21blend%5Bmode%5D%29%20%7B%0A%20%20%20%20%20%20throw%20%27unknown%20blend%20mode%20%27%20%2B%20mode%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20blend%5Bmode%5D%28bottom%2C%20top%29%3B%0A%20%20%7D%3B%0A%0A%20%20blend%5Ff%20%3D%20function%28f%29%20%7B%0A%20%20%20%20return%20function%28bottom%2C%20top%29%20%7B%0A%20%20%20%20%20%20var%20c0%2C%20c1%3B%0A%20%20%20%20%20%20c0%20%3D%20chroma%28top%29%2Ergb%28%29%3B%0A%20%20%20%20%20%20c1%20%3D%20chroma%28bottom%29%2Ergb%28%29%3B%0A%20%20%20%20%20%20return%20chroma%28f%28c0%2C%20c1%29%2C%20%27rgb%27%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20each%20%3D%20function%28f%29%20%7B%0A%20%20%20%20return%20function%28c0%2C%20c1%29%20%7B%0A%20%20%20%20%20%20var%20i%2C%20o%2C%20out%3B%0A%20%20%20%20%20%20out%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28i%20%3D%20o%20%3D%200%3B%20o%20%3C%3D%203%3B%20i%20%3D%20%2B%2Bo%29%20%7B%0A%20%20%20%20%20%20%20%20out%5Bi%5D%20%3D%20f%28c0%5Bi%5D%2C%20c1%5Bi%5D%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20out%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%20%20normal%20%3D%20function%28a%2C%20b%29%20%7B%0A%20%20%20%20return%20a%3B%0A%20%20%7D%3B%0A%0A%20%20multiply%20%3D%20function%28a%2C%20b%29%20%7B%0A%20%20%20%20return%20a%20%2A%20b%20%2F%20255%3B%0A%20%20%7D%3B%0A%0A%20%20darken%20%3D%20function%28a%2C%20b%29%20%7B%0A%20%20%20%20if%20%28a%20%3E%20b%29%20%7B%0A%20%20%20%20%20%20return%20b%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20a%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20lighten%20%3D%20function%28a%2C%20b%29%20%7B%0A%20%20%20%20if%20%28a%20%3E%20b%29%20%7B%0A%20%20%20%20%20%20return%20a%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20b%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20screen%20%3D%20function%28a%2C%20b%29%20%7B%0A%20%20%20%20return%20255%20%2A%20%281%20%2D%20%281%20%2D%20a%20%2F%20255%29%20%2A%20%281%20%2D%20b%20%2F%20255%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20overlay%20%3D%20function%28a%2C%20b%29%20%7B%0A%20%20%20%20if%20%28b%20%3C%20128%29%20%7B%0A%20%20%20%20%20%20return%202%20%2A%20a%20%2A%20b%20%2F%20255%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20255%20%2A%20%281%20%2D%202%20%2A%20%281%20%2D%20a%20%2F%20255%29%20%2A%20%281%20%2D%20b%20%2F%20255%29%29%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20burn%20%3D%20function%28a%2C%20b%29%20%7B%0A%20%20%20%20return%20255%20%2A%20%281%20%2D%20%281%20%2D%20b%20%2F%20255%29%20%2F%20%28a%20%2F%20255%29%29%3B%0A%20%20%7D%3B%0A%0A%20%20dodge%20%3D%20function%28a%2C%20b%29%20%7B%0A%20%20%20%20if%20%28a%20%3D%3D%3D%20255%29%20%7B%0A%20%20%20%20%20%20return%20255%3B%0A%20%20%20%20%7D%0A%20%20%20%20a%20%3D%20255%20%2A%20%28b%20%2F%20255%29%20%2F%20%281%20%2D%20a%20%2F%20255%29%3B%0A%20%20%20%20if%20%28a%20%3E%20255%29%20%7B%0A%20%20%20%20%20%20return%20255%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20return%20a%3B%0A%20%20%20%20%7D%0A%20%20%7D%3B%0A%0A%20%20blend%2Enormal%20%3D%20blend%5Ff%28each%28normal%29%29%3B%0A%0A%20%20blend%2Emultiply%20%3D%20blend%5Ff%28each%28multiply%29%29%3B%0A%0A%20%20blend%2Escreen%20%3D%20blend%5Ff%28each%28screen%29%29%3B%0A%0A%20%20blend%2Eoverlay%20%3D%20blend%5Ff%28each%28overlay%29%29%3B%0A%0A%20%20blend%2Edarken%20%3D%20blend%5Ff%28each%28darken%29%29%3B%0A%0A%20%20blend%2Elighten%20%3D%20blend%5Ff%28each%28lighten%29%29%3B%0A%0A%20%20blend%2Edodge%20%3D%20blend%5Ff%28each%28dodge%29%29%3B%0A%0A%20%20blend%2Eburn%20%3D%20blend%5Ff%28each%28burn%29%29%3B%0A%0A%20%20chroma%2Eblend%20%3D%20blend%3B%0A%0A%0A%20%20%2F%2A%0A%20%20%20%20%20%20chroma%2Ejs%0A%20%20%0A%20%20%20%20%20%20Copyright%20%28c%29%202011%2D2013%2C%20Gregor%20Aisch%0A%20%20%20%20%20%20All%20rights%20reserved%2E%0A%20%20%0A%20%20%20%20%20%20Redistribution%20and%20use%20in%20source%20and%20binary%20forms%2C%20with%20or%20without%0A%20%20%20%20%20%20modification%2C%20are%20permitted%20provided%20that%20the%20following%20conditions%20are%20met%3A%0A%20%20%0A%20%20%20%20%20%20%2A%20Redistributions%20of%20source%20code%20must%20retain%20the%20above%20copyright%20notice%2C%20this%0A%20%20%20%20%20%20%20%20list%20of%20conditions%20and%20the%20following%20disclaimer%2E%0A%20%20%0A%20%20%20%20%20%20%2A%20Redistributions%20in%20binary%20form%20must%20reproduce%20the%20above%20copyright%20notice%2C%0A%20%20%20%20%20%20%20%20this%20list%20of%20conditions%20and%20the%20following%20disclaimer%20in%20the%20documentation%0A%20%20%20%20%20%20%20%20and%2For%20other%20materials%20provided%20with%20the%20distribution%2E%0A%20%20%0A%20%20%20%20%20%20%2A%20The%20name%20Gregor%20Aisch%20may%20not%20be%20used%20to%20endorse%20or%20promote%20products%0A%20%20%20%20%20%20%20%20derived%20from%20this%20software%20without%20specific%20prior%20written%20permission%2E%0A%20%20%0A%20%20%20%20%20%20THIS%20SOFTWARE%20IS%20PROVIDED%20BY%20THE%20COPYRIGHT%20HOLDERS%20AND%20CONTRIBUTORS%20%22AS%20IS%22%0A%20%20%20%20%20%20AND%20ANY%20EXPRESS%20OR%20IMPLIED%20WARRANTIES%2C%20INCLUDING%2C%20BUT%20NOT%20LIMITED%20TO%2C%20THE%0A%20%20%20%20%20%20IMPLIED%20WARRANTIES%20OF%20MERCHANTABILITY%20AND%20FITNESS%20FOR%20A%20PARTICULAR%20PURPOSE%20ARE%0A%20%20%20%20%20%20DISCLAIMED%2E%20IN%20NO%20EVENT%20SHALL%20GREGOR%20AISCH%20OR%20CONTRIBUTORS%20BE%20LIABLE%20FOR%20ANY%20DIRECT%2C%0A%20%20%20%20%20%20INDIRECT%2C%20INCIDENTAL%2C%20SPECIAL%2C%20EXEMPLARY%2C%20OR%20CONSEQUENTIAL%20DAMAGES%20%28INCLUDING%2C%0A%20%20%20%20%20%20BUT%20NOT%20LIMITED%20TO%2C%20PROCUREMENT%20OF%20SUBSTITUTE%20GOODS%20OR%20SERVICES%3B%20LOSS%20OF%20USE%2C%0A%20%20%20%20%20%20DATA%2C%20OR%20PROFITS%3B%20OR%20BUSINESS%20INTERRUPTION%29%20HOWEVER%20CAUSED%20AND%20ON%20ANY%20THEORY%0A%20%20%20%20%20%20OF%20LIABILITY%2C%20WHETHER%20IN%20CONTRACT%2C%20STRICT%20LIABILITY%2C%20OR%20TORT%20%28INCLUDING%0A%20%20%20%20%20%20NEGLIGENCE%20OR%20OTHERWISE%29%20ARISING%20IN%20ANY%20WAY%20OUT%20OF%20THE%20USE%20OF%20THIS%20SOFTWARE%2C%0A%20%20%20%20%20%20EVEN%20IF%20ADVISED%20OF%20THE%20POSSIBILITY%20OF%20SUCH%20DAMAGE%2E%0A%20%20%0A%20%20%20%20%20%20%40source%3A%20https%3A%2F%2Fgithub%2Ecom%2Fgka%2Fchroma%2Ejs%0A%20%20%20%2A%2F%0A%0A%20%20chroma%2Ecubehelix%20%3D%20function%28start%2C%20rotations%2C%20hue%2C%20gamma%2C%20lightness%29%20%7B%0A%20%20%20%20var%20dh%2C%20dl%3B%0A%20%20%20%20if%20%28start%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20start%20%3D%20300%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28rotations%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20rotations%20%3D%20%2D1%2E5%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28hue%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20hue%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28gamma%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20gamma%20%3D%201%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28lightness%20%3D%3D%20null%29%20%7B%0A%20%20%20%20%20%20lightness%20%3D%20%5B0%2C%201%5D%3B%0A%20%20%20%20%7D%0A%20%20%20%20dl%20%3D%20lightness%5B1%5D%20%2D%20lightness%5B0%5D%3B%0A%20%20%20%20if%20%28type%28hue%29%20%3D%3D%3D%20%27array%27%29%20%7B%0A%20%20%20%20%20%20dh%20%3D%20hue%5B1%5D%20%2D%20hue%5B0%5D%3B%0A%20%20%20%20%20%20if%20%28dh%20%3D%3D%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20hue%20%3D%20hue%5B1%5D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20dh%20%3D%200%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20function%28fract%29%20%7B%0A%20%20%20%20%20%20var%20a%2C%20amp%2C%20b%2C%20cos%5Fa%2C%20g%2C%20h%2C%20l%2C%20r%2C%20sin%5Fa%3B%0A%20%20%20%20%20%20a%20%3D%20TWOPI%20%2A%20%28%28start%20%2B%20120%29%20%2F%20360%20%2B%20rotations%20%2A%20fract%29%3B%0A%20%20%20%20%20%20l%20%3D%20pow%28lightness%5B0%5D%20%2B%20dl%20%2A%20fract%2C%20gamma%29%3B%0A%20%20%20%20%20%20h%20%3D%20dh%20%21%3D%3D%200%20%3F%20hue%5B0%5D%20%2B%20fract%20%2A%20dh%20%3A%20hue%3B%0A%20%20%20%20%20%20amp%20%3D%20h%20%2A%20l%20%2A%20%281%20%2D%20l%29%20%2F%202%3B%0A%20%20%20%20%20%20cos%5Fa%20%3D%20cos%28a%29%3B%0A%20%20%20%20%20%20sin%5Fa%20%3D%20sin%28a%29%3B%0A%20%20%20%20%20%20r%20%3D%20l%20%2B%20amp%20%2A%20%28%2D0%2E14861%20%2A%20cos%5Fa%20%2B%201%2E78277%20%2A%20sin%5Fa%29%3B%0A%20%20%20%20%20%20g%20%3D%20l%20%2B%20amp%20%2A%20%28%2D0%2E29227%20%2A%20cos%5Fa%20%2D%200%2E90649%20%2A%20sin%5Fa%29%3B%0A%20%20%20%20%20%20b%20%3D%20l%20%2B%20amp%20%2A%20%28%2B1%2E97294%20%2A%20cos%5Fa%29%3B%0A%20%20%20%20%20%20return%20chroma%28clip%5Frgb%28%5Br%20%2A%20255%2C%20g%20%2A%20255%2C%20b%20%2A%20255%5D%29%29%3B%0A%20%20%20%20%7D%3B%0A%20%20%7D%3B%0A%0A%7D%29%2Ecall%28this%29%3B%0A"></script>
<link href="data:text/css,%2Ehandsontable%20%2EcurrentRow%20%7B%0A%20%20background%2Dcolor%3A%20%23E7E8EF%3B%0A%7D%0A%0A%2Ehandsontable%20%2EcurrentCol%20%7B%0A%20%20background%2Dcolor%3A%20%23F9F9FB%3B%0A%7D%0A" rel="stylesheet" />
<script src="data:application/x-javascript,HTMLWidgets%2Ewidget%28%7B%0A%0A%20%20name%3A%20%27rhandsontable%27%2C%0A%0A%20%20type%3A%20%27output%27%2C%0A%0A%20%20initialize%3A%20function%28el%2C%20width%2C%20height%29%20%7B%0A%0A%20%20%20%20return%20%7B%0A%0A%20%20%20%20%7D%0A%0A%20%20%7D%2C%0A%0A%20%20renderValue%3A%20function%28el%2C%20x%2C%20instance%29%20%7B%0A%0A%20%20%20%20%2F%2F%20used%20to%20pass%20color%20to%20heatmap%0A%20%20%20%20hotParams%5Bel%2Eid%5D%20%3D%20x%3B%0A%0A%20%20%20%20%2F%2F%20convert%20json%20to%20array%0A%20%20%20%20x%2Edata%20%3D%20toArray%28x%2Edata%29%3B%0A%0A%20%20%20%20x%2EafterLoadData%20%3D%20this%2EupdateHeatmap%3B%0A%20%20%20%20x%2EbeforeChangeRender%20%3D%20this%2EupdateHeatmap%3B%0A%0A%20%20%20%20this%2EafterChangeCallback%28x%29%3B%0A%20%20%20%20this%2EafterRowAndColChange%28x%29%3B%0A%0A%20%20%20%20if%20%28x%2EselectCallback%29%20%7B%0A%20%20%20%20%20%20this%2EafterSelectCallback%28x%29%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20menu%5Fitems%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20if%20%28x%2EallowRowEdit%29%20%7B%0A%20%20%20%20%20%20menu%5Fitems%5B%22row%5Fabove%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20menu%5Fitems%5B%22row%5Fbelow%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20menu%5Fitems%5B%22hsep1%22%5D%20%3D%20%22%2D%2D%2D%2D%2D%2D%2D%2D%2D%22%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28x%2EallowColEdit%29%20%7B%0A%20%20%20%20%20%20menu%5Fitems%5B%22col%5Fleft%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20menu%5Fitems%5B%22col%5Fright%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20menu%5Fitems%5B%22hsep2%22%5D%20%3D%20%22%2D%2D%2D%2D%2D%2D%2D%2D%2D%22%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28x%2EallowRowEdit%29%20%7B%0A%20%20%20%20%20%20menu%5Fitems%5B%22remove%5Frow%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28x%2EallowColEdit%29%20%7B%0A%20%20%20%20%20%20menu%5Fitems%5B%22remove%5Fcol%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28x%2EallowRowEdit%20%7C%7C%20x%2EallowColEdit%29%20%7B%0A%20%20%20%20%20%20menu%5Fitems%5B%22hsep3%22%5D%20%3D%20%22%2D%2D%2D%2D%2D%2D%2D%2D%2D%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20menu%5Fitems%5B%22undo%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20menu%5Fitems%5B%22redo%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20menu%5Fitems%5B%22hsep4%22%5D%20%3D%20%22%2D%2D%2D%2D%2D%2D%2D%2D%2D%22%3B%0A%20%20%20%20menu%5Fitems%5B%22make%5Fread%5Fonly%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20menu%5Fitems%5B%22alignment%22%5D%20%3D%20%7B%7D%3B%0A%0A%20%20%20%20if%20%28x%2EcustomBorders%29%20%7B%0A%20%20%20%20%20%20menu%5Fitems%5B%22borders%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28x%2Ecomments%29%20%7B%0A%20%20%20%20%20%20menu%5Fitems%5B%22commentsAddEdit%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%20%20menu%5Fitems%5B%22commentsRemove%22%5D%20%3D%20%7B%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28x%2EexportToCsv%20%26%26%20%21HTMLWidgets%2EshinyMode%29%20%7B%0A%20%20%20%20%20%20menu%5Fitems%5B%22hsep5%22%5D%20%3D%20%22%2D%2D%2D%2D%2D%2D%2D%2D%2D%22%3B%0A%20%20%20%20%20%20menu%5Fitems%5B%22csv%22%5D%20%3D%20%7B%22name%22%3A%20%22Export%20to%20csv%22%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20x%2EcontextMenu%20%3D%20%7B%0A%20%20%20%20%20%20callback%3A%20function%20%28key%2C%20options%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28key%20%3D%3D%3D%20%27csv%27%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20csvDownload%28instance%2Ehot%2C%20%22filename%2Ecsv%22%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20items%3A%20menu%5Fitems%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28instance%2Ehot%29%20%7B%20%2F%2F%20update%20existing%20instance%0A%0A%20%20%20%20%20%20instance%2Ehot%2EupdateSettings%28x%29%3B%0A%0A%20%20%20%20%7D%20else%20%7B%20%20%2F%2F%20create%20new%20instance%0A%0A%20%20%20%20%20%20instance%2Ehot%20%3D%20new%20Handsontable%28el%2C%20x%29%3B%0A%0A%20%20%20%20%7D%0A%0A%20%20%7D%2C%0A%0A%20%20resize%3A%20function%28el%2C%20width%2C%20height%2C%20instance%29%20%7B%0A%0A%20%20%20%20instance%2Ehot%2EupdateSettings%28%7B%20width%3A%20width%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20height%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%2C%0A%0A%20%20afterChangeCallback%3A%20function%28x%29%20%7B%0A%0A%20%20%20%20x%2EafterChange%20%3D%20function%28changes%2C%20source%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28HTMLWidgets%2EshinyMode%20%26%26%20changes%29%20%7B%0A%20%20%20%20%20%20%20%20Shiny%2EonInputChange%28this%2ErootElement%2Eid%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20data%3A%20this%2EgetData%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20changes%3A%20%7B%20event%3A%20%22afterChange%22%2C%20changes%3A%20changes%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20params%3A%20hotParams%5Bthis%2ErootElement%2Eid%5D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%3B%0A%20%20%7D%2C%0A%0A%20%20afterSelectCallback%3A%20function%28x%29%20%7B%0A%0A%20%20%20%20x%2EafterSelectionEnd%20%3D%20function%28r%2C%20c%2C%20r2%2C%20c2%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28HTMLWidgets%2EshinyMode%29%20%7B%0A%20%20%20%20%20%20%20%20Shiny%2EonInputChange%28this%2ErootElement%2Eid%20%2B%20%22%5Fselect%22%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20data%3A%20this%2EgetData%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20select%3A%20%7B%20r%3A%20r%2C%20c%3A%20c%2C%20r2%3A%20r2%2C%20c2%3A%20c2%7D%2C%0A%20%20%20%20%20%20%20%20%20%20params%3A%20hotParams%5Bthis%2ErootElement%2Eid%5D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%7D%3B%0A%20%20%7D%2C%0A%0A%20%20afterRowAndColChange%3A%20function%28x%29%20%7B%0A%0A%20%20%20%20x%2EafterCreateRow%20%3D%20function%28ind%2C%20ct%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28HTMLWidgets%2EshinyMode%29%0A%20%20%20%20%20%20%20%20Shiny%2EonInputChange%28this%2ErootElement%2Eid%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20data%3A%20this%2EgetData%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20changes%3A%20%7B%20event%3A%20%22afterCreateRow%22%2C%20ind%3A%20ind%2C%20ct%3A%20ct%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20params%3A%20hotParams%5Bthis%2ErootElement%2Eid%5D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20x%2EafterRemoveRow%20%3D%20function%28ind%2C%20ct%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28HTMLWidgets%2EshinyMode%29%0A%20%20%20%20%20%20%20%20Shiny%2EonInputChange%28this%2ErootElement%2Eid%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20data%3A%20this%2EgetData%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20changes%3A%20%7B%20event%3A%20%22afterRemoveRow%22%2C%20ind%3A%20ind%2C%20ct%3A%20ct%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20params%3A%20hotParams%5Bthis%2ErootElement%2Eid%5D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20x%2EafterCreateCol%20%3D%20function%28ind%2C%20ct%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28HTMLWidgets%2EshinyMode%29%0A%20%20%20%20%20%20%20%20Shiny%2EonInputChange%28this%2ErootElement%2Eid%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20data%3A%20this%2EgetData%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20changes%3A%20%7B%20event%3A%20%22afterCreateCol%22%2C%20ind%3A%20ind%2C%20ct%3A%20ct%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20params%3A%20hotParams%5Bthis%2ErootElement%2Eid%5D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%20%20x%2EafterRemoveCol%20%3D%20function%28ind%2C%20ct%29%20%7B%0A%0A%20%20%20%20%20%20if%20%28HTMLWidgets%2EshinyMode%29%0A%20%20%20%20%20%20%20%20Shiny%2EonInputChange%28this%2ErootElement%2Eid%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20data%3A%20this%2EgetData%28%29%2C%0A%20%20%20%20%20%20%20%20%20%20changes%3A%20%7B%20event%3A%20%22afterRemoveCol%22%2C%20ind%3A%20ind%2C%20ct%3A%20ct%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20params%3A%20hotParams%5Bthis%2ErootElement%2Eid%5D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%7D%3B%0A%0A%20%20%7D%2C%0A%0A%20%20%2F%2F%20see%20http%3A%2F%2Fhandsontable%2Ecom%2Fdemo%2Fheatmaps%2Ehtml%0A%20%20updateHeatmap%3A%20function%28change%2C%20source%29%20%7B%0A%0A%20%20%20%20function%20generateHeatmapData%28colId%29%20%7B%0A%0A%20%20%20%20%20%20var%20values%20%3D%20this%2EgetDataAtCol%28colId%29%3B%0A%0A%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20min%3A%20Math%2Emin%2Eapply%28null%2C%20values%29%2C%0A%20%20%20%20%20%20%20%20max%3A%20Math%2Emax%2Eapply%28null%2C%20values%29%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20%28change%29%20%7B%0A%20%20%20%20%20%20this%2Eheatmap%5Bchange%5B0%5D%5B1%5D%5D%20%3D%20generateHeatmapData%2Ecall%28this%2C%20change%5B0%5D%5B1%5D%29%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20this%2Eheatmap%20%3D%20%5B%5D%3B%0A%0A%20%20%20%20%20%20for%28var%20i%20%3D%200%2C%20colCount%20%3D%20this%2EcountCols%28%29%3B%20i%20%3C%20colCount%20%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20%20%20this%2Eheatmap%5Bi%5D%20%3D%20generateHeatmapData%2Ecall%28this%2C%20i%29%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%7D%29%3B%0A%0Avar%20hotParams%20%3D%20%5B%5D%3B%0A%0A%2F%2F%20https%3A%2F%2Fstackoverflow%2Ecom%2Fquestions%2F22477612%2Fconverting%2Darray%2Dof%2Dobjects%2Dinto%2Darray%2Dof%2Darrays%0Afunction%20toArray%28input%29%20%7B%0A%20%20var%20result%20%3D%20input%2Emap%28function%28obj%29%20%7B%0A%20%20%20%20return%20Object%2Ekeys%28obj%29%2Emap%28function%28key%29%20%7B%0A%20%20%20%20%20%20return%20obj%5Bkey%5D%3B%0A%20%20%20%20%7D%29%3B%0A%20%20%7D%29%3B%0A%20%20return%20result%3B%0A%7D%0A%0A%2F%2F%20csv%20logic%20adapted%20from%20https%3A%2F%2Fgithub%2Ecom%2Fjuantascon%2Fjquery%2Dhandsontable%2Dcsv%0Afunction%20csvString%28instance%29%20%7B%0A%0A%20%20var%20headers%20%3D%20instance%2EgetColHeader%28%29%3B%0A%0A%20%20var%20csv%20%3D%20headers%2Ejoin%28%22%2C%22%29%20%2B%20%22%5Cn%22%3B%0A%0A%20%20for%20%28var%20i%20%3D%200%3B%20i%20%3C%20instance%2EcountRows%28%29%3B%20i%2B%2B%29%20%7B%0A%20%20%20%20%20%20var%20row%20%3D%20%5B%5D%3B%0A%20%20%20%20%20%20for%20%28var%20h%20in%20headers%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20var%20prop%20%3D%20instance%2EcolToProp%28h%29%0A%20%20%20%20%20%20%20%20%20%20var%20value%20%3D%20instance%2EgetDataAtRowProp%28i%2C%20prop%29%0A%20%20%20%20%20%20%20%20%20%20row%2Epush%28value%29%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20csv%20%2B%3D%20row%2Ejoin%28%22%2C%22%29%0A%20%20%20%20%20%20csv%20%2B%3D%20%22%5Cn%22%3B%0A%20%20%7D%0A%0A%20%20return%20csv%3B%0A%7D%0A%0Afunction%20csvDownload%28instance%2C%20filename%29%20%7B%0A%0A%20%20var%20csv%20%3D%20csvString%28instance%29%0A%0A%20%20var%20link%20%3D%20document%2EcreateElement%28%22a%22%29%3B%0A%20%20link%2EsetAttribute%28%22href%22%2C%20%22data%3Atext%2Fplain%3Bcharset%3Dutf%2D8%2C%22%20%2B%20encodeURIComponent%28csv%29%29%3B%0A%20%20link%2EsetAttribute%28%22download%22%2C%20filename%29%3B%0A%0A%20%20document%2Ebody%2EappendChild%28link%29%0A%20%20link%2Eclick%28%29%3B%0A%20%20document%2Ebody%2EremoveChild%28link%29%0A%7D%0A"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">rhandsontable Introduction</h1>
<h4 class="author"><em>Jonathan Owen</em></h4>
<h4 class="date"><em>2015-06-24</em></h4>
</div>


<p>rhandsontable is an htmlwidget based on the <a href="www.handsontable.com">handsontable.js</a> library.</p>
<blockquote>
<p>Handsontable is a data grid component with an Excel-like appearance. Built in JavaScript, it integrates with any data source with peak efficiency. It comes with powerful features like data validation, sorting, grouping, data binding, formula support or column ordering. (<a href="www.handsontable.com">via</a>)</p>
</blockquote>
<p>The data grid will be editable by default and can be used as input to a shiny app. A few shiny examples:</p>
<ul>
<li><a href="https://jrowen.shinyapps.io/rhandsontable_output">Output only</a></li>
<li><a href="https://jrowen.shinyapps.io/rhandsontable_portfolio">Calculation input</a></li>
<li><a href="https://jrowen.shinyapps.io/rhandsontable_corr">Table callback linked to chart</a></li>
<li><a href="https://jrowen.shinyapps.io/rhandsontable_datafile">Date file editor</a></li>
<li><a href="https://jrowen.shinyapps.io/rhandsontable_frontier">Multiple input tables</a></li>
</ul>
<p>The table includes support for numeric, logical, character and Date types. Logical values will appear as check boxes, and the <a href="https://github.com/dbushell/Pikaday">pikaday.js</a> library is used to specify Date values.</p>
<p>Right-clicking in a cell will enable a context menu that includes customizable table actions. For shiny apps, formatting and comment updates made via the context menu are not currently retained.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rhandsontable)

DF =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">val =</span> <span class="dv">1</span>:<span class="dv">10</span>, <span class="dt">bool =</span> <span class="ot">TRUE</span>, <span class="dt">big =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">small =</span> letters[<span class="dv">1</span>:<span class="dv">10</span>],
                <span class="dt">dt =</span> <span class="kw">seq</span>(<span class="dt">from =</span> <span class="kw">Sys.Date</span>(), <span class="dt">by =</span> <span class="st">&quot;days&quot;</span>, <span class="dt">length.out =</span> <span class="dv">10</span>),
                <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)

<span class="kw">rhandsontable</span>(DF, <span class="dt">rowHeaders =</span> <span class="ot">NULL</span>)</code></pre>
<p><div id="htmlwidget-3029" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-3029">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"06/24/2015"},{"val":2,"bool":true,"big":"B","small":"b","dt":"06/25/2015"},{"val":3,"bool":true,"big":"C","small":"c","dt":"06/26/2015"},{"val":4,"bool":true,"big":"D","small":"d","dt":"06/27/2015"},{"val":5,"bool":true,"big":"E","small":"e","dt":"06/28/2015"},{"val":6,"bool":true,"big":"F","small":"f","dt":"06/29/2015"},{"val":7,"bool":true,"big":"G","small":"g","dt":"06/30/2015"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/01/2015"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/02/2015"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/03/2015"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":null,"columns":[{"type":"text"},{"type":"checkbox"},{"type":"text"},{"type":"text"},{"type":"date"}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":false,"csvFileName":"download.csv"},"evals":[]}</script></p>
<p>To control character column values, the column type can be specified as <code>dropdown</code> or <code>autocomplete</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># try updating big to a value not in the dropdown</span>
<span class="kw">rhandsontable</span>(DF, <span class="dt">rowHeaders =</span> <span class="ot">NULL</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dt">col =</span> <span class="st">&quot;big&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;dropdown&quot;</span>, <span class="dt">source =</span> LETTERS) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="dt">col =</span> <span class="st">&quot;small&quot;</span>, <span class="dt">type =</span> <span class="st">&quot;autocomplete&quot;</span>, <span class="dt">source =</span> letters,
          <span class="dt">strict =</span> <span class="ot">FALSE</span>)</code></pre>
<p><div id="htmlwidget-5263" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-5263">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"06/24/2015"},{"val":2,"bool":true,"big":"B","small":"b","dt":"06/25/2015"},{"val":3,"bool":true,"big":"C","small":"c","dt":"06/26/2015"},{"val":4,"bool":true,"big":"D","small":"d","dt":"06/27/2015"},{"val":5,"bool":true,"big":"E","small":"e","dt":"06/28/2015"},{"val":6,"bool":true,"big":"F","small":"f","dt":"06/29/2015"},{"val":7,"bool":true,"big":"G","small":"g","dt":"06/30/2015"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/01/2015"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/02/2015"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/03/2015"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":null,"columns":[{"type":"text"},{"type":"checkbox"},{"type":"dropdown","source":["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]},{"type":"autocomplete","source":["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],"strict":false},{"type":"date"}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":false,"csvFileName":"download.csv"},"evals":[]}</script></p>
<p>A column can also be specified as a <code>password</code> type, and the whole table can to set to <code>readOnly</code> to prevent the user from making changes. Comments (hover) can also be added to individual cells and will appear as red flags in the upper right of the cell. Comments can also be added via the right-click context menu, but these updates will not currently be retained by shiny.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(DF, <span class="dt">readOnly =</span> <span class="ot">TRUE</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_col</span>(<span class="st">&quot;small&quot;</span>, <span class="st">&quot;password&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cell</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="st">&quot;Test comment&quot;</span>)</code></pre>
<p><div id="htmlwidget-5829" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-5829">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"06/24/2015"},{"val":2,"bool":true,"big":"B","small":"b","dt":"06/25/2015"},{"val":3,"bool":true,"big":"C","small":"c","dt":"06/26/2015"},{"val":4,"bool":true,"big":"D","small":"d","dt":"06/27/2015"},{"val":5,"bool":true,"big":"E","small":"e","dt":"06/28/2015"},{"val":6,"bool":true,"big":"F","small":"f","dt":"06/29/2015"},{"val":7,"bool":true,"big":"G","small":"g","dt":"06/30/2015"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/01/2015"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/02/2015"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/03/2015"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"text","readOnly":true},{"type":"checkbox","readOnly":true},{"type":"text","readOnly":true},{"type":"password","readOnly":true},{"type":"date","readOnly":true}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":true,"csvFileName":"download.csv","cell":[{"row":1,"col":1,"comment":"Test comment"}],"comments":true},"evals":[]}</script></p>
<p>Column sorting can be enabled; sorting only impacts the widget and will not reorder the original data set.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(DF) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">columnSorting =</span> <span class="ot">TRUE</span>)</code></pre>
<p><div id="htmlwidget-4627" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-4627">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"06/24/2015"},{"val":2,"bool":true,"big":"B","small":"b","dt":"06/25/2015"},{"val":3,"bool":true,"big":"C","small":"c","dt":"06/26/2015"},{"val":4,"bool":true,"big":"D","small":"d","dt":"06/27/2015"},{"val":5,"bool":true,"big":"E","small":"e","dt":"06/28/2015"},{"val":6,"bool":true,"big":"F","small":"f","dt":"06/29/2015"},{"val":7,"bool":true,"big":"G","small":"g","dt":"06/30/2015"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/01/2015"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/02/2015"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/03/2015"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"text"},{"type":"checkbox"},{"type":"text"},{"type":"text"},{"type":"date"}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":false,"csvFileName":"download.csv","columnSorting":true},"evals":[]}</script></p>
<p>With larger tables it my be desirable to highlight the row and column for a selected cell. By default a user can add or remove table rows and columns, but this functionality can be disabled.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(DF) %&gt;%
<span class="st">  </span><span class="kw">hot_table</span>(<span class="dt">highlightCol =</span> <span class="ot">TRUE</span>, <span class="dt">highlightRow =</span> <span class="ot">TRUE</span>,
            <span class="dt">allowRowEdit =</span> <span class="ot">FALSE</span>, <span class="dt">allowColEdit =</span> <span class="ot">FALSE</span>)</code></pre>
<p><div id="htmlwidget-8214" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-8214">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"06/24/2015"},{"val":2,"bool":true,"big":"B","small":"b","dt":"06/25/2015"},{"val":3,"bool":true,"big":"C","small":"c","dt":"06/26/2015"},{"val":4,"bool":true,"big":"D","small":"d","dt":"06/27/2015"},{"val":5,"bool":true,"big":"E","small":"e","dt":"06/28/2015"},{"val":6,"bool":true,"big":"F","small":"f","dt":"06/29/2015"},{"val":7,"bool":true,"big":"G","small":"g","dt":"06/30/2015"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/01/2015"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/02/2015"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/03/2015"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"text"},{"type":"checkbox"},{"type":"text"},{"type":"text"},{"type":"date"}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":false,"allowColEdit":false,"csvFileName":"download.csv","ishighlight":true,"currentRowClassName":"currentRow","currentColClassName":"currentCol"},"evals":[]}</script></p>
<p>Use the <code>exportToCsv</code> (experimental) parameter to enable a saving the table data to a csv using a right-click menu option.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(DF) %&gt;%
<span class="st">  </span><span class="kw">hot_table</span>(<span class="dt">exportToCsv =</span> <span class="ot">TRUE</span>)</code></pre>
<p><div id="htmlwidget-4261" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-4261">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"06/24/2015"},{"val":2,"bool":true,"big":"B","small":"b","dt":"06/25/2015"},{"val":3,"bool":true,"big":"C","small":"c","dt":"06/26/2015"},{"val":4,"bool":true,"big":"D","small":"d","dt":"06/27/2015"},{"val":5,"bool":true,"big":"E","small":"e","dt":"06/28/2015"},{"val":6,"bool":true,"big":"F","small":"f","dt":"06/29/2015"},{"val":7,"bool":true,"big":"G","small":"g","dt":"06/30/2015"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/01/2015"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/02/2015"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/03/2015"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"text"},{"type":"checkbox"},{"type":"text"},{"type":"text"},{"type":"date"}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":true,"csvFileName":"download.csv","exportToCsv":true},"evals":[]}</script></p>
<p>The <a href="http://old.driven-by-data.net/about/chromajs/">chroma.js</a> library can be used to turn the table into a heatmap.</p>
<pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">50</span>), <span class="dt">nrow =</span> <span class="dv">10</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>],
                                                   letters[<span class="dv">1</span>:<span class="dv">5</span>]))

<span class="kw">rhandsontable</span>(MAT) %&gt;%
<span class="st">  </span><span class="kw">hot_heatmap</span>()</code></pre>
<p><div id="htmlwidget-4248" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-4248">{"x":{"data":[[0.2264,0.702,0.0256,0.0183,-0.9184],[-0.6998,-0.8448,-0.0389,-0.1484,-0.1099],[-0.1051,0.3049,0.901,-0.0443,-0.5165],[0.6697,-1.3096,0.614,0.5621,0.2307],[-0.5651,-1.4556,0.7454,-0.8384,-0.5959],[-0.4474,-0.2001,0.2283,-1.5614,1.0933],[-0.2583,1.6954,0.965,0.0061,-2.6374],[-2.5924,2.3313,0.5897,-0.3651,-0.3567],[-1.539,0.5069,0.649,-0.534,-0.548],[1.1554,0.8418,-0.2661,0.214,1.1651]],"rClass":"matrix","rColClasses":"numeric","selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"text","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      "},{"type":"text","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      "},{"type":"text","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      "},{"type":"text","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      "},{"type":"text","renderer":"      function (instance, td, row, col, prop, value, cellProperties) {        Handsontable.renderers.TextRenderer.apply(this, arguments);        heatmapScale  = chroma.scale(['#ED6D47', '#17F556']);        if (instance.heatmap[col]) {          mn = instance.heatmap[col].min;          mx = instance.heatmap[col].max;          pt = (parseInt(value, 10) - mn) / (mx - mn);          td.style.backgroundColor = heatmapScale(pt).hex();        }      }      "}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":true,"csvFileName":"download.csv"},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer"]}</script></p>
<p>Column and row dimensions can be customized. For larger data sets, (multiple) top rows and left columns can be frozen.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(MAT, <span class="dt">width =</span> <span class="dv">300</span>, <span class="dt">height =</span> <span class="dv">150</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">colWidths =</span> <span class="dv">100</span>, <span class="dt">fixedColumnsLeft =</span> <span class="dv">1</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_rows</span>(<span class="dt">rowHeights =</span> <span class="dv">50</span>, <span class="dt">fixedRowsTop =</span> <span class="dv">1</span>)</code></pre>
<p><div id="htmlwidget-3950" style="width:300px;height:150px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-3950">{"x":{"data":[[0.2264,0.702,0.0256,0.0183,-0.9184],[-0.6998,-0.8448,-0.0389,-0.1484,-0.1099],[-0.1051,0.3049,0.901,-0.0443,-0.5165],[0.6697,-1.3096,0.614,0.5621,0.2307],[-0.5651,-1.4556,0.7454,-0.8384,-0.5959],[-0.4474,-0.2001,0.2283,-1.5614,1.0933],[-0.2583,1.6954,0.965,0.0061,-2.6374],[-2.5924,2.3313,0.5897,-0.3651,-0.3567],[-1.539,0.5069,0.649,-0.534,-0.548],[1.1554,0.8418,-0.2661,0.214,1.1651]],"rClass":"matrix","rColClasses":"numeric","selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"text"},{"type":"text"},{"type":"text"},{"type":"text"},{"type":"text"}],"width":300,"height":150,"contextMenu":true,"allowRowEdit":true,"allowColEdit":true,"csvFileName":"download.csv","colWidths":100,"fixedColumnsLeft":1,"rowHeights":50,"fixedRowsTop":1},"evals":[]}</script></p>
<p>It is also possible to group rows and columns.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(MAT) %&gt;%
<span class="st">  </span><span class="kw">hot_table</span>(<span class="dt">groups =</span> <span class="kw">list</span>(<span class="kw">list</span>(<span class="dt">cols =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>)),
                          <span class="kw">list</span>(<span class="dt">rows =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))))</code></pre>
<p><div id="htmlwidget-4448" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-4448">{"x":{"data":[[0.2264,0.702,0.0256,0.0183,-0.9184],[-0.6998,-0.8448,-0.0389,-0.1484,-0.1099],[-0.1051,0.3049,0.901,-0.0443,-0.5165],[0.6697,-1.3096,0.614,0.5621,0.2307],[-0.5651,-1.4556,0.7454,-0.8384,-0.5959],[-0.4474,-0.2001,0.2283,-1.5614,1.0933],[-0.2583,1.6954,0.965,0.0061,-2.6374],[-2.5924,2.3313,0.5897,-0.3651,-0.3567],[-1.539,0.5069,0.649,-0.534,-0.548],[1.1554,0.8418,-0.2661,0.214,1.1651]],"rClass":"matrix","rColClasses":"numeric","selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"text"},{"type":"text"},{"type":"text"},{"type":"text"},{"type":"text"}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":true,"csvFileName":"download.csv","groups":[{"cols":[0,1]},{"rows":[0,1]}]},"evals":[]}</script></p>
<p>Custom borders can be drawn around cells to highlight specific items. Borders can also be added via the right-click context menu, but these updates will not currently be retained by shiny.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(MAT) %&gt;%
<span class="st">  </span><span class="kw">hot_table</span>(<span class="dt">customBorders =</span> <span class="kw">list</span>(<span class="kw">list</span>(
    <span class="dt">range =</span> <span class="kw">list</span>(<span class="dt">from =</span> <span class="kw">list</span>(<span class="dt">row =</span> <span class="dv">1</span>, <span class="dt">col =</span> <span class="dv">1</span>),
                 <span class="dt">to =</span> <span class="kw">list</span>(<span class="dt">row =</span> <span class="dv">2</span>, <span class="dt">col =</span> <span class="dv">2</span>)),
    <span class="dt">top =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>),
    <span class="dt">left =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>),
    <span class="dt">bottom =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>),
    <span class="dt">right =</span> <span class="kw">list</span>(<span class="dt">width =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>))))</code></pre>
<p><div id="htmlwidget-6027" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-6027">{"x":{"data":[[0.2264,0.702,0.0256,0.0183,-0.9184],[-0.6998,-0.8448,-0.0389,-0.1484,-0.1099],[-0.1051,0.3049,0.901,-0.0443,-0.5165],[0.6697,-1.3096,0.614,0.5621,0.2307],[-0.5651,-1.4556,0.7454,-0.8384,-0.5959],[-0.4474,-0.2001,0.2283,-1.5614,1.0933],[-0.2583,1.6954,0.965,0.0061,-2.6374],[-2.5924,2.3313,0.5897,-0.3651,-0.3567],[-1.539,0.5069,0.649,-0.534,-0.548],[1.1554,0.8418,-0.2661,0.214,1.1651]],"rClass":"matrix","rColClasses":"numeric","selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"text"},{"type":"text"},{"type":"text"},{"type":"text"},{"type":"text"}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":true,"csvFileName":"download.csv","customBorders":[{"range":{"from":{"row":1,"col":1},"to":{"row":2,"col":2}},"top":{"width":2,"color":"red"},"left":{"width":2,"color":"red"},"bottom":{"width":2,"color":"red"},"right":{"width":2,"color":"red"}}]},"evals":[]}</script></p>
<p>Pre-defined validation can be added for numeric columns in two ways:</p>
<ul>
<li>specify a min and max and any values within the range to exclude</li>
<li>similar to a <code>dropdown</code> column, specify allowed values</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(MAT *<span class="st"> </span><span class="dv">10</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_validate_numeric</span>(<span class="dt">col =</span> <span class="dv">1</span>, <span class="dt">min =</span> -<span class="dv">50</span>, <span class="dt">max =</span> <span class="dv">50</span>, <span class="dt">exclude =</span> <span class="dv">40</span>)</code></pre>
<p><div id="htmlwidget-802" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-802">{"x":{"data":[[2.2641,7.0196,0.2563,0.183,-9.1842],[-6.9979,-8.4482,-0.3889,-1.4844,-1.0995],[-1.0511,3.0487,9.0097,-0.4429,-5.1647],[6.6969,-13.096,6.1402,5.621,2.3072],[-5.6506,-14.5556,7.4541,-8.3844,-5.9592],[-4.4742,-2.0012,2.283,-15.6141,10.9326],[-2.5827,16.9538,9.6498,0.0613,-26.3739],[-25.924,23.313,5.8974,-3.6509,-3.5668],[-15.3897,5.0692,6.4903,-5.3395,-5.4799],[11.5542,8.4183,-2.6613,2.1402,11.6507]],"rClass":"matrix","rColClasses":"numeric","selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"text","validator":"function (value, callback) {\n         setTimeout(function(){\n           if (isNaN(parseFloat(value))) {\n             callback(false);\n           }\n           if (['40'].indexOf(value) > -1) { callback(false); }\n           if (value < -50) { callback(false); }\n           if (value > 50) { callback(false); }\n           \n           callback(true);\n         }, 500)\n       }","allowInvalid":false},{"type":"text"},{"type":"text"},{"type":"text"},{"type":"text"}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":true,"csvFileName":"download.csv"},"evals":["columns.0.validator"]}</script></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(MAT *<span class="st"> </span><span class="dv">10</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_validate_numeric</span>(<span class="dt">col =</span> <span class="dv">1</span>, <span class="dt">choices =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">40</span>))</code></pre>
<p><div id="htmlwidget-4461" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-4461">{"x":{"data":[[2.2641,7.0196,0.2563,0.183,-9.1842],[-6.9979,-8.4482,-0.3889,-1.4844,-1.0995],[-1.0511,3.0487,9.0097,-0.4429,-5.1647],[6.6969,-13.096,6.1402,5.621,2.3072],[-5.6506,-14.5556,7.4541,-8.3844,-5.9592],[-4.4742,-2.0012,2.283,-15.6141,10.9326],[-2.5827,16.9538,9.6498,0.0613,-26.3739],[-25.924,23.313,5.8974,-3.6509,-3.5668],[-15.3897,5.0692,6.4903,-5.3395,-5.4799],[11.5542,8.4183,-2.6613,2.1402,11.6507]],"rClass":"matrix","rColClasses":"numeric","selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"text","validator":"function (value, callback) {\n         setTimeout(function(){\n           if (isNaN(parseFloat(value))) {\n             callback(false);\n           }\n           \n           \n           \n           if (['10','20','40'].indexOf(value) == -1) { callback(false); }\n           callback(true);\n         }, 500)\n       }","allowInvalid":false},{"type":"text"},{"type":"text"},{"type":"text"},{"type":"text"}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":true,"csvFileName":"download.csv"},"evals":["columns.0.validator"]}</script></p>
<p>For character columns, a vector of allowed options can be specified. A more user-friendly approach may be to use a <code>dropdown</code> column with <code>strict = TRUE</code>.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rhandsontable</span>(DF) %&gt;%
<span class="st">  </span><span class="kw">hot_validate_character</span>(<span class="dt">col =</span> <span class="st">&quot;big&quot;</span>, <span class="dt">choices =</span> LETTERS[<span class="dv">1</span>:<span class="dv">10</span>])</code></pre>
<p><div id="htmlwidget-7584" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-7584">{"x":{"data":[{"val":1,"bool":true,"big":"A","small":"a","dt":"06/24/2015"},{"val":2,"bool":true,"big":"B","small":"b","dt":"06/25/2015"},{"val":3,"bool":true,"big":"C","small":"c","dt":"06/26/2015"},{"val":4,"bool":true,"big":"D","small":"d","dt":"06/27/2015"},{"val":5,"bool":true,"big":"E","small":"e","dt":"06/28/2015"},{"val":6,"bool":true,"big":"F","small":"f","dt":"06/29/2015"},{"val":7,"bool":true,"big":"G","small":"g","dt":"06/30/2015"},{"val":8,"bool":true,"big":"H","small":"h","dt":"07/01/2015"},{"val":9,"bool":true,"big":"I","small":"i","dt":"07/02/2015"},{"val":10,"bool":true,"big":"J","small":"j","dt":"07/03/2015"}],"rClass":"data.frame","rColClasses":{"val":"integer","bool":"logical","big":"character","small":"character","dt":"Date"},"selectCallback":false,"colHeaders":["val","bool","big","small","dt"],"rowHeaders":["1","2","3","4","5","6","7","8","9","10"],"columns":[{"type":"text"},{"type":"checkbox"},{"type":"text","validator":"function (value, callback) {\n         setTimeout(function() {\n           if (typeof(value) != 'string') {\n             callback(false);\n           }\n           if (['A','B','C','D','E','F','G','H','I','J'].indexOf(value) > -1) { callback(true); }\n           callback(false);\n         }, 500)\n       }","allowInvalid":false},{"type":"text"},{"type":"date"}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":false,"csvFileName":"download.csv"},"evals":["columns.2.validator"]}</script></p>
<p>It is also possible to create a custom validation function in JavaScript.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># try to update any cell to 0</span>
<span class="kw">rhandsontable</span>(MAT *<span class="st"> </span><span class="dv">10</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">validator =</span> <span class="st">&quot;</span>
<span class="st">    function (value, callback) {</span>
<span class="st">      setTimeout(function(){</span>
<span class="st">        callback(value != 0);</span>
<span class="st">      }, 1000)</span>
<span class="st">    }&quot;</span>,
           <span class="dt">allowInvalid =</span> <span class="ot">FALSE</span>)</code></pre>
<p><div id="htmlwidget-8371" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-8371">{"x":{"data":[[2.2641,7.0196,0.2563,0.183,-9.1842],[-6.9979,-8.4482,-0.3889,-1.4844,-1.0995],[-1.0511,3.0487,9.0097,-0.4429,-5.1647],[6.6969,-13.096,6.1402,5.621,2.3072],[-5.6506,-14.5556,7.4541,-8.3844,-5.9592],[-4.4742,-2.0012,2.283,-15.6141,10.9326],[-2.5827,16.9538,9.6498,0.0613,-26.3739],[-25.924,23.313,5.8974,-3.6509,-3.5668],[-15.3897,5.0692,6.4903,-5.3395,-5.4799],[11.5542,8.4183,-2.6613,2.1402,11.6507]],"rClass":"matrix","rColClasses":"numeric","selectCallback":false,"colHeaders":["a","b","c","d","e"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"text","validator":"\n    function (value, callback) {\n      setTimeout(function(){\n        callback(value != 0);\n      }, 1000)\n    }","allowInvalid":false},{"type":"text","validator":"\n    function (value, callback) {\n      setTimeout(function(){\n        callback(value != 0);\n      }, 1000)\n    }","allowInvalid":false},{"type":"text","validator":"\n    function (value, callback) {\n      setTimeout(function(){\n        callback(value != 0);\n      }, 1000)\n    }","allowInvalid":false},{"type":"text","validator":"\n    function (value, callback) {\n      setTimeout(function(){\n        callback(value != 0);\n      }, 1000)\n    }","allowInvalid":false},{"type":"text","validator":"\n    function (value, callback) {\n      setTimeout(function(){\n        callback(value != 0);\n      }, 1000)\n    }","allowInvalid":false}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":true,"csvFileName":"download.csv"},"evals":["columns.0.validator","columns.1.validator","columns.2.validator","columns.3.validator","columns.4.validator"]}</script></p>
<p>Conditional formatting can also be specified via custom JavaScript function.</p>
<pre class="sourceCode r"><code class="sourceCode r">MAT =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">runif</span>(<span class="dv">100</span>, -<span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">nrow =</span> <span class="dv">10</span>,
             <span class="dt">dimnames =</span> <span class="kw">list</span>(LETTERS[<span class="dv">1</span>:<span class="dv">10</span>], LETTERS[<span class="dv">1</span>:<span class="dv">10</span>]))
<span class="kw">diag</span>(MAT) =<span class="st"> </span><span class="dv">1</span>
MAT[<span class="kw">upper.tri</span>(MAT)] =<span class="st"> </span>MAT[<span class="kw">lower.tri</span>(MAT)]
<span class="kw">rhandsontable</span>(MAT, <span class="dt">readOnly =</span> <span class="ot">TRUE</span>) %&gt;%
<span class="st">  </span><span class="kw">hot_cols</span>(<span class="dt">renderer =</span> <span class="st">&quot;</span>
<span class="st">    function (instance, td, row, col, prop, value, cellProperties) {</span>
<span class="st">      Handsontable.renderers.TextRenderer.apply(this, arguments);</span>
<span class="st">      if (row == col) {</span>
<span class="st">        td.style.background = 'lightgrey';</span>
<span class="st">      } else if (col &gt; row) {</span>
<span class="st">        td.style.background = 'grey';</span>
<span class="st">        td.style.color = 'grey';</span>
<span class="st">      } else if (value &lt; -0.75) {</span>
<span class="st">        td.style.background = 'pink';</span>
<span class="st">      } else if (value &gt; 0.75) {</span>
<span class="st">        td.style.background = 'lightgreen';</span>
<span class="st">      }</span>
<span class="st">    }&quot;</span>)</code></pre>
<p><div id="htmlwidget-6274" style="width:288px;height:288px;" class="rhandsontable"></div>
<script type="application/json" data-for="htmlwidget-6274">{"x":{"data":[[1,-0.8298,0.2001,0.3928,0.9097,0.2295,0.1342,-0.6474,0.9524,-0.6991],[-0.8298,1,-0.687,-0.9109,-0.0264,-0.1832,-0.1127,-0.5711,-0.9533,0.0938],[0.2001,0.5857,1,-0.2383,-0.1967,-0.4171,0.4921,-0.9118,0.3626,0.3721],[-0.687,0.2295,0.4921,1,0.5857,-0.0215,-0.9,0.1468,0.3166,0.5575],[0.3928,-0.1832,-0.9,0.1468,1,0.4015,-0.8551,-0.4913,-0.3665,-0.9339],[-0.9109,-0.4171,-0.8551,-0.4913,0.3626,1,0.3424,0.9984,-0.7523,-0.2615],[-0.2383,-0.0215,0.3424,0.9984,0.3166,-0.5786,1,-0.8769,0.7433,-0.7183],[0.9097,0.4015,-0.6474,-0.8769,-0.3665,-0.6991,0.5575,1,-0.5786,-0.895],[-0.0264,0.1342,-0.5711,0.9524,-0.7523,0.0938,-0.9339,-0.7183,1,0.9627],[-0.1967,-0.1127,-0.9118,-0.9533,0.7433,0.3721,-0.2615,-0.895,0.9627,1]],"rClass":"matrix","rColClasses":"numeric","selectCallback":false,"colHeaders":["A","B","C","D","E","F","G","H","I","J"],"rowHeaders":["A","B","C","D","E","F","G","H","I","J"],"columns":[{"type":"text","readOnly":true,"renderer":"\n    function (instance, td, row, col, prop, value, cellProperties) {\n      Handsontable.renderers.TextRenderer.apply(this, arguments);\n      if (row == col) {\n        td.style.background = 'lightgrey';\n      } else if (col > row) {\n        td.style.background = 'grey';\n        td.style.color = 'grey';\n      } else if (value < -0.75) {\n        td.style.background = 'pink';\n      } else if (value > 0.75) {\n        td.style.background = 'lightgreen';\n      }\n    }"},{"type":"text","readOnly":true,"renderer":"\n    function (instance, td, row, col, prop, value, cellProperties) {\n      Handsontable.renderers.TextRenderer.apply(this, arguments);\n      if (row == col) {\n        td.style.background = 'lightgrey';\n      } else if (col > row) {\n        td.style.background = 'grey';\n        td.style.color = 'grey';\n      } else if (value < -0.75) {\n        td.style.background = 'pink';\n      } else if (value > 0.75) {\n        td.style.background = 'lightgreen';\n      }\n    }"},{"type":"text","readOnly":true,"renderer":"\n    function (instance, td, row, col, prop, value, cellProperties) {\n      Handsontable.renderers.TextRenderer.apply(this, arguments);\n      if (row == col) {\n        td.style.background = 'lightgrey';\n      } else if (col > row) {\n        td.style.background = 'grey';\n        td.style.color = 'grey';\n      } else if (value < -0.75) {\n        td.style.background = 'pink';\n      } else if (value > 0.75) {\n        td.style.background = 'lightgreen';\n      }\n    }"},{"type":"text","readOnly":true,"renderer":"\n    function (instance, td, row, col, prop, value, cellProperties) {\n      Handsontable.renderers.TextRenderer.apply(this, arguments);\n      if (row == col) {\n        td.style.background = 'lightgrey';\n      } else if (col > row) {\n        td.style.background = 'grey';\n        td.style.color = 'grey';\n      } else if (value < -0.75) {\n        td.style.background = 'pink';\n      } else if (value > 0.75) {\n        td.style.background = 'lightgreen';\n      }\n    }"},{"type":"text","readOnly":true,"renderer":"\n    function (instance, td, row, col, prop, value, cellProperties) {\n      Handsontable.renderers.TextRenderer.apply(this, arguments);\n      if (row == col) {\n        td.style.background = 'lightgrey';\n      } else if (col > row) {\n        td.style.background = 'grey';\n        td.style.color = 'grey';\n      } else if (value < -0.75) {\n        td.style.background = 'pink';\n      } else if (value > 0.75) {\n        td.style.background = 'lightgreen';\n      }\n    }"},{"type":"text","readOnly":true,"renderer":"\n    function (instance, td, row, col, prop, value, cellProperties) {\n      Handsontable.renderers.TextRenderer.apply(this, arguments);\n      if (row == col) {\n        td.style.background = 'lightgrey';\n      } else if (col > row) {\n        td.style.background = 'grey';\n        td.style.color = 'grey';\n      } else if (value < -0.75) {\n        td.style.background = 'pink';\n      } else if (value > 0.75) {\n        td.style.background = 'lightgreen';\n      }\n    }"},{"type":"text","readOnly":true,"renderer":"\n    function (instance, td, row, col, prop, value, cellProperties) {\n      Handsontable.renderers.TextRenderer.apply(this, arguments);\n      if (row == col) {\n        td.style.background = 'lightgrey';\n      } else if (col > row) {\n        td.style.background = 'grey';\n        td.style.color = 'grey';\n      } else if (value < -0.75) {\n        td.style.background = 'pink';\n      } else if (value > 0.75) {\n        td.style.background = 'lightgreen';\n      }\n    }"},{"type":"text","readOnly":true,"renderer":"\n    function (instance, td, row, col, prop, value, cellProperties) {\n      Handsontable.renderers.TextRenderer.apply(this, arguments);\n      if (row == col) {\n        td.style.background = 'lightgrey';\n      } else if (col > row) {\n        td.style.background = 'grey';\n        td.style.color = 'grey';\n      } else if (value < -0.75) {\n        td.style.background = 'pink';\n      } else if (value > 0.75) {\n        td.style.background = 'lightgreen';\n      }\n    }"},{"type":"text","readOnly":true,"renderer":"\n    function (instance, td, row, col, prop, value, cellProperties) {\n      Handsontable.renderers.TextRenderer.apply(this, arguments);\n      if (row == col) {\n        td.style.background = 'lightgrey';\n      } else if (col > row) {\n        td.style.background = 'grey';\n        td.style.color = 'grey';\n      } else if (value < -0.75) {\n        td.style.background = 'pink';\n      } else if (value > 0.75) {\n        td.style.background = 'lightgreen';\n      }\n    }"},{"type":"text","readOnly":true,"renderer":"\n    function (instance, td, row, col, prop, value, cellProperties) {\n      Handsontable.renderers.TextRenderer.apply(this, arguments);\n      if (row == col) {\n        td.style.background = 'lightgrey';\n      } else if (col > row) {\n        td.style.background = 'grey';\n        td.style.color = 'grey';\n      } else if (value < -0.75) {\n        td.style.background = 'pink';\n      } else if (value > 0.75) {\n        td.style.background = 'lightgreen';\n      }\n    }"}],"width":null,"height":null,"contextMenu":true,"allowRowEdit":true,"allowColEdit":true,"csvFileName":"download.csv"},"evals":["columns.0.renderer","columns.1.renderer","columns.2.renderer","columns.3.renderer","columns.4.renderer","columns.5.renderer","columns.6.renderer","columns.7.renderer","columns.8.renderer","columns.9.renderer"]}</script></p>
<p>Please file a issue if you experience any problems with the widget or have feature requests. Pull requests are also welcome.</p>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
